var u6=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import"./tabler.esm-17eb6a54.js";import"./popper-528ebbd5.js";var ere=u6((rre,Nx)=>{var ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),i}var zx={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */zx.exports;(function(e,t){(function(){var i,r="4.17.21",o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",s="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",I=500,J="__lodash_placeholder__",M=1,B=2,W=4,O=1,L=2,G=1,k=2,S=4,A=8,H=16,U=32,E=64,ie=128,ee=256,$=512,V=30,j="...",w=800,D=16,m=1,g=2,x=3,P=1/0,X=9007199254740991,Y=17976931348623157e292,K=0/0,le=4294967295,pe=le-1,fe=le>>>1,z=[["ary",ie],["bind",G],["bindKey",k],["curry",A],["curryRight",H],["flip",$],["partial",U],["partialRight",E],["rearg",ee]],Q="[object Arguments]",se="[object Array]",de="[object AsyncFunction]",Ce="[object Boolean]",ne="[object Date]",ve="[object DOMException]",_e="[object Error]",oe="[object Function]",ge="[object GeneratorFunction]",Te="[object Map]",Re="[object Number]",Le="[object Null]",$e="[object Object]",nt="[object Promise]",Qe="[object Proxy]",We="[object RegExp]",xe="[object Set]",Ie="[object String]",Be="[object Symbol]",Xe="[object Undefined]",Ze="[object WeakMap]",ft="[object WeakSet]",Ct="[object ArrayBuffer]",Nt="[object DataView]",pi="[object Float32Array]",qt="[object Float64Array]",fi="[object Int8Array]",Gi="[object Int16Array]",dt="[object Int32Array]",Lt="[object Uint8Array]",ei="[object Uint8ClampedArray]",ki="[object Uint16Array]",on="[object Uint32Array]",Rn=/\b__p \+= '';/g,Gr=/\b(__p \+=) '' \+/g,di=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hi=/&(?:amp|lt|gt|quot|#39);/g,Yi=/[&<>"']/g,fr=RegExp(Hi.source),As=RegExp(Yi.source),xn=/<%-([\s\S]+?)%>/g,Us=/<%([\s\S]+?)%>/g,Pn=/<%=([\s\S]+?)%>/g,Wo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ya=/^\w*$/,mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ze=/[\\^$.*+?()[\]{}|]/g,Ye=RegExp(ze.source),ut=/^\s+/,xt=/\s/,vt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ut=/\{\n\/\* \[wrapped with (.+)\] \*/,kt=/,? & /,Rt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gt=/[()=,{}\[\]\/\s]/,bi=/\\(\\)?/g,Xi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ii=/\w*$/,Mn=/^[-+]0x[0-9a-f]+$/i,Cn=/^0b[01]+$/i,pn=/^\[object .+?Constructor\]$/,qi=/^0o[0-7]+$/i,cr=/^(?:0|[1-9]\d*)$/,Dr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vn=/($^)/,Xr=/['\n\r\u2028\u2029\\]/g,Rr="\\ud800-\\udfff",Ha="\\u0300-\\u036f",Wa="\\ufe20-\\ufe2f",vo="\\u20d0-\\u20ff",yi=Ha+Wa+vo,ps="\\u2700-\\u27bf",Rs="a-z\\xdf-\\xf6\\xf8-\\xff",Bs="\\xac\\xb1\\xd7\\xf7",wc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Io="\\u2000-\\u206f",Jc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ld="A-Z\\xc0-\\xd6\\xd8-\\xde",fo="\\ufe0e\\ufe0f",en=Bs+wc+Io+Jc,ir="['’]",ur="["+Rr+"]",ra="["+en+"]",Ya="["+yi+"]",jn="\\d+",Tc="["+ps+"]",Aa="["+Rs+"]",ol="[^"+Rr+en+jn+ps+Rs+ld+"]",ro="\\ud83c[\\udffb-\\udfff]",Hr="(?:"+Ya+"|"+ro+")",mo="[^"+Rr+"]",Yo="(?:\\ud83c[\\udde6-\\uddff]){2}",Yl="[\\ud800-\\udbff][\\udc00-\\udfff]",_a="["+ld+"]",bl="\\u200d",wl="(?:"+Aa+"|"+ol+")",al="(?:"+_a+"|"+ol+")",Tl="(?:"+ir+"(?:d|ll|m|re|s|t|ve))?",Qc="(?:"+ir+"(?:D|LL|M|RE|S|T|VE))?",eu=Hr+"?",Fo="["+fo+"]?",Ps="(?:"+bl+"(?:"+[mo,Yo,Yl].join("|")+")"+Fo+eu+")*",ql="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ll="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",so=Fo+eu+Ps,va="(?:"+[Tc,Yo,Yl].join("|")+")"+so,Rd="(?:"+[mo+Ya+"?",Ya,Yo,Yl,ur].join("|")+")",Mu=RegExp(ir,"g"),Js=RegExp(Ya,"g"),Xl=RegExp(ro+"(?="+ro+")|"+Rd+so,"g"),ku=RegExp([_a+"?"+Aa+"+"+Tl+"(?="+[ra,_a,"$"].join("|")+")",al+"+"+Qc+"(?="+[ra,_a+wl,"$"].join("|")+")",_a+"?"+wl+"+"+Tl,_a+"+"+Qc,ll,ql,jn,va].join("|"),"g"),Zl=RegExp("["+bl+Rr+yi+fo+"]"),oo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Au=-1,Lr={};Lr[pi]=Lr[qt]=Lr[fi]=Lr[Gi]=Lr[dt]=Lr[Lt]=Lr[ei]=Lr[ki]=Lr[on]=!0,Lr[Q]=Lr[se]=Lr[Ct]=Lr[Ce]=Lr[Nt]=Lr[ne]=Lr[_e]=Lr[oe]=Lr[Te]=Lr[Re]=Lr[$e]=Lr[We]=Lr[xe]=Lr[Ie]=Lr[Ze]=!1;var Fr={};Fr[Q]=Fr[se]=Fr[Ct]=Fr[Nt]=Fr[Ce]=Fr[ne]=Fr[pi]=Fr[qt]=Fr[fi]=Fr[Gi]=Fr[dt]=Fr[Te]=Fr[Re]=Fr[$e]=Fr[We]=Fr[xe]=Fr[Ie]=Fr[Be]=Fr[Lt]=Fr[ei]=Fr[ki]=Fr[on]=!0,Fr[_e]=Fr[oe]=Fr[Ze]=!1;var Pu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Bd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tu=parseFloat,Du=parseInt,Kl=typeof ja=="object"&&ja&&ja.Object===Object&&ja,sa=typeof self=="object"&&self&&self.Object===Object&&self,Qs=Kl||sa||Function("return this")(),Z=t&&!t.nodeType&&t,ue=Z&&!0&&e&&!e.nodeType&&e,be=ue&&ue.exports===Z,ke=be&&Kl.process,Ue=function(){try{var Ht=ue&&ue.require&&ue.require("util").types;return Ht||ke&&ke.binding&&ke.binding("util")}catch{}}(),Ge=Ue&&Ue.isArrayBuffer,Je=Ue&&Ue.isDate,zt=Ue&&Ue.isMap,Mt=Ue&&Ue.isRegExp,Jt=Ue&&Ue.isSet,_i=Ue&&Ue.isTypedArray;function Pi(Ht,wi,gi){switch(gi.length){case 0:return Ht.call(wi);case 1:return Ht.call(wi,gi[0]);case 2:return Ht.call(wi,gi[0],gi[1]);case 3:return Ht.call(wi,gi[0],gi[1],gi[2])}return Ht.apply(wi,gi)}function ai(Ht,wi,gi,mn){for(var Jn=-1,Br=Ht==null?0:Ht.length;++Jn<Br;){var $s=Ht[Jn];wi(mn,$s,gi($s),Ht)}return mn}function mi(Ht,wi){for(var gi=-1,mn=Ht==null?0:Ht.length;++gi<mn&&wi(Ht[gi],gi,Ht)!==!1;);return Ht}function Ji(Ht,wi){for(var gi=Ht==null?0:Ht.length;gi--&&wi(Ht[gi],gi,Ht)!==!1;);return Ht}function Xn(Ht,wi){for(var gi=-1,mn=Ht==null?0:Ht.length;++gi<mn;)if(!wi(Ht[gi],gi,Ht))return!1;return!0}function fn(Ht,wi){for(var gi=-1,mn=Ht==null?0:Ht.length,Jn=0,Br=[];++gi<mn;){var $s=Ht[gi];wi($s,gi,Ht)&&(Br[Jn++]=$s)}return Br}function fs(Ht,wi){var gi=Ht==null?0:Ht.length;return!!gi&&Kn(Ht,wi,0)>-1}function Qr(Ht,wi,gi){for(var mn=-1,Jn=Ht==null?0:Ht.length;++mn<Jn;)if(gi(wi,Ht[mn]))return!0;return!1}function gr(Ht,wi){for(var gi=-1,mn=Ht==null?0:Ht.length,Jn=Array(mn);++gi<mn;)Jn[gi]=wi(Ht[gi],gi,Ht);return Jn}function yr(Ht,wi){for(var gi=-1,mn=wi.length,Jn=Ht.length;++gi<mn;)Ht[Jn+gi]=wi[gi];return Ht}function Yn(Ht,wi,gi,mn){var Jn=-1,Br=Ht==null?0:Ht.length;for(mn&&Br&&(gi=Ht[++Jn]);++Jn<Br;)gi=wi(gi,Ht[Jn],Jn,Ht);return gi}function ao(Ht,wi,gi,mn){var Jn=Ht==null?0:Ht.length;for(mn&&Jn&&(gi=Ht[--Jn]);Jn--;)gi=wi(gi,Ht[Jn],Jn,Ht);return gi}function vr(Ht,wi){for(var gi=-1,mn=Ht==null?0:Ht.length;++gi<mn;)if(wi(Ht[gi],gi,Ht))return!0;return!1}var es=ba("length");function qa(Ht){return Ht.split("")}function Jl(Ht){return Ht.match(Rt)||[]}function lo(Ht,wi,gi){var mn;return gi(Ht,function(Jn,Br,$s){if(wi(Jn,Br,$s))return mn=Br,!1}),mn}function oa(Ht,wi,gi,mn){for(var Jn=Ht.length,Br=gi+(mn?1:-1);mn?Br--:++Br<Jn;)if(wi(Ht[Br],Br,Ht))return Br;return-1}function Kn(Ht,wi,gi){return wi===wi?Ec(Ht,wi,gi):oa(Ht,aa,gi)}function xo(Ht,wi,gi,mn){for(var Jn=gi-1,Br=Ht.length;++Jn<Br;)if(mn(Ht[Jn],wi))return Jn;return-1}function aa(Ht){return Ht!==Ht}function jo(Ht,wi){var gi=Ht==null?0:Ht.length;return gi?jr(Ht,wi)/gi:K}function ba(Ht){return function(wi){return wi==null?i:wi[Ht]}}function Ql(Ht){return function(wi){return Ht==null?i:Ht[wi]}}function cl(Ht,wi,gi,mn,Jn){return Jn(Ht,function(Br,$s,Ur){gi=mn?(mn=!1,Br):wi(gi,Br,$s,Ur)}),gi}function Iu(Ht,wi){var gi=Ht.length;for(Ht.sort(wi);gi--;)Ht[gi]=Ht[gi].value;return Ht}function jr(Ht,wi){for(var gi,mn=-1,Jn=Ht.length;++mn<Jn;){var Br=wi(Ht[mn]);Br!==i&&(gi=gi===i?Br:gi+Br)}return gi}function wa(Ht,wi){for(var gi=-1,mn=Array(Ht);++gi<Ht;)mn[gi]=wi(gi);return mn}function iu(Ht,wi){return gr(wi,function(gi){return[gi,Ht[gi]]})}function ec(Ht){return Ht&&Ht.slice(0,wo(Ht)+1).replace(ut,"")}function Uo(Ht){return function(wi){return Ht(wi)}}function tc(Ht,wi){return gr(wi,function(gi){return Ht[gi]})}function Sc(Ht,wi){return Ht.has(wi)}function ud(Ht,wi){for(var gi=-1,mn=Ht.length;++gi<mn&&Kn(wi,Ht[gi],0)>-1;);return gi}function ic(Ht,wi){for(var gi=Ht.length;gi--&&Kn(wi,Ht[gi],0)>-1;);return gi}function nc(Ht,wi){for(var gi=Ht.length,mn=0;gi--;)Ht[gi]===wi&&++mn;return mn}var Nd=Ql(Pu),rc=Ql(Bd);function dd(Ht){return"\\"+xa[Ht]}function Pa(Ht,wi){return Ht==null?i:Ht[wi]}function Da(Ht){return Zl.test(Ht)}function sc(Ht){return oo.test(Ht)}function Lu(Ht){for(var wi,gi=[];!(wi=Ht.next()).done;)gi.push(wi.value);return gi}function Cc(Ht){var wi=-1,gi=Array(Ht.size);return Ht.forEach(function(mn,Jn){gi[++wi]=[Jn,mn]}),gi}function la(Ht,wi){return function(gi){return Ht(wi(gi))}}function bo(Ht,wi){for(var gi=-1,mn=Ht.length,Jn=0,Br=[];++gi<mn;){var $s=Ht[gi];($s===wi||$s===J)&&(Ht[gi]=J,Br[Jn++]=gi)}return Br}function Cl(Ht){var wi=-1,gi=Array(Ht.size);return Ht.forEach(function(mn){gi[++wi]=mn}),gi}function oc(Ht){var wi=-1,gi=Array(Ht.size);return Ht.forEach(function(mn){gi[++wi]=[mn,mn]}),gi}function Ec(Ht,wi,gi){for(var mn=gi-1,Jn=Ht.length;++mn<Jn;)if(Ht[mn]===wi)return mn;return-1}function wh(Ht,wi,gi){for(var mn=gi+1;mn--;)if(Ht[mn]===wi)return mn;return mn}function wr(Ht){return Da(Ht)?El(Ht):es(Ht)}function qo(Ht){return Da(Ht)?zd(Ht):qa(Ht)}function wo(Ht){for(var wi=Ht.length;wi--&&xt.test(Ht.charAt(wi)););return wi}var ca=Ql(cd);function El(Ht){for(var wi=Xl.lastIndex=0;Xl.test(Ht);)++wi;return wi}function zd(Ht){return Ht.match(Xl)||[]}function Fd(Ht){return Ht.match(ku)||[]}var jd=function Ht(wi){wi=wi==null?Qs:Xo.defaults(Qs.Object(),wi,Xo.pick(Qs,Sl));var gi=wi.Array,mn=wi.Date,Jn=wi.Error,Br=wi.Function,$s=wi.Math,Ur=wi.Object,Mc=wi.RegExp,Ou=wi.String,Zo=wi.TypeError,st=gi.prototype,Pt=Br.prototype,$t=Ur.prototype,Ti=wi["__core-js_shared__"],Wt=Pt.toString,ci=$t.hasOwnProperty,Li=0,an=function(){var y=/[^.]+$/.exec(Ti&&Ti.keys&&Ti.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),Ni=$t.toString,Nn=Wt.call(Ur),Un=Qs._,Vn=Mc("^"+Wt.call(ci).replace(ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nr=be?wi.Buffer:i,Mr=wi.Symbol,On=wi.Uint8Array,we=nr?nr.allocUnsafe:i,Ee=la(Ur.getPrototypeOf,Ur),Ve=Ur.create,bt=$t.propertyIsEnumerable,Mi=st.splice,Tn=Mr?Mr.isConcatSpreadable:i,Tr=Mr?Mr.iterator:i,co=Mr?Mr.toStringTag:i,Vs=function(){try{var y=Lh(Ur,"defineProperty");return y({},"",{}),y}catch{}}(),Ml=wi.clearTimeout!==Qs.clearTimeout&&wi.clearTimeout,ln=mn&&mn.now!==Qs.Date.now&&mn.now,kl=wi.setTimeout!==Qs.setTimeout&&wi.setTimeout,Ru=$s.ceil,Th=$s.floor,vp=Ur.getOwnPropertySymbols,Ud=nr?nr.isBuffer:i,Rf=wi.isFinite,xp=st.join,$d=la(Ur.keys,Ur),Gs=$s.max,ms=$s.min,Sh=mn.now,Vd=wi.parseInt,um=$s.random,Qg=st.reverse,bp=Lh(wi,"DataView"),kc=Lh(wi,"Map"),Ch=Lh(wi,"Promise"),nu=Lh(wi,"Set"),Gd=Lh(wi,"WeakMap"),Bu=Lh(Ur,"create"),Nu=Gd&&new Gd,hd={},Bf=du(bp),Nf=du(kc),dm=du(Ch),wp=du(nu),ru=du(Gd),Hd=Mr?Mr.prototype:i,Wd=Hd?Hd.valueOf:i,zf=Hd?Hd.toString:i;function it(y){if(Co(y)&&!xr(y)&&!(y instanceof Qn)){if(y instanceof ul)return y;if(ci.call(y,"__wrapped__"))return Rp(y)}return new ul(y)}var su=function(){function y(){}return function(R){if(!ho(R))return{};if(Ve)return Ve(R);y.prototype=R;var ce=new y;return y.prototype=i,ce}}();function Eh(){}function ul(y,R){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!R,this.__index__=0,this.__values__=i}it.templateSettings={escape:xn,evaluate:Us,interpolate:Pn,variable:"",imports:{_:it}},it.prototype=Eh.prototype,it.prototype.constructor=it,ul.prototype=su(Eh.prototype),ul.prototype.constructor=ul;function Qn(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function e1(){var y=new Qn(this.__wrapped__);return y.__actions__=Lo(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=Lo(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=Lo(this.__views__),y}function Ff(){if(this.__filtered__){var y=new Qn(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function t1(){var y=this.__wrapped__.value(),R=this.__dir__,ce=xr(y),Pe=R<0,qe=ce?y.length:0,ot=y1(0,qe,this.__views__),At=ot.start,jt=ot.end,Zt=jt-At,Di=Pe?jt:At-1,Bi=this.__iteratees__,Wi=Bi.length,_n=0,zn=ms(Zt,this.__takeCount__);if(!ce||!Pe&&qe==Zt&&zn==Zt)return Ah(y,this.__actions__);var rr=[];e:for(;Zt--&&_n<zn;){Di+=R;for(var Or=-1,or=y[Di];++Or<Wi;){var Vr=Bi[Or],Zr=Vr.iteratee,Ol=Vr.type,il=Zr(or);if(Ol==g)or=il;else if(!il){if(Ol==m)continue e;break e}}rr[_n++]=or}return rr}Qn.prototype=su(Eh.prototype),Qn.prototype.constructor=Qn;function pd(y){var R=-1,ce=y==null?0:y.length;for(this.clear();++R<ce;){var Pe=y[R];this.set(Pe[0],Pe[1])}}function ou(){this.__data__=Bu?Bu(null):{},this.size=0}function hm(y){var R=this.has(y)&&delete this.__data__[y];return this.size-=R?1:0,R}function Yd(y){var R=this.__data__;if(Bu){var ce=R[y];return ce===v?i:ce}return ci.call(R,y)?R[y]:i}function Ac(y){var R=this.__data__;return Bu?R[y]!==i:ci.call(R,y)}function Tp(y,R){var ce=this.__data__;return this.size+=this.has(y)?0:1,ce[y]=Bu&&R===i?v:R,this}pd.prototype.clear=ou,pd.prototype.delete=hm,pd.prototype.get=Yd,pd.prototype.has=Ac,pd.prototype.set=Tp;function rn(y){var R=-1,ce=y==null?0:y.length;for(this.clear();++R<ce;){var Pe=y[R];this.set(Pe[0],Pe[1])}}function pm(){this.__data__=[],this.size=0}function fm(y){var R=this.__data__,ce=c(R,y);if(ce<0)return!1;var Pe=R.length-1;return ce==Pe?R.pop():Mi.call(R,ce,1),--this.size,!0}function zu(y){var R=this.__data__,ce=c(R,y);return ce<0?i:R[ce][1]}function Mh(y){return c(this.__data__,y)>-1}function jf(y,R){var ce=this.__data__,Pe=c(ce,y);return Pe<0?(++this.size,ce.push([y,R])):ce[Pe][1]=R,this}rn.prototype.clear=pm,rn.prototype.delete=fm,rn.prototype.get=zu,rn.prototype.has=Mh,rn.prototype.set=jf;function Pc(y){var R=-1,ce=y==null?0:y.length;for(this.clear();++R<ce;){var Pe=y[R];this.set(Pe[0],Pe[1])}}function Uf(){this.size=0,this.__data__={hash:new pd,map:new(kc||rn),string:new pd}}function $f(y){var R=Ap(this,y).delete(y);return this.size-=R?1:0,R}function Vf(y){return Ap(this,y).get(y)}function Gf(y){return Ap(this,y).has(y)}function qd(y,R){var ce=Ap(this,y),Pe=ce.size;return ce.set(y,R),this.size+=ce.size==Pe?0:1,this}Pc.prototype.clear=Uf,Pc.prototype.delete=$f,Pc.prototype.get=Vf,Pc.prototype.has=Gf,Pc.prototype.set=qd;function ac(y){var R=-1,ce=y==null?0:y.length;for(this.__data__=new Pc;++R<ce;)this.add(y[R])}function Sp(y){return this.__data__.set(y,v),this}function mm(y){return this.__data__.has(y)}ac.prototype.add=ac.prototype.push=Sp,ac.prototype.has=mm;function dl(y){var R=this.__data__=new rn(y);this.size=R.size}function gm(){this.__data__=new rn,this.size=0}function ym(y){var R=this.__data__,ce=R.delete(y);return this.size=R.size,ce}function _m(y){return this.__data__.get(y)}function vm(y){return this.__data__.has(y)}function xm(y,R){var ce=this.__data__;if(ce instanceof rn){var Pe=ce.__data__;if(!kc||Pe.length<o-1)return Pe.push([y,R]),this.size=++ce.size,this;ce=this.__data__=new Pc(Pe)}return ce.set(y,R),this.size=ce.size,this}dl.prototype.clear=gm,dl.prototype.delete=ym,dl.prototype.get=_m,dl.prototype.has=vm,dl.prototype.set=xm;function Cp(y,R){var ce=xr(y),Pe=!ce&&jh(y),qe=!ce&&!Pe&&fu(y),ot=!ce&&!Pe&&!qe&&mu(y),At=ce||Pe||qe||ot,jt=At?wa(y.length,Ou):[],Zt=jt.length;for(var Di in y)(R||ci.call(y,Di))&&!(At&&(Di=="length"||qe&&(Di=="offset"||Di=="parent")||ot&&(Di=="buffer"||Di=="byteLength"||Di=="byteOffset")||Vu(Di,Zt)))&&jt.push(Di);return jt}function Hf(y){var R=y.length;return R?y[Za(0,R-1)]:i}function bm(y,R){return Op(Lo(y),he(R,0,y.length))}function Wf(y){return Op(Lo(y))}function fd(y,R,ce){(ce!==i&&!pu(y[R],ce)||ce===i&&!(R in y))&&q(y,R,ce)}function _(y,R,ce){var Pe=y[R];(!(ci.call(y,R)&&pu(Pe,ce))||ce===i&&!(R in y))&&q(y,R,ce)}function c(y,R){for(var ce=y.length;ce--;)if(pu(y[ce][0],R))return ce;return-1}function p(y,R,ce,Pe){return at(y,function(qe,ot,At){R(Pe,qe,ce(qe),At)}),Pe}function T(y,R){return y&&Ko(R,Eo(R),y)}function N(y,R){return y&&Ko(R,fl(R),y)}function q(y,R,ce){R=="__proto__"&&Vs?Vs(y,R,{configurable:!0,enumerable:!0,value:ce,writable:!0}):y[R]=ce}function ae(y,R){for(var ce=-1,Pe=R.length,qe=gi(Pe),ot=y==null;++ce<Pe;)qe[ce]=ot?i:Jm(y,R[ce]);return qe}function he(y,R,ce){return y===y&&(ce!==i&&(y=y<=ce?y:ce),R!==i&&(y=y>=R?y:R)),y}function ye(y,R,ce,Pe,qe,ot){var At,jt=R&M,Zt=R&B,Di=R&W;if(ce&&(At=qe?ce(y,Pe,qe,ot):ce(y)),At!==i)return At;if(!ho(y))return y;var Bi=xr(y);if(Bi){if(At=Oh(y),!jt)return Lo(y,At)}else{var Wi=Ka(y),_n=Wi==oe||Wi==ge;if(fu(y))return ju(y,jt);if(Wi==$e||Wi==Q||_n&&!qe){if(At=Zt||_n?{}:v1(y),!jt)return Zt?Kd(y,N(At,y)):Zd(y,T(At,y))}else{if(!Fr[Wi])return qe?y:{};At=x2(y,Wi,jt)}}ot||(ot=new dl);var zn=ot.get(y);if(zn)return zn;ot.set(y,At),Tv(y)?y.forEach(function(or){At.add(ye(or,R,ce,or,y,ot))}):q1(y)&&y.forEach(function(or,Vr){At.set(Vr,ye(or,R,ce,Vr,y,ot))});var rr=Di?Zt?m1:Mm:Zt?fl:Eo,Or=Bi?i:rr(y);return mi(Or||y,function(or,Vr){Or&&(Vr=or,or=y[Vr]),_(At,Vr,ye(or,R,ce,Vr,y,ot))}),At}function De(y){var R=Eo(y);return function(ce){return Ae(ce,y,R)}}function Ae(y,R,ce){var Pe=ce.length;if(y==null)return!Pe;for(y=Ur(y);Pe--;){var qe=ce[Pe],ot=R[qe],At=y[qe];if(At===i&&!(qe in y)||!ot(At))return!1}return!0}function Fe(y,R,ce){if(typeof y!="function")throw new Zo(h);return Lp(function(){y.apply(i,ce)},R)}function Ke(y,R,ce,Pe){var qe=-1,ot=fs,At=!0,jt=y.length,Zt=[],Di=R.length;if(!jt)return Zt;ce&&(R=gr(R,Uo(ce))),Pe?(ot=Qr,At=!1):R.length>=o&&(ot=Sc,At=!1,R=new ac(R));e:for(;++qe<jt;){var Bi=y[qe],Wi=ce==null?Bi:ce(Bi);if(Bi=Pe||Bi!==0?Bi:0,At&&Wi===Wi){for(var _n=Di;_n--;)if(R[_n]===Wi)continue e;Zt.push(Bi)}else ot(R,Wi,Pe)||Zt.push(Bi)}return Zt}var at=F_(Et),lt=F_(Vt,!0);function ht(y,R){var ce=!0;return at(y,function(Pe,qe,ot){return ce=!!R(Pe,qe,ot),ce}),ce}function et(y,R,ce){for(var Pe=-1,qe=y.length;++Pe<qe;){var ot=y[Pe],At=R(ot);if(At!=null&&(jt===i?At===At&&!tl(At):ce(At,jt)))var jt=At,Zt=ot}return Zt}function rt(y,R,ce,Pe){var qe=y.length;for(ce=er(ce),ce<0&&(ce=-ce>qe?0:qe+ce),Pe=Pe===i||Pe>qe?qe:er(Pe),Pe<0&&(Pe+=qe),Pe=ce>Pe?0:$p(Pe);ce<Pe;)y[ce++]=R;return y}function gt(y,R){var ce=[];return at(y,function(Pe,qe,ot){R(Pe,qe,ot)&&ce.push(Pe)}),ce}function ct(y,R,ce,Pe,qe){var ot=-1,At=y.length;for(ce||(ce=Pm),qe||(qe=[]);++ot<At;){var jt=y[ot];R>0&&ce(jt)?R>1?ct(jt,R-1,ce,Pe,qe):yr(qe,jt):Pe||(qe[qe.length]=jt)}return qe}var wt=j_(),Ot=j_(!0);function Et(y,R){return y&&wt(y,R,Eo)}function Vt(y,R){return y&&Ot(y,R,Eo)}function ni(y,R){return fn(R,function(ce){return Hu(y[ce])})}function Qt(y,R){R=au(R,y);for(var ce=0,Pe=R.length;y!=null&&ce<Pe;)y=y[Il(R[ce++])];return ce&&ce==Pe?y:i}function Yt(y,R,ce){var Pe=R(y);return xr(y)?Pe:yr(Pe,ce(y))}function Ai(y){return y==null?y===i?Xe:Le:co&&co in Ur(y)?$_(y):b1(y)}function Kt(y,R){return y>R}function vi(y,R){return y!=null&&ci.call(y,R)}function si(y,R){return y!=null&&R in Ur(y)}function Ri(y,R,ce){return y>=ms(R,ce)&&y<Gs(R,ce)}function oi(y,R,ce){for(var Pe=ce?Qr:fs,qe=y[0].length,ot=y.length,At=ot,jt=gi(ot),Zt=1/0,Di=[];At--;){var Bi=y[At];At&&R&&(Bi=gr(Bi,Uo(R))),Zt=ms(Bi.length,Zt),jt[At]=!ce&&(R||qe>=120&&Bi.length>=120)?new ac(At&&Bi):i}Bi=y[0];var Wi=-1,_n=jt[0];e:for(;++Wi<qe&&Di.length<Zt;){var zn=Bi[Wi],rr=R?R(zn):zn;if(zn=ce||zn!==0?zn:0,!(_n?Sc(_n,rr):Pe(Di,rr,ce))){for(At=ot;--At;){var Or=jt[At];if(!(Or?Sc(Or,rr):Pe(y[At],rr,ce)))continue e}_n&&_n.push(rr),Di.push(zn)}}return Di}function Ci(y,R,ce,Pe){return Et(y,function(qe,ot,At){R(Pe,ce(qe),ot,At)}),Pe}function zi(y,R,ce){R=au(R,y),y=w1(y,R);var Pe=y==null?y:y[Il(Rc(R))];return Pe==null?i:Pi(Pe,y,ce)}function Xt(y){return Co(y)&&Ai(y)==Q}function ri(y){return Co(y)&&Ai(y)==Ct}function gn(y){return Co(y)&&Ai(y)==ne}function Sn(y,R,ce,Pe,qe){return y===R?!0:y==null||R==null||!Co(y)&&!Co(R)?y!==y&&R!==R:yn(y,R,ce,Pe,Sn,qe)}function yn(y,R,ce,Pe,qe,ot){var At=xr(y),jt=xr(R),Zt=At?se:Ka(y),Di=jt?se:Ka(R);Zt=Zt==Q?$e:Zt,Di=Di==Q?$e:Di;var Bi=Zt==$e,Wi=Di==$e,_n=Zt==Di;if(_n&&fu(y)){if(!fu(R))return!1;At=!0,Bi=!1}if(_n&&!Bi)return ot||(ot=new dl),At||mu(y)?p1(y,R,ce,Pe,qe,ot):f1(y,R,Zt,ce,Pe,qe,ot);if(!(ce&O)){var zn=Bi&&ci.call(y,"__wrapped__"),rr=Wi&&ci.call(R,"__wrapped__");if(zn||rr){var Or=zn?y.value():y,or=rr?R.value():R;return ot||(ot=new dl),qe(Or,or,ce,Pe,ot)}}return _n?(ot||(ot=new dl),v2(y,R,ce,Pe,qe,ot)):!1}function $n(y){return Co(y)&&Ka(y)==Te}function lr(y,R,ce,Pe){var qe=ce.length,ot=qe,At=!Pe;if(y==null)return!ot;for(y=Ur(y);qe--;){var jt=ce[qe];if(At&&jt[2]?jt[1]!==y[jt[0]]:!(jt[0]in y))return!1}for(;++qe<ot;){jt=ce[qe];var Zt=jt[0],Di=y[Zt],Bi=jt[1];if(At&&jt[2]){if(Di===i&&!(Zt in y))return!1}else{var Wi=new dl;if(Pe)var _n=Pe(Di,Bi,Zt,y,R,Wi);if(!(_n===i?Sn(Bi,Di,O|L,Pe,Wi):_n))return!1}}return!0}function An(y){if(!ho(y)||Dl(y))return!1;var R=Hu(y)?Vn:pn;return R.test(du(y))}function hn(y){return Co(y)&&Ai(y)==We}function ns(y){return Co(y)&&Ka(y)==xe}function Wr(y){return Co(y)&&rs(y.length)&&!!Lr[Ai(y)]}function ss(y){return typeof y=="function"?y:y==null?$o:typeof y=="object"?xr(y)?gs(y[0],y[1]):lc(y):my(y)}function ts(y){if(!Ip(y))return $d(y);var R=[];for(var ce in Ur(y))ci.call(y,ce)&&ce!="constructor"&&R.push(ce);return R}function Xa(y){if(!ho(y))return Bh(y);var R=Ip(y),ce=[];for(var Pe in y)Pe=="constructor"&&(R||!ci.call(y,Pe))||ce.push(Pe);return ce}function Ia(y,R){return y<R}function Ta(y,R){var ce=-1,Pe=_s(y)?gi(y.length):[];return at(y,function(qe,ot,At){Pe[++ce]=R(qe,ot,At)}),Pe}function lc(y){var R=km(y);return R.length==1&&R[0][2]?Dm(R[0][0],R[0][1]):function(ce){return ce===y||lr(ce,y,R)}}function gs(y,R){return x1(y)&&Lc(R)?Dm(Il(y),R):function(ce){var Pe=Jm(ce,y);return Pe===i&&Pe===R?Uh(ce,y):Sn(R,Pe,O|L)}}function is(y,R,ce,Pe,qe){y!==R&&wt(R,function(ot,At){if(qe||(qe=new dl),ho(ot))$r(y,R,At,ce,is,Pe,qe);else{var jt=Pe?Pe(T1(y,At),ot,At+"",y,R,qe):i;jt===i&&(jt=ot),fd(y,At,jt)}},fl)}function $r(y,R,ce,Pe,qe,ot,At){var jt=T1(y,ce),Zt=T1(R,ce),Di=At.get(Zt);if(Di){fd(y,ce,Di);return}var Bi=ot?ot(jt,Zt,ce+"",y,R,At):i,Wi=Bi===i;if(Wi){var _n=xr(Zt),zn=!_n&&fu(Zt),rr=!_n&&!zn&&mu(Zt);Bi=Zt,_n||zn||rr?xr(jt)?Bi=jt:Cs(jt)?Bi=Lo(jt):zn?(Wi=!1,Bi=ju(Zt,!0)):rr?(Wi=!1,Bi=N_(Zt,!0)):Bi=[]:d0(Zt)||jh(Zt)?(Bi=jt,jh(jt)?Bi=Xm(jt):(!ho(jt)||Hu(jt))&&(Bi=v1(Zt))):Wi=!1}Wi&&(At.set(Zt,Bi),qe(Bi,Zt,Pe,ot,At),At.delete(Zt)),fd(y,ce,Bi)}function uo(y,R){var ce=y.length;if(ce)return R+=R<0?ce:0,Vu(R,ce)?y[R]:i}function ua(y,R,ce){R.length?R=gr(R,function(ot){return xr(ot)?function(At){return Qt(At,ot.length===1?ot[0]:ot)}:ot}):R=[$o];var Pe=-1;R=gr(R,Uo(Zn()));var qe=Ta(y,function(ot,At,jt){var Zt=gr(R,function(Di){return Di(ot)});return{criteria:Zt,index:++Pe,value:ot}});return Iu(qe,function(ot,At){return a1(ot,At,ce)})}function ys(y,R){return Sa(y,R,function(ce,Pe){return Uh(y,Pe)})}function Sa(y,R,ce){for(var Pe=-1,qe=R.length,ot={};++Pe<qe;){var At=R[Pe],jt=Qt(y,At);ce(jt,At)&&md(ot,au(At,y),jt)}return ot}function kh(y){return function(R){return Qt(R,y)}}function cc(y,R,ce,Pe){var qe=Pe?xo:Kn,ot=-1,At=R.length,jt=y;for(y===R&&(R=Lo(R)),ce&&(jt=gr(y,Uo(ce)));++ot<At;)for(var Zt=0,Di=R[ot],Bi=ce?ce(Di):Di;(Zt=qe(jt,Bi,Zt,Pe))>-1;)jt!==y&&Mi.call(jt,Zt,1),Mi.call(y,Zt,1);return y}function da(y,R){for(var ce=y?R.length:0,Pe=ce-1;ce--;){var qe=R[ce];if(ce==Pe||qe!==ot){var ot=qe;Vu(qe)?Mi.call(y,qe,1):Tm(y,qe)}}return y}function Za(y,R){return y+Th(um()*(R-y+1))}function Dc(y,R,ce,Pe){for(var qe=-1,ot=Gs(Ru((R-y)/(ce||1)),0),At=gi(ot);ot--;)At[Pe?ot:++qe]=y,y+=ce;return At}function Al(y,R){var ce="";if(!y||R<1||R>X)return ce;do R%2&&(ce+=y),R=Th(R/2),R&&(y+=y);while(R);return ce}function _r(y,R){return Nh(Jf(y,R,$o),y+"")}function Xd(y){return Hf($h(y))}function Ic(y,R){var ce=$h(y);return Op(ce,he(R,0,ce.length))}function md(y,R,ce,Pe){if(!ho(y))return y;R=au(R,y);for(var qe=-1,ot=R.length,At=ot-1,jt=y;jt!=null&&++qe<ot;){var Zt=Il(R[qe]),Di=ce;if(Zt==="__proto__"||Zt==="constructor"||Zt==="prototype")return y;if(qe!=At){var Bi=jt[Zt];Di=Pe?Pe(Bi,Zt,jt):i,Di===i&&(Di=ho(Bi)?Bi:Vu(R[qe+1])?[]:{})}_(jt,Zt,Di),jt=jt[Zt]}return y}var Yf=Nu?function(y,R){return Nu.set(y,R),y}:$o,D_=Vs?function(y,R){return Vs(y,"toString",{configurable:!0,enumerable:!1,value:hy(R),writable:!0})}:$o;function i1(y){return Op($h(y))}function uc(y,R,ce){var Pe=-1,qe=y.length;R<0&&(R=-R>qe?0:qe+R),ce=ce>qe?qe:ce,ce<0&&(ce+=qe),qe=R>ce?0:ce-R>>>0,R>>>=0;for(var ot=gi(qe);++Pe<qe;)ot[Pe]=y[Pe+R];return ot}function I_(y,R){var ce;return at(y,function(Pe,qe,ot){return ce=R(Pe,qe,ot),!ce}),!!ce}function qf(y,R,ce){var Pe=0,qe=y==null?Pe:y.length;if(typeof R=="number"&&R===R&&qe<=fe){for(;Pe<qe;){var ot=Pe+qe>>>1,At=y[ot];At!==null&&!tl(At)&&(ce?At<=R:At<R)?Pe=ot+1:qe=ot}return qe}return wm(y,R,$o,ce)}function wm(y,R,ce,Pe){var qe=0,ot=y==null?0:y.length;if(ot===0)return 0;R=ce(R);for(var At=R!==R,jt=R===null,Zt=tl(R),Di=R===i;qe<ot;){var Bi=Th((qe+ot)/2),Wi=ce(y[Bi]),_n=Wi!==i,zn=Wi===null,rr=Wi===Wi,Or=tl(Wi);if(At)var or=Pe||rr;else Di?or=rr&&(Pe||_n):jt?or=rr&&_n&&(Pe||!zn):Zt?or=rr&&_n&&!zn&&(Pe||!Or):zn||Or?or=!1:or=Pe?Wi<=R:Wi<R;or?qe=Bi+1:ot=Bi}return ms(ot,pe)}function n1(y,R){for(var ce=-1,Pe=y.length,qe=0,ot=[];++ce<Pe;){var At=y[ce],jt=R?R(At):At;if(!ce||!pu(jt,Zt)){var Zt=jt;ot[qe++]=At===0?0:At}}return ot}function r1(y){return typeof y=="number"?y:tl(y)?K:+y}function Pl(y){if(typeof y=="string")return y;if(xr(y))return gr(y,Pl)+"";if(tl(y))return zf?zf.call(y):"";var R=y+"";return R=="0"&&1/y==-P?"-0":R}function gd(y,R,ce){var Pe=-1,qe=fs,ot=y.length,At=!0,jt=[],Zt=jt;if(ce)At=!1,qe=Qr;else if(ot>=o){var Di=R?null:Ca(y);if(Di)return Cl(Di);At=!1,qe=Sc,Zt=new ac}else Zt=R?[]:jt;e:for(;++Pe<ot;){var Bi=y[Pe],Wi=R?R(Bi):Bi;if(Bi=ce||Bi!==0?Bi:0,At&&Wi===Wi){for(var _n=Zt.length;_n--;)if(Zt[_n]===Wi)continue e;R&&Zt.push(Wi),jt.push(Bi)}else qe(Zt,Wi,ce)||(Zt!==jt&&Zt.push(Wi),jt.push(Bi))}return jt}function Tm(y,R){return R=au(R,y),y=w1(y,R),y==null||delete y[Il(Rc(R))]}function L_(y,R,ce,Pe){return md(y,R,ce(Qt(y,R)),Pe)}function Sm(y,R,ce,Pe){for(var qe=y.length,ot=Pe?qe:-1;(Pe?ot--:++ot<qe)&&R(y[ot],ot,y););return ce?uc(y,Pe?0:ot,Pe?ot+1:qe):uc(y,Pe?ot+1:0,Pe?qe:ot)}function Ah(y,R){var ce=y;return ce instanceof Qn&&(ce=ce.value()),Yn(R,function(Pe,qe){return qe.func.apply(qe.thisArg,yr([Pe],qe.args))},ce)}function Cm(y,R,ce){var Pe=y.length;if(Pe<2)return Pe?gd(y[0]):[];for(var qe=-1,ot=gi(Pe);++qe<Pe;)for(var At=y[qe],jt=-1;++jt<Pe;)jt!=qe&&(ot[qe]=Ke(ot[qe]||At,y[jt],R,ce));return gd(ct(ot,1),R,ce)}function s1(y,R,ce){for(var Pe=-1,qe=y.length,ot=R.length,At={};++Pe<qe;){var jt=Pe<ot?R[Pe]:i;ce(At,y[Pe],jt)}return At}function Em(y){return Cs(y)?y:[]}function o1(y){return typeof y=="function"?y:$o}function au(y,R){return xr(y)?y:x1(y,R)?[y]:S1(Es(y))}var O_=_r;function Fu(y,R,ce){var Pe=y.length;return ce=ce===i?Pe:ce,!R&&ce>=Pe?y:uc(y,R,ce)}var Xf=Ml||function(y){return Qs.clearTimeout(y)};function ju(y,R){if(R)return y.slice();var ce=y.length,Pe=we?we(ce):new y.constructor(ce);return y.copy(Pe),Pe}function Ep(y){var R=new y.constructor(y.byteLength);return new On(R).set(new On(y)),R}function R_(y,R){var ce=R?Ep(y.buffer):y.buffer;return new y.constructor(ce,y.byteOffset,y.byteLength)}function B_(y){var R=new y.constructor(y.source,Ii.exec(y));return R.lastIndex=y.lastIndex,R}function g2(y){return Wd?Ur(Wd.call(y)):{}}function N_(y,R){var ce=R?Ep(y.buffer):y.buffer;return new y.constructor(ce,y.byteOffset,y.length)}function z_(y,R){if(y!==R){var ce=y!==i,Pe=y===null,qe=y===y,ot=tl(y),At=R!==i,jt=R===null,Zt=R===R,Di=tl(R);if(!jt&&!Di&&!ot&&y>R||ot&&At&&Zt&&!jt&&!Di||Pe&&At&&Zt||!ce&&Zt||!qe)return 1;if(!Pe&&!ot&&!Di&&y<R||Di&&ce&&qe&&!Pe&&!ot||jt&&ce&&qe||!At&&qe||!Zt)return-1}return 0}function a1(y,R,ce){for(var Pe=-1,qe=y.criteria,ot=R.criteria,At=qe.length,jt=ce.length;++Pe<At;){var Zt=z_(qe[Pe],ot[Pe]);if(Zt){if(Pe>=jt)return Zt;var Di=ce[Pe];return Zt*(Di=="desc"?-1:1)}}return y.index-R.index}function Mp(y,R,ce,Pe){for(var qe=-1,ot=y.length,At=ce.length,jt=-1,Zt=R.length,Di=Gs(ot-At,0),Bi=gi(Zt+Di),Wi=!Pe;++jt<Zt;)Bi[jt]=R[jt];for(;++qe<At;)(Wi||qe<ot)&&(Bi[ce[qe]]=y[qe]);for(;Di--;)Bi[jt++]=y[qe++];return Bi}function Ph(y,R,ce,Pe){for(var qe=-1,ot=y.length,At=-1,jt=ce.length,Zt=-1,Di=R.length,Bi=Gs(ot-jt,0),Wi=gi(Bi+Di),_n=!Pe;++qe<Bi;)Wi[qe]=y[qe];for(var zn=qe;++Zt<Di;)Wi[zn+Zt]=R[Zt];for(;++At<jt;)(_n||qe<ot)&&(Wi[zn+ce[At]]=y[qe++]);return Wi}function Lo(y,R){var ce=-1,Pe=y.length;for(R||(R=gi(Pe));++ce<Pe;)R[ce]=y[ce];return R}function Ko(y,R,ce,Pe){var qe=!ce;ce||(ce={});for(var ot=-1,At=R.length;++ot<At;){var jt=R[ot],Zt=Pe?Pe(ce[jt],y[jt],jt,ce,y):i;Zt===i&&(Zt=y[jt]),qe?q(ce,jt,Zt):_(ce,jt,Zt)}return ce}function Zd(y,R){return Ko(y,g1(y),R)}function Kd(y,R){return Ko(y,Am(y),R)}function Uu(y,R){return function(ce,Pe){var qe=xr(ce)?ai:p,ot=R?R():{};return qe(ce,y,Zn(Pe,2),ot)}}function kp(y){return _r(function(R,ce){var Pe=-1,qe=ce.length,ot=qe>1?ce[qe-1]:i,At=qe>2?ce[2]:i;for(ot=y.length>3&&typeof ot=="function"?(qe--,ot):i,At&&Ja(ce[0],ce[1],At)&&(ot=qe<3?i:ot,qe=1),R=Ur(R);++Pe<qe;){var jt=ce[Pe];jt&&y(R,jt,Pe,ot)}return R})}function F_(y,R){return function(ce,Pe){if(ce==null)return ce;if(!_s(ce))return y(ce,Pe);for(var qe=ce.length,ot=R?qe:-1,At=Ur(ce);(R?ot--:++ot<qe)&&Pe(At[ot],ot,At)!==!1;);return ce}}function j_(y){return function(R,ce,Pe){for(var qe=-1,ot=Ur(R),At=Pe(R),jt=At.length;jt--;){var Zt=At[y?jt:++qe];if(ce(ot[Zt],Zt,ot)===!1)break}return R}}function y2(y,R,ce){var Pe=R&G,qe=hl(y);function ot(){var At=this&&this!==Qs&&this instanceof ot?qe:y;return At.apply(Pe?ce:this,arguments)}return ot}function l1(y){return function(R){R=Es(R);var ce=Da(R)?qo(R):i,Pe=ce?ce[0]:R.charAt(0),qe=ce?Fu(ce,1).join(""):R.slice(1);return Pe[y]()+qe}}function yd(y){return function(R){return Yn(Gh(sy(R).replace(Mu,"")),y,"")}}function hl(y){return function(){var R=arguments;switch(R.length){case 0:return new y;case 1:return new y(R[0]);case 2:return new y(R[0],R[1]);case 3:return new y(R[0],R[1],R[2]);case 4:return new y(R[0],R[1],R[2],R[3]);case 5:return new y(R[0],R[1],R[2],R[3],R[4]);case 6:return new y(R[0],R[1],R[2],R[3],R[4],R[5]);case 7:return new y(R[0],R[1],R[2],R[3],R[4],R[5],R[6])}var ce=su(y.prototype),Pe=y.apply(ce,R);return ho(Pe)?Pe:ce}}function _2(y,R,ce){var Pe=hl(y);function qe(){for(var ot=arguments.length,At=gi(ot),jt=ot,Zt=vd(qe);jt--;)At[jt]=arguments[jt];var Di=ot<3&&At[0]!==Zt&&At[ot-1]!==Zt?[]:bo(At,Zt);if(ot-=Di.length,ot<ce)return hc(y,R,Bn,qe.placeholder,i,At,Di,i,i,ce-ot);var Bi=this&&this!==Qs&&this instanceof qe?Pe:y;return Pi(Bi,this,At)}return qe}function U_(y){return function(R,ce,Pe){var qe=Ur(R);if(!_s(R)){var ot=Zn(ce,3);R=Eo(R),ce=function(jt){return ot(qe[jt],jt,qe)}}var At=y(R,ce,Pe);return At>-1?qe[ot?R[At]:At]:i}}function To(y){return cu(function(R){var ce=R.length,Pe=ce,qe=ul.prototype.thru;for(y&&R.reverse();Pe--;){var ot=R[Pe];if(typeof ot!="function")throw new Zo(h);if(qe&&!At&&$u(ot)=="wrapper")var At=new ul([],!0)}for(Pe=At?Pe:ce;++Pe<ce;){ot=R[Pe];var jt=$u(ot),Zt=jt=="wrapper"?uu(ot):i;Zt&&Dp(Zt[0])&&Zt[1]==(ie|A|U|ee)&&!Zt[4].length&&Zt[9]==1?At=At[$u(Zt[0])].apply(At,Zt[3]):At=ot.length==1&&Dp(ot)?At[jt]():At.thru(ot)}return function(){var Di=arguments,Bi=Di[0];if(At&&Di.length==1&&xr(Bi))return At.plant(Bi).value();for(var Wi=0,_n=ce?R[Wi].apply(this,Di):Bi;++Wi<ce;)_n=R[Wi].call(this,_n);return _n}})}function Bn(y,R,ce,Pe,qe,ot,At,jt,Zt,Di){var Bi=R&ie,Wi=R&G,_n=R&k,zn=R&(A|H),rr=R&$,Or=_n?i:hl(y);function or(){for(var Vr=arguments.length,Zr=gi(Vr),Ol=Vr;Ol--;)Zr[Ol]=arguments[Ol];if(zn)var il=vd(or),Rl=nc(Zr,il);if(Pe&&(Zr=Mp(Zr,Pe,qe,zn)),ot&&(Zr=Ph(Zr,ot,At,zn)),Vr-=Rl,zn&&Vr<Di){var Oo=bo(Zr,il);return hc(y,R,Bn,or.placeholder,ce,Zr,Oo,jt,Zt,Di-Vr)}var Ma=Wi?ce:this,qu=_n?Ma[y]:y;return Vr=Zr.length,jt?Zr=H_(Zr,jt):rr&&Vr>1&&Zr.reverse(),Bi&&Zt<Vr&&(Zr.length=Zt),this&&this!==Qs&&this instanceof or&&(qu=Or||hl(qu)),qu.apply(Ma,Zr)}return or}function _d(y,R){return function(ce,Pe){return Ci(ce,y,R(Pe),{})}}function Dh(y,R){return function(ce,Pe){var qe;if(ce===i&&Pe===i)return R;if(ce!==i&&(qe=ce),Pe!==i){if(qe===i)return Pe;typeof ce=="string"||typeof Pe=="string"?(ce=Pl(ce),Pe=Pl(Pe)):(ce=r1(ce),Pe=r1(Pe)),qe=y(ce,Pe)}return qe}}function Ir(y){return cu(function(R){return R=gr(R,Uo(Zn())),_r(function(ce){var Pe=this;return y(R,function(qe){return Pi(qe,Pe,ce)})})})}function Zf(y,R){R=R===i?" ":Pl(R);var ce=R.length;if(ce<2)return ce?Al(R,y):R;var Pe=Al(R,Ru(y/wr(R)));return Da(R)?Fu(qo(Pe),0,y).join(""):Pe.slice(0,y)}function c1(y,R,ce,Pe){var qe=R&G,ot=hl(y);function At(){for(var jt=-1,Zt=arguments.length,Di=-1,Bi=Pe.length,Wi=gi(Bi+Zt),_n=this&&this!==Qs&&this instanceof At?ot:y;++Di<Bi;)Wi[Di]=Pe[Di];for(;Zt--;)Wi[Di++]=arguments[++jt];return Pi(_n,qe?ce:this,Wi)}return At}function lu(y){return function(R,ce,Pe){return Pe&&typeof Pe!="number"&&Ja(R,ce,Pe)&&(ce=Pe=i),R=Wu(R),ce===i?(ce=R,R=0):ce=Wu(ce),Pe=Pe===i?R<ce?1:-1:Wu(Pe),Dc(R,ce,Pe,y)}}function dc(y){return function(R,ce){return typeof R=="string"&&typeof ce=="string"||(R=La(R),ce=La(ce)),y(R,ce)}}function hc(y,R,ce,Pe,qe,ot,At,jt,Zt,Di){var Bi=R&A,Wi=Bi?At:i,_n=Bi?i:At,zn=Bi?ot:i,rr=Bi?i:ot;R|=Bi?U:E,R&=~(Bi?E:U),R&S||(R&=~(G|k));var Or=[y,R,qe,zn,Wi,rr,_n,jt,Zt,Di],or=ce.apply(i,Or);return Dp(y)&&Im(or,Or),or.placeholder=Pe,zh(or,y,R)}function pl(y){var R=$s[y];return function(ce,Pe){if(ce=La(ce),Pe=Pe==null?0:ms(er(Pe),292),Pe&&Rf(ce)){var qe=(Es(ce)+"e").split("e"),ot=R(qe[0]+"e"+(+qe[1]+Pe));return qe=(Es(ot)+"e").split("e"),+(qe[0]+"e"+(+qe[1]-Pe))}return R(ce)}}var Ca=nu&&1/Cl(new nu([,-0]))[1]==P?function(y){return new nu(y)}:fy;function u1(y){return function(R){var ce=Ka(R);return ce==Te?Cc(R):ce==xe?oc(R):iu(R,y(R))}}function Ea(y,R,ce,Pe,qe,ot,At,jt){var Zt=R&k;if(!Zt&&typeof y!="function")throw new Zo(h);var Di=Pe?Pe.length:0;if(Di||(R&=~(U|E),Pe=qe=i),At=At===i?At:Gs(er(At),0),jt=jt===i?jt:er(jt),Di-=qe?qe.length:0,R&E){var Bi=Pe,Wi=qe;Pe=qe=i}var _n=Zt?i:uu(y),zn=[y,R,ce,Pe,qe,Bi,Wi,ot,At,jt];if(_n&&Kf(zn,_n),y=zn[0],R=zn[1],ce=zn[2],Pe=zn[3],qe=zn[4],jt=zn[9]=zn[9]===i?Zt?0:y.length:Gs(zn[9]-Di,0),!jt&&R&(A|H)&&(R&=~(A|H)),!R||R==G)var rr=y2(y,R,ce);else R==A||R==H?rr=_2(y,R,jt):(R==U||R==(G|U))&&!qe.length?rr=c1(y,R,ce,Pe):rr=Bn.apply(i,zn);var Or=_n?Yf:Im;return zh(Or(rr,zn),y,R)}function d1(y,R,ce,Pe){return y===i||pu(y,$t[ce])&&!ci.call(Pe,ce)?R:y}function Ih(y,R,ce,Pe,qe,ot){return ho(y)&&ho(R)&&(ot.set(R,y),is(y,R,i,Ih,ot),ot.delete(R)),y}function h1(y){return d0(y)?i:y}function p1(y,R,ce,Pe,qe,ot){var At=ce&O,jt=y.length,Zt=R.length;if(jt!=Zt&&!(At&&Zt>jt))return!1;var Di=ot.get(y),Bi=ot.get(R);if(Di&&Bi)return Di==R&&Bi==y;var Wi=-1,_n=!0,zn=ce&L?new ac:i;for(ot.set(y,R),ot.set(R,y);++Wi<jt;){var rr=y[Wi],Or=R[Wi];if(Pe)var or=At?Pe(Or,rr,Wi,R,y,ot):Pe(rr,Or,Wi,y,R,ot);if(or!==i){if(or)continue;_n=!1;break}if(zn){if(!vr(R,function(Vr,Zr){if(!Sc(zn,Zr)&&(rr===Vr||qe(rr,Vr,ce,Pe,ot)))return zn.push(Zr)})){_n=!1;break}}else if(!(rr===Or||qe(rr,Or,ce,Pe,ot))){_n=!1;break}}return ot.delete(y),ot.delete(R),_n}function f1(y,R,ce,Pe,qe,ot,At){switch(ce){case Nt:if(y.byteLength!=R.byteLength||y.byteOffset!=R.byteOffset)return!1;y=y.buffer,R=R.buffer;case Ct:return!(y.byteLength!=R.byteLength||!ot(new On(y),new On(R)));case Ce:case ne:case Re:return pu(+y,+R);case _e:return y.name==R.name&&y.message==R.message;case We:case Ie:return y==R+"";case Te:var jt=Cc;case xe:var Zt=Pe&O;if(jt||(jt=Cl),y.size!=R.size&&!Zt)return!1;var Di=At.get(y);if(Di)return Di==R;Pe|=L,At.set(y,R);var Bi=p1(jt(y),jt(R),Pe,qe,ot,At);return At.delete(y),Bi;case Be:if(Wd)return Wd.call(y)==Wd.call(R)}return!1}function v2(y,R,ce,Pe,qe,ot){var At=ce&O,jt=Mm(y),Zt=jt.length,Di=Mm(R),Bi=Di.length;if(Zt!=Bi&&!At)return!1;for(var Wi=Zt;Wi--;){var _n=jt[Wi];if(!(At?_n in R:ci.call(R,_n)))return!1}var zn=ot.get(y),rr=ot.get(R);if(zn&&rr)return zn==R&&rr==y;var Or=!0;ot.set(y,R),ot.set(R,y);for(var or=At;++Wi<Zt;){_n=jt[Wi];var Vr=y[_n],Zr=R[_n];if(Pe)var Ol=At?Pe(Zr,Vr,_n,R,y,ot):Pe(Vr,Zr,_n,y,R,ot);if(!(Ol===i?Vr===Zr||qe(Vr,Zr,ce,Pe,ot):Ol)){Or=!1;break}or||(or=_n=="constructor")}if(Or&&!or){var il=y.constructor,Rl=R.constructor;il!=Rl&&"constructor"in y&&"constructor"in R&&!(typeof il=="function"&&il instanceof il&&typeof Rl=="function"&&Rl instanceof Rl)&&(Or=!1)}return ot.delete(y),ot.delete(R),Or}function cu(y){return Nh(Jf(y,i,M1),y+"")}function Mm(y){return Yt(y,Eo,g1)}function m1(y){return Yt(y,fl,Am)}var uu=Nu?function(y){return Nu.get(y)}:fy;function $u(y){for(var R=y.name+"",ce=hd[R],Pe=ci.call(hd,R)?ce.length:0;Pe--;){var qe=ce[Pe],ot=qe.func;if(ot==null||ot==y)return qe.name}return R}function vd(y){var R=ci.call(it,"placeholder")?it:y;return R.placeholder}function Zn(){var y=it.iteratee||py;return y=y===py?ss:y,arguments.length?y(arguments[0],arguments[1]):y}function Ap(y,R){var ce=y.__data__;return b2(R)?ce[typeof R=="string"?"string":"hash"]:ce.map}function km(y){for(var R=Eo(y),ce=R.length;ce--;){var Pe=R[ce],qe=y[Pe];R[ce]=[Pe,qe,Lc(qe)]}return R}function Lh(y,R){var ce=Pa(y,R);return An(ce)?ce:i}function $_(y){var R=ci.call(y,co),ce=y[co];try{y[co]=i;var Pe=!0}catch{}var qe=Ni.call(y);return Pe&&(R?y[co]=ce:delete y[co]),qe}var g1=vp?function(y){return y==null?[]:(y=Ur(y),fn(vp(y),function(R){return bt.call(y,R)}))}:og,Am=vp?function(y){for(var R=[];y;)yr(R,g1(y)),y=Ee(y);return R}:og,Ka=Ai;(bp&&Ka(new bp(new ArrayBuffer(1)))!=Nt||kc&&Ka(new kc)!=Te||Ch&&Ka(Ch.resolve())!=nt||nu&&Ka(new nu)!=xe||Gd&&Ka(new Gd)!=Ze)&&(Ka=function(y){var R=Ai(y),ce=R==$e?y.constructor:i,Pe=ce?du(ce):"";if(Pe)switch(Pe){case Bf:return Nt;case Nf:return Te;case dm:return nt;case wp:return xe;case ru:return Ze}return R});function y1(y,R,ce){for(var Pe=-1,qe=ce.length;++Pe<qe;){var ot=ce[Pe],At=ot.size;switch(ot.type){case"drop":y+=At;break;case"dropRight":R-=At;break;case"take":R=ms(R,y+At);break;case"takeRight":y=Gs(y,R-At);break}}return{start:y,end:R}}function V_(y){var R=y.match(Ut);return R?R[1].split(kt):[]}function _1(y,R,ce){R=au(R,y);for(var Pe=-1,qe=R.length,ot=!1;++Pe<qe;){var At=Il(R[Pe]);if(!(ot=y!=null&&ce(y,At)))break;y=y[At]}return ot||++Pe!=qe?ot:(qe=y==null?0:y.length,!!qe&&rs(qe)&&Vu(At,qe)&&(xr(y)||jh(y)))}function Oh(y){var R=y.length,ce=new y.constructor(R);return R&&typeof y[0]=="string"&&ci.call(y,"index")&&(ce.index=y.index,ce.input=y.input),ce}function v1(y){return typeof y.constructor=="function"&&!Ip(y)?su(Ee(y)):{}}function x2(y,R,ce){var Pe=y.constructor;switch(R){case Ct:return Ep(y);case Ce:case ne:return new Pe(+y);case Nt:return R_(y,ce);case pi:case qt:case fi:case Gi:case dt:case Lt:case ei:case ki:case on:return N_(y,ce);case Te:return new Pe;case Re:case Ie:return new Pe(y);case We:return B_(y);case xe:return new Pe;case Be:return g2(y)}}function Pp(y,R){var ce=R.length;if(!ce)return y;var Pe=ce-1;return R[Pe]=(ce>1?"& ":"")+R[Pe],R=R.join(ce>2?", ":" "),y.replace(vt,`{
/* [wrapped with `+R+`] */
`)}function Pm(y){return xr(y)||jh(y)||!!(Tn&&y&&y[Tn])}function Vu(y,R){var ce=typeof y;return R=R??X,!!R&&(ce=="number"||ce!="symbol"&&cr.test(y))&&y>-1&&y%1==0&&y<R}function Ja(y,R,ce){if(!ho(ce))return!1;var Pe=typeof R;return(Pe=="number"?_s(ce)&&Vu(R,ce.length):Pe=="string"&&R in ce)?pu(ce[R],y):!1}function x1(y,R){if(xr(y))return!1;var ce=typeof y;return ce=="number"||ce=="symbol"||ce=="boolean"||y==null||tl(y)?!0:ya.test(y)||!Wo.test(y)||R!=null&&y in Ur(R)}function b2(y){var R=typeof y;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?y!=="__proto__":y===null}function Dp(y){var R=$u(y),ce=it[R];if(typeof ce!="function"||!(R in Qn.prototype))return!1;if(y===ce)return!0;var Pe=uu(ce);return!!Pe&&y===Pe[0]}function Dl(y){return!!an&&an in y}var G_=Ti?Hu:gy;function Ip(y){var R=y&&y.constructor,ce=typeof R=="function"&&R.prototype||$t;return y===ce}function Lc(y){return y===y&&!ho(y)}function Dm(y,R){return function(ce){return ce==null?!1:ce[y]===R&&(R!==i||y in Ur(ce))}}function Rh(y){var R=ha(y,function(Pe){return ce.size===I&&ce.clear(),Pe}),ce=R.cache;return R}function Kf(y,R){var ce=y[1],Pe=R[1],qe=ce|Pe,ot=qe<(G|k|ie),At=Pe==ie&&ce==A||Pe==ie&&ce==ee&&y[7].length<=R[8]||Pe==(ie|ee)&&R[7].length<=R[8]&&ce==A;if(!(ot||At))return y;Pe&G&&(y[2]=R[2],qe|=ce&G?0:S);var jt=R[3];if(jt){var Zt=y[3];y[3]=Zt?Mp(Zt,jt,R[4]):jt,y[4]=Zt?bo(y[3],J):R[4]}return jt=R[5],jt&&(Zt=y[5],y[5]=Zt?Ph(Zt,jt,R[6]):jt,y[6]=Zt?bo(y[5],J):R[6]),jt=R[7],jt&&(y[7]=jt),Pe&ie&&(y[8]=y[8]==null?R[8]:ms(y[8],R[8])),y[9]==null&&(y[9]=R[9]),y[0]=R[0],y[1]=qe,y}function Bh(y){var R=[];if(y!=null)for(var ce in Ur(y))R.push(ce);return R}function b1(y){return Ni.call(y)}function Jf(y,R,ce){return R=Gs(R===i?y.length-1:R,0),function(){for(var Pe=arguments,qe=-1,ot=Gs(Pe.length-R,0),At=gi(ot);++qe<ot;)At[qe]=Pe[R+qe];qe=-1;for(var jt=gi(R+1);++qe<R;)jt[qe]=Pe[qe];return jt[R]=ce(At),Pi(y,this,jt)}}function w1(y,R){return R.length<2?y:Qt(y,uc(R,0,-1))}function H_(y,R){for(var ce=y.length,Pe=ms(R.length,ce),qe=Lo(y);Pe--;){var ot=R[Pe];y[Pe]=Vu(ot,ce)?qe[ot]:i}return y}function T1(y,R){if(!(R==="constructor"&&typeof y[R]=="function")&&R!="__proto__")return y[R]}var Im=Gu(Yf),Lp=kl||function(y,R){return Qs.setTimeout(y,R)},Nh=Gu(D_);function zh(y,R,ce){var Pe=R+"";return Nh(y,Pp(Pe,pc(V_(Pe),ce)))}function Gu(y){var R=0,ce=0;return function(){var Pe=Sh(),qe=D-(Pe-ce);if(ce=Pe,qe>0){if(++R>=w)return arguments[0]}else R=0;return y.apply(i,arguments)}}function Op(y,R){var ce=-1,Pe=y.length,qe=Pe-1;for(R=R===i?Pe:R;++ce<R;){var ot=Za(ce,qe),At=y[ot];y[ot]=y[ce],y[ce]=At}return y.length=R,y}var S1=Rh(function(y){var R=[];return y.charCodeAt(0)===46&&R.push(""),y.replace(mt,function(ce,Pe,qe,ot){R.push(qe?ot.replace(bi,"$1"):Pe||ce)}),R});function Il(y){if(typeof y=="string"||tl(y))return y;var R=y+"";return R=="0"&&1/y==-P?"-0":R}function du(y){if(y!=null){try{return Wt.call(y)}catch{}try{return y+""}catch{}}return""}function pc(y,R){return mi(z,function(ce){var Pe="_."+ce[0];R&ce[1]&&!fs(y,Pe)&&y.push(Pe)}),y.sort()}function Rp(y){if(y instanceof Qn)return y.clone();var R=new ul(y.__wrapped__,y.__chain__);return R.__actions__=Lo(y.__actions__),R.__index__=y.__index__,R.__values__=y.__values__,R}function Qa(y,R,ce){(ce?Ja(y,R,ce):R===i)?R=1:R=Gs(er(R),0);var Pe=y==null?0:y.length;if(!Pe||R<1)return[];for(var qe=0,ot=0,At=gi(Ru(Pe/R));qe<Pe;)At[ot++]=uc(y,qe,qe+=R);return At}function Oc(y){for(var R=-1,ce=y==null?0:y.length,Pe=0,qe=[];++R<ce;){var ot=y[R];ot&&(qe[Pe++]=ot)}return qe}function C1(){var y=arguments.length;if(!y)return[];for(var R=gi(y-1),ce=arguments[0],Pe=y;Pe--;)R[Pe-1]=arguments[Pe];return yr(xr(ce)?Lo(ce):[ce],ct(R,1))}var go=_r(function(y,R){return Cs(y)?Ke(y,ct(R,1,Cs,!0)):[]}),W_=_r(function(y,R){var ce=Rc(R);return Cs(ce)&&(ce=i),Cs(y)?Ke(y,ct(R,1,Cs,!0),Zn(ce,2)):[]}),Qf=_r(function(y,R){var ce=Rc(R);return Cs(ce)&&(ce=i),Cs(y)?Ke(y,ct(R,1,Cs,!0),i,ce):[]});function hu(y,R,ce){var Pe=y==null?0:y.length;return Pe?(R=ce||R===i?1:er(R),uc(y,R<0?0:R,Pe)):[]}function w2(y,R,ce){var Pe=y==null?0:y.length;return Pe?(R=ce||R===i?1:er(R),R=Pe-R,uc(y,0,R<0?0:R)):[]}function T2(y,R){return y&&y.length?Sm(y,Zn(R,3),!0,!0):[]}function Y_(y,R){return y&&y.length?Sm(y,Zn(R,3),!0):[]}function q_(y,R,ce,Pe){var qe=y==null?0:y.length;return qe?(ce&&typeof ce!="number"&&Ja(y,R,ce)&&(ce=0,Pe=qe),rt(y,R,ce,Pe)):[]}function Jd(y,R,ce){var Pe=y==null?0:y.length;if(!Pe)return-1;var qe=ce==null?0:er(ce);return qe<0&&(qe=Gs(Pe+qe,0)),oa(y,Zn(R,3),qe)}function E1(y,R,ce){var Pe=y==null?0:y.length;if(!Pe)return-1;var qe=Pe-1;return ce!==i&&(qe=er(ce),qe=ce<0?Gs(Pe+qe,0):ms(qe,Pe-1)),oa(y,Zn(R,3),qe,!0)}function M1(y){var R=y==null?0:y.length;return R?ct(y,1):[]}function X_(y){var R=y==null?0:y.length;return R?ct(y,P):[]}function Z_(y,R){var ce=y==null?0:y.length;return ce?(R=R===i?1:er(R),ct(y,R)):[]}function S2(y){for(var R=-1,ce=y==null?0:y.length,Pe={};++R<ce;){var qe=y[R];Pe[qe[0]]=qe[1]}return Pe}function Lm(y){return y&&y.length?y[0]:i}function k1(y,R,ce){var Pe=y==null?0:y.length;if(!Pe)return-1;var qe=ce==null?0:er(ce);return qe<0&&(qe=Gs(Pe+qe,0)),Kn(y,R,qe)}function A1(y){var R=y==null?0:y.length;return R?uc(y,0,-1):[]}var el=_r(function(y){var R=gr(y,Em);return R.length&&R[0]===y[0]?oi(R):[]}),K_=_r(function(y){var R=Rc(y),ce=gr(y,Em);return R===Rc(ce)?R=i:ce.pop(),ce.length&&ce[0]===y[0]?oi(ce,Zn(R,2)):[]}),C2=_r(function(y){var R=Rc(y),ce=gr(y,Em);return R=typeof R=="function"?R:i,R&&ce.pop(),ce.length&&ce[0]===y[0]?oi(ce,i,R):[]});function J_(y,R){return y==null?"":xp.call(y,R)}function Rc(y){var R=y==null?0:y.length;return R?y[R-1]:i}function E2(y,R,ce){var Pe=y==null?0:y.length;if(!Pe)return-1;var qe=Pe;return ce!==i&&(qe=er(ce),qe=qe<0?Gs(Pe+qe,0):ms(qe,Pe-1)),R===R?wh(y,R,qe):oa(y,aa,qe,!0)}function Q_(y,R){return y&&y.length?uo(y,er(R)):i}var ev=_r(P1);function P1(y,R){return y&&y.length&&R&&R.length?cc(y,R):y}function D1(y,R,ce){return y&&y.length&&R&&R.length?cc(y,R,Zn(ce,2)):y}function xd(y,R,ce){return y&&y.length&&R&&R.length?cc(y,R,i,ce):y}var Ll=cu(function(y,R){var ce=y==null?0:y.length,Pe=ae(y,R);return da(y,gr(R,function(qe){return Vu(qe,ce)?+qe:qe}).sort(z_)),Pe});function M2(y,R){var ce=[];if(!(y&&y.length))return ce;var Pe=-1,qe=[],ot=y.length;for(R=Zn(R,3);++Pe<ot;){var At=y[Pe];R(At,Pe,y)&&(ce.push(At),qe.push(Pe))}return da(y,qe),ce}function e0(y){return y==null?y:Qg.call(y)}function k2(y,R,ce){var Pe=y==null?0:y.length;return Pe?(ce&&typeof ce!="number"&&Ja(y,R,ce)?(R=0,ce=Pe):(R=R==null?0:er(R),ce=ce===i?Pe:er(ce)),uc(y,R,ce)):[]}function A2(y,R){return qf(y,R)}function P2(y,R,ce){return wm(y,R,Zn(ce,2))}function t0(y,R){var ce=y==null?0:y.length;if(ce){var Pe=qf(y,R);if(Pe<ce&&pu(y[Pe],R))return Pe}return-1}function Om(y,R){return qf(y,R,!0)}function tv(y,R,ce){return wm(y,R,Zn(ce,2),!0)}function Fh(y,R){var ce=y==null?0:y.length;if(ce){var Pe=qf(y,R,!0)-1;if(pu(y[Pe],R))return Pe}return-1}function i0(y){return y&&y.length?n1(y):[]}function D2(y,R){return y&&y.length?n1(y,Zn(R,2)):[]}function I2(y){var R=y==null?0:y.length;return R?uc(y,1,R):[]}function L2(y,R,ce){return y&&y.length?(R=ce||R===i?1:er(R),uc(y,0,R<0?0:R)):[]}function O2(y,R,ce){var Pe=y==null?0:y.length;return Pe?(R=ce||R===i?1:er(R),R=Pe-R,uc(y,R<0?0:R,Pe)):[]}function R2(y,R){return y&&y.length?Sm(y,Zn(R,3),!1,!0):[]}function B2(y,R){return y&&y.length?Sm(y,Zn(R,3)):[]}var N2=_r(function(y){return gd(ct(y,1,Cs,!0))}),I1=_r(function(y){var R=Rc(y);return Cs(R)&&(R=i),gd(ct(y,1,Cs,!0),Zn(R,2))}),z2=_r(function(y){var R=Rc(y);return R=typeof R=="function"?R:i,gd(ct(y,1,Cs,!0),i,R)});function Bp(y){return y&&y.length?gd(y):[]}function F2(y,R){return y&&y.length?gd(y,Zn(R,2)):[]}function So(y,R){return R=typeof R=="function"?R:i,y&&y.length?gd(y,i,R):[]}function Np(y){if(!(y&&y.length))return[];var R=0;return y=fn(y,function(ce){if(Cs(ce))return R=Gs(ce.length,R),!0}),wa(R,function(ce){return gr(y,ba(ce))})}function L1(y,R){if(!(y&&y.length))return[];var ce=Np(y);return R==null?ce:gr(ce,function(Pe){return Pi(R,i,Pe)})}var Rm=_r(function(y,R){return Cs(y)?Ke(y,R):[]}),Bm=_r(function(y){return Cm(fn(y,Cs))}),n0=_r(function(y){var R=Rc(y);return Cs(R)&&(R=i),Cm(fn(y,Cs),Zn(R,2))}),iv=_r(function(y){var R=Rc(y);return R=typeof R=="function"?R:i,Cm(fn(y,Cs),i,R)}),nv=_r(Np);function r0(y,R){return s1(y||[],R||[],_)}function O1(y,R){return s1(y||[],R||[],md)}var R1=_r(function(y){var R=y.length,ce=R>1?y[R-1]:i;return ce=typeof ce=="function"?(y.pop(),ce):i,L1(y,ce)});function rv(y){var R=it(y);return R.__chain__=!0,R}function sv(y,R){return R(y),y}function Qd(y,R){return R(y)}var j2=cu(function(y){var R=y.length,ce=R?y[0]:0,Pe=this.__wrapped__,qe=function(ot){return ae(ot,y)};return R>1||this.__actions__.length||!(Pe instanceof Qn)||!Vu(ce)?this.thru(qe):(Pe=Pe.slice(ce,+ce+(R?1:0)),Pe.__actions__.push({func:Qd,args:[qe],thisArg:i}),new ul(Pe,this.__chain__).thru(function(ot){return R&&!ot.length&&ot.push(i),ot}))});function B1(){return rv(this)}function U2(){return new ul(this.value(),this.__chain__)}function N1(){this.__values__===i&&(this.__values__=qm(this.value()));var y=this.__index__>=this.__values__.length,R=y?i:this.__values__[this.__index__++];return{done:y,value:R}}function z1(){return this}function Nm(y){for(var R,ce=this;ce instanceof Eh;){var Pe=Rp(ce);Pe.__index__=0,Pe.__values__=i,R?qe.__wrapped__=Pe:R=Pe;var qe=Pe;ce=ce.__wrapped__}return qe.__wrapped__=y,R}function $2(){var y=this.__wrapped__;if(y instanceof Qn){var R=y;return this.__actions__.length&&(R=new Qn(this)),R=R.reverse(),R.__actions__.push({func:Qd,args:[e0],thisArg:i}),new ul(R,this.__chain__)}return this.thru(e0)}function V2(){return Ah(this.__wrapped__,this.__actions__)}var G2=Uu(function(y,R,ce){ci.call(y,ce)?++y[ce]:q(y,ce,1)});function H2(y,R,ce){var Pe=xr(y)?Xn:ht;return ce&&Ja(y,R,ce)&&(R=i),Pe(y,Zn(R,3))}function W2(y,R){var ce=xr(y)?fn:gt;return ce(y,Zn(R,3))}var Y2=U_(Jd),zm=U_(E1);function q2(y,R){return ct(Fm(y,R),1)}function ov(y,R){return ct(Fm(y,R),P)}function zp(y,R,ce){return ce=ce===i?1:er(ce),ct(Fm(y,R),ce)}function av(y,R){var ce=xr(y)?mi:at;return ce(y,Zn(R,3))}function lv(y,R){var ce=xr(y)?Ji:lt;return ce(y,Zn(R,3))}var X2=Uu(function(y,R,ce){ci.call(y,ce)?y[ce].push(R):q(y,ce,[R])});function cv(y,R,ce,Pe){y=_s(y)?y:$h(y),ce=ce&&!Pe?er(ce):0;var qe=y.length;return ce<0&&(ce=Gs(qe+ce,0)),Ym(y)?ce<=qe&&y.indexOf(R,ce)>-1:!!qe&&Kn(y,R,ce)>-1}var uv=_r(function(y,R,ce){var Pe=-1,qe=typeof R=="function",ot=_s(y)?gi(y.length):[];return at(y,function(At){ot[++Pe]=qe?Pi(R,At,ce):zi(At,R,ce)}),ot}),Z2=Uu(function(y,R,ce){q(y,ce,R)});function Fm(y,R){var ce=xr(y)?gr:Ta;return ce(y,Zn(R,3))}function K2(y,R,ce,Pe){return y==null?[]:(xr(R)||(R=R==null?[]:[R]),ce=Pe?i:ce,xr(ce)||(ce=ce==null?[]:[ce]),ua(y,R,ce))}var F1=Uu(function(y,R,ce){y[ce?0:1].push(R)},function(){return[[],[]]});function jm(y,R,ce){var Pe=xr(y)?Yn:cl,qe=arguments.length<3;return Pe(y,Zn(R,4),ce,qe,at)}function Um(y,R,ce){var Pe=xr(y)?ao:cl,qe=arguments.length<3;return Pe(y,Zn(R,4),ce,qe,lt)}function J2(y,R){var ce=xr(y)?fn:gt;return ce(y,eh(Zn(R,3)))}function Q2(y){var R=xr(y)?Hf:Xd;return R(y)}function s0(y,R,ce){(ce?Ja(y,R,ce):R===i)?R=1:R=er(R);var Pe=xr(y)?bm:Ic;return Pe(y,R)}function o0(y){var R=xr(y)?Wf:i1;return R(y)}function dv(y){if(y==null)return 0;if(_s(y))return Ym(y)?wr(y):y.length;var R=Ka(y);return R==Te||R==xe?y.size:ts(y).length}function a0(y,R,ce){var Pe=xr(y)?vr:I_;return ce&&Ja(y,R,ce)&&(R=i),Pe(y,Zn(R,3))}var hv=_r(function(y,R){if(y==null)return[];var ce=R.length;return ce>1&&Ja(y,R[0],R[1])?R=[]:ce>2&&Ja(R[0],R[1],R[2])&&(R=[R[0]]),ua(y,ct(R,1),[])}),$m=ln||function(){return Qs.Date.now()};function pv(y,R){if(typeof R!="function")throw new Zo(h);return y=er(y),function(){if(--y<1)return R.apply(this,arguments)}}function j1(y,R,ce){return R=ce?i:R,R=y&&R==null?y.length:R,Ea(y,ie,i,i,i,i,R)}function U1(y,R){var ce;if(typeof R!="function")throw new Zo(h);return y=er(y),function(){return--y>0&&(ce=R.apply(this,arguments)),y<=1&&(R=i),ce}}var Vm=_r(function(y,R,ce){var Pe=G;if(ce.length){var qe=bo(ce,vd(Vm));Pe|=U}return Ea(y,Pe,R,ce,qe)}),$1=_r(function(y,R,ce){var Pe=G|k;if(ce.length){var qe=bo(ce,vd($1));Pe|=U}return Ea(R,Pe,y,ce,qe)});function V1(y,R,ce){R=ce?i:R;var Pe=Ea(y,A,i,i,i,i,i,R);return Pe.placeholder=V1.placeholder,Pe}function fv(y,R,ce){R=ce?i:R;var Pe=Ea(y,H,i,i,i,i,i,R);return Pe.placeholder=fv.placeholder,Pe}function mv(y,R,ce){var Pe,qe,ot,At,jt,Zt,Di=0,Bi=!1,Wi=!1,_n=!0;if(typeof y!="function")throw new Zo(h);R=La(R)||0,ho(ce)&&(Bi=!!ce.leading,Wi="maxWait"in ce,ot=Wi?Gs(La(ce.maxWait)||0,R):ot,_n="trailing"in ce?!!ce.trailing:_n);function zn(Oo){var Ma=Pe,qu=qe;return Pe=qe=i,Di=Oo,At=y.apply(qu,Ma),At}function rr(Oo){return Di=Oo,jt=Lp(Vr,R),Bi?zn(Oo):At}function Or(Oo){var Ma=Oo-Zt,qu=Oo-Di,w0=R-Ma;return Wi?ms(w0,ot-qu):w0}function or(Oo){var Ma=Oo-Zt,qu=Oo-Di;return Zt===i||Ma>=R||Ma<0||Wi&&qu>=ot}function Vr(){var Oo=$m();if(or(Oo))return Zr(Oo);jt=Lp(Vr,Or(Oo))}function Zr(Oo){return jt=i,_n&&Pe?zn(Oo):(Pe=qe=i,At)}function Ol(){jt!==i&&Xf(jt),Di=0,Pe=Zt=qe=jt=i}function il(){return jt===i?At:Zr($m())}function Rl(){var Oo=$m(),Ma=or(Oo);if(Pe=arguments,qe=this,Zt=Oo,Ma){if(jt===i)return rr(Zt);if(Wi)return Xf(jt),jt=Lp(Vr,R),zn(Zt)}return jt===i&&(jt=Lp(Vr,R)),At}return Rl.cancel=Ol,Rl.flush=il,Rl}var gv=_r(function(y,R){return Fe(y,1,R)}),Gm=_r(function(y,R,ce){return Fe(y,La(R)||0,ce)});function yv(y){return Ea(y,$)}function ha(y,R){if(typeof y!="function"||R!=null&&typeof R!="function")throw new Zo(h);var ce=function(){var Pe=arguments,qe=R?R.apply(this,Pe):Pe[0],ot=ce.cache;if(ot.has(qe))return ot.get(qe);var At=y.apply(this,Pe);return ce.cache=ot.set(qe,At)||ot,At};return ce.cache=new(ha.Cache||Pc),ce}ha.Cache=Pc;function eh(y){if(typeof y!="function")throw new Zo(h);return function(){var R=arguments;switch(R.length){case 0:return!y.call(this);case 1:return!y.call(this,R[0]);case 2:return!y.call(this,R[0],R[1]);case 3:return!y.call(this,R[0],R[1],R[2])}return!y.apply(this,R)}}function Fp(y){return U1(2,y)}var l0=O_(function(y,R){R=R.length==1&&xr(R[0])?gr(R[0],Uo(Zn())):gr(ct(R,1),Uo(Zn()));var ce=R.length;return _r(function(Pe){for(var qe=-1,ot=ms(Pe.length,ce);++qe<ot;)Pe[qe]=R[qe].call(this,Pe[qe]);return Pi(y,this,Pe)})}),Hm=_r(function(y,R){var ce=bo(R,vd(Hm));return Ea(y,U,i,R,ce)}),G1=_r(function(y,R){var ce=bo(R,vd(G1));return Ea(y,E,i,R,ce)}),ew=cu(function(y,R){return Ea(y,ee,i,i,i,R)});function tw(y,R){if(typeof y!="function")throw new Zo(h);return R=R===i?R:er(R),_r(y,R)}function iw(y,R){if(typeof y!="function")throw new Zo(h);return R=R==null?0:Gs(er(R),0),_r(function(ce){var Pe=ce[R],qe=Fu(ce,0,R);return Pe&&yr(qe,Pe),Pi(y,this,qe)})}function nw(y,R,ce){var Pe=!0,qe=!0;if(typeof y!="function")throw new Zo(h);return ho(ce)&&(Pe="leading"in ce?!!ce.leading:Pe,qe="trailing"in ce?!!ce.trailing:qe),mv(y,R,{leading:Pe,maxWait:R,trailing:qe})}function rw(y){return j1(y,1)}function sw(y,R){return Hm(o1(R),y)}function Wm(){if(!arguments.length)return[];var y=arguments[0];return xr(y)?y:[y]}function ow(y){return ye(y,W)}function _v(y,R){return R=typeof R=="function"?R:i,ye(y,W,R)}function vv(y){return ye(y,M|W)}function xv(y,R){return R=typeof R=="function"?R:i,ye(y,M|W,R)}function aw(y,R){return R==null||Ae(y,R,Eo(R))}function pu(y,R){return y===R||y!==y&&R!==R}var lw=dc(Kt),cw=dc(function(y,R){return y>=R}),jh=Xt(function(){return arguments}())?Xt:function(y){return Co(y)&&ci.call(y,"callee")&&!bt.call(y,"callee")},xr=gi.isArray,uw=Ge?Uo(Ge):ri;function _s(y){return y!=null&&rs(y.length)&&!Hu(y)}function Cs(y){return Co(y)&&_s(y)}function H1(y){return y===!0||y===!1||Co(y)&&Ai(y)==Ce}var fu=Ud||gy,jp=Je?Uo(Je):gn;function dw(y){return Co(y)&&y.nodeType===1&&!d0(y)}function hw(y){if(y==null)return!0;if(_s(y)&&(xr(y)||typeof y=="string"||typeof y.splice=="function"||fu(y)||mu(y)||jh(y)))return!y.length;var R=Ka(y);if(R==Te||R==xe)return!y.size;if(Ip(y))return!ts(y).length;for(var ce in y)if(ci.call(y,ce))return!1;return!0}function c0(y,R){return Sn(y,R)}function pw(y,R,ce){ce=typeof ce=="function"?ce:i;var Pe=ce?ce(y,R):i;return Pe===i?Sn(y,R,i,ce):!!Pe}function W1(y){if(!Co(y))return!1;var R=Ai(y);return R==_e||R==ve||typeof y.message=="string"&&typeof y.name=="string"&&!d0(y)}function u0(y){return typeof y=="number"&&Rf(y)}function Hu(y){if(!ho(y))return!1;var R=Ai(y);return R==oe||R==ge||R==de||R==Qe}function Y1(y){return typeof y=="number"&&y==er(y)}function rs(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=X}function ho(y){var R=typeof y;return y!=null&&(R=="object"||R=="function")}function Co(y){return y!=null&&typeof y=="object"}var q1=zt?Uo(zt):$n;function bd(y,R){return y===R||lr(y,R,km(R))}function Up(y,R,ce){return ce=typeof ce=="function"?ce:i,lr(y,R,km(R),ce)}function bv(y){return wv(y)&&y!=+y}function fw(y){if(G_(y))throw new Jn(u);return An(y)}function mw(y){return y===null}function gw(y){return y==null}function wv(y){return typeof y=="number"||Co(y)&&Ai(y)==Re}function d0(y){if(!Co(y)||Ai(y)!=$e)return!1;var R=Ee(y);if(R===null)return!0;var ce=ci.call(R,"constructor")&&R.constructor;return typeof ce=="function"&&ce instanceof ce&&Wt.call(ce)==Nn}var X1=Mt?Uo(Mt):hn;function yw(y){return Y1(y)&&y>=-X&&y<=X}var Tv=Jt?Uo(Jt):ns;function Ym(y){return typeof y=="string"||!xr(y)&&Co(y)&&Ai(y)==Ie}function tl(y){return typeof y=="symbol"||Co(y)&&Ai(y)==Be}var mu=_i?Uo(_i):Wr;function Sv(y){return y===i}function _w(y){return Co(y)&&Ka(y)==Ze}function vw(y){return Co(y)&&Ai(y)==ft}var xw=dc(Ia),Z1=dc(function(y,R){return y<=R});function qm(y){if(!y)return[];if(_s(y))return Ym(y)?qo(y):Lo(y);if(Tr&&y[Tr])return Lu(y[Tr]());var R=Ka(y),ce=R==Te?Cc:R==xe?Cl:$h;return ce(y)}function Wu(y){if(!y)return y===0?y:0;if(y=La(y),y===P||y===-P){var R=y<0?-1:1;return R*Y}return y===y?y:0}function er(y){var R=Wu(y),ce=R%1;return R===R?ce?R-ce:R:0}function $p(y){return y?he(er(y),0,le):0}function La(y){if(typeof y=="number")return y;if(tl(y))return K;if(ho(y)){var R=typeof y.valueOf=="function"?y.valueOf():y;y=ho(R)?R+"":R}if(typeof y!="string")return y===0?y:+y;y=ec(y);var ce=Cn.test(y);return ce||qi.test(y)?Du(y.slice(2),ce?2:8):Mn.test(y)?K:+y}function Xm(y){return Ko(y,fl(y))}function Zm(y){return y?he(er(y),-X,X):y===0?y:0}function Es(y){return y==null?"":Pl(y)}var Cv=kp(function(y,R){if(Ip(R)||_s(R)){Ko(R,Eo(R),y);return}for(var ce in R)ci.call(R,ce)&&_(y,ce,R[ce])}),K1=kp(function(y,R){Ko(R,fl(R),y)}),Km=kp(function(y,R,ce,Pe){Ko(R,fl(R),y,Pe)}),Ev=kp(function(y,R,ce,Pe){Ko(R,Eo(R),y,Pe)}),Mv=cu(ae);function J1(y,R){var ce=su(y);return R==null?ce:T(ce,R)}var kv=_r(function(y,R){y=Ur(y);var ce=-1,Pe=R.length,qe=Pe>2?R[2]:i;for(qe&&Ja(R[0],R[1],qe)&&(Pe=1);++ce<Pe;)for(var ot=R[ce],At=fl(ot),jt=-1,Zt=At.length;++jt<Zt;){var Di=At[jt],Bi=y[Di];(Bi===i||pu(Bi,$t[Di])&&!ci.call(y,Di))&&(y[Di]=ot[Di])}return y}),bw=_r(function(y){return y.push(i,Ih),Pi(h0,i,y)});function Av(y,R){return lo(y,Zn(R,3),Et)}function wd(y,R){return lo(y,Zn(R,3),Vt)}function Pv(y,R){return y==null?y:wt(y,Zn(R,3),fl)}function Dv(y,R){return y==null?y:Ot(y,Zn(R,3),fl)}function Iv(y,R){return y&&Et(y,Zn(R,3))}function Lv(y,R){return y&&Vt(y,Zn(R,3))}function ww(y){return y==null?[]:ni(y,Eo(y))}function Tw(y){return y==null?[]:ni(y,fl(y))}function Jm(y,R,ce){var Pe=y==null?i:Qt(y,R);return Pe===i?ce:Pe}function Ov(y,R){return y!=null&&_1(y,R,vi)}function Uh(y,R){return y!=null&&_1(y,R,si)}var Rv=_d(function(y,R,ce){R!=null&&typeof R.toString!="function"&&(R=Ni.call(R)),y[R]=ce},hy($o)),Bv=_d(function(y,R,ce){R!=null&&typeof R.toString!="function"&&(R=Ni.call(R)),ci.call(y,R)?y[R].push(ce):y[R]=[ce]},Zn),Q1=_r(zi);function Eo(y){return _s(y)?Cp(y):ts(y)}function fl(y){return _s(y)?Cp(y,!0):Xa(y)}function Qm(y,R){var ce={};return R=Zn(R,3),Et(y,function(Pe,qe,ot){q(ce,R(Pe,qe,ot),Pe)}),ce}function Nv(y,R){var ce={};return R=Zn(R,3),Et(y,function(Pe,qe,ot){q(ce,qe,R(Pe,qe,ot))}),ce}var eg=kp(function(y,R,ce){is(y,R,ce)}),h0=kp(function(y,R,ce,Pe){is(y,R,ce,Pe)}),Sw=cu(function(y,R){var ce={};if(y==null)return ce;var Pe=!1;R=gr(R,function(ot){return ot=au(ot,y),Pe||(Pe=ot.length>1),ot}),Ko(y,m1(y),ce),Pe&&(ce=ye(ce,M|B|W,h1));for(var qe=R.length;qe--;)Tm(ce,R[qe]);return ce});function Cw(y,R){return zv(y,eh(Zn(R)))}var Ew=cu(function(y,R){return y==null?{}:ys(y,R)});function zv(y,R){if(y==null)return{};var ce=gr(m1(y),function(Pe){return[Pe]});return R=Zn(R),Sa(y,ce,function(Pe,qe){return R(Pe,qe[0])})}function Mw(y,R,ce){R=au(R,y);var Pe=-1,qe=R.length;for(qe||(qe=1,y=i);++Pe<qe;){var ot=y==null?i:y[Il(R[Pe])];ot===i&&(Pe=qe,ot=ce),y=Hu(ot)?ot.call(y):ot}return y}function Vp(y,R,ce){return y==null?y:md(y,R,ce)}function ey(y,R,ce,Pe){return Pe=typeof Pe=="function"?Pe:i,y==null?y:md(y,R,ce,Pe)}var Fv=u1(Eo),ty=u1(fl);function kw(y,R,ce){var Pe=xr(y),qe=Pe||fu(y)||mu(y);if(R=Zn(R,4),ce==null){var ot=y&&y.constructor;qe?ce=Pe?new ot:[]:ho(y)?ce=Hu(ot)?su(Ee(y)):{}:ce={}}return(qe?mi:Et)(y,function(At,jt,Zt){return R(ce,At,jt,Zt)}),ce}function iy(y,R){return y==null?!0:Tm(y,R)}function Aw(y,R,ce){return y==null?y:L_(y,R,o1(ce))}function th(y,R,ce,Pe){return Pe=typeof Pe=="function"?Pe:i,y==null?y:L_(y,R,o1(ce),Pe)}function $h(y){return y==null?[]:tc(y,Eo(y))}function jv(y){return y==null?[]:tc(y,fl(y))}function tg(y,R,ce){return ce===i&&(ce=R,R=i),ce!==i&&(ce=La(ce),ce=ce===ce?ce:0),R!==i&&(R=La(R),R=R===R?R:0),he(La(y),R,ce)}function ny(y,R,ce){return R=Wu(R),ce===i?(ce=R,R=0):ce=Wu(ce),y=La(y),Ri(y,R,ce)}function Pw(y,R,ce){if(ce&&typeof ce!="boolean"&&Ja(y,R,ce)&&(R=ce=i),ce===i&&(typeof R=="boolean"?(ce=R,R=i):typeof y=="boolean"&&(ce=y,y=i)),y===i&&R===i?(y=0,R=1):(y=Wu(y),R===i?(R=y,y=0):R=Wu(R)),y>R){var Pe=y;y=R,R=Pe}if(ce||y%1||R%1){var qe=um();return ms(y+qe*(R-y+tu("1e-"+((qe+"").length-1))),R)}return Za(y,R)}var Dw=yd(function(y,R,ce){return R=R.toLowerCase(),y+(ce?ry(R):R)});function ry(y){return rg(Es(y).toLowerCase())}function sy(y){return y=Es(y),y&&y.replace(Dr,Nd).replace(Js,"")}function p0(y,R,ce){y=Es(y),R=Pl(R);var Pe=y.length;ce=ce===i?Pe:he(er(ce),0,Pe);var qe=ce;return ce-=R.length,ce>=0&&y.slice(ce,qe)==R}function Td(y){return y=Es(y),y&&As.test(y)?y.replace(Yi,rc):y}function oy(y){return y=Es(y),y&&Ye.test(y)?y.replace(ze,"\\$&"):y}var Gp=yd(function(y,R,ce){return y+(ce?"-":"")+R.toLowerCase()}),Hp=yd(function(y,R,ce){return y+(ce?" ":"")+R.toLowerCase()}),Bc=l1("toLowerCase");function Nc(y,R,ce){y=Es(y),R=er(R);var Pe=R?wr(y):0;if(!R||Pe>=R)return y;var qe=(R-Pe)/2;return Zf(Th(qe),ce)+y+Zf(Ru(qe),ce)}function Iw(y,R,ce){y=Es(y),R=er(R);var Pe=R?wr(y):0;return R&&Pe<R?y+Zf(R-Pe,ce):y}function Uv(y,R,ce){y=Es(y),R=er(R);var Pe=R?wr(y):0;return R&&Pe<R?Zf(R-Pe,ce)+y:y}function Lw(y,R,ce){return ce||R==null?R=0:R&&(R=+R),Vd(Es(y).replace(ut,""),R||0)}function ay(y,R,ce){return(ce?Ja(y,R,ce):R===i)?R=1:R=er(R),Al(Es(y),R)}function Yu(){var y=arguments,R=Es(y[0]);return y.length<3?R:R.replace(y[1],y[2])}var Vh=yd(function(y,R,ce){return y+(ce?"_":"")+R.toLowerCase()});function $v(y,R,ce){return ce&&typeof ce!="number"&&Ja(y,R,ce)&&(R=ce=i),ce=ce===i?le:ce>>>0,ce?(y=Es(y),y&&(typeof R=="string"||R!=null&&!X1(R))&&(R=Pl(R),!R&&Da(y))?Fu(qo(y),0,ce):y.split(R,ce)):[]}var Vv=yd(function(y,R,ce){return y+(ce?" ":"")+rg(R)});function Ow(y,R,ce){return y=Es(y),ce=ce==null?0:he(er(ce),0,y.length),R=Pl(R),y.slice(ce,ce+R.length)==R}function ig(y,R,ce){var Pe=it.templateSettings;ce&&Ja(y,R,ce)&&(R=i),y=Es(y),R=Km({},R,Pe,d1);var qe=Km({},R.imports,Pe.imports,d1),ot=Eo(qe),At=tc(qe,ot),jt,Zt,Di=0,Bi=R.interpolate||vn,Wi="__p += '",_n=Mc((R.escape||vn).source+"|"+Bi.source+"|"+(Bi===Pn?Xi:vn).source+"|"+(R.evaluate||vn).source+"|$","g"),zn="//# sourceURL="+(ci.call(R,"sourceURL")?(R.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Au+"]")+`
`;y.replace(_n,function(or,Vr,Zr,Ol,il,Rl){return Zr||(Zr=Ol),Wi+=y.slice(Di,Rl).replace(Xr,dd),Vr&&(jt=!0,Wi+=`' +
__e(`+Vr+`) +
'`),il&&(Zt=!0,Wi+=`';
`+il+`;
__p += '`),Zr&&(Wi+=`' +
((__t = (`+Zr+`)) == null ? '' : __t) +
'`),Di=Rl+or.length,or}),Wi+=`';
`;var rr=ci.call(R,"variable")&&R.variable;if(!rr)Wi=`with (obj) {
`+Wi+`
}
`;else if(Gt.test(rr))throw new Jn(s);Wi=(Zt?Wi.replace(Rn,""):Wi).replace(Gr,"$1").replace(di,"$1;"),Wi="function("+(rr||"obj")+`) {
`+(rr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(jt?", __e = _.escape":"")+(Zt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Wi+`return __p
}`;var Or=uy(function(){return Br(ot,zn+"return "+Wi).apply(i,At)});if(Or.source=Wi,W1(Or))throw Or;return Or}function ly(y){return Es(y).toLowerCase()}function Wp(y){return Es(y).toUpperCase()}function f0(y,R,ce){if(y=Es(y),y&&(ce||R===i))return ec(y);if(!y||!(R=Pl(R)))return y;var Pe=qo(y),qe=qo(R),ot=ud(Pe,qe),At=ic(Pe,qe)+1;return Fu(Pe,ot,At).join("")}function m0(y,R,ce){if(y=Es(y),y&&(ce||R===i))return y.slice(0,wo(y)+1);if(!y||!(R=Pl(R)))return y;var Pe=qo(y),qe=ic(Pe,qo(R))+1;return Fu(Pe,0,qe).join("")}function ng(y,R,ce){if(y=Es(y),y&&(ce||R===i))return y.replace(ut,"");if(!y||!(R=Pl(R)))return y;var Pe=qo(y),qe=ud(Pe,qo(R));return Fu(Pe,qe).join("")}function Gv(y,R){var ce=V,Pe=j;if(ho(R)){var qe="separator"in R?R.separator:qe;ce="length"in R?er(R.length):ce,Pe="omission"in R?Pl(R.omission):Pe}y=Es(y);var ot=y.length;if(Da(y)){var At=qo(y);ot=At.length}if(ce>=ot)return y;var jt=ce-wr(Pe);if(jt<1)return Pe;var Zt=At?Fu(At,0,jt).join(""):y.slice(0,jt);if(qe===i)return Zt+Pe;if(At&&(jt+=Zt.length-jt),X1(qe)){if(y.slice(jt).search(qe)){var Di,Bi=Zt;for(qe.global||(qe=Mc(qe.source,Es(Ii.exec(qe))+"g")),qe.lastIndex=0;Di=qe.exec(Bi);)var Wi=Di.index;Zt=Zt.slice(0,Wi===i?jt:Wi)}}else if(y.indexOf(Pl(qe),jt)!=jt){var _n=Zt.lastIndexOf(qe);_n>-1&&(Zt=Zt.slice(0,_n))}return Zt+Pe}function g0(y){return y=Es(y),y&&fr.test(y)?y.replace(Hi,ca):y}var cy=yd(function(y,R,ce){return y+(ce?" ":"")+R.toUpperCase()}),rg=l1("toUpperCase");function Gh(y,R,ce){return y=Es(y),R=ce?i:R,R===i?sc(y)?Fd(y):Jl(y):y.match(R)||[]}var uy=_r(function(y,R){try{return Pi(y,i,R)}catch(ce){return W1(ce)?ce:new Jn(ce)}}),dy=cu(function(y,R){return mi(R,function(ce){ce=Il(ce),q(y,ce,Vm(y[ce],y))}),y});function Hv(y){var R=y==null?0:y.length,ce=Zn();return y=R?gr(y,function(Pe){if(typeof Pe[1]!="function")throw new Zo(h);return[ce(Pe[0]),Pe[1]]}):[],_r(function(Pe){for(var qe=-1;++qe<R;){var ot=y[qe];if(Pi(ot[0],this,Pe))return Pi(ot[1],this,Pe)}})}function Rw(y){return De(ye(y,M))}function hy(y){return function(){return y}}function Wv(y,R){return y==null||y!==y?R:y}var Hh=To(),Bw=To(!0);function $o(y){return y}function py(y){return ss(typeof y=="function"?y:ye(y,M))}function y0(y){return lc(ye(y,M))}function _0(y,R){return gs(y,ye(R,M))}var v0=_r(function(y,R){return function(ce){return zi(ce,y,R)}}),x0=_r(function(y,R){return function(ce){return zi(y,ce,R)}});function Yp(y,R,ce){var Pe=Eo(R),qe=ni(R,Pe);ce==null&&!(ho(R)&&(qe.length||!Pe.length))&&(ce=R,R=y,y=this,qe=ni(R,Eo(R)));var ot=!(ho(ce)&&"chain"in ce)||!!ce.chain,At=Hu(y);return mi(qe,function(jt){var Zt=R[jt];y[jt]=Zt,At&&(y.prototype[jt]=function(){var Di=this.__chain__;if(ot||Di){var Bi=y(this.__wrapped__),Wi=Bi.__actions__=Lo(this.__actions__);return Wi.push({func:Zt,args:arguments,thisArg:y}),Bi.__chain__=Di,Bi}return Zt.apply(y,yr([this.value()],arguments))})}),y}function Nw(){return Qs._===this&&(Qs._=Un),this}function fy(){}function qp(y){return y=er(y),_r(function(R){return uo(R,y)})}var sg=Ir(gr),zw=Ir(Xn),Yv=Ir(vr);function my(y){return x1(y)?ba(Il(y)):kh(y)}function Fw(y){return function(R){return y==null?i:Qt(y,R)}}var qv=lu(),jw=lu(!0);function og(){return[]}function gy(){return!1}function Xv(){return{}}function Uw(){return""}function $w(){return!0}function ag(y,R){if(y=er(y),y<1||y>X)return[];var ce=le,Pe=ms(y,le);R=Zn(R),y-=le;for(var qe=wa(Pe,R);++ce<y;)R(ce);return qe}function lg(y){return xr(y)?gr(y,Il):tl(y)?[y]:Lo(S1(Es(y)))}function cg(y){var R=++Li;return Es(y)+R}var Vw=Dh(function(y,R){return y+R},0),yy=pl("ceil"),_y=Dh(function(y,R){return y/R},1),ih=pl("floor");function Gw(y){return y&&y.length?et(y,$o,Kt):i}function vy(y,R){return y&&y.length?et(y,Zn(R,2),Kt):i}function Zv(y){return jo(y,$o)}function ug(y,R){return jo(y,Zn(R,2))}function Hw(y){return y&&y.length?et(y,$o,Ia):i}function Ww(y,R){return y&&y.length?et(y,Zn(R,2),Ia):i}var Yw=Dh(function(y,R){return y*R},1),qw=pl("round"),xy=Dh(function(y,R){return y-R},0);function Xw(y){return y&&y.length?jr(y,$o):0}function b0(y,R){return y&&y.length?jr(y,Zn(R,2)):0}return it.after=pv,it.ary=j1,it.assign=Cv,it.assignIn=K1,it.assignInWith=Km,it.assignWith=Ev,it.at=Mv,it.before=U1,it.bind=Vm,it.bindAll=dy,it.bindKey=$1,it.castArray=Wm,it.chain=rv,it.chunk=Qa,it.compact=Oc,it.concat=C1,it.cond=Hv,it.conforms=Rw,it.constant=hy,it.countBy=G2,it.create=J1,it.curry=V1,it.curryRight=fv,it.debounce=mv,it.defaults=kv,it.defaultsDeep=bw,it.defer=gv,it.delay=Gm,it.difference=go,it.differenceBy=W_,it.differenceWith=Qf,it.drop=hu,it.dropRight=w2,it.dropRightWhile=T2,it.dropWhile=Y_,it.fill=q_,it.filter=W2,it.flatMap=q2,it.flatMapDeep=ov,it.flatMapDepth=zp,it.flatten=M1,it.flattenDeep=X_,it.flattenDepth=Z_,it.flip=yv,it.flow=Hh,it.flowRight=Bw,it.fromPairs=S2,it.functions=ww,it.functionsIn=Tw,it.groupBy=X2,it.initial=A1,it.intersection=el,it.intersectionBy=K_,it.intersectionWith=C2,it.invert=Rv,it.invertBy=Bv,it.invokeMap=uv,it.iteratee=py,it.keyBy=Z2,it.keys=Eo,it.keysIn=fl,it.map=Fm,it.mapKeys=Qm,it.mapValues=Nv,it.matches=y0,it.matchesProperty=_0,it.memoize=ha,it.merge=eg,it.mergeWith=h0,it.method=v0,it.methodOf=x0,it.mixin=Yp,it.negate=eh,it.nthArg=qp,it.omit=Sw,it.omitBy=Cw,it.once=Fp,it.orderBy=K2,it.over=sg,it.overArgs=l0,it.overEvery=zw,it.overSome=Yv,it.partial=Hm,it.partialRight=G1,it.partition=F1,it.pick=Ew,it.pickBy=zv,it.property=my,it.propertyOf=Fw,it.pull=ev,it.pullAll=P1,it.pullAllBy=D1,it.pullAllWith=xd,it.pullAt=Ll,it.range=qv,it.rangeRight=jw,it.rearg=ew,it.reject=J2,it.remove=M2,it.rest=tw,it.reverse=e0,it.sampleSize=s0,it.set=Vp,it.setWith=ey,it.shuffle=o0,it.slice=k2,it.sortBy=hv,it.sortedUniq=i0,it.sortedUniqBy=D2,it.split=$v,it.spread=iw,it.tail=I2,it.take=L2,it.takeRight=O2,it.takeRightWhile=R2,it.takeWhile=B2,it.tap=sv,it.throttle=nw,it.thru=Qd,it.toArray=qm,it.toPairs=Fv,it.toPairsIn=ty,it.toPath=lg,it.toPlainObject=Xm,it.transform=kw,it.unary=rw,it.union=N2,it.unionBy=I1,it.unionWith=z2,it.uniq=Bp,it.uniqBy=F2,it.uniqWith=So,it.unset=iy,it.unzip=Np,it.unzipWith=L1,it.update=Aw,it.updateWith=th,it.values=$h,it.valuesIn=jv,it.without=Rm,it.words=Gh,it.wrap=sw,it.xor=Bm,it.xorBy=n0,it.xorWith=iv,it.zip=nv,it.zipObject=r0,it.zipObjectDeep=O1,it.zipWith=R1,it.entries=Fv,it.entriesIn=ty,it.extend=K1,it.extendWith=Km,Yp(it,it),it.add=Vw,it.attempt=uy,it.camelCase=Dw,it.capitalize=ry,it.ceil=yy,it.clamp=tg,it.clone=ow,it.cloneDeep=vv,it.cloneDeepWith=xv,it.cloneWith=_v,it.conformsTo=aw,it.deburr=sy,it.defaultTo=Wv,it.divide=_y,it.endsWith=p0,it.eq=pu,it.escape=Td,it.escapeRegExp=oy,it.every=H2,it.find=Y2,it.findIndex=Jd,it.findKey=Av,it.findLast=zm,it.findLastIndex=E1,it.findLastKey=wd,it.floor=ih,it.forEach=av,it.forEachRight=lv,it.forIn=Pv,it.forInRight=Dv,it.forOwn=Iv,it.forOwnRight=Lv,it.get=Jm,it.gt=lw,it.gte=cw,it.has=Ov,it.hasIn=Uh,it.head=Lm,it.identity=$o,it.includes=cv,it.indexOf=k1,it.inRange=ny,it.invoke=Q1,it.isArguments=jh,it.isArray=xr,it.isArrayBuffer=uw,it.isArrayLike=_s,it.isArrayLikeObject=Cs,it.isBoolean=H1,it.isBuffer=fu,it.isDate=jp,it.isElement=dw,it.isEmpty=hw,it.isEqual=c0,it.isEqualWith=pw,it.isError=W1,it.isFinite=u0,it.isFunction=Hu,it.isInteger=Y1,it.isLength=rs,it.isMap=q1,it.isMatch=bd,it.isMatchWith=Up,it.isNaN=bv,it.isNative=fw,it.isNil=gw,it.isNull=mw,it.isNumber=wv,it.isObject=ho,it.isObjectLike=Co,it.isPlainObject=d0,it.isRegExp=X1,it.isSafeInteger=yw,it.isSet=Tv,it.isString=Ym,it.isSymbol=tl,it.isTypedArray=mu,it.isUndefined=Sv,it.isWeakMap=_w,it.isWeakSet=vw,it.join=J_,it.kebabCase=Gp,it.last=Rc,it.lastIndexOf=E2,it.lowerCase=Hp,it.lowerFirst=Bc,it.lt=xw,it.lte=Z1,it.max=Gw,it.maxBy=vy,it.mean=Zv,it.meanBy=ug,it.min=Hw,it.minBy=Ww,it.stubArray=og,it.stubFalse=gy,it.stubObject=Xv,it.stubString=Uw,it.stubTrue=$w,it.multiply=Yw,it.nth=Q_,it.noConflict=Nw,it.noop=fy,it.now=$m,it.pad=Nc,it.padEnd=Iw,it.padStart=Uv,it.parseInt=Lw,it.random=Pw,it.reduce=jm,it.reduceRight=Um,it.repeat=ay,it.replace=Yu,it.result=Mw,it.round=qw,it.runInContext=Ht,it.sample=Q2,it.size=dv,it.snakeCase=Vh,it.some=a0,it.sortedIndex=A2,it.sortedIndexBy=P2,it.sortedIndexOf=t0,it.sortedLastIndex=Om,it.sortedLastIndexBy=tv,it.sortedLastIndexOf=Fh,it.startCase=Vv,it.startsWith=Ow,it.subtract=xy,it.sum=Xw,it.sumBy=b0,it.template=ig,it.times=ag,it.toFinite=Wu,it.toInteger=er,it.toLength=$p,it.toLower=ly,it.toNumber=La,it.toSafeInteger=Zm,it.toString=Es,it.toUpper=Wp,it.trim=f0,it.trimEnd=m0,it.trimStart=ng,it.truncate=Gv,it.unescape=g0,it.uniqueId=cg,it.upperCase=cy,it.upperFirst=rg,it.each=av,it.eachRight=lv,it.first=Lm,Yp(it,function(){var y={};return Et(it,function(R,ce){ci.call(it.prototype,ce)||(y[ce]=R)}),y}(),{chain:!1}),it.VERSION=r,mi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){it[y].placeholder=it}),mi(["drop","take"],function(y,R){Qn.prototype[y]=function(ce){ce=ce===i?1:Gs(er(ce),0);var Pe=this.__filtered__&&!R?new Qn(this):this.clone();return Pe.__filtered__?Pe.__takeCount__=ms(ce,Pe.__takeCount__):Pe.__views__.push({size:ms(ce,le),type:y+(Pe.__dir__<0?"Right":"")}),Pe},Qn.prototype[y+"Right"]=function(ce){return this.reverse()[y](ce).reverse()}}),mi(["filter","map","takeWhile"],function(y,R){var ce=R+1,Pe=ce==m||ce==x;Qn.prototype[y]=function(qe){var ot=this.clone();return ot.__iteratees__.push({iteratee:Zn(qe,3),type:ce}),ot.__filtered__=ot.__filtered__||Pe,ot}}),mi(["head","last"],function(y,R){var ce="take"+(R?"Right":"");Qn.prototype[y]=function(){return this[ce](1).value()[0]}}),mi(["initial","tail"],function(y,R){var ce="drop"+(R?"":"Right");Qn.prototype[y]=function(){return this.__filtered__?new Qn(this):this[ce](1)}}),Qn.prototype.compact=function(){return this.filter($o)},Qn.prototype.find=function(y){return this.filter(y).head()},Qn.prototype.findLast=function(y){return this.reverse().find(y)},Qn.prototype.invokeMap=_r(function(y,R){return typeof y=="function"?new Qn(this):this.map(function(ce){return zi(ce,y,R)})}),Qn.prototype.reject=function(y){return this.filter(eh(Zn(y)))},Qn.prototype.slice=function(y,R){y=er(y);var ce=this;return ce.__filtered__&&(y>0||R<0)?new Qn(ce):(y<0?ce=ce.takeRight(-y):y&&(ce=ce.drop(y)),R!==i&&(R=er(R),ce=R<0?ce.dropRight(-R):ce.take(R-y)),ce)},Qn.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},Qn.prototype.toArray=function(){return this.take(le)},Et(Qn.prototype,function(y,R){var ce=/^(?:filter|find|map|reject)|While$/.test(R),Pe=/^(?:head|last)$/.test(R),qe=it[Pe?"take"+(R=="last"?"Right":""):R],ot=Pe||/^find/.test(R);qe&&(it.prototype[R]=function(){var At=this.__wrapped__,jt=Pe?[1]:arguments,Zt=At instanceof Qn,Di=jt[0],Bi=Zt||xr(At),Wi=function(Vr){var Zr=qe.apply(it,yr([Vr],jt));return Pe&&_n?Zr[0]:Zr};Bi&&ce&&typeof Di=="function"&&Di.length!=1&&(Zt=Bi=!1);var _n=this.__chain__,zn=!!this.__actions__.length,rr=ot&&!_n,Or=Zt&&!zn;if(!ot&&Bi){At=Or?At:new Qn(this);var or=y.apply(At,jt);return or.__actions__.push({func:Qd,args:[Wi],thisArg:i}),new ul(or,_n)}return rr&&Or?y.apply(this,jt):(or=this.thru(Wi),rr?Pe?or.value()[0]:or.value():or)})}),mi(["pop","push","shift","sort","splice","unshift"],function(y){var R=st[y],ce=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",Pe=/^(?:pop|shift)$/.test(y);it.prototype[y]=function(){var qe=arguments;if(Pe&&!this.__chain__){var ot=this.value();return R.apply(xr(ot)?ot:[],qe)}return this[ce](function(At){return R.apply(xr(At)?At:[],qe)})}}),Et(Qn.prototype,function(y,R){var ce=it[R];if(ce){var Pe=ce.name+"";ci.call(hd,Pe)||(hd[Pe]=[]),hd[Pe].push({name:R,func:ce})}}),hd[Bn(i,k).name]=[{name:"wrapper",func:i}],Qn.prototype.clone=e1,Qn.prototype.reverse=Ff,Qn.prototype.value=t1,it.prototype.at=j2,it.prototype.chain=B1,it.prototype.commit=U2,it.prototype.next=N1,it.prototype.plant=Nm,it.prototype.reverse=$2,it.prototype.toJSON=it.prototype.valueOf=it.prototype.value=V2,it.prototype.first=it.prototype.head,Tr&&(it.prototype[Tr]=z1),it},Xo=jd();ue?((ue.exports=Xo)._=Xo,Z._=Xo):Qs._=Xo}).call(ja)})(zx,zx.exports);var d6=zx.exports;const vb=rd(d6);var TM={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,i){e.exports=t.document?i(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return i(r)}})(typeof window<"u"?window:ja,function(t,i){var r=[],o=Object.getPrototypeOf,u=r.slice,h=r.flat?function(Z){return r.flat.call(Z)}:function(Z){return r.concat.apply([],Z)},s=r.push,v=r.indexOf,I={},J=I.toString,M=I.hasOwnProperty,B=M.toString,W=B.call(Object),O={},L=function(ue){return typeof ue=="function"&&typeof ue.nodeType!="number"&&typeof ue.item!="function"},G=function(ue){return ue!=null&&ue===ue.window},k=t.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function A(Z,ue,be){be=be||k;var ke,Ue,Ge=be.createElement("script");if(Ge.text=Z,ue)for(ke in S)Ue=ue[ke]||ue.getAttribute&&ue.getAttribute(ke),Ue&&Ge.setAttribute(ke,Ue);be.head.appendChild(Ge).parentNode.removeChild(Ge)}function H(Z){return Z==null?Z+"":typeof Z=="object"||typeof Z=="function"?I[J.call(Z)]||"object":typeof Z}var U="3.6.3",E=function(Z,ue){return new E.fn.init(Z,ue)};E.fn=E.prototype={jquery:U,constructor:E,length:0,toArray:function(){return u.call(this)},get:function(Z){return Z==null?u.call(this):Z<0?this[Z+this.length]:this[Z]},pushStack:function(Z){var ue=E.merge(this.constructor(),Z);return ue.prevObject=this,ue},each:function(Z){return E.each(this,Z)},map:function(Z){return this.pushStack(E.map(this,function(ue,be){return Z.call(ue,be,ue)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(Z,ue){return(ue+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(Z,ue){return ue%2}))},eq:function(Z){var ue=this.length,be=+Z+(Z<0?ue:0);return this.pushStack(be>=0&&be<ue?[this[be]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:r.sort,splice:r.splice},E.extend=E.fn.extend=function(){var Z,ue,be,ke,Ue,Ge,Je=arguments[0]||{},zt=1,Mt=arguments.length,Jt=!1;for(typeof Je=="boolean"&&(Jt=Je,Je=arguments[zt]||{},zt++),typeof Je!="object"&&!L(Je)&&(Je={}),zt===Mt&&(Je=this,zt--);zt<Mt;zt++)if((Z=arguments[zt])!=null)for(ue in Z)ke=Z[ue],!(ue==="__proto__"||Je===ke)&&(Jt&&ke&&(E.isPlainObject(ke)||(Ue=Array.isArray(ke)))?(be=Je[ue],Ue&&!Array.isArray(be)?Ge=[]:!Ue&&!E.isPlainObject(be)?Ge={}:Ge=be,Ue=!1,Je[ue]=E.extend(Jt,Ge,ke)):ke!==void 0&&(Je[ue]=ke));return Je},E.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(Z){throw new Error(Z)},noop:function(){},isPlainObject:function(Z){var ue,be;return!Z||J.call(Z)!=="[object Object]"?!1:(ue=o(Z),ue?(be=M.call(ue,"constructor")&&ue.constructor,typeof be=="function"&&B.call(be)===W):!0)},isEmptyObject:function(Z){var ue;for(ue in Z)return!1;return!0},globalEval:function(Z,ue,be){A(Z,{nonce:ue&&ue.nonce},be)},each:function(Z,ue){var be,ke=0;if(ie(Z))for(be=Z.length;ke<be&&ue.call(Z[ke],ke,Z[ke])!==!1;ke++);else for(ke in Z)if(ue.call(Z[ke],ke,Z[ke])===!1)break;return Z},makeArray:function(Z,ue){var be=ue||[];return Z!=null&&(ie(Object(Z))?E.merge(be,typeof Z=="string"?[Z]:Z):s.call(be,Z)),be},inArray:function(Z,ue,be){return ue==null?-1:v.call(ue,Z,be)},merge:function(Z,ue){for(var be=+ue.length,ke=0,Ue=Z.length;ke<be;ke++)Z[Ue++]=ue[ke];return Z.length=Ue,Z},grep:function(Z,ue,be){for(var ke,Ue=[],Ge=0,Je=Z.length,zt=!be;Ge<Je;Ge++)ke=!ue(Z[Ge],Ge),ke!==zt&&Ue.push(Z[Ge]);return Ue},map:function(Z,ue,be){var ke,Ue,Ge=0,Je=[];if(ie(Z))for(ke=Z.length;Ge<ke;Ge++)Ue=ue(Z[Ge],Ge,be),Ue!=null&&Je.push(Ue);else for(Ge in Z)Ue=ue(Z[Ge],Ge,be),Ue!=null&&Je.push(Ue);return h(Je)},guid:1,support:O}),typeof Symbol=="function"&&(E.fn[Symbol.iterator]=r[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(Z,ue){I["[object "+ue+"]"]=ue.toLowerCase()});function ie(Z){var ue=!!Z&&"length"in Z&&Z.length,be=H(Z);return L(Z)||G(Z)?!1:be==="array"||ue===0||typeof ue=="number"&&ue>0&&ue-1 in Z}var ee=function(Z){var ue,be,ke,Ue,Ge,Je,zt,Mt,Jt,_i,Pi,ai,mi,Ji,Xn,fn,fs,Qr,gr,yr="sizzle"+1*new Date,Yn=Z.document,ao=0,vr=0,es=qo(),qa=qo(),Jl=qo(),lo=qo(),oa=function(st,Pt){return st===Pt&&(Pi=!0),0},Kn={}.hasOwnProperty,xo=[],aa=xo.pop,jo=xo.push,ba=xo.push,Ql=xo.slice,cl=function(st,Pt){for(var $t=0,Ti=st.length;$t<Ti;$t++)if(st[$t]===Pt)return $t;return-1},Iu="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",jr="[\\x20\\t\\r\\n\\f]",wa="(?:\\\\[\\da-fA-F]{1,6}"+jr+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",iu="\\["+jr+"*("+wa+")(?:"+jr+"*([*^$|!~]?=)"+jr+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+wa+"))|)"+jr+"*\\]",ec=":("+wa+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+iu+")*)|.*)\\)|)",Uo=new RegExp(jr+"+","g"),tc=new RegExp("^"+jr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+jr+"+$","g"),Sc=new RegExp("^"+jr+"*,"+jr+"*"),ud=new RegExp("^"+jr+"*([>+~]|"+jr+")"+jr+"*"),ic=new RegExp(jr+"|>"),nc=new RegExp(ec),Nd=new RegExp("^"+wa+"$"),rc={ID:new RegExp("^#("+wa+")"),CLASS:new RegExp("^\\.("+wa+")"),TAG:new RegExp("^("+wa+"|[*])"),ATTR:new RegExp("^"+iu),PSEUDO:new RegExp("^"+ec),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+jr+"*(even|odd|(([+-]|)(\\d*)n|)"+jr+"*(?:([+-]|)"+jr+"*(\\d+)|))"+jr+"*\\)|)","i"),bool:new RegExp("^(?:"+Iu+")$","i"),needsContext:new RegExp("^"+jr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+jr+"*((?:-\\d)?\\d*)"+jr+"*\\)|)(?=[^-]|$)","i")},dd=/HTML$/i,Pa=/^(?:input|select|textarea|button)$/i,Da=/^h\d$/i,sc=/^[^{]+\{\s*\[native \w/,Lu=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Cc=/[+~]/,la=new RegExp("\\\\[\\da-fA-F]{1,6}"+jr+"?|\\\\([^\\r\\n\\f])","g"),bo=function(st,Pt){var $t="0x"+st.slice(1)-65536;return Pt||($t<0?String.fromCharCode($t+65536):String.fromCharCode($t>>10|55296,$t&1023|56320))},Cl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oc=function(st,Pt){return Pt?st==="\0"?"�":st.slice(0,-1)+"\\"+st.charCodeAt(st.length-1).toString(16)+" ":"\\"+st},Ec=function(){ai()},wh=Jn(function(st){return st.disabled===!0&&st.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{ba.apply(xo=Ql.call(Yn.childNodes),Yn.childNodes),xo[Yn.childNodes.length].nodeType}catch{ba={apply:xo.length?function(Pt,$t){jo.apply(Pt,Ql.call($t))}:function(Pt,$t){for(var Ti=Pt.length,Wt=0;Pt[Ti++]=$t[Wt++];);Pt.length=Ti-1}}}function wr(st,Pt,$t,Ti){var Wt,ci,Li,an,Ni,Nn,Un,Vn=Pt&&Pt.ownerDocument,nr=Pt?Pt.nodeType:9;if($t=$t||[],typeof st!="string"||!st||nr!==1&&nr!==9&&nr!==11)return $t;if(!Ti&&(ai(Pt),Pt=Pt||mi,Xn)){if(nr!==11&&(Ni=Lu.exec(st)))if(Wt=Ni[1]){if(nr===9)if(Li=Pt.getElementById(Wt)){if(Li.id===Wt)return $t.push(Li),$t}else return $t;else if(Vn&&(Li=Vn.getElementById(Wt))&&gr(Pt,Li)&&Li.id===Wt)return $t.push(Li),$t}else{if(Ni[2])return ba.apply($t,Pt.getElementsByTagName(st)),$t;if((Wt=Ni[3])&&be.getElementsByClassName&&Pt.getElementsByClassName)return ba.apply($t,Pt.getElementsByClassName(Wt)),$t}if(be.qsa&&!lo[st+" "]&&(!fn||!fn.test(st))&&(nr!==1||Pt.nodeName.toLowerCase()!=="object")){if(Un=st,Vn=Pt,nr===1&&(ic.test(st)||ud.test(st))){for(Vn=Cc.test(st)&&wi(Pt.parentNode)||Pt,(Vn!==Pt||!be.scope)&&((an=Pt.getAttribute("id"))?an=an.replace(Cl,oc):Pt.setAttribute("id",an=yr)),Nn=Je(st),ci=Nn.length;ci--;)Nn[ci]=(an?"#"+an:":scope")+" "+mn(Nn[ci]);Un=Nn.join(",")}try{if(be.cssSupportsSelector&&!CSS.supports("selector(:is("+Un+"))"))throw new Error;return ba.apply($t,Vn.querySelectorAll(Un)),$t}catch{lo(st,!0)}finally{an===yr&&Pt.removeAttribute("id")}}}return Mt(st.replace(tc,"$1"),Pt,$t,Ti)}function qo(){var st=[];function Pt($t,Ti){return st.push($t+" ")>ke.cacheLength&&delete Pt[st.shift()],Pt[$t+" "]=Ti}return Pt}function wo(st){return st[yr]=!0,st}function ca(st){var Pt=mi.createElement("fieldset");try{return!!st(Pt)}catch{return!1}finally{Pt.parentNode&&Pt.parentNode.removeChild(Pt),Pt=null}}function El(st,Pt){for(var $t=st.split("|"),Ti=$t.length;Ti--;)ke.attrHandle[$t[Ti]]=Pt}function zd(st,Pt){var $t=Pt&&st,Ti=$t&&st.nodeType===1&&Pt.nodeType===1&&st.sourceIndex-Pt.sourceIndex;if(Ti)return Ti;if($t){for(;$t=$t.nextSibling;)if($t===Pt)return-1}return st?1:-1}function Fd(st){return function(Pt){var $t=Pt.nodeName.toLowerCase();return $t==="input"&&Pt.type===st}}function jd(st){return function(Pt){var $t=Pt.nodeName.toLowerCase();return($t==="input"||$t==="button")&&Pt.type===st}}function Xo(st){return function(Pt){return"form"in Pt?Pt.parentNode&&Pt.disabled===!1?"label"in Pt?"label"in Pt.parentNode?Pt.parentNode.disabled===st:Pt.disabled===st:Pt.isDisabled===st||Pt.isDisabled!==!st&&wh(Pt)===st:Pt.disabled===st:"label"in Pt?Pt.disabled===st:!1}}function Ht(st){return wo(function(Pt){return Pt=+Pt,wo(function($t,Ti){for(var Wt,ci=st([],$t.length,Pt),Li=ci.length;Li--;)$t[Wt=ci[Li]]&&($t[Wt]=!(Ti[Wt]=$t[Wt]))})})}function wi(st){return st&&typeof st.getElementsByTagName<"u"&&st}be=wr.support={},Ge=wr.isXML=function(st){var Pt=st&&st.namespaceURI,$t=st&&(st.ownerDocument||st).documentElement;return!dd.test(Pt||$t&&$t.nodeName||"HTML")},ai=wr.setDocument=function(st){var Pt,$t,Ti=st?st.ownerDocument||st:Yn;return Ti==mi||Ti.nodeType!==9||!Ti.documentElement||(mi=Ti,Ji=mi.documentElement,Xn=!Ge(mi),Yn!=mi&&($t=mi.defaultView)&&$t.top!==$t&&($t.addEventListener?$t.addEventListener("unload",Ec,!1):$t.attachEvent&&$t.attachEvent("onunload",Ec)),be.scope=ca(function(Wt){return Ji.appendChild(Wt).appendChild(mi.createElement("div")),typeof Wt.querySelectorAll<"u"&&!Wt.querySelectorAll(":scope fieldset div").length}),be.cssSupportsSelector=ca(function(){return CSS.supports("selector(*)")&&mi.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),be.attributes=ca(function(Wt){return Wt.className="i",!Wt.getAttribute("className")}),be.getElementsByTagName=ca(function(Wt){return Wt.appendChild(mi.createComment("")),!Wt.getElementsByTagName("*").length}),be.getElementsByClassName=sc.test(mi.getElementsByClassName),be.getById=ca(function(Wt){return Ji.appendChild(Wt).id=yr,!mi.getElementsByName||!mi.getElementsByName(yr).length}),be.getById?(ke.filter.ID=function(Wt){var ci=Wt.replace(la,bo);return function(Li){return Li.getAttribute("id")===ci}},ke.find.ID=function(Wt,ci){if(typeof ci.getElementById<"u"&&Xn){var Li=ci.getElementById(Wt);return Li?[Li]:[]}}):(ke.filter.ID=function(Wt){var ci=Wt.replace(la,bo);return function(Li){var an=typeof Li.getAttributeNode<"u"&&Li.getAttributeNode("id");return an&&an.value===ci}},ke.find.ID=function(Wt,ci){if(typeof ci.getElementById<"u"&&Xn){var Li,an,Ni,Nn=ci.getElementById(Wt);if(Nn){if(Li=Nn.getAttributeNode("id"),Li&&Li.value===Wt)return[Nn];for(Ni=ci.getElementsByName(Wt),an=0;Nn=Ni[an++];)if(Li=Nn.getAttributeNode("id"),Li&&Li.value===Wt)return[Nn]}return[]}}),ke.find.TAG=be.getElementsByTagName?function(Wt,ci){if(typeof ci.getElementsByTagName<"u")return ci.getElementsByTagName(Wt);if(be.qsa)return ci.querySelectorAll(Wt)}:function(Wt,ci){var Li,an=[],Ni=0,Nn=ci.getElementsByTagName(Wt);if(Wt==="*"){for(;Li=Nn[Ni++];)Li.nodeType===1&&an.push(Li);return an}return Nn},ke.find.CLASS=be.getElementsByClassName&&function(Wt,ci){if(typeof ci.getElementsByClassName<"u"&&Xn)return ci.getElementsByClassName(Wt)},fs=[],fn=[],(be.qsa=sc.test(mi.querySelectorAll))&&(ca(function(Wt){var ci;Ji.appendChild(Wt).innerHTML="<a id='"+yr+"'></a><select id='"+yr+"-\r\\' msallowcapture=''><option selected=''></option></select>",Wt.querySelectorAll("[msallowcapture^='']").length&&fn.push("[*^$]="+jr+`*(?:''|"")`),Wt.querySelectorAll("[selected]").length||fn.push("\\["+jr+"*(?:value|"+Iu+")"),Wt.querySelectorAll("[id~="+yr+"-]").length||fn.push("~="),ci=mi.createElement("input"),ci.setAttribute("name",""),Wt.appendChild(ci),Wt.querySelectorAll("[name='']").length||fn.push("\\["+jr+"*name"+jr+"*="+jr+`*(?:''|"")`),Wt.querySelectorAll(":checked").length||fn.push(":checked"),Wt.querySelectorAll("a#"+yr+"+*").length||fn.push(".#.+[+~]"),Wt.querySelectorAll("\\\f"),fn.push("[\\r\\n\\f]")}),ca(function(Wt){Wt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ci=mi.createElement("input");ci.setAttribute("type","hidden"),Wt.appendChild(ci).setAttribute("name","D"),Wt.querySelectorAll("[name=d]").length&&fn.push("name"+jr+"*[*^$|!~]?="),Wt.querySelectorAll(":enabled").length!==2&&fn.push(":enabled",":disabled"),Ji.appendChild(Wt).disabled=!0,Wt.querySelectorAll(":disabled").length!==2&&fn.push(":enabled",":disabled"),Wt.querySelectorAll("*,:x"),fn.push(",.*:")})),(be.matchesSelector=sc.test(Qr=Ji.matches||Ji.webkitMatchesSelector||Ji.mozMatchesSelector||Ji.oMatchesSelector||Ji.msMatchesSelector))&&ca(function(Wt){be.disconnectedMatch=Qr.call(Wt,"*"),Qr.call(Wt,"[s!='']:x"),fs.push("!=",ec)}),be.cssSupportsSelector||fn.push(":has"),fn=fn.length&&new RegExp(fn.join("|")),fs=fs.length&&new RegExp(fs.join("|")),Pt=sc.test(Ji.compareDocumentPosition),gr=Pt||sc.test(Ji.contains)?function(Wt,ci){var Li=Wt.nodeType===9&&Wt.documentElement||Wt,an=ci&&ci.parentNode;return Wt===an||!!(an&&an.nodeType===1&&(Li.contains?Li.contains(an):Wt.compareDocumentPosition&&Wt.compareDocumentPosition(an)&16))}:function(Wt,ci){if(ci){for(;ci=ci.parentNode;)if(ci===Wt)return!0}return!1},oa=Pt?function(Wt,ci){if(Wt===ci)return Pi=!0,0;var Li=!Wt.compareDocumentPosition-!ci.compareDocumentPosition;return Li||(Li=(Wt.ownerDocument||Wt)==(ci.ownerDocument||ci)?Wt.compareDocumentPosition(ci):1,Li&1||!be.sortDetached&&ci.compareDocumentPosition(Wt)===Li?Wt==mi||Wt.ownerDocument==Yn&&gr(Yn,Wt)?-1:ci==mi||ci.ownerDocument==Yn&&gr(Yn,ci)?1:_i?cl(_i,Wt)-cl(_i,ci):0:Li&4?-1:1)}:function(Wt,ci){if(Wt===ci)return Pi=!0,0;var Li,an=0,Ni=Wt.parentNode,Nn=ci.parentNode,Un=[Wt],Vn=[ci];if(!Ni||!Nn)return Wt==mi?-1:ci==mi?1:Ni?-1:Nn?1:_i?cl(_i,Wt)-cl(_i,ci):0;if(Ni===Nn)return zd(Wt,ci);for(Li=Wt;Li=Li.parentNode;)Un.unshift(Li);for(Li=ci;Li=Li.parentNode;)Vn.unshift(Li);for(;Un[an]===Vn[an];)an++;return an?zd(Un[an],Vn[an]):Un[an]==Yn?-1:Vn[an]==Yn?1:0}),mi},wr.matches=function(st,Pt){return wr(st,null,null,Pt)},wr.matchesSelector=function(st,Pt){if(ai(st),be.matchesSelector&&Xn&&!lo[Pt+" "]&&(!fs||!fs.test(Pt))&&(!fn||!fn.test(Pt)))try{var $t=Qr.call(st,Pt);if($t||be.disconnectedMatch||st.document&&st.document.nodeType!==11)return $t}catch{lo(Pt,!0)}return wr(Pt,mi,null,[st]).length>0},wr.contains=function(st,Pt){return(st.ownerDocument||st)!=mi&&ai(st),gr(st,Pt)},wr.attr=function(st,Pt){(st.ownerDocument||st)!=mi&&ai(st);var $t=ke.attrHandle[Pt.toLowerCase()],Ti=$t&&Kn.call(ke.attrHandle,Pt.toLowerCase())?$t(st,Pt,!Xn):void 0;return Ti!==void 0?Ti:be.attributes||!Xn?st.getAttribute(Pt):(Ti=st.getAttributeNode(Pt))&&Ti.specified?Ti.value:null},wr.escape=function(st){return(st+"").replace(Cl,oc)},wr.error=function(st){throw new Error("Syntax error, unrecognized expression: "+st)},wr.uniqueSort=function(st){var Pt,$t=[],Ti=0,Wt=0;if(Pi=!be.detectDuplicates,_i=!be.sortStable&&st.slice(0),st.sort(oa),Pi){for(;Pt=st[Wt++];)Pt===st[Wt]&&(Ti=$t.push(Wt));for(;Ti--;)st.splice($t[Ti],1)}return _i=null,st},Ue=wr.getText=function(st){var Pt,$t="",Ti=0,Wt=st.nodeType;if(Wt){if(Wt===1||Wt===9||Wt===11){if(typeof st.textContent=="string")return st.textContent;for(st=st.firstChild;st;st=st.nextSibling)$t+=Ue(st)}else if(Wt===3||Wt===4)return st.nodeValue}else for(;Pt=st[Ti++];)$t+=Ue(Pt);return $t},ke=wr.selectors={cacheLength:50,createPseudo:wo,match:rc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(st){return st[1]=st[1].replace(la,bo),st[3]=(st[3]||st[4]||st[5]||"").replace(la,bo),st[2]==="~="&&(st[3]=" "+st[3]+" "),st.slice(0,4)},CHILD:function(st){return st[1]=st[1].toLowerCase(),st[1].slice(0,3)==="nth"?(st[3]||wr.error(st[0]),st[4]=+(st[4]?st[5]+(st[6]||1):2*(st[3]==="even"||st[3]==="odd")),st[5]=+(st[7]+st[8]||st[3]==="odd")):st[3]&&wr.error(st[0]),st},PSEUDO:function(st){var Pt,$t=!st[6]&&st[2];return rc.CHILD.test(st[0])?null:(st[3]?st[2]=st[4]||st[5]||"":$t&&nc.test($t)&&(Pt=Je($t,!0))&&(Pt=$t.indexOf(")",$t.length-Pt)-$t.length)&&(st[0]=st[0].slice(0,Pt),st[2]=$t.slice(0,Pt)),st.slice(0,3))}},filter:{TAG:function(st){var Pt=st.replace(la,bo).toLowerCase();return st==="*"?function(){return!0}:function($t){return $t.nodeName&&$t.nodeName.toLowerCase()===Pt}},CLASS:function(st){var Pt=es[st+" "];return Pt||(Pt=new RegExp("(^|"+jr+")"+st+"("+jr+"|$)"))&&es(st,function($t){return Pt.test(typeof $t.className=="string"&&$t.className||typeof $t.getAttribute<"u"&&$t.getAttribute("class")||"")})},ATTR:function(st,Pt,$t){return function(Ti){var Wt=wr.attr(Ti,st);return Wt==null?Pt==="!=":Pt?(Wt+="",Pt==="="?Wt===$t:Pt==="!="?Wt!==$t:Pt==="^="?$t&&Wt.indexOf($t)===0:Pt==="*="?$t&&Wt.indexOf($t)>-1:Pt==="$="?$t&&Wt.slice(-$t.length)===$t:Pt==="~="?(" "+Wt.replace(Uo," ")+" ").indexOf($t)>-1:Pt==="|="?Wt===$t||Wt.slice(0,$t.length+1)===$t+"-":!1):!0}},CHILD:function(st,Pt,$t,Ti,Wt){var ci=st.slice(0,3)!=="nth",Li=st.slice(-4)!=="last",an=Pt==="of-type";return Ti===1&&Wt===0?function(Ni){return!!Ni.parentNode}:function(Ni,Nn,Un){var Vn,nr,Mr,On,we,Ee,Ve=ci!==Li?"nextSibling":"previousSibling",bt=Ni.parentNode,Mi=an&&Ni.nodeName.toLowerCase(),Tn=!Un&&!an,Tr=!1;if(bt){if(ci){for(;Ve;){for(On=Ni;On=On[Ve];)if(an?On.nodeName.toLowerCase()===Mi:On.nodeType===1)return!1;Ee=Ve=st==="only"&&!Ee&&"nextSibling"}return!0}if(Ee=[Li?bt.firstChild:bt.lastChild],Li&&Tn){for(On=bt,Mr=On[yr]||(On[yr]={}),nr=Mr[On.uniqueID]||(Mr[On.uniqueID]={}),Vn=nr[st]||[],we=Vn[0]===ao&&Vn[1],Tr=we&&Vn[2],On=we&&bt.childNodes[we];On=++we&&On&&On[Ve]||(Tr=we=0)||Ee.pop();)if(On.nodeType===1&&++Tr&&On===Ni){nr[st]=[ao,we,Tr];break}}else if(Tn&&(On=Ni,Mr=On[yr]||(On[yr]={}),nr=Mr[On.uniqueID]||(Mr[On.uniqueID]={}),Vn=nr[st]||[],we=Vn[0]===ao&&Vn[1],Tr=we),Tr===!1)for(;(On=++we&&On&&On[Ve]||(Tr=we=0)||Ee.pop())&&!((an?On.nodeName.toLowerCase()===Mi:On.nodeType===1)&&++Tr&&(Tn&&(Mr=On[yr]||(On[yr]={}),nr=Mr[On.uniqueID]||(Mr[On.uniqueID]={}),nr[st]=[ao,Tr]),On===Ni)););return Tr-=Wt,Tr===Ti||Tr%Ti===0&&Tr/Ti>=0}}},PSEUDO:function(st,Pt){var $t,Ti=ke.pseudos[st]||ke.setFilters[st.toLowerCase()]||wr.error("unsupported pseudo: "+st);return Ti[yr]?Ti(Pt):Ti.length>1?($t=[st,st,"",Pt],ke.setFilters.hasOwnProperty(st.toLowerCase())?wo(function(Wt,ci){for(var Li,an=Ti(Wt,Pt),Ni=an.length;Ni--;)Li=cl(Wt,an[Ni]),Wt[Li]=!(ci[Li]=an[Ni])}):function(Wt){return Ti(Wt,0,$t)}):Ti}},pseudos:{not:wo(function(st){var Pt=[],$t=[],Ti=zt(st.replace(tc,"$1"));return Ti[yr]?wo(function(Wt,ci,Li,an){for(var Ni,Nn=Ti(Wt,null,an,[]),Un=Wt.length;Un--;)(Ni=Nn[Un])&&(Wt[Un]=!(ci[Un]=Ni))}):function(Wt,ci,Li){return Pt[0]=Wt,Ti(Pt,null,Li,$t),Pt[0]=null,!$t.pop()}}),has:wo(function(st){return function(Pt){return wr(st,Pt).length>0}}),contains:wo(function(st){return st=st.replace(la,bo),function(Pt){return(Pt.textContent||Ue(Pt)).indexOf(st)>-1}}),lang:wo(function(st){return Nd.test(st||"")||wr.error("unsupported lang: "+st),st=st.replace(la,bo).toLowerCase(),function(Pt){var $t;do if($t=Xn?Pt.lang:Pt.getAttribute("xml:lang")||Pt.getAttribute("lang"))return $t=$t.toLowerCase(),$t===st||$t.indexOf(st+"-")===0;while((Pt=Pt.parentNode)&&Pt.nodeType===1);return!1}}),target:function(st){var Pt=Z.location&&Z.location.hash;return Pt&&Pt.slice(1)===st.id},root:function(st){return st===Ji},focus:function(st){return st===mi.activeElement&&(!mi.hasFocus||mi.hasFocus())&&!!(st.type||st.href||~st.tabIndex)},enabled:Xo(!1),disabled:Xo(!0),checked:function(st){var Pt=st.nodeName.toLowerCase();return Pt==="input"&&!!st.checked||Pt==="option"&&!!st.selected},selected:function(st){return st.parentNode&&st.parentNode.selectedIndex,st.selected===!0},empty:function(st){for(st=st.firstChild;st;st=st.nextSibling)if(st.nodeType<6)return!1;return!0},parent:function(st){return!ke.pseudos.empty(st)},header:function(st){return Da.test(st.nodeName)},input:function(st){return Pa.test(st.nodeName)},button:function(st){var Pt=st.nodeName.toLowerCase();return Pt==="input"&&st.type==="button"||Pt==="button"},text:function(st){var Pt;return st.nodeName.toLowerCase()==="input"&&st.type==="text"&&((Pt=st.getAttribute("type"))==null||Pt.toLowerCase()==="text")},first:Ht(function(){return[0]}),last:Ht(function(st,Pt){return[Pt-1]}),eq:Ht(function(st,Pt,$t){return[$t<0?$t+Pt:$t]}),even:Ht(function(st,Pt){for(var $t=0;$t<Pt;$t+=2)st.push($t);return st}),odd:Ht(function(st,Pt){for(var $t=1;$t<Pt;$t+=2)st.push($t);return st}),lt:Ht(function(st,Pt,$t){for(var Ti=$t<0?$t+Pt:$t>Pt?Pt:$t;--Ti>=0;)st.push(Ti);return st}),gt:Ht(function(st,Pt,$t){for(var Ti=$t<0?$t+Pt:$t;++Ti<Pt;)st.push(Ti);return st})}},ke.pseudos.nth=ke.pseudos.eq;for(ue in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ke.pseudos[ue]=Fd(ue);for(ue in{submit:!0,reset:!0})ke.pseudos[ue]=jd(ue);function gi(){}gi.prototype=ke.filters=ke.pseudos,ke.setFilters=new gi,Je=wr.tokenize=function(st,Pt){var $t,Ti,Wt,ci,Li,an,Ni,Nn=qa[st+" "];if(Nn)return Pt?0:Nn.slice(0);for(Li=st,an=[],Ni=ke.preFilter;Li;){(!$t||(Ti=Sc.exec(Li)))&&(Ti&&(Li=Li.slice(Ti[0].length)||Li),an.push(Wt=[])),$t=!1,(Ti=ud.exec(Li))&&($t=Ti.shift(),Wt.push({value:$t,type:Ti[0].replace(tc," ")}),Li=Li.slice($t.length));for(ci in ke.filter)(Ti=rc[ci].exec(Li))&&(!Ni[ci]||(Ti=Ni[ci](Ti)))&&($t=Ti.shift(),Wt.push({value:$t,type:ci,matches:Ti}),Li=Li.slice($t.length));if(!$t)break}return Pt?Li.length:Li?wr.error(st):qa(st,an).slice(0)};function mn(st){for(var Pt=0,$t=st.length,Ti="";Pt<$t;Pt++)Ti+=st[Pt].value;return Ti}function Jn(st,Pt,$t){var Ti=Pt.dir,Wt=Pt.next,ci=Wt||Ti,Li=$t&&ci==="parentNode",an=vr++;return Pt.first?function(Ni,Nn,Un){for(;Ni=Ni[Ti];)if(Ni.nodeType===1||Li)return st(Ni,Nn,Un);return!1}:function(Ni,Nn,Un){var Vn,nr,Mr,On=[ao,an];if(Un){for(;Ni=Ni[Ti];)if((Ni.nodeType===1||Li)&&st(Ni,Nn,Un))return!0}else for(;Ni=Ni[Ti];)if(Ni.nodeType===1||Li)if(Mr=Ni[yr]||(Ni[yr]={}),nr=Mr[Ni.uniqueID]||(Mr[Ni.uniqueID]={}),Wt&&Wt===Ni.nodeName.toLowerCase())Ni=Ni[Ti]||Ni;else{if((Vn=nr[ci])&&Vn[0]===ao&&Vn[1]===an)return On[2]=Vn[2];if(nr[ci]=On,On[2]=st(Ni,Nn,Un))return!0}return!1}}function Br(st){return st.length>1?function(Pt,$t,Ti){for(var Wt=st.length;Wt--;)if(!st[Wt](Pt,$t,Ti))return!1;return!0}:st[0]}function $s(st,Pt,$t){for(var Ti=0,Wt=Pt.length;Ti<Wt;Ti++)wr(st,Pt[Ti],$t);return $t}function Ur(st,Pt,$t,Ti,Wt){for(var ci,Li=[],an=0,Ni=st.length,Nn=Pt!=null;an<Ni;an++)(ci=st[an])&&(!$t||$t(ci,Ti,Wt))&&(Li.push(ci),Nn&&Pt.push(an));return Li}function Mc(st,Pt,$t,Ti,Wt,ci){return Ti&&!Ti[yr]&&(Ti=Mc(Ti)),Wt&&!Wt[yr]&&(Wt=Mc(Wt,ci)),wo(function(Li,an,Ni,Nn){var Un,Vn,nr,Mr=[],On=[],we=an.length,Ee=Li||$s(Pt||"*",Ni.nodeType?[Ni]:Ni,[]),Ve=st&&(Li||!Pt)?Ur(Ee,Mr,st,Ni,Nn):Ee,bt=$t?Wt||(Li?st:we||Ti)?[]:an:Ve;if($t&&$t(Ve,bt,Ni,Nn),Ti)for(Un=Ur(bt,On),Ti(Un,[],Ni,Nn),Vn=Un.length;Vn--;)(nr=Un[Vn])&&(bt[On[Vn]]=!(Ve[On[Vn]]=nr));if(Li){if(Wt||st){if(Wt){for(Un=[],Vn=bt.length;Vn--;)(nr=bt[Vn])&&Un.push(Ve[Vn]=nr);Wt(null,bt=[],Un,Nn)}for(Vn=bt.length;Vn--;)(nr=bt[Vn])&&(Un=Wt?cl(Li,nr):Mr[Vn])>-1&&(Li[Un]=!(an[Un]=nr))}}else bt=Ur(bt===an?bt.splice(we,bt.length):bt),Wt?Wt(null,an,bt,Nn):ba.apply(an,bt)})}function Ou(st){for(var Pt,$t,Ti,Wt=st.length,ci=ke.relative[st[0].type],Li=ci||ke.relative[" "],an=ci?1:0,Ni=Jn(function(Vn){return Vn===Pt},Li,!0),Nn=Jn(function(Vn){return cl(Pt,Vn)>-1},Li,!0),Un=[function(Vn,nr,Mr){var On=!ci&&(Mr||nr!==Jt)||((Pt=nr).nodeType?Ni(Vn,nr,Mr):Nn(Vn,nr,Mr));return Pt=null,On}];an<Wt;an++)if($t=ke.relative[st[an].type])Un=[Jn(Br(Un),$t)];else{if($t=ke.filter[st[an].type].apply(null,st[an].matches),$t[yr]){for(Ti=++an;Ti<Wt&&!ke.relative[st[Ti].type];Ti++);return Mc(an>1&&Br(Un),an>1&&mn(st.slice(0,an-1).concat({value:st[an-2].type===" "?"*":""})).replace(tc,"$1"),$t,an<Ti&&Ou(st.slice(an,Ti)),Ti<Wt&&Ou(st=st.slice(Ti)),Ti<Wt&&mn(st))}Un.push($t)}return Br(Un)}function Zo(st,Pt){var $t=Pt.length>0,Ti=st.length>0,Wt=function(ci,Li,an,Ni,Nn){var Un,Vn,nr,Mr=0,On="0",we=ci&&[],Ee=[],Ve=Jt,bt=ci||Ti&&ke.find.TAG("*",Nn),Mi=ao+=Ve==null?1:Math.random()||.1,Tn=bt.length;for(Nn&&(Jt=Li==mi||Li||Nn);On!==Tn&&(Un=bt[On])!=null;On++){if(Ti&&Un){for(Vn=0,!Li&&Un.ownerDocument!=mi&&(ai(Un),an=!Xn);nr=st[Vn++];)if(nr(Un,Li||mi,an)){Ni.push(Un);break}Nn&&(ao=Mi)}$t&&((Un=!nr&&Un)&&Mr--,ci&&we.push(Un))}if(Mr+=On,$t&&On!==Mr){for(Vn=0;nr=Pt[Vn++];)nr(we,Ee,Li,an);if(ci){if(Mr>0)for(;On--;)we[On]||Ee[On]||(Ee[On]=aa.call(Ni));Ee=Ur(Ee)}ba.apply(Ni,Ee),Nn&&!ci&&Ee.length>0&&Mr+Pt.length>1&&wr.uniqueSort(Ni)}return Nn&&(ao=Mi,Jt=Ve),we};return $t?wo(Wt):Wt}return zt=wr.compile=function(st,Pt){var $t,Ti=[],Wt=[],ci=Jl[st+" "];if(!ci){for(Pt||(Pt=Je(st)),$t=Pt.length;$t--;)ci=Ou(Pt[$t]),ci[yr]?Ti.push(ci):Wt.push(ci);ci=Jl(st,Zo(Wt,Ti)),ci.selector=st}return ci},Mt=wr.select=function(st,Pt,$t,Ti){var Wt,ci,Li,an,Ni,Nn=typeof st=="function"&&st,Un=!Ti&&Je(st=Nn.selector||st);if($t=$t||[],Un.length===1){if(ci=Un[0]=Un[0].slice(0),ci.length>2&&(Li=ci[0]).type==="ID"&&Pt.nodeType===9&&Xn&&ke.relative[ci[1].type]){if(Pt=(ke.find.ID(Li.matches[0].replace(la,bo),Pt)||[])[0],Pt)Nn&&(Pt=Pt.parentNode);else return $t;st=st.slice(ci.shift().value.length)}for(Wt=rc.needsContext.test(st)?0:ci.length;Wt--&&(Li=ci[Wt],!ke.relative[an=Li.type]);)if((Ni=ke.find[an])&&(Ti=Ni(Li.matches[0].replace(la,bo),Cc.test(ci[0].type)&&wi(Pt.parentNode)||Pt))){if(ci.splice(Wt,1),st=Ti.length&&mn(ci),!st)return ba.apply($t,Ti),$t;break}}return(Nn||zt(st,Un))(Ti,Pt,!Xn,$t,!Pt||Cc.test(st)&&wi(Pt.parentNode)||Pt),$t},be.sortStable=yr.split("").sort(oa).join("")===yr,be.detectDuplicates=!!Pi,ai(),be.sortDetached=ca(function(st){return st.compareDocumentPosition(mi.createElement("fieldset"))&1}),ca(function(st){return st.innerHTML="<a href='#'></a>",st.firstChild.getAttribute("href")==="#"})||El("type|href|height|width",function(st,Pt,$t){if(!$t)return st.getAttribute(Pt,Pt.toLowerCase()==="type"?1:2)}),(!be.attributes||!ca(function(st){return st.innerHTML="<input/>",st.firstChild.setAttribute("value",""),st.firstChild.getAttribute("value")===""}))&&El("value",function(st,Pt,$t){if(!$t&&st.nodeName.toLowerCase()==="input")return st.defaultValue}),ca(function(st){return st.getAttribute("disabled")==null})||El(Iu,function(st,Pt,$t){var Ti;if(!$t)return st[Pt]===!0?Pt.toLowerCase():(Ti=st.getAttributeNode(Pt))&&Ti.specified?Ti.value:null}),wr}(t);E.find=ee,E.expr=ee.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=ee.uniqueSort,E.text=ee.getText,E.isXMLDoc=ee.isXML,E.contains=ee.contains,E.escapeSelector=ee.escape;var $=function(Z,ue,be){for(var ke=[],Ue=be!==void 0;(Z=Z[ue])&&Z.nodeType!==9;)if(Z.nodeType===1){if(Ue&&E(Z).is(be))break;ke.push(Z)}return ke},V=function(Z,ue){for(var be=[];Z;Z=Z.nextSibling)Z.nodeType===1&&Z!==ue&&be.push(Z);return be},j=E.expr.match.needsContext;function w(Z,ue){return Z.nodeName&&Z.nodeName.toLowerCase()===ue.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function m(Z,ue,be){return L(ue)?E.grep(Z,function(ke,Ue){return!!ue.call(ke,Ue,ke)!==be}):ue.nodeType?E.grep(Z,function(ke){return ke===ue!==be}):typeof ue!="string"?E.grep(Z,function(ke){return v.call(ue,ke)>-1!==be}):E.filter(ue,Z,be)}E.filter=function(Z,ue,be){var ke=ue[0];return be&&(Z=":not("+Z+")"),ue.length===1&&ke.nodeType===1?E.find.matchesSelector(ke,Z)?[ke]:[]:E.find.matches(Z,E.grep(ue,function(Ue){return Ue.nodeType===1}))},E.fn.extend({find:function(Z){var ue,be,ke=this.length,Ue=this;if(typeof Z!="string")return this.pushStack(E(Z).filter(function(){for(ue=0;ue<ke;ue++)if(E.contains(Ue[ue],this))return!0}));for(be=this.pushStack([]),ue=0;ue<ke;ue++)E.find(Z,Ue[ue],be);return ke>1?E.uniqueSort(be):be},filter:function(Z){return this.pushStack(m(this,Z||[],!1))},not:function(Z){return this.pushStack(m(this,Z||[],!0))},is:function(Z){return!!m(this,typeof Z=="string"&&j.test(Z)?E(Z):Z||[],!1).length}});var g,x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,P=E.fn.init=function(Z,ue,be){var ke,Ue;if(!Z)return this;if(be=be||g,typeof Z=="string")if(Z[0]==="<"&&Z[Z.length-1]===">"&&Z.length>=3?ke=[null,Z,null]:ke=x.exec(Z),ke&&(ke[1]||!ue))if(ke[1]){if(ue=ue instanceof E?ue[0]:ue,E.merge(this,E.parseHTML(ke[1],ue&&ue.nodeType?ue.ownerDocument||ue:k,!0)),D.test(ke[1])&&E.isPlainObject(ue))for(ke in ue)L(this[ke])?this[ke](ue[ke]):this.attr(ke,ue[ke]);return this}else return Ue=k.getElementById(ke[2]),Ue&&(this[0]=Ue,this.length=1),this;else return!ue||ue.jquery?(ue||be).find(Z):this.constructor(ue).find(Z);else{if(Z.nodeType)return this[0]=Z,this.length=1,this;if(L(Z))return be.ready!==void 0?be.ready(Z):Z(E)}return E.makeArray(Z,this)};P.prototype=E.fn,g=E(k);var X=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(Z){var ue=E(Z,this),be=ue.length;return this.filter(function(){for(var ke=0;ke<be;ke++)if(E.contains(this,ue[ke]))return!0})},closest:function(Z,ue){var be,ke=0,Ue=this.length,Ge=[],Je=typeof Z!="string"&&E(Z);if(!j.test(Z)){for(;ke<Ue;ke++)for(be=this[ke];be&&be!==ue;be=be.parentNode)if(be.nodeType<11&&(Je?Je.index(be)>-1:be.nodeType===1&&E.find.matchesSelector(be,Z))){Ge.push(be);break}}return this.pushStack(Ge.length>1?E.uniqueSort(Ge):Ge)},index:function(Z){return Z?typeof Z=="string"?v.call(E(Z),this[0]):v.call(this,Z.jquery?Z[0]:Z):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(Z,ue){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(Z,ue))))},addBack:function(Z){return this.add(Z==null?this.prevObject:this.prevObject.filter(Z))}});function K(Z,ue){for(;(Z=Z[ue])&&Z.nodeType!==1;);return Z}E.each({parent:function(Z){var ue=Z.parentNode;return ue&&ue.nodeType!==11?ue:null},parents:function(Z){return $(Z,"parentNode")},parentsUntil:function(Z,ue,be){return $(Z,"parentNode",be)},next:function(Z){return K(Z,"nextSibling")},prev:function(Z){return K(Z,"previousSibling")},nextAll:function(Z){return $(Z,"nextSibling")},prevAll:function(Z){return $(Z,"previousSibling")},nextUntil:function(Z,ue,be){return $(Z,"nextSibling",be)},prevUntil:function(Z,ue,be){return $(Z,"previousSibling",be)},siblings:function(Z){return V((Z.parentNode||{}).firstChild,Z)},children:function(Z){return V(Z.firstChild)},contents:function(Z){return Z.contentDocument!=null&&o(Z.contentDocument)?Z.contentDocument:(w(Z,"template")&&(Z=Z.content||Z),E.merge([],Z.childNodes))}},function(Z,ue){E.fn[Z]=function(be,ke){var Ue=E.map(this,ue,be);return Z.slice(-5)!=="Until"&&(ke=be),ke&&typeof ke=="string"&&(Ue=E.filter(ke,Ue)),this.length>1&&(Y[Z]||E.uniqueSort(Ue),X.test(Z)&&Ue.reverse()),this.pushStack(Ue)}});var le=/[^\x20\t\r\n\f]+/g;function pe(Z){var ue={};return E.each(Z.match(le)||[],function(be,ke){ue[ke]=!0}),ue}E.Callbacks=function(Z){Z=typeof Z=="string"?pe(Z):E.extend({},Z);var ue,be,ke,Ue,Ge=[],Je=[],zt=-1,Mt=function(){for(Ue=Ue||Z.once,ke=ue=!0;Je.length;zt=-1)for(be=Je.shift();++zt<Ge.length;)Ge[zt].apply(be[0],be[1])===!1&&Z.stopOnFalse&&(zt=Ge.length,be=!1);Z.memory||(be=!1),ue=!1,Ue&&(be?Ge=[]:Ge="")},Jt={add:function(){return Ge&&(be&&!ue&&(zt=Ge.length-1,Je.push(be)),function _i(Pi){E.each(Pi,function(ai,mi){L(mi)?(!Z.unique||!Jt.has(mi))&&Ge.push(mi):mi&&mi.length&&H(mi)!=="string"&&_i(mi)})}(arguments),be&&!ue&&Mt()),this},remove:function(){return E.each(arguments,function(_i,Pi){for(var ai;(ai=E.inArray(Pi,Ge,ai))>-1;)Ge.splice(ai,1),ai<=zt&&zt--}),this},has:function(_i){return _i?E.inArray(_i,Ge)>-1:Ge.length>0},empty:function(){return Ge&&(Ge=[]),this},disable:function(){return Ue=Je=[],Ge=be="",this},disabled:function(){return!Ge},lock:function(){return Ue=Je=[],!be&&!ue&&(Ge=be=""),this},locked:function(){return!!Ue},fireWith:function(_i,Pi){return Ue||(Pi=Pi||[],Pi=[_i,Pi.slice?Pi.slice():Pi],Je.push(Pi),ue||Mt()),this},fire:function(){return Jt.fireWith(this,arguments),this},fired:function(){return!!ke}};return Jt};function fe(Z){return Z}function z(Z){throw Z}function Q(Z,ue,be,ke){var Ue;try{Z&&L(Ue=Z.promise)?Ue.call(Z).done(ue).fail(be):Z&&L(Ue=Z.then)?Ue.call(Z,ue,be):ue.apply(void 0,[Z].slice(ke))}catch(Ge){be.apply(void 0,[Ge])}}E.extend({Deferred:function(Z){var ue=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],be="pending",ke={state:function(){return be},always:function(){return Ue.done(arguments).fail(arguments),this},catch:function(Ge){return ke.then(null,Ge)},pipe:function(){var Ge=arguments;return E.Deferred(function(Je){E.each(ue,function(zt,Mt){var Jt=L(Ge[Mt[4]])&&Ge[Mt[4]];Ue[Mt[1]](function(){var _i=Jt&&Jt.apply(this,arguments);_i&&L(_i.promise)?_i.promise().progress(Je.notify).done(Je.resolve).fail(Je.reject):Je[Mt[0]+"With"](this,Jt?[_i]:arguments)})}),Ge=null}).promise()},then:function(Ge,Je,zt){var Mt=0;function Jt(_i,Pi,ai,mi){return function(){var Ji=this,Xn=arguments,fn=function(){var Qr,gr;if(!(_i<Mt)){if(Qr=ai.apply(Ji,Xn),Qr===Pi.promise())throw new TypeError("Thenable self-resolution");gr=Qr&&(typeof Qr=="object"||typeof Qr=="function")&&Qr.then,L(gr)?mi?gr.call(Qr,Jt(Mt,Pi,fe,mi),Jt(Mt,Pi,z,mi)):(Mt++,gr.call(Qr,Jt(Mt,Pi,fe,mi),Jt(Mt,Pi,z,mi),Jt(Mt,Pi,fe,Pi.notifyWith))):(ai!==fe&&(Ji=void 0,Xn=[Qr]),(mi||Pi.resolveWith)(Ji,Xn))}},fs=mi?fn:function(){try{fn()}catch(Qr){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(Qr,fs.stackTrace),_i+1>=Mt&&(ai!==z&&(Ji=void 0,Xn=[Qr]),Pi.rejectWith(Ji,Xn))}};_i?fs():(E.Deferred.getStackHook&&(fs.stackTrace=E.Deferred.getStackHook()),t.setTimeout(fs))}}return E.Deferred(function(_i){ue[0][3].add(Jt(0,_i,L(zt)?zt:fe,_i.notifyWith)),ue[1][3].add(Jt(0,_i,L(Ge)?Ge:fe)),ue[2][3].add(Jt(0,_i,L(Je)?Je:z))}).promise()},promise:function(Ge){return Ge!=null?E.extend(Ge,ke):ke}},Ue={};return E.each(ue,function(Ge,Je){var zt=Je[2],Mt=Je[5];ke[Je[1]]=zt.add,Mt&&zt.add(function(){be=Mt},ue[3-Ge][2].disable,ue[3-Ge][3].disable,ue[0][2].lock,ue[0][3].lock),zt.add(Je[3].fire),Ue[Je[0]]=function(){return Ue[Je[0]+"With"](this===Ue?void 0:this,arguments),this},Ue[Je[0]+"With"]=zt.fireWith}),ke.promise(Ue),Z&&Z.call(Ue,Ue),Ue},when:function(Z){var ue=arguments.length,be=ue,ke=Array(be),Ue=u.call(arguments),Ge=E.Deferred(),Je=function(zt){return function(Mt){ke[zt]=this,Ue[zt]=arguments.length>1?u.call(arguments):Mt,--ue||Ge.resolveWith(ke,Ue)}};if(ue<=1&&(Q(Z,Ge.done(Je(be)).resolve,Ge.reject,!ue),Ge.state()==="pending"||L(Ue[be]&&Ue[be].then)))return Ge.then();for(;be--;)Q(Ue[be],Je(be),Ge.reject);return Ge.promise()}});var se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(Z,ue){t.console&&t.console.warn&&Z&&se.test(Z.name)&&t.console.warn("jQuery.Deferred exception: "+Z.message,Z.stack,ue)},E.readyException=function(Z){t.setTimeout(function(){throw Z})};var de=E.Deferred();E.fn.ready=function(Z){return de.then(Z).catch(function(ue){E.readyException(ue)}),this},E.extend({isReady:!1,readyWait:1,ready:function(Z){(Z===!0?--E.readyWait:E.isReady)||(E.isReady=!0,!(Z!==!0&&--E.readyWait>0)&&de.resolveWith(k,[E]))}}),E.ready.then=de.then;function Ce(){k.removeEventListener("DOMContentLoaded",Ce),t.removeEventListener("load",Ce),E.ready()}k.readyState==="complete"||k.readyState!=="loading"&&!k.documentElement.doScroll?t.setTimeout(E.ready):(k.addEventListener("DOMContentLoaded",Ce),t.addEventListener("load",Ce));var ne=function(Z,ue,be,ke,Ue,Ge,Je){var zt=0,Mt=Z.length,Jt=be==null;if(H(be)==="object"){Ue=!0;for(zt in be)ne(Z,ue,zt,be[zt],!0,Ge,Je)}else if(ke!==void 0&&(Ue=!0,L(ke)||(Je=!0),Jt&&(Je?(ue.call(Z,ke),ue=null):(Jt=ue,ue=function(_i,Pi,ai){return Jt.call(E(_i),ai)})),ue))for(;zt<Mt;zt++)ue(Z[zt],be,Je?ke:ke.call(Z[zt],zt,ue(Z[zt],be)));return Ue?Z:Jt?ue.call(Z):Mt?ue(Z[0],be):Ge},ve=/^-ms-/,_e=/-([a-z])/g;function oe(Z,ue){return ue.toUpperCase()}function ge(Z){return Z.replace(ve,"ms-").replace(_e,oe)}var Te=function(Z){return Z.nodeType===1||Z.nodeType===9||!+Z.nodeType};function Re(){this.expando=E.expando+Re.uid++}Re.uid=1,Re.prototype={cache:function(Z){var ue=Z[this.expando];return ue||(ue={},Te(Z)&&(Z.nodeType?Z[this.expando]=ue:Object.defineProperty(Z,this.expando,{value:ue,configurable:!0}))),ue},set:function(Z,ue,be){var ke,Ue=this.cache(Z);if(typeof ue=="string")Ue[ge(ue)]=be;else for(ke in ue)Ue[ge(ke)]=ue[ke];return Ue},get:function(Z,ue){return ue===void 0?this.cache(Z):Z[this.expando]&&Z[this.expando][ge(ue)]},access:function(Z,ue,be){return ue===void 0||ue&&typeof ue=="string"&&be===void 0?this.get(Z,ue):(this.set(Z,ue,be),be!==void 0?be:ue)},remove:function(Z,ue){var be,ke=Z[this.expando];if(ke!==void 0){if(ue!==void 0)for(Array.isArray(ue)?ue=ue.map(ge):(ue=ge(ue),ue=ue in ke?[ue]:ue.match(le)||[]),be=ue.length;be--;)delete ke[ue[be]];(ue===void 0||E.isEmptyObject(ke))&&(Z.nodeType?Z[this.expando]=void 0:delete Z[this.expando])}},hasData:function(Z){var ue=Z[this.expando];return ue!==void 0&&!E.isEmptyObject(ue)}};var Le=new Re,$e=new Re,nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qe=/[A-Z]/g;function We(Z){return Z==="true"?!0:Z==="false"?!1:Z==="null"?null:Z===+Z+""?+Z:nt.test(Z)?JSON.parse(Z):Z}function xe(Z,ue,be){var ke;if(be===void 0&&Z.nodeType===1)if(ke="data-"+ue.replace(Qe,"-$&").toLowerCase(),be=Z.getAttribute(ke),typeof be=="string"){try{be=We(be)}catch{}$e.set(Z,ue,be)}else be=void 0;return be}E.extend({hasData:function(Z){return $e.hasData(Z)||Le.hasData(Z)},data:function(Z,ue,be){return $e.access(Z,ue,be)},removeData:function(Z,ue){$e.remove(Z,ue)},_data:function(Z,ue,be){return Le.access(Z,ue,be)},_removeData:function(Z,ue){Le.remove(Z,ue)}}),E.fn.extend({data:function(Z,ue){var be,ke,Ue,Ge=this[0],Je=Ge&&Ge.attributes;if(Z===void 0){if(this.length&&(Ue=$e.get(Ge),Ge.nodeType===1&&!Le.get(Ge,"hasDataAttrs"))){for(be=Je.length;be--;)Je[be]&&(ke=Je[be].name,ke.indexOf("data-")===0&&(ke=ge(ke.slice(5)),xe(Ge,ke,Ue[ke])));Le.set(Ge,"hasDataAttrs",!0)}return Ue}return typeof Z=="object"?this.each(function(){$e.set(this,Z)}):ne(this,function(zt){var Mt;if(Ge&&zt===void 0)return Mt=$e.get(Ge,Z),Mt!==void 0||(Mt=xe(Ge,Z),Mt!==void 0)?Mt:void 0;this.each(function(){$e.set(this,Z,zt)})},null,ue,arguments.length>1,null,!0)},removeData:function(Z){return this.each(function(){$e.remove(this,Z)})}}),E.extend({queue:function(Z,ue,be){var ke;if(Z)return ue=(ue||"fx")+"queue",ke=Le.get(Z,ue),be&&(!ke||Array.isArray(be)?ke=Le.access(Z,ue,E.makeArray(be)):ke.push(be)),ke||[]},dequeue:function(Z,ue){ue=ue||"fx";var be=E.queue(Z,ue),ke=be.length,Ue=be.shift(),Ge=E._queueHooks(Z,ue),Je=function(){E.dequeue(Z,ue)};Ue==="inprogress"&&(Ue=be.shift(),ke--),Ue&&(ue==="fx"&&be.unshift("inprogress"),delete Ge.stop,Ue.call(Z,Je,Ge)),!ke&&Ge&&Ge.empty.fire()},_queueHooks:function(Z,ue){var be=ue+"queueHooks";return Le.get(Z,be)||Le.access(Z,be,{empty:E.Callbacks("once memory").add(function(){Le.remove(Z,[ue+"queue",be])})})}}),E.fn.extend({queue:function(Z,ue){var be=2;return typeof Z!="string"&&(ue=Z,Z="fx",be--),arguments.length<be?E.queue(this[0],Z):ue===void 0?this:this.each(function(){var ke=E.queue(this,Z,ue);E._queueHooks(this,Z),Z==="fx"&&ke[0]!=="inprogress"&&E.dequeue(this,Z)})},dequeue:function(Z){return this.each(function(){E.dequeue(this,Z)})},clearQueue:function(Z){return this.queue(Z||"fx",[])},promise:function(Z,ue){var be,ke=1,Ue=E.Deferred(),Ge=this,Je=this.length,zt=function(){--ke||Ue.resolveWith(Ge,[Ge])};for(typeof Z!="string"&&(ue=Z,Z=void 0),Z=Z||"fx";Je--;)be=Le.get(Ge[Je],Z+"queueHooks"),be&&be.empty&&(ke++,be.empty.add(zt));return zt(),Ue.promise(ue)}});var Ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+Ie+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Ze=k.documentElement,ft=function(Z){return E.contains(Z.ownerDocument,Z)},Ct={composed:!0};Ze.getRootNode&&(ft=function(Z){return E.contains(Z.ownerDocument,Z)||Z.getRootNode(Ct)===Z.ownerDocument});var Nt=function(Z,ue){return Z=ue||Z,Z.style.display==="none"||Z.style.display===""&&ft(Z)&&E.css(Z,"display")==="none"};function pi(Z,ue,be,ke){var Ue,Ge,Je=20,zt=ke?function(){return ke.cur()}:function(){return E.css(Z,ue,"")},Mt=zt(),Jt=be&&be[3]||(E.cssNumber[ue]?"":"px"),_i=Z.nodeType&&(E.cssNumber[ue]||Jt!=="px"&&+Mt)&&Be.exec(E.css(Z,ue));if(_i&&_i[3]!==Jt){for(Mt=Mt/2,Jt=Jt||_i[3],_i=+Mt||1;Je--;)E.style(Z,ue,_i+Jt),(1-Ge)*(1-(Ge=zt()/Mt||.5))<=0&&(Je=0),_i=_i/Ge;_i=_i*2,E.style(Z,ue,_i+Jt),be=be||[]}return be&&(_i=+_i||+Mt||0,Ue=be[1]?_i+(be[1]+1)*be[2]:+be[2],ke&&(ke.unit=Jt,ke.start=_i,ke.end=Ue)),Ue}var qt={};function fi(Z){var ue,be=Z.ownerDocument,ke=Z.nodeName,Ue=qt[ke];return Ue||(ue=be.body.appendChild(be.createElement(ke)),Ue=E.css(ue,"display"),ue.parentNode.removeChild(ue),Ue==="none"&&(Ue="block"),qt[ke]=Ue,Ue)}function Gi(Z,ue){for(var be,ke,Ue=[],Ge=0,Je=Z.length;Ge<Je;Ge++)ke=Z[Ge],ke.style&&(be=ke.style.display,ue?(be==="none"&&(Ue[Ge]=Le.get(ke,"display")||null,Ue[Ge]||(ke.style.display="")),ke.style.display===""&&Nt(ke)&&(Ue[Ge]=fi(ke))):be!=="none"&&(Ue[Ge]="none",Le.set(ke,"display",be)));for(Ge=0;Ge<Je;Ge++)Ue[Ge]!=null&&(Z[Ge].style.display=Ue[Ge]);return Z}E.fn.extend({show:function(){return Gi(this,!0)},hide:function(){return Gi(this)},toggle:function(Z){return typeof Z=="boolean"?Z?this.show():this.hide():this.each(function(){Nt(this)?E(this).show():E(this).hide()})}});var dt=/^(?:checkbox|radio)$/i,Lt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ei=/^$|^module$|\/(?:java|ecma)script/i;(function(){var Z=k.createDocumentFragment(),ue=Z.appendChild(k.createElement("div")),be=k.createElement("input");be.setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),ue.appendChild(be),O.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML="<textarea>x</textarea>",O.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue,ue.innerHTML="<option></option>",O.option=!!ue.lastChild})();var ki={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ki.tbody=ki.tfoot=ki.colgroup=ki.caption=ki.thead,ki.th=ki.td,O.option||(ki.optgroup=ki.option=[1,"<select multiple='multiple'>","</select>"]);function on(Z,ue){var be;return typeof Z.getElementsByTagName<"u"?be=Z.getElementsByTagName(ue||"*"):typeof Z.querySelectorAll<"u"?be=Z.querySelectorAll(ue||"*"):be=[],ue===void 0||ue&&w(Z,ue)?E.merge([Z],be):be}function Rn(Z,ue){for(var be=0,ke=Z.length;be<ke;be++)Le.set(Z[be],"globalEval",!ue||Le.get(ue[be],"globalEval"))}var Gr=/<|&#?\w+;/;function di(Z,ue,be,ke,Ue){for(var Ge,Je,zt,Mt,Jt,_i,Pi=ue.createDocumentFragment(),ai=[],mi=0,Ji=Z.length;mi<Ji;mi++)if(Ge=Z[mi],Ge||Ge===0)if(H(Ge)==="object")E.merge(ai,Ge.nodeType?[Ge]:Ge);else if(!Gr.test(Ge))ai.push(ue.createTextNode(Ge));else{for(Je=Je||Pi.appendChild(ue.createElement("div")),zt=(Lt.exec(Ge)||["",""])[1].toLowerCase(),Mt=ki[zt]||ki._default,Je.innerHTML=Mt[1]+E.htmlPrefilter(Ge)+Mt[2],_i=Mt[0];_i--;)Je=Je.lastChild;E.merge(ai,Je.childNodes),Je=Pi.firstChild,Je.textContent=""}for(Pi.textContent="",mi=0;Ge=ai[mi++];){if(ke&&E.inArray(Ge,ke)>-1){Ue&&Ue.push(Ge);continue}if(Jt=ft(Ge),Je=on(Pi.appendChild(Ge),"script"),Jt&&Rn(Je),be)for(_i=0;Ge=Je[_i++];)ei.test(Ge.type||"")&&be.push(Ge)}return Pi}var Hi=/^([^.]*)(?:\.(.+)|)/;function Yi(){return!0}function fr(){return!1}function As(Z,ue){return Z===xn()==(ue==="focus")}function xn(){try{return k.activeElement}catch{}}function Us(Z,ue,be,ke,Ue,Ge){var Je,zt;if(typeof ue=="object"){typeof be!="string"&&(ke=ke||be,be=void 0);for(zt in ue)Us(Z,zt,be,ke,ue[zt],Ge);return Z}if(ke==null&&Ue==null?(Ue=be,ke=be=void 0):Ue==null&&(typeof be=="string"?(Ue=ke,ke=void 0):(Ue=ke,ke=be,be=void 0)),Ue===!1)Ue=fr;else if(!Ue)return Z;return Ge===1&&(Je=Ue,Ue=function(Mt){return E().off(Mt),Je.apply(this,arguments)},Ue.guid=Je.guid||(Je.guid=E.guid++)),Z.each(function(){E.event.add(this,ue,Ue,ke,be)})}E.event={global:{},add:function(Z,ue,be,ke,Ue){var Ge,Je,zt,Mt,Jt,_i,Pi,ai,mi,Ji,Xn,fn=Le.get(Z);if(Te(Z))for(be.handler&&(Ge=be,be=Ge.handler,Ue=Ge.selector),Ue&&E.find.matchesSelector(Ze,Ue),be.guid||(be.guid=E.guid++),(Mt=fn.events)||(Mt=fn.events=Object.create(null)),(Je=fn.handle)||(Je=fn.handle=function(fs){return typeof E<"u"&&E.event.triggered!==fs.type?E.event.dispatch.apply(Z,arguments):void 0}),ue=(ue||"").match(le)||[""],Jt=ue.length;Jt--;)zt=Hi.exec(ue[Jt])||[],mi=Xn=zt[1],Ji=(zt[2]||"").split(".").sort(),mi&&(Pi=E.event.special[mi]||{},mi=(Ue?Pi.delegateType:Pi.bindType)||mi,Pi=E.event.special[mi]||{},_i=E.extend({type:mi,origType:Xn,data:ke,handler:be,guid:be.guid,selector:Ue,needsContext:Ue&&E.expr.match.needsContext.test(Ue),namespace:Ji.join(".")},Ge),(ai=Mt[mi])||(ai=Mt[mi]=[],ai.delegateCount=0,(!Pi.setup||Pi.setup.call(Z,ke,Ji,Je)===!1)&&Z.addEventListener&&Z.addEventListener(mi,Je)),Pi.add&&(Pi.add.call(Z,_i),_i.handler.guid||(_i.handler.guid=be.guid)),Ue?ai.splice(ai.delegateCount++,0,_i):ai.push(_i),E.event.global[mi]=!0)},remove:function(Z,ue,be,ke,Ue){var Ge,Je,zt,Mt,Jt,_i,Pi,ai,mi,Ji,Xn,fn=Le.hasData(Z)&&Le.get(Z);if(!(!fn||!(Mt=fn.events))){for(ue=(ue||"").match(le)||[""],Jt=ue.length;Jt--;){if(zt=Hi.exec(ue[Jt])||[],mi=Xn=zt[1],Ji=(zt[2]||"").split(".").sort(),!mi){for(mi in Mt)E.event.remove(Z,mi+ue[Jt],be,ke,!0);continue}for(Pi=E.event.special[mi]||{},mi=(ke?Pi.delegateType:Pi.bindType)||mi,ai=Mt[mi]||[],zt=zt[2]&&new RegExp("(^|\\.)"+Ji.join("\\.(?:.*\\.|)")+"(\\.|$)"),Je=Ge=ai.length;Ge--;)_i=ai[Ge],(Ue||Xn===_i.origType)&&(!be||be.guid===_i.guid)&&(!zt||zt.test(_i.namespace))&&(!ke||ke===_i.selector||ke==="**"&&_i.selector)&&(ai.splice(Ge,1),_i.selector&&ai.delegateCount--,Pi.remove&&Pi.remove.call(Z,_i));Je&&!ai.length&&((!Pi.teardown||Pi.teardown.call(Z,Ji,fn.handle)===!1)&&E.removeEvent(Z,mi,fn.handle),delete Mt[mi])}E.isEmptyObject(Mt)&&Le.remove(Z,"handle events")}},dispatch:function(Z){var ue,be,ke,Ue,Ge,Je,zt=new Array(arguments.length),Mt=E.event.fix(Z),Jt=(Le.get(this,"events")||Object.create(null))[Mt.type]||[],_i=E.event.special[Mt.type]||{};for(zt[0]=Mt,ue=1;ue<arguments.length;ue++)zt[ue]=arguments[ue];if(Mt.delegateTarget=this,!(_i.preDispatch&&_i.preDispatch.call(this,Mt)===!1)){for(Je=E.event.handlers.call(this,Mt,Jt),ue=0;(Ue=Je[ue++])&&!Mt.isPropagationStopped();)for(Mt.currentTarget=Ue.elem,be=0;(Ge=Ue.handlers[be++])&&!Mt.isImmediatePropagationStopped();)(!Mt.rnamespace||Ge.namespace===!1||Mt.rnamespace.test(Ge.namespace))&&(Mt.handleObj=Ge,Mt.data=Ge.data,ke=((E.event.special[Ge.origType]||{}).handle||Ge.handler).apply(Ue.elem,zt),ke!==void 0&&(Mt.result=ke)===!1&&(Mt.preventDefault(),Mt.stopPropagation()));return _i.postDispatch&&_i.postDispatch.call(this,Mt),Mt.result}},handlers:function(Z,ue){var be,ke,Ue,Ge,Je,zt=[],Mt=ue.delegateCount,Jt=Z.target;if(Mt&&Jt.nodeType&&!(Z.type==="click"&&Z.button>=1)){for(;Jt!==this;Jt=Jt.parentNode||this)if(Jt.nodeType===1&&!(Z.type==="click"&&Jt.disabled===!0)){for(Ge=[],Je={},be=0;be<Mt;be++)ke=ue[be],Ue=ke.selector+" ",Je[Ue]===void 0&&(Je[Ue]=ke.needsContext?E(Ue,this).index(Jt)>-1:E.find(Ue,this,null,[Jt]).length),Je[Ue]&&Ge.push(ke);Ge.length&&zt.push({elem:Jt,handlers:Ge})}}return Jt=this,Mt<ue.length&&zt.push({elem:Jt,handlers:ue.slice(Mt)}),zt},addProp:function(Z,ue){Object.defineProperty(E.Event.prototype,Z,{enumerable:!0,configurable:!0,get:L(ue)?function(){if(this.originalEvent)return ue(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[Z]},set:function(be){Object.defineProperty(this,Z,{enumerable:!0,configurable:!0,writable:!0,value:be})}})},fix:function(Z){return Z[E.expando]?Z:new E.Event(Z)},special:{load:{noBubble:!0},click:{setup:function(Z){var ue=this||Z;return dt.test(ue.type)&&ue.click&&w(ue,"input")&&Pn(ue,"click",Yi),!1},trigger:function(Z){var ue=this||Z;return dt.test(ue.type)&&ue.click&&w(ue,"input")&&Pn(ue,"click"),!0},_default:function(Z){var ue=Z.target;return dt.test(ue.type)&&ue.click&&w(ue,"input")&&Le.get(ue,"click")||w(ue,"a")}},beforeunload:{postDispatch:function(Z){Z.result!==void 0&&Z.originalEvent&&(Z.originalEvent.returnValue=Z.result)}}}};function Pn(Z,ue,be){if(!be){Le.get(Z,ue)===void 0&&E.event.add(Z,ue,Yi);return}Le.set(Z,ue,!1),E.event.add(Z,ue,{namespace:!1,handler:function(ke){var Ue,Ge,Je=Le.get(this,ue);if(ke.isTrigger&1&&this[ue]){if(Je.length)(E.event.special[ue]||{}).delegateType&&ke.stopPropagation();else if(Je=u.call(arguments),Le.set(this,ue,Je),Ue=be(this,ue),this[ue](),Ge=Le.get(this,ue),Je!==Ge||Ue?Le.set(this,ue,!1):Ge={},Je!==Ge)return ke.stopImmediatePropagation(),ke.preventDefault(),Ge&&Ge.value}else Je.length&&(Le.set(this,ue,{value:E.event.trigger(E.extend(Je[0],E.Event.prototype),Je.slice(1),this)}),ke.stopImmediatePropagation())}})}E.removeEvent=function(Z,ue,be){Z.removeEventListener&&Z.removeEventListener(ue,be)},E.Event=function(Z,ue){if(!(this instanceof E.Event))return new E.Event(Z,ue);Z&&Z.type?(this.originalEvent=Z,this.type=Z.type,this.isDefaultPrevented=Z.defaultPrevented||Z.defaultPrevented===void 0&&Z.returnValue===!1?Yi:fr,this.target=Z.target&&Z.target.nodeType===3?Z.target.parentNode:Z.target,this.currentTarget=Z.currentTarget,this.relatedTarget=Z.relatedTarget):this.type=Z,ue&&E.extend(this,ue),this.timeStamp=Z&&Z.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:fr,isPropagationStopped:fr,isImmediatePropagationStopped:fr,isSimulated:!1,preventDefault:function(){var Z=this.originalEvent;this.isDefaultPrevented=Yi,Z&&!this.isSimulated&&Z.preventDefault()},stopPropagation:function(){var Z=this.originalEvent;this.isPropagationStopped=Yi,Z&&!this.isSimulated&&Z.stopPropagation()},stopImmediatePropagation:function(){var Z=this.originalEvent;this.isImmediatePropagationStopped=Yi,Z&&!this.isSimulated&&Z.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(Z,ue){E.event.special[Z]={setup:function(){return Pn(this,Z,As),!1},trigger:function(){return Pn(this,Z),!0},_default:function(be){return Le.get(be.target,Z)},delegateType:ue}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(Z,ue){E.event.special[Z]={delegateType:ue,bindType:ue,handle:function(be){var ke,Ue=this,Ge=be.relatedTarget,Je=be.handleObj;return(!Ge||Ge!==Ue&&!E.contains(Ue,Ge))&&(be.type=Je.origType,ke=Je.handler.apply(this,arguments),be.type=ue),ke}}}),E.fn.extend({on:function(Z,ue,be,ke){return Us(this,Z,ue,be,ke)},one:function(Z,ue,be,ke){return Us(this,Z,ue,be,ke,1)},off:function(Z,ue,be){var ke,Ue;if(Z&&Z.preventDefault&&Z.handleObj)return ke=Z.handleObj,E(Z.delegateTarget).off(ke.namespace?ke.origType+"."+ke.namespace:ke.origType,ke.selector,ke.handler),this;if(typeof Z=="object"){for(Ue in Z)this.off(Ue,ue,Z[Ue]);return this}return(ue===!1||typeof ue=="function")&&(be=ue,ue=void 0),be===!1&&(be=fr),this.each(function(){E.event.remove(this,Z,be,ue)})}});var Wo=/<script|<style|<link/i,ya=/checked\s*(?:[^=]|=\s*.checked.)/i,mt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ze(Z,ue){return w(Z,"table")&&w(ue.nodeType!==11?ue:ue.firstChild,"tr")&&E(Z).children("tbody")[0]||Z}function Ye(Z){return Z.type=(Z.getAttribute("type")!==null)+"/"+Z.type,Z}function ut(Z){return(Z.type||"").slice(0,5)==="true/"?Z.type=Z.type.slice(5):Z.removeAttribute("type"),Z}function xt(Z,ue){var be,ke,Ue,Ge,Je,zt,Mt;if(ue.nodeType===1){if(Le.hasData(Z)&&(Ge=Le.get(Z),Mt=Ge.events,Mt)){Le.remove(ue,"handle events");for(Ue in Mt)for(be=0,ke=Mt[Ue].length;be<ke;be++)E.event.add(ue,Ue,Mt[Ue][be])}$e.hasData(Z)&&(Je=$e.access(Z),zt=E.extend({},Je),$e.set(ue,zt))}}function vt(Z,ue){var be=ue.nodeName.toLowerCase();be==="input"&&dt.test(Z.type)?ue.checked=Z.checked:(be==="input"||be==="textarea")&&(ue.defaultValue=Z.defaultValue)}function Ut(Z,ue,be,ke){ue=h(ue);var Ue,Ge,Je,zt,Mt,Jt,_i=0,Pi=Z.length,ai=Pi-1,mi=ue[0],Ji=L(mi);if(Ji||Pi>1&&typeof mi=="string"&&!O.checkClone&&ya.test(mi))return Z.each(function(Xn){var fn=Z.eq(Xn);Ji&&(ue[0]=mi.call(this,Xn,fn.html())),Ut(fn,ue,be,ke)});if(Pi&&(Ue=di(ue,Z[0].ownerDocument,!1,Z,ke),Ge=Ue.firstChild,Ue.childNodes.length===1&&(Ue=Ge),Ge||ke)){for(Je=E.map(on(Ue,"script"),Ye),zt=Je.length;_i<Pi;_i++)Mt=Ue,_i!==ai&&(Mt=E.clone(Mt,!0,!0),zt&&E.merge(Je,on(Mt,"script"))),be.call(Z[_i],Mt,_i);if(zt)for(Jt=Je[Je.length-1].ownerDocument,E.map(Je,ut),_i=0;_i<zt;_i++)Mt=Je[_i],ei.test(Mt.type||"")&&!Le.access(Mt,"globalEval")&&E.contains(Jt,Mt)&&(Mt.src&&(Mt.type||"").toLowerCase()!=="module"?E._evalUrl&&!Mt.noModule&&E._evalUrl(Mt.src,{nonce:Mt.nonce||Mt.getAttribute("nonce")},Jt):A(Mt.textContent.replace(mt,""),Mt,Jt))}return Z}function kt(Z,ue,be){for(var ke,Ue=ue?E.filter(ue,Z):Z,Ge=0;(ke=Ue[Ge])!=null;Ge++)!be&&ke.nodeType===1&&E.cleanData(on(ke)),ke.parentNode&&(be&&ft(ke)&&Rn(on(ke,"script")),ke.parentNode.removeChild(ke));return Z}E.extend({htmlPrefilter:function(Z){return Z},clone:function(Z,ue,be){var ke,Ue,Ge,Je,zt=Z.cloneNode(!0),Mt=ft(Z);if(!O.noCloneChecked&&(Z.nodeType===1||Z.nodeType===11)&&!E.isXMLDoc(Z))for(Je=on(zt),Ge=on(Z),ke=0,Ue=Ge.length;ke<Ue;ke++)vt(Ge[ke],Je[ke]);if(ue)if(be)for(Ge=Ge||on(Z),Je=Je||on(zt),ke=0,Ue=Ge.length;ke<Ue;ke++)xt(Ge[ke],Je[ke]);else xt(Z,zt);return Je=on(zt,"script"),Je.length>0&&Rn(Je,!Mt&&on(Z,"script")),zt},cleanData:function(Z){for(var ue,be,ke,Ue=E.event.special,Ge=0;(be=Z[Ge])!==void 0;Ge++)if(Te(be)){if(ue=be[Le.expando]){if(ue.events)for(ke in ue.events)Ue[ke]?E.event.remove(be,ke):E.removeEvent(be,ke,ue.handle);be[Le.expando]=void 0}be[$e.expando]&&(be[$e.expando]=void 0)}}}),E.fn.extend({detach:function(Z){return kt(this,Z,!0)},remove:function(Z){return kt(this,Z)},text:function(Z){return ne(this,function(ue){return ue===void 0?E.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=ue)})},null,Z,arguments.length)},append:function(){return Ut(this,arguments,function(Z){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var ue=ze(this,Z);ue.appendChild(Z)}})},prepend:function(){return Ut(this,arguments,function(Z){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var ue=ze(this,Z);ue.insertBefore(Z,ue.firstChild)}})},before:function(){return Ut(this,arguments,function(Z){this.parentNode&&this.parentNode.insertBefore(Z,this)})},after:function(){return Ut(this,arguments,function(Z){this.parentNode&&this.parentNode.insertBefore(Z,this.nextSibling)})},empty:function(){for(var Z,ue=0;(Z=this[ue])!=null;ue++)Z.nodeType===1&&(E.cleanData(on(Z,!1)),Z.textContent="");return this},clone:function(Z,ue){return Z=Z??!1,ue=ue??Z,this.map(function(){return E.clone(this,Z,ue)})},html:function(Z){return ne(this,function(ue){var be=this[0]||{},ke=0,Ue=this.length;if(ue===void 0&&be.nodeType===1)return be.innerHTML;if(typeof ue=="string"&&!Wo.test(ue)&&!ki[(Lt.exec(ue)||["",""])[1].toLowerCase()]){ue=E.htmlPrefilter(ue);try{for(;ke<Ue;ke++)be=this[ke]||{},be.nodeType===1&&(E.cleanData(on(be,!1)),be.innerHTML=ue);be=0}catch{}}be&&this.empty().append(ue)},null,Z,arguments.length)},replaceWith:function(){var Z=[];return Ut(this,arguments,function(ue){var be=this.parentNode;E.inArray(this,Z)<0&&(E.cleanData(on(this)),be&&be.replaceChild(ue,this))},Z)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(Z,ue){E.fn[Z]=function(be){for(var ke,Ue=[],Ge=E(be),Je=Ge.length-1,zt=0;zt<=Je;zt++)ke=zt===Je?this:this.clone(!0),E(Ge[zt])[ue](ke),s.apply(Ue,ke.get());return this.pushStack(Ue)}});var Rt=new RegExp("^("+Ie+")(?!px)[a-z%]+$","i"),Gt=/^--/,bi=function(Z){var ue=Z.ownerDocument.defaultView;return(!ue||!ue.opener)&&(ue=t),ue.getComputedStyle(Z)},Xi=function(Z,ue,be){var ke,Ue,Ge={};for(Ue in ue)Ge[Ue]=Z.style[Ue],Z.style[Ue]=ue[Ue];ke=be.call(Z);for(Ue in ue)Z.style[Ue]=Ge[Ue];return ke},Ii=new RegExp(Xe.join("|"),"i"),Mn="[\\x20\\t\\r\\n\\f]",Cn=new RegExp("^"+Mn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mn+"+$","g");(function(){function Z(){if(Jt){Mt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Jt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ze.appendChild(Mt).appendChild(Jt);var _i=t.getComputedStyle(Jt);be=_i.top!=="1%",zt=ue(_i.marginLeft)===12,Jt.style.right="60%",Ge=ue(_i.right)===36,ke=ue(_i.width)===36,Jt.style.position="absolute",Ue=ue(Jt.offsetWidth/3)===12,Ze.removeChild(Mt),Jt=null}}function ue(_i){return Math.round(parseFloat(_i))}var be,ke,Ue,Ge,Je,zt,Mt=k.createElement("div"),Jt=k.createElement("div");Jt.style&&(Jt.style.backgroundClip="content-box",Jt.cloneNode(!0).style.backgroundClip="",O.clearCloneStyle=Jt.style.backgroundClip==="content-box",E.extend(O,{boxSizingReliable:function(){return Z(),ke},pixelBoxStyles:function(){return Z(),Ge},pixelPosition:function(){return Z(),be},reliableMarginLeft:function(){return Z(),zt},scrollboxSize:function(){return Z(),Ue},reliableTrDimensions:function(){var _i,Pi,ai,mi;return Je==null&&(_i=k.createElement("table"),Pi=k.createElement("tr"),ai=k.createElement("div"),_i.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Pi.style.cssText="border:1px solid",Pi.style.height="1px",ai.style.height="9px",ai.style.display="block",Ze.appendChild(_i).appendChild(Pi).appendChild(ai),mi=t.getComputedStyle(Pi),Je=parseInt(mi.height,10)+parseInt(mi.borderTopWidth,10)+parseInt(mi.borderBottomWidth,10)===Pi.offsetHeight,Ze.removeChild(_i)),Je}}))})();function pn(Z,ue,be){var ke,Ue,Ge,Je,zt=Gt.test(ue),Mt=Z.style;return be=be||bi(Z),be&&(Je=be.getPropertyValue(ue)||be[ue],zt&&Je&&(Je=Je.replace(Cn,"$1")||void 0),Je===""&&!ft(Z)&&(Je=E.style(Z,ue)),!O.pixelBoxStyles()&&Rt.test(Je)&&Ii.test(ue)&&(ke=Mt.width,Ue=Mt.minWidth,Ge=Mt.maxWidth,Mt.minWidth=Mt.maxWidth=Mt.width=Je,Je=be.width,Mt.width=ke,Mt.minWidth=Ue,Mt.maxWidth=Ge)),Je!==void 0?Je+"":Je}function qi(Z,ue){return{get:function(){if(Z()){delete this.get;return}return(this.get=ue).apply(this,arguments)}}}var cr=["Webkit","Moz","ms"],Dr=k.createElement("div").style,vn={};function Xr(Z){for(var ue=Z[0].toUpperCase()+Z.slice(1),be=cr.length;be--;)if(Z=cr[be]+ue,Z in Dr)return Z}function Rr(Z){var ue=E.cssProps[Z]||vn[Z];return ue||(Z in Dr?Z:vn[Z]=Xr(Z)||Z)}var Ha=/^(none|table(?!-c[ea]).+)/,Wa={position:"absolute",visibility:"hidden",display:"block"},vo={letterSpacing:"0",fontWeight:"400"};function yi(Z,ue,be){var ke=Be.exec(ue);return ke?Math.max(0,ke[2]-(be||0))+(ke[3]||"px"):ue}function ps(Z,ue,be,ke,Ue,Ge){var Je=ue==="width"?1:0,zt=0,Mt=0;if(be===(ke?"border":"content"))return 0;for(;Je<4;Je+=2)be==="margin"&&(Mt+=E.css(Z,be+Xe[Je],!0,Ue)),ke?(be==="content"&&(Mt-=E.css(Z,"padding"+Xe[Je],!0,Ue)),be!=="margin"&&(Mt-=E.css(Z,"border"+Xe[Je]+"Width",!0,Ue))):(Mt+=E.css(Z,"padding"+Xe[Je],!0,Ue),be!=="padding"?Mt+=E.css(Z,"border"+Xe[Je]+"Width",!0,Ue):zt+=E.css(Z,"border"+Xe[Je]+"Width",!0,Ue));return!ke&&Ge>=0&&(Mt+=Math.max(0,Math.ceil(Z["offset"+ue[0].toUpperCase()+ue.slice(1)]-Ge-Mt-zt-.5))||0),Mt}function Rs(Z,ue,be){var ke=bi(Z),Ue=!O.boxSizingReliable()||be,Ge=Ue&&E.css(Z,"boxSizing",!1,ke)==="border-box",Je=Ge,zt=pn(Z,ue,ke),Mt="offset"+ue[0].toUpperCase()+ue.slice(1);if(Rt.test(zt)){if(!be)return zt;zt="auto"}return(!O.boxSizingReliable()&&Ge||!O.reliableTrDimensions()&&w(Z,"tr")||zt==="auto"||!parseFloat(zt)&&E.css(Z,"display",!1,ke)==="inline")&&Z.getClientRects().length&&(Ge=E.css(Z,"boxSizing",!1,ke)==="border-box",Je=Mt in Z,Je&&(zt=Z[Mt])),zt=parseFloat(zt)||0,zt+ps(Z,ue,be||(Ge?"border":"content"),Je,ke,zt)+"px"}E.extend({cssHooks:{opacity:{get:function(Z,ue){if(ue){var be=pn(Z,"opacity");return be===""?"1":be}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(Z,ue,be,ke){if(!(!Z||Z.nodeType===3||Z.nodeType===8||!Z.style)){var Ue,Ge,Je,zt=ge(ue),Mt=Gt.test(ue),Jt=Z.style;if(Mt||(ue=Rr(zt)),Je=E.cssHooks[ue]||E.cssHooks[zt],be!==void 0){if(Ge=typeof be,Ge==="string"&&(Ue=Be.exec(be))&&Ue[1]&&(be=pi(Z,ue,Ue),Ge="number"),be==null||be!==be)return;Ge==="number"&&!Mt&&(be+=Ue&&Ue[3]||(E.cssNumber[zt]?"":"px")),!O.clearCloneStyle&&be===""&&ue.indexOf("background")===0&&(Jt[ue]="inherit"),(!Je||!("set"in Je)||(be=Je.set(Z,be,ke))!==void 0)&&(Mt?Jt.setProperty(ue,be):Jt[ue]=be)}else return Je&&"get"in Je&&(Ue=Je.get(Z,!1,ke))!==void 0?Ue:Jt[ue]}},css:function(Z,ue,be,ke){var Ue,Ge,Je,zt=ge(ue),Mt=Gt.test(ue);return Mt||(ue=Rr(zt)),Je=E.cssHooks[ue]||E.cssHooks[zt],Je&&"get"in Je&&(Ue=Je.get(Z,!0,be)),Ue===void 0&&(Ue=pn(Z,ue,ke)),Ue==="normal"&&ue in vo&&(Ue=vo[ue]),be===""||be?(Ge=parseFloat(Ue),be===!0||isFinite(Ge)?Ge||0:Ue):Ue}}),E.each(["height","width"],function(Z,ue){E.cssHooks[ue]={get:function(be,ke,Ue){if(ke)return Ha.test(E.css(be,"display"))&&(!be.getClientRects().length||!be.getBoundingClientRect().width)?Xi(be,Wa,function(){return Rs(be,ue,Ue)}):Rs(be,ue,Ue)},set:function(be,ke,Ue){var Ge,Je=bi(be),zt=!O.scrollboxSize()&&Je.position==="absolute",Mt=zt||Ue,Jt=Mt&&E.css(be,"boxSizing",!1,Je)==="border-box",_i=Ue?ps(be,ue,Ue,Jt,Je):0;return Jt&&zt&&(_i-=Math.ceil(be["offset"+ue[0].toUpperCase()+ue.slice(1)]-parseFloat(Je[ue])-ps(be,ue,"border",!1,Je)-.5)),_i&&(Ge=Be.exec(ke))&&(Ge[3]||"px")!=="px"&&(be.style[ue]=ke,ke=E.css(be,ue)),yi(be,ke,_i)}}}),E.cssHooks.marginLeft=qi(O.reliableMarginLeft,function(Z,ue){if(ue)return(parseFloat(pn(Z,"marginLeft"))||Z.getBoundingClientRect().left-Xi(Z,{marginLeft:0},function(){return Z.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(Z,ue){E.cssHooks[Z+ue]={expand:function(be){for(var ke=0,Ue={},Ge=typeof be=="string"?be.split(" "):[be];ke<4;ke++)Ue[Z+Xe[ke]+ue]=Ge[ke]||Ge[ke-2]||Ge[0];return Ue}},Z!=="margin"&&(E.cssHooks[Z+ue].set=yi)}),E.fn.extend({css:function(Z,ue){return ne(this,function(be,ke,Ue){var Ge,Je,zt={},Mt=0;if(Array.isArray(ke)){for(Ge=bi(be),Je=ke.length;Mt<Je;Mt++)zt[ke[Mt]]=E.css(be,ke[Mt],!1,Ge);return zt}return Ue!==void 0?E.style(be,ke,Ue):E.css(be,ke)},Z,ue,arguments.length>1)}});function Bs(Z,ue,be,ke,Ue){return new Bs.prototype.init(Z,ue,be,ke,Ue)}E.Tween=Bs,Bs.prototype={constructor:Bs,init:function(Z,ue,be,ke,Ue,Ge){this.elem=Z,this.prop=be,this.easing=Ue||E.easing._default,this.options=ue,this.start=this.now=this.cur(),this.end=ke,this.unit=Ge||(E.cssNumber[be]?"":"px")},cur:function(){var Z=Bs.propHooks[this.prop];return Z&&Z.get?Z.get(this):Bs.propHooks._default.get(this)},run:function(Z){var ue,be=Bs.propHooks[this.prop];return this.options.duration?this.pos=ue=E.easing[this.easing](Z,this.options.duration*Z,0,1,this.options.duration):this.pos=ue=Z,this.now=(this.end-this.start)*ue+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),be&&be.set?be.set(this):Bs.propHooks._default.set(this),this}},Bs.prototype.init.prototype=Bs.prototype,Bs.propHooks={_default:{get:function(Z){var ue;return Z.elem.nodeType!==1||Z.elem[Z.prop]!=null&&Z.elem.style[Z.prop]==null?Z.elem[Z.prop]:(ue=E.css(Z.elem,Z.prop,""),!ue||ue==="auto"?0:ue)},set:function(Z){E.fx.step[Z.prop]?E.fx.step[Z.prop](Z):Z.elem.nodeType===1&&(E.cssHooks[Z.prop]||Z.elem.style[Rr(Z.prop)]!=null)?E.style(Z.elem,Z.prop,Z.now+Z.unit):Z.elem[Z.prop]=Z.now}}},Bs.propHooks.scrollTop=Bs.propHooks.scrollLeft={set:function(Z){Z.elem.nodeType&&Z.elem.parentNode&&(Z.elem[Z.prop]=Z.now)}},E.easing={linear:function(Z){return Z},swing:function(Z){return .5-Math.cos(Z*Math.PI)/2},_default:"swing"},E.fx=Bs.prototype.init,E.fx.step={};var wc,Io,Jc=/^(?:toggle|show|hide)$/,ld=/queueHooks$/;function fo(){Io&&(k.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(fo):t.setTimeout(fo,E.fx.interval),E.fx.tick())}function en(){return t.setTimeout(function(){wc=void 0}),wc=Date.now()}function ir(Z,ue){var be,ke=0,Ue={height:Z};for(ue=ue?1:0;ke<4;ke+=2-ue)be=Xe[ke],Ue["margin"+be]=Ue["padding"+be]=Z;return ue&&(Ue.opacity=Ue.width=Z),Ue}function ur(Z,ue,be){for(var ke,Ue=(jn.tweeners[ue]||[]).concat(jn.tweeners["*"]),Ge=0,Je=Ue.length;Ge<Je;Ge++)if(ke=Ue[Ge].call(be,ue,Z))return ke}function ra(Z,ue,be){var ke,Ue,Ge,Je,zt,Mt,Jt,_i,Pi="width"in ue||"height"in ue,ai=this,mi={},Ji=Z.style,Xn=Z.nodeType&&Nt(Z),fn=Le.get(Z,"fxshow");be.queue||(Je=E._queueHooks(Z,"fx"),Je.unqueued==null&&(Je.unqueued=0,zt=Je.empty.fire,Je.empty.fire=function(){Je.unqueued||zt()}),Je.unqueued++,ai.always(function(){ai.always(function(){Je.unqueued--,E.queue(Z,"fx").length||Je.empty.fire()})}));for(ke in ue)if(Ue=ue[ke],Jc.test(Ue)){if(delete ue[ke],Ge=Ge||Ue==="toggle",Ue===(Xn?"hide":"show"))if(Ue==="show"&&fn&&fn[ke]!==void 0)Xn=!0;else continue;mi[ke]=fn&&fn[ke]||E.style(Z,ke)}if(Mt=!E.isEmptyObject(ue),!(!Mt&&E.isEmptyObject(mi))){Pi&&Z.nodeType===1&&(be.overflow=[Ji.overflow,Ji.overflowX,Ji.overflowY],Jt=fn&&fn.display,Jt==null&&(Jt=Le.get(Z,"display")),_i=E.css(Z,"display"),_i==="none"&&(Jt?_i=Jt:(Gi([Z],!0),Jt=Z.style.display||Jt,_i=E.css(Z,"display"),Gi([Z]))),(_i==="inline"||_i==="inline-block"&&Jt!=null)&&E.css(Z,"float")==="none"&&(Mt||(ai.done(function(){Ji.display=Jt}),Jt==null&&(_i=Ji.display,Jt=_i==="none"?"":_i)),Ji.display="inline-block")),be.overflow&&(Ji.overflow="hidden",ai.always(function(){Ji.overflow=be.overflow[0],Ji.overflowX=be.overflow[1],Ji.overflowY=be.overflow[2]})),Mt=!1;for(ke in mi)Mt||(fn?"hidden"in fn&&(Xn=fn.hidden):fn=Le.access(Z,"fxshow",{display:Jt}),Ge&&(fn.hidden=!Xn),Xn&&Gi([Z],!0),ai.done(function(){Xn||Gi([Z]),Le.remove(Z,"fxshow");for(ke in mi)E.style(Z,ke,mi[ke])})),Mt=ur(Xn?fn[ke]:0,ke,ai),ke in fn||(fn[ke]=Mt.start,Xn&&(Mt.end=Mt.start,Mt.start=0))}}function Ya(Z,ue){var be,ke,Ue,Ge,Je;for(be in Z)if(ke=ge(be),Ue=ue[ke],Ge=Z[be],Array.isArray(Ge)&&(Ue=Ge[1],Ge=Z[be]=Ge[0]),be!==ke&&(Z[ke]=Ge,delete Z[be]),Je=E.cssHooks[ke],Je&&"expand"in Je){Ge=Je.expand(Ge),delete Z[ke];for(be in Ge)be in Z||(Z[be]=Ge[be],ue[be]=Ue)}else ue[ke]=Ue}function jn(Z,ue,be){var ke,Ue,Ge=0,Je=jn.prefilters.length,zt=E.Deferred().always(function(){delete Mt.elem}),Mt=function(){if(Ue)return!1;for(var Pi=wc||en(),ai=Math.max(0,Jt.startTime+Jt.duration-Pi),mi=ai/Jt.duration||0,Ji=1-mi,Xn=0,fn=Jt.tweens.length;Xn<fn;Xn++)Jt.tweens[Xn].run(Ji);return zt.notifyWith(Z,[Jt,Ji,ai]),Ji<1&&fn?ai:(fn||zt.notifyWith(Z,[Jt,1,0]),zt.resolveWith(Z,[Jt]),!1)},Jt=zt.promise({elem:Z,props:E.extend({},ue),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},be),originalProperties:ue,originalOptions:be,startTime:wc||en(),duration:be.duration,tweens:[],createTween:function(Pi,ai){var mi=E.Tween(Z,Jt.opts,Pi,ai,Jt.opts.specialEasing[Pi]||Jt.opts.easing);return Jt.tweens.push(mi),mi},stop:function(Pi){var ai=0,mi=Pi?Jt.tweens.length:0;if(Ue)return this;for(Ue=!0;ai<mi;ai++)Jt.tweens[ai].run(1);return Pi?(zt.notifyWith(Z,[Jt,1,0]),zt.resolveWith(Z,[Jt,Pi])):zt.rejectWith(Z,[Jt,Pi]),this}}),_i=Jt.props;for(Ya(_i,Jt.opts.specialEasing);Ge<Je;Ge++)if(ke=jn.prefilters[Ge].call(Jt,Z,_i,Jt.opts),ke)return L(ke.stop)&&(E._queueHooks(Jt.elem,Jt.opts.queue).stop=ke.stop.bind(ke)),ke;return E.map(_i,ur,Jt),L(Jt.opts.start)&&Jt.opts.start.call(Z,Jt),Jt.progress(Jt.opts.progress).done(Jt.opts.done,Jt.opts.complete).fail(Jt.opts.fail).always(Jt.opts.always),E.fx.timer(E.extend(Mt,{elem:Z,anim:Jt,queue:Jt.opts.queue})),Jt}E.Animation=E.extend(jn,{tweeners:{"*":[function(Z,ue){var be=this.createTween(Z,ue);return pi(be.elem,Z,Be.exec(ue),be),be}]},tweener:function(Z,ue){L(Z)?(ue=Z,Z=["*"]):Z=Z.match(le);for(var be,ke=0,Ue=Z.length;ke<Ue;ke++)be=Z[ke],jn.tweeners[be]=jn.tweeners[be]||[],jn.tweeners[be].unshift(ue)},prefilters:[ra],prefilter:function(Z,ue){ue?jn.prefilters.unshift(Z):jn.prefilters.push(Z)}}),E.speed=function(Z,ue,be){var ke=Z&&typeof Z=="object"?E.extend({},Z):{complete:be||!be&&ue||L(Z)&&Z,duration:Z,easing:be&&ue||ue&&!L(ue)&&ue};return E.fx.off?ke.duration=0:typeof ke.duration!="number"&&(ke.duration in E.fx.speeds?ke.duration=E.fx.speeds[ke.duration]:ke.duration=E.fx.speeds._default),(ke.queue==null||ke.queue===!0)&&(ke.queue="fx"),ke.old=ke.complete,ke.complete=function(){L(ke.old)&&ke.old.call(this),ke.queue&&E.dequeue(this,ke.queue)},ke},E.fn.extend({fadeTo:function(Z,ue,be,ke){return this.filter(Nt).css("opacity",0).show().end().animate({opacity:ue},Z,be,ke)},animate:function(Z,ue,be,ke){var Ue=E.isEmptyObject(Z),Ge=E.speed(ue,be,ke),Je=function(){var zt=jn(this,E.extend({},Z),Ge);(Ue||Le.get(this,"finish"))&&zt.stop(!0)};return Je.finish=Je,Ue||Ge.queue===!1?this.each(Je):this.queue(Ge.queue,Je)},stop:function(Z,ue,be){var ke=function(Ue){var Ge=Ue.stop;delete Ue.stop,Ge(be)};return typeof Z!="string"&&(be=ue,ue=Z,Z=void 0),ue&&this.queue(Z||"fx",[]),this.each(function(){var Ue=!0,Ge=Z!=null&&Z+"queueHooks",Je=E.timers,zt=Le.get(this);if(Ge)zt[Ge]&&zt[Ge].stop&&ke(zt[Ge]);else for(Ge in zt)zt[Ge]&&zt[Ge].stop&&ld.test(Ge)&&ke(zt[Ge]);for(Ge=Je.length;Ge--;)Je[Ge].elem===this&&(Z==null||Je[Ge].queue===Z)&&(Je[Ge].anim.stop(be),Ue=!1,Je.splice(Ge,1));(Ue||!be)&&E.dequeue(this,Z)})},finish:function(Z){return Z!==!1&&(Z=Z||"fx"),this.each(function(){var ue,be=Le.get(this),ke=be[Z+"queue"],Ue=be[Z+"queueHooks"],Ge=E.timers,Je=ke?ke.length:0;for(be.finish=!0,E.queue(this,Z,[]),Ue&&Ue.stop&&Ue.stop.call(this,!0),ue=Ge.length;ue--;)Ge[ue].elem===this&&Ge[ue].queue===Z&&(Ge[ue].anim.stop(!0),Ge.splice(ue,1));for(ue=0;ue<Je;ue++)ke[ue]&&ke[ue].finish&&ke[ue].finish.call(this);delete be.finish})}}),E.each(["toggle","show","hide"],function(Z,ue){var be=E.fn[ue];E.fn[ue]=function(ke,Ue,Ge){return ke==null||typeof ke=="boolean"?be.apply(this,arguments):this.animate(ir(ue,!0),ke,Ue,Ge)}}),E.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(Z,ue){E.fn[Z]=function(be,ke,Ue){return this.animate(ue,be,ke,Ue)}}),E.timers=[],E.fx.tick=function(){var Z,ue=0,be=E.timers;for(wc=Date.now();ue<be.length;ue++)Z=be[ue],!Z()&&be[ue]===Z&&be.splice(ue--,1);be.length||E.fx.stop(),wc=void 0},E.fx.timer=function(Z){E.timers.push(Z),E.fx.start()},E.fx.interval=13,E.fx.start=function(){Io||(Io=!0,fo())},E.fx.stop=function(){Io=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(Z,ue){return Z=E.fx&&E.fx.speeds[Z]||Z,ue=ue||"fx",this.queue(ue,function(be,ke){var Ue=t.setTimeout(be,Z);ke.stop=function(){t.clearTimeout(Ue)}})},function(){var Z=k.createElement("input"),ue=k.createElement("select"),be=ue.appendChild(k.createElement("option"));Z.type="checkbox",O.checkOn=Z.value!=="",O.optSelected=be.selected,Z=k.createElement("input"),Z.value="t",Z.type="radio",O.radioValue=Z.value==="t"}();var Tc,Aa=E.expr.attrHandle;E.fn.extend({attr:function(Z,ue){return ne(this,E.attr,Z,ue,arguments.length>1)},removeAttr:function(Z){return this.each(function(){E.removeAttr(this,Z)})}}),E.extend({attr:function(Z,ue,be){var ke,Ue,Ge=Z.nodeType;if(!(Ge===3||Ge===8||Ge===2)){if(typeof Z.getAttribute>"u")return E.prop(Z,ue,be);if((Ge!==1||!E.isXMLDoc(Z))&&(Ue=E.attrHooks[ue.toLowerCase()]||(E.expr.match.bool.test(ue)?Tc:void 0)),be!==void 0){if(be===null){E.removeAttr(Z,ue);return}return Ue&&"set"in Ue&&(ke=Ue.set(Z,be,ue))!==void 0?ke:(Z.setAttribute(ue,be+""),be)}return Ue&&"get"in Ue&&(ke=Ue.get(Z,ue))!==null?ke:(ke=E.find.attr(Z,ue),ke??void 0)}},attrHooks:{type:{set:function(Z,ue){if(!O.radioValue&&ue==="radio"&&w(Z,"input")){var be=Z.value;return Z.setAttribute("type",ue),be&&(Z.value=be),ue}}}},removeAttr:function(Z,ue){var be,ke=0,Ue=ue&&ue.match(le);if(Ue&&Z.nodeType===1)for(;be=Ue[ke++];)Z.removeAttribute(be)}}),Tc={set:function(Z,ue,be){return ue===!1?E.removeAttr(Z,be):Z.setAttribute(be,be),be}},E.each(E.expr.match.bool.source.match(/\w+/g),function(Z,ue){var be=Aa[ue]||E.find.attr;Aa[ue]=function(ke,Ue,Ge){var Je,zt,Mt=Ue.toLowerCase();return Ge||(zt=Aa[Mt],Aa[Mt]=Je,Je=be(ke,Ue,Ge)!=null?Mt:null,Aa[Mt]=zt),Je}});var ol=/^(?:input|select|textarea|button)$/i,ro=/^(?:a|area)$/i;E.fn.extend({prop:function(Z,ue){return ne(this,E.prop,Z,ue,arguments.length>1)},removeProp:function(Z){return this.each(function(){delete this[E.propFix[Z]||Z]})}}),E.extend({prop:function(Z,ue,be){var ke,Ue,Ge=Z.nodeType;if(!(Ge===3||Ge===8||Ge===2))return(Ge!==1||!E.isXMLDoc(Z))&&(ue=E.propFix[ue]||ue,Ue=E.propHooks[ue]),be!==void 0?Ue&&"set"in Ue&&(ke=Ue.set(Z,be,ue))!==void 0?ke:Z[ue]=be:Ue&&"get"in Ue&&(ke=Ue.get(Z,ue))!==null?ke:Z[ue]},propHooks:{tabIndex:{get:function(Z){var ue=E.find.attr(Z,"tabindex");return ue?parseInt(ue,10):ol.test(Z.nodeName)||ro.test(Z.nodeName)&&Z.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),O.optSelected||(E.propHooks.selected={get:function(Z){var ue=Z.parentNode;return ue&&ue.parentNode&&ue.parentNode.selectedIndex,null},set:function(Z){var ue=Z.parentNode;ue&&(ue.selectedIndex,ue.parentNode&&ue.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function Hr(Z){var ue=Z.match(le)||[];return ue.join(" ")}function mo(Z){return Z.getAttribute&&Z.getAttribute("class")||""}function Yo(Z){return Array.isArray(Z)?Z:typeof Z=="string"?Z.match(le)||[]:[]}E.fn.extend({addClass:function(Z){var ue,be,ke,Ue,Ge,Je;return L(Z)?this.each(function(zt){E(this).addClass(Z.call(this,zt,mo(this)))}):(ue=Yo(Z),ue.length?this.each(function(){if(ke=mo(this),be=this.nodeType===1&&" "+Hr(ke)+" ",be){for(Ge=0;Ge<ue.length;Ge++)Ue=ue[Ge],be.indexOf(" "+Ue+" ")<0&&(be+=Ue+" ");Je=Hr(be),ke!==Je&&this.setAttribute("class",Je)}}):this)},removeClass:function(Z){var ue,be,ke,Ue,Ge,Je;return L(Z)?this.each(function(zt){E(this).removeClass(Z.call(this,zt,mo(this)))}):arguments.length?(ue=Yo(Z),ue.length?this.each(function(){if(ke=mo(this),be=this.nodeType===1&&" "+Hr(ke)+" ",be){for(Ge=0;Ge<ue.length;Ge++)for(Ue=ue[Ge];be.indexOf(" "+Ue+" ")>-1;)be=be.replace(" "+Ue+" "," ");Je=Hr(be),ke!==Je&&this.setAttribute("class",Je)}}):this):this.attr("class","")},toggleClass:function(Z,ue){var be,ke,Ue,Ge,Je=typeof Z,zt=Je==="string"||Array.isArray(Z);return L(Z)?this.each(function(Mt){E(this).toggleClass(Z.call(this,Mt,mo(this),ue),ue)}):typeof ue=="boolean"&&zt?ue?this.addClass(Z):this.removeClass(Z):(be=Yo(Z),this.each(function(){if(zt)for(Ge=E(this),Ue=0;Ue<be.length;Ue++)ke=be[Ue],Ge.hasClass(ke)?Ge.removeClass(ke):Ge.addClass(ke);else(Z===void 0||Je==="boolean")&&(ke=mo(this),ke&&Le.set(this,"__className__",ke),this.setAttribute&&this.setAttribute("class",ke||Z===!1?"":Le.get(this,"__className__")||""))}))},hasClass:function(Z){var ue,be,ke=0;for(ue=" "+Z+" ";be=this[ke++];)if(be.nodeType===1&&(" "+Hr(mo(be))+" ").indexOf(ue)>-1)return!0;return!1}});var Yl=/\r/g;E.fn.extend({val:function(Z){var ue,be,ke,Ue=this[0];return arguments.length?(ke=L(Z),this.each(function(Ge){var Je;this.nodeType===1&&(ke?Je=Z.call(this,Ge,E(this).val()):Je=Z,Je==null?Je="":typeof Je=="number"?Je+="":Array.isArray(Je)&&(Je=E.map(Je,function(zt){return zt==null?"":zt+""})),ue=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!ue||!("set"in ue)||ue.set(this,Je,"value")===void 0)&&(this.value=Je))})):Ue?(ue=E.valHooks[Ue.type]||E.valHooks[Ue.nodeName.toLowerCase()],ue&&"get"in ue&&(be=ue.get(Ue,"value"))!==void 0?be:(be=Ue.value,typeof be=="string"?be.replace(Yl,""):be??"")):void 0}}),E.extend({valHooks:{option:{get:function(Z){var ue=E.find.attr(Z,"value");return ue??Hr(E.text(Z))}},select:{get:function(Z){var ue,be,ke,Ue=Z.options,Ge=Z.selectedIndex,Je=Z.type==="select-one",zt=Je?null:[],Mt=Je?Ge+1:Ue.length;for(Ge<0?ke=Mt:ke=Je?Ge:0;ke<Mt;ke++)if(be=Ue[ke],(be.selected||ke===Ge)&&!be.disabled&&(!be.parentNode.disabled||!w(be.parentNode,"optgroup"))){if(ue=E(be).val(),Je)return ue;zt.push(ue)}return zt},set:function(Z,ue){for(var be,ke,Ue=Z.options,Ge=E.makeArray(ue),Je=Ue.length;Je--;)ke=Ue[Je],(ke.selected=E.inArray(E.valHooks.option.get(ke),Ge)>-1)&&(be=!0);return be||(Z.selectedIndex=-1),Ge}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(Z,ue){if(Array.isArray(ue))return Z.checked=E.inArray(E(Z).val(),ue)>-1}},O.checkOn||(E.valHooks[this].get=function(Z){return Z.getAttribute("value")===null?"on":Z.value})}),O.focusin="onfocusin"in t;var _a=/^(?:focusinfocus|focusoutblur)$/,bl=function(Z){Z.stopPropagation()};E.extend(E.event,{trigger:function(Z,ue,be,ke){var Ue,Ge,Je,zt,Mt,Jt,_i,Pi,ai=[be||k],mi=M.call(Z,"type")?Z.type:Z,Ji=M.call(Z,"namespace")?Z.namespace.split("."):[];if(Ge=Pi=Je=be=be||k,!(be.nodeType===3||be.nodeType===8)&&!_a.test(mi+E.event.triggered)&&(mi.indexOf(".")>-1&&(Ji=mi.split("."),mi=Ji.shift(),Ji.sort()),Mt=mi.indexOf(":")<0&&"on"+mi,Z=Z[E.expando]?Z:new E.Event(mi,typeof Z=="object"&&Z),Z.isTrigger=ke?2:3,Z.namespace=Ji.join("."),Z.rnamespace=Z.namespace?new RegExp("(^|\\.)"+Ji.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,Z.result=void 0,Z.target||(Z.target=be),ue=ue==null?[Z]:E.makeArray(ue,[Z]),_i=E.event.special[mi]||{},!(!ke&&_i.trigger&&_i.trigger.apply(be,ue)===!1))){if(!ke&&!_i.noBubble&&!G(be)){for(zt=_i.delegateType||mi,_a.test(zt+mi)||(Ge=Ge.parentNode);Ge;Ge=Ge.parentNode)ai.push(Ge),Je=Ge;Je===(be.ownerDocument||k)&&ai.push(Je.defaultView||Je.parentWindow||t)}for(Ue=0;(Ge=ai[Ue++])&&!Z.isPropagationStopped();)Pi=Ge,Z.type=Ue>1?zt:_i.bindType||mi,Jt=(Le.get(Ge,"events")||Object.create(null))[Z.type]&&Le.get(Ge,"handle"),Jt&&Jt.apply(Ge,ue),Jt=Mt&&Ge[Mt],Jt&&Jt.apply&&Te(Ge)&&(Z.result=Jt.apply(Ge,ue),Z.result===!1&&Z.preventDefault());return Z.type=mi,!ke&&!Z.isDefaultPrevented()&&(!_i._default||_i._default.apply(ai.pop(),ue)===!1)&&Te(be)&&Mt&&L(be[mi])&&!G(be)&&(Je=be[Mt],Je&&(be[Mt]=null),E.event.triggered=mi,Z.isPropagationStopped()&&Pi.addEventListener(mi,bl),be[mi](),Z.isPropagationStopped()&&Pi.removeEventListener(mi,bl),E.event.triggered=void 0,Je&&(be[Mt]=Je)),Z.result}},simulate:function(Z,ue,be){var ke=E.extend(new E.Event,be,{type:Z,isSimulated:!0});E.event.trigger(ke,null,ue)}}),E.fn.extend({trigger:function(Z,ue){return this.each(function(){E.event.trigger(Z,ue,this)})},triggerHandler:function(Z,ue){var be=this[0];if(be)return E.event.trigger(Z,ue,be,!0)}}),O.focusin||E.each({focus:"focusin",blur:"focusout"},function(Z,ue){var be=function(ke){E.event.simulate(ue,ke.target,E.event.fix(ke))};E.event.special[ue]={setup:function(){var ke=this.ownerDocument||this.document||this,Ue=Le.access(ke,ue);Ue||ke.addEventListener(Z,be,!0),Le.access(ke,ue,(Ue||0)+1)},teardown:function(){var ke=this.ownerDocument||this.document||this,Ue=Le.access(ke,ue)-1;Ue?Le.access(ke,ue,Ue):(ke.removeEventListener(Z,be,!0),Le.remove(ke,ue))}}});var wl=t.location,al={guid:Date.now()},Tl=/\?/;E.parseXML=function(Z){var ue,be;if(!Z||typeof Z!="string")return null;try{ue=new t.DOMParser().parseFromString(Z,"text/xml")}catch{}return be=ue&&ue.getElementsByTagName("parsererror")[0],(!ue||be)&&E.error("Invalid XML: "+(be?E.map(be.childNodes,function(ke){return ke.textContent}).join(`
`):Z)),ue};var Qc=/\[\]$/,eu=/\r?\n/g,Fo=/^(?:submit|button|image|reset|file)$/i,Ps=/^(?:input|select|textarea|keygen)/i;function ql(Z,ue,be,ke){var Ue;if(Array.isArray(ue))E.each(ue,function(Ge,Je){be||Qc.test(Z)?ke(Z,Je):ql(Z+"["+(typeof Je=="object"&&Je!=null?Ge:"")+"]",Je,be,ke)});else if(!be&&H(ue)==="object")for(Ue in ue)ql(Z+"["+Ue+"]",ue[Ue],be,ke);else ke(Z,ue)}E.param=function(Z,ue){var be,ke=[],Ue=function(Ge,Je){var zt=L(Je)?Je():Je;ke[ke.length]=encodeURIComponent(Ge)+"="+encodeURIComponent(zt??"")};if(Z==null)return"";if(Array.isArray(Z)||Z.jquery&&!E.isPlainObject(Z))E.each(Z,function(){Ue(this.name,this.value)});else for(be in Z)ql(be,Z[be],ue,Ue);return ke.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var Z=E.prop(this,"elements");return Z?E.makeArray(Z):this}).filter(function(){var Z=this.type;return this.name&&!E(this).is(":disabled")&&Ps.test(this.nodeName)&&!Fo.test(Z)&&(this.checked||!dt.test(Z))}).map(function(Z,ue){var be=E(this).val();return be==null?null:Array.isArray(be)?E.map(be,function(ke){return{name:ue.name,value:ke.replace(eu,`\r
`)}}):{name:ue.name,value:be.replace(eu,`\r
`)}}).get()}});var ll=/%20/g,so=/#.*$/,va=/([?&])_=[^&]*/,Rd=/^(.*?):[ \t]*([^\r\n]*)$/mg,Mu=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Js=/^(?:GET|HEAD)$/,Xl=/^\/\//,ku={},Zl={},oo="*/".concat("*"),Sl=k.createElement("a");Sl.href=wl.href;function Au(Z){return function(ue,be){typeof ue!="string"&&(be=ue,ue="*");var ke,Ue=0,Ge=ue.toLowerCase().match(le)||[];if(L(be))for(;ke=Ge[Ue++];)ke[0]==="+"?(ke=ke.slice(1)||"*",(Z[ke]=Z[ke]||[]).unshift(be)):(Z[ke]=Z[ke]||[]).push(be)}}function Lr(Z,ue,be,ke){var Ue={},Ge=Z===Zl;function Je(zt){var Mt;return Ue[zt]=!0,E.each(Z[zt]||[],function(Jt,_i){var Pi=_i(ue,be,ke);if(typeof Pi=="string"&&!Ge&&!Ue[Pi])return ue.dataTypes.unshift(Pi),Je(Pi),!1;if(Ge)return!(Mt=Pi)}),Mt}return Je(ue.dataTypes[0])||!Ue["*"]&&Je("*")}function Fr(Z,ue){var be,ke,Ue=E.ajaxSettings.flatOptions||{};for(be in ue)ue[be]!==void 0&&((Ue[be]?Z:ke||(ke={}))[be]=ue[be]);return ke&&E.extend(!0,Z,ke),Z}function Pu(Z,ue,be){for(var ke,Ue,Ge,Je,zt=Z.contents,Mt=Z.dataTypes;Mt[0]==="*";)Mt.shift(),ke===void 0&&(ke=Z.mimeType||ue.getResponseHeader("Content-Type"));if(ke){for(Ue in zt)if(zt[Ue]&&zt[Ue].test(ke)){Mt.unshift(Ue);break}}if(Mt[0]in be)Ge=Mt[0];else{for(Ue in be){if(!Mt[0]||Z.converters[Ue+" "+Mt[0]]){Ge=Ue;break}Je||(Je=Ue)}Ge=Ge||Je}if(Ge)return Ge!==Mt[0]&&Mt.unshift(Ge),be[Ge]}function Bd(Z,ue,be,ke){var Ue,Ge,Je,zt,Mt,Jt={},_i=Z.dataTypes.slice();if(_i[1])for(Je in Z.converters)Jt[Je.toLowerCase()]=Z.converters[Je];for(Ge=_i.shift();Ge;)if(Z.responseFields[Ge]&&(be[Z.responseFields[Ge]]=ue),!Mt&&ke&&Z.dataFilter&&(ue=Z.dataFilter(ue,Z.dataType)),Mt=Ge,Ge=_i.shift(),Ge){if(Ge==="*")Ge=Mt;else if(Mt!=="*"&&Mt!==Ge){if(Je=Jt[Mt+" "+Ge]||Jt["* "+Ge],!Je){for(Ue in Jt)if(zt=Ue.split(" "),zt[1]===Ge&&(Je=Jt[Mt+" "+zt[0]]||Jt["* "+zt[0]],Je)){Je===!0?Je=Jt[Ue]:Jt[Ue]!==!0&&(Ge=zt[0],_i.unshift(zt[1]));break}}if(Je!==!0)if(Je&&Z.throws)ue=Je(ue);else try{ue=Je(ue)}catch(Pi){return{state:"parsererror",error:Je?Pi:"No conversion from "+Mt+" to "+Ge}}}}return{state:"success",data:ue}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wl.href,type:"GET",isLocal:Mu.test(wl.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":oo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(Z,ue){return ue?Fr(Fr(Z,E.ajaxSettings),ue):Fr(E.ajaxSettings,Z)},ajaxPrefilter:Au(ku),ajaxTransport:Au(Zl),ajax:function(Z,ue){typeof Z=="object"&&(ue=Z,Z=void 0),ue=ue||{};var be,ke,Ue,Ge,Je,zt,Mt,Jt,_i,Pi,ai=E.ajaxSetup({},ue),mi=ai.context||ai,Ji=ai.context&&(mi.nodeType||mi.jquery)?E(mi):E.event,Xn=E.Deferred(),fn=E.Callbacks("once memory"),fs=ai.statusCode||{},Qr={},gr={},yr="canceled",Yn={readyState:0,getResponseHeader:function(vr){var es;if(Mt){if(!Ge)for(Ge={};es=Rd.exec(Ue);)Ge[es[1].toLowerCase()+" "]=(Ge[es[1].toLowerCase()+" "]||[]).concat(es[2]);es=Ge[vr.toLowerCase()+" "]}return es==null?null:es.join(", ")},getAllResponseHeaders:function(){return Mt?Ue:null},setRequestHeader:function(vr,es){return Mt==null&&(vr=gr[vr.toLowerCase()]=gr[vr.toLowerCase()]||vr,Qr[vr]=es),this},overrideMimeType:function(vr){return Mt==null&&(ai.mimeType=vr),this},statusCode:function(vr){var es;if(vr)if(Mt)Yn.always(vr[Yn.status]);else for(es in vr)fs[es]=[fs[es],vr[es]];return this},abort:function(vr){var es=vr||yr;return be&&be.abort(es),ao(0,es),this}};if(Xn.promise(Yn),ai.url=((Z||ai.url||wl.href)+"").replace(Xl,wl.protocol+"//"),ai.type=ue.method||ue.type||ai.method||ai.type,ai.dataTypes=(ai.dataType||"*").toLowerCase().match(le)||[""],ai.crossDomain==null){zt=k.createElement("a");try{zt.href=ai.url,zt.href=zt.href,ai.crossDomain=Sl.protocol+"//"+Sl.host!=zt.protocol+"//"+zt.host}catch{ai.crossDomain=!0}}if(ai.data&&ai.processData&&typeof ai.data!="string"&&(ai.data=E.param(ai.data,ai.traditional)),Lr(ku,ai,ue,Yn),Mt)return Yn;Jt=E.event&&ai.global,Jt&&E.active++===0&&E.event.trigger("ajaxStart"),ai.type=ai.type.toUpperCase(),ai.hasContent=!Js.test(ai.type),ke=ai.url.replace(so,""),ai.hasContent?ai.data&&ai.processData&&(ai.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ai.data=ai.data.replace(ll,"+")):(Pi=ai.url.slice(ke.length),ai.data&&(ai.processData||typeof ai.data=="string")&&(ke+=(Tl.test(ke)?"&":"?")+ai.data,delete ai.data),ai.cache===!1&&(ke=ke.replace(va,"$1"),Pi=(Tl.test(ke)?"&":"?")+"_="+al.guid+++Pi),ai.url=ke+Pi),ai.ifModified&&(E.lastModified[ke]&&Yn.setRequestHeader("If-Modified-Since",E.lastModified[ke]),E.etag[ke]&&Yn.setRequestHeader("If-None-Match",E.etag[ke])),(ai.data&&ai.hasContent&&ai.contentType!==!1||ue.contentType)&&Yn.setRequestHeader("Content-Type",ai.contentType),Yn.setRequestHeader("Accept",ai.dataTypes[0]&&ai.accepts[ai.dataTypes[0]]?ai.accepts[ai.dataTypes[0]]+(ai.dataTypes[0]!=="*"?", "+oo+"; q=0.01":""):ai.accepts["*"]);for(_i in ai.headers)Yn.setRequestHeader(_i,ai.headers[_i]);if(ai.beforeSend&&(ai.beforeSend.call(mi,Yn,ai)===!1||Mt))return Yn.abort();if(yr="abort",fn.add(ai.complete),Yn.done(ai.success),Yn.fail(ai.error),be=Lr(Zl,ai,ue,Yn),!be)ao(-1,"No Transport");else{if(Yn.readyState=1,Jt&&Ji.trigger("ajaxSend",[Yn,ai]),Mt)return Yn;ai.async&&ai.timeout>0&&(Je=t.setTimeout(function(){Yn.abort("timeout")},ai.timeout));try{Mt=!1,be.send(Qr,ao)}catch(vr){if(Mt)throw vr;ao(-1,vr)}}function ao(vr,es,qa,Jl){var lo,oa,Kn,xo,aa,jo=es;Mt||(Mt=!0,Je&&t.clearTimeout(Je),be=void 0,Ue=Jl||"",Yn.readyState=vr>0?4:0,lo=vr>=200&&vr<300||vr===304,qa&&(xo=Pu(ai,Yn,qa)),!lo&&E.inArray("script",ai.dataTypes)>-1&&E.inArray("json",ai.dataTypes)<0&&(ai.converters["text script"]=function(){}),xo=Bd(ai,xo,Yn,lo),lo?(ai.ifModified&&(aa=Yn.getResponseHeader("Last-Modified"),aa&&(E.lastModified[ke]=aa),aa=Yn.getResponseHeader("etag"),aa&&(E.etag[ke]=aa)),vr===204||ai.type==="HEAD"?jo="nocontent":vr===304?jo="notmodified":(jo=xo.state,oa=xo.data,Kn=xo.error,lo=!Kn)):(Kn=jo,(vr||!jo)&&(jo="error",vr<0&&(vr=0))),Yn.status=vr,Yn.statusText=(es||jo)+"",lo?Xn.resolveWith(mi,[oa,jo,Yn]):Xn.rejectWith(mi,[Yn,jo,Kn]),Yn.statusCode(fs),fs=void 0,Jt&&Ji.trigger(lo?"ajaxSuccess":"ajaxError",[Yn,ai,lo?oa:Kn]),fn.fireWith(mi,[Yn,jo]),Jt&&(Ji.trigger("ajaxComplete",[Yn,ai]),--E.active||E.event.trigger("ajaxStop")))}return Yn},getJSON:function(Z,ue,be){return E.get(Z,ue,be,"json")},getScript:function(Z,ue){return E.get(Z,void 0,ue,"script")}}),E.each(["get","post"],function(Z,ue){E[ue]=function(be,ke,Ue,Ge){return L(ke)&&(Ge=Ge||Ue,Ue=ke,ke=void 0),E.ajax(E.extend({url:be,type:ue,dataType:Ge,data:ke,success:Ue},E.isPlainObject(be)&&be))}}),E.ajaxPrefilter(function(Z){var ue;for(ue in Z.headers)ue.toLowerCase()==="content-type"&&(Z.contentType=Z.headers[ue]||"")}),E._evalUrl=function(Z,ue,be){return E.ajax({url:Z,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ke){E.globalEval(ke,ue,be)}})},E.fn.extend({wrapAll:function(Z){var ue;return this[0]&&(L(Z)&&(Z=Z.call(this[0])),ue=E(Z,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&ue.insertBefore(this[0]),ue.map(function(){for(var be=this;be.firstElementChild;)be=be.firstElementChild;return be}).append(this)),this},wrapInner:function(Z){return L(Z)?this.each(function(ue){E(this).wrapInner(Z.call(this,ue))}):this.each(function(){var ue=E(this),be=ue.contents();be.length?be.wrapAll(Z):ue.append(Z)})},wrap:function(Z){var ue=L(Z);return this.each(function(be){E(this).wrapAll(ue?Z.call(this,be):Z)})},unwrap:function(Z){return this.parent(Z).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(Z){return!E.expr.pseudos.visible(Z)},E.expr.pseudos.visible=function(Z){return!!(Z.offsetWidth||Z.offsetHeight||Z.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var cd={0:200,1223:204},xa=E.ajaxSettings.xhr();O.cors=!!xa&&"withCredentials"in xa,O.ajax=xa=!!xa,E.ajaxTransport(function(Z){var ue,be;if(O.cors||xa&&!Z.crossDomain)return{send:function(ke,Ue){var Ge,Je=Z.xhr();if(Je.open(Z.type,Z.url,Z.async,Z.username,Z.password),Z.xhrFields)for(Ge in Z.xhrFields)Je[Ge]=Z.xhrFields[Ge];Z.mimeType&&Je.overrideMimeType&&Je.overrideMimeType(Z.mimeType),!Z.crossDomain&&!ke["X-Requested-With"]&&(ke["X-Requested-With"]="XMLHttpRequest");for(Ge in ke)Je.setRequestHeader(Ge,ke[Ge]);ue=function(zt){return function(){ue&&(ue=be=Je.onload=Je.onerror=Je.onabort=Je.ontimeout=Je.onreadystatechange=null,zt==="abort"?Je.abort():zt==="error"?typeof Je.status!="number"?Ue(0,"error"):Ue(Je.status,Je.statusText):Ue(cd[Je.status]||Je.status,Je.statusText,(Je.responseType||"text")!=="text"||typeof Je.responseText!="string"?{binary:Je.response}:{text:Je.responseText},Je.getAllResponseHeaders()))}},Je.onload=ue(),be=Je.onerror=Je.ontimeout=ue("error"),Je.onabort!==void 0?Je.onabort=be:Je.onreadystatechange=function(){Je.readyState===4&&t.setTimeout(function(){ue&&be()})},ue=ue("abort");try{Je.send(Z.hasContent&&Z.data||null)}catch(zt){if(ue)throw zt}},abort:function(){ue&&ue()}}}),E.ajaxPrefilter(function(Z){Z.crossDomain&&(Z.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(Z){return E.globalEval(Z),Z}}}),E.ajaxPrefilter("script",function(Z){Z.cache===void 0&&(Z.cache=!1),Z.crossDomain&&(Z.type="GET")}),E.ajaxTransport("script",function(Z){if(Z.crossDomain||Z.scriptAttrs){var ue,be;return{send:function(ke,Ue){ue=E("<script>").attr(Z.scriptAttrs||{}).prop({charset:Z.scriptCharset,src:Z.url}).on("load error",be=function(Ge){ue.remove(),be=null,Ge&&Ue(Ge.type==="error"?404:200,Ge.type)}),k.head.appendChild(ue[0])},abort:function(){be&&be()}}}});var tu=[],Du=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var Z=tu.pop()||E.expando+"_"+al.guid++;return this[Z]=!0,Z}}),E.ajaxPrefilter("json jsonp",function(Z,ue,be){var ke,Ue,Ge,Je=Z.jsonp!==!1&&(Du.test(Z.url)?"url":typeof Z.data=="string"&&(Z.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Du.test(Z.data)&&"data");if(Je||Z.dataTypes[0]==="jsonp")return ke=Z.jsonpCallback=L(Z.jsonpCallback)?Z.jsonpCallback():Z.jsonpCallback,Je?Z[Je]=Z[Je].replace(Du,"$1"+ke):Z.jsonp!==!1&&(Z.url+=(Tl.test(Z.url)?"&":"?")+Z.jsonp+"="+ke),Z.converters["script json"]=function(){return Ge||E.error(ke+" was not called"),Ge[0]},Z.dataTypes[0]="json",Ue=t[ke],t[ke]=function(){Ge=arguments},be.always(function(){Ue===void 0?E(t).removeProp(ke):t[ke]=Ue,Z[ke]&&(Z.jsonpCallback=ue.jsonpCallback,tu.push(ke)),Ge&&L(Ue)&&Ue(Ge[0]),Ge=Ue=void 0}),"script"}),O.createHTMLDocument=function(){var Z=k.implementation.createHTMLDocument("").body;return Z.innerHTML="<form></form><form></form>",Z.childNodes.length===2}(),E.parseHTML=function(Z,ue,be){if(typeof Z!="string")return[];typeof ue=="boolean"&&(be=ue,ue=!1);var ke,Ue,Ge;return ue||(O.createHTMLDocument?(ue=k.implementation.createHTMLDocument(""),ke=ue.createElement("base"),ke.href=k.location.href,ue.head.appendChild(ke)):ue=k),Ue=D.exec(Z),Ge=!be&&[],Ue?[ue.createElement(Ue[1])]:(Ue=di([Z],ue,Ge),Ge&&Ge.length&&E(Ge).remove(),E.merge([],Ue.childNodes))},E.fn.load=function(Z,ue,be){var ke,Ue,Ge,Je=this,zt=Z.indexOf(" ");return zt>-1&&(ke=Hr(Z.slice(zt)),Z=Z.slice(0,zt)),L(ue)?(be=ue,ue=void 0):ue&&typeof ue=="object"&&(Ue="POST"),Je.length>0&&E.ajax({url:Z,type:Ue||"GET",dataType:"html",data:ue}).done(function(Mt){Ge=arguments,Je.html(ke?E("<div>").append(E.parseHTML(Mt)).find(ke):Mt)}).always(be&&function(Mt,Jt){Je.each(function(){be.apply(this,Ge||[Mt.responseText,Jt,Mt])})}),this},E.expr.pseudos.animated=function(Z){return E.grep(E.timers,function(ue){return Z===ue.elem}).length},E.offset={setOffset:function(Z,ue,be){var ke,Ue,Ge,Je,zt,Mt,Jt,_i=E.css(Z,"position"),Pi=E(Z),ai={};_i==="static"&&(Z.style.position="relative"),zt=Pi.offset(),Ge=E.css(Z,"top"),Mt=E.css(Z,"left"),Jt=(_i==="absolute"||_i==="fixed")&&(Ge+Mt).indexOf("auto")>-1,Jt?(ke=Pi.position(),Je=ke.top,Ue=ke.left):(Je=parseFloat(Ge)||0,Ue=parseFloat(Mt)||0),L(ue)&&(ue=ue.call(Z,be,E.extend({},zt))),ue.top!=null&&(ai.top=ue.top-zt.top+Je),ue.left!=null&&(ai.left=ue.left-zt.left+Ue),"using"in ue?ue.using.call(Z,ai):Pi.css(ai)}},E.fn.extend({offset:function(Z){if(arguments.length)return Z===void 0?this:this.each(function(Ue){E.offset.setOffset(this,Z,Ue)});var ue,be,ke=this[0];if(ke)return ke.getClientRects().length?(ue=ke.getBoundingClientRect(),be=ke.ownerDocument.defaultView,{top:ue.top+be.pageYOffset,left:ue.left+be.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var Z,ue,be,ke=this[0],Ue={top:0,left:0};if(E.css(ke,"position")==="fixed")ue=ke.getBoundingClientRect();else{for(ue=this.offset(),be=ke.ownerDocument,Z=ke.offsetParent||be.documentElement;Z&&(Z===be.body||Z===be.documentElement)&&E.css(Z,"position")==="static";)Z=Z.parentNode;Z&&Z!==ke&&Z.nodeType===1&&(Ue=E(Z).offset(),Ue.top+=E.css(Z,"borderTopWidth",!0),Ue.left+=E.css(Z,"borderLeftWidth",!0))}return{top:ue.top-Ue.top-E.css(ke,"marginTop",!0),left:ue.left-Ue.left-E.css(ke,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var Z=this.offsetParent;Z&&E.css(Z,"position")==="static";)Z=Z.offsetParent;return Z||Ze})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(Z,ue){var be=ue==="pageYOffset";E.fn[Z]=function(ke){return ne(this,function(Ue,Ge,Je){var zt;if(G(Ue)?zt=Ue:Ue.nodeType===9&&(zt=Ue.defaultView),Je===void 0)return zt?zt[ue]:Ue[Ge];zt?zt.scrollTo(be?zt.pageXOffset:Je,be?Je:zt.pageYOffset):Ue[Ge]=Je},Z,ke,arguments.length)}}),E.each(["top","left"],function(Z,ue){E.cssHooks[ue]=qi(O.pixelPosition,function(be,ke){if(ke)return ke=pn(be,ue),Rt.test(ke)?E(be).position()[ue]+"px":ke})}),E.each({Height:"height",Width:"width"},function(Z,ue){E.each({padding:"inner"+Z,content:ue,"":"outer"+Z},function(be,ke){E.fn[ke]=function(Ue,Ge){var Je=arguments.length&&(be||typeof Ue!="boolean"),zt=be||(Ue===!0||Ge===!0?"margin":"border");return ne(this,function(Mt,Jt,_i){var Pi;return G(Mt)?ke.indexOf("outer")===0?Mt["inner"+Z]:Mt.document.documentElement["client"+Z]:Mt.nodeType===9?(Pi=Mt.documentElement,Math.max(Mt.body["scroll"+Z],Pi["scroll"+Z],Mt.body["offset"+Z],Pi["offset"+Z],Pi["client"+Z])):_i===void 0?E.css(Mt,Jt,zt):E.style(Mt,Jt,_i,zt)},ue,Je?Ue:void 0,Je)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(Z,ue){E.fn[ue]=function(be){return this.on(ue,be)}}),E.fn.extend({bind:function(Z,ue,be){return this.on(Z,null,ue,be)},unbind:function(Z,ue){return this.off(Z,null,ue)},delegate:function(Z,ue,be,ke){return this.on(ue,Z,be,ke)},undelegate:function(Z,ue,be){return arguments.length===1?this.off(Z,"**"):this.off(ue,Z||"**",be)},hover:function(Z,ue){return this.mouseenter(Z).mouseleave(ue||Z)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(Z,ue){E.fn[ue]=function(be,ke){return arguments.length>0?this.on(ue,null,be,ke):this.trigger(ue)}});var Kl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(Z,ue){var be,ke,Ue;if(typeof ue=="string"&&(be=Z[ue],ue=Z,Z=be),!!L(Z))return ke=u.call(arguments,2),Ue=function(){return Z.apply(ue||this,ke.concat(u.call(arguments)))},Ue.guid=Z.guid=Z.guid||E.guid++,Ue},E.holdReady=function(Z){Z?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=w,E.isFunction=L,E.isWindow=G,E.camelCase=ge,E.type=H,E.now=Date.now,E.isNumeric=function(Z){var ue=E.type(Z);return(ue==="number"||ue==="string")&&!isNaN(Z-parseFloat(Z))},E.trim=function(Z){return Z==null?"":(Z+"").replace(Kl,"$1")};var sa=t.jQuery,Qs=t.$;return E.noConflict=function(Z){return t.$===E&&(t.$=Qs),Z&&t.jQuery===E&&(t.jQuery=sa),E},typeof i>"u"&&(t.jQuery=t.$=E),E})})(TM);var h6=TM.exports;const p6=rd(h6);function SM(e,t){return function(){return e.apply(t,arguments)}}const{toString:CM}=Object.prototype,{getPrototypeOf:qT}=Object,XT=(e=>t=>{const i=CM.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),pp=e=>(e=e.toLowerCase(),t=>XT(t)===e),xb=e=>t=>typeof t===e,{isArray:Hg}=Array,qy=xb("undefined");function f6(e){return e!==null&&!qy(e)&&e.constructor!==null&&!qy(e.constructor)&&Z0(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const EM=pp("ArrayBuffer");function m6(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&EM(e.buffer),t}const g6=xb("string"),Z0=xb("function"),MM=xb("number"),ZT=e=>e!==null&&typeof e=="object",y6=e=>e===!0||e===!1,bx=e=>{if(XT(e)!=="object")return!1;const t=qT(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_6=pp("Date"),v6=pp("File"),x6=pp("Blob"),b6=pp("FileList"),w6=e=>ZT(e)&&Z0(e.pipe),T6=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||CM.call(e)===t||Z0(e.toString)&&e.toString()===t)},S6=pp("URLSearchParams"),C6=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function h_(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Hg(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const u=i?Object.getOwnPropertyNames(e):Object.keys(e),h=u.length;let s;for(r=0;r<h;r++)s=u[r],t.call(null,e[s],s,e)}}function kM(e,t){t=t.toLowerCase();const i=Object.keys(e);let r=i.length,o;for(;r-- >0;)if(o=i[r],t===o.toLowerCase())return o;return null}const AM=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),PM=e=>!qy(e)&&e!==AM;function J3(){const{caseless:e}=PM(this)&&this||{},t={},i=(r,o)=>{const u=e&&kM(t,o)||o;bx(t[u])&&bx(r)?t[u]=J3(t[u],r):bx(r)?t[u]=J3({},r):Hg(r)?t[u]=r.slice():t[u]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&h_(arguments[r],i);return t}const E6=(e,t,i,{allOwnKeys:r}={})=>(h_(t,(o,u)=>{i&&Z0(o)?e[u]=SM(o,i):e[u]=o},{allOwnKeys:r}),e),M6=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),k6=(e,t,i,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},A6=(e,t,i,r)=>{let o,u,h;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),u=o.length;u-- >0;)h=o[u],(!r||r(h,e,t))&&!s[h]&&(t[h]=e[h],s[h]=!0);e=i!==!1&&qT(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},P6=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const r=e.indexOf(t,i);return r!==-1&&r===i},D6=e=>{if(!e)return null;if(Hg(e))return e;let t=e.length;if(!MM(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},I6=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qT(Uint8Array)),L6=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const u=o.value;t.call(e,u[0],u[1])}},O6=(e,t)=>{let i;const r=[];for(;(i=e.exec(t))!==null;)r.push(i);return r},R6=pp("HTMLFormElement"),B6=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(i,r,o){return r.toUpperCase()+o}),l5=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),N6=pp("RegExp"),DM=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),r={};h_(i,(o,u)=>{t(o,u,e)!==!1&&(r[u]=o)}),Object.defineProperties(e,r)},z6=e=>{DM(e,(t,i)=>{if(Z0(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const r=e[i];if(Z0(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},F6=(e,t)=>{const i={},r=o=>{o.forEach(u=>{i[u]=!0})};return Hg(e)?r(e):r(String(e).split(t)),i},j6=()=>{},U6=(e,t)=>(e=+e,Number.isFinite(e)?e:t),$6=e=>{const t=new Array(10),i=(r,o)=>{if(ZT(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const u=Hg(r)?[]:{};return h_(r,(h,s)=>{const v=i(h,o+1);!qy(v)&&(u[s]=v)}),t[o]=void 0,u}}return r};return i(e,0)},Fi={isArray:Hg,isArrayBuffer:EM,isBuffer:f6,isFormData:T6,isArrayBufferView:m6,isString:g6,isNumber:MM,isBoolean:y6,isObject:ZT,isPlainObject:bx,isUndefined:qy,isDate:_6,isFile:v6,isBlob:x6,isRegExp:N6,isFunction:Z0,isStream:w6,isURLSearchParams:S6,isTypedArray:I6,isFileList:b6,forEach:h_,merge:J3,extend:E6,trim:C6,stripBOM:M6,inherits:k6,toFlatObject:A6,kindOf:XT,kindOfTest:pp,endsWith:P6,toArray:D6,forEachEntry:L6,matchAll:O6,isHTMLForm:R6,hasOwnProperty:l5,hasOwnProp:l5,reduceDescriptors:DM,freezeMethods:z6,toObjectSet:F6,toCamelCase:B6,noop:j6,toFiniteNumber:U6,findKey:kM,global:AM,isContextDefined:PM,toJSONObject:$6};function ws(e,t,i,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),r&&(this.request=r),o&&(this.response=o)}Fi.inherits(ws,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fi.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const IM=ws.prototype,LM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{LM[e]={value:e}});Object.defineProperties(ws,LM);Object.defineProperty(IM,"isAxiosError",{value:!0});ws.from=(e,t,i,r,o,u)=>{const h=Object.create(IM);return Fi.toFlatObject(e,h,function(v){return v!==Error.prototype},s=>s!=="isAxiosError"),ws.call(h,e.message,t,i,r,o),h.cause=e,h.name=e.name,u&&Object.assign(h,u),h};var V6=typeof self=="object"?self.FormData:window.FormData;const G6=rd(V6);function Q3(e){return Fi.isPlainObject(e)||Fi.isArray(e)}function OM(e){return Fi.endsWith(e,"[]")?e.slice(0,-2):e}function c5(e,t,i){return e?e.concat(t).map(function(o,u){return o=OM(o),!i&&u?"["+o+"]":o}).join(i?".":""):t}function H6(e){return Fi.isArray(e)&&!e.some(Q3)}const W6=Fi.toFlatObject(Fi,{},null,function(t){return/^is[A-Z]/.test(t)});function Y6(e){return e&&Fi.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function bb(e,t,i){if(!Fi.isObject(e))throw new TypeError("target must be an object");t=t||new(G6||FormData),i=Fi.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,G){return!Fi.isUndefined(G[L])});const r=i.metaTokens,o=i.visitor||J,u=i.dots,h=i.indexes,v=(i.Blob||typeof Blob<"u"&&Blob)&&Y6(t);if(!Fi.isFunction(o))throw new TypeError("visitor must be a function");function I(O){if(O===null)return"";if(Fi.isDate(O))return O.toISOString();if(!v&&Fi.isBlob(O))throw new ws("Blob is not supported. Use a Buffer instead.");return Fi.isArrayBuffer(O)||Fi.isTypedArray(O)?v&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function J(O,L,G){let k=O;if(O&&!G&&typeof O=="object"){if(Fi.endsWith(L,"{}"))L=r?L:L.slice(0,-2),O=JSON.stringify(O);else if(Fi.isArray(O)&&H6(O)||Fi.isFileList(O)||Fi.endsWith(L,"[]")&&(k=Fi.toArray(O)))return L=OM(L),k.forEach(function(A,H){!(Fi.isUndefined(A)||A===null)&&t.append(h===!0?c5([L],H,u):h===null?L:L+"[]",I(A))}),!1}return Q3(O)?!0:(t.append(c5(G,L,u),I(O)),!1)}const M=[],B=Object.assign(W6,{defaultVisitor:J,convertValue:I,isVisitable:Q3});function W(O,L){if(!Fi.isUndefined(O)){if(M.indexOf(O)!==-1)throw Error("Circular reference detected in "+L.join("."));M.push(O),Fi.forEach(O,function(k,S){(!(Fi.isUndefined(k)||k===null)&&o.call(t,k,Fi.isString(S)?S.trim():S,L,B))===!0&&W(k,L?L.concat(S):[S])}),M.pop()}}if(!Fi.isObject(e))throw new TypeError("data must be an object");return W(e),t}function u5(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function KT(e,t){this._pairs=[],e&&bb(e,this,t)}const RM=KT.prototype;RM.append=function(t,i){this._pairs.push([t,i])};RM.toString=function(t){const i=t?function(r){return t.call(this,r,u5)}:u5;return this._pairs.map(function(o){return i(o[0])+"="+i(o[1])},"").join("&")};function q6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BM(e,t,i){if(!t)return e;const r=i&&i.encode||q6,o=i&&i.serialize;let u;if(o?u=o(t,i):u=Fi.isURLSearchParams(t)?t.toString():new KT(t,i).toString(r),u){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class X6{constructor(){this.handlers=[]}use(t,i,r){return this.handlers.push({fulfilled:t,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Fi.forEach(this.handlers,function(r){r!==null&&t(r)})}}const d5=X6,NM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z6=typeof URLSearchParams<"u"?URLSearchParams:KT,K6=FormData,J6=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Q6=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),hh={isBrowser:!0,classes:{URLSearchParams:Z6,FormData:K6,Blob},isStandardBrowserEnv:J6,isStandardBrowserWebWorkerEnv:Q6,protocols:["http","https","file","blob","url","data"]};function eD(e,t){return bb(e,new hh.classes.URLSearchParams,Object.assign({visitor:function(i,r,o,u){return hh.isNode&&Fi.isBuffer(i)?(this.append(r,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function tD(e){return Fi.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function iD(e){const t={},i=Object.keys(e);let r;const o=i.length;let u;for(r=0;r<o;r++)u=i[r],t[u]=e[u];return t}function zM(e){function t(i,r,o,u){let h=i[u++];const s=Number.isFinite(+h),v=u>=i.length;return h=!h&&Fi.isArray(o)?o.length:h,v?(Fi.hasOwnProp(o,h)?o[h]=[o[h],r]:o[h]=r,!s):((!o[h]||!Fi.isObject(o[h]))&&(o[h]=[]),t(i,r,o[h],u)&&Fi.isArray(o[h])&&(o[h]=iD(o[h])),!s)}if(Fi.isFormData(e)&&Fi.isFunction(e.entries)){const i={};return Fi.forEachEntry(e,(r,o)=>{t(tD(r),o,i,0)}),i}return null}const nD={"Content-Type":void 0};function rD(e,t,i){if(Fi.isString(e))try{return(t||JSON.parse)(e),Fi.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(e)}const wb={transitional:NM,adapter:["xhr","http"],transformRequest:[function(t,i){const r=i.getContentType()||"",o=r.indexOf("application/json")>-1,u=Fi.isObject(t);if(u&&Fi.isHTMLForm(t)&&(t=new FormData(t)),Fi.isFormData(t))return o&&o?JSON.stringify(zM(t)):t;if(Fi.isArrayBuffer(t)||Fi.isBuffer(t)||Fi.isStream(t)||Fi.isFile(t)||Fi.isBlob(t))return t;if(Fi.isArrayBufferView(t))return t.buffer;if(Fi.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return eD(t,this.formSerializer).toString();if((s=Fi.isFileList(t))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return bb(s?{"files[]":t}:t,v&&new v,this.formSerializer)}}return u||o?(i.setContentType("application/json",!1),rD(t)):t}],transformResponse:[function(t){const i=this.transitional||wb.transitional,r=i&&i.forcedJSONParsing,o=this.responseType==="json";if(t&&Fi.isString(t)&&(r&&!this.responseType||o)){const h=!(i&&i.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(s){if(h)throw s.name==="SyntaxError"?ws.from(s,ws.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hh.classes.FormData,Blob:hh.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Fi.forEach(["delete","get","head"],function(t){wb.headers[t]={}});Fi.forEach(["post","put","patch"],function(t){wb.headers[t]=Fi.merge(nD)});const JT=wb,sD=Fi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oD=e=>{const t={};let i,r,o;return e&&e.split(`
`).forEach(function(h){o=h.indexOf(":"),i=h.substring(0,o).trim().toLowerCase(),r=h.substring(o+1).trim(),!(!i||t[i]&&sD[i])&&(i==="set-cookie"?t[i]?t[i].push(r):t[i]=[r]:t[i]=t[i]?t[i]+", "+r:r)}),t},h5=Symbol("internals");function Cy(e){return e&&String(e).trim().toLowerCase()}function wx(e){return e===!1||e==null?e:Fi.isArray(e)?e.map(wx):String(e)}function aD(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=i.exec(e);)t[r[1]]=r[2];return t}function lD(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function p5(e,t,i,r){if(Fi.isFunction(r))return r.call(this,t,i);if(Fi.isString(t)){if(Fi.isString(r))return t.indexOf(r)!==-1;if(Fi.isRegExp(r))return r.test(t)}}function cD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,r)=>i.toUpperCase()+r)}function uD(e,t){const i=Fi.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+i,{value:function(o,u,h){return this[r].call(this,t,o,u,h)},configurable:!0})})}class Tb{constructor(t){t&&this.set(t)}set(t,i,r){const o=this;function u(s,v,I){const J=Cy(v);if(!J)throw new Error("header name must be a non-empty string");const M=Fi.findKey(o,J);(!M||o[M]===void 0||I===!0||I===void 0&&o[M]!==!1)&&(o[M||v]=wx(s))}const h=(s,v)=>Fi.forEach(s,(I,J)=>u(I,J,v));return Fi.isPlainObject(t)||t instanceof this.constructor?h(t,i):Fi.isString(t)&&(t=t.trim())&&!lD(t)?h(oD(t),i):t!=null&&u(i,t,r),this}get(t,i){if(t=Cy(t),t){const r=Fi.findKey(this,t);if(r){const o=this[r];if(!i)return o;if(i===!0)return aD(o);if(Fi.isFunction(i))return i.call(this,o,r);if(Fi.isRegExp(i))return i.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Cy(t),t){const r=Fi.findKey(this,t);return!!(r&&(!i||p5(this,this[r],r,i)))}return!1}delete(t,i){const r=this;let o=!1;function u(h){if(h=Cy(h),h){const s=Fi.findKey(r,h);s&&(!i||p5(r,r[s],s,i))&&(delete r[s],o=!0)}}return Fi.isArray(t)?t.forEach(u):u(t),o}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const i=this,r={};return Fi.forEach(this,(o,u)=>{const h=Fi.findKey(r,u);if(h){i[h]=wx(o),delete i[u];return}const s=t?cD(u):String(u).trim();s!==u&&delete i[u],i[s]=wx(o),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return Fi.forEach(this,(r,o)=>{r!=null&&r!==!1&&(i[o]=t&&Fi.isArray(r)?r.join(", "):r)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const r=new this(t);return i.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[h5]=this[h5]={accessors:{}}).accessors,o=this.prototype;function u(h){const s=Cy(h);r[s]||(uD(o,h),r[s]=!0)}return Fi.isArray(t)?t.forEach(u):u(t),this}}Tb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Fi.freezeMethods(Tb.prototype);Fi.freezeMethods(Tb);const op=Tb;function a3(e,t){const i=this||JT,r=t||i,o=op.from(r.headers);let u=r.data;return Fi.forEach(e,function(s){u=s.call(i,u,o.normalize(),t?t.status:void 0)}),o.normalize(),u}function FM(e){return!!(e&&e.__CANCEL__)}function p_(e,t,i){ws.call(this,e??"canceled",ws.ERR_CANCELED,t,i),this.name="CanceledError"}Fi.inherits(p_,ws,{__CANCEL__:!0});const dD=null;function hD(e,t,i){const r=i.config.validateStatus;!i.status||!r||r(i.status)?e(i):t(new ws("Request failed with status code "+i.status,[ws.ERR_BAD_REQUEST,ws.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const pD=hh.isStandardBrowserEnv?function(){return{write:function(i,r,o,u,h,s){const v=[];v.push(i+"="+encodeURIComponent(r)),Fi.isNumber(o)&&v.push("expires="+new Date(o).toGMTString()),Fi.isString(u)&&v.push("path="+u),Fi.isString(h)&&v.push("domain="+h),s===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(i){const r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function fD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mD(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function jM(e,t){return e&&!fD(t)?mD(e,t):t}const gD=hh.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let r;function o(u){let h=u;return t&&(i.setAttribute("href",h),h=i.href),i.setAttribute("href",h),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=o(window.location.href),function(h){const s=Fi.isString(h)?o(h):h;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();function yD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function _D(e,t){e=e||10;const i=new Array(e),r=new Array(e);let o=0,u=0,h;return t=t!==void 0?t:1e3,function(v){const I=Date.now(),J=r[u];h||(h=I),i[o]=v,r[o]=I;let M=u,B=0;for(;M!==o;)B+=i[M++],M=M%e;if(o=(o+1)%e,o===u&&(u=(u+1)%e),I-h<t)return;const W=J&&I-J;return W?Math.round(B*1e3/W):void 0}}function f5(e,t){let i=0;const r=_D(50,250);return o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,s=u-i,v=r(s),I=u<=h;i=u;const J={loaded:u,total:h,progress:h?u/h:void 0,bytes:s,rate:v||void 0,estimated:v&&h&&I?(h-u)/v:void 0,event:o};J[t?"download":"upload"]=!0,e(J)}}const vD=typeof XMLHttpRequest<"u",xD=vD&&function(e){return new Promise(function(i,r){let o=e.data;const u=op.from(e.headers).normalize(),h=e.responseType;let s;function v(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}Fi.isFormData(o)&&(hh.isStandardBrowserEnv||hh.isStandardBrowserWebWorkerEnv)&&u.setContentType(!1);let I=new XMLHttpRequest;if(e.auth){const W=e.auth.username||"",O=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.set("Authorization","Basic "+btoa(W+":"+O))}const J=jM(e.baseURL,e.url);I.open(e.method.toUpperCase(),BM(J,e.params,e.paramsSerializer),!0),I.timeout=e.timeout;function M(){if(!I)return;const W=op.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),L={data:!h||h==="text"||h==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:W,config:e,request:I};hD(function(k){i(k),v()},function(k){r(k),v()},L),I=null}if("onloadend"in I?I.onloadend=M:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(M)},I.onabort=function(){I&&(r(new ws("Request aborted",ws.ECONNABORTED,e,I)),I=null)},I.onerror=function(){r(new ws("Network Error",ws.ERR_NETWORK,e,I)),I=null},I.ontimeout=function(){let O=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const L=e.transitional||NM;e.timeoutErrorMessage&&(O=e.timeoutErrorMessage),r(new ws(O,L.clarifyTimeoutError?ws.ETIMEDOUT:ws.ECONNABORTED,e,I)),I=null},hh.isStandardBrowserEnv){const W=(e.withCredentials||gD(J))&&e.xsrfCookieName&&pD.read(e.xsrfCookieName);W&&u.set(e.xsrfHeaderName,W)}o===void 0&&u.setContentType(null),"setRequestHeader"in I&&Fi.forEach(u.toJSON(),function(O,L){I.setRequestHeader(L,O)}),Fi.isUndefined(e.withCredentials)||(I.withCredentials=!!e.withCredentials),h&&h!=="json"&&(I.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&I.addEventListener("progress",f5(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&I.upload&&I.upload.addEventListener("progress",f5(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=W=>{I&&(r(!W||W.type?new p_(null,e,I):W),I.abort(),I=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const B=yD(J);if(B&&hh.protocols.indexOf(B)===-1){r(new ws("Unsupported protocol "+B+":",ws.ERR_BAD_REQUEST,e));return}I.send(o||null)})},Tx={http:dD,xhr:xD};Fi.forEach(Tx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bD={getAdapter:e=>{e=Fi.isArray(e)?e:[e];const{length:t}=e;let i,r;for(let o=0;o<t&&(i=e[o],!(r=Fi.isString(i)?Tx[i.toLowerCase()]:i));o++);if(!r)throw r===!1?new ws(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Fi.hasOwnProp(Tx,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!Fi.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Tx};function l3(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new p_(null,e)}function m5(e){return l3(e),e.headers=op.from(e.headers),e.data=a3.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bD.getAdapter(e.adapter||JT.adapter)(e).then(function(r){return l3(e),r.data=a3.call(e,e.transformResponse,r),r.headers=op.from(r.headers),r},function(r){return FM(r)||(l3(e),r&&r.response&&(r.response.data=a3.call(e,e.transformResponse,r.response),r.response.headers=op.from(r.response.headers))),Promise.reject(r)})}const g5=e=>e instanceof op?e.toJSON():e;function Ig(e,t){t=t||{};const i={};function r(I,J,M){return Fi.isPlainObject(I)&&Fi.isPlainObject(J)?Fi.merge.call({caseless:M},I,J):Fi.isPlainObject(J)?Fi.merge({},J):Fi.isArray(J)?J.slice():J}function o(I,J,M){if(Fi.isUndefined(J)){if(!Fi.isUndefined(I))return r(void 0,I,M)}else return r(I,J,M)}function u(I,J){if(!Fi.isUndefined(J))return r(void 0,J)}function h(I,J){if(Fi.isUndefined(J)){if(!Fi.isUndefined(I))return r(void 0,I)}else return r(void 0,J)}function s(I,J,M){if(M in t)return r(I,J);if(M in e)return r(void 0,I)}const v={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:s,headers:(I,J)=>o(g5(I),g5(J),!0)};return Fi.forEach(Object.keys(e).concat(Object.keys(t)),function(J){const M=v[J]||o,B=M(e[J],t[J],J);Fi.isUndefined(B)&&M!==s||(i[J]=B)}),i}const UM="1.2.2",QT={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{QT[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const y5={};QT.transitional=function(t,i,r){function o(u,h){return"[Axios v"+UM+"] Transitional option '"+u+"'"+h+(r?". "+r:"")}return(u,h,s)=>{if(t===!1)throw new ws(o(h," has been removed"+(i?" in "+i:"")),ws.ERR_DEPRECATED);return i&&!y5[h]&&(y5[h]=!0,console.warn(o(h," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(u,h,s):!0}};function wD(e,t,i){if(typeof e!="object")throw new ws("options must be an object",ws.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const u=r[o],h=t[u];if(h){const s=e[u],v=s===void 0||h(s,u,e);if(v!==!0)throw new ws("option "+u+" must be "+v,ws.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ws("Unknown option "+u,ws.ERR_BAD_OPTION)}}const eT={assertOptions:wD,validators:QT},Zp=eT.validators;class Fx{constructor(t){this.defaults=t,this.interceptors={request:new d5,response:new d5}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Ig(this.defaults,i);const{transitional:r,paramsSerializer:o,headers:u}=i;r!==void 0&&eT.assertOptions(r,{silentJSONParsing:Zp.transitional(Zp.boolean),forcedJSONParsing:Zp.transitional(Zp.boolean),clarifyTimeoutError:Zp.transitional(Zp.boolean)},!1),o!==void 0&&eT.assertOptions(o,{encode:Zp.function,serialize:Zp.function},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h;h=u&&Fi.merge(u.common,u[i.method]),h&&Fi.forEach(["delete","get","head","post","put","patch","common"],O=>{delete u[O]}),i.headers=op.concat(h,u);const s=[];let v=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(i)===!1||(v=v&&L.synchronous,s.unshift(L.fulfilled,L.rejected))});const I=[];this.interceptors.response.forEach(function(L){I.push(L.fulfilled,L.rejected)});let J,M=0,B;if(!v){const O=[m5.bind(this),void 0];for(O.unshift.apply(O,s),O.push.apply(O,I),B=O.length,J=Promise.resolve(i);M<B;)J=J.then(O[M++],O[M++]);return J}B=s.length;let W=i;for(M=0;M<B;){const O=s[M++],L=s[M++];try{W=O(W)}catch(G){L.call(this,G);break}}try{J=m5.call(this,W)}catch(O){return Promise.reject(O)}for(M=0,B=I.length;M<B;)J=J.then(I[M++],I[M++]);return J}getUri(t){t=Ig(this.defaults,t);const i=jM(t.baseURL,t.url);return BM(i,t.params,t.paramsSerializer)}}Fi.forEach(["delete","get","head","options"],function(t){Fx.prototype[t]=function(i,r){return this.request(Ig(r||{},{method:t,url:i,data:(r||{}).data}))}});Fi.forEach(["post","put","patch"],function(t){function i(r){return function(u,h,s){return this.request(Ig(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Fx.prototype[t]=i(),Fx.prototype[t+"Form"]=i(!0)});const Sx=Fx;class eS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const r=this;this.promise.then(o=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](o);r._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(s=>{r.subscribe(s),u=s}).then(o);return h.cancel=function(){r.unsubscribe(u)},h},t(function(u,h,s){r.reason||(r.reason=new p_(u,h,s),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new eS(function(o){t=o}),cancel:t}}}const TD=eS;function SD(e){return function(i){return e.apply(null,i)}}function CD(e){return Fi.isObject(e)&&e.isAxiosError===!0}const tT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tT).forEach(([e,t])=>{tT[t]=e});const ED=tT;function $M(e){const t=new Sx(e),i=SM(Sx.prototype.request,t);return Fi.extend(i,Sx.prototype,t,{allOwnKeys:!0}),Fi.extend(i,t,null,{allOwnKeys:!0}),i.create=function(o){return $M(Ig(e,o))},i}const Ga=$M(JT);Ga.Axios=Sx;Ga.CanceledError=p_;Ga.CancelToken=TD;Ga.isCancel=FM;Ga.VERSION=UM;Ga.toFormData=bb;Ga.AxiosError=ws;Ga.Cancel=Ga.CanceledError;Ga.all=function(t){return Promise.all(t)};Ga.spread=SD;Ga.isAxiosError=CD;Ga.mergeConfig=Ig;Ga.AxiosHeaders=op;Ga.formToJSON=e=>zM(Fi.isHTMLForm(e)?new FormData(e):e);Ga.HttpStatusCode=ED;Ga.default=Ga;const MD=Ga;window._=vb;window.$=p6;window.axios=MD;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function qc(e,t){const i=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)i[r[o]]=!0;return t?o=>!!i[o.toLowerCase()]:o=>!!i[o]}const kD="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",AD=qc(kD);function ea(e){if(Dn(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],o=zr(r)?VM(r):ea(r);if(o)for(const u in o)t[u]=o[u]}return t}else{if(zr(e))return e;if(eo(e))return e}}const PD=/;(?![^(]*\))/g,DD=/:([^]+)/,ID=/\/\*.*?\*\//gs;function VM(e){const t={};return e.replace(ID,"").split(PD).forEach(i=>{if(i){const r=i.split(DD);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function kn(e){let t="";if(zr(e))t=e;else if(Dn(e))for(let i=0;i<e.length;i++){const r=kn(e[i]);r&&(t+=r+" ")}else if(eo(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function Is(e){if(!e)return null;let{class:t,style:i}=e;return t&&!zr(t)&&(e.class=kn(t)),i&&(e.style=ea(i)),e}const LD="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",OD="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",RD="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",BD=qc(LD),ND=qc(OD),zD=qc(RD),FD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jD=qc(FD);function GM(e){return!!e||e===""}function UD(e,t){if(e.length!==t.length)return!1;let i=!0;for(let r=0;i&&r<e.length;r++)i=gf(e[r],t[r]);return i}function gf(e,t){if(e===t)return!0;let i=_5(e),r=_5(t);if(i||r)return i&&r?e.getTime()===t.getTime():!1;if(i=yf(e),r=yf(t),i||r)return e===t;if(i=Dn(e),r=Dn(t),i||r)return i&&r?UD(e,t):!1;if(i=eo(e),r=eo(t),i||r){if(!i||!r)return!1;const o=Object.keys(e).length,u=Object.keys(t).length;if(o!==u)return!1;for(const h in e){const s=e.hasOwnProperty(h),v=t.hasOwnProperty(h);if(s&&!v||!s&&v||!gf(e[h],t[h]))return!1}}return String(e)===String(t)}function Sb(e,t){return e.findIndex(i=>gf(i,t))}const $i=e=>zr(e)?e:e==null?"":Dn(e)||eo(e)&&(e.toString===WM||!Er(e.toString))?JSON.stringify(e,HM,2):String(e),HM=(e,t)=>t&&t.__v_isRef?HM(e,t.value):wg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[r,o])=>(i[`${r} =>`]=o,i),{})}:rm(t)?{[`Set(${t.size})`]:[...t.values()]}:eo(t)&&!Dn(t)&&!YM(t)?String(t):t,Xs={},bg=[],xc=()=>{},Cx=()=>!1,$D=/^on[^a-z]/,nm=e=>$D.test(e),tS=e=>e.startsWith("onUpdate:"),Ls=Object.assign,iS=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},VD=Object.prototype.hasOwnProperty,bs=(e,t)=>VD.call(e,t),Dn=Array.isArray,wg=e=>f_(e)==="[object Map]",rm=e=>f_(e)==="[object Set]",_5=e=>f_(e)==="[object Date]",Er=e=>typeof e=="function",zr=e=>typeof e=="string",yf=e=>typeof e=="symbol",eo=e=>e!==null&&typeof e=="object",nS=e=>eo(e)&&Er(e.then)&&Er(e.catch),WM=Object.prototype.toString,f_=e=>WM.call(e),GD=e=>f_(e).slice(8,-1),YM=e=>f_(e)==="[object Object]",rS=e=>zr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$0=qc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),HD=qc("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Cb=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},WD=/-(\w)/g,sl=Cb(e=>e.replace(WD,(t,i)=>i?i.toUpperCase():"")),YD=/\B([A-Z])/g,xu=Cb(e=>e.replace(YD,"-$1").toLowerCase()),kf=Cb(e=>e.charAt(0).toUpperCase()+e.slice(1)),V0=Cb(e=>e?`on${kf(e)}`:""),Lg=(e,t)=>!Object.is(e,t),Tg=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},jx=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},cp=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let v5;const qD=()=>v5||(v5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let gu;class Eb{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=gu,!t&&gu&&(this.index=(gu.scopes||(gu.scopes=[])).push(this)-1)}run(t){if(this.active){const i=gu;try{return gu=this,t()}finally{gu=i}}}on(){gu=this}off(){gu=this.parent}stop(t){if(this.active){let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.scopes)for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function qM(e){return new Eb(e)}function XM(e,t=gu){t&&t.active&&t.effects.push(e)}function sS(){return gu}function oS(e){gu&&gu.cleanups.push(e)}const aS=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ZM=e=>(e.w&_f)>0,KM=e=>(e.n&_f)>0,XD=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_f},ZD=e=>{const{deps:t}=e;if(t.length){let i=0;for(let r=0;r<t.length;r++){const o=t[r];ZM(o)&&!KM(o)?o.delete(e):t[i++]=o,o.w&=~_f,o.n&=~_f}t.length=i}},iT=new WeakMap;let By=0,_f=1;const nT=30;let Cd;const G0=Symbol(""),rT=Symbol("");class Wg{constructor(t,i=null,r){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,XM(this,r)}run(){if(!this.active)return this.fn();let t=Cd,i=uf;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Cd,Cd=this,uf=!0,_f=1<<++By,By<=nT?XD(this):x5(this),this.fn()}finally{By<=nT&&ZD(this),_f=1<<--By,Cd=this.parent,uf=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Cd===this?this.deferStop=!0:this.active&&(x5(this),this.onStop&&this.onStop(),this.active=!1)}}function x5(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}function JM(e,t){e.effect&&(e=e.effect.fn);const i=new Wg(e);t&&(Ls(i,t),t.scope&&XM(i,t.scope)),(!t||!t.lazy)&&i.run();const r=i.run.bind(i);return r.effect=i,r}function QM(e){e.effect.stop()}let uf=!0;const ek=[];function Yg(){ek.push(uf),uf=!1}function qg(){const e=ek.pop();uf=e===void 0?!0:e}function wu(e,t,i){if(uf&&Cd){let r=iT.get(e);r||iT.set(e,r=new Map);let o=r.get(i);o||r.set(i,o=aS()),tk(o)}}function tk(e,t){let i=!1;By<=nT?KM(e)||(e.n|=_f,i=!ZM(e)):i=!e.has(Cd),i&&(e.add(Cd),Cd.deps.push(e))}function up(e,t,i,r,o,u){const h=iT.get(e);if(!h)return;let s=[];if(t==="clear")s=[...h.values()];else if(i==="length"&&Dn(e)){const v=cp(r);h.forEach((I,J)=>{(J==="length"||J>=v)&&s.push(I)})}else switch(i!==void 0&&s.push(h.get(i)),t){case"add":Dn(e)?rS(i)&&s.push(h.get("length")):(s.push(h.get(G0)),wg(e)&&s.push(h.get(rT)));break;case"delete":Dn(e)||(s.push(h.get(G0)),wg(e)&&s.push(h.get(rT)));break;case"set":wg(e)&&s.push(h.get(G0));break}if(s.length===1)s[0]&&sT(s[0]);else{const v=[];for(const I of s)I&&v.push(...I);sT(aS(v))}}function sT(e,t){const i=Dn(e)?e:[...e];for(const r of i)r.computed&&b5(r);for(const r of i)r.computed||b5(r)}function b5(e,t){(e!==Cd||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const KD=qc("__proto__,__v_isRef,__isVue"),ik=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(yf)),JD=Mb(),QD=Mb(!1,!0),eI=Mb(!0),tI=Mb(!0,!0),w5=iI();function iI(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const r=ds(this);for(let u=0,h=this.length;u<h;u++)wu(r,"get",u+"");const o=r[t](...i);return o===-1||o===!1?r[t](...i.map(ds)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){Yg();const r=ds(this)[t].apply(this,i);return qg(),r}}),e}function Mb(e=!1,t=!1){return function(r,o,u){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&u===(e?t?ck:lk:t?ak:ok).get(r))return r;const h=Dn(r);if(!e&&h&&bs(w5,o))return Reflect.get(w5,o,u);const s=Reflect.get(r,o,u);return(yf(o)?ik.has(o):KD(o))||(e||wu(r,"get",o),t)?s:ta(s)?h&&rS(o)?s:s.value:eo(s)?e?Pb(s):Id(s):s}}const nI=nk(),rI=nk(!0);function nk(e=!1){return function(i,r,o,u){let h=i[r];if(vf(h)&&ta(h)&&!ta(o))return!1;if(!e&&(!Og(o)&&!vf(o)&&(h=ds(h),o=ds(o)),!Dn(i)&&ta(h)&&!ta(o)))return h.value=o,!0;const s=Dn(i)&&rS(r)?Number(r)<i.length:bs(i,r),v=Reflect.set(i,r,o,u);return i===ds(u)&&(s?Lg(o,h)&&up(i,"set",r,o):up(i,"add",r,o)),v}}function sI(e,t){const i=bs(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&i&&up(e,"delete",t,void 0),r}function oI(e,t){const i=Reflect.has(e,t);return(!yf(t)||!ik.has(t))&&wu(e,"has",t),i}function aI(e){return wu(e,"iterate",Dn(e)?"length":G0),Reflect.ownKeys(e)}const rk={get:JD,set:nI,deleteProperty:sI,has:oI,ownKeys:aI},sk={get:eI,set(e,t){return!0},deleteProperty(e,t){return!0}},lI=Ls({},rk,{get:QD,set:rI}),cI=Ls({},sk,{get:tI}),lS=e=>e,kb=e=>Reflect.getPrototypeOf(e);function Jv(e,t,i=!1,r=!1){e=e.__v_raw;const o=ds(e),u=ds(t);i||(t!==u&&wu(o,"get",t),wu(o,"get",u));const{has:h}=kb(o),s=r?lS:i?uS:Xy;if(h.call(o,t))return s(e.get(t));if(h.call(o,u))return s(e.get(u));e!==o&&e.get(t)}function Qv(e,t=!1){const i=this.__v_raw,r=ds(i),o=ds(e);return t||(e!==o&&wu(r,"has",e),wu(r,"has",o)),e===o?i.has(e):i.has(e)||i.has(o)}function ex(e,t=!1){return e=e.__v_raw,!t&&wu(ds(e),"iterate",G0),Reflect.get(e,"size",e)}function T5(e){e=ds(e);const t=ds(this);return kb(t).has.call(t,e)||(t.add(e),up(t,"add",e,e)),this}function S5(e,t){t=ds(t);const i=ds(this),{has:r,get:o}=kb(i);let u=r.call(i,e);u||(e=ds(e),u=r.call(i,e));const h=o.call(i,e);return i.set(e,t),u?Lg(t,h)&&up(i,"set",e,t):up(i,"add",e,t),this}function C5(e){const t=ds(this),{has:i,get:r}=kb(t);let o=i.call(t,e);o||(e=ds(e),o=i.call(t,e)),r&&r.call(t,e);const u=t.delete(e);return o&&up(t,"delete",e,void 0),u}function E5(){const e=ds(this),t=e.size!==0,i=e.clear();return t&&up(e,"clear",void 0,void 0),i}function tx(e,t){return function(r,o){const u=this,h=u.__v_raw,s=ds(h),v=t?lS:e?uS:Xy;return!e&&wu(s,"iterate",G0),h.forEach((I,J)=>r.call(o,v(I),v(J),u))}}function ix(e,t,i){return function(...r){const o=this.__v_raw,u=ds(o),h=wg(u),s=e==="entries"||e===Symbol.iterator&&h,v=e==="keys"&&h,I=o[e](...r),J=i?lS:t?uS:Xy;return!t&&wu(u,"iterate",v?rT:G0),{next(){const{value:M,done:B}=I.next();return B?{value:M,done:B}:{value:s?[J(M[0]),J(M[1])]:J(M),done:B}},[Symbol.iterator](){return this}}}}function Kp(e){return function(...t){return e==="delete"?!1:this}}function uI(){const e={get(u){return Jv(this,u)},get size(){return ex(this)},has:Qv,add:T5,set:S5,delete:C5,clear:E5,forEach:tx(!1,!1)},t={get(u){return Jv(this,u,!1,!0)},get size(){return ex(this)},has:Qv,add:T5,set:S5,delete:C5,clear:E5,forEach:tx(!1,!0)},i={get(u){return Jv(this,u,!0)},get size(){return ex(this,!0)},has(u){return Qv.call(this,u,!0)},add:Kp("add"),set:Kp("set"),delete:Kp("delete"),clear:Kp("clear"),forEach:tx(!0,!1)},r={get(u){return Jv(this,u,!0,!0)},get size(){return ex(this,!0)},has(u){return Qv.call(this,u,!0)},add:Kp("add"),set:Kp("set"),delete:Kp("delete"),clear:Kp("clear"),forEach:tx(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=ix(u,!1,!1),i[u]=ix(u,!0,!1),t[u]=ix(u,!1,!0),r[u]=ix(u,!0,!0)}),[e,i,t,r]}const[dI,hI,pI,fI]=uI();function Ab(e,t){const i=t?e?fI:pI:e?hI:dI;return(r,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(bs(i,o)&&o in r?i:r,o,u)}const mI={get:Ab(!1,!1)},gI={get:Ab(!1,!0)},yI={get:Ab(!0,!1)},_I={get:Ab(!0,!0)},ok=new WeakMap,ak=new WeakMap,lk=new WeakMap,ck=new WeakMap;function vI(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xI(e){return e.__v_skip||!Object.isExtensible(e)?0:vI(GD(e))}function Id(e){return vf(e)?e:Db(e,!1,rk,mI,ok)}function cS(e){return Db(e,!1,lI,gI,ak)}function Pb(e){return Db(e,!0,sk,yI,lk)}function uk(e){return Db(e,!0,cI,_I,ck)}function Db(e,t,i,r,o){if(!eo(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const h=xI(e);if(h===0)return e;const s=new Proxy(e,h===2?r:i);return o.set(e,s),s}function df(e){return vf(e)?df(e.__v_raw):!!(e&&e.__v_isReactive)}function vf(e){return!!(e&&e.__v_isReadonly)}function Og(e){return!!(e&&e.__v_isShallow)}function Ib(e){return df(e)||vf(e)}function ds(e){const t=e&&e.__v_raw;return t?ds(t):e}function Lb(e){return jx(e,"__v_skip",!0),e}const Xy=e=>eo(e)?Id(e):e,uS=e=>eo(e)?Pb(e):e;function dS(e){uf&&Cd&&(e=ds(e),tk(e.dep||(e.dep=aS())))}function Ob(e,t){e=ds(e),e.dep&&sT(e.dep)}function ta(e){return!!(e&&e.__v_isRef===!0)}function Ki(e){return hk(e,!1)}function dk(e){return hk(e,!0)}function hk(e,t){return ta(e)?e:new bI(e,t)}class bI{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:ds(t),this._value=i?t:Xy(t)}get value(){return dS(this),this._value}set value(t){const i=this.__v_isShallow||Og(t)||vf(t);t=i?t:ds(t),Lg(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:Xy(t),Ob(this))}}function pk(e){Ob(e)}function Ft(e){return ta(e)?e.value:e}const wI={get:(e,t,i)=>Ft(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const o=e[t];return ta(o)&&!ta(i)?(o.value=i,!0):Reflect.set(e,t,i,r)}};function Rb(e){return df(e)?e:new Proxy(e,wI)}class TI{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:i,set:r}=t(()=>dS(this),()=>Ob(this));this._get=i,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function fk(e){return new TI(e)}function hS(e){const t=Dn(e)?new Array(e.length):{};for(const i in e)t[i]=xf(e,i);return t}class SI{constructor(t,i,r){this._object=t,this._key=i,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function xf(e,t,i){const r=e[t];return ta(r)?r:new SI(e,t,i)}var mk;class CI{constructor(t,i,r,o){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this[mk]=!1,this._dirty=!0,this.effect=new Wg(t,()=>{this._dirty||(this._dirty=!0,Ob(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=ds(this);return dS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}mk="__v_isReadonly";function EI(e,t,i=!1){let r,o;const u=Er(e);return u?(r=e,o=xc):(r=e.get,o=e.set),new CI(r,o,u||!o,i)}function gk(e,...t){}function mh(e,t,i,r){let o;try{o=r?e(...r):e()}catch(u){Af(u,t,i)}return o}function Hc(e,t,i,r){if(Er(e)){const u=mh(e,t,i,r);return u&&nS(u)&&u.catch(h=>{Af(h,t,i)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(Hc(e[u],t,i,r));return o}function Af(e,t,i,r=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const h=t.proxy,s=i;for(;u;){const I=u.ec;if(I){for(let J=0;J<I.length;J++)if(I[J](e,h,s)===!1)return}u=u.parent}const v=t.appContext.config.errorHandler;if(v){mh(v,null,10,[e,h,s]);return}}MI(e,i,o,r)}function MI(e,t,i,r=!0){console.error(e)}let Zy=!1,oT=!1;const zl=[];let oh=0;const Sg=[];let Kh=null,O0=0;const yk=Promise.resolve();let pS=null;function bc(e){const t=pS||yk;return e?t.then(this?e.bind(this):e):t}function kI(e){let t=oh+1,i=zl.length;for(;t<i;){const r=t+i>>>1;Ky(zl[r])<e?t=r+1:i=r}return t}function Bb(e){(!zl.length||!zl.includes(e,Zy&&e.allowRecurse?oh+1:oh))&&(e.id==null?zl.push(e):zl.splice(kI(e.id),0,e),_k())}function _k(){!Zy&&!oT&&(oT=!0,pS=yk.then(vk))}function AI(e){const t=zl.indexOf(e);t>oh&&zl.splice(t,1)}function Nb(e){Dn(e)?Sg.push(...e):(!Kh||!Kh.includes(e,e.allowRecurse?O0+1:O0))&&Sg.push(e),_k()}function M5(e,t=Zy?oh+1:0){for(;t<zl.length;t++){const i=zl[t];i&&i.pre&&(zl.splice(t,1),t--,i())}}function Ux(e){if(Sg.length){const t=[...new Set(Sg)];if(Sg.length=0,Kh){Kh.push(...t);return}for(Kh=t,Kh.sort((i,r)=>Ky(i)-Ky(r)),O0=0;O0<Kh.length;O0++)Kh[O0]();Kh=null,O0=0}}const Ky=e=>e.id==null?1/0:e.id,PI=(e,t)=>{const i=Ky(e)-Ky(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function vk(e){oT=!1,Zy=!0,zl.sort(PI);const t=xc;try{for(oh=0;oh<zl.length;oh++){const i=zl[oh];i&&i.active!==!1&&mh(i,null,14)}}finally{oh=0,zl.length=0,Ux(),Zy=!1,pS=null,(zl.length||Sg.length)&&vk()}}let R0,nx=[];function fS(e,t){var i,r;R0=e,R0?(R0.enabled=!0,nx.forEach(({event:o,args:u})=>R0.emit(o,...u)),nx=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(i=window.navigator)===null||i===void 0?void 0:i.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(u=>{fS(u,t)}),setTimeout(()=>{R0||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,nx=[])},3e3)):nx=[]}function DI(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||Xs;let o=i;const u=t.startsWith("update:"),h=u&&t.slice(7);if(h&&h in r){const J=`${h==="modelValue"?"model":h}Modifiers`,{number:M,trim:B}=r[J]||Xs;B&&(o=i.map(W=>zr(W)?W.trim():W)),M&&(o=i.map(cp))}let s,v=r[s=V0(t)]||r[s=V0(sl(t))];!v&&u&&(v=r[s=V0(xu(t))]),v&&Hc(v,e,6,o);const I=r[s+"Once"];if(I){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Hc(I,e,6,o)}}function xk(e,t,i=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const u=e.emits;let h={},s=!1;if(!Er(e)){const v=I=>{const J=xk(I,t,!0);J&&(s=!0,Ls(h,J))};!i&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}return!u&&!s?(eo(e)&&r.set(e,null),null):(Dn(u)?u.forEach(v=>h[v]=null):Ls(h,u),eo(e)&&r.set(e,h),h)}function zb(e,t){return!e||!nm(t)?!1:(t=t.slice(2).replace(/Once$/,""),bs(e,t[0].toLowerCase()+t.slice(1))||bs(e,xu(t))||bs(e,t))}let vl=null,Fb=null;function Jy(e){const t=vl;return vl=e,Fb=e&&e.type.__scopeId||null,t}function Xc(e){Fb=e}function Zc(){Fb=null}const bk=e=>Hn;function Hn(e,t=vl,i){if(!t||e._n)return e;const r=(...o)=>{r._d&&Gx(-1);const u=Jy(t);let h;try{h=e(...o)}finally{Jy(u),r._d&&Gx(1)}return h};return r._n=!0,r._c=!0,r._d=!0,r}function Ex(e){const{type:t,vnode:i,proxy:r,withProxy:o,props:u,propsOptions:[h],slots:s,attrs:v,emit:I,render:J,renderCache:M,data:B,setupState:W,ctx:O,inheritAttrs:L}=e;let G,k;const S=Jy(e);try{if(i.shapeFlag&4){const H=o||r;G=_u(J.call(H,H,M,u,W,B,O)),k=v}else{const H=t;G=_u(H.length>1?H(u,{attrs:v,slots:s,emit:I}):H(u,null)),k=t.props?v:LI(v)}}catch(H){jy.length=0,Af(H,e,1),G=sn(xl)}let A=G;if(k&&L!==!1){const H=Object.keys(k),{shapeFlag:U}=A;H.length&&U&7&&(h&&H.some(tS)&&(k=OI(k,h)),A=Ad(A,k))}return i.dirs&&(A=Ad(A),A.dirs=A.dirs?A.dirs.concat(i.dirs):i.dirs),i.transition&&(A.transition=i.transition),G=A,Jy(S),G}function II(e){let t;for(let i=0;i<e.length;i++){const r=e[i];if(dp(r)){if(r.type!==xl||r.children==="v-if"){if(t)return;t=r}}else return}return t}const LI=e=>{let t;for(const i in e)(i==="class"||i==="style"||nm(i))&&((t||(t={}))[i]=e[i]);return t},OI=(e,t)=>{const i={};for(const r in e)(!tS(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function RI(e,t,i){const{props:r,children:o,component:u}=e,{props:h,children:s,patchFlag:v}=t,I=u.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&v>=0){if(v&1024)return!0;if(v&16)return r?k5(r,h,I):!!h;if(v&8){const J=t.dynamicProps;for(let M=0;M<J.length;M++){const B=J[M];if(h[B]!==r[B]&&!zb(I,B))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:r===h?!1:r?h?k5(r,h,I):!0:!!h;return!1}function k5(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const u=r[o];if(t[u]!==e[u]&&!zb(i,u))return!0}return!1}function mS({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const wk=e=>e.__isSuspense,BI={name:"Suspense",__isSuspense:!0,process(e,t,i,r,o,u,h,s,v,I){e==null?NI(t,i,r,o,u,h,s,v,I):zI(e,t,i,r,o,h,s,v,I)},hydrate:FI,create:gS,normalize:jI},Tk=BI;function Qy(e,t){const i=e.props&&e.props[t];Er(i)&&i()}function NI(e,t,i,r,o,u,h,s,v){const{p:I,o:{createElement:J}}=v,M=J("div"),B=e.suspense=gS(e,o,r,t,M,i,u,h,s,v);I(null,B.pendingBranch=e.ssContent,M,null,r,B,u,h),B.deps>0?(Qy(e,"onPending"),Qy(e,"onFallback"),I(null,e.ssFallback,t,i,r,null,u,h),Cg(B,e.ssFallback)):B.resolve()}function zI(e,t,i,r,o,u,h,s,{p:v,um:I,o:{createElement:J}}){const M=t.suspense=e.suspense;M.vnode=t,t.el=e.el;const B=t.ssContent,W=t.ssFallback,{activeBranch:O,pendingBranch:L,isInFallback:G,isHydrating:k}=M;if(L)M.pendingBranch=B,ah(B,L)?(v(L,B,M.hiddenContainer,null,o,M,u,h,s),M.deps<=0?M.resolve():G&&(v(O,W,i,r,o,null,u,h,s),Cg(M,W))):(M.pendingId++,k?(M.isHydrating=!1,M.activeBranch=L):I(L,o,M),M.deps=0,M.effects.length=0,M.hiddenContainer=J("div"),G?(v(null,B,M.hiddenContainer,null,o,M,u,h,s),M.deps<=0?M.resolve():(v(O,W,i,r,o,null,u,h,s),Cg(M,W))):O&&ah(B,O)?(v(O,B,i,r,o,M,u,h,s),M.resolve(!0)):(v(null,B,M.hiddenContainer,null,o,M,u,h,s),M.deps<=0&&M.resolve()));else if(O&&ah(B,O))v(O,B,i,r,o,M,u,h,s),Cg(M,B);else if(Qy(t,"onPending"),M.pendingBranch=B,M.pendingId++,v(null,B,M.hiddenContainer,null,o,M,u,h,s),M.deps<=0)M.resolve();else{const{timeout:S,pendingId:A}=M;S>0?setTimeout(()=>{M.pendingId===A&&M.fallback(W)},S):S===0&&M.fallback(W)}}function gS(e,t,i,r,o,u,h,s,v,I,J=!1){const{p:M,m:B,um:W,n:O,o:{parentNode:L,remove:G}}=I,k=cp(e.props&&e.props.timeout),S={vnode:e,parent:t,parentComponent:i,isSVG:h,container:r,hiddenContainer:o,anchor:u,deps:0,pendingId:0,timeout:typeof k=="number"?k:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:J,isUnmounted:!1,effects:[],resolve(A=!1){const{vnode:H,activeBranch:U,pendingBranch:E,pendingId:ie,effects:ee,parentComponent:$,container:V}=S;if(S.isHydrating)S.isHydrating=!1;else if(!A){const D=U&&E.transition&&E.transition.mode==="out-in";D&&(U.transition.afterLeave=()=>{ie===S.pendingId&&B(E,V,m,0)});let{anchor:m}=S;U&&(m=O(U),W(U,$,S,!0)),D||B(E,V,m,0)}Cg(S,E),S.pendingBranch=null,S.isInFallback=!1;let j=S.parent,w=!1;for(;j;){if(j.pendingBranch){j.effects.push(...ee),w=!0;break}j=j.parent}w||Nb(ee),S.effects=[],Qy(H,"onResolve")},fallback(A){if(!S.pendingBranch)return;const{vnode:H,activeBranch:U,parentComponent:E,container:ie,isSVG:ee}=S;Qy(H,"onFallback");const $=O(U),V=()=>{S.isInFallback&&(M(null,A,ie,$,E,null,ee,s,v),Cg(S,A))},j=A.transition&&A.transition.mode==="out-in";j&&(U.transition.afterLeave=V),S.isInFallback=!0,W(U,E,null,!0),j||V()},move(A,H,U){S.activeBranch&&B(S.activeBranch,A,H,U),S.container=A},next(){return S.activeBranch&&O(S.activeBranch)},registerDep(A,H){const U=!!S.pendingBranch;U&&S.deps++;const E=A.vnode.el;A.asyncDep.catch(ie=>{Af(ie,A,0)}).then(ie=>{if(A.isUnmounted||S.isUnmounted||S.pendingId!==A.suspenseId)return;A.asyncResolved=!0;const{vnode:ee}=A;pT(A,ie,!1),E&&(ee.el=E);const $=!E&&A.subTree.el;H(A,ee,L(E||A.subTree.el),E?null:O(A.subTree),S,h,v),$&&G($),mS(A,ee.el),U&&--S.deps===0&&S.resolve()})},unmount(A,H){S.isUnmounted=!0,S.activeBranch&&W(S.activeBranch,i,A,H),S.pendingBranch&&W(S.pendingBranch,i,A,H)}};return S}function FI(e,t,i,r,o,u,h,s,v){const I=t.suspense=gS(t,r,i,e.parentNode,document.createElement("div"),null,o,u,h,s,!0),J=v(e,I.pendingBranch=t.ssContent,i,I,u,h);return I.deps===0&&I.resolve(),J}function jI(e){const{shapeFlag:t,children:i}=e,r=t&32;e.ssContent=A5(r?i.default:i),e.ssFallback=r?A5(i.fallback):sn(xl)}function A5(e){let t;if(Er(e)){const i=J0&&e._c;i&&(e._d=!1,pt()),e=e(),i&&(e._d=!0,t=Vc,Gk())}return Dn(e)&&(e=II(e)),e=_u(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function Sk(e,t){t&&t.pendingBranch?Dn(e)?t.effects.push(...e):t.effects.push(e):Nb(e)}function Cg(e,t){e.activeBranch=t;const{vnode:i,parentComponent:r}=e,o=i.el=t.el;r&&r.subTree===i&&(r.vnode.el=o,mS(r,o))}function bf(e,t){if(Ua){let i=Ua.provides;const r=Ua.parent&&Ua.parent.provides;r===i&&(i=Ua.provides=Object.create(r)),i[e]=t}}function Wc(e,t,i=!1){const r=Ua||vl;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return i&&Er(t)?t.call(r.proxy):t}}function Ck(e,t){return m_(e,null,t)}function yS(e,t){return m_(e,null,{flush:"post"})}function Ek(e,t){return m_(e,null,{flush:"sync"})}const rx={};function Zs(e,t,i){return m_(e,t,i)}function m_(e,t,{immediate:i,deep:r,flush:o,onTrack:u,onTrigger:h}=Xs){const s=Ua;let v,I=!1,J=!1;if(ta(e)?(v=()=>e.value,I=Og(e)):df(e)?(v=()=>e,r=!0):Dn(e)?(J=!0,I=e.some(A=>df(A)||Og(A)),v=()=>e.map(A=>{if(ta(A))return A.value;if(df(A))return N0(A);if(Er(A))return mh(A,s,2)})):Er(e)?t?v=()=>mh(e,s,2):v=()=>{if(!(s&&s.isUnmounted))return M&&M(),Hc(e,s,3,[B])}:v=xc,t&&r){const A=v;v=()=>N0(A())}let M,B=A=>{M=k.onStop=()=>{mh(A,s,4)}},W;if(Rg)if(B=xc,t?i&&Hc(t,s,3,[v(),J?[]:void 0,B]):v(),o==="sync"){const A=NS();W=A.__watcherHandles||(A.__watcherHandles=[])}else return xc;let O=J?new Array(e.length).fill(rx):rx;const L=()=>{if(k.active)if(t){const A=k.run();(r||I||(J?A.some((H,U)=>Lg(H,O[U])):Lg(A,O)))&&(M&&M(),Hc(t,s,3,[A,O===rx?void 0:J&&O[0]===rx?[]:O,B]),O=A)}else k.run()};L.allowRecurse=!!t;let G;o==="sync"?G=L:o==="post"?G=()=>yl(L,s&&s.suspense):(L.pre=!0,s&&(L.id=s.uid),G=()=>Bb(L));const k=new Wg(v,G);t?i?L():O=k.run():o==="post"?yl(k.run.bind(k),s&&s.suspense):k.run();const S=()=>{k.stop(),s&&s.scope&&iS(s.scope.effects,k)};return W&&W.push(S),S}function UI(e,t,i){const r=this.proxy,o=zr(e)?e.includes(".")?Mk(r,e):()=>r[e]:e.bind(r,r);let u;Er(t)?u=t:(u=t.handler,i=t);const h=Ua;Sf(this);const s=m_(o,u.bind(r),i);return h?Sf(h):pf(),s}function Mk(e,t){const i=t.split(".");return()=>{let r=e;for(let o=0;o<i.length&&r;o++)r=r[i[o]];return r}}function N0(e,t){if(!eo(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ta(e))N0(e.value,t);else if(Dn(e))for(let i=0;i<e.length;i++)N0(e[i],t);else if(rm(e)||wg(e))e.forEach(i=>{N0(i,t)});else if(YM(e))for(const i in e)N0(e[i],t);return e}function jb(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zo(()=>{e.isMounted=!0}),Pf(()=>{e.isUnmounting=!0}),e}const Xu=[Function,Array],$I={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xu,onEnter:Xu,onAfterEnter:Xu,onEnterCancelled:Xu,onBeforeLeave:Xu,onLeave:Xu,onAfterLeave:Xu,onLeaveCancelled:Xu,onBeforeAppear:Xu,onAppear:Xu,onAfterAppear:Xu,onAppearCancelled:Xu},setup(e,{slots:t}){const i=mp(),r=jb();let o;return()=>{const u=t.default&&g_(t.default(),!0);if(!u||!u.length)return;let h=u[0];if(u.length>1){for(const L of u)if(L.type!==xl){h=L;break}}const s=ds(e),{mode:v}=s;if(r.isLeaving)return c3(h);const I=P5(h);if(!I)return c3(h);const J=K0(I,s,r,i);wf(I,J);const M=i.subTree,B=M&&P5(M);let W=!1;const{getTransitionKey:O}=I.type;if(O){const L=O();o===void 0?o=L:L!==o&&(o=L,W=!0)}if(B&&B.type!==xl&&(!ah(I,B)||W)){const L=K0(B,s,r,i);if(wf(B,L),v==="out-in")return r.isLeaving=!0,L.afterLeave=()=>{r.isLeaving=!1,i.update.active!==!1&&i.update()},c3(h);v==="in-out"&&I.type!==xl&&(L.delayLeave=(G,k,S)=>{const A=kk(r,B);A[String(B.key)]=B,G._leaveCb=()=>{k(),G._leaveCb=void 0,delete J.delayedLeave},J.delayedLeave=S})}return h}}},Ub=$I;function kk(e,t){const{leavingVNodes:i}=e;let r=i.get(t.type);return r||(r=Object.create(null),i.set(t.type,r)),r}function K0(e,t,i,r){const{appear:o,mode:u,persisted:h=!1,onBeforeEnter:s,onEnter:v,onAfterEnter:I,onEnterCancelled:J,onBeforeLeave:M,onLeave:B,onAfterLeave:W,onLeaveCancelled:O,onBeforeAppear:L,onAppear:G,onAfterAppear:k,onAppearCancelled:S}=t,A=String(e.key),H=kk(i,e),U=(ee,$)=>{ee&&Hc(ee,r,9,$)},E=(ee,$)=>{const V=$[1];U(ee,$),Dn(ee)?ee.every(j=>j.length<=1)&&V():ee.length<=1&&V()},ie={mode:u,persisted:h,beforeEnter(ee){let $=s;if(!i.isMounted)if(o)$=L||s;else return;ee._leaveCb&&ee._leaveCb(!0);const V=H[A];V&&ah(e,V)&&V.el._leaveCb&&V.el._leaveCb(),U($,[ee])},enter(ee){let $=v,V=I,j=J;if(!i.isMounted)if(o)$=G||v,V=k||I,j=S||J;else return;let w=!1;const D=ee._enterCb=m=>{w||(w=!0,m?U(j,[ee]):U(V,[ee]),ie.delayedLeave&&ie.delayedLeave(),ee._enterCb=void 0)};$?E($,[ee,D]):D()},leave(ee,$){const V=String(e.key);if(ee._enterCb&&ee._enterCb(!0),i.isUnmounting)return $();U(M,[ee]);let j=!1;const w=ee._leaveCb=D=>{j||(j=!0,$(),D?U(O,[ee]):U(W,[ee]),ee._leaveCb=void 0,H[V]===e&&delete H[V])};H[V]=e,B?E(B,[ee,w]):w()},clone(ee){return K0(ee,t,i,r)}};return ie}function c3(e){if(y_(e))return e=Ad(e),e.children=null,e}function P5(e){return y_(e)?e.children?e.children[0]:void 0:e}function wf(e,t){e.shapeFlag&6&&e.component?wf(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function g_(e,t=!1,i){let r=[],o=0;for(let u=0;u<e.length;u++){let h=e[u];const s=i==null?h.key:String(i)+String(h.key!=null?h.key:u);h.type===Qi?(h.patchFlag&128&&o++,r=r.concat(g_(h.children,t,s))):(t||h.type!==xl)&&r.push(s!=null?Ad(h,{key:s}):h)}if(o>1)for(let u=0;u<r.length;u++)r[u].patchFlag=-2;return r}function Ho(e){return Er(e)?{setup:e,name:e.name}:e}const H0=e=>!!e.type.__asyncLoader;function Ak(e){Er(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:r,delay:o=200,timeout:u,suspensible:h=!0,onError:s}=e;let v=null,I,J=0;const M=()=>(J++,v=null,B()),B=()=>{let W;return v||(W=v=t().catch(O=>{if(O=O instanceof Error?O:new Error(String(O)),s)return new Promise((L,G)=>{s(O,()=>L(M()),()=>G(O),J+1)});throw O}).then(O=>W!==v&&v?v:(O&&(O.__esModule||O[Symbol.toStringTag]==="Module")&&(O=O.default),I=O,O)))};return Ho({name:"AsyncComponentWrapper",__asyncLoader:B,get __asyncResolved(){return I},setup(){const W=Ua;if(I)return()=>u3(I,W);const O=S=>{v=null,Af(S,W,13,!r)};if(h&&W.suspense||Rg)return B().then(S=>()=>u3(S,W)).catch(S=>(O(S),()=>r?sn(r,{error:S}):null));const L=Ki(!1),G=Ki(),k=Ki(!!o);return o&&setTimeout(()=>{k.value=!1},o),u!=null&&setTimeout(()=>{if(!L.value&&!G.value){const S=new Error(`Async component timed out after ${u}ms.`);O(S),G.value=S}},u),B().then(()=>{L.value=!0,W.parent&&y_(W.parent.vnode)&&Bb(W.parent.update)}).catch(S=>{O(S),G.value=S}),()=>{if(L.value&&I)return u3(I,W);if(G.value&&r)return sn(r,{error:G.value});if(i&&!k.value)return sn(i)}}})}function u3(e,t){const{ref:i,props:r,children:o,ce:u}=t.vnode,h=sn(e,r,o);return h.ref=i,h.ce=u,delete t.vnode.ce,h}const y_=e=>e.type.__isKeepAlive,VI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=mp(),r=i.ctx;if(!r.renderer)return()=>{const S=t.default&&t.default();return S&&S.length===1?S[0]:S};const o=new Map,u=new Set;let h=null;const s=i.suspense,{renderer:{p:v,m:I,um:J,o:{createElement:M}}}=r,B=M("div");r.activate=(S,A,H,U,E)=>{const ie=S.component;I(S,A,H,0,s),v(ie.vnode,S,A,H,ie,s,U,S.slotScopeIds,E),yl(()=>{ie.isDeactivated=!1,ie.a&&Tg(ie.a);const ee=S.props&&S.props.onVnodeMounted;ee&&Uc(ee,ie.parent,S)},s)},r.deactivate=S=>{const A=S.component;I(S,B,null,1,s),yl(()=>{A.da&&Tg(A.da);const H=S.props&&S.props.onVnodeUnmounted;H&&Uc(H,A.parent,S),A.isDeactivated=!0},s)};function W(S){d3(S),J(S,i,s,!0)}function O(S){o.forEach((A,H)=>{const U=mT(A.type);U&&(!S||!S(U))&&L(H)})}function L(S){const A=o.get(S);!h||A.type!==h.type?W(A):h&&d3(h),o.delete(S),u.delete(S)}Zs(()=>[e.include,e.exclude],([S,A])=>{S&&O(H=>Ny(S,H)),A&&O(H=>!Ny(A,H))},{flush:"post",deep:!0});let G=null;const k=()=>{G!=null&&o.set(G,h3(i.subTree))};return zo(k),sm(k),Pf(()=>{o.forEach(S=>{const{subTree:A,suspense:H}=i,U=h3(A);if(S.type===U.type){d3(U);const E=U.component.da;E&&yl(E,H);return}W(S)})}),()=>{if(G=null,!t.default)return null;const S=t.default(),A=S[0];if(S.length>1)return h=null,S;if(!dp(A)||!(A.shapeFlag&4)&&!(A.shapeFlag&128))return h=null,A;let H=h3(A);const U=H.type,E=mT(H0(H)?H.type.__asyncResolved||{}:U),{include:ie,exclude:ee,max:$}=e;if(ie&&(!E||!Ny(ie,E))||ee&&E&&Ny(ee,E))return h=H,A;const V=H.key==null?U:H.key,j=o.get(V);return H.el&&(H=Ad(H),A.shapeFlag&128&&(A.ssContent=H)),G=V,j?(H.el=j.el,H.component=j.component,H.transition&&wf(H,H.transition),H.shapeFlag|=512,u.delete(V),u.add(V)):(u.add(V),$&&u.size>parseInt($,10)&&L(u.values().next().value)),H.shapeFlag|=256,h=H,wk(A.type)?A:H}}},Pk=VI;function Ny(e,t){return Dn(e)?e.some(i=>Ny(i,t)):zr(e)?e.split(",").includes(t):e.test?e.test(t):!1}function _S(e,t){Dk(e,"a",t)}function vS(e,t){Dk(e,"da",t)}function Dk(e,t,i=Ua){const r=e.__wdc||(e.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if($b(t,r,i),i){let o=i.parent;for(;o&&o.parent;)y_(o.parent.vnode)&&GI(r,t,i,o),o=o.parent}}function GI(e,t,i,r){const o=$b(t,e,r,!0);yh(()=>{iS(r[t],o)},i)}function d3(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function h3(e){return e.shapeFlag&128?e.ssContent:e}function $b(e,t,i=Ua,r=!1){if(i){const o=i[e]||(i[e]=[]),u=t.__weh||(t.__weh=(...h)=>{if(i.isUnmounted)return;Yg(),Sf(i);const s=Hc(t,i,e,h);return pf(),qg(),s});return r?o.unshift(u):o.push(u),u}}const fp=e=>(t,i=Ua)=>(!Rg||e==="sp")&&$b(e,(...r)=>t(...r),i),xS=fp("bm"),zo=fp("m"),__=fp("bu"),sm=fp("u"),Pf=fp("bum"),yh=fp("um"),bS=fp("sp"),wS=fp("rtg"),TS=fp("rtc");function SS(e,t=Ua){$b("ec",e,t)}function Ks(e,t){const i=vl;if(i===null)return e;const r=Wb(i)||i.proxy,o=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[h,s,v,I=Xs]=t[u];h&&(Er(h)&&(h={mounted:h,updated:h}),h.deep&&N0(s),o.push({dir:h,instance:r,value:s,oldValue:void 0,arg:v,modifiers:I}))}return e}function sh(e,t,i,r){const o=e.dirs,u=t&&t.dirs;for(let h=0;h<o.length;h++){const s=o[h];u&&(s.oldValue=u[h].value);let v=s.dir[r];v&&(Yg(),Hc(v,i,8,[e.el,s,e,t]),qg())}}const CS="components",HI="directives";function dr(e,t){return ES(CS,e,!0,t)||e}const Ik=Symbol();function Vb(e){return zr(e)?ES(CS,e,!1)||e:e||Ik}function Gb(e){return ES(HI,e)}function ES(e,t,i=!0,r=!1){const o=vl||Ua;if(o){const u=o.type;if(e===CS){const s=mT(u,!1);if(s&&(s===t||s===sl(t)||s===kf(sl(t))))return u}const h=D5(o[e]||u[e],t)||D5(o.appContext[e],t);return!h&&r?u:h}}function D5(e,t){return e&&(e[t]||e[sl(t)]||e[kf(sl(t))])}function ar(e,t,i,r){let o;const u=i&&i[r];if(Dn(e)||zr(e)){o=new Array(e.length);for(let h=0,s=e.length;h<s;h++)o[h]=t(e[h],h,void 0,u&&u[h])}else if(typeof e=="number"){o=new Array(e);for(let h=0;h<e;h++)o[h]=t(h+1,h,void 0,u&&u[h])}else if(eo(e))if(e[Symbol.iterator])o=Array.from(e,(h,s)=>t(h,s,void 0,u&&u[s]));else{const h=Object.keys(e);o=new Array(h.length);for(let s=0,v=h.length;s<v;s++){const I=h[s];o[s]=t(e[I],I,s,u&&u[s])}}else o=[];return i&&(i[r]=o),o}function _l(e,t){for(let i=0;i<t.length;i++){const r=t[i];if(Dn(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const u=r.fn(...o);return u&&(u.key=r.key),u}:r.fn)}return e}function dn(e,t,i={},r,o){if(vl.isCE||vl.parent&&H0(vl.parent)&&vl.parent.isCE)return t!=="default"&&(i.name=t),sn("slot",i,r&&r());let u=e[t];u&&u._c&&(u._d=!1),pt();const h=u&&Lk(u(i)),s=mr(Qi,{key:i.key||h&&h.key||`_${t}`},h||(r?r():[]),h&&e._===1?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),u&&u._c&&(u._d=!0),s}function Lk(e){return e.some(t=>dp(t)?!(t.type===xl||t.type===Qi&&!Lk(t.children)):!0)?e:null}function Ok(e,t){const i={};for(const r in e)i[t&&/[A-Z]/.test(r)?`on:${r}`:V0(r)]=e[r];return i}const aT=e=>e?Xk(e)?Wb(e)||e.proxy:aT(e.parent):null,zy=Ls(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>aT(e.parent),$root:e=>aT(e.root),$emit:e=>e.emit,$options:e=>MS(e),$forceUpdate:e=>e.f||(e.f=()=>Bb(e.update)),$nextTick:e=>e.n||(e.n=bc.bind(e.proxy)),$watch:e=>UI.bind(e)}),p3=(e,t)=>e!==Xs&&!e.__isScriptSetup&&bs(e,t),lT={get({_:e},t){const{ctx:i,setupState:r,data:o,props:u,accessCache:h,type:s,appContext:v}=e;let I;if(t[0]!=="$"){const W=h[t];if(W!==void 0)switch(W){case 1:return r[t];case 2:return o[t];case 4:return i[t];case 3:return u[t]}else{if(p3(r,t))return h[t]=1,r[t];if(o!==Xs&&bs(o,t))return h[t]=2,o[t];if((I=e.propsOptions[0])&&bs(I,t))return h[t]=3,u[t];if(i!==Xs&&bs(i,t))return h[t]=4,i[t];cT&&(h[t]=0)}}const J=zy[t];let M,B;if(J)return t==="$attrs"&&wu(e,"get",t),J(e);if((M=s.__cssModules)&&(M=M[t]))return M;if(i!==Xs&&bs(i,t))return h[t]=4,i[t];if(B=v.config.globalProperties,bs(B,t))return B[t]},set({_:e},t,i){const{data:r,setupState:o,ctx:u}=e;return p3(o,t)?(o[t]=i,!0):r!==Xs&&bs(r,t)?(r[t]=i,!0):bs(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:o,propsOptions:u}},h){let s;return!!i[h]||e!==Xs&&bs(e,h)||p3(t,h)||(s=u[0])&&bs(s,h)||bs(r,h)||bs(zy,h)||bs(o.config.globalProperties,h)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:bs(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},WI=Ls({},lT,{get(e,t){if(t!==Symbol.unscopables)return lT.get(e,t,e)},has(e,t){return t[0]!=="_"&&!AD(t)}});let cT=!0;function YI(e){const t=MS(e),i=e.proxy,r=e.ctx;cT=!1,t.beforeCreate&&I5(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:h,watch:s,provide:v,inject:I,created:J,beforeMount:M,mounted:B,beforeUpdate:W,updated:O,activated:L,deactivated:G,beforeDestroy:k,beforeUnmount:S,destroyed:A,unmounted:H,render:U,renderTracked:E,renderTriggered:ie,errorCaptured:ee,serverPrefetch:$,expose:V,inheritAttrs:j,components:w,directives:D,filters:m}=t;if(I&&qI(I,r,null,e.appContext.config.unwrapInjectedRef),h)for(const P in h){const X=h[P];Er(X)&&(r[P]=X.bind(i))}if(o){const P=o.call(i,i);eo(P)&&(e.data=Id(P))}if(cT=!0,u)for(const P in u){const X=u[P],Y=Er(X)?X.bind(i,i):Er(X.get)?X.get.bind(i,i):xc,K=!Er(X)&&Er(X.set)?X.set.bind(i):xc,le=Ui({get:Y,set:K});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>le.value,set:pe=>le.value=pe})}if(s)for(const P in s)Rk(s[P],r,i,P);if(v){const P=Er(v)?v.call(i):v;Reflect.ownKeys(P).forEach(X=>{bf(X,P[X])})}J&&I5(J,e,"c");function x(P,X){Dn(X)?X.forEach(Y=>P(Y.bind(i))):X&&P(X.bind(i))}if(x(xS,M),x(zo,B),x(__,W),x(sm,O),x(_S,L),x(vS,G),x(SS,ee),x(TS,E),x(wS,ie),x(Pf,S),x(yh,H),x(bS,$),Dn(V))if(V.length){const P=e.exposed||(e.exposed={});V.forEach(X=>{Object.defineProperty(P,X,{get:()=>i[X],set:Y=>i[X]=Y})})}else e.exposed||(e.exposed={});U&&e.render===xc&&(e.render=U),j!=null&&(e.inheritAttrs=j),w&&(e.components=w),D&&(e.directives=D)}function qI(e,t,i=xc,r=!1){Dn(e)&&(e=uT(e));for(const o in e){const u=e[o];let h;eo(u)?"default"in u?h=Wc(u.from||o,u.default,!0):h=Wc(u.from||o):h=Wc(u),ta(h)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>h.value,set:s=>h.value=s}):t[o]=h}}function I5(e,t,i){Hc(Dn(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function Rk(e,t,i,r){const o=r.includes(".")?Mk(i,r):()=>i[r];if(zr(e)){const u=t[e];Er(u)&&Zs(o,u)}else if(Er(e))Zs(o,e.bind(i));else if(eo(e))if(Dn(e))e.forEach(u=>Rk(u,t,i,r));else{const u=Er(e.handler)?e.handler.bind(i):t[e.handler];Er(u)&&Zs(o,u,e)}}function MS(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:h}}=e.appContext,s=u.get(t);let v;return s?v=s:!o.length&&!i&&!r?v=t:(v={},o.length&&o.forEach(I=>$x(v,I,h,!0)),$x(v,t,h)),eo(t)&&u.set(t,v),v}function $x(e,t,i,r=!1){const{mixins:o,extends:u}=t;u&&$x(e,u,i,!0),o&&o.forEach(h=>$x(e,h,i,!0));for(const h in t)if(!(r&&h==="expose")){const s=XI[h]||i&&i[h];e[h]=s?s(e[h],t[h]):t[h]}return e}const XI={data:L5,props:D0,emits:D0,methods:D0,computed:D0,beforeCreate:mc,created:mc,beforeMount:mc,mounted:mc,beforeUpdate:mc,updated:mc,beforeDestroy:mc,beforeUnmount:mc,destroyed:mc,unmounted:mc,activated:mc,deactivated:mc,errorCaptured:mc,serverPrefetch:mc,components:D0,directives:D0,watch:KI,provide:L5,inject:ZI};function L5(e,t){return t?e?function(){return Ls(Er(e)?e.call(this,this):e,Er(t)?t.call(this,this):t)}:t:e}function ZI(e,t){return D0(uT(e),uT(t))}function uT(e){if(Dn(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function mc(e,t){return e?[...new Set([].concat(e,t))]:t}function D0(e,t){return e?Ls(Ls(Object.create(null),e),t):t}function KI(e,t){if(!e)return t;if(!t)return e;const i=Ls(Object.create(null),e);for(const r in t)i[r]=mc(e[r],t[r]);return i}function JI(e,t,i,r=!1){const o={},u={};jx(u,Hb,1),e.propsDefaults=Object.create(null),Bk(e,t,o,u);for(const h in e.propsOptions[0])h in o||(o[h]=void 0);i?e.props=r?o:cS(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function QI(e,t,i,r){const{props:o,attrs:u,vnode:{patchFlag:h}}=e,s=ds(o),[v]=e.propsOptions;let I=!1;if((r||h>0)&&!(h&16)){if(h&8){const J=e.vnode.dynamicProps;for(let M=0;M<J.length;M++){let B=J[M];if(zb(e.emitsOptions,B))continue;const W=t[B];if(v)if(bs(u,B))W!==u[B]&&(u[B]=W,I=!0);else{const O=sl(B);o[O]=dT(v,s,O,W,e,!1)}else W!==u[B]&&(u[B]=W,I=!0)}}}else{Bk(e,t,o,u)&&(I=!0);let J;for(const M in s)(!t||!bs(t,M)&&((J=xu(M))===M||!bs(t,J)))&&(v?i&&(i[M]!==void 0||i[J]!==void 0)&&(o[M]=dT(v,s,M,void 0,e,!0)):delete o[M]);if(u!==s)for(const M in u)(!t||!bs(t,M))&&(delete u[M],I=!0)}I&&up(e,"set","$attrs")}function Bk(e,t,i,r){const[o,u]=e.propsOptions;let h=!1,s;if(t)for(let v in t){if($0(v))continue;const I=t[v];let J;o&&bs(o,J=sl(v))?!u||!u.includes(J)?i[J]=I:(s||(s={}))[J]=I:zb(e.emitsOptions,v)||(!(v in r)||I!==r[v])&&(r[v]=I,h=!0)}if(u){const v=ds(i),I=s||Xs;for(let J=0;J<u.length;J++){const M=u[J];i[M]=dT(o,v,M,I[M],e,!bs(I,M))}}return h}function dT(e,t,i,r,o,u){const h=e[i];if(h!=null){const s=bs(h,"default");if(s&&r===void 0){const v=h.default;if(h.type!==Function&&Er(v)){const{propsDefaults:I}=o;i in I?r=I[i]:(Sf(o),r=I[i]=v.call(null,t),pf())}else r=v}h[0]&&(u&&!s?r=!1:h[1]&&(r===""||r===xu(i))&&(r=!0))}return r}function Nk(e,t,i=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const u=e.props,h={},s=[];let v=!1;if(!Er(e)){const J=M=>{v=!0;const[B,W]=Nk(M,t,!0);Ls(h,B),W&&s.push(...W)};!i&&t.mixins.length&&t.mixins.forEach(J),e.extends&&J(e.extends),e.mixins&&e.mixins.forEach(J)}if(!u&&!v)return eo(e)&&r.set(e,bg),bg;if(Dn(u))for(let J=0;J<u.length;J++){const M=sl(u[J]);O5(M)&&(h[M]=Xs)}else if(u)for(const J in u){const M=sl(J);if(O5(M)){const B=u[J],W=h[M]=Dn(B)||Er(B)?{type:B}:Object.assign({},B);if(W){const O=N5(Boolean,W.type),L=N5(String,W.type);W[0]=O>-1,W[1]=L<0||O<L,(O>-1||bs(W,"default"))&&s.push(M)}}}const I=[h,s];return eo(e)&&r.set(e,I),I}function O5(e){return e[0]!=="$"}function R5(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function B5(e,t){return R5(e)===R5(t)}function N5(e,t){return Dn(t)?t.findIndex(i=>B5(i,e)):Er(t)&&B5(t,e)?0:-1}const zk=e=>e[0]==="_"||e==="$stable",kS=e=>Dn(e)?e.map(_u):[_u(e)],eL=(e,t,i)=>{if(t._n)return t;const r=Hn((...o)=>kS(t(...o)),i);return r._c=!1,r},Fk=(e,t,i)=>{const r=e._ctx;for(const o in e){if(zk(o))continue;const u=e[o];if(Er(u))t[o]=eL(o,u,r);else if(u!=null){const h=kS(u);t[o]=()=>h}}},jk=(e,t)=>{const i=kS(t);e.slots.default=()=>i},tL=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=ds(t),jx(t,"_",i)):Fk(t,e.slots={})}else e.slots={},t&&jk(e,t);jx(e.slots,Hb,1)},iL=(e,t,i)=>{const{vnode:r,slots:o}=e;let u=!0,h=Xs;if(r.shapeFlag&32){const s=t._;s?i&&s===1?u=!1:(Ls(o,t),!i&&s===1&&delete o._):(u=!t.$stable,Fk(t,o)),h=t}else t&&(jk(e,t),h={default:1});if(u)for(const s in o)!zk(s)&&!(s in h)&&delete o[s]};function Uk(){return{app:null,config:{isNativeTag:Cx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nL=0;function rL(e,t){return function(r,o=null){Er(r)||(r=Object.assign({},r)),o!=null&&!eo(o)&&(o=null);const u=Uk(),h=new Set;let s=!1;const v=u.app={_uid:nL++,_component:r,_props:o,_container:null,_context:u,_instance:null,version:FS,get config(){return u.config},set config(I){},use(I,...J){return h.has(I)||(I&&Er(I.install)?(h.add(I),I.install(v,...J)):Er(I)&&(h.add(I),I(v,...J))),v},mixin(I){return u.mixins.includes(I)||u.mixins.push(I),v},component(I,J){return J?(u.components[I]=J,v):u.components[I]},directive(I,J){return J?(u.directives[I]=J,v):u.directives[I]},mount(I,J,M){if(!s){const B=sn(r,o);return B.appContext=u,J&&t?t(B,I):e(B,I,M),s=!0,v._container=I,I.__vue_app__=v,Wb(B.component)||B.component.proxy}},unmount(){s&&(e(null,v._container),delete v._container.__vue_app__)},provide(I,J){return u.provides[I]=J,v}};return v}}function Vx(e,t,i,r,o=!1){if(Dn(e)){e.forEach((B,W)=>Vx(B,t&&(Dn(t)?t[W]:t),i,r,o));return}if(H0(r)&&!o)return;const u=r.shapeFlag&4?Wb(r.component)||r.component.proxy:r.el,h=o?null:u,{i:s,r:v}=e,I=t&&t.r,J=s.refs===Xs?s.refs={}:s.refs,M=s.setupState;if(I!=null&&I!==v&&(zr(I)?(J[I]=null,bs(M,I)&&(M[I]=null)):ta(I)&&(I.value=null)),Er(v))mh(v,s,12,[h,J]);else{const B=zr(v),W=ta(v);if(B||W){const O=()=>{if(e.f){const L=B?bs(M,v)?M[v]:J[v]:v.value;o?Dn(L)&&iS(L,u):Dn(L)?L.includes(u)||L.push(u):B?(J[v]=[u],bs(M,v)&&(M[v]=J[v])):(v.value=[u],e.k&&(J[e.k]=v.value))}else B?(J[v]=h,bs(M,v)&&(M[v]=h)):W&&(v.value=h,e.k&&(J[e.k]=h))};h?(O.id=-1,yl(O,i)):O()}}}let Jp=!1;const sx=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",ox=e=>e.nodeType===8;function sL(e){const{mt:t,p:i,o:{patchProp:r,createText:o,nextSibling:u,parentNode:h,remove:s,insert:v,createComment:I}}=e,J=(k,S)=>{if(!S.hasChildNodes()){i(null,k,S),Ux(),S._vnode=k;return}Jp=!1,M(S.firstChild,k,null,null,null),Ux(),S._vnode=k,Jp&&console.error("Hydration completed but contains mismatches.")},M=(k,S,A,H,U,E=!1)=>{const ie=ox(k)&&k.data==="[",ee=()=>L(k,S,A,H,U,ie),{type:$,ref:V,shapeFlag:j,patchFlag:w}=S;let D=k.nodeType;S.el=k,w===-2&&(E=!1,S.dynamicChildren=null);let m=null;switch($){case Tf:D!==3?S.children===""?(v(S.el=o(""),h(k),k),m=k):m=ee():(k.data!==S.children&&(Jp=!0,k.data=S.children),m=u(k));break;case xl:D!==8||ie?m=ee():m=u(k);break;case hf:if(ie&&(k=u(k),D=k.nodeType),D===1||D===3){m=k;const g=!S.children.length;for(let x=0;x<S.staticCount;x++)g&&(S.children+=m.nodeType===1?m.outerHTML:m.data),x===S.staticCount-1&&(S.anchor=m),m=u(m);return ie?u(m):m}else ee();break;case Qi:ie?m=O(k,S,A,H,U,E):m=ee();break;default:if(j&1)D!==1||S.type.toLowerCase()!==k.tagName.toLowerCase()?m=ee():m=B(k,S,A,H,U,E);else if(j&6){S.slotScopeIds=U;const g=h(k);if(t(S,g,null,A,H,sx(g),E),m=ie?G(k):u(k),m&&ox(m)&&m.data==="teleport end"&&(m=u(m)),H0(S)){let x;ie?(x=sn(Qi),x.anchor=m?m.previousSibling:g.lastChild):x=k.nodeType===3?Yr(""):sn("div"),x.el=k,S.component.subTree=x}}else j&64?D!==8?m=ee():m=S.type.hydrate(k,S,A,H,U,E,e,W):j&128&&(m=S.type.hydrate(k,S,A,H,sx(h(k)),U,E,e,M))}return V!=null&&Vx(V,null,H,S),m},B=(k,S,A,H,U,E)=>{E=E||!!S.dynamicChildren;const{type:ie,props:ee,patchFlag:$,shapeFlag:V,dirs:j}=S,w=ie==="input"&&j||ie==="option";if(w||$!==-1){if(j&&sh(S,null,A,"created"),ee)if(w||!E||$&48)for(const m in ee)(w&&m.endsWith("value")||nm(m)&&!$0(m))&&r(k,m,null,ee[m],!1,void 0,A);else ee.onClick&&r(k,"onClick",null,ee.onClick,!1,void 0,A);let D;if((D=ee&&ee.onVnodeBeforeMount)&&Uc(D,A,S),j&&sh(S,null,A,"beforeMount"),((D=ee&&ee.onVnodeMounted)||j)&&Sk(()=>{D&&Uc(D,A,S),j&&sh(S,null,A,"mounted")},H),V&16&&!(ee&&(ee.innerHTML||ee.textContent))){let m=W(k.firstChild,S,k,A,H,U,E);for(;m;){Jp=!0;const g=m;m=m.nextSibling,s(g)}}else V&8&&k.textContent!==S.children&&(Jp=!0,k.textContent=S.children)}return k.nextSibling},W=(k,S,A,H,U,E,ie)=>{ie=ie||!!S.dynamicChildren;const ee=S.children,$=ee.length;for(let V=0;V<$;V++){const j=ie?ee[V]:ee[V]=_u(ee[V]);if(k)k=M(k,j,H,U,E,ie);else{if(j.type===Tf&&!j.children)continue;Jp=!0,i(null,j,A,null,H,U,sx(A),E)}}return k},O=(k,S,A,H,U,E)=>{const{slotScopeIds:ie}=S;ie&&(U=U?U.concat(ie):ie);const ee=h(k),$=W(u(k),S,ee,A,H,U,E);return $&&ox($)&&$.data==="]"?u(S.anchor=$):(Jp=!0,v(S.anchor=I("]"),ee,$),$)},L=(k,S,A,H,U,E)=>{if(Jp=!0,S.el=null,E){const $=G(k);for(;;){const V=u(k);if(V&&V!==$)s(V);else break}}const ie=u(k),ee=h(k);return s(k),i(null,S,ee,ie,A,H,sx(ee),U),ie},G=k=>{let S=0;for(;k;)if(k=u(k),k&&ox(k)&&(k.data==="["&&S++,k.data==="]")){if(S===0)return u(k);S--}return k};return[J,M]}const yl=Sk;function AS(e){return $k(e)}function PS(e){return $k(e,sL)}function $k(e,t){const i=qD();i.__VUE__=!0;const{insert:r,remove:o,patchProp:u,createElement:h,createText:s,createComment:v,setText:I,setElementText:J,parentNode:M,nextSibling:B,setScopeId:W=xc,insertStaticContent:O}=e,L=(oe,ge,Te,Re=null,Le=null,$e=null,nt=!1,Qe=null,We=!!ge.dynamicChildren)=>{if(oe===ge)return;oe&&!ah(oe,ge)&&(Re=de(oe),pe(oe,Le,$e,!0),oe=null),ge.patchFlag===-2&&(We=!1,ge.dynamicChildren=null);const{type:xe,ref:Ie,shapeFlag:Be}=ge;switch(xe){case Tf:G(oe,ge,Te,Re);break;case xl:k(oe,ge,Te,Re);break;case hf:oe==null&&S(ge,Te,Re,nt);break;case Qi:w(oe,ge,Te,Re,Le,$e,nt,Qe,We);break;default:Be&1?U(oe,ge,Te,Re,Le,$e,nt,Qe,We):Be&6?D(oe,ge,Te,Re,Le,$e,nt,Qe,We):(Be&64||Be&128)&&xe.process(oe,ge,Te,Re,Le,$e,nt,Qe,We,ne)}Ie!=null&&Le&&Vx(Ie,oe&&oe.ref,$e,ge||oe,!ge)},G=(oe,ge,Te,Re)=>{if(oe==null)r(ge.el=s(ge.children),Te,Re);else{const Le=ge.el=oe.el;ge.children!==oe.children&&I(Le,ge.children)}},k=(oe,ge,Te,Re)=>{oe==null?r(ge.el=v(ge.children||""),Te,Re):ge.el=oe.el},S=(oe,ge,Te,Re)=>{[oe.el,oe.anchor]=O(oe.children,ge,Te,Re,oe.el,oe.anchor)},A=({el:oe,anchor:ge},Te,Re)=>{let Le;for(;oe&&oe!==ge;)Le=B(oe),r(oe,Te,Re),oe=Le;r(ge,Te,Re)},H=({el:oe,anchor:ge})=>{let Te;for(;oe&&oe!==ge;)Te=B(oe),o(oe),oe=Te;o(ge)},U=(oe,ge,Te,Re,Le,$e,nt,Qe,We)=>{nt=nt||ge.type==="svg",oe==null?E(ge,Te,Re,Le,$e,nt,Qe,We):$(oe,ge,Le,$e,nt,Qe,We)},E=(oe,ge,Te,Re,Le,$e,nt,Qe)=>{let We,xe;const{type:Ie,props:Be,shapeFlag:Xe,transition:Ze,dirs:ft}=oe;if(We=oe.el=h(oe.type,$e,Be&&Be.is,Be),Xe&8?J(We,oe.children):Xe&16&&ee(oe.children,We,null,Re,Le,$e&&Ie!=="foreignObject",nt,Qe),ft&&sh(oe,null,Re,"created"),Be){for(const Nt in Be)Nt!=="value"&&!$0(Nt)&&u(We,Nt,null,Be[Nt],$e,oe.children,Re,Le,se);"value"in Be&&u(We,"value",null,Be.value),(xe=Be.onVnodeBeforeMount)&&Uc(xe,Re,oe)}ie(We,oe,oe.scopeId,nt,Re),ft&&sh(oe,null,Re,"beforeMount");const Ct=(!Le||Le&&!Le.pendingBranch)&&Ze&&!Ze.persisted;Ct&&Ze.beforeEnter(We),r(We,ge,Te),((xe=Be&&Be.onVnodeMounted)||Ct||ft)&&yl(()=>{xe&&Uc(xe,Re,oe),Ct&&Ze.enter(We),ft&&sh(oe,null,Re,"mounted")},Le)},ie=(oe,ge,Te,Re,Le)=>{if(Te&&W(oe,Te),Re)for(let $e=0;$e<Re.length;$e++)W(oe,Re[$e]);if(Le){let $e=Le.subTree;if(ge===$e){const nt=Le.vnode;ie(oe,nt,nt.scopeId,nt.slotScopeIds,Le.parent)}}},ee=(oe,ge,Te,Re,Le,$e,nt,Qe,We=0)=>{for(let xe=We;xe<oe.length;xe++){const Ie=oe[xe]=Qe?sf(oe[xe]):_u(oe[xe]);L(null,Ie,ge,Te,Re,Le,$e,nt,Qe)}},$=(oe,ge,Te,Re,Le,$e,nt)=>{const Qe=ge.el=oe.el;let{patchFlag:We,dynamicChildren:xe,dirs:Ie}=ge;We|=oe.patchFlag&16;const Be=oe.props||Xs,Xe=ge.props||Xs;let Ze;Te&&E0(Te,!1),(Ze=Xe.onVnodeBeforeUpdate)&&Uc(Ze,Te,ge,oe),Ie&&sh(ge,oe,Te,"beforeUpdate"),Te&&E0(Te,!0);const ft=Le&&ge.type!=="foreignObject";if(xe?V(oe.dynamicChildren,xe,Qe,Te,Re,ft,$e):nt||X(oe,ge,Qe,null,Te,Re,ft,$e,!1),We>0){if(We&16)j(Qe,ge,Be,Xe,Te,Re,Le);else if(We&2&&Be.class!==Xe.class&&u(Qe,"class",null,Xe.class,Le),We&4&&u(Qe,"style",Be.style,Xe.style,Le),We&8){const Ct=ge.dynamicProps;for(let Nt=0;Nt<Ct.length;Nt++){const pi=Ct[Nt],qt=Be[pi],fi=Xe[pi];(fi!==qt||pi==="value")&&u(Qe,pi,qt,fi,Le,oe.children,Te,Re,se)}}We&1&&oe.children!==ge.children&&J(Qe,ge.children)}else!nt&&xe==null&&j(Qe,ge,Be,Xe,Te,Re,Le);((Ze=Xe.onVnodeUpdated)||Ie)&&yl(()=>{Ze&&Uc(Ze,Te,ge,oe),Ie&&sh(ge,oe,Te,"updated")},Re)},V=(oe,ge,Te,Re,Le,$e,nt)=>{for(let Qe=0;Qe<ge.length;Qe++){const We=oe[Qe],xe=ge[Qe],Ie=We.el&&(We.type===Qi||!ah(We,xe)||We.shapeFlag&70)?M(We.el):Te;L(We,xe,Ie,null,Re,Le,$e,nt,!0)}},j=(oe,ge,Te,Re,Le,$e,nt)=>{if(Te!==Re){if(Te!==Xs)for(const Qe in Te)!$0(Qe)&&!(Qe in Re)&&u(oe,Qe,Te[Qe],null,nt,ge.children,Le,$e,se);for(const Qe in Re){if($0(Qe))continue;const We=Re[Qe],xe=Te[Qe];We!==xe&&Qe!=="value"&&u(oe,Qe,xe,We,nt,ge.children,Le,$e,se)}"value"in Re&&u(oe,"value",Te.value,Re.value)}},w=(oe,ge,Te,Re,Le,$e,nt,Qe,We)=>{const xe=ge.el=oe?oe.el:s(""),Ie=ge.anchor=oe?oe.anchor:s("");let{patchFlag:Be,dynamicChildren:Xe,slotScopeIds:Ze}=ge;Ze&&(Qe=Qe?Qe.concat(Ze):Ze),oe==null?(r(xe,Te,Re),r(Ie,Te,Re),ee(ge.children,Te,Ie,Le,$e,nt,Qe,We)):Be>0&&Be&64&&Xe&&oe.dynamicChildren?(V(oe.dynamicChildren,Xe,Te,Le,$e,nt,Qe),(ge.key!=null||Le&&ge===Le.subTree)&&DS(oe,ge,!0)):X(oe,ge,Te,Ie,Le,$e,nt,Qe,We)},D=(oe,ge,Te,Re,Le,$e,nt,Qe,We)=>{ge.slotScopeIds=Qe,oe==null?ge.shapeFlag&512?Le.ctx.activate(ge,Te,Re,nt,We):m(ge,Te,Re,Le,$e,nt,We):g(oe,ge,We)},m=(oe,ge,Te,Re,Le,$e,nt)=>{const Qe=oe.component=qk(oe,Re,Le);if(y_(oe)&&(Qe.ctx.renderer=ne),Zk(Qe),Qe.asyncDep){if(Le&&Le.registerDep(Qe,x),!oe.el){const We=Qe.subTree=sn(xl);k(null,We,ge,Te)}return}x(Qe,oe,ge,Te,Le,$e,nt)},g=(oe,ge,Te)=>{const Re=ge.component=oe.component;if(RI(oe,ge,Te))if(Re.asyncDep&&!Re.asyncResolved){P(Re,ge,Te);return}else Re.next=ge,AI(Re.update),Re.update();else ge.el=oe.el,Re.vnode=ge},x=(oe,ge,Te,Re,Le,$e,nt)=>{const Qe=()=>{if(oe.isMounted){let{next:Ie,bu:Be,u:Xe,parent:Ze,vnode:ft}=oe,Ct=Ie,Nt;E0(oe,!1),Ie?(Ie.el=ft.el,P(oe,Ie,nt)):Ie=ft,Be&&Tg(Be),(Nt=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&Uc(Nt,Ze,Ie,ft),E0(oe,!0);const pi=Ex(oe),qt=oe.subTree;oe.subTree=pi,L(qt,pi,M(qt.el),de(qt),oe,Le,$e),Ie.el=pi.el,Ct===null&&mS(oe,pi.el),Xe&&yl(Xe,Le),(Nt=Ie.props&&Ie.props.onVnodeUpdated)&&yl(()=>Uc(Nt,Ze,Ie,ft),Le)}else{let Ie;const{el:Be,props:Xe}=ge,{bm:Ze,m:ft,parent:Ct}=oe,Nt=H0(ge);if(E0(oe,!1),Ze&&Tg(Ze),!Nt&&(Ie=Xe&&Xe.onVnodeBeforeMount)&&Uc(Ie,Ct,ge),E0(oe,!0),Be&&_e){const pi=()=>{oe.subTree=Ex(oe),_e(Be,oe.subTree,oe,Le,null)};Nt?ge.type.__asyncLoader().then(()=>!oe.isUnmounted&&pi()):pi()}else{const pi=oe.subTree=Ex(oe);L(null,pi,Te,Re,oe,Le,$e),ge.el=pi.el}if(ft&&yl(ft,Le),!Nt&&(Ie=Xe&&Xe.onVnodeMounted)){const pi=ge;yl(()=>Uc(Ie,Ct,pi),Le)}(ge.shapeFlag&256||Ct&&H0(Ct.vnode)&&Ct.vnode.shapeFlag&256)&&oe.a&&yl(oe.a,Le),oe.isMounted=!0,ge=Te=Re=null}},We=oe.effect=new Wg(Qe,()=>Bb(xe),oe.scope),xe=oe.update=()=>We.run();xe.id=oe.uid,E0(oe,!0),xe()},P=(oe,ge,Te)=>{ge.component=oe;const Re=oe.vnode.props;oe.vnode=ge,oe.next=null,QI(oe,ge.props,Re,Te),iL(oe,ge.children,Te),Yg(),M5(),qg()},X=(oe,ge,Te,Re,Le,$e,nt,Qe,We=!1)=>{const xe=oe&&oe.children,Ie=oe?oe.shapeFlag:0,Be=ge.children,{patchFlag:Xe,shapeFlag:Ze}=ge;if(Xe>0){if(Xe&128){K(xe,Be,Te,Re,Le,$e,nt,Qe,We);return}else if(Xe&256){Y(xe,Be,Te,Re,Le,$e,nt,Qe,We);return}}Ze&8?(Ie&16&&se(xe,Le,$e),Be!==xe&&J(Te,Be)):Ie&16?Ze&16?K(xe,Be,Te,Re,Le,$e,nt,Qe,We):se(xe,Le,$e,!0):(Ie&8&&J(Te,""),Ze&16&&ee(Be,Te,Re,Le,$e,nt,Qe,We))},Y=(oe,ge,Te,Re,Le,$e,nt,Qe,We)=>{oe=oe||bg,ge=ge||bg;const xe=oe.length,Ie=ge.length,Be=Math.min(xe,Ie);let Xe;for(Xe=0;Xe<Be;Xe++){const Ze=ge[Xe]=We?sf(ge[Xe]):_u(ge[Xe]);L(oe[Xe],Ze,Te,null,Le,$e,nt,Qe,We)}xe>Ie?se(oe,Le,$e,!0,!1,Be):ee(ge,Te,Re,Le,$e,nt,Qe,We,Be)},K=(oe,ge,Te,Re,Le,$e,nt,Qe,We)=>{let xe=0;const Ie=ge.length;let Be=oe.length-1,Xe=Ie-1;for(;xe<=Be&&xe<=Xe;){const Ze=oe[xe],ft=ge[xe]=We?sf(ge[xe]):_u(ge[xe]);if(ah(Ze,ft))L(Ze,ft,Te,null,Le,$e,nt,Qe,We);else break;xe++}for(;xe<=Be&&xe<=Xe;){const Ze=oe[Be],ft=ge[Xe]=We?sf(ge[Xe]):_u(ge[Xe]);if(ah(Ze,ft))L(Ze,ft,Te,null,Le,$e,nt,Qe,We);else break;Be--,Xe--}if(xe>Be){if(xe<=Xe){const Ze=Xe+1,ft=Ze<Ie?ge[Ze].el:Re;for(;xe<=Xe;)L(null,ge[xe]=We?sf(ge[xe]):_u(ge[xe]),Te,ft,Le,$e,nt,Qe,We),xe++}}else if(xe>Xe)for(;xe<=Be;)pe(oe[xe],Le,$e,!0),xe++;else{const Ze=xe,ft=xe,Ct=new Map;for(xe=ft;xe<=Xe;xe++){const ei=ge[xe]=We?sf(ge[xe]):_u(ge[xe]);ei.key!=null&&Ct.set(ei.key,xe)}let Nt,pi=0;const qt=Xe-ft+1;let fi=!1,Gi=0;const dt=new Array(qt);for(xe=0;xe<qt;xe++)dt[xe]=0;for(xe=Ze;xe<=Be;xe++){const ei=oe[xe];if(pi>=qt){pe(ei,Le,$e,!0);continue}let ki;if(ei.key!=null)ki=Ct.get(ei.key);else for(Nt=ft;Nt<=Xe;Nt++)if(dt[Nt-ft]===0&&ah(ei,ge[Nt])){ki=Nt;break}ki===void 0?pe(ei,Le,$e,!0):(dt[ki-ft]=xe+1,ki>=Gi?Gi=ki:fi=!0,L(ei,ge[ki],Te,null,Le,$e,nt,Qe,We),pi++)}const Lt=fi?oL(dt):bg;for(Nt=Lt.length-1,xe=qt-1;xe>=0;xe--){const ei=ft+xe,ki=ge[ei],on=ei+1<Ie?ge[ei+1].el:Re;dt[xe]===0?L(null,ki,Te,on,Le,$e,nt,Qe,We):fi&&(Nt<0||xe!==Lt[Nt]?le(ki,Te,on,2):Nt--)}}},le=(oe,ge,Te,Re,Le=null)=>{const{el:$e,type:nt,transition:Qe,children:We,shapeFlag:xe}=oe;if(xe&6){le(oe.component.subTree,ge,Te,Re);return}if(xe&128){oe.suspense.move(ge,Te,Re);return}if(xe&64){nt.move(oe,ge,Te,ne);return}if(nt===Qi){r($e,ge,Te);for(let Be=0;Be<We.length;Be++)le(We[Be],ge,Te,Re);r(oe.anchor,ge,Te);return}if(nt===hf){A(oe,ge,Te);return}if(Re!==2&&xe&1&&Qe)if(Re===0)Qe.beforeEnter($e),r($e,ge,Te),yl(()=>Qe.enter($e),Le);else{const{leave:Be,delayLeave:Xe,afterLeave:Ze}=Qe,ft=()=>r($e,ge,Te),Ct=()=>{Be($e,()=>{ft(),Ze&&Ze()})};Xe?Xe($e,ft,Ct):Ct()}else r($e,ge,Te)},pe=(oe,ge,Te,Re=!1,Le=!1)=>{const{type:$e,props:nt,ref:Qe,children:We,dynamicChildren:xe,shapeFlag:Ie,patchFlag:Be,dirs:Xe}=oe;if(Qe!=null&&Vx(Qe,null,Te,oe,!0),Ie&256){ge.ctx.deactivate(oe);return}const Ze=Ie&1&&Xe,ft=!H0(oe);let Ct;if(ft&&(Ct=nt&&nt.onVnodeBeforeUnmount)&&Uc(Ct,ge,oe),Ie&6)Q(oe.component,Te,Re);else{if(Ie&128){oe.suspense.unmount(Te,Re);return}Ze&&sh(oe,null,ge,"beforeUnmount"),Ie&64?oe.type.remove(oe,ge,Te,Le,ne,Re):xe&&($e!==Qi||Be>0&&Be&64)?se(xe,ge,Te,!1,!0):($e===Qi&&Be&384||!Le&&Ie&16)&&se(We,ge,Te),Re&&fe(oe)}(ft&&(Ct=nt&&nt.onVnodeUnmounted)||Ze)&&yl(()=>{Ct&&Uc(Ct,ge,oe),Ze&&sh(oe,null,ge,"unmounted")},Te)},fe=oe=>{const{type:ge,el:Te,anchor:Re,transition:Le}=oe;if(ge===Qi){z(Te,Re);return}if(ge===hf){H(oe);return}const $e=()=>{o(Te),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(oe.shapeFlag&1&&Le&&!Le.persisted){const{leave:nt,delayLeave:Qe}=Le,We=()=>nt(Te,$e);Qe?Qe(oe.el,$e,We):We()}else $e()},z=(oe,ge)=>{let Te;for(;oe!==ge;)Te=B(oe),o(oe),oe=Te;o(ge)},Q=(oe,ge,Te)=>{const{bum:Re,scope:Le,update:$e,subTree:nt,um:Qe}=oe;Re&&Tg(Re),Le.stop(),$e&&($e.active=!1,pe(nt,oe,ge,Te)),Qe&&yl(Qe,ge),yl(()=>{oe.isUnmounted=!0},ge),ge&&ge.pendingBranch&&!ge.isUnmounted&&oe.asyncDep&&!oe.asyncResolved&&oe.suspenseId===ge.pendingId&&(ge.deps--,ge.deps===0&&ge.resolve())},se=(oe,ge,Te,Re=!1,Le=!1,$e=0)=>{for(let nt=$e;nt<oe.length;nt++)pe(oe[nt],ge,Te,Re,Le)},de=oe=>oe.shapeFlag&6?de(oe.component.subTree):oe.shapeFlag&128?oe.suspense.next():B(oe.anchor||oe.el),Ce=(oe,ge,Te)=>{oe==null?ge._vnode&&pe(ge._vnode,null,null,!0):L(ge._vnode||null,oe,ge,null,null,null,Te),M5(),Ux(),ge._vnode=oe},ne={p:L,um:pe,m:le,r:fe,mt:m,mc:ee,pc:X,pbc:V,n:de,o:e};let ve,_e;return t&&([ve,_e]=t(ne)),{render:Ce,hydrate:ve,createApp:rL(Ce,ve)}}function E0({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function DS(e,t,i=!1){const r=e.children,o=t.children;if(Dn(r)&&Dn(o))for(let u=0;u<r.length;u++){const h=r[u];let s=o[u];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[u]=sf(o[u]),s.el=h.el),i||DS(h,s)),s.type===Tf&&(s.el=h.el)}}function oL(e){const t=e.slice(),i=[0];let r,o,u,h,s;const v=e.length;for(r=0;r<v;r++){const I=e[r];if(I!==0){if(o=i[i.length-1],e[o]<I){t[r]=o,i.push(r);continue}for(u=0,h=i.length-1;u<h;)s=u+h>>1,e[i[s]]<I?u=s+1:h=s;I<e[i[u]]&&(u>0&&(t[r]=i[u-1]),i[u]=r)}}for(u=i.length,h=i[u-1];u-- >0;)i[u]=h,h=t[h];return i}const aL=e=>e.__isTeleport,Fy=e=>e&&(e.disabled||e.disabled===""),z5=e=>typeof SVGElement<"u"&&e instanceof SVGElement,hT=(e,t)=>{const i=e&&e.to;return zr(i)?t?t(i):null:i},lL={__isTeleport:!0,process(e,t,i,r,o,u,h,s,v,I){const{mc:J,pc:M,pbc:B,o:{insert:W,querySelector:O,createText:L,createComment:G}}=I,k=Fy(t.props);let{shapeFlag:S,children:A,dynamicChildren:H}=t;if(e==null){const U=t.el=L(""),E=t.anchor=L("");W(U,i,r),W(E,i,r);const ie=t.target=hT(t.props,O),ee=t.targetAnchor=L("");ie&&(W(ee,ie),h=h||z5(ie));const $=(V,j)=>{S&16&&J(A,V,j,o,u,h,s,v)};k?$(i,E):ie&&$(ie,ee)}else{t.el=e.el;const U=t.anchor=e.anchor,E=t.target=e.target,ie=t.targetAnchor=e.targetAnchor,ee=Fy(e.props),$=ee?i:E,V=ee?U:ie;if(h=h||z5(E),H?(B(e.dynamicChildren,H,$,o,u,h,s),DS(e,t,!0)):v||M(e,t,$,V,o,u,h,s,!1),k)ee||ax(t,i,U,I,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=hT(t.props,O);j&&ax(t,j,null,I,0)}else ee&&ax(t,E,ie,I,1)}Vk(t)},remove(e,t,i,r,{um:o,o:{remove:u}},h){const{shapeFlag:s,children:v,anchor:I,targetAnchor:J,target:M,props:B}=e;if(M&&u(J),(h||!Fy(B))&&(u(I),s&16))for(let W=0;W<v.length;W++){const O=v[W];o(O,t,i,!0,!!O.dynamicChildren)}},move:ax,hydrate:cL};function ax(e,t,i,{o:{insert:r},m:o},u=2){u===0&&r(e.targetAnchor,t,i);const{el:h,anchor:s,shapeFlag:v,children:I,props:J}=e,M=u===2;if(M&&r(h,t,i),(!M||Fy(J))&&v&16)for(let B=0;B<I.length;B++)o(I[B],t,i,2);M&&r(s,t,i)}function cL(e,t,i,r,o,u,{o:{nextSibling:h,parentNode:s,querySelector:v}},I){const J=t.target=hT(t.props,v);if(J){const M=J._lpa||J.firstChild;if(t.shapeFlag&16)if(Fy(t.props))t.anchor=I(h(e),t,s(e),i,r,o,u),t.targetAnchor=M;else{t.anchor=h(e);let B=M;for(;B;)if(B=h(B),B&&B.nodeType===8&&B.data==="teleport anchor"){t.targetAnchor=B,J._lpa=t.targetAnchor&&h(t.targetAnchor);break}I(M,t,J,i,r,o,u)}Vk(t)}return t.anchor&&h(t.anchor)}const IS=lL;function Vk(e){const t=e.ctx;if(t&&t.ut){let i=e.children[0].el;for(;i!==e.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}const Qi=Symbol(void 0),Tf=Symbol(void 0),xl=Symbol(void 0),hf=Symbol(void 0),jy=[];let Vc=null;function pt(e=!1){jy.push(Vc=e?null:[])}function Gk(){jy.pop(),Vc=jy[jy.length-1]||null}let J0=1;function Gx(e){J0+=e}function Hk(e){return e.dynamicChildren=J0>0?Vc||bg:null,Gk(),J0>0&&Vc&&Vc.push(e),e}function St(e,t,i,r,o,u){return Hk(je(e,t,i,r,o,u,!0))}function mr(e,t,i,r,o){return Hk(sn(e,t,i,r,o,!0))}function dp(e){return e?e.__v_isVNode===!0:!1}function ah(e,t){return e.type===t.type&&e.key===t.key}function Wk(e){}const Hb="__vInternal",Yk=({key:e})=>e??null,Mx=({ref:e,ref_key:t,ref_for:i})=>e!=null?zr(e)||ta(e)||Er(e)?{i:vl,r:e,k:t,f:!!i}:e:null;function je(e,t=null,i=null,r=0,o=null,u=e===Qi?0:1,h=!1,s=!1){const v={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Yk(t),ref:t&&Mx(t),scopeId:Fb,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:vl};return s?(LS(v,i),u&128&&e.normalize(v)):i&&(v.shapeFlag|=zr(i)?8:16),J0>0&&!h&&Vc&&(v.patchFlag>0||u&6)&&v.patchFlag!==32&&Vc.push(v),v}const sn=uL;function uL(e,t=null,i=null,r=0,o=null,u=!1){if((!e||e===Ik)&&(e=xl),dp(e)){const s=Ad(e,t,!0);return i&&LS(s,i),J0>0&&!u&&Vc&&(s.shapeFlag&6?Vc[Vc.indexOf(e)]=s:Vc.push(s)),s.patchFlag|=-2,s}if(mL(e)&&(e=e.__vccOpts),t){t=Fa(t);let{class:s,style:v}=t;s&&!zr(s)&&(t.class=kn(s)),eo(v)&&(Ib(v)&&!Dn(v)&&(v=Ls({},v)),t.style=ea(v))}const h=zr(e)?1:wk(e)?128:aL(e)?64:eo(e)?4:Er(e)?2:0;return je(e,t,i,r,o,h,u,!0)}function Fa(e){return e?Ib(e)||Hb in e?Ls({},e):e:null}function Ad(e,t,i=!1){const{props:r,ref:o,patchFlag:u,children:h}=e,s=t?Fs(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Yk(s),ref:t&&t.ref?i&&o?Dn(o)?o.concat(Mx(t)):[o,Mx(t)]:Mx(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qi?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ad(e.ssContent),ssFallback:e.ssFallback&&Ad(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Yr(e=" ",t=0){return sn(Tf,null,e,t)}function sd(e,t){const i=sn(hf,null,e);return i.staticCount=t,i}function hi(e="",t=!1){return t?(pt(),mr(xl,null,e)):sn(xl,null,e)}function _u(e){return e==null||typeof e=="boolean"?sn(xl):Dn(e)?sn(Qi,null,e.slice()):typeof e=="object"?sf(e):sn(Tf,null,String(e))}function sf(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ad(e)}function LS(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Dn(t))i=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),LS(e,o()),o._c&&(o._d=!0));return}else{i=32;const o=t._;!o&&!(Hb in t)?t._ctx=vl:o===3&&vl&&(vl.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Er(t)?(t={default:t,_ctx:vl},i=32):(t=String(t),r&64?(i=16,t=[Yr(t)]):i=8);e.children=t,e.shapeFlag|=i}function Fs(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=kn([t.class,r.class]));else if(o==="style")t.style=ea([t.style,r.style]);else if(nm(o)){const u=t[o],h=r[o];h&&u!==h&&!(Dn(u)&&u.includes(h))&&(t[o]=u?[].concat(u,h):h)}else o!==""&&(t[o]=r[o])}return t}function Uc(e,t,i,r=null){Hc(e,t,7,[i,r])}const dL=Uk();let hL=0;function qk(e,t,i){const r=e.type,o=(t?t.appContext:e.appContext)||dL,u={uid:hL++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Eb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nk(r,o),emitsOptions:xk(r,o),emit:null,emitted:null,propsDefaults:Xs,inheritAttrs:r.inheritAttrs,ctx:Xs,data:Xs,props:Xs,attrs:Xs,slots:Xs,refs:Xs,setupState:Xs,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=DI.bind(null,u),e.ce&&e.ce(u),u}let Ua=null;const mp=()=>Ua||vl,Sf=e=>{Ua=e,e.scope.on()},pf=()=>{Ua&&Ua.scope.off(),Ua=null};function Xk(e){return e.vnode.shapeFlag&4}let Rg=!1;function Zk(e,t=!1){Rg=t;const{props:i,children:r}=e.vnode,o=Xk(e);JI(e,i,o,t),tL(e,r);const u=o?pL(e,t):void 0;return Rg=!1,u}function pL(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=Lb(new Proxy(e.ctx,lT));const{setup:r}=i;if(r){const o=e.setupContext=r.length>1?Qk(e):null;Sf(e),Yg();const u=mh(r,e,0,[e.props,o]);if(qg(),pf(),nS(u)){if(u.then(pf,pf),t)return u.then(h=>{pT(e,h,t)}).catch(h=>{Af(h,e,0)});e.asyncDep=u}else pT(e,u,t)}else Jk(e,t)}function pT(e,t,i){Er(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:eo(t)&&(e.setupState=Rb(t)),Jk(e,i)}let Hx,fT;function OS(e){Hx=e,fT=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,WI))}}const Kk=()=>!Hx;function Jk(e,t,i){const r=e.type;if(!e.render){if(!t&&Hx&&!r.render){const o=r.template||MS(e).template;if(o){const{isCustomElement:u,compilerOptions:h}=e.appContext.config,{delimiters:s,compilerOptions:v}=r,I=Ls(Ls({isCustomElement:u,delimiters:s},h),v);r.render=Hx(o,I)}}e.render=r.render||xc,fT&&fT(e)}Sf(e),Yg(),YI(e),qg(),pf()}function fL(e){return new Proxy(e.attrs,{get(t,i){return wu(e,"get","$attrs"),t[i]}})}function Qk(e){const t=r=>{e.exposed=r||{}};let i;return{get attrs(){return i||(i=fL(e))},slots:e.slots,emit:e.emit,expose:t}}function Wb(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Rb(Lb(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in zy)return zy[i](e)},has(t,i){return i in t||i in zy}}))}function mT(e,t=!0){return Er(e)?e.displayName||e.name:e.name||t&&e.__name}function mL(e){return Er(e)&&"__vccOpts"in e}const Ui=(e,t)=>EI(e,t,Rg);function eA(){return null}function tA(){return null}function iA(e){}function nA(e,t){return null}function om(){return rA().slots}function RS(){return rA().attrs}function rA(){const e=mp();return e.setupContext||(e.setupContext=Qk(e))}function sA(e,t){const i=Dn(e)?e.reduce((r,o)=>(r[o]={},r),{}):e;for(const r in t){const o=i[r];o?Dn(o)||Er(o)?i[r]={type:o,default:t[r]}:o.default=t[r]:o===null&&(i[r]={default:t[r]})}return i}function oA(e,t){const i={};for(const r in e)t.includes(r)||Object.defineProperty(i,r,{enumerable:!0,get:()=>e[r]});return i}function aA(e){const t=mp();let i=e();return pf(),nS(i)&&(i=i.catch(r=>{throw Sf(t),r})),[i,()=>Sf(t)]}function $c(e,t,i){const r=arguments.length;return r===2?eo(t)&&!Dn(t)?dp(t)?sn(e,null,[t]):sn(e,t):sn(e,null,t):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&dp(i)&&(i=[i]),sn(e,t,i))}const BS=Symbol(""),NS=()=>Wc(BS);function lA(){}function cA(e,t,i,r){const o=i[r];if(o&&zS(o,e))return o;const u=t();return u.memo=e.slice(),i[r]=u}function zS(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let r=0;r<i.length;r++)if(Lg(i[r],t[r]))return!1;return J0>0&&Vc&&Vc.push(e),!0}const FS="3.2.45",gL={createComponentInstance:qk,setupComponent:Zk,renderComponentRoot:Ex,setCurrentRenderingInstance:Jy,isVNode:dp,normalizeVNode:_u},uA=gL,dA=null,hA=null,yL="http://www.w3.org/2000/svg",B0=typeof document<"u"?document:null,F5=B0&&B0.createElement("template"),_L={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const o=t?B0.createElementNS(yL,e):B0.createElement(e,i?{is:i}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>B0.createTextNode(e),createComment:e=>B0.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>B0.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,o,u){const h=i?i.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),i),!(o===u||!(o=o.nextSibling)););else{F5.innerHTML=r?`<svg>${e}</svg>`:e;const s=F5.content;if(r){const v=s.firstChild;for(;v.firstChild;)s.appendChild(v.firstChild);s.removeChild(v)}t.insertBefore(s,i)}return[h?h.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function vL(e,t,i){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function xL(e,t,i){const r=e.style,o=zr(i);if(i&&!o){for(const u in i)gT(r,u,i[u]);if(t&&!zr(t))for(const u in t)i[u]==null&&gT(r,u,"")}else{const u=r.display;o?t!==i&&(r.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=u)}}const j5=/\s*!important$/;function gT(e,t,i){if(Dn(i))i.forEach(r=>gT(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=bL(e,t);j5.test(i)?e.setProperty(xu(r),i.replace(j5,""),"important"):e[r]=i}}const U5=["Webkit","Moz","ms"],f3={};function bL(e,t){const i=f3[t];if(i)return i;let r=sl(t);if(r!=="filter"&&r in e)return f3[t]=r;r=kf(r);for(let o=0;o<U5.length;o++){const u=U5[o]+r;if(u in e)return f3[t]=u}return t}const $5="http://www.w3.org/1999/xlink";function wL(e,t,i,r,o){if(r&&t.startsWith("xlink:"))i==null?e.removeAttributeNS($5,t.slice(6,t.length)):e.setAttributeNS($5,t,i);else{const u=jD(t);i==null||u&&!GM(i)?e.removeAttribute(t):e.setAttribute(t,u?"":i)}}function TL(e,t,i,r,o,u,h){if(t==="innerHTML"||t==="textContent"){r&&h(r,o,u),e[t]=i??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=i;const v=i??"";(e.value!==v||e.tagName==="OPTION")&&(e.value=v),i==null&&e.removeAttribute(t);return}let s=!1;if(i===""||i==null){const v=typeof e[t];v==="boolean"?i=GM(i):i==null&&v==="string"?(i="",s=!0):v==="number"&&(i=0,s=!0)}try{e[t]=i}catch{}s&&e.removeAttribute(t)}function Qh(e,t,i,r){e.addEventListener(t,i,r)}function SL(e,t,i,r){e.removeEventListener(t,i,r)}function CL(e,t,i,r,o=null){const u=e._vei||(e._vei={}),h=u[t];if(r&&h)h.value=r;else{const[s,v]=EL(t);if(r){const I=u[t]=AL(r,o);Qh(e,s,I,v)}else h&&(SL(e,s,h,v),u[t]=void 0)}}const V5=/(?:Once|Passive|Capture)$/;function EL(e){let t;if(V5.test(e)){t={};let r;for(;r=e.match(V5);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):xu(e.slice(2)),t]}let m3=0;const ML=Promise.resolve(),kL=()=>m3||(ML.then(()=>m3=0),m3=Date.now());function AL(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;Hc(PL(r,i.value),t,5,[r])};return i.value=e,i.attached=kL(),i}function PL(e,t){if(Dn(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const G5=/^on[a-z]/,DL=(e,t,i,r,o=!1,u,h,s,v)=>{t==="class"?vL(e,r,o):t==="style"?xL(e,i,r):nm(t)?tS(t)||CL(e,t,i,r,h):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):IL(e,t,r,o))?TL(e,t,r,u,h,s,v):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),wL(e,t,r,o))};function IL(e,t,i,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&G5.test(t)&&Er(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||G5.test(t)&&zr(i)?!1:t in e}function jS(e,t){const i=Ho(e);class r extends v_{constructor(u){super(i,u,t)}}return r.def=i,r}const pA=e=>jS(e,$S),LL=typeof HTMLElement<"u"?HTMLElement:class{};class v_ extends LL{constructor(t,i={},r){super(),this._def=t,this._props=i,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,bc(()=>{this._connected||(Wx(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const o of r)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=(r,o=!1)=>{const{props:u,styles:h}=r;let s;if(u&&!Dn(u))for(const v in u){const I=u[v];(I===Number||I&&I.type===Number)&&(v in this._props&&(this._props[v]=cp(this._props[v])),(s||(s=Object.create(null)))[sl(v)]=!0)}this._numberProps=s,o&&this._resolveProps(r),this._applyStyles(h),this._update()},i=this._def.__asyncLoader;i?i().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:i}=t,r=Dn(i)?i:Object.keys(i||{});for(const o of Object.keys(this))o[0]!=="_"&&r.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of r.map(sl))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(u){this._setProp(o,u)}})}_setAttr(t){let i=this.getAttribute(t);const r=sl(t);this._numberProps&&this._numberProps[r]&&(i=cp(i)),this._setProp(r,i,!1)}_getProp(t){return this._props[t]}_setProp(t,i,r=!0,o=!0){i!==this._props[t]&&(this._props[t]=i,o&&this._instance&&this._update(),r&&(i===!0?this.setAttribute(xu(t),""):typeof i=="string"||typeof i=="number"?this.setAttribute(xu(t),i+""):i||this.removeAttribute(xu(t))))}_update(){Wx(this._createVNode(),this.shadowRoot)}_createVNode(){const t=sn(this._def,Ls({},this._props));return this._instance||(t.ce=i=>{this._instance=i,i.isCE=!0;const r=(u,h)=>{this.dispatchEvent(new CustomEvent(u,{detail:h}))};i.emit=(u,...h)=>{r(u,h),xu(u)!==u&&r(xu(u),h)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof v_){i.parent=o._instance,i.provides=o._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(i=>{const r=document.createElement("style");r.textContent=i,this.shadowRoot.appendChild(r)})}}function fA(e="$style"){{const t=mp();if(!t)return Xs;const i=t.type.__cssModules;if(!i)return Xs;const r=i[e];return r||Xs}}function gp(e){const t=mp();if(!t)return;const i=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(u=>_T(u,o))},r=()=>{const o=e(t.proxy);yT(t.subTree,o),i(o)};yS(r),zo(()=>{const o=new MutationObserver(r);o.observe(t.subTree.el.parentNode,{childList:!0}),yh(()=>o.disconnect())})}function yT(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{yT(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)_T(e.el,t);else if(e.type===Qi)e.children.forEach(i=>yT(i,t));else if(e.type===hf){let{el:i,anchor:r}=e;for(;i&&(_T(i,t),i!==r);)i=i.nextSibling}}function _T(e,t){if(e.nodeType===1){const i=e.style;for(const r in t)i.setProperty(`--${r}`,t[r])}}const Qp="transition",Ey="animation",Ld=(e,{slots:t})=>$c(Ub,gA(e),t);Ld.displayName="Transition";const mA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},OL=Ld.props=Ls({},Ub.props,mA),M0=(e,t=[])=>{Dn(e)?e.forEach(i=>i(...t)):e&&e(...t)},H5=e=>e?Dn(e)?e.some(t=>t.length>1):e.length>1:!1;function gA(e){const t={};for(const w in e)w in mA||(t[w]=e[w]);if(e.css===!1)return t;const{name:i="v",type:r,duration:o,enterFromClass:u=`${i}-enter-from`,enterActiveClass:h=`${i}-enter-active`,enterToClass:s=`${i}-enter-to`,appearFromClass:v=u,appearActiveClass:I=h,appearToClass:J=s,leaveFromClass:M=`${i}-leave-from`,leaveActiveClass:B=`${i}-leave-active`,leaveToClass:W=`${i}-leave-to`}=e,O=RL(o),L=O&&O[0],G=O&&O[1],{onBeforeEnter:k,onEnter:S,onEnterCancelled:A,onLeave:H,onLeaveCancelled:U,onBeforeAppear:E=k,onAppear:ie=S,onAppearCancelled:ee=A}=t,$=(w,D,m)=>{rf(w,D?J:s),rf(w,D?I:h),m&&m()},V=(w,D)=>{w._isLeaving=!1,rf(w,M),rf(w,W),rf(w,B),D&&D()},j=w=>(D,m)=>{const g=w?ie:S,x=()=>$(D,w,m);M0(g,[D,x]),W5(()=>{rf(D,w?v:u),Xh(D,w?J:s),H5(g)||Y5(D,r,L,x)})};return Ls(t,{onBeforeEnter(w){M0(k,[w]),Xh(w,u),Xh(w,h)},onBeforeAppear(w){M0(E,[w]),Xh(w,v),Xh(w,I)},onEnter:j(!1),onAppear:j(!0),onLeave(w,D){w._isLeaving=!0;const m=()=>V(w,D);Xh(w,M),_A(),Xh(w,B),W5(()=>{w._isLeaving&&(rf(w,M),Xh(w,W),H5(H)||Y5(w,r,G,m))}),M0(H,[w,m])},onEnterCancelled(w){$(w,!1),M0(A,[w])},onAppearCancelled(w){$(w,!0),M0(ee,[w])},onLeaveCancelled(w){V(w),M0(U,[w])}})}function RL(e){if(e==null)return null;if(eo(e))return[g3(e.enter),g3(e.leave)];{const t=g3(e);return[t,t]}}function g3(e){return cp(e)}function Xh(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e._vtc||(e._vtc=new Set)).add(t)}function rf(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:i}=e;i&&(i.delete(t),i.size||(e._vtc=void 0))}function W5(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let BL=0;function Y5(e,t,i,r){const o=e._endId=++BL,u=()=>{o===e._endId&&r()};if(i)return setTimeout(u,i);const{type:h,timeout:s,propCount:v}=yA(e,t);if(!h)return r();const I=h+"end";let J=0;const M=()=>{e.removeEventListener(I,B),u()},B=W=>{W.target===e&&++J>=v&&M()};setTimeout(()=>{J<v&&M()},s+1),e.addEventListener(I,B)}function yA(e,t){const i=window.getComputedStyle(e),r=O=>(i[O]||"").split(", "),o=r(`${Qp}Delay`),u=r(`${Qp}Duration`),h=q5(o,u),s=r(`${Ey}Delay`),v=r(`${Ey}Duration`),I=q5(s,v);let J=null,M=0,B=0;t===Qp?h>0&&(J=Qp,M=h,B=u.length):t===Ey?I>0&&(J=Ey,M=I,B=v.length):(M=Math.max(h,I),J=M>0?h>I?Qp:Ey:null,B=J?J===Qp?u.length:v.length:0);const W=J===Qp&&/\b(transform|all)(,|$)/.test(r(`${Qp}Property`).toString());return{type:J,timeout:M,propCount:B,hasTransform:W}}function q5(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,r)=>X5(i)+X5(e[r])))}function X5(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function _A(){return document.body.offsetHeight}const vA=new WeakMap,xA=new WeakMap,NL={name:"TransitionGroup",props:Ls({},OL,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=mp(),r=jb();let o,u;return sm(()=>{if(!o.length)return;const h=e.moveClass||`${e.name||"v"}-move`;if(!UL(o[0].el,i.vnode.el,h))return;o.forEach(zL),o.forEach(FL);const s=o.filter(jL);_A(),s.forEach(v=>{const I=v.el,J=I.style;Xh(I,h),J.transform=J.webkitTransform=J.transitionDuration="";const M=I._moveCb=B=>{B&&B.target!==I||(!B||/transform$/.test(B.propertyName))&&(I.removeEventListener("transitionend",M),I._moveCb=null,rf(I,h))};I.addEventListener("transitionend",M)})}),()=>{const h=ds(e),s=gA(h);let v=h.tag||Qi;o=u,u=t.default?g_(t.default()):[];for(let I=0;I<u.length;I++){const J=u[I];J.key!=null&&wf(J,K0(J,s,r,i))}if(o)for(let I=0;I<o.length;I++){const J=o[I];wf(J,K0(J,s,r,i)),vA.set(J,J.el.getBoundingClientRect())}return sn(v,null,u)}}},bA=NL;function zL(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function FL(e){xA.set(e,e.el.getBoundingClientRect())}function jL(e){const t=vA.get(e),i=xA.get(e),r=t.left-i.left,o=t.top-i.top;if(r||o){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${r}px,${o}px)`,u.transitionDuration="0s",e}}function UL(e,t,i){const r=e.cloneNode();e._vtc&&e._vtc.forEach(h=>{h.split(/\s+/).forEach(s=>s&&r.classList.remove(s))}),i.split(/\s+/).forEach(h=>h&&r.classList.add(h)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:u}=yA(r);return o.removeChild(r),u}const Cf=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Dn(t)?i=>Tg(t,i):t};function $L(e){e.target.composing=!0}function Z5(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Yc={created(e,{modifiers:{lazy:t,trim:i,number:r}},o){e._assign=Cf(o);const u=r||o.props&&o.props.type==="number";Qh(e,t?"change":"input",h=>{if(h.target.composing)return;let s=e.value;i&&(s=s.trim()),u&&(s=cp(s)),e._assign(s)}),i&&Qh(e,"change",()=>{e.value=e.value.trim()}),t||(Qh(e,"compositionstart",$L),Qh(e,"compositionend",Z5),Qh(e,"change",Z5))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:r,number:o}},u){if(e._assign=Cf(u),e.composing||document.activeElement===e&&e.type!=="range"&&(i||r&&e.value.trim()===t||(o||e.type==="number")&&cp(e.value)===t))return;const h=t??"";e.value!==h&&(e.value=h)}},ff={deep:!0,created(e,t,i){e._assign=Cf(i),Qh(e,"change",()=>{const r=e._modelValue,o=Bg(e),u=e.checked,h=e._assign;if(Dn(r)){const s=Sb(r,o),v=s!==-1;if(u&&!v)h(r.concat(o));else if(!u&&v){const I=[...r];I.splice(s,1),h(I)}}else if(rm(r)){const s=new Set(r);u?s.add(o):s.delete(o),h(s)}else h(wA(e,u))})},mounted:K5,beforeUpdate(e,t,i){e._assign=Cf(i),K5(e,t,i)}};function K5(e,{value:t,oldValue:i},r){e._modelValue=t,Dn(t)?e.checked=Sb(t,r.props.value)>-1:rm(t)?e.checked=t.has(r.props.value):t!==i&&(e.checked=gf(t,wA(e,!0)))}const Yb={created(e,{value:t},i){e.checked=gf(t,i.props.value),e._assign=Cf(i),Qh(e,"change",()=>{e._assign(Bg(e))})},beforeUpdate(e,{value:t,oldValue:i},r){e._assign=Cf(r),t!==i&&(e.checked=gf(t,r.props.value))}},Ed={deep:!0,created(e,{value:t,modifiers:{number:i}},r){const o=rm(t);Qh(e,"change",()=>{const u=Array.prototype.filter.call(e.options,h=>h.selected).map(h=>i?cp(Bg(h)):Bg(h));e._assign(e.multiple?o?new Set(u):u:u[0])}),e._assign=Cf(r)},mounted(e,{value:t}){J5(e,t)},beforeUpdate(e,t,i){e._assign=Cf(i)},updated(e,{value:t}){J5(e,t)}};function J5(e,t){const i=e.multiple;if(!(i&&!Dn(t)&&!rm(t))){for(let r=0,o=e.options.length;r<o;r++){const u=e.options[r],h=Bg(u);if(i)Dn(t)?u.selected=Sb(t,h)>-1:u.selected=t.has(h);else if(gf(Bg(u),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Bg(e){return"_value"in e?e._value:e.value}function wA(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const US={created(e,t,i){lx(e,t,i,null,"created")},mounted(e,t,i){lx(e,t,i,null,"mounted")},beforeUpdate(e,t,i,r){lx(e,t,i,r,"beforeUpdate")},updated(e,t,i,r){lx(e,t,i,r,"updated")}};function TA(e,t){switch(e){case"SELECT":return Ed;case"TEXTAREA":return Yc;default:switch(t){case"checkbox":return ff;case"radio":return Yb;default:return Yc}}}function lx(e,t,i,r,o){const h=TA(e.tagName,i.props&&i.props.type)[o];h&&h(e,t,i,r)}function VL(){Yc.getSSRProps=({value:e})=>({value:e}),Yb.getSSRProps=({value:e},t)=>{if(t.props&&gf(t.props.value,e))return{checked:!0}},ff.getSSRProps=({value:e},t)=>{if(Dn(e)){if(t.props&&Sb(e,t.props.value)>-1)return{checked:!0}}else if(rm(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},US.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const i=TA(t.type.toUpperCase(),t.props&&t.props.type);if(i.getSSRProps)return i.getSSRProps(e,t)}}const GL=["ctrl","shift","alt","meta"],HL={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>GL.some(i=>e[`${i}Key`]&&!t.includes(i))},rl=(e,t)=>(i,...r)=>{for(let o=0;o<t.length;o++){const u=HL[t[o]];if(u&&u(i,t))return}return e(i,...r)},WL={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cr=(e,t)=>i=>{if(!("key"in i))return;const r=xu(i.key);if(t.some(o=>o===r||WL[o]===r))return e(i)},W0={beforeMount(e,{value:t},{transition:i}){e._vod=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):My(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:r}){!t!=!i&&(r?t?(r.beforeEnter(e),My(e,!0),r.enter(e)):r.leave(e,()=>{My(e,!1)}):My(e,t))},beforeUnmount(e,{value:t}){My(e,t)}};function My(e,t){e.style.display=t?e._vod:"none"}function YL(){W0.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const SA=Ls({patchProp:DL},_L);let Uy,Q5=!1;function CA(){return Uy||(Uy=AS(SA))}function EA(){return Uy=Q5?Uy:PS(SA),Q5=!0,Uy}const Wx=(...e)=>{CA().render(...e)},$S=(...e)=>{EA().hydrate(...e)},VS=(...e)=>{const t=CA().createApp(...e),{mount:i}=t;return t.mount=r=>{const o=kA(r);if(!o)return;const u=t._component;!Er(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const h=i(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),h},t},MA=(...e)=>{const t=EA().createApp(...e),{mount:i}=t;return t.mount=r=>{const o=kA(r);if(o)return i(o,!0,o instanceof SVGElement)},t};function kA(e){return zr(e)?document.querySelector(e):e}let eE=!1;const AA=()=>{eE||(eE=!0,VL(),YL())},qL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Ub,Comment:xl,EffectScope:Eb,Fragment:Qi,KeepAlive:Pk,ReactiveEffect:Wg,Static:hf,Suspense:Tk,Teleport:IS,Text:Tf,Transition:Ld,TransitionGroup:bA,VueElement:v_,callWithAsyncErrorHandling:Hc,callWithErrorHandling:mh,camelize:sl,capitalize:kf,cloneVNode:Ad,compatUtils:hA,computed:Ui,createApp:VS,createBlock:mr,createCommentVNode:hi,createElementBlock:St,createElementVNode:je,createHydrationRenderer:PS,createPropsRestProxy:oA,createRenderer:AS,createSSRApp:MA,createSlots:_l,createStaticVNode:sd,createTextVNode:Yr,createVNode:sn,customRef:fk,defineAsyncComponent:Ak,defineComponent:Ho,defineCustomElement:jS,defineEmits:tA,defineExpose:iA,defineProps:eA,defineSSRCustomElement:pA,get devtools(){return R0},effect:JM,effectScope:qM,getCurrentInstance:mp,getCurrentScope:sS,getTransitionRawChildren:g_,guardReactiveProps:Fa,h:$c,handleError:Af,hydrate:$S,initCustomFormatter:lA,initDirectivesForSSR:AA,inject:Wc,isMemoSame:zS,isProxy:Ib,isReactive:df,isReadonly:vf,isRef:ta,isRuntimeOnly:Kk,isShallow:Og,isVNode:dp,markRaw:Lb,mergeDefaults:sA,mergeProps:Fs,nextTick:bc,normalizeClass:kn,normalizeProps:Is,normalizeStyle:ea,onActivated:_S,onBeforeMount:xS,onBeforeUnmount:Pf,onBeforeUpdate:__,onDeactivated:vS,onErrorCaptured:SS,onMounted:zo,onRenderTracked:TS,onRenderTriggered:wS,onScopeDispose:oS,onServerPrefetch:bS,onUnmounted:yh,onUpdated:sm,openBlock:pt,popScopeId:Zc,provide:bf,proxyRefs:Rb,pushScopeId:Xc,queuePostFlushCb:Nb,reactive:Id,readonly:Pb,ref:Ki,registerRuntimeCompiler:OS,render:Wx,renderList:ar,renderSlot:dn,resolveComponent:dr,resolveDirective:Gb,resolveDynamicComponent:Vb,resolveFilter:dA,resolveTransitionHooks:K0,setBlockTracking:Gx,setDevtoolsHook:fS,setTransitionHooks:wf,shallowReactive:cS,shallowReadonly:uk,shallowRef:dk,ssrContextKey:BS,ssrUtils:uA,stop:QM,toDisplayString:$i,toHandlerKey:V0,toHandlers:Ok,toRaw:ds,toRef:xf,toRefs:hS,transformVNodeArgs:Wk,triggerRef:pk,unref:Ft,useAttrs:RS,useCssModule:fA,useCssVars:gp,useSSRContext:NS,useSlots:om,useTransitionState:jb,vModelCheckbox:ff,vModelDynamic:US,vModelRadio:Yb,vModelSelect:Ed,vModelText:Yc,vShow:W0,version:FS,warn:gk,watch:Zs,watchEffect:Ck,watchPostEffect:yS,watchSyncEffect:Ek,withAsyncContext:aA,withCtx:Hn,withDefaults:nA,withDirectives:Ks,withKeys:Cr,withMemo:cA,withModifiers:rl,withScopeId:bk},Symbol.toStringTag,{value:"Module"}));function GS(e){throw e}function PA(e){}function No(e,t,i,r){const o=e,u=new SyntaxError(String(o));return u.code=e,u.loc=t,u}const e_=Symbol(""),$y=Symbol(""),HS=Symbol(""),Yx=Symbol(""),DA=Symbol(""),Q0=Symbol(""),IA=Symbol(""),LA=Symbol(""),WS=Symbol(""),YS=Symbol(""),x_=Symbol(""),qS=Symbol(""),OA=Symbol(""),XS=Symbol(""),qx=Symbol(""),ZS=Symbol(""),KS=Symbol(""),JS=Symbol(""),QS=Symbol(""),RA=Symbol(""),BA=Symbol(""),qb=Symbol(""),Xx=Symbol(""),eC=Symbol(""),tC=Symbol(""),t_=Symbol(""),b_=Symbol(""),iC=Symbol(""),vT=Symbol(""),XL=Symbol(""),xT=Symbol(""),Zx=Symbol(""),ZL=Symbol(""),KL=Symbol(""),nC=Symbol(""),JL=Symbol(""),QL=Symbol(""),rC=Symbol(""),NA=Symbol(""),Ng={[e_]:"Fragment",[$y]:"Teleport",[HS]:"Suspense",[Yx]:"KeepAlive",[DA]:"BaseTransition",[Q0]:"openBlock",[IA]:"createBlock",[LA]:"createElementBlock",[WS]:"createVNode",[YS]:"createElementVNode",[x_]:"createCommentVNode",[qS]:"createTextVNode",[OA]:"createStaticVNode",[XS]:"resolveComponent",[qx]:"resolveDynamicComponent",[ZS]:"resolveDirective",[KS]:"resolveFilter",[JS]:"withDirectives",[QS]:"renderList",[RA]:"renderSlot",[BA]:"createSlots",[qb]:"toDisplayString",[Xx]:"mergeProps",[eC]:"normalizeClass",[tC]:"normalizeStyle",[t_]:"normalizeProps",[b_]:"guardReactiveProps",[iC]:"toHandlers",[vT]:"camelize",[XL]:"capitalize",[xT]:"toHandlerKey",[Zx]:"setBlockTracking",[ZL]:"pushScopeId",[KL]:"popScopeId",[nC]:"withCtx",[JL]:"unref",[QL]:"isRef",[rC]:"withMemo",[NA]:"isMemoSame"};function eO(e){Object.getOwnPropertySymbols(e).forEach(t=>{Ng[t]=e[t]})}const Tu={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function tO(e,t=Tu){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function i_(e,t,i,r,o,u,h,s=!1,v=!1,I=!1,J=Tu){return e&&(s?(e.helper(Q0),e.helper(jg(e.inSSR,I))):e.helper(Fg(e.inSSR,I)),h&&e.helper(JS)),{type:13,tag:t,props:i,children:r,patchFlag:o,dynamicProps:u,directives:h,isBlock:s,disableTracking:v,isComponent:I,loc:J}}function w_(e,t=Tu){return{type:17,loc:t,elements:e}}function Qu(e,t=Tu){return{type:15,loc:t,properties:e}}function ia(e,t){return{type:16,loc:Tu,key:zr(e)?qr(e,!0):e,value:t}}function qr(e,t=!1,i=Tu,r=0){return{type:4,loc:i,content:e,isStatic:t,constType:t?3:r}}function kd(e,t=Tu){return{type:8,loc:t,children:e}}function ka(e,t=[],i=Tu){return{type:14,loc:i,callee:e,arguments:t}}function zg(e,t=void 0,i=!1,r=!1,o=Tu){return{type:18,params:e,returns:t,newline:i,isSlot:r,loc:o}}function bT(e,t,i,r=!0){return{type:19,test:e,consequent:t,alternate:i,newline:r,loc:Tu}}function iO(e,t,i=!1){return{type:20,index:e,value:t,isVNode:i,loc:Tu}}function nO(e){return{type:21,body:e,loc:Tu}}const Gc=e=>e.type===4&&e.isStatic,_g=(e,t)=>e===t||e===xu(t);function zA(e){if(_g(e,"Teleport"))return $y;if(_g(e,"Suspense"))return HS;if(_g(e,"KeepAlive"))return Yx;if(_g(e,"BaseTransition"))return DA}const rO=/^\d|[^\$\w]/,sC=e=>!rO.test(e),sO=/[A-Za-z_$\xA0-\uFFFF]/,oO=/[\.\?\w$\xA0-\uFFFF]/,aO=/\s+[.[]\s*|\s*[.[]\s+/g,lO=e=>{e=e.trim().replace(aO,h=>h.trim());let t=0,i=[],r=0,o=0,u=null;for(let h=0;h<e.length;h++){const s=e.charAt(h);switch(t){case 0:if(s==="[")i.push(t),t=1,r++;else if(s==="(")i.push(t),t=2,o++;else if(!(h===0?sO:oO).test(s))return!1;break;case 1:s==="'"||s==='"'||s==="`"?(i.push(t),t=3,u=s):s==="["?r++:s==="]"&&(--r||(t=i.pop()));break;case 2:if(s==="'"||s==='"'||s==="`")i.push(t),t=3,u=s;else if(s==="(")o++;else if(s===")"){if(h===e.length-1)return!1;--o||(t=i.pop())}break;case 3:s===u&&(t=i.pop(),u=null);break}}return!r&&!o},FA=lO;function jA(e,t,i){const o={source:e.source.slice(t,t+i),start:Kx(e.start,e.source,t),end:e.end};return i!=null&&(o.end=Kx(e.start,e.source,t+i)),o}function Kx(e,t,i=t.length){return Jx(Ls({},e),t,i)}function Jx(e,t,i=t.length){let r=0,o=-1;for(let u=0;u<i;u++)t.charCodeAt(u)===10&&(r++,o=u);return e.offset+=i,e.line+=r,e.column=o===-1?e.column+i:i-o,e}function Ku(e,t,i=!1){for(let r=0;r<e.props.length;r++){const o=e.props[r];if(o.type===7&&(i||o.exp)&&(zr(t)?o.name===t:t.test(o.name)))return o}}function Xb(e,t,i=!1,r=!1){for(let o=0;o<e.props.length;o++){const u=e.props[o];if(u.type===6){if(i)continue;if(u.name===t&&(u.value||r))return u}else if(u.name==="bind"&&(u.exp||r)&&z0(u.arg,t))return u}}function z0(e,t){return!!(e&&Gc(e)&&e.content===t)}function cO(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function y3(e){return e.type===5||e.type===2}function uO(e){return e.type===7&&e.name==="slot"}function Qx(e){return e.type===1&&e.tagType===3}function eb(e){return e.type===1&&e.tagType===2}function Fg(e,t){return e||t?WS:YS}function jg(e,t){return e||t?IA:LA}const dO=new Set([t_,b_]);function UA(e,t=[]){if(e&&!zr(e)&&e.type===14){const i=e.callee;if(!zr(i)&&dO.has(i))return UA(e.arguments[0],t.concat(e))}return[e,t]}function tb(e,t,i){let r,o=e.type===13?e.props:e.arguments[2],u=[],h;if(o&&!zr(o)&&o.type===14){const s=UA(o);o=s[0],u=s[1],h=u[u.length-1]}if(o==null||zr(o))r=Qu([t]);else if(o.type===14){const s=o.arguments[0];!zr(s)&&s.type===15?tE(t,s)||s.properties.unshift(t):o.callee===iC?r=ka(i.helper(Xx),[Qu([t]),o]):o.arguments.unshift(Qu([t])),!r&&(r=o)}else o.type===15?(tE(t,o)||o.properties.unshift(t),r=o):(r=ka(i.helper(Xx),[Qu([t]),o]),h&&h.callee===b_&&(h=u[u.length-2]));e.type===13?h?h.arguments[0]=r:e.props=r:h?h.arguments[0]=r:e.arguments[2]=r}function tE(e,t){let i=!1;if(e.key.type===4){const r=e.key.content;i=t.properties.some(o=>o.key.type===4&&o.key.content===r)}return i}function n_(e,t){return`_${t}_${e.replace(/[^\w]/g,(i,r)=>i==="-"?"_":e.charCodeAt(r).toString())}`}function hO(e){return e.type===14&&e.callee===rC?e.arguments[1].returns:e}function oC(e,{helper:t,removeHelper:i,inSSR:r}){e.isBlock||(e.isBlock=!0,i(Fg(r,e.isComponent)),t(Q0),t(jg(r,e.isComponent)))}function iE(e,t){const i=t.options?t.options.compatConfig:t.compatConfig,r=i&&i[e];return e==="MODE"?r||3:r}function Y0(e,t){const i=iE("MODE",t),r=iE(e,t);return i===3?r===!0:r!==!1}function r_(e,t,i,...r){return Y0(e,t)}const pO=/&(gt|lt|amp|apos|quot);/g,fO={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},nE={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Cx,isPreTag:Cx,isCustomElement:Cx,decodeEntities:e=>e.replace(pO,(t,i)=>fO[i]),onError:GS,onWarn:PA,comments:!1};function mO(e,t={}){const i=gO(e,t),r=bu(i);return tO(aC(i,0,[]),id(i,r))}function gO(e,t){const i=Ls({},nE);let r;for(r in t)i[r]=t[r]===void 0?nE[r]:t[r];return{options:i,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:i.onWarn}}function aC(e,t,i){const r=Zb(i),o=r?r.ns:0,u=[];for(;!CO(e,t,i);){const s=e.source;let v;if(t===0||t===1){if(!e.inVPre&&jl(s,e.options.delimiters[0]))v=TO(e,t);else if(t===0&&s[0]==="<")if(s.length===1)qs(e,5,1);else if(s[1]==="!")jl(s,"<!--")?v=_O(e):jl(s,"<!DOCTYPE")?v=ky(e):jl(s,"<![CDATA[")?o!==0?v=yO(e,i):(qs(e,1),v=ky(e)):(qs(e,11),v=ky(e));else if(s[1]==="/")if(s.length===2)qs(e,5,2);else if(s[2]===">"){qs(e,14,2),Va(e,3);continue}else if(/[a-z]/i.test(s[2])){qs(e,23),wT(e,1,r);continue}else qs(e,12,2),v=ky(e);else/[a-z]/i.test(s[1])?(v=vO(e,i),Y0("COMPILER_NATIVE_TEMPLATE",e)&&v&&v.tag==="template"&&!v.props.some(I=>I.type===7&&$A(I.name))&&(v=v.children)):s[1]==="?"?(qs(e,21,1),v=ky(e)):qs(e,12,1)}if(v||(v=SO(e,t)),Dn(v))for(let I=0;I<v.length;I++)rE(u,v[I]);else rE(u,v)}let h=!1;if(t!==2&&t!==1){const s=e.options.whitespace!=="preserve";for(let v=0;v<u.length;v++){const I=u[v];if(I.type===2)if(e.inPre)I.content=I.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(I.content))s&&(I.content=I.content.replace(/[\t\r\n\f ]+/g," "));else{const J=u[v-1],M=u[v+1];!J||!M||s&&(J.type===3&&M.type===3||J.type===3&&M.type===1||J.type===1&&M.type===3||J.type===1&&M.type===1&&/[\r\n]/.test(I.content))?(h=!0,u[v]=null):I.content=" "}else I.type===3&&!e.options.comments&&(h=!0,u[v]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const v=u[0];v&&v.type===2&&(v.content=v.content.replace(/^\r?\n/,""))}}return h?u.filter(Boolean):u}function rE(e,t){if(t.type===2){const i=Zb(e);if(i&&i.type===2&&i.loc.end.offset===t.loc.start.offset){i.content+=t.content,i.loc.end=t.loc.end,i.loc.source+=t.loc.source;return}}e.push(t)}function yO(e,t){Va(e,9);const i=aC(e,3,t);return e.source.length===0?qs(e,6):Va(e,3),i}function _O(e){const t=bu(e);let i;const r=/--(\!)?>/.exec(e.source);if(!r)i=e.source.slice(4),Va(e,e.source.length),qs(e,7);else{r.index<=3&&qs(e,0),r[1]&&qs(e,10),i=e.source.slice(4,r.index);const o=e.source.slice(0,r.index);let u=1,h=0;for(;(h=o.indexOf("<!--",u))!==-1;)Va(e,h-u+1),h+4<o.length&&qs(e,16),u=h+1;Va(e,r.index+r[0].length-u+1)}return{type:3,content:i,loc:id(e,t)}}function ky(e){const t=bu(e),i=e.source[1]==="?"?1:2;let r;const o=e.source.indexOf(">");return o===-1?(r=e.source.slice(i),Va(e,e.source.length)):(r=e.source.slice(i,o),Va(e,o+1)),{type:3,content:r,loc:id(e,t)}}function vO(e,t){const i=e.inPre,r=e.inVPre,o=Zb(t),u=wT(e,0,o),h=e.inPre&&!i,s=e.inVPre&&!r;if(u.isSelfClosing||e.options.isVoidTag(u.tag))return h&&(e.inPre=!1),s&&(e.inVPre=!1),u;t.push(u);const v=e.options.getTextMode(u,o),I=aC(e,v,t);t.pop();{const J=u.props.find(M=>M.type===6&&M.name==="inline-template");if(J&&r_("COMPILER_INLINE_TEMPLATE",e,J.loc)){const M=id(e,u.loc.end);J.value={type:2,content:M.source,loc:M}}}if(u.children=I,TT(e.source,u.tag))wT(e,1,o);else if(qs(e,24,0,u.loc.start),e.source.length===0&&u.tag.toLowerCase()==="script"){const J=I[0];J&&jl(J.loc.source,"<!--")&&qs(e,8)}return u.loc=id(e,u.loc.start),h&&(e.inPre=!1),s&&(e.inVPre=!1),u}const $A=qc("if,else,else-if,for,slot");function wT(e,t,i){const r=bu(e),o=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),u=o[1],h=e.options.getNamespace(u,i);Va(e,o[0].length),s_(e);const s=bu(e),v=e.source;e.options.isPreTag(u)&&(e.inPre=!0);let I=sE(e,t);t===0&&!e.inVPre&&I.some(B=>B.type===7&&B.name==="pre")&&(e.inVPre=!0,Ls(e,s),e.source=v,I=sE(e,t).filter(B=>B.name!=="v-pre"));let J=!1;if(e.source.length===0?qs(e,9):(J=jl(e.source,"/>"),t===1&&J&&qs(e,4),Va(e,J?2:1)),t===1)return;let M=0;return e.inVPre||(u==="slot"?M=2:u==="template"?I.some(B=>B.type===7&&$A(B.name))&&(M=3):xO(u,I,e)&&(M=1)),{type:1,ns:h,tag:u,tagType:M,props:I,isSelfClosing:J,children:[],loc:id(e,r),codegenNode:void 0}}function xO(e,t,i){const r=i.options;if(r.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||zA(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let o=0;o<t.length;o++){const u=t[o];if(u.type===6){if(u.name==="is"&&u.value){if(u.value.content.startsWith("vue:"))return!0;if(r_("COMPILER_IS_ON_ELEMENT",i,u.loc))return!0}}else{if(u.name==="is")return!0;if(u.name==="bind"&&z0(u.arg,"is")&&r_("COMPILER_IS_ON_ELEMENT",i,u.loc))return!0}}}function sE(e,t){const i=[],r=new Set;for(;e.source.length>0&&!jl(e.source,">")&&!jl(e.source,"/>");){if(jl(e.source,"/")){qs(e,22),Va(e,1),s_(e);continue}t===1&&qs(e,3);const o=bO(e,r);o.type===6&&o.value&&o.name==="class"&&(o.value.content=o.value.content.replace(/\s+/g," ").trim()),t===0&&i.push(o),/^[^\t\r\n\f />]/.test(e.source)&&qs(e,15),s_(e)}return i}function bO(e,t){const i=bu(e),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(o)&&qs(e,2),t.add(o),o[0]==="="&&qs(e,19);{const s=/["'<]/g;let v;for(;v=s.exec(o);)qs(e,17,v.index)}Va(e,o.length);let u;/^[\t\r\n\f ]*=/.test(e.source)&&(s_(e),Va(e,1),s_(e),u=wO(e),u||qs(e,13));const h=id(e,i);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const s=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let v=jl(o,"."),I=s[1]||(v||jl(o,":")?"bind":jl(o,"@")?"on":"slot"),J;if(s[2]){const B=I==="slot",W=o.lastIndexOf(s[2]),O=id(e,oE(e,i,W),oE(e,i,W+s[2].length+(B&&s[3]||"").length));let L=s[2],G=!0;L.startsWith("[")?(G=!1,L.endsWith("]")?L=L.slice(1,L.length-1):(qs(e,27),L=L.slice(1))):B&&(L+=s[3]||""),J={type:4,content:L,isStatic:G,constType:G?3:0,loc:O}}if(u&&u.isQuoted){const B=u.loc;B.start.offset++,B.start.column++,B.end=Kx(B.start,u.content),B.source=B.source.slice(1,-1)}const M=s[3]?s[3].slice(1).split("."):[];return v&&M.push("prop"),I==="bind"&&J&&M.includes("sync")&&r_("COMPILER_V_BIND_SYNC",e,h,J.loc.source)&&(I="model",M.splice(M.indexOf("sync"),1)),{type:7,name:I,exp:u&&{type:4,content:u.content,isStatic:!1,constType:0,loc:u.loc},arg:J,modifiers:M,loc:h}}return!e.inVPre&&jl(o,"v-")&&qs(e,26),{type:6,name:o,value:u&&{type:2,content:u.content,loc:u.loc},loc:h}}function wO(e){const t=bu(e);let i;const r=e.source[0],o=r==='"'||r==="'";if(o){Va(e,1);const u=e.source.indexOf(r);u===-1?i=Vy(e,e.source.length,4):(i=Vy(e,u,4),Va(e,1))}else{const u=/^[^\t\r\n\f >]+/.exec(e.source);if(!u)return;const h=/["'<=`]/g;let s;for(;s=h.exec(u[0]);)qs(e,18,s.index);i=Vy(e,u[0].length,4)}return{content:i,isQuoted:o,loc:id(e,t)}}function TO(e,t){const[i,r]=e.options.delimiters,o=e.source.indexOf(r,i.length);if(o===-1){qs(e,25);return}const u=bu(e);Va(e,i.length);const h=bu(e),s=bu(e),v=o-i.length,I=e.source.slice(0,v),J=Vy(e,v,t),M=J.trim(),B=J.indexOf(M);B>0&&Jx(h,I,B);const W=v-(J.length-M.length-B);return Jx(s,I,W),Va(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:M,loc:id(e,h,s)},loc:id(e,u)}}function SO(e,t){const i=t===3?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let h=0;h<i.length;h++){const s=e.source.indexOf(i[h],1);s!==-1&&r>s&&(r=s)}const o=bu(e);return{type:2,content:Vy(e,r,t),loc:id(e,o)}}function Vy(e,t,i){const r=e.source.slice(0,t);return Va(e,t),i===2||i===3||!r.includes("&")?r:e.options.decodeEntities(r,i===4)}function bu(e){const{column:t,line:i,offset:r}=e;return{column:t,line:i,offset:r}}function id(e,t,i){return i=i||bu(e),{start:t,end:i,source:e.originalSource.slice(t.offset,i.offset)}}function Zb(e){return e[e.length-1]}function jl(e,t){return e.startsWith(t)}function Va(e,t){const{source:i}=e;Jx(e,i,t),e.source=i.slice(t)}function s_(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&Va(e,t[0].length)}function oE(e,t,i){return Kx(t,e.originalSource.slice(t.offset,i),i)}function qs(e,t,i,r=bu(e)){i&&(r.offset+=i,r.column+=i),e.options.onError(No(t,{start:r,end:r,source:""}))}function CO(e,t,i){const r=e.source;switch(t){case 0:if(jl(r,"</")){for(let o=i.length-1;o>=0;--o)if(TT(r,i[o].tag))return!0}break;case 1:case 2:{const o=Zb(i);if(o&&TT(r,o.tag))return!0;break}case 3:if(jl(r,"]]>"))return!0;break}return!r}function TT(e,t){return jl(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function EO(e,t){kx(e,t,VA(e,e.children[0]))}function VA(e,t){const{children:i}=e;return i.length===1&&t.type===1&&!eb(t)}function kx(e,t,i=!1){const{children:r}=e,o=r.length;let u=0;for(let h=0;h<r.length;h++){const s=r[h];if(s.type===1&&s.tagType===0){const v=i?0:ed(s,t);if(v>0){if(v>=2){s.codegenNode.patchFlag="-1",s.codegenNode=t.hoist(s.codegenNode),u++;continue}}else{const I=s.codegenNode;if(I.type===13){const J=YA(I);if((!J||J===512||J===1)&&HA(s,t)>=2){const M=WA(s);M&&(I.props=t.hoist(M))}I.dynamicProps&&(I.dynamicProps=t.hoist(I.dynamicProps))}}}if(s.type===1){const v=s.tagType===1;v&&t.scopes.vSlot++,kx(s,t),v&&t.scopes.vSlot--}else if(s.type===11)kx(s,t,s.children.length===1);else if(s.type===9)for(let v=0;v<s.branches.length;v++)kx(s.branches[v],t,s.branches[v].children.length===1)}u&&t.transformHoist&&t.transformHoist(r,t,e),u&&u===o&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Dn(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(w_(e.codegenNode.children)))}function ed(e,t){const{constantCache:i}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=i.get(e);if(r!==void 0)return r;const o=e.codegenNode;if(o.type!==13||o.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(YA(o))return i.set(e,0),0;{let s=3;const v=HA(e,t);if(v===0)return i.set(e,0),0;v<s&&(s=v);for(let I=0;I<e.children.length;I++){const J=ed(e.children[I],t);if(J===0)return i.set(e,0),0;J<s&&(s=J)}if(s>1)for(let I=0;I<e.props.length;I++){const J=e.props[I];if(J.type===7&&J.name==="bind"&&J.exp){const M=ed(J.exp,t);if(M===0)return i.set(e,0),0;M<s&&(s=M)}}if(o.isBlock){for(let I=0;I<e.props.length;I++)if(e.props[I].type===7)return i.set(e,0),0;t.removeHelper(Q0),t.removeHelper(jg(t.inSSR,o.isComponent)),o.isBlock=!1,t.helper(Fg(t.inSSR,o.isComponent))}return i.set(e,s),s}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return ed(e.content,t);case 4:return e.constType;case 8:let h=3;for(let s=0;s<e.children.length;s++){const v=e.children[s];if(zr(v)||yf(v))continue;const I=ed(v,t);if(I===0)return 0;I<h&&(h=I)}return h;default:return 0}}const MO=new Set([eC,tC,t_,b_]);function GA(e,t){if(e.type===14&&!zr(e.callee)&&MO.has(e.callee)){const i=e.arguments[0];if(i.type===4)return ed(i,t);if(i.type===14)return GA(i,t)}return 0}function HA(e,t){let i=3;const r=WA(e);if(r&&r.type===15){const{properties:o}=r;for(let u=0;u<o.length;u++){const{key:h,value:s}=o[u],v=ed(h,t);if(v===0)return v;v<i&&(i=v);let I;if(s.type===4?I=ed(s,t):s.type===14?I=GA(s,t):I=0,I===0)return I;I<i&&(i=I)}}return i}function WA(e){const t=e.codegenNode;if(t.type===13)return t.props}function YA(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function kO(e,{filename:t="",prefixIdentifiers:i=!1,hoistStatic:r=!1,cacheHandlers:o=!1,nodeTransforms:u=[],directiveTransforms:h={},transformHoist:s=null,isBuiltInComponent:v=xc,isCustomElement:I=xc,expressionPlugins:J=[],scopeId:M=null,slotted:B=!0,ssr:W=!1,inSSR:O=!1,ssrCssVars:L="",bindingMetadata:G=Xs,inline:k=!1,isTS:S=!1,onError:A=GS,onWarn:H=PA,compatConfig:U}){const E=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),ie={selfName:E&&kf(sl(E[1])),prefixIdentifiers:i,hoistStatic:r,cacheHandlers:o,nodeTransforms:u,directiveTransforms:h,transformHoist:s,isBuiltInComponent:v,isCustomElement:I,expressionPlugins:J,scopeId:M,slotted:B,ssr:W,inSSR:O,ssrCssVars:L,bindingMetadata:G,inline:k,isTS:S,onError:A,onWarn:H,compatConfig:U,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(ee){const $=ie.helpers.get(ee)||0;return ie.helpers.set(ee,$+1),ee},removeHelper(ee){const $=ie.helpers.get(ee);if($){const V=$-1;V?ie.helpers.set(ee,V):ie.helpers.delete(ee)}},helperString(ee){return`_${Ng[ie.helper(ee)]}`},replaceNode(ee){ie.parent.children[ie.childIndex]=ie.currentNode=ee},removeNode(ee){const $=ie.parent.children,V=ee?$.indexOf(ee):ie.currentNode?ie.childIndex:-1;!ee||ee===ie.currentNode?(ie.currentNode=null,ie.onNodeRemoved()):ie.childIndex>V&&(ie.childIndex--,ie.onNodeRemoved()),ie.parent.children.splice(V,1)},onNodeRemoved:()=>{},addIdentifiers(ee){},removeIdentifiers(ee){},hoist(ee){zr(ee)&&(ee=qr(ee)),ie.hoists.push(ee);const $=qr(`_hoisted_${ie.hoists.length}`,!1,ee.loc,2);return $.hoisted=ee,$},cache(ee,$=!1){return iO(ie.cached++,ee,$)}};return ie.filters=new Set,ie}function AO(e,t){const i=kO(e,t);Kb(e,i),t.hoistStatic&&EO(e,i),t.ssr||PO(e,i),e.helpers=[...i.helpers.keys()],e.components=[...i.components],e.directives=[...i.directives],e.imports=i.imports,e.hoists=i.hoists,e.temps=i.temps,e.cached=i.cached,e.filters=[...i.filters]}function PO(e,t){const{helper:i}=t,{children:r}=e;if(r.length===1){const o=r[0];if(VA(e,o)&&o.codegenNode){const u=o.codegenNode;u.type===13&&oC(u,t),e.codegenNode=u}else e.codegenNode=o}else if(r.length>1){let o=64;e.codegenNode=i_(t,i(e_),void 0,e.children,o+"",void 0,void 0,!0,void 0,!1)}}function DO(e,t){let i=0;const r=()=>{i--};for(;i<e.children.length;i++){const o=e.children[i];zr(o)||(t.parent=e,t.childIndex=i,t.onNodeRemoved=r,Kb(o,t))}}function Kb(e,t){t.currentNode=e;const{nodeTransforms:i}=t,r=[];for(let u=0;u<i.length;u++){const h=i[u](e,t);if(h&&(Dn(h)?r.push(...h):r.push(h)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(x_);break;case 5:t.ssr||t.helper(qb);break;case 9:for(let u=0;u<e.branches.length;u++)Kb(e.branches[u],t);break;case 10:case 11:case 1:case 0:DO(e,t);break}t.currentNode=e;let o=r.length;for(;o--;)r[o]()}function qA(e,t){const i=zr(e)?r=>r===e:r=>e.test(r);return(r,o)=>{if(r.type===1){const{props:u}=r;if(r.tagType===3&&u.some(uO))return;const h=[];for(let s=0;s<u.length;s++){const v=u[s];if(v.type===7&&i(v.name)){u.splice(s,1),s--;const I=t(r,v,o);I&&h.push(I)}}return h}}}const Jb="/*#__PURE__*/",XA=e=>`${Ng[e]}: _${Ng[e]}`;function IO(e,{mode:t="function",prefixIdentifiers:i=t==="module",sourceMap:r=!1,filename:o="template.vue.html",scopeId:u=null,optimizeImports:h=!1,runtimeGlobalName:s="Vue",runtimeModuleName:v="vue",ssrRuntimeModuleName:I="vue/server-renderer",ssr:J=!1,isTS:M=!1,inSSR:B=!1}){const W={mode:t,prefixIdentifiers:i,sourceMap:r,filename:o,scopeId:u,optimizeImports:h,runtimeGlobalName:s,runtimeModuleName:v,ssrRuntimeModuleName:I,ssr:J,isTS:M,inSSR:B,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(L){return`_${Ng[L]}`},push(L,G){W.code+=L},indent(){O(++W.indentLevel)},deindent(L=!1){L?--W.indentLevel:O(--W.indentLevel)},newline(){O(W.indentLevel)}};function O(L){W.push(`
`+"  ".repeat(L))}return W}function LO(e,t={}){const i=IO(e,t);t.onContextCreated&&t.onContextCreated(i);const{mode:r,push:o,prefixIdentifiers:u,indent:h,deindent:s,newline:v,scopeId:I,ssr:J}=i,M=e.helpers.length>0,B=!u&&r!=="module";OO(e,i);const O=J?"ssrRender":"render",G=(J?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(o(`function ${O}(${G}) {`),h(),B&&(o("with (_ctx) {"),h(),M&&(o(`const { ${e.helpers.map(XA).join(", ")} } = _Vue`),o(`
`),v())),e.components.length&&(_3(e.components,"component",i),(e.directives.length||e.temps>0)&&v()),e.directives.length&&(_3(e.directives,"directive",i),e.temps>0&&v()),e.filters&&e.filters.length&&(v(),_3(e.filters,"filter",i),v()),e.temps>0){o("let ");for(let k=0;k<e.temps;k++)o(`${k>0?", ":""}_temp${k}`)}return(e.components.length||e.directives.length||e.temps)&&(o(`
`),v()),J||o("return "),e.codegenNode?Ul(e.codegenNode,i):o("null"),B&&(s(),o("}")),s(),o("}"),{ast:e,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function OO(e,t){const{ssr:i,prefixIdentifiers:r,push:o,newline:u,runtimeModuleName:h,runtimeGlobalName:s,ssrRuntimeModuleName:v}=t,I=s;if(e.helpers.length>0&&(o(`const _Vue = ${I}
`),e.hoists.length)){const J=[WS,YS,x_,qS,OA].filter(M=>e.helpers.includes(M)).map(XA).join(", ");o(`const { ${J} } = _Vue
`)}RO(e.hoists,t),u(),o("return ")}function _3(e,t,{helper:i,push:r,newline:o,isTS:u}){const h=i(t==="filter"?KS:t==="component"?XS:ZS);for(let s=0;s<e.length;s++){let v=e[s];const I=v.endsWith("__self");I&&(v=v.slice(0,-6)),r(`const ${n_(v,t)} = ${h}(${JSON.stringify(v)}${I?", true":""})${u?"!":""}`),s<e.length-1&&o()}}function RO(e,t){if(!e.length)return;t.pure=!0;const{push:i,newline:r,helper:o,scopeId:u,mode:h}=t;r();for(let s=0;s<e.length;s++){const v=e[s];v&&(i(`const _hoisted_${s+1} = `),Ul(v,t),r())}t.pure=!1}function lC(e,t){const i=e.length>3||!1;t.push("["),i&&t.indent(),T_(e,t,i),i&&t.deindent(),t.push("]")}function T_(e,t,i=!1,r=!0){const{push:o,newline:u}=t;for(let h=0;h<e.length;h++){const s=e[h];zr(s)?o(s):Dn(s)?lC(s,t):Ul(s,t),h<e.length-1&&(i?(r&&o(","),u()):r&&o(", "))}}function Ul(e,t){if(zr(e)){t.push(e);return}if(yf(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Ul(e.codegenNode,t);break;case 2:BO(e,t);break;case 4:ZA(e,t);break;case 5:NO(e,t);break;case 12:Ul(e.codegenNode,t);break;case 8:KA(e,t);break;case 3:FO(e,t);break;case 13:jO(e,t);break;case 14:$O(e,t);break;case 15:VO(e,t);break;case 17:GO(e,t);break;case 18:HO(e,t);break;case 19:WO(e,t);break;case 20:YO(e,t);break;case 21:T_(e.body,t,!0,!1);break}}function BO(e,t){t.push(JSON.stringify(e.content),e)}function ZA(e,t){const{content:i,isStatic:r}=e;t.push(r?JSON.stringify(i):i,e)}function NO(e,t){const{push:i,helper:r,pure:o}=t;o&&i(Jb),i(`${r(qb)}(`),Ul(e.content,t),i(")")}function KA(e,t){for(let i=0;i<e.children.length;i++){const r=e.children[i];zr(r)?t.push(r):Ul(r,t)}}function zO(e,t){const{push:i}=t;if(e.type===8)i("["),KA(e,t),i("]");else if(e.isStatic){const r=sC(e.content)?e.content:JSON.stringify(e.content);i(r,e)}else i(`[${e.content}]`,e)}function FO(e,t){const{push:i,helper:r,pure:o}=t;o&&i(Jb),i(`${r(x_)}(${JSON.stringify(e.content)})`,e)}function jO(e,t){const{push:i,helper:r,pure:o}=t,{tag:u,props:h,children:s,patchFlag:v,dynamicProps:I,directives:J,isBlock:M,disableTracking:B,isComponent:W}=e;J&&i(r(JS)+"("),M&&i(`(${r(Q0)}(${B?"true":""}), `),o&&i(Jb);const O=M?jg(t.inSSR,W):Fg(t.inSSR,W);i(r(O)+"(",e),T_(UO([u,h,s,v,I]),t),i(")"),M&&i(")"),J&&(i(", "),Ul(J,t),i(")"))}function UO(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(i=>i||"null")}function $O(e,t){const{push:i,helper:r,pure:o}=t,u=zr(e.callee)?e.callee:r(e.callee);o&&i(Jb),i(u+"(",e),T_(e.arguments,t),i(")")}function VO(e,t){const{push:i,indent:r,deindent:o,newline:u}=t,{properties:h}=e;if(!h.length){i("{}",e);return}const s=h.length>1||!1;i(s?"{":"{ "),s&&r();for(let v=0;v<h.length;v++){const{key:I,value:J}=h[v];zO(I,t),i(": "),Ul(J,t),v<h.length-1&&(i(","),u())}s&&o(),i(s?"}":" }")}function GO(e,t){lC(e.elements,t)}function HO(e,t){const{push:i,indent:r,deindent:o}=t,{params:u,returns:h,body:s,newline:v,isSlot:I}=e;I&&i(`_${Ng[nC]}(`),i("(",e),Dn(u)?T_(u,t):u&&Ul(u,t),i(") => "),(v||s)&&(i("{"),r()),h?(v&&i("return "),Dn(h)?lC(h,t):Ul(h,t)):s&&Ul(s,t),(v||s)&&(o(),i("}")),I&&(e.isNonScopedSlot&&i(", undefined, true"),i(")"))}function WO(e,t){const{test:i,consequent:r,alternate:o,newline:u}=e,{push:h,indent:s,deindent:v,newline:I}=t;if(i.type===4){const M=!sC(i.content);M&&h("("),ZA(i,t),M&&h(")")}else h("("),Ul(i,t),h(")");u&&s(),t.indentLevel++,u||h(" "),h("? "),Ul(r,t),t.indentLevel--,u&&I(),u||h(" "),h(": ");const J=o.type===19;J||t.indentLevel++,Ul(o,t),J||t.indentLevel--,u&&v(!0)}function YO(e,t){const{push:i,helper:r,indent:o,deindent:u,newline:h}=t;i(`_cache[${e.index}] || (`),e.isVNode&&(o(),i(`${r(Zx)}(-1),`),h()),i(`_cache[${e.index}] = `),Ul(e.value,t),e.isVNode&&(i(","),h(),i(`${r(Zx)}(1),`),h(),i(`_cache[${e.index}]`),u()),i(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const qO=qA(/^(if|else|else-if)$/,(e,t,i)=>XO(e,t,i,(r,o,u)=>{const h=i.parent.children;let s=h.indexOf(r),v=0;for(;s-->=0;){const I=h[s];I&&I.type===9&&(v+=I.branches.length)}return()=>{if(u)r.codegenNode=lE(o,v,i);else{const I=ZO(r.codegenNode);I.alternate=lE(o,v+r.branches.length-1,i)}}}));function XO(e,t,i,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const o=t.exp?t.exp.loc:e.loc;i.onError(No(28,t.loc)),t.exp=qr("true",!1,o)}if(t.name==="if"){const o=aE(e,t),u={type:9,loc:e.loc,branches:[o]};if(i.replaceNode(u),r)return r(u,o,!0)}else{const o=i.parent.children;let u=o.indexOf(e);for(;u-->=-1;){const h=o[u];if(h&&h.type===3){i.removeNode(h);continue}if(h&&h.type===2&&!h.content.trim().length){i.removeNode(h);continue}if(h&&h.type===9){t.name==="else-if"&&h.branches[h.branches.length-1].condition===void 0&&i.onError(No(30,e.loc)),i.removeNode();const s=aE(e,t);h.branches.push(s);const v=r&&r(h,s,!1);Kb(s,i),v&&v(),i.currentNode=null}else i.onError(No(30,e.loc));break}}}function aE(e,t){const i=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:i&&!Ku(e,"for")?e.children:[e],userKey:Xb(e,"key"),isTemplateIf:i}}function lE(e,t,i){return e.condition?bT(e.condition,cE(e,t,i),ka(i.helper(x_),['""',"true"])):cE(e,t,i)}function cE(e,t,i){const{helper:r}=i,o=ia("key",qr(`${t}`,!1,Tu,2)),{children:u}=e,h=u[0];if(u.length!==1||h.type!==1)if(u.length===1&&h.type===11){const v=h.codegenNode;return tb(v,o,i),v}else{let v=64;return i_(i,r(e_),Qu([o]),u,v+"",void 0,void 0,!0,!1,!1,e.loc)}else{const v=h.codegenNode,I=hO(v);return I.type===13&&oC(I,i),tb(I,o,i),v}}function ZO(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const KO=qA("for",(e,t,i)=>{const{helper:r,removeHelper:o}=i;return JO(e,t,i,u=>{const h=ka(r(QS),[u.source]),s=Qx(e),v=Ku(e,"memo"),I=Xb(e,"key"),J=I&&(I.type===6?qr(I.value.content,!0):I.exp),M=I?ia("key",J):null,B=u.source.type===4&&u.source.constType>0,W=B?64:I?128:256;return u.codegenNode=i_(i,r(e_),void 0,h,W+"",void 0,void 0,!0,!B,!1,e.loc),()=>{let O;const{children:L}=u,G=L.length!==1||L[0].type!==1,k=eb(e)?e:s&&e.children.length===1&&eb(e.children[0])?e.children[0]:null;if(k?(O=k.codegenNode,s&&M&&tb(O,M,i)):G?O=i_(i,r(e_),M?Qu([M]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(O=L[0].codegenNode,s&&M&&tb(O,M,i),O.isBlock!==!B&&(O.isBlock?(o(Q0),o(jg(i.inSSR,O.isComponent))):o(Fg(i.inSSR,O.isComponent))),O.isBlock=!B,O.isBlock?(r(Q0),r(jg(i.inSSR,O.isComponent))):r(Fg(i.inSSR,O.isComponent))),v){const S=zg(ST(u.parseResult,[qr("_cached")]));S.body=nO([kd(["const _memo = (",v.exp,")"]),kd(["if (_cached",...J?[" && _cached.key === ",J]:[],` && ${i.helperString(NA)}(_cached, _memo)) return _cached`]),kd(["const _item = ",O]),qr("_item.memo = _memo"),qr("return _item")]),h.arguments.push(S,qr("_cache"),qr(String(i.cached++)))}else h.arguments.push(zg(ST(u.parseResult),O,!0))}})});function JO(e,t,i,r){if(!t.exp){i.onError(No(31,t.loc));return}const o=JA(t.exp);if(!o){i.onError(No(32,t.loc));return}const{addIdentifiers:u,removeIdentifiers:h,scopes:s}=i,{source:v,value:I,key:J,index:M}=o,B={type:11,loc:t.loc,source:v,valueAlias:I,keyAlias:J,objectIndexAlias:M,parseResult:o,children:Qx(e)?e.children:[e]};i.replaceNode(B),s.vFor++;const W=r&&r(B);return()=>{s.vFor--,W&&W()}}const QO=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,uE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,e9=/^\(|\)$/g;function JA(e,t){const i=e.loc,r=e.content,o=r.match(QO);if(!o)return;const[,u,h]=o,s={source:cx(i,h.trim(),r.indexOf(h,u.length)),value:void 0,key:void 0,index:void 0};let v=u.trim().replace(e9,"").trim();const I=u.indexOf(v),J=v.match(uE);if(J){v=v.replace(uE,"").trim();const M=J[1].trim();let B;if(M&&(B=r.indexOf(M,I+v.length),s.key=cx(i,M,B)),J[2]){const W=J[2].trim();W&&(s.index=cx(i,W,r.indexOf(W,s.key?B+M.length:I+v.length)))}}return v&&(s.value=cx(i,v,I)),s}function cx(e,t,i){return qr(t,!1,jA(e,i,t.length))}function ST({value:e,key:t,index:i},r=[]){return t9([e,t,i,...r])}function t9(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((i,r)=>i||qr("_".repeat(r+1),!1))}const dE=qr("undefined",!1),i9=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const i=Ku(e,"slot");if(i)return i.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},n9=(e,t,i)=>zg(e,t,!1,!0,t.length?t[0].loc:i);function r9(e,t,i=n9){t.helper(nC);const{children:r,loc:o}=e,u=[],h=[];let s=t.scopes.vSlot>0||t.scopes.vFor>0;const v=Ku(e,"slot",!0);if(v){const{arg:G,exp:k}=v;G&&!Gc(G)&&(s=!0),u.push(ia(G||qr("default",!0),i(k,r,o)))}let I=!1,J=!1;const M=[],B=new Set;let W=0;for(let G=0;G<r.length;G++){const k=r[G];let S;if(!Qx(k)||!(S=Ku(k,"slot",!0))){k.type!==3&&M.push(k);continue}if(v){t.onError(No(37,S.loc));break}I=!0;const{children:A,loc:H}=k,{arg:U=qr("default",!0),exp:E,loc:ie}=S;let ee;Gc(U)?ee=U?U.content:"default":s=!0;const $=i(E,A,H);let V,j,w;if(V=Ku(k,"if"))s=!0,h.push(bT(V.exp,ux(U,$,W++),dE));else if(j=Ku(k,/^else(-if)?$/,!0)){let D=G,m;for(;D--&&(m=r[D],m.type===3););if(m&&Qx(m)&&Ku(m,"if")){r.splice(G,1),G--;let g=h[h.length-1];for(;g.alternate.type===19;)g=g.alternate;g.alternate=j.exp?bT(j.exp,ux(U,$,W++),dE):ux(U,$,W++)}else t.onError(No(30,j.loc))}else if(w=Ku(k,"for")){s=!0;const D=w.parseResult||JA(w.exp);D?h.push(ka(t.helper(QS),[D.source,zg(ST(D),ux(U,$),!0)])):t.onError(No(32,w.loc))}else{if(ee){if(B.has(ee)){t.onError(No(38,ie));continue}B.add(ee),ee==="default"&&(J=!0)}u.push(ia(U,$))}}if(!v){const G=(k,S)=>{const A=i(k,S,o);return t.compatConfig&&(A.isNonScopedSlot=!0),ia("default",A)};I?M.length&&M.some(k=>QA(k))&&(J?t.onError(No(39,M[0].loc)):u.push(G(void 0,M))):u.push(G(void 0,r))}const O=s?2:Ax(e.children)?3:1;let L=Qu(u.concat(ia("_",qr(O+"",!1))),o);return h.length&&(L=ka(t.helper(BA),[L,w_(h)])),{slots:L,hasDynamicSlots:s}}function ux(e,t,i){const r=[ia("name",e),ia("fn",t)];return i!=null&&r.push(ia("key",qr(String(i),!0))),Qu(r)}function Ax(e){for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case 1:if(i.tagType===2||Ax(i.children))return!0;break;case 9:if(Ax(i.branches))return!0;break;case 10:case 11:if(Ax(i.children))return!0;break}}return!1}function QA(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():QA(e.content)}const e8=new WeakMap,s9=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:o}=e,u=e.tagType===1;let h=u?o9(e,t):`"${r}"`;const s=eo(h)&&h.callee===qx;let v,I,J,M=0,B,W,O,L=s||h===$y||h===HS||!u&&(r==="svg"||r==="foreignObject");if(o.length>0){const G=t8(e,t,void 0,u,s);v=G.props,M=G.patchFlag,W=G.dynamicPropNames;const k=G.directives;O=k&&k.length?w_(k.map(S=>l9(S,t))):void 0,G.shouldUseBlock&&(L=!0)}if(e.children.length>0)if(h===Yx&&(L=!0,M|=1024),u&&h!==$y&&h!==Yx){const{slots:k,hasDynamicSlots:S}=r9(e,t);I=k,S&&(M|=1024)}else if(e.children.length===1&&h!==$y){const k=e.children[0],S=k.type,A=S===5||S===8;A&&ed(k,t)===0&&(M|=1),A||S===2?I=k:I=e.children}else I=e.children;M!==0&&(J=String(M),W&&W.length&&(B=c9(W))),e.codegenNode=i_(t,h,v,I,J,B,O,!!L,!1,u,e.loc)};function o9(e,t,i=!1){let{tag:r}=e;const o=CT(r),u=Xb(e,"is");if(u)if(o||Y0("COMPILER_IS_ON_ELEMENT",t)){const v=u.type===6?u.value&&qr(u.value.content,!0):u.exp;if(v)return ka(t.helper(qx),[v])}else u.type===6&&u.value.content.startsWith("vue:")&&(r=u.value.content.slice(4));const h=!o&&Ku(e,"is");if(h&&h.exp)return ka(t.helper(qx),[h.exp]);const s=zA(r)||t.isBuiltInComponent(r);return s?(i||t.helper(s),s):(t.helper(XS),t.components.add(r),n_(r,"component"))}function t8(e,t,i=e.props,r,o,u=!1){const{tag:h,loc:s,children:v}=e;let I=[];const J=[],M=[],B=v.length>0;let W=!1,O=0,L=!1,G=!1,k=!1,S=!1,A=!1,H=!1;const U=[],E=$=>{I.length&&(J.push(Qu(hE(I),s)),I=[]),$&&J.push($)},ie=({key:$,value:V})=>{if(Gc($)){const j=$.content,w=nm(j);if(w&&(!r||o)&&j.toLowerCase()!=="onclick"&&j!=="onUpdate:modelValue"&&!$0(j)&&(S=!0),w&&$0(j)&&(H=!0),V.type===20||(V.type===4||V.type===8)&&ed(V,t)>0)return;j==="ref"?L=!0:j==="class"?G=!0:j==="style"?k=!0:j!=="key"&&!U.includes(j)&&U.push(j),r&&(j==="class"||j==="style")&&!U.includes(j)&&U.push(j)}else A=!0};for(let $=0;$<i.length;$++){const V=i[$];if(V.type===6){const{loc:j,name:w,value:D}=V;let m=!0;if(w==="ref"&&(L=!0,t.scopes.vFor>0&&I.push(ia(qr("ref_for",!0),qr("true")))),w==="is"&&(CT(h)||D&&D.content.startsWith("vue:")||Y0("COMPILER_IS_ON_ELEMENT",t)))continue;I.push(ia(qr(w,!0,jA(j,0,w.length)),qr(D?D.content:"",m,D?D.loc:j)))}else{const{name:j,arg:w,exp:D,loc:m}=V,g=j==="bind",x=j==="on";if(j==="slot"){r||t.onError(No(40,m));continue}if(j==="once"||j==="memo"||j==="is"||g&&z0(w,"is")&&(CT(h)||Y0("COMPILER_IS_ON_ELEMENT",t))||x&&u)continue;if((g&&z0(w,"key")||x&&B&&z0(w,"vue:before-update"))&&(W=!0),g&&z0(w,"ref")&&t.scopes.vFor>0&&I.push(ia(qr("ref_for",!0),qr("true"))),!w&&(g||x)){if(A=!0,D)if(g){if(E(),Y0("COMPILER_V_BIND_OBJECT_ORDER",t)){J.unshift(D);continue}J.push(D)}else E({type:14,loc:m,callee:t.helper(iC),arguments:r?[D]:[D,"true"]});else t.onError(No(g?34:35,m));continue}const P=t.directiveTransforms[j];if(P){const{props:X,needRuntime:Y}=P(V,e,t);!u&&X.forEach(ie),x&&w&&!Gc(w)?E(Qu(X,s)):I.push(...X),Y&&(M.push(V),yf(Y)&&e8.set(V,Y))}else HD(j)||(M.push(V),B&&(W=!0))}}let ee;if(J.length?(E(),J.length>1?ee=ka(t.helper(Xx),J,s):ee=J[0]):I.length&&(ee=Qu(hE(I),s)),A?O|=16:(G&&!r&&(O|=2),k&&!r&&(O|=4),U.length&&(O|=8),S&&(O|=32)),!W&&(O===0||O===32)&&(L||H||M.length>0)&&(O|=512),!t.inSSR&&ee)switch(ee.type){case 15:let $=-1,V=-1,j=!1;for(let m=0;m<ee.properties.length;m++){const g=ee.properties[m].key;Gc(g)?g.content==="class"?$=m:g.content==="style"&&(V=m):g.isHandlerKey||(j=!0)}const w=ee.properties[$],D=ee.properties[V];j?ee=ka(t.helper(t_),[ee]):(w&&!Gc(w.value)&&(w.value=ka(t.helper(eC),[w.value])),D&&(k||D.value.type===4&&D.value.content.trim()[0]==="["||D.value.type===17)&&(D.value=ka(t.helper(tC),[D.value])));break;case 14:break;default:ee=ka(t.helper(t_),[ka(t.helper(b_),[ee])]);break}return{props:ee,directives:M,patchFlag:O,dynamicPropNames:U,shouldUseBlock:W}}function hE(e){const t=new Map,i=[];for(let r=0;r<e.length;r++){const o=e[r];if(o.key.type===8||!o.key.isStatic){i.push(o);continue}const u=o.key.content,h=t.get(u);h?(u==="style"||u==="class"||nm(u))&&a9(h,o):(t.set(u,o),i.push(o))}return i}function a9(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=w_([e.value,t.value],e.loc)}function l9(e,t){const i=[],r=e8.get(e);r?i.push(t.helperString(r)):(t.helper(ZS),t.directives.add(e.name),i.push(n_(e.name,"directive")));const{loc:o}=e;if(e.exp&&i.push(e.exp),e.arg&&(e.exp||i.push("void 0"),i.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||i.push("void 0"),i.push("void 0"));const u=qr("true",!1,o);i.push(Qu(e.modifiers.map(h=>ia(h,u)),o))}return w_(i,e.loc)}function c9(e){let t="[";for(let i=0,r=e.length;i<r;i++)t+=JSON.stringify(e[i]),i<r-1&&(t+=", ");return t+"]"}function CT(e){return e==="component"||e==="Component"}const u9=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},d9=/-(\w)/g,pE=u9(e=>e.replace(d9,(t,i)=>i?i.toUpperCase():"")),h9=(e,t)=>{if(eb(e)){const{children:i,loc:r}=e,{slotName:o,slotProps:u}=p9(e,t),h=[t.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let s=2;u&&(h[2]=u,s=3),i.length&&(h[3]=zg([],i,!1,!1,r),s=4),t.scopeId&&!t.slotted&&(s=5),h.splice(s),e.codegenNode=ka(t.helper(RA),h,r)}};function p9(e,t){let i='"default"',r;const o=[];for(let u=0;u<e.props.length;u++){const h=e.props[u];h.type===6?h.value&&(h.name==="name"?i=JSON.stringify(h.value.content):(h.name=pE(h.name),o.push(h))):h.name==="bind"&&z0(h.arg,"name")?h.exp&&(i=h.exp):(h.name==="bind"&&h.arg&&Gc(h.arg)&&(h.arg.content=pE(h.arg.content)),o.push(h))}if(o.length>0){const{props:u,directives:h}=t8(e,t,o,!1,!1);r=u,h.length&&t.onError(No(36,h[0].loc))}return{slotName:i,slotProps:r}}const f9=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,i8=(e,t,i,r)=>{const{loc:o,modifiers:u,arg:h}=e;!e.exp&&!u.length&&i.onError(No(35,o));let s;if(h.type===4)if(h.isStatic){let M=h.content;M.startsWith("vue:")&&(M=`vnode-${M.slice(4)}`);const B=t.tagType!==0||M.startsWith("vnode")||!/[A-Z]/.test(M)?V0(sl(M)):`on:${M}`;s=qr(B,!0,h.loc)}else s=kd([`${i.helperString(xT)}(`,h,")"]);else s=h,s.children.unshift(`${i.helperString(xT)}(`),s.children.push(")");let v=e.exp;v&&!v.content.trim()&&(v=void 0);let I=i.cacheHandlers&&!v&&!i.inVOnce;if(v){const M=FA(v.content),B=!(M||f9.test(v.content)),W=v.content.includes(";");(B||I&&M)&&(v=kd([`${B?"$event":"(...args)"} => ${W?"{":"("}`,v,W?"}":")"]))}let J={props:[ia(s,v||qr("() => {}",!1,o))]};return r&&(J=r(J)),I&&(J.props[0].value=i.cache(J.props[0].value)),J.props.forEach(M=>M.key.isHandlerKey=!0),J},m9=(e,t,i)=>{const{exp:r,modifiers:o,loc:u}=e,h=e.arg;return h.type!==4?(h.children.unshift("("),h.children.push(') || ""')):h.isStatic||(h.content=`${h.content} || ""`),o.includes("camel")&&(h.type===4?h.isStatic?h.content=sl(h.content):h.content=`${i.helperString(vT)}(${h.content})`:(h.children.unshift(`${i.helperString(vT)}(`),h.children.push(")"))),i.inSSR||(o.includes("prop")&&fE(h,"."),o.includes("attr")&&fE(h,"^")),!r||r.type===4&&!r.content.trim()?(i.onError(No(34,u)),{props:[ia(h,qr("",!0,u))]}):{props:[ia(h,r)]}},fE=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},g9=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const i=e.children;let r,o=!1;for(let u=0;u<i.length;u++){const h=i[u];if(y3(h)){o=!0;for(let s=u+1;s<i.length;s++){const v=i[s];if(y3(v))r||(r=i[u]=kd([h],h.loc)),r.children.push(" + ",v),i.splice(s,1),s--;else{r=void 0;break}}}}if(!(!o||i.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(u=>u.type===7&&!t.directiveTransforms[u.name])&&e.tag!=="template")))for(let u=0;u<i.length;u++){const h=i[u];if(y3(h)||h.type===8){const s=[];(h.type!==2||h.content!==" ")&&s.push(h),!t.ssr&&ed(h,t)===0&&s.push("1"),i[u]={type:12,content:h,loc:h.loc,codegenNode:ka(t.helper(qS),s)}}}}},mE=new WeakSet,y9=(e,t)=>{if(e.type===1&&Ku(e,"once",!0))return mE.has(e)||t.inVOnce?void 0:(mE.add(e),t.inVOnce=!0,t.helper(Zx),()=>{t.inVOnce=!1;const i=t.currentNode;i.codegenNode&&(i.codegenNode=t.cache(i.codegenNode,!0))})},n8=(e,t,i)=>{const{exp:r,arg:o}=e;if(!r)return i.onError(No(41,e.loc)),dx();const u=r.loc.source,h=r.type===4?r.content:u,s=i.bindingMetadata[u];if(s==="props"||s==="props-aliased")return i.onError(No(44,r.loc)),dx();const v=!1;if(!h.trim()||!FA(h)&&!v)return i.onError(No(42,r.loc)),dx();const I=o||qr("modelValue",!0),J=o?Gc(o)?`onUpdate:${o.content}`:kd(['"onUpdate:" + ',o]):"onUpdate:modelValue";let M;const B=i.isTS?"($event: any)":"$event";M=kd([`${B} => ((`,r,") = $event)"]);const W=[ia(I,e.exp),ia(J,M)];if(e.modifiers.length&&t.tagType===1){const O=e.modifiers.map(G=>(sC(G)?G:JSON.stringify(G))+": true").join(", "),L=o?Gc(o)?`${o.content}Modifiers`:kd([o,' + "Modifiers"']):"modelModifiers";W.push(ia(L,qr(`{ ${O} }`,!1,e.loc,2)))}return dx(W)};function dx(e=[]){return{props:e}}const _9=/[\w).+\-_$\]]/,v9=(e,t)=>{Y0("COMPILER_FILTER",t)&&(e.type===5&&ib(e.content,t),e.type===1&&e.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&ib(i.exp,t)}))};function ib(e,t){if(e.type===4)gE(e,t);else for(let i=0;i<e.children.length;i++){const r=e.children[i];typeof r=="object"&&(r.type===4?gE(r,t):r.type===8?ib(e,t):r.type===5&&ib(r.content,t))}}function gE(e,t){const i=e.content;let r=!1,o=!1,u=!1,h=!1,s=0,v=0,I=0,J=0,M,B,W,O,L=[];for(W=0;W<i.length;W++)if(B=M,M=i.charCodeAt(W),r)M===39&&B!==92&&(r=!1);else if(o)M===34&&B!==92&&(o=!1);else if(u)M===96&&B!==92&&(u=!1);else if(h)M===47&&B!==92&&(h=!1);else if(M===124&&i.charCodeAt(W+1)!==124&&i.charCodeAt(W-1)!==124&&!s&&!v&&!I)O===void 0?(J=W+1,O=i.slice(0,W).trim()):G();else{switch(M){case 34:o=!0;break;case 39:r=!0;break;case 96:u=!0;break;case 40:I++;break;case 41:I--;break;case 91:v++;break;case 93:v--;break;case 123:s++;break;case 125:s--;break}if(M===47){let k=W-1,S;for(;k>=0&&(S=i.charAt(k),S===" ");k--);(!S||!_9.test(S))&&(h=!0)}}O===void 0?O=i.slice(0,W).trim():J!==0&&G();function G(){L.push(i.slice(J,W).trim()),J=W+1}if(L.length){for(W=0;W<L.length;W++)O=x9(O,L[W],t);e.content=O}}function x9(e,t,i){i.helper(KS);const r=t.indexOf("(");if(r<0)return i.filters.add(t),`${n_(t,"filter")}(${e})`;{const o=t.slice(0,r),u=t.slice(r+1);return i.filters.add(o),`${n_(o,"filter")}(${e}${u!==")"?","+u:u}`}}const yE=new WeakSet,b9=(e,t)=>{if(e.type===1){const i=Ku(e,"memo");return!i||yE.has(e)?void 0:(yE.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&oC(r,t),e.codegenNode=ka(t.helper(rC),[i.exp,zg(void 0,r),"_cache",String(t.cached++)]))})}};function w9(e){return[[y9,qO,b9,KO,v9,h9,s9,i9,g9],{on:i8,bind:m9,model:n8}]}function T9(e,t={}){const i=t.onError||GS,r=t.mode==="module";t.prefixIdentifiers===!0?i(No(47)):r&&i(No(48));const o=!1;t.cacheHandlers&&i(No(49)),t.scopeId&&!r&&i(No(50));const u=zr(e)?mO(e,t):e,[h,s]=w9();return AO(u,Ls({},t,{prefixIdentifiers:o,nodeTransforms:[...h,...t.nodeTransforms||[]],directiveTransforms:Ls({},s,t.directiveTransforms||{})})),LO(u,Ls({},t,{prefixIdentifiers:o}))}const S9=()=>({props:[]}),r8=Symbol(""),s8=Symbol(""),o8=Symbol(""),a8=Symbol(""),ET=Symbol(""),l8=Symbol(""),c8=Symbol(""),u8=Symbol(""),d8=Symbol(""),h8=Symbol("");eO({[r8]:"vModelRadio",[s8]:"vModelCheckbox",[o8]:"vModelText",[a8]:"vModelSelect",[ET]:"vModelDynamic",[l8]:"withModifiers",[c8]:"withKeys",[u8]:"vShow",[d8]:"Transition",[h8]:"TransitionGroup"});let pg;function C9(e,t=!1){return pg||(pg=document.createElement("div")),t?(pg.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,pg.children[0].getAttribute("foo")):(pg.innerHTML=e,pg.textContent)}const E9=qc("style,iframe,script,noscript",!0),M9={isVoidTag:zD,isNativeTag:e=>BD(e)||ND(e),isPreTag:e=>e==="pre",decodeEntities:C9,isBuiltInComponent:e=>{if(_g(e,"Transition"))return d8;if(_g(e,"TransitionGroup"))return h8},getNamespace(e,t){let i=t?t.ns:0;if(t&&i===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(i=0);else t&&i===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(i=0);if(i===0){if(e==="svg")return 1;if(e==="math")return 2}return i},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(E9(e))return 2}return 0}},k9=e=>{e.type===1&&e.props.forEach((t,i)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[i]={type:7,name:"bind",arg:qr("style",!0,t.loc),exp:A9(t.value.content,t.loc),modifiers:[],loc:t.loc})})},A9=(e,t)=>{const i=VM(e);return qr(JSON.stringify(i),!1,t,3)};function ap(e,t){return No(e,t)}const P9=(e,t,i)=>{const{exp:r,loc:o}=e;return r||i.onError(ap(51,o)),t.children.length&&(i.onError(ap(52,o)),t.children.length=0),{props:[ia(qr("innerHTML",!0,o),r||qr("",!0))]}},D9=(e,t,i)=>{const{exp:r,loc:o}=e;return r||i.onError(ap(53,o)),t.children.length&&(i.onError(ap(54,o)),t.children.length=0),{props:[ia(qr("textContent",!0),r?ed(r,i)>0?r:ka(i.helperString(qb),[r],o):qr("",!0))]}},I9=(e,t,i)=>{const r=n8(e,t,i);if(!r.props.length||t.tagType===1)return r;e.arg&&i.onError(ap(56,e.arg.loc));const{tag:o}=t,u=i.isCustomElement(o);if(o==="input"||o==="textarea"||o==="select"||u){let h=o8,s=!1;if(o==="input"||u){const v=Xb(t,"type");if(v){if(v.type===7)h=ET;else if(v.value)switch(v.value.content){case"radio":h=r8;break;case"checkbox":h=s8;break;case"file":s=!0,i.onError(ap(57,e.loc));break}}else cO(t)&&(h=ET)}else o==="select"&&(h=a8);s||(r.needRuntime=i.helper(h))}else i.onError(ap(55,e.loc));return r.props=r.props.filter(h=>!(h.key.type===4&&h.key.content==="modelValue")),r},L9=qc("passive,once,capture"),O9=qc("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),R9=qc("left,right"),p8=qc("onkeyup,onkeydown,onkeypress",!0),B9=(e,t,i,r)=>{const o=[],u=[],h=[];for(let s=0;s<t.length;s++){const v=t[s];v==="native"&&r_("COMPILER_V_ON_NATIVE",i)||L9(v)?h.push(v):R9(v)?Gc(e)?p8(e.content)?o.push(v):u.push(v):(o.push(v),u.push(v)):O9(v)?u.push(v):o.push(v)}return{keyModifiers:o,nonKeyModifiers:u,eventOptionModifiers:h}},_E=(e,t)=>Gc(e)&&e.content.toLowerCase()==="onclick"?qr(t,!0):e.type!==4?kd(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,N9=(e,t,i)=>i8(e,t,i,r=>{const{modifiers:o}=e;if(!o.length)return r;let{key:u,value:h}=r.props[0];const{keyModifiers:s,nonKeyModifiers:v,eventOptionModifiers:I}=B9(u,o,i,e.loc);if(v.includes("right")&&(u=_E(u,"onContextmenu")),v.includes("middle")&&(u=_E(u,"onMouseup")),v.length&&(h=ka(i.helper(l8),[h,JSON.stringify(v)])),s.length&&(!Gc(u)||p8(u.content))&&(h=ka(i.helper(c8),[h,JSON.stringify(s)])),I.length){const J=I.map(kf).join("");u=Gc(u)?qr(`${u.content}${J}`,!0):kd(["(",u,`) + "${J}"`])}return{props:[ia(u,h)]}}),z9=(e,t,i)=>{const{exp:r,loc:o}=e;return r||i.onError(ap(59,o)),{props:[],needRuntime:i.helper(u8)}},F9=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(ap(61,e.loc)),t.removeNode())},j9=[k9],U9={cloak:S9,html:P9,text:D9,model:I9,on:N9,show:z9};function $9(e,t={}){return T9(e,Ls({},M9,t,{nodeTransforms:[F9,...j9,...t.nodeTransforms||[]],directiveTransforms:Ls({},U9,t.directiveTransforms||{}),transformHoist:null}))}const vE=Object.create(null);function f8(e,t){if(!zr(e))if(e.nodeType)e=e.innerHTML;else return xc;const i=e,r=vE[i];if(r)return r;if(e[0]==="#"){const s=document.querySelector(e);e=s?s.innerHTML:""}const o=Ls({hoistStatic:!0,onError:void 0,onWarn:xc},t);!o.isCustomElement&&typeof customElements<"u"&&(o.isCustomElement=s=>!!customElements.get(s));const{code:u}=$9(e,o),h=new Function("Vue",u)(qL);return h._rc=!0,vE[i]=h}OS(f8);const V9=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Ub,Comment:xl,EffectScope:Eb,Fragment:Qi,KeepAlive:Pk,ReactiveEffect:Wg,Static:hf,Suspense:Tk,Teleport:IS,Text:Tf,Transition:Ld,TransitionGroup:bA,VueElement:v_,callWithAsyncErrorHandling:Hc,callWithErrorHandling:mh,camelize:sl,capitalize:kf,cloneVNode:Ad,compatUtils:hA,compile:f8,computed:Ui,createApp:VS,createBlock:mr,createCommentVNode:hi,createElementBlock:St,createElementVNode:je,createHydrationRenderer:PS,createPropsRestProxy:oA,createRenderer:AS,createSSRApp:MA,createSlots:_l,createStaticVNode:sd,createTextVNode:Yr,createVNode:sn,customRef:fk,defineAsyncComponent:Ak,defineComponent:Ho,defineCustomElement:jS,defineEmits:tA,defineExpose:iA,defineProps:eA,defineSSRCustomElement:pA,get devtools(){return R0},effect:JM,effectScope:qM,getCurrentInstance:mp,getCurrentScope:sS,getTransitionRawChildren:g_,guardReactiveProps:Fa,h:$c,handleError:Af,hydrate:$S,initCustomFormatter:lA,initDirectivesForSSR:AA,inject:Wc,isMemoSame:zS,isProxy:Ib,isReactive:df,isReadonly:vf,isRef:ta,isRuntimeOnly:Kk,isShallow:Og,isVNode:dp,markRaw:Lb,mergeDefaults:sA,mergeProps:Fs,nextTick:bc,normalizeClass:kn,normalizeProps:Is,normalizeStyle:ea,onActivated:_S,onBeforeMount:xS,onBeforeUnmount:Pf,onBeforeUpdate:__,onDeactivated:vS,onErrorCaptured:SS,onMounted:zo,onRenderTracked:TS,onRenderTriggered:wS,onScopeDispose:oS,onServerPrefetch:bS,onUnmounted:yh,onUpdated:sm,openBlock:pt,popScopeId:Zc,provide:bf,proxyRefs:Rb,pushScopeId:Xc,queuePostFlushCb:Nb,reactive:Id,readonly:Pb,ref:Ki,registerRuntimeCompiler:OS,render:Wx,renderList:ar,renderSlot:dn,resolveComponent:dr,resolveDirective:Gb,resolveDynamicComponent:Vb,resolveFilter:dA,resolveTransitionHooks:K0,setBlockTracking:Gx,setDevtoolsHook:fS,setTransitionHooks:wf,shallowReactive:cS,shallowReadonly:uk,shallowRef:dk,ssrContextKey:BS,ssrUtils:uA,stop:QM,toDisplayString:$i,toHandlerKey:V0,toHandlers:Ok,toRaw:ds,toRef:xf,toRefs:hS,transformVNodeArgs:Wk,triggerRef:pk,unref:Ft,useAttrs:RS,useCssModule:fA,useCssVars:gp,useSSRContext:NS,useSlots:om,useTransitionState:jb,vModelCheckbox:ff,vModelDynamic:US,vModelRadio:Yb,vModelSelect:Ed,vModelText:Yc,vShow:W0,version:FS,warn:gk,watch:Zs,watchEffect:Ck,watchPostEffect:yS,watchSyncEffect:Ek,withAsyncContext:aA,withCtx:Hn,withDefaults:nA,withDirectives:Ks,withKeys:Cr,withMemo:cA,withModifiers:rl,withScopeId:bk},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var m8;function wn(){return m8.apply(null,arguments)}function G9(e){m8=e}function Pd(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function q0(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ms(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cC(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ms(e,t))return!1;return!0}function jc(e){return e===void 0}function hp(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function S_(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function g8(e,t){var i=[],r,o=e.length;for(r=0;r<o;++r)i.push(t(e[r],r));return i}function of(e,t){for(var i in t)Ms(t,i)&&(e[i]=t[i]);return Ms(t,"toString")&&(e.toString=t.toString),Ms(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _h(e,t,i,r){return j8(e,t,i,r,!0).utc()}function H9(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Nr(e){return e._pf==null&&(e._pf=H9()),e._pf}var MT;Array.prototype.some?MT=Array.prototype.some:MT=function(e){var t=Object(this),i=t.length>>>0,r;for(r=0;r<i;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function uC(e){if(e._isValid==null){var t=Nr(e),i=MT.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Qb(e){var t=_h(NaN);return e!=null?of(Nr(t),e):Nr(t).userInvalidated=!0,t}var xE=wn.momentProperties=[],v3=!1;function dC(e,t){var i,r,o,u=xE.length;if(jc(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),jc(t._i)||(e._i=t._i),jc(t._f)||(e._f=t._f),jc(t._l)||(e._l=t._l),jc(t._strict)||(e._strict=t._strict),jc(t._tzm)||(e._tzm=t._tzm),jc(t._isUTC)||(e._isUTC=t._isUTC),jc(t._offset)||(e._offset=t._offset),jc(t._pf)||(e._pf=Nr(t)),jc(t._locale)||(e._locale=t._locale),u>0)for(i=0;i<u;i++)r=xE[i],o=t[r],jc(o)||(e[r]=o);return e}function C_(e){dC(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),v3===!1&&(v3=!0,wn.updateOffset(this),v3=!1)}function Dd(e){return e instanceof C_||e!=null&&e._isAMomentObject!=null}function y8(e){wn.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function od(e,t){var i=!0;return of(function(){if(wn.deprecationHandler!=null&&wn.deprecationHandler(null,e),i){var r=[],o,u,h,s=arguments.length;for(u=0;u<s;u++){if(o="",typeof arguments[u]=="object"){o+=`
[`+u+"] ";for(h in arguments[0])Ms(arguments[0],h)&&(o+=h+": "+arguments[0][h]+", ");o=o.slice(0,-2)}else o=arguments[u];r.push(o)}y8(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),i=!1}return t.apply(this,arguments)},t)}var bE={};function _8(e,t){wn.deprecationHandler!=null&&wn.deprecationHandler(e,t),bE[e]||(y8(t),bE[e]=!0)}wn.suppressDeprecationWarnings=!1;wn.deprecationHandler=null;function vh(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function W9(e){var t,i;for(i in e)Ms(e,i)&&(t=e[i],vh(t)?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function kT(e,t){var i=of({},e),r;for(r in t)Ms(t,r)&&(q0(e[r])&&q0(t[r])?(i[r]={},of(i[r],e[r]),of(i[r],t[r])):t[r]!=null?i[r]=t[r]:delete i[r]);for(r in e)Ms(e,r)&&!Ms(t,r)&&q0(e[r])&&(i[r]=of({},i[r]));return i}function hC(e){e!=null&&this.set(e)}var AT;Object.keys?AT=Object.keys:AT=function(e){var t,i=[];for(t in e)Ms(e,t)&&i.push(t);return i};var Y9={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function q9(e,t,i){var r=this._calendar[e]||this._calendar.sameElse;return vh(r)?r.call(t,i):r}function gh(e,t,i){var r=""+Math.abs(e),o=t-r.length,u=e>=0;return(u?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var pC=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,hx=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,x3={},Eg={};function tr(e,t,i,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(Eg[e]=o),t&&(Eg[t[0]]=function(){return gh(o.apply(this,arguments),t[1],t[2])}),i&&(Eg[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function X9(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Z9(e){var t=e.match(pC),i,r;for(i=0,r=t.length;i<r;i++)Eg[t[i]]?t[i]=Eg[t[i]]:t[i]=X9(t[i]);return function(o){var u="",h;for(h=0;h<r;h++)u+=vh(t[h])?t[h].call(o,e):t[h];return u}}function Px(e,t){return e.isValid()?(t=v8(t,e.localeData()),x3[t]=x3[t]||Z9(t),x3[t](e)):e.localeData().invalidDate()}function v8(e,t){var i=5;function r(o){return t.longDateFormat(o)||o}for(hx.lastIndex=0;i>=0&&hx.test(e);)e=e.replace(hx,r),hx.lastIndex=0,i-=1;return e}var K9={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function J9(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(pC).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Q9="Invalid date";function e7(){return this._invalidDate}var t7="%d",i7=/\d{1,2}/;function n7(e){return this._ordinal.replace("%d",e)}var r7={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s7(e,t,i,r){var o=this._relativeTime[i];return vh(o)?o(e,t,i,r):o.replace(/%d/i,e)}function o7(e,t){var i=this._relativeTime[e>0?"future":"past"];return vh(i)?i(t):i.replace(/%s/i,t)}var Gy={};function Gl(e,t){var i=e.toLowerCase();Gy[i]=Gy[i+"s"]=Gy[t]=e}function ad(e){return typeof e=="string"?Gy[e]||Gy[e.toLowerCase()]:void 0}function fC(e){var t={},i,r;for(r in e)Ms(e,r)&&(i=ad(r),i&&(t[i]=e[r]));return t}var x8={};function Hl(e,t){x8[e]=t}function a7(e){var t=[],i;for(i in e)Ms(e,i)&&t.push({unit:i,priority:x8[i]});return t.sort(function(r,o){return r.priority-o.priority}),t}function e2(e){return e%4===0&&e%100!==0||e%400===0}function Ju(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Jr(e){var t=+e,i=0;return t!==0&&isFinite(t)&&(i=Ju(t)),i}function Xg(e,t){return function(i){return i!=null?(b8(this,e,i),wn.updateOffset(this,t),this):nb(this,e)}}function nb(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function b8(e,t,i){e.isValid()&&!isNaN(i)&&(t==="FullYear"&&e2(e.year())&&e.month()===1&&e.date()===29?(i=Jr(i),e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),o2(i,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function l7(e){return e=ad(e),vh(this[e])?this[e]():this}function c7(e,t){if(typeof e=="object"){e=fC(e);var i=a7(e),r,o=i.length;for(r=0;r<o;r++)this[i[r].unit](e[i[r].unit])}else if(e=ad(e),vh(this[e]))return this[e](t);return this}var w8=/\d/,Su=/\d\d/,T8=/\d{3}/,mC=/\d{4}/,t2=/[+-]?\d{6}/,Do=/\d\d?/,S8=/\d\d\d\d?/,C8=/\d\d\d\d\d\d?/,i2=/\d{1,3}/,gC=/\d{1,4}/,n2=/[+-]?\d{1,6}/,Zg=/\d+/,r2=/[+-]?\d+/,u7=/Z|[+-]\d\d:?\d\d/gi,s2=/Z|[+-]\d\d(?::?\d\d)?/gi,d7=/[+-]?\d+(\.\d{1,3})?/,E_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rb;rb={};function Ln(e,t,i){rb[e]=vh(t)?t:function(r,o){return r&&i?i:t}}function h7(e,t){return Ms(rb,e)?rb[e](t._strict,t._locale):new RegExp(p7(e))}function p7(e){return vu(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,i,r,o,u){return i||r||o||u}))}function vu(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var PT={};function no(e,t){var i,r=t,o;for(typeof e=="string"&&(e=[e]),hp(t)&&(r=function(u,h){h[t]=Jr(u)}),o=e.length,i=0;i<o;i++)PT[e[i]]=r}function M_(e,t){no(e,function(i,r,o,u){o._w=o._w||{},t(i,o._w,o,u)})}function f7(e,t,i){t!=null&&Ms(PT,e)&&PT[e](t,i._a,i,e)}var $l=0,ip=1,lh=2,$a=3,Md=4,np=5,F0=6,m7=7,g7=8;function y7(e,t){return(e%t+t)%t}var fa;Array.prototype.indexOf?fa=Array.prototype.indexOf:fa=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function o2(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=y7(t,12);return e+=(t-i)/12,i===1?e2(e)?29:28:31-i%7%2}tr("M",["MM",2],"Mo",function(){return this.month()+1});tr("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});tr("MMMM",0,0,function(e){return this.localeData().months(this,e)});Gl("month","M");Hl("month",8);Ln("M",Do);Ln("MM",Do,Su);Ln("MMM",function(e,t){return t.monthsShortRegex(e)});Ln("MMMM",function(e,t){return t.monthsRegex(e)});no(["M","MM"],function(e,t){t[ip]=Jr(e)-1});no(["MMM","MMMM"],function(e,t,i,r){var o=i._locale.monthsParse(e,r,i._strict);o!=null?t[ip]=o:Nr(i).invalidMonth=e});var _7="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),E8="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),M8=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,v7=E_,x7=E_;function b7(e,t){return e?Pd(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||M8).test(t)?"format":"standalone"][e.month()]:Pd(this._months)?this._months:this._months.standalone}function w7(e,t){return e?Pd(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[M8.test(t)?"format":"standalone"][e.month()]:Pd(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function T7(e,t,i){var r,o,u,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)u=_h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(u,"").toLocaleLowerCase();return i?t==="MMM"?(o=fa.call(this._shortMonthsParse,h),o!==-1?o:null):(o=fa.call(this._longMonthsParse,h),o!==-1?o:null):t==="MMM"?(o=fa.call(this._shortMonthsParse,h),o!==-1?o:(o=fa.call(this._longMonthsParse,h),o!==-1?o:null)):(o=fa.call(this._longMonthsParse,h),o!==-1?o:(o=fa.call(this._shortMonthsParse,h),o!==-1?o:null))}function S7(e,t,i){var r,o,u;if(this._monthsParseExact)return T7.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=_h([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!i&&!this._monthsParse[r]&&(u="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(u.replace(".",""),"i")),i&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(i&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!i&&this._monthsParse[r].test(e))return r}}function k8(e,t){var i;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Jr(t);else if(t=e.localeData().monthsParse(t),!hp(t))return e}return i=Math.min(e.date(),o2(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function A8(e){return e!=null?(k8(this,e),wn.updateOffset(this,!0),this):nb(this,"Month")}function C7(){return o2(this.year(),this.month())}function E7(e){return this._monthsParseExact?(Ms(this,"_monthsRegex")||P8.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ms(this,"_monthsShortRegex")||(this._monthsShortRegex=v7),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function M7(e){return this._monthsParseExact?(Ms(this,"_monthsRegex")||P8.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ms(this,"_monthsRegex")||(this._monthsRegex=x7),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function P8(){function e(h,s){return s.length-h.length}var t=[],i=[],r=[],o,u;for(o=0;o<12;o++)u=_h([2e3,o]),t.push(this.monthsShort(u,"")),i.push(this.months(u,"")),r.push(this.months(u,"")),r.push(this.monthsShort(u,""));for(t.sort(e),i.sort(e),r.sort(e),o=0;o<12;o++)t[o]=vu(t[o]),i[o]=vu(i[o]);for(o=0;o<24;o++)r[o]=vu(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}tr("Y",0,0,function(){var e=this.year();return e<=9999?gh(e,4):"+"+e});tr(0,["YY",2],0,function(){return this.year()%100});tr(0,["YYYY",4],0,"year");tr(0,["YYYYY",5],0,"year");tr(0,["YYYYYY",6,!0],0,"year");Gl("year","y");Hl("year",1);Ln("Y",r2);Ln("YY",Do,Su);Ln("YYYY",gC,mC);Ln("YYYYY",n2,t2);Ln("YYYYYY",n2,t2);no(["YYYYY","YYYYYY"],$l);no("YYYY",function(e,t){t[$l]=e.length===2?wn.parseTwoDigitYear(e):Jr(e)});no("YY",function(e,t){t[$l]=wn.parseTwoDigitYear(e)});no("Y",function(e,t){t[$l]=parseInt(e,10)});function Hy(e){return e2(e)?366:365}wn.parseTwoDigitYear=function(e){return Jr(e)+(Jr(e)>68?1900:2e3)};var D8=Xg("FullYear",!0);function k7(){return e2(this.year())}function A7(e,t,i,r,o,u,h){var s;return e<100&&e>=0?(s=new Date(e+400,t,i,r,o,u,h),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,i,r,o,u,h),s}function o_(e){var t,i;return e<100&&e>=0?(i=Array.prototype.slice.call(arguments),i[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function sb(e,t,i){var r=7+t-i,o=(7+o_(e,0,r).getUTCDay()-t)%7;return-o+r-1}function I8(e,t,i,r,o){var u=(7+i-r)%7,h=sb(e,r,o),s=1+7*(t-1)+u+h,v,I;return s<=0?(v=e-1,I=Hy(v)+s):s>Hy(e)?(v=e+1,I=s-Hy(e)):(v=e,I=s),{year:v,dayOfYear:I}}function a_(e,t,i){var r=sb(e.year(),t,i),o=Math.floor((e.dayOfYear()-r-1)/7)+1,u,h;return o<1?(h=e.year()-1,u=o+lp(h,t,i)):o>lp(e.year(),t,i)?(u=o-lp(e.year(),t,i),h=e.year()+1):(h=e.year(),u=o),{week:u,year:h}}function lp(e,t,i){var r=sb(e,t,i),o=sb(e+1,t,i);return(Hy(e)-r+o)/7}tr("w",["ww",2],"wo","week");tr("W",["WW",2],"Wo","isoWeek");Gl("week","w");Gl("isoWeek","W");Hl("week",5);Hl("isoWeek",5);Ln("w",Do);Ln("ww",Do,Su);Ln("W",Do);Ln("WW",Do,Su);M_(["w","ww","W","WW"],function(e,t,i,r){t[r.substr(0,1)]=Jr(e)});function P7(e){return a_(e,this._week.dow,this._week.doy).week}var D7={dow:0,doy:6};function I7(){return this._week.dow}function L7(){return this._week.doy}function O7(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function R7(e){var t=a_(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}tr("d",0,"do","day");tr("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});tr("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});tr("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});tr("e",0,0,"weekday");tr("E",0,0,"isoWeekday");Gl("day","d");Gl("weekday","e");Gl("isoWeekday","E");Hl("day",11);Hl("weekday",11);Hl("isoWeekday",11);Ln("d",Do);Ln("e",Do);Ln("E",Do);Ln("dd",function(e,t){return t.weekdaysMinRegex(e)});Ln("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ln("dddd",function(e,t){return t.weekdaysRegex(e)});M_(["dd","ddd","dddd"],function(e,t,i,r){var o=i._locale.weekdaysParse(e,r,i._strict);o!=null?t.d=o:Nr(i).invalidWeekday=e});M_(["d","e","E"],function(e,t,i,r){t[r]=Jr(e)});function B7(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function N7(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function yC(e,t){return e.slice(t,7).concat(e.slice(0,t))}var z7="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),L8="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),F7="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),j7=E_,U7=E_,$7=E_;function V7(e,t){var i=Pd(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?yC(i,this._week.dow):e?i[e.day()]:i}function G7(e){return e===!0?yC(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function H7(e){return e===!0?yC(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function W7(e,t,i){var r,o,u,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)u=_h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(u,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(u,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(u,"").toLocaleLowerCase();return i?t==="dddd"?(o=fa.call(this._weekdaysParse,h),o!==-1?o:null):t==="ddd"?(o=fa.call(this._shortWeekdaysParse,h),o!==-1?o:null):(o=fa.call(this._minWeekdaysParse,h),o!==-1?o:null):t==="dddd"?(o=fa.call(this._weekdaysParse,h),o!==-1||(o=fa.call(this._shortWeekdaysParse,h),o!==-1)?o:(o=fa.call(this._minWeekdaysParse,h),o!==-1?o:null)):t==="ddd"?(o=fa.call(this._shortWeekdaysParse,h),o!==-1||(o=fa.call(this._weekdaysParse,h),o!==-1)?o:(o=fa.call(this._minWeekdaysParse,h),o!==-1?o:null)):(o=fa.call(this._minWeekdaysParse,h),o!==-1||(o=fa.call(this._weekdaysParse,h),o!==-1)?o:(o=fa.call(this._shortWeekdaysParse,h),o!==-1?o:null))}function Y7(e,t,i){var r,o,u;if(this._weekdaysParseExact)return W7.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=_h([2e3,1]).day(r),i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(u="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(u.replace(".",""),"i")),i&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(i&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(i&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!i&&this._weekdaysParse[r].test(e))return r}}function q7(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=B7(e,this.localeData()),this.add(e-t,"d")):t}function X7(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Z7(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=N7(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function K7(e){return this._weekdaysParseExact?(Ms(this,"_weekdaysRegex")||_C.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ms(this,"_weekdaysRegex")||(this._weekdaysRegex=j7),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function J7(e){return this._weekdaysParseExact?(Ms(this,"_weekdaysRegex")||_C.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ms(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=U7),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Q7(e){return this._weekdaysParseExact?(Ms(this,"_weekdaysRegex")||_C.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ms(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$7),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function _C(){function e(J,M){return M.length-J.length}var t=[],i=[],r=[],o=[],u,h,s,v,I;for(u=0;u<7;u++)h=_h([2e3,1]).day(u),s=vu(this.weekdaysMin(h,"")),v=vu(this.weekdaysShort(h,"")),I=vu(this.weekdays(h,"")),t.push(s),i.push(v),r.push(I),o.push(s),o.push(v),o.push(I);t.sort(e),i.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function vC(){return this.hours()%12||12}function eR(){return this.hours()||24}tr("H",["HH",2],0,"hour");tr("h",["hh",2],0,vC);tr("k",["kk",2],0,eR);tr("hmm",0,0,function(){return""+vC.apply(this)+gh(this.minutes(),2)});tr("hmmss",0,0,function(){return""+vC.apply(this)+gh(this.minutes(),2)+gh(this.seconds(),2)});tr("Hmm",0,0,function(){return""+this.hours()+gh(this.minutes(),2)});tr("Hmmss",0,0,function(){return""+this.hours()+gh(this.minutes(),2)+gh(this.seconds(),2)});function O8(e,t){tr(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}O8("a",!0);O8("A",!1);Gl("hour","h");Hl("hour",13);function R8(e,t){return t._meridiemParse}Ln("a",R8);Ln("A",R8);Ln("H",Do);Ln("h",Do);Ln("k",Do);Ln("HH",Do,Su);Ln("hh",Do,Su);Ln("kk",Do,Su);Ln("hmm",S8);Ln("hmmss",C8);Ln("Hmm",S8);Ln("Hmmss",C8);no(["H","HH"],$a);no(["k","kk"],function(e,t,i){var r=Jr(e);t[$a]=r===24?0:r});no(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e});no(["h","hh"],function(e,t,i){t[$a]=Jr(e),Nr(i).bigHour=!0});no("hmm",function(e,t,i){var r=e.length-2;t[$a]=Jr(e.substr(0,r)),t[Md]=Jr(e.substr(r)),Nr(i).bigHour=!0});no("hmmss",function(e,t,i){var r=e.length-4,o=e.length-2;t[$a]=Jr(e.substr(0,r)),t[Md]=Jr(e.substr(r,2)),t[np]=Jr(e.substr(o)),Nr(i).bigHour=!0});no("Hmm",function(e,t,i){var r=e.length-2;t[$a]=Jr(e.substr(0,r)),t[Md]=Jr(e.substr(r))});no("Hmmss",function(e,t,i){var r=e.length-4,o=e.length-2;t[$a]=Jr(e.substr(0,r)),t[Md]=Jr(e.substr(r,2)),t[np]=Jr(e.substr(o))});function tR(e){return(e+"").toLowerCase().charAt(0)==="p"}var iR=/[ap]\.?m?\.?/i,nR=Xg("Hours",!0);function rR(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}var B8={calendar:Y9,longDateFormat:K9,invalidDate:Q9,ordinal:t7,dayOfMonthOrdinalParse:i7,relativeTime:r7,months:_7,monthsShort:E8,week:D7,weekdays:z7,weekdaysMin:F7,weekdaysShort:L8,meridiemParse:iR},Bo={},Ay={},l_;function sR(e,t){var i,r=Math.min(e.length,t.length);for(i=0;i<r;i+=1)if(e[i]!==t[i])return i;return r}function wE(e){return e&&e.toLowerCase().replace("_","-")}function oR(e){for(var t=0,i,r,o,u;t<e.length;){for(u=wE(e[t]).split("-"),i=u.length,r=wE(e[t+1]),r=r?r.split("-"):null;i>0;){if(o=a2(u.slice(0,i).join("-")),o)return o;if(r&&r.length>=i&&sR(u,r)>=i-1)break;i--}t++}return l_}function aR(e){return e.match("^[^/\\\\]*$")!=null}function a2(e){var t=null,i;if(Bo[e]===void 0&&typeof Nx<"u"&&Nx&&Nx.exports&&aR(e))try{t=l_._abbr,i=require,i("./locale/"+e),mf(t)}catch{Bo[e]=null}return Bo[e]}function mf(e,t){var i;return e&&(jc(t)?i=yp(e):i=xC(e,t),i?l_=i:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),l_._abbr}function xC(e,t){if(t!==null){var i,r=B8;if(t.abbr=e,Bo[e]!=null)_8("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Bo[e]._config;else if(t.parentLocale!=null)if(Bo[t.parentLocale]!=null)r=Bo[t.parentLocale]._config;else if(i=a2(t.parentLocale),i!=null)r=i._config;else return Ay[t.parentLocale]||(Ay[t.parentLocale]=[]),Ay[t.parentLocale].push({name:e,config:t}),null;return Bo[e]=new hC(kT(r,t)),Ay[e]&&Ay[e].forEach(function(o){xC(o.name,o.config)}),mf(e),Bo[e]}else return delete Bo[e],null}function lR(e,t){if(t!=null){var i,r,o=B8;Bo[e]!=null&&Bo[e].parentLocale!=null?Bo[e].set(kT(Bo[e]._config,t)):(r=a2(e),r!=null&&(o=r._config),t=kT(o,t),r==null&&(t.abbr=e),i=new hC(t),i.parentLocale=Bo[e],Bo[e]=i),mf(e)}else Bo[e]!=null&&(Bo[e].parentLocale!=null?(Bo[e]=Bo[e].parentLocale,e===mf()&&mf(e)):Bo[e]!=null&&delete Bo[e]);return Bo[e]}function yp(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return l_;if(!Pd(e)){if(t=a2(e),t)return t;e=[e]}return oR(e)}function cR(){return AT(Bo)}function bC(e){var t,i=e._a;return i&&Nr(e).overflow===-2&&(t=i[ip]<0||i[ip]>11?ip:i[lh]<1||i[lh]>o2(i[$l],i[ip])?lh:i[$a]<0||i[$a]>24||i[$a]===24&&(i[Md]!==0||i[np]!==0||i[F0]!==0)?$a:i[Md]<0||i[Md]>59?Md:i[np]<0||i[np]>59?np:i[F0]<0||i[F0]>999?F0:-1,Nr(e)._overflowDayOfYear&&(t<$l||t>lh)&&(t=lh),Nr(e)._overflowWeeks&&t===-1&&(t=m7),Nr(e)._overflowWeekday&&t===-1&&(t=g7),Nr(e).overflow=t),e}var uR=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dR=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hR=/Z|[+-]\d\d(?::?\d\d)?/,px=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],b3=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pR=/^\/?Date\((-?\d+)/i,fR=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,mR={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function N8(e){var t,i,r=e._i,o=uR.exec(r)||dR.exec(r),u,h,s,v,I=px.length,J=b3.length;if(o){for(Nr(e).iso=!0,t=0,i=I;t<i;t++)if(px[t][1].exec(o[1])){h=px[t][0],u=px[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(o[3]){for(t=0,i=J;t<i;t++)if(b3[t][1].exec(o[3])){s=(o[2]||" ")+b3[t][0];break}if(s==null){e._isValid=!1;return}}if(!u&&s!=null){e._isValid=!1;return}if(o[4])if(hR.exec(o[4]))v="Z";else{e._isValid=!1;return}e._f=h+(s||"")+(v||""),TC(e)}else e._isValid=!1}function gR(e,t,i,r,o,u){var h=[yR(e),E8.indexOf(t),parseInt(i,10),parseInt(r,10),parseInt(o,10)];return u&&h.push(parseInt(u,10)),h}function yR(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function _R(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function vR(e,t,i){if(e){var r=L8.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return Nr(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function xR(e,t,i){if(e)return mR[e];if(t)return 0;var r=parseInt(i,10),o=r%100,u=(r-o)/100;return u*60+o}function z8(e){var t=fR.exec(_R(e._i)),i;if(t){if(i=gR(t[4],t[3],t[2],t[5],t[6],t[7]),!vR(t[1],i,e))return;e._a=i,e._tzm=xR(t[8],t[9],t[10]),e._d=o_.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Nr(e).rfc2822=!0}else e._isValid=!1}function bR(e){var t=pR.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(N8(e),e._isValid===!1)delete e._isValid;else return;if(z8(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:wn.createFromInputFallback(e)}wn.createFromInputFallback=od("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function yg(e,t,i){return e??t??i}function wR(e){var t=new Date(wn.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function wC(e){var t,i,r=[],o,u,h;if(!e._d){for(o=wR(e),e._w&&e._a[lh]==null&&e._a[ip]==null&&TR(e),e._dayOfYear!=null&&(h=yg(e._a[$l],o[$l]),(e._dayOfYear>Hy(h)||e._dayOfYear===0)&&(Nr(e)._overflowDayOfYear=!0),i=o_(h,0,e._dayOfYear),e._a[ip]=i.getUTCMonth(),e._a[lh]=i.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[$a]===24&&e._a[Md]===0&&e._a[np]===0&&e._a[F0]===0&&(e._nextDay=!0,e._a[$a]=0),e._d=(e._useUTC?o_:A7).apply(null,r),u=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[$a]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==u&&(Nr(e).weekdayMismatch=!0)}}function TR(e){var t,i,r,o,u,h,s,v,I;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(u=1,h=4,i=yg(t.GG,e._a[$l],a_(Po(),1,4).year),r=yg(t.W,1),o=yg(t.E,1),(o<1||o>7)&&(v=!0)):(u=e._locale._week.dow,h=e._locale._week.doy,I=a_(Po(),u,h),i=yg(t.gg,e._a[$l],I.year),r=yg(t.w,I.week),t.d!=null?(o=t.d,(o<0||o>6)&&(v=!0)):t.e!=null?(o=t.e+u,(t.e<0||t.e>6)&&(v=!0)):o=u),r<1||r>lp(i,u,h)?Nr(e)._overflowWeeks=!0:v!=null?Nr(e)._overflowWeekday=!0:(s=I8(i,r,o,u,h),e._a[$l]=s.year,e._dayOfYear=s.dayOfYear)}wn.ISO_8601=function(){};wn.RFC_2822=function(){};function TC(e){if(e._f===wn.ISO_8601){N8(e);return}if(e._f===wn.RFC_2822){z8(e);return}e._a=[],Nr(e).empty=!0;var t=""+e._i,i,r,o,u,h,s=t.length,v=0,I,J;for(o=v8(e._f,e._locale).match(pC)||[],J=o.length,i=0;i<J;i++)u=o[i],r=(t.match(h7(u,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&Nr(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),v+=r.length),Eg[u]?(r?Nr(e).empty=!1:Nr(e).unusedTokens.push(u),f7(u,r,e)):e._strict&&!r&&Nr(e).unusedTokens.push(u);Nr(e).charsLeftOver=s-v,t.length>0&&Nr(e).unusedInput.push(t),e._a[$a]<=12&&Nr(e).bigHour===!0&&e._a[$a]>0&&(Nr(e).bigHour=void 0),Nr(e).parsedDateParts=e._a.slice(0),Nr(e).meridiem=e._meridiem,e._a[$a]=SR(e._locale,e._a[$a],e._meridiem),I=Nr(e).era,I!==null&&(e._a[$l]=e._locale.erasConvertYear(I,e._a[$l])),wC(e),bC(e)}function SR(e,t,i){var r;return i==null?t:e.meridiemHour!=null?e.meridiemHour(t,i):(e.isPM!=null&&(r=e.isPM(i),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function CR(e){var t,i,r,o,u,h,s=!1,v=e._f.length;if(v===0){Nr(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<v;o++)u=0,h=!1,t=dC({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],TC(t),uC(t)&&(h=!0),u+=Nr(t).charsLeftOver,u+=Nr(t).unusedTokens.length*10,Nr(t).score=u,s?u<r&&(r=u,i=t):(r==null||u<r||h)&&(r=u,i=t,h&&(s=!0));of(e,i||t)}function ER(e){if(!e._d){var t=fC(e._i),i=t.day===void 0?t.date:t.day;e._a=g8([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),wC(e)}}function MR(e){var t=new C_(bC(F8(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function F8(e){var t=e._i,i=e._f;return e._locale=e._locale||yp(e._l),t===null||i===void 0&&t===""?Qb({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Dd(t)?new C_(bC(t)):(S_(t)?e._d=t:Pd(i)?CR(e):i?TC(e):kR(e),uC(e)||(e._d=null),e))}function kR(e){var t=e._i;jc(t)?e._d=new Date(wn.now()):S_(t)?e._d=new Date(t.valueOf()):typeof t=="string"?bR(e):Pd(t)?(e._a=g8(t.slice(0),function(i){return parseInt(i,10)}),wC(e)):q0(t)?ER(e):hp(t)?e._d=new Date(t):wn.createFromInputFallback(e)}function j8(e,t,i,r,o){var u={};return(t===!0||t===!1)&&(r=t,t=void 0),(i===!0||i===!1)&&(r=i,i=void 0),(q0(e)&&cC(e)||Pd(e)&&e.length===0)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=i,u._i=e,u._f=t,u._strict=r,MR(u)}function Po(e,t,i,r){return j8(e,t,i,r,!1)}var AR=od("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Po.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Qb()}),PR=od("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Po.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Qb()});function U8(e,t){var i,r;if(t.length===1&&Pd(t[0])&&(t=t[0]),!t.length)return Po();for(i=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](i))&&(i=t[r]);return i}function DR(){var e=[].slice.call(arguments,0);return U8("isBefore",e)}function IR(){var e=[].slice.call(arguments,0);return U8("isAfter",e)}var LR=function(){return Date.now?Date.now():+new Date},Py=["year","quarter","month","week","day","hour","minute","second","millisecond"];function OR(e){var t,i=!1,r,o=Py.length;for(t in e)if(Ms(e,t)&&!(fa.call(Py,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[Py[r]]){if(i)return!1;parseFloat(e[Py[r]])!==Jr(e[Py[r]])&&(i=!0)}return!0}function RR(){return this._isValid}function BR(){return Od(NaN)}function l2(e){var t=fC(e),i=t.year||0,r=t.quarter||0,o=t.month||0,u=t.week||t.isoWeek||0,h=t.day||0,s=t.hour||0,v=t.minute||0,I=t.second||0,J=t.millisecond||0;this._isValid=OR(t),this._milliseconds=+J+I*1e3+v*6e4+s*1e3*60*60,this._days=+h+u*7,this._months=+o+r*3+i*12,this._data={},this._locale=yp(),this._bubble()}function Dx(e){return e instanceof l2}function DT(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function NR(e,t,i){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),u=0,h;for(h=0;h<r;h++)(i&&e[h]!==t[h]||!i&&Jr(e[h])!==Jr(t[h]))&&u++;return u+o}function $8(e,t){tr(e,0,0,function(){var i=this.utcOffset(),r="+";return i<0&&(i=-i,r="-"),r+gh(~~(i/60),2)+t+gh(~~i%60,2)})}$8("Z",":");$8("ZZ","");Ln("Z",s2);Ln("ZZ",s2);no(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=SC(s2,e)});var zR=/([\+\-]|\d\d)/gi;function SC(e,t){var i=(t||"").match(e),r,o,u;return i===null?null:(r=i[i.length-1]||[],o=(r+"").match(zR)||["-",0,0],u=+(o[1]*60)+Jr(o[2]),u===0?0:o[0]==="+"?u:-u)}function CC(e,t){var i,r;return t._isUTC?(i=t.clone(),r=(Dd(e)||S_(e)?e.valueOf():Po(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),wn.updateOffset(i,!1),i):Po(e).local()}function IT(e){return-Math.round(e._d.getTimezoneOffset())}wn.updateOffset=function(){};function FR(e,t,i){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=SC(s2,e),e===null)return this}else Math.abs(e)<16&&!i&&(e=e*60);return!this._isUTC&&t&&(o=IT(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?H8(this,Od(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,wn.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:IT(this)}function jR(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function UR(e){return this.utcOffset(0,e)}function $R(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(IT(this),"m")),this}function VR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=SC(u7,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function GR(e){return this.isValid()?(e=e?Po(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function HR(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function WR(){if(!jc(this._isDSTShifted))return this._isDSTShifted;var e={},t;return dC(e,this),e=F8(e),e._a?(t=e._isUTC?_h(e._a):Po(e._a),this._isDSTShifted=this.isValid()&&NR(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function YR(){return this.isValid()?!this._isUTC:!1}function qR(){return this.isValid()?this._isUTC:!1}function V8(){return this.isValid()?this._isUTC&&this._offset===0:!1}var XR=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ZR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Od(e,t){var i=e,r=null,o,u,h;return Dx(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:hp(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(r=XR.exec(e))?(o=r[1]==="-"?-1:1,i={y:0,d:Jr(r[lh])*o,h:Jr(r[$a])*o,m:Jr(r[Md])*o,s:Jr(r[np])*o,ms:Jr(DT(r[F0]*1e3))*o}):(r=ZR.exec(e))?(o=r[1]==="-"?-1:1,i={y:k0(r[2],o),M:k0(r[3],o),w:k0(r[4],o),d:k0(r[5],o),h:k0(r[6],o),m:k0(r[7],o),s:k0(r[8],o)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(h=KR(Po(i.from),Po(i.to)),i={},i.ms=h.milliseconds,i.M=h.months),u=new l2(i),Dx(e)&&Ms(e,"_locale")&&(u._locale=e._locale),Dx(e)&&Ms(e,"_isValid")&&(u._isValid=e._isValid),u}Od.fn=l2.prototype;Od.invalid=BR;function k0(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function TE(e,t){var i={};return i.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function KR(e,t){var i;return e.isValid()&&t.isValid()?(t=CC(t,e),e.isBefore(t)?i=TE(e,t):(i=TE(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function G8(e,t){return function(i,r){var o,u;return r!==null&&!isNaN(+r)&&(_8(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=i,i=r,r=u),o=Od(i,r),H8(this,o,e),this}}function H8(e,t,i,r){var o=t._milliseconds,u=DT(t._days),h=DT(t._months);e.isValid()&&(r=r??!0,h&&k8(e,nb(e,"Month")+h*i),u&&b8(e,"Date",nb(e,"Date")+u*i),o&&e._d.setTime(e._d.valueOf()+o*i),r&&wn.updateOffset(e,u||h))}var JR=G8(1,"add"),QR=G8(-1,"subtract");function W8(e){return typeof e=="string"||e instanceof String}function eB(e){return Dd(e)||S_(e)||W8(e)||hp(e)||iB(e)||tB(e)||e===null||e===void 0}function tB(e){var t=q0(e)&&!cC(e),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,u,h=r.length;for(o=0;o<h;o+=1)u=r[o],i=i||Ms(e,u);return t&&i}function iB(e){var t=Pd(e),i=!1;return t&&(i=e.filter(function(r){return!hp(r)&&W8(e)}).length===0),t&&i}function nB(e){var t=q0(e)&&!cC(e),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,u;for(o=0;o<r.length;o+=1)u=r[o],i=i||Ms(e,u);return t&&i}function rB(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function sB(e,t){arguments.length===1&&(arguments[0]?eB(arguments[0])?(e=arguments[0],t=void 0):nB(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||Po(),r=CC(i,this).startOf("day"),o=wn.calendarFormat(this,r)||"sameElse",u=t&&(vh(t[o])?t[o].call(this,i):t[o]);return this.format(u||this.localeData().calendar(o,this,Po(i)))}function oB(){return new C_(this)}function aB(e,t){var i=Dd(e)?e:Po(e);return this.isValid()&&i.isValid()?(t=ad(t)||"millisecond",t==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function lB(e,t){var i=Dd(e)?e:Po(e);return this.isValid()&&i.isValid()?(t=ad(t)||"millisecond",t==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function cB(e,t,i,r){var o=Dd(e)?e:Po(e),u=Dd(t)?t:Po(t);return this.isValid()&&o.isValid()&&u.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,i):!this.isBefore(o,i))&&(r[1]===")"?this.isBefore(u,i):!this.isAfter(u,i))):!1}function uB(e,t){var i=Dd(e)?e:Po(e),r;return this.isValid()&&i.isValid()?(t=ad(t)||"millisecond",t==="millisecond"?this.valueOf()===i.valueOf():(r=i.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function dB(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function hB(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pB(e,t,i){var r,o,u;if(!this.isValid())return NaN;if(r=CC(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=ad(t),t){case"year":u=Ix(this,r)/12;break;case"month":u=Ix(this,r);break;case"quarter":u=Ix(this,r)/3;break;case"second":u=(this-r)/1e3;break;case"minute":u=(this-r)/6e4;break;case"hour":u=(this-r)/36e5;break;case"day":u=(this-r-o)/864e5;break;case"week":u=(this-r-o)/6048e5;break;default:u=this-r}return i?u:Ju(u)}function Ix(e,t){if(e.date()<t.date())return-Ix(t,e);var i=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(i,"months"),o,u;return t-r<0?(o=e.clone().add(i-1,"months"),u=(t-r)/(r-o)):(o=e.clone().add(i+1,"months"),u=(t-r)/(o-r)),-(i+u)||0}wn.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";wn.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function fB(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mB(e){if(!this.isValid())return null;var t=e!==!0,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?Px(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):vh(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Px(i,"Z")):Px(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gB(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",i,r,o,u;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),i="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",u=t+'[")]',this.format(i+r+o+u)}function yB(e){e||(e=this.isUtc()?wn.defaultFormatUtc:wn.defaultFormat);var t=Px(this,e);return this.localeData().postformat(t)}function _B(e,t){return this.isValid()&&(Dd(e)&&e.isValid()||Po(e).isValid())?Od({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vB(e){return this.from(Po(),e)}function xB(e,t){return this.isValid()&&(Dd(e)&&e.isValid()||Po(e).isValid())?Od({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bB(e){return this.to(Po(),e)}function Y8(e){var t;return e===void 0?this._locale._abbr:(t=yp(e),t!=null&&(this._locale=t),this)}var q8=od("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function X8(){return this._locale}var ob=1e3,Mg=60*ob,ab=60*Mg,Z8=(365*400+97)*24*ab;function kg(e,t){return(e%t+t)%t}function K8(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-Z8:new Date(e,t,i).valueOf()}function J8(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-Z8:Date.UTC(e,t,i)}function wB(e){var t,i;if(e=ad(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?J8:K8,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=kg(t+(this._isUTC?0:this.utcOffset()*Mg),ab);break;case"minute":t=this._d.valueOf(),t-=kg(t,Mg);break;case"second":t=this._d.valueOf(),t-=kg(t,ob);break}return this._d.setTime(t),wn.updateOffset(this,!0),this}function TB(e){var t,i;if(e=ad(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?J8:K8,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ab-kg(t+(this._isUTC?0:this.utcOffset()*Mg),ab)-1;break;case"minute":t=this._d.valueOf(),t+=Mg-kg(t,Mg)-1;break;case"second":t=this._d.valueOf(),t+=ob-kg(t,ob)-1;break}return this._d.setTime(t),wn.updateOffset(this,!0),this}function SB(){return this._d.valueOf()-(this._offset||0)*6e4}function CB(){return Math.floor(this.valueOf()/1e3)}function EB(){return new Date(this.valueOf())}function MB(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function kB(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function AB(){return this.isValid()?this.toISOString():null}function PB(){return uC(this)}function DB(){return of({},Nr(this))}function IB(){return Nr(this).overflow}function LB(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}tr("N",0,0,"eraAbbr");tr("NN",0,0,"eraAbbr");tr("NNN",0,0,"eraAbbr");tr("NNNN",0,0,"eraName");tr("NNNNN",0,0,"eraNarrow");tr("y",["y",1],"yo","eraYear");tr("y",["yy",2],0,"eraYear");tr("y",["yyy",3],0,"eraYear");tr("y",["yyyy",4],0,"eraYear");Ln("N",EC);Ln("NN",EC);Ln("NNN",EC);Ln("NNNN",GB);Ln("NNNNN",HB);no(["N","NN","NNN","NNNN","NNNNN"],function(e,t,i,r){var o=i._locale.erasParse(e,r,i._strict);o?Nr(i).era=o:Nr(i).invalidEra=e});Ln("y",Zg);Ln("yy",Zg);Ln("yyy",Zg);Ln("yyyy",Zg);Ln("yo",WB);no(["y","yy","yyy","yyyy"],$l);no(["yo"],function(e,t,i,r){var o;i._locale._eraYearOrdinalRegex&&(o=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[$l]=i._locale.eraYearOrdinalParse(e,o):t[$l]=parseInt(e,10)});function OB(e,t){var i,r,o,u=this._eras||yp("en")._eras;for(i=0,r=u.length;i<r;++i){switch(typeof u[i].since){case"string":o=wn(u[i].since).startOf("day"),u[i].since=o.valueOf();break}switch(typeof u[i].until){case"undefined":u[i].until=1/0;break;case"string":o=wn(u[i].until).startOf("day").valueOf(),u[i].until=o.valueOf();break}}return u}function RB(e,t,i){var r,o,u=this.eras(),h,s,v;for(e=e.toUpperCase(),r=0,o=u.length;r<o;++r)if(h=u[r].name.toUpperCase(),s=u[r].abbr.toUpperCase(),v=u[r].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(s===e)return u[r];break;case"NNNN":if(h===e)return u[r];break;case"NNNNN":if(v===e)return u[r];break}else if([h,s,v].indexOf(e)>=0)return u[r]}function BB(e,t){var i=e.since<=e.until?1:-1;return t===void 0?wn(e.since).year():wn(e.since).year()+(t-e.offset)*i}function NB(){var e,t,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return r[e].name;return""}function zB(){var e,t,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return r[e].narrow;return""}function FB(){var e,t,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return r[e].abbr;return""}function jB(){var e,t,i,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(i=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-wn(o[e].since).year())*i+o[e].offset;return this.year()}function UB(e){return Ms(this,"_erasNameRegex")||MC.call(this),e?this._erasNameRegex:this._erasRegex}function $B(e){return Ms(this,"_erasAbbrRegex")||MC.call(this),e?this._erasAbbrRegex:this._erasRegex}function VB(e){return Ms(this,"_erasNarrowRegex")||MC.call(this),e?this._erasNarrowRegex:this._erasRegex}function EC(e,t){return t.erasAbbrRegex(e)}function GB(e,t){return t.erasNameRegex(e)}function HB(e,t){return t.erasNarrowRegex(e)}function WB(e,t){return t._eraYearOrdinalRegex||Zg}function MC(){var e=[],t=[],i=[],r=[],o,u,h=this.eras();for(o=0,u=h.length;o<u;++o)t.push(vu(h[o].name)),e.push(vu(h[o].abbr)),i.push(vu(h[o].narrow)),r.push(vu(h[o].name)),r.push(vu(h[o].abbr)),r.push(vu(h[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}tr(0,["gg",2],0,function(){return this.weekYear()%100});tr(0,["GG",2],0,function(){return this.isoWeekYear()%100});function c2(e,t){tr(0,[e,e.length],0,t)}c2("gggg","weekYear");c2("ggggg","weekYear");c2("GGGG","isoWeekYear");c2("GGGGG","isoWeekYear");Gl("weekYear","gg");Gl("isoWeekYear","GG");Hl("weekYear",1);Hl("isoWeekYear",1);Ln("G",r2);Ln("g",r2);Ln("GG",Do,Su);Ln("gg",Do,Su);Ln("GGGG",gC,mC);Ln("gggg",gC,mC);Ln("GGGGG",n2,t2);Ln("ggggg",n2,t2);M_(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,r){t[r.substr(0,2)]=Jr(e)});M_(["gg","GG"],function(e,t,i,r){t[r]=wn.parseTwoDigitYear(e)});function YB(e){return Q8.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function qB(e){return Q8.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function XB(){return lp(this.year(),1,4)}function ZB(){return lp(this.isoWeekYear(),1,4)}function KB(){var e=this.localeData()._week;return lp(this.year(),e.dow,e.doy)}function JB(){var e=this.localeData()._week;return lp(this.weekYear(),e.dow,e.doy)}function Q8(e,t,i,r,o){var u;return e==null?a_(this,r,o).year:(u=lp(e,r,o),t>u&&(t=u),QB.call(this,e,t,i,r,o))}function QB(e,t,i,r,o){var u=I8(e,t,i,r,o),h=o_(u.year,0,u.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}tr("Q",0,"Qo","quarter");Gl("quarter","Q");Hl("quarter",7);Ln("Q",w8);no("Q",function(e,t){t[ip]=(Jr(e)-1)*3});function eN(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}tr("D",["DD",2],"Do","date");Gl("date","D");Hl("date",9);Ln("D",Do);Ln("DD",Do,Su);Ln("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});no(["D","DD"],lh);no("Do",function(e,t){t[lh]=Jr(e.match(Do)[0])});var e4=Xg("Date",!0);tr("DDD",["DDDD",3],"DDDo","dayOfYear");Gl("dayOfYear","DDD");Hl("dayOfYear",4);Ln("DDD",i2);Ln("DDDD",T8);no(["DDD","DDDD"],function(e,t,i){i._dayOfYear=Jr(e)});function tN(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}tr("m",["mm",2],0,"minute");Gl("minute","m");Hl("minute",14);Ln("m",Do);Ln("mm",Do,Su);no(["m","mm"],Md);var iN=Xg("Minutes",!1);tr("s",["ss",2],0,"second");Gl("second","s");Hl("second",15);Ln("s",Do);Ln("ss",Do,Su);no(["s","ss"],np);var nN=Xg("Seconds",!1);tr("S",0,0,function(){return~~(this.millisecond()/100)});tr(0,["SS",2],0,function(){return~~(this.millisecond()/10)});tr(0,["SSS",3],0,"millisecond");tr(0,["SSSS",4],0,function(){return this.millisecond()*10});tr(0,["SSSSS",5],0,function(){return this.millisecond()*100});tr(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});tr(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});tr(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});tr(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Gl("millisecond","ms");Hl("millisecond",16);Ln("S",i2,w8);Ln("SS",i2,Su);Ln("SSS",i2,T8);var af,t4;for(af="SSSS";af.length<=9;af+="S")Ln(af,Zg);function rN(e,t){t[F0]=Jr(("0."+e)*1e3)}for(af="S";af.length<=9;af+="S")no(af,rN);t4=Xg("Milliseconds",!1);tr("z",0,0,"zoneAbbr");tr("zz",0,0,"zoneName");function sN(){return this._isUTC?"UTC":""}function oN(){return this._isUTC?"Coordinated Universal Time":""}var cn=C_.prototype;cn.add=JR;cn.calendar=sB;cn.clone=oB;cn.diff=pB;cn.endOf=TB;cn.format=yB;cn.from=_B;cn.fromNow=vB;cn.to=xB;cn.toNow=bB;cn.get=l7;cn.invalidAt=IB;cn.isAfter=aB;cn.isBefore=lB;cn.isBetween=cB;cn.isSame=uB;cn.isSameOrAfter=dB;cn.isSameOrBefore=hB;cn.isValid=PB;cn.lang=q8;cn.locale=Y8;cn.localeData=X8;cn.max=PR;cn.min=AR;cn.parsingFlags=DB;cn.set=c7;cn.startOf=wB;cn.subtract=QR;cn.toArray=MB;cn.toObject=kB;cn.toDate=EB;cn.toISOString=mB;cn.inspect=gB;typeof Symbol<"u"&&Symbol.for!=null&&(cn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});cn.toJSON=AB;cn.toString=fB;cn.unix=CB;cn.valueOf=SB;cn.creationData=LB;cn.eraName=NB;cn.eraNarrow=zB;cn.eraAbbr=FB;cn.eraYear=jB;cn.year=D8;cn.isLeapYear=k7;cn.weekYear=YB;cn.isoWeekYear=qB;cn.quarter=cn.quarters=eN;cn.month=A8;cn.daysInMonth=C7;cn.week=cn.weeks=O7;cn.isoWeek=cn.isoWeeks=R7;cn.weeksInYear=KB;cn.weeksInWeekYear=JB;cn.isoWeeksInYear=XB;cn.isoWeeksInISOWeekYear=ZB;cn.date=e4;cn.day=cn.days=q7;cn.weekday=X7;cn.isoWeekday=Z7;cn.dayOfYear=tN;cn.hour=cn.hours=nR;cn.minute=cn.minutes=iN;cn.second=cn.seconds=nN;cn.millisecond=cn.milliseconds=t4;cn.utcOffset=FR;cn.utc=UR;cn.local=$R;cn.parseZone=VR;cn.hasAlignedHourOffset=GR;cn.isDST=HR;cn.isLocal=YR;cn.isUtcOffset=qR;cn.isUtc=V8;cn.isUTC=V8;cn.zoneAbbr=sN;cn.zoneName=oN;cn.dates=od("dates accessor is deprecated. Use date instead.",e4);cn.months=od("months accessor is deprecated. Use month instead",A8);cn.years=od("years accessor is deprecated. Use year instead",D8);cn.zone=od("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",jR);cn.isDSTShifted=od("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",WR);function aN(e){return Po(e*1e3)}function lN(){return Po.apply(null,arguments).parseZone()}function i4(e){return e}var ks=hC.prototype;ks.calendar=q9;ks.longDateFormat=J9;ks.invalidDate=e7;ks.ordinal=n7;ks.preparse=i4;ks.postformat=i4;ks.relativeTime=s7;ks.pastFuture=o7;ks.set=W9;ks.eras=OB;ks.erasParse=RB;ks.erasConvertYear=BB;ks.erasAbbrRegex=$B;ks.erasNameRegex=UB;ks.erasNarrowRegex=VB;ks.months=b7;ks.monthsShort=w7;ks.monthsParse=S7;ks.monthsRegex=M7;ks.monthsShortRegex=E7;ks.week=P7;ks.firstDayOfYear=L7;ks.firstDayOfWeek=I7;ks.weekdays=V7;ks.weekdaysMin=H7;ks.weekdaysShort=G7;ks.weekdaysParse=Y7;ks.weekdaysRegex=K7;ks.weekdaysShortRegex=J7;ks.weekdaysMinRegex=Q7;ks.isPM=tR;ks.meridiem=rR;function lb(e,t,i,r){var o=yp(),u=_h().set(r,t);return o[i](u,e)}function n4(e,t,i){if(hp(e)&&(t=e,e=void 0),e=e||"",t!=null)return lb(e,t,i,"month");var r,o=[];for(r=0;r<12;r++)o[r]=lb(e,r,i,"month");return o}function kC(e,t,i,r){typeof e=="boolean"?(hp(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,hp(t)&&(i=t,t=void 0),t=t||"");var o=yp(),u=e?o._week.dow:0,h,s=[];if(i!=null)return lb(t,(i+u)%7,r,"day");for(h=0;h<7;h++)s[h]=lb(t,(h+u)%7,r,"day");return s}function cN(e,t){return n4(e,t,"months")}function uN(e,t){return n4(e,t,"monthsShort")}function dN(e,t,i){return kC(e,t,i,"weekdays")}function hN(e,t,i){return kC(e,t,i,"weekdaysShort")}function pN(e,t,i){return kC(e,t,i,"weekdaysMin")}mf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=Jr(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}});wn.lang=od("moment.lang is deprecated. Use moment.locale instead.",mf);wn.langData=od("moment.langData is deprecated. Use moment.localeData instead.",yp);var Yh=Math.abs;function fN(){var e=this._data;return this._milliseconds=Yh(this._milliseconds),this._days=Yh(this._days),this._months=Yh(this._months),e.milliseconds=Yh(e.milliseconds),e.seconds=Yh(e.seconds),e.minutes=Yh(e.minutes),e.hours=Yh(e.hours),e.months=Yh(e.months),e.years=Yh(e.years),this}function r4(e,t,i,r){var o=Od(t,i);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function mN(e,t){return r4(this,e,t,1)}function gN(e,t){return r4(this,e,t,-1)}function SE(e){return e<0?Math.floor(e):Math.ceil(e)}function yN(){var e=this._milliseconds,t=this._days,i=this._months,r=this._data,o,u,h,s,v;return e>=0&&t>=0&&i>=0||e<=0&&t<=0&&i<=0||(e+=SE(LT(i)+t)*864e5,t=0,i=0),r.milliseconds=e%1e3,o=Ju(e/1e3),r.seconds=o%60,u=Ju(o/60),r.minutes=u%60,h=Ju(u/60),r.hours=h%24,t+=Ju(h/24),v=Ju(s4(t)),i+=v,t-=SE(LT(v)),s=Ju(i/12),i%=12,r.days=t,r.months=i,r.years=s,this}function s4(e){return e*4800/146097}function LT(e){return e*146097/4800}function _N(e){if(!this.isValid())return NaN;var t,i,r=this._milliseconds;if(e=ad(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,i=this._months+s4(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(LT(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function vN(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Jr(this._months/12)*31536e6:NaN}function _p(e){return function(){return this.as(e)}}var xN=_p("ms"),bN=_p("s"),wN=_p("m"),TN=_p("h"),SN=_p("d"),CN=_p("w"),EN=_p("M"),MN=_p("Q"),kN=_p("y");function AN(){return Od(this)}function PN(e){return e=ad(e),this.isValid()?this[e+"s"]():NaN}function am(e){return function(){return this.isValid()?this._data[e]:NaN}}var DN=am("milliseconds"),IN=am("seconds"),LN=am("minutes"),ON=am("hours"),RN=am("days"),BN=am("months"),NN=am("years");function zN(){return Ju(this.days()/7)}var Jh=Math.round,vg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function FN(e,t,i,r,o){return o.relativeTime(t||1,!!i,e,r)}function jN(e,t,i,r){var o=Od(e).abs(),u=Jh(o.as("s")),h=Jh(o.as("m")),s=Jh(o.as("h")),v=Jh(o.as("d")),I=Jh(o.as("M")),J=Jh(o.as("w")),M=Jh(o.as("y")),B=u<=i.ss&&["s",u]||u<i.s&&["ss",u]||h<=1&&["m"]||h<i.m&&["mm",h]||s<=1&&["h"]||s<i.h&&["hh",s]||v<=1&&["d"]||v<i.d&&["dd",v];return i.w!=null&&(B=B||J<=1&&["w"]||J<i.w&&["ww",J]),B=B||I<=1&&["M"]||I<i.M&&["MM",I]||M<=1&&["y"]||["yy",M],B[2]=t,B[3]=+e>0,B[4]=r,FN.apply(null,B)}function UN(e){return e===void 0?Jh:typeof e=="function"?(Jh=e,!0):!1}function $N(e,t){return vg[e]===void 0?!1:t===void 0?vg[e]:(vg[e]=t,e==="s"&&(vg.ss=t-1),!0)}function VN(e,t){if(!this.isValid())return this.localeData().invalidDate();var i=!1,r=vg,o,u;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(i=e),typeof t=="object"&&(r=Object.assign({},vg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),u=jN(this,!i,r,o),i&&(u=o.pastFuture(+this,u)),o.postformat(u)}var w3=Math.abs;function fg(e){return(e>0)-(e<0)||+e}function u2(){if(!this.isValid())return this.localeData().invalidDate();var e=w3(this._milliseconds)/1e3,t=w3(this._days),i=w3(this._months),r,o,u,h,s=this.asSeconds(),v,I,J,M;return s?(r=Ju(e/60),o=Ju(r/60),e%=60,r%=60,u=Ju(i/12),i%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",v=s<0?"-":"",I=fg(this._months)!==fg(s)?"-":"",J=fg(this._days)!==fg(s)?"-":"",M=fg(this._milliseconds)!==fg(s)?"-":"",v+"P"+(u?I+u+"Y":"")+(i?I+i+"M":"")+(t?J+t+"D":"")+(o||r||e?"T":"")+(o?M+o+"H":"")+(r?M+r+"M":"")+(e?M+h+"S":"")):"P0D"}var hs=l2.prototype;hs.isValid=RR;hs.abs=fN;hs.add=mN;hs.subtract=gN;hs.as=_N;hs.asMilliseconds=xN;hs.asSeconds=bN;hs.asMinutes=wN;hs.asHours=TN;hs.asDays=SN;hs.asWeeks=CN;hs.asMonths=EN;hs.asQuarters=MN;hs.asYears=kN;hs.valueOf=vN;hs._bubble=yN;hs.clone=AN;hs.get=PN;hs.milliseconds=DN;hs.seconds=IN;hs.minutes=LN;hs.hours=ON;hs.days=RN;hs.weeks=zN;hs.months=BN;hs.years=NN;hs.humanize=VN;hs.toISOString=u2;hs.toString=u2;hs.toJSON=u2;hs.locale=Y8;hs.localeData=X8;hs.toIsoString=od("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",u2);hs.lang=q8;tr("X",0,0,"unix");tr("x",0,0,"valueOf");Ln("x",r2);Ln("X",d7);no("X",function(e,t,i){i._d=new Date(parseFloat(e)*1e3)});no("x",function(e,t,i){i._d=new Date(Jr(e))});//! moment.js
wn.version="2.29.4";G9(Po);wn.fn=cn;wn.min=DR;wn.max=IR;wn.now=LR;wn.utc=_h;wn.unix=aN;wn.months=cN;wn.isDate=S_;wn.locale=mf;wn.invalid=Qb;wn.duration=Od;wn.isMoment=Dd;wn.weekdays=dN;wn.parseZone=lN;wn.localeData=yp;wn.isDuration=Dx;wn.monthsShort=uN;wn.weekdaysMin=pN;wn.defineLocale=xC;wn.updateLocale=lR;wn.locales=cR;wn.weekdaysShort=hN;wn.normalizeUnits=ad;wn.relativeTimeRounding=UN;wn.relativeTimeThreshold=$N;wn.calendarFormat=rB;wn.prototype=cn;wn.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o4={exports:{}};/*!
* sweetalert2 v11.4.0
* Released under the MIT License.
*/(function(e,t){(function(i,r){e.exports=r()})(ef,function(){const i="SweetAlert2:",r=we=>{const Ee=[];for(let Ve=0;Ve<we.length;Ve++)Ee.indexOf(we[Ve])===-1&&Ee.push(we[Ve]);return Ee},o=we=>we.charAt(0).toUpperCase()+we.slice(1),u=we=>Array.prototype.slice.call(we),h=we=>{console.warn("".concat(i," ").concat(typeof we=="object"?we.join(" "):we))},s=we=>{console.error("".concat(i," ").concat(we))},v=[],I=we=>{v.includes(we)||(v.push(we),h(we))},J=(we,Ee)=>{I('"'.concat(we,'" is deprecated and will be removed in the next major release. Please use "').concat(Ee,'" instead.'))},M=we=>typeof we=="function"?we():we,B=we=>we&&typeof we.toPromise=="function",W=we=>B(we)?we.toPromise():Promise.resolve(we),O=we=>we&&Promise.resolve(we)===we,L={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},G=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],k={},S=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],A=we=>Object.prototype.hasOwnProperty.call(L,we),H=we=>G.indexOf(we)!==-1,U=we=>k[we],E=we=>{A(we)||h('Unknown parameter "'.concat(we,'"'))},ie=we=>{S.includes(we)&&h('The parameter "'.concat(we,'" is incompatible with toasts'))},ee=we=>{U(we)&&J(we,U(we))},$=we=>{!we.backdrop&&we.allowOutsideClick&&h('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Ee in we)E(Ee),we.toast&&ie(Ee),ee(Ee)},V="swal2-",j=we=>{const Ee={};for(const Ve in we)Ee[we[Ve]]=V+we[Ve];return Ee},w=j(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),D=j(["success","warning","info","question","error"]),m=()=>document.body.querySelector(".".concat(w.container)),g=we=>{const Ee=m();return Ee?Ee.querySelector(we):null},x=we=>g(".".concat(we)),P=()=>x(w.popup),X=()=>x(w.icon),Y=()=>x(w.title),K=()=>x(w["html-container"]),le=()=>x(w.image),pe=()=>x(w["progress-steps"]),fe=()=>x(w["validation-message"]),z=()=>g(".".concat(w.actions," .").concat(w.confirm)),Q=()=>g(".".concat(w.actions," .").concat(w.deny)),se=()=>x(w["input-label"]),de=()=>g(".".concat(w.loader)),Ce=()=>g(".".concat(w.actions," .").concat(w.cancel)),ne=()=>x(w.actions),ve=()=>x(w.footer),_e=()=>x(w["timer-progress-bar"]),oe=()=>x(w.close),ge=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Te=()=>{const we=u(P().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Ve,bt)=>{const Mi=parseInt(Ve.getAttribute("tabindex")),Tn=parseInt(bt.getAttribute("tabindex"));return Mi>Tn?1:Mi<Tn?-1:0}),Ee=u(P().querySelectorAll(ge)).filter(Ve=>Ve.getAttribute("tabindex")!=="-1");return r(we.concat(Ee)).filter(Ve=>Lt(Ve))},Re=()=>!We(document.body,w["toast-shown"])&&!We(document.body,w["no-backdrop"]),Le=()=>P()&&We(P(),w.toast),$e=()=>P().hasAttribute("data-loading"),nt={previousBodyPadding:null},Qe=(we,Ee)=>{if(we.textContent="",Ee){const bt=new DOMParser().parseFromString(Ee,"text/html");u(bt.querySelector("head").childNodes).forEach(Mi=>{we.appendChild(Mi)}),u(bt.querySelector("body").childNodes).forEach(Mi=>{we.appendChild(Mi)})}},We=(we,Ee)=>{if(!Ee)return!1;const Ve=Ee.split(/\s+/);for(let bt=0;bt<Ve.length;bt++)if(!we.classList.contains(Ve[bt]))return!1;return!0},xe=(we,Ee)=>{u(we.classList).forEach(Ve=>{!Object.values(w).includes(Ve)&&!Object.values(D).includes(Ve)&&!Object.values(Ee.showClass).includes(Ve)&&we.classList.remove(Ve)})},Ie=(we,Ee,Ve)=>{if(xe(we,Ee),Ee.customClass&&Ee.customClass[Ve]){if(typeof Ee.customClass[Ve]!="string"&&!Ee.customClass[Ve].forEach)return h("Invalid type of customClass.".concat(Ve,'! Expected string or iterable object, got "').concat(typeof Ee.customClass[Ve],'"'));ft(we,Ee.customClass[Ve])}},Be=(we,Ee)=>{if(!Ee)return null;switch(Ee){case"select":case"textarea":case"file":return we.querySelector(".".concat(w.popup," > .").concat(w[Ee]));case"checkbox":return we.querySelector(".".concat(w.popup," > .").concat(w.checkbox," input"));case"radio":return we.querySelector(".".concat(w.popup," > .").concat(w.radio," input:checked"))||we.querySelector(".".concat(w.popup," > .").concat(w.radio," input:first-child"));case"range":return we.querySelector(".".concat(w.popup," > .").concat(w.range," input"));default:return we.querySelector(".".concat(w.popup," > .").concat(w.input))}},Xe=we=>{if(we.focus(),we.type!=="file"){const Ee=we.value;we.value="",we.value=Ee}},Ze=(we,Ee,Ve)=>{!we||!Ee||(typeof Ee=="string"&&(Ee=Ee.split(/\s+/).filter(Boolean)),Ee.forEach(bt=>{Array.isArray(we)?we.forEach(Mi=>{Ve?Mi.classList.add(bt):Mi.classList.remove(bt)}):Ve?we.classList.add(bt):we.classList.remove(bt)}))},ft=(we,Ee)=>{Ze(we,Ee,!0)},Ct=(we,Ee)=>{Ze(we,Ee,!1)},Nt=(we,Ee)=>{const Ve=u(we.childNodes);for(let bt=0;bt<Ve.length;bt++)if(We(Ve[bt],Ee))return Ve[bt]},pi=(we,Ee,Ve)=>{Ve==="".concat(parseInt(Ve))&&(Ve=parseInt(Ve)),Ve||parseInt(Ve)===0?we.style[Ee]=typeof Ve=="number"?"".concat(Ve,"px"):Ve:we.style.removeProperty(Ee)},qt=function(we){let Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";we.style.display=Ee},fi=we=>{we.style.display="none"},Gi=(we,Ee,Ve,bt)=>{const Mi=we.querySelector(Ee);Mi&&(Mi.style[Ve]=bt)},dt=(we,Ee,Ve)=>{Ee?qt(we,Ve):fi(we)},Lt=we=>!!(we&&(we.offsetWidth||we.offsetHeight||we.getClientRects().length)),ei=()=>!Lt(z())&&!Lt(Q())&&!Lt(Ce()),ki=we=>we.scrollHeight>we.clientHeight,on=we=>{const Ee=window.getComputedStyle(we),Ve=parseFloat(Ee.getPropertyValue("animation-duration")||"0"),bt=parseFloat(Ee.getPropertyValue("transition-duration")||"0");return Ve>0||bt>0},Rn=function(we){let Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const Ve=_e();Lt(Ve)&&(Ee&&(Ve.style.transition="none",Ve.style.width="100%"),setTimeout(()=>{Ve.style.transition="width ".concat(we/1e3,"s linear"),Ve.style.width="0%"},10))},Gr=()=>{const we=_e(),Ee=parseInt(window.getComputedStyle(we).width);we.style.removeProperty("transition"),we.style.width="100%";const Ve=parseInt(window.getComputedStyle(we).width),bt=Ee/Ve*100;we.style.removeProperty("transition"),we.style.width="".concat(bt,"%")},di=()=>typeof window>"u"||typeof document>"u",Hi=100,Yi={},fr=()=>{Yi.previousActiveElement&&Yi.previousActiveElement.focus?(Yi.previousActiveElement.focus(),Yi.previousActiveElement=null):document.body&&document.body.focus()},As=we=>new Promise(Ee=>{if(!we)return Ee();const Ve=window.scrollX,bt=window.scrollY;Yi.restoreFocusTimeout=setTimeout(()=>{fr(),Ee()},Hi),window.scrollTo(Ve,bt)}),xn=`
 <div aria-labelledby="`.concat(w.title,'" aria-describedby="').concat(w["html-container"],'" class="').concat(w.popup,`" tabindex="-1">
   <button type="button" class="`).concat(w.close,`"></button>
   <ul class="`).concat(w["progress-steps"],`"></ul>
   <div class="`).concat(w.icon,`"></div>
   <img class="`).concat(w.image,`" />
   <h2 class="`).concat(w.title,'" id="').concat(w.title,`"></h2>
   <div class="`).concat(w["html-container"],'" id="').concat(w["html-container"],`"></div>
   <input class="`).concat(w.input,`" />
   <input type="file" class="`).concat(w.file,`" />
   <div class="`).concat(w.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(w.select,`"></select>
   <div class="`).concat(w.radio,`"></div>
   <label for="`).concat(w.checkbox,'" class="').concat(w.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(w.label,`"></span>
   </label>
   <textarea class="`).concat(w.textarea,`"></textarea>
   <div class="`).concat(w["validation-message"],'" id="').concat(w["validation-message"],`"></div>
   <div class="`).concat(w.actions,`">
     <div class="`).concat(w.loader,`"></div>
     <button type="button" class="`).concat(w.confirm,`"></button>
     <button type="button" class="`).concat(w.deny,`"></button>
     <button type="button" class="`).concat(w.cancel,`"></button>
   </div>
   <div class="`).concat(w.footer,`"></div>
   <div class="`).concat(w["timer-progress-bar-container"],`">
     <div class="`).concat(w["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Us=()=>{const we=m();return we?(we.remove(),Ct([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]]),!0):!1},Pn=()=>{Yi.currentInstance.resetValidationMessage()},Wo=()=>{const we=P(),Ee=Nt(we,w.input),Ve=Nt(we,w.file),bt=we.querySelector(".".concat(w.range," input")),Mi=we.querySelector(".".concat(w.range," output")),Tn=Nt(we,w.select),Tr=we.querySelector(".".concat(w.checkbox," input")),co=Nt(we,w.textarea);Ee.oninput=Pn,Ve.onchange=Pn,Tn.onchange=Pn,Tr.onchange=Pn,co.oninput=Pn,bt.oninput=()=>{Pn(),Mi.value=bt.value},bt.onchange=()=>{Pn(),bt.nextSibling.value=bt.value}},ya=we=>typeof we=="string"?document.querySelector(we):we,mt=we=>{const Ee=P();Ee.setAttribute("role",we.toast?"alert":"dialog"),Ee.setAttribute("aria-live",we.toast?"polite":"assertive"),we.toast||Ee.setAttribute("aria-modal","true")},ze=we=>{window.getComputedStyle(we).direction==="rtl"&&ft(m(),w.rtl)},Ye=we=>{const Ee=Us();if(di()){s("SweetAlert2 requires document to initialize");return}const Ve=document.createElement("div");Ve.className=w.container,Ee&&ft(Ve,w["no-transition"]),Qe(Ve,xn);const bt=ya(we.target);bt.appendChild(Ve),mt(we),ze(bt),Wo()},ut=(we,Ee)=>{we instanceof HTMLElement?Ee.appendChild(we):typeof we=="object"?xt(we,Ee):we&&Qe(Ee,we)},xt=(we,Ee)=>{we.jquery?vt(Ee,we):Qe(Ee,we.toString())},vt=(we,Ee)=>{if(we.textContent="",0 in Ee)for(let Ve=0;Ve in Ee;Ve++)we.appendChild(Ee[Ve].cloneNode(!0));else we.appendChild(Ee.cloneNode(!0))},Ut=(()=>{if(di())return!1;const we=document.createElement("div"),Ee={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const Ve in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Ve)&&typeof we.style[Ve]<"u")return Ee[Ve];return!1})(),kt=()=>{const we=document.createElement("div");we.className=w["scrollbar-measure"],document.body.appendChild(we);const Ee=we.getBoundingClientRect().width-we.clientWidth;return document.body.removeChild(we),Ee},Rt=(we,Ee)=>{const Ve=ne(),bt=de();!Ee.showConfirmButton&&!Ee.showDenyButton&&!Ee.showCancelButton?fi(Ve):qt(Ve),Ie(Ve,Ee,"actions"),Gt(Ve,bt,Ee),Qe(bt,Ee.loaderHtml),Ie(bt,Ee,"loader")};function Gt(we,Ee,Ve){const bt=z(),Mi=Q(),Tn=Ce();Xi(bt,"confirm",Ve),Xi(Mi,"deny",Ve),Xi(Tn,"cancel",Ve),bi(bt,Mi,Tn,Ve),Ve.reverseButtons&&(Ve.toast?(we.insertBefore(Tn,bt),we.insertBefore(Mi,bt)):(we.insertBefore(Tn,Ee),we.insertBefore(Mi,Ee),we.insertBefore(bt,Ee)))}function bi(we,Ee,Ve,bt){if(!bt.buttonsStyling)return Ct([we,Ee,Ve],w.styled);ft([we,Ee,Ve],w.styled),bt.confirmButtonColor&&(we.style.backgroundColor=bt.confirmButtonColor,ft(we,w["default-outline"])),bt.denyButtonColor&&(Ee.style.backgroundColor=bt.denyButtonColor,ft(Ee,w["default-outline"])),bt.cancelButtonColor&&(Ve.style.backgroundColor=bt.cancelButtonColor,ft(Ve,w["default-outline"]))}function Xi(we,Ee,Ve){dt(we,Ve["show".concat(o(Ee),"Button")],"inline-block"),Qe(we,Ve["".concat(Ee,"ButtonText")]),we.setAttribute("aria-label",Ve["".concat(Ee,"ButtonAriaLabel")]),we.className=w[Ee],Ie(we,Ve,"".concat(Ee,"Button")),ft(we,Ve["".concat(Ee,"ButtonClass")])}function Ii(we,Ee){typeof Ee=="string"?we.style.background=Ee:Ee||ft([document.documentElement,document.body],w["no-backdrop"])}function Mn(we,Ee){Ee in w?ft(we,w[Ee]):(h('The "position" parameter is not valid, defaulting to "center"'),ft(we,w.center))}function Cn(we,Ee){if(Ee&&typeof Ee=="string"){const Ve="grow-".concat(Ee);Ve in w&&ft(we,w[Ve])}}const pn=(we,Ee)=>{const Ve=m();Ve&&(Ii(Ve,Ee.backdrop),Mn(Ve,Ee.position),Cn(Ve,Ee.grow),Ie(Ve,Ee,"container"))};var qi={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const cr=["input","file","range","select","radio","checkbox","textarea"],Dr=(we,Ee)=>{const Ve=P(),bt=qi.innerParams.get(we),Mi=!bt||Ee.input!==bt.input;cr.forEach(Tn=>{const Tr=w[Tn],co=Nt(Ve,Tr);Rr(Tn,Ee.inputAttributes),co.className=Tr,Mi&&fi(co)}),Ee.input&&(Mi&&vn(Ee),Ha(Ee))},vn=we=>{if(!ps[we.input])return s('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(we.input,'"'));const Ee=yi(we.input),Ve=ps[we.input](Ee,we);qt(Ve),setTimeout(()=>{Xe(Ve)})},Xr=we=>{for(let Ee=0;Ee<we.attributes.length;Ee++){const Ve=we.attributes[Ee].name;["type","value","style"].includes(Ve)||we.removeAttribute(Ve)}},Rr=(we,Ee)=>{const Ve=Be(P(),we);if(Ve){Xr(Ve);for(const bt in Ee)Ve.setAttribute(bt,Ee[bt])}},Ha=we=>{const Ee=yi(we.input);we.customClass&&ft(Ee,we.customClass.input)},Wa=(we,Ee)=>{(!we.placeholder||Ee.inputPlaceholder)&&(we.placeholder=Ee.inputPlaceholder)},vo=(we,Ee,Ve)=>{if(Ve.inputLabel){we.id=w.input;const bt=document.createElement("label"),Mi=w["input-label"];bt.setAttribute("for",we.id),bt.className=Mi,ft(bt,Ve.customClass.inputLabel),bt.innerText=Ve.inputLabel,Ee.insertAdjacentElement("beforebegin",bt)}},yi=we=>{const Ee=w[we]?w[we]:w.input;return Nt(P(),Ee)},ps={};ps.text=ps.email=ps.password=ps.number=ps.tel=ps.url=(we,Ee)=>(typeof Ee.inputValue=="string"||typeof Ee.inputValue=="number"?we.value=Ee.inputValue:O(Ee.inputValue)||h('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof Ee.inputValue,'"')),vo(we,we,Ee),Wa(we,Ee),we.type=Ee.input,we),ps.file=(we,Ee)=>(vo(we,we,Ee),Wa(we,Ee),we),ps.range=(we,Ee)=>{const Ve=we.querySelector("input"),bt=we.querySelector("output");return Ve.value=Ee.inputValue,Ve.type=Ee.input,bt.value=Ee.inputValue,vo(Ve,we,Ee),we},ps.select=(we,Ee)=>{if(we.textContent="",Ee.inputPlaceholder){const Ve=document.createElement("option");Qe(Ve,Ee.inputPlaceholder),Ve.value="",Ve.disabled=!0,Ve.selected=!0,we.appendChild(Ve)}return vo(we,we,Ee),we},ps.radio=we=>(we.textContent="",we),ps.checkbox=(we,Ee)=>{const Ve=Be(P(),"checkbox");Ve.value="1",Ve.id=w.checkbox,Ve.checked=!!Ee.inputValue;const bt=we.querySelector("span");return Qe(bt,Ee.inputPlaceholder),we},ps.textarea=(we,Ee)=>{we.value=Ee.inputValue,Wa(we,Ee),vo(we,we,Ee);const Ve=bt=>parseInt(window.getComputedStyle(bt).marginLeft)+parseInt(window.getComputedStyle(bt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const bt=parseInt(window.getComputedStyle(P()).width),Mi=()=>{const Tn=we.offsetWidth+Ve(we);Tn>bt?P().style.width="".concat(Tn,"px"):P().style.width=null};new MutationObserver(Mi).observe(we,{attributes:!0,attributeFilter:["style"]})}}),we};const Rs=(we,Ee)=>{const Ve=K();Ie(Ve,Ee,"htmlContainer"),Ee.html?(ut(Ee.html,Ve),qt(Ve,"block")):Ee.text?(Ve.textContent=Ee.text,qt(Ve,"block")):fi(Ve),Dr(we,Ee)},Bs=(we,Ee)=>{const Ve=ve();dt(Ve,Ee.footer),Ee.footer&&ut(Ee.footer,Ve),Ie(Ve,Ee,"footer")},wc=(we,Ee)=>{const Ve=oe();Qe(Ve,Ee.closeButtonHtml),Ie(Ve,Ee,"closeButton"),dt(Ve,Ee.showCloseButton),Ve.setAttribute("aria-label",Ee.closeButtonAriaLabel)},Io=(we,Ee)=>{const Ve=qi.innerParams.get(we),bt=X();if(Ve&&Ee.icon===Ve.icon){ir(bt,Ee),Jc(bt,Ee);return}if(!Ee.icon&&!Ee.iconHtml)return fi(bt);if(Ee.icon&&Object.keys(D).indexOf(Ee.icon)===-1)return s('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(Ee.icon,'"')),fi(bt);qt(bt),ir(bt,Ee),Jc(bt,Ee),ft(bt,Ee.showClass.icon)},Jc=(we,Ee)=>{for(const Ve in D)Ee.icon!==Ve&&Ct(we,D[Ve]);ft(we,D[Ee.icon]),ur(we,Ee),ld(),Ie(we,Ee,"icon")},ld=()=>{const we=P(),Ee=window.getComputedStyle(we).getPropertyValue("background-color"),Ve=we.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let bt=0;bt<Ve.length;bt++)Ve[bt].style.backgroundColor=Ee},fo=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,en=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ir=(we,Ee)=>{we.textContent="",Ee.iconHtml?Qe(we,ra(Ee.iconHtml)):Ee.icon==="success"?Qe(we,fo):Ee.icon==="error"?Qe(we,en):Qe(we,ra({question:"?",warning:"!",info:"i"}[Ee.icon]))},ur=(we,Ee)=>{if(Ee.iconColor){we.style.color=Ee.iconColor,we.style.borderColor=Ee.iconColor;for(const Ve of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Gi(we,Ve,"backgroundColor",Ee.iconColor);Gi(we,".swal2-success-ring","borderColor",Ee.iconColor)}},ra=we=>'<div class="'.concat(w["icon-content"],'">').concat(we,"</div>"),Ya=(we,Ee)=>{const Ve=le();if(!Ee.imageUrl)return fi(Ve);qt(Ve,""),Ve.setAttribute("src",Ee.imageUrl),Ve.setAttribute("alt",Ee.imageAlt),pi(Ve,"width",Ee.imageWidth),pi(Ve,"height",Ee.imageHeight),Ve.className=w.image,Ie(Ve,Ee,"image")},jn=we=>{const Ee=document.createElement("li");return ft(Ee,w["progress-step"]),Qe(Ee,we),Ee},Tc=we=>{const Ee=document.createElement("li");return ft(Ee,w["progress-step-line"]),we.progressStepsDistance&&(Ee.style.width=we.progressStepsDistance),Ee},Aa=(we,Ee)=>{const Ve=pe();if(!Ee.progressSteps||Ee.progressSteps.length===0)return fi(Ve);qt(Ve),Ve.textContent="",Ee.currentProgressStep>=Ee.progressSteps.length&&h("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Ee.progressSteps.forEach((bt,Mi)=>{const Tn=jn(bt);if(Ve.appendChild(Tn),Mi===Ee.currentProgressStep&&ft(Tn,w["active-progress-step"]),Mi!==Ee.progressSteps.length-1){const Tr=Tc(Ee);Ve.appendChild(Tr)}})},ol=(we,Ee)=>{const Ve=Y();dt(Ve,Ee.title||Ee.titleText,"block"),Ee.title&&ut(Ee.title,Ve),Ee.titleText&&(Ve.innerText=Ee.titleText),Ie(Ve,Ee,"title")},ro=(we,Ee)=>{const Ve=m(),bt=P();Ee.toast?(pi(Ve,"width",Ee.width),bt.style.width="100%",bt.insertBefore(de(),X())):pi(bt,"width",Ee.width),pi(bt,"padding",Ee.padding),Ee.color&&(bt.style.color=Ee.color),Ee.background&&(bt.style.background=Ee.background),fi(fe()),Hr(bt,Ee)},Hr=(we,Ee)=>{we.className="".concat(w.popup," ").concat(Lt(we)?Ee.showClass.popup:""),Ee.toast?(ft([document.documentElement,document.body],w["toast-shown"]),ft(we,w.toast)):ft(we,w.modal),Ie(we,Ee,"popup"),typeof Ee.customClass=="string"&&ft(we,Ee.customClass),Ee.icon&&ft(we,w["icon-".concat(Ee.icon)])},mo=(we,Ee)=>{ro(we,Ee),pn(we,Ee),Aa(we,Ee),Io(we,Ee),Ya(we,Ee),ol(we,Ee),wc(we,Ee),Rs(we,Ee),Rt(we,Ee),Bs(we,Ee),typeof Ee.didRender=="function"&&Ee.didRender(P())},Yo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Yl=()=>{u(document.body.children).forEach(Ee=>{Ee===m()||Ee.contains(m())||(Ee.hasAttribute("aria-hidden")&&Ee.setAttribute("data-previous-aria-hidden",Ee.getAttribute("aria-hidden")),Ee.setAttribute("aria-hidden","true"))})},_a=()=>{u(document.body.children).forEach(Ee=>{Ee.hasAttribute("data-previous-aria-hidden")?(Ee.setAttribute("aria-hidden",Ee.getAttribute("data-previous-aria-hidden")),Ee.removeAttribute("data-previous-aria-hidden")):Ee.removeAttribute("aria-hidden")})},bl=["swal-title","swal-html","swal-footer"],wl=we=>{const Ee=typeof we.template=="string"?document.querySelector(we.template):we.template;if(!Ee)return{};const Ve=Ee.content;return ql(Ve),Object.assign(al(Ve),Tl(Ve),Qc(Ve),eu(Ve),Fo(Ve),Ps(Ve,bl))},al=we=>{const Ee={};return u(we.querySelectorAll("swal-param")).forEach(Ve=>{ll(Ve,["name","value"]);const bt=Ve.getAttribute("name"),Mi=Ve.getAttribute("value");typeof L[bt]=="boolean"&&Mi==="false"&&(Ee[bt]=!1),typeof L[bt]=="object"&&(Ee[bt]=JSON.parse(Mi))}),Ee},Tl=we=>{const Ee={};return u(we.querySelectorAll("swal-button")).forEach(Ve=>{ll(Ve,["type","color","aria-label"]);const bt=Ve.getAttribute("type");Ee["".concat(bt,"ButtonText")]=Ve.innerHTML,Ee["show".concat(o(bt),"Button")]=!0,Ve.hasAttribute("color")&&(Ee["".concat(bt,"ButtonColor")]=Ve.getAttribute("color")),Ve.hasAttribute("aria-label")&&(Ee["".concat(bt,"ButtonAriaLabel")]=Ve.getAttribute("aria-label"))}),Ee},Qc=we=>{const Ee={},Ve=we.querySelector("swal-image");return Ve&&(ll(Ve,["src","width","height","alt"]),Ve.hasAttribute("src")&&(Ee.imageUrl=Ve.getAttribute("src")),Ve.hasAttribute("width")&&(Ee.imageWidth=Ve.getAttribute("width")),Ve.hasAttribute("height")&&(Ee.imageHeight=Ve.getAttribute("height")),Ve.hasAttribute("alt")&&(Ee.imageAlt=Ve.getAttribute("alt"))),Ee},eu=we=>{const Ee={},Ve=we.querySelector("swal-icon");return Ve&&(ll(Ve,["type","color"]),Ve.hasAttribute("type")&&(Ee.icon=Ve.getAttribute("type")),Ve.hasAttribute("color")&&(Ee.iconColor=Ve.getAttribute("color")),Ee.iconHtml=Ve.innerHTML),Ee},Fo=we=>{const Ee={},Ve=we.querySelector("swal-input");Ve&&(ll(Ve,["type","label","placeholder","value"]),Ee.input=Ve.getAttribute("type")||"text",Ve.hasAttribute("label")&&(Ee.inputLabel=Ve.getAttribute("label")),Ve.hasAttribute("placeholder")&&(Ee.inputPlaceholder=Ve.getAttribute("placeholder")),Ve.hasAttribute("value")&&(Ee.inputValue=Ve.getAttribute("value")));const bt=we.querySelectorAll("swal-input-option");return bt.length&&(Ee.inputOptions={},u(bt).forEach(Mi=>{ll(Mi,["value"]);const Tn=Mi.getAttribute("value"),Tr=Mi.innerHTML;Ee.inputOptions[Tn]=Tr})),Ee},Ps=(we,Ee)=>{const Ve={};for(const bt in Ee){const Mi=Ee[bt],Tn=we.querySelector(Mi);Tn&&(ll(Tn,[]),Ve[Mi.replace(/^swal-/,"")]=Tn.innerHTML.trim())}return Ve},ql=we=>{const Ee=bl.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);u(we.children).forEach(Ve=>{const bt=Ve.tagName.toLowerCase();Ee.indexOf(bt)===-1&&h("Unrecognized element <".concat(bt,">"))})},ll=(we,Ee)=>{u(we.attributes).forEach(Ve=>{Ee.indexOf(Ve.name)===-1&&h(['Unrecognized attribute "'.concat(Ve.name,'" on <').concat(we.tagName.toLowerCase(),">."),"".concat(Ee.length?"Allowed attributes are: ".concat(Ee.join(", ")):"To set the value, use HTML within the element.")])})};var so={email:(we,Ee)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(we)?Promise.resolve():Promise.resolve(Ee||"Invalid email address"),url:(we,Ee)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(we)?Promise.resolve():Promise.resolve(Ee||"Invalid URL")};function va(we){we.inputValidator||Object.keys(so).forEach(Ee=>{we.input===Ee&&(we.inputValidator=so[Ee])})}function Rd(we){(!we.target||typeof we.target=="string"&&!document.querySelector(we.target)||typeof we.target!="string"&&!we.target.appendChild)&&(h('Target parameter is not valid, defaulting to "body"'),we.target="body")}function Mu(we){va(we),we.showLoaderOnConfirm&&!we.preConfirm&&h(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Rd(we),typeof we.title=="string"&&(we.title=we.title.split(`
`).join("<br />")),Ye(we)}class Js{constructor(Ee,Ve){this.callback=Ee,this.remaining=Ve,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Ee){const Ve=this.running;return Ve&&this.stop(),this.remaining+=Ee,Ve&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Xl=()=>{nt.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(nt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(nt.previousBodyPadding+kt(),"px"))},ku=()=>{nt.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(nt.previousBodyPadding,"px"),nt.previousBodyPadding=null)},Zl=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!We(document.body,w.iosfix)){const Ee=document.body.scrollTop;document.body.style.top="".concat(Ee*-1,"px"),ft(document.body,w.iosfix),Sl(),oo()}},oo=()=>{const we=navigator.userAgent,Ee=!!we.match(/iPad/i)||!!we.match(/iPhone/i),Ve=!!we.match(/WebKit/i);Ee&&Ve&&!we.match(/CriOS/i)&&P().scrollHeight>window.innerHeight-44&&(m().style.paddingBottom="".concat(44,"px"))},Sl=()=>{const we=m();let Ee;we.ontouchstart=Ve=>{Ee=Au(Ve)},we.ontouchmove=Ve=>{Ee&&(Ve.preventDefault(),Ve.stopPropagation())}},Au=we=>{const Ee=we.target,Ve=m();return Lr(we)||Fr(we)?!1:Ee===Ve||!ki(Ve)&&Ee.tagName!=="INPUT"&&Ee.tagName!=="TEXTAREA"&&!(ki(K())&&K().contains(Ee))},Lr=we=>we.touches&&we.touches.length&&we.touches[0].touchType==="stylus",Fr=we=>we.touches&&we.touches.length>1,Pu=()=>{if(We(document.body,w.iosfix)){const we=parseInt(document.body.style.top,10);Ct(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=we*-1}},Bd=10,cd=we=>{const Ee=m(),Ve=P();typeof we.willOpen=="function"&&we.willOpen(Ve);const Mi=window.getComputedStyle(document.body).overflowY;Kl(Ee,Ve,we),setTimeout(()=>{tu(Ee,Ve)},Bd),Re()&&(Du(Ee,we.scrollbarPadding,Mi),Yl()),!Le()&&!Yi.previousActiveElement&&(Yi.previousActiveElement=document.activeElement),typeof we.didOpen=="function"&&setTimeout(()=>we.didOpen(Ve)),Ct(Ee,w["no-transition"])},xa=we=>{const Ee=P();if(we.target!==Ee)return;const Ve=m();Ee.removeEventListener(Ut,xa),Ve.style.overflowY="auto"},tu=(we,Ee)=>{Ut&&on(Ee)?(we.style.overflowY="hidden",Ee.addEventListener(Ut,xa)):we.style.overflowY="auto"},Du=(we,Ee,Ve)=>{Zl(),Ee&&Ve!=="hidden"&&Xl(),setTimeout(()=>{we.scrollTop=0})},Kl=(we,Ee,Ve)=>{ft(we,Ve.showClass.backdrop),Ee.style.setProperty("opacity","0","important"),qt(Ee,"grid"),setTimeout(()=>{ft(Ee,Ve.showClass.popup),Ee.style.removeProperty("opacity")},Bd),ft([document.documentElement,document.body],w.shown),Ve.heightAuto&&Ve.backdrop&&!Ve.toast&&ft([document.documentElement,document.body],w["height-auto"])},sa=we=>{let Ee=P();Ee||new On,Ee=P();const Ve=de();Le()?fi(X()):Qs(Ee,we),qt(Ve),Ee.setAttribute("data-loading",!0),Ee.setAttribute("aria-busy",!0),Ee.focus()},Qs=(we,Ee)=>{const Ve=ne(),bt=de();!Ee&&Lt(z())&&(Ee=z()),qt(Ve),Ee&&(fi(Ee),bt.setAttribute("data-button-to-replace",Ee.className)),bt.parentNode.insertBefore(bt,Ee),ft([we,Ve],w.loading)},Z=(we,Ee)=>{Ee.input==="select"||Ee.input==="radio"?Ge(we,Ee):["text","email","number","tel","textarea"].includes(Ee.input)&&(B(Ee.inputValue)||O(Ee.inputValue))&&(sa(z()),Je(we,Ee))},ue=(we,Ee)=>{const Ve=we.getInput();if(!Ve)return null;switch(Ee.input){case"checkbox":return be(Ve);case"radio":return ke(Ve);case"file":return Ue(Ve);default:return Ee.inputAutoTrim?Ve.value.trim():Ve.value}},be=we=>we.checked?1:0,ke=we=>we.checked?we.value:null,Ue=we=>we.files.length?we.getAttribute("multiple")!==null?we.files:we.files[0]:null,Ge=(we,Ee)=>{const Ve=P(),bt=Mi=>zt[Ee.input](Ve,Mt(Mi),Ee);B(Ee.inputOptions)||O(Ee.inputOptions)?(sa(z()),W(Ee.inputOptions).then(Mi=>{we.hideLoading(),bt(Mi)})):typeof Ee.inputOptions=="object"?bt(Ee.inputOptions):s("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof Ee.inputOptions))},Je=(we,Ee)=>{const Ve=we.getInput();fi(Ve),W(Ee.inputValue).then(bt=>{Ve.value=Ee.input==="number"?parseFloat(bt)||0:"".concat(bt),qt(Ve),Ve.focus(),we.hideLoading()}).catch(bt=>{s("Error in inputValue promise: ".concat(bt)),Ve.value="",qt(Ve),Ve.focus(),we.hideLoading()})},zt={select:(we,Ee,Ve)=>{const bt=Nt(we,w.select),Mi=(Tn,Tr,co)=>{const Vs=document.createElement("option");Vs.value=co,Qe(Vs,Tr),Vs.selected=Jt(co,Ve.inputValue),Tn.appendChild(Vs)};Ee.forEach(Tn=>{const Tr=Tn[0],co=Tn[1];if(Array.isArray(co)){const Vs=document.createElement("optgroup");Vs.label=Tr,Vs.disabled=!1,bt.appendChild(Vs),co.forEach(Ml=>Mi(Vs,Ml[1],Ml[0]))}else Mi(bt,co,Tr)}),bt.focus()},radio:(we,Ee,Ve)=>{const bt=Nt(we,w.radio);Ee.forEach(Tn=>{const Tr=Tn[0],co=Tn[1],Vs=document.createElement("input"),Ml=document.createElement("label");Vs.type="radio",Vs.name=w.radio,Vs.value=Tr,Jt(Tr,Ve.inputValue)&&(Vs.checked=!0);const ln=document.createElement("span");Qe(ln,co),ln.className=w.label,Ml.appendChild(Vs),Ml.appendChild(ln),bt.appendChild(Ml)});const Mi=bt.querySelectorAll("input");Mi.length&&Mi[0].focus()}},Mt=we=>{const Ee=[];return typeof Map<"u"&&we instanceof Map?we.forEach((Ve,bt)=>{let Mi=Ve;typeof Mi=="object"&&(Mi=Mt(Mi)),Ee.push([bt,Mi])}):Object.keys(we).forEach(Ve=>{let bt=we[Ve];typeof bt=="object"&&(bt=Mt(bt)),Ee.push([Ve,bt])}),Ee},Jt=(we,Ee)=>Ee&&Ee.toString()===we.toString(),_i=we=>{const Ee=qi.innerParams.get(we);we.disableButtons(),Ee.input?mi(we,"confirm"):Qr(we,!0)},Pi=we=>{const Ee=qi.innerParams.get(we);we.disableButtons(),Ee.returnInputValueOnDeny?mi(we,"deny"):Xn(we,!1)},ai=(we,Ee)=>{we.disableButtons(),Ee(Yo.cancel)},mi=(we,Ee)=>{const Ve=qi.innerParams.get(we);if(!Ve.input)return s('The "input" parameter is needed to be set when using returnInputValueOn'.concat(o(Ee)));const bt=ue(we,Ve);Ve.inputValidator?Ji(we,bt,Ee):we.getInput().checkValidity()?Ee==="deny"?Xn(we,bt):Qr(we,bt):(we.enableButtons(),we.showValidationMessage(Ve.validationMessage))},Ji=(we,Ee,Ve)=>{const bt=qi.innerParams.get(we);we.disableInput(),Promise.resolve().then(()=>W(bt.inputValidator(Ee,bt.validationMessage))).then(Tn=>{we.enableButtons(),we.enableInput(),Tn?we.showValidationMessage(Tn):Ve==="deny"?Xn(we,Ee):Qr(we,Ee)})},Xn=(we,Ee)=>{const Ve=qi.innerParams.get(we||void 0);Ve.showLoaderOnDeny&&sa(Q()),Ve.preDeny?(qi.awaitingPromise.set(we||void 0,!0),Promise.resolve().then(()=>W(Ve.preDeny(Ee,Ve.validationMessage))).then(Mi=>{Mi===!1?we.hideLoading():we.closePopup({isDenied:!0,value:typeof Mi>"u"?Ee:Mi})}).catch(Mi=>fs(we||void 0,Mi))):we.closePopup({isDenied:!0,value:Ee})},fn=(we,Ee)=>{we.closePopup({isConfirmed:!0,value:Ee})},fs=(we,Ee)=>{we.rejectPromise(Ee)},Qr=(we,Ee)=>{const Ve=qi.innerParams.get(we||void 0);Ve.showLoaderOnConfirm&&sa(),Ve.preConfirm?(we.resetValidationMessage(),qi.awaitingPromise.set(we||void 0,!0),Promise.resolve().then(()=>W(Ve.preConfirm(Ee,Ve.validationMessage))).then(Mi=>{Lt(fe())||Mi===!1?we.hideLoading():fn(we,typeof Mi>"u"?Ee:Mi)}).catch(Mi=>fs(we||void 0,Mi))):fn(we,Ee)},gr=(we,Ee,Ve)=>{qi.innerParams.get(we).toast?yr(we,Ee,Ve):(vr(Ee),es(Ee),qa(we,Ee,Ve))},yr=(we,Ee,Ve)=>{Ee.popup.onclick=()=>{const bt=qi.innerParams.get(we);bt&&(Yn(bt)||bt.timer||bt.input)||Ve(Yo.close)}},Yn=we=>we.showConfirmButton||we.showDenyButton||we.showCancelButton||we.showCloseButton;let ao=!1;const vr=we=>{we.popup.onmousedown=()=>{we.container.onmouseup=function(Ee){we.container.onmouseup=void 0,Ee.target===we.container&&(ao=!0)}}},es=we=>{we.container.onmousedown=()=>{we.popup.onmouseup=function(Ee){we.popup.onmouseup=void 0,(Ee.target===we.popup||we.popup.contains(Ee.target))&&(ao=!0)}}},qa=(we,Ee,Ve)=>{Ee.container.onclick=bt=>{const Mi=qi.innerParams.get(we);if(ao){ao=!1;return}bt.target===Ee.container&&M(Mi.allowOutsideClick)&&Ve(Yo.backdrop)}},Jl=()=>Lt(P()),lo=()=>z()&&z().click(),oa=()=>Q()&&Q().click(),Kn=()=>Ce()&&Ce().click(),xo=(we,Ee,Ve,bt)=>{Ee.keydownTarget&&Ee.keydownHandlerAdded&&(Ee.keydownTarget.removeEventListener("keydown",Ee.keydownHandler,{capture:Ee.keydownListenerCapture}),Ee.keydownHandlerAdded=!1),Ve.toast||(Ee.keydownHandler=Mi=>Ql(we,Mi,bt),Ee.keydownTarget=Ve.keydownListenerCapture?window:P(),Ee.keydownListenerCapture=Ve.keydownListenerCapture,Ee.keydownTarget.addEventListener("keydown",Ee.keydownHandler,{capture:Ee.keydownListenerCapture}),Ee.keydownHandlerAdded=!0)},aa=(we,Ee,Ve)=>{const bt=Te();if(bt.length)return Ee=Ee+Ve,Ee===bt.length?Ee=0:Ee===-1&&(Ee=bt.length-1),bt[Ee].focus();P().focus()},jo=["ArrowRight","ArrowDown"],ba=["ArrowLeft","ArrowUp"],Ql=(we,Ee,Ve)=>{const bt=qi.innerParams.get(we);bt&&(bt.stopKeydownPropagation&&Ee.stopPropagation(),Ee.key==="Enter"?cl(we,Ee,bt):Ee.key==="Tab"?Iu(Ee,bt):[...jo,...ba].includes(Ee.key)?jr(Ee.key):Ee.key==="Escape"&&wa(Ee,bt,Ve))},cl=(we,Ee,Ve)=>{if(!(!M(Ve.allowEnterKey)||Ee.isComposing)&&Ee.target&&we.getInput()&&Ee.target.outerHTML===we.getInput().outerHTML){if(["textarea","file"].includes(Ve.input))return;lo(),Ee.preventDefault()}},Iu=(we,Ee)=>{const Ve=we.target,bt=Te();let Mi=-1;for(let Tn=0;Tn<bt.length;Tn++)if(Ve===bt[Tn]){Mi=Tn;break}we.shiftKey?aa(Ee,Mi,-1):aa(Ee,Mi,1),we.stopPropagation(),we.preventDefault()},jr=we=>{const Ee=z(),Ve=Q(),bt=Ce();if(![Ee,Ve,bt].includes(document.activeElement))return;const Mi=jo.includes(we)?"nextElementSibling":"previousElementSibling",Tn=document.activeElement[Mi];Tn instanceof HTMLElement&&Tn.focus()},wa=(we,Ee,Ve)=>{M(Ee.allowEscapeKey)&&(we.preventDefault(),Ve(Yo.esc))},iu=we=>typeof we=="object"&&we.jquery,ec=we=>we instanceof Element||iu(we),Uo=we=>{const Ee={};return typeof we[0]=="object"&&!ec(we[0])?Object.assign(Ee,we[0]):["title","html","icon"].forEach((Ve,bt)=>{const Mi=we[bt];typeof Mi=="string"||ec(Mi)?Ee[Ve]=Mi:Mi!==void 0&&s("Unexpected type of ".concat(Ve,'! Expected "string" or "Element", got ').concat(typeof Mi))}),Ee};function tc(){const we=this;for(var Ee=arguments.length,Ve=new Array(Ee),bt=0;bt<Ee;bt++)Ve[bt]=arguments[bt];return new we(...Ve)}function Sc(we){class Ee extends this{_main(bt,Mi){return super._main(bt,Object.assign({},we,Mi))}}return Ee}const ud=()=>Yi.timeout&&Yi.timeout.getTimerLeft(),ic=()=>{if(Yi.timeout)return Gr(),Yi.timeout.stop()},nc=()=>{if(Yi.timeout){const we=Yi.timeout.start();return Rn(we),we}},Nd=()=>{const we=Yi.timeout;return we&&(we.running?ic():nc())},rc=we=>{if(Yi.timeout){const Ee=Yi.timeout.increase(we);return Rn(Ee,!0),Ee}},dd=()=>Yi.timeout&&Yi.timeout.isRunning();let Pa=!1;const Da={};function sc(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Da[we]=this,Pa||(document.body.addEventListener("click",Lu),Pa=!0)}const Lu=we=>{for(let Ee=we.target;Ee&&Ee!==document;Ee=Ee.parentNode)for(const Ve in Da){const bt=Ee.getAttribute(Ve);if(bt){Da[Ve].fire({template:bt});return}}};var Cc=Object.freeze({isValidParameter:A,isUpdatableParameter:H,isDeprecatedParameter:U,argsToParams:Uo,isVisible:Jl,clickConfirm:lo,clickDeny:oa,clickCancel:Kn,getContainer:m,getPopup:P,getTitle:Y,getHtmlContainer:K,getImage:le,getIcon:X,getInputLabel:se,getCloseButton:oe,getActions:ne,getConfirmButton:z,getDenyButton:Q,getCancelButton:Ce,getLoader:de,getFooter:ve,getTimerProgressBar:_e,getFocusableElements:Te,getValidationMessage:fe,isLoading:$e,fire:tc,mixin:Sc,showLoading:sa,enableLoading:sa,getTimerLeft:ud,stopTimer:ic,resumeTimer:nc,toggleTimer:Nd,increaseTimer:rc,isTimerRunning:dd,bindClickHandler:sc});function la(){const we=qi.innerParams.get(this);if(!we)return;const Ee=qi.domCache.get(this);fi(Ee.loader),Le()?we.icon&&qt(X()):bo(Ee),Ct([Ee.popup,Ee.actions],w.loading),Ee.popup.removeAttribute("aria-busy"),Ee.popup.removeAttribute("data-loading"),Ee.confirmButton.disabled=!1,Ee.denyButton.disabled=!1,Ee.cancelButton.disabled=!1}const bo=we=>{const Ee=we.popup.getElementsByClassName(we.loader.getAttribute("data-button-to-replace"));Ee.length?qt(Ee[0],"inline-block"):ei()&&fi(we.actions)};function Cl(we){const Ee=qi.innerParams.get(we||this),Ve=qi.domCache.get(we||this);return Ve?Be(Ve.popup,Ee.input):null}var oc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Ec(we,Ee,Ve,bt){Le()?Xo(we,bt):(As(Ve).then(()=>Xo(we,bt)),Yi.keydownTarget.removeEventListener("keydown",Yi.keydownHandler,{capture:Yi.keydownListenerCapture}),Yi.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(Ee.setAttribute("style","display:none !important"),Ee.removeAttribute("class"),Ee.innerHTML=""):Ee.remove(),Re()&&(ku(),Pu(),_a()),wh()}function wh(){Ct([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"]])}function wr(we){we=zd(we);const Ee=oc.swalPromiseResolve.get(this),Ve=wo(this);this.isAwaitingPromise()?we.isDismissed||(El(this),Ee(we)):Ve&&Ee(we)}function qo(){return!!qi.awaitingPromise.get(this)}const wo=we=>{const Ee=P();if(!Ee)return!1;const Ve=qi.innerParams.get(we);if(!Ve||We(Ee,Ve.hideClass.popup))return!1;Ct(Ee,Ve.showClass.popup),ft(Ee,Ve.hideClass.popup);const bt=m();return Ct(bt,Ve.showClass.backdrop),ft(bt,Ve.hideClass.backdrop),Fd(we,Ee,Ve),!0};function ca(we){const Ee=oc.swalPromiseReject.get(this);El(this),Ee&&Ee(we)}const El=we=>{we.isAwaitingPromise()&&(qi.awaitingPromise.delete(we),qi.innerParams.get(we)||we._destroy())},zd=we=>typeof we>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},we),Fd=(we,Ee,Ve)=>{const bt=m(),Mi=Ut&&on(Ee);typeof Ve.willClose=="function"&&Ve.willClose(Ee),Mi?jd(we,Ee,bt,Ve.returnFocus,Ve.didClose):Ec(we,bt,Ve.returnFocus,Ve.didClose)},jd=(we,Ee,Ve,bt,Mi)=>{Yi.swalCloseEventFinishedCallback=Ec.bind(null,we,Ve,bt,Mi),Ee.addEventListener(Ut,function(Tn){Tn.target===Ee&&(Yi.swalCloseEventFinishedCallback(),delete Yi.swalCloseEventFinishedCallback)})},Xo=(we,Ee)=>{setTimeout(()=>{typeof Ee=="function"&&Ee.bind(we.params)(),we._destroy()})};function Ht(we,Ee,Ve){const bt=qi.domCache.get(we);Ee.forEach(Mi=>{bt[Mi].disabled=Ve})}function wi(we,Ee){if(!we)return!1;if(we.type==="radio"){const bt=we.parentNode.parentNode.querySelectorAll("input");for(let Mi=0;Mi<bt.length;Mi++)bt[Mi].disabled=Ee}else we.disabled=Ee}function gi(){Ht(this,["confirmButton","denyButton","cancelButton"],!1)}function mn(){Ht(this,["confirmButton","denyButton","cancelButton"],!0)}function Jn(){return wi(this.getInput(),!1)}function Br(){return wi(this.getInput(),!0)}function $s(we){const Ee=qi.domCache.get(this),Ve=qi.innerParams.get(this);Qe(Ee.validationMessage,we),Ee.validationMessage.className=w["validation-message"],Ve.customClass&&Ve.customClass.validationMessage&&ft(Ee.validationMessage,Ve.customClass.validationMessage),qt(Ee.validationMessage);const bt=this.getInput();bt&&(bt.setAttribute("aria-invalid",!0),bt.setAttribute("aria-describedby",w["validation-message"]),Xe(bt),ft(bt,w.inputerror))}function Ur(){const we=qi.domCache.get(this);we.validationMessage&&fi(we.validationMessage);const Ee=this.getInput();Ee&&(Ee.removeAttribute("aria-invalid"),Ee.removeAttribute("aria-describedby"),Ct(Ee,w.inputerror))}function Mc(){return qi.domCache.get(this).progressSteps}function Ou(we){const Ee=P(),Ve=qi.innerParams.get(this);if(!Ee||We(Ee,Ve.hideClass.popup))return h("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const bt=Zo(we),Mi=Object.assign({},Ve,bt);mo(this,Mi),qi.innerParams.set(this,Mi),Object.defineProperties(this,{params:{value:Object.assign({},this.params,we),writable:!1,enumerable:!0}})}const Zo=we=>{const Ee={};return Object.keys(we).forEach(Ve=>{H(Ve)?Ee[Ve]=we[Ve]:h('Invalid parameter to update: "'.concat(Ve,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),Ee};function st(){const we=qi.domCache.get(this),Ee=qi.innerParams.get(this);if(!Ee){$t(this);return}we.popup&&Yi.swalCloseEventFinishedCallback&&(Yi.swalCloseEventFinishedCallback(),delete Yi.swalCloseEventFinishedCallback),Yi.deferDisposalTimer&&(clearTimeout(Yi.deferDisposalTimer),delete Yi.deferDisposalTimer),typeof Ee.didDestroy=="function"&&Ee.didDestroy(),Pt(this)}const Pt=we=>{$t(we),delete we.params,delete Yi.keydownHandler,delete Yi.keydownTarget,delete Yi.currentInstance},$t=we=>{we.isAwaitingPromise()?(Ti(qi,we),qi.awaitingPromise.set(we,!0)):(Ti(oc,we),Ti(qi,we))},Ti=(we,Ee)=>{for(const Ve in we)we[Ve].delete(Ee)};var Wt=Object.freeze({hideLoading:la,disableLoading:la,getInput:Cl,close:wr,isAwaitingPromise:qo,rejectPromise:ca,closePopup:wr,closeModal:wr,closeToast:wr,enableButtons:gi,disableButtons:mn,enableInput:Jn,disableInput:Br,showValidationMessage:$s,resetValidationMessage:Ur,getProgressSteps:Mc,update:Ou,_destroy:st});let ci;class Li{constructor(){if(typeof window>"u")return;ci=this;for(var Ee=arguments.length,Ve=new Array(Ee),bt=0;bt<Ee;bt++)Ve[bt]=arguments[bt];const Mi=Object.freeze(this.constructor.argsToParams(Ve));Object.defineProperties(this,{params:{value:Mi,writable:!1,enumerable:!0,configurable:!0}});const Tn=this._main(this.params);qi.promise.set(this,Tn)}_main(Ee){let Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(Object.assign({},Ve,Ee)),Yi.currentInstance&&(Yi.currentInstance._destroy(),Re()&&_a()),Yi.currentInstance=this;const bt=Ni(Ee,Ve);Mu(bt),Object.freeze(bt),Yi.timeout&&(Yi.timeout.stop(),delete Yi.timeout),clearTimeout(Yi.restoreFocusTimeout);const Mi=Nn(this);return mo(this,bt),qi.innerParams.set(this,bt),an(this,Mi,bt)}then(Ee){return qi.promise.get(this).then(Ee)}finally(Ee){return qi.promise.get(this).finally(Ee)}}const an=(we,Ee,Ve)=>new Promise((bt,Mi)=>{const Tn=Tr=>{we.closePopup({isDismissed:!0,dismiss:Tr})};oc.swalPromiseResolve.set(we,bt),oc.swalPromiseReject.set(we,Mi),Ee.confirmButton.onclick=()=>_i(we),Ee.denyButton.onclick=()=>Pi(we),Ee.cancelButton.onclick=()=>ai(we,Tn),Ee.closeButton.onclick=()=>Tn(Yo.close),gr(we,Ee,Tn),xo(we,Yi,Ve,Tn),Z(we,Ve),cd(Ve),Un(Yi,Ve,Tn),Vn(Ee,Ve),setTimeout(()=>{Ee.container.scrollTop=0})}),Ni=(we,Ee)=>{const Ve=wl(we),bt=Object.assign({},L,Ee,Ve,we);return bt.showClass=Object.assign({},L.showClass,bt.showClass),bt.hideClass=Object.assign({},L.hideClass,bt.hideClass),bt},Nn=we=>{const Ee={popup:P(),container:m(),actions:ne(),confirmButton:z(),denyButton:Q(),cancelButton:Ce(),loader:de(),closeButton:oe(),validationMessage:fe(),progressSteps:pe()};return qi.domCache.set(we,Ee),Ee},Un=(we,Ee,Ve)=>{const bt=_e();fi(bt),Ee.timer&&(we.timeout=new Js(()=>{Ve("timer"),delete we.timeout},Ee.timer),Ee.timerProgressBar&&(qt(bt),Ie(bt,Ee,"timerProgressBar"),setTimeout(()=>{we.timeout&&we.timeout.running&&Rn(Ee.timer)})))},Vn=(we,Ee)=>{if(!Ee.toast){if(!M(Ee.allowEnterKey))return Mr();nr(we,Ee)||aa(Ee,-1,1)}},nr=(we,Ee)=>Ee.focusDeny&&Lt(we.denyButton)?(we.denyButton.focus(),!0):Ee.focusCancel&&Lt(we.cancelButton)?(we.cancelButton.focus(),!0):Ee.focusConfirm&&Lt(we.confirmButton)?(we.confirmButton.focus(),!0):!1,Mr=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(Li.prototype,Wt),Object.assign(Li,Cc),Object.keys(Wt).forEach(we=>{Li[we]=function(){if(ci)return ci[we](...arguments)}}),Li.DismissReason=Yo,Li.version="11.4.0";const On=Li;return On.default=On,On}),typeof ef<"u"&&ef.Sweetalert2&&(ef.swal=ef.sweetAlert=ef.Swal=ef.SweetAlert=ef.Sweetalert2)})(o4);var fx=o4.exports;class GN{static install(t,i={}){var r;const o=fx.mixin(i),u=function(...h){return o.fire.call(o,...h)};Object.assign(u,fx),Object.keys(fx).filter(h=>typeof fx[h]=="function").forEach(h=>{u[h]=o[h].bind(o)}),(r=t.config)!=null&&r.globalProperties&&!t.config.globalProperties.$swal?(t.config.globalProperties.$swal=u,t.provide("$swal",u)):Object.prototype.hasOwnProperty.call(t,"$swal")||(t.prototype.$swal=u,t.swal=u)}}function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function hr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function qn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function pr(e){qn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||nd(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function rp(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return isNaN(r)?new Date(NaN):(r&&i.setDate(i.getDate()+r),i)}function ph(e,t){qn(2,arguments);var i=pr(e),r=hr(t);if(isNaN(r))return new Date(NaN);if(!r)return i;var o=i.getDate(),u=new Date(i.getTime());u.setMonth(i.getMonth()+r+1,0);var h=u.getDate();return o>=h?u:(i.setFullYear(u.getFullYear(),u.getMonth(),o),i)}function a4(e,t){if(qn(2,arguments),!t||nd(t)!=="object")return new Date(NaN);var i=t.years?hr(t.years):0,r=t.months?hr(t.months):0,o=t.weeks?hr(t.weeks):0,u=t.days?hr(t.days):0,h=t.hours?hr(t.hours):0,s=t.minutes?hr(t.minutes):0,v=t.seconds?hr(t.seconds):0,I=pr(e),J=r||i?ph(I,r+i*12):I,M=u||o?rp(J,u+o*7):J,B=s+h*60,W=v+B*60,O=W*1e3,L=new Date(M.getTime()+O);return L}function HN(e,t){qn(2,arguments);var i=pr(e).getTime(),r=hr(t);return new Date(i+r)}var WN={};function xh(){return WN}function em(e,t){var i,r,o,u,h,s,v,I;qn(1,arguments);var J=xh(),M=hr((i=(r=(o=(u=t==null?void 0:t.weekStartsOn)!==null&&u!==void 0?u:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:J.weekStartsOn)!==null&&r!==void 0?r:(v=J.locale)===null||v===void 0||(I=v.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&i!==void 0?i:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var B=pr(e),W=B.getDay(),O=(W<M?7:0)+W-M;return B.setDate(B.getDate()-O),B.setHours(0,0,0,0),B}function cb(e){return qn(1,arguments),em(e,{weekStartsOn:1})}function YN(e){qn(1,arguments);var t=pr(e),i=t.getFullYear(),r=new Date(0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);var o=cb(r),u=new Date(0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);var h=cb(u);return t.getTime()>=o.getTime()?i+1:t.getTime()>=h.getTime()?i:i-1}function qN(e){qn(1,arguments);var t=YN(e),i=new Date(0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);var r=cb(i);return r}function ub(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function CE(e){qn(1,arguments);var t=pr(e);return t.setHours(0,0,0,0),t}var XN=864e5;function ZN(e,t){qn(2,arguments);var i=CE(e),r=CE(t),o=i.getTime()-ub(i),u=r.getTime()-ub(r);return Math.round((o-u)/XN)}function l4(e,t){qn(2,arguments);var i=hr(t);return ph(e,i*12)}var AC=6e4,PC=36e5,KN=1e3;function c4(e){return qn(1,arguments),e instanceof Date||nd(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Wy(e){if(qn(1,arguments),!c4(e)&&typeof e!="number")return!1;var t=pr(e);return!isNaN(Number(t))}function EE(e,t){var i;qn(1,arguments);var r=e||{},o=pr(r.start),u=pr(r.end),h=u.getTime();if(!(o.getTime()<=h))throw new RangeError("Invalid interval");var s=[],v=o;v.setHours(0,0,0,0);var I=Number((i=t==null?void 0:t.step)!==null&&i!==void 0?i:1);if(I<1||isNaN(I))throw new RangeError("`options.step` must be a number greater than 1");for(;v.getTime()<=h;)s.push(pr(v)),v.setDate(v.getDate()+I),v.setHours(0,0,0,0);return s}function JN(e,t){var i,r,o,u,h,s,v,I;qn(1,arguments);var J=xh(),M=hr((i=(r=(o=(u=t==null?void 0:t.weekStartsOn)!==null&&u!==void 0?u:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:J.weekStartsOn)!==null&&r!==void 0?r:(v=J.locale)===null||v===void 0||(I=v.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&i!==void 0?i:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var B=pr(e),W=B.getDay(),O=(W<M?-7:0)+6-(W-M);return B.setDate(B.getDate()+O),B.setHours(23,59,59,999),B}function u4(e,t){qn(2,arguments);var i=hr(t);return HN(e,-i)}var QN=864e5;function ez(e){qn(1,arguments);var t=pr(e),i=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=i-r;return Math.floor(o/QN)+1}function Ug(e){qn(1,arguments);var t=1,i=pr(e),r=i.getUTCDay(),o=(r<t?7:0)+r-t;return i.setUTCDate(i.getUTCDate()-o),i.setUTCHours(0,0,0,0),i}function d4(e){qn(1,arguments);var t=pr(e),i=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(i+1,0,4),r.setUTCHours(0,0,0,0);var o=Ug(r),u=new Date(0);u.setUTCFullYear(i,0,4),u.setUTCHours(0,0,0,0);var h=Ug(u);return t.getTime()>=o.getTime()?i+1:t.getTime()>=h.getTime()?i:i-1}function tz(e){qn(1,arguments);var t=d4(e),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var r=Ug(i);return r}var iz=6048e5;function h4(e){qn(1,arguments);var t=pr(e),i=Ug(t).getTime()-tz(t).getTime();return Math.round(i/iz)+1}function tm(e,t){var i,r,o,u,h,s,v,I;qn(1,arguments);var J=xh(),M=hr((i=(r=(o=(u=t==null?void 0:t.weekStartsOn)!==null&&u!==void 0?u:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:J.weekStartsOn)!==null&&r!==void 0?r:(v=J.locale)===null||v===void 0||(I=v.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&i!==void 0?i:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var B=pr(e),W=B.getUTCDay(),O=(W<M?7:0)+W-M;return B.setUTCDate(B.getUTCDate()-O),B.setUTCHours(0,0,0,0),B}function DC(e,t){var i,r,o,u,h,s,v,I;qn(1,arguments);var J=pr(e),M=J.getUTCFullYear(),B=xh(),W=hr((i=(r=(o=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:B.firstWeekContainsDate)!==null&&r!==void 0?r:(v=B.locale)===null||v===void 0||(I=v.options)===null||I===void 0?void 0:I.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(W>=1&&W<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=new Date(0);O.setUTCFullYear(M+1,0,W),O.setUTCHours(0,0,0,0);var L=tm(O,t),G=new Date(0);G.setUTCFullYear(M,0,W),G.setUTCHours(0,0,0,0);var k=tm(G,t);return J.getTime()>=L.getTime()?M+1:J.getTime()>=k.getTime()?M:M-1}function nz(e,t){var i,r,o,u,h,s,v,I;qn(1,arguments);var J=xh(),M=hr((i=(r=(o=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:J.firstWeekContainsDate)!==null&&r!==void 0?r:(v=J.locale)===null||v===void 0||(I=v.options)===null||I===void 0?void 0:I.firstWeekContainsDate)!==null&&i!==void 0?i:1),B=DC(e,t),W=new Date(0);W.setUTCFullYear(B,0,M),W.setUTCHours(0,0,0,0);var O=tm(W,t);return O}var rz=6048e5;function p4(e,t){qn(1,arguments);var i=pr(e),r=tm(i,t).getTime()-nz(i,t).getTime();return Math.round(r/rz)+1}function Ws(e,t){for(var i=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return i+r}var sz={y:function(t,i){var r=t.getUTCFullYear(),o=r>0?r:1-r;return Ws(i==="yy"?o%100:o,i.length)},M:function(t,i){var r=t.getUTCMonth();return i==="M"?String(r+1):Ws(r+1,2)},d:function(t,i){return Ws(t.getUTCDate(),i.length)},a:function(t,i){var r=t.getUTCHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,i){return Ws(t.getUTCHours()%12||12,i.length)},H:function(t,i){return Ws(t.getUTCHours(),i.length)},m:function(t,i){return Ws(t.getUTCMinutes(),i.length)},s:function(t,i){return Ws(t.getUTCSeconds(),i.length)},S:function(t,i){var r=i.length,o=t.getUTCMilliseconds(),u=Math.floor(o*Math.pow(10,r-3));return Ws(u,i.length)}};const tf=sz;var mg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oz={G:function(t,i,r){var o=t.getUTCFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,i,r){if(i==="yo"){var o=t.getUTCFullYear(),u=o>0?o:1-o;return r.ordinalNumber(u,{unit:"year"})}return tf.y(t,i)},Y:function(t,i,r,o){var u=DC(t,o),h=u>0?u:1-u;if(i==="YY"){var s=h%100;return Ws(s,2)}return i==="Yo"?r.ordinalNumber(h,{unit:"year"}):Ws(h,i.length)},R:function(t,i){var r=d4(t);return Ws(r,i.length)},u:function(t,i){var r=t.getUTCFullYear();return Ws(r,i.length)},Q:function(t,i,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(i){case"Q":return String(o);case"QQ":return Ws(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,i,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(i){case"q":return String(o);case"qq":return Ws(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,i,r){var o=t.getUTCMonth();switch(i){case"M":case"MM":return tf.M(t,i);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,i,r){var o=t.getUTCMonth();switch(i){case"L":return String(o+1);case"LL":return Ws(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,i,r,o){var u=p4(t,o);return i==="wo"?r.ordinalNumber(u,{unit:"week"}):Ws(u,i.length)},I:function(t,i,r){var o=h4(t);return i==="Io"?r.ordinalNumber(o,{unit:"week"}):Ws(o,i.length)},d:function(t,i,r){return i==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):tf.d(t,i)},D:function(t,i,r){var o=ez(t);return i==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):Ws(o,i.length)},E:function(t,i,r){var o=t.getUTCDay();switch(i){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,i,r,o){var u=t.getUTCDay(),h=(u-o.weekStartsOn+8)%7||7;switch(i){case"e":return String(h);case"ee":return Ws(h,2);case"eo":return r.ordinalNumber(h,{unit:"day"});case"eee":return r.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(u,{width:"short",context:"formatting"});case"eeee":default:return r.day(u,{width:"wide",context:"formatting"})}},c:function(t,i,r,o){var u=t.getUTCDay(),h=(u-o.weekStartsOn+8)%7||7;switch(i){case"c":return String(h);case"cc":return Ws(h,i.length);case"co":return r.ordinalNumber(h,{unit:"day"});case"ccc":return r.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(u,{width:"narrow",context:"standalone"});case"cccccc":return r.day(u,{width:"short",context:"standalone"});case"cccc":default:return r.day(u,{width:"wide",context:"standalone"})}},i:function(t,i,r){var o=t.getUTCDay(),u=o===0?7:o;switch(i){case"i":return String(u);case"ii":return Ws(u,i.length);case"io":return r.ordinalNumber(u,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,i,r){var o=t.getUTCHours(),u=o/12>=1?"pm":"am";switch(i){case"a":case"aa":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(t,i,r){var o=t.getUTCHours(),u;switch(o===12?u=mg.noon:o===0?u=mg.midnight:u=o/12>=1?"pm":"am",i){case"b":case"bb":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(t,i,r){var o=t.getUTCHours(),u;switch(o>=17?u=mg.evening:o>=12?u=mg.afternoon:o>=4?u=mg.morning:u=mg.night,i){case"B":case"BB":case"BBB":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(t,i,r){if(i==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return tf.h(t,i)},H:function(t,i,r){return i==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):tf.H(t,i)},K:function(t,i,r){var o=t.getUTCHours()%12;return i==="Ko"?r.ordinalNumber(o,{unit:"hour"}):Ws(o,i.length)},k:function(t,i,r){var o=t.getUTCHours();return o===0&&(o=24),i==="ko"?r.ordinalNumber(o,{unit:"hour"}):Ws(o,i.length)},m:function(t,i,r){return i==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):tf.m(t,i)},s:function(t,i,r){return i==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):tf.s(t,i)},S:function(t,i){return tf.S(t,i)},X:function(t,i,r,o){var u=o._originalDate||t,h=u.getTimezoneOffset();if(h===0)return"Z";switch(i){case"X":return kE(h);case"XXXX":case"XX":return I0(h);case"XXXXX":case"XXX":default:return I0(h,":")}},x:function(t,i,r,o){var u=o._originalDate||t,h=u.getTimezoneOffset();switch(i){case"x":return kE(h);case"xxxx":case"xx":return I0(h);case"xxxxx":case"xxx":default:return I0(h,":")}},O:function(t,i,r,o){var u=o._originalDate||t,h=u.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+ME(h,":");case"OOOO":default:return"GMT"+I0(h,":")}},z:function(t,i,r,o){var u=o._originalDate||t,h=u.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+ME(h,":");case"zzzz":default:return"GMT"+I0(h,":")}},t:function(t,i,r,o){var u=o._originalDate||t,h=Math.floor(u.getTime()/1e3);return Ws(h,i.length)},T:function(t,i,r,o){var u=o._originalDate||t,h=u.getTime();return Ws(h,i.length)}};function ME(e,t){var i=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),u=r%60;if(u===0)return i+String(o);var h=t||"";return i+String(o)+h+Ws(u,2)}function kE(e,t){if(e%60===0){var i=e>0?"-":"+";return i+Ws(Math.abs(e)/60,2)}return I0(e,t)}function I0(e,t){var i=t||"",r=e>0?"-":"+",o=Math.abs(e),u=Ws(Math.floor(o/60),2),h=Ws(o%60,2);return r+u+i+h}const az=oz;var AE=function(t,i){switch(t){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}},f4=function(t,i){switch(t){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}},lz=function(t,i){var r=t.match(/(P+)(p+)?/)||[],o=r[1],u=r[2];if(!u)return AE(t,i);var h;switch(o){case"P":h=i.dateTime({width:"short"});break;case"PP":h=i.dateTime({width:"medium"});break;case"PPP":h=i.dateTime({width:"long"});break;case"PPPP":default:h=i.dateTime({width:"full"});break}return h.replace("{{date}}",AE(o,i)).replace("{{time}}",f4(u,i))},cz={p:f4,P:lz};const OT=cz;var uz=["D","DD"],dz=["YY","YYYY"];function m4(e){return uz.indexOf(e)!==-1}function g4(e){return dz.indexOf(e)!==-1}function db(e,t,i){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var hz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pz=function(t,i,r){var o,u=hz[t];return typeof u=="string"?o=u:i===1?o=u.one:o=u.other.replace("{{count}}",i.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const fz=pz;function T3(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.width?String(t.width):e.defaultWidth,r=e.formats[i]||e.formats[e.defaultWidth];return r}}var mz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_z={date:T3({formats:mz,defaultWidth:"full"}),time:T3({formats:gz,defaultWidth:"full"}),dateTime:T3({formats:yz,defaultWidth:"full"})};const vz=_z;var xz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bz=function(t,i,r,o){return xz[t]};const wz=bz;function Dy(e){return function(t,i){var r=i!=null&&i.context?String(i.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var u=e.defaultFormattingWidth||e.defaultWidth,h=i!=null&&i.width?String(i.width):u;o=e.formattingValues[h]||e.formattingValues[u]}else{var s=e.defaultWidth,v=i!=null&&i.width?String(i.width):e.defaultWidth;o=e.values[v]||e.values[s]}var I=e.argumentCallback?e.argumentCallback(t):t;return o[I]}}var Tz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ez={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Az=function(t,i){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Pz={ordinalNumber:Az,era:Dy({values:Tz,defaultWidth:"wide"}),quarter:Dy({values:Sz,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Dy({values:Cz,defaultWidth:"wide"}),day:Dy({values:Ez,defaultWidth:"wide"}),dayPeriod:Dy({values:Mz,defaultWidth:"wide",formattingValues:kz,defaultFormattingWidth:"wide"})};const Dz=Pz;function Iy(e){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],u=t.match(o);if(!u)return null;var h=u[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(s)?Lz(s,function(M){return M.test(h)}):Iz(s,function(M){return M.test(h)}),I;I=e.valueCallback?e.valueCallback(v):v,I=i.valueCallback?i.valueCallback(I):I;var J=t.slice(h.length);return{value:I,rest:J}}}function Iz(e,t){for(var i in e)if(e.hasOwnProperty(i)&&t(e[i]))return i}function Lz(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return i}function Oz(e){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],u=t.match(e.parsePattern);if(!u)return null;var h=e.valueCallback?e.valueCallback(u[0]):u[0];h=i.valueCallback?i.valueCallback(h):h;var s=t.slice(o.length);return{value:h,rest:s}}}var Rz=/^(\d+)(th|st|nd|rd)?/i,Bz=/\d+/i,Nz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zz={any:[/^b/i,/^(a|c)/i]},Fz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jz={any:[/1/i,/2/i,/3/i,/4/i]},Uz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$z={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yz={ordinalNumber:Oz({matchPattern:Rz,parsePattern:Bz,valueCallback:function(t){return parseInt(t,10)}}),era:Iy({matchPatterns:Nz,defaultMatchWidth:"wide",parsePatterns:zz,defaultParseWidth:"any"}),quarter:Iy({matchPatterns:Fz,defaultMatchWidth:"wide",parsePatterns:jz,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Iy({matchPatterns:Uz,defaultMatchWidth:"wide",parsePatterns:$z,defaultParseWidth:"any"}),day:Iy({matchPatterns:Vz,defaultMatchWidth:"wide",parsePatterns:Gz,defaultParseWidth:"any"}),dayPeriod:Iy({matchPatterns:Hz,defaultMatchWidth:"any",parsePatterns:Wz,defaultParseWidth:"any"})};const qz=Yz;var Xz={code:"en-US",formatDistance:fz,formatLong:vz,formatRelative:wz,localize:Dz,match:qz,options:{weekStartsOn:0,firstWeekContainsDate:1}};const y4=Xz;var Zz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jz=/^'([^]*?)'?$/,Qz=/''/g,eF=/[a-zA-Z]/;function X0(e,t,i){var r,o,u,h,s,v,I,J,M,B,W,O,L,G,k,S,A,H;qn(2,arguments);var U=String(t),E=xh(),ie=(r=(o=i==null?void 0:i.locale)!==null&&o!==void 0?o:E.locale)!==null&&r!==void 0?r:y4,ee=hr((u=(h=(s=(v=i==null?void 0:i.firstWeekContainsDate)!==null&&v!==void 0?v:i==null||(I=i.locale)===null||I===void 0||(J=I.options)===null||J===void 0?void 0:J.firstWeekContainsDate)!==null&&s!==void 0?s:E.firstWeekContainsDate)!==null&&h!==void 0?h:(M=E.locale)===null||M===void 0||(B=M.options)===null||B===void 0?void 0:B.firstWeekContainsDate)!==null&&u!==void 0?u:1);if(!(ee>=1&&ee<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=hr((W=(O=(L=(G=i==null?void 0:i.weekStartsOn)!==null&&G!==void 0?G:i==null||(k=i.locale)===null||k===void 0||(S=k.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&L!==void 0?L:E.weekStartsOn)!==null&&O!==void 0?O:(A=E.locale)===null||A===void 0||(H=A.options)===null||H===void 0?void 0:H.weekStartsOn)!==null&&W!==void 0?W:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ie.localize)throw new RangeError("locale must contain localize property");if(!ie.formatLong)throw new RangeError("locale must contain formatLong property");var V=pr(e);if(!Wy(V))throw new RangeError("Invalid time value");var j=ub(V),w=u4(V,j),D={firstWeekContainsDate:ee,weekStartsOn:$,locale:ie,_originalDate:V},m=U.match(Kz).map(function(g){var x=g[0];if(x==="p"||x==="P"){var P=OT[x];return P(g,ie.formatLong)}return g}).join("").match(Zz).map(function(g){if(g==="''")return"'";var x=g[0];if(x==="'")return tF(g);var P=az[x];if(P)return!(i!=null&&i.useAdditionalWeekYearTokens)&&g4(g)&&db(g,t,String(e)),!(i!=null&&i.useAdditionalDayOfYearTokens)&&m4(g)&&db(g,t,String(e)),P(w,g,ie.localize,D);if(x.match(eF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return g}).join("");return m}function tF(e){var t=e.match(Jz);return t?t[1].replace(Qz,"'"):e}function iF(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function nF(e){qn(1,arguments);var t=pr(e),i=t.getDay();return i}function rF(e){qn(1,arguments);var t=pr(e),i=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(i,r+1,0),o.setHours(0,0,0,0),o.getDate()}function ep(e){qn(1,arguments);var t=pr(e),i=t.getHours();return i}var sF=6048e5;function oF(e){qn(1,arguments);var t=pr(e),i=cb(t).getTime()-qN(t).getTime();return Math.round(i/sF)+1}function tp(e){qn(1,arguments);var t=pr(e),i=t.getMinutes();return i}function yo(e){qn(1,arguments);var t=pr(e),i=t.getMonth();return i}function $g(e){qn(1,arguments);var t=pr(e),i=t.getSeconds();return i}function aF(e,t){var i,r,o,u,h,s,v,I;qn(1,arguments);var J=pr(e),M=J.getFullYear(),B=xh(),W=hr((i=(r=(o=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:B.firstWeekContainsDate)!==null&&r!==void 0?r:(v=B.locale)===null||v===void 0||(I=v.options)===null||I===void 0?void 0:I.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(W>=1&&W<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=new Date(0);O.setFullYear(M+1,0,W),O.setHours(0,0,0,0);var L=em(O,t),G=new Date(0);G.setFullYear(M,0,W),G.setHours(0,0,0,0);var k=em(G,t);return J.getTime()>=L.getTime()?M+1:J.getTime()>=k.getTime()?M:M-1}function lF(e,t){var i,r,o,u,h,s,v,I;qn(1,arguments);var J=xh(),M=hr((i=(r=(o=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:J.firstWeekContainsDate)!==null&&r!==void 0?r:(v=J.locale)===null||v===void 0||(I=v.options)===null||I===void 0?void 0:I.firstWeekContainsDate)!==null&&i!==void 0?i:1),B=aF(e,t),W=new Date(0);W.setFullYear(B,0,M),W.setHours(0,0,0,0);var O=em(W,t);return O}var cF=6048e5;function uF(e,t){qn(1,arguments);var i=pr(e),r=em(i,t).getTime()-lF(i,t).getTime();return Math.round(r/cF)+1}function Ao(e){return qn(1,arguments),pr(e).getFullYear()}function c_(e,t){qn(2,arguments);var i=pr(e),r=pr(t);return i.getTime()>r.getTime()}function u_(e,t){qn(2,arguments);var i=pr(e),r=pr(t);return i.getTime()<r.getTime()}function j0(e,t){qn(2,arguments);var i=pr(e),r=pr(t);return i.getTime()===r.getTime()}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function dF(e,t){if(e){if(typeof e=="string")return PE(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return PE(e,t)}}function DE(e,t){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=dF(e))||t&&e&&typeof e.length=="number"){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(I){throw I},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,h=!1,s;return{s:function(){i=i.call(e)},n:function(){var I=i.next();return u=I.done,I},e:function(I){h=!0,s=I},f:function(){try{!u&&i.return!=null&&i.return()}finally{if(h)throw s}}}}function In(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RT(e,t){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},RT(e,t)}function Ts(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RT(e,t)}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},hb(e)}function hF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pF(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function Ss(e){var t=hF();return function(){var r=hb(e),o;if(t){var u=hb(this).constructor;o=Reflect.construct(r,arguments,u)}else o=r.apply(this,arguments);return pF(this,o)}}function as(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fF(e,t){if(nd(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(nd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _4(e){var t=fF(e,"string");return nd(t)==="symbol"?t:String(t)}function IE(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_4(r.key),r)}}function ls(e,t,i){return t&&IE(e.prototype,t),i&&IE(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function En(e,t,i){return t=_4(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var mF=10,v4=function(){function e(){as(this,e),En(this,"priority",void 0),En(this,"subPriority",0)}return ls(e,[{key:"validate",value:function(i,r){return!0}}]),e}(),gF=function(e){Ts(i,e);var t=Ss(i);function i(r,o,u,h,s){var v;return as(this,i),v=t.call(this),v.value=r,v.validateValue=o,v.setValue=u,v.priority=h,s&&(v.subPriority=s),v}return ls(i,[{key:"validate",value:function(o,u){return this.validateValue(o,this.value,u)}},{key:"set",value:function(o,u,h){return this.setValue(o,u,this.value,h)}}]),i}(v4),yF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",mF),En(In(r),"subPriority",-1),r}return ls(i,[{key:"set",value:function(o,u){if(u.timestampIsSet)return o;var h=new Date(0);return h.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),h.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),h}}]),i}(v4),Os=function(){function e(){as(this,e),En(this,"incompatibleTokens",void 0),En(this,"priority",void 0),En(this,"subPriority",void 0)}return ls(e,[{key:"run",value:function(i,r,o,u){var h=this.parse(i,r,o,u);return h?{setter:new gF(h.value,this.validate,this.set,this.priority,this.subPriority),rest:h.rest}:null}},{key:"validate",value:function(i,r,o){return!0}}]),e}(),_F=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",140),En(In(r),"incompatibleTokens",["R","u","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"G":case"GG":case"GGG":return h.era(o,{width:"abbreviated"})||h.era(o,{width:"narrow"});case"GGGGG":return h.era(o,{width:"narrow"});case"GGGG":default:return h.era(o,{width:"wide"})||h.era(o,{width:"abbreviated"})||h.era(o,{width:"narrow"})}}},{key:"set",value:function(o,u,h){return u.era=h,o.setUTCFullYear(h,0,1),o.setUTCHours(0,0,0,0),o}}]),i}(Os),ma={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ch={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ga(e,t){return e&&{value:t(e.value),rest:e.rest}}function Go(e,t){var i=t.match(e);return i?{value:parseInt(i[0],10),rest:t.slice(i[0].length)}:null}function uh(e,t){var i=t.match(e);if(!i)return null;if(i[0]==="Z")return{value:0,rest:t.slice(1)};var r=i[1]==="+"?1:-1,o=i[2]?parseInt(i[2],10):0,u=i[3]?parseInt(i[3],10):0,h=i[5]?parseInt(i[5],10):0;return{value:r*(o*PC+u*AC+h*KN),rest:t.slice(i[0].length)}}function x4(e){return Go(ma.anyDigitsSigned,e)}function na(e,t){switch(e){case 1:return Go(ma.singleDigit,t);case 2:return Go(ma.twoDigits,t);case 3:return Go(ma.threeDigits,t);case 4:return Go(ma.fourDigits,t);default:return Go(new RegExp("^\\d{1,"+e+"}"),t)}}function pb(e,t){switch(e){case 1:return Go(ma.singleDigitSigned,t);case 2:return Go(ma.twoDigitsSigned,t);case 3:return Go(ma.threeDigitsSigned,t);case 4:return Go(ma.fourDigitsSigned,t);default:return Go(new RegExp("^-?\\d{1,"+e+"}"),t)}}function IC(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function b4(e,t){var i=t>0,r=i?t:1-t,o;if(r<=50)o=e||100;else{var u=r+50,h=Math.floor(u/100)*100,s=e>=u%100;o=e+h-(s?100:0)}return i?o:1-o}function w4(e){return e%400===0||e%4===0&&e%100!==0}var vF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",130),En(In(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){var s=function(I){return{year:I,isTwoDigitYear:u==="yy"}};switch(u){case"y":return ga(na(4,o),s);case"yo":return ga(h.ordinalNumber(o,{unit:"year"}),s);default:return ga(na(u.length,o),s)}}},{key:"validate",value:function(o,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(o,u,h){var s=o.getUTCFullYear();if(h.isTwoDigitYear){var v=b4(h.year,s);return o.setUTCFullYear(v,0,1),o.setUTCHours(0,0,0,0),o}var I=!("era"in u)||u.era===1?h.year:1-h.year;return o.setUTCFullYear(I,0,1),o.setUTCHours(0,0,0,0),o}}]),i}(Os),xF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",130),En(In(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){var s=function(I){return{year:I,isTwoDigitYear:u==="YY"}};switch(u){case"Y":return ga(na(4,o),s);case"Yo":return ga(h.ordinalNumber(o,{unit:"year"}),s);default:return ga(na(u.length,o),s)}}},{key:"validate",value:function(o,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(o,u,h,s){var v=DC(o,s);if(h.isTwoDigitYear){var I=b4(h.year,v);return o.setUTCFullYear(I,0,s.firstWeekContainsDate),o.setUTCHours(0,0,0,0),tm(o,s)}var J=!("era"in u)||u.era===1?h.year:1-h.year;return o.setUTCFullYear(J,0,s.firstWeekContainsDate),o.setUTCHours(0,0,0,0),tm(o,s)}}]),i}(Os),bF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",130),En(In(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u){return pb(u==="R"?4:u.length,o)}},{key:"set",value:function(o,u,h){var s=new Date(0);return s.setUTCFullYear(h,0,4),s.setUTCHours(0,0,0,0),Ug(s)}}]),i}(Os),wF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",130),En(In(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u){return pb(u==="u"?4:u.length,o)}},{key:"set",value:function(o,u,h){return o.setUTCFullYear(h,0,1),o.setUTCHours(0,0,0,0),o}}]),i}(Os),TF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",120),En(In(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"Q":case"QQ":return na(u.length,o);case"Qo":return h.ordinalNumber(o,{unit:"quarter"});case"QQQ":return h.quarter(o,{width:"abbreviated",context:"formatting"})||h.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return h.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(o,{width:"wide",context:"formatting"})||h.quarter(o,{width:"abbreviated",context:"formatting"})||h.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,u){return u>=1&&u<=4}},{key:"set",value:function(o,u,h){return o.setUTCMonth((h-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),i}(Os),SF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",120),En(In(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"q":case"qq":return na(u.length,o);case"qo":return h.ordinalNumber(o,{unit:"quarter"});case"qqq":return h.quarter(o,{width:"abbreviated",context:"standalone"})||h.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return h.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(o,{width:"wide",context:"standalone"})||h.quarter(o,{width:"abbreviated",context:"standalone"})||h.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,u){return u>=1&&u<=4}},{key:"set",value:function(o,u,h){return o.setUTCMonth((h-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),i}(Os),CF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),En(In(r),"priority",110),r}return ls(i,[{key:"parse",value:function(o,u,h){var s=function(I){return I-1};switch(u){case"M":return ga(Go(ma.month,o),s);case"MM":return ga(na(2,o),s);case"Mo":return ga(h.ordinalNumber(o,{unit:"month"}),s);case"MMM":return h.month(o,{width:"abbreviated",context:"formatting"})||h.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return h.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(o,{width:"wide",context:"formatting"})||h.month(o,{width:"abbreviated",context:"formatting"})||h.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,u){return u>=0&&u<=11}},{key:"set",value:function(o,u,h){return o.setUTCMonth(h,1),o.setUTCHours(0,0,0,0),o}}]),i}(Os),EF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",110),En(In(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){var s=function(I){return I-1};switch(u){case"L":return ga(Go(ma.month,o),s);case"LL":return ga(na(2,o),s);case"Lo":return ga(h.ordinalNumber(o,{unit:"month"}),s);case"LLL":return h.month(o,{width:"abbreviated",context:"standalone"})||h.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return h.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(o,{width:"wide",context:"standalone"})||h.month(o,{width:"abbreviated",context:"standalone"})||h.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,u){return u>=0&&u<=11}},{key:"set",value:function(o,u,h){return o.setUTCMonth(h,1),o.setUTCHours(0,0,0,0),o}}]),i}(Os);function MF(e,t,i){qn(2,arguments);var r=pr(e),o=hr(t),u=p4(r,i)-o;return r.setUTCDate(r.getUTCDate()-u*7),r}var kF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",100),En(In(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"w":return Go(ma.week,o);case"wo":return h.ordinalNumber(o,{unit:"week"});default:return na(u.length,o)}}},{key:"validate",value:function(o,u){return u>=1&&u<=53}},{key:"set",value:function(o,u,h,s){return tm(MF(o,h,s),s)}}]),i}(Os);function AF(e,t){qn(2,arguments);var i=pr(e),r=hr(t),o=h4(i)-r;return i.setUTCDate(i.getUTCDate()-o*7),i}var PF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",100),En(In(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"I":return Go(ma.week,o);case"Io":return h.ordinalNumber(o,{unit:"week"});default:return na(u.length,o)}}},{key:"validate",value:function(o,u){return u>=1&&u<=53}},{key:"set",value:function(o,u,h){return Ug(AF(o,h))}}]),i}(Os),DF=[31,28,31,30,31,30,31,31,30,31,30,31],IF=[31,29,31,30,31,30,31,31,30,31,30,31],LF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",90),En(In(r),"subPriority",1),En(In(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"d":return Go(ma.date,o);case"do":return h.ordinalNumber(o,{unit:"date"});default:return na(u.length,o)}}},{key:"validate",value:function(o,u){var h=o.getUTCFullYear(),s=w4(h),v=o.getUTCMonth();return s?u>=1&&u<=IF[v]:u>=1&&u<=DF[v]}},{key:"set",value:function(o,u,h){return o.setUTCDate(h),o.setUTCHours(0,0,0,0),o}}]),i}(Os),OF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",90),En(In(r),"subpriority",1),En(In(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"D":case"DD":return Go(ma.dayOfYear,o);case"Do":return h.ordinalNumber(o,{unit:"date"});default:return na(u.length,o)}}},{key:"validate",value:function(o,u){var h=o.getUTCFullYear(),s=w4(h);return s?u>=1&&u<=366:u>=1&&u<=365}},{key:"set",value:function(o,u,h){return o.setUTCMonth(0,h),o.setUTCHours(0,0,0,0),o}}]),i}(Os);function LC(e,t,i){var r,o,u,h,s,v,I,J;qn(2,arguments);var M=xh(),B=hr((r=(o=(u=(h=i==null?void 0:i.weekStartsOn)!==null&&h!==void 0?h:i==null||(s=i.locale)===null||s===void 0||(v=s.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&u!==void 0?u:M.weekStartsOn)!==null&&o!==void 0?o:(I=M.locale)===null||I===void 0||(J=I.options)===null||J===void 0?void 0:J.weekStartsOn)!==null&&r!==void 0?r:0);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var W=pr(e),O=hr(t),L=W.getUTCDay(),G=O%7,k=(G+7)%7,S=(k<B?7:0)+O-L;return W.setUTCDate(W.getUTCDate()+S),W}var RF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",90),En(In(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"E":case"EE":case"EEE":return h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return h.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,u){return u>=0&&u<=6}},{key:"set",value:function(o,u,h,s){return o=LC(o,h,s),o.setUTCHours(0,0,0,0),o}}]),i}(Os),BF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",90),En(In(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h,s){var v=function(J){var M=Math.floor((J-1)/7)*7;return(J+s.weekStartsOn+6)%7+M};switch(u){case"e":case"ee":return ga(na(u.length,o),v);case"eo":return ga(h.ordinalNumber(o,{unit:"day"}),v);case"eee":return h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"eeeee":return h.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,u){return u>=0&&u<=6}},{key:"set",value:function(o,u,h,s){return o=LC(o,h,s),o.setUTCHours(0,0,0,0),o}}]),i}(Os),NF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",90),En(In(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h,s){var v=function(J){var M=Math.floor((J-1)/7)*7;return(J+s.weekStartsOn+6)%7+M};switch(u){case"c":case"cc":return ga(na(u.length,o),v);case"co":return ga(h.ordinalNumber(o,{unit:"day"}),v);case"ccc":return h.day(o,{width:"abbreviated",context:"standalone"})||h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"});case"ccccc":return h.day(o,{width:"narrow",context:"standalone"});case"cccccc":return h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return h.day(o,{width:"wide",context:"standalone"})||h.day(o,{width:"abbreviated",context:"standalone"})||h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,u){return u>=0&&u<=6}},{key:"set",value:function(o,u,h,s){return o=LC(o,h,s),o.setUTCHours(0,0,0,0),o}}]),i}(Os);function zF(e,t){qn(2,arguments);var i=hr(t);i%7===0&&(i=i-7);var r=1,o=pr(e),u=o.getUTCDay(),h=i%7,s=(h+7)%7,v=(s<r?7:0)+i-u;return o.setUTCDate(o.getUTCDate()+v),o}var FF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",90),En(In(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){var s=function(I){return I===0?7:I};switch(u){case"i":case"ii":return na(u.length,o);case"io":return h.ordinalNumber(o,{unit:"day"});case"iii":return ga(h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s);case"iiiii":return ga(h.day(o,{width:"narrow",context:"formatting"}),s);case"iiiiii":return ga(h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s);case"iiii":default:return ga(h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(o,u){return u>=1&&u<=7}},{key:"set",value:function(o,u,h){return o=zF(o,h),o.setUTCHours(0,0,0,0),o}}]),i}(Os),jF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",80),En(In(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"a":case"aa":case"aaa":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,u,h){return o.setUTCHours(IC(h),0,0,0),o}}]),i}(Os),UF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",80),En(In(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"b":case"bb":case"bbb":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,u,h){return o.setUTCHours(IC(h),0,0,0),o}}]),i}(Os),$F=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",80),En(In(r),"incompatibleTokens",["a","b","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"B":case"BB":case"BBB":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,u,h){return o.setUTCHours(IC(h),0,0,0),o}}]),i}(Os),VF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",70),En(In(r),"incompatibleTokens",["H","K","k","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"h":return Go(ma.hour12h,o);case"ho":return h.ordinalNumber(o,{unit:"hour"});default:return na(u.length,o)}}},{key:"validate",value:function(o,u){return u>=1&&u<=12}},{key:"set",value:function(o,u,h){var s=o.getUTCHours()>=12;return s&&h<12?o.setUTCHours(h+12,0,0,0):!s&&h===12?o.setUTCHours(0,0,0,0):o.setUTCHours(h,0,0,0),o}}]),i}(Os),GF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",70),En(In(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"H":return Go(ma.hour23h,o);case"Ho":return h.ordinalNumber(o,{unit:"hour"});default:return na(u.length,o)}}},{key:"validate",value:function(o,u){return u>=0&&u<=23}},{key:"set",value:function(o,u,h){return o.setUTCHours(h,0,0,0),o}}]),i}(Os),HF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",70),En(In(r),"incompatibleTokens",["h","H","k","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"K":return Go(ma.hour11h,o);case"Ko":return h.ordinalNumber(o,{unit:"hour"});default:return na(u.length,o)}}},{key:"validate",value:function(o,u){return u>=0&&u<=11}},{key:"set",value:function(o,u,h){var s=o.getUTCHours()>=12;return s&&h<12?o.setUTCHours(h+12,0,0,0):o.setUTCHours(h,0,0,0),o}}]),i}(Os),WF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",70),En(In(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"k":return Go(ma.hour24h,o);case"ko":return h.ordinalNumber(o,{unit:"hour"});default:return na(u.length,o)}}},{key:"validate",value:function(o,u){return u>=1&&u<=24}},{key:"set",value:function(o,u,h){var s=h<=24?h%24:h;return o.setUTCHours(s,0,0,0),o}}]),i}(Os),YF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",60),En(In(r),"incompatibleTokens",["t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"m":return Go(ma.minute,o);case"mo":return h.ordinalNumber(o,{unit:"minute"});default:return na(u.length,o)}}},{key:"validate",value:function(o,u){return u>=0&&u<=59}},{key:"set",value:function(o,u,h){return o.setUTCMinutes(h,0,0),o}}]),i}(Os),qF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",50),En(In(r),"incompatibleTokens",["t","T"]),r}return ls(i,[{key:"parse",value:function(o,u,h){switch(u){case"s":return Go(ma.second,o);case"so":return h.ordinalNumber(o,{unit:"second"});default:return na(u.length,o)}}},{key:"validate",value:function(o,u){return u>=0&&u<=59}},{key:"set",value:function(o,u,h){return o.setUTCSeconds(h,0),o}}]),i}(Os),XF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",30),En(In(r),"incompatibleTokens",["t","T"]),r}return ls(i,[{key:"parse",value:function(o,u){var h=function(v){return Math.floor(v*Math.pow(10,-u.length+3))};return ga(na(u.length,o),h)}},{key:"set",value:function(o,u,h){return o.setUTCMilliseconds(h),o}}]),i}(Os),ZF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",10),En(In(r),"incompatibleTokens",["t","T","x"]),r}return ls(i,[{key:"parse",value:function(o,u){switch(u){case"X":return uh(ch.basicOptionalMinutes,o);case"XX":return uh(ch.basic,o);case"XXXX":return uh(ch.basicOptionalSeconds,o);case"XXXXX":return uh(ch.extendedOptionalSeconds,o);case"XXX":default:return uh(ch.extended,o)}}},{key:"set",value:function(o,u,h){return u.timestampIsSet?o:new Date(o.getTime()-h)}}]),i}(Os),KF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",10),En(In(r),"incompatibleTokens",["t","T","X"]),r}return ls(i,[{key:"parse",value:function(o,u){switch(u){case"x":return uh(ch.basicOptionalMinutes,o);case"xx":return uh(ch.basic,o);case"xxxx":return uh(ch.basicOptionalSeconds,o);case"xxxxx":return uh(ch.extendedOptionalSeconds,o);case"xxx":default:return uh(ch.extended,o)}}},{key:"set",value:function(o,u,h){return u.timestampIsSet?o:new Date(o.getTime()-h)}}]),i}(Os),JF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",40),En(In(r),"incompatibleTokens","*"),r}return ls(i,[{key:"parse",value:function(o){return x4(o)}},{key:"set",value:function(o,u,h){return[new Date(h*1e3),{timestampIsSet:!0}]}}]),i}(Os),QF=function(e){Ts(i,e);var t=Ss(i);function i(){var r;as(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return r=t.call.apply(t,[this].concat(u)),En(In(r),"priority",20),En(In(r),"incompatibleTokens","*"),r}return ls(i,[{key:"parse",value:function(o){return x4(o)}},{key:"set",value:function(o,u,h){return[new Date(h),{timestampIsSet:!0}]}}]),i}(Os),ej={G:new _F,y:new vF,Y:new xF,R:new bF,u:new wF,Q:new TF,q:new SF,M:new CF,L:new EF,w:new kF,I:new PF,d:new LF,D:new OF,E:new RF,e:new BF,c:new NF,i:new FF,a:new jF,b:new UF,B:new $F,h:new VF,H:new GF,K:new HF,k:new WF,m:new YF,s:new qF,S:new XF,X:new ZF,x:new KF,t:new JF,T:new QF},tj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ij=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nj=/^'([^]*?)'?$/,rj=/''/g,sj=/\S/,oj=/[a-zA-Z]/;function BT(e,t,i,r){var o,u,h,s,v,I,J,M,B,W,O,L,G,k,S,A,H,U;qn(3,arguments);var E=String(e),ie=String(t),ee=xh(),$=(o=(u=r==null?void 0:r.locale)!==null&&u!==void 0?u:ee.locale)!==null&&o!==void 0?o:y4;if(!$.match)throw new RangeError("locale must contain match property");var V=hr((h=(s=(v=(I=r==null?void 0:r.firstWeekContainsDate)!==null&&I!==void 0?I:r==null||(J=r.locale)===null||J===void 0||(M=J.options)===null||M===void 0?void 0:M.firstWeekContainsDate)!==null&&v!==void 0?v:ee.firstWeekContainsDate)!==null&&s!==void 0?s:(B=ee.locale)===null||B===void 0||(W=B.options)===null||W===void 0?void 0:W.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=hr((O=(L=(G=(k=r==null?void 0:r.weekStartsOn)!==null&&k!==void 0?k:r==null||(S=r.locale)===null||S===void 0||(A=S.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&G!==void 0?G:ee.weekStartsOn)!==null&&L!==void 0?L:(H=ee.locale)===null||H===void 0||(U=H.options)===null||U===void 0?void 0:U.weekStartsOn)!==null&&O!==void 0?O:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(ie==="")return E===""?pr(i):new Date(NaN);var w={firstWeekContainsDate:V,weekStartsOn:j,locale:$},D=[new yF],m=ie.match(ij).map(function(Ce){var ne=Ce[0];if(ne in OT){var ve=OT[ne];return ve(Ce,$.formatLong)}return Ce}).join("").match(tj),g=[],x=DE(m),P;try{var X=function(){var ne=P.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&g4(ne)&&db(ne,ie,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&m4(ne)&&db(ne,ie,e);var ve=ne[0],_e=ej[ve];if(_e){var oe=_e.incompatibleTokens;if(Array.isArray(oe)){var ge=g.find(function(Re){return oe.includes(Re.token)||Re.token===ve});if(ge)throw new RangeError("The format string mustn't contain `".concat(ge.fullToken,"` and `").concat(ne,"` at the same time"))}else if(_e.incompatibleTokens==="*"&&g.length>0)throw new RangeError("The format string mustn't contain `".concat(ne,"` and any other token at the same time"));g.push({token:ve,fullToken:ne});var Te=_e.run(E,ne,$.match,w);if(!Te)return{v:new Date(NaN)};D.push(Te.setter),E=Te.rest}else{if(ve.match(oj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ve+"`");if(ne==="''"?ne="'":ve==="'"&&(ne=aj(ne)),E.indexOf(ne)===0)E=E.slice(ne.length);else return{v:new Date(NaN)}}};for(x.s();!(P=x.n()).done;){var Y=X();if(nd(Y)==="object")return Y.v}}catch(Ce){x.e(Ce)}finally{x.f()}if(E.length>0&&sj.test(E))return new Date(NaN);var K=D.map(function(Ce){return Ce.priority}).sort(function(Ce,ne){return ne-Ce}).filter(function(Ce,ne,ve){return ve.indexOf(Ce)===ne}).map(function(Ce){return D.filter(function(ne){return ne.priority===Ce}).sort(function(ne,ve){return ve.subPriority-ne.subPriority})}).map(function(Ce){return Ce[0]}),le=pr(i);if(isNaN(le.getTime()))return new Date(NaN);var pe=u4(le,ub(le)),fe={},z=DE(K),Q;try{for(z.s();!(Q=z.n()).done;){var se=Q.value;if(!se.validate(pe,w))return new Date(NaN);var de=se.set(pe,fe,w);Array.isArray(de)?(pe=de[0],iF(fe,de[1])):pe=de}}catch(Ce){z.e(Ce)}finally{z.f()}return pe}function aj(e){return e.match(nj)[1].replace(rj,"'")}function lj(e,t){qn(2,arguments);var i=hr(t);return rp(e,-i)}function cj(e,t){var i;qn(1,arguments);var r=hr((i=t==null?void 0:t.additionalDigits)!==null&&i!==void 0?i:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=pj(e),u;if(o.date){var h=fj(o.date,r);u=mj(h.restDateString,h.year)}if(!u||isNaN(u.getTime()))return new Date(NaN);var s=u.getTime(),v=0,I;if(o.time&&(v=gj(o.time),isNaN(v)))return new Date(NaN);if(o.timezone){if(I=yj(o.timezone),isNaN(I))return new Date(NaN)}else{var J=new Date(s+v),M=new Date(0);return M.setFullYear(J.getUTCFullYear(),J.getUTCMonth(),J.getUTCDate()),M.setHours(J.getUTCHours(),J.getUTCMinutes(),J.getUTCSeconds(),J.getUTCMilliseconds()),M}return new Date(s+v+I)}var mx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},uj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pj(e){var t={},i=e.split(mx.dateTimeDelimiter),r;if(i.length>2)return t;if(/:/.test(i[0])?r=i[0]:(t.date=i[0],r=i[1],mx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=mx.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function fj(e,t){var i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(i);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,u=r[2]?parseInt(r[2]):null;return{year:u===null?o:u*100,restDateString:e.slice((r[1]||r[2]).length)}}function mj(e,t){if(t===null)return new Date(NaN);var i=e.match(uj);if(!i)return new Date(NaN);var r=!!i[4],o=Ly(i[1]),u=Ly(i[2])-1,h=Ly(i[3]),s=Ly(i[4]),v=Ly(i[5])-1;if(r)return wj(t,s,v)?_j(t,s,v):new Date(NaN);var I=new Date(0);return!xj(t,u,h)||!bj(t,o)?new Date(NaN):(I.setUTCFullYear(t,u,Math.max(o,h)),I)}function Ly(e){return e?parseInt(e):1}function gj(e){var t=e.match(dj);if(!t)return NaN;var i=S3(t[1]),r=S3(t[2]),o=S3(t[3]);return Tj(i,r,o)?i*PC+r*AC+o*1e3:NaN}function S3(e){return e&&parseFloat(e.replace(",","."))||0}function yj(e){if(e==="Z")return 0;var t=e.match(hj);if(!t)return 0;var i=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return Sj(r,o)?i*(r*PC+o*AC):NaN}function _j(e,t,i){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,u=(t-1)*7+i+1-o;return r.setUTCDate(r.getUTCDate()+u),r}var vj=[31,null,31,30,31,30,31,31,30,31,30,31];function T4(e){return e%400===0||e%4===0&&e%100!==0}function xj(e,t,i){return t>=0&&t<=11&&i>=1&&i<=(vj[t]||(T4(e)?29:28))}function bj(e,t){return t>=1&&t<=(T4(e)?366:365)}function wj(e,t,i){return t>=1&&t<=53&&i>=0&&i<=6}function Tj(e,t,i){return e===24?t===0&&i===0:i>=0&&i<60&&t>=0&&t<60&&e>=0&&e<25}function Sj(e,t){return t>=0&&t<=59}function xg(e,t){qn(2,arguments);var i=pr(e),r=hr(t),o=i.getFullYear(),u=i.getDate(),h=new Date(0);h.setFullYear(o,r,15),h.setHours(0,0,0,0);var s=rF(h);return i.setMonth(r,Math.min(u,s)),i}function nl(e,t){if(qn(2,arguments),nd(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var i=pr(e);return isNaN(i.getTime())?new Date(NaN):(t.year!=null&&i.setFullYear(t.year),t.month!=null&&(i=xg(i,t.month)),t.date!=null&&i.setDate(hr(t.date)),t.hours!=null&&i.setHours(hr(t.hours)),t.minutes!=null&&i.setMinutes(hr(t.minutes)),t.seconds!=null&&i.setSeconds(hr(t.seconds)),t.milliseconds!=null&&i.setMilliseconds(hr(t.milliseconds)),i)}function S4(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return i.setHours(r),i}function OC(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return i.setMilliseconds(r),i}function C4(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return i.setMinutes(r),i}function E4(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return i.setSeconds(r),i}function sp(e,t){qn(2,arguments);var i=pr(e),r=hr(t);return isNaN(i.getTime())?new Date(NaN):(i.setFullYear(r),i)}function Ag(e,t){qn(2,arguments);var i=hr(t);return ph(e,-i)}function Cj(e,t){if(qn(2,arguments),!t||nd(t)!=="object")return new Date(NaN);var i=t.years?hr(t.years):0,r=t.months?hr(t.months):0,o=t.weeks?hr(t.weeks):0,u=t.days?hr(t.days):0,h=t.hours?hr(t.hours):0,s=t.minutes?hr(t.minutes):0,v=t.seconds?hr(t.seconds):0,I=Ag(e,r+i*12),J=lj(I,u+o*7),M=s+h*60,B=v+M*60,W=B*1e3,O=new Date(J.getTime()-W);return O}function Ej(e,t){qn(2,arguments);var i=hr(t);return l4(e,-i)}function d2(){return pt(),St("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[je("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),je("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),je("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),je("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function Mj(){return pt(),St("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[je("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),je("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function LE(){return pt(),St("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[je("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function OE(){return pt(),St("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[je("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function M4(){return pt(),St("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[je("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),je("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function k4(){return pt(),St("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[je("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function A4(){return pt(),St("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[je("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const RE=(e,t,i,r,o)=>{const u=BT(e,t.slice(0,e.length),new Date);return Wy(u)&&c4(u)?r||o?u:nl(u,{hours:+i.hours,minutes:+(i==null?void 0:i.minutes),seconds:+(i==null?void 0:i.seconds),milliseconds:0}):null},kj=(e,t,i,r,o)=>{const u=Array.isArray(i)?i[0]:i;if(typeof t=="string")return RE(e,t,u,r,o);if(Array.isArray(t)){let h=null;for(const s of t)if(h=RE(e,s,u,r,o),h)break;return h}return typeof t=="function"?t(e):null},Zi=e=>e?new Date(e):new Date,Aj=(e,t,i)=>{if(t){const o=(e.getMonth()+1).toString().padStart(2,"0"),u=e.getDate().toString().padStart(2,"0"),h=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),v=i?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${o}-${u}T${h}:${s}:${v}.000Z`}const r=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(r).toISOString()},td=e=>{let t=Zi(JSON.parse(JSON.stringify(e)));return t=S4(t,0),t=C4(t,0),t=E4(t,0),t=OC(t,0),t},Zu=(e,t,i,r)=>{let o=e?Zi(e):Zi();return(t||t===0)&&(o=S4(o,+t)),(i||i===0)&&(o=C4(o,+i)),(r||r===0)&&(o=E4(o,+r)),OC(o,0)},Fl=(e,t)=>!e||!t?!1:u_(td(e),td(t)),Ys=(e,t)=>!e||!t?!1:j0(td(e),td(t)),vc=(e,t)=>!e||!t?!1:c_(td(e),td(t)),P4=(e,t,i)=>e&&e[0]&&e[1]?vc(i,e[0])&&Fl(i,e[1]):e&&e[0]&&t?vc(i,e[0])&&Fl(i,t)||Fl(i,e[0])&&vc(i,t):!1,Oy=e=>{const t=nl(new Date(e),{date:1});return td(t)},C3=(e,t,i)=>t&&(i||i===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===t?[r,i]:[r,isNaN(+e[r])?void 0:+e[r]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},gx=e=>({hours:ep(e),minutes:tp(e),seconds:$g(e)}),Ry=Id({menuFocused:!1,shiftKeyInMenu:!1}),D4=()=>{const e=i=>{Ry.menuFocused=i},t=i=>{Ry.shiftKeyInMenu!==i&&(Ry.shiftKeyInMenu=i)};return{control:Ui(()=>({shiftKeyInMenu:Ry.shiftKeyInMenu,menuFocused:Ry.menuFocused})),setMenuFocused:e,setShiftKey:t}};function RC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I4={exports:{}};(function(e){function t(i){return i&&i.__esModule?i:{default:i}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(I4);var Pj=I4.exports,NT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;function i(r){if(r===null||r===!0||r===!1)return NaN;var o=Number(r);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}e.exports=t.default})(NT,NT.exports);var Dj=NT.exports;const Ij=RC(Dj);var zT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;function i(r){var o=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return o.setUTCFullYear(r.getFullYear()),r.getTime()-o.getTime()}e.exports=t.default})(zT,zT.exports);var Lj=zT.exports;const BE=RC(Lj);function Oj(e,t){var i=zj(t);return i.formatToParts?Bj(i,e):Nj(i,e)}var Rj={year:0,month:1,day:2,hour:3,minute:4,second:5};function Bj(e,t){try{for(var i=e.formatToParts(t),r=[],o=0;o<i.length;o++){var u=Rj[i[o].type];u>=0&&(r[u]=parseInt(i[o].value,10))}return r}catch(h){if(h instanceof RangeError)return[NaN];throw h}}function Nj(e,t){var i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var E3={};function zj(e){if(!E3[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),i=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";E3[e]=i?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return E3[e]}function BC(e,t,i,r,o,u,h){var s=new Date(0);return s.setUTCFullYear(e,t,i),s.setUTCHours(r,o,u,h),s}var NE=36e5,Fj=6e4,M3={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function NC(e,t,i){var r,o;if(!e||(r=M3.timezoneZ.exec(e),r))return 0;var u;if(r=M3.timezoneHH.exec(e),r)return u=parseInt(r[1],10),zE(u)?-(u*NE):NaN;if(r=M3.timezoneHHMM.exec(e),r){u=parseInt(r[1],10);var h=parseInt(r[2],10);return zE(u,h)?(o=Math.abs(u)*NE+h*Fj,u>0?-o:o):NaN}if($j(e)){t=new Date(t||Date.now());var s=i?t:jj(t),v=FT(s,e),I=i?v:Uj(t,v,e);return-I}return NaN}function jj(e){return BC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function FT(e,t){var i=Oj(e,t),r=BC(i[0],i[1]-1,i[2],i[3]%24,i[4],i[5],0).getTime(),o=e.getTime(),u=o%1e3;return o-=u>=0?u:1e3+u,r-o}function Uj(e,t,i){var r=e.getTime(),o=r-t,u=FT(new Date(o),i);if(t===u)return t;o-=u-t;var h=FT(new Date(o),i);return u===h?u:Math.max(u,h)}function zE(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var FE={};function $j(e){if(FE[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),FE[e]=!0,!0}catch{return!1}}var Vj=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const L4=Vj;var k3=36e5,jE=6e4,Gj=2,_c={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:L4};function jT(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var i=t||{},r=i.additionalDigits==null?Gj:Ij(i.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=Hj(e),u=Wj(o.date,r),h=u.year,s=u.restDateString,v=Yj(s,h);if(isNaN(v))return new Date(NaN);if(v){var I=v.getTime(),J=0,M;if(o.time&&(J=qj(o.time),isNaN(J)))return new Date(NaN);if(o.timeZone||i.timeZone){if(M=NC(o.timeZone||i.timeZone,new Date(I+J)),isNaN(M))return new Date(NaN)}else M=BE(new Date(I+J)),M=BE(new Date(I+J+M));return new Date(I+J+M)}else return new Date(NaN)}function Hj(e){var t={},i=_c.dateTimePattern.exec(e),r;if(i?(t.date=i[1],r=i[3]):(i=_c.datePattern.exec(e),i?(t.date=i[1],r=i[2]):(t.date=null,r=e)),r){var o=_c.timeZone.exec(r);o?(t.time=r.replace(o[1],""),t.timeZone=o[1].trim()):t.time=r}return t}function Wj(e,t){var i=_c.YYY[t],r=_c.YYYYY[t],o;if(o=_c.YYYY.exec(e)||r.exec(e),o){var u=o[1];return{year:parseInt(u,10),restDateString:e.slice(u.length)}}if(o=_c.YY.exec(e)||i.exec(e),o){var h=o[1];return{year:parseInt(h,10)*100,restDateString:e.slice(h.length)}}return{year:null}}function Yj(e,t){if(t===null)return null;var i,r,o,u;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(i=_c.MM.exec(e),i)return r=new Date(0),o=parseInt(i[1],10)-1,$E(t,o)?(r.setUTCFullYear(t,o),r):new Date(NaN);if(i=_c.DDD.exec(e),i){r=new Date(0);var h=parseInt(i[1],10);return Kj(t,h)?(r.setUTCFullYear(t,0,h),r):new Date(NaN)}if(i=_c.MMDD.exec(e),i){r=new Date(0),o=parseInt(i[1],10)-1;var s=parseInt(i[2],10);return $E(t,o,s)?(r.setUTCFullYear(t,o,s),r):new Date(NaN)}if(i=_c.Www.exec(e),i)return u=parseInt(i[1],10)-1,VE(t,u)?UE(t,u):new Date(NaN);if(i=_c.WwwD.exec(e),i){u=parseInt(i[1],10)-1;var v=parseInt(i[2],10)-1;return VE(t,u,v)?UE(t,u,v):new Date(NaN)}return null}function qj(e){var t,i,r;if(t=_c.HH.exec(e),t)return i=parseFloat(t[1].replace(",",".")),A3(i)?i%24*k3:NaN;if(t=_c.HHMM.exec(e),t)return i=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),A3(i,r)?i%24*k3+r*jE:NaN;if(t=_c.HHMMSS.exec(e),t){i=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return A3(i,r,o)?i%24*k3+r*jE+o*1e3:NaN}return null}function UE(e,t,i){t=t||0,i=i||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,u=t*7+i+1-o;return r.setUTCDate(r.getUTCDate()+u),r}var Xj=[31,28,31,30,31,30,31,31,30,31,30,31],Zj=[31,29,31,30,31,30,31,31,30,31,30,31];function O4(e){return e%400===0||e%4===0&&e%100!==0}function $E(e,t,i){if(t<0||t>11)return!1;if(i!=null){if(i<1)return!1;var r=O4(e);if(r&&i>Zj[t]||!r&&i>Xj[t])return!1}return!0}function Kj(e,t){if(t<1)return!1;var i=O4(e);return!(i&&t>366||!i&&t>365)}function VE(e,t,i){return!(t<0||t>52||i!=null&&(i<0||i>6))}function A3(e,t,i){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||i!=null&&(i<0||i>=60))}var UT={exports:{}},$T={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;function i(r,o){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u]);return r}e.exports=t.default})($T,$T.exports);var Jj=$T.exports;(function(e,t){var i=Pj.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=i(Jj);function o(u){return(0,r.default)({},u)}e.exports=t.default})(UT,UT.exports);var Qj=UT.exports;const eU=RC(Qj);function tU(e,t,i){var r=jT(e,i),o=NC(t,r,!0),u=new Date(r.getTime()-o),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}function iU(e,t,i){if(typeof e=="string"&&!e.match(L4)){var r=eU(i);return r.timeZone=t,jT(e,r)}var o=jT(e,i),u=BC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()).getTime(),h=NC(t,new Date(u));return new Date(u+h)}const nU=(e,t=3)=>{const i=[];for(let r=0;r<e.length;r+=t)i.push([e[r],e[r+1],e[r+2]]);return i};function GE(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function rU(e){return t=>X0(new Date(`2017-01-0${t}T00:00:00+00:00`),"EEEEEE",{locale:e})}const sU=(e,t,i)=>{const r=[1,2,3,4,5,6,7];let o;if(e!==null)try{o=r.map(rU(e))}catch{o=r.map(GE(t))}else o=r.map(GE(t));const u=o.slice(0,i),h=o.slice(i+1,o.length);return[o[i]].concat(...h).concat(...u)},oU=(e,t)=>{const i=[];for(let r=+e[0];r<=+e[1];r++)i.push({value:+r,text:`${r}`});return t?i.reverse():i},aU=(e,t,i)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(u=>{const h=u<10?`0${u}`:u;return new Date(`2017-${h}-01T00:00:00+00:00`)});if(e!==null)try{const u=i==="long"?"MMMM":"MMM";return r.map((h,s)=>{const v=X0(h,u,{locale:e});return{text:v.charAt(0).toUpperCase()+v.substring(1),value:s}})}catch{}const o=new Intl.DateTimeFormat(t,{month:i,timeZone:"UTC"});return r.map((u,h)=>{const s=o.format(u);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:h}})},lU=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Qo=e=>{const t=Ft(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},cU=e=>Object.assign({type:"dot"},e),R4=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,fb={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Nl=e=>e,HE=e=>e===0?e:!e||isNaN(+e)?null:+e,uU=e=>e===0?!0:!!e,WE=e=>e===null,dU=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},YE=e=>Object.assign({menuAppear:"",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},e),hU=e=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},e),pU=e=>e===null?0:typeof e=="boolean"?e?2:0:+e>=2?+e:2,fU=(e,t,i)=>e||(typeof i=="string"?i:t),mU=e=>typeof e=="boolean"?e?YE({}):!1:YE(e),gU=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),yU=e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e),_U=e=>Object.assign({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0},e),Cu=e=>{const t=()=>{if(e.partialRange)return null;throw new Error(fb.prop("partial-range"))},i=Ui(()=>({ariaLabels:hU(e.ariaLabels),textInputOptions:Object.assign(gU(),e.textInputOptions),multiCalendars:pU(e.multiCalendars),previewFormat:fU(e.previewFormat,e.format,u()),filters:yU(e.filters),transitions:mU(e.transitions),startTime:W(),actionRow:_U(e.actionRow)})),r=fe=>{if(e.range)return fe();throw new Error(fb.prop("range"))},o=()=>{const fe=e.enableSeconds?":ss":"";return e.is24?`HH:mm${fe}`:`hh:mm${fe} aa`},u=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?o():e.weekPicker?"MM/dd/yyyy":e.yearPicker?"yyyy":e.enableTimePicker?`MM/dd/yyyy, ${o()}`:"MM/dd/yyyy",h=(fe,z)=>{if(typeof e.format=="function")return e.format(fe);const Q=z||u(),se=e.formatLocale?{locale:e.formatLocale}:void 0;return Array.isArray(fe)?`${X0(fe[0],Q,se)}${e.modelAuto&&!fe[1]?"":i.value.textInputOptions.rangeSeparator||"-"}${fe[1]?X0(fe[1],Q,se):""}`:X0(fe,Q,se)},s=fe=>e.timezone?tU(fe,e.timezone):fe,v=fe=>e.timezone?iU(fe,e.timezone):fe,I=Ui(()=>fe=>{var z;return(z=e.hideNavigation)==null?void 0:z.includes(fe)}),J=fe=>{var z,Q,se,de;return Array.isArray(e.allowedDates)&&!((z=e.allowedDates)!=null&&z.length)?!0:(Q=e.arrMapValues)!=null&&Q.allowedDates?!S(fe,e.arrMapValues.allowedDates):(se=e.allowedDates)!=null&&se.length?!((de=e.allowedDates)!=null&&de.some(Ce=>Ys(s(Zi(Ce)),s(fe)))):!1},M=fe=>{var z;const Q=e.maxDate?vc(s(fe),s(Zi(e.maxDate))):!1,se=e.minDate?Fl(s(fe),s(Zi(e.minDate))):!1,de=S(fe,(z=e.arrMapValues)!=null&&z.disabledDates?e.arrMapValues.disabledDates:e.disabledDates),Ce=i.value.filters.months.map(ge=>+ge).includes(yo(fe)),ne=e.disabledWeekDays.length?e.disabledWeekDays.some(ge=>+ge===nF(fe)):!1,ve=J(fe),_e=Ao(fe),oe=_e<+e.yearRange[0]||_e>+e.yearRange[1];return!(Q||se||de||Ce||oe||ne||ve)},B=fe=>{const z={hours:ep(Zi()),minutes:tp(Zi()),seconds:e.enableSeconds?$g(Zi()):0};return Object.assign(z,fe)},W=()=>e.range?e.startTime&&Array.isArray(e.startTime)?[B(e.startTime[0]),B(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?B(e.startTime):null,O=fe=>!M(fe),L=fe=>Array.isArray(fe)?Wy(fe[0])&&(fe[1]?Wy(fe[1]):!0):fe?Wy(fe):!1,G=fe=>fe instanceof Date?fe:cj(fe),k=fe=>{const z=em(s(fe),{weekStartsOn:+e.weekStart}),Q=JN(s(fe),{weekStartsOn:+e.weekStart});return[z,Q]},S=(fe,z)=>fe?z instanceof Map?!!z.get(K(fe)):Array.isArray(z)?z.some(Q=>Ys(s(Zi(Q)),s(fe))):z(Zi(JSON.parse(JSON.stringify(fe)))):!0,A=(fe,z,Q)=>{let se=fe?Zi(fe):Zi();return(z||z===0)&&(se=xg(se,z)),Q&&(se=sp(se,Q)),se},H=fe=>nl(Zi(),gx(fe)),U=fe=>nl(Zi(),{hours:+fe.hours||0,minutes:+fe.minutes||0,seconds:+fe.seconds||0}),E=(fe,z,Q,se)=>{if(!fe)return!0;if(se){const de=Q==="max"?u_(fe,z):c_(fe,z),Ce={seconds:0,milliseconds:0};return de||j0(nl(fe,Ce),nl(z,Ce))}return Q==="max"?fe.getTime()<=z.getTime():fe.getTime()>=z.getTime()},ie=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,ee=fe=>Array.isArray(fe)?[fe[0]?H(fe[0]):null,fe[1]?H(fe[1]):null]:H(fe),$=fe=>{const z=e.maxTime?U(e.maxTime):Zi(e.maxDate);return Array.isArray(fe)?E(fe[0],z,"max",!!e.maxDate)&&E(fe[1],z,"max",!!e.maxDate):E(fe,z,"max",!!e.maxDate)},V=(fe,z)=>{const Q=e.minTime?U(e.minTime):Zi(e.minDate);return Array.isArray(fe)?E(fe[0],Q,"min",!!e.minDate)&&E(fe[1],Q,"min",!!e.minDate)&&z:E(fe,Q,"min",!!e.minDate)&&z},j=fe=>{let z=!0;if(!fe||ie())return!0;const Q=!e.minDate&&!e.maxDate?ee(fe):fe;if((e.maxTime||e.maxDate)&&(z=$(Nl(Q))),(e.minTime||e.minDate)&&(z=V(Nl(Q),z)),e.disabledTimes){const se=Array.isArray(fe)?[gx(fe[0]),fe[1]?gx(fe[1]):void 0]:gx(fe);z=!e.disabledTimes(se)}return z},w=(fe,z)=>{const Q=Zi(JSON.parse(JSON.stringify(fe))),se=[];for(let de=0;de<7;de++){const Ce=rp(Q,de),ne=yo(Ce)!==z;se.push({text:e.hideOffsetDates&&ne?"":Ce.getDate(),value:Ce,current:!ne,classData:{}})}return se},D=(fe,z)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[fe==0,!0];case"fair":return[fe==0||z>fe,!0];case"append":return[!1,!1];default:return[!1,!1]}},m=(fe,z)=>{const Q=[],se=Zi(s(new Date(z,fe))),de=Zi(s(new Date(z,fe+1,0))),Ce=e.weekStart,ne=em(se,{weekStartsOn:Ce}),ve=_e=>{const oe=w(_e,fe);if(Q.push({days:oe}),!Q[Q.length-1].days.some(ge=>Ys(td(ge.value),td(de)))){const ge=rp(_e,7);ve(ge)}};if(ve(ne),e.sixWeeks&&Q.length<6){const _e=6-Q.length,oe=(se.getDay()+7-Ce)%7,ge=6-(de.getDay()+7-Ce)%7,[Te,Re]=D(oe,ge);for(let Le=1;Le<=_e;Le++)if(Re?!!(Le%2)==Te:Te){const $e=Q[0].days[0],nt=w(rp($e.value,-7),yo(se));Q.unshift({days:nt})}else{const $e=Q[Q.length-1],nt=$e.days[$e.days.length-1],Qe=w(rp(nt.value,1),yo(se));Q.push({days:Qe})}}return Q},g=(fe,z,Q)=>[nl(Zi(fe),{date:1}),nl(Zi(),{month:z,year:Q,date:1})],x=(fe,z)=>Fl(...g(e.minDate,fe,z))||Ys(...g(e.minDate,fe,z)),P=(fe,z)=>vc(...g(e.maxDate,fe,z))||Ys(...g(e.maxDate,fe,z)),X=(fe,z,Q)=>{let se=!1;return e.maxDate&&Q&&P(fe,z)&&(se=!0),e.minDate&&!Q&&x(fe,z)&&(se=!0),se},Y=(fe,z,Q,se)=>{let de=!1;return se?e.minDate&&e.maxDate?de=X(fe,z,Q):(e.minDate&&x(fe,z)||e.maxDate&&P(fe,z))&&(de=!0):de=!0,de},K=fe=>{const z=td(s(Zi(fe))).toISOString(),[Q]=z.split("T");return Q},le=fe=>new Map(fe.map(z=>[K(z),!0])),pe=fe=>Array.isArray(fe)&&fe.length>0;return{checkPartialRangeValue:t,checkRangeEnabled:r,getZonedDate:s,getZonedToUtc:v,formatDate:h,getDefaultPattern:u,validateDate:M,getDefaultStartTime:W,isDisabled:O,isValidDate:L,sanitizeDate:G,getWeekFromDate:k,matchDate:S,setDateMonthOrYear:A,isValidTime:j,getCalendarDays:m,validateMonthYearInRange:Y,validateMaxDate:P,validateMinDate:x,assignDefaultTime:B,mapDatesArrToMap:fe=>{pe(e.allowedDates)&&(fe.allowedDates=le(e.allowedDates)),pe(e.highlight)&&(fe.highlightedDates=le(e.highlight)),pe(e.disabledDates)&&(fe.disabledDates=le(e.disabledDates))},defaults:i,hideNavigationButtons:I}},ko=Id({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),P3=Ki(null),yx=Ki(!1),D3=Ki(!1),I3=Ki(!1),L3=Ki(!1),fc=Ki(0),gl=Ki(0),Df=()=>{const e=Ui(()=>yx.value?[...ko.selectionGrid,ko.actionRow].filter(M=>M.length):D3.value?[...ko.timePicker[0],...ko.timePicker[1],L3.value?[]:[P3.value],ko.actionRow].filter(M=>M.length):I3.value?[...ko.monthPicker,ko.actionRow]:[ko.monthYear,...ko.calendar,ko.time,ko.actionRow].filter(M=>M.length)),t=M=>{fc.value=M?fc.value+1:fc.value-1;let B=null;e.value[gl.value]&&(B=e.value[gl.value][fc.value]),B||(fc.value=M?fc.value-1:fc.value+1)},i=M=>{gl.value===0&&!M||gl.value===e.value.length&&M||(gl.value=M?gl.value+1:gl.value-1,e.value[gl.value]?e.value[gl.value]&&!e.value[gl.value][fc.value]&&fc.value!==0&&(fc.value=e.value[gl.value].length-1):gl.value=M?gl.value-1:gl.value+1)},r=M=>{let B=null;e.value[gl.value]&&(B=e.value[gl.value][fc.value]),B?B.focus({preventScroll:!yx.value}):fc.value=M?fc.value-1:fc.value+1},o=()=>{t(!0),r(!0)},u=()=>{t(!1),r(!1)},h=()=>{i(!1),r(!0)},s=()=>{i(!0),r(!0)},v=(M,B)=>{ko[B]=M},I=(M,B)=>{ko[B]=M},J=()=>{fc.value=0,gl.value=0};return{buildMatrix:v,buildMultiLevelMatrix:I,setTimePickerBackRef:M=>{P3.value=M},setSelectionGrid:M=>{yx.value=M,J(),M||(ko.selectionGrid=[])},setTimePicker:(M,B=!1)=>{D3.value=M,L3.value=B,J(),M||(ko.timePicker[0]=[],ko.timePicker[1]=[])},setTimePickerElements:(M,B=0)=>{ko.timePicker[B]=M},arrowRight:o,arrowLeft:u,arrowUp:h,arrowDown:s,clearArrowNav:()=>{ko.monthYear=[],ko.calendar=[],ko.time=[],ko.actionRow=[],ko.selectionGrid=[],ko.timePicker[0]=[],ko.timePicker[1]=[],yx.value=!1,D3.value=!1,L3.value=!1,I3.value=!1,J(),P3.value=null},setMonthPicker:M=>{I3.value=M,J()},refSets:ko}},qE=e=>Array.isArray(e),A0=e=>Array.isArray(e),XE=e=>Array.isArray(e)&&e.length===2,vU=(e,t,i,r,o)=>{const{getDefaultStartTime:u,isDisabled:h,sanitizeDate:s,getWeekFromDate:v,setDateMonthOrYear:I,validateMonthYearInRange:J,defaults:M}=Cu(e),B=Ui({get:()=>e.internalModelValue,set:dt=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",dt)}}),W=Ki([]);Zs(B,(dt,Lt)=>{e.range?ie():j0(dt,Lt)||ie()});const O=xf(e,"multiCalendars");Zs(O,()=>{xe(0)});const L=Ki([{month:yo(Zi()),year:Ao(Zi())}]);Zs(L,()=>{L.value.forEach((dt,Lt)=>{t("update-month-year",{instance:Lt,month:dt.month,year:dt.year})})},{deep:!0});const G=Id({hours:e.range?[ep(Zi()),ep(Zi())]:ep(Zi()),minutes:e.range?[tp(Zi()),tp(Zi())]:tp(Zi()),seconds:e.range?[0,0]:0}),k=Ui(()=>dt=>L.value[dt]?L.value[dt].month:0),S=Ui(()=>dt=>L.value[dt]?L.value[dt].year:0),A=Ui(()=>{var dt;return(dt=e.flow)!=null&&dt.length&&!e.partialFlow?o.value===e.flow.length:!0}),H=(dt,Lt,ei)=>{var ki,on;L.value[dt]||(L.value[dt]={month:0,year:0}),L.value[dt].month=WE(Lt)?(ki=L.value[dt])==null?void 0:ki.month:Lt,L.value[dt].year=WE(ei)?(on=L.value[dt])==null?void 0:on.year:ei},U=(dt,Lt)=>{G[dt]=Lt},E=()=>{e.startDate&&(H(0,yo(Zi(e.startDate)),Ao(Zi(e.startDate))),M.value.multiCalendars&&xe(0))};zo(()=>{B.value||(E(),M.value.startTime&&P()),ie(!0),e.focusStartDate&&e.startDate&&E()});const ie=(dt=!1)=>{if(B.value)return Array.isArray(B.value)?(W.value=B.value,w(dt)):$(B.value,dt);if(e.timePicker)return D();if(e.monthPicker&&!e.range)return m();if(e.yearPicker&&!e.range)return g();if(M.value.multiCalendars&&dt&&!e.startDate)return ee(Zi(),dt)},ee=(dt,Lt=!1)=>{if((!M.value.multiCalendars||!e.multiStatic||Lt)&&H(0,yo(dt),Ao(dt)),M.value.multiCalendars)for(let ei=1;ei<M.value.multiCalendars;ei++){const ki=nl(Zi(),{month:k.value(ei-1),year:S.value(ei-1)}),on=a4(ki,{months:1});L.value[ei]={month:yo(on),year:Ao(on)}}},$=(dt,Lt)=>{ee(dt),U("hours",ep(dt)),U("minutes",tp(dt)),U("seconds",$g(dt)),M.value.multiCalendars&&Lt&&Y()},V=(dt,Lt)=>{dt[1]&&e.showLastInRange?ee(dt[1],Lt):ee(dt[0],Lt);const ei=(ki,on)=>[ki(dt[0]),dt[1]?ki(dt[1]):G[on][1]];U("hours",ei(ep,"hours")),U("minutes",ei(tp,"minutes")),U("seconds",ei($g,"seconds"))},j=(dt,Lt)=>{if((e.range||e.weekPicker)&&!e.multiDates)return V(dt,Lt);if(e.multiDates){const ei=dt[dt.length-1];return $(ei,Lt)}},w=dt=>{const Lt=B.value;j(Lt,dt),M.value.multiCalendars&&e.multiCalendarsSolo&&Y()},D=()=>{if(P(),!e.range)B.value=Zu(Zi(),G.hours,G.minutes,x());else{const dt=G.hours,Lt=G.minutes;B.value=[Zu(Zi(),dt[0],Lt[0],x()),Zu(Zi(),dt[1],Lt[1],x(!1))]}},m=()=>{e.multiDates?B.value=[I(Zi(),k.value(0),S.value(0))]:B.value=I(Zi(),k.value(0),S.value(0))},g=()=>{B.value=Zi()},x=(dt=!0)=>e.enableSeconds?Array.isArray(G.seconds)?dt?G.seconds[0]:G.seconds[1]:G.seconds:0,P=()=>{const dt=u();if(dt){const Lt=Array.isArray(dt),ei=Lt?[+dt[0].hours,+dt[1].hours]:+dt.hours,ki=Lt?[+dt[0].minutes,+dt[1].minutes]:+dt.minutes,on=Lt?[+dt[0].seconds,+dt[1].seconds]:+dt.seconds;U("hours",ei),U("minutes",ki),e.enableSeconds&&U("seconds",on)}},X=()=>Array.isArray(B.value)&&B.value.length?B.value[B.value.length-1]:null,Y=()=>{if(Array.isArray(B.value)&&B.value.length===2){const dt=Zi(Zi(B.value[1]?B.value[1]:ph(B.value[0],1))),[Lt,ei]=[yo(B.value[0]),Ao(B.value[0])],[ki,on]=[yo(B.value[1]),Ao(B.value[1])];(Lt!==ki||Lt===ki&&ei!==on)&&e.multiCalendarsSolo&&H(1,yo(dt),Ao(dt))}else B.value&&!Array.isArray(B.value)&&H(0,yo(B.value),Ao(B.value))},K=dt=>{const Lt=ph(dt,1);return{month:yo(Lt),year:Ao(Lt)}},le=dt=>{const Lt=yo(Zi(dt)),ei=Ao(Zi(dt));if(H(0,Lt,ei),M.value.multiCalendars>0)for(let ki=1;ki<M.value.multiCalendars;ki++){const on=K(nl(Zi(dt),{year:k.value(ki-1),month:S.value(ki-1)}));H(ki,on.month,on.year)}},pe=dt=>{if(B.value&&Array.isArray(B.value))if(B.value.some(Lt=>Ys(dt,Lt))){const Lt=B.value.filter(ei=>!Ys(ei,dt));B.value=Lt.length?Lt:null}else(e.multiDatesLimit&&+e.multiDatesLimit>B.value.length||!e.multiDatesLimit)&&B.value.push(dt);else B.value=[dt]},fe=(dt,Lt)=>{const ei=vc(dt,Lt)?Lt:dt,ki=vc(Lt,dt)?Lt:dt;return EE({start:ei,end:ki})},z=(dt,Lt=0)=>{if(Array.isArray(B.value)&&B.value[Lt]){const ei=ZN(dt,B.value[Lt]),ki=fe(B.value[Lt],dt),on=ki.length===1?0:ki.filter(Gr=>h(Gr)).length,Rn=Math.abs(ei)-on;if(e.minRange&&e.maxRange)return Rn>=+e.minRange&&Rn<=+e.maxRange;if(e.minRange)return Rn>=+e.minRange;if(e.maxRange)return Rn<=+e.maxRange}return!0},Q=dt=>Array.isArray(B.value)&&B.value.length===2?e.fixedStart&&(vc(dt,B.value[0])||Ys(dt,B.value[0]))?[B.value[0],dt]:e.fixedEnd&&(Fl(dt,B.value[1])||Ys(dt,B.value[1]))?[dt,B.value[1]]:(t("invalid-fixed-range",dt),B.value):[],se=()=>{e.autoApply&&A.value&&t("auto-apply",e.partialFlow)},de=()=>{e.autoApply&&t("select-date")},Ce=dt=>!EE({start:dt[0],end:dt[1]}).some(Lt=>h(Lt)),ne=dt=>(B.value=v(Zi(dt.value)),se()),ve=dt=>{const Lt=Zu(Zi(dt.value),G.hours,G.minutes,x());e.multiDates?pe(Lt):B.value=Lt,i(),se()},_e=()=>{W.value=B.value?B.value.slice():[],W.value.length===2&&!(e.fixedStart||e.fixedEnd)&&(W.value=[])},oe=(dt,Lt)=>{const ei=[Zi(dt.value),rp(Zi(dt.value),+e.autoRange)];Ce(ei)&&(Lt&&le(dt.value),W.value=ei)},ge=dt=>{Te(dt.value)||!z(dt.value,e.fixedStart?0:1)||(W.value=Q(Zi(dt.value)))},Te=dt=>e.noDisabledRange?fe(W.value[0],dt).some(Lt=>h(Lt)):!1,Re=(dt,Lt)=>{if(_e(),e.autoRange)return oe(dt,Lt);if(e.fixedStart||e.fixedEnd)return ge(dt);W.value[0]?z(Zi(dt.value))&&!Te(dt.value)&&(Fl(Zi(dt.value),Zi(W.value[0]))?(W.value.unshift(Zi(dt.value)),t("range-end",W.value[0])):(W.value[1]=Zi(dt.value),t("range-end",W.value[1]))):(W.value[0]=Zi(dt.value),t("range-start",W.value[0]))},Le=dt=>{W.value[dt]=Zu(W.value[dt],G.hours[dt],G.minutes[dt],x(dt!==1))},$e=()=>{var dt,Lt;W.value[0]&&W.value[1]&&+((dt=W.value)==null?void 0:dt[0])>+((Lt=W.value)==null?void 0:Lt[1])&&(W.value.reverse(),t("range-start",W.value[0]),t("range-end",W.value[1]))},nt=()=>{W.value.length&&(W.value[0]&&!W.value[1]?Le(0):(Le(0),Le(1),i()),$e(),B.value=W.value.slice(),W.value[0]&&W.value[1]&&e.autoApply&&t("auto-apply"),W.value[0]&&!W.value[1]&&e.modelAuto&&e.autoApply&&t("auto-apply"))},Qe=(dt,Lt=!1)=>{if(!(h(dt.value)||!dt.current&&e.hideOffsetDates)){if(e.weekPicker)return ne(dt);if(!e.range)return ve(dt);A0(G.hours)&&A0(G.minutes)&&!e.multiDates&&(Re(dt,Lt),nt())}},We=dt=>{const Lt=dt[0];return e.weekNumbers==="local"?uF(Lt.value,{weekStartsOn:+e.weekStart}):e.weekNumbers==="iso"?oF(Lt.value):typeof e.weekNumbers=="function"?e.weekNumbers(Lt.value):""},xe=dt=>{for(let Lt=dt-1;Lt>=0;Lt--){const ei=Ag(nl(Zi(),{month:k.value(Lt+1),year:S.value(Lt+1)}),1);H(Lt,yo(ei),Ao(ei))}for(let Lt=dt+1;Lt<=M.value.multiCalendars-1;Lt++){const ei=ph(nl(Zi(),{month:k.value(Lt-1),year:S.value(Lt-1)}),1);H(Lt,yo(ei),Ao(ei))}},Ie=dt=>I(Zi(),k.value(dt),S.value(dt)),Be=dt=>Zu(dt,G.hours,G.minutes,x()),Xe=dt=>{pe(Ie(dt))},Ze=(dt,Lt)=>{const ei=e.monthPicker?k.value(dt)!==Lt.month||!Lt.fromNav:S.value(dt)!==Lt.year||!Lt.fromNav;if(H(dt,Lt.month,Lt.year),M.value.multiCalendars&&!e.multiCalendarsSolo&&xe(dt),e.monthPicker||e.yearPicker)if(e.multiDates)ei&&Xe(dt);else if(e.range){if(ei&&z(Ie(dt))){let ki=B.value?B.value.slice():[];ki.length===2&&ki[1]!==null&&(ki=[]),ki.length?Fl(Ie(dt),ki[0])?ki.unshift(Ie(dt)):ki[1]=Ie(dt):ki=[Ie(dt)],B.value=ki}}else(e.autoApplyMonth||ei)&&(B.value=Ie(dt));r(e.multiCalendarsSolo?dt:void 0)},ft=async(dt=!1)=>{if(e.autoApply&&(e.monthPicker||e.yearPicker)){await bc();const Lt=e.monthPicker?dt:!1;e.range?t("auto-apply",Lt||!B.value||B.value.length===1):t("auto-apply",Lt)}i()},Ct=(dt,Lt)=>{const ei=nl(Zi(),{month:k.value(Lt),year:S.value(Lt)}),ki=dt<0?ph(ei,1):Ag(ei,1);J(yo(ki),Ao(ki),dt<0,e.preventMinMaxNavigation)&&(H(Lt,yo(ki),Ao(ki)),M.value.multiCalendars&&!e.multiCalendarsSolo&&xe(Lt),r())},Nt=dt=>{qE(dt)&&qE(B.value)&&A0(G.hours)&&A0(G.minutes)?(dt[0]&&B.value[0]&&(B.value[0]=Zu(dt[0],G.hours[0],G.minutes[0],x())),dt[1]&&B.value[1]&&(B.value[1]=Zu(dt[1],G.hours[1],G.minutes[1],x(!1)))):e.multiDates&&Array.isArray(B.value)?B.value[B.value.length-1]=Be(dt):!e.range&&!XE(dt)&&(B.value=Be(dt)),t("time-update")},pi=(dt,Lt=!0,ei=!1)=>{const ki=Lt?dt:G.hours,on=!Lt&&!ei?dt:G.minutes,Rn=ei?dt:G.seconds;if(e.range&&XE(B.value)&&A0(ki)&&A0(on)&&A0(Rn)&&!e.disableTimeRangeValidation){const Gr=Hi=>Zu(B.value[Hi],ki[Hi],on[Hi],Rn[Hi]),di=Hi=>OC(B.value[Hi],0);if(Ys(B.value[0],B.value[1])&&(c_(Gr(0),di(1))||u_(Gr(1),di(0))))return}if(U("hours",ki),U("minutes",on),U("seconds",Rn),B.value)if(e.multiDates){const Gr=X();Gr&&Nt(Gr)}else Nt(B.value);else e.timePicker&&Nt(e.range?[Zi(),Zi()]:Zi());i()},qt=(dt,Lt)=>{e.monthChangeOnScroll&&Ct(e.monthChangeOnScroll!=="inverse"?-dt.deltaY:dt.deltaY,Lt)},fi=(dt,Lt,ei=!1)=>{e.monthChangeOnArrows&&e.vertical===ei&&Gi(dt,Lt)},Gi=(dt,Lt)=>{Ct(dt==="right"?-1:1,Lt)};return{time:G,month:k,year:S,modelValue:B,calendars:L,monthYearSelect:ft,isDisabled:h,updateTime:pi,getWeekNum:We,selectDate:Qe,updateMonthYear:Ze,handleScroll:qt,getMarker:dt=>e.markers.find(Lt=>Ys(s(dt.value),s(Lt.date))),handleArrow:fi,handleSwipe:Gi,selectCurrentDate:()=>{e.range?B.value&&Array.isArray(B.value)&&B.value[0]?B.value=Fl(Zi(),B.value[0])?[Zi(),B.value[0]]:[B.value[0],Zi()]:B.value=[Zi()]:B.value=Zi(),de()},presetDateRange:(dt,Lt)=>{Lt||dt.length&&dt.length<=2&&e.range&&(B.value=dt.map(ei=>Zi(ei)),de(),e.multiCalendars&&bc().then(()=>ie(!0)))}}},xU=(e,t,i)=>{const r=Ki(),{getZonedToUtc:o,getZonedDate:u,formatDate:h,getDefaultPattern:s,checkRangeEnabled:v,checkPartialRangeValue:I,isValidDate:J,setDateMonthOrYear:M,defaults:B}=Cu(t),W=Ki(""),O=xf(t,"format");Zs(r,()=>{e("internal-model-change",r.value)}),Zs(O,()=>{X()});const L=z=>{const Q=z||Zi();return t.modelType?K(Q):{hours:ep(Q),minutes:tp(Q),seconds:t.enableSeconds?$g(Q):0}},G=z=>t.modelType?K(z):{month:yo(z),year:Ao(z)},k=z=>Array.isArray(z)?v(()=>[sp(Zi(),z[0]),z[1]?sp(Zi(),z[1]):I()]):sp(Zi(),+z),S=(z,Q)=>(typeof z=="string"||typeof z=="number")&&t.modelType?Y(z):Q,A=z=>Array.isArray(z)?[S(z[0],Zu(null,+z[0].hours,+z[0].minutes,z[0].seconds)),S(z[1],Zu(null,+z[1].hours,+z[1].minutes,z[1].seconds))]:S(z,Zu(null,z.hours,z.minutes,z.seconds)),H=z=>Array.isArray(z)?t.multiDates?z.map(Q=>S(Q,M(null,+Q.month,+Q.year))):v(()=>[S(z[0],M(null,+z[0].month,+z[0].year)),S(z[1],z[1]?M(null,+z[1].month,+z[1].year):I())]):S(z,M(null,+z.month,+z.year)),U=z=>{if(Array.isArray(z))return z.map(Q=>Y(Q));throw new Error(fb.dateArr("multi-dates"))},E=z=>{if(Array.isArray(z))return[Zi(z[0]),Zi(z[1])];throw new Error(fb.dateArr("week-picker"))},ie=z=>t.modelAuto?Array.isArray(z)?[Y(z[0]),Y(z[1])]:t.autoApply?[Y(z)]:[Y(z),null]:Array.isArray(z)?v(()=>[Y(z[0]),z[1]?Y(z[1]):I()]):Y(z),ee=()=>{Array.isArray(r.value)&&t.range&&r.value.length===1&&r.value.push(I())},$=()=>{const z=r.value;return[K(z[0]),z[1]?K(z[1]):I()]},V=()=>r.value[1]?$():K(Nl(r.value[0])),j=()=>(r.value||[]).map(z=>K(z)),w=()=>(ee(),t.modelAuto?V():t.multiDates?j():Array.isArray(r.value)?v(()=>$()):K(Nl(r.value))),D=z=>z?t.timePicker?A(Nl(z)):t.monthPicker?H(Nl(z)):t.yearPicker?k(Nl(z)):t.multiDates?U(Nl(z)):t.weekPicker?E(Nl(z)):ie(Nl(z)):null,m=z=>{const Q=D(z);J(Nl(Q))?(r.value=Nl(Q),X()):(r.value=null,W.value="")},g=()=>{var z;const Q=se=>{var de;return X0(se,(de=B.value.textInputOptions)==null?void 0:de.format)};return`${Q(r.value[0])} ${(z=B.value.textInputOptions)==null?void 0:z.rangeSeparator} ${r.value[1]?Q(r.value[1]):""}`},x=()=>{var z;return i.value&&r.value?Array.isArray(r.value)?g():X0(r.value,(z=B.value.textInputOptions)==null?void 0:z.format):h(r.value)},P=()=>{var z;return r.value?t.multiDates?r.value.map(Q=>h(Q)).join("; "):t.textInput&&typeof((z=B.value.textInputOptions)==null?void 0:z.format)=="string"?x():h(r.value):""},X=()=>{!t.format||typeof t.format=="string"||t.textInput&&typeof t.textInputOptions.format=="string"?W.value=P():W.value=t.format(r.value)},Y=z=>{if(t.utc){const Q=new Date(z);return t.utc==="preserve"?new Date(Q.getTime()+Q.getTimezoneOffset()*6e4):Q}return t.modelType?t.modelType==="date"||t.modelType==="timestamp"?u(new Date(z)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?BT(z,s(),new Date):u(BT(z,t.modelType,new Date)):u(new Date(z))},K=z=>z?t.utc?Aj(z,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+o(z):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?h(o(z)):h(o(z),t.modelType):o(z):"",le=z=>{e("update:model-value",z)},pe=z=>Array.isArray(r.value)?t.multiDates?r.value.map(Q=>z(Q)):[z(r.value[0]),r.value[1]?z(r.value[1]):I()]:z(Nl(r.value)),fe=z=>le(Nl(pe(z)));return{inputValue:W,internalModelValue:r,checkBeforeEmit:()=>r.value?t.range?t.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:m,formatInputValue:X,emitModelValue:()=>(X(),t.monthPicker?fe(G):t.timePicker?fe(L):t.yearPicker?fe(Ao):t.weekPicker?le(r.value):le(w()))}},bU=(e,t)=>{const{validateMonthYearInRange:i,validateMaxDate:r,validateMinDate:o,defaults:u}=Cu(e),h=(M,B)=>{let W=M;return u.value.filters.months.includes(yo(W))?(W=B?ph(M,1):Ag(M,1),h(W,B)):W},s=(M,B)=>{let W=M;return u.value.filters.years.includes(Ao(W))?(W=B?l4(M,1):Ej(M,1),s(W,B)):W},v=M=>{const B=nl(new Date,{month:e.month,year:e.year});let W=M?ph(B,1):Ag(B,1);e.disableYearSelect&&(W=sp(W,e.year));let O=yo(W),L=Ao(W);u.value.filters.months.includes(O)&&(W=h(W,M),O=yo(W),L=Ao(W)),u.value.filters.years.includes(L)&&(W=s(W,M),L=Ao(W)),i(O,L,M,e.preventMinMaxNavigation)&&I(O,L)},I=(M,B)=>{t("update-month-year",{month:M,year:B})},J=Ui(()=>M=>{if(!e.preventMinMaxNavigation||M&&!e.maxDate||!M&&!e.minDate)return!1;const B=nl(new Date,{month:e.month,year:e.year}),W=M?ph(B,1):Ag(B,1),O=[yo(W),Ao(W)];return M?!r(...O):!o(...O)});return{handleMonthYearChange:v,isDisabled:J,updateMonthYear:I}};var Lx=(e=>(e.center="center",e.left="left",e.right="right",e))(Lx||{});const wU=(e,t,i,r)=>{const o=Ki({top:"0",left:"0",transform:"none",opacity:"0"}),u=Ki(!1),h=xf(r,"teleportCenter"),s=Ui(()=>u.value?"-100%":"0"),v=()=>{I(),o.value.opacity="0"};Zs(h,()=>{S()}),zo(()=>{I()});const I=()=>{const w=Qo(t);if(w){const{top:D,left:m,width:g,height:x}=O(w);o.value.top=`${D+x/2}px`,W(m,g,50)}},J=w=>{if(r.teleport){const D=w.getBoundingClientRect();return{left:D.left+window.scrollX,top:D.top+window.scrollY}}return{top:0,left:0}},M=(w,D)=>{o.value.left=`${w+D}px`,o.value.transform=`translate(-100%, ${s.value})`},B=w=>{o.value.left=`${w}px`,o.value.transform=`translate(0, ${s.value})`},W=(w,D,m)=>{r.position===Lx.left&&B(w),r.position===Lx.right&&M(w,D),r.position===Lx.center&&(o.value.left=`${w+D/2}px`,o.value.transform=m?`translate(-50%, -${m}%)`:`translate(-50%, ${s.value})`)},O=w=>{const{width:D,height:m}=w.getBoundingClientRect(),{top:g,left:x}=r.altPosition?r.altPosition(w):J(w);return{top:+g,left:+x,width:D,height:m}},L=()=>{const w=Qo(t);if(w){const{top:D,left:m,width:g,height:x}=O(w),P=ie();o.value.top=`${D+x/2}px`,W(m,g,P==="top"?100:0)}},G=()=>{o.value.left="50%",o.value.top="50%",o.value.transform="translate(-50%, -50%)",o.value.position="fixed",delete o.value.opacity},k=()=>{const w=Qo(t),{top:D,left:m,transform:g}=r.altPosition(w);o.value={top:`${D}px`,left:`${m}px`,transform:g||""}},S=(w=!0)=>{if(!r.inline)return h.value?G():r.altPosition!==null?k():(w&&i("recalculate-position"),$())},A=({inputEl:w,menuEl:D,left:m,width:g})=>{window.screen.width>768&&W(m,g),E(w,D)},H=(w,D)=>{const{top:m,left:g,height:x,width:P}=O(w);o.value.top=`${x+m+ +r.offset}px`,u.value=!1,A({inputEl:w,menuEl:D,left:g,width:P})},U=(w,D)=>{const{top:m,left:g,width:x}=O(w);o.value.top=`${m-+r.offset}px`,u.value=!0,A({inputEl:w,menuEl:D,left:g,width:x})},E=(w,D)=>{if(r.autoPosition){const{left:m,width:g}=O(w),{left:x,right:P}=D.getBoundingClientRect();return x<=0?B(m):P>=document.documentElement.clientWidth?M(m,g):W(m,g)}},ie=()=>{const w=Qo(e),D=Qo(t);if(w&&D){const{height:m}=w.getBoundingClientRect(),{top:g,height:x}=D.getBoundingClientRect(),P=window.innerHeight-g-x,X=g;return m<=P?"bottom":m>P&&m<=X?"top":P>=X?"bottom":"top"}return"bottom"},ee=(w,D)=>ie()==="bottom"?H(w,D):U(w,D),$=()=>{const w=Qo(t),D=Qo(e);if(w&&D)return r.autoPosition?ee(w,D):H(w,D)},V=function(w){if(w){const D=w.scrollHeight>w.clientHeight,m=window.getComputedStyle(w).overflowY.indexOf("hidden")!==-1;return D&&!m}return!0},j=function(w){return!w||w===document.body||w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:V(w)?w:j(w.parentNode)};return{openOnTop:u,menuStyle:o,resetPosition:v,setMenuPosition:S,setInitialPosition:L,getScrollableParent:j}},gg=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar","month-year"]},{name:"arrow-down",use:["time","calendar","month-year"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar"]}],TU=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],SU={all:()=>gg,monthYear:()=>gg.filter(e=>e.use.includes("month-year")),input:()=>TU,timePicker:()=>gg.filter(e=>e.use.includes("time")),action:()=>gg.filter(e=>e.use.includes("action")),calendar:()=>gg.filter(e=>e.use.includes("calendar")),menu:()=>gg.filter(e=>e.use.includes("menu"))},U0=(e,t,i)=>{const r=[];return SU[t]().forEach(o=>{e[o.name]&&r.push(o.name)}),i&&i.length&&i.forEach(o=>{o.slot&&r.push(o.slot)}),r},h2=e=>({transitionName:Ui(()=>t=>e&&typeof e!="boolean"?t?e.open:e.close:""),showTransition:!!e}),If={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:Function,default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},autoApplyMonth:{type:Boolean,default:!0}},CU={key:1,class:"dp__input_wrap"},EU=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],MU={key:2,class:"dp__clear_icon"},kU=Ho({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...If},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:t,emit:i}){const r=e,{getDefaultPattern:o,isValidDate:u,defaults:h,getDefaultStartTime:s,assignDefaultTime:v}=Cu(r),I=Ki(),J=Ki(null),M=Ki(!1),B=Ki(!1),W=Ui(()=>({dp__pointer:!r.disabled&&!r.readonly&&!r.textInput,dp__disabled:r.disabled,dp__input_readonly:!r.textInput,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:r.state,dp__input_invalid:r.state===!1,dp__input_focus:M.value||r.isMenuOpen,dp__input_reg:!r.textInput,[r.inputClassName]:!!r.inputClassName})),O=()=>{i("set-input-date",null),r.autoApply&&(i("set-empty-date"),I.value=null)},L=j=>{var w;const D=s();return kj(j,((w=h.value.textInputOptions)==null?void 0:w.format)||o(),D||v({}),r.inputValue,B.value)},G=j=>{const{rangeSeparator:w}=h.value.textInputOptions,[D,m]=j.split(`${w}`);if(D){const g=L(D.trim()),x=m?L(m.trim()):null,P=g&&x?[g,x]:[g];I.value=g?P:null}},k=()=>{B.value=!0},S=j=>{if(r.range)G(j);else if(r.multiDates){const w=j.split(";");I.value=w.map(D=>L(D.trim())).filter(D=>D)}else I.value=L(j)},A=j=>{var w,D;const m=typeof j=="string"?j:(w=j.target)==null?void 0:w.value;m!==""?((D=h.value.textInputOptions)!=null&&D.openMenu&&!r.isMenuOpen&&i("open"),S(m),i("set-input-date",I.value)):O(),B.value=!1,i("update:input-value",m)},H=j=>{var w,D;r.textInput?(S(j.target.value),(w=h.value.textInputOptions)!=null&&w.enterSubmit&&u(I.value)&&r.inputValue!==""?(i("set-input-date",I.value,!0),I.value=null):(D=h.value.textInputOptions)!=null&&D.enterSubmit&&r.inputValue===""&&(I.value=null,i("clear"))):ie(j)},U=j=>{var w,D,m;r.textInput&&(w=h.value.textInputOptions)!=null&&w.tabSubmit&&S(j.target.value),(D=h.value.textInputOptions)!=null&&D.tabSubmit&&u(I.value)&&r.inputValue!==""?(i("set-input-date",I.value,!0),I.value=null):(m=h.value.textInputOptions)!=null&&m.tabSubmit&&r.inputValue===""&&(I.value=null,i("clear"))},E=()=>{M.value=!0,i("focus")},ie=j=>{var w;j.preventDefault(),j.stopImmediatePropagation(),j.stopPropagation(),r.textInput&&(w=h.value.textInputOptions)!=null&&w.openMenu&&!r.inlineWithInput?(i("toggle"),h.value.textInputOptions.enterSubmit&&i("select-date")):r.textInput||i("toggle")},ee=()=>{i("real-blur"),M.value=!1,(!r.isMenuOpen||r.inline&&r.inlineWithInput)&&i("blur"),r.autoApply&&r.textInput&&I.value&&!r.isMenuOpen&&(i("set-input-date",I.value),i("select-date"),I.value=null)},$=()=>{i("clear")},V=j=>{if(!r.textInput){if(j.code==="Tab")return;j.preventDefault()}};return t({focusInput:()=>{var j;(j=J.value)==null||j.focus({preventScroll:!0})},setParsedDate:j=>{I.value=j}}),(j,w)=>{var D;return pt(),St("div",{onClick:ie},[j.$slots.trigger&&!j.$slots["dp-input"]&&!j.inline?dn(j.$slots,"trigger",{key:0}):hi("",!0),!j.$slots.trigger&&(!j.inline||j.inlineWithInput)?(pt(),St("div",CU,[j.$slots["dp-input"]&&!j.$slots.trigger&&!j.inline?dn(j.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:A,onEnter:H,onTab:U,onClear:$,onBlur:ee,onKeypress:V,onPaste:k}):hi("",!0),j.$slots["dp-input"]?hi("",!0):(pt(),St("input",{key:1,ref_key:"inputRef",ref:J,id:j.uid?`dp-input-${j.uid}`:void 0,name:j.name,class:kn(W.value),inputmode:j.textInput?"text":"none",placeholder:j.placeholder,disabled:j.disabled,readonly:j.readonly,required:j.required,value:e.inputValue,autocomplete:j.autocomplete,"aria-label":(D=Ft(h).ariaLabels)==null?void 0:D.input,onInput:A,onKeydown:[Cr(H,["enter"]),Cr(U,["tab"]),V],onBlur:ee,onFocus:E,onKeypress:V,onPaste:k},null,42,EU)),je("div",{onClick:w[2]||(w[2]=m=>i("toggle"))},[j.$slots["input-icon"]&&!j.hideInputIcon?(pt(),St("span",{key:0,class:"dp__input_icon",onClick:w[0]||(w[0]=m=>i("toggle"))},[dn(j.$slots,"input-icon")])):hi("",!0),!j.$slots["input-icon"]&&!j.hideInputIcon&&!j.$slots["dp-input"]?(pt(),mr(Ft(d2),{key:1,onClick:w[1]||(w[1]=m=>i("toggle")),class:"dp__input_icon dp__input_icons"})):hi("",!0)]),j.$slots["clear-icon"]&&e.inputValue&&j.clearable&&!j.disabled&&!j.readonly?(pt(),St("span",MU,[dn(j.$slots,"clear-icon",{clear:$})])):hi("",!0),j.clearable&&!j.$slots["clear-icon"]&&e.inputValue&&!j.disabled&&!j.readonly?(pt(),mr(Ft(Mj),{key:3,class:"dp__clear_icon dp__input_icons",onClick:rl($,["stop","prevent"])},null,8,["onClick"])):hi("",!0)])):hi("",!0)])}}}),AU=["title"],PU={class:"dp__action_buttons"},DU=["onKeydown","disabled"],IU=Ho({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},calendarWidth:{type:Number,default:0},...If},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const i=e,{formatDate:r,isValidTime:o,defaults:u}=Cu(i),{buildMatrix:h}=Df(),s=Ki(null),v=Ki(null);zo(()=>{i.arrowNavigation&&h([Qo(s),Qo(v)],"actionRow")});const I=Ui(()=>i.range&&!i.partialRange&&i.internalModelValue?i.internalModelValue.length===2:!0),J=Ui(()=>!M.value||!B.value||!I.value),M=Ui(()=>!i.enableTimePicker||i.ignoreTimeValidation?!0:o(i.internalModelValue)),B=Ui(()=>i.monthPicker?i.range&&Array.isArray(i.internalModelValue)?!i.internalModelValue.filter(U=>!A(U)).length:A(i.internalModelValue):!0),W=()=>{const U=u.value.previewFormat;return i.timePicker||i.monthPicker,U(Nl(i.internalModelValue))},O=()=>{const U=i.internalModelValue;return u.value.multiCalendars>0?`${L(U[0])} - ${L(U[1])}`:[L(U[0]),L(U[1])]},L=U=>r(U,u.value.previewFormat),G=Ui(()=>!i.internalModelValue||!i.menuMount?"":typeof u.value.previewFormat=="string"?Array.isArray(i.internalModelValue)?i.internalModelValue.length===2&&i.internalModelValue[1]?O():i.multiDates?i.internalModelValue.map(U=>`${L(U)}`):i.modelAuto?`${L(i.internalModelValue[0])}`:`${L(i.internalModelValue[0])} -`:L(i.internalModelValue):W()),k=()=>i.multiDates?"; ":" - ",S=Ui(()=>Array.isArray(G.value)?G.value.join(k()):G.value),A=U=>{if(!i.monthPicker)return!0;let E=!0;const ie=Zi(Oy(U));if(i.minDate&&i.maxDate){const ee=Zi(Oy(i.minDate)),$=Zi(Oy(i.maxDate));return vc(ie,ee)&&Fl(ie,$)||Ys(ie,ee)||Ys(ie,$)}if(i.minDate){const ee=Zi(Oy(i.minDate));E=vc(ie,ee)||Ys(ie,ee)}if(i.maxDate){const ee=Zi(Oy(i.maxDate));E=Fl(ie,ee)||Ys(ie,ee)}return E},H=()=>{M.value&&B.value&&I.value?t("select-date"):t("invalid-select")};return(U,E)=>(pt(),St("div",{class:"dp__action_row",style:ea(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[U.$slots["action-row"]?dn(U.$slots,"action-row",Is(Fs({key:0},{internalModelValue:e.internalModelValue,disabled:J.value,selectDate:()=>U.$emit("select-date"),closePicker:()=>U.$emit("close-picker")}))):(pt(),St(Qi,{key:1},[Ft(u).actionRow.showPreview?(pt(),St("div",{key:0,class:"dp__selection_preview",title:S.value},[U.$slots["action-preview"]?dn(U.$slots,"action-preview",{key:0,value:e.internalModelValue}):hi("",!0),U.$slots["action-preview"]?hi("",!0):(pt(),St(Qi,{key:1},[Yr($i(S.value),1)],64))],8,AU)):hi("",!0),je("div",PU,[U.$slots["action-buttons"]?dn(U.$slots,"action-buttons",{key:0,value:e.internalModelValue}):hi("",!0),U.$slots["action-buttons"]?hi("",!0):(pt(),St(Qi,{key:1},[!U.inline&&Ft(u).actionRow.showCancel?(pt(),St("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:E[0]||(E[0]=ie=>U.$emit("close-picker")),onKeydown:[E[1]||(E[1]=Cr(ie=>U.$emit("close-picker"),["enter"])),E[2]||(E[2]=Cr(ie=>U.$emit("close-picker"),["space"]))]},$i(U.cancelText),545)):hi("",!0),U.showNowButton||Ft(u).actionRow.showNow?(pt(),St("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:E[3]||(E[3]=ie=>U.$emit("select-now")),onKeydown:[E[4]||(E[4]=Cr(ie=>U.$emit("select-now"),["enter"])),E[5]||(E[5]=Cr(ie=>U.$emit("select-now"),["space"]))]},$i(U.nowButtonLabel),545)):hi("",!0),Ft(u).actionRow.showSelect?(pt(),St("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[Cr(H,["enter"]),Cr(H,["space"])],onClick:H,disabled:J.value,ref_key:"selectButtonRef",ref:v},$i(U.selectText),41,DU)):hi("",!0)],64))])],64))],4))}}),LU=["aria-label"],OU={class:"dp__calendar_header",role:"row"},RU={key:0,class:"dp__calendar_header_item",role:"gridcell"},BU=je("div",{class:"dp__calendar_header_separator"},null,-1),NU=["aria-label"],zU={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},FU={class:"dp__cell_inner"},jU=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],UU=Ho({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...If},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:i}){const r=e,{buildMultiLevelMatrix:o}=Df(),{setDateMonthOrYear:u,defaults:h}=Cu(r),s=Ki(null),v=Ki({bottom:"",left:"",transform:""}),I=Ki([]),J=Ki(null),M=Ki(!0),B=Ki(""),W=Ki({startX:0,endX:0,startY:0,endY:0}),O=Ki([]),L=Ki({left:"50%"}),G=Ui(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),k=Ui(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):sU(r.formatLocale,r.locale,+r.weekStart));zo(()=>{i("mount",{cmp:"calendar",refs:I}),r.noSwipe||J.value&&(J.value.addEventListener("touchstart",w,{passive:!1}),J.value.addEventListener("touchend",D,{passive:!1}),J.value.addEventListener("touchmove",m,{passive:!1})),r.monthChangeOnScroll&&J.value&&J.value.addEventListener("wheel",P,{passive:!1})});const S=X=>X?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",A=(X,Y)=>{if(r.transitions){const K=td(u(Zi(),r.month,r.year));B.value=vc(td(u(Zi(),X,Y)),K)?h.value.transitions[S(!0)]:h.value.transitions[S(!1)],M.value=!1,bc(()=>{M.value=!0})}},H=Ui(()=>({[r.calendarClassName]:!!r.calendarClassName})),U=Ui(()=>X=>{const Y=cU(X);return{dp__marker_dot:Y.type==="dot",dp__marker_line:Y.type==="line"}}),E=Ui(()=>X=>Ys(X,s.value)),ie=Ui(()=>({dp__calendar:!0,dp__calendar_next:h.value.multiCalendars>0&&r.instance!==0})),ee=Ui(()=>X=>r.hideOffsetDates?X.current:!0),$=Ui(()=>r.specificMode?{height:`${r.modeHeight}px`}:void 0),V=async(X,Y,K)=>{var le,pe;if(i("set-hover-date",X),(pe=(le=X.marker)==null?void 0:le.tooltip)!=null&&pe.length){const fe=Qo(I.value[Y][K]);if(fe){const{width:z,height:Q}=fe.getBoundingClientRect();s.value=X.value;let se={left:`${z/2}px`},de=-50;if(await bc(),O.value[0]){const{left:Ce,width:ne}=O.value[0].getBoundingClientRect();Ce<0&&(se={left:"0"},de=0,L.value.left=`${z/2}px`),window.innerWidth<Ce+ne&&(se={right:"0"},de=0,L.value.left=`${ne-z/2}px`)}v.value={bottom:`${Q}px`,...se,transform:`translateX(${de}%)`},i("tooltip-open",X.marker)}}},j=X=>{s.value&&(s.value=null,v.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),i("tooltip-close",X.marker))},w=X=>{W.value.startX=X.changedTouches[0].screenX,W.value.startY=X.changedTouches[0].screenY},D=X=>{W.value.endX=X.changedTouches[0].screenX,W.value.endY=X.changedTouches[0].screenY,g()},m=X=>{r.vertical&&!r.inline&&X.preventDefault()},g=()=>{const X=r.vertical?"Y":"X";Math.abs(W.value[`start${X}`]-W.value[`end${X}`])>10&&i("handle-swipe",W.value[`start${X}`]>W.value[`end${X}`]?"right":"left")},x=(X,Y,K)=>{X&&(Array.isArray(I.value[Y])?I.value[Y][K]=X:I.value[Y]=[X]),r.arrowNavigation&&o(I.value,"calendar")},P=X=>{r.monthChangeOnScroll&&(X.preventDefault(),i("handle-scroll",X))};return t({triggerTransition:A}),(X,Y)=>{var K;return pt(),St("div",{class:kn(ie.value)},[je("div",{style:ea($.value),ref_key:"calendarWrapRef",ref:J,role:"grid",class:kn(H.value),"aria-label":(K=Ft(h).ariaLabels)==null?void 0:K.calendarWrap},[e.specificMode?hi("",!0):(pt(),St(Qi,{key:0},[je("div",OU,[X.weekNumbers?(pt(),St("div",RU,$i(X.weekNumName),1)):hi("",!0),(pt(!0),St(Qi,null,ar(k.value,(le,pe)=>(pt(),St("div",{class:"dp__calendar_header_item",role:"gridcell",key:pe},[X.$slots["calendar-header"]?dn(X.$slots,"calendar-header",{key:0,day:le,index:pe}):hi("",!0),X.$slots["calendar-header"]?hi("",!0):(pt(),St(Qi,{key:1},[Yr($i(le),1)],64))]))),128))]),BU,sn(Ld,{name:B.value,css:!!X.transitions},{default:Hn(()=>{var le;return[M.value?(pt(),St("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(le=Ft(h).ariaLabels)==null?void 0:le.calendarDays},[(pt(!0),St(Qi,null,ar(G.value,(pe,fe)=>(pt(),St("div",{class:"dp__calendar_row",role:"row",key:fe},[X.weekNumbers?(pt(),St("div",zU,[je("div",FU,$i(e.getWeekNum(pe.days)),1)])):hi("",!0),(pt(!0),St(Qi,null,ar(pe.days,(z,Q)=>{var se,de,Ce;return pt(),St("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:ne=>x(ne,fe,Q),key:Q+fe,"aria-selected":z.classData.dp__active_date||z.classData.dp__range_start||z.classData.dp__range_start,"aria-disabled":z.classData.dp__cell_disabled,"aria-label":(de=(se=Ft(h).ariaLabels)==null?void 0:se.day)==null?void 0:de.call(se,z),tabindex:"0",onClick:rl(ne=>X.$emit("select-date",z),["stop","prevent"]),onKeydown:[Cr(ne=>X.$emit("select-date",z),["enter"]),Cr(ne=>X.$emit("handle-space",z),["space"])],onMouseenter:ne=>V(z,fe,Q),onMouseleave:ne=>j(z)},[je("div",{class:kn(["dp__cell_inner",z.classData])},[X.$slots.day&&ee.value(z)?dn(X.$slots,"day",{key:0,day:+z.text,date:z.value}):hi("",!0),X.$slots.day?hi("",!0):(pt(),St(Qi,{key:1},[Yr($i(z.text),1)],64)),z.marker&&ee.value(z)?(pt(),St(Qi,{key:2},[X.$slots.marker?dn(X.$slots,"marker",{key:0,marker:z.marker,day:+z.text,date:z.value}):(pt(),St("div",{key:1,class:kn(U.value(z.marker)),style:ea(z.marker.color?{backgroundColor:z.marker.color}:{})},null,6))],64)):hi("",!0),E.value(z.value)?(pt(),St("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:O,style:ea(v.value)},[(Ce=z.marker)!=null&&Ce.tooltip?(pt(),St("div",{key:0,class:"dp__tooltip_content",onClick:Y[0]||(Y[0]=rl(()=>{},["stop"]))},[(pt(!0),St(Qi,null,ar(z.marker.tooltip,(ne,ve)=>(pt(),St("div",{key:ve,class:"dp__tooltip_text"},[X.$slots["marker-tooltip"]?dn(X.$slots,"marker-tooltip",{key:0,tooltip:ne,day:z.value}):hi("",!0),X.$slots["marker-tooltip"]?hi("",!0):(pt(),St(Qi,{key:1},[je("div",{class:"dp__tooltip_mark",style:ea(ne.color?{backgroundColor:ne.color}:{})},null,4),je("div",null,$i(ne.text),1)],64))]))),128)),je("div",{class:"dp__arrow_bottom_tp",style:ea(L.value)},null,4)])):hi("",!0)],4)):hi("",!0)],2)],40,jU)}),128))]))),128))],8,NU)):hi("",!0)]}),_:3},8,["name","css"])],64))],14,LU)],2)}}}),$U=["aria-label","aria-disabled"],O3=Ho({__name:"ActionIcon",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const i=Ki(null);return zo(()=>t("set-ref",i)),(r,o)=>(pt(),St("button",{type:"button",class:"dp__btn dp__month_year_col_nav",onClick:o[0]||(o[0]=u=>r.$emit("activate")),onKeydown:[o[1]||(o[1]=Cr(rl(u=>r.$emit("activate"),["prevent"]),["enter"])),o[2]||(o[2]=Cr(rl(u=>r.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled,ref_key:"elRef",ref:i},[je("span",{class:kn(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[dn(r.$slots,"default")],2)],40,$U))}}),VU=["onKeydown"],GU={class:"dp__selection_grid_header"},HU=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],WU=["aria-label","onKeydown"],Yy=Ho({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},autoApplyMonth:{type:Boolean,default:!1}},emits:["update:model-value","selected","toggle","reset-flow"],setup(e,{expose:t,emit:i}){const r=e,{setSelectionGrid:o,buildMultiLevelMatrix:u,setMonthPicker:h}=Df(),{hideNavigationButtons:s}=Cu(r),v=Ki(!1),I=Ki(null),J=Ki(null),M=Ki([]),B=Ki(),W=Ki(null),O=Ki(0),L=Ki(null);__(()=>{I.value=null}),zo(()=>{var P;bc().then(()=>$()),k(),G(!0),(P=I.value)==null||P.focus({preventScroll:!0})}),yh(()=>G(!1));const G=P=>{var X;r.arrowNavigation&&((X=r.headerRefs)!=null&&X.length?h(P):o(P))},k=()=>{const P=Qo(J);P&&(r.textInput||P.focus({preventScroll:!0}),v.value=P.clientHeight<P.scrollHeight)},S=Ui(()=>({dp__overlay:!0})),A=Ui(()=>({dp__overlay_col:!0})),H=P=>r.monthPicker&&!r.autoApplyMonth?Ys(r.internalModelValue,sp(xg(new Date,P.value),r.year)):r.skipActive?!1:P.value===r.modelValue,U=Ui(()=>r.items.map(P=>P.filter(X=>X).map(X=>{var Y,K,le;const pe=r.disabledValues.some(z=>z===X.value)||ee(X.value),fe=(Y=r.multiModelValue)!=null&&Y.length?(K=r.multiModelValue)==null?void 0:K.some(z=>Ys(z,sp(r.monthPicker?xg(new Date,X.value):new Date,r.monthPicker?r.year:X.value))):H(X);return{...X,className:{dp__overlay_cell_active:fe,dp__overlay_cell:!fe,dp__overlay_cell_disabled:pe,dp__overlay_cell_active_disabled:pe&&fe,dp__overlay_cell_pad:!0,dp__cell_in_between:(le=r.multiModelValue)!=null&&le.length&&r.skipActive?j(X.value):!1}}}))),E=Ui(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:v.value,dp__button_bottom:r.autoApply})),ie=Ui(()=>{var P,X;return{dp__overlay_container:!0,dp__container_flex:((P=r.items)==null?void 0:P.length)<=6,dp__container_block:((X=r.items)==null?void 0:X.length)>6}}),ee=P=>{const X=r.maxValue||r.maxValue===0,Y=r.minValue||r.minValue===0;return!X&&!Y?!1:X&&Y?+P>+r.maxValue||+P<+r.minValue:X?+P>+r.maxValue:Y?+P<+r.minValue:!1},$=()=>{const P=Qo(I),X=Qo(J),Y=Qo(W),K=Qo(L),le=Y?Y.getBoundingClientRect().height:0;X&&(O.value=X.getBoundingClientRect().height-le),P&&K&&(K.scrollTop=P.offsetTop-K.offsetTop-(O.value/2-P.getBoundingClientRect().height)-le)},V=P=>{!r.disabledValues.some(X=>X===P)&&!ee(P)&&(i("update:model-value",P),i("selected"))},j=P=>{const X=r.monthPicker?r.year:P;return P4(r.multiModelValue,sp(r.monthPicker?xg(new Date,B.value||0):new Date,r.monthPicker?X:B.value||X),sp(r.monthPicker?xg(new Date,P):new Date,X))},w=()=>{i("toggle"),i("reset-flow")},D=()=>{r.escClose&&w()},m=(P,X,Y,K)=>{P&&(X.value===+r.modelValue&&!r.disabledValues.includes(X.value)&&(I.value=P),r.arrowNavigation&&(Array.isArray(M.value[Y])?M.value[Y][K]=P:M.value[Y]=[P],g()))},g=()=>{var P,X;const Y=(P=r.headerRefs)!=null&&P.length?[r.headerRefs].concat(M.value):M.value.concat([r.skipButtonRef?[]:[W.value]]);u(Nl(Y),(X=r.headerRefs)!=null&&X.length?"monthPicker":"selectionGrid")},x=P=>{r.arrowNavigation||P.stopImmediatePropagation()};return t({focusGrid:k}),(P,X)=>{var Y;return pt(),St("div",{ref_key:"gridWrapRef",ref:J,class:kn(S.value),role:"dialog",tabindex:"0",onKeydown:[Cr(D,["esc"]),X[0]||(X[0]=Cr(K=>x(K),["left"])),X[1]||(X[1]=Cr(K=>x(K),["up"])),X[2]||(X[2]=Cr(K=>x(K),["down"])),X[3]||(X[3]=Cr(K=>x(K),["right"]))]},[je("div",{class:kn(ie.value),ref_key:"containerRef",ref:L,role:"grid",style:ea({height:`${O.value}px`})},[je("div",GU,[dn(P.$slots,"header")]),P.$slots.overlay?dn(P.$slots,"overlay",{key:0}):(pt(!0),St(Qi,{key:1},ar(U.value,(K,le)=>(pt(),St("div",{class:kn(["dp__overlay_row",{dp__flex_row:U.value.length>=3}]),key:le,role:"row"},[(pt(!0),St(Qi,null,ar(K,(pe,fe)=>(pt(),St("div",{role:"gridcell",class:kn(A.value),key:pe.value,"aria-selected":pe.value===e.modelValue&&!e.disabledValues.includes(pe.value),"aria-disabled":pe.className.dp__overlay_cell_disabled,ref_for:!0,ref:z=>m(z,pe,le,fe),tabindex:"0",onClick:z=>V(pe.value),onKeydown:[Cr(z=>V(pe.value),["enter"]),Cr(z=>V(pe.value),["space"])],onMouseover:z=>B.value=pe.value},[je("div",{class:kn(pe.className)},[P.$slots.item?dn(P.$slots,"item",{key:0,item:pe}):hi("",!0),P.$slots.item?hi("",!0):(pt(),St(Qi,{key:1},[Yr($i(pe.text),1)],64))],2)],42,HU))),128))],2))),128))],6),P.$slots["button-icon"]?Ks((pt(),St("div",{key:0,role:"button","aria-label":(Y=e.ariaLabels)==null?void 0:Y.toggleOverlay,class:kn(E.value),tabindex:"0",ref_key:"toggleButton",ref:W,onClick:w,onKeydown:[Cr(w,["enter"]),Cr(w,["tab"])]},[dn(P.$slots,"button-icon")],42,WU)),[[W0,!Ft(s)(e.type)]]):hi("",!0)],42,VU)}}}),YU=["aria-label"],ZE=Ho({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(e,{emit:t}){const i=e,{transitionName:r,showTransition:o}=h2(i.transitions),u=Ki(null);return zo(()=>t("set-ref",u)),(h,s)=>(pt(),St(Qi,null,[je("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:s[0]||(s[0]=v=>h.$emit("toggle")),onKeydown:[s[1]||(s[1]=Cr(rl(v=>h.$emit("toggle"),["prevent"]),["enter"])),s[2]||(s[2]=Cr(rl(v=>h.$emit("toggle"),["prevent"]),["space"]))],"aria-label":e.ariaLabel,tabindex:"0",ref_key:"elRef",ref:u},[dn(h.$slots,"default")],40,YU),sn(Ld,{name:Ft(r)(e.showSelectionGrid),css:Ft(o)},{default:Hn(()=>[e.showSelectionGrid?(pt(),mr(Yy,Fs({key:0},{modelValue:e.modelValue,items:e.items,disabledValues:e.disabledValues,minValue:e.minValue,maxValue:e.maxValue,escClose:e.escClose,type:e.type,arrowNavigation:e.arrowNavigation,textInput:e.textInput,autoApply:e.autoApply,ariaLabels:e.ariaLabels,hideNavigation:e.hideNavigation},{"header-refs":[],"onUpdate:modelValue":s[3]||(s[3]=v=>h.$emit("update:model-value",v)),onToggle:s[4]||(s[4]=v=>h.$emit("toggle"))}),_l({"button-icon":Hn(()=>[h.$slots["calendar-icon"]?dn(h.$slots,"calendar-icon",{key:0}):hi("",!0),h.$slots["calendar-icon"]?hi("",!0):(pt(),mr(Ft(d2),{key:1}))]),_:2},[h.$slots[e.slotName]?{name:"item",fn:Hn(({item:v})=>[dn(h.$slots,e.slotName,{item:v})]),key:"0"}:void 0,h.$slots[e.overlaySlot]?{name:"overlay",fn:Hn(()=>[dn(h.$slots,e.overlaySlot)]),key:"1"}:void 0,h.$slots[`${e.overlaySlot}-header`]?{name:"header",fn:Hn(()=>[dn(h.$slots,`${e.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):hi("",!0)]),_:3},8,["name","css"])],64))}}),qU={class:"dp__month_year_row"},XU={class:"dp__month_picker_header"},ZU=["aria-label"],KU=["aria-label"],JU=["aria-label"],QU=Ho({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...If},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:i}){const r=e,{defaults:o}=Cu(r),{transitionName:u,showTransition:h}=h2(o.value.transitions),{buildMatrix:s}=Df(),{handleMonthYearChange:v,isDisabled:I,updateMonthYear:J}=bU(r,i),M=Ki(!1),B=Ki(!1),W=Ki([null,null,null,null]),O=Ki(null),L=Ki(null),G=Ki(null);zo(()=>{i("mount")});const k=Q=>({get:()=>r[Q],set:se=>{const de=Q==="month"?"year":"month";i("update-month-year",{[Q]:se,[de]:r[de]}),i("month-year-select",Q==="year"),Q==="month"?K(!0):le(!0)}}),S=Ui(k("month")),A=Ui(k("year")),H=Q=>{const se=Ao(Zi(Q));return r.year===se},U=Ui(()=>r.monthPicker?Array.isArray(r.disabledDates)?r.disabledDates.map(Q=>Zi(Q)).filter(Q=>H(Q)).map(Q=>yo(Q)):[]:[]),E=Ui(()=>Q=>{const se=Q==="month";return{showSelectionGrid:(se?M:B).value,items:(se?g:x).value,disabledValues:o.value.filters[se?"months":"years"].concat(U.value),minValue:(se?V:ee).value,maxValue:(se?j:$).value,headerRefs:se&&r.monthPicker?[O.value,L.value,G.value]:[],escClose:r.escClose,transitions:o.value.transitions,ariaLabels:o.value.ariaLabels,textInput:r.textInput,autoApply:r.autoApply,arrowNavigation:r.arrowNavigation,hideNavigation:r.hideNavigation}}),ie=Ui(()=>Q=>({month:r.month,year:r.year,items:Q==="month"?r.months:r.years,instance:r.instance,updateMonthYear:J,toggle:Q==="month"?K:le})),ee=Ui(()=>r.minDate?Ao(Zi(r.minDate)):null),$=Ui(()=>r.maxDate?Ao(Zi(r.maxDate)):null),V=Ui(()=>{if(r.minDate&&ee.value){if(ee.value>r.year)return 12;if(ee.value===r.year)return yo(Zi(r.minDate))}return null}),j=Ui(()=>r.maxDate&&$.value?$.value<r.year?-1:$.value===r.year?yo(Zi(r.maxDate)):null:null),w=Ui(()=>(r.range||r.multiDates)&&r.internalModelValue&&(r.monthPicker||r.yearPicker)?r.internalModelValue:[]),D=Q=>{const se=[],de=Ce=>Ce;for(let Ce=0;Ce<Q.length;Ce+=3){const ne=[Q[Ce],Q[Ce+1],Q[Ce+2]];se.push(de(ne))}return se},m=Ui(()=>r.months.find(se=>se.value===r.month)||{text:"",value:0}),g=Ui(()=>D(r.months)),x=Ui(()=>D(r.years)),P=Ui(()=>o.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===0:!0),X=Ui(()=>o.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===o.value.multiCalendars-1:!0),Y=(Q,se)=>{se!==void 0?Q.value=se:Q.value=!Q.value},K=(Q=!1,se)=>{pe(Q),Y(M,se),M.value||i("overlay-closed")},le=(Q=!1,se)=>{pe(Q),Y(B,se),B.value||i("overlay-closed")},pe=Q=>{Q||i("reset-flow")},fe=(Q=!1)=>{I.value(Q)||i("update-month-year",{year:Q?r.year+1:r.year-1,month:r.month,fromNav:!0})},z=(Q,se)=>{r.arrowNavigation&&(W.value[se]=Qo(Q),s(W.value,"monthYear"))};return t({toggleMonthPicker:K,toggleYearPicker:le,handleMonthYearChange:v}),(Q,se)=>{var de,Ce,ne,ve,_e;return pt(),St("div",qU,[Q.$slots["month-year"]?dn(Q.$slots,"month-year",Is(Fs({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:Ft(J),handleMonthYearChange:Ft(v),instance:e.instance}))):(pt(),St(Qi,{key:1},[!Q.monthPicker&&!Q.yearPicker?(pt(),St(Qi,{key:0},[P.value&&!Q.vertical?(pt(),mr(O3,{key:0,"aria-label":(de=Ft(o).ariaLabels)==null?void 0:de.prevMonth,disabled:Ft(I)(!1),onActivate:se[0]||(se[0]=oe=>Ft(v)(!1)),onSetRef:se[1]||(se[1]=oe=>z(oe,0))},{default:Hn(()=>[Q.$slots["arrow-left"]?dn(Q.$slots,"arrow-left",{key:0}):hi("",!0),Q.$slots["arrow-left"]?hi("",!0):(pt(),mr(Ft(LE),{key:1}))]),_:3},8,["aria-label","disabled"])):hi("",!0),je("div",{class:kn(["dp__month_year_wrap",{dp__year_disable_select:r.disableYearSelect}])},[sn(ZE,Fs({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(Ce=Ft(o).ariaLabels)==null?void 0:Ce.openMonthsOverlay,modelValue:S.value,"onUpdate:modelValue":se[2]||(se[2]=oe=>S.value=oe)},E.value("month"),{onToggle:K,onSetRef:se[3]||(se[3]=oe=>z(oe,1))}),_l({default:Hn(()=>[Q.$slots.month?dn(Q.$slots,"month",Is(Fs({key:0},m.value))):hi("",!0),Q.$slots.month?hi("",!0):(pt(),St(Qi,{key:1},[Yr($i(m.value.text),1)],64))]),_:2},[Q.$slots["calendar-icon"]?{name:"calendar-icon",fn:Hn(()=>[dn(Q.$slots,"calendar-icon")]),key:"0"}:void 0,Q.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:Hn(({item:oe})=>[dn(Q.$slots,"month-overlay-value",{text:oe.text,value:oe.value})]),key:"1"}:void 0,Q.$slots["month-overlay"]?{name:"overlay-month",fn:Hn(()=>[dn(Q.$slots,"month-overlay",Is(Fa(ie.value("month"))))]),key:"2"}:void 0,Q.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:Hn(()=>[dn(Q.$slots,"month-overlay-header",{toggle:K})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),r.disableYearSelect?hi("",!0):(pt(),mr(ZE,Fs({key:0,type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(ne=Ft(o).ariaLabels)==null?void 0:ne.openYearsOverlay,modelValue:A.value,"onUpdate:modelValue":se[4]||(se[4]=oe=>A.value=oe)},E.value("year"),{onToggle:le,onSetRef:se[5]||(se[5]=oe=>z(oe,2))}),_l({default:Hn(()=>[Q.$slots.year?dn(Q.$slots,"year",{key:0,year:e.year}):hi("",!0),Q.$slots.year?hi("",!0):(pt(),St(Qi,{key:1},[Yr($i(e.year),1)],64))]),_:2},[Q.$slots["calendar-icon"]?{name:"calendar-icon",fn:Hn(()=>[dn(Q.$slots,"calendar-icon")]),key:"0"}:void 0,Q.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:Hn(({item:oe})=>[dn(Q.$slots,"year-overlay-value",{text:oe.text,value:oe.value})]),key:"1"}:void 0,Q.$slots["year-overlay"]?{name:"overlay-year",fn:Hn(()=>[dn(Q.$slots,"year-overlay",Is(Fa(ie.value("year"))))]),key:"2"}:void 0,Q.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:Hn(()=>[dn(Q.$slots,"year-overlay-header",{toggle:le})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]))],2),P.value&&Q.vertical?(pt(),mr(O3,{key:1,"aria-label":(ve=Ft(o).ariaLabels)==null?void 0:ve.prevMonth,disabled:Ft(I)(!1),onActivate:se[6]||(se[6]=oe=>Ft(v)(!1))},{default:Hn(()=>[Q.$slots["arrow-up"]?dn(Q.$slots,"arrow-up",{key:0}):hi("",!0),Q.$slots["arrow-up"]?hi("",!0):(pt(),mr(Ft(k4),{key:1}))]),_:3},8,["aria-label","disabled"])):hi("",!0),X.value?(pt(),mr(O3,{key:2,ref:"rightIcon",disabled:Ft(I)(!0),"aria-label":(_e=Ft(o).ariaLabels)==null?void 0:_e.nextMonth,onActivate:se[7]||(se[7]=oe=>Ft(v)(!0)),onSetRef:se[8]||(se[8]=oe=>z(oe,3))},{default:Hn(()=>[Q.$slots[Q.vertical?"arrow-down":"arrow-right"]?dn(Q.$slots,Q.vertical?"arrow-down":"arrow-right",{key:0}):hi("",!0),Q.$slots[Q.vertical?"arrow-down":"arrow-right"]?hi("",!0):(pt(),mr(Vb(Q.vertical?Ft(A4):Ft(OE)),{key:1}))]),_:3},8,["disabled","aria-label"])):hi("",!0)],64)):hi("",!0),Q.monthPicker?(pt(),mr(Yy,Fs({key:1},E.value("month"),{"skip-active":Q.range,"internal-model-value":e.internalModelValue,year:e.year,"auto-apply-month":Q.autoApplyMonth,"multi-model-value":w.value,"month-picker":"",modelValue:S.value,"onUpdate:modelValue":se[17]||(se[17]=oe=>S.value=oe),onToggle:K,onSelected:se[18]||(se[18]=oe=>Q.$emit("overlay-closed"))}),_l({header:Hn(()=>{var oe,ge,Te;return[je("div",XU,[je("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:O,onClick:se[9]||(se[9]=Re=>fe(!1)),onKeydown:se[10]||(se[10]=Cr(Re=>fe(!1),["enter"]))},[je("div",{class:kn(["dp__inner_nav",{dp__inner_nav_disabled:Ft(I)(!1)}]),role:"button","aria-label":(oe=Ft(o).ariaLabels)==null?void 0:oe.prevMonth},[Q.$slots["arrow-left"]?dn(Q.$slots,"arrow-left",{key:0}):hi("",!0),Q.$slots["arrow-left"]?hi("",!0):(pt(),mr(Ft(LE),{key:1}))],10,ZU)],544),je("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:L,"aria-label":(ge=Ft(o).ariaLabels)==null?void 0:ge.openYearsOverlay,tabindex:"0",onClick:se[11]||(se[11]=()=>le(!1)),onKeydown:se[12]||(se[12]=Cr(()=>le(!1),["enter"]))},[Q.$slots.year?dn(Q.$slots,"year",{key:0,year:e.year}):hi("",!0),Q.$slots.year?hi("",!0):(pt(),St(Qi,{key:1},[Yr($i(e.year),1)],64))],40,KU),je("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:G,onClick:se[13]||(se[13]=Re=>fe(!0)),onKeydown:se[14]||(se[14]=Cr(Re=>fe(!0),["enter"]))},[je("div",{class:kn(["dp__inner_nav",{dp__inner_nav_disabled:Ft(I)(!0)}]),role:"button","aria-label":(Te=Ft(o).ariaLabels)==null?void 0:Te.nextMonth},[Q.$slots["arrow-right"]?dn(Q.$slots,"arrow-right",{key:0}):hi("",!0),Q.$slots["arrow-right"]?hi("",!0):(pt(),mr(Ft(OE),{key:1}))],10,JU)],544)]),sn(Ld,{name:Ft(u)(B.value),css:Ft(h)},{default:Hn(()=>[B.value?(pt(),mr(Yy,Fs({key:0},E.value("year"),{modelValue:A.value,"onUpdate:modelValue":se[15]||(se[15]=Re=>A.value=Re),onToggle:le,onSelected:se[16]||(se[16]=Re=>Q.$emit("overlay-closed"))}),_l({"button-icon":Hn(()=>[Q.$slots["calendar-icon"]?dn(Q.$slots,"calendar-icon",{key:0}):hi("",!0),Q.$slots["calendar-icon"]?hi("",!0):(pt(),mr(Ft(d2),{key:1}))]),_:2},[Q.$slots["year-overlay-value"]?{name:"item",fn:Hn(({item:Re})=>[dn(Q.$slots,"year-overlay-value",{text:Re.text,value:Re.value})]),key:"0"}:void 0]),1040,["modelValue"])):hi("",!0)]),_:3},8,["name","css"])]}),_:2},[Q.$slots["month-overlay-value"]?{name:"item",fn:Hn(({item:oe})=>[dn(Q.$slots,"month-overlay-value",{text:oe.text,value:oe.value})]),key:"0"}:void 0]),1040,["skip-active","internal-model-value","year","auto-apply-month","multi-model-value","modelValue"])):hi("",!0),Q.yearPicker?(pt(),mr(Yy,Fs({key:2},E.value("year"),{modelValue:A.value,"onUpdate:modelValue":se[19]||(se[19]=oe=>A.value=oe),"multi-model-value":w.value,"skip-active":Q.range,"skip-button-ref":"","year-picker":"",onToggle:le,onSelected:se[20]||(se[20]=oe=>Q.$emit("overlay-closed"))}),_l({_:2},[Q.$slots["year-overlay-value"]?{name:"item",fn:Hn(({item:oe})=>[dn(Q.$slots,"year-overlay-value",{text:oe.text,value:oe.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):hi("",!0)],64))])}}}),e$={key:0,class:"dp__time_input"},t$=["aria-label","onKeydown","onClick"],i$=je("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),n$=je("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),r$=["aria-label","onKeydown","onClick"],s$=["aria-label","onKeydown","onClick"],o$=je("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),a$=je("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),l$={key:0},c$=["aria-label","onKeydown"],u$=Ho({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...If},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:i}){const r=e,{setTimePickerElements:o,setTimePickerBackRef:u}=Df(),{defaults:h}=Cu(r),{transitionName:s,showTransition:v}=h2(h.value.transitions),I=Id({hours:!1,minutes:!1,seconds:!1}),J=Ki("AM"),M=Ki(null),B=Ki([]);zo(()=>{i("mounted")});const W=Y=>nl(new Date,{hours:Y.hours,minutes:Y.minutes,seconds:r.enableSeconds?Y.seconds:0,milliseconds:0}),O=Ui(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),L=Ui(()=>Y=>!ee(+r[Y]+ +r[`${Y}Increment`],Y)),G=Ui(()=>Y=>!ee(+r[Y]-+r[`${Y}Increment`],Y)),k=(Y,K)=>a4(nl(Zi(),Y),K),S=(Y,K)=>Cj(nl(Zi(),Y),K),A=Ui(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),H=Ui(()=>{const Y=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return r.enableSeconds?Y.concat([{type:"",separator:!0},{type:"seconds"}]):Y}),U=Ui(()=>H.value.filter(Y=>!Y.separator)),E=Ui(()=>Y=>{if(Y==="hours"){const K=m(+r.hours);return{text:K<10?`0${K}`:`${K}`,value:K}}return{text:r[Y]<10?`0${r[Y]}`:`${r[Y]}`,value:r[Y]}}),ie=Y=>{const K=r.is24?24:12,le=Y==="hours"?K:60,pe=+r[`${Y}GridIncrement`],fe=Y==="hours"&&!r.is24?pe:0,z=[];for(let Q=fe;Q<le;Q+=pe)z.push({value:Q,text:Q<10?`0${Q}`:`${Q}`});return Y==="hours"&&!r.is24&&z.push({value:0,text:"12"}),nU(z)},ee=(Y,K)=>{const le=r.minTime?W(C3(r.minTime)):null,pe=r.maxTime?W(C3(r.maxTime)):null,fe=W(C3(O.value,K,Y));return le&&pe?(u_(fe,pe)||j0(fe,pe))&&(c_(fe,le)||j0(fe,le)):le?c_(fe,le)||j0(fe,le):pe?u_(fe,pe)||j0(fe,pe):!0},$=Ui(()=>Y=>ie(Y).flat().filter(K=>uU(K.value)).map(K=>K.value).filter(K=>!ee(K,Y))),V=Y=>r[`no${Y[0].toUpperCase()+Y.slice(1)}Overlay`],j=Y=>{V(Y)||(I[Y]=!I[Y],I[Y]||i("overlay-closed"))},w=Y=>Y==="hours"?ep:Y==="minutes"?tp:$g,D=(Y,K=!0)=>{const le=K?k:S,pe=K?+r[`${Y}Increment`]:-+r[`${Y}Increment`];ee(+r[Y]+pe,Y)&&i(`update:${Y}`,w(Y)(le({[Y]:+r[Y]},{[Y]:+r[`${Y}Increment`]})))},m=Y=>r.is24?Y:(Y>=12?J.value="PM":J.value="AM",lU(Y)),g=()=>{J.value==="PM"?(J.value="AM",i("update:hours",r.hours-12)):(J.value="PM",i("update:hours",r.hours+12)),i("am-pm-change",J.value)},x=Y=>{I[Y]=!0},P=(Y,K,le)=>{if(Y&&r.arrowNavigation){Array.isArray(B.value[K])?B.value[K][le]=Y:B.value[K]=[Y];const pe=B.value.reduce((fe,z)=>z.map((Q,se)=>[...fe[se]||[],z[se]]),[]);u(r.closeTimePickerBtn),M.value&&(pe[1]=pe[1].concat(M.value)),o(pe,r.order)}},X=(Y,K)=>Y==="hours"&&!r.is24?i(`update:${Y}`,J.value==="PM"?K+12:K):i(`update:${Y}`,K);return t({openChildCmp:x}),(Y,K)=>{var le;return Y.disabled?hi("",!0):(pt(),St("div",e$,[(pt(!0),St(Qi,null,ar(H.value,(pe,fe)=>{var z,Q,se;return pt(),St("div",{key:fe,class:kn(A.value)},[pe.separator?(pt(),St(Qi,{key:0},[Yr(" : ")],64)):(pt(),St(Qi,{key:1},[je("button",{type:"button",class:kn({dp__btn:!0,dp__inc_dec_button:!r.timePickerInline,dp__inc_dec_button_inline:r.timePickerInline,dp__tp_inline_btn_top:r.timePickerInline,dp__inc_dec_button_disabled:L.value(pe.type)}),"aria-label":(z=Ft(h).ariaLabels)==null?void 0:z.incrementValue(pe.type),tabindex:"0",onKeydown:[Cr(de=>D(pe.type),["enter"]),Cr(de=>D(pe.type),["space"])],onClick:de=>D(pe.type),ref_for:!0,ref:de=>P(de,fe,0)},[r.timePickerInline?(pt(),St(Qi,{key:1},[i$,n$],64)):(pt(),St(Qi,{key:0},[Y.$slots["arrow-up"]?dn(Y.$slots,"arrow-up",{key:0}):hi("",!0),Y.$slots["arrow-up"]?hi("",!0):(pt(),mr(Ft(k4),{key:1}))],64))],42,t$),je("button",{type:"button","aria-label":(Q=Ft(h).ariaLabels)==null?void 0:Q.openTpOverlay(pe.type),class:kn(["dp__btn",V(pe.type)?void 0:{dp__time_display:!0,dp__time_display_block:!r.timePickerInline,dp__time_display_inline:r.timePickerInline}]),tabindex:"0",onKeydown:[Cr(de=>j(pe.type),["enter"]),Cr(de=>j(pe.type),["space"])],onClick:de=>j(pe.type),ref_for:!0,ref:de=>P(de,fe,1)},[Y.$slots[pe.type]?dn(Y.$slots,pe.type,{key:0,text:E.value(pe.type).text,value:E.value(pe.type).value}):hi("",!0),Y.$slots[pe.type]?hi("",!0):(pt(),St(Qi,{key:1},[Yr($i(E.value(pe.type).text),1)],64))],42,r$),je("button",{type:"button",class:kn({dp__btn:!0,dp__inc_dec_button:!r.timePickerInline,dp__inc_dec_button_inline:r.timePickerInline,dp__tp_inline_btn_bottom:r.timePickerInline,dp__inc_dec_button_disabled:G.value(pe.type)}),"aria-label":(se=Ft(h).ariaLabels)==null?void 0:se.decrementValue(pe.type),tabindex:"0",onKeydown:[Cr(de=>D(pe.type,!1),["enter"]),Cr(de=>D(pe.type,!1),["space"])],onClick:de=>D(pe.type,!1),ref_for:!0,ref:de=>P(de,fe,2)},[r.timePickerInline?(pt(),St(Qi,{key:1},[o$,a$],64)):(pt(),St(Qi,{key:0},[Y.$slots["arrow-down"]?dn(Y.$slots,"arrow-down",{key:0}):hi("",!0),Y.$slots["arrow-down"]?hi("",!0):(pt(),mr(Ft(A4),{key:1}))],64))],42,s$)],64))],2)}),128)),Y.is24?hi("",!0):(pt(),St("div",l$,[Y.$slots["am-pm-button"]?dn(Y.$slots,"am-pm-button",{key:0,toggle:g,value:J.value}):hi("",!0),Y.$slots["am-pm-button"]?hi("",!0):(pt(),St("button",{key:1,ref_key:"amPmButton",ref:M,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(le=Ft(h).ariaLabels)==null?void 0:le.amPmButton,tabindex:"0",onClick:g,onKeydown:[Cr(rl(g,["prevent"]),["enter"]),Cr(rl(g,["prevent"]),["space"])]},$i(J.value),41,c$))])),(pt(!0),St(Qi,null,ar(U.value,(pe,fe)=>(pt(),mr(Ld,{key:fe,name:Ft(s)(I[pe.type]),css:Ft(v)},{default:Hn(()=>[I[pe.type]?(pt(),mr(Yy,{key:0,items:ie(pe.type),"disabled-values":Ft(h).filters.times[pe.type].concat($.value(pe.type)),"esc-close":Y.escClose,"aria-labels":Ft(h).ariaLabels,"hide-navigation":Y.hideNavigation,"onUpdate:modelValue":z=>X(pe.type,z),onSelected:z=>j(pe.type),onToggle:z=>j(pe.type),onResetFlow:K[0]||(K[0]=z=>Y.$emit("reset-flow")),type:pe.type},_l({"button-icon":Hn(()=>[Y.$slots["clock-icon"]?dn(Y.$slots,"clock-icon",{key:0}):hi("",!0),Y.$slots["clock-icon"]?hi("",!0):(pt(),mr(Ft(M4),{key:1}))]),_:2},[Y.$slots[`${pe.type}-overlay-value`]?{name:"item",fn:Hn(({item:z})=>[dn(Y.$slots,`${pe.type}-overlay-value`,{text:z.text,value:z.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):hi("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),d$=["aria-label"],h$=["tabindex"],p$=["aria-label"],f$=Ho({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...If},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:i}){const r=e,{buildMatrix:o,setTimePicker:u}=Df(),h=om(),{hideNavigationButtons:s,defaults:v}=Cu(r),{transitionName:I,showTransition:J}=h2(v.value.transitions),M=Ki(null),B=Ki(null),W=Ki([]),O=Ki(null);zo(()=>{i("mount"),!r.timePicker&&r.arrowNavigation?o([Qo(M.value)],"time"):u(!0,r.timePicker)});const L=Ui(()=>r.range&&r.modelAuto?R4(r.internalModelValue):!0),G=Ki(!1),k=j=>({hours:Array.isArray(r.hours)?r.hours[j]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[j]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[j]:r.seconds}),S=Ui(()=>{const j=[];if(r.range)for(let w=0;w<2;w++)j.push(k(w));else j.push(k(0));return j}),A=(j,w=!1,D="")=>{w||i("reset-flow"),G.value=j,i(j?"overlay-opened":"overlay-closed"),r.arrowNavigation&&u(j),bc(()=>{D!==""&&W.value[0]&&W.value[0].openChildCmp(D)})},H=Ui(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!r.keepActionRow})),U=U0(h,"timePicker"),E=(j,w,D)=>r.range?w===0?[j,S.value[1][D]]:[S.value[0][D],j]:j,ie=j=>{i("update:hours",j)},ee=j=>{i("update:minutes",j)},$=j=>{i("update:seconds",j)},V=()=>{if(O.value){const j=dU(O.value);j&&j.focus({preventScroll:!0})}};return t({toggleTimePicker:A}),(j,w)=>{var D;return pt(),St("div",null,[!j.timePicker&&!j.timePickerInline?Ks((pt(),St("button",{key:0,type:"button",class:kn(H.value),"aria-label":(D=Ft(v).ariaLabels)==null?void 0:D.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:M,onKeydown:[w[0]||(w[0]=Cr(m=>A(!0),["enter"])),w[1]||(w[1]=Cr(m=>A(!0),["space"]))],onClick:w[2]||(w[2]=m=>A(!0))},[j.$slots["clock-icon"]?dn(j.$slots,"clock-icon",{key:0}):hi("",!0),j.$slots["clock-icon"]?hi("",!0):(pt(),mr(Ft(M4),{key:1}))],42,d$)),[[W0,!Ft(s)("time")]]):hi("",!0),sn(Ld,{name:Ft(I)(G.value),css:Ft(J)&&!j.timePickerInline},{default:Hn(()=>{var m;return[G.value||j.timePicker||j.timePickerInline?(pt(),St("div",{key:0,class:kn({dp__overlay:!j.timePickerInline}),ref_key:"overlayRef",ref:O,tabindex:j.timePickerInline?void 0:0},[je("div",{class:kn(j.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[j.$slots["time-picker-overlay"]?dn(j.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:ie,setMinutes:ee,setSeconds:$}):hi("",!0),j.$slots["time-picker-overlay"]?hi("",!0):(pt(),St("div",{key:1,class:kn(j.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(pt(!0),St(Qi,null,ar(S.value,(g,x)=>Ks((pt(),mr(u$,Fs({key:x},{...j.$props,order:x,hours:g.hours,minutes:g.minutes,seconds:g.seconds,closeTimePickerBtn:B.value,disabled:x===0?j.fixedStart:j.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:W,"onUpdate:hours":P=>ie(E(P,x,"hours")),"onUpdate:minutes":P=>ee(E(P,x,"minutes")),"onUpdate:seconds":P=>$(E(P,x,"seconds")),onMounted:V,onOverlayClosed:V,onAmPmChange:w[3]||(w[3]=P=>j.$emit("am-pm-change",P))}),_l({_:2},[ar(Ft(U),(P,X)=>({name:P,fn:Hn(Y=>[dn(j.$slots,P,Is(Fa(Y)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[W0,x===0?!0:L.value]])),128))],2)),!j.timePicker&&!j.timePickerInline?Ks((pt(),St("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:B,class:kn(H.value),"aria-label":(m=Ft(v).ariaLabels)==null?void 0:m.closeTimePicker,tabindex:"0",onKeydown:[w[4]||(w[4]=Cr(g=>A(!1),["enter"])),w[5]||(w[5]=Cr(g=>A(!1),["space"]))],onClick:w[6]||(w[6]=g=>A(!1))},[j.$slots["calendar-icon"]?dn(j.$slots,"calendar-icon",{key:0}):hi("",!0),j.$slots["calendar-icon"]?hi("",!0):(pt(),mr(Ft(d2),{key:1}))],42,p$)),[[W0,!Ft(s)("time")]]):hi("",!0)],2)],10,h$)):hi("",!0)]}),_:3},8,["name","css"])])}}}),m$=(e,t)=>{const{isDisabled:i,matchDate:r,getWeekFromDate:o,defaults:u}=Cu(t),h=Ki(null),s=Ki(Zi()),v=Y=>{!Y.current&&t.hideOffsetDates||(h.value=Y.value)},I=()=>{h.value=null},J=Y=>Array.isArray(e.value)&&t.range&&e.value[0]&&h.value?Y?vc(h.value,e.value[0]):Fl(h.value,e.value[0]):!0,M=(Y,K)=>{const le=()=>e.value?K?e.value[0]||null:e.value[1]:null,pe=e.value&&Array.isArray(e.value)?le():null;return Ys(Zi(Y.value),pe)},B=Y=>{const K=Array.isArray(e.value)?e.value[0]:null;return Y?!Fl(h.value||null,K):!0},W=(Y,K=!0)=>(t.range||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!Y.current?!1:Ys(Zi(Y.value),e.value[K?0:1]):t.range?M(Y,K)&&B(K)||Ys(Y.value,Array.isArray(e.value)?e.value[0]:null)&&J(K):!1,O=(Y,K,le)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?Y?!1:le?vc(e.value[0],K.value):Fl(e.value[0],K.value):!1,L=Y=>!e.value||t.hideOffsetDates&&!Y.current?!1:t.range?t.modelAuto&&Array.isArray(e.value)?Ys(Y.value,e.value[0]?e.value[0]:s.value):!1:t.multiDates&&Array.isArray(e.value)?e.value.some(K=>Ys(K,Y.value)):Ys(Y.value,e.value?e.value:s.value),G=Y=>{if(t.autoRange||t.weekPicker){if(h.value){if(t.hideOffsetDates&&!Y.current)return!1;const K=rp(h.value,+t.autoRange),le=o(Zi(h.value));return t.weekPicker?Ys(le[1],Zi(Y.value)):Ys(K,Zi(Y.value))}return!1}return!1},k=Y=>{if(t.autoRange||t.weekPicker){if(h.value){const K=rp(h.value,+t.autoRange);if(t.hideOffsetDates&&!Y.current)return!1;const le=o(Zi(h.value));return t.weekPicker?vc(Y.value,le[0])&&Fl(Y.value,le[1]):vc(Y.value,h.value)&&Fl(Y.value,K)}return!1}return!1},S=Y=>{if(t.autoRange||t.weekPicker){if(h.value){if(t.hideOffsetDates&&!Y.current)return!1;const K=o(Zi(h.value));return t.weekPicker?Ys(K[0],Y.value):Ys(h.value,Y.value)}return!1}return!1},A=Y=>P4(e.value,h.value,Y.value),H=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,U=()=>t.modelAuto?R4(t.internalModelValue):!0,E=Y=>{if(Array.isArray(e.value)&&e.value.length||t.weekPicker)return!1;const K=t.range?!W(Y)&&!W(Y,!1):!0;return!i(Y.value)&&!L(Y)&&!(!Y.current&&t.hideOffsetDates)&&K},ie=Y=>t.range?t.modelAuto?H()&&L(Y):!1:L(Y),ee=Y=>{var K;return t.highlight?r(Y.value,(K=t.arrMapValues)!=null&&K.highlightedDates?t.arrMapValues.highlightedDates:t.highlight):!1},$=Y=>i(Y.value)&&t.highlightDisabledDays===!1,V=Y=>t.highlightWeekDays&&t.highlightWeekDays.includes(Y.value.getDay()),j=Y=>(t.range||t.weekPicker)&&(!(u.value.multiCalendars>0)||Y.current)&&U()&&!(!Y.current&&t.hideOffsetDates)&&!L(Y)?A(Y):!1,w=Y=>{const{isRangeStart:K,isRangeEnd:le}=g(Y),pe=t.range?K||le:!1;return{dp__cell_offset:!Y.current,dp__pointer:!t.disabled&&!(!Y.current&&t.hideOffsetDates)&&!i(Y.value),dp__cell_disabled:i(Y.value),dp__cell_highlight:!$(Y)&&(ee(Y)||V(Y))&&!ie(Y)&&!pe,dp__cell_highlight_active:!$(Y)&&(ee(Y)||V(Y))&&ie(Y),dp__today:!t.noToday&&Ys(Y.value,s.value)&&Y.current}},D=Y=>({dp__active_date:ie(Y),dp__date_hover:E(Y)}),m=Y=>({...x(Y),...P(Y),dp__range_between_week:j(Y)&&t.weekPicker}),g=Y=>{const K=u.value.multiCalendars>0?Y.current&&W(Y)&&U():W(Y)&&U(),le=u.value.multiCalendars>0?Y.current&&W(Y,!1)&&U():W(Y,!1)&&U();return{isRangeStart:K,isRangeEnd:le}},x=Y=>{const{isRangeStart:K,isRangeEnd:le}=g(Y);return{dp__range_start:K,dp__range_end:le,dp__range_between:j(Y)&&!t.weekPicker,dp__date_hover_start:O(E(Y),Y,!0),dp__date_hover_end:O(E(Y),Y,!1)}},P=Y=>({...x(Y),dp__cell_auto_range:k(Y),dp__cell_auto_range_start:S(Y),dp__cell_auto_range_end:G(Y)}),X=Y=>t.range?t.autoRange?P(Y):t.modelAuto?{...D(Y),...x(Y)}:x(Y):t.weekPicker?m(Y):D(Y);return{setHoverDate:v,clearHoverDate:I,getDayClassData:Y=>t.hideOffsetDates&&!Y.current?{}:{...w(Y),...X(Y),[t.dayClass?t.dayClass(Y.value):""]:!0,[t.calendarCellClassName]:!!t.calendarCellClassName}}},g$=["id","onKeydown"],y$={key:0,class:"dp__sidebar_left"},_$={key:1,class:"dp__preset_ranges"},v$=["onClick"],x$={key:2,class:"dp__sidebar_right"},b$={key:3,class:"dp__action_extra"},w$=Ho({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},...If},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:i}){const r=e,o=Ui(()=>{const{openOnTop:di,internalModelValue:Hi,arrMapValues:Yi,...fr}=r;return fr}),{setMenuFocused:u,setShiftKey:h,control:s}=D4(),{getCalendarDays:v,defaults:I}=Cu(r),J=om(),M=Ki(null),B=Id({timePicker:!!(!r.enableTimePicker||r.timePicker||r.monthPicker),monthYearInput:!!r.timePicker,calendar:!1}),W=Ki([]),O=Ki([]),L=Ki(null),G=Ki(null),k=Ki(0),S=Ki(!1),A=Ki(0);zo(()=>{var di;S.value=!0,!((di=r.presetRanges)!=null&&di.length)&&!J["left-sidebar"]&&!J["right-sidebar"]&&(Qe(),window.addEventListener("resize",Qe));const Hi=Qo(G);if(Hi&&!r.textInput&&!r.inline&&(u(!0),$()),Hi){const Yi=fr=>{r.allowPreventDefault&&fr.preventDefault(),fr.stopImmediatePropagation(),fr.stopPropagation()};Hi.addEventListener("pointerdown",Yi),Hi.addEventListener("mousedown",Yi)}}),yh(()=>{window.removeEventListener("resize",Qe)});const{arrowRight:H,arrowLeft:U,arrowDown:E,arrowUp:ie}=Df(),ee=di=>{di||di===0?O.value[di].triggerTransition(m.value(di),g.value(di)):O.value.forEach((Hi,Yi)=>Hi.triggerTransition(m.value(Yi),g.value(Yi)))},$=()=>{const di=Qo(G);di&&di.focus({preventScroll:!0})},V=()=>{var di;(di=r.flow)!=null&&di.length&&A.value!==-1&&(A.value+=1,i("flow-step",A.value),ei())},j=()=>{A.value=-1},{calendars:w,modelValue:D,month:m,year:g,time:x,updateTime:P,updateMonthYear:X,selectDate:Y,getWeekNum:K,monthYearSelect:le,handleScroll:pe,handleArrow:fe,handleSwipe:z,getMarker:Q,selectCurrentDate:se,presetDateRange:de}=vU(r,i,V,ee,A),{setHoverDate:Ce,clearHoverDate:ne,getDayClassData:ve}=m$(D,r),_e={modelValue:D,month:m,year:g,time:x,updateTime:P,updateMonthYear:X,selectDate:Y,presetDateRange:de,handleMonthYearChange:di=>{W.value[0]&&W.value[0].handleMonthYearChange(di)}};Zs(w,()=>{r.openOnTop&&setTimeout(()=>{i("recalculate-position")},0)},{deep:!0});const oe=U0(J,"calendar"),ge=U0(J,"action"),Te=U0(J,"timePicker"),Re=U0(J,"monthYear"),Le=Ui(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),$e=Ui(()=>oU(r.yearRange,r.reverseYears)),nt=Ui(()=>aU(r.formatLocale,r.locale,r.monthNameFormat)),Qe=()=>{const di=Qo(M);di&&(k.value=di.getBoundingClientRect().width)},We=Ui(()=>di=>v(m.value(di),g.value(di))),xe=Ui(()=>I.value.multiCalendars>0?[...Array(I.value.multiCalendars).keys()]:[0]),Ie=Ui(()=>di=>di===1),Be=Ui(()=>r.monthPicker||r.timePicker||r.yearPicker),Xe=Ui(()=>({dp__menu_inner:!0,dp__flex_display:I.value.multiCalendars>0})),Ze=Ui(()=>({dp__instance_calendar:I.value.multiCalendars>0})),ft=Ui(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly})),Ct=Ui(()=>di=>pi(We,di)),Nt=Ui(()=>({dp__menu:!0,dp__menu_index:!r.inline,dp__relative:r.inline,[r.menuClassName]:!!r.menuClassName})),pi=(di,Hi)=>di.value(Hi).map(Yi=>({...Yi,days:Yi.days.map(fr=>(fr.marker=Q(fr),fr.classData=ve(fr),fr))})),qt=di=>{di.stopPropagation(),di.stopImmediatePropagation()},fi=()=>{r.escClose&&i("close-picker")},Gi=(di,Hi=!1)=>{Y(di,Hi),r.spaceConfirm&&i("select-date")},dt=di=>{var Hi;(Hi=r.flow)!=null&&Hi.length&&(B[di]=!0,Object.keys(B).filter(Yi=>!B[Yi]).length||ei())},Lt=(di,Hi,Yi,fr,...As)=>{if(r.flow[A.value]===di){const xn=fr?Hi.value[0]:Hi.value;xn&&xn[Yi](...As)}},ei=()=>{Lt("month",W,"toggleMonthPicker",!0,!0),Lt("year",W,"toggleYearPicker",!0,!0),Lt("calendar",L,"toggleTimePicker",!1,!1,!0),Lt("time",L,"toggleTimePicker",!1,!0,!0);const di=r.flow[A.value];(di==="hours"||di==="minutes"||di==="seconds")&&Lt(di,L,"toggleTimePicker",!1,!0,!0,di)},ki=di=>{if(r.arrowNavigation){if(di==="up")return ie();if(di==="down")return E();if(di==="left")return U();if(di==="right")return H()}else di==="left"||di==="up"?fe("left",0,di==="up"):fe("right",0,di==="down")},on=di=>{h(di.shiftKey),!r.disableMonthYearSelect&&di.code==="Tab"&&di.target.classList.contains("dp__menu")&&s.value.shiftKeyInMenu&&(di.preventDefault(),di.stopImmediatePropagation(),i("close-picker"))},Rn=()=>{$(),i("time-picker-close")},Gr=di=>{var Hi,Yi,fr,As,xn;(Hi=L.value)==null||Hi.toggleTimePicker(!1,!1),(fr=(Yi=W.value)==null?void 0:Yi[di])==null||fr.toggleMonthPicker(!1,!1),(xn=(As=W.value)==null?void 0:As[di])==null||xn.toggleYearPicker(!1,!1)};return t({updateMonthYear:X,switchView:(di,Hi=0)=>{var Yi,fr,As,xn,Us;return di==="month"?(fr=(Yi=W.value)==null?void 0:Yi[Hi])==null?void 0:fr.toggleMonthPicker(!1,!0):di==="year"?(xn=(As=W.value)==null?void 0:As[Hi])==null?void 0:xn.toggleYearPicker(!1,!0):di==="time"?(Us=L.value)==null?void 0:Us.toggleTimePicker(!0,!1):Gr(Hi)}}),(di,Hi)=>{var Yi;return pt(),mr(Ld,{appear:"",name:(Yi=Ft(I).transitions)==null?void 0:Yi.menuAppear,css:!!di.transitions},{default:Hn(()=>{var fr,As;return[je("div",{id:di.uid?`dp-menu-${di.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:G,role:"dialog",class:kn(Nt.value),onMouseleave:Hi[14]||(Hi[14]=(...xn)=>Ft(ne)&&Ft(ne)(...xn)),onClick:qt,onKeydown:[Cr(fi,["esc"]),Hi[15]||(Hi[15]=Cr(rl(xn=>ki("left"),["prevent"]),["left"])),Hi[16]||(Hi[16]=Cr(rl(xn=>ki("up"),["prevent"]),["up"])),Hi[17]||(Hi[17]=Cr(rl(xn=>ki("down"),["prevent"]),["down"])),Hi[18]||(Hi[18]=Cr(rl(xn=>ki("right"),["prevent"]),["right"])),on]},[(di.disabled||di.readonly)&&di.inline?(pt(),St("div",{key:0,class:kn(ft.value)},null,2)):hi("",!0),!di.inline&&!di.teleportCenter?(pt(),St("div",{key:1,class:kn(Le.value)},null,2)):hi("",!0),je("div",{class:kn({dp__menu_content_wrapper:((fr=di.presetRanges)==null?void 0:fr.length)||!!di.$slots["left-sidebar"]||!!di.$slots["right-sidebar"]})},[di.$slots["left-sidebar"]?(pt(),St("div",y$,[dn(di.$slots,"left-sidebar",Is(Fa(_e)))])):hi("",!0),(As=di.presetRanges)!=null&&As.length?(pt(),St("div",_$,[(pt(!0),St(Qi,null,ar(di.presetRanges,(xn,Us)=>(pt(),St("div",{key:Us,style:ea(xn.style||{}),class:"dp__preset_range",onClick:Pn=>Ft(de)(xn.range,!!xn.slot)},[xn.slot?dn(di.$slots,xn.slot,{key:0,presetDateRange:Ft(de),label:xn.label,range:xn.range}):(pt(),St(Qi,{key:1},[Yr($i(xn.label),1)],64))],12,v$))),128))])):hi("",!0),je("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:M,role:"document"},[je("div",{class:kn(Xe.value)},[(pt(!0),St(Qi,null,ar(xe.value,(xn,Us)=>(pt(),St("div",{key:xn,class:kn(Ze.value)},[!di.disableMonthYearSelect&&!di.timePicker?(pt(),mr(QU,Fs({key:0,ref_for:!0,ref:Pn=>{Pn&&(W.value[Us]=Pn)},months:nt.value,years:$e.value,month:Ft(m)(xn),year:Ft(g)(xn),instance:xn,"internal-model-value":e.internalModelValue},o.value,{onMount:Hi[0]||(Hi[0]=Pn=>dt("monthYearInput")),onResetFlow:j,onUpdateMonthYear:Pn=>Ft(X)(xn,Pn),onMonthYearSelect:Ft(le),onOverlayClosed:$}),_l({_:2},[ar(Ft(Re),(Pn,Wo)=>({name:Pn,fn:Hn(ya=>[dn(di.$slots,Pn,Is(Fa(ya)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):hi("",!0),sn(UU,Fs({ref_for:!0,ref:Pn=>{Pn&&(O.value[Us]=Pn)},"specific-mode":Be.value,"get-week-num":Ft(K),instance:xn,"mapped-dates":Ct.value(xn),month:Ft(m)(xn),year:Ft(g)(xn)},o.value,{onSelectDate:Pn=>Ft(Y)(Pn,!Ie.value(xn)),onHandleSpace:Pn=>Gi(Pn,!Ie.value(xn)),onSetHoverDate:Hi[1]||(Hi[1]=Pn=>Ft(Ce)(Pn)),onHandleScroll:Pn=>Ft(pe)(Pn,xn),onHandleSwipe:Pn=>Ft(z)(Pn,xn),onMount:Hi[2]||(Hi[2]=Pn=>dt("calendar")),onResetFlow:j,onTooltipOpen:Hi[3]||(Hi[3]=Pn=>di.$emit("tooltip-open",Pn)),onTooltipClose:Hi[4]||(Hi[4]=Pn=>di.$emit("tooltip-close",Pn))}),_l({_:2},[ar(Ft(oe),(Pn,Wo)=>({name:Pn,fn:Hn(ya=>[dn(di.$slots,Pn,Is(Fa({...ya})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),je("div",null,[di.$slots["time-picker"]?dn(di.$slots,"time-picker",Is(Fs({key:0},{time:Ft(x),updateTime:Ft(P)}))):(pt(),St(Qi,{key:1},[di.enableTimePicker&&!di.monthPicker&&!di.weekPicker?(pt(),mr(f$,Fs({key:0,ref_key:"timePickerRef",ref:L,hours:Ft(x).hours,minutes:Ft(x).minutes,seconds:Ft(x).seconds,"internal-model-value":e.internalModelValue},o.value,{onMount:Hi[5]||(Hi[5]=xn=>dt("timePicker")),"onUpdate:hours":Hi[6]||(Hi[6]=xn=>Ft(P)(xn)),"onUpdate:minutes":Hi[7]||(Hi[7]=xn=>Ft(P)(xn,!1)),"onUpdate:seconds":Hi[8]||(Hi[8]=xn=>Ft(P)(xn,!1,!0)),onResetFlow:j,onOverlayClosed:Rn,onOverlayOpened:Hi[9]||(Hi[9]=xn=>di.$emit("time-picker-open",xn)),onAmPmChange:Hi[10]||(Hi[10]=xn=>di.$emit("am-pm-change",xn))}),_l({_:2},[ar(Ft(Te),(xn,Us)=>({name:xn,fn:Hn(Pn=>[dn(di.$slots,xn,Is(Fa(Pn)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):hi("",!0)],64))])],512),di.$slots["right-sidebar"]?(pt(),St("div",x$,[dn(di.$slots,"right-sidebar",Is(Fa(_e)))])):hi("",!0),di.$slots["action-extra"]?(pt(),St("div",b$,[di.$slots["action-extra"]?dn(di.$slots,"action-extra",{key:0,selectCurrentDate:Ft(se)}):hi("",!0)])):hi("",!0)],2),!di.autoApply||di.keepActionRow?(pt(),mr(IU,Fs({key:2,"menu-mount":S.value,"calendar-width":k.value,"internal-model-value":e.internalModelValue},o.value,{onClosePicker:Hi[11]||(Hi[11]=xn=>di.$emit("close-picker")),onSelectDate:Hi[12]||(Hi[12]=xn=>di.$emit("select-date")),onInvalidSelect:Hi[13]||(Hi[13]=xn=>di.$emit("invalid-select")),onSelectNow:Ft(se)}),_l({_:2},[ar(Ft(ge),(xn,Us)=>({name:xn,fn:Hn(Pn=>[dn(di.$slots,xn,Is(Fa({...Pn})))])}))]),1040,["menu-mount","calendar-width","internal-model-value","onSelectNow"])):hi("",!0)],42,g$)]}),_:3},8,["name","css"])}}}),T$=typeof window<"u"?window:void 0,R3=()=>{},S$=e=>sS()?(oS(e),!0):!1,C$=(e,t,i,r)=>{if(!e)return R3;let o=R3;const u=Zs(()=>Ft(e),s=>{o(),s&&(s.addEventListener(t,i,r),o=()=>{s.removeEventListener(t,i,r),o=R3})},{immediate:!0,flush:"post"}),h=()=>{u(),o()};return S$(h),h},E$=(e,t,i,r={})=>{const{window:o=T$,event:u="pointerdown"}=r;return o?C$(o,u,h=>{const s=Qo(e),v=Qo(t);!s||!v||s===h.target||h.composedPath().includes(s)||h.composedPath().includes(v)||i(h)},{passive:!0}):void 0},M$=Ho({__name:"VueDatePicker",props:{...If},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:i}){const r=e,o=om(),u=Ki(!1),h=xf(r,"modelValue"),s=xf(r,"timezone"),v=Ki(null),I=Ki(null),J=Ki(!1),M=Ki(null),B=Id({disabledDates:null,allowedDates:null,highlightedDates:null}),{setMenuFocused:W,setShiftKey:O}=D4(),{clearArrowNav:L}=Df(),{validateDate:G,isValidTime:k,defaults:S,mapDatesArrToMap:A}=Cu(r);zo(()=>{m(r.modelValue),r.inline||(j(M.value).addEventListener("scroll",le),window.addEventListener("resize",pe)),r.inline&&(u.value=!0),A(B)}),yh(()=>{if(!r.inline){const xe=j(M.value);xe&&xe.removeEventListener("scroll",le),window.removeEventListener("resize",pe)}});const H=U0(o,"all",r.presetRanges),U=U0(o,"input");Zs([h,s],()=>{m(h.value)},{deep:!0});const{openOnTop:E,menuStyle:ie,resetPosition:ee,setMenuPosition:$,setInitialPosition:V,getScrollableParent:j}=wU(v,I,i,r),{inputValue:w,internalModelValue:D,parseExternalModelValue:m,emitModelValue:g,formatInputValue:x,checkBeforeEmit:P}=xU(i,r,J),X=Ui(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:r.inline,dp__flex_display_with_input:r.inlineWithInput})),Y=Ui(()=>r.dark?"dp__theme_dark":"dp__theme_light"),K=Ui(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:r.inline}:{class:"dp__outer_menu_wrap"}),le=()=>{u.value&&(r.closeOnScroll?_e():$())},pe=()=>{u.value&&$()},fe=async()=>{var xe,Ie,Be;!r.disabled&&!r.readonly&&(ee(),await bc(),u.value=!0,await bc(),V(),await bc(),$(),delete ie.value.opacity,!((xe=S.value.transitions)!=null&&xe.menuAppear)&&r.transitions&&((Be=(Ie=v.value)==null?void 0:Ie.$el)==null||Be.classList.add("dp__menu_transitioned")),u.value&&i("open"),u.value||ve(),m(r.modelValue))},z=()=>{w.value="",ve(),i("update:model-value",null),i("cleared"),r.closeOnClearValue&&_e()},Q=()=>{const xe=D.value;return!xe||!Array.isArray(xe)&&G(xe)?!0:Array.isArray(xe)?xe.length===2&&G(xe[0])&&G(xe[1])?!0:G(xe[0]):!1},se=()=>{P()&&Q()?(g(),_e()):i("invalid-select",D.value)},de=xe=>{Ce(),g(),r.closeOnAutoApply&&!xe&&_e()},Ce=()=>{I.value&&r.textInput&&I.value.setParsedDate(D.value)},ne=(xe=!1)=>{r.autoApply&&k(D.value)&&Q()&&(r.range&&Array.isArray(D.value)?(r.partialRange||D.value.length===2)&&de(xe):de(xe))},ve=()=>{r.textInput||(D.value=null)},_e=()=>{r.inline||(u.value&&(u.value=!1,W(!1),O(!1),L(),i("closed"),V(),w.value&&m(h.value)),ve())},oe=(xe,Ie)=>{if(!xe){D.value=null;return}D.value=xe,Ie&&(se(),i("text-submit"))},ge=()=>{r.autoApply&&k(D.value)&&g(),Ce()},Te=()=>u.value?_e():fe(),Re=xe=>{D.value=xe},Le=()=>{r.textInput&&(J.value=!0,x()),i("focus")},$e=()=>{r.textInput&&(J.value=!1,m(r.modelValue)),i("blur")},nt=xe=>{v.value&&v.value.updateMonthYear(0,{month:HE(xe.month),year:HE(xe.year)})},Qe=xe=>{m(xe||r.modelValue)},We=(xe,Ie)=>{var Be;(Be=v.value)==null||Be.switchView(xe,Ie)};return E$(v,I,r.onClickOutside?()=>r.onClickOutside(Q):_e),t({closeMenu:_e,selectDate:se,clearValue:z,openMenu:fe,onScroll:le,formatInputValue:x,updateInternalModelValue:Re,setMonthYear:nt,parseModel:Qe,switchView:We}),(xe,Ie)=>(pt(),St("div",{class:kn(X.value),ref_key:"pickerWrapperRef",ref:M},[sn(kU,Fs({ref_key:"inputRef",ref:I,"is-menu-open":u.value,"input-value":Ft(w),"onUpdate:inputValue":Ie[0]||(Ie[0]=Be=>ta(w)?w.value=Be:null)},xe.$props,{onClear:z,onOpen:fe,onSetInputDate:oe,onSetEmptyDate:Ft(g),onSelectDate:se,onToggle:Te,onClose:_e,onFocus:Le,onBlur:$e,onRealBlur:Ie[1]||(Ie[1]=Be=>J.value=!1)}),_l({_:2},[ar(Ft(U),(Be,Xe)=>({name:Be,fn:Hn(Ze=>[dn(xe.$slots,Be,Is(Fa(Ze)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),u.value?(pt(),mr(Vb(xe.teleport?IS:"div"),Is(Fs({key:0},K.value)),{default:Hn(()=>[u.value?(pt(),mr(w$,Fs({key:0,ref_key:"dpMenuRef",ref:v,class:Y.value,style:xe.inline?void 0:Ft(ie),"open-on-top":Ft(E),"arr-map-values":B},xe.$props,{"internal-model-value":Ft(D),"onUpdate:internalModelValue":Ie[2]||(Ie[2]=Be=>ta(D)?D.value=Be:null),onClosePicker:_e,onSelectDate:se,onAutoApply:ne,onTimeUpdate:ge,onFlowStep:Ie[3]||(Ie[3]=Be=>xe.$emit("flow-step",Be)),onUpdateMonthYear:Ie[4]||(Ie[4]=Be=>xe.$emit("update-month-year",Be)),onInvalidSelect:Ie[5]||(Ie[5]=Be=>xe.$emit("invalid-select",Ft(D))),onInvalidFixedRange:Ie[6]||(Ie[6]=Be=>xe.$emit("invalid-fixed-range",Be)),onRecalculatePosition:Ft($),onTooltipOpen:Ie[7]||(Ie[7]=Be=>xe.$emit("tooltip-open",Be)),onTooltipClose:Ie[8]||(Ie[8]=Be=>xe.$emit("tooltip-close",Be)),onTimePickerOpen:Ie[9]||(Ie[9]=Be=>xe.$emit("time-picker-open",Be)),onTimePickerClose:Ie[10]||(Ie[10]=Be=>xe.$emit("time-picker-close",Be)),onAmPmChange:Ie[11]||(Ie[11]=Be=>xe.$emit("am-pm-change",Be)),onRangeStart:Ie[12]||(Ie[12]=Be=>xe.$emit("range-start",Be)),onRangeEnd:Ie[13]||(Ie[13]=Be=>xe.$emit("range-end",Be))}),_l({_:2},[ar(Ft(H),(Be,Xe)=>({name:Be,fn:Hn(Ze=>[dn(xe.$slots,Be,Is(Fa({...Ze})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])):hi("",!0)]),_:3},16)):hi("",!0)],2))}}),zC=(()=>{const e=M$;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),k$=Object.freeze(Object.defineProperty({__proto__:null,default:zC},Symbol.toStringTag,{value:"Module"}));Object.entries(k$).forEach(([e,t])=>{e!=="default"&&(zC[e]=t)});var B4={exports:{}};const N4=wM(V9);(function(e){e.exports=function(t){var i={};function r(o){if(i[o])return i[o].exports;var u=i[o]={i:o,l:!1,exports:{}};return t[o].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=t,r.c=i,r.d=function(o,u,h){r.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:h})},r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,u){if(u&1&&(o=r(o)),u&8||u&4&&typeof o=="object"&&o&&o.__esModule)return o;var h=Object.create(null);if(r.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:o}),u&2&&typeof o!="string")for(var s in o)r.d(h,s,(function(v){return o[v]}).bind(null,s));return h},r.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(u,"a",u),u},r.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},r.p="",r(r.s="fb15")}({"6b0d":function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=(o,u)=>{for(const[h,s]of u)o[h]=s;return o}},"7e79":function(t,i,r){},8875:function(t,i,r){var o,u,h;(function(s,v){u=[],o=v,h=typeof o=="function"?o.apply(i,u):o,h!==void 0&&(t.exports=h)})(typeof self<"u"?self:this,function(){function s(){var v=Object.getOwnPropertyDescriptor(document,"currentScript");if(!v&&"currentScript"in document&&document.currentScript||v&&v.get!==s&&document.currentScript)return document.currentScript;try{throw new Error}catch(H){var I=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,J=/@([^@]*):(\d+):(\d+)\s*$/ig,M=I.exec(H.stack)||J.exec(H.stack),B=M&&M[1]||!1,W=M&&M[2]||!1,O=document.location.href.replace(document.location.hash,""),L,G,k,S=document.getElementsByTagName("script");B===O&&(L=document.documentElement.outerHTML,G=new RegExp("(?:[^\\n]+?\\n){0,"+(W-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),k=L.replace(G,"$1").trim());for(var A=0;A<S.length;A++)if(S[A].readyState==="interactive"||S[A].src===B||B===O&&S[A].innerHTML&&S[A].innerHTML.trim()===k)return S[A];return null}}return s})},"8bbf":function(t,i){t.exports=N4},fb15:function(t,i,r){if(r.r(i),typeof window<"u"){var o=window.document.currentScript;{var u=r("8875");o=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var h=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);h&&(r.p=h[1])}var s=r("8bbf"),v=["title"];function I(se,de,Ce,ne,ve,_e){var oe=Object(s.resolveComponent)("donut-sections");return Object(s.openBlock)(),Object(s.createElementBlock)("div",{class:"cdc-container",style:Object(s.normalizeStyle)(_e.placementStyles.container)},[Object(s.createElementVNode)("div",{class:"cdc",ref:"donut",style:Object(s.normalizeStyle)(_e.donutStyles)},[Object(s.createVNode)(oe,Object(s.mergeProps)(Object(s.toHandlers)(_e.sectionListeners),{sections:_e.donutSections,"start-angle":Ce.startAngle}),null,16,["sections","start-angle"]),Object(s.createElementVNode)("div",{class:"cdc-overlay",style:Object(s.normalizeStyle)(_e.overlayStyles)},[Object(s.createElementVNode)("div",{class:"cdc-text",style:Object(s.normalizeStyle)(_e.donutTextStyles)},[Object(s.renderSlot)(se.$slots,"default",{},function(){return[Object(s.createTextVNode)(Object(s.toDisplayString)(Ce.text),1)]})],4)],4)],4),Object(s.renderSlot)(se.$slots,"legend",{},function(){return[Ce.hasLegend?(Object(s.openBlock)(),Object(s.createElementBlock)("div",{key:0,class:"cdc-legend",style:Object(s.normalizeStyle)(_e.placementStyles.legend)},[(Object(s.openBlock)(!0),Object(s.createElementBlock)(s.Fragment,null,Object(s.renderList)(_e.legend,function(ge,Te){return Object(s.openBlock)(),Object(s.createElementBlock)("span",{class:"cdc-legend-item",key:Te,title:ge.percent},[Object(s.createElementVNode)("span",{class:"cdc-legend-item-color",style:Object(s.normalizeStyle)(ge.styles)},null,4),Object(s.createElementVNode)("span",null,Object(s.toDisplayString)(ge.label),1)],8,v)}),128))],4)):Object(s.createCommentVNode)("",!0)]})],4)}var J=["click","mouseenter","mouseleave","mouseover","mouseout","mousemove"].map(function(se){return{nativeEventName:se,sectionEventName:"section-".concat(se)}}),M=["#FF6384","#36A2EB","#FFCE56","#F58231","#46F0F0","#D2F53C","#911EB4","#F032E6","#3CB44B","#FFE119","#E6194B","#FABEBE","#008080","#E6BEFF","#0082C8","#AA6E28","#FFFAC8","#800000","#AAFFC3","#808000","#FFD8B1","#000080","#808080","#000000"],B=M,W;function O(se){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(Ce){return typeof Ce}:O=function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},O(se)}function L(se,de,Ce){return de in se?Object.defineProperty(se,de,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):se[de]=Ce,se}var G="1em",k="dodgerblue",S={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},A=(W={},L(W,S.TOP,{container:{flexDirection:"column"},legend:{order:-1,margin:0,marginBottom:G}}),L(W,S.RIGHT,{container:{},legend:{flexDirection:"column",margin:0,marginLeft:G}}),L(W,S.BOTTOM,{container:{flexDirection:"column"},legend:{}}),L(W,S.LEFT,{container:{},legend:{flexDirection:"column",order:-1,margin:0,marginRight:G}}),W),H=function(de){return!!de&&de.constructor===Object},U=[{type:"number",key:"value",required:!0},{key:"label"},{key:"color"}];function E(se){return H(se)?U.reduce(function(de,Ce){if(!de)return!1;var ne=!0;return Ce.required&&(ne=ne&&Object.hasOwnProperty.call(se,Ce.key)),Ce.type&&(ne=ne&&O(se[Ce.key])===Ce.type),de&&ne},!0):!1}var ie=["title"];function ee(se,de,Ce,ne,ve,_e){return Object(s.openBlock)(),Object(s.createElementBlock)("div",{class:"cdc-sections",style:Object(s.normalizeStyle)(_e.containerStyles)},[(Object(s.openBlock)(!0),Object(s.createElementBlock)(s.Fragment,null,Object(s.renderList)(_e.donutSections,function(oe,ge){return Object(s.openBlock)(),Object(s.createElementBlock)("div",Object(s.mergeProps)(Object(s.toHandlers)(oe.listeners),{key:ge,class:["cdc-section",oe.className],style:oe.sectionStyles}),[Object(s.createElementVNode)("div",{class:"cdc-filler",style:Object(s.normalizeStyle)(oe.fillerStyles),title:oe.label},null,12,ie)],16)}),128))],4)}function $(se,de){var Ce=Object.keys(se);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(se);de&&(ne=ne.filter(function(ve){return Object.getOwnPropertyDescriptor(se,ve).enumerable})),Ce.push.apply(Ce,ne)}return Ce}function V(se){for(var de=1;de<arguments.length;de++){var Ce=arguments[de]!=null?arguments[de]:{};de%2?$(Object(Ce),!0).forEach(function(ne){j(se,ne,Ce[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(Ce)):$(Object(Ce)).forEach(function(ne){Object.defineProperty(se,ne,Object.getOwnPropertyDescriptor(Ce,ne))})}return se}function j(se,de,Ce){return de in se?Object.defineProperty(se,de,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):se[de]=Ce,se}var w={LEFT:"cdc-section-left",RIGHT:"cdc-section-right"},D={props:{startAngle:{type:Number,default:0},sections:{type:Array,default:function(){return[]}}},emits:J.map(function(se){return se.sectionEventName}),computed:{containerStyles:function(){return{transform:"rotate(".concat(this.startAngle,"deg)")}},donutSections:function(){var de=this,Ce=180,ne=0,ve=0,_e=this.sections.map(function(oe){var ge=[w.RIGHT,-180],Te=ge[0],Re=ge[1];if(ne>=Ce){var Le=[w.LEFT,180];Te=Le[0],Re=Le[1]}var $e=Re+oe.degree,nt={backgroundColor:oe.color||k,transform:"rotate(".concat($e,"deg)")},Qe={transform:"rotate(".concat(ve,"deg)")};ne+=oe.degree,ne===180?ve=0:ve+=oe.degree;var We=J.reduce(function(xe,Ie){var Be=Ie.nativeEventName,Xe=Ie.sectionEventName;return V(V({},xe),{},j({},Be,function(Ze){return de.emitEvent(Xe,oe,Ze)}))},{});return{label:oe.label,className:Te,fillerStyles:nt,sectionStyles:Qe,listeners:We}});return _e}},methods:{emitEvent:function(de,Ce,ne){Ce.value!==0&&this.$emit(de,Ce.$section,ne)}}},m=r("6b0d"),g=r.n(m),P=g()(D,[["render",ee]]);r("7e79");function X(se,de){var Ce=Object.keys(se);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(se);de&&(ne=ne.filter(function(ve){return Object.getOwnPropertyDescriptor(se,ve).enumerable})),Ce.push.apply(Ce,ne)}return Ce}function Y(se){for(var de=1;de<arguments.length;de++){var Ce=arguments[de]!=null?arguments[de]:{};de%2?X(Object(Ce),!0).forEach(function(ne){K(se,ne,Ce[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(Ce)):X(Object(Ce)).forEach(function(ne){Object.defineProperty(se,ne,Object.getOwnPropertyDescriptor(Ce,ne))})}return se}function K(se,de,Ce){return de in se?Object.defineProperty(se,de,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):se[de]=Ce,se}var le={name:"vc-donut",props:{size:{type:Number,default:250,validator:function(de){return de>0}},unit:{type:String,default:"px"},thickness:{type:Number,default:20,validator:function(de){return de>=0&&de<=100}},text:{type:String,default:null},autoAdjustTextSize:{type:Boolean,default:!0},background:{type:String,default:"#ffffff"},foreground:{type:String,default:"#eeeeee"},sections:{type:Array,default:function(){return[]},validator:function(de){for(var Ce=0;Ce<de.length;++Ce)if(!E(de[Ce]))return!1;return!0}},total:{type:Number,default:100,validator:function(de){return de>0}},hasLegend:{type:Boolean,default:!1},legendPlacement:{type:String,default:S.BOTTOM,validator:function(de){return!!S[de.toUpperCase()]}},startAngle:{type:Number,default:0}},emits:J.map(function(se){return se.sectionEventName}),watch:{autoAdjustTextSize:function(de){de?window.addEventListener("resize",this.resizeListener):window.removeEventListener("resize",this.resizeListener),this.recalcFontSize()},size:function(){this.recalcFontSize()},unit:function(){this.recalcFontSize()}},data:function(){return{donutEl:null,fontSize:"1em",resizeListener:null}},computed:{donutSections:function(){var de=this,Ce=this.sections.reduce(function(Re,Le){return Re+Le.value},0);if(typeof Ce!="number")return[];if(Ce=Number(Ce.toFixed(2)),Ce>this.total){var ne="Sum of all the sections' values (".concat(Ce,") should not exceed `total` (").concat(this.total,")");throw new Error(ne)}var ve=360,_e=180,oe=0,ge=0,Te=[];return this.sections.forEach(function(Re){var Le=ve*(Re.value/de.total),$e=[Le];Le>_e&&($e=[_e,Le-_e]);var nt=Re.color||B[ge++];$e.forEach(function(Qe){var We=Number((oe+Qe).toFixed(2));if(We>_e){var xe=_e-oe;Te.push(Y(Y({},Re),{},{degree:xe,color:nt,$section:Re}),Y(Y({},Re),{},{degree:Qe-xe,color:nt,$section:Re}))}else Te.push(Y(Y({},Re),{},{degree:Qe,color:nt,$section:Re}));oe+=Qe,oe>=_e&&(oe-=_e)})}),Te},legend:function(){var de=this;if(!this.hasLegend)return null;var Ce=0;return this.sections.map(function(ne,ve){return{label:ne.label||"Section ".concat(ve+1),percent:"".concat(ne.value," (").concat(ne.value/de.total*100,"%)"),styles:{backgroundColor:ne.color||B[Ce++]}}})},placementStyles:function(){return this.hasLegend?A[this.legendPlacement]:{}},donutStyles:function(){var de="".concat(this.size).concat(this.unit),Ce={width:de,paddingBottom:de,backgroundColor:this.foreground};return Ce},overlayStyles:function(){var de=100,Ce=de-this.thickness,ne="".concat(Ce,"%"),ve="calc(50% - ".concat(Ce/2,"%)");return{height:ne,width:ne,top:ve,left:ve,backgroundColor:this.background}},donutTextStyles:function(){var de=this.fontSize;return{fontSize:de}},sectionListeners:function(){var de=this;return J.reduce(function(Ce,ne){var ve=ne.sectionEventName;return Y(Y({},Ce),{},K({},ve,function(){for(var _e=arguments.length,oe=new Array(_e),ge=0;ge<_e;ge++)oe[ge]=arguments[ge];return de.emitSectionEvent.apply(de,[ve].concat(oe))}))},{})}},methods:{recalcFontSize:function(){var de=this;if(!this.autoAdjustTextSize){this.fontSize="1em";return}var Ce=.08,ne=this.size;this.$nextTick(function(){de.unit!=="px"&&(de.donutEl?ne=de.donutEl.clientWidth:ne=null),de.fontSize=ne?"".concat((ne*Ce).toFixed(2),"px"):"1em"})},emitSectionEvent:function(de){for(var Ce=arguments.length,ne=new Array(Ce>1?Ce-1:0),ve=1;ve<Ce;ve++)ne[ve-1]=arguments[ve];this.$emit.apply(this,[de].concat(ne))}},created:function(){this.resizeListener=this.recalcFontSize.bind(this)},mounted:function(){this.donutEl=this.$refs.donut,this.autoAdjustTextSize&&(this.recalcFontSize(),window.addEventListener("resize",this.resizeListener))},beforeUnmount:function(){window.removeEventListener("resize",this.resizeListener)},components:{DonutSections:P}},fe=g()(le,[["render",I]]),z={install:function(de){de.component(fe.name,fe)}},Q=z;i.default=Q}})})(B4);var A$=B4.exports;const P$=rd(A$);var D$=Object.defineProperty,I$=Object.defineProperties,L$=Object.getOwnPropertyDescriptors,KE=Object.getOwnPropertySymbols,O$=Object.prototype.hasOwnProperty,R$=Object.prototype.propertyIsEnumerable,JE=(e,t,i)=>t in e?D$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,dh=(e,t)=>{for(var i in t||(t={}))O$.call(t,i)&&JE(e,i,t[i]);if(KE)for(var i of KE(t))R$.call(t,i)&&JE(e,i,t[i]);return e},Ox=(e,t)=>I$(e,L$(t)),Lf=(e,t)=>{const i=e.__vccOpts||e;for(const[r,o]of t)i[r]=o;return i};const B$=e=>(Xc("data-v-e0a0b7f0"),e=e(),Zc(),e),N$=["onClick"],z$=["checked"],F$=B$(()=>je("label",{for:"checbox"},null,-1)),j$=Ho({__name:"MultipleSelectCheckBox",props:{status:{type:String,required:!0}},emits:["change"],setup(e,{emit:t}){const i=e;gp(h=>({"51ab8a49":Ft(u)}));const r=Ui(()=>i.status==="allSelected"),o=()=>{t("change",!r.value)},u=Wc("themeColor");return(h,s)=>(pt(),St("div",{class:"easy-checkbox",onClick:rl(o,["stop","prevent"])},[je("input",{type:"checkbox",checked:Ft(r),class:kn(e.status)},null,10,z$),F$],8,N$))}});var U$=Lf(j$,[["__scopeId","data-v-e0a0b7f0"]]);const $$=e=>(Xc("data-v-7e69a276"),e=e(),Zc(),e),V$=["checked"],G$=$$(()=>je("label",{for:"checbox"},null,-1)),H$=Ho({__name:"SingleSelectCheckBox",props:{checked:{type:Boolean,required:!0}},emits:["change"],setup(e,{emit:t}){gp(r=>({fdaf7e9e:Ft(i)}));const i=Wc("themeColor");return(r,o)=>(pt(),St("div",{class:"easy-checkbox",onClick:o[0]||(o[0]=rl(u=>t("change"),["stop","prevent"]))},[je("input",{type:"checkbox",checked:e.checked},null,8,V$),G$]))}});var W$=Lf(H$,[["__scopeId","data-v-7e69a276"]]);const Y$=e=>(Xc("data-v-4ca5de3a"),e=e(),Zc(),e),q$={class:"easy-data-table__rows-selector"},X$={class:"rows-input"},Z$=Y$(()=>je("div",{class:"triangle"},null,-1)),K$=["onClick"],J$=Ho({__name:"RowsSelector",props:{modelValue:{type:Number,required:!0},rowsItems:{type:Array,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const i=e;gp(M=>({"1b889342":Ft(J)}));const r=Ki(!1),o=Ki(!1),u=Wc("dataTable");Zs(r,M=>{if(M&&u){const B=window.innerHeight,W=u.value.getBoundingClientRect().height,O=u.value.getBoundingClientRect().top;B-(W+O)<=100?o.value=!0:o.value=!1}});const h=Ui({get:()=>i.modelValue,set:M=>{t("update:modelValue",M)}}),s=M=>{h.value=M,r.value=!1},v=(M,B)=>{let W=M.parentNode;for(;W!=null;){if(W.classList&&W.classList.contains(B))return!0;W=W.parentNode}return!1},I=M=>{v(M.target,"easy-data-table__rows-selector")||(r.value=!1)};zo(()=>{document.addEventListener("click",I)}),Pf(()=>{document.removeEventListener("click",I)});const J=Wc("themeColor");return(M,B)=>(pt(),St("div",q$,[je("div",{class:"rows-input__wrapper",onClick:B[0]||(B[0]=W=>r.value=!r.value)},[je("div",X$,$i(Ft(h)),1),Z$]),je("ul",{class:kn(["select-items",{show:r.value,inside:o.value}])},[(pt(!0),St(Qi,null,ar(e.rowsItems,W=>(pt(),St("li",{key:W,class:kn({selected:W===Ft(h)}),onClick:O=>s(W)},$i(W),11,K$))),128))],2)]))}});var Q$=Lf(J$,[["__scopeId","data-v-4ca5de3a"]]);const p2=e=>(Xc("data-v-1fa3a520"),e=e(),Zc(),e),eV={class:"lds-ring"},tV=p2(()=>je("div",null,null,-1)),iV=p2(()=>je("div",null,null,-1)),nV=p2(()=>je("div",null,null,-1)),rV=p2(()=>je("div",null,null,-1)),sV=[tV,iV,nV,rV],oV=Ho({__name:"Loading",setup(e){gp(i=>({26774109:Ft(t)}));const t=Wc("themeColor");return(i,r)=>(pt(),St("div",eV,sV))}});var aV=Lf(oV,[["__scopeId","data-v-1fa3a520"]]);const lV={class:"loader-line"},cV=Ho({__name:"LoadingLine",setup(e){gp(i=>({"0d327f57":Ft(t)}));const t=Wc("themeColor");return(i,r)=>(pt(),St("div",lV))}});var uV=Lf(cV,[["__scopeId","data-v-7d281cac"]]);const dV={class:"buttons-pagination"},hV=["onClick"],pV=Ho({__name:"ButtonsPagination",props:{maxPaginationNumber:{type:Number,required:!0},currentPaginationNumber:{type:Number,required:!0}},emits:["updatePage"],setup(e,{emit:t}){const i=e;gp(s=>({"40dd4f07":Ft(h)}));const r=7,o=s=>{s.type==="button"&&!s.active&&t("updatePage",s.page)},u=Ui(()=>{const s=[];if(i.maxPaginationNumber<=r)for(let v=1;v<=i.maxPaginationNumber;v+=1)s.push({type:"button",page:v,active:v===i.currentPaginationNumber,activePrev:v+1===i.currentPaginationNumber});else if([1,2,i.maxPaginationNumber,i.maxPaginationNumber-1].includes(i.currentPaginationNumber))for(let v=1;v<=r;v+=1)if(v<=3)s.push({type:"button",page:v,active:v===i.currentPaginationNumber,activePrev:v+1===i.currentPaginationNumber});else if(v===4)s.push({type:"omission"});else{const I=i.maxPaginationNumber-(r-v);s.push({type:"button",page:I,active:I===i.currentPaginationNumber,activePrev:I+1===i.currentPaginationNumber})}else if([3,4].includes(i.currentPaginationNumber))for(let v=1;v<=r;v+=1)v<=5?s.push({type:"button",page:v,active:v===i.currentPaginationNumber,activePrev:v+1===i.currentPaginationNumber}):v===6?s.push({type:"omission"}):s.push({type:"button",page:i.maxPaginationNumber,active:i.maxPaginationNumber===i.currentPaginationNumber,activePrev:v+1===i.currentPaginationNumber});else if([i.maxPaginationNumber-2,i.maxPaginationNumber-3].includes(i.currentPaginationNumber))for(let v=1;v<=r;v+=1)if(v===1)s.push({type:"button",page:1,active:i.currentPaginationNumber===1,activePrev:v+1===i.currentPaginationNumber});else if(v===2)s.push({type:"omission"});else{const I=i.maxPaginationNumber-(r-v);s.push({type:"button",page:I,active:I===i.currentPaginationNumber,activePrev:I+1===i.currentPaginationNumber})}else for(let v=1;v<=r;v+=1)if(v===1)s.push({type:"button",page:1,active:i.currentPaginationNumber===1,activePrev:v+1===i.currentPaginationNumber});else if(v===2||v===6)s.push({type:"omission"});else if(v===7)s.push({type:"button",page:i.maxPaginationNumber,active:i.maxPaginationNumber===i.currentPaginationNumber,activePrev:v+1===i.currentPaginationNumber});else{const I=4-v,J=i.currentPaginationNumber-I;s.push({type:"button",page:J,active:J===i.currentPaginationNumber,activePrev:J+1===i.currentPaginationNumber})}return s}),h=Wc("themeColor");return(s,v)=>(pt(),St("div",dV,[(pt(!0),St(Qi,null,ar(Ft(u),(I,J)=>(pt(),St("div",{key:J,class:kn(["item",{button:I.type==="button",active:I.type==="button"&&I.active,"active-prev":I.type==="button"&&I.activePrev,omission:I.type==="omission"}]),onClick:M=>o(I)},$i(I.type==="button"?I.page:"..."),11,hV))),128))]))}});var fV=Lf(pV,[["__scopeId","data-v-4c681fa2"]]);const z4=e=>(Xc("data-v-c9da5286"),e=e(),Zc(),e),mV=z4(()=>je("span",{class:"arrow arrow-right"},null,-1)),gV=[mV],yV=z4(()=>je("span",{class:"arrow arrow-left"},null,-1)),_V=[yV],vV=Ho({__name:"PaginationArrows",props:{isFirstPage:{type:Boolean,required:!1},isLastPage:{type:Boolean,required:!1}},emits:["clickPrevPage","clickNextPage"],setup(e,{emit:t}){const i=om();return(r,o)=>(pt(),St(Qi,null,[je("div",{class:kn(["previous-page__click-button",{"first-page":e.isFirstPage}]),onClick:o[0]||(o[0]=u=>t("clickPrevPage"))},gV,2),Ft(i).buttonsPagination?dn(r.$slots,"buttonsPagination",{key:0},void 0,!0):hi("",!0),je("div",{class:kn(["next-page__click-button",{"last-page":e.isLastPage}]),onClick:o[1]||(o[1]=u=>t("clickNextPage"))},_V,2)],64))}});var xV=Lf(vV,[["__scopeId","data-v-c9da5286"]]);function bV(e,t,i,r){return{clickRow:(u,h,s)=>{if(e.value!==h)return;const v=dh({},u);if(t.value){const{checkbox:I}=u;delete v.checkbox,v.isSelected=I}if(i.value){const{index:I}=u;delete v.index,v.indexInCurrentPage=I}r("clickRow",v,s)}}}function wV(e,t,i){const r=Ki([]);return{expandingItemIndexList:r,updateExpandingItemIndexList:(h,s,v)=>{v.stopPropagation();const I=r.value.indexOf(h);if(I!==-1)r.value.splice(I,1);else{const J=e.value.findIndex(M=>JSON.stringify(M)===JSON.stringify(s));i("expandRow",t.value+J,s),r.value.push(t.value+J)}},clearExpandingItemIndexList:()=>{r.value=[]}}}function TV(e){const t=Ui(()=>e.value.filter(o=>o.fixed)),i=Ui(()=>t.value.length?t.value[t.value.length-1].value:""),r=Ui(()=>{if(!t.value.length)return[];const o=t.value.map(u=>{var h;return(h=u.width)!=null?h:100});return t.value.map((u,h)=>{var s,v;return{value:u.value,fixed:(s=u.fixed)!=null?s:!0,width:(v=u.width)!=null?v:100,distance:h===0?0:o.reduce((I,J,M)=>{let B=I;return M<h&&(B+=J),B})}})});return{fixedHeaders:t,lastFixedColumn:i,fixedColumnsInfos:r}}function SV(e,t,i,r,o,u,h,s,v,I,J,M,B,W,O,L,G,k,S){const A=Ui(()=>h.value.findIndex(D=>D.fixed)!==-1),H=Ui(()=>A.value?h.value.filter(D=>D.fixed):[]),U=Ui(()=>h.value.filter(D=>!D.fixed)),ie=Ki(((D,m)=>Array.isArray(D)&&Array.isArray(m)?{sortBy:D,sortDesc:m.map(g=>g==="desc")}:D!==""?{sortBy:O.value,sortDesc:L.value==="desc"}:null)(O.value,L.value)),ee=Ui(()=>{var D;const g=[...H.value,...U.value].map(Y=>{const K=Object.assign(Y);if(K.sortable&&(K.sortType="none"),B.value)if(Array.isArray(B.value.sortBy)&&Array.isArray(B.value.sortType)&&B.value.sortBy.includes(K.value)){const le=B.value.sortBy.indexOf(K.value);K.sortType=B.value.sortType[le]}else K.value===B.value.sortBy&&B.value.sortType&&(K.sortType=B.value.sortType);if(ie.value&&Array.isArray(ie.value.sortBy)&&Array.isArray(ie.value.sortDesc)&&ie.value.sortBy.includes(K.value)){const le=ie.value.sortBy.indexOf(K.value);K.sortType=ie.value.sortDesc[le]?"desc":"asc"}else ie.value&&K.value===ie.value.sortBy&&(K.sortType=ie.value.sortDesc?"desc":"asc");return K});let x=[];s.value?x=[o.value||A.value?{text:"",value:"expand",fixed:!0,width:i.value}:{text:"",value:"expand"},...g]:x=g;let P=[];W.value?P=[u.value||A.value?{text:e.value,value:"index",fixed:!0,width:v.value}:{text:e.value,value:"index"},...x]:P=x;let X=[];return I.value?X=[r.value||A.value?{text:"checkbox",value:"checkbox",fixed:!0,width:(D=t.value)!=null?D:36}:{text:"checkbox",value:"checkbox"},...P]:X=P,X}),$=Ui(()=>ee.value.map(D=>D.value));return{clientSortOptions:ie,headerColumns:$,headersForRender:ee,updateSortField:(D,m)=>{let g=null;if(m==="none"?g="asc":m==="asc"?g="desc":g=M.value?"asc":null,J.value&&k(D,g),ie.value&&Array.isArray(ie.value.sortBy)&&Array.isArray(ie.value.sortDesc)){const x=ie.value.sortBy.indexOf(D);x===-1?g!==null&&(ie.value.sortBy.push(D),ie.value.sortDesc.push(g==="desc")):g===null?(ie.value.sortDesc.splice(x,1),ie.value.sortBy.splice(x,1)):ie.value.sortDesc[x]=g==="desc"}else g===null?ie.value=null:ie.value={sortBy:D,sortDesc:g==="desc"};S("updateSort",{sortType:g,sortBy:D})},isMultiSorting:D=>B.value&&Array.isArray(B.value.sortBy)?B.value.sortBy.includes(D):ie.value&&Array.isArray(ie.value.sortBy)?ie.value.sortBy.includes(D):!1,getMultiSortNumber:D=>B.value&&Array.isArray(B.value.sortBy)?B.value.sortBy.indexOf(D)+1:ie.value&&Array.isArray(ie.value.sortBy)?ie.value.sortBy.indexOf(D)+1:!1}}function CV(e,t,i,r,o,u,h,s,v){const I=Ui(()=>(e.value-1)*o.value+1),J=Ui(()=>i.value?Math.min(v.value,e.value*o.value):Math.min(s.value.length,e.value*o.value)),M=Ui(()=>i.value?r.value:s.value.slice(I.value-1,J.value)),B=Ui(()=>h.value?M.value.map((L,G)=>dh({index:I.value+G},L)):M.value),W=Ui(()=>u.value.length===0||u.value.every(G=>s.value.findIndex(k=>JSON.stringify(G)===JSON.stringify(k))===-1)?"noneSelected":u.value.length===s.value.length&&u.value.every(k=>s.value.findIndex(S=>JSON.stringify(k)===JSON.stringify(S))!==-1)?"allSelected":"partSelected"),O=Ui(()=>t.value?W.value==="allSelected"?B.value.map(L=>dh({checkbox:!0},L)):W.value==="noneSelected"?B.value.map(L=>dh({checkbox:!1},L)):B.value.map(L=>{const G=u.value.findIndex(k=>{const S=dh({},L);return delete S.index,JSON.stringify(k)===JSON.stringify(S)})!==-1;return dh({checkbox:G},L)}):B.value);return{currentPageFirstIndex:I,currentPageLastIndex:J,multipleSelectStatus:W,pageItems:O}}function EV(e,t,i,r,o,u,h){const s=Ki(u.value?u.value.page:e.value),v=Ui(()=>Math.ceil(r.value/o.value)),I=Ui(()=>v.value===0||s.value===v.value),J=Ui(()=>s.value===1);return{currentPaginationNumber:s,maxPaginationNumber:v,isLastPage:I,isFirstPage:J,nextPage:()=>{if(r.value!==0&&!I.value&&!i.value)if(t.value){const L=s.value+1;h(L)}else s.value+=1},prevPage:()=>{if(r.value!==0&&!J.value&&!i.value)if(t.value){const L=s.value-1;h(L)}else s.value-=1},updatePage:L=>{i.value||(t.value?h(L):s.value=L)},updateCurrentPaginationNumber:L=>{s.value=L}}}function MV(e,t,i,r){const o=Ui(()=>!e.value&&t.value.findIndex(s=>s===r.value)===-1?[r.value,...t.value]:t.value),u=Ki(i.value?i.value.rowsPerPage:r.value);return{rowsItemsComputed:o,rowsPerPageRef:u,updateRowsPerPage:s=>{u.value=s}}}function kV(e,t,i){const r=Ui({get:()=>{if(e.value){const{page:s,rowsPerPage:v,sortBy:I,sortType:J}=e.value;return{page:s,rowsPerPage:v,sortBy:I??null,sortType:J??null}}return null},set:s=>{i("update:serverOptions",s)}});return{serverOptionsComputed:r,updateServerOptionsPage:s=>{r.value&&(r.value=Ox(dh({},r.value),{page:s}))},updateServerOptionsSort:(s,v)=>{if(r.value)if(t.value&&Array.isArray(r.value.sortBy)&&Array.isArray(r.value.sortType)){const I=r.value.sortBy.findIndex(J=>J===s);I===-1&&v!==null&&(r.value.sortBy.push(s),r.value.sortType.push(v)),v===null?(r.value.sortBy.splice(I,1),r.value.sortType.splice(I,1)):r.value.sortType[I]=v}else r.value=Ox(dh({},r.value),{sortBy:v!==null?s:null,sortType:v})},updateServerOptionsRowsPerPage:s=>{r.value&&(r.value=Ox(dh({},r.value),{page:1,rowsPerPage:s}))}}}function gc(e,t){var i;if(e.includes(".")){const r=e.split("."),{length:o}=r;let u,h=0;for(;h<o;){if(h===0)u=t[r[0]];else if(u&&typeof u=="object")u=u[r[h]];else{u="";break}h+=1}return u??""}return(i=t[e])!=null?i:""}function AV(e,t){const i=gc(e,t);return Array.isArray(i)?i.join(","):i}function PV(e,t,i,r,o,u,h,s,v,I){const J=A=>{if(typeof u.value=="string"&&u.value!=="")return gc(u.value,A);if(Array.isArray(u.value)){let H="";return u.value.forEach(U=>{H+=gc(U,A)}),H}return Object.values(A).join(" ")},M=Ui(()=>{if(!i.value&&h.value!==""){const A=new RegExp(h.value,"i");return r.value.filter(H=>A.test(J(H)))}return r.value}),B=Ui(()=>{let A=[...M.value];return t.value?(t.value.forEach(H=>{A=A.filter(U=>{const{field:E,comparison:ie,criteria:ee}=H;if(typeof ie=="function")return ie(gc(E,U),ee);const $=gc(E,U);switch(ie){case"=":return $===ee;case"!=":return $!==ee;case">":return $>ee;case"<":return $<ee;case"<=":return $<=ee;case">=":return $>=ee;case"between":return $>=Math.min(...ee)&&$<=Math.max(...ee);case"in":return ee.includes($);default:return $===ee}})}),A):M.value});Zs(B,A=>{t.value&&I("updateFilter",A)},{immediate:!0,deep:!0});function W(A,H,U,E){const ie=A[E],ee=H[E];return(E===0?U:W(A,H,U,E-1)).sort((V,j)=>{let w=!0;for(let D=0;D<E;D+=1)if(gc(A[D],V)!==gc(A[D],j)){w=!1;break}return w?gc(ie,V)<gc(ie,j)?ee?1:-1:gc(ie,V)>gc(ie,j)?ee?-1:1:0:0})}const O=Ui(()=>{if(i.value)return r.value;if(e.value===null)return B.value;const{sortBy:A,sortDesc:H}=e.value,U=[...B.value];return v&&Array.isArray(A)&&Array.isArray(H)?A.length===0?U:W(A,H,U,A.length-1):U.sort((E,ie)=>gc(A,E)<gc(A,ie)?H?1:-1:gc(A,E)>gc(A,ie)?H?-1:1:0)}),L=Ui(()=>i.value?s.value:O.value.length),G=Ui({get:()=>{var A;return(A=o.value)!=null?A:[]},set:A=>{I("update:itemsSelected",A)}});return{totalItems:O,selectItemsComputed:G,totalItemsLength:L,toggleSelectAll:A=>{G.value=A?O.value:[],A&&I("selectAll")},toggleSelectItem:A=>{const H=A.checkbox;if(delete A.checkbox,delete A.index,H)G.value=G.value.filter(U=>JSON.stringify(U)!==JSON.stringify(A)),I("deselectRow",A);else{const U=G.value;U.unshift(A),G.value=U,I("selectRow",A)}}}}var DV={alternating:{type:Boolean,default:!1},buttonsPagination:{type:Boolean,default:!1},checkboxColumnWidth:{type:Number,default:null},currentPage:{type:Number,default:1},emptyMessage:{type:String,default:"No Available Data"},expandColumnWidth:{type:Number,default:36},filterOptions:{type:Array,default:null},fixedExpand:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!0},fixedCheckbox:{type:Boolean,default:!1},fixedIndex:{type:Boolean,default:!1},headerTextDirection:{type:String,default:"left"},bodyTextDirection:{type:String,default:"left"},hideFooter:{type:Boolean,default:!1},hideRowsPerPage:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},indexColumnWidth:{type:Number,default:60},itemsSelected:{type:Array,default:null},loading:{type:Boolean,default:!1},rowsPerPage:{type:Number,default:25},rowsItems:{type:Array,default:()=>[25,50,100]},rowsPerPageMessage:{type:String,default:"rows per page:"},searchField:{type:[String,Array],default:""},searchValue:{type:String,default:""},serverOptions:{type:Object,default:null},serverItemsLength:{type:Number,default:0},showIndex:{type:Boolean,default:!1},sortBy:{type:[String,Array],default:""},sortType:{type:[String,Array],default:"asc"},multiSort:{type:Boolean,default:!1},tableMinHeight:{type:Number,default:180},tableHeight:{type:Number,default:null},themeColor:{type:String,default:"#42b883"},tableClassName:{type:String,default:""},headerClassName:{type:String,default:""},headerItemClassName:{type:[Function,String],default:""},bodyRowClassName:{type:[Function,String],default:""},bodyExpandRowClassName:{type:[Function,String],default:""},bodyItemClassName:{type:[Function,String],default:""},noHover:{type:Boolean,default:!1},borderCell:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},rowsOfPageSeparatorMessage:{type:String,default:"of"},clickEventType:{type:String,default:"single"},clickRowToExpand:{type:Boolean,default:!1},tableNodeId:{type:String,default:""},showIndexSymbol:{type:String,default:"#"},preventContextMenuRow:{type:Boolean,default:!0}};const IV=e=>(Xc("data-v-32683533"),e=e(),Zc(),e),LV=["id"],OV=["onClick"],RV={key:3,class:"header-text"},BV={key:5,class:"multi-sort__number"},NV=["onClick","onDblclick","onContextmenu"],zV=["onClick"],FV=["colspan"],jV={key:0,class:"vue3-easy-data-table__loading"},UV=IV(()=>je("div",{class:"vue3-easy-data-table__loading-mask"},null,-1)),$V={class:"loading-entity"},VV={key:1,class:"vue3-easy-data-table__message"},GV={key:0,class:"vue3-easy-data-table__footer"},HV={key:0,class:"pagination__rows-per-page"},WV={class:"pagination__items-index"},YV=Ho({__name:"DataTable",props:Ox(dh({},DV),{items:{type:Array,required:!0},headers:{type:Array,required:!0}}),emits:["clickRow","contextmenuRow","selectRow","deselectRow","expandRow","updateSort","updateFilter","update:itemsSelected","update:serverOptions","updatePageItems","updateTotalItems","selectAll"],setup(e,{expose:t,emit:i}){const r=e;gp(vt=>({da0d4328:Ft(fe),"3037e504":Ft(pe)}));const{tableNodeId:o,clickEventType:u,bodyTextDirection:h,checkboxColumnWidth:s,currentPage:v,expandColumnWidth:I,filterOptions:J,fixedCheckbox:M,fixedExpand:B,fixedHeader:W,fixedIndex:O,headers:L,headerTextDirection:G,indexColumnWidth:k,items:S,itemsSelected:A,loading:H,mustSort:U,multiSort:E,rowsItems:ie,rowsPerPage:ee,searchField:$,searchValue:V,serverItemsLength:j,serverOptions:w,showIndex:D,sortBy:m,sortType:g,tableHeight:x,tableMinHeight:P,themeColor:X,rowsOfPageSeparatorMessage:Y,showIndexSymbol:K,preventContextMenuRow:le}=hS(r),pe=Ui(()=>x.value?`${x.value}px`:null),fe=Ui(()=>`${P.value}px`);bf("themeColor",X.value);const z=om(),Q=Ui(()=>!!z.pagination),se=Ui(()=>!!z.loading),de=Ui(()=>!!z.expand),Ce=Ui(()=>!!z.body),ne=Ki(),ve=Ki();bf("dataTable",ne);const _e=Ki(!1);zo(()=>{ve.value.addEventListener("scroll",()=>{_e.value=ve.value.scrollLeft>0})});const oe=Ui(()=>A.value!==null),ge=Ui(()=>w.value!==null),{serverOptionsComputed:Te,updateServerOptionsPage:Re,updateServerOptionsSort:Le,updateServerOptionsRowsPerPage:$e}=kV(w,E,i),{clientSortOptions:nt,headerColumns:Qe,headersForRender:We,updateSortField:xe,isMultiSorting:Ie,getMultiSortNumber:Be}=SV(K,s,I,M,B,O,L,de,k,oe,ge,U,Te,D,m,g,E,Le,i),{rowsItemsComputed:Xe,rowsPerPageRef:Ze,updateRowsPerPage:ft}=MV(ge,ie,w,ee),{totalItems:Ct,selectItemsComputed:Nt,totalItemsLength:pi,toggleSelectAll:qt,toggleSelectItem:fi}=PV(nt,J,ge,S,A,$,V,j,E,i),{currentPaginationNumber:Gi,maxPaginationNumber:dt,isLastPage:Lt,isFirstPage:ei,nextPage:ki,prevPage:on,updatePage:Rn,updateCurrentPaginationNumber:Gr}=EV(v,ge,H,pi,Ze,w,Re),{currentPageFirstIndex:di,currentPageLastIndex:Hi,multipleSelectStatus:Yi,pageItems:fr}=CV(Gi,oe,ge,S,Ze,Nt,D,Ct,pi),As=Ui(()=>Gi.value===0?0:(Gi.value-1)*Ze.value),{expandingItemIndexList:xn,updateExpandingItemIndexList:Us,clearExpandingItemIndexList:Pn}=wV(fr,As,i),{fixedHeaders:Wo,lastFixedColumn:ya,fixedColumnsInfos:mt}=TV(We),{clickRow:ze}=bV(u,oe,D,i),Ye=(vt,Ut)=>{le.value&&Ut.preventDefault(),i("contextmenuRow",vt,Ut)},ut=vt=>{var Ut;const kt=(Ut=vt.width)!=null?Ut:Wo.value.length?100:null;if(kt)return`width: ${kt}px; min-width: ${kt}px;`},xt=(vt,Ut="th")=>{if(!Wo.value.length)return;const kt=mt.value.find(Rt=>Rt.value===vt);if(kt)return`left: ${kt.distance}px;z-index: ${Ut==="th"?3:1};position: sticky;`};return Zs(H,(vt,Ut)=>{Te.value&&vt===!1&&Ut===!0&&(Gr(Te.value.page),Pn())}),Zs(Ze,vt=>{ge.value?$e(vt):Rn(1)}),Zs([V,J],()=>{ge.value||Rn(1)}),Zs([Gi,nt,$,V,J],()=>{Pn()},{deep:!0}),Zs(fr,vt=>{i("updatePageItems",vt)},{deep:!0}),Zs(Ct,vt=>{i("updateTotalItems",vt)},{deep:!0}),t({currentPageFirstIndex:di,currentPageLastIndex:Hi,clientItemsLength:pi,maxPaginationNumber:dt,currentPaginationNumber:Gi,isLastPage:Lt,isFirstPage:ei,nextPage:ki,prevPage:on,updatePage:Rn,rowsPerPageOptions:Xe,rowsPerPageActiveOption:Ze,updateRowsPerPageActiveOption:ft}),(vt,Ut)=>(pt(),St("div",{ref_key:"dataTable",ref:ne,class:kn(["vue3-easy-data-table",[vt.tableClassName]])},[je("div",{ref_key:"tableBody",ref:ve,class:kn(["vue3-easy-data-table__main",{"fixed-header":Ft(W),"fixed-height":Ft(x),"show-shadow":_e.value,"table-fixed":Ft(Wo).length,hoverable:!vt.noHover,"border-cell":vt.borderCell}])},[je("table",{id:Ft(o)},[je("colgroup",null,[(pt(!0),St(Qi,null,ar(Ft(We),(kt,Rt)=>(pt(),St("col",{key:Rt,style:ea(ut(kt))},null,4))),128))]),Ft(z)["customize-headers"]?dn(vt.$slots,"customize-headers",{key:0},void 0,!0):Ft(We).length&&!vt.hideHeader?(pt(),St("thead",{key:1,class:kn(["vue3-easy-data-table__header",[vt.headerClassName]])},[je("tr",null,[(pt(!0),St(Qi,null,ar(Ft(We),(kt,Rt)=>(pt(),St("th",{key:Rt,class:kn([{sortable:kt.sortable,none:kt.sortable&&kt.sortType==="none",desc:kt.sortable&&kt.sortType==="desc",asc:kt.sortable&&kt.sortType==="asc",shadow:kt.value===Ft(ya)},typeof vt.headerItemClassName=="string"?vt.headerItemClassName:vt.headerItemClassName(kt,Rt+1)]),style:ea(xt(kt.value)),onClick:rl(Gt=>kt.sortable&&kt.sortType?Ft(xe)(kt.value,kt.sortType):null,["stop"])},[kt.text==="checkbox"?(pt(),mr(U$,{key:Ft(Yi),status:Ft(Yi),onChange:Ft(qt)},null,8,["status","onChange"])):(pt(),St("span",{key:1,class:kn(["header",`direction-${Ft(G)}`])},[Ft(z)[`header-${kt.value}`]?dn(vt.$slots,`header-${kt.value}`,Is(Fs({key:0},kt)),void 0,!0):Ft(z)[`header-${kt.value.toLowerCase()}`]?dn(vt.$slots,`header-${kt.value.toLowerCase()}`,Is(Fs({key:1},kt)),void 0,!0):Ft(z).header?dn(vt.$slots,"header",Is(Fs({key:2},kt)),void 0,!0):(pt(),St("span",RV,$i(kt.text),1)),kt.sortable?(pt(),St("i",{key:kt.sortType?kt.sortType:"none",class:kn(["sortType-icon",{desc:kt.sortType==="desc"}])},null,2)):hi("",!0),Ft(E)&&Ft(Ie)(kt.value)?(pt(),St("span",BV,$i(Ft(Be)(kt.value)),1)):hi("",!0)],2))],14,OV))),128))])],2)):hi("",!0),Ft(Ce)?dn(vt.$slots,"body",Is(Fs({key:2},Ft(fr))),void 0,!0):Ft(Qe).length?(pt(),St("tbody",{key:3,class:kn(["vue3-easy-data-table__body",{"row-alternation":vt.alternating}])},[dn(vt.$slots,"body-prepend",Is(Fa({items:Ft(fr),pagination:{isFirstPage:Ft(ei),isLastPage:Ft(Lt),currentPaginationNumber:Ft(Gi),maxPaginationNumber:Ft(dt),nextPage:Ft(ki),prevPage:Ft(on)},headers:Ft(We)})),void 0,!0),(pt(!0),St(Qi,null,ar(Ft(fr),(kt,Rt)=>(pt(),St(Qi,{key:Rt},[je("tr",{class:kn([{"even-row":(Rt+1)%2===0},typeof vt.bodyRowClassName=="string"?vt.bodyRowClassName:vt.bodyRowClassName(kt,Rt+1)]),onClick:Gt=>{Ft(ze)(kt,"single",Gt),vt.clickRowToExpand&&Ft(Us)(Rt+Ft(As),kt,Gt)},onDblclick:Gt=>{Ft(ze)(kt,"double",Gt)},onContextmenu:Gt=>{Ye(kt,Gt)}},[(pt(!0),St(Qi,null,ar(Ft(Qe),(Gt,bi)=>(pt(),St("td",{key:bi,style:ea(xt(Gt,"td")),class:kn([{shadow:Gt===Ft(ya),"can-expand":Gt==="expand"},typeof vt.bodyItemClassName=="string"?vt.bodyItemClassName:vt.bodyItemClassName(Gt,Rt+1),`direction-${Ft(h)}`]),onClick:Xi=>Gt==="expand"?Ft(Us)(Rt+Ft(As),kt,Xi):null},[Ft(z)[`item-${Gt}`]?dn(vt.$slots,`item-${Gt}`,Is(Fs({key:0},kt)),void 0,!0):Ft(z)[`item-${Gt.toLowerCase()}`]?dn(vt.$slots,`item-${Gt.toLowerCase()}`,Is(Fs({key:1},kt)),void 0,!0):Gt==="expand"?(pt(),St("i",{key:2,class:kn(["expand-icon",{expanding:Ft(xn).includes(Ft(As)+Rt)}])},null,2)):Gt==="checkbox"?(pt(),mr(W$,{key:3,checked:kt[Gt],onChange:Xi=>Ft(fi)(kt)},null,8,["checked","onChange"])):Ft(z).item?dn(vt.$slots,"item",Is(Fs({key:4},{column:Gt,item:kt})),void 0,!0):(pt(),St(Qi,{key:5},[Yr($i(Ft(AV)(Gt,kt)),1)],64))],14,zV))),128))],42,NV),Ft(de)&&Ft(xn).includes(Rt+Ft(As))?(pt(),St("tr",{key:0,class:kn([{"even-row":(Rt+1)%2===0},typeof vt.bodyExpandRowClassName=="string"?vt.bodyExpandRowClassName:vt.bodyExpandRowClassName(kt,Rt+1)])},[je("td",{colspan:Ft(We).length,class:"expand"},[kt.expandLoading?(pt(),mr(uV,{key:0,class:"expand-loading"})):hi("",!0),dn(vt.$slots,"expand",Is(Fa(kt)),void 0,!0)],8,FV)],2)):hi("",!0)],64))),128)),dn(vt.$slots,"body-append",Is(Fa({items:Ft(fr),pagination:{isFirstPage:Ft(ei),isLastPage:Ft(Lt),currentPaginationNumber:Ft(Gi),maxPaginationNumber:Ft(dt),nextPage:Ft(ki),prevPage:Ft(on),updatePage:Ft(Rn)},headers:Ft(We)})),void 0,!0)],2)):hi("",!0)],8,LV),Ft(H)?(pt(),St("div",jV,[UV,je("div",$V,[Ft(se)?dn(vt.$slots,"loading",{key:0},void 0,!0):(pt(),mr(aV,{key:1}))])])):hi("",!0),!Ft(fr).length&&!Ft(H)?(pt(),St("div",VV,[dn(vt.$slots,"empty-message",{},()=>[Yr($i(vt.emptyMessage),1)],!0)])):hi("",!0)],2),vt.hideFooter?hi("",!0):(pt(),St("div",GV,[vt.hideRowsPerPage?hi("",!0):(pt(),St("div",HV,[Yr($i(vt.rowsPerPageMessage)+" ",1),sn(Q$,{modelValue:Ft(Ze),"onUpdate:modelValue":Ut[0]||(Ut[0]=kt=>ta(Ze)?Ze.value=kt:null),"rows-items":Ft(Xe)},null,8,["modelValue","rows-items"])])),je("div",WV,$i(`${Ft(di)}–${Ft(Hi)}`)+" "+$i(Ft(Y))+" "+$i(Ft(pi)),1),Ft(Q)?dn(vt.$slots,"pagination",Is(Fs({key:1},{isFirstPage:Ft(ei),isLastPage:Ft(Lt),currentPaginationNumber:Ft(Gi),maxPaginationNumber:Ft(dt),nextPage:Ft(ki),prevPage:Ft(on)})),void 0,!0):(pt(),mr(xV,{key:2,"is-first-page":Ft(ei),"is-last-page":Ft(Lt),onClickNextPage:Ft(ki),onClickPrevPage:Ft(on)},_l({_:2},[vt.buttonsPagination?{name:"buttonsPagination",fn:Hn(()=>[sn(fV,{"current-pagination-number":Ft(Gi),"max-pagination-number":Ft(dt),onUpdatePage:Ft(Rn)},null,8,["current-pagination-number","max-pagination-number","onUpdatePage"])]),key:"0"}:void 0]),1032,["is-first-page","is-last-page","onClickNextPage","onClickPrevPage"]))]))],2))}});var F4=Lf(YV,[["__scopeId","data-v-32683533"]]);typeof window<"u"&&window.Vue&&window.Vue.createApp({}).component("Vue3EasyDataTable",F4);var j4={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(ja,function(){var i,r,o;function u(s,v){if(!i)i=v;else if(!r)r=v;else{var I="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+i+")(sharedChunk); ("+r+")(sharedChunk); self.onerror = null;",J={};i(J),o=v(J),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(o.workerUrl=window.URL.createObjectURL(new Blob([I],{type:"text/javascript"})))}}u(["exports"],function(s){var v=typeof self<"u"?self:{},I="2.12.0";let J;const M={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(J==null){const a=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{J={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):a}catch{J=a}}return J},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(a){!L&&O&&(G?k(a):W=a)}};let W,O,L=!1,G=!1;function k(a){const n=a.createTexture();a.bindTexture(a.TEXTURE_2D,n);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,O),a.isContextLost())return;B.supported=!0}catch{}a.deleteTexture(n),L=!0}v.document&&(O=v.document.createElement("img"),O.onload=function(){W&&k(W),W=null,G=!0},O.onerror=function(){L=!0,W=null},O.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const S="01";var A=H;function H(a,n,l,d){this.cx=3*a,this.bx=3*(l-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(d-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=n,this.p2x=l,this.p2y=d}H.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,n){if(n===void 0&&(n=1e-6),a<0)return 0;if(a>1)return 1;for(var l=a,d=0;d<8;d++){var f=this.sampleCurveX(l)-a;if(Math.abs(f)<n)return l;var b=this.sampleCurveDerivativeX(l);if(Math.abs(b)<1e-6)break;l-=f/b}var C=0,F=1;for(l=a,d=0;d<20&&(f=this.sampleCurveX(l),!(Math.abs(f-a)<n));d++)a>f?C=l:F=l,l=.5*(F-C)+C;return l},solve:function(a,n){return this.sampleCurveY(this.solveCurveX(a,n))}};var U=E;function E(a,n){this.x=a,this.y=n}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,n){return this.clone()._rotateAround(a,n)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var n=a.x-this.x,l=a.y-this.y;return n*n+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,n){return Math.atan2(this.x*n-this.y*a,this.x*a+this.y*n)},_matMult:function(a){var n=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=n,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var n=Math.cos(a),l=Math.sin(a),d=l*this.x+n*this.y;return this.x=n*this.x-l*this.y,this.y=d,this},_rotateAround:function(a,n){var l=Math.cos(a),d=Math.sin(a),f=n.y+d*(this.x-n.x)+l*(this.y-n.y);return this.x=n.x+l*(this.x-n.x)-d*(this.y-n.y),this.y=f,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},E.convert=function(a){return a instanceof E?a:Array.isArray(a)?new E(a[0],a[1]):a};const ie=Math.PI/180,ee=180/Math.PI;function $(a){return a*ie}function V(a){return a*ee}const j=[[0,0],[1,0],[1,1],[0,1]];function w(a){if(a<=0)return 0;if(a>=1)return 1;const n=a*a,l=n*a;return 4*(a<.5?l:3*(a-n)+l-.75)}function D(a,n,l,d){const f=new A(a,n,l,d);return function(b){return f.solve(b)}}const m=D(.25,.1,.25,1);function g(a,n,l){return Math.min(l,Math.max(n,a))}function x(a,n,l){return(l=g((l-a)/(n-a),0,1))*l*(3-2*l)}function P(a,n,l){const d=l-n,f=((a-n)%d+d)%d+n;return f===n?l:f}function X(a,n,l){if(!a.length)return l(null,[]);let d=a.length;const f=new Array(a.length);let b=null;a.forEach((C,F)=>{n(C,(te,re)=>{te&&(b=te),f[F]=re,--d==0&&l(b,f)})})}function Y(a){const n=[];for(const l in a)n.push(a[l]);return n}function K(a,...n){for(const l of n)for(const d in l)a[d]=l[d];return a}let le=1;function pe(){return le++}function fe(){return function a(n){return n?(n^Math.random()*(16>>n/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,a)}()}function z(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Q(a){return!!a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}function se(a,n){a.forEach(l=>{n[l]&&(n[l]=n[l].bind(n))})}function de(a,n){return a.indexOf(n,a.length-n.length)!==-1}function Ce(a,n,l){const d={};for(const f in a)d[f]=n.call(l||this,a[f],f,a);return d}function ne(a,n,l){const d={};for(const f in a)n.call(l||this,a[f],f,a)&&(d[f]=a[f]);return d}function ve(a){return Array.isArray(a)?a.map(ve):typeof a=="object"&&a?Ce(a,ve):a}const _e={};function oe(a){_e[a]||(typeof console<"u"&&console.warn(a),_e[a]=!0)}function ge(a,n,l){return(l.y-a.y)*(n.x-a.x)>(n.y-a.y)*(l.x-a.x)}function Te(a){let n=0;for(let l,d,f=0,b=a.length,C=b-1;f<b;C=f++)l=a[f],d=a[C],n+=(d.x-l.x)*(l.y+d.y);return n}function Re(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Le(a){const n={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,d,f,b)=>{const C=f||b;return n[d]=!C||C.toLowerCase(),""}),n["max-age"]){const l=parseInt(n["max-age"],10);isNaN(l)?delete n["max-age"]:n["max-age"]=l}return n}let $e=null;function nt(a){if($e==null){const n=a.navigator?a.navigator.userAgent:null;$e=!!a.safari||!(!n||!(/\b(iPad|iPhone|iPod)\b/.test(n)||n.match("Safari")&&!n.match("Chrome")))}return $e}function Qe(a){try{const n=v[a];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch{return!1}}function We(a,n){return[a[4*n],a[4*n+1],a[4*n+2],a[4*n+3]]}const xe="mapbox-tiles";let Ie,Be,Xe=500,Ze=50;function ft(){try{return v.caches}catch{}}function Ct(){ft()&&!Ie&&(Ie=v.caches.open(xe))}function Nt(a){const n=a.indexOf("?");if(n<0)return a;const l=function(f){const b=f.indexOf("?");return b>0?f.slice(b+1).split("&"):[]}(a),d=l.filter(f=>{const b=f.split("=");return b[0]==="language"||b[0]==="worldview"});return d.length?`${a.slice(0,n)}?${d.join("&")}`:a.slice(0,n)}let pi=1/0;const qt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(qt);class fi extends Error{constructor(n,l,d){l===401&&Yi(d)&&(n+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(n),this.status=l,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Gi=Re()?()=>self.worker&&self.worker.referrer:()=>(v.location.protocol==="blob:"?v.parent:v).location.href,dt=function(a,n){if(!(/^file:/.test(l=a.url)||/^file:/.test(Gi())&&!/^\w+:/.test(l))){if(v.fetch&&v.Request&&v.AbortController&&v.Request.prototype.hasOwnProperty("signal"))return function(d,f){const b=new v.AbortController,C=new v.Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:Gi(),signal:b.signal});let F=!1,te=!1;const re=(me=C.url).indexOf("sku=")>0&&Yi(me);var me;d.type==="json"&&C.headers.set("Accept","application/json");const Se=(Oe,Ne,He)=>{if(te)return;if(Oe&&Oe.message!=="SecurityError"&&oe(Oe),Ne&&He)return Me(Ne);const tt=Date.now();v.fetch(C).then(_t=>{if(_t.ok){const Dt=re?_t.clone():null;return Me(_t,Dt,tt)}return f(new fi(_t.statusText,_t.status,d.url))}).catch(_t=>{_t.code!==20&&f(new Error(_t.message))})},Me=(Oe,Ne,He)=>{(d.type==="arrayBuffer"?Oe.arrayBuffer():d.type==="json"?Oe.json():Oe.text()).then(tt=>{te||(Ne&&He&&function(_t,Dt,yt){if(Ct(),!Ie)return;const Tt={status:Dt.status,statusText:Dt.statusText,headers:new v.Headers};Dt.headers.forEach((ii,ti)=>Tt.headers.set(ti,ii));const Bt=Le(Dt.headers.get("Cache-Control")||"");if(Bt["no-store"])return;Bt["max-age"]&&Tt.headers.set("Expires",new Date(yt+1e3*Bt["max-age"]).toUTCString());const It=Tt.headers.get("Expires");It&&(new Date(It).getTime()-yt<42e4||function(ii,ti){if(Be===void 0)try{new Response(new ReadableStream),Be=!0}catch{Be=!1}Be?ti(ii.body):ii.blob().then(ti)}(Dt,ii=>{const ti=new v.Response(ii,Tt);Ct(),Ie&&Ie.then(xi=>xi.put(Nt(_t.url),ti)).catch(xi=>oe(xi.message))}))}(C,Ne,He),F=!0,f(null,tt,Oe.headers.get("Cache-Control"),Oe.headers.get("Expires")))}).catch(tt=>{te||f(new Error(tt.message))})};return re?function(Oe,Ne){if(Ct(),!Ie)return Ne(null);const He=Nt(Oe.url);Ie.then(tt=>{tt.match(He).then(_t=>{const Dt=function(yt){if(!yt)return!1;const Tt=new Date(yt.headers.get("Expires")||0),Bt=Le(yt.headers.get("Cache-Control")||"");return Tt>Date.now()&&!Bt["no-cache"]}(_t);tt.delete(He),Dt&&tt.put(He,_t.clone()),Ne(null,_t,Dt)}).catch(Ne)}).catch(Ne)}(C,Se):Se(null,null),{cancel:()=>{te=!0,F||b.abort()}}}(a,n);if(Re()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,n,void 0,!0)}var l;return function(d,f){const b=new v.XMLHttpRequest;b.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(b.responseType="arraybuffer");for(const C in d.headers)b.setRequestHeader(C,d.headers[C]);return d.type==="json"&&(b.responseType="text",b.setRequestHeader("Accept","application/json")),b.withCredentials=d.credentials==="include",b.onerror=()=>{f(new Error(b.statusText))},b.onload=()=>{if((b.status>=200&&b.status<300||b.status===0)&&b.response!==null){let C=b.response;if(d.type==="json")try{C=JSON.parse(b.response)}catch(F){return f(F)}f(null,C,b.getResponseHeader("Cache-Control"),b.getResponseHeader("Expires"))}else f(new fi(b.statusText,b.status,d.url))},b.send(d.body),{cancel:()=>b.abort()}}(a,n)},Lt=function(a,n){return dt(K(a,{type:"arrayBuffer"}),n)};function ei(a){const n=v.document.createElement("a");return n.href=a,n.protocol===v.document.location.protocol&&n.host===v.document.location.host}const ki="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let on,Rn;on=[],Rn=0;const Gr=function(a,n){if(B.supported&&(a.headers||(a.headers={}),a.headers.accept="image/webp,*/*"),Rn>=M.MAX_PARALLEL_IMAGE_REQUESTS){const b={requestParameters:a,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return on.push(b),b}Rn++;let l=!1;const d=()=>{if(!l)for(l=!0,Rn--;on.length&&Rn<M.MAX_PARALLEL_IMAGE_REQUESTS;){const b=on.shift(),{requestParameters:C,callback:F,cancelled:te}=b;te||(b.cancel=Gr(C,F).cancel)}},f=Lt(a,(b,C,F,te)=>{d(),b?n(b):C&&(v.createImageBitmap?function(re,me){const Se=new v.Blob([new Uint8Array(re)],{type:"image/png"});v.createImageBitmap(Se).then(Me=>{me(null,Me)}).catch(Me=>{me(new Error(`Could not load image because of ${Me.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(C,(re,me)=>n(re,me,F,te)):function(re,me){const Se=new v.Image,Me=v.URL;Se.onload=()=>{me(null,Se),Me.revokeObjectURL(Se.src),Se.onload=null,v.requestAnimationFrame(()=>{Se.src=ki})},Se.onerror=()=>me(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Oe=new v.Blob([new Uint8Array(re)],{type:"image/png"});Se.src=re.byteLength?Me.createObjectURL(Oe):ki}(C,(re,me)=>n(re,me,F,te)))});return{cancel:()=>{f.cancel(),d()}}},di="NO_ACCESS_TOKEN";function Hi(a){return a.indexOf("mapbox:")===0}function Yi(a){return M.API_URL_REGEX.test(a)}function fr(a){return M.API_CDN_URL_REGEX.test(a)}function As(a){return M.API_STYLE_REGEX.test(a)&&!xn(a)}function xn(a){return M.API_SPRITE_REGEX.test(a)}const Us=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Pn(a){const n=a.match(Us);if(!n)throw new Error("Unable to parse URL object");return{protocol:n[1],authority:n[2],path:n[3]||"/",params:n[4]?n[4].split("&"):[]}}function Wo(a){const n=a.params.length?`?${a.params.join("&")}`:"";return`${a.protocol}://${a.authority}${a.path}${n}`}function ya(a){if(!a)return null;const n=a.split(".");if(!n||n.length!==3)return null;try{return JSON.parse(decodeURIComponent(v.atob(n[1]).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class mt{constructor(n){this.type=n,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(n){const l=ya(M.ACCESS_TOKEN);let d="";return d=l&&l.u?v.btoa(encodeURIComponent(l.u).replace(/%([0-9A-F]{2})/g,(f,b)=>String.fromCharCode(+("0x"+b)))):M.ACCESS_TOKEN||"",n?`mapbox.eventData.${n}:${d}`:`mapbox.eventData:${d}`}fetchEventData(){const n=Qe("localStorage"),l=this.getStorageKey(),d=this.getStorageKey("uuid");if(n)try{const f=v.localStorage.getItem(l);f&&(this.eventData=JSON.parse(f));const b=v.localStorage.getItem(d);b&&(this.anonId=b)}catch{oe("Unable to read from LocalStorage")}}saveEventData(){const n=Qe("localStorage"),l=this.getStorageKey(),d=this.getStorageKey("uuid");if(n)try{v.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&v.localStorage.setItem(l,JSON.stringify(this.eventData))}catch{oe("Unable to write to LocalStorage")}}processRequests(n){}postEvent(n,l,d,f){if(!M.EVENTS_URL)return;const b=Pn(M.EVENTS_URL);b.params.push(`access_token=${f||M.ACCESS_TOKEN||""}`);const C={event:this.type,created:new Date(n).toISOString()},F=l?K(C,l):C,te={url:Wo(b),headers:{"Content-Type":"text/plain"},body:JSON.stringify([F])};this.pendingRequest=function(re,me){return dt(K(re,{method:"POST"}),me)}(te,re=>{this.pendingRequest=null,d(re),this.saveEventData(),this.processRequests(f)})}queueRequest(n,l){this.queue.push(n),this.processRequests(l)}}const ze=new class extends mt{constructor(a){super("appUserTurnstile"),this._customAccessToken=a}postTurnstileEvent(a,n){M.EVENTS_URL&&M.ACCESS_TOKEN&&Array.isArray(a)&&a.some(l=>Hi(l)||Yi(l))&&this.queueRequest(Date.now(),n)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const n=ya(M.ACCESS_TOKEN),l=n?n.u:M.ACCESS_TOKEN;let d=l!==this.eventData.tokenU;Q(this.anonId)||(this.anonId=fe(),d=!0);const f=this.queue.shift();if(this.eventData.lastSuccess){const b=new Date(this.eventData.lastSuccess),C=new Date(f),F=(f-this.eventData.lastSuccess)/864e5;d=d||F>=1||F<-1||b.getDate()!==C.getDate()}else d=!0;d?this.postEvent(f,{sdkIdentifier:"mapbox-gl-js",sdkVersion:I,skuId:S,"enabled.telemetry":!1,userId:this.anonId},b=>{b||(this.eventData.lastSuccess=f,this.eventData.tokenU=l)},a):this.processRequests()}},Ye=ze.postTurnstileEvent.bind(ze),ut=new class extends mt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(a,n,l,d){this.skuToken=n,this.errorCb=d,M.EVENTS_URL&&(l||M.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(di)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:n,timestamp:l}=this.queue.shift();n&&this.success[n]||(this.anonId||this.fetchEventData(),Q(this.anonId)||(this.anonId=fe()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:I,skuId:S,skuToken:this.skuToken,userId:this.anonId},d=>{d?this.errorCb(d):n&&(this.success[n]=!0)},a))}},xt=ut.postMapLoadEvent.bind(ut),vt=new class extends mt{constructor(){super("gljs.performance")}postPerformanceEvent(a,n){M.EVENTS_URL&&(a||M.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:n},a)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:n,performanceData:l}=this.queue.shift(),d=function(f){const b=v.performance.getEntriesByType("resource"),C=v.performance.getEntriesByType("mark"),F=function(Me){const Oe={};if(Me){for(const Ne in Me)if(Ne!=="other")for(const He of Me[Ne]){const tt=`${Ne}ResolveRangeMin`,_t=`${Ne}ResolveRangeMax`,Dt=`${Ne}RequestCount`,yt=`${Ne}RequestCachedCount`;Oe[tt]=Math.min(Oe[tt]||1/0,He.startTime),Oe[_t]=Math.max(Oe[_t]||-1/0,He.responseEnd);const Tt=Bt=>{Oe[Bt]===void 0&&(Oe[Bt]=0),++Oe[Bt]};He.transferSize!==void 0&&He.transferSize===0&&Tt(yt),Tt(Dt)}}return Oe}(function(Me,Oe){const Ne={};if(Me)for(const He of Me){const tt=Oe(He);Ne[tt]===void 0&&(Ne[tt]=[]),Ne[tt].push(He)}return Ne}(b,Ii)),te=v.devicePixelRatio,re=v.navigator.connection||v.navigator.mozConnection||v.navigator.webkitConnection,me={counters:[],metadata:[],attributes:[]},Se=(Me,Oe,Ne)=>{Ne!=null&&Me.push({name:Oe,value:Ne.toString()})};for(const Me in F)Se(me.counters,Me,F[Me]);if(f.interactionRange[0]!==1/0&&f.interactionRange[1]!==-1/0&&(Se(me.counters,"interactionRangeMin",f.interactionRange[0]),Se(me.counters,"interactionRangeMax",f.interactionRange[1])),C)for(const Me of Object.keys(bi)){const Oe=bi[Me],Ne=C.find(He=>He.name===Oe);Ne&&Se(me.counters,Oe,Ne.startTime)}return Se(me.counters,"visibilityHidden",f.visibilityHidden),Se(me.attributes,"style",function(Me){if(Me)for(const Oe of Me){const Ne=Oe.name.split("?")[0];if(As(Ne)){const He=Ne.split("/").slice(-2);if(He.length===2)return`mapbox://styles/${He[0]}/${He[1]}`}}}(b)),Se(me.attributes,"terrainEnabled",f.terrainEnabled?"true":"false"),Se(me.attributes,"fogEnabled",f.fogEnabled?"true":"false"),Se(me.attributes,"projection",f.projection),Se(me.attributes,"zoom",f.zoom),Se(me.metadata,"devicePixelRatio",te),Se(me.metadata,"connectionEffectiveType",re?re.effectiveType:void 0),Se(me.metadata,"navigatorUserAgent",v.navigator.userAgent),Se(me.metadata,"screenWidth",v.screen.width),Se(me.metadata,"screenHeight",v.screen.height),Se(me.metadata,"windowWidth",v.innerWidth),Se(me.metadata,"windowHeight",v.innerHeight),Se(me.metadata,"mapWidth",f.width/te),Se(me.metadata,"mapHeight",f.height/te),Se(me.metadata,"webglRenderer",f.renderer),Se(me.metadata,"webglVendor",f.vendor),Se(me.metadata,"sdkVersion",I),Se(me.metadata,"sdkIdentifier","mapbox-gl-js"),me}(l);for(const f of d.metadata);for(const f of d.counters);for(const f of d.attributes);this.postEvent(n,d,()=>{},a)}},Ut=vt.postPerformanceEvent.bind(vt),kt=new class extends mt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(a,n,l,d){if(!M.API_URL||!M.SESSION_PATH)return;const f=Pn(M.API_URL+M.SESSION_PATH);f.params.push(`sku=${n||""}`),f.params.push(`access_token=${d||M.ACCESS_TOKEN||""}`);const b={url:Wo(f),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(C,F){return dt(K(C,{method:"GET"}),F)}(b,C=>{this.pendingRequest=null,l(C),this.saveEventData(),this.processRequests(d)})}getSessionAPI(a,n,l,d){this.skuToken=n,this.errorCb=d,M.SESSION_PATH&&M.API_URL&&(l||M.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(di)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:n,timestamp:l}=this.queue.shift();n&&this.success[n]||this.getSession(l,this.skuToken,d=>{d?this.errorCb(d):n&&(this.success[n]=!0)},a)}},Rt=kt.getSessionAPI.bind(kt),Gt=new Set,bi={create:"create",load:"load",fullLoad:"fullLoad"},Xi={mark(a){v.performance.mark(a)},measure(a,n,l){v.performance.measure(a,n,l)}};function Ii(a){const n=a.name.split("?")[0];return fr(n)&&n.includes("mapbox-gl.js")?"javascript":fr(n)&&n.includes("mapbox-gl.css")?"css":function(l){return M.API_FONTS_REGEX.test(l)}(n)?"fontRange":xn(n)?"sprite":As(n)?"style":function(l){return M.API_TILEJSON_REGEX.test(l)}(n)?"tilejson":"other"}const Mn=v.performance;function Cn(a){const n=a?a.url.toString():void 0;return Mn.getEntriesByName(n)}let pn,qi,cr,Dr;const vn={now:()=>cr!==void 0?cr:v.performance.now(),setNow(a){cr=a},restoreNow(){cr=void 0},frame(a){const n=v.requestAnimationFrame(a);return{cancel:()=>v.cancelAnimationFrame(n)}},getImageData(a,n=0){const{width:l,height:d}=a;Dr||(Dr=v.document.createElement("canvas"));const f=Dr.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return(l>Dr.width||d>Dr.height)&&(Dr.width=l,Dr.height=d),f.clearRect(-n,-n,l+2*n,d+2*n),f.drawImage(a,0,0,l,d),f.getImageData(-n,-n,l+2*n,d+2*n)},resolveURL:a=>(pn||(pn=v.document.createElement("a")),pn.href=a,pn.href),get devicePixelRatio(){return v.devicePixelRatio},get prefersReducedMotion(){return!!v.matchMedia&&(qi==null&&(qi=v.matchMedia("(prefers-reduced-motion: reduce)")),qi.matches)}};function Xr(a,n,l){l[a]&&l[a].indexOf(n)!==-1||(l[a]=l[a]||[],l[a].push(n))}function Rr(a,n,l){if(l&&l[a]){const d=l[a].indexOf(n);d!==-1&&l[a].splice(d,1)}}class Ha{constructor(n,l={}){K(this,l),this.type=n}}class Wa extends Ha{constructor(n,l={}){super("error",K({error:n},l))}}class vo{on(n,l){return this._listeners=this._listeners||{},Xr(n,l,this._listeners),this}off(n,l){return Rr(n,l,this._listeners),Rr(n,l,this._oneTimeListeners),this}once(n,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},Xr(n,l,this._oneTimeListeners),this):new Promise(d=>this.once(n,d))}fire(n,l){typeof n=="string"&&(n=new Ha(n,l||{}));const d=n.type;if(this.listens(d)){n.target=this;const f=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const F of f)F.call(this,n);const b=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const F of b)Rr(d,F,this._oneTimeListeners),F.call(this,n);const C=this._eventedParent;C&&(K(n,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),C.fire(n))}else n instanceof Wa&&console.error(n.error);return this}listens(n){return!!(this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n))}setEventedParent(n,l){return this._eventedParent=n,this._eventedParentData=l,this}}var yi=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function ps(a,...n){for(const l of n)for(const d in l)a[d]=l[d];return a}function Rs(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function Bs(a){if(Array.isArray(a))return a.map(Bs);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){const n={};for(const l in a)n[l]=Bs(a[l]);return n}return Rs(a)}class wc extends Error{constructor(n,l){super(l),this.message=l,this.key=n}}var Io=wc;class Jc{constructor(n,l=[]){this.parent=n,this.bindings={};for(const[d,f]of l)this.bindings[d]=f}concat(n){return new Jc(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}var ld=Jc;const fo={kind:"null"},en={kind:"number"},ir={kind:"string"},ur={kind:"boolean"},ra={kind:"color"},Ya={kind:"object"},jn={kind:"value"},Tc={kind:"collator"},Aa={kind:"formatted"},ol={kind:"resolvedImage"};function ro(a,n){return{kind:"array",itemType:a,N:n}}function Hr(a){if(a.kind==="array"){const n=Hr(a.itemType);return typeof a.N=="number"?`array<${n}, ${a.N}>`:a.itemType.kind==="value"?"array":`array<${n}>`}return a.kind}const mo=[fo,en,ir,ur,ra,Aa,Ya,ro(jn),ol];function Yo(a,n){if(n.kind==="error")return null;if(a.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!Yo(a.itemType,n.itemType))&&(typeof a.N!="number"||a.N===n.N))return null}else{if(a.kind===n.kind)return null;if(a.kind==="value"){for(const l of mo)if(!Yo(l,n))return null}}return`Expected ${Hr(a)} but found ${Hr(n)} instead.`}function Yl(a,n){return n.some(l=>l.kind===a.kind)}function _a(a,n){return n.some(l=>l==="null"?a===null:l==="array"?Array.isArray(a):l==="object"?a&&!Array.isArray(a)&&typeof a=="object":l===typeof a)}var bl,wl={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function al(a){return(a=Math.round(a))<0?0:a>255?255:a}function Tl(a){return al(a[a.length-1]==="%"?parseFloat(a)/100*255:parseInt(a))}function Qc(a){return(n=a[a.length-1]==="%"?parseFloat(a)/100:parseFloat(a))<0?0:n>1?1:n;var n}function eu(a,n,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?a+(n-a)*l*6:2*l<1?n:3*l<2?a+(n-a)*(2/3-l)*6:a}try{bl={}.parseCSSColor=function(a){var n,l=a.replace(/ /g,"").toLowerCase();if(l in wl)return wl[l].slice();if(l[0]==="#")return l.length===4?(n=parseInt(l.substr(1),16))>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null:l.length===7&&(n=parseInt(l.substr(1),16))>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null;var d=l.indexOf("("),f=l.indexOf(")");if(d!==-1&&f+1===l.length){var b=l.substr(0,d),C=l.substr(d+1,f-(d+1)).split(","),F=1;switch(b){case"rgba":if(C.length!==4)return null;F=Qc(C.pop());case"rgb":return C.length!==3?null:[Tl(C[0]),Tl(C[1]),Tl(C[2]),F];case"hsla":if(C.length!==4)return null;F=Qc(C.pop());case"hsl":if(C.length!==3)return null;var te=(parseFloat(C[0])%360+360)%360/360,re=Qc(C[1]),me=Qc(C[2]),Se=me<=.5?me*(re+1):me+re-me*re,Me=2*me-Se;return[al(255*eu(Me,Se,te+1/3)),al(255*eu(Me,Se,te)),al(255*eu(Me,Se,te-1/3)),F];default:return null}}return null}}catch{}class Fo{constructor(n,l,d,f=1){this.r=n,this.g=l,this.b=d,this.a=f}static parse(n){if(!n)return;if(n instanceof Fo)return n;if(typeof n!="string")return;const l=bl(n);return l?new Fo(l[0]/255*l[3],l[1]/255*l[3],l[2]/255*l[3],l[3]):void 0}toString(){const[n,l,d,f]=this.toArray();return`rgba(${Math.round(n)},${Math.round(l)},${Math.round(d)},${f})`}toArray(){const{r:n,g:l,b:d,a:f}=this;return f===0?[0,0,0,0]:[255*n/f,255*l/f,255*d/f,f]}toArray01(){const{r:n,g:l,b:d,a:f}=this;return f===0?[0,0,0,0]:[n/f,l/f,d/f,f]}toArray01PremultipliedAlpha(){const{r:n,g:l,b:d,a:f}=this;return[n,l,d,f]}}Fo.black=new Fo(0,0,0,1),Fo.white=new Fo(1,1,1,1),Fo.transparent=new Fo(0,0,0,0),Fo.red=new Fo(1,0,0,1),Fo.blue=new Fo(0,0,1,1);var Ps=Fo;class ql{constructor(n,l,d){this.sensitivity=n?l?"variant":"case":l?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,l){return this.collator.compare(n,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ll{constructor(n,l,d,f,b){this.text=n.normalize?n.normalize():n,this.image=l,this.scale=d,this.fontStack=f,this.textColor=b}}class so{constructor(n){this.sections=n}static fromString(n){return new so([new ll(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof so?n:so.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const l of this.sections){if(l.image){n.push(["image",l.image.name]);continue}n.push(l.text);const d={};l.fontStack&&(d["text-font"]=["literal",l.fontStack.split(",")]),l.scale&&(d["font-scale"]=l.scale),l.textColor&&(d["text-color"]=["rgba"].concat(l.textColor.toArray())),n.push(d)}return n}}class va{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new va({name:n,available:!1}):null}serialize(){return["image",this.name]}}function Rd(a,n,l,d){return typeof a=="number"&&a>=0&&a<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof l=="number"&&l>=0&&l<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[a,n,l,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[a,n,l,d]:[a,n,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Mu(a){if(a===null||typeof a=="string"||typeof a=="boolean"||typeof a=="number"||a instanceof Ps||a instanceof ql||a instanceof so||a instanceof va)return!0;if(Array.isArray(a)){for(const n of a)if(!Mu(n))return!1;return!0}if(typeof a=="object"){for(const n in a)if(!Mu(a[n]))return!1;return!0}return!1}function Js(a){if(a===null)return fo;if(typeof a=="string")return ir;if(typeof a=="boolean")return ur;if(typeof a=="number")return en;if(a instanceof Ps)return ra;if(a instanceof ql)return Tc;if(a instanceof so)return Aa;if(a instanceof va)return ol;if(Array.isArray(a)){const n=a.length;let l;for(const d of a){const f=Js(d);if(l){if(l===f)continue;l=jn;break}l=f}return ro(l||jn,n)}return Ya}function Xl(a){const n=typeof a;return a===null?"":n==="string"||n==="number"||n==="boolean"?String(a):a instanceof Ps||a instanceof so||a instanceof va?a.toString():JSON.stringify(a)}class ku{constructor(n,l){this.type=n,this.value=l}static parse(n,l){if(n.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!Mu(n[1]))return l.error("invalid value");const d=n[1];let f=Js(d);const b=l.expectedType;return f.kind!=="array"||f.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(f=b),new ku(f,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Ps?["rgba"].concat(this.value.toArray()):this.value instanceof so?this.value.serialize():this.value}}var Zl=ku,oo=class{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}};const Sl={string:ir,number:en,boolean:ur,object:Ya};class Au{constructor(n,l){this.type=n,this.args=l}static parse(n,l){if(n.length<2)return l.error("Expected at least one argument.");let d,f=1;const b=n[0];if(b==="array"){let F,te;if(n.length>2){const re=n[1];if(typeof re!="string"||!(re in Sl)||re==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);F=Sl[re],f++}else F=jn;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return l.error('The length argument to "array" must be a positive integer literal',2);te=n[2],f++}d=ro(F,te)}else d=Sl[b];const C=[];for(;f<n.length;f++){const F=l.parse(n[f],f,jn);if(!F)return null;C.push(F)}return new Au(d,C)}evaluate(n){for(let l=0;l<this.args.length;l++){const d=this.args[l].evaluate(n);if(!Yo(this.type,Js(d)))return d;if(l===this.args.length-1)throw new oo(`Expected value to be of type ${Hr(this.type)}, but found ${Hr(Js(d))} instead.`)}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,l=[n.kind];if(n.kind==="array"){const d=n.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){l.push(d.kind);const f=n.N;(typeof f=="number"||this.args.length>1)&&l.push(f)}}return l.concat(this.args.map(d=>d.serialize()))}}var Lr=Au;class Fr{constructor(n){this.type=Aa,this.sections=n}static parse(n,l){if(n.length<2)return l.error("Expected at least one argument.");const d=n[1];if(!Array.isArray(d)&&typeof d=="object")return l.error("First argument must be an image or text section.");const f=[];let b=!1;for(let C=1;C<=n.length-1;++C){const F=n[C];if(b&&typeof F=="object"&&!Array.isArray(F)){b=!1;let te=null;if(F["font-scale"]&&(te=l.parse(F["font-scale"],1,en),!te))return null;let re=null;if(F["text-font"]&&(re=l.parse(F["text-font"],1,ro(ir)),!re))return null;let me=null;if(F["text-color"]&&(me=l.parse(F["text-color"],1,ra),!me))return null;const Se=f[f.length-1];Se.scale=te,Se.font=re,Se.textColor=me}else{const te=l.parse(n[C],1,jn);if(!te)return null;const re=te.type.kind;if(re!=="string"&&re!=="value"&&re!=="null"&&re!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,f.push({content:te,scale:null,font:null,textColor:null})}}return new Fr(f)}evaluate(n){return new so(this.sections.map(l=>{const d=l.content.evaluate(n);return Js(d)===ol?new ll("",d,null,null,null):new ll(Xl(d),null,l.scale?l.scale.evaluate(n):null,l.font?l.font.evaluate(n).join(","):null,l.textColor?l.textColor.evaluate(n):null)}))}eachChild(n){for(const l of this.sections)n(l.content),l.scale&&n(l.scale),l.font&&n(l.font),l.textColor&&n(l.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const l of this.sections){n.push(l.content.serialize());const d={};l.scale&&(d["font-scale"]=l.scale.serialize()),l.font&&(d["text-font"]=l.font.serialize()),l.textColor&&(d["text-color"]=l.textColor.serialize()),n.push(d)}return n}}class Pu{constructor(n){this.type=ol,this.input=n}static parse(n,l){if(n.length!==2)return l.error("Expected two arguments.");const d=l.parse(n[1],1,ir);return d?new Pu(d):l.error("No image name provided.")}evaluate(n){const l=this.input.evaluate(n),d=va.fromString(l);return d&&n.availableImages&&(d.available=n.availableImages.indexOf(l)>-1),d}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Bd={"to-boolean":ur,"to-color":ra,"to-number":en,"to-string":ir};class cd{constructor(n,l){this.type=n,this.args=l}static parse(n,l){if(n.length<2)return l.error("Expected at least one argument.");const d=n[0];if((d==="to-boolean"||d==="to-string")&&n.length!==2)return l.error("Expected one argument.");const f=Bd[d],b=[];for(let C=1;C<n.length;C++){const F=l.parse(n[C],C,jn);if(!F)return null;b.push(F)}return new cd(f,b)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let l,d;for(const f of this.args){if(l=f.evaluate(n),d=null,l instanceof Ps)return l;if(typeof l=="string"){const b=n.parseColor(l);if(b)return b}else if(Array.isArray(l)&&(d=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Rd(l[0],l[1],l[2],l[3]),!d))return new Ps(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new oo(d||`Could not parse color from value '${typeof l=="string"?l:String(JSON.stringify(l))}'`)}if(this.type.kind==="number"){let l=null;for(const d of this.args){if(l=d.evaluate(n),l===null)return 0;const f=Number(l);if(!isNaN(f))return f}throw new oo(`Could not convert ${JSON.stringify(l)} to number.`)}return this.type.kind==="formatted"?so.fromString(Xl(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?va.fromString(Xl(this.args[0].evaluate(n))):Xl(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Fr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Pu(this.args[0]).serialize();const n=[`to-${this.type.kind}`];return this.eachChild(l=>{n.push(l.serialize())}),n}}var xa=cd;const tu=["Unknown","Point","LineString","Polygon"];var Du=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?tu[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const a=this.featureDistanceData.center,n=this.featureDistanceData.scale,{x:l,y:d}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(l*n-a[0])+this.featureDistanceData.bearing[1]*(d*n-a[1])}return 0}parseColor(a){let n=this._parseColorCache[a];return n||(n=this._parseColorCache[a]=Ps.parse(a)),n}};class Kl{constructor(n,l,d,f){this.name=n,this.type=l,this._evaluate=d,this.args=f}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,l){const d=n[0],f=Kl.definitions[d];if(!f)return l.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(f)?f[0]:f.type,C=Array.isArray(f)?[[f[1],f[2]]]:f.overloads,F=C.filter(([re])=>!Array.isArray(re)||re.length===n.length-1);let te=null;for(const[re,me]of F){te=new es(l.registry,l.path,null,l.scope);const Se=[];let Me=!1;for(let Oe=1;Oe<n.length;Oe++){const Ne=n[Oe],He=Array.isArray(re)?re[Oe-1]:re.type,tt=te.parse(Ne,1+Se.length,He);if(!tt){Me=!0;break}Se.push(tt)}if(!Me)if(Array.isArray(re)&&re.length!==Se.length)te.error(`Expected ${re.length} arguments, but found ${Se.length} instead.`);else{for(let Oe=0;Oe<Se.length;Oe++){const Ne=Array.isArray(re)?re[Oe]:re.type,He=Se[Oe];te.concat(Oe+1).checkSubtype(Ne,He.type)}if(te.errors.length===0)return new Kl(d,b,me,Se)}}if(F.length===1)l.errors.push(...te.errors);else{const re=(F.length?F:C).map(([Se])=>{return Me=Se,Array.isArray(Me)?`(${Me.map(Hr).join(", ")})`:`(${Hr(Me.type)}...)`;var Me}).join(" | "),me=[];for(let Se=1;Se<n.length;Se++){const Me=l.parse(n[Se],1+me.length);if(!Me)return null;me.push(Hr(Me.type))}l.error(`Expected arguments of type ${re}, but found (${me.join(", ")}) instead.`)}return null}static register(n,l){Kl.definitions=l;for(const d in l)n[d]=Kl}}var sa=Kl;class Qs{constructor(n,l,d){this.type=Tc,this.locale=d,this.caseSensitive=n,this.diacriticSensitive=l}static parse(n,l){if(n.length!==2)return l.error("Expected one argument.");const d=n[1];if(typeof d!="object"||Array.isArray(d))return l.error("Collator options argument must be an object.");const f=l.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,ur);if(!f)return null;const b=l.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,ur);if(!b)return null;let C=null;return d.locale&&(C=l.parse(d.locale,1,ir),!C)?null:new Qs(f,b,C)}evaluate(n){return new ql(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}const Z=8192;function ue(a,n){a[0]=Math.min(a[0],n[0]),a[1]=Math.min(a[1],n[1]),a[2]=Math.max(a[2],n[0]),a[3]=Math.max(a[3],n[1])}function be(a,n){return!(a[0]<=n[0]||a[2]>=n[2]||a[1]<=n[1]||a[3]>=n[3])}function ke(a,n){const l=(180+a[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,f=Math.pow(2,n.z);return[Math.round(l*f*Z),Math.round(d*f*Z)]}function Ue(a,n,l){const d=a[0]-n[0],f=a[1]-n[1],b=a[0]-l[0],C=a[1]-l[1];return d*C-b*f==0&&d*b<=0&&f*C<=0}function Ge(a,n){let l=!1;for(let C=0,F=n.length;C<F;C++){const te=n[C];for(let re=0,me=te.length;re<me-1;re++){if(Ue(a,te[re],te[re+1]))return!1;(f=te[re])[1]>(d=a)[1]!=(b=te[re+1])[1]>d[1]&&d[0]<(b[0]-f[0])*(d[1]-f[1])/(b[1]-f[1])+f[0]&&(l=!l)}}var d,f,b;return l}function Je(a,n){for(let l=0;l<n.length;l++)if(Ge(a,n[l]))return!0;return!1}function zt(a,n,l,d){const f=d[0]-l[0],b=d[1]-l[1],C=(a[0]-l[0])*b-f*(a[1]-l[1]),F=(n[0]-l[0])*b-f*(n[1]-l[1]);return C>0&&F<0||C<0&&F>0}function Mt(a,n,l){for(const re of l)for(let me=0;me<re.length-1;++me)if((F=[(C=re[me+1])[0]-(b=re[me])[0],C[1]-b[1]])[0]*(te=[(f=n)[0]-(d=a)[0],f[1]-d[1]])[1]-F[1]*te[0]!=0&&zt(d,f,b,C)&&zt(b,C,d,f))return!0;var d,f,b,C,F,te;return!1}function Jt(a,n){for(let l=0;l<a.length;++l)if(!Ge(a[l],n))return!1;for(let l=0;l<a.length-1;++l)if(Mt(a[l],a[l+1],n))return!1;return!0}function _i(a,n){for(let l=0;l<n.length;l++)if(Jt(a,n[l]))return!0;return!1}function Pi(a,n,l){const d=[];for(let f=0;f<a.length;f++){const b=[];for(let C=0;C<a[f].length;C++){const F=ke(a[f][C],l);ue(n,F),b.push(F)}d.push(b)}return d}function ai(a,n,l){const d=[];for(let f=0;f<a.length;f++){const b=Pi(a[f],n,l);d.push(b)}return d}function mi(a,n,l,d){if(a[0]<l[0]||a[0]>l[2]){const f=.5*d;let b=a[0]-l[0]>f?-d:l[0]-a[0]>f?d:0;b===0&&(b=a[0]-l[2]>f?-d:l[2]-a[0]>f?d:0),a[0]+=b}ue(n,a)}function Ji(a,n,l,d){const f=Math.pow(2,d.z)*Z,b=[d.x*Z,d.y*Z],C=[];if(!a)return C;for(const F of a)for(const te of F){const re=[te.x+b[0],te.y+b[1]];mi(re,n,l,f),C.push(re)}return C}function Xn(a,n,l,d){const f=Math.pow(2,d.z)*Z,b=[d.x*Z,d.y*Z],C=[];if(!a)return C;for(const te of a){const re=[];for(const me of te){const Se=[me.x+b[0],me.y+b[1]];ue(n,Se),re.push(Se)}C.push(re)}if(n[2]-n[0]<=f/2){(F=n)[0]=F[1]=1/0,F[2]=F[3]=-1/0;for(const te of C)for(const re of te)mi(re,n,l,f)}var F;return C}class fn{constructor(n,l){this.type=ur,this.geojson=n,this.geometries=l}static parse(n,l){if(n.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(Mu(n[1])){const d=n[1];if(d.type==="FeatureCollection")for(let f=0;f<d.features.length;++f){const b=d.features[f].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new fn(d,d.features[f].geometry)}else if(d.type==="Feature"){const f=d.geometry.type;if(f==="Polygon"||f==="MultiPolygon")return new fn(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new fn(d,d)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(l,d){const f=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=l.canonicalID();if(!C)return!1;if(d.type==="Polygon"){const F=Pi(d.coordinates,b,C),te=Ji(l.geometry(),f,b,C);if(!be(f,b))return!1;for(const re of te)if(!Ge(re,F))return!1}if(d.type==="MultiPolygon"){const F=ai(d.coordinates,b,C),te=Ji(l.geometry(),f,b,C);if(!be(f,b))return!1;for(const re of te)if(!Je(re,F))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(l,d){const f=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],C=l.canonicalID();if(!C)return!1;if(d.type==="Polygon"){const F=Pi(d.coordinates,b,C),te=Xn(l.geometry(),f,b,C);if(!be(f,b))return!1;for(const re of te)if(!Jt(re,F))return!1}if(d.type==="MultiPolygon"){const F=ai(d.coordinates,b,C),te=Xn(l.geometry(),f,b,C);if(!be(f,b))return!1;for(const re of te)if(!_i(re,F))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var fs=fn;function Qr(a){if(a instanceof sa&&(a.name==="get"&&a.args.length===1||a.name==="feature-state"||a.name==="has"&&a.args.length===1||a.name==="properties"||a.name==="geometry-type"||a.name==="id"||/^filter-/.test(a.name))||a instanceof fs)return!1;let n=!0;return a.eachChild(l=>{n&&!Qr(l)&&(n=!1)}),n}function gr(a){if(a instanceof sa&&a.name==="feature-state")return!1;let n=!0;return a.eachChild(l=>{n&&!gr(l)&&(n=!1)}),n}function yr(a,n){if(a instanceof sa&&n.indexOf(a.name)>=0)return!1;let l=!0;return a.eachChild(d=>{l&&!yr(d,n)&&(l=!1)}),l}class Yn{constructor(n,l){this.type=l.type,this.name=n,this.boundExpression=l}static parse(n,l){if(n.length!==2||typeof n[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const d=n[1];return l.scope.has(d)?new Yn(d,l.scope.get(d)):l.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var ao=Yn;class vr{constructor(n,l=[],d,f=new ld,b=[]){this.registry=n,this.path=l,this.key=l.map(C=>`[${C}]`).join(""),this.scope=f,this.errors=b,this.expectedType=d}parse(n,l,d,f,b={}){return l?this.concat(l,d,f)._parse(n,b):this._parse(n,b)}_parse(n,l){function d(f,b,C){return C==="assert"?new Lr(b,[f]):C==="coerce"?new xa(b,[f]):f}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const f=n[0];if(typeof f!="string")return this.error(`Expression name must be a string, but found ${typeof f} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const b=this.registry[f];if(b){let C=b.parse(n,this);if(!C)return null;if(this.expectedType){const F=this.expectedType,te=C.type;if(F.kind!=="string"&&F.kind!=="number"&&F.kind!=="boolean"&&F.kind!=="object"&&F.kind!=="array"||te.kind!=="value")if(F.kind!=="color"&&F.kind!=="formatted"&&F.kind!=="resolvedImage"||te.kind!=="value"&&te.kind!=="string"){if(this.checkSubtype(F,te))return null}else C=d(C,F,l.typeAnnotation||"coerce");else C=d(C,F,l.typeAnnotation||"assert")}if(!(C instanceof Zl)&&C.type.kind!=="resolvedImage"&&qa(C)){const F=new Du;try{C=new Zl(C.type,C.evaluate(F))}catch(te){return this.error(te.message),null}}return C}return this.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,l,d){const f=typeof n=="number"?this.path.concat(n):this.path,b=d?this.scope.concat(d):this.scope;return new vr(this.registry,f,l||null,b,this.errors)}error(n,...l){const d=`${this.key}${l.map(f=>`[${f}]`).join("")}`;this.errors.push(new Io(d,n))}checkSubtype(n,l){const d=Yo(n,l);return d&&this.error(d),d}}var es=vr;function qa(a){if(a instanceof ao)return qa(a.boundExpression);if(a instanceof sa&&a.name==="error"||a instanceof Qs||a instanceof fs)return!1;const n=a instanceof xa||a instanceof Lr;let l=!0;return a.eachChild(d=>{l=n?l&&qa(d):l&&d instanceof Zl}),!!l&&Qr(a)&&yr(a,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Jl(a,n){const l=a.length-1;let d,f,b=0,C=l,F=0;for(;b<=C;)if(F=Math.floor((b+C)/2),d=a[F],f=a[F+1],d<=n){if(F===l||n<f)return F;b=F+1}else{if(!(d>n))throw new oo("Input is not a number.");C=F-1}return 0}class lo{constructor(n,l,d){this.type=n,this.input=l,this.labels=[],this.outputs=[];for(const[f,b]of d)this.labels.push(f),this.outputs.push(b)}static parse(n,l){if(n.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return l.error("Expected an even number of arguments.");const d=l.parse(n[1],1,en);if(!d)return null;const f=[];let b=null;l.expectedType&&l.expectedType.kind!=="value"&&(b=l.expectedType);for(let C=1;C<n.length;C+=2){const F=C===1?-1/0:n[C],te=n[C+1],re=C,me=C+1;if(typeof F!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',re);if(f.length&&f[f.length-1][0]>=F)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',re);const Se=l.parse(te,me,b);if(!Se)return null;b=b||Se.type,f.push([F,Se])}return new lo(b,d,f)}evaluate(n){const l=this.labels,d=this.outputs;if(l.length===1)return d[0].evaluate(n);const f=this.input.evaluate(n);if(f<=l[0])return d[0].evaluate(n);const b=l.length;return f>=l[b-1]?d[b-1].evaluate(n):d[Jl(l,f)].evaluate(n)}eachChild(n){n(this.input);for(const l of this.outputs)n(l)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let l=0;l<this.labels.length;l++)l>0&&n.push(this.labels[l]),n.push(this.outputs[l].serialize());return n}}var oa=lo;function Kn(a,n,l){return a*(1-l)+n*l}var xo=Object.freeze({__proto__:null,number:Kn,color:function(a,n,l){return new Ps(Kn(a.r,n.r,l),Kn(a.g,n.g,l),Kn(a.b,n.b,l),Kn(a.a,n.a,l))},array:function(a,n,l){return a.map((d,f)=>Kn(d,n[f],l))}});const aa=.95047,jo=1.08883,ba=4/29,Ql=6/29,cl=3*Ql*Ql,Iu=Math.PI/180,jr=180/Math.PI;function wa(a){return a>.008856451679035631?Math.pow(a,1/3):a/cl+ba}function iu(a){return a>Ql?a*a*a:cl*(a-ba)}function ec(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function Uo(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function tc(a){const n=Uo(a.r),l=Uo(a.g),d=Uo(a.b),f=wa((.4124564*n+.3575761*l+.1804375*d)/aa),b=wa((.2126729*n+.7151522*l+.072175*d)/1);return{l:116*b-16,a:500*(f-b),b:200*(b-wa((.0193339*n+.119192*l+.9503041*d)/jo)),alpha:a.a}}function Sc(a){let n=(a.l+16)/116,l=isNaN(a.a)?n:n+a.a/500,d=isNaN(a.b)?n:n-a.b/200;return n=1*iu(n),l=aa*iu(l),d=jo*iu(d),new Ps(ec(3.2404542*l-1.5371385*n-.4985314*d),ec(-.969266*l+1.8760108*n+.041556*d),ec(.0556434*l-.2040259*n+1.0572252*d),a.alpha)}function ud(a,n,l){const d=n-a;return a+l*(d>180||d<-180?d-360*Math.round(d/360):d)}const ic={forward:tc,reverse:Sc,interpolate:function(a,n,l){return{l:Kn(a.l,n.l,l),a:Kn(a.a,n.a,l),b:Kn(a.b,n.b,l),alpha:Kn(a.alpha,n.alpha,l)}}},nc={forward:function(a){const{l:n,a:l,b:d}=tc(a),f=Math.atan2(d,l)*jr;return{h:f<0?f+360:f,c:Math.sqrt(l*l+d*d),l:n,alpha:a.a}},reverse:function(a){const n=a.h*Iu,l=a.c;return Sc({l:a.l,a:Math.cos(n)*l,b:Math.sin(n)*l,alpha:a.alpha})},interpolate:function(a,n,l){return{h:ud(a.h,n.h,l),c:Kn(a.c,n.c,l),l:Kn(a.l,n.l,l),alpha:Kn(a.alpha,n.alpha,l)}}};var Nd=Object.freeze({__proto__:null,lab:ic,hcl:nc});class rc{constructor(n,l,d,f,b){this.type=n,this.operator=l,this.interpolation=d,this.input=f,this.labels=[],this.outputs=[];for(const[C,F]of b)this.labels.push(C),this.outputs.push(F)}static interpolationFactor(n,l,d,f){let b=0;if(n.name==="exponential")b=dd(l,n.base,d,f);else if(n.name==="linear")b=dd(l,1,d,f);else if(n.name==="cubic-bezier"){const C=n.controlPoints;b=new A(C[0],C[1],C[2],C[3]).solve(dd(l,1,d,f))}return b}static parse(n,l){let[d,f,b,...C]=n;if(!Array.isArray(f)||f.length===0)return l.error("Expected an interpolation type expression.",1);if(f[0]==="linear")f={name:"linear"};else if(f[0]==="exponential"){const re=f[1];if(typeof re!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);f={name:"exponential",base:re}}else{if(f[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(f[0])}`,1,0);{const re=f.slice(1);if(re.length!==4||re.some(me=>typeof me!="number"||me<0||me>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);f={name:"cubic-bezier",controlPoints:re}}}if(n.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(b=l.parse(b,2,en),!b)return null;const F=[];let te=null;d==="interpolate-hcl"||d==="interpolate-lab"?te=ra:l.expectedType&&l.expectedType.kind!=="value"&&(te=l.expectedType);for(let re=0;re<C.length;re+=2){const me=C[re],Se=C[re+1],Me=re+3,Oe=re+4;if(typeof me!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Me);if(F.length&&F[F.length-1][0]>=me)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Me);const Ne=l.parse(Se,Oe,te);if(!Ne)return null;te=te||Ne.type,F.push([me,Ne])}return te.kind==="number"||te.kind==="color"||te.kind==="array"&&te.itemType.kind==="number"&&typeof te.N=="number"?new rc(te,d,f,b,F):l.error(`Type ${Hr(te)} is not interpolatable.`)}evaluate(n){const l=this.labels,d=this.outputs;if(l.length===1)return d[0].evaluate(n);const f=this.input.evaluate(n);if(f<=l[0])return d[0].evaluate(n);const b=l.length;if(f>=l[b-1])return d[b-1].evaluate(n);const C=Jl(l,f),F=rc.interpolationFactor(this.interpolation,f,l[C],l[C+1]),te=d[C].evaluate(n),re=d[C+1].evaluate(n);return this.operator==="interpolate"?xo[this.type.kind.toLowerCase()](te,re,F):this.operator==="interpolate-hcl"?nc.reverse(nc.interpolate(nc.forward(te),nc.forward(re),F)):ic.reverse(ic.interpolate(ic.forward(te),ic.forward(re),F))}eachChild(n){n(this.input);for(const l of this.outputs)n(l)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const l=[this.operator,n,this.input.serialize()];for(let d=0;d<this.labels.length;d++)l.push(this.labels[d],this.outputs[d].serialize());return l}}function dd(a,n,l,d){const f=d-l,b=a-l;return f===0?0:n===1?b/f:(Math.pow(n,b)-1)/(Math.pow(n,f)-1)}var Pa=rc;class Da{constructor(n,l){this.type=n,this.args=l}static parse(n,l){if(n.length<2)return l.error("Expectected at least one argument.");let d=null;const f=l.expectedType;f&&f.kind!=="value"&&(d=f);const b=[];for(const F of n.slice(1)){const te=l.parse(F,1+b.length,d,void 0,{typeAnnotation:"omit"});if(!te)return null;d=d||te.type,b.push(te)}const C=f&&b.some(F=>Yo(f,F.type));return new Da(C?jn:d,b)}evaluate(n){let l,d=null,f=0;for(const b of this.args){if(f++,d=b.evaluate(n),d&&d instanceof va&&!d.available&&(l||(l=d),d=null,f===this.args.length))return l;if(d!==null)break}return d}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(l=>{n.push(l.serialize())}),n}}var sc=Da;class Lu{constructor(n,l){this.type=l.type,this.bindings=[].concat(n),this.result=l}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const l of this.bindings)n(l[1]);n(this.result)}static parse(n,l){if(n.length<4)return l.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const d=[];for(let b=1;b<n.length-1;b+=2){const C=n[b];if(typeof C!="string")return l.error(`Expected string, but found ${typeof C} instead.`,b);if(/[^a-zA-Z0-9_]/.test(C))return l.error("Variable names must contain only alphanumeric characters or '_'.",b);const F=l.parse(n[b+1],b+1);if(!F)return null;d.push([C,F])}const f=l.parse(n[n.length-1],n.length-1,l.expectedType,d);return f?new Lu(d,f):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[l,d]of this.bindings)n.push(l,d.serialize());return n.push(this.result.serialize()),n}}var Cc=Lu;class la{constructor(n,l,d){this.type=n,this.index=l,this.input=d}static parse(n,l){if(n.length!==3)return l.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=l.parse(n[1],1,en),f=l.parse(n[2],2,ro(l.expectedType||jn));return d&&f?new la(f.type.itemType,d,f):null}evaluate(n){const l=this.index.evaluate(n),d=this.input.evaluate(n);if(l<0)throw new oo(`Array index out of bounds: ${l} < 0.`);if(l>=d.length)throw new oo(`Array index out of bounds: ${l} > ${d.length-1}.`);if(l!==Math.floor(l))throw new oo(`Array index must be an integer, but found ${l} instead.`);return d[l]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var bo=la;class Cl{constructor(n,l){this.type=ur,this.needle=n,this.haystack=l}static parse(n,l){if(n.length!==3)return l.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=l.parse(n[1],1,jn),f=l.parse(n[2],2,jn);return d&&f?Yl(d.type,[ur,ir,en,fo,jn])?new Cl(d,f):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Hr(d.type)} instead`):null}evaluate(n){const l=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(d==null)return!1;if(!_a(l,["boolean","string","number","null"]))throw new oo(`Expected first argument to be of type boolean, string, number or null, but found ${Hr(Js(l))} instead.`);if(!_a(d,["string","array"]))throw new oo(`Expected second argument to be of type array or string, but found ${Hr(Js(d))} instead.`);return d.indexOf(l)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var oc=Cl;class Ec{constructor(n,l,d){this.type=en,this.needle=n,this.haystack=l,this.fromIndex=d}static parse(n,l){if(n.length<=2||n.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=l.parse(n[1],1,jn),f=l.parse(n[2],2,jn);if(!d||!f)return null;if(!Yl(d.type,[ur,ir,en,fo,jn]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Hr(d.type)} instead`);if(n.length===4){const b=l.parse(n[3],3,en);return b?new Ec(d,f,b):null}return new Ec(d,f)}evaluate(n){const l=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(!_a(l,["boolean","string","number","null"]))throw new oo(`Expected first argument to be of type boolean, string, number or null, but found ${Hr(Js(l))} instead.`);if(!_a(d,["string","array"]))throw new oo(`Expected second argument to be of type array or string, but found ${Hr(Js(d))} instead.`);if(this.fromIndex){const f=this.fromIndex.evaluate(n);return d.indexOf(l,f)}return d.indexOf(l)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var wh=Ec;class wr{constructor(n,l,d,f,b,C){this.inputType=n,this.type=l,this.input=d,this.cases=f,this.outputs=b,this.otherwise=C}static parse(n,l){if(n.length<5)return l.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return l.error("Expected an even number of arguments.");let d,f;l.expectedType&&l.expectedType.kind!=="value"&&(f=l.expectedType);const b={},C=[];for(let re=2;re<n.length-1;re+=2){let me=n[re];const Se=n[re+1];Array.isArray(me)||(me=[me]);const Me=l.concat(re);if(me.length===0)return Me.error("Expected at least one branch label.");for(const Ne of me){if(typeof Ne!="number"&&typeof Ne!="string")return Me.error("Branch labels must be numbers or strings.");if(typeof Ne=="number"&&Math.abs(Ne)>Number.MAX_SAFE_INTEGER)return Me.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Ne=="number"&&Math.floor(Ne)!==Ne)return Me.error("Numeric branch labels must be integer values.");if(d){if(Me.checkSubtype(d,Js(Ne)))return null}else d=Js(Ne);if(b[String(Ne)]!==void 0)return Me.error("Branch labels must be unique.");b[String(Ne)]=C.length}const Oe=l.parse(Se,re,f);if(!Oe)return null;f=f||Oe.type,C.push(Oe)}const F=l.parse(n[1],1,jn);if(!F)return null;const te=l.parse(n[n.length-1],n.length-1,f);return te?F.type.kind!=="value"&&l.concat(1).checkSubtype(d,F.type)?null:new wr(d,f,F,b,C,te):null}evaluate(n){const l=this.input.evaluate(n);return(Js(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],l=Object.keys(this.cases).sort(),d=[],f={};for(const C of l){const F=f[this.cases[C]];F===void 0?(f[this.cases[C]]=d.length,d.push([this.cases[C],[C]])):d[F][1].push(C)}const b=C=>this.inputType.kind==="number"?Number(C):C;for(const[C,F]of d)n.push(F.length===1?b(F[0]):F.map(b)),n.push(this.outputs[C].serialize());return n.push(this.otherwise.serialize()),n}}var qo=wr;class wo{constructor(n,l,d){this.type=n,this.branches=l,this.otherwise=d}static parse(n,l){if(n.length<4)return l.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return l.error("Expected an odd number of arguments.");let d;l.expectedType&&l.expectedType.kind!=="value"&&(d=l.expectedType);const f=[];for(let C=1;C<n.length-1;C+=2){const F=l.parse(n[C],C,ur);if(!F)return null;const te=l.parse(n[C+1],C+1,d);if(!te)return null;f.push([F,te]),d=d||te.type}const b=l.parse(n[n.length-1],n.length-1,d);return b?new wo(d,f,b):null}evaluate(n){for(const[l,d]of this.branches)if(l.evaluate(n))return d.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[l,d]of this.branches)n(l),n(d);n(this.otherwise)}outputDefined(){return this.branches.every(([n,l])=>l.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(l=>{n.push(l.serialize())}),n}}var ca=wo;class El{constructor(n,l,d,f){this.type=n,this.input=l,this.beginIndex=d,this.endIndex=f}static parse(n,l){if(n.length<=2||n.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=l.parse(n[1],1,jn),f=l.parse(n[2],2,en);if(!d||!f)return null;if(!Yl(d.type,[ro(jn),ir,jn]))return l.error(`Expected first argument to be of type array or string, but found ${Hr(d.type)} instead`);if(n.length===4){const b=l.parse(n[3],3,en);return b?new El(d.type,d,f,b):null}return new El(d.type,d,f)}evaluate(n){const l=this.input.evaluate(n),d=this.beginIndex.evaluate(n);if(!_a(l,["string","array"]))throw new oo(`Expected first argument to be of type array or string, but found ${Hr(Js(l))} instead.`);if(this.endIndex){const f=this.endIndex.evaluate(n);return l.slice(d,f)}return l.slice(d)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var zd=El;function Fd(a,n){return a==="=="||a==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function jd(a,n,l,d){return d.compare(n,l)===0}function Xo(a,n,l){const d=a!=="=="&&a!=="!=";return class U4{constructor(b,C,F){this.type=ur,this.lhs=b,this.rhs=C,this.collator=F,this.hasUntypedArgument=b.type.kind==="value"||C.type.kind==="value"}static parse(b,C){if(b.length!==3&&b.length!==4)return C.error("Expected two or three arguments.");const F=b[0];let te=C.parse(b[1],1,jn);if(!te)return null;if(!Fd(F,te.type))return C.concat(1).error(`"${F}" comparisons are not supported for type '${Hr(te.type)}'.`);let re=C.parse(b[2],2,jn);if(!re)return null;if(!Fd(F,re.type))return C.concat(2).error(`"${F}" comparisons are not supported for type '${Hr(re.type)}'.`);if(te.type.kind!==re.type.kind&&te.type.kind!=="value"&&re.type.kind!=="value")return C.error(`Cannot compare types '${Hr(te.type)}' and '${Hr(re.type)}'.`);d&&(te.type.kind==="value"&&re.type.kind!=="value"?te=new Lr(re.type,[te]):te.type.kind!=="value"&&re.type.kind==="value"&&(re=new Lr(te.type,[re])));let me=null;if(b.length===4){if(te.type.kind!=="string"&&re.type.kind!=="string"&&te.type.kind!=="value"&&re.type.kind!=="value")return C.error("Cannot use collator to compare non-string types.");if(me=C.parse(b[3],3,Tc),!me)return null}return new U4(te,re,me)}evaluate(b){const C=this.lhs.evaluate(b),F=this.rhs.evaluate(b);if(d&&this.hasUntypedArgument){const te=Js(C),re=Js(F);if(te.kind!==re.kind||te.kind!=="string"&&te.kind!=="number")throw new oo(`Expected arguments for "${a}" to be (string, string) or (number, number), but found (${te.kind}, ${re.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const te=Js(C),re=Js(F);if(te.kind!=="string"||re.kind!=="string")return n(b,C,F)}return this.collator?l(b,C,F,this.collator.evaluate(b)):n(b,C,F)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}serialize(){const b=[a];return this.eachChild(C=>{b.push(C.serialize())}),b}}}const Ht=Xo("==",function(a,n,l){return n===l},jd),wi=Xo("!=",function(a,n,l){return n!==l},function(a,n,l,d){return!jd(0,n,l,d)}),gi=Xo("<",function(a,n,l){return n<l},function(a,n,l,d){return d.compare(n,l)<0}),mn=Xo(">",function(a,n,l){return n>l},function(a,n,l,d){return d.compare(n,l)>0}),Jn=Xo("<=",function(a,n,l){return n<=l},function(a,n,l,d){return d.compare(n,l)<=0}),Br=Xo(">=",function(a,n,l){return n>=l},function(a,n,l,d){return d.compare(n,l)>=0});class $s{constructor(n,l,d,f,b,C){this.type=ir,this.number=n,this.locale=l,this.currency=d,this.unit=f,this.minFractionDigits=b,this.maxFractionDigits=C}static parse(n,l){if(n.length!==3)return l.error("Expected two arguments.");const d=l.parse(n[1],1,en);if(!d)return null;const f=n[2];if(typeof f!="object"||Array.isArray(f))return l.error("NumberFormat options argument must be an object.");let b=null;if(f.locale&&(b=l.parse(f.locale,1,ir),!b))return null;let C=null;if(f.currency&&(C=l.parse(f.currency,1,ir),!C))return null;let F=null;if(f.unit&&(F=l.parse(f.unit,1,ir),!F))return null;let te=null;if(f["min-fraction-digits"]&&(te=l.parse(f["min-fraction-digits"],1,en),!te))return null;let re=null;return f["max-fraction-digits"]&&(re=l.parse(f["max-fraction-digits"],1,en),!re)?null:new $s(d,b,C,F,te,re)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class Ur{constructor(n){this.type=en,this.input=n}static parse(n,l){if(n.length!==2)return l.error(`Expected 1 argument, but found ${n.length-1} instead.`);const d=l.parse(n[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${Hr(d.type)} instead.`):new Ur(d):null}evaluate(n){const l=this.input.evaluate(n);if(typeof l=="string"||Array.isArray(l))return l.length;throw new oo(`Expected value to be of type string or array, but found ${Hr(Js(l))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(l=>{n.push(l.serialize())}),n}}const Mc={"==":Ht,"!=":wi,">":mn,"<":gi,">=":Br,"<=":Jn,array:Lr,at:bo,boolean:Lr,case:ca,coalesce:sc,collator:Qs,format:Fr,image:Pu,in:oc,"index-of":wh,interpolate:Pa,"interpolate-hcl":Pa,"interpolate-lab":Pa,length:Ur,let:Cc,literal:Zl,match:qo,number:Lr,"number-format":$s,object:Lr,slice:zd,step:oa,string:Lr,"to-boolean":xa,"to-color":xa,"to-number":xa,"to-string":xa,var:ao,within:fs};function Ou(a,[n,l,d,f]){n=n.evaluate(a),l=l.evaluate(a),d=d.evaluate(a);const b=f?f.evaluate(a):1,C=Rd(n,l,d,b);if(C)throw new oo(C);return new Ps(n/255*b,l/255*b,d/255*b,b)}function Zo(a,n){return a in n}function st(a,n){const l=n[a];return l===void 0?null:l}function Pt(a){return{type:a}}sa.register(Mc,{error:[{kind:"error"},[ir],(a,[n])=>{throw new oo(n.evaluate(a))}],typeof:[ir,[jn],(a,[n])=>Hr(Js(n.evaluate(a)))],"to-rgba":[ro(en,4),[ra],(a,[n])=>n.evaluate(a).toArray()],rgb:[ra,[en,en,en],Ou],rgba:[ra,[en,en,en,en],Ou],has:{type:ur,overloads:[[[ir],(a,[n])=>Zo(n.evaluate(a),a.properties())],[[ir,Ya],(a,[n,l])=>Zo(n.evaluate(a),l.evaluate(a))]]},get:{type:jn,overloads:[[[ir],(a,[n])=>st(n.evaluate(a),a.properties())],[[ir,Ya],(a,[n,l])=>st(n.evaluate(a),l.evaluate(a))]]},"feature-state":[jn,[ir],(a,[n])=>st(n.evaluate(a),a.featureState||{})],properties:[Ya,[],a=>a.properties()],"geometry-type":[ir,[],a=>a.geometryType()],id:[jn,[],a=>a.id()],zoom:[en,[],a=>a.globals.zoom],pitch:[en,[],a=>a.globals.pitch||0],"distance-from-center":[en,[],a=>a.distanceFromCenter()],"heatmap-density":[en,[],a=>a.globals.heatmapDensity||0],"line-progress":[en,[],a=>a.globals.lineProgress||0],"sky-radial-progress":[en,[],a=>a.globals.skyRadialProgress||0],accumulated:[jn,[],a=>a.globals.accumulated===void 0?null:a.globals.accumulated],"+":[en,Pt(en),(a,n)=>{let l=0;for(const d of n)l+=d.evaluate(a);return l}],"*":[en,Pt(en),(a,n)=>{let l=1;for(const d of n)l*=d.evaluate(a);return l}],"-":{type:en,overloads:[[[en,en],(a,[n,l])=>n.evaluate(a)-l.evaluate(a)],[[en],(a,[n])=>-n.evaluate(a)]]},"/":[en,[en,en],(a,[n,l])=>n.evaluate(a)/l.evaluate(a)],"%":[en,[en,en],(a,[n,l])=>n.evaluate(a)%l.evaluate(a)],ln2:[en,[],()=>Math.LN2],pi:[en,[],()=>Math.PI],e:[en,[],()=>Math.E],"^":[en,[en,en],(a,[n,l])=>Math.pow(n.evaluate(a),l.evaluate(a))],sqrt:[en,[en],(a,[n])=>Math.sqrt(n.evaluate(a))],log10:[en,[en],(a,[n])=>Math.log(n.evaluate(a))/Math.LN10],ln:[en,[en],(a,[n])=>Math.log(n.evaluate(a))],log2:[en,[en],(a,[n])=>Math.log(n.evaluate(a))/Math.LN2],sin:[en,[en],(a,[n])=>Math.sin(n.evaluate(a))],cos:[en,[en],(a,[n])=>Math.cos(n.evaluate(a))],tan:[en,[en],(a,[n])=>Math.tan(n.evaluate(a))],asin:[en,[en],(a,[n])=>Math.asin(n.evaluate(a))],acos:[en,[en],(a,[n])=>Math.acos(n.evaluate(a))],atan:[en,[en],(a,[n])=>Math.atan(n.evaluate(a))],min:[en,Pt(en),(a,n)=>Math.min(...n.map(l=>l.evaluate(a)))],max:[en,Pt(en),(a,n)=>Math.max(...n.map(l=>l.evaluate(a)))],abs:[en,[en],(a,[n])=>Math.abs(n.evaluate(a))],round:[en,[en],(a,[n])=>{const l=n.evaluate(a);return l<0?-Math.round(-l):Math.round(l)}],floor:[en,[en],(a,[n])=>Math.floor(n.evaluate(a))],ceil:[en,[en],(a,[n])=>Math.ceil(n.evaluate(a))],"filter-==":[ur,[ir,jn],(a,[n,l])=>a.properties()[n.value]===l.value],"filter-id-==":[ur,[jn],(a,[n])=>a.id()===n.value],"filter-type-==":[ur,[ir],(a,[n])=>a.geometryType()===n.value],"filter-<":[ur,[ir,jn],(a,[n,l])=>{const d=a.properties()[n.value],f=l.value;return typeof d==typeof f&&d<f}],"filter-id-<":[ur,[jn],(a,[n])=>{const l=a.id(),d=n.value;return typeof l==typeof d&&l<d}],"filter->":[ur,[ir,jn],(a,[n,l])=>{const d=a.properties()[n.value],f=l.value;return typeof d==typeof f&&d>f}],"filter-id->":[ur,[jn],(a,[n])=>{const l=a.id(),d=n.value;return typeof l==typeof d&&l>d}],"filter-<=":[ur,[ir,jn],(a,[n,l])=>{const d=a.properties()[n.value],f=l.value;return typeof d==typeof f&&d<=f}],"filter-id-<=":[ur,[jn],(a,[n])=>{const l=a.id(),d=n.value;return typeof l==typeof d&&l<=d}],"filter->=":[ur,[ir,jn],(a,[n,l])=>{const d=a.properties()[n.value],f=l.value;return typeof d==typeof f&&d>=f}],"filter-id->=":[ur,[jn],(a,[n])=>{const l=a.id(),d=n.value;return typeof l==typeof d&&l>=d}],"filter-has":[ur,[jn],(a,[n])=>n.value in a.properties()],"filter-has-id":[ur,[],a=>a.id()!==null&&a.id()!==void 0],"filter-type-in":[ur,[ro(ir)],(a,[n])=>n.value.indexOf(a.geometryType())>=0],"filter-id-in":[ur,[ro(jn)],(a,[n])=>n.value.indexOf(a.id())>=0],"filter-in-small":[ur,[ir,ro(jn)],(a,[n,l])=>l.value.indexOf(a.properties()[n.value])>=0],"filter-in-large":[ur,[ir,ro(jn)],(a,[n,l])=>function(d,f,b,C){for(;b<=C;){const F=b+C>>1;if(f[F]===d)return!0;f[F]>d?C=F-1:b=F+1}return!1}(a.properties()[n.value],l.value,0,l.value.length-1)],all:{type:ur,overloads:[[[ur,ur],(a,[n,l])=>n.evaluate(a)&&l.evaluate(a)],[Pt(ur),(a,n)=>{for(const l of n)if(!l.evaluate(a))return!1;return!0}]]},any:{type:ur,overloads:[[[ur,ur],(a,[n,l])=>n.evaluate(a)||l.evaluate(a)],[Pt(ur),(a,n)=>{for(const l of n)if(l.evaluate(a))return!0;return!1}]]},"!":[ur,[ur],(a,[n])=>!n.evaluate(a)],"is-supported-script":[ur,[ir],(a,[n])=>{const l=a.globals&&a.globals.isSupportedScript;return!l||l(n.evaluate(a))}],upcase:[ir,[ir],(a,[n])=>n.evaluate(a).toUpperCase()],downcase:[ir,[ir],(a,[n])=>n.evaluate(a).toLowerCase()],concat:[ir,Pt(jn),(a,n)=>n.map(l=>Xl(l.evaluate(a))).join("")],"resolved-locale":[ir,[Tc],(a,[n])=>n.evaluate(a).resolvedLocale()]});var $t=Mc;function Ti(a){return{result:"success",value:a}}function Wt(a){return{result:"error",value:a}}function ci(a){return a["property-type"]==="data-driven"}function Li(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function an(a){return!!a.expression&&a.expression.interpolated}function Ni(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":a===null?"null":typeof a}function Nn(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}function Un(a){return a}function Vn(a,n){const l=n.type==="color",d=a.stops&&typeof a.stops[0][0]=="object",f=d||!(d||a.property!==void 0),b=a.type||(an(n)?"exponential":"interval");if(l&&((a=ps({},a)).stops&&(a.stops=a.stops.map(re=>[re[0],Ps.parse(re[1])])),a.default=Ps.parse(a.default?a.default:n.default)),a.colorSpace&&a.colorSpace!=="rgb"&&!Nd[a.colorSpace])throw new Error(`Unknown color space: ${a.colorSpace}`);let C,F,te;if(b==="exponential")C=we;else if(b==="interval")C=On;else if(b==="categorical"){C=Mr,F=Object.create(null);for(const re of a.stops)F[re[0]]=re[1];te=typeof a.stops[0][0]}else{if(b!=="identity")throw new Error(`Unknown function type "${b}"`);C=Ee}if(d){const re={},me=[];for(let Oe=0;Oe<a.stops.length;Oe++){const Ne=a.stops[Oe],He=Ne[0].zoom;re[He]===void 0&&(re[He]={zoom:He,type:a.type,property:a.property,default:a.default,stops:[]},me.push(He)),re[He].stops.push([Ne[0].value,Ne[1]])}const Se=[];for(const Oe of me)Se.push([re[Oe].zoom,Vn(re[Oe],n)]);const Me={name:"linear"};return{kind:"composite",interpolationType:Me,interpolationFactor:Pa.interpolationFactor.bind(void 0,Me),zoomStops:Se.map(Oe=>Oe[0]),evaluate:({zoom:Oe},Ne)=>we({stops:Se,base:a.base},n,Oe).evaluate(Oe,Ne)}}if(f){const re=b==="exponential"?{name:"exponential",base:a.base!==void 0?a.base:1}:null;return{kind:"camera",interpolationType:re,interpolationFactor:Pa.interpolationFactor.bind(void 0,re),zoomStops:a.stops.map(me=>me[0]),evaluate:({zoom:me})=>C(a,n,me,F,te)}}return{kind:"source",evaluate(re,me){const Se=me&&me.properties?me.properties[a.property]:void 0;return Se===void 0?nr(a.default,n.default):C(a,n,Se,F,te)}}}function nr(a,n,l){return a!==void 0?a:n!==void 0?n:l!==void 0?l:void 0}function Mr(a,n,l,d,f){return nr(typeof l===f?d[l]:void 0,a.default,n.default)}function On(a,n,l){if(Ni(l)!=="number")return nr(a.default,n.default);const d=a.stops.length;if(d===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[d-1][0])return a.stops[d-1][1];const f=Jl(a.stops.map(b=>b[0]),l);return a.stops[f][1]}function we(a,n,l){const d=a.base!==void 0?a.base:1;if(Ni(l)!=="number")return nr(a.default,n.default);const f=a.stops.length;if(f===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[f-1][0])return a.stops[f-1][1];const b=Jl(a.stops.map(me=>me[0]),l),C=function(me,Se,Me,Oe){const Ne=Oe-Me,He=me-Me;return Ne===0?0:Se===1?He/Ne:(Math.pow(Se,He)-1)/(Math.pow(Se,Ne)-1)}(l,d,a.stops[b][0],a.stops[b+1][0]),F=a.stops[b][1],te=a.stops[b+1][1];let re=xo[n.type]||Un;if(a.colorSpace&&a.colorSpace!=="rgb"){const me=Nd[a.colorSpace];re=(Se,Me)=>me.reverse(me.interpolate(me.forward(Se),me.forward(Me),C))}return typeof F.evaluate=="function"?{evaluate(...me){const Se=F.evaluate.apply(void 0,me),Me=te.evaluate.apply(void 0,me);if(Se!==void 0&&Me!==void 0)return re(Se,Me,C)}}:re(F,te,C)}function Ee(a,n,l){return n.type==="color"?l=Ps.parse(l):n.type==="formatted"?l=so.fromString(l.toString()):n.type==="resolvedImage"?l=va.fromString(l.toString()):Ni(l)===n.type||n.type==="enum"&&n.values[l]||(l=void 0),nr(l,a.default,n.default)}class Ve{constructor(n,l){this.expression=n,this._warningHistory={},this._evaluator=new Du,this._defaultValue=l?function(d){return d.type==="color"&&(Nn(d.default)||Array.isArray(d.default))?new Ps(0,0,0,0):d.type==="color"?Ps.parse(d.default)||null:d.default===void 0?null:d.default}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(n,l,d,f,b,C,F,te){return this._evaluator.globals=n,this._evaluator.feature=l,this._evaluator.featureState=d,this._evaluator.canonical=f||null,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C,this._evaluator.featureTileCoord=F||null,this._evaluator.featureDistanceData=te||null,this.expression.evaluate(this._evaluator)}evaluate(n,l,d,f,b,C,F,te){this._evaluator.globals=n,this._evaluator.feature=l||null,this._evaluator.featureState=d||null,this._evaluator.canonical=f||null,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=C||null,this._evaluator.featureTileCoord=F||null,this._evaluator.featureDistanceData=te||null;try{const re=this.expression.evaluate(this._evaluator);if(re==null||typeof re=="number"&&re!=re)return this._defaultValue;if(this._enumValues&&!(re in this._enumValues))throw new oo(`Expected value to be one of ${Object.keys(this._enumValues).map(me=>JSON.stringify(me)).join(", ")}, but found ${JSON.stringify(re)} instead.`);return re}catch(re){return this._warningHistory[re.message]||(this._warningHistory[re.message]=!0,typeof console<"u"&&console.warn(re.message)),this._defaultValue}}}function bt(a){return Array.isArray(a)&&a.length>0&&typeof a[0]=="string"&&a[0]in $t}function Mi(a,n){const l=new es($t,[],n?function(f){const b={color:ra,string:ir,number:en,enum:ir,boolean:ur,formatted:Aa,resolvedImage:ol};return f.type==="array"?ro(b[f.value]||jn,f.length):b[f.type]}(n):void 0),d=l.parse(a,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?Ti(new Ve(d,n)):Wt(l.errors)}class Tn{constructor(n,l){this.kind=n,this._styleExpression=l,this.isStateDependent=n!=="constant"&&!gr(l.expression)}evaluateWithoutErrorHandling(n,l,d,f,b,C){return this._styleExpression.evaluateWithoutErrorHandling(n,l,d,f,b,C)}evaluate(n,l,d,f,b,C){return this._styleExpression.evaluate(n,l,d,f,b,C)}}class Tr{constructor(n,l,d,f){this.kind=n,this.zoomStops=d,this._styleExpression=l,this.isStateDependent=n!=="camera"&&!gr(l.expression),this.interpolationType=f}evaluateWithoutErrorHandling(n,l,d,f,b,C){return this._styleExpression.evaluateWithoutErrorHandling(n,l,d,f,b,C)}evaluate(n,l,d,f,b,C){return this._styleExpression.evaluate(n,l,d,f,b,C)}interpolationFactor(n,l,d){return this.interpolationType?Pa.interpolationFactor(this.interpolationType,n,l,d):0}}function co(a,n){if((a=Mi(a,n)).result==="error")return a;const l=a.value.expression,d=Qr(l);if(!d&&!ci(n))return Wt([new Io("","data expressions not supported")]);const f=yr(l,["zoom","pitch","distance-from-center"]);if(!f&&!Li(n))return Wt([new Io("","zoom expressions not supported")]);const b=Ml(l);return b||f?b instanceof Io?Wt([b]):b instanceof Pa&&!an(n)?Wt([new Io("",'"interpolate" expressions cannot be used with this property')]):Ti(b?new Tr(d?"camera":"composite",a.value,b.labels,b instanceof Pa?b.interpolation:void 0):new Tn(d?"constant":"source",a.value)):Wt([new Io("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Vs{constructor(n,l){this._parameters=n,this._specification=l,ps(this,Vn(this._parameters,this._specification))}static deserialize(n){return new Vs(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function Ml(a){let n=null;if(a instanceof Cc)n=Ml(a.result);else if(a instanceof sc){for(const l of a.args)if(n=Ml(l),n)break}else(a instanceof oa||a instanceof Pa)&&a.input instanceof sa&&a.input.name==="zoom"&&(n=a);return n instanceof Io||a.eachChild(l=>{const d=Ml(l);d instanceof Io?n=d:!n&&d?n=new Io("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&d&&n!==d&&(n=new Io("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}class ln{constructor(n,l,d,f){this.message=(n?`${n}: `:"")+d,f&&(this.identifier=f),l!=null&&l.__line__&&(this.line=l.__line__)}}function kl(a){const n=a.key,l=a.value,d=a.valueSpec||{},f=a.objectElementValidators||{},b=a.style,C=a.styleSpec;let F=[];const te=Ni(l);if(te!=="object")return[new ln(n,l,`object expected, ${te} found`)];for(const re in l){const me=re.split(".")[0],Se=d[me]||d["*"];let Me;f[me]?Me=f[me]:d[me]?Me=Qn:f["*"]?Me=f["*"]:d["*"]&&(Me=Qn),Me?F=F.concat(Me({key:(n&&`${n}.`)+re,value:l[re],valueSpec:Se,style:b,styleSpec:C,object:l,objectKey:re},l)):F.push(new ln(n,l[re],`unknown property "${re}"`))}for(const re in d)f[re]||d[re].required&&d[re].default===void 0&&l[re]===void 0&&F.push(new ln(n,l,`missing required property "${re}"`));return F}function Ru(a){const n=a.value,l=a.valueSpec,d=a.style,f=a.styleSpec,b=a.key,C=a.arrayElementValidator||Qn;if(Ni(n)!=="array")return[new ln(b,n,`array expected, ${Ni(n)} found`)];if(l.length&&n.length!==l.length)return[new ln(b,n,`array length ${l.length} expected, length ${n.length} found`)];if(l["min-length"]&&n.length<l["min-length"])return[new ln(b,n,`array length at least ${l["min-length"]} expected, length ${n.length} found`)];let F={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};f.$version<7&&(F.function=l.function),Ni(l.value)==="object"&&(F=l.value);let te=[];for(let re=0;re<n.length;re++)te=te.concat(C({array:n,arrayIndex:re,value:n[re],valueSpec:F,style:d,styleSpec:f,key:`${b}[${re}]`}));return te}function Th(a){const n=a.key,l=a.value,d=a.valueSpec;let f=Ni(l);if(f==="number"&&l!=l&&(f="NaN"),f!=="number")return[new ln(n,l,`number expected, ${f} found`)];if("minimum"in d){let b=d.minimum;if(Ni(d.minimum)==="array"&&(b=d.minimum[a.arrayIndex]),l<b)return[new ln(n,l,`${l} is less than the minimum value ${b}`)]}if("maximum"in d){let b=d.maximum;if(Ni(d.maximum)==="array"&&(b=d.maximum[a.arrayIndex]),l>b)return[new ln(n,l,`${l} is greater than the maximum value ${b}`)]}return[]}function vp(a){const n=a.valueSpec,l=Rs(a.value.type);let d,f,b,C={};const F=l!=="categorical"&&a.value.property===void 0,te=!F,re=Ni(a.value.stops)==="array"&&Ni(a.value.stops[0])==="array"&&Ni(a.value.stops[0][0])==="object",me=kl({key:a.key,value:a.value,valueSpec:a.styleSpec.function,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(Oe){if(l==="identity")return[new ln(Oe.key,Oe.value,'identity function may not have a "stops" property')];let Ne=[];const He=Oe.value;return Ne=Ne.concat(Ru({key:Oe.key,value:He,valueSpec:Oe.valueSpec,style:Oe.style,styleSpec:Oe.styleSpec,arrayElementValidator:Se})),Ni(He)==="array"&&He.length===0&&Ne.push(new ln(Oe.key,He,"array must have at least one stop")),Ne},default:function(Oe){return Qn({key:Oe.key,value:Oe.value,valueSpec:n,style:Oe.style,styleSpec:Oe.styleSpec})}}});return l==="identity"&&F&&me.push(new ln(a.key,a.value,'missing required property "property"')),l==="identity"||a.value.stops||me.push(new ln(a.key,a.value,'missing required property "stops"')),l==="exponential"&&a.valueSpec.expression&&!an(a.valueSpec)&&me.push(new ln(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(te&&!ci(a.valueSpec)?me.push(new ln(a.key,a.value,"property functions not supported")):F&&!Li(a.valueSpec)&&me.push(new ln(a.key,a.value,"zoom functions not supported"))),l!=="categorical"&&!re||a.value.property!==void 0||me.push(new ln(a.key,a.value,'"property" property is required')),me;function Se(Oe){let Ne=[];const He=Oe.value,tt=Oe.key;if(Ni(He)!=="array")return[new ln(tt,He,`array expected, ${Ni(He)} found`)];if(He.length!==2)return[new ln(tt,He,`array length 2 expected, length ${He.length} found`)];if(re){if(Ni(He[0])!=="object")return[new ln(tt,He,`object expected, ${Ni(He[0])} found`)];if(He[0].zoom===void 0)return[new ln(tt,He,"object stop key must have zoom")];if(He[0].value===void 0)return[new ln(tt,He,"object stop key must have value")];const _t=Rs(He[0].zoom);if(typeof _t!="number")return[new ln(tt,He[0].zoom,"stop zoom values must be numbers")];if(b&&b>_t)return[new ln(tt,He[0].zoom,"stop zoom values must appear in ascending order")];_t!==b&&(b=_t,f=void 0,C={}),Ne=Ne.concat(kl({key:`${tt}[0]`,value:He[0],valueSpec:{zoom:{}},style:Oe.style,styleSpec:Oe.styleSpec,objectElementValidators:{zoom:Th,value:Me}}))}else Ne=Ne.concat(Me({key:`${tt}[0]`,value:He[0],valueSpec:{},style:Oe.style,styleSpec:Oe.styleSpec},He));return bt(Bs(He[1]))?Ne.concat([new ln(`${tt}[1]`,He[1],"expressions are not allowed in function stops.")]):Ne.concat(Qn({key:`${tt}[1]`,value:He[1],valueSpec:n,style:Oe.style,styleSpec:Oe.styleSpec}))}function Me(Oe,Ne){const He=Ni(Oe.value),tt=Rs(Oe.value),_t=Oe.value!==null?Oe.value:Ne;if(d){if(He!==d)return[new ln(Oe.key,_t,`${He} stop domain type must match previous stop domain type ${d}`)]}else d=He;if(He!=="number"&&He!=="string"&&He!=="boolean"&&typeof tt!="number"&&typeof tt!="string"&&typeof tt!="boolean")return[new ln(Oe.key,_t,"stop domain value must be a number, string, or boolean")];if(He!=="number"&&l!=="categorical"){let Dt=`number expected, ${He} found`;return ci(n)&&l===void 0&&(Dt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ln(Oe.key,_t,Dt)]}return l!=="categorical"||He!=="number"||typeof tt=="number"&&isFinite(tt)&&Math.floor(tt)===tt?l!=="categorical"&&He==="number"&&typeof tt=="number"&&typeof f=="number"&&f!==void 0&&tt<f?[new ln(Oe.key,_t,"stop domain values must appear in ascending order")]:(f=tt,l==="categorical"&&tt in C?[new ln(Oe.key,_t,"stop domain values must be unique")]:(C[tt]=!0,[])):[new ln(Oe.key,_t,`integer expected, found ${String(tt)}`)]}}function Ud(a){const n=(a.expressionContext==="property"?co:Mi)(Bs(a.value),a.valueSpec);if(n.result==="error")return n.value.map(d=>new ln(`${a.key}${d.key}`,a.value,d.message));const l=n.value.expression||n.value._styleExpression.expression;if(a.expressionContext==="property"&&a.propertyKey==="text-font"&&!l.outputDefined())return[new ln(a.key,a.value,`Invalid data expression for "${a.propertyKey}". Output values must be contained as literals within the expression.`)];if(a.expressionContext==="property"&&a.propertyType==="layout"&&!gr(l))return[new ln(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if(a.expressionContext==="filter")return Rf(l,a);if(a.expressionContext&&a.expressionContext.indexOf("cluster")===0){if(!yr(l,["zoom","feature-state"]))return[new ln(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(a.expressionContext==="cluster-initial"&&!Qr(l))return[new ln(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Rf(a,n){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(n.valueSpec&&n.valueSpec.expression)for(const f of n.valueSpec.expression.parameters)l.delete(f);if(l.size===0)return[];const d=[];return a instanceof sa&&l.has(a.name)?[new ln(n.key,n.value,`["${a.name}"] expression is not supported in a filter for a ${n.object.type} layer with id: ${n.object.id}`)]:(a.eachChild(f=>{d.push(...Rf(f,n))}),d)}function xp(a){const n=a.key,l=a.value,d=a.valueSpec,f=[];return Array.isArray(d.values)?d.values.indexOf(Rs(l))===-1&&f.push(new ln(n,l,`expected one of [${d.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(d.values).indexOf(Rs(l))===-1&&f.push(new ln(n,l,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(l)} found`)),f}function $d(a){if(a===!0||a===!1)return!0;if(!Array.isArray(a)||a.length===0)return!1;switch(a[0]){case"has":return a.length>=2&&a[1]!=="$id"&&a[1]!=="$type";case"in":return a.length>=3&&(typeof a[1]!="string"||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return a.length!==3||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(const n of a.slice(1))if(!$d(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function Gs(a,n="fill"){if(a==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};$d(a)||(a=kc(a));const l=a;let d=!0;try{d=function(re){if(!Vd(re))return re;let me=Bs(re);return Sh(me),me=ms(me),me}(l)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(l,null,2)}
        `)}const f=yi[`filter_${n}`],b=Mi(d,f);let C=null;if(b.result==="error")throw new Error(b.value.map(re=>`${re.key}: ${re.message}`).join(", "));C=(re,me,Se)=>b.value.evaluate(re,me,{},Se);let F=null,te=null;if(d!==l){const re=Mi(l,f);if(re.result==="error")throw new Error(re.value.map(me=>`${me.key}: ${me.message}`).join(", "));F=(me,Se,Me,Oe,Ne)=>re.value.evaluate(me,Se,{},Me,void 0,void 0,Oe,Ne),te=!Qr(re.value.expression)}return{filter:C,dynamicFilter:F||void 0,needGeometry:bp(d),needFeature:!!te}}function ms(a){if(!Array.isArray(a))return a;const n=function(l){if(um.has(l[0])){for(let d=1;d<l.length;d++)if(Vd(l[d]))return!0}return l}(a);return n===!0?n:n.map(l=>ms(l))}function Sh(a){let n=!1;const l=[];if(a[0]==="case"){for(let d=1;d<a.length-1;d+=2)n=n||Vd(a[d]),l.push(a[d+1]);l.push(a[a.length-1])}else if(a[0]==="match"){n=n||Vd(a[1]);for(let d=2;d<a.length-1;d+=2)l.push(a[d+1]);l.push(a[a.length-1])}else if(a[0]==="step"){n=n||Vd(a[1]);for(let d=1;d<a.length-1;d+=2)l.push(a[d+1])}n&&(a.length=0,a.push("any",...l));for(let d=1;d<a.length;d++)Sh(a[d])}function Vd(a){if(!Array.isArray(a))return!1;if((n=a[0])==="pitch"||n==="distance-from-center")return!0;var n;for(let l=1;l<a.length;l++)if(Vd(a[l]))return!0;return!1}const um=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Qg(a,n){return a<n?-1:a>n?1:0}function bp(a){if(!Array.isArray(a))return!1;if(a[0]==="within")return!0;for(let n=1;n<a.length;n++)if(bp(a[n]))return!0;return!1}function kc(a){if(!a)return!0;const n=a[0];return a.length<=1?n!=="any":n==="=="?Ch(a[1],a[2],"=="):n==="!="?Bu(Ch(a[1],a[2],"==")):n==="<"||n===">"||n==="<="||n===">="?Ch(a[1],a[2],n):n==="any"?(l=a.slice(1),["any"].concat(l.map(kc))):n==="all"?["all"].concat(a.slice(1).map(kc)):n==="none"?["all"].concat(a.slice(1).map(kc).map(Bu)):n==="in"?nu(a[1],a.slice(2)):n==="!in"?Bu(nu(a[1],a.slice(2))):n==="has"?Gd(a[1]):n==="!has"?Bu(Gd(a[1])):n!=="within"||a;var l}function Ch(a,n,l){switch(a){case"$type":return[`filter-type-${l}`,n];case"$id":return[`filter-id-${l}`,n];default:return[`filter-${l}`,a,n]}}function nu(a,n){if(n.length===0)return!1;switch(a){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(l=>typeof l!=typeof n[0])?["filter-in-large",a,["literal",n.sort(Qg)]]:["filter-in-small",a,["literal",n]]}}function Gd(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function Bu(a){return["!",a]}function Nu(a){return $d(Bs(a.value))?Ud(ps({},a,{expressionContext:"filter",valueSpec:a.styleSpec[`filter_${a.layerType||"fill"}`]})):hd(a)}function hd(a){const n=a.value,l=a.key;if(Ni(n)!=="array")return[new ln(l,n,`array expected, ${Ni(n)} found`)];const d=a.styleSpec;let f,b=[];if(n.length<1)return[new ln(l,n,"filter array must have at least 1 element")];switch(b=b.concat(xp({key:`${l}[0]`,value:n[0],valueSpec:d.filter_operator,style:a.style,styleSpec:a.styleSpec})),Rs(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&Rs(n[1])==="$type"&&b.push(new ln(l,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&b.push(new ln(l,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(f=Ni(n[1]),f!=="string"&&b.push(new ln(`${l}[1]`,n[1],`string expected, ${f} found`)));for(let C=2;C<n.length;C++)f=Ni(n[C]),Rs(n[1])==="$type"?b=b.concat(xp({key:`${l}[${C}]`,value:n[C],valueSpec:d.geometry_type,style:a.style,styleSpec:a.styleSpec})):f!=="string"&&f!=="number"&&f!=="boolean"&&b.push(new ln(`${l}[${C}]`,n[C],`string, number, or boolean expected, ${f} found`));break;case"any":case"all":case"none":for(let C=1;C<n.length;C++)b=b.concat(hd({key:`${l}[${C}]`,value:n[C],style:a.style,styleSpec:a.styleSpec}));break;case"has":case"!has":f=Ni(n[1]),n.length!==2?b.push(new ln(l,n,`filter array for "${n[0]}" operator must have 2 elements`)):f!=="string"&&b.push(new ln(`${l}[1]`,n[1],`string expected, ${f} found`));break;case"within":f=Ni(n[1]),n.length!==2?b.push(new ln(l,n,`filter array for "${n[0]}" operator must have 2 elements`)):f!=="object"&&b.push(new ln(`${l}[1]`,n[1],`object expected, ${f} found`))}return b}function Bf(a,n){const l=a.key,d=a.style,f=a.styleSpec,b=a.value,C=a.objectKey,F=f[`${n}_${a.layerType}`];if(!F)return[];const te=C.match(/^(.*)-transition$/);if(n==="paint"&&te&&F[te[1]]&&F[te[1]].transition)return Qn({key:l,value:b,valueSpec:f.transition,style:d,styleSpec:f});const re=a.valueSpec||F[C];if(!re)return[new ln(l,b,`unknown property "${C}"`)];let me;if(Ni(b)==="string"&&ci(re)&&!re.tokens&&(me=/^{([^}]+)}$/.exec(b)))return[new ln(l,b,`"${C}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(me[1])} }\`.`)];const Se=[];return a.layerType==="symbol"&&(C==="text-field"&&d&&!d.glyphs&&Se.push(new ln(l,b,'use of "text-field" requires a style "glyphs" property')),C==="text-font"&&Nn(Bs(b))&&Rs(b.type)==="identity"&&Se.push(new ln(l,b,'"text-font" does not support identity functions'))),Se.concat(Qn({key:a.key,value:b,valueSpec:re,style:d,styleSpec:f,expressionContext:"property",propertyType:n,propertyKey:C}))}function Nf(a){return Bf(a,"paint")}function dm(a){return Bf(a,"layout")}function wp(a){let n=[];const l=a.value,d=a.key,f=a.style,b=a.styleSpec;l.type||l.ref||n.push(new ln(d,l,'either "type" or "ref" is required'));let C=Rs(l.type);const F=Rs(l.ref);if(l.id){const te=Rs(l.id);for(let re=0;re<a.arrayIndex;re++){const me=f.layers[re];Rs(me.id)===te&&n.push(new ln(d,l.id,`duplicate layer id "${l.id}", previously used at line ${me.id.__line__}`))}}if("ref"in l){let te;["type","source","source-layer","filter","layout"].forEach(re=>{re in l&&n.push(new ln(d,l[re],`"${re}" is prohibited for ref layers`))}),f.layers.forEach(re=>{Rs(re.id)===F&&(te=re)}),te?te.ref?n.push(new ln(d,l.ref,"ref cannot reference another ref layer")):C=Rs(te.type):typeof F=="string"&&n.push(new ln(d,l.ref,`ref layer "${F}" not found`))}else if(C!=="background"&&C!=="sky")if(l.source){const te=f.sources&&f.sources[l.source],re=te&&Rs(te.type);te?re==="vector"&&C==="raster"?n.push(new ln(d,l.source,`layer "${l.id}" requires a raster source`)):re==="raster"&&C!=="raster"?n.push(new ln(d,l.source,`layer "${l.id}" requires a vector source`)):re!=="vector"||l["source-layer"]?re==="raster-dem"&&C!=="hillshade"?n.push(new ln(d,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):C!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||re==="geojson"&&te.lineMetrics||n.push(new ln(d,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new ln(d,l,`layer "${l.id}" must specify a "source-layer"`)):n.push(new ln(d,l.source,`source "${l.source}" not found`))}else n.push(new ln(d,l,'missing required property "source"'));return n=n.concat(kl({key:d,value:l,valueSpec:b.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Qn({key:`${d}.type`,value:l.type,valueSpec:b.layer.type,style:a.style,styleSpec:a.styleSpec,object:l,objectKey:"type"}),filter:te=>Nu(ps({layerType:C},te)),layout:te=>kl({layer:l,key:te.key,value:te.value,valueSpec:{},style:te.style,styleSpec:te.styleSpec,objectElementValidators:{"*":re=>dm(ps({layerType:C},re))}}),paint:te=>kl({layer:l,key:te.key,value:te.value,valueSpec:{},style:te.style,styleSpec:te.styleSpec,objectElementValidators:{"*":re=>Nf(ps({layerType:C},re))}})}})),n}function ru(a){const n=a.value,l=a.key,d=Ni(n);return d!=="string"?[new ln(l,n,`string expected, ${d} found`)]:[]}const Hd={promoteId:function({key:a,value:n}){if(Ni(n)==="string")return ru({key:a,value:n});{const l=[];for(const d in n)l.push(...ru({key:`${a}.${d}`,value:n[d]}));return l}}};function Wd(a){const n=a.value,l=a.key,d=a.styleSpec,f=a.style;if(!n.type)return[new ln(l,n,'"type" is required')];const b=Rs(n.type);let C;switch(b){case"vector":case"raster":case"raster-dem":return C=kl({key:l,value:n,valueSpec:d[`source_${b.replace("-","_")}`],style:a.style,styleSpec:d,objectElementValidators:Hd}),C;case"geojson":if(C=kl({key:l,value:n,valueSpec:d.source_geojson,style:f,styleSpec:d,objectElementValidators:Hd}),n.cluster)for(const F in n.clusterProperties){const[te,re]=n.clusterProperties[F],me=typeof te=="string"?[te,["accumulated"],["get",F]]:te;C.push(...Ud({key:`${l}.${F}.map`,value:re,expressionContext:"cluster-map"})),C.push(...Ud({key:`${l}.${F}.reduce`,value:me,expressionContext:"cluster-reduce"}))}return C;case"video":return kl({key:l,value:n,valueSpec:d.source_video,style:f,styleSpec:d});case"image":return kl({key:l,value:n,valueSpec:d.source_image,style:f,styleSpec:d});case"canvas":return[new ln(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return xp({key:`${l}.type`,value:n.type,valueSpec:{values:zf(d)},style:f,styleSpec:d})}}function zf(a){return a.source.reduce((n,l)=>{const d=a[l];return d.type.type==="enum"&&(n=n.concat(Object.keys(d.type.values))),n},[])}function it(a){const n=a.value,l=a.styleSpec,d=l.light,f=a.style;let b=[];const C=Ni(n);if(n===void 0)return b;if(C!=="object")return b=b.concat([new ln("light",n,`object expected, ${C} found`)]),b;for(const F in n){const te=F.match(/^(.*)-transition$/);b=b.concat(te&&d[te[1]]&&d[te[1]].transition?Qn({key:F,value:n[F],valueSpec:l.transition,style:f,styleSpec:l}):d[F]?Qn({key:F,value:n[F],valueSpec:d[F],style:f,styleSpec:l}):[new ln(F,n[F],`unknown property "${F}"`)])}return b}function su(a){const n=a.value,l=a.key,d=a.style,f=a.styleSpec,b=f.terrain;let C=[];const F=Ni(n);if(n===void 0)return C;if(F!=="object")return C=C.concat([new ln("terrain",n,`object expected, ${F} found`)]),C;for(const te in n){const re=te.match(/^(.*)-transition$/);C=C.concat(re&&b[re[1]]&&b[re[1]].transition?Qn({key:te,value:n[te],valueSpec:f.transition,style:d,styleSpec:f}):b[te]?Qn({key:te,value:n[te],valueSpec:b[te],style:d,styleSpec:f}):[new ln(te,n[te],`unknown property "${te}"`)])}if(n.source){const te=d.sources&&d.sources[n.source],re=te&&Rs(te.type);te?re!=="raster-dem"&&C.push(new ln(l,n.source,`terrain cannot be used with a source of type ${String(re)}, it only be used with a "raster-dem" source type`)):C.push(new ln(l,n.source,`source "${n.source}" not found`))}else C.push(new ln(l,n,'terrain is missing required property "source"'));return C}function Eh(a){const n=a.value,l=a.style,d=a.styleSpec,f=d.fog;let b=[];const C=Ni(n);if(n===void 0)return b;if(C!=="object")return b=b.concat([new ln("fog",n,`object expected, ${C} found`)]),b;for(const F in n){const te=F.match(/^(.*)-transition$/);b=b.concat(te&&f[te[1]]&&f[te[1]].transition?Qn({key:F,value:n[F],valueSpec:d.transition,style:l,styleSpec:d}):f[F]?Qn({key:F,value:n[F],valueSpec:f[F],style:l,styleSpec:d}):[new ln(F,n[F],`unknown property "${F}"`)])}return b}const ul={"*":()=>[],array:Ru,boolean:function(a){const n=a.value,l=a.key,d=Ni(n);return d!=="boolean"?[new ln(l,n,`boolean expected, ${d} found`)]:[]},number:Th,color:function(a){const n=a.key,l=a.value,d=Ni(l);return d!=="string"?[new ln(n,l,`color expected, ${d} found`)]:bl(l)===null?[new ln(n,l,`color expected, "${l}" found`)]:[]},enum:xp,filter:Nu,function:vp,layer:wp,object:kl,source:Wd,light:it,terrain:su,fog:Eh,string:ru,formatted:function(a){return ru(a).length===0?[]:Ud(a)},resolvedImage:function(a){return ru(a).length===0?[]:Ud(a)},projection:function(a){const n=a.value,l=a.styleSpec,d=l.projection,f=a.style;let b=[];const C=Ni(n);if(C==="object")for(const F in n)b=b.concat(Qn({key:F,value:n[F],valueSpec:d[F],style:f,styleSpec:l}));else C!=="string"&&(b=b.concat([new ln("projection",n,`object or string expected, ${C} found`)]));return b}};function Qn(a){const n=a.value,l=a.valueSpec,d=a.styleSpec;return l.expression&&Nn(Rs(n))?vp(a):l.expression&&bt(Bs(n))?Ud(a):l.type&&ul[l.type]?ul[l.type](a):kl(ps({},a,{valueSpec:l.type?d[l.type]:l}))}function e1(a){const n=a.value,l=a.key,d=ru(a);return d.length||(n.indexOf("{fontstack}")===-1&&d.push(new ln(l,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&d.push(new ln(l,n,'"glyphs" url must include a "{range}" token'))),d}function Ff(a,n=yi){return ou(Qn({key:"",value:a,valueSpec:n.$root,styleSpec:n,style:a,objectElementValidators:{glyphs:e1,"*":()=>[]}}))}const t1=a=>ou(Nf(a)),pd=a=>ou(dm(a));function ou(a){return a.slice().sort((n,l)=>n.line&&l.line?n.line-l.line:0)}function hm(a,n){let l=!1;if(n&&n.length)for(const d of n)a.fire(new Wa(new Error(d.message))),l=!0;return l}var Yd=Ac;function Ac(a,n,l){var d=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var f=new Int32Array(this.arrayBuffer);a=f[0],this.d=(n=f[1])+2*(l=f[2]);for(var b=0;b<this.d*this.d;b++){var C=f[3+b],F=f[3+b+1];d.push(C===F?null:f.subarray(C,F))}var te=f[3+d.length+1];this.keys=f.subarray(f[3+d.length],te),this.bboxes=f.subarray(te),this.insert=this._insertReadonly}else{this.d=n+2*l;for(var re=0;re<this.d*this.d;re++)d.push([]);this.keys=[],this.bboxes=[]}this.n=n,this.extent=a,this.padding=l,this.scale=n/a,this.uid=0;var me=l/n*a;this.min=-me,this.max=a+me}Ac.prototype.insert=function(a,n,l,d,f){this._forEachCell(n,l,d,f,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(n),this.bboxes.push(l),this.bboxes.push(d),this.bboxes.push(f)},Ac.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ac.prototype._insertCell=function(a,n,l,d,f,b){this.cells[f].push(b)},Ac.prototype.query=function(a,n,l,d,f){var b=this.min,C=this.max;if(a<=b&&n<=b&&C<=l&&C<=d&&!f)return Array.prototype.slice.call(this.keys);var F=[];return this._forEachCell(a,n,l,d,this._queryCell,F,{},f),F},Ac.prototype._queryCell=function(a,n,l,d,f,b,C,F){var te=this.cells[f];if(te!==null)for(var re=this.keys,me=this.bboxes,Se=0;Se<te.length;Se++){var Me=te[Se];if(C[Me]===void 0){var Oe=4*Me;(F?F(me[Oe+0],me[Oe+1],me[Oe+2],me[Oe+3]):a<=me[Oe+2]&&n<=me[Oe+3]&&l>=me[Oe+0]&&d>=me[Oe+1])?(C[Me]=!0,b.push(re[Me])):C[Me]=!1}}},Ac.prototype._forEachCell=function(a,n,l,d,f,b,C,F){for(var te=this._convertToCellCoord(a),re=this._convertToCellCoord(n),me=this._convertToCellCoord(l),Se=this._convertToCellCoord(d),Me=te;Me<=me;Me++)for(var Oe=re;Oe<=Se;Oe++){var Ne=this.d*Oe+Me;if((!F||F(this._convertFromCellCoord(Me),this._convertFromCellCoord(Oe),this._convertFromCellCoord(Me+1),this._convertFromCellCoord(Oe+1)))&&f.call(this,a,n,l,d,Ne,b,C,F))return}},Ac.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},Ac.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},Ac.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,n=3+this.cells.length+1+1,l=0,d=0;d<this.cells.length;d++)l+=this.cells[d].length;var f=new Int32Array(n+l+this.keys.length+this.bboxes.length);f[0]=this.extent,f[1]=this.n,f[2]=this.padding;for(var b=n,C=0;C<a.length;C++){var F=a[C];f[3+C]=b,f.set(F,b),b+=F.length}return f[3+a.length]=b,f.set(this.keys,b),f[3+a.length+1]=b+=this.keys.length,f.set(this.bboxes,b),b+=this.bboxes.length,f.buffer};const Tp={};function rn(a,n,l={}){Object.defineProperty(a,"_classRegistryKey",{value:n,writeable:!1}),Tp[n]={klass:a,omit:l.omit||[]}}rn(Object,"Object"),Yd.serialize=function(a,n){const l=a.toArrayBuffer();return n&&n.push(l),{buffer:l}},Yd.deserialize=function(a){return new Yd(a.buffer)},Object.defineProperty(Yd,"name",{value:"Grid"}),rn(Yd,"Grid"),rn(Ps,"Color"),rn(Error,"Error"),rn(fi,"AJAXError"),rn(va,"ResolvedImage"),rn(Vs,"StylePropertyFunction"),rn(Ve,"StyleExpression",{omit:["_evaluator"]}),rn(Tr,"ZoomDependentExpression"),rn(Tn,"ZoomConstantExpression"),rn(sa,"CompoundExpression",{omit:["_evaluate"]});for(const a in $t)Tp[$t[a]._classRegistryKey]||rn($t[a],`Expression${a}`);function pm(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&a.constructor.name==="ArrayBuffer")}function fm(a){return v.ImageBitmap&&a instanceof v.ImageBitmap}function zu(a,n){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(pm(a)||fm(a))return n&&n.push(a),a;if(ArrayBuffer.isView(a)){const l=a;return n&&n.push(l.buffer),l}if(a instanceof v.ImageData)return n&&n.push(a.data.buffer),a;if(Array.isArray(a)){const l=[];for(const d of a)l.push(zu(d,n));return l}if(typeof a=="object"){const l=a.constructor,d=l._classRegistryKey;if(!d)throw new Error(`can't serialize object of unregistered class ${d}`);const f=l.serialize?l.serialize(a,n):{};if(!l.serialize){for(const b in a)a.hasOwnProperty(b)&&(Tp[d].omit.indexOf(b)>=0||(f[b]=zu(a[b],n)));a instanceof Error&&(f.message=a.message)}if(f.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(f.$name=d),f}throw new Error("can't serialize object of type "+typeof a)}function Mh(a){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||pm(a)||fm(a)||ArrayBuffer.isView(a)||a instanceof v.ImageData)return a;if(Array.isArray(a))return a.map(Mh);if(typeof a=="object"){const n=a.$name||"Object",{klass:l}=Tp[n];if(!l)throw new Error(`can't deserialize unregistered class ${n}`);if(l.deserialize)return l.deserialize(a);const d=Object.create(l.prototype);for(const f of Object.keys(a))f!=="$name"&&(d[f]=Mh(a[f]));return d}throw new Error("can't deserialize object of type "+typeof a)}const jf=a=>a>=1536&&a<=1791,Pc=a=>a>=1872&&a<=1919,Uf=a=>a>=2208&&a<=2303,$f=a=>a>=11904&&a<=12031,Vf=a=>a>=12032&&a<=12255,Gf=a=>a>=12272&&a<=12287,qd=a=>a>=12288&&a<=12351,ac=a=>a>=12352&&a<=12447,Sp=a=>a>=12448&&a<=12543,mm=a=>a>=12544&&a<=12591,dl=a=>a>=12704&&a<=12735,gm=a=>a>=12736&&a<=12783,ym=a=>a>=12784&&a<=12799,_m=a=>a>=12800&&a<=13055,vm=a=>a>=13056&&a<=13311,xm=a=>a>=13312&&a<=19903,Cp=a=>a>=19968&&a<=40959,Hf=a=>a>=40960&&a<=42127,bm=a=>a>=42128&&a<=42191,Wf=a=>a>=44032&&a<=55215,fd=a=>a>=63744&&a<=64255,_=a=>a>=64336&&a<=65023,c=a=>a>=65040&&a<=65055,p=a=>a>=65072&&a<=65103,T=a=>a>=65104&&a<=65135,N=a=>a>=65136&&a<=65279,q=a=>a>=65280&&a<=65519;function ae(a){for(const n of a)if(De(n.charCodeAt(0)))return!0;return!1}function he(a){for(const n of a)if(!ye(n.charCodeAt(0)))return!1;return!0}function ye(a){return!(jf(a)||Pc(a)||Uf(a)||_(a)||N(a))}function De(a){return!(a!==746&&a!==747&&(a<4352||!(dl(a)||mm(a)||p(a)&&!(a>=65097&&a<=65103)||fd(a)||vm(a)||$f(a)||gm(a)||!(!qd(a)||a>=12296&&a<=12305||a>=12308&&a<=12319||a===12336)||xm(a)||Cp(a)||_m(a)||(n=>n>=12592&&n<=12687)(a)||(n=>n>=43360&&n<=43391)(a)||(n=>n>=55216&&n<=55295)(a)||(n=>n>=4352&&n<=4607)(a)||Wf(a)||ac(a)||Gf(a)||(n=>n>=12688&&n<=12703)(a)||Vf(a)||ym(a)||Sp(a)&&a!==12540||!(!q(a)||a===65288||a===65289||a===65293||a>=65306&&a<=65310||a===65339||a===65341||a===65343||a>=65371&&a<=65503||a===65507||a>=65512&&a<=65519)||!(!T(a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||(n=>n>=5120&&n<=5759)(a)||(n=>n>=6320&&n<=6399)(a)||c(a)||(n=>n>=19904&&n<=19967)(a)||Hf(a)||bm(a))))}function Ae(a){return!(De(a)||function(n){return!!((l=>l>=128&&l<=255)(n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||(l=>l>=8192&&l<=8303)(n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||(l=>l>=8448&&l<=8527)(n)||(l=>l>=8528&&l<=8591)(n)||(l=>l>=8960&&l<=9215)(n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||(l=>l>=9216&&l<=9279)(n)&&n!==9251||(l=>l>=9280&&l<=9311)(n)||(l=>l>=9312&&l<=9471)(n)||(l=>l>=9632&&l<=9727)(n)||(l=>l>=9728&&l<=9983)(n)&&!(n>=9754&&n<=9759)||(l=>l>=11008&&l<=11263)(n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||qd(n)||Sp(n)||(l=>l>=57344&&l<=63743)(n)||p(n)||T(n)||q(n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(a))}function Fe(a){return a>=1424&&a<=2303||_(a)||N(a)}function Ke(a,n){return!(!n&&Fe(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||(l=>l>=6016&&l<=6143)(a))}function at(a){for(const n of a)if(Fe(n.charCodeAt(0)))return!0;return!1}const lt="deferred",ht="loading",et="loaded";let rt=null,gt="unavailable",ct=null;const wt=function(a){a&&typeof a=="string"&&a.indexOf("NetworkError")>-1&&(gt="error"),rt&&rt(a)};function Ot(){Et.fire(new Ha("pluginStateChange",{pluginStatus:gt,pluginURL:ct}))}const Et=new vo,Vt=function(){return gt},ni=function(){if(gt!==lt||!ct)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");gt=ht,Ot(),ct&&Lt({url:ct},a=>{a?wt(a):(gt=et,Ot())})},Qt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>gt===et||Qt.applyArabicShaping!=null,isLoading:()=>gt===ht,setState(a){gt=a.pluginStatus,ct=a.pluginURL},isParsed:()=>Qt.applyArabicShaping!=null&&Qt.processBidirectionalText!=null&&Qt.processStyledBidirectionalText!=null,getPluginURL:()=>ct};class Yt{constructor(n,l){this.zoom=n,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.transition=l.transition,this.pitch=l.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(n){return function(l,d){for(const f of l)if(!Ke(f.charCodeAt(0),d))return!1;return!0}(n,Qt.isLoaded())}}class Ai{constructor(n,l){this.property=n,this.value=l,this.expression=function(d,f){if(Nn(d))return new Vs(d,f);if(bt(d)){const b=co(d,f);if(b.result==="error")throw new Error(b.value.map(C=>`${C.key}: ${C.message}`).join(", "));return b.value}{let b=d;return typeof d=="string"&&f.type==="color"&&(b=Ps.parse(d)),{kind:"constant",evaluate:()=>b}}}(l===void 0?n.specification.default:l,n.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,l,d){return this.property.possiblyEvaluate(this,n,l,d)}}class Kt{constructor(n){this.property=n,this.value=new Ai(n,void 0)}transitioned(n,l){return new si(this.property,this.value,l,K({},n.transition,this.transition),n.now)}untransitioned(){return new si(this.property,this.value,null,{},0)}}class vi{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues)}getValue(n){return ve(this._values[n].value.value)}setValue(n,l){this._values.hasOwnProperty(n)||(this._values[n]=new Kt(this._values[n].property)),this._values[n].value=new Ai(this._values[n].property,l===null?void 0:ve(l))}getTransition(n){return ve(this._values[n].transition)}setTransition(n,l){this._values.hasOwnProperty(n)||(this._values[n]=new Kt(this._values[n].property)),this._values[n].transition=ve(l)||void 0}serialize(){const n={};for(const l of Object.keys(this._values)){const d=this.getValue(l);d!==void 0&&(n[l]=d);const f=this.getTransition(l);f!==void 0&&(n[`${l}-transition`]=f)}return n}transitioned(n,l){const d=new Ri(this._properties);for(const f of Object.keys(this._values))d._values[f]=this._values[f].transitioned(n,l._values[f]);return d}untransitioned(){const n=new Ri(this._properties);for(const l of Object.keys(this._values))n._values[l]=this._values[l].untransitioned();return n}}class si{constructor(n,l,d,f,b){const C=f.delay||0,F=f.duration||0;b=b||0,this.property=n,this.value=l,this.begin=b+C,this.end=this.begin+F,n.specification.transition&&(f.delay||f.duration)&&(this.prior=d)}possiblyEvaluate(n,l,d){const f=n.now||0,b=this.value.possiblyEvaluate(n,l,d),C=this.prior;if(C){if(f>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(f<this.begin)return C.possiblyEvaluate(n,l,d);{const F=(f-this.begin)/(this.end-this.begin);return this.property.interpolate(C.possiblyEvaluate(n,l,d),b,w(F))}}return b}}class Ri{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,l,d){const f=new zi(this._properties);for(const b of Object.keys(this._values))f._values[b]=this._values[b].possiblyEvaluate(n,l,d);return f}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class oi{constructor(n){this._properties=n,this._values=Object.create(n.defaultPropertyValues)}getValue(n){return ve(this._values[n].value)}setValue(n,l){this._values[n]=new Ai(this._values[n].property,l===null?void 0:ve(l))}serialize(){const n={};for(const l of Object.keys(this._values)){const d=this.getValue(l);d!==void 0&&(n[l]=d)}return n}possiblyEvaluate(n,l,d){const f=new zi(this._properties);for(const b of Object.keys(this._values))f._values[b]=this._values[b].possiblyEvaluate(n,l,d);return f}}class Ci{constructor(n,l,d){this.property=n,this.value=l,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,l,d,f){return this.property.evaluate(this.value,this.parameters,n,l,d,f)}}class zi{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class Xt{constructor(n){this.specification=n}possiblyEvaluate(n,l){return n.expression.evaluate(l)}interpolate(n,l,d){const f=xo[this.specification.type];return f?f(n,l,d):n}}class ri{constructor(n,l){this.specification=n,this.overrides=l}possiblyEvaluate(n,l,d,f){return new Ci(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(l,null,{},d,f)}:n.expression,l)}interpolate(n,l,d){if(n.value.kind!=="constant"||l.value.kind!=="constant")return n;if(n.value.value===void 0||l.value.value===void 0)return new Ci(this,{kind:"constant",value:void 0},n.parameters);const f=xo[this.specification.type];return f?new Ci(this,{kind:"constant",value:f(n.value.value,l.value.value,d)},n.parameters):n}evaluate(n,l,d,f,b,C){return n.kind==="constant"?n.value:n.evaluate(l,d,f,b,C)}}class gn{constructor(n){this.specification=n}possiblyEvaluate(n,l,d,f){return!!n.expression.evaluate(l,null,{},d,f)}interpolate(){return!1}}class Sn{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const l=new Yt(0,{});for(const d in n){const f=n[d];f.specification.overridable&&this.overridableProperties.push(d);const b=this.defaultPropertyValues[d]=new Ai(f,void 0),C=this.defaultTransitionablePropertyValues[d]=new Kt(f);this.defaultTransitioningPropertyValues[d]=C.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=b.possiblyEvaluate(l)}}}function yn(a,n){return 256*(a=g(Math.floor(a),0,255))+g(Math.floor(n),0,255)}rn(ri,"DataDrivenProperty"),rn(Xt,"DataConstantProperty"),rn(gn,"ColorRampProperty");const $n={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class lr{constructor(n,l){this._structArray=n,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class An{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,l){return n._trim(),l&&(n.isTransferred=!0,l.push(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const l=Object.create(this.prototype);return l.arrayBuffer=n.arrayBuffer,l.length=n.length,l.capacity=n.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function hn(a,n=1){let l=0,d=0;return{members:a.map(f=>{const b=$n[f.type].BYTES_PER_ELEMENT,C=l=ns(l,Math.max(n,b)),F=f.components||1;return d=Math.max(d,b),l+=b*F,{name:f.name,type:f.type,components:F,offset:C}}),size:ns(l,Math.max(d,n)),alignment:n}}function ns(a,n){return Math.ceil(a/n)*n}class Wr extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l){const d=this.length;return this.resize(d+1),this.emplace(d,n,l)}emplace(n,l,d){const f=2*n;return this.int16[f+0]=l,this.int16[f+1]=d,n}}Wr.prototype.bytesPerElement=4,rn(Wr,"StructArrayLayout2i4");class ss extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,l,d)}emplace(n,l,d,f){const b=3*n;return this.int16[b+0]=l,this.int16[b+1]=d,this.int16[b+2]=f,n}}ss.prototype.bytesPerElement=6,rn(ss,"StructArrayLayout3i6");class ts extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l,d,f){const b=this.length;return this.resize(b+1),this.emplace(b,n,l,d,f)}emplace(n,l,d,f,b){const C=4*n;return this.int16[C+0]=l,this.int16[C+1]=d,this.int16[C+2]=f,this.int16[C+3]=b,n}}ts.prototype.bytesPerElement=8,rn(ts,"StructArrayLayout4i8");class Xa extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b,C,F){const te=this.length;return this.resize(te+1),this.emplace(te,n,l,d,f,b,C,F)}emplace(n,l,d,f,b,C,F,te){const re=6*n,me=12*n,Se=3*n;return this.int16[re+0]=l,this.int16[re+1]=d,this.uint8[me+4]=f,this.uint8[me+5]=b,this.uint8[me+6]=C,this.uint8[me+7]=F,this.float32[Se+2]=te,n}}Xa.prototype.bytesPerElement=12,rn(Xa,"StructArrayLayout2i4ub1f12");class Ia extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,d,f){const b=this.length;return this.resize(b+1),this.emplace(b,n,l,d,f)}emplace(n,l,d,f,b){const C=4*n;return this.float32[C+0]=l,this.float32[C+1]=d,this.float32[C+2]=f,this.float32[C+3]=b,n}}Ia.prototype.bytesPerElement=16,rn(Ia,"StructArrayLayout4f16");class Ta extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b){const C=this.length;return this.resize(C+1),this.emplace(C,n,l,d,f,b)}emplace(n,l,d,f,b,C){const F=6*n,te=3*n;return this.uint16[F+0]=l,this.uint16[F+1]=d,this.uint16[F+2]=f,this.uint16[F+3]=b,this.float32[te+2]=C,n}}Ta.prototype.bytesPerElement=12,rn(Ta,"StructArrayLayout4ui1f12");class lc extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l,d,f){const b=this.length;return this.resize(b+1),this.emplace(b,n,l,d,f)}emplace(n,l,d,f,b){const C=4*n;return this.uint16[C+0]=l,this.uint16[C+1]=d,this.uint16[C+2]=f,this.uint16[C+3]=b,n}}lc.prototype.bytesPerElement=8,rn(lc,"StructArrayLayout4ui8");class gs extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b,C){const F=this.length;return this.resize(F+1),this.emplace(F,n,l,d,f,b,C)}emplace(n,l,d,f,b,C,F){const te=6*n;return this.int16[te+0]=l,this.int16[te+1]=d,this.int16[te+2]=f,this.int16[te+3]=b,this.int16[te+4]=C,this.int16[te+5]=F,n}}gs.prototype.bytesPerElement=12,rn(gs,"StructArrayLayout6i12");class is extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b,C,F,te,re,me,Se,Me){const Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,n,l,d,f,b,C,F,te,re,me,Se,Me)}emplace(n,l,d,f,b,C,F,te,re,me,Se,Me,Oe){const Ne=12*n;return this.int16[Ne+0]=l,this.int16[Ne+1]=d,this.int16[Ne+2]=f,this.int16[Ne+3]=b,this.uint16[Ne+4]=C,this.uint16[Ne+5]=F,this.uint16[Ne+6]=te,this.uint16[Ne+7]=re,this.int16[Ne+8]=me,this.int16[Ne+9]=Se,this.int16[Ne+10]=Me,this.int16[Ne+11]=Oe,n}}is.prototype.bytesPerElement=24,rn(is,"StructArrayLayout4i4ui4i24");class $r extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b,C){const F=this.length;return this.resize(F+1),this.emplace(F,n,l,d,f,b,C)}emplace(n,l,d,f,b,C,F){const te=10*n,re=5*n;return this.int16[te+0]=l,this.int16[te+1]=d,this.int16[te+2]=f,this.float32[re+2]=b,this.float32[re+3]=C,this.float32[re+4]=F,n}}$r.prototype.bytesPerElement=20,rn($r,"StructArrayLayout3i3f20");class uo extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const l=this.length;return this.resize(l+1),this.emplace(l,n)}emplace(n,l){return this.uint32[1*n+0]=l,n}}uo.prototype.bytesPerElement=4,rn(uo,"StructArrayLayout1ul4");class ua extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b,C,F,te,re,me,Se,Me,Oe){const Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,n,l,d,f,b,C,F,te,re,me,Se,Me,Oe)}emplace(n,l,d,f,b,C,F,te,re,me,Se,Me,Oe,Ne){const He=20*n,tt=10*n;return this.int16[He+0]=l,this.int16[He+1]=d,this.int16[He+2]=f,this.int16[He+3]=b,this.int16[He+4]=C,this.float32[tt+3]=F,this.float32[tt+4]=te,this.float32[tt+5]=re,this.float32[tt+6]=me,this.int16[He+14]=Se,this.uint32[tt+8]=Me,this.uint16[He+18]=Oe,this.uint16[He+19]=Ne,n}}ua.prototype.bytesPerElement=40,rn(ua,"StructArrayLayout5i4f1i1ul2ui40");class ys extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b,C,F){const te=this.length;return this.resize(te+1),this.emplace(te,n,l,d,f,b,C,F)}emplace(n,l,d,f,b,C,F,te){const re=8*n;return this.int16[re+0]=l,this.int16[re+1]=d,this.int16[re+2]=f,this.int16[re+4]=b,this.int16[re+5]=C,this.int16[re+6]=F,this.int16[re+7]=te,n}}ys.prototype.bytesPerElement=16,rn(ys,"StructArrayLayout3i2i2i16");class Sa extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b){const C=this.length;return this.resize(C+1),this.emplace(C,n,l,d,f,b)}emplace(n,l,d,f,b,C){const F=4*n,te=8*n;return this.float32[F+0]=l,this.float32[F+1]=d,this.float32[F+2]=f,this.int16[te+6]=b,this.int16[te+7]=C,n}}Sa.prototype.bytesPerElement=16,rn(Sa,"StructArrayLayout2f1f2i16");class kh extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,d,f){const b=this.length;return this.resize(b+1),this.emplace(b,n,l,d,f)}emplace(n,l,d,f,b){const C=12*n,F=3*n;return this.uint8[C+0]=l,this.uint8[C+1]=d,this.float32[F+1]=f,this.float32[F+2]=b,n}}kh.prototype.bytesPerElement=12,rn(kh,"StructArrayLayout2ub2f12");class cc extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,l,d)}emplace(n,l,d,f){const b=3*n;return this.float32[b+0]=l,this.float32[b+1]=d,this.float32[b+2]=f,n}}cc.prototype.bytesPerElement=12,rn(cc,"StructArrayLayout3f12");class da extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,l,d)}emplace(n,l,d,f){const b=3*n;return this.uint16[b+0]=l,this.uint16[b+1]=d,this.uint16[b+2]=f,n}}da.prototype.bytesPerElement=6,rn(da,"StructArrayLayout3ui6");class Za extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b,C,F,te,re,me,Se,Me,Oe,Ne,He,tt,_t,Dt,yt,Tt,Bt){const It=this.length;return this.resize(It+1),this.emplace(It,n,l,d,f,b,C,F,te,re,me,Se,Me,Oe,Ne,He,tt,_t,Dt,yt,Tt,Bt)}emplace(n,l,d,f,b,C,F,te,re,me,Se,Me,Oe,Ne,He,tt,_t,Dt,yt,Tt,Bt,It){const ii=30*n,ti=15*n,xi=60*n;return this.int16[ii+0]=l,this.int16[ii+1]=d,this.int16[ii+2]=f,this.float32[ti+2]=b,this.float32[ti+3]=C,this.uint16[ii+8]=F,this.uint16[ii+9]=te,this.uint32[ti+5]=re,this.uint32[ti+6]=me,this.uint32[ti+7]=Se,this.uint16[ii+16]=Me,this.uint16[ii+17]=Oe,this.uint16[ii+18]=Ne,this.float32[ti+10]=He,this.float32[ti+11]=tt,this.uint8[xi+48]=_t,this.uint8[xi+49]=Dt,this.uint8[xi+50]=yt,this.uint32[ti+13]=Tt,this.int16[ii+28]=Bt,this.uint8[xi+58]=It,n}}Za.prototype.bytesPerElement=60,rn(Za,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Dc extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b,C,F,te,re,me,Se,Me,Oe,Ne,He,tt,_t,Dt,yt,Tt,Bt,It,ii,ti,xi,ji,li,Si,Ei,Oi){const Vi=this.length;return this.resize(Vi+1),this.emplace(Vi,n,l,d,f,b,C,F,te,re,me,Se,Me,Oe,Ne,He,tt,_t,Dt,yt,Tt,Bt,It,ii,ti,xi,ji,li,Si,Ei,Oi)}emplace(n,l,d,f,b,C,F,te,re,me,Se,Me,Oe,Ne,He,tt,_t,Dt,yt,Tt,Bt,It,ii,ti,xi,ji,li,Si,Ei,Oi,Vi){const ui=38*n,tn=19*n;return this.int16[ui+0]=l,this.int16[ui+1]=d,this.int16[ui+2]=f,this.float32[tn+2]=b,this.float32[tn+3]=C,this.int16[ui+8]=F,this.int16[ui+9]=te,this.int16[ui+10]=re,this.int16[ui+11]=me,this.int16[ui+12]=Se,this.int16[ui+13]=Me,this.uint16[ui+14]=Oe,this.uint16[ui+15]=Ne,this.uint16[ui+16]=He,this.uint16[ui+17]=tt,this.uint16[ui+18]=_t,this.uint16[ui+19]=Dt,this.uint16[ui+20]=yt,this.uint16[ui+21]=Tt,this.uint16[ui+22]=Bt,this.uint16[ui+23]=It,this.uint16[ui+24]=ii,this.uint16[ui+25]=ti,this.uint16[ui+26]=xi,this.uint16[ui+27]=ji,this.uint16[ui+28]=li,this.uint32[tn+15]=Si,this.float32[tn+16]=Ei,this.float32[tn+17]=Oi,this.float32[tn+18]=Vi,n}}Dc.prototype.bytesPerElement=76,rn(Dc,"StructArrayLayout3i2f6i15ui1ul3f76");class Al extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const l=this.length;return this.resize(l+1),this.emplace(l,n)}emplace(n,l){return this.float32[1*n+0]=l,n}}Al.prototype.bytesPerElement=4,rn(Al,"StructArrayLayout1f4");class _r extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l,d,f,b){const C=this.length;return this.resize(C+1),this.emplace(C,n,l,d,f,b)}emplace(n,l,d,f,b,C){const F=5*n;return this.float32[F+0]=l,this.float32[F+1]=d,this.float32[F+2]=f,this.float32[F+3]=b,this.float32[F+4]=C,n}}_r.prototype.bytesPerElement=20,rn(_r,"StructArrayLayout5f20");class Xd extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l,d,f){const b=this.length;return this.resize(b+1),this.emplace(b,n,l,d,f)}emplace(n,l,d,f,b){const C=6*n;return this.uint32[3*n+0]=l,this.uint16[C+2]=d,this.uint16[C+3]=f,this.uint16[C+4]=b,n}}Xd.prototype.bytesPerElement=12,rn(Xd,"StructArrayLayout1ul3ui12");class Ic extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,l){const d=this.length;return this.resize(d+1),this.emplace(d,n,l)}emplace(n,l,d){const f=2*n;return this.uint16[f+0]=l,this.uint16[f+1]=d,n}}Ic.prototype.bytesPerElement=4,rn(Ic,"StructArrayLayout2ui4");class md extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const l=this.length;return this.resize(l+1),this.emplace(l,n)}emplace(n,l){return this.uint16[1*n+0]=l,n}}md.prototype.bytesPerElement=2,rn(md,"StructArrayLayout1ui2");class Yf extends An{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,l){const d=this.length;return this.resize(d+1),this.emplace(d,n,l)}emplace(n,l,d){const f=2*n;return this.float32[f+0]=l,this.float32[f+1]=d,n}}Yf.prototype.bytesPerElement=8,rn(Yf,"StructArrayLayout2f8");class D_ extends lr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}D_.prototype.size=40;class i1 extends ua{get(n){return new D_(this,n)}}rn(i1,"CollisionBoxArray");class uc extends lr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(n){this._structArray.uint8[this._pos1+49]=n}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(n){this._structArray.uint8[this._pos1+50]=n}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(n){this._structArray.uint32[this._pos4+13]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(n){this._structArray.uint8[this._pos1+58]=n}}uc.prototype.size=60;class I_ extends Za{get(n){return new uc(this,n)}}rn(I_,"PlacedSymbolArray");class qf extends lr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(n){this._structArray.uint32[this._pos4+15]=n}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}qf.prototype.size=76;class wm extends Dc{get(n){return new qf(this,n)}}rn(wm,"SymbolInstanceArray");class n1 extends Al{getoffsetX(n){return this.float32[1*n+0]}}rn(n1,"GlyphOffsetArray");class r1 extends Wr{getx(n){return this.int16[2*n+0]}gety(n){return this.int16[2*n+1]}}rn(r1,"SymbolLineVertexArray");class Pl extends lr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Pl.prototype.size=12;class gd extends Xd{get(n){return new Pl(this,n)}}rn(gd,"FeatureIndexArray");class Tm extends Ic{geta_centroid_pos0(n){return this.uint16[2*n+0]}geta_centroid_pos1(n){return this.uint16[2*n+1]}}rn(Tm,"FillExtrusionCentroidArray");const L_=hn([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Sm=hn([{name:"a_dash",components:4,type:"Uint16"}]);var Ah={exports:{}},Cm={exports:{}};Cm.exports=function(a,n){var l,d,f,b,C,F,te,re;for(d=a.length-(l=3&a.length),f=n,C=3432918353,F=461845907,re=0;re<d;)te=255&a.charCodeAt(re)|(255&a.charCodeAt(++re))<<8|(255&a.charCodeAt(++re))<<16|(255&a.charCodeAt(++re))<<24,++re,f=27492+(65535&(b=5*(65535&(f=(f^=te=(65535&(te=(te=(65535&te)*C+(((te>>>16)*C&65535)<<16)&4294967295)<<15|te>>>17))*F+(((te>>>16)*F&65535)<<16)&4294967295)<<13|f>>>19))+((5*(f>>>16)&65535)<<16)&4294967295))+((58964+(b>>>16)&65535)<<16);switch(te=0,l){case 3:te^=(255&a.charCodeAt(re+2))<<16;case 2:te^=(255&a.charCodeAt(re+1))<<8;case 1:f^=te=(65535&(te=(te=(65535&(te^=255&a.charCodeAt(re)))*C+(((te>>>16)*C&65535)<<16)&4294967295)<<15|te>>>17))*F+(((te>>>16)*F&65535)<<16)&4294967295}return f^=a.length,f=2246822507*(65535&(f^=f>>>16))+((2246822507*(f>>>16)&65535)<<16)&4294967295,f=3266489909*(65535&(f^=f>>>13))+((3266489909*(f>>>16)&65535)<<16)&4294967295,(f^=f>>>16)>>>0};var s1={exports:{}};s1.exports=function(a,n){for(var l,d=a.length,f=n^d,b=0;d>=4;)l=1540483477*(65535&(l=255&a.charCodeAt(b)|(255&a.charCodeAt(++b))<<8|(255&a.charCodeAt(++b))<<16|(255&a.charCodeAt(++b))<<24))+((1540483477*(l>>>16)&65535)<<16),f=1540483477*(65535&f)+((1540483477*(f>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),d-=4,++b;switch(d){case 3:f^=(255&a.charCodeAt(b+2))<<16;case 2:f^=(255&a.charCodeAt(b+1))<<8;case 1:f=1540483477*(65535&(f^=255&a.charCodeAt(b)))+((1540483477*(f>>>16)&65535)<<16)}return f=1540483477*(65535&(f^=f>>>13))+((1540483477*(f>>>16)&65535)<<16),(f^=f>>>15)>>>0};var Em=Cm.exports,o1=s1.exports;Ah.exports=Em,Ah.exports.murmur3=Em,Ah.exports.murmur2=o1;class au{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(n,l,d,f){this.ids.push(O_(n)),this.positions.push(l,d,f)}getPositions(n){const l=O_(n);let d=0,f=this.ids.length-1;for(;d<f;){const C=d+f>>1;this.ids[C]>=l?f=C:d=C+1}const b=[];for(;this.ids[d]===l;)b.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return b}static serialize(n,l){const d=new Float64Array(n.ids),f=new Uint32Array(n.positions);return Fu(d,f,0,d.length-1),l&&l.push(d.buffer,f.buffer),{ids:d,positions:f}}static deserialize(n){const l=new au;return l.ids=n.ids,l.positions=n.positions,l.indexed=!0,l}}function O_(a){const n=+a;return!isNaN(n)&&Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:Ah.exports(String(a))}function Fu(a,n,l,d){for(;l<d;){const f=a[l+d>>1];let b=l-1,C=d+1;for(;;){do b++;while(a[b]<f);do C--;while(a[C]>f);if(b>=C)break;Xf(a,b,C),Xf(n,3*b,3*C),Xf(n,3*b+1,3*C+1),Xf(n,3*b+2,3*C+2)}C-l<d-C?(Fu(a,n,l,C),l=C+1):(Fu(a,n,C+1,d),d=C)}}function Xf(a,n,l){const d=a[n];a[n]=a[l],a[l]=d}rn(au,"FeaturePositionMap");class ju{constructor(n){this.gl=n.gl,this.initialized=!1}fetchUniformLocation(n,l){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(n,l),this.initialized=!0),!!this.location}}class Ep extends ju{constructor(n){super(n),this.current=0}set(n,l,d){this.fetchUniformLocation(n,l)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class R_ extends ju{constructor(n){super(n),this.current=[0,0,0,0]}set(n,l,d){this.fetchUniformLocation(n,l)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class B_ extends ju{constructor(n){super(n),this.current=Ps.transparent}set(n,l,d){this.fetchUniformLocation(n,l)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const g2=new Float32Array(16),N_=new Float32Array(9),z_=new Float32Array(4);function a1(a){return[yn(255*a.r,255*a.g),yn(255*a.b,255*a.a)]}class Mp{constructor(n,l,d){this.value=n,this.uniformNames=l.map(f=>`u_${f}`),this.type=d}setUniform(n,l,d,f,b){l.set(n,b,f.constantOr(this.value))}getBinding(n,l){return this.type==="color"?new B_(n):new Ep(n)}}class Ph{constructor(n,l){this.uniformNames=l.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(n){this.pixelRatio=n.pixelRatio||1,this.pattern=n.tl.concat(n.br)}setUniform(n,l,d,f,b){const C=b==="u_pattern"||b==="u_dash"?this.pattern:b==="u_pixel_ratio"?this.pixelRatio:null;C&&l.set(n,b,C)}getBinding(n,l){return l==="u_pattern"||l==="u_dash"?new R_(n):new Ep(n)}}class Lo{constructor(n,l,d,f){this.expression=n,this.type=d,this.maxValue=0,this.paintVertexAttributes=l.map(b=>({name:`a_${b}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new f}populatePaintArray(n,l,d,f,b,C){const F=this.paintVertexArray.length,te=this.expression.evaluate(new Yt(0),l,{},b,f,C);this.paintVertexArray.resize(n),this._setPaintValue(F,n,te)}updatePaintArray(n,l,d,f,b){const C=this.expression.evaluate({zoom:0},d,f,void 0,b);this._setPaintValue(n,l,C)}_setPaintValue(n,l,d){if(this.type==="color"){const f=a1(d);for(let b=n;b<l;b++)this.paintVertexArray.emplace(b,f[0],f[1])}else{for(let f=n;f<l;f++)this.paintVertexArray.emplace(f,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ko{constructor(n,l,d,f,b,C){this.expression=n,this.uniformNames=l.map(F=>`u_${F}_t`),this.type=d,this.useIntegerZoom=f,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=l.map(F=>({name:`a_${F}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new C}populatePaintArray(n,l,d,f,b,C){const F=this.expression.evaluate(new Yt(this.zoom),l,{},b,f,C),te=this.expression.evaluate(new Yt(this.zoom+1),l,{},b,f,C),re=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(re,n,F,te)}updatePaintArray(n,l,d,f,b){const C=this.expression.evaluate({zoom:this.zoom},d,f,void 0,b),F=this.expression.evaluate({zoom:this.zoom+1},d,f,void 0,b);this._setPaintValue(n,l,C,F)}_setPaintValue(n,l,d,f){if(this.type==="color"){const b=a1(d),C=a1(f);for(let F=n;F<l;F++)this.paintVertexArray.emplace(F,b[0],b[1],C[0],C[1])}else{for(let b=n;b<l;b++)this.paintVertexArray.emplace(b,d,f);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(f))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,l,d,f,b){const C=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,F=g(this.expression.interpolationFactor(C,this.zoom,this.zoom+1),0,1);l.set(n,b,F)}getBinding(n,l){return new Ep(n)}}class Zd{constructor(n,l,d,f,b){this.expression=n,this.layerId=b,this.paintVertexAttributes=(d==="array"?Sm:L_).members;for(let C=0;C<l.length;++C);this.paintVertexArray=new f}populatePaintArray(n,l,d){const f=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValues(f,n,l.patterns&&l.patterns[this.layerId],d)}updatePaintArray(n,l,d,f,b,C){this._setPaintValues(n,l,d.patterns&&d.patterns[this.layerId],C)}_setPaintValues(n,l,d,f){if(!f||!d)return;const b=f[d];if(!b)return;const{tl:C,br:F,pixelRatio:te}=b;for(let re=n;re<l;re++)this.paintVertexArray.emplace(re,C[0],C[1],F[0],F[1],te)}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Kd{constructor(n,l,d=()=>!0){this.binders={},this._buffers=[];const f=[];for(const b in n.paint._values){if(!d(b))continue;const C=n.paint.get(b);if(!(C instanceof Ci&&ci(C.property.specification)))continue;const F=F_(b,n.type),te=C.value,re=C.property.specification.type,me=C.property.useIntegerZoom,Se=b==="line-dasharray"||b.endsWith("pattern"),Me=b==="line-dasharray"&&n.layout.get("line-cap").value.kind!=="constant";if(te.kind!=="constant"||Me)if(te.kind==="source"||Me||Se){const Oe=l1(b,re,"source");this.binders[b]=Se?new Zd(te,F,re,Oe,n.id):new Lo(te,F,re,Oe),f.push(`/a_${b}`)}else{const Oe=l1(b,re,"composite");this.binders[b]=new Ko(te,F,re,me,l,Oe),f.push(`/z_${b}`)}else this.binders[b]=Se?new Ph(te.value,F):new Mp(te.value,F,re),f.push(`/u_${b}`)}this.cacheKey=f.sort().join("")}getMaxValue(n){const l=this.binders[n];return l instanceof Lo||l instanceof Ko?l.maxValue:0}populatePaintArrays(n,l,d,f,b,C){for(const F in this.binders){const te=this.binders[F];(te instanceof Lo||te instanceof Ko||te instanceof Zd)&&te.populatePaintArray(n,l,d,f,b,C)}}setConstantPatternPositions(n){for(const l in this.binders){const d=this.binders[l];d instanceof Ph&&d.setConstantPatternPositions(n)}}updatePaintArrays(n,l,d,f,b,C){let F=!1;for(const te in n){const re=l.getPositions(te);for(const me of re){const Se=d.feature(me.index);for(const Me in this.binders){const Oe=this.binders[Me];if((Oe instanceof Lo||Oe instanceof Ko||Oe instanceof Zd)&&Oe.expression.isStateDependent===!0){const Ne=f.paint.get(Me);Oe.expression=Ne.value,Oe.updatePaintArray(me.start,me.end,Se,n[te],b,C),F=!0}}}}return F}defines(){const n=[];for(const l in this.binders){const d=this.binders[l];(d instanceof Mp||d instanceof Ph)&&n.push(...d.uniformNames.map(f=>`#define HAS_UNIFORM_${f}`))}return n}getBinderAttributes(){const n=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof Lo||d instanceof Ko||d instanceof Zd)for(let f=0;f<d.paintVertexAttributes.length;f++)n.push(d.paintVertexAttributes[f].name)}return n}getBinderUniforms(){const n=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof Mp||d instanceof Ph||d instanceof Ko)for(const f of d.uniformNames)n.push(f)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n){const l=[];for(const d in this.binders){const f=this.binders[d];if(f instanceof Mp||f instanceof Ph||f instanceof Ko)for(const b of f.uniformNames)l.push({name:b,property:d,binding:f.getBinding(n,b)})}return l}setUniforms(n,l,d,f,b){for(const{name:C,property:F,binding:te}of d)this.binders[F].setUniform(n,te,b,f.get(F),C)}updatePaintBuffers(){this._buffers=[];for(const n in this.binders){const l=this.binders[n];(l instanceof Lo||l instanceof Ko||l instanceof Zd)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(n){for(const l in this.binders){const d=this.binders[l];(d instanceof Lo||d instanceof Ko||d instanceof Zd)&&d.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const l=this.binders[n];(l instanceof Lo||l instanceof Ko||l instanceof Zd)&&l.destroy()}}}class Uu{constructor(n,l,d=()=>!0){this.programConfigurations={};for(const f of n)this.programConfigurations[f.id]=new Kd(f,l,d);this.needsUpload=!1,this._featureMap=new au,this._bufferOffset=0}populatePaintArrays(n,l,d,f,b,C,F){for(const te in this.programConfigurations)this.programConfigurations[te].populatePaintArrays(n,l,f,b,C,F);l.id!==void 0&&this._featureMap.add(l.id,d,this._bufferOffset,n),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,l,d,f,b){for(const C of d)this.needsUpload=this.programConfigurations[C.id].updatePaintArrays(n,this._featureMap,l,C,f,b)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}const kp={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function F_(a,n){return kp[a]||[a.replace(`${n}-`,"").replace(/-/g,"_")]}const j_={"line-pattern":{source:Ta,composite:Ta},"fill-pattern":{source:Ta,composite:Ta},"fill-extrusion-pattern":{source:Ta,composite:Ta},"line-dasharray":{source:lc,composite:lc}},y2={color:{source:Yf,composite:Ia},number:{source:Al,composite:Yf}};function l1(a,n,l){const d=j_[a];return d&&d[l]||y2[n][l]}rn(Mp,"ConstantBinder"),rn(Ph,"PatternConstantBinder"),rn(Lo,"SourceExpressionBinder"),rn(Zd,"PatternCompositeBinder"),rn(Ko,"CompositeExpressionBinder"),rn(Kd,"ProgramConfiguration",{omit:["_buffers"]}),rn(Uu,"ProgramConfigurationSet");const yd="-transition";class hl extends vo{constructor(n,l){if(super(),this.id=n.id,this.type=n.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,n.type!=="custom"&&(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type!=="background"&&n.type!=="sky"&&(this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter),l.layout&&(this._unevaluatedLayout=new oi(l.layout)),l.paint)){this._transitionablePaint=new vi(l.paint);for(const d in n.paint)this.setPaintProperty(d,n.paint[d],{validate:!1});for(const d in n.layout)this.setLayoutProperty(d,n.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new zi(l.paint)}}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,l,d={}){l!=null&&this._validate(pd,`layers.${this.id}.layout.${n}`,n,l,d)||(n!=="visibility"?this._unevaluatedLayout.setValue(n,l):this.visibility=l)}getPaintProperty(n){return de(n,yd)?this._transitionablePaint.getTransition(n.slice(0,-yd.length)):this._transitionablePaint.getValue(n)}setPaintProperty(n,l,d={}){if(l!=null&&this._validate(t1,`layers.${this.id}.paint.${n}`,n,l,d))return!1;if(de(n,yd))return this._transitionablePaint.setTransition(n.slice(0,-yd.length),l||void 0),!1;{const f=this._transitionablePaint._values[n],b=f.value.isDataDriven(),C=f.value;this._transitionablePaint.setValue(n,l),this._handleSpecialPaintPropertyUpdate(n);const F=this._transitionablePaint._values[n].value,te=F.isDataDriven(),re=de(n,"pattern")||n==="line-dasharray";return te||b||re||this._handleOverridablePaintPropertyUpdate(n,C,F)}}_handleSpecialPaintPropertyUpdate(n){}getProgramIds(){return null}getProgramConfiguration(n){return null}_handleOverridablePaintPropertyUpdate(n,l,d){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,l){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,l)}serialize(){const n={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(n.layout=n.layout||{},n.layout.visibility=this.visibility),ne(n,(l,d)=>!(l===void 0||d==="layout"&&!Object.keys(l).length||d==="paint"&&!Object.keys(l).length))}_validate(n,l,d,f,b={}){return(!b||b.validate!==!1)&&hm(this,n.call(Ff,{key:l,layerType:this.type,objectKey:d,value:f,styleSpec:yi,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const n in this.paint._values){const l=this.paint.get(n);if(l instanceof Ci&&ci(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Gs(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const _2=hn([{name:"a_pos",components:2,type:"Int16"}],4),U_=hn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class To{constructor(n=[]){this.segments=n}prepareSegment(n,l,d,f){let b=this.segments[this.segments.length-1];return n>To.MAX_VERTEX_ARRAY_LENGTH&&oe(`Max vertices per segment is ${To.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!b||b.vertexLength+n>To.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==f)&&(b={vertexOffset:l.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},f!==void 0&&(b.sortKey=f),this.segments.push(b)),b}get(){return this.segments}destroy(){for(const n of this.segments)for(const l in n.vaos)n.vaos[l].destroy()}static simpleSegment(n,l,d,f){return new To([{vertexOffset:n,primitiveOffset:l,vertexLength:d,primitiveLength:f,vaos:{},sortKey:0}])}}To.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,rn(To,"SegmentVector");var Bn=8192;class _d{constructor(n,l){n&&(l?this.setSouthWest(n).setNorthEast(l):n.length===4?this.setSouthWest([n[0],n[1]]).setNorthEast([n[2],n[3]]):this.setSouthWest(n[0]).setNorthEast(n[1]))}setNorthEast(n){return this._ne=n instanceof Ir?new Ir(n.lng,n.lat):Ir.convert(n),this}setSouthWest(n){return this._sw=n instanceof Ir?new Ir(n.lng,n.lat):Ir.convert(n),this}extend(n){const l=this._sw,d=this._ne;let f,b;if(n instanceof Ir)f=n,b=n;else{if(!(n instanceof _d))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(_d.convert(n)):this.extend(Ir.convert(n)):typeof n=="object"&&n!==null&&n.hasOwnProperty("lat")&&n.hasOwnProperty("lon")?this.extend(Ir.convert(n)):this;if(f=n._sw,b=n._ne,!f||!b)return this}return l||d?(l.lng=Math.min(f.lng,l.lng),l.lat=Math.min(f.lat,l.lat),d.lng=Math.max(b.lng,d.lng),d.lat=Math.max(b.lat,d.lat)):(this._sw=new Ir(f.lng,f.lat),this._ne=new Ir(b.lng,b.lat)),this}getCenter(){return new Ir((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Ir(this.getWest(),this.getNorth())}getSouthEast(){return new Ir(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:l,lat:d}=Ir.convert(n);let f=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(f=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&f}static convert(n){return!n||n instanceof _d?n:new _d(n)}}const Dh=63710088e-1;class Ir{constructor(n,l){if(isNaN(n)||isNaN(l))throw new Error(`Invalid LngLat object: (${n}, ${l})`);if(this.lng=+n,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ir(P(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const l=Math.PI/180,d=this.lat*l,f=n.lat*l,b=Math.sin(d)*Math.sin(f)+Math.cos(d)*Math.cos(f)*Math.cos((n.lng-this.lng)*l);return Dh*Math.acos(Math.min(b,1))}toBounds(n=0){const l=360*n/40075017,d=l/Math.cos(Math.PI/180*this.lat);return new _d(new Ir(this.lng-d,this.lat-l),new Ir(this.lng+d,this.lat+l))}static convert(n){if(n instanceof Ir)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new Ir(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new Ir(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Zf=2*Math.PI*Dh;function c1(a){return Zf*Math.cos(a*Math.PI/180)}function lu(a){return(180+a)/360}function dc(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function hc(a,n){return a/c1(n)}function pl(a){return 360*a-180}function Ca(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}function u1(a,n){return a*c1(Ca(n))}const Ea=85.051129;function d1(a){return 1/Math.cos(a*Math.PI/180)}class Ih{constructor(n,l,d=0){this.x=+n,this.y=+l,this.z=+d}static fromLngLat(n,l=0){const d=Ir.convert(n);return new Ih(lu(d.lng),dc(d.lat),hc(l,d.lat))}toLngLat(){return new Ir(pl(this.x),Ca(this.y))}toAltitude(){return u1(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Zf*d1(Ca(this.y))}}function h1(a,n,l,d,f,b,C,F,te){const re=(n+d)/2,me=(l+f)/2,Se=new U(re,me);F(Se),function(Me,Oe,Ne,He,tt,_t){const Dt=Ne-tt,yt=He-_t;return Math.abs((He-Oe)*Dt-(Ne-Me)*yt)/Math.hypot(Dt,yt)}(Se.x,Se.y,b.x,b.y,C.x,C.y)>=te?(h1(a,n,l,re,me,b,Se,F,te),h1(a,re,me,d,f,Se,C,F,te)):a.push(C)}function p1(a,n,l){let d=a[0],f=d.x,b=d.y;n(d);const C=[d];for(let F=1;F<a.length;F++){const te=a[F],{x:re,y:me}=te;n(te),h1(C,f,b,re,me,d,te,n,l),f=re,b=me,d=te}return C}function f1(a,n,l,d){if(d(n,l)){const f=n.add(l)._mult(.5);f1(a,n,f,d),f1(a,f,l,d)}else a.push(l)}function v2(a,n){let l=a[0];const d=[l];for(let f=1;f<a.length;f++){const b=a[f];f1(d,l,b,n),l=b}return d}const cu=Math.pow(2,14)-1,Mm=-cu-1;function m1(a,n){const l=Math.round(a.x*n),d=Math.round(a.y*n);return a.x=g(l,Mm,cu),a.y=g(d,Mm,cu),(l<a.x||l>a.x+1||d<a.y||d>a.y+1)&&oe("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a}function uu(a,n,l){const d=a.loadGeometry(),f=a.extent,b=Bn/f;if(n&&l&&l.projection.isReprojectedInTileSpace){const C=1<<n.z,{scale:F,x:te,y:re,projection:me}=l,Se=Me=>{const Oe=pl((n.x+Me.x/f)/C),Ne=Ca((n.y+Me.y/f)/C),He=me.project(Oe,Ne);Me.x=(He.x*F-te)*f,Me.y=(He.y*F-re)*f};for(let Me=0;Me<d.length;Me++)if(a.type!==1)d[Me]=p1(d[Me],Se,1);else{const Oe=[];for(const Ne of d[Me])Ne.x<0||Ne.x>=f||Ne.y<0||Ne.y>=f||(Se(Ne),Oe.push(Ne));d[Me]=Oe}}for(const C of d)for(const F of C)m1(F,b);return d}function $u(a,n){return{type:a.type,id:a.id,properties:a.properties,geometry:n?uu(a):[]}}function vd(a,n,l,d,f){a.emplaceBack(2*n+(d+1)/2,2*l+(f+1)/2)}function Zn(a,n,l){a.emplaceBack(n.x,n.y,n.z,l[0]*16384,l[1]*16384,l[2]*16384)}class Ap{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(l=>l.id),this.index=n.index,this.hasPattern=!1,this.projection=n.projection,this.layoutVertexArray=new Wr,this.indexArray=new da,this.segments=new To,this.programConfigurations=new Uu(n.layers,n.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(n,l,d,f){const b=this.layers[0],C=[];let F=null;b.type==="circle"&&(F=b.layout.get("circle-sort-key"));for(const{feature:re,id:me,index:Se,sourceLayerIndex:Me}of n){const Oe=this.layers[0]._featureFilter.needGeometry,Ne=$u(re,Oe);if(!this.layers[0]._featureFilter.filter(new Yt(this.zoom),Ne,d))continue;const He=F?F.evaluate(Ne,{},d):void 0,tt={id:me,properties:re.properties,type:re.type,sourceLayerIndex:Me,index:Se,geometry:Oe?Ne.geometry:uu(re,d,f),patterns:{},sortKey:He};C.push(tt)}F&&C.sort((re,me)=>re.sortKey-me.sortKey);let te=null;f.projection.name==="globe"&&(this.globeExtVertexArray=new gs,te=f.projection);for(const re of C){const{geometry:me,index:Se,sourceLayerIndex:Me}=re,Oe=n[Se].feature;this.addFeature(re,me,Se,l.availableImages,d,te),l.featureIndex.insert(Oe,me,Se,Me,this.index)}}update(n,l,d,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,l,this.stateDependentLayers,d,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,_2.members),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,U_.members))),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(n,l,d,f,b,C){for(const F of l)for(const te of F){const re=te.x,me=te.y;if(re<0||re>=Bn||me<0||me>=Bn)continue;if(C){const Oe=C.projectTilePoint(re,me,b),Ne=C.upVector(b,re,me),He=this.globeExtVertexArray;Zn(He,Oe,Ne),Zn(He,Oe,Ne),Zn(He,Oe,Ne),Zn(He,Oe,Ne)}const Se=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),Me=Se.vertexLength;vd(this.layoutVertexArray,re,me,-1,-1),vd(this.layoutVertexArray,re,me,1,-1),vd(this.layoutVertexArray,re,me,1,1),vd(this.layoutVertexArray,re,me,-1,1),this.indexArray.emplaceBack(Me,Me+1,Me+2),this.indexArray.emplaceBack(Me,Me+2,Me+3),Se.vertexLength+=4,Se.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,{},f,b)}}function km(a,n){for(let l=0;l<a.length;l++)if(Oh(n,a[l]))return!0;for(let l=0;l<n.length;l++)if(Oh(a,n[l]))return!0;return!!Am(a,n)}function Lh(a,n,l){return!!Oh(a,n)||!!y1(n,a,l)}function $_(a,n){if(a.length===1)return _1(n,a[0]);for(let l=0;l<n.length;l++){const d=n[l];for(let f=0;f<d.length;f++)if(Oh(a,d[f]))return!0}for(let l=0;l<a.length;l++)if(_1(n,a[l]))return!0;for(let l=0;l<n.length;l++)if(Am(a,n[l]))return!0;return!1}function g1(a,n,l){if(a.length>1){if(Am(a,n))return!0;for(let d=0;d<n.length;d++)if(y1(n[d],a,l))return!0}for(let d=0;d<a.length;d++)if(y1(a[d],n,l))return!0;return!1}function Am(a,n){if(a.length===0||n.length===0)return!1;for(let l=0;l<a.length-1;l++){const d=a[l],f=a[l+1];for(let b=0;b<n.length-1;b++)if(Ka(d,f,n[b],n[b+1]))return!0}return!1}function Ka(a,n,l,d){return ge(a,l,d)!==ge(n,l,d)&&ge(a,n,l)!==ge(a,n,d)}function y1(a,n,l){const d=l*l;if(n.length===1)return a.distSqr(n[0])<d;for(let f=1;f<n.length;f++)if(V_(a,n[f-1],n[f])<d)return!0;return!1}function V_(a,n,l){const d=n.distSqr(l);if(d===0)return a.distSqr(n);const f=((a.x-n.x)*(l.x-n.x)+(a.y-n.y)*(l.y-n.y))/d;return a.distSqr(f<0?n:f>1?l:l.sub(n)._mult(f)._add(n))}function _1(a,n){let l,d,f,b=!1;for(let C=0;C<a.length;C++){l=a[C];for(let F=0,te=l.length-1;F<l.length;te=F++)d=l[F],f=l[te],d.y>n.y!=f.y>n.y&&n.x<(f.x-d.x)*(n.y-d.y)/(f.y-d.y)+d.x&&(b=!b)}return b}function Oh(a,n){let l=!1;for(let d=0,f=a.length-1;d<a.length;f=d++){const b=a[d],C=a[f];b.y>n.y!=C.y>n.y&&n.x<(C.x-b.x)*(n.y-b.y)/(C.y-b.y)+b.x&&(l=!l)}return l}function v1(a,n,l,d,f){for(const C of a)if(n<=C.x&&l<=C.y&&d>=C.x&&f>=C.y)return!0;const b=[new U(n,l),new U(n,f),new U(d,f),new U(d,l)];if(a.length>2){for(const C of b)if(Oh(a,C))return!0}for(let C=0;C<a.length-1;C++)if(x2(a[C],a[C+1],b))return!0;return!1}function x2(a,n,l){const d=l[0],f=l[2];if(a.x<d.x&&n.x<d.x||a.x>f.x&&n.x>f.x||a.y<d.y&&n.y<d.y||a.y>f.y&&n.y>f.y)return!1;const b=ge(a,n,l[0]);return b!==ge(a,n,l[1])||b!==ge(a,n,l[2])||b!==ge(a,n,l[3])}function Pp(a,n,l){const d=n.paint.get(a).value;return d.kind==="constant"?d.value:l.programConfigurations.get(n.id).getMaxValue(a)}function Pm(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function Vu(a,n,l,d,f){if(!n[0]&&!n[1])return a;const b=U.convert(n)._mult(f);l==="viewport"&&b._rotate(-d);const C=[];for(let F=0;F<a.length;F++)C.push(a[F].sub(b));return C}function Ja(a,n,l,d){const f=U.convert(a)._mult(d);return n==="viewport"&&f._rotate(-l),f}rn(Ap,"CircleBucket",{omit:["layers"]});const x1=new Sn({"circle-sort-key":new ri(yi.layout_circle["circle-sort-key"])});var b2={paint:new Sn({"circle-radius":new ri(yi.paint_circle["circle-radius"]),"circle-color":new ri(yi.paint_circle["circle-color"]),"circle-blur":new ri(yi.paint_circle["circle-blur"]),"circle-opacity":new ri(yi.paint_circle["circle-opacity"]),"circle-translate":new Xt(yi.paint_circle["circle-translate"]),"circle-translate-anchor":new Xt(yi.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Xt(yi.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Xt(yi.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ri(yi.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ri(yi.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ri(yi.paint_circle["circle-stroke-opacity"])}),layout:x1},Dp=1e-6,Dl=typeof Float32Array<"u"?Float32Array:Array;function G_(){var a=new Dl(9);return Dl!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function Ip(a,n,l){var d=n[0],f=n[1],b=n[2],C=n[3],F=n[4],te=n[5],re=n[6],me=n[7],Se=n[8],Me=l[0],Oe=l[1],Ne=l[2],He=l[3],tt=l[4],_t=l[5],Dt=l[6],yt=l[7],Tt=l[8];return a[0]=Me*d+Oe*C+Ne*re,a[1]=Me*f+Oe*F+Ne*me,a[2]=Me*b+Oe*te+Ne*Se,a[3]=He*d+tt*C+_t*re,a[4]=He*f+tt*F+_t*me,a[5]=He*b+tt*te+_t*Se,a[6]=Dt*d+yt*C+Tt*re,a[7]=Dt*f+yt*F+Tt*me,a[8]=Dt*b+yt*te+Tt*Se,a}function Lc(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Dm(a,n){var l=n[0],d=n[1],f=n[2],b=n[3],C=n[4],F=n[5],te=n[6],re=n[7],me=n[8],Se=n[9],Me=n[10],Oe=n[11],Ne=n[12],He=n[13],tt=n[14],_t=n[15],Dt=l*F-d*C,yt=l*te-f*C,Tt=l*re-b*C,Bt=d*te-f*F,It=d*re-b*F,ii=f*re-b*te,ti=me*He-Se*Ne,xi=me*tt-Me*Ne,ji=me*_t-Oe*Ne,li=Se*tt-Me*He,Si=Se*_t-Oe*He,Ei=Me*_t-Oe*tt,Oi=Dt*Ei-yt*Si+Tt*li+Bt*ji-It*xi+ii*ti;return Oi?(a[0]=(F*Ei-te*Si+re*li)*(Oi=1/Oi),a[1]=(f*Si-d*Ei-b*li)*Oi,a[2]=(He*ii-tt*It+_t*Bt)*Oi,a[3]=(Me*It-Se*ii-Oe*Bt)*Oi,a[4]=(te*ji-C*Ei-re*xi)*Oi,a[5]=(l*Ei-f*ji+b*xi)*Oi,a[6]=(tt*Tt-Ne*ii-_t*yt)*Oi,a[7]=(me*ii-Me*Tt+Oe*yt)*Oi,a[8]=(C*Si-F*ji+re*ti)*Oi,a[9]=(d*ji-l*Si-b*ti)*Oi,a[10]=(Ne*It-He*Tt+_t*Dt)*Oi,a[11]=(Se*Tt-me*It-Oe*Dt)*Oi,a[12]=(F*xi-C*li-te*ti)*Oi,a[13]=(l*li-d*xi+f*ti)*Oi,a[14]=(He*yt-Ne*Bt-tt*Dt)*Oi,a[15]=(me*Bt-Se*yt+Me*Dt)*Oi,a):null}function Rh(a,n,l){var d=n[0],f=n[1],b=n[2],C=n[3],F=n[4],te=n[5],re=n[6],me=n[7],Se=n[8],Me=n[9],Oe=n[10],Ne=n[11],He=n[12],tt=n[13],_t=n[14],Dt=n[15],yt=l[0],Tt=l[1],Bt=l[2],It=l[3];return a[0]=yt*d+Tt*F+Bt*Se+It*He,a[1]=yt*f+Tt*te+Bt*Me+It*tt,a[2]=yt*b+Tt*re+Bt*Oe+It*_t,a[3]=yt*C+Tt*me+Bt*Ne+It*Dt,a[4]=(yt=l[4])*d+(Tt=l[5])*F+(Bt=l[6])*Se+(It=l[7])*He,a[5]=yt*f+Tt*te+Bt*Me+It*tt,a[6]=yt*b+Tt*re+Bt*Oe+It*_t,a[7]=yt*C+Tt*me+Bt*Ne+It*Dt,a[8]=(yt=l[8])*d+(Tt=l[9])*F+(Bt=l[10])*Se+(It=l[11])*He,a[9]=yt*f+Tt*te+Bt*Me+It*tt,a[10]=yt*b+Tt*re+Bt*Oe+It*_t,a[11]=yt*C+Tt*me+Bt*Ne+It*Dt,a[12]=(yt=l[12])*d+(Tt=l[13])*F+(Bt=l[14])*Se+(It=l[15])*He,a[13]=yt*f+Tt*te+Bt*Me+It*tt,a[14]=yt*b+Tt*re+Bt*Oe+It*_t,a[15]=yt*C+Tt*me+Bt*Ne+It*Dt,a}function Kf(a,n,l){var d,f,b,C,F,te,re,me,Se,Me,Oe,Ne,He=l[0],tt=l[1],_t=l[2];return n===a?(a[12]=n[0]*He+n[4]*tt+n[8]*_t+n[12],a[13]=n[1]*He+n[5]*tt+n[9]*_t+n[13],a[14]=n[2]*He+n[6]*tt+n[10]*_t+n[14],a[15]=n[3]*He+n[7]*tt+n[11]*_t+n[15]):(f=n[1],b=n[2],C=n[3],F=n[4],te=n[5],re=n[6],me=n[7],Se=n[8],Me=n[9],Oe=n[10],Ne=n[11],a[0]=d=n[0],a[1]=f,a[2]=b,a[3]=C,a[4]=F,a[5]=te,a[6]=re,a[7]=me,a[8]=Se,a[9]=Me,a[10]=Oe,a[11]=Ne,a[12]=d*He+F*tt+Se*_t+n[12],a[13]=f*He+te*tt+Me*_t+n[13],a[14]=b*He+re*tt+Oe*_t+n[14],a[15]=C*He+me*tt+Ne*_t+n[15]),a}function Bh(a,n,l){var d=l[0],f=l[1],b=l[2];return a[0]=n[0]*d,a[1]=n[1]*d,a[2]=n[2]*d,a[3]=n[3]*d,a[4]=n[4]*f,a[5]=n[5]*f,a[6]=n[6]*f,a[7]=n[7]*f,a[8]=n[8]*b,a[9]=n[9]*b,a[10]=n[10]*b,a[11]=n[11]*b,a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15],a}function b1(a,n,l){var d=Math.sin(l),f=Math.cos(l),b=n[4],C=n[5],F=n[6],te=n[7],re=n[8],me=n[9],Se=n[10],Me=n[11];return n!==a&&(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15]),a[4]=b*f+re*d,a[5]=C*f+me*d,a[6]=F*f+Se*d,a[7]=te*f+Me*d,a[8]=re*f-b*d,a[9]=me*f-C*d,a[10]=Se*f-F*d,a[11]=Me*f-te*d,a}function Jf(a,n,l){var d=Math.sin(l),f=Math.cos(l),b=n[0],C=n[1],F=n[2],te=n[3],re=n[8],me=n[9],Se=n[10],Me=n[11];return n!==a&&(a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15]),a[0]=b*f-re*d,a[1]=C*f-me*d,a[2]=F*f-Se*d,a[3]=te*f-Me*d,a[8]=b*d+re*f,a[9]=C*d+me*f,a[10]=F*d+Se*f,a[11]=te*d+Me*f,a}function w1(a,n){return a[0]=n[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=n[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=n[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function H_(a,n,l){var d,f,b,C=l[0],F=l[1],te=l[2],re=Math.hypot(C,F,te);return re<Dp?null:(C*=re=1/re,F*=re,te*=re,d=Math.sin(n),f=Math.cos(n),a[0]=C*C*(b=1-f)+f,a[1]=F*C*b+te*d,a[2]=te*C*b-F*d,a[3]=0,a[4]=C*F*b-te*d,a[5]=F*F*b+f,a[6]=te*F*b+C*d,a[7]=0,a[8]=C*te*b+F*d,a[9]=F*te*b-C*d,a[10]=te*te*b+f,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}Math.hypot||(Math.hypot=function(){for(var a=0,n=arguments.length;n--;)a+=arguments[n]*arguments[n];return Math.sqrt(a)});var T1=Rh;function Im(){var a=new Dl(3);return Dl!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function Lp(a){var n=new Dl(3);return n[0]=a[0],n[1]=a[1],n[2]=a[2],n}function Nh(a){return Math.hypot(a[0],a[1],a[2])}function zh(a,n,l){var d=new Dl(3);return d[0]=a,d[1]=n,d[2]=l,d}function Gu(a,n,l){return a[0]=n[0]+l[0],a[1]=n[1]+l[1],a[2]=n[2]+l[2],a}function Op(a,n,l){return a[0]=n[0]-l[0],a[1]=n[1]-l[1],a[2]=n[2]-l[2],a}function S1(a,n,l){return a[0]=n[0]*l[0],a[1]=n[1]*l[1],a[2]=n[2]*l[2],a}function Il(a,n,l){return a[0]=Math.min(n[0],l[0]),a[1]=Math.min(n[1],l[1]),a[2]=Math.min(n[2],l[2]),a}function du(a,n,l){return a[0]=Math.max(n[0],l[0]),a[1]=Math.max(n[1],l[1]),a[2]=Math.max(n[2],l[2]),a}function pc(a,n,l){return a[0]=n[0]*l,a[1]=n[1]*l,a[2]=n[2]*l,a}function Rp(a,n,l,d){return a[0]=n[0]+l[0]*d,a[1]=n[1]+l[1]*d,a[2]=n[2]+l[2]*d,a}function Qa(a,n){var l=n[0],d=n[1],f=n[2],b=l*l+d*d+f*f;return b>0&&(b=1/Math.sqrt(b)),a[0]=n[0]*b,a[1]=n[1]*b,a[2]=n[2]*b,a}function Oc(a,n){return a[0]*n[0]+a[1]*n[1]+a[2]*n[2]}function C1(a,n,l){var d=n[0],f=n[1],b=n[2],C=l[0],F=l[1],te=l[2];return a[0]=f*te-b*F,a[1]=b*C-d*te,a[2]=d*F-f*C,a}function go(a,n,l){var d=n[0],f=n[1],b=n[2],C=l[3]*d+l[7]*f+l[11]*b+l[15];return a[0]=(l[0]*d+l[4]*f+l[8]*b+l[12])/(C=C||1),a[1]=(l[1]*d+l[5]*f+l[9]*b+l[13])/C,a[2]=(l[2]*d+l[6]*f+l[10]*b+l[14])/C,a}function W_(a,n,l){var d=l[0],f=l[1],b=l[2],C=n[0],F=n[1],te=n[2],re=f*te-b*F,me=b*C-d*te,Se=d*F-f*C,Me=f*Se-b*me,Oe=b*re-d*Se,Ne=d*me-f*re,He=2*l[3];return me*=He,Se*=He,Oe*=2,Ne*=2,a[0]=C+(re*=He)+(Me*=2),a[1]=F+me+Oe,a[2]=te+Se+Ne,a}var Qf,hu=Op,w2=S1,T2=Nh;function Y_(a,n,l){return a[0]=n[0]*l,a[1]=n[1]*l,a[2]=n[2]*l,a[3]=n[3]*l,a}function q_(a,n){var l=n[0],d=n[1],f=n[2],b=n[3],C=l*l+d*d+f*f+b*b;return C>0&&(C=1/Math.sqrt(C)),a[0]=l*C,a[1]=d*C,a[2]=f*C,a[3]=b*C,a}function Jd(a,n,l){var d=n[0],f=n[1],b=n[2],C=n[3];return a[0]=l[0]*d+l[4]*f+l[8]*b+l[12]*C,a[1]=l[1]*d+l[5]*f+l[9]*b+l[13]*C,a[2]=l[2]*d+l[6]*f+l[10]*b+l[14]*C,a[3]=l[3]*d+l[7]*f+l[11]*b+l[15]*C,a}function E1(){var a=new Dl(4);return Dl!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function M1(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function X_(a,n,l){l*=.5;var d=n[0],f=n[1],b=n[2],C=n[3],F=Math.sin(l),te=Math.cos(l);return a[0]=d*te+C*F,a[1]=f*te+b*F,a[2]=b*te-f*F,a[3]=C*te-d*F,a}function Z_(a,n,l){l*=.5;var d=n[0],f=n[1],b=n[2],C=n[3],F=Math.sin(l),te=Math.cos(l);return a[0]=d*te-b*F,a[1]=f*te+C*F,a[2]=b*te+d*F,a[3]=C*te-f*F,a}Im(),Qf=new Dl(4),Dl!=Float32Array&&(Qf[0]=0,Qf[1]=0,Qf[2]=0,Qf[3]=0);var S2=q_;Im(),zh(1,0,0),zh(0,1,0),E1(),E1(),G_();class Lm{constructor(n,l){this.pos=n,this.dir=l}intersectsPlane(n,l,d){const f=Oc(l,this.dir);if(Math.abs(f)<1e-6)return!1;const b=((n[0]-this.pos[0])*l[0]+(n[1]-this.pos[1])*l[1]+(n[2]-this.pos[2])*l[2])/f;return d[0]=this.pos[0]+this.dir[0]*b,d[1]=this.pos[1]+this.dir[1]*b,d[2]=this.pos[2]+this.dir[2]*b,!0}closestPointOnSphere(n,l,d){if(function(Oe,Ne){var He=Oe[0],tt=Oe[1],_t=Oe[2],Dt=Ne[0],yt=Ne[1],Tt=Ne[2];return Math.abs(He-Dt)<=Dp*Math.max(1,Math.abs(He),Math.abs(Dt))&&Math.abs(tt-yt)<=Dp*Math.max(1,Math.abs(tt),Math.abs(yt))&&Math.abs(_t-Tt)<=Dp*Math.max(1,Math.abs(_t),Math.abs(Tt))}(this.pos,n)||l===0)return d[0]=d[1]=d[2]=0,!1;const[f,b,C]=this.dir,F=this.pos[0]-n[0],te=this.pos[1]-n[1],re=this.pos[2]-n[2],me=f*f+b*b+C*C,Se=2*(F*f+te*b+re*C),Me=Se*Se-4*me*(F*F+te*te+re*re-l*l);if(Me<0){const Oe=Math.max(-Se/2,0),Ne=F+f*Oe,He=te+b*Oe,tt=re+C*Oe,_t=Math.hypot(Ne,He,tt);return d[0]=Ne*l/_t,d[1]=He*l/_t,d[2]=tt*l/_t,!1}{const Oe=(-Se-Math.sqrt(Me))/(2*me);if(Oe<0){const Ne=Math.hypot(F,te,re);return d[0]=F*l/Ne,d[1]=te*l/Ne,d[2]=re*l/Ne,!1}return d[0]=F+f*Oe,d[1]=te+b*Oe,d[2]=re+C*Oe,!0}}}class k1{constructor(n,l,d,f,b){this.TL=n,this.TR=l,this.BR=d,this.BL=f,this.horizon=b}static fromInvProjectionMatrix(n,l,d){const f=[-1,1,1],b=[1,1,1],C=[1,-1,1],F=[-1,-1,1],te=go(f,f,n),re=go(b,b,n),me=go(C,C,n),Se=go(F,F,n);return new k1(te,re,me,Se,l/d)}}class A1{constructor(n,l){this.points=n,this.planes=l}static fromInvProjectionMatrix(n,l,d,f){const b=Math.pow(2,d),C=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(te=>{const re=Jd([],te,n),me=1/re[3]/l*b;return function(Se,Me,Oe){return Se[0]=Me[0]*Oe[0],Se[1]=Me[1]*Oe[1],Se[2]=Me[2]*Oe[2],Se[3]=Me[3]*Oe[3],Se}(re,re,[me,me,f?1/re[3]:me,me])}),F=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(te=>{const re=Qa([],C1([],hu([],C[te[0]],C[te[1]]),hu([],C[te[2]],C[te[1]]))),me=-Oc(re,C[te[1]]);return re.concat(me)});return new A1(C,F)}}class el{static fromPoints(n){const l=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const f of n)Il(l,l,f),du(d,d,f);return new el(l,d)}static applyTransform(n,l){const d=n.getCorners();for(let f=0;f<d.length;++f)go(d[f],d[f],l);return el.fromPoints(d)}constructor(n,l){this.min=n,this.max=l,this.center=pc([],Gu([],this.min,this.max),.5)}quadrant(n){const l=[n%2==0,n<2],d=Lp(this.min),f=Lp(this.max);for(let b=0;b<l.length;b++)d[b]=l[b]?this.min[b]:this.center[b],f[b]=l[b]?this.center[b]:this.max[b];return f[2]=this.max[2],new el(d,f)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}distanceZ(n){return Math.max(Math.min(this.max[2],n[2]),this.min[2])-n[2]}getCorners(){const n=this.min,l=this.max;return[[n[0],n[1],n[2]],[l[0],n[1],n[2]],[l[0],l[1],n[2]],[n[0],l[1],n[2]],[n[0],n[1],l[2]],[l[0],n[1],l[2]],[l[0],l[1],l[2]],[n[0],l[1],l[2]]]}intersects(n){const l=this.getCorners();let d=!0;for(let f=0;f<n.planes.length;f++){const b=n.planes[f];let C=0;for(let F=0;F<l.length;F++)C+=Oc(b,l[F])+b[3]>=0;if(C===0)return 0;C!==l.length&&(d=!1)}if(d)return 2;for(let f=0;f<3;f++){let b=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let F=0;F<n.points.length;F++){const te=n.points[F][f]-this.min[f];b=Math.min(b,te),C=Math.max(C,te)}if(C<0||b>this.max[f]-this.min[f])return 0}return 1}}function K_(a,n,l,d,f,b,C,F,te){if(b&&a.queryGeometry.isAboveHorizon)return!1;b&&(te*=a.pixelToTileUnitsFactor);const re=a.tileID.canonical,me=l.projection.upVectorScale(re,l.center.lat,l.worldSize).metersToTile;for(const Se of n)for(const Me of Se){const Oe=Me.add(F),Ne=f&&l.elevation?l.elevation.exaggeration()*f.getElevationAt(Oe.x,Oe.y,!0):0,He=l.projection.projectTilePoint(Oe.x,Oe.y,re);if(Ne>0){const yt=l.projection.upVector(re,Oe.x,Oe.y);He.x+=yt[0]*me*Ne,He.y+=yt[1]*me*Ne,He.z+=yt[2]*me*Ne}const tt=b?Oe:C2(He.x,He.y,He.z,d),_t=b?a.tilespaceRays.map(yt=>E2(yt,Ne)):a.queryGeometry.screenGeometry,Dt=Jd([],[He.x,He.y,He.z,1],d);if(!C&&b?te*=Dt[3]/l.cameraToCenterDistance:C&&!b&&(te*=l.cameraToCenterDistance/Dt[3]),b){const yt=Ca((Me.y/Bn+re.y)/(1<<re.z));te/=l.projection.pixelsPerMeter(yt,1)/hc(1,yt)}if(Lh(_t,tt,te))return!0}return!1}function C2(a,n,l,d){const f=Jd([],[a,n,l,1],d);return new U(f[0]/f[3],f[1]/f[3])}const J_=zh(0,0,0),Rc=zh(0,0,1);function E2(a,n){const l=Im();return J_[2]=n,a.intersectsPlane(J_,Rc,l),new U(l[0],l[1])}class Q_ extends Ap{}function ev(a,{width:n,height:l},d,f){if(f){if(f instanceof Uint8ClampedArray)f=new Uint8Array(f.buffer);else if(f.length!==n*l*d)throw new RangeError("mismatched image size")}else f=new Uint8Array(n*l*d);return a.width=n,a.height=l,a.data=f,a}function P1(a,n,l){const{width:d,height:f}=n;d===a.width&&f===a.height||(D1(a,n,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,d),height:Math.min(a.height,f)},l),a.width=d,a.height=f,a.data=n.data)}function D1(a,n,l,d,f,b){if(f.width===0||f.height===0)return n;if(f.width>a.width||f.height>a.height||l.x>a.width-f.width||l.y>a.height-f.height)throw new RangeError("out of range source coordinates for image copy");if(f.width>n.width||f.height>n.height||d.x>n.width-f.width||d.y>n.height-f.height)throw new RangeError("out of range destination coordinates for image copy");const C=a.data,F=n.data;for(let te=0;te<f.height;te++){const re=((l.y+te)*a.width+l.x)*b,me=((d.y+te)*n.width+d.x)*b;for(let Se=0;Se<f.width*b;Se++)F[me+Se]=C[re+Se]}return n}rn(Q_,"HeatmapBucket",{omit:["layers"]});class xd{constructor(n,l){ev(this,n,1,l)}resize(n){P1(this,new xd(n),1)}clone(){return new xd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,l,d,f,b){D1(n,l,d,f,b,1)}}class Ll{constructor(n,l){ev(this,n,4,l)}resize(n){P1(this,new Ll(n),4)}replace(n,l){l?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Ll({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,l,d,f,b){D1(n,l,d,f,b,4)}}rn(xd,"AlphaImage"),rn(Ll,"RGBAImage");var M2={paint:new Sn({"heatmap-radius":new ri(yi.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ri(yi.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Xt(yi.paint_heatmap["heatmap-intensity"]),"heatmap-color":new gn(yi.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Xt(yi.paint_heatmap["heatmap-opacity"])})};function e0(a){const n={},l=a.resolution||256,d=a.clips?a.clips.length:1,f=a.image||new Ll({width:l,height:d}),b=(C,F,te)=>{n[a.evaluationKey]=te;const re=a.expression.evaluate(n);f.data[C+F+0]=Math.floor(255*re.r/re.a),f.data[C+F+1]=Math.floor(255*re.g/re.a),f.data[C+F+2]=Math.floor(255*re.b/re.a),f.data[C+F+3]=Math.floor(255*re.a)};if(a.clips)for(let C=0,F=0;C<d;++C,F+=4*l)for(let te=0,re=0;te<l;te++,re+=4){const me=te/(l-1),{start:Se,end:Me}=a.clips[C];b(F,re,Se*(1-me)+Me*me)}else for(let C=0,F=0;C<l;C++,F+=4)b(0,F,C/(l-1));return f}var k2={paint:new Sn({"hillshade-illumination-direction":new Xt(yi.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Xt(yi.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Xt(yi.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Xt(yi.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Xt(yi.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Xt(yi.paint_hillshade["hillshade-accent-color"])})};const A2=hn([{name:"a_pos",components:2,type:"Int16"}],4),{members:P2}=A2;var t0={exports:{}};function Om(a,n,l){l=l||2;var d,f,b,C,F,te,re,me=n&&n.length,Se=me?n[0]*l:a.length,Me=tv(a,0,Se,l,!0),Oe=[];if(!Me||Me.next===Me.prev)return Oe;if(me&&(Me=function(He,tt,_t,Dt){var yt,Tt,Bt,It=[];for(yt=0,Tt=tt.length;yt<Tt;yt++)(Bt=tv(He,tt[yt]*Dt,yt<Tt-1?tt[yt+1]*Dt:He.length,Dt,!1))===Bt.next&&(Bt.steiner=!0),It.push(z2(Bt));for(It.sort(R2),yt=0;yt<It.length;yt++)_t=B2(It[yt],_t);return _t}(a,n,Me,l)),a.length>80*l){d=b=a[0],f=C=a[1];for(var Ne=l;Ne<Se;Ne+=l)(F=a[Ne])<d&&(d=F),(te=a[Ne+1])<f&&(f=te),F>b&&(b=F),te>C&&(C=te);re=(re=Math.max(b-d,C-f))!==0?32767/re:0}return i0(Me,Oe,l,d,f,re,0),Oe}function tv(a,n,l,d,f){var b,C;if(f===R1(a,n,l,d)>0)for(b=n;b<l;b+=d)C=nv(b,a[b],a[b+1],C);else for(b=l-d;b>=n;b-=d)C=nv(b,a[b],a[b+1],C);return C&&Np(C,C.next)&&(r0(C),C=C.next),C}function Fh(a,n){if(!a)return a;n||(n=a);var l,d=a;do if(l=!1,d.steiner||!Np(d,d.next)&&So(d.prev,d,d.next)!==0)d=d.next;else{if(r0(d),(d=n=d.prev)===d.next)break;l=!0}while(l||d!==n);return n}function i0(a,n,l,d,f,b,C){if(a){!C&&b&&function(me,Se,Me,Oe){var Ne=me;do Ne.z===0&&(Ne.z=I1(Ne.x,Ne.y,Se,Me,Oe)),Ne.prevZ=Ne.prev,Ne.nextZ=Ne.next,Ne=Ne.next;while(Ne!==me);Ne.prevZ.nextZ=null,Ne.prevZ=null,function(He){var tt,_t,Dt,yt,Tt,Bt,It,ii,ti=1;do{for(_t=He,He=null,Tt=null,Bt=0;_t;){for(Bt++,Dt=_t,It=0,tt=0;tt<ti&&(It++,Dt=Dt.nextZ);tt++);for(ii=ti;It>0||ii>0&&Dt;)It!==0&&(ii===0||!Dt||_t.z<=Dt.z)?(yt=_t,_t=_t.nextZ,It--):(yt=Dt,Dt=Dt.nextZ,ii--),Tt?Tt.nextZ=yt:He=yt,yt.prevZ=Tt,Tt=yt;_t=Dt}Tt.nextZ=null,ti*=2}while(Bt>1)}(Ne)}(a,d,f,b);for(var F,te,re=a;a.prev!==a.next;)if(F=a.prev,te=a.next,b?I2(a,d,f,b):D2(a))n.push(F.i/l|0),n.push(a.i/l|0),n.push(te.i/l|0),r0(a),a=te.next,re=te.next;else if((a=te)===re){C?C===1?i0(a=L2(Fh(a),n,l),n,l,d,f,b,2):C===2&&O2(a,n,l,d,f,b):i0(Fh(a),n,l,d,f,b,1);break}}}function D2(a){var n=a.prev,l=a,d=a.next;if(So(n,l,d)>=0)return!1;for(var f=n.x,b=l.x,C=d.x,F=n.y,te=l.y,re=d.y,me=f<b?f<C?f:C:b<C?b:C,Se=F<te?F<re?F:re:te<re?te:re,Me=f>b?f>C?f:C:b>C?b:C,Oe=F>te?F>re?F:re:te>re?te:re,Ne=d.next;Ne!==n;){if(Ne.x>=me&&Ne.x<=Me&&Ne.y>=Se&&Ne.y<=Oe&&Bp(f,F,b,te,C,re,Ne.x,Ne.y)&&So(Ne.prev,Ne,Ne.next)>=0)return!1;Ne=Ne.next}return!0}function I2(a,n,l,d){var f=a.prev,b=a,C=a.next;if(So(f,b,C)>=0)return!1;for(var F=f.x,te=b.x,re=C.x,me=f.y,Se=b.y,Me=C.y,Oe=F<te?F<re?F:re:te<re?te:re,Ne=me<Se?me<Me?me:Me:Se<Me?Se:Me,He=F>te?F>re?F:re:te>re?te:re,tt=me>Se?me>Me?me:Me:Se>Me?Se:Me,_t=I1(Oe,Ne,n,l,d),Dt=I1(He,tt,n,l,d),yt=a.prevZ,Tt=a.nextZ;yt&&yt.z>=_t&&Tt&&Tt.z<=Dt;){if(yt.x>=Oe&&yt.x<=He&&yt.y>=Ne&&yt.y<=tt&&yt!==f&&yt!==C&&Bp(F,me,te,Se,re,Me,yt.x,yt.y)&&So(yt.prev,yt,yt.next)>=0||(yt=yt.prevZ,Tt.x>=Oe&&Tt.x<=He&&Tt.y>=Ne&&Tt.y<=tt&&Tt!==f&&Tt!==C&&Bp(F,me,te,Se,re,Me,Tt.x,Tt.y)&&So(Tt.prev,Tt,Tt.next)>=0))return!1;Tt=Tt.nextZ}for(;yt&&yt.z>=_t;){if(yt.x>=Oe&&yt.x<=He&&yt.y>=Ne&&yt.y<=tt&&yt!==f&&yt!==C&&Bp(F,me,te,Se,re,Me,yt.x,yt.y)&&So(yt.prev,yt,yt.next)>=0)return!1;yt=yt.prevZ}for(;Tt&&Tt.z<=Dt;){if(Tt.x>=Oe&&Tt.x<=He&&Tt.y>=Ne&&Tt.y<=tt&&Tt!==f&&Tt!==C&&Bp(F,me,te,Se,re,Me,Tt.x,Tt.y)&&So(Tt.prev,Tt,Tt.next)>=0)return!1;Tt=Tt.nextZ}return!0}function L2(a,n,l){var d=a;do{var f=d.prev,b=d.next.next;!Np(f,b)&&L1(f,d,d.next,b)&&n0(f,b)&&n0(b,f)&&(n.push(f.i/l|0),n.push(d.i/l|0),n.push(b.i/l|0),r0(d),r0(d.next),d=a=b),d=d.next}while(d!==a);return Fh(d)}function O2(a,n,l,d,f,b){var C=a;do{for(var F=C.next.next;F!==C.prev;){if(C.i!==F.i&&F2(C,F)){var te=iv(C,F);return C=Fh(C,C.next),te=Fh(te,te.next),i0(C,n,l,d,f,b,0),void i0(te,n,l,d,f,b,0)}F=F.next}C=C.next}while(C!==a)}function R2(a,n){return a.x-n.x}function B2(a,n){var l=function(f,b){var C,F=b,te=f.x,re=f.y,me=-1/0;do{if(re<=F.y&&re>=F.next.y&&F.next.y!==F.y){var Se=F.x+(re-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(Se<=te&&Se>me&&(me=Se,C=F.x<F.next.x?F:F.next,Se===te))return C}F=F.next}while(F!==b);if(!C)return null;var Me,Oe=C,Ne=C.x,He=C.y,tt=1/0;F=C;do te>=F.x&&F.x>=Ne&&te!==F.x&&Bp(re<He?te:me,re,Ne,He,re<He?me:te,re,F.x,F.y)&&(Me=Math.abs(re-F.y)/(te-F.x),n0(F,f)&&(Me<tt||Me===tt&&(F.x>C.x||F.x===C.x&&N2(C,F)))&&(C=F,tt=Me)),F=F.next;while(F!==Oe);return C}(a,n);if(!l)return n;var d=iv(l,a);return Fh(d,d.next),Fh(l,l.next)}function N2(a,n){return So(a.prev,a,n.prev)<0&&So(n.next,a,a.next)<0}function I1(a,n,l,d,f){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-l)*f|0)|a<<8))|a<<4))|a<<2))|a<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-d)*f|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function z2(a){var n=a,l=a;do(n.x<l.x||n.x===l.x&&n.y<l.y)&&(l=n),n=n.next;while(n!==a);return l}function Bp(a,n,l,d,f,b,C,F){return(f-C)*(n-F)>=(a-C)*(b-F)&&(a-C)*(d-F)>=(l-C)*(n-F)&&(l-C)*(b-F)>=(f-C)*(d-F)}function F2(a,n){return a.next.i!==n.i&&a.prev.i!==n.i&&!function(l,d){var f=l;do{if(f.i!==l.i&&f.next.i!==l.i&&f.i!==d.i&&f.next.i!==d.i&&L1(f,f.next,l,d))return!0;f=f.next}while(f!==l);return!1}(a,n)&&(n0(a,n)&&n0(n,a)&&function(l,d){var f=l,b=!1,C=(l.x+d.x)/2,F=(l.y+d.y)/2;do f.y>F!=f.next.y>F&&f.next.y!==f.y&&C<(f.next.x-f.x)*(F-f.y)/(f.next.y-f.y)+f.x&&(b=!b),f=f.next;while(f!==l);return b}(a,n)&&(So(a.prev,a,n.prev)||So(a,n.prev,n))||Np(a,n)&&So(a.prev,a,a.next)>0&&So(n.prev,n,n.next)>0)}function So(a,n,l){return(n.y-a.y)*(l.x-n.x)-(n.x-a.x)*(l.y-n.y)}function Np(a,n){return a.x===n.x&&a.y===n.y}function L1(a,n,l,d){var f=Bm(So(a,n,l)),b=Bm(So(a,n,d)),C=Bm(So(l,d,a)),F=Bm(So(l,d,n));return f!==b&&C!==F||!(f!==0||!Rm(a,l,n))||!(b!==0||!Rm(a,d,n))||!(C!==0||!Rm(l,a,d))||!(F!==0||!Rm(l,n,d))}function Rm(a,n,l){return n.x<=Math.max(a.x,l.x)&&n.x>=Math.min(a.x,l.x)&&n.y<=Math.max(a.y,l.y)&&n.y>=Math.min(a.y,l.y)}function Bm(a){return a>0?1:a<0?-1:0}function n0(a,n){return So(a.prev,a,a.next)<0?So(a,n,a.next)>=0&&So(a,a.prev,n)>=0:So(a,n,a.prev)<0||So(a,a.next,n)<0}function iv(a,n){var l=new O1(a.i,a.x,a.y),d=new O1(n.i,n.x,n.y),f=a.next,b=n.prev;return a.next=n,n.prev=a,l.next=f,f.prev=l,d.next=l,l.prev=d,b.next=d,d.prev=b,d}function nv(a,n,l,d){var f=new O1(a,n,l);return d?(f.next=d.next,f.prev=d,d.next.prev=f,d.next=f):(f.prev=f,f.next=f),f}function r0(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function O1(a,n,l){this.i=a,this.x=n,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R1(a,n,l,d){for(var f=0,b=n,C=l-d;b<l;b+=d)f+=(a[C]-a[b])*(a[b+1]+a[C+1]),C=b;return f}function rv(a,n,l,d,f){sv(a,n,l||0,d||a.length-1,f||j2)}function sv(a,n,l,d,f){for(;d>l;){if(d-l>600){var b=d-l+1,C=n-l+1,F=Math.log(b),te=.5*Math.exp(2*F/3),re=.5*Math.sqrt(F*te*(b-te)/b)*(C-b/2<0?-1:1);sv(a,n,Math.max(l,Math.floor(n-C*te/b+re)),Math.min(d,Math.floor(n+(b-C)*te/b+re)),f)}var me=a[n],Se=l,Me=d;for(Qd(a,l,n),f(a[d],me)>0&&Qd(a,l,d);Se<Me;){for(Qd(a,Se,Me),Se++,Me--;f(a[Se],me)<0;)Se++;for(;f(a[Me],me)>0;)Me--}f(a[l],me)===0?Qd(a,l,Me):Qd(a,++Me,d),Me<=n&&(l=Me+1),n<=Me&&(d=Me-1)}}function Qd(a,n,l){var d=a[n];a[n]=a[l],a[l]=d}function j2(a,n){return a<n?-1:a>n?1:0}function B1(a,n){const l=a.length;if(l<=1)return[a];const d=[];let f,b;for(let C=0;C<l;C++){const F=Te(a[C]);F!==0&&(a[C].area=Math.abs(F),b===void 0&&(b=F<0),b===F<0?(f&&d.push(f),f=[a[C]]):f.push(a[C]))}if(f&&d.push(f),n>1)for(let C=0;C<d.length;C++)d[C].length<=n||(rv(d[C],n,1,d[C].length-1,U2),d[C]=d[C].slice(0,n));return d}function U2(a,n){return n.area-a.area}function N1(a,n,l){const d=l.patternDependencies;let f=!1;for(const b of n){const C=b.paint.get(`${a}-pattern`);C.isConstant()||(f=!0);const F=C.constantOr(null);F&&(f=!0,d[F]=!0)}return f}function z1(a,n,l,d,f){const b=f.patternDependencies;for(const C of n){const F=C.paint.get(`${a}-pattern`).value;if(F.kind!=="constant"){let te=F.evaluate({zoom:d},l,{},f.availableImages);te=te&&te.name?te.name:te,b[te]=!0,l.patterns[C.id]=te}}return l}t0.exports=Om,t0.exports.default=Om,Om.deviation=function(a,n,l,d){var f=n&&n.length,b=Math.abs(R1(a,0,f?n[0]*l:a.length,l));if(f)for(var C=0,F=n.length;C<F;C++)b-=Math.abs(R1(a,n[C]*l,C<F-1?n[C+1]*l:a.length,l));var te=0;for(C=0;C<d.length;C+=3){var re=d[C]*l,me=d[C+1]*l,Se=d[C+2]*l;te+=Math.abs((a[re]-a[Se])*(a[me+1]-a[re+1])-(a[re]-a[me])*(a[Se+1]-a[re+1]))}return b===0&&te===0?0:Math.abs((te-b)/b)},Om.flatten=function(a){for(var n=a[0][0].length,l={vertices:[],holes:[],dimensions:n},d=0,f=0;f<a.length;f++){for(var b=0;b<a[f].length;b++)for(var C=0;C<n;C++)l.vertices.push(a[f][b][C]);f>0&&l.holes.push(d+=a[f-1].length)}return l};class Nm{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(l=>l.id),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Wr,this.indexArray=new da,this.indexArray2=new Ic,this.programConfigurations=new Uu(n.layers,n.zoom),this.segments=new To,this.segments2=new To,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.projection=n.projection}populate(n,l,d,f){this.hasPattern=N1("fill",this.layers,l);const b=this.layers[0].layout.get("fill-sort-key"),C=[];for(const{feature:F,id:te,index:re,sourceLayerIndex:me}of n){const Se=this.layers[0]._featureFilter.needGeometry,Me=$u(F,Se);if(!this.layers[0]._featureFilter.filter(new Yt(this.zoom),Me,d))continue;const Oe=b?b.evaluate(Me,{},d,l.availableImages):void 0,Ne={id:te,properties:F.properties,type:F.type,sourceLayerIndex:me,index:re,geometry:Se?Me.geometry:uu(F,d,f),patterns:{},sortKey:Oe};C.push(Ne)}b&&C.sort((F,te)=>F.sortKey-te.sortKey);for(const F of C){const{geometry:te,index:re,sourceLayerIndex:me}=F;if(this.hasPattern){const Se=z1("fill",this.layers,F,this.zoom,l);this.patternFeatures.push(Se)}else this.addFeature(F,te,re,d,{},l.availableImages);l.featureIndex.insert(n[re].feature,te,re,me,this.index)}}update(n,l,d,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,l,this.stateDependentLayers,d,f)}addFeatures(n,l,d,f,b){for(const C of this.patternFeatures)this.addFeature(C,C.geometry,C.index,l,d,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,P2),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,l,d,f,b,C=[]){for(const F of B1(l,500)){let te=0;for(const Ne of F)te+=Ne.length;const re=this.segments.prepareSegment(te,this.layoutVertexArray,this.indexArray),me=re.vertexLength,Se=[],Me=[];for(const Ne of F){if(Ne.length===0)continue;Ne!==F[0]&&Me.push(Se.length/2);const He=this.segments2.prepareSegment(Ne.length,this.layoutVertexArray,this.indexArray2),tt=He.vertexLength;this.layoutVertexArray.emplaceBack(Ne[0].x,Ne[0].y),this.indexArray2.emplaceBack(tt+Ne.length-1,tt),Se.push(Ne[0].x),Se.push(Ne[0].y);for(let _t=1;_t<Ne.length;_t++)this.layoutVertexArray.emplaceBack(Ne[_t].x,Ne[_t].y),this.indexArray2.emplaceBack(tt+_t-1,tt+_t),Se.push(Ne[_t].x),Se.push(Ne[_t].y);He.vertexLength+=Ne.length,He.primitiveLength+=Ne.length}const Oe=t0.exports(Se,Me);for(let Ne=0;Ne<Oe.length;Ne+=3)this.indexArray.emplaceBack(me+Oe[Ne],me+Oe[Ne+1],me+Oe[Ne+2]);re.vertexLength+=te,re.primitiveLength+=Oe.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,b,C,f)}}rn(Nm,"FillBucket",{omit:["layers","patternFeatures"]});const $2=new Sn({"fill-sort-key":new ri(yi.layout_fill["fill-sort-key"])});var V2={paint:new Sn({"fill-antialias":new Xt(yi.paint_fill["fill-antialias"]),"fill-opacity":new ri(yi.paint_fill["fill-opacity"]),"fill-color":new ri(yi.paint_fill["fill-color"]),"fill-outline-color":new ri(yi.paint_fill["fill-outline-color"]),"fill-translate":new Xt(yi.paint_fill["fill-translate"]),"fill-translate-anchor":new Xt(yi.paint_fill["fill-translate-anchor"]),"fill-pattern":new ri(yi.paint_fill["fill-pattern"])}),layout:$2};const G2=hn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),H2=hn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),W2=hn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:Y2}=G2;var zm={},q2=U,ov=zp;function zp(a,n,l,d,f){this.properties={},this.extent=l,this.type=0,this._pbf=a,this._geometry=-1,this._keys=d,this._values=f,a.readFields(av,this,n)}function av(a,n,l){a==1?n.id=l.readVarint():a==2?function(d,f){for(var b=d.readVarint()+d.pos;d.pos<b;){var C=f._keys[d.readVarint()],F=f._values[d.readVarint()];f.properties[C]=F}}(l,n):a==3?n.type=l.readVarint():a==4&&(n._geometry=l.pos)}function lv(a){for(var n,l,d=0,f=0,b=a.length,C=b-1;f<b;C=f++)d+=((l=a[C]).x-(n=a[f]).x)*(n.y+l.y);return d}zp.types=["Unknown","Point","LineString","Polygon"],zp.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var n,l=a.readVarint()+a.pos,d=1,f=0,b=0,C=0,F=[];a.pos<l;){if(f<=0){var te=a.readVarint();d=7&te,f=te>>3}if(f--,d===1||d===2)b+=a.readSVarint(),C+=a.readSVarint(),d===1&&(n&&F.push(n),n=[]),n.push(new q2(b,C));else{if(d!==7)throw new Error("unknown command "+d);n&&n.push(n[0].clone())}}return n&&F.push(n),F},zp.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var n=a.readVarint()+a.pos,l=1,d=0,f=0,b=0,C=1/0,F=-1/0,te=1/0,re=-1/0;a.pos<n;){if(d<=0){var me=a.readVarint();l=7&me,d=me>>3}if(d--,l===1||l===2)(f+=a.readSVarint())<C&&(C=f),f>F&&(F=f),(b+=a.readSVarint())<te&&(te=b),b>re&&(re=b);else if(l!==7)throw new Error("unknown command "+l)}return[C,te,F,re]},zp.prototype.toGeoJSON=function(a,n,l){var d,f,b=this.extent*Math.pow(2,l),C=this.extent*a,F=this.extent*n,te=this.loadGeometry(),re=zp.types[this.type];function me(Oe){for(var Ne=0;Ne<Oe.length;Ne++){var He=Oe[Ne];Oe[Ne]=[360*(He.x+C)/b-180,360/Math.PI*Math.atan(Math.exp((180-360*(He.y+F)/b)*Math.PI/180))-90]}}switch(this.type){case 1:var Se=[];for(d=0;d<te.length;d++)Se[d]=te[d][0];me(te=Se);break;case 2:for(d=0;d<te.length;d++)me(te[d]);break;case 3:for(te=function(Oe){var Ne=Oe.length;if(Ne<=1)return[Oe];for(var He,tt,_t=[],Dt=0;Dt<Ne;Dt++){var yt=lv(Oe[Dt]);yt!==0&&(tt===void 0&&(tt=yt<0),tt===yt<0?(He&&_t.push(He),He=[Oe[Dt]]):He.push(Oe[Dt]))}return He&&_t.push(He),_t}(te),d=0;d<te.length;d++)for(f=0;f<te[d].length;f++)me(te[d][f])}te.length===1?te=te[0]:re="Multi"+re;var Me={type:"Feature",geometry:{type:re,coordinates:te},properties:this.properties};return"id"in this&&(Me.id=this.id),Me};var X2=ov,cv=uv;function uv(a,n){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(Z2,this,n),this.length=this._features.length}function Z2(a,n,l){a===15?n.version=l.readVarint():a===1?n.name=l.readString():a===5?n.extent=l.readVarint():a===2?n._features.push(l.pos):a===3?n._keys.push(l.readString()):a===4&&n._values.push(function(d){for(var f=null,b=d.readVarint()+d.pos;d.pos<b;){var C=d.readVarint()>>3;f=C===1?d.readString():C===2?d.readFloat():C===3?d.readDouble():C===4?d.readVarint64():C===5?d.readVarint():C===6?d.readSVarint():C===7?d.readBoolean():null}return f}(l))}uv.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var n=this._pbf.readVarint()+this._pbf.pos;return new X2(this._pbf,n,this.extent,this._keys,this._values)};var Fm=cv;function K2(a,n,l){if(a===3){var d=new Fm(l,l.readVarint()+l.pos);d.length&&(n[d.name]=d)}}var F1=zm.VectorTile=function(a,n){this.layers=a.readFields(K2,{},n)},jm=zm.VectorTileFeature=ov;function Um(a,n,l,d){const f=[],b=d===0?(C,F,te,re,me,Se)=>{C.push(new U(Se,te+(Se-F)/(re-F)*(me-te)))}:(C,F,te,re,me,Se)=>{C.push(new U(F+(Se-te)/(me-te)*(re-F),Se))};for(const C of a){const F=[];for(const te of C){if(te.length<=2)continue;const re=[];for(let Me=0;Me<te.length-1;Me++){const Oe=te[Me].x,Ne=te[Me].y,He=te[Me+1].x,tt=te[Me+1].y,_t=d===0?Oe:Ne,Dt=d===0?He:tt;_t<n?Dt>n&&b(re,Oe,Ne,He,tt,n):_t>l?Dt<l&&b(re,Oe,Ne,He,tt,l):re.push(te[Me]),Dt<n&&_t>=n&&b(re,Oe,Ne,He,tt,n),Dt>l&&_t<=l&&b(re,Oe,Ne,He,tt,l)}let me=te[te.length-1];const Se=d===0?me.x:me.y;Se>=n&&Se<=l&&re.push(me),re.length&&(me=re[re.length-1],re[0].x===me.x&&re[0].y===me.y||re.push(re[0]),F.push(re))}F.length&&f.push(F)}return f}zm.VectorTileLayer=cv;const J2=jm.types,Q2=Math.pow(2,13);function s0(a,n,l,d,f,b,C,F){a.emplaceBack((n<<1)+C,(l<<1)+b,(Math.floor(d*Q2)<<1)+f,Math.round(F))}function o0(a,n,l){a.emplaceBack(n.x,n.y,n.z,l[0]*16384,l[1]*16384,l[2]*16384)}class dv{constructor(){this.acc=new U(0,0),this.polyCount=[]}startRing(n){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new U(n.x,n.y),this.max=new U(n.x,n.y))}append(n,l){this.currentPolyCount.edges++,this.acc._add(n);const d=this.min,f=this.max;n.x<d.x?d.x=n.x:n.x>f.x&&(f.x=n.x),n.y<d.y?d.y=n.y:n.y>f.y&&(f.y=n.y),((n.x===0||n.x===Bn)&&n.x===l.x)!=((n.y===0||n.y===Bn)&&n.y===l.y)&&this.processBorderOverlap(n,l),l.x<0!=n.x<0&&this.addBorderIntersection(0,Kn(l.y,n.y,(0-l.x)/(n.x-l.x))),l.x>Bn!=n.x>Bn&&this.addBorderIntersection(1,Kn(l.y,n.y,(Bn-l.x)/(n.x-l.x))),l.y<0!=n.y<0&&this.addBorderIntersection(2,Kn(l.x,n.x,(0-l.y)/(n.y-l.y))),l.y>Bn!=n.y>Bn&&this.addBorderIntersection(3,Kn(l.x,n.x,(Bn-l.y)/(n.y-l.y)))}addBorderIntersection(n,l){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[n];l<d[0]&&(d[0]=l),l>d[1]&&(d[1]=l)}processBorderOverlap(n,l){if(n.x===l.x){if(n.y===l.y)return;const d=n.x===0?0:1;this.addBorderIntersection(d,l.y),this.addBorderIntersection(d,n.y)}else{const d=n.y===0?2:3;this.addBorderIntersection(d,l.x),this.addBorderIntersection(d,n.x)}}centroid(){const n=this.polyCount.reduce((l,d)=>l+d.edges,0);return n!==0?this.acc.div(n)._round():new U(0,0)}span(){return new U(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((n,l)=>n+ +(l[0]!==Number.MAX_VALUE),0)}}class a0{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(l=>l.id),this.index=n.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=n.projection,this.layoutVertexArray=new ts,this.centroidVertexArray=new Tm,this.indexArray=new da,this.programConfigurations=new Uu(n.layers,n.zoom),this.segments=new To,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.enableTerrain=n.enableTerrain}populate(n,l,d,f){this.features=[],this.hasPattern=N1("fill-extrusion",this.layers,l),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(b){const C=Math.exp(Math.PI*(1-b.y/(1<<b.z)*2));return 80150034*C/(C*C+1)/Bn/(1<<b.z)}(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:b,id:C,index:F,sourceLayerIndex:te}of n){const re=this.layers[0]._featureFilter.needGeometry,me=$u(b,re);if(!this.layers[0]._featureFilter.filter(new Yt(this.zoom),me,d))continue;const Se={id:C,sourceLayerIndex:te,index:F,geometry:re?me.geometry:uu(b,d,f),properties:b.properties,type:b.type,patterns:{}},Me=this.layoutVertexArray.length;this.hasPattern?this.features.push(z1("fill-extrusion",this.layers,Se,this.zoom,l)):this.addFeature(Se,Se.geometry,F,d,{},l.availableImages,f),l.featureIndex.insert(b,Se.geometry,F,te,this.index,Me)}this.sortBorders()}addFeatures(n,l,d,f,b){for(const C of this.features){const{geometry:F}=C;this.addFeature(C,F,C.index,l,d,f,b)}this.sortBorders()}update(n,l,d,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,l,this.stateDependentLayers,d,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Y2),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=n.createVertexBuffer(this.layoutVertexExtArray,W2.members,!0))),this.programConfigurations.upload(n),this.uploaded=!0}uploadCentroid(n){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,H2.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,l,d,f,b,C,F){const te=[new U(0,0),new U(Bn,Bn)],re=F.projection,me=re.name==="globe",Se=this.enableTerrain&&!me?new dv:null,Me=J2[n.type]==="Polygon";me&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new gs);const Oe=B1(l,500);for(let _t=Oe.length-1;_t>=0;_t--){const Dt=Oe[_t];(Dt.length===0||(Ne=Dt[0]).every(yt=>yt.x<=0)||Ne.every(yt=>yt.x>=Bn)||Ne.every(yt=>yt.y<=0)||Ne.every(yt=>yt.y>=Bn))&&Oe.splice(_t,1)}var Ne;let He;if(me)He=V1(Oe,te,f);else{He=[];for(const _t of Oe)He.push({polygon:_t,bounds:te})}const tt=Me?this.edgeRadius:0;for(const{polygon:_t,bounds:Dt}of He){let yt=0,Tt=0;for(const It of _t)Me&&!It[0].equals(It[It.length-1])&&It.push(It[0]),Tt+=Me?It.length-1:It.length;const Bt=this.segments.prepareSegment((Me?5:4)*Tt,this.layoutVertexArray,this.indexArray);if(Me){const It=[],ii=[];yt=Bt.vertexLength;for(const xi of _t){let ji,li;xi.length&&xi!==_t[0]&&ii.push(It.length/2),ji=xi[1].sub(xi[0])._perp()._unit();for(let Si=1;Si<xi.length;Si++){const Ei=xi[Si],Oi=xi[Si===xi.length-1?1:Si+1];let{x:Vi,y:ui}=Ei;if(tt){li=Oi.sub(Ei)._perp()._unit();const tn=ji.add(li)._unit(),Fn=tt*Math.min(4,1/(ji.x*tn.x+ji.y*tn.y));Vi+=Fn*tn.x,ui+=Fn*tn.y,ji=li}s0(this.layoutVertexArray,Vi,ui,0,0,1,1,0),Bt.vertexLength++,It.push(Ei.x,Ei.y),me&&o0(this.layoutVertexExtArray,re.projectTilePoint(Vi,ui,f),re.upVector(f,Vi,ui))}}const ti=t0.exports(It,ii);for(let xi=0;xi<ti.length;xi+=3)this.indexArray.emplaceBack(yt+ti[xi],yt+ti[xi+2],yt+ti[xi+1]),Bt.primitiveLength++}for(const It of _t){Se&&It.length&&Se.startRing(It[0]);let ii,ti,xi,ji=It.length>4&&U1(It[It.length-2],It[0],It[1]),li=tt?$m(It[It.length-2],It[0],It[1],tt):0;ti=It[1].sub(It[0])._perp()._unit();let Si=!0;for(let Ei=1,Oi=0;Ei<It.length;Ei++){let Vi=It[Ei-1],ui=It[Ei];const tn=It[Ei===It.length-1?1:Ei+1];if(Se&&Me&&Se.currentPolyCount.top++,j1(ui,Vi,Dt)){tt&&(ti=tn.sub(ui)._perp()._unit(),Si=!Si);continue}Se&&Se.append(ui,Vi);const Fn=ui.sub(Vi)._perp(),un=Fn.x/(Math.abs(Fn.x)+Math.abs(Fn.y)),bn=Fn.y>0?1:0,nn=Vi.dist(ui);if(Oi+nn>32768&&(Oi=0),tt){xi=tn.sub(ui)._perp()._unit();let br=pv(Vi,ui,tn,hv(ti,xi),tt);isNaN(br)&&(br=0);const Wn=ui.sub(Vi)._unit();Vi=Vi.add(Wn.mult(li))._round(),ui=ui.add(Wn.mult(-br))._round(),li=br,ti=xi}const Gn=Bt.vertexLength,kr=It.length>4&&U1(Vi,ui,tn);let Sr=Vm(Oi,ji,Si);if(s0(this.layoutVertexArray,Vi.x,Vi.y,un,bn,0,0,Sr),s0(this.layoutVertexArray,Vi.x,Vi.y,un,bn,0,1,Sr),Oi+=nn,Sr=Vm(Oi,kr,!Si),ji=kr,s0(this.layoutVertexArray,ui.x,ui.y,un,bn,0,0,Sr),s0(this.layoutVertexArray,ui.x,ui.y,un,bn,0,1,Sr),Bt.vertexLength+=4,this.indexArray.emplaceBack(Gn+0,Gn+1,Gn+2),this.indexArray.emplaceBack(Gn+1,Gn+3,Gn+2),Bt.primitiveLength+=2,tt){const br=yt+(Ei===1?It.length-2:Ei-2),Wn=Ei===1?yt:br+1;if(this.indexArray.emplaceBack(Gn+1,br,Gn+3),this.indexArray.emplaceBack(br,Wn,Gn+3),Bt.primitiveLength+=2,ii===void 0&&(ii=Gn),!j1(tn,It[Ei],Dt)){const cs=Ei===It.length-1?ii:Bt.vertexLength;this.indexArray.emplaceBack(Gn+2,Gn+3,cs),this.indexArray.emplaceBack(Gn+3,cs+1,cs),this.indexArray.emplaceBack(Gn+3,Wn,cs+1),Bt.primitiveLength+=3}Si=!Si}if(me){const br=this.layoutVertexExtArray,Wn=re.projectTilePoint(Vi.x,Vi.y,f),cs=re.projectTilePoint(ui.x,ui.y,f),sr=re.upVector(f,Vi.x,Vi.y),Ar=re.upVector(f,ui.x,ui.y);o0(br,Wn,sr),o0(br,Wn,sr),o0(br,cs,Ar),o0(br,cs,Ar)}}Me&&(yt+=It.length-1)}}if(Se&&Se.polyCount.length>0){if(Se.borders){Se.vertexArrayOffset=this.centroidVertexArray.length;const _t=Se.borders,Dt=this.featuresOnBorder.push(Se)-1;for(let yt=0;yt<4;yt++)_t[yt][0]!==Number.MAX_VALUE&&this.borders[yt].push(Dt)}this.encodeCentroid(Se.borders?void 0:Se.centroid(),Se)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,b,C,f)}sortBorders(){for(let n=0;n<4;n++)this.borders[n].sort((l,d)=>this.featuresOnBorder[l].borders[n][0]-this.featuresOnBorder[d].borders[n][0])}encodeCentroid(n,l,d=!0){let f,b;if(n)if(n.y!==0){const F=l.span()._mult(this.tileToMeter);f=(Math.max(n.x,1)<<3)+Math.min(7,Math.round(F.x/10)),b=(Math.max(n.y,1)<<3)+Math.min(7,Math.round(F.y/10))}else f=Math.ceil(7*(n.x+450)),b=0;else f=0,b=+d;let C=d?this.centroidVertexArray.length:l.vertexArrayOffset;for(const F of l.polyCount){d&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*F.edges+F.top);for(let te=0;te<F.top;te++)this.centroidVertexArray.emplace(C++,f,b);for(let te=0;te<2*F.edges;te++)this.centroidVertexArray.emplace(C++,0,b),this.centroidVertexArray.emplace(C++,f,b)}}}function hv(a,n){const l=a.add(n)._unit();return a.x*l.x+a.y*l.y}function $m(a,n,l,d){const f=n.sub(a)._perp()._unit(),b=l.sub(n)._perp()._unit();return pv(a,n,l,hv(f,b),d)}function pv(a,n,l,d,f){const b=Math.sqrt(1-d*d);return Math.min(a.dist(n)/3,n.dist(l)/3,f*b/d)}function j1(a,n,l){return a.x<l[0].x&&n.x<l[0].x||a.x>l[1].x&&n.x>l[1].x||a.y<l[0].y&&n.y<l[0].y||a.y>l[1].y&&n.y>l[1].y}function U1(a,n,l){if(a.x<0||a.x>=Bn||n.x<0||n.x>=Bn||l.x<0||l.x>=Bn)return!1;const d=l.sub(n),f=d.perp(),b=a.sub(n);return(d.x*b.x+d.y*b.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(b.x*b.x+b.y*b.y))>-.866&&f.x*b.x+f.y*b.y<0}function Vm(a,n,l){const d=n?2|a:-3&a;return l?1|d:-2&d}function $1(){const a=Math.PI/32,n=Math.tan(a),l=Dh;return l*Math.sqrt(1+2*n*n)-l}function V1(a,n,l){const d=1<<l.z,f=pl(l.x/d),b=pl((l.x+1)/d),C=Ca(l.y/d),F=Ca((l.y+1)/d);return function(te,re,me,Se,Me=0,Oe){const Ne=[];if(!te.length||!me||!Se)return Ne;const He=(It,ii)=>{for(const ti of It)Ne.push({polygon:ti,bounds:ii})},tt=Math.ceil(Math.log2(me)),_t=Math.ceil(Math.log2(Se)),Dt=tt-_t,yt=[];for(let It=0;It<Math.abs(Dt);It++)yt.push(Dt>0?0:1);for(let It=0;It<Math.min(tt,_t);It++)yt.push(0),yt.push(1);let Tt=te;if(Tt=Um(Tt,re[0].y-Me,re[1].y+Me,1),Tt=Um(Tt,re[0].x-Me,re[1].x+Me,0),!Tt.length)return Ne;const Bt=[];for(yt.length?Bt.push({polygons:Tt,bounds:re,depth:0}):He(Tt,re);Bt.length;){const It=Bt.pop(),ii=It.depth,ti=yt[ii],xi=It.bounds[0],ji=It.bounds[1],li=ti===0?xi.x:xi.y,Si=ti===0?ji.x:ji.y,Ei=Oe?Oe(ti,li,Si):.5*(li+Si),Oi=Um(It.polygons,li-Me,Ei+Me,ti),Vi=Um(It.polygons,Ei-Me,Si+Me,ti);if(Oi.length){const ui=[xi,new U(ti===0?Ei:ji.x,ti===1?Ei:ji.y)];yt.length>ii+1?Bt.push({polygons:Oi,bounds:ui,depth:ii+1}):He(Oi,ui)}if(Vi.length){const ui=[new U(ti===0?Ei:xi.x,ti===1?Ei:xi.y),ji];yt.length>ii+1?Bt.push({polygons:Vi,bounds:ui,depth:ii+1}):He(Vi,ui)}}return Ne}(a,n,Math.ceil((b-f)/11.25),Math.ceil((C-F)/11.25),1,(te,re,me)=>{if(te===0)return .5*(re+me);{const Se=Ca((l.y+re/Bn)/d);return(dc(.5*(Ca((l.y+me/Bn)/d)+Se))*d-l.y)*Bn}})}rn(a0,"FillExtrusionBucket",{omit:["layers","features"]}),rn(dv,"PartMetadata");const fv=new Sn({"fill-extrusion-edge-radius":new Xt(yi["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var mv={paint:new Sn({"fill-extrusion-opacity":new Xt(yi["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ri(yi["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Xt(yi["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Xt(yi["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ri(yi["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ri(yi["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ri(yi["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Xt(yi["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Xt(yi["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Xt(yi["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:fv};function gv(a,n,l){var d=2*Math.PI*6378137/256/Math.pow(2,l);return[a*d-2*Math.PI*6378137/2,n*d-2*Math.PI*6378137/2]}class Gm{constructor(n,l,d){this.z=n,this.x=l,this.y=d,this.key=eh(0,n,n,l,d)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,l){const d=function(b,C,F){var te=gv(256*b,256*(C=Math.pow(2,F)-C-1),F),re=gv(256*(b+1),256*(C+1),F);return te[0]+","+te[1]+","+re[0]+","+re[1]}(this.x,this.y,this.z),f=function(b,C,F){let te,re="";for(let me=b;me>0;me--)te=1<<me-1,re+=(C&te?1:0)+(F&te?2:0);return re}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(l==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",f).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class yv{constructor(n,l){this.wrap=n,this.canonical=l,this.key=eh(n,l.z,l.z,l.x,l.y)}}class ha{constructor(n,l,d,f,b){this.overscaledZ=n,this.wrap=l,this.canonical=new Gm(d,+f,+b),this.key=l===0&&n===d?this.canonical.key:eh(l,n,d,f,b)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){const l=this.canonical.z-n;return n>this.canonical.z?new ha(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ha(n,this.wrap,n,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(n,l=!0){if(this.overscaledZ===n&&l)return this.key;if(n>this.canonical.z)return eh(this.wrap*+l,n,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-n;return eh(this.wrap*+l,n,n,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(n){if(n.wrap!==this.wrap)return!1;const l=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.x===this.canonical.x>>l&&n.canonical.y===this.canonical.y>>l}children(n){if(this.overscaledZ>=n)return[new ha(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,d=2*this.canonical.x,f=2*this.canonical.y;return[new ha(l,this.wrap,l,d,f),new ha(l,this.wrap,l,d+1,f),new ha(l,this.wrap,l,d,f+1),new ha(l,this.wrap,l,d+1,f+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new ha(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new ha(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new yv(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function eh(a,n,l,d,f){const b=1<<Math.min(l,22);let C=b*(f%b)+d%b;return a&&l<22&&(C+=b*b*((a<0?-2*a-1:2*a)%(1<<2*(22-l)))),16*(32*C+l)+(n-l)}rn(Gm,"CanonicalTileID"),rn(ha,"OverscaledTileID",{omit:["projMatrix"]});class Fp extends U{constructor(n,l,d){super(n,l),this.z=d}}function l0(a,n){return a.x*n.x+a.y*n.y}function Hm(a,n){if(a.length===1){let l=0;const d=n[l++];let f;for(;!f||d.equals(f);)if(f=n[l++],!f)return 1/0;for(;l<n.length;l++){const b=n[l],C=a[0],F=f.sub(d),te=b.sub(d),re=C.sub(d),me=l0(F,F),Se=l0(F,te),Me=l0(te,te),Oe=l0(re,F),Ne=l0(re,te),He=me*Me-Se*Se,tt=(Me*Oe-Se*Ne)/He,_t=(me*Ne-Se*Oe)/He,Dt=d.z*(1-tt-_t)+f.z*tt+b.z*_t;if(isFinite(Dt))return Dt}return 1/0}{let l=1/0;for(const d of n)l=Math.min(l,d.z);return l}}function G1(a,n,l,d,f,b,C,F){const te=C*f.getElevationAt(a,n,!0,!0),re=b[0]!==0,me=re?b[1]===0?C*(b[0]/7-450):C*function(Se,Me,Oe){const Ne=Math.floor(Me[0]/8),He=Math.floor(Me[1]/8),tt=10*(Me[0]-8*Ne),_t=10*(Me[1]-8*He),Dt=Se.getElevationAt(Ne,He,!0,!0),yt=Se.getMeterToDEM(Oe),Tt=Math.floor(.5*(tt*yt-1)),Bt=Math.floor(.5*(_t*yt-1)),It=Se.tileCoordToPixel(Ne,He),ii=2*Tt+1,ti=2*Bt+1,xi=function(Vi,ui,tn,Fn,un){return[Vi.getElevationAtPixel(ui,tn,!0),Vi.getElevationAtPixel(ui+un,tn,!0),Vi.getElevationAtPixel(ui,tn+un,!0),Vi.getElevationAtPixel(ui+Fn,tn+un,!0)]}(Se,It.x-Tt,It.y-Bt,ii,ti),ji=Math.abs(xi[0]-xi[1]),li=Math.abs(xi[2]-xi[3]),Si=Math.abs(xi[0]-xi[2])+Math.abs(xi[1]-xi[3]),Ei=Math.min(.25,.5*yt*(ji+li)/ii),Oi=Math.min(.25,.5*yt*Si/ti);return Dt+Math.max(Ei*tt,Oi*_t)}(f,b,F):te;return{base:te+(l===0)?-1:l,top:re?Math.max(me+d,te+l+2):te+d}}const ew=hn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:tw}=ew,iw=hn([{name:"a_packed",components:4,type:"Float32"}]),{members:nw}=iw,rw=jm.types,sw=Math.cos(Math.PI/180*37.5);class Wm{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(l=>l.id),this.index=n.index,this.projection=n.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new Xa,this.layoutVertexArray2=new Ia,this.indexArray=new da,this.programConfigurations=new Uu(n.layers,n.zoom),this.segments=new To,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(n,l,d,f){this.hasPattern=N1("line",this.layers,l);const b=this.layers[0].layout.get("line-sort-key"),C=[];for(const{feature:me,id:Se,index:Me,sourceLayerIndex:Oe}of n){const Ne=this.layers[0]._featureFilter.needGeometry,He=$u(me,Ne);if(!this.layers[0]._featureFilter.filter(new Yt(this.zoom),He,d))continue;const tt=b?b.evaluate(He,{},d):void 0,_t={id:Se,properties:me.properties,type:me.type,sourceLayerIndex:Oe,index:Me,geometry:Ne?He.geometry:uu(me,d,f),patterns:{},sortKey:tt};C.push(_t)}b&&C.sort((me,Se)=>me.sortKey-Se.sortKey);const{lineAtlas:F,featureIndex:te}=l,re=this.addConstantDashes(F);for(const me of C){const{geometry:Se,index:Me,sourceLayerIndex:Oe}=me;if(re&&this.addFeatureDashes(me,F),this.hasPattern){const Ne=z1("line",this.layers,me,this.zoom,l);this.patternFeatures.push(Ne)}else this.addFeature(me,Se,Me,d,F.positions,l.availableImages);te.insert(n[Me].feature,Se,Me,Oe,this.index)}}addConstantDashes(n){let l=!1;for(const d of this.layers){const f=d.paint.get("line-dasharray").value,b=d.layout.get("line-cap").value;if(f.kind!=="constant"||b.kind!=="constant")l=!0;else{const C=b.value,F=f.value;if(!F)continue;n.addDash(F,C)}}return l}addFeatureDashes(n,l){const d=this.zoom;for(const f of this.layers){const b=f.paint.get("line-dasharray").value,C=f.layout.get("line-cap").value;if(b.kind==="constant"&&C.kind==="constant")continue;let F,te;if(b.kind==="constant"){if(F=b.value,!F)continue}else F=b.evaluate({zoom:d},n);te=C.kind==="constant"?C.value:C.evaluate({zoom:d},n),l.addDash(F,te),n.patterns[f.id]=l.getKey(F,te)}}update(n,l,d,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,l,this.stateDependentLayers,d,f)}addFeatures(n,l,d,f,b){for(const C of this.patternFeatures)this.addFeature(C,C.geometry,C.index,l,d,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,nw)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,tw),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,l,d,f,b,C){const F=this.layers[0].layout,te=F.get("line-join").evaluate(n,{}),re=F.get("line-cap").evaluate(n,{}),me=F.get("line-miter-limit"),Se=F.get("line-round-limit");this.lineClips=this.lineFeatureClips(n);for(const Me of l)this.addLine(Me,n,te,re,me,Se);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,b,C,f)}addLine(n,l,d,f,b,C){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let _t=0;_t<n.length-1;_t++)this.totalDistance+=n[_t].dist(n[_t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const F=rw[l.type]==="Polygon";let te=n.length;for(;te>=2&&n[te-1].equals(n[te-2]);)te--;let re=0;for(;re<te-1&&n[re].equals(n[re+1]);)re++;if(te<(F?3:2))return;d==="bevel"&&(b=1.05);const me=this.overscaling<=16?122880/(512*this.overscaling):0,Se=this.segments.prepareSegment(10*te,this.layoutVertexArray,this.indexArray);let Me,Oe,Ne,He,tt;this.e1=this.e2=-1,F&&(Me=n[te-2],tt=n[re].sub(Me)._unit()._perp());for(let _t=re;_t<te;_t++){if(Ne=_t===te-1?F?n[re+1]:void 0:n[_t+1],Ne&&n[_t].equals(Ne))continue;tt&&(He=tt),Me&&(Oe=Me),Me=n[_t],tt=Ne?Ne.sub(Me)._unit()._perp():He,He=He||tt;let Dt=He.add(tt);Dt.x===0&&Dt.y===0||Dt._unit();const yt=He.x*tt.x+He.y*tt.y,Tt=Dt.x*tt.x+Dt.y*tt.y,Bt=Tt!==0?1/Tt:1/0,It=2*Math.sqrt(2-2*Tt),ii=Tt<sw&&Oe&&Ne,ti=He.x*tt.y-He.y*tt.x>0;if(ii&&_t>re){const li=Me.dist(Oe);if(li>2*me){const Si=Me.sub(Me.sub(Oe)._mult(me/li)._round());this.updateDistance(Oe,Si),this.addCurrentVertex(Si,He,0,0,Se),Oe=Si}}const xi=Oe&&Ne;let ji=xi?d:F?"butt":f;if(xi&&ji==="round"&&(Bt<C?ji="miter":Bt<=2&&(ji="fakeround")),ji==="miter"&&Bt>b&&(ji="bevel"),ji==="bevel"&&(Bt>2&&(ji="flipbevel"),Bt<b&&(ji="miter")),Oe&&this.updateDistance(Oe,Me),ji==="miter")Dt._mult(Bt),this.addCurrentVertex(Me,Dt,0,0,Se);else if(ji==="flipbevel"){if(Bt>100)Dt=tt.mult(-1);else{const li=Bt*He.add(tt).mag()/He.sub(tt).mag();Dt._perp()._mult(li*(ti?-1:1))}this.addCurrentVertex(Me,Dt,0,0,Se),this.addCurrentVertex(Me,Dt.mult(-1),0,0,Se)}else if(ji==="bevel"||ji==="fakeround"){const li=-Math.sqrt(Bt*Bt-1),Si=ti?li:0,Ei=ti?0:li;if(Oe&&this.addCurrentVertex(Me,He,Si,Ei,Se),ji==="fakeround"){const Oi=Math.round(180*It/Math.PI/20);for(let Vi=1;Vi<Oi;Vi++){let ui=Vi/Oi;if(ui!==.5){const Fn=ui-.5;ui+=ui*Fn*(ui-1)*((1.0904+yt*(yt*(3.55645-1.43519*yt)-3.2452))*Fn*Fn+(.848013+yt*(.215638*yt-1.06021)))}const tn=tt.sub(He)._mult(ui)._add(He)._unit()._mult(ti?-1:1);this.addHalfVertex(Me,tn.x,tn.y,!1,ti,0,Se)}}Ne&&this.addCurrentVertex(Me,tt,-Si,-Ei,Se)}else if(ji==="butt")this.addCurrentVertex(Me,Dt,0,0,Se);else if(ji==="square"){const li=Oe?1:-1;Oe||this.addCurrentVertex(Me,Dt,li,li,Se),this.addCurrentVertex(Me,Dt,0,0,Se),Oe&&this.addCurrentVertex(Me,Dt,li,li,Se)}else ji==="round"&&(Oe&&(this.addCurrentVertex(Me,He,0,0,Se),this.addCurrentVertex(Me,He,1,1,Se,!0)),Ne&&(this.addCurrentVertex(Me,tt,-1,-1,Se,!0),this.addCurrentVertex(Me,tt,0,0,Se)));if(ii&&_t<te-1){const li=Me.dist(Ne);if(li>2*me){const Si=Me.add(Ne.sub(Me)._mult(me/li)._round());this.updateDistance(Me,Si),this.addCurrentVertex(Si,tt,0,0,Se),Me=Si}}}}addCurrentVertex(n,l,d,f,b,C=!1){const F=l.y*f-l.x,te=-l.y-l.x*f;this.addHalfVertex(n,l.x+l.y*d,l.y-l.x*d,C,!1,d,b),this.addHalfVertex(n,F,te,C,!0,-f,b)}addHalfVertex({x:n,y:l},d,f,b,C,F,te){this.layoutVertexArray.emplaceBack((n<<1)+(b?1:0),(l<<1)+(C?1:0),Math.round(63*d)+128,Math.round(63*f)+128,1+(F===0?0:F<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const re=te.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,re),te.primitiveLength++),C?this.e2=re:this.e1=re}updateScaledDistance(){if(this.lineClips){const n=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=n*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(n,l){this.distance+=n.dist(l),this.updateScaledDistance()}}rn(Wm,"LineBucket",{omit:["layers","patternFeatures"]});const ow=new Sn({"line-cap":new ri(yi.layout_line["line-cap"]),"line-join":new ri(yi.layout_line["line-join"]),"line-miter-limit":new Xt(yi.layout_line["line-miter-limit"]),"line-round-limit":new Xt(yi.layout_line["line-round-limit"]),"line-sort-key":new ri(yi.layout_line["line-sort-key"])});var _v={paint:new Sn({"line-opacity":new ri(yi.paint_line["line-opacity"]),"line-color":new ri(yi.paint_line["line-color"]),"line-translate":new Xt(yi.paint_line["line-translate"]),"line-translate-anchor":new Xt(yi.paint_line["line-translate-anchor"]),"line-width":new ri(yi.paint_line["line-width"]),"line-gap-width":new ri(yi.paint_line["line-gap-width"]),"line-offset":new ri(yi.paint_line["line-offset"]),"line-blur":new ri(yi.paint_line["line-blur"]),"line-dasharray":new ri(yi.paint_line["line-dasharray"]),"line-pattern":new ri(yi.paint_line["line-pattern"]),"line-gradient":new gn(yi.paint_line["line-gradient"]),"line-trim-offset":new Xt(yi.paint_line["line-trim-offset"])}),layout:ow};const vv=new class extends ri{possiblyEvaluate(a,n){return n=new Yt(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,transition:n.transition}),super.possiblyEvaluate(a,n)}evaluate(a,n,l,d){return n=K({},n,{zoom:Math.floor(n.zoom)}),super.evaluate(a,n,l,d)}}(_v.paint.properties["line-width"].specification);function xv(a,n){return n>0?n+2*a:a}vv.useIntegerZoom=!0;const aw=hn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),pu=hn([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),lw=hn([{name:"a_projected_pos",components:4,type:"Float32"}],4);hn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const cw=hn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),jh=hn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);hn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const xr=hn([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),uw=hn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);hn([{name:"triangle",components:3,type:"Uint16"}]),hn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),hn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),hn([{type:"Float32",name:"offsetX"}]),hn([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var _s=24;const Cs=128;function H1(a,n){const{expression:l}=n;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new Yt(a+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:f}=l;let b=0;for(;b<d.length&&d[b]<=a;)b++;b=Math.max(0,b-1);let C=b;for(;C<d.length&&d[C]<a+1;)C++;C=Math.min(d.length-1,C);const F=d[b],te=d[C];return l.kind==="composite"?{kind:"composite",minZoom:F,maxZoom:te,interpolationType:f}:{kind:"camera",minZoom:F,maxZoom:te,minSize:l.evaluate(new Yt(F)),maxSize:l.evaluate(new Yt(te)),interpolationType:f}}}function fu(a,{uSize:n,uSizeT:l},{lowerSize:d,upperSize:f}){return a.kind==="source"?d/Cs:a.kind==="composite"?Kn(d/Cs,f/Cs,l):n}function jp(a,n){let l=0,d=0;if(a.kind==="constant")d=a.layoutSize;else if(a.kind!=="source"){const{interpolationType:f,minZoom:b,maxZoom:C}=a,F=f?g(Pa.interpolationFactor(f,n,b,C),0,1):0;a.kind==="camera"?d=Kn(a.minSize,a.maxSize,F):l=F}return{uSizeT:l,uSize:d}}var dw=Object.freeze({__proto__:null,getSizeData:H1,evaluateSizeForFeature:fu,evaluateSizeForZoom:jp,SIZE_PACK_FACTOR:Cs});function hw(a,n,l){return a.sections.forEach(d=>{d.text=function(f,b,C){const F=b.layout.get("text-transform").evaluate(C,{});return F==="uppercase"?f=f.toLocaleUpperCase():F==="lowercase"&&(f=f.toLocaleLowerCase()),Qt.applyArabicShaping&&(f=Qt.applyArabicShaping(f)),f}(d.text,n,l)}),a}const c0={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function pw(a){return a==="︶"||a==="﹈"||a==="︸"||a==="﹄"||a==="﹂"||a==="︾"||a==="︼"||a==="︺"||a==="︘"||a==="﹀"||a==="︐"||a==="︓"||a==="︔"||a==="｀"||a==="￣"||a==="︑"||a==="︒"}function W1(a){return a==="︵"||a==="﹇"||a==="︷"||a==="﹃"||a==="﹁"||a==="︽"||a==="︻"||a==="︹"||a==="︗"||a==="︿"}var u0=rs,Hu=function(a,n,l,d,f){var b,C,F=8*f-d-1,te=(1<<F)-1,re=te>>1,me=-7,Se=l?f-1:0,Me=l?-1:1,Oe=a[n+Se];for(Se+=Me,b=Oe&(1<<-me)-1,Oe>>=-me,me+=F;me>0;b=256*b+a[n+Se],Se+=Me,me-=8);for(C=b&(1<<-me)-1,b>>=-me,me+=d;me>0;C=256*C+a[n+Se],Se+=Me,me-=8);if(b===0)b=1-re;else{if(b===te)return C?NaN:1/0*(Oe?-1:1);C+=Math.pow(2,d),b-=re}return(Oe?-1:1)*C*Math.pow(2,b-d)},Y1=function(a,n,l,d,f,b){var C,F,te,re=8*b-f-1,me=(1<<re)-1,Se=me>>1,Me=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,Oe=d?0:b-1,Ne=d?1:-1,He=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(F=isNaN(n)?1:0,C=me):(C=Math.floor(Math.log(n)/Math.LN2),n*(te=Math.pow(2,-C))<1&&(C--,te*=2),(n+=C+Se>=1?Me/te:Me*Math.pow(2,1-Se))*te>=2&&(C++,te/=2),C+Se>=me?(F=0,C=me):C+Se>=1?(F=(n*te-1)*Math.pow(2,f),C+=Se):(F=n*Math.pow(2,Se-1)*Math.pow(2,f),C=0));f>=8;a[l+Oe]=255&F,Oe+=Ne,F/=256,f-=8);for(C=C<<f|F,re+=f;re>0;a[l+Oe]=255&C,Oe+=Ne,C/=256,re-=8);a[l+Oe-Ne]|=128*He};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function rs(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}rs.Varint=0,rs.Fixed64=1,rs.Bytes=2,rs.Fixed32=5;var ho=4294967296,Co=1/ho,q1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function bd(a){return a.type===rs.Bytes?a.readVarint()+a.pos:a.pos+1}function Up(a,n,l){return l?4294967296*n+(a>>>0):4294967296*(n>>>0)+(a>>>0)}function bv(a,n,l){var d=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(7*Math.LN2));l.realloc(d);for(var f=l.pos-1;f>=a;f--)l.buf[f+d]=l.buf[f]}function fw(a,n){for(var l=0;l<a.length;l++)n.writeVarint(a[l])}function mw(a,n){for(var l=0;l<a.length;l++)n.writeSVarint(a[l])}function gw(a,n){for(var l=0;l<a.length;l++)n.writeFloat(a[l])}function wv(a,n){for(var l=0;l<a.length;l++)n.writeDouble(a[l])}function d0(a,n){for(var l=0;l<a.length;l++)n.writeBoolean(a[l])}function X1(a,n){for(var l=0;l<a.length;l++)n.writeFixed32(a[l])}function yw(a,n){for(var l=0;l<a.length;l++)n.writeSFixed32(a[l])}function Tv(a,n){for(var l=0;l<a.length;l++)n.writeFixed64(a[l])}function Ym(a,n){for(var l=0;l<a.length;l++)n.writeSFixed64(a[l])}function tl(a,n){return(a[n]|a[n+1]<<8|a[n+2]<<16)+16777216*a[n+3]}function mu(a,n,l){a[l]=n,a[l+1]=n>>>8,a[l+2]=n>>>16,a[l+3]=n>>>24}function Sv(a,n){return(a[n]|a[n+1]<<8|a[n+2]<<16)+(a[n+3]<<24)}function _w(a,n,l){n.glyphs=[],a===1&&l.readMessage(vw,n)}function vw(a,n,l){if(a===3){const{id:d,bitmap:f,width:b,height:C,left:F,top:te,advance:re}=l.readMessage(xw,{});n.glyphs.push({id:d,bitmap:new xd({width:b+6,height:C+6},f),metrics:{width:b,height:C,left:F,top:te,advance:re}})}else a===4?n.ascender=l.readSVarint():a===5&&(n.descender=l.readSVarint())}function xw(a,n,l){a===1?n.id=l.readVarint():a===2?n.bitmap=l.readBytes():a===3?n.width=l.readVarint():a===4?n.height=l.readVarint():a===5?n.left=l.readSVarint():a===6?n.top=l.readSVarint():a===7&&(n.advance=l.readVarint())}function Z1(a){let n=0,l=0;for(const C of a)n+=C.w*C.h,l=Math.max(l,C.w);a.sort((C,F)=>F.h-C.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),l),h:1/0}];let f=0,b=0;for(const C of a)for(let F=d.length-1;F>=0;F--){const te=d[F];if(!(C.w>te.w||C.h>te.h)){if(C.x=te.x,C.y=te.y,b=Math.max(b,C.y+C.h),f=Math.max(f,C.x+C.w),C.w===te.w&&C.h===te.h){const re=d.pop();F<d.length&&(d[F]=re)}else C.h===te.h?(te.x+=C.w,te.w-=C.w):C.w===te.w?(te.y+=C.h,te.h-=C.h):(d.push({x:te.x+C.w,y:te.y,w:te.w-C.w,h:C.h}),te.y+=C.h,te.h-=C.h);break}}return{w:f,h:b,fill:n/(f*b)||0}}rs.prototype={destroy:function(){this.buf=null},readFields:function(a,n,l){for(l=l||this.length;this.pos<l;){var d=this.readVarint(),f=d>>3,b=this.pos;this.type=7&d,a(f,n,this),this.pos===b&&this.skip(d)}return n},readMessage:function(a,n){return this.readFields(a,n,this.readVarint()+this.pos)},readFixed32:function(){var a=tl(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=Sv(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=tl(this.buf,this.pos)+tl(this.buf,this.pos+4)*ho;return this.pos+=8,a},readSFixed64:function(){var a=tl(this.buf,this.pos)+Sv(this.buf,this.pos+4)*ho;return this.pos+=8,a},readFloat:function(){var a=Hu(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=Hu(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var n,l,d=this.buf;return n=127&(l=d[this.pos++]),l<128?n:(n|=(127&(l=d[this.pos++]))<<7,l<128?n:(n|=(127&(l=d[this.pos++]))<<14,l<128?n:(n|=(127&(l=d[this.pos++]))<<21,l<128?n:function(f,b,C){var F,te,re=C.buf;if(F=(112&(te=re[C.pos++]))>>4,te<128||(F|=(127&(te=re[C.pos++]))<<3,te<128)||(F|=(127&(te=re[C.pos++]))<<10,te<128)||(F|=(127&(te=re[C.pos++]))<<17,te<128)||(F|=(127&(te=re[C.pos++]))<<24,te<128)||(F|=(1&(te=re[C.pos++]))<<31,te<128))return Up(f,F,b);throw new Error("Expected varint not more than 10 bytes")}(n|=(15&(l=d[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var a=this.readVarint()+this.pos,n=this.pos;return this.pos=a,a-n>=12&&q1?function(l,d,f){return q1.decode(l.subarray(d,f))}(this.buf,n,a):function(l,d,f){for(var b="",C=d;C<f;){var F,te,re,me=l[C],Se=null,Me=me>239?4:me>223?3:me>191?2:1;if(C+Me>f)break;Me===1?me<128&&(Se=me):Me===2?(192&(F=l[C+1]))==128&&(Se=(31&me)<<6|63&F)<=127&&(Se=null):Me===3?(te=l[C+2],(192&(F=l[C+1]))==128&&(192&te)==128&&((Se=(15&me)<<12|(63&F)<<6|63&te)<=2047||Se>=55296&&Se<=57343)&&(Se=null)):Me===4&&(te=l[C+2],re=l[C+3],(192&(F=l[C+1]))==128&&(192&te)==128&&(192&re)==128&&((Se=(15&me)<<18|(63&F)<<12|(63&te)<<6|63&re)<=65535||Se>=1114112)&&(Se=null)),Se===null?(Se=65533,Me=1):Se>65535&&(Se-=65536,b+=String.fromCharCode(Se>>>10&1023|55296),Se=56320|1023&Se),b+=String.fromCharCode(Se),C+=Me}return b}(this.buf,n,a)},readBytes:function(){var a=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,a);return this.pos=a,n},readPackedVarint:function(a,n){if(this.type!==rs.Bytes)return a.push(this.readVarint(n));var l=bd(this);for(a=a||[];this.pos<l;)a.push(this.readVarint(n));return a},readPackedSVarint:function(a){if(this.type!==rs.Bytes)return a.push(this.readSVarint());var n=bd(this);for(a=a||[];this.pos<n;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==rs.Bytes)return a.push(this.readBoolean());var n=bd(this);for(a=a||[];this.pos<n;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==rs.Bytes)return a.push(this.readFloat());var n=bd(this);for(a=a||[];this.pos<n;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==rs.Bytes)return a.push(this.readDouble());var n=bd(this);for(a=a||[];this.pos<n;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==rs.Bytes)return a.push(this.readFixed32());var n=bd(this);for(a=a||[];this.pos<n;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==rs.Bytes)return a.push(this.readSFixed32());var n=bd(this);for(a=a||[];this.pos<n;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==rs.Bytes)return a.push(this.readFixed64());var n=bd(this);for(a=a||[];this.pos<n;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==rs.Bytes)return a.push(this.readSFixed64());var n=bd(this);for(a=a||[];this.pos<n;)a.push(this.readSFixed64());return a},skip:function(a){var n=7&a;if(n===rs.Varint)for(;this.buf[this.pos++]>127;);else if(n===rs.Bytes)this.pos=this.readVarint()+this.pos;else if(n===rs.Fixed32)this.pos+=4;else{if(n!==rs.Fixed64)throw new Error("Unimplemented type: "+n);this.pos+=8}},writeTag:function(a,n){this.writeVarint(a<<3|n)},realloc:function(a){for(var n=this.length||16;n<this.pos+a;)n*=2;if(n!==this.length){var l=new Uint8Array(n);l.set(this.buf),this.buf=l,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),mu(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),mu(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),mu(this.buf,-1&a,this.pos),mu(this.buf,Math.floor(a*Co),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),mu(this.buf,-1&a,this.pos),mu(this.buf,Math.floor(a*Co),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(n,l){var d,f;if(n>=0?(d=n%4294967296|0,f=n/4294967296|0):(f=~(-n/4294967296),4294967295^(d=~(-n%4294967296))?d=d+1|0:(d=0,f=f+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(b,C,F){F.buf[F.pos++]=127&b|128,b>>>=7,F.buf[F.pos++]=127&b|128,b>>>=7,F.buf[F.pos++]=127&b|128,b>>>=7,F.buf[F.pos++]=127&b|128,F.buf[F.pos]=127&(b>>>=7)}(d,0,l),function(b,C){var F=(7&b)<<4;C.buf[C.pos++]|=F|((b>>>=3)?128:0),b&&(C.buf[C.pos++]=127&b|((b>>>=7)?128:0),b&&(C.buf[C.pos++]=127&b|((b>>>=7)?128:0),b&&(C.buf[C.pos++]=127&b|((b>>>=7)?128:0),b&&(C.buf[C.pos++]=127&b|((b>>>=7)?128:0),b&&(C.buf[C.pos++]=127&b)))))}(f,l)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(!!a)},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var n=this.pos;this.pos=function(d,f,b){for(var C,F,te=0;te<f.length;te++){if((C=f.charCodeAt(te))>55295&&C<57344){if(!F){C>56319||te+1===f.length?(d[b++]=239,d[b++]=191,d[b++]=189):F=C;continue}if(C<56320){d[b++]=239,d[b++]=191,d[b++]=189,F=C;continue}C=F-55296<<10|C-56320|65536,F=null}else F&&(d[b++]=239,d[b++]=191,d[b++]=189,F=null);C<128?d[b++]=C:(C<2048?d[b++]=C>>6|192:(C<65536?d[b++]=C>>12|224:(d[b++]=C>>18|240,d[b++]=C>>12&63|128),d[b++]=C>>6&63|128),d[b++]=63&C|128)}return b}(this.buf,a,this.pos);var l=this.pos-n;l>=128&&bv(n,l,this),this.pos=n-1,this.writeVarint(l),this.pos+=l},writeFloat:function(a){this.realloc(4),Y1(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),Y1(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var n=a.length;this.writeVarint(n),this.realloc(n);for(var l=0;l<n;l++)this.buf[this.pos++]=a[l]},writeRawMessage:function(a,n){this.pos++;var l=this.pos;a(n,this);var d=this.pos-l;d>=128&&bv(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeMessage:function(a,n,l){this.writeTag(a,rs.Bytes),this.writeRawMessage(n,l)},writePackedVarint:function(a,n){n.length&&this.writeMessage(a,fw,n)},writePackedSVarint:function(a,n){n.length&&this.writeMessage(a,mw,n)},writePackedBoolean:function(a,n){n.length&&this.writeMessage(a,d0,n)},writePackedFloat:function(a,n){n.length&&this.writeMessage(a,gw,n)},writePackedDouble:function(a,n){n.length&&this.writeMessage(a,wv,n)},writePackedFixed32:function(a,n){n.length&&this.writeMessage(a,X1,n)},writePackedSFixed32:function(a,n){n.length&&this.writeMessage(a,yw,n)},writePackedFixed64:function(a,n){n.length&&this.writeMessage(a,Tv,n)},writePackedSFixed64:function(a,n){n.length&&this.writeMessage(a,Ym,n)},writeBytesField:function(a,n){this.writeTag(a,rs.Bytes),this.writeBytes(n)},writeFixed32Field:function(a,n){this.writeTag(a,rs.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(a,n){this.writeTag(a,rs.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(a,n){this.writeTag(a,rs.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(a,n){this.writeTag(a,rs.Fixed64),this.writeSFixed64(n)},writeVarintField:function(a,n){this.writeTag(a,rs.Varint),this.writeVarint(n)},writeSVarintField:function(a,n){this.writeTag(a,rs.Varint),this.writeSVarint(n)},writeStringField:function(a,n){this.writeTag(a,rs.Bytes),this.writeString(n)},writeFloatField:function(a,n){this.writeTag(a,rs.Fixed32),this.writeFloat(n)},writeDoubleField:function(a,n){this.writeTag(a,rs.Fixed64),this.writeDouble(n)},writeBooleanField:function(a,n){this.writeVarintField(a,!!n)}};class qm{constructor(n,{pixelRatio:l,version:d,stretchX:f,stretchY:b,content:C}){this.paddedRect=n,this.pixelRatio=l,this.stretchX=f,this.stretchY=b,this.content=C,this.version=d}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Wu{constructor(n,l){const d={},f={};this.haveRenderCallbacks=[];const b=[];this.addImages(n,d,b),this.addImages(l,f,b);const{w:C,h:F}=Z1(b),te=new Ll({width:C||1,height:F||1});for(const re in n){const me=n[re],Se=d[re].paddedRect;Ll.copy(me.data,te,{x:0,y:0},{x:Se.x+1,y:Se.y+1},me.data)}for(const re in l){const me=l[re],Se=f[re].paddedRect,Me=Se.x+1,Oe=Se.y+1,Ne=me.data.width,He=me.data.height;Ll.copy(me.data,te,{x:0,y:0},{x:Me,y:Oe},me.data),Ll.copy(me.data,te,{x:0,y:He-1},{x:Me,y:Oe-1},{width:Ne,height:1}),Ll.copy(me.data,te,{x:0,y:0},{x:Me,y:Oe+He},{width:Ne,height:1}),Ll.copy(me.data,te,{x:Ne-1,y:0},{x:Me-1,y:Oe},{width:1,height:He}),Ll.copy(me.data,te,{x:0,y:0},{x:Me+Ne,y:Oe},{width:1,height:He})}this.image=te,this.iconPositions=d,this.patternPositions=f}addImages(n,l,d){for(const f in n){const b=n[f],C={x:0,y:0,w:b.data.width+2,h:b.data.height+2};d.push(C),l[f]=new qm(C,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(f)}}patchUpdatedImages(n,l){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(d=>n.hasImage(d)),n.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in n.updatedImages)this.patchUpdatedImage(this.iconPositions[d],n.getImage(d),l),this.patchUpdatedImage(this.patternPositions[d],n.getImage(d),l)}patchUpdatedImage(n,l,d){if(!n||!l||n.version===l.version)return;n.version=l.version;const[f,b]=n.tl;d.update(l.data,void 0,{x:f,y:b})}}rn(qm,"ImagePosition"),rn(Wu,"ImageAtlas");const er={horizontal:1,vertical:2,horizontalOnly:3};class $p{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(n,l){const d=new $p;return d.scale=n||1,d.fontStack=l,d}static forImage(n){const l=new $p;return l.imageName=n,l}}class La{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,l){const d=new La;for(let f=0;f<n.sections.length;f++){const b=n.sections[f];b.image?d.addImageSection(b):d.addTextSection(b,l)}return d}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSections(){return this.sections}getSectionIndex(n){return this.sectionIndex[n]}getCharCode(n){return this.text.charCodeAt(n)}verticalizePunctuation(n){this.text=function(l,d){let f="";for(let b=0;b<l.length;b++){const C=l.charCodeAt(b+1)||null,F=l.charCodeAt(b-1)||null;f+=!d&&(C&&Ae(C)&&!c0[l[b+1]]||F&&Ae(F)&&!c0[l[b-1]])||!c0[l[b]]?l[b]:c0[l[b]]}return f}(this.text,n)}trim(){let n=0;for(let d=0;d<this.text.length&&Zm[this.text.charCodeAt(d)];d++)n++;let l=this.text.length;for(let d=this.text.length-1;d>=0&&d>=n&&Zm[this.text.charCodeAt(d)];d--)l--;this.text=this.text.substring(n,l),this.sectionIndex=this.sectionIndex.slice(n,l)}substring(n,l){const d=new La;return d.text=this.text.substring(n,l),d.sectionIndex=this.sectionIndex.slice(n,l),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,l)=>Math.max(n,this.sections[l].scale),0)}addTextSection(n,l){this.text+=n.text,this.sections.push($p.forText(n.scale,n.fontStack||l));const d=this.sections.length-1;for(let f=0;f<n.text.length;++f)this.sectionIndex.push(d)}addImageSection(n){const l=n.image?n.image.name:"";if(l.length===0)return void oe("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push($p.forImage(l)),this.sectionIndex.push(this.sections.length-1)):oe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Xm(a,n,l,d,f,b,C,F,te,re,me,Se,Me,Oe,Ne){const He=La.fromFeature(a,f);Se===er.vertical&&He.verticalizePunctuation(Me);let tt=[];const _t=function(It,ii,ti,xi,ji,li){if(!It)return[];const Si=[],Ei=function(tn,Fn,un,bn,nn,Gn){let kr=0;for(let Sr=0;Sr<tn.length();Sr++){const br=tn.getSection(Sr);kr+=Cv(tn.getCharCode(Sr),br,bn,nn,Fn,Gn)}return kr/Math.max(1,Math.ceil(kr/un))}(It,ii,ti,xi,ji,li),Oi=It.text.indexOf("​")>=0;let Vi=0;for(let tn=0;tn<It.length();tn++){const Fn=It.getSection(tn),un=It.getCharCode(tn);if(Zm[un]||(Vi+=Cv(un,Fn,xi,ji,ii,li)),tn<It.length()-1){const bn=!((ui=un)<11904||!(dl(ui)||mm(ui)||p(ui)||fd(ui)||vm(ui)||$f(ui)||gm(ui)||qd(ui)||xm(ui)||Cp(ui)||_m(ui)||q(ui)||ac(ui)||Gf(ui)||Vf(ui)||ym(ui)||Sp(ui)||c(ui)||bm(ui)||Hf(ui)));(Es[un]||bn||Fn.imageName)&&Si.push(Ev(tn+1,Vi,Ei,Si,Km(un,It.getCharCode(tn+1),bn&&Oi),!1))}}var ui;return Mv(Ev(It.length(),Vi,Ei,Si,0,!0))}(He,re,b,n,d,Oe),{processBidirectionalText:Dt,processStyledBidirectionalText:yt}=Qt;if(Dt&&He.sections.length===1){const It=Dt(He.toString(),_t);for(const ii of It){const ti=new La;ti.text=ii,ti.sections=He.sections;for(let xi=0;xi<ii.length;xi++)ti.sectionIndex.push(0);tt.push(ti)}}else if(yt){const It=yt(He.text,He.sectionIndex,_t);for(const ii of It){const ti=new La;ti.text=ii[0],ti.sectionIndex=ii[1],ti.sections=He.sections,tt.push(ti)}}else tt=function(It,ii){const ti=[],xi=It.text;let ji=0;for(const li of ii)ti.push(It.substring(ji,li)),ji=li;return ji<xi.length&&ti.push(It.substring(ji,xi.length)),ti}(He,_t);const Tt=[],Bt={positionedLines:Tt,text:He.toString(),top:me[1],bottom:me[1],left:me[0],right:me[0],writingMode:Se,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(It,ii,ti,xi,ji,li,Si,Ei,Oi,Vi,ui,tn){let Fn=0,un=0,bn=0;const nn=Ei==="right"?1:Ei==="left"?0:.5;let Gn=!1;for(const sr of ji){const Ar=sr.getSections();for(const vs of Ar){if(vs.imageName)continue;const Ns=ii[vs.fontStack];if(Ns&&(Gn=Ns.ascender!==void 0&&Ns.descender!==void 0,!Gn))break}if(!Gn)break}let kr=0;for(const sr of ji){sr.trim();const Ar=sr.getMaxScale(),vs=(Ar-1)*_s,Ns={positionedGlyphs:[],lineOffset:0};It.positionedLines[kr]=Ns;const Ds=Ns.positionedGlyphs;let zs=0;if(!sr.length()){un+=li,++kr;continue}let Hs=0,Mo=0;for(let us=0;us<sr.length();us++){const Jo=sr.getSection(us),Vo=sr.getSectionIndex(us),Kr=sr.getCharCode(us);let po=Jo.scale,pa=null,xs=null,Ro=null,ml=_s,Ra=0;const Ba=!(Oi===er.horizontal||!ui&&!De(Kr)||ui&&(Zm[Kr]||(Sr=Kr,jf(Sr)||Pc(Sr)||Uf(Sr)||_(Sr)||N(Sr))));if(Jo.imageName){const Bl=xi[Jo.imageName];if(!Bl)continue;Ro=Jo.imageName,It.iconsInText=It.iconsInText||!0,xs=Bl.paddedRect;const Na=Bl.displaySize;po=po*_s/tn,pa={width:Na[0],height:Na[1],left:1,top:-3,advance:Ba?Na[1]:Na[0],localGlyph:!1},Ra=Gn?-pa.height*po:Ar*_s-17-Na[1]*po,ml=pa.advance;const Wh=(Ba?Na[0]:Na[1])*po-_s*Ar;Wh>0&&Wh>zs&&(zs=Wh)}else{const Bl=ti[Jo.fontStack];if(!Bl)continue;Bl[Kr]&&(xs=Bl[Kr]);const Na=ii[Jo.fontStack];if(!Na)continue;const Wh=Na.glyphs[Kr];if(!Wh)continue;if(pa=Wh.metrics,ml=Kr!==8203?_s:0,Gn){const hg=Na.ascender!==void 0?Math.abs(Na.ascender):0,wy=Na.descender!==void 0?Math.abs(Na.descender):0,Ty=(hg+wy)*po;Hs<Ty&&(Hs=Ty,Mo=(hg-wy)/2*po),Ra=-hg*po}else Ra=(Ar-po)*_s-17}Ba?(It.verticalizable=!0,Ds.push({glyph:Kr,imageName:Ro,x:Fn,y:un+Ra,vertical:Ba,scale:po,localGlyph:pa.localGlyph,fontStack:Jo.fontStack,sectionIndex:Vo,metrics:pa,rect:xs}),Fn+=ml*po+Vi):(Ds.push({glyph:Kr,imageName:Ro,x:Fn,y:un+Ra,vertical:Ba,scale:po,localGlyph:pa.localGlyph,fontStack:Jo.fontStack,sectionIndex:Vo,metrics:pa,rect:xs}),Fn+=pa.advance*po+Vi)}Ds.length!==0&&(bn=Math.max(Fn-Vi,bn),Gn?kv(Ds,nn,zs,Mo,li*Ar/2):kv(Ds,nn,zs,0,li/2)),Fn=0;const Oa=li*Ar+zs;Ns.lineOffset=Math.max(zs,vs),un+=Oa,++kr}var Sr;const br=un,{horizontalAlign:Wn,verticalAlign:cs}=J1(Si);(function(sr,Ar,vs,Ns,Ds,zs){const Hs=(Ar-vs)*Ds,Mo=-zs*Ns;for(const Oa of sr)for(const us of Oa.positionedGlyphs)us.x+=Hs,us.y+=Mo})(It.positionedLines,nn,Wn,cs,bn,br),It.top+=-cs*br,It.bottom=It.top+br,It.left+=-Wn*bn,It.right=It.left+bn,It.hasBaseline=Gn}(Bt,n,l,d,tt,C,F,te,Se,re,Me,Ne),!function(It){for(const ii of It)if(ii.positionedGlyphs.length!==0)return!1;return!0}(Tt)&&Bt}const Zm={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Es={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Cv(a,n,l,d,f,b){if(n.imageName){const C=d[n.imageName];return C?C.displaySize[0]*n.scale*_s/b+f:0}{const C=l[n.fontStack],F=C&&C.glyphs[a];return F?F.metrics.advance*n.scale+f:0}}function K1(a,n,l,d){const f=Math.pow(a-n,2);return d?a<n?f/2:2*f:f+Math.abs(l)*l}function Km(a,n,l){let d=0;return a===10&&(d-=1e4),l&&(d+=150),a!==40&&a!==65288||(d+=50),n!==41&&n!==65289||(d+=50),d}function Ev(a,n,l,d,f,b){let C=null,F=K1(n,l,f,b);for(const te of d){const re=K1(n-te.x,l,f,b)+te.badness;re<=F&&(C=te,F=re)}return{index:a,x:n,priorBreak:C,badness:F}}function Mv(a){return a?Mv(a.priorBreak).concat(a.index):[]}function J1(a){let n=.5,l=.5;switch(a){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:n,verticalAlign:l}}function kv(a,n,l,d,f){if(!(n||l||d||f))return;const b=a.length-1,C=a[b],F=(C.x+C.metrics.advance*C.scale)*n;for(let te=0;te<=b;te++)a[te].x-=F,a[te].y+=l+d+f}function bw(a,n,l){const{horizontalAlign:d,verticalAlign:f}=J1(l),b=n[0]-a.displaySize[0]*d,C=n[1]-a.displaySize[1]*f;return{image:a,top:C,bottom:C+a.displaySize[1],left:b,right:b+a.displaySize[0]}}function Av(a,n,l,d,f,b){const C=a.image;let F;if(C.content){const tt=C.content,_t=C.pixelRatio||1;F=[tt[0]/_t,tt[1]/_t,C.displaySize[0]-tt[2]/_t,C.displaySize[1]-tt[3]/_t]}const te=n.left*b,re=n.right*b;let me,Se,Me,Oe;l==="width"||l==="both"?(Oe=f[0]+te-d[3],Se=f[0]+re+d[1]):(Oe=f[0]+(te+re-C.displaySize[0])/2,Se=Oe+C.displaySize[0]);const Ne=n.top*b,He=n.bottom*b;return l==="height"||l==="both"?(me=f[1]+Ne-d[0],Me=f[1]+He+d[2]):(me=f[1]+(Ne+He-C.displaySize[1])/2,Me=me+C.displaySize[1]),{image:C,top:me,right:Se,bottom:Me,left:Oe,collisionPadding:F}}class wd extends U{constructor(n,l,d,f,b){super(n,l),this.angle=f,this.z=d,b!==void 0&&(this.segment=b)}clone(){return new wd(this.x,this.y,this.z,this.angle,this.segment)}}function Pv(a,n,l,d,f){if(n.segment===void 0)return!0;let b=n,C=n.segment+1,F=0;for(;F>-l/2;){if(C--,C<0)return!1;F-=a[C].dist(b),b=a[C]}F+=a[C].dist(a[C+1]),C++;const te=[];let re=0;for(;F<l/2;){const me=a[C],Se=a[C+1];if(!Se)return!1;let Me=a[C-1].angleTo(me)-me.angleTo(Se);for(Me=Math.abs((Me+3*Math.PI)%(2*Math.PI)-Math.PI),te.push({distance:F,angleDelta:Me}),re+=Me;F-te[0].distance>d;)re-=te.shift().angleDelta;if(re>f)return!1;C++,F+=me.dist(Se)}return!0}function Dv(a){let n=0;for(let l=0;l<a.length-1;l++)n+=a[l].dist(a[l+1]);return n}function Iv(a,n,l){return a?.6*n*l:0}function Lv(a,n){return Math.max(a?a.right-a.left:0,n?n.right-n.left:0)}function ww(a,n,l,d,f,b){const C=Iv(l,f,b),F=Lv(l,d)*b;let te=0;const re=Dv(a)/2;for(let me=0;me<a.length-1;me++){const Se=a[me],Me=a[me+1],Oe=Se.dist(Me);if(te+Oe>re){const Ne=(re-te)/Oe,He=Kn(Se.x,Me.x,Ne),tt=Kn(Se.y,Me.y,Ne),_t=new wd(He,tt,0,Me.angleTo(Se),me);return!C||Pv(a,_t,F,C,n)?_t:void 0}te+=Oe}}function Tw(a,n,l,d,f,b,C,F,te){const re=Iv(d,b,C),me=Lv(d,f),Se=me*C,Me=a[0].x===0||a[0].x===te||a[0].y===0||a[0].y===te;return n-Se<n/4&&(n=Se+n/4),Jm(a,Me?n/2*F%n:(me/2+2*b)*C*F%n,n,re,l,Se,Me,!1,te)}function Jm(a,n,l,d,f,b,C,F,te){const re=b/2,me=Dv(a);let Se=0,Me=n-l,Oe=[];for(let Ne=0;Ne<a.length-1;Ne++){const He=a[Ne],tt=a[Ne+1],_t=He.dist(tt),Dt=tt.angleTo(He);for(;Me+l<Se+_t;){Me+=l;const yt=(Me-Se)/_t,Tt=Kn(He.x,tt.x,yt),Bt=Kn(He.y,tt.y,yt);if(Tt>=0&&Tt<te&&Bt>=0&&Bt<te&&Me-re>=0&&Me+re<=me){const It=new wd(Tt,Bt,0,Dt,Ne);It._round(),d&&!Pv(a,It,b,d,f)||Oe.push(It)}}Se+=_t}return F||Oe.length||C||(Oe=Jm(a,Se/2,l,d,f,b,C,!0,te)),Oe}function Ov(a,n,l,d,f){const b=[];for(let C=0;C<a.length;C++){const F=a[C];let te;for(let re=0;re<F.length-1;re++){let me=F[re],Se=F[re+1];me.x<n&&Se.x<n||(me.x<n?me=new U(n,me.y+(n-me.x)/(Se.x-me.x)*(Se.y-me.y))._round():Se.x<n&&(Se=new U(n,me.y+(n-me.x)/(Se.x-me.x)*(Se.y-me.y))._round()),me.y<l&&Se.y<l||(me.y<l?me=new U(me.x+(l-me.y)/(Se.y-me.y)*(Se.x-me.x),l)._round():Se.y<l&&(Se=new U(me.x+(l-me.y)/(Se.y-me.y)*(Se.x-me.x),l)._round()),me.x>=d&&Se.x>=d||(me.x>=d?me=new U(d,me.y+(d-me.x)/(Se.x-me.x)*(Se.y-me.y))._round():Se.x>=d&&(Se=new U(d,me.y+(d-me.x)/(Se.x-me.x)*(Se.y-me.y))._round()),me.y>=f&&Se.y>=f||(me.y>=f?me=new U(me.x+(f-me.y)/(Se.y-me.y)*(Se.x-me.x),f)._round():Se.y>=f&&(Se=new U(me.x+(f-me.y)/(Se.y-me.y)*(Se.x-me.x),f)._round()),te&&me.equals(te[te.length-1])||(te=[me],b.push(te)),te.push(Se)))))}}return b}rn(wd,"Anchor");const Uh=1e20;function Rv(a,n,l,d,f,b,C,F,te){for(let re=n;re<n+d;re++)Bv(a,l*b+re,b,f,C,F,te);for(let re=l;re<l+f;re++)Bv(a,re*b+n,1,d,C,F,te)}function Bv(a,n,l,d,f,b,C){b[0]=0,C[0]=-Uh,C[1]=Uh,f[0]=a[n];for(let F=1,te=0,re=0;F<d;F++){f[F]=a[n+F*l];const me=F*F;do{const Se=b[te];re=(f[F]-f[Se]+me-Se*Se)/(F-Se)/2}while(re<=C[te]&&--te>-1);te++,b[te]=F,C[te]=re,C[te+1]=Uh}for(let F=0,te=0;F<d;F++){for(;C[te+1]<F;)te++;const re=b[te],me=F-re;a[n+F*l]=f[re]+me*me}}const Q1={none:0,ideographs:1,all:2};class Eo{constructor(n,l,d){this.requestManager=n,this.localGlyphMode=l,this.localFontFamily=d,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(n){this.url=n}getGlyphs(n,l){const d=[];for(const f in n)for(const b of n[f])d.push({stack:f,id:b});X(d,({stack:f,id:b},C)=>{let F=this.entries[f];F||(F=this.entries[f]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let te=F.glyphs[b];if(te!==void 0)return void C(null,{stack:f,id:b,glyph:te});if(te=this._tinySDF(F,f,b),te)return F.glyphs[b]=te,void C(null,{stack:f,id:b,glyph:te});const re=Math.floor(b/256);if(256*re>65535)return void C(new Error("glyphs > 65535 not supported"));if(F.ranges[re])return void C(null,{stack:f,id:b,glyph:te});let me=F.requests[re];me||(me=F.requests[re]=[],Eo.loadGlyphRange(f,re,this.url,this.requestManager,(Se,Me)=>{if(Me){F.ascender=Me.ascender,F.descender=Me.descender;for(const Oe in Me.glyphs)this._doesCharSupportLocalGlyph(+Oe)||(F.glyphs[+Oe]=Me.glyphs[+Oe]);F.ranges[re]=!0}for(const Oe of me)Oe(Se,Me);delete F.requests[re]})),me.push((Se,Me)=>{Se?C(Se):Me&&C(null,{stack:f,id:b,glyph:Me.glyphs[b]||null})})},(f,b)=>{if(f)l(f);else if(b){const C={};for(const{stack:F,id:te,glyph:re}of b)C[F]===void 0&&(C[F]={}),C[F].glyphs===void 0&&(C[F].glyphs={}),C[F].glyphs[te]=re&&{id:re.id,bitmap:re.bitmap.clone(),metrics:re.metrics},C[F].ascender=this.entries[F].ascender,C[F].descender=this.entries[F].descender;l(null,C)}})}_doesCharSupportLocalGlyph(n){return this.localGlyphMode!==Q1.none&&(this.localGlyphMode===Q1.all?!!this.localFontFamily:!!this.localFontFamily&&(Cp(n)||Wf(n)||ac(n)||Sp(n)||qd(n)))}_tinySDF(n,l,d){const f=this.localFontFamily;if(!f||!this._doesCharSupportLocalGlyph(d))return;let b=n.tinySDF;if(!b){let He="400";/bold/i.test(l)?He="900":/medium/i.test(l)?He="500":/light/i.test(l)&&(He="200"),b=n.tinySDF=new Eo.TinySDF({fontFamily:f,fontWeight:He,fontSize:48,buffer:6,radius:16}),b.fontWeight=He}if(this.localGlyphs[b.fontWeight][d])return this.localGlyphs[b.fontWeight][d];const C=String.fromCharCode(d),{data:F,width:te,height:re,glyphWidth:me,glyphHeight:Se,glyphLeft:Me,glyphTop:Oe,glyphAdvance:Ne}=b.draw(C);return this.localGlyphs[b.fontWeight][d]={id:d,bitmap:new xd({width:te,height:re},F),metrics:{width:me/2,height:Se/2,left:Me/2,top:Oe/2-27,advance:Ne/2,localGlyph:!0}}}}function fl(a,n,l,d){const f=[],b=a.image,C=b.pixelRatio,F=b.paddedRect.w-2,te=b.paddedRect.h-2,re=a.right-a.left,me=a.bottom-a.top,Se=b.stretchX||[[0,F]],Me=b.stretchY||[[0,te]],Oe=(li,Si)=>li+Si[1]-Si[0],Ne=Se.reduce(Oe,0),He=Me.reduce(Oe,0),tt=F-Ne,_t=te-He;let Dt=0,yt=Ne,Tt=0,Bt=He,It=0,ii=tt,ti=0,xi=_t;if(b.content&&d){const li=b.content;Dt=Qm(Se,0,li[0]),Tt=Qm(Me,0,li[1]),yt=Qm(Se,li[0],li[2]),Bt=Qm(Me,li[1],li[3]),It=li[0]-Dt,ti=li[1]-Tt,ii=li[2]-li[0]-yt,xi=li[3]-li[1]-Bt}const ji=(li,Si,Ei,Oi)=>{const Vi=eg(li.stretch-Dt,yt,re,a.left),ui=h0(li.fixed-It,ii,li.stretch,Ne),tn=eg(Si.stretch-Tt,Bt,me,a.top),Fn=h0(Si.fixed-ti,xi,Si.stretch,He),un=eg(Ei.stretch-Dt,yt,re,a.left),bn=h0(Ei.fixed-It,ii,Ei.stretch,Ne),nn=eg(Oi.stretch-Tt,Bt,me,a.top),Gn=h0(Oi.fixed-ti,xi,Oi.stretch,He),kr=new U(Vi,tn),Sr=new U(un,tn),br=new U(un,nn),Wn=new U(Vi,nn),cs=new U(ui/C,Fn/C),sr=new U(bn/C,Gn/C),Ar=n*Math.PI/180;if(Ar){const Ds=Math.sin(Ar),zs=Math.cos(Ar),Hs=[zs,-Ds,Ds,zs];kr._matMult(Hs),Sr._matMult(Hs),Wn._matMult(Hs),br._matMult(Hs)}const vs=li.stretch+li.fixed,Ns=Si.stretch+Si.fixed;return{tl:kr,tr:Sr,bl:Wn,br,tex:{x:b.paddedRect.x+1+vs,y:b.paddedRect.y+1+Ns,w:Ei.stretch+Ei.fixed-vs,h:Oi.stretch+Oi.fixed-Ns},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:cs,pixelOffsetBR:sr,minFontScaleX:ii/C/re,minFontScaleY:xi/C/me,isSDF:l}};if(d&&(b.stretchX||b.stretchY)){const li=Nv(Se,tt,Ne),Si=Nv(Me,_t,He);for(let Ei=0;Ei<li.length-1;Ei++){const Oi=li[Ei],Vi=li[Ei+1];for(let ui=0;ui<Si.length-1;ui++)f.push(ji(Oi,Si[ui],Vi,Si[ui+1]))}}else f.push(ji({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:F+1},{fixed:0,stretch:te+1}));return f}function Qm(a,n,l){let d=0;for(const f of a)d+=Math.max(n,Math.min(l,f[1]))-Math.max(n,Math.min(l,f[0]));return d}function Nv(a,n,l){const d=[{fixed:-1,stretch:0}];for(const[f,b]of a){const C=d[d.length-1];d.push({fixed:f-C.stretch,stretch:C.stretch}),d.push({fixed:f-C.stretch,stretch:C.stretch+(b-f)})}return d.push({fixed:n+1,stretch:l}),d}function eg(a,n,l,d){return a/n*l+d}function h0(a,n,l,d){return a-n*l/d}function Sw(a,n,l,d){const f=n+a.positionedLines[d].lineOffset;return d===0?l+f/2:l+(f+(n+a.positionedLines[d-1].lineOffset))/2}Eo.loadGlyphRange=function(a,n,l,d,f){const b=256*n,C=b+255,F=d.transformRequest(d.normalizeGlyphsURL(l).replace("{fontstack}",a).replace("{range}",`${b}-${C}`),qt.Glyphs);Lt(F,(te,re)=>{if(te)f(te);else if(re){const me={},Se=function(Me){return new u0(Me).readFields(_w,{})}(re);for(const Me of Se.glyphs)me[Me.id]=Me;f(null,{glyphs:me,ascender:Se.ascender,descender:Se.descender})}})},Eo.TinySDF=class{constructor({fontSize:a=24,buffer:n=3,radius:l=8,cutoff:d=.25,fontFamily:f="sans-serif",fontWeight:b="normal",fontStyle:C="normal"}={}){this.buffer=n,this.cutoff=d,this.radius=l;const F=this.size=a+4*n,te=this._createCanvas(F),re=this.ctx=te.getContext("2d",{willReadFrequently:!0});re.font=`${C} ${b} ${a}px ${f}`,re.textBaseline="alphabetic",re.textAlign="left",re.fillStyle="black",this.gridOuter=new Float64Array(F*F),this.gridInner=new Float64Array(F*F),this.f=new Float64Array(F),this.z=new Float64Array(F+1),this.v=new Uint16Array(F)}_createCanvas(a){const n=document.createElement("canvas");return n.width=n.height=a,n}draw(a){const{width:n,actualBoundingBoxAscent:l,actualBoundingBoxDescent:d,actualBoundingBoxLeft:f,actualBoundingBoxRight:b}=this.ctx.measureText(a),C=Math.ceil(l),F=Math.min(this.size-this.buffer,Math.ceil(b-f)),te=Math.min(this.size-this.buffer,C+Math.ceil(d)),re=F+2*this.buffer,me=te+2*this.buffer,Se=Math.max(re*me,0),Me=new Uint8ClampedArray(Se),Oe={data:Me,width:re,height:me,glyphWidth:F,glyphHeight:te,glyphTop:C,glyphLeft:0,glyphAdvance:n};if(F===0||te===0)return Oe;const{ctx:Ne,buffer:He,gridInner:tt,gridOuter:_t}=this;Ne.clearRect(He,He,F,te),Ne.fillText(a,He,He+C);const Dt=Ne.getImageData(He,He,F,te);_t.fill(Uh,0,Se),tt.fill(0,0,Se);for(let yt=0;yt<te;yt++)for(let Tt=0;Tt<F;Tt++){const Bt=Dt.data[4*(yt*F+Tt)+3]/255;if(Bt===0)continue;const It=(yt+He)*re+Tt+He;if(Bt===1)_t[It]=0,tt[It]=Uh;else{const ii=.5-Bt;_t[It]=ii>0?ii*ii:0,tt[It]=ii<0?ii*ii:0}}Rv(_t,0,0,re,me,re,this.f,this.v,this.z),Rv(tt,He,He,F,te,re,this.f,this.v,this.z);for(let yt=0;yt<Se;yt++){const Tt=Math.sqrt(_t[yt])-Math.sqrt(tt[yt]);Me[yt]=Math.round(255-255*(Tt/this.radius+this.cutoff))}return Oe}};class Cw{constructor(n=[],l=Ew){if(this.data=n,this.length=this.data.length,this.compare=l,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:l,compare:d}=this,f=l[n];for(;n>0;){const b=n-1>>1,C=l[b];if(d(f,C)>=0)break;l[n]=C,n=b}l[n]=f}_down(n){const{data:l,compare:d}=this,f=this.length>>1,b=l[n];for(;n<f;){let C=1+(n<<1),F=l[C];const te=C+1;if(te<this.length&&d(l[te],F)<0&&(C=te,F=l[te]),d(F,b)>=0)break;l[n]=F,n=C}l[n]=b}}function Ew(a,n){return a<n?-1:a>n?1:0}function zv(a,n=1,l=!1){let d=1/0,f=1/0,b=-1/0,C=-1/0;const F=a[0];for(let Oe=0;Oe<F.length;Oe++){const Ne=F[Oe];(!Oe||Ne.x<d)&&(d=Ne.x),(!Oe||Ne.y<f)&&(f=Ne.y),(!Oe||Ne.x>b)&&(b=Ne.x),(!Oe||Ne.y>C)&&(C=Ne.y)}const te=Math.min(b-d,C-f);let re=te/2;const me=new Cw([],Mw);if(te===0)return new U(d,f);for(let Oe=d;Oe<b;Oe+=te)for(let Ne=f;Ne<C;Ne+=te)me.push(new Vp(Oe+re,Ne+re,re,a));let Se=function(Oe){let Ne=0,He=0,tt=0;const _t=Oe[0];for(let Dt=0,yt=_t.length,Tt=yt-1;Dt<yt;Tt=Dt++){const Bt=_t[Dt],It=_t[Tt],ii=Bt.x*It.y-It.x*Bt.y;He+=(Bt.x+It.x)*ii,tt+=(Bt.y+It.y)*ii,Ne+=3*ii}return new Vp(He/Ne,tt/Ne,0,Oe)}(a),Me=me.length;for(;me.length;){const Oe=me.pop();(Oe.d>Se.d||!Se.d)&&(Se=Oe,l&&console.log("found best %d after %d probes",Math.round(1e4*Oe.d)/1e4,Me)),Oe.max-Se.d<=n||(re=Oe.h/2,me.push(new Vp(Oe.p.x-re,Oe.p.y-re,re,a)),me.push(new Vp(Oe.p.x+re,Oe.p.y-re,re,a)),me.push(new Vp(Oe.p.x-re,Oe.p.y+re,re,a)),me.push(new Vp(Oe.p.x+re,Oe.p.y+re,re,a)),Me+=4)}return l&&(console.log(`num probes: ${Me}`),console.log(`best distance: ${Se.d}`)),Se.p}function Mw(a,n){return n.max-a.max}function Vp(a,n,l,d){this.p=new U(a,n),this.h=l,this.d=function(f,b){let C=!1,F=1/0;for(let te=0;te<b.length;te++){const re=b[te];for(let me=0,Se=re.length,Me=Se-1;me<Se;Me=me++){const Oe=re[me],Ne=re[Me];Oe.y>f.y!=Ne.y>f.y&&f.x<(Ne.x-Oe.x)*(f.y-Oe.y)/(Ne.y-Oe.y)+Oe.x&&(C=!C),F=Math.min(F,V_(f,Oe,Ne))}}return(C?1:-1)*Math.sqrt(F)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}const ey=Number.POSITIVE_INFINITY,Fv=Math.sqrt(2);function ty(a,[n,l]){let d=0,f=0;if(l===ey){n<0&&(n=0);const b=n/Fv;switch(a){case"top-right":case"top-left":f=b-7;break;case"bottom-right":case"bottom-left":f=7-b;break;case"bottom":f=7-n;break;case"top":f=n-7}switch(a){case"top-right":case"bottom-right":d=-b;break;case"top-left":case"bottom-left":d=b;break;case"left":d=n;break;case"right":d=-n}}else{switch(n=Math.abs(n),l=Math.abs(l),a){case"top-right":case"top-left":case"top":f=l-7;break;case"bottom-right":case"bottom-left":case"bottom":f=7-l}switch(a){case"top-right":case"bottom-right":case"right":d=-n;break;case"top-left":case"bottom-left":case"left":d=n}}return[d,f]}function kw(a,n,l,d,f,b,C,F,te,re){a.createArrays(),a.tilePixelRatio=Bn/(512*a.overscaling),a.compareText={},a.iconsNeedLinear=!1;const me=a.layers[0].layout,Se=a.layers[0]._unevaluatedLayout._values,Me={};if(a.textSizeData.kind==="composite"){const{minZoom:He,maxZoom:tt}=a.textSizeData;Me.compositeTextSizes=[Se["text-size"].possiblyEvaluate(new Yt(He),F),Se["text-size"].possiblyEvaluate(new Yt(tt),F)]}if(a.iconSizeData.kind==="composite"){const{minZoom:He,maxZoom:tt}=a.iconSizeData;Me.compositeIconSizes=[Se["icon-size"].possiblyEvaluate(new Yt(He),F),Se["icon-size"].possiblyEvaluate(new Yt(tt),F)]}Me.layoutTextSize=Se["text-size"].possiblyEvaluate(new Yt(te+1),F),Me.layoutIconSize=Se["icon-size"].possiblyEvaluate(new Yt(te+1),F),Me.textMaxSize=Se["text-size"].possiblyEvaluate(new Yt(18),F);const Oe=me.get("text-rotation-alignment")==="map"&&me.get("symbol-placement")!=="point",Ne=me.get("text-size");for(const He of a.features){const tt=me.get("text-font").evaluate(He,{},F).join(","),_t=Ne.evaluate(He,{},F),Dt=Me.layoutTextSize.evaluate(He,{},F),yt=(Me.layoutIconSize.evaluate(He,{},F),{horizontal:{},vertical:void 0}),Tt=He.text;let Bt,It=[0,0];if(Tt){const xi=Tt.toString(),ji=me.get("text-letter-spacing").evaluate(He,{},F)*_s,li=me.get("text-line-height").evaluate(He,{},F)*_s,Si=he(xi)?ji:0,Ei=me.get("text-anchor").evaluate(He,{},F),Oi=me.get("text-variable-anchor");if(!Oi){const un=me.get("text-radial-offset").evaluate(He,{},F);It=un?ty(Ei,[un*_s,ey]):me.get("text-offset").evaluate(He,{},F).map(bn=>bn*_s)}let Vi=Oe?"center":me.get("text-justify").evaluate(He,{},F);const ui=me.get("symbol-placement")==="point",tn=ui?me.get("text-max-width").evaluate(He,{},F)*_s:1/0,Fn=un=>{a.allowVerticalPlacement&&ae(xi)&&(yt.vertical=Xm(Tt,n,l,f,tt,tn,li,Ei,un,Si,It,er.vertical,!0,Dt,_t))};if(!Oe&&Oi){const un=Vi==="auto"?Oi.map(nn=>iy(nn)):[Vi];let bn=!1;for(let nn=0;nn<un.length;nn++){const Gn=un[nn];if(!yt.horizontal[Gn])if(bn)yt.horizontal[Gn]=yt.horizontal[0];else{const kr=Xm(Tt,n,l,f,tt,tn,li,"center",Gn,Si,It,er.horizontal,!1,Dt,_t);kr&&(yt.horizontal[Gn]=kr,bn=kr.positionedLines.length===1)}}Fn("left")}else{if(Vi==="auto"&&(Vi=iy(Ei)),ui||me.get("text-writing-mode").indexOf("horizontal")>=0||!ae(xi)){const un=Xm(Tt,n,l,f,tt,tn,li,Ei,Vi,Si,It,er.horizontal,!1,Dt,_t);un&&(yt.horizontal[Vi]=un)}Fn(ui?"left":Vi)}}let ii=!1;if(He.icon&&He.icon.name){const xi=d[He.icon.name];xi&&(Bt=bw(f[He.icon.name],me.get("icon-offset").evaluate(He,{},F),me.get("icon-anchor").evaluate(He,{},F)),ii=xi.sdf,a.sdfIcons===void 0?a.sdfIcons=xi.sdf:a.sdfIcons!==xi.sdf&&oe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xi.pixelRatio!==a.pixelRatio||me.get("icon-rotate").constantOr(1)!==0)&&(a.iconsNeedLinear=!0))}const ti=jv(yt.horizontal)||yt.vertical;a.iconsInText||(a.iconsInText=!!ti&&ti.iconsInText),(ti||Bt)&&Aw(a,He,yt,Bt,d,Me,Dt,0,It,ii,C,F,re)}b&&a.generateCollisionDebugBuffers(te,a.collisionBoxArray)}function iy(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Aw(a,n,l,d,f,b,C,F,te,re,me,Se,Me){let Oe=b.textMaxSize.evaluate(n,{},Se);Oe===void 0&&(Oe=C);const Ne=a.layers[0].layout,He=Ne.get("icon-offset").evaluate(n,{},Se),tt=jv(l.horizontal)||l.vertical,_t=Me.name==="globe",Dt=C/24,yt=a.tilePixelRatio*Oe/24,Tt=(Si=a.overscaling,a.zoom>18&&Si>2&&(Si>>=1),Math.max(Bn/(512*Si),1)*Ne.get("symbol-spacing")),Bt=Ne.get("text-padding")*a.tilePixelRatio,It=Ne.get("icon-padding")*a.tilePixelRatio,ii=$(Ne.get("text-max-angle")),ti=Ne.get("text-rotation-alignment")==="map"&&Ne.get("symbol-placement")!=="point",xi=Ne.get("icon-rotation-alignment")==="map"&&Ne.get("symbol-placement")!=="point",ji=Ne.get("symbol-placement"),li=Tt/2;var Si;const Ei=Ne.get("icon-text-fit");let Oi;d&&Ei!=="none"&&(a.allowVerticalPlacement&&l.vertical&&(Oi=Av(d,l.vertical,Ei,Ne.get("icon-text-fit-padding"),He,Dt)),tt&&(d=Av(d,tt,Ei,Ne.get("icon-text-fit-padding"),He,Dt)));const Vi=(ui,tn,Fn)=>{if(tn.x<0||tn.x>=Bn||tn.y<0||tn.y>=Bn)return;let un=null;if(_t){const{x:bn,y:nn,z:Gn}=Me.projectTilePoint(tn.x,tn.y,Fn);un={anchor:new wd(bn,nn,Gn,0,void 0),up:Me.upVector(Fn,tn.x,tn.y)}}(function(bn,nn,Gn,kr,Sr,br,Wn,cs,sr,Ar,vs,Ns,Ds,zs,Hs,Mo,Oa,us,Jo,Vo,Kr,po,pa,xs,Ro){const ml=bn.addToLineVertexArray(nn,kr);let Ra,Ba,Bl,Na,Wh,hg,wy,Ty=0,n5=0,r5=0,s5=0,t3=-1,i3=-1;const rh={};let o5=Ah.exports("");const S0=Gn?Gn.anchor:nn;let n3=0,r3=0;if(sr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[n3,r3]=sr.layout.get("text-offset").evaluate(Kr,{},Ro).map(zc=>zc*_s):(n3=sr.layout.get("text-radial-offset").evaluate(Kr,{},Ro)*_s,r3=ey),bn.allowVerticalPlacement&&Sr.vertical){const zc=Sr.vertical;if(Hs)hg=ny(zc),cs&&(wy=ny(cs));else{const Fc=sr.layout.get("text-rotate").evaluate(Kr,{},Ro)+90;Bl=tg(Ar,S0,nn,vs,Ns,Ds,zc,zs,Fc,Mo),cs&&(Na=tg(Ar,S0,nn,vs,Ns,Ds,cs,us,Fc))}}if(br){const zc=sr.layout.get("icon-rotate").evaluate(Kr,{},Ro),Fc=sr.layout.get("icon-text-fit")!=="none",Sy=fl(br,zc,pa,Fc),o3=cs?fl(cs,zc,pa,Fc):void 0;Ba=tg(Ar,S0,nn,vs,Ns,Ds,br,us,zc),Ty=4*Sy.length;const a5=bn.iconSizeData;let C0=null;a5.kind==="source"?(C0=[Cs*sr.layout.get("icon-size").evaluate(Kr,{},Ro)],C0[0]>th&&oe(`${bn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):a5.kind==="composite"&&(C0=[Cs*po.compositeIconSizes[0].evaluate(Kr,{},Ro),Cs*po.compositeIconSizes[1].evaluate(Kr,{},Ro)],(C0[0]>th||C0[1]>th)&&oe(`${bn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),bn.addSymbols(bn.icon,Sy,C0,Vo,Jo,Kr,!1,Gn,nn,ml.lineStartIndex,ml.lineLength,-1,xs,Ro),t3=bn.icon.placedSymbolArray.length-1,o3&&(n5=4*o3.length,bn.addSymbols(bn.icon,o3,C0,Vo,Jo,Kr,er.vertical,Gn,nn,ml.lineStartIndex,ml.lineLength,-1,xs,Ro),i3=bn.icon.placedSymbolArray.length-1)}for(const zc in Sr.horizontal){const Fc=Sr.horizontal[zc];Ra||(o5=Ah.exports(Fc.text),Hs?Wh=ny(Fc):Ra=tg(Ar,S0,nn,vs,Ns,Ds,Fc,zs,sr.layout.get("text-rotate").evaluate(Kr,{},Ro),Mo));const Sy=Fc.positionedLines.length===1;if(r5+=$h(bn,Gn,nn,Fc,Wn,sr,Hs,Kr,Mo,ml,Sr.vertical?er.horizontal:er.horizontalOnly,Sy?Object.keys(Sr.horizontal):[zc],rh,t3,po,xs,Ro),Sy)break}Sr.vertical&&(s5+=$h(bn,Gn,nn,Sr.vertical,Wn,sr,Hs,Kr,Mo,ml,er.vertical,["vertical"],rh,i3,po,xs,Ro));let Xp=-1;const s3=(zc,Fc)=>zc?Math.max(zc,Fc):Fc;Xp=s3(Wh,Xp),Xp=s3(hg,Xp),Xp=s3(wy,Xp);const c6=Xp>-1?1:0;bn.glyphOffsetArray.length>=ih.MAX_GLYPHS&&oe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Kr.sortKey!==void 0&&bn.addToSortKeyRanges(bn.symbolInstances.length,Kr.sortKey),bn.symbolInstances.emplaceBack(S0.x,S0.y,S0.z,nn.x,nn.y,rh.right>=0?rh.right:-1,rh.center>=0?rh.center:-1,rh.left>=0?rh.left:-1,rh.vertical>=0?rh.vertical:-1,t3,i3,o5,Ra!==void 0?Ra:bn.collisionBoxArray.length,Ra!==void 0?Ra+1:bn.collisionBoxArray.length,Bl!==void 0?Bl:bn.collisionBoxArray.length,Bl!==void 0?Bl+1:bn.collisionBoxArray.length,Ba!==void 0?Ba:bn.collisionBoxArray.length,Ba!==void 0?Ba+1:bn.collisionBoxArray.length,Na||bn.collisionBoxArray.length,Na?Na+1:bn.collisionBoxArray.length,vs,r5,s5,Ty,n5,c6,0,n3,r3,Xp)})(a,tn,un,ui,l,d,f,Oi,a.layers[0],a.collisionBoxArray,n.index,n.sourceLayerIndex,a.index,Bt,ti,te,0,It,xi,He,n,b,re,me,Se)};if(ji==="line")for(const ui of Ov(n.geometry,0,0,Bn,Bn)){const tn=Tw(ui,Tt,ii,l.vertical||tt,d,24,yt,a.overscaling,Bn);for(const Fn of tn){const un=tt;un&&Pw(a,un.text,li,Fn)||Vi(ui,Fn,Se)}}else if(ji==="line-center"){for(const ui of n.geometry)if(ui.length>1){const tn=ww(ui,ii,l.vertical||tt,d,24,yt);tn&&Vi(ui,tn,Se)}}else if(n.type==="Polygon")for(const ui of B1(n.geometry,0)){const tn=zv(ui,16);Vi(ui[0],new wd(tn.x,tn.y,0,0,void 0),Se)}else if(n.type==="LineString")for(const ui of n.geometry)Vi(ui,new wd(ui[0].x,ui[0].y,0,0,void 0),Se);else if(n.type==="Point")for(const ui of n.geometry)for(const tn of ui)Vi([tn],new wd(tn.x,tn.y,0,0,void 0),Se)}const th=32640;function $h(a,n,l,d,f,b,C,F,te,re,me,Se,Me,Oe,Ne,He,tt){const _t=function(Tt,Bt,It,ii,ti,xi,ji,li){const Si=[];if(Bt.positionedLines.length===0)return Si;const Ei=ii.layout.get("text-rotate").evaluate(xi,{})*Math.PI/180,Oi=function(un){const bn=un[0],nn=un[1],Gn=bn*nn;return Gn>0?[bn,-nn]:Gn<0?[-bn,nn]:bn===0?[nn,bn]:[nn,-bn]}(It);let Vi=Math.abs(Bt.top-Bt.bottom);for(const un of Bt.positionedLines)Vi-=un.lineOffset;const ui=Bt.positionedLines.length,tn=Vi/ui;let Fn=Bt.top-It[1];for(let un=0;un<ui;++un){const bn=Bt.positionedLines[un];Fn=Sw(Bt,tn,Fn,un);for(const nn of bn.positionedGlyphs){if(!nn.rect)continue;const Gn=nn.rect||{};let kr=4,Sr=!0,br=1,Wn=0;if(nn.imageName){const xs=ji[nn.imageName];if(!xs)continue;if(xs.sdf){oe("SDF images are not supported in formatted text and will be ignored.");continue}Sr=!1,br=xs.pixelRatio,kr=1/br}const cs=(ti||li)&&nn.vertical,sr=nn.metrics.advance*nn.scale/2,Ar=nn.metrics,vs=nn.rect;if(vs===null)continue;li&&Bt.verticalizable&&(Wn=nn.imageName?sr-nn.metrics.width*nn.scale/2:0);const Ns=ti?[nn.x+sr,nn.y]:[0,0];let Ds=[0,0],zs=[0,0],Hs=!1;ti||(cs?(zs=[nn.x+sr+Oi[0],nn.y+Oi[1]-Wn],Hs=!0):Ds=[nn.x+sr+It[0],nn.y+It[1]-Wn]);const Mo=vs.w*nn.scale/(br*(nn.localGlyph?2:1)),Oa=vs.h*nn.scale/(br*(nn.localGlyph?2:1));let us,Jo,Vo,Kr;if(cs){const xs=nn.y-Fn,Ro=new U(-sr,sr-xs),ml=-Math.PI/2,Ra=new U(...zs);us=new U(-sr+Ds[0],Ds[1]),us._rotateAround(ml,Ro)._add(Ra),us.x+=-xs+sr,us.y-=(Ar.left-kr)*nn.scale;const Ba=nn.imageName?Ar.advance*nn.scale:_s*nn.scale,Bl=String.fromCharCode(nn.glyph);pw(Bl)?us.x+=(1-kr)*nn.scale:W1(Bl)?us.x+=Ba-Ar.height*nn.scale+(-kr-1)*nn.scale:us.x+=nn.imageName||Ar.width+2*kr===vs.w&&Ar.height+2*kr===vs.h?(Ba-Oa)/2:(Ba-(Ar.height+2*kr)*nn.scale)/2,Jo=new U(us.x,us.y-Mo),Vo=new U(us.x+Oa,us.y),Kr=new U(us.x+Oa,us.y-Mo)}else{const xs=(Ar.left-kr)*nn.scale-sr+Ds[0],Ro=(-Ar.top-kr)*nn.scale+Ds[1],ml=xs+Mo,Ra=Ro+Oa;us=new U(xs,Ro),Jo=new U(ml,Ro),Vo=new U(xs,Ra),Kr=new U(ml,Ra)}if(Ei){let xs;xs=ti?new U(0,0):Hs?new U(Oi[0],Oi[1]):new U(It[0],It[1]),us._rotateAround(Ei,xs),Jo._rotateAround(Ei,xs),Vo._rotateAround(Ei,xs),Kr._rotateAround(Ei,xs)}const po=new U(0,0),pa=new U(0,0);Si.push({tl:us,tr:Jo,bl:Vo,br:Kr,tex:Gn,writingMode:Bt.writingMode,glyphOffset:Ns,sectionIndex:nn.sectionIndex,isSDF:Sr,pixelOffsetTL:po,pixelOffsetBR:pa,minFontScaleX:0,minFontScaleY:0})}}return Si}(0,d,te,b,C,F,f,a.allowVerticalPlacement),Dt=a.textSizeData;let yt=null;Dt.kind==="source"?(yt=[Cs*b.layout.get("text-size").evaluate(F,{},tt)],yt[0]>th&&oe(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Dt.kind==="composite"&&(yt=[Cs*Ne.compositeTextSizes[0].evaluate(F,{},tt),Cs*Ne.compositeTextSizes[1].evaluate(F,{},tt)],(yt[0]>th||yt[1]>th)&&oe(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),a.addSymbols(a.text,_t,yt,te,C,F,me,n,l,re.lineStartIndex,re.lineLength,Oe,He,tt);for(const Tt of Se)Me[Tt]=a.text.placedSymbolArray.length-1;return 4*_t.length}function jv(a){for(const n in a)return a[n];return null}function tg(a,n,l,d,f,b,C,F,te,re){let me=C.top,Se=C.bottom,Me=C.left,Oe=C.right;const Ne=C.collisionPadding;if(Ne&&(Me-=Ne[0],me-=Ne[1],Oe+=Ne[2],Se+=Ne[3]),te){const He=new U(Me,me),tt=new U(Oe,me),_t=new U(Me,Se),Dt=new U(Oe,Se),yt=$(te);let Tt=new U(0,0);re&&(Tt=new U(re[0],re[1])),He._rotateAround(yt,Tt),tt._rotateAround(yt,Tt),_t._rotateAround(yt,Tt),Dt._rotateAround(yt,Tt),Me=Math.min(He.x,tt.x,_t.x,Dt.x),Oe=Math.max(He.x,tt.x,_t.x,Dt.x),me=Math.min(He.y,tt.y,_t.y,Dt.y),Se=Math.max(He.y,tt.y,_t.y,Dt.y)}return a.emplaceBack(n.x,n.y,n.z,l.x,l.y,Me,me,Oe,Se,F,d,f,b),a.length-1}function ny(a){a.collisionPadding&&(a.top-=a.collisionPadding[1],a.bottom+=a.collisionPadding[3]);const n=a.bottom-a.top;return n>0?Math.max(10,n):null}function Pw(a,n,l,d){const f=a.compareText;if(n in f){const b=f[n];for(let C=b.length-1;C>=0;C--)if(d.dist(b[C])<l)return!0}else f[n]=[];return f[n].push(d),!1}const Dw=hn([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:ry}=Dw,sy=hn([{name:"a_pos_3",components:3,type:"Int16"}]);var p0=hn([{name:"a_pos",type:"Int16",components:2}]);const Td=Bn/Math.PI/2,oy=2*hc(1,0)*Td*Math.PI,Gp=64,Hp=[Gp,32,16],Bc=-Td,Nc=Td,Iw=[new el([Bc,Bc,Bc],[Nc,Nc,Nc]),new el([Bc,Bc,Bc],[0,0,Nc]),new el([0,Bc,Bc],[Nc,0,Nc]),new el([Bc,0,Bc],[0,Nc,Nc]),new el([0,0,Bc],[Nc,Nc,Nc])];function Uv(a,n,l,d=!0){const f=pc([],a._camera.position,a.worldSize),b=[n,l,1,1];Jd(b,b,a.pixelMatrixInverse),Y_(b,b,1/b[3]);const C=Qa([],hu([],b,f)),F=a.globeMatrix,te=[F[12],F[13],F[14]],re=hu([],te,f),me=Nh(re),Se=Qa([],re),Me=a.worldSize/(2*Math.PI),Oe=Oc(Se,C),Ne=Math.asin(Me/me);if(Ne<Math.acos(Oe)){if(!d)return null;const ji=[],li=[];pc(ji,C,me/Oe),Qa(li,hu(li,ji,re)),Qa(C,Gu(C,re,pc(C,li,Math.tan(Ne)*me)))}const He=[];new Lm(f,C).closestPointOnSphere(te,Me,He);const tt=Qa([],We(F,0)),_t=Qa([],We(F,1)),Dt=Qa([],We(F,2)),yt=Oc(tt,He),Tt=Oc(_t,He),Bt=Oc(Dt,He),It=V(Math.asin(-Tt/Me));let ii=V(Math.atan2(yt,Bt));ii=a.center.lng+function(ji,li){const Si=(li-ji+180)%360-180;return Si<-180?Si+360:Si}(a.center.lng,ii);const ti=lu(ii),xi=g(dc(It),0,1);return new Ih(ti,xi)}class Lw{constructor(n,l,d){this.a=hu([],n,d),this.b=hu([],l,d),this.center=d;const f=Qa([],this.a),b=Qa([],this.b);this.angle=Math.acos(Oc(f,b))}}function ay(a,n){if(a.angle===0)return null;let l;return l=a.a[n]===0?1/a.angle*.5*Math.PI:1/a.angle*Math.atan(a.b[n]/a.a[n]/Math.sin(a.angle)-1/Math.tan(a.angle)),l<0||l>1?null:function(d,f,b,C){const F=Math.sin(b);return d*(Math.sin((1-C)*b)/F)+f*(Math.sin(C*b)/F)}(a.a[n],a.b[n],a.angle,g(l,0,1))+a.center[n]}function Yu(a){if(a.z<=1)return Iw[a.z+2*a.y+a.x];const n=ly(ig(a));return el.fromPoints(n)}function Vh(a,n,l){return pc(a,a,1-l),Rp(a,a,n,l)}function $v(a,n){const l=Gh(n.zoom);if(l===0)return Yu(a);const d=ig(a),f=ly(d),b=lu(d.getWest())*n.worldSize,C=lu(d.getEast())*n.worldSize,F=dc(d.getNorth())*n.worldSize,te=dc(d.getSouth())*n.worldSize,re=[b,F,0],me=[C,F,0],Se=[b,te,0],Me=[C,te,0],Oe=Dm([],n.globeMatrix);return go(re,re,Oe),go(me,me,Oe),go(Se,Se,Oe),go(Me,Me,Oe),f[0]=Vh(f[0],Se,l),f[1]=Vh(f[1],Me,l),f[2]=Vh(f[2],me,l),f[3]=Vh(f[3],re,l),el.fromPoints(f)}function Vv(a,n,l){for(const d of a)go(d,d,n),pc(d,d,l)}function Ow(a,n,l){const d=n/a.worldSize,f=a.globeMatrix;if(l.z<=1){const ti=Yu(l).getCorners();return Vv(ti,f,d),el.fromPoints(ti)}const b=ig(l),C=ly(b);Vv(C,f,d);const F=Number.MAX_VALUE,te=[-F,-F,-F],re=[F,F,F];if(b.contains(a.center)){for(const ji of C)Il(re,re,ji),du(te,te,ji);te[2]=0;const ti=a.point,xi=[ti.x*d,ti.y*d,0];return Il(re,re,xi),du(te,te,xi),new el(re,te)}const me=[f[12]*d,f[13]*d,f[14]*d],Se=b.getCenter(),Me=g(a.center.lat,-85.051129,Ea),Oe=g(Se.lat,-85.051129,Ea),Ne=lu(a.center.lng),He=dc(Me);let tt=Ne-lu(Se.lng);const _t=He-dc(Oe);tt>.5?tt-=1:tt<-.5&&(tt+=1);let Dt=0;Math.abs(tt)>Math.abs(_t)?Dt=tt>=0?1:3:(Dt=_t>=0?0:2,Rp(me,me,[f[4]*d,f[5]*d,f[6]*d],-Math.sin($(_t>=0?b.getSouth():b.getNorth()))*Td));const yt=C[Dt],Tt=C[(Dt+1)%4],Bt=new Lw(yt,Tt,me),It=[ay(Bt,0)||yt[0],ay(Bt,1)||yt[1],ay(Bt,2)||yt[2]],ii=Gh(a.zoom);if(ii>0){const ti=function({x:ji,y:li,z:Si},Ei,Oi,Vi,ui){const tn=1/(1<<Si);let Fn=ji*tn,un=Fn+tn,bn=li*tn,nn=bn+tn,Gn=0;const kr=(Fn+un)/2-Vi;return kr>.5?Gn=-1:kr<-.5&&(Gn=1),Fn=((Fn+Gn)*Ei-(Vi*=Ei))*Oi+Vi,un=((un+Gn)*Ei-Vi)*Oi+Vi,bn=(bn*Ei-(ui*=Ei))*Oi+ui,nn=(nn*Ei-ui)*Oi+ui,[[Fn,nn,0],[un,nn,0],[un,bn,0],[Fn,bn,0]]}(l,n,a._pixelsPerMercatorPixel,Ne,He);for(let ji=0;ji<C.length;ji++)Vh(C[ji],ti[ji],ii);const xi=Gu([],ti[Dt],ti[(Dt+1)%4]);pc(xi,xi,.5),Vh(It,xi,ii)}for(const ti of C)Il(re,re,ti),du(te,te,ti);return re[2]=Math.min(yt[2],Tt[2]),Il(re,re,It),du(te,te,It),new el(re,te)}function ig({x:a,y:n,z:l}){const d=1/(1<<l),f=new Ir(pl(a*d),Ca((n+1)*d)),b=new Ir(pl((a+1)*d),Ca(n*d));return new _d(f,b)}function ly(a){const n=$(a.getNorth()),l=$(a.getSouth()),d=Math.cos(n),f=Math.cos(l),b=Math.sin(n),C=Math.sin(l),F=a.getWest(),te=a.getEast();return[Wp(f,C,F),Wp(f,C,te),Wp(d,b,te),Wp(d,b,F)]}function Wp(a,n,l,d=Td){return l=$(l),[a*Math.sin(l)*d,-n*d,a*Math.cos(l)*d]}function f0(a,n,l){return Wp(Math.cos($(a)),Math.sin($(a)),n,l)}function m0(a,n,l,d){const f=1<<l.z,b=(a/Bn+l.x)/f;return f0(Ca((n/Bn+l.y)/f),pl(b),d)}function ng({min:a,max:n}){return 16383/Math.max(n[0]-a[0],n[1]-a[1],n[2]-a[2])}const Gv=new Float64Array(16);function g0(a){const n=ng(a),l=w1(Gv,[n,n,n]);return Kf(l,l,((d=[])[0]=-(f=a.min)[0],d[1]=-f[1],d[2]=-f[2],d));var d,f}function cy(a){const n=(d=a.min,(l=Gv)[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=d[0],l[13]=d[1],l[14]=d[2],l[15]=1,l);var l,d;const f=1/ng(a);return Bh(n,n,[f,f,f])}function rg(a,n,l,d,f){const b=function(te){const re=Bn/(2*Math.PI);return te/(2*Math.PI)/re}(l),C=[a,n,-l/(2*Math.PI)],F=Lc(new Float64Array(16));return Kf(F,F,C),Bh(F,F,[b,b,b]),b1(F,F,$(-f)),Jf(F,F,$(-d)),F}function Gh(a){return x(5,6,a)}function uy(a,n){const l=f0(n.lat,n.lng),d=function(Ne){const He=f0(Ne._center.lat,Ne._center.lng);let tt=C1([],zh(0,1,0),He);const _t=H_([],-Ne.angle,He);tt=go(tt,tt,_t),H_(_t,-Ne._pitch,tt);const Dt=Qa([],He);return pc(Dt,Dt,Ne.cameraToCenterDistance/Ne.pixelsPerMeter*oy),go(Dt,Dt,_t),Gu([],He,Dt)}(a);return C=(f=Op([],d,l))[0],F=f[1],te=f[2],re=(b=l)[0],me=b[1],Se=b[2],Oe=(Me=Math.sqrt(C*C+F*F+te*te)*Math.sqrt(re*re+me*me+Se*Se))&&Oc(f,b)/Me,Math.acos(Math.min(Math.max(Oe,-1),1));var f,b,C,F,te,re,me,Se,Me,Oe}function dy(a,n){return uy(a,n)>Math.PI/2*1.01}const Hv=$(85),Rw=Math.cos(Hv),hy=Math.sin(Hv);function Wv(a,n){const l=a.fovAboveCenter,d=a.elevation?a.elevation.getMinElevationBelowMSL()*n:0,f=(a._camera.position[2]*a.worldSize-d)/Math.cos(a._pitch),b=Math.sin(l)*f/Math.sin(Math.max(Math.PI/2-a._pitch-l,.01)),C=Math.sin(a._pitch)*b+f;return Math.min(1.01*C,f*(1/a._horizonShift))}function Hh(a,n){if(!n.isReprojectedInTileSpace)return{scale:1<<a.z,x:a.x,y:a.y,x2:a.x+1,y2:a.y+1,projection:n};const l=Math.pow(2,-a.z),d=a.x*l,f=(a.x+1)*l,b=a.y*l,C=(a.y+1)*l,F=pl(d),te=pl(f),re=Ca(b),me=Ca(C),Se=n.project(F,re),Me=n.project(te,re),Oe=n.project(te,me),Ne=n.project(F,me);let He=Math.min(Se.x,Me.x,Oe.x,Ne.x),tt=Math.min(Se.y,Me.y,Oe.y,Ne.y),_t=Math.max(Se.x,Me.x,Oe.x,Ne.x),Dt=Math.max(Se.y,Me.y,Oe.y,Ne.y);const yt=l/16;function Tt(It,ii,ti,xi,ji,li){const Si=(ti+ji)/2,Ei=(xi+li)/2,Oi=n.project(pl(Si),Ca(Ei)),Vi=Math.max(0,He-Oi.x,tt-Oi.y,Oi.x-_t,Oi.y-Dt);He=Math.min(He,Oi.x),_t=Math.max(_t,Oi.x),tt=Math.min(tt,Oi.y),Dt=Math.max(Dt,Oi.y),Vi>yt&&(Tt(It,Oi,ti,xi,Si,Ei),Tt(Oi,ii,Si,Ei,ji,li))}Tt(Se,Me,d,b,f,b),Tt(Me,Oe,f,b,f,C),Tt(Oe,Ne,f,C,d,C),Tt(Ne,Se,d,C,d,b),He-=yt,tt-=yt,_t+=yt,Dt+=yt;const Bt=1/Math.max(_t-He,Dt-tt);return{scale:Bt,x:He*Bt,y:tt*Bt,x2:_t*Bt,y2:Dt*Bt,projection:n}}const Bw=Lc(new Float32Array(16));class $o{constructor(n){this.spec=n,this.name=n.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(n,l){return{x:0,y:0,z:0}}unproject(n,l){return new Ir(0,0)}projectTilePoint(n,l,d){return{x:n,y:l,z:0}}locationPoint(n,l,d=!0){return n._coordinatePoint(n.locationCoordinate(l),d)}pixelsPerMeter(n,l){return hc(1,n)*l}pixelSpaceConversion(n,l,d){return 1}farthestPixelDistance(n){return Wv(n,n.pixelsPerMeter)}pointCoordinate(n,l,d,f){const b=n.horizonLineFromTop(!1),C=new U(l,Math.max(b,d));return n.rayIntersectionCoordinate(n.pointRayIntersection(C,f))}pointCoordinate3D(n,l,d){const f=new U(l,d);if(n.elevation)return n.elevation.pointCoordinate(f);{const b=this.pointCoordinate(n,f.x,f.y,0);return[b.x,b.y,b.z]}}isPointAboveHorizon(n,l){if(n.elevation)return!this.pointCoordinate3D(n,l.x,l.y);const d=n.horizonLineFromTop();return l.y<d}createInversionMatrix(n,l){return Bw}createTileMatrix(n,l,d){let f,b,C;const F=d.canonical,te=Lc(new Float64Array(16));if(this.isReprojectedInTileSpace){const re=Hh(F,this);f=1,b=re.x+d.wrap*re.scale,C=re.y,Bh(te,te,[f/re.scale,f/re.scale,n.pixelsPerMeter/l])}else f=l/n.zoomScale(F.z),b=(F.x+Math.pow(2,F.z)*d.wrap)*f,C=F.y*f;return Kf(te,te,[b,C,0]),Bh(te,te,[f/Bn,f/Bn,1]),te}upVector(n,l,d){return[0,0,1]}upVectorScale(n,l,d){return{metersToTile:1}}}class py extends $o{constructor(n){super(n),this.range=[4,7],this.center=n.center||[-96,37.5];const[l,d]=this.parallels=n.parallels||[29.5,45.5],f=Math.sin($(l));this.n=(f+Math.sin($(d)))/2,this.c=1+f*(2*this.n-f),this.r0=Math.sqrt(this.c)/this.n}project(n,l){const{n:d,c:f,r0:b}=this,C=$(n-this.center[0]),F=$(l),te=Math.sqrt(f-2*d*Math.sin(F))/d;return{x:te*Math.sin(C*d),y:te*Math.cos(C*d)-b,z:0}}unproject(n,l){const{n:d,c:f,r0:b}=this,C=b+l;let F=Math.atan2(n,Math.abs(C))*Math.sign(C);C*d<0&&(F-=Math.PI*Math.sign(n)*Math.sign(C));const te=$(this.center[0])*d;F=P(F,-Math.PI-te,Math.PI-te);const re=g(V(F/d)+this.center[0],-180,180),me=Math.asin(g((f-(n*n+C*C)*d*d)/(2*d),-1,1)),Se=g(V(me),-85.051129,Ea);return new Ir(re,Se)}}const y0=1.340264,_0=-.081106,v0=893e-6,x0=.003796,Yp=Math.sqrt(3)/2;class Nw extends $o{project(n,l){l=l/180*Math.PI,n=n/180*Math.PI;const d=Math.asin(Yp*Math.sin(l)),f=d*d,b=f*f*f;return{x:.5*(n*Math.cos(d)/(Yp*(y0+3*_0*f+b*(7*v0+9*x0*f)))/Math.PI+.5),y:1-.5*(d*(y0+_0*f+b*(v0+x0*f))/Math.PI+1),z:0}}unproject(n,l){n=(2*n-.5)*Math.PI;let d=l=(2*(1-l)-1)*Math.PI,f=d*d,b=f*f*f;for(let me,Se,Me,Oe=0;Oe<12&&(Se=d*(y0+_0*f+b*(v0+x0*f))-l,Me=y0+3*_0*f+b*(7*v0+9*x0*f),me=Se/Me,d=g(d-me,-Math.PI/3,Math.PI/3),f=d*d,b=f*f*f,!(Math.abs(me)<1e-12));++Oe);const C=Yp*n*(y0+3*_0*f+b*(7*v0+9*x0*f))/Math.cos(d),F=Math.asin(Math.sin(d)/Yp),te=g(180*C/Math.PI,-180,180),re=g(180*F/Math.PI,-85.051129,Ea);return new Ir(te,re)}}class fy extends $o{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0}project(n,l){return{x:.5+n/360,y:.5-l/360,z:0}}unproject(n,l){const d=360*(n-.5),f=g(360*(.5-l),-85.051129,Ea);return new Ir(d,f)}}const qp=Math.PI/2;function sg(a){return Math.tan((qp+a)/2)}class zw extends $o{constructor(n){super(n),this.center=n.center||[0,30];const[l,d]=this.parallels=n.parallels||[30,30];let f=$(l),b=$(d);this.southernCenter=f+b<0,this.southernCenter&&(f=-f,b=-b);const C=Math.cos(f),F=sg(f);this.n=f===b?Math.sin(f):Math.log(C/Math.cos(b))/Math.log(sg(b)/F),this.f=C*Math.pow(sg(f),this.n)/this.n}project(n,l){l=$(l),this.southernCenter&&(l=-l),n=$(n-this.center[0]);const d=1e-6,{n:f,f:b}=this;b>0?l<-qp+d&&(l=-qp+d):l>qp-d&&(l=qp-d);const C=b/Math.pow(sg(l),f);let F=C*Math.sin(f*n),te=b-C*Math.cos(f*n);return F=.5*(F/Math.PI+.5),te=.5*(te/Math.PI+.5),{x:F,y:this.southernCenter?te:1-te,z:0}}unproject(n,l){n=(2*n-.5)*Math.PI,this.southernCenter&&(l=1-l),l=(2*(1-l)-.5)*Math.PI;const{n:d,f}=this,b=f-l,C=Math.sign(b),F=Math.sign(d)*Math.sqrt(n*n+b*b);let te=Math.atan2(n,Math.abs(b))*C;b*d<0&&(te-=Math.PI*Math.sign(n)*C);const re=g(V(te/d)+this.center[0],-180,180),me=g(V(2*Math.atan(Math.pow(f/F,1/d))-qp),-85.051129,Ea);return new Ir(re,this.southernCenter?-me:me)}}class Yv extends $o{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(n,l){return{x:lu(n),y:dc(l),z:0}}unproject(n,l){const d=pl(n),f=Ca(l);return new Ir(d,f)}}const my=$(Ea);class Fw extends $o{project(n,l){const d=(l=$(l))*l,f=d*d;return{x:.5*((n=$(n))*(.8707-.131979*d+f*(f*(.003971*d-.001529*f)-.013791))/Math.PI+.5),y:1-.5*(l*(1.007226+d*(.015085+f*(.028874*d-.044475-.005916*f)))/Math.PI+1),z:0}}unproject(n,l){n=(2*n-.5)*Math.PI;let d=l=(2*(1-l)-1)*Math.PI,f=25,b=0,C=d*d;do{C=d*d;const re=C*C;b=(d*(1.007226+C*(.015085+re*(.028874*C-.044475-.005916*re)))-l)/(1.007226+C*(.045255+re*(.259866*C-.311325-.005916*11*re))),d=g(d-b,-my,my)}while(Math.abs(b)>1e-6&&--f>0);C=d*d;const F=g(V(n/(.8707+C*(C*(C*C*C*(.003971-.001529*C)-.013791)-.131979))),-180,180),te=V(d);return new Ir(F,te)}}const qv=$(Ea);class jw extends $o{project(n,l){l=$(l),n=$(n);const d=Math.cos(l),f=2/Math.PI,b=Math.acos(d*Math.cos(n/2)),C=Math.sin(b)/b,F=.5*(n*f+2*d*Math.sin(n/2)/C)||0,te=.5*(l+Math.sin(l)/C)||0;return{x:.5*(F/Math.PI+.5),y:1-.5*(te/Math.PI+1),z:0}}unproject(n,l){let d=n=(2*n-.5)*Math.PI,f=l=(2*(1-l)-1)*Math.PI,b=25;const C=1e-6;let F=0,te=0;do{const re=Math.cos(f),me=Math.sin(f),Se=2*me*re,Me=me*me,Oe=re*re,Ne=Math.cos(d/2),He=Math.sin(d/2),tt=2*Ne*He,_t=He*He,Dt=1-Oe*Ne*Ne,yt=Dt?1/Dt:0,Tt=Dt?Math.acos(re*Ne)*Math.sqrt(1/Dt):0,Bt=.5*(2*Tt*re*He+2*d/Math.PI)-n,It=.5*(Tt*me+f)-l,ii=.5*yt*(Oe*_t+Tt*re*Ne*Me)+1/Math.PI,ti=yt*(tt*Se/4-Tt*me*He),xi=.125*yt*(Se*He-Tt*me*Oe*tt),ji=.5*yt*(Me*Ne+Tt*_t*re)+.5,li=ti*xi-ji*ii;F=(It*ti-Bt*ji)/li,te=(Bt*xi-It*ii)/li,d=g(d-F,-Math.PI,Math.PI),f=g(f-te,-qv,qv)}while((Math.abs(F)>C||Math.abs(te)>C)&&--b>0);return new Ir(V(d),V(f))}}class og extends $o{constructor(n){super(n),this.center=n.center||[0,0],this.parallels=n.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos($(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(n,l){const{scale:d,cosPhi:f}=this;return{x:$(n)*f*d+.5,y:-Math.sin($(l))/f*d+.5,z:0}}unproject(n,l){const{scale:d,cosPhi:f}=this,b=-(l-.5)/d,C=g(V((n-.5)/d)/f,-180,180),F=Math.asin(g(b*f,-1,1)),te=g(V(F),-85.051129,Ea);return new Ir(C,te)}}class gy extends Yv{constructor(n){super(n),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(n,l,d){const f=m0(n,l,d);return go(f,f,g0(Yu(d))),{x:f[0],y:f[1],z:f[2]}}locationPoint(n,l){const d=f0(l.lat,l.lng),f=Qa([],d),b=n.elevation?n.elevation.getAtPointOrZero(n.locationCoordinate(l),n._centerAltitude):n._centerAltitude;Rp(d,d,f,hc(1,0)*Bn*b);const C=Lc(new Float64Array(16));return Rh(C,n.pixelMatrix,n.globeMatrix),go(d,d,C),new U(d[0],d[1])}pixelsPerMeter(n,l){return hc(1,0)*l}pixelSpaceConversion(n,l,d){const f=hc(1,n)*l,b=Kn(hc(1,45)*l,f,d);return this.pixelsPerMeter(n,l)/b}createTileMatrix(n,l,d){const f=cy(Yu(d.canonical));return Rh(new Float64Array(16),n.globeMatrix,f)}createInversionMatrix(n,l){const{center:d}=n,f=g0(Yu(l));return Jf(f,f,$(d.lng)),b1(f,f,$(d.lat)),Bh(f,f,[n._pixelsPerMercatorPixel,n._pixelsPerMercatorPixel,1]),Float32Array.from(f)}pointCoordinate(n,l,d,f){return Uv(n,l,d,!0)||new Ih(0,0)}pointCoordinate3D(n,l,d){const f=this.pointCoordinate(n,l,d,0);return[f.x,f.y,f.z]}isPointAboveHorizon(n,l){return!Uv(n,l.x,l.y,!1)}farthestPixelDistance(n){const l=function(f,b){const C=f.cameraToCenterDistance,F=f._centerAltitude*b,te=f._camera,re=f._camera.forward(),me=Gu([],pc([],re,-C),[0,0,F]),Se=f.worldSize/(2*Math.PI),Me=[0,0,-Se],Oe=f.width/f.height,Ne=Math.tan(f.fovAboveCenter),He=pc([],te.up(),Ne),tt=pc([],te.right(),Ne*Oe),_t=Qa([],Gu([],Gu([],re,He),tt)),Dt=[];let yt;if(new Lm(me,_t).closestPointOnSphere(Me,Se,Dt)){const Tt=Gu([],Dt,Me),Bt=hu([],Tt,me);yt=Math.cos(f.fovAboveCenter)*Nh(Bt)}else{const Tt=hu([],me,Me),Bt=hu([],Me,me);Qa(Bt,Bt);const It=Nh(Tt)-Se;yt=Math.sqrt(It*(It+2*Se));const ii=Math.acos(yt/(Se+It))-Math.acos(Oc(re,Bt));yt*=Math.cos(ii)}return 1.01*yt}(n,this.pixelsPerMeter(n.center.lat,n.worldSize)),d=Gh(n.zoom);if(d>0){const f=Wv(n,hc(1,n.center.lat)*n.worldSize),b=n.worldSize/(2*Math.PI),C=Math.max(n.width,n.height)/n.worldSize*Math.PI;return Kn(l,f+b*(1-Math.cos(C)),Math.pow(d,10))}return l}upVector(n,l,d){return m0(l,d,n,1)}upVectorScale(n){return{metersToTile:oy*ng(Yu(n))}}}function Xv(a){const n=a.parallels,l=!!n&&Math.abs(n[0]+n[1])<.01;switch(a.name){case"mercator":return new Yv(a);case"equirectangular":return new fy(a);case"naturalEarth":return new Fw(a);case"equalEarth":return new Nw(a);case"winkelTripel":return new jw(a);case"albers":return l?new og(a):new py(a);case"lambertConformalConic":return l?new og(a):new zw(a);case"globe":return new gy(a)}throw new Error(`Invalid projection name: ${a.name}`)}const Uw=jm.types,$w=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ag(a,n,l,d,f,b,C,F,te,re,me,Se,Me){const Oe=F?Math.min(th,Math.round(F[0])):0,Ne=F?Math.min(th,Math.round(F[1])):0;a.emplaceBack(n,l,Math.round(32*d),Math.round(32*f),b,C,(Oe<<1)+(te?1:0),Ne,16*re,16*me,256*Se,256*Me)}function lg(a,n,l,d,f,b,C){a.emplaceBack(n,l,d,f,b,C)}function cg(a,n,l,d,f){a.emplaceBack(n,l,d,f),a.emplaceBack(n,l,d,f),a.emplaceBack(n,l,d,f),a.emplaceBack(n,l,d,f)}function Vw(a){for(const n of a.sections)if(at(n.text))return!0;return!1}class yy{constructor(n){this.layoutVertexArray=new is,this.indexArray=new da,this.programConfigurations=n,this.segments=new To,this.dynamicLayoutVertexArray=new Ia,this.opacityVertexArray=new uo,this.placedSymbolArray=new I_,this.globeExtVertexArray=new $r}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(n,l,d,f){this.isEmpty()||(d&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,aw.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,lw.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,$w,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,pu.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||f)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}rn(yy,"SymbolBuffers");class _y{constructor(n,l,d){this.layoutVertexArray=new n,this.layoutAttributes=l,this.indexArray=new d,this.segments=new To,this.collisionVertexArray=new kh,this.collisionVertexArrayExt=new cc}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,cw.members,!0),this.collisionVertexBufferExt=n.createVertexBuffer(this.collisionVertexArrayExt,jh.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}rn(_y,"CollisionBuffers");class ih{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(C=>C.id),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Lc([]),this.placementViewportMatrix=Lc([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=H1(this.zoom,l["text-size"]),this.iconSizeData=H1(this.zoom,l["icon-size"]);const d=this.layers[0].layout,f=d.get("symbol-sort-key"),b=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&f.constantOr(1)!==void 0,this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(C=>er[C]),this.stateDependentLayerIds=this.layers.filter(C=>C.isStateDependent()).map(C=>C.id),this.sourceID=n.sourceID,this.projection=n.projection}createArrays(){this.text=new yy(new Uu(this.layers,this.zoom,n=>/^text/.test(n))),this.icon=new yy(new Uu(this.layers,this.zoom,n=>/^icon/.test(n))),this.glyphOffsetArray=new n1,this.lineVertexArray=new r1,this.symbolInstances=new wm}calculateGlyphDependencies(n,l,d,f,b){for(let C=0;C<n.length;C++)if(l[n.charCodeAt(C)]=!0,f&&b){const F=c0[n.charAt(C)];F&&(l[F.charCodeAt(0)]=!0)}}populate(n,l,d,f){const b=this.layers[0],C=b.layout,F=this.projection.name==="globe",te=C.get("text-font"),re=C.get("text-field"),me=C.get("icon-image"),Se=(re.value.kind!=="constant"||re.value.value instanceof so&&!re.value.value.isEmpty()||re.value.value.toString().length>0)&&(te.value.kind!=="constant"||te.value.value.length>0),Me=me.value.kind!=="constant"||!!me.value.value||Object.keys(me.parameters).length>0,Oe=C.get("symbol-sort-key");if(this.features=[],!Se&&!Me)return;const Ne=l.iconDependencies,He=l.glyphDependencies,tt=l.availableImages,_t=new Yt(this.zoom);for(const{feature:Dt,id:yt,index:Tt,sourceLayerIndex:Bt}of n){const It=b._featureFilter.needGeometry,ii=$u(Dt,It);if(!b._featureFilter.filter(_t,ii,d))continue;if(It||(ii.geometry=uu(Dt,d,f)),F&&Dt.type!==1&&d.z<=5){const li=ii.geometry,Si=.98078528056,Ei=(Oi,Vi)=>Oc(m0(Oi.x,Oi.y,d,1),m0(Vi.x,Vi.y,d,1))<Si;for(let Oi=0;Oi<li.length;Oi++)li[Oi]=v2(li[Oi],Ei)}let ti,xi;if(Se){const li=b.getValueAndResolveTokens("text-field",ii,d,tt),Si=so.factory(li);Vw(Si)&&(this.hasRTLText=!0),(!this.hasRTLText||Vt()==="unavailable"||this.hasRTLText&&Qt.isParsed())&&(ti=hw(Si,b,ii))}if(Me){const li=b.getValueAndResolveTokens("icon-image",ii,d,tt);xi=li instanceof va?li:va.fromString(li)}if(!ti&&!xi)continue;const ji=this.sortFeaturesByKey?Oe.evaluate(ii,{},d):void 0;if(this.features.push({id:yt,text:ti,icon:xi,index:Tt,sourceLayerIndex:Bt,geometry:ii.geometry,properties:Dt.properties,type:Uw[Dt.type],sortKey:ji}),xi&&(Ne[xi.name]=!0),ti){const li=te.evaluate(ii,{},d).join(","),Si=C.get("text-rotation-alignment")==="map"&&C.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(er.vertical)>=0;for(const Ei of ti.sections)if(Ei.image)Ne[Ei.image.name]=!0;else{const Oi=ae(ti.toString()),Vi=Ei.fontStack||li,ui=He[Vi]=He[Vi]||{};this.calculateGlyphDependencies(Ei.text,ui,Si,this.allowVerticalPlacement,Oi)}}}C.get("symbol-placement")==="line"&&(this.features=function(Dt){const yt={},Tt={},Bt=[];let It=0;function ii(li){Bt.push(Dt[li]),It++}function ti(li,Si,Ei){const Oi=Tt[li];return delete Tt[li],Tt[Si]=Oi,Bt[Oi].geometry[0].pop(),Bt[Oi].geometry[0]=Bt[Oi].geometry[0].concat(Ei[0]),Oi}function xi(li,Si,Ei){const Oi=yt[Si];return delete yt[Si],yt[li]=Oi,Bt[Oi].geometry[0].shift(),Bt[Oi].geometry[0]=Ei[0].concat(Bt[Oi].geometry[0]),Oi}function ji(li,Si,Ei){const Oi=Ei?Si[0][Si[0].length-1]:Si[0][0];return`${li}:${Oi.x}:${Oi.y}`}for(let li=0;li<Dt.length;li++){const Si=Dt[li],Ei=Si.geometry,Oi=Si.text?Si.text.toString():null;if(!Oi){ii(li);continue}const Vi=ji(Oi,Ei),ui=ji(Oi,Ei,!0);if(Vi in Tt&&ui in yt&&Tt[Vi]!==yt[ui]){const tn=xi(Vi,ui,Ei),Fn=ti(Vi,ui,Bt[tn].geometry);delete yt[Vi],delete Tt[ui],Tt[ji(Oi,Bt[Fn].geometry,!0)]=Fn,Bt[tn].geometry=null}else Vi in Tt?ti(Vi,ui,Ei):ui in yt?xi(Vi,ui,Ei):(ii(li),yt[Vi]=It-1,Tt[ui]=It-1)}return Bt.filter(li=>li.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Dt,yt)=>Dt.sortKey-yt.sortKey)}update(n,l,d,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(n,l,this.layers,d,f),this.icon.programConfigurations.updatePaintArrays(n,l,this.layers,d,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Xv(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,l){const d=this.lineVertexArray.length;if(n.segment!==void 0)for(const{x:f,y:b}of l)this.lineVertexArray.emplaceBack(f,b);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(n,l,d,f,b,C,F,te,re,me,Se,Me,Oe,Ne){const He=n.indexArray,tt=n.layoutVertexArray,_t=n.globeExtVertexArray,Dt=n.segments.prepareSegment(4*l.length,tt,He,this.canOverlap?C.sortKey:void 0),yt=this.glyphOffsetArray.length,Tt=Dt.vertexLength,Bt=this.allowVerticalPlacement&&F===er.vertical?Math.PI/2:0,It=C.text&&C.text.sections;for(let ti=0;ti<l.length;ti++){const{tl:xi,tr:ji,bl:li,br:Si,tex:Ei,pixelOffsetTL:Oi,pixelOffsetBR:Vi,minFontScaleX:ui,minFontScaleY:tn,glyphOffset:Fn,isSDF:un,sectionIndex:bn}=l[ti],nn=Dt.vertexLength,Gn=Fn[1];if(ag(tt,re.x,re.y,xi.x,Gn+xi.y,Ei.x,Ei.y,d,un,Oi.x,Oi.y,ui,tn),ag(tt,re.x,re.y,ji.x,Gn+ji.y,Ei.x+Ei.w,Ei.y,d,un,Vi.x,Oi.y,ui,tn),ag(tt,re.x,re.y,li.x,Gn+li.y,Ei.x,Ei.y+Ei.h,d,un,Oi.x,Vi.y,ui,tn),ag(tt,re.x,re.y,Si.x,Gn+Si.y,Ei.x+Ei.w,Ei.y+Ei.h,d,un,Vi.x,Vi.y,ui,tn),te){const{x:kr,y:Sr,z:br}=te.anchor,[Wn,cs,sr]=te.up;lg(_t,kr,Sr,br,Wn,cs,sr),lg(_t,kr,Sr,br,Wn,cs,sr),lg(_t,kr,Sr,br,Wn,cs,sr),lg(_t,kr,Sr,br,Wn,cs,sr),cg(n.dynamicLayoutVertexArray,kr,Sr,br,Bt)}else cg(n.dynamicLayoutVertexArray,re.x,re.y,re.z,Bt);He.emplaceBack(nn,nn+1,nn+2),He.emplaceBack(nn+1,nn+2,nn+3),Dt.vertexLength+=4,Dt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Fn[0]),ti!==l.length-1&&bn===l[ti+1].sectionIndex||n.programConfigurations.populatePaintArrays(tt.length,C,C.index,{},Oe,Ne,It&&It[bn])}const ii=te?te.anchor:re;n.placedSymbolArray.emplaceBack(ii.x,ii.y,ii.z,re.x,re.y,yt,this.glyphOffsetArray.length-yt,Tt,me,Se,re.segment,d?d[0]:0,d?d[1]:0,f[0],f[1],F,0,!1,0,Me,0)}_commitLayoutVertex(n,l,d,f,b,C,F){n.emplaceBack(l,d,f,b,C,Math.round(F.x),Math.round(F.y))}_addCollisionDebugVertices(n,l,d,f,b,C,F){const te=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),re=te.vertexLength,me=F.tileAnchorX,Se=F.tileAnchorY;for(let Oe=0;Oe<4;Oe++)d.collisionVertexArray.emplaceBack(0,0,0,0);d.collisionVertexArrayExt.emplaceBack(l,-n.padding,-n.padding),d.collisionVertexArrayExt.emplaceBack(l,n.padding,-n.padding),d.collisionVertexArrayExt.emplaceBack(l,n.padding,n.padding),d.collisionVertexArrayExt.emplaceBack(l,-n.padding,n.padding),this._commitLayoutVertex(d.layoutVertexArray,f,b,C,me,Se,new U(n.x1,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,f,b,C,me,Se,new U(n.x2,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,f,b,C,me,Se,new U(n.x2,n.y2)),this._commitLayoutVertex(d.layoutVertexArray,f,b,C,me,Se,new U(n.x1,n.y2)),te.vertexLength+=4;const Me=d.indexArray;Me.emplaceBack(re,re+1),Me.emplaceBack(re+1,re+2),Me.emplaceBack(re+2,re+3),Me.emplaceBack(re+3,re),te.primitiveLength+=4}_addTextDebugCollisionBoxes(n,l,d,f,b,C){for(let F=f;F<b;F++){const te=d.get(F),re=this.getSymbolInstanceTextSize(n,C,l,F);this._addCollisionDebugVertices(te,re,this.textCollisionBox,te.projectedAnchorX,te.projectedAnchorY,te.projectedAnchorZ,C)}}_addIconDebugCollisionBoxes(n,l,d,f,b,C){for(let F=f;F<b;F++){const te=d.get(F),re=this.getSymbolInstanceIconSize(n,l,C.placedIconSymbolIndex);this._addCollisionDebugVertices(te,re,this.iconCollisionBox,te.projectedAnchorX,te.projectedAnchorY,te.projectedAnchorZ,C)}}generateCollisionDebugBuffers(n,l){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new _y(ys,xr.members,Ic),this.iconCollisionBox=new _y(ys,xr.members,Ic);const d=jp(this.iconSizeData,n),f=jp(this.textSizeData,n);for(let b=0;b<this.symbolInstances.length;b++){const C=this.symbolInstances.get(b);this._addTextDebugCollisionBoxes(f,n,l,C.textBoxStartIndex,C.textBoxEndIndex,C),this._addTextDebugCollisionBoxes(f,n,l,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._addIconDebugCollisionBoxes(d,n,l,C.iconBoxStartIndex,C.iconBoxEndIndex,C),this._addIconDebugCollisionBoxes(d,n,l,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C)}}getSymbolInstanceTextSize(n,l,d,f){const b=this.text.placedSymbolArray.get(l.rightJustifiedTextSymbolIndex>=0?l.rightJustifiedTextSymbolIndex:l.centerJustifiedTextSymbolIndex>=0?l.centerJustifiedTextSymbolIndex:l.leftJustifiedTextSymbolIndex>=0?l.leftJustifiedTextSymbolIndex:l.verticalPlacedTextSymbolIndex>=0?l.verticalPlacedTextSymbolIndex:f),C=fu(this.textSizeData,n,b)/_s;return this.tilePixelRatio*C}getSymbolInstanceIconSize(n,l,d){const f=this.icon.placedSymbolArray.get(d),b=fu(this.iconSizeData,n,f);return this.tilePixelRatio*b}_commitDebugCollisionVertexUpdate(n,l,d){n.emplaceBack(l,-d,-d),n.emplaceBack(l,d,-d),n.emplaceBack(l,d,d),n.emplaceBack(l,-d,d)}_updateTextDebugCollisionBoxes(n,l,d,f,b,C){for(let F=f;F<b;F++){const te=d.get(F),re=this.getSymbolInstanceTextSize(n,C,l,F);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,re,te.padding)}}_updateIconDebugCollisionBoxes(n,l,d,f,b,C){for(let F=f;F<b;F++){const te=d.get(F),re=this.getSymbolInstanceIconSize(n,l,C);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,re,te.padding)}}updateCollisionDebugBuffers(n,l){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const d=jp(this.iconSizeData,n),f=jp(this.textSizeData,n);for(let b=0;b<this.symbolInstances.length;b++){const C=this.symbolInstances.get(b);this._updateTextDebugCollisionBoxes(f,n,l,C.textBoxStartIndex,C.textBoxEndIndex,C),this._updateTextDebugCollisionBoxes(f,n,l,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._updateIconDebugCollisionBoxes(d,n,l,C.iconBoxStartIndex,C.iconBoxEndIndex,C.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(d,n,l,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(n,l,d,f,b,C,F,te,re){const me={};if(l<d){const{x1:Se,y1:Me,x2:Oe,y2:Ne,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:Dt,tileAnchorX:yt,tileAnchorY:Tt,featureIndex:Bt}=n.get(l);me.textBox={x1:Se,y1:Me,x2:Oe,y2:Ne,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:Dt,tileAnchorX:yt,tileAnchorY:Tt},me.textFeatureIndex=Bt}if(f<b){const{x1:Se,y1:Me,x2:Oe,y2:Ne,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:Dt,tileAnchorX:yt,tileAnchorY:Tt,featureIndex:Bt}=n.get(f);me.verticalTextBox={x1:Se,y1:Me,x2:Oe,y2:Ne,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:Dt,tileAnchorX:yt,tileAnchorY:Tt},me.verticalTextFeatureIndex=Bt}if(C<F){const{x1:Se,y1:Me,x2:Oe,y2:Ne,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:Dt,tileAnchorX:yt,tileAnchorY:Tt,featureIndex:Bt}=n.get(C);me.iconBox={x1:Se,y1:Me,x2:Oe,y2:Ne,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:Dt,tileAnchorX:yt,tileAnchorY:Tt},me.iconFeatureIndex=Bt}if(te<re){const{x1:Se,y1:Me,x2:Oe,y2:Ne,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:Dt,tileAnchorX:yt,tileAnchorY:Tt,featureIndex:Bt}=n.get(te);me.verticalIconBox={x1:Se,y1:Me,x2:Oe,y2:Ne,padding:He,projectedAnchorX:tt,projectedAnchorY:_t,projectedAnchorZ:Dt,tileAnchorX:yt,tileAnchorY:Tt},me.verticalIconFeatureIndex=Bt}return me}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(n,l){const d=n.placedSymbolArray.get(l),f=d.vertexStartIndex+4*d.numGlyphs;for(let b=d.vertexStartIndex;b<f;b+=4)n.indexArray.emplaceBack(b,b+1,b+2),n.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(n),d=Math.cos(n),f=[],b=[],C=[];for(let F=0;F<this.symbolInstances.length;++F){C.push(F);const te=this.symbolInstances.get(F);f.push(0|Math.round(l*te.tileAnchorX+d*te.tileAnchorY)),b.push(te.featureIndex)}return C.sort((F,te)=>f[F]-f[te]||b[te]-b[F]),C}addToSortKeyRanges(n,l){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===l?d.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const d=this.symbolInstances.get(l);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:f,centerJustifiedTextSymbolIndex:b,leftJustifiedTextSymbolIndex:C,verticalPlacedTextSymbolIndex:F,placedIconSymbolIndex:te,verticalPlacedIconSymbolIndex:re}=d;f>=0&&this.addIndicesForPlacedSymbol(this.text,f),b>=0&&b!==f&&this.addIndicesForPlacedSymbol(this.text,b),C>=0&&C!==b&&C!==f&&this.addIndicesForPlacedSymbol(this.text,C),F>=0&&this.addIndicesForPlacedSymbol(this.text,F),te>=0&&this.addIndicesForPlacedSymbol(this.icon,te),re>=0&&this.addIndicesForPlacedSymbol(this.icon,re)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}rn(ih,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),ih.MAX_GLYPHS=65535,ih.addDynamicAttributes=cg;const Gw=new Sn({"symbol-placement":new Xt(yi.layout_symbol["symbol-placement"]),"symbol-spacing":new Xt(yi.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Xt(yi.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ri(yi.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Xt(yi.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Xt(yi.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Xt(yi.layout_symbol["icon-ignore-placement"]),"icon-optional":new Xt(yi.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Xt(yi.layout_symbol["icon-rotation-alignment"]),"icon-size":new ri(yi.layout_symbol["icon-size"]),"icon-text-fit":new Xt(yi.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Xt(yi.layout_symbol["icon-text-fit-padding"]),"icon-image":new ri(yi.layout_symbol["icon-image"]),"icon-rotate":new ri(yi.layout_symbol["icon-rotate"]),"icon-padding":new Xt(yi.layout_symbol["icon-padding"]),"icon-keep-upright":new Xt(yi.layout_symbol["icon-keep-upright"]),"icon-offset":new ri(yi.layout_symbol["icon-offset"]),"icon-anchor":new ri(yi.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Xt(yi.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Xt(yi.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Xt(yi.layout_symbol["text-rotation-alignment"]),"text-field":new ri(yi.layout_symbol["text-field"]),"text-font":new ri(yi.layout_symbol["text-font"]),"text-size":new ri(yi.layout_symbol["text-size"]),"text-max-width":new ri(yi.layout_symbol["text-max-width"]),"text-line-height":new ri(yi.layout_symbol["text-line-height"]),"text-letter-spacing":new ri(yi.layout_symbol["text-letter-spacing"]),"text-justify":new ri(yi.layout_symbol["text-justify"]),"text-radial-offset":new ri(yi.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Xt(yi.layout_symbol["text-variable-anchor"]),"text-anchor":new ri(yi.layout_symbol["text-anchor"]),"text-max-angle":new Xt(yi.layout_symbol["text-max-angle"]),"text-writing-mode":new Xt(yi.layout_symbol["text-writing-mode"]),"text-rotate":new ri(yi.layout_symbol["text-rotate"]),"text-padding":new Xt(yi.layout_symbol["text-padding"]),"text-keep-upright":new Xt(yi.layout_symbol["text-keep-upright"]),"text-transform":new ri(yi.layout_symbol["text-transform"]),"text-offset":new ri(yi.layout_symbol["text-offset"]),"text-allow-overlap":new Xt(yi.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Xt(yi.layout_symbol["text-ignore-placement"]),"text-optional":new Xt(yi.layout_symbol["text-optional"])});var vy={paint:new Sn({"icon-opacity":new ri(yi.paint_symbol["icon-opacity"]),"icon-color":new ri(yi.paint_symbol["icon-color"]),"icon-halo-color":new ri(yi.paint_symbol["icon-halo-color"]),"icon-halo-width":new ri(yi.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ri(yi.paint_symbol["icon-halo-blur"]),"icon-translate":new Xt(yi.paint_symbol["icon-translate"]),"icon-translate-anchor":new Xt(yi.paint_symbol["icon-translate-anchor"]),"text-opacity":new ri(yi.paint_symbol["text-opacity"]),"text-color":new ri(yi.paint_symbol["text-color"],{runtimeType:ra,getOverride:a=>a.textColor,hasOverride:a=>!!a.textColor}),"text-halo-color":new ri(yi.paint_symbol["text-halo-color"]),"text-halo-width":new ri(yi.paint_symbol["text-halo-width"]),"text-halo-blur":new ri(yi.paint_symbol["text-halo-blur"]),"text-translate":new Xt(yi.paint_symbol["text-translate"]),"text-translate-anchor":new Xt(yi.paint_symbol["text-translate-anchor"])}),layout:Gw};class Zv{constructor(n){this.type=n.property.overrides?n.property.overrides.runtimeType:fo,this.defaultValue=n}evaluate(n){if(n.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(n.formattedSection))return l.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}rn(Zv,"FormatSectionOverride",{omit:["defaultValue"]});class ug extends hl{constructor(n){super(n,vy)}recalculate(n,l){super.recalculate(n,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const f=[];for(const b of d)f.indexOf(b)<0&&f.push(b);this.layout._values["text-writing-mode"]=f}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(n,l,d,f){const b=this.layout.get(n).evaluate(l,{},d,f),C=this._unevaluatedLayout._values[n];return C.isDataDriven()||bt(C.value)||!b?b:function(F,te){return te.replace(/{([^{}]+)}/g,(re,me)=>me in F?String(F[me]):"")}(l.properties,b)}createBucket(n){return new ih(n)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const n of vy.paint.overridableProperties){if(!ug.hasPaintOverride(this.layout,n))continue;const l=this.paint.get(n),d=new Zv(l),f=new Ve(d,l.property.specification);let b=null;b=l.value.kind==="constant"||l.value.kind==="source"?new Tn("source",f):new Tr("composite",f,l.value.zoomStops,l.value._interpolationType),this.paint._values[n]=new Ci(l.property,b,l.parameters)}}_handleOverridablePaintPropertyUpdate(n,l,d){return!(!this.layout||l.isDataDriven()||d.isDataDriven())&&ug.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,l){const d=n.get("text-field"),f=vy.paint.properties[l];let b=!1;const C=F=>{for(const te of F)if(f.overrides&&f.overrides.hasOverride(te))return void(b=!0)};if(d.value.kind==="constant"&&d.value.value instanceof so)C(d.value.value.sections);else if(d.value.kind==="source"){const F=re=>{b||(re instanceof Zl&&Js(re.value)===Aa?C(re.value.sections):re instanceof Fr?C(re.sections):re.eachChild(F))},te=d.value;te._styleExpression&&F(te._styleExpression.expression)}return b}getProgramConfiguration(n){return new Kd(this,n)}}var Hw={paint:new Sn({"background-color":new Xt(yi.paint_background["background-color"]),"background-pattern":new Xt(yi.paint_background["background-pattern"]),"background-opacity":new Xt(yi.paint_background["background-opacity"])})},Ww={paint:new Sn({"raster-opacity":new Xt(yi.paint_raster["raster-opacity"]),"raster-hue-rotate":new Xt(yi.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Xt(yi.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Xt(yi.paint_raster["raster-brightness-max"]),"raster-saturation":new Xt(yi.paint_raster["raster-saturation"]),"raster-contrast":new Xt(yi.paint_raster["raster-contrast"]),"raster-resampling":new Xt(yi.paint_raster["raster-resampling"]),"raster-fade-duration":new Xt(yi.paint_raster["raster-fade-duration"])})};class Yw extends hl{constructor(n){super(n,{}),this.implementation=n}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(n){this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)}onRemove(n){this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)}}var qw={paint:new Sn({"sky-type":new Xt(yi.paint_sky["sky-type"]),"sky-atmosphere-sun":new Xt(yi.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Xt(yi.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Xt(yi.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Xt(yi.paint_sky["sky-gradient-radius"]),"sky-gradient":new gn(yi.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Xt(yi.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Xt(yi.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Xt(yi.paint_sky["sky-opacity"])})};function xy(a,n,l){const d=[0,0,1],f=M1([]);return Z_(f,f,l?-$(a)+Math.PI:$(a)),X_(f,f,-$(n)),W_(d,d,f),Qa(d,d)}const Xw={circle:class extends hl{constructor(a){super(a,b2)}createBucket(a){return new Ap(a)}queryRadius(a){const n=a;return Pp("circle-radius",this,n)+Pp("circle-stroke-width",this,n)+Pm(this.paint.get("circle-translate"))}queryIntersectsFeature(a,n,l,d,f,b,C,F){const te=Ja(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),b.angle,a.pixelToTileUnitsFactor),re=this.paint.get("circle-radius").evaluate(n,l)+this.paint.get("circle-stroke-width").evaluate(n,l);return K_(a,d,b,C,F,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",te,re)}getProgramIds(){return["circle"]}getProgramConfiguration(a){return new Kd(this,a)}},heatmap:class extends hl{createBucket(a){return new Q_(a)}constructor(a){super(a,M2),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=e0({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(a){return Pp("heatmap-radius",this,a)}queryIntersectsFeature(a,n,l,d,f,b,C,F){const te=this.paint.get("heatmap-radius").evaluate(n,l);return K_(a,d,b,C,F,!0,!0,new U(0,0),te)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(a){return new Kd(this,a)}},hillshade:class extends hl{constructor(a){super(a,k2)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends hl{constructor(a){super(a,V2)}getProgramIds(){const a=this.paint.get("fill-pattern"),n=a&&a.constantOr(1),l=[n?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&l.push(n&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),l}getProgramConfiguration(a){return new Kd(this,a)}recalculate(a,n){super.recalculate(a,n);const l=this.paint._values["fill-outline-color"];l.value.kind==="constant"&&l.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new Nm(a)}queryRadius(){return Pm(this.paint.get("fill-translate"))}queryIntersectsFeature(a,n,l,d,f,b){return!a.queryGeometry.isAboveHorizon&&$_(Vu(a.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),b.angle,a.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}},"fill-extrusion":class extends hl{constructor(a){super(a,mv)}createBucket(a){return new a0(a)}queryRadius(){return Pm(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(a){return new Kd(this,a)}queryIntersectsFeature(a,n,l,d,f,b,C,F,te){const re=Ja(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),b.angle,a.pixelToTileUnitsFactor),me=this.paint.get("fill-extrusion-height").evaluate(n,l),Se=this.paint.get("fill-extrusion-base").evaluate(n,l),Me=[0,0],Oe=F&&b.elevation,Ne=b.elevation?b.elevation.exaggeration():1,He=a.tile.getBucket(this);if(Oe&&He instanceof a0){const Tt=He.centroidVertexArray,Bt=te+1;Bt<Tt.length&&(Me[0]=Tt.geta_centroid_pos0(Bt),Me[1]=Tt.geta_centroid_pos1(Bt))}if(Me[0]===0&&Me[1]===1)return!1;b.projection.name==="globe"&&(d=V1([d],[new U(0,0),new U(Bn,Bn)],a.tileID.canonical).map(Tt=>Tt.polygon).flat());const tt=Oe?F:null,[_t,Dt]=function(Tt,Bt,It,ii,ti,xi,ji,li,Si,Ei,Oi){return Tt.projection.name==="globe"?function(Vi,ui,tn,Fn,un,bn,nn,Gn,kr,Sr,br){const Wn=[],cs=[],sr=Vi.projection.upVectorScale(br,Vi.center.lat,Vi.worldSize).metersToTile,Ar=[0,0,0,1],vs=[0,0,0,1],Ns=(zs,Hs,Mo,Oa)=>{zs[0]=Hs,zs[1]=Mo,zs[2]=Oa,zs[3]=1},Ds=$1();tn>0&&(tn+=Ds),Fn+=Ds;for(const zs of ui){const Hs=[],Mo=[];for(const Oa of zs){const us=Oa.x+un.x,Jo=Oa.y+un.y,Vo=Vi.projection.projectTilePoint(us,Jo,br),Kr=Vi.projection.upVector(br,Oa.x,Oa.y);let po=tn,pa=Fn;if(nn){const xs=G1(us,Jo,tn,Fn,nn,Gn,kr,Sr);po+=xs.base,pa+=xs.top}tn!==0?Ns(Ar,Vo.x+Kr[0]*sr*po,Vo.y+Kr[1]*sr*po,Vo.z+Kr[2]*sr*po):Ns(Ar,Vo.x,Vo.y,Vo.z),Ns(vs,Vo.x+Kr[0]*sr*pa,Vo.y+Kr[1]*sr*pa,Vo.z+Kr[2]*sr*pa),go(Ar,Ar,bn),go(vs,vs,bn),Hs.push(new Fp(Ar[0],Ar[1],Ar[2])),Mo.push(new Fp(vs[0],vs[1],vs[2]))}Wn.push(Hs),cs.push(Mo)}return[Wn,cs]}(Tt,Bt,It,ii,ti,xi,ji,li,Si,Ei,Oi):ji?function(Vi,ui,tn,Fn,un,bn,nn,Gn,kr){const Sr=[],br=[],Wn=[0,0,0,1];for(const cs of Vi){const sr=[],Ar=[];for(const vs of cs){const Ns=vs.x+Fn.x,Ds=vs.y+Fn.y,zs=G1(Ns,Ds,ui,tn,bn,nn,Gn,kr);Wn[0]=Ns,Wn[1]=Ds,Wn[2]=zs.base,Wn[3]=1,Jd(Wn,Wn,un),Wn[3]=Math.max(Wn[3],1e-5);const Hs=new Fp(Wn[0]/Wn[3],Wn[1]/Wn[3],Wn[2]/Wn[3]);Wn[0]=Ns,Wn[1]=Ds,Wn[2]=zs.top,Wn[3]=1,Jd(Wn,Wn,un),Wn[3]=Math.max(Wn[3],1e-5);const Mo=new Fp(Wn[0]/Wn[3],Wn[1]/Wn[3],Wn[2]/Wn[3]);sr.push(Hs),Ar.push(Mo)}Sr.push(sr),br.push(Ar)}return[Sr,br]}(Bt,It,ii,ti,xi,ji,li,Si,Ei):function(Vi,ui,tn,Fn,un){const bn=[],nn=[],Gn=un[8]*ui,kr=un[9]*ui,Sr=un[10]*ui,br=un[11]*ui,Wn=un[8]*tn,cs=un[9]*tn,sr=un[10]*tn,Ar=un[11]*tn;for(const vs of Vi){const Ns=[],Ds=[];for(const zs of vs){const Hs=zs.x+Fn.x,Mo=zs.y+Fn.y,Oa=un[0]*Hs+un[4]*Mo+un[12],us=un[1]*Hs+un[5]*Mo+un[13],Jo=un[2]*Hs+un[6]*Mo+un[14],Vo=un[3]*Hs+un[7]*Mo+un[15],Kr=Oa+Gn,po=us+kr,pa=Jo+Sr,xs=Math.max(Vo+br,1e-5),Ro=Oa+Wn,ml=us+cs,Ra=Jo+sr,Ba=Math.max(Vo+Ar,1e-5);Ns.push(new Fp(Kr/xs,po/xs,pa/xs)),Ds.push(new Fp(Ro/Ba,ml/Ba,Ra/Ba))}bn.push(Ns),nn.push(Ds)}return[bn,nn]}(Bt,It,ii,ti,xi)}(b,d,Se,me,re,C,tt,Me,Ne,b.center.lat,a.tileID.canonical),yt=a.queryGeometry;return function(Tt,Bt,It){let ii=1/0;$_(It,Bt)&&(ii=Hm(It,Bt[0]));for(let ti=0;ti<Bt.length;ti++){const xi=Bt[ti],ji=Tt[ti];for(let li=0;li<xi.length-1;li++){const Si=xi[li],Ei=[Si,xi[li+1],ji[li+1],ji[li],Si];km(It,Ei)&&(ii=Math.min(ii,Hm(It,Ei)))}}return ii!==1/0&&ii}(_t,Dt,yt.isPointQuery()?yt.screenBounds:yt.screenGeometry)}},line:class extends hl{constructor(a){super(a,_v),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const n=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=n._styleExpression&&n._styleExpression.expression instanceof oa,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,n){super.recalculate(a,n),this.paint._values["line-floorwidth"]=vv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new Wm(a)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(a){return new Kd(this,a)}queryRadius(a){const n=a,l=xv(Pp("line-width",this,n),Pp("line-gap-width",this,n)),d=Pp("line-offset",this,n);return l/2+Math.abs(d)+Pm(this.paint.get("line-translate"))}queryIntersectsFeature(a,n,l,d,f,b){if(a.queryGeometry.isAboveHorizon)return!1;const C=Vu(a.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),b.angle,a.pixelToTileUnitsFactor),F=a.pixelToTileUnitsFactor/2*xv(this.paint.get("line-width").evaluate(n,l),this.paint.get("line-gap-width").evaluate(n,l)),te=this.paint.get("line-offset").evaluate(n,l);return te&&(d=function(re,me){const Se=[],Me=new U(0,0);for(let Oe=0;Oe<re.length;Oe++){const Ne=re[Oe],He=[];for(let tt=0;tt<Ne.length;tt++){const _t=Ne[tt-1],Dt=Ne[tt],yt=Ne[tt+1],Tt=tt===0?Me:Dt.sub(_t)._unit()._perp(),Bt=tt===Ne.length-1?Me:yt.sub(Dt)._unit()._perp(),It=Tt._add(Bt)._unit();It._mult(1/(It.x*Bt.x+It.y*Bt.y)),He.push(It._mult(me)._add(Dt))}Se.push(He)}return Se}(d,te*a.pixelToTileUnitsFactor)),function(re,me,Se){for(let Me=0;Me<me.length;Me++){const Oe=me[Me];if(re.length>=3){for(let Ne=0;Ne<Oe.length;Ne++)if(Oh(re,Oe[Ne]))return!0}if(g1(re,Oe,Se))return!0}return!1}(C,d,F)}isTileClipped(){return!0}},symbol:ug,background:class extends hl{constructor(a){super(a,Hw)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends hl{constructor(a){super(a,Ww)}getProgramIds(){return["raster"]}},sky:class extends hl{constructor(a){super(a,qw),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="sky-gradient"?this._updateColorRamp():a!=="sky-atmosphere-sun"&&a!=="sky-atmosphere-halo-color"&&a!=="sky-atmosphere-color"&&a!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=e0({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(a){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const n=a.style.light.properties.get("position");return this._lightPosition.azimuthal!==n.azimuthal||this._lightPosition.polar!==n.polar}return!1}getCenter(a,n){if(this.paint.get("sky-type")==="atmosphere"){const d=this.paint.get("sky-atmosphere-sun"),f=!d,b=a.style.light,C=b.properties.get("position");return f&&b.properties.get("anchor")==="viewport"&&oe("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),f?xy(C.azimuthal,90-C.polar,n):xy(d[0],90-d[1],n)}const l=this.paint.get("sky-gradient-center");return xy(l[0],90-l[1],n)}is3D(){return!1}isSky(){return!0}markSkyboxValid(a){this._skyboxInvalidated=!1,this._lightPosition=a.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const a=this.paint.get("sky-type");return a==="atmosphere"?["skyboxCapture","skybox"]:a==="gradient"?["skyboxGradient"]:null}}};class b0{constructor(n,l,d,f){this.context=n,this.format=d,this.texture=n.gl.createTexture(),this.update(l,f)}update(n,l,d){const{width:f,height:b}=n,{context:C}=this,{gl:F}=C,{HTMLImageElement:te,HTMLCanvasElement:re,HTMLVideoElement:me,ImageData:Se,ImageBitmap:Me}=v;if(F.bindTexture(F.TEXTURE_2D,this.texture),C.pixelStoreUnpackFlipY.set(!1),C.pixelStoreUnpack.set(1),C.pixelStoreUnpackPremultiplyAlpha.set(this.format===F.RGBA&&(!l||l.premultiply!==!1)),d||this.size&&this.size[0]===f&&this.size[1]===b){const{x:Oe,y:Ne}=d||{x:0,y:0};n instanceof te||n instanceof re||n instanceof me||n instanceof Se||Me&&n instanceof Me?F.texSubImage2D(F.TEXTURE_2D,0,Oe,Ne,F.RGBA,F.UNSIGNED_BYTE,n):F.texSubImage2D(F.TEXTURE_2D,0,Oe,Ne,f,b,F.RGBA,F.UNSIGNED_BYTE,n.data)}else this.size=[f,b],n instanceof te||n instanceof re||n instanceof me||n instanceof Se||Me&&n instanceof Me?F.texImage2D(F.TEXTURE_2D,0,this.format,this.format,F.UNSIGNED_BYTE,n):F.texImage2D(F.TEXTURE_2D,0,this.format,f,b,0,this.format,F.UNSIGNED_BYTE,n.data);this.useMipmap=!!(l&&l.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&F.generateMipmap(F.TEXTURE_2D)}bind(n,l){const{context:d}=this,{gl:f}=d;f.bindTexture(f.TEXTURE_2D,this.texture),n!==this.filter&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,n),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,this.useMipmap?n===f.NEAREST?f.NEAREST_MIPMAP_NEAREST:f.LINEAR_MIPMAP_NEAREST:n),this.filter=n),l!==this.wrap&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,l),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class y{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class R{constructor(){this.tasks={},this.taskQueue=[],se(["process"],this),this.invoker=new y(this.process),this.nextId=0}add(n,l){const d=this.nextId++,f=function({type:b,isSymbolTile:C,zoom:F}){return F=F||0,b==="message"?0:b!=="maybePrepare"||C?b!=="parseTile"||C?b==="parseTile"&&C?300-F:b==="maybePrepare"&&C?400-F:500:200-F:100-F}(l);if(f===0){Re();try{n()}finally{}return{cancel:()=>{}}}return this.tasks[d]={fn:n,metadata:l,priority:f,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){Re();try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const n=this.pick();if(n===null)return;const l=this.tasks[n];if(delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),!l)return;l.fn()}finally{}}pick(){let n=null,l=1/0;for(let f=0;f<this.taskQueue.length;f++){const b=this.tasks[this.taskQueue[f]];b.priority<l&&(l=b.priority,n=f)}if(n===null)return null;const d=this.taskQueue[n];return this.taskQueue.splice(n,1),d}remove(){this.invoker.remove()}}class ce{constructor(n){this._stringToNumber={},this._numberToString=[];for(let l=0;l<n.length;l++){const d=n[l];this._stringToNumber[d]=l,this._numberToString[l]=d}}encode(n){return this._stringToNumber[n]}decode(n){return this._numberToString[n]}}const Pe=["tile","layer","source","sourceLayer","state"];class qe{constructor(n,l,d,f,b){this.type="Feature",this._vectorTileFeature=n,this._z=l,this._x=d,this._y=f,this.properties=n.properties,this.id=b}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(n.id=this.id);for(const l of Pe)this[l]!==void 0&&(n[l]=this[l]);return n}}const ot=32,At=33,jt=new Uint16Array(8184);for(let a=0;a<2046;a++){let n=a+2,l=0,d=0,f=0,b=0,C=0,F=0;for(1&n?f=b=C=ot:l=d=F=ot;(n>>=1)>1;){const re=l+f>>1,me=d+b>>1;1&n?(f=l,b=d,l=C,d=F):(l=f,d=b,f=C,b=F),C=re,F=me}const te=4*a;jt[te+0]=l,jt[te+1]=d,jt[te+2]=f,jt[te+3]=b}const Zt=new Uint16Array(2178),Di=new Uint8Array(1089),Bi=new Uint16Array(1089);function Wi(a){return a===0?-.03125:a===32?.03125:0}var _n=hn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const zn={type:2,extent:Bn,loadGeometry:()=>[[new U(0,0),new U(8193,0),new U(8193,8193),new U(0,8193),new U(0,0)]]};class rr{constructor(n,l,d,f,b){this.tileID=n,this.uid=pe(),this.uses=0,this.tileSize=l,this.tileZoom=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=b,this.expiredRequestCount=0,this.state="loading",f&&f.transform&&(this.projection=f.transform.projection)}registerFadeDuration(n){const l=n+this.timeAdded;l<vn.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Hh(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(n,l,d){if(this.unloadVectorData(),this.state="loaded",n){n.featureIndex&&(this.latestFeatureIndex=n.featureIndex,n.rawTileData?(this.latestRawTileData=n.rawTileData,this.latestFeatureIndex.rawTileData=n.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=n.collisionBoxArray,this.buckets=function(f,b){const C={};if(!b)return C;for(const F of f){const te=F.layerIds.map(re=>b.getLayer(re)).filter(Boolean);if(te.length!==0){F.layers=te,F.stateDependentLayerIds&&(F.stateDependentLayers=F.stateDependentLayerIds.map(re=>te.filter(me=>me.id===re)[0]));for(const re of te)C[re.id]=F}}return C}(n.buckets,l.style),this.hasSymbolBuckets=!1;for(const f in this.buckets){const b=this.buckets[f];if(b instanceof ih){if(this.hasSymbolBuckets=!0,!d)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const f in this.buckets){const b=this.buckets[f];if(b instanceof ih&&b.hasRTLText){this.hasRTLText=!0,Qt.isLoading()||Qt.isLoaded()||Vt()!=="deferred"||ni();break}}this.queryPadding=0;for(const f in this.buckets){const b=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(f).queryRadius(b))}n.imageAtlas&&(this.imageAtlas=n.imageAtlas),n.glyphAtlasImage&&(this.glyphAtlasImage=n.glyphAtlasImage),n.lineAtlas&&(this.lineAtlas=n.lineAtlas)}else this.collisionBoxArray=new i1}unloadVectorData(){if(this.hasData()){for(const n in this.buckets)this.buckets[n].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(n){return this.buckets[n.id]}upload(n){for(const d in this.buckets){const f=this.buckets[d];f.uploadPending()&&f.upload(n)}const l=n.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new b0(n,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new b0(n,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new b0(n,this.lineAtlas.image,l.ALPHA),this.lineAtlas.uploaded=!0)}prepare(n){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(n,this.imageAtlasTexture)}queryRenderedFeatures(n,l,d,f,b,C,F,te){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:f,pixelPosMatrix:F,transform:C,params:b,tileTransform:this.tileTransform},n,l,d):{}}querySourceFeatures(n,l){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const f=d.loadVTLayers(),b=l?l.sourceLayer:"",C=f._geojsonTileLayer||f[b];if(!C)return;const F=Gs(l&&l.filter),{z:te,x:re,y:me}=this.tileID.canonical,Se={z:te,x:re,y:me};for(let Me=0;Me<C.length;Me++){const Oe=C.feature(Me);if(F.needGeometry){const tt=$u(Oe,!0);if(!F.filter(new Yt(this.tileID.overscaledZ),tt,this.tileID.canonical))continue}else if(!F.filter(new Yt(this.tileID.overscaledZ),Oe))continue;const Ne=d.getId(Oe,b),He=new qe(Oe,te,re,me,Ne);He.tile=Se,n.push(He)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(n){const l=this.expirationTime;if(n.cacheControl){const d=Le(n.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else n.expires&&(this.expirationTime=new Date(n.expires).getTime());if(this.expirationTime){const d=Date.now();let f=!1;if(this.expirationTime>d)f=!1;else if(l)if(this.expirationTime<l)f=!0;else{const b=this.expirationTime-l;b?this.expirationTime=d+Math.max(b,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(n,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(n).length===0||!l)return;const d=this.latestFeatureIndex.loadVTLayers(),f=l.style.listImages();for(const b in this.buckets){if(!l.style.hasLayer(b))continue;const C=this.buckets[b],F=C.layers[0].sourceLayer||"_geojsonTileLayer",te=d[F],re=n[F];if(!te||!re||Object.keys(re).length===0)continue;if(C.update(re,te,f,this.imageAtlas&&this.imageAtlas.patternPositions||{}),C instanceof Wm||C instanceof Nm){const Se=l.style._getSourceCache(C.layers[0].source);l._terrain&&l._terrain.enabled&&Se&&C.programConfigurations.needsUpload&&l._terrain._clearRenderCacheForTile(Se.id,this.tileID)}const me=l&&l.style&&l.style.getLayer(b);me&&(this.queryPadding=Math.max(this.queryPadding,me.queryRadius(C)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<vn.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(n){this.symbolFadeHoldUntil=vn.now()+n}setTexture(n,l){const d=l.context,f=d.gl;this.texture=this.texture||l.getTileTexture(n.width),this.texture?this.texture.update(n,{useMipmap:!0}):(this.texture=new b0(d,n,f.RGBA,{useMipmap:!0}),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),d.extTextureFilterAnisotropic&&f.texParameterf(f.TEXTURE_2D,d.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,d.extTextureFilterAnisotropicMax))}setDependencies(n,l){const d={};for(const f of l)d[f]=!0;this.dependencies[n]=d}hasDependency(n,l){for(const d of n){const f=this.dependencies[d];if(f){for(const b of l)if(f[b])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(n,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const d=uu(zn,this.tileID.canonical,this.tileTransform)[0],f=new Wr,b=new md;for(let C=0;C<d.length;C++){const{x:F,y:te}=d[C];f.emplaceBack(F,te),b.emplaceBack(C)}b.emplaceBack(0),this._tileDebugIndexBuffer=n.createIndexBuffer(b),this._tileDebugBuffer=n.createVertexBuffer(f,p0.members),this._tileDebugSegments=To.simpleSegment(0,0,f.length,b.length)}_makeTileBoundsBuffers(n,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const d=uu(zn,this.tileID.canonical,this.tileTransform)[0];let f,b;if(this.isRaster){const C=function(F,te){const re=Hh(F,te),me=Math.pow(2,F.z);for(let tt=0;tt<At;tt++)for(let _t=0;_t<At;_t++){const Dt=pl((F.x+(_t+Wi(_t))/ot)/me),yt=Ca((F.y+(tt+Wi(tt))/ot)/me),Tt=te.project(Dt,yt),Bt=tt*At+_t;Zt[2*Bt+0]=Math.round((Tt.x*re.scale-re.x)*Bn),Zt[2*Bt+1]=Math.round((Tt.y*re.scale-re.y)*Bn)}Di.fill(0),Bi.fill(0);for(let tt=2045;tt>=0;tt--){const _t=4*tt,Dt=jt[_t+0],yt=jt[_t+1],Tt=jt[_t+2],Bt=jt[_t+3],It=Dt+Tt>>1,ii=yt+Bt>>1,ti=It+ii-yt,xi=ii+Dt-It,ji=yt*At+Dt,li=Bt*At+Tt,Si=ii*At+It,Ei=Math.hypot((Zt[2*ji+0]+Zt[2*li+0])/2-Zt[2*Si+0],(Zt[2*ji+1]+Zt[2*li+1])/2-Zt[2*Si+1])>=16;if(Di[Si]=Di[Si]||(Ei?1:0),tt<1022){const Oi=(yt+xi>>1)*At+(Dt+ti>>1),Vi=(Bt+xi>>1)*At+(Tt+ti>>1);Di[Si]=Di[Si]||Di[Oi]||Di[Vi]}}const Se=new ts,Me=new da;let Oe=0;function Ne(tt,_t){const Dt=_t*At+tt;return Bi[Dt]===0&&(Se.emplaceBack(Zt[2*Dt+0],Zt[2*Dt+1],tt*Bn/ot,_t*Bn/ot),Bi[Dt]=++Oe),Bi[Dt]-1}function He(tt,_t,Dt,yt,Tt,Bt){const It=tt+Dt>>1,ii=_t+yt>>1;if(Math.abs(tt-Tt)+Math.abs(_t-Bt)>1&&Di[ii*At+It])He(Tt,Bt,tt,_t,It,ii),He(Dt,yt,Tt,Bt,It,ii);else{const ti=Ne(tt,_t),xi=Ne(Dt,yt),ji=Ne(Tt,Bt);Me.emplaceBack(ti,xi,ji)}}return He(0,0,ot,ot,ot,0),He(ot,ot,0,0,0,ot),{vertices:Se,indices:Me}}(this.tileID.canonical,l);f=C.vertices,b=C.indices}else{f=new ts,b=new da;for(const{x:F,y:te}of d)f.emplaceBack(F,te,0,0);const C=t0.exports(f.int16,void 0,4);for(let F=0;F<C.length;F+=3)b.emplaceBack(C[F],C[F+1],C[F+2])}this._tileBoundsBuffer=n.createVertexBuffer(f,_n.members),this._tileBoundsIndexBuffer=n.createIndexBuffer(b),this._tileBoundsSegments=To.simpleSegment(0,0,f.length,b.length)}_makeGlobeTileDebugBuffers(n,l){const d=l.projection;if(!d||d.name!=="globe"||l.freezeTileCoverage)return;const f=this.tileID.canonical,b=g0($v(f,l)),C=Gh(l.zoom);let F;C>0&&(F=Dm(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(n,f,l,b,F,C),this._makeGlobeTileDebugTextBuffer(n,f,l,b,F,C)}_globePoint(n,l,d,f,b,C,F){let te=m0(n,l,d);if(C){const re=1<<d.z,me=lu(f.center.lng),Se=dc(f.center.lat),Me=(d.x+.5)/re-me;let Oe=0;Me>.5?Oe=-1:Me<-.5&&(Oe=1);let Ne=(n/Bn+d.x)/re+Oe,He=(l/Bn+d.y)/re;Ne=(Ne-me)*f._pixelsPerMercatorPixel+me,He=(He-Se)*f._pixelsPerMercatorPixel+Se;const tt=[Ne*f.worldSize,He*f.worldSize,0];go(tt,tt,C),te=Vh(te,tt,F)}return go(te,te,b)}_makeGlobeTileDebugBorderBuffer(n,l,d,f,b,C){const F=new Wr,te=new md,re=new ss,me=(Me,Oe,Ne,He,tt)=>{const _t=(Ne-Me)/(tt-1),Dt=(He-Oe)/(tt-1),yt=F.length;for(let Tt=0;Tt<tt;Tt++){const Bt=Me+Tt*_t,It=Oe+Tt*Dt;F.emplaceBack(Bt,It);const ii=this._globePoint(Bt,It,l,d,f,b,C);re.emplaceBack(ii[0],ii[1],ii[2]),te.emplaceBack(yt+Tt)}},Se=Bn;me(0,0,Se,0,16),me(Se,0,Se,Se,16),me(Se,Se,0,Se,16),me(0,Se,0,0,16),this._tileDebugIndexBuffer=n.createIndexBuffer(te),this._tileDebugBuffer=n.createVertexBuffer(F,p0.members),this._globeTileDebugBorderBuffer=n.createVertexBuffer(re,sy.members),this._tileDebugSegments=To.simpleSegment(0,0,F.length,te.length)}_makeGlobeTileDebugTextBuffer(n,l,d,f,b,C){const F=new Wr,te=new da,re=new ss,me=25;te.reserve(32),F.reserve(me),re.reserve(me);const Se=(Me,Oe)=>me*Me+Oe;for(let Me=0;Me<me;Me++){const Oe=2048*Me;for(let Ne=0;Ne<me;Ne++){const He=2048*Ne;F.emplaceBack(He,Oe);const tt=this._globePoint(He,Oe,l,d,f,b,C);re.emplaceBack(tt[0],tt[1],tt[2])}}for(let Me=0;Me<4;Me++)for(let Oe=0;Oe<4;Oe++){const Ne=Se(Me,Oe),He=Se(Me,Oe+1),tt=Se(Me+1,Oe),_t=Se(Me+1,Oe+1);te.emplaceBack(Ne,He,tt),te.emplaceBack(tt,He,_t)}this._tileDebugTextIndexBuffer=n.createIndexBuffer(te),this._tileDebugTextBuffer=n.createVertexBuffer(F,p0.members),this._globeTileDebugTextBuffer=n.createVertexBuffer(re,sy.members),this._tileDebugTextSegments=To.simpleSegment(0,0,me,32)}}class Or{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(n,l,d){const f=String(l);if(this.stateChanges[n]=this.stateChanges[n]||{},this.stateChanges[n][f]=this.stateChanges[n][f]||{},K(this.stateChanges[n][f],d),this.deletedStates[n]===null){this.deletedStates[n]={};for(const b in this.state[n])b!==f&&(this.deletedStates[n][b]=null)}else if(this.deletedStates[n]&&this.deletedStates[n][f]===null){this.deletedStates[n][f]={};for(const b in this.state[n][f])d[b]||(this.deletedStates[n][f][b]=null)}else for(const b in d)this.deletedStates[n]&&this.deletedStates[n][f]&&this.deletedStates[n][f][b]===null&&delete this.deletedStates[n][f][b]}removeFeatureState(n,l,d){if(this.deletedStates[n]===null)return;const f=String(l);if(this.deletedStates[n]=this.deletedStates[n]||{},d&&l!==void 0)this.deletedStates[n][f]!==null&&(this.deletedStates[n][f]=this.deletedStates[n][f]||{},this.deletedStates[n][f][d]=null);else if(l!==void 0)if(this.stateChanges[n]&&this.stateChanges[n][f])for(d in this.deletedStates[n][f]={},this.stateChanges[n][f])this.deletedStates[n][f][d]=null;else this.deletedStates[n][f]=null;else this.deletedStates[n]=null}getState(n,l){const d=String(l),f=K({},(this.state[n]||{})[d],(this.stateChanges[n]||{})[d]);if(this.deletedStates[n]===null)return{};if(this.deletedStates[n]){const b=this.deletedStates[n][l];if(b===null)return{};for(const C in b)delete f[C]}return f}initializeTileState(n,l){n.setFeatureState(this.state,l)}coalesceChanges(n,l){const d={};for(const f in this.stateChanges){this.state[f]=this.state[f]||{};const b={};for(const C in this.stateChanges[f])this.state[f][C]||(this.state[f][C]={}),K(this.state[f][C],this.stateChanges[f][C]),b[C]=this.state[f][C];d[f]=b}for(const f in this.deletedStates){this.state[f]=this.state[f]||{};const b={};if(this.deletedStates[f]===null)for(const C in this.state[f])b[C]={},this.state[f][C]={};else for(const C in this.deletedStates[f]){if(this.deletedStates[f][C]===null)this.state[f][C]={};else for(const F of Object.keys(this.deletedStates[f][C]))delete this.state[f][C][F];b[C]=this.state[f][C]}d[f]=d[f]||{},K(d[f],b)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(const f in n)n[f].setFeatureState(d,l)}}class or{constructor(n){this.size=n,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(n,l){const d=this.toIdx(n,l);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(n,l){return this.leaves[this.toIdx(n,l)]}toIdx(n,l){return l*this.size+n}}function Vr(a,n,l,d){let f=0,b=Number.MAX_VALUE;for(let C=0;C<3;C++)if(Math.abs(d[C])<1e-15){if(l[C]<a[C]||l[C]>n[C])return null}else{const F=1/d[C];let te=(a[C]-l[C])*F,re=(n[C]-l[C])*F;if(te>re){const me=te;te=re,re=me}if(te>f&&(f=te),re<b&&(b=re),f>b)return null}return f}function Zr(a,n,l,d,f,b,C,F,te,re,me){const Se=d-a,Me=f-n,Oe=b-l,Ne=C-a,He=F-n,tt=te-l,_t=me[1]*tt-me[2]*He,Dt=me[2]*Ne-me[0]*tt,yt=me[0]*He-me[1]*Ne,Tt=Se*_t+Me*Dt+Oe*yt;if(Math.abs(Tt)<1e-15)return null;const Bt=1/Tt,It=re[0]-a,ii=re[1]-n,ti=re[2]-l,xi=(It*_t+ii*Dt+ti*yt)*Bt;if(xi<0||xi>1)return null;const ji=ii*Oe-ti*Me,li=ti*Se-It*Oe,Si=It*Me-ii*Se,Ei=(me[0]*ji+me[1]*li+me[2]*Si)*Bt;return Ei<0||xi+Ei>1?null:(Ne*ji+He*li+tt*Si)*Bt}function Ol(a,n,l){return(a-n)/(l-n)}function il(a,n,l,d,f,b,C,F,te){const re=1<<l,me=b-d,Se=C-f,Me=(a+1)/re*me+d,Oe=(n+0)/re*Se+f,Ne=(n+1)/re*Se+f;F[0]=(a+0)/re*me+d,F[1]=Oe,te[0]=Me,te[1]=Ne}class Rl{constructor(n){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=n,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const l=function(b){const C=Math.ceil(Math.log2(b.dim/8)),F=[];let te=Math.ceil(Math.pow(2,C));const re=1/te,me=(Oe,Ne,He,tt,_t)=>{const Dt=tt?1:0,yt=(Oe+1)*He-Dt,Tt=Ne*He,Bt=(Ne+1)*He-Dt;_t[0]=Oe*He,_t[1]=Tt,_t[2]=yt,_t[3]=Bt};let Se=new or(te);const Me=[];for(let Oe=0;Oe<te*te;Oe++){me(Oe%te,Math.floor(Oe/te),re,!1,Me);const Ne=Ma(Me[0],Me[1],b),He=Ma(Me[2],Me[1],b),tt=Ma(Me[2],Me[3],b),_t=Ma(Me[0],Me[3],b);Se.minimums.push(Math.min(Ne,He,tt,_t)),Se.maximums.push(Math.max(Ne,He,tt,_t)),Se.leaves.push(1)}for(F.push(Se),te/=2;te>=1;te/=2){const Oe=F[F.length-1];Se=new or(te);for(let Ne=0;Ne<te*te;Ne++){me(Ne%te,Math.floor(Ne/te),2,!0,Me);const He=Oe.getElevation(Me[0],Me[1]),tt=Oe.getElevation(Me[2],Me[1]),_t=Oe.getElevation(Me[2],Me[3]),Dt=Oe.getElevation(Me[0],Me[3]),yt=Oe.isLeaf(Me[0],Me[1]),Tt=Oe.isLeaf(Me[2],Me[1]),Bt=Oe.isLeaf(Me[2],Me[3]),It=Oe.isLeaf(Me[0],Me[3]),ii=Math.min(He.min,tt.min,_t.min,Dt.min),ti=Math.max(He.max,tt.max,_t.max,Dt.max),xi=yt&&Tt&&Bt&&It;Se.maximums.push(ti),Se.minimums.push(ii),Se.leaves.push(ti-ii<=5&&xi?1:0)}F.push(Se)}return F}(this.dem),d=l.length-1,f=l[d];this._addNode(f.minimums[0],f.maximums[0],f.leaves[0]),this._construct(l,0,0,d,0)}raycastRoot(n,l,d,f,b,C,F=1){return Vr([n,l,-100],[d,f,this.maximums[0]*F],b,C)}raycast(n,l,d,f,b,C,F=1){if(!this.nodeCount)return null;const te=this.raycastRoot(n,l,d,f,b,C,F);if(te==null)return null;const re=[],me=[],Se=[],Me=[],Oe=[{idx:0,t:te,nodex:0,nodey:0,depth:0}];for(;Oe.length>0;){const{idx:Ne,t:He,nodex:tt,nodey:_t,depth:Dt}=Oe.pop();if(this.leaves[Ne]){il(tt,_t,Dt,n,l,d,f,Se,Me);const Tt=1<<Dt,Bt=(tt+0)/Tt,It=(tt+1)/Tt,ii=(_t+0)/Tt,ti=(_t+1)/Tt,xi=Ma(Bt,ii,this.dem)*F,ji=Ma(It,ii,this.dem)*F,li=Ma(It,ti,this.dem)*F,Si=Ma(Bt,ti,this.dem)*F,Ei=Zr(Se[0],Se[1],xi,Me[0],Se[1],ji,Me[0],Me[1],li,b,C),Oi=Zr(Me[0],Me[1],li,Se[0],Me[1],Si,Se[0],Se[1],xi,b,C),Vi=Math.min(Ei!==null?Ei:Number.MAX_VALUE,Oi!==null?Oi:Number.MAX_VALUE);if(Vi!==Number.MAX_VALUE)return Vi;{const ui=Rp([],b,C,He);if(Oo(xi,ji,Si,li,Ol(ui[0],Se[0],Me[0]),Ol(ui[1],Se[1],Me[1]))>=ui[2])return He}continue}let yt=0;for(let Tt=0;Tt<this._siblingOffset.length;Tt++){il((tt<<1)+this._siblingOffset[Tt][0],(_t<<1)+this._siblingOffset[Tt][1],Dt+1,n,l,d,f,Se,Me),Se[2]=-100,Me[2]=this.maximums[this.childOffsets[Ne]+Tt]*F;const Bt=Vr(Se,Me,b,C);if(Bt!=null){const It=Bt;re[Tt]=It;let ii=!1;for(let ti=0;ti<yt&&!ii;ti++)It>=re[me[ti]]&&(me.splice(ti,0,Tt),ii=!0);ii||(me[yt]=Tt),yt++}}for(let Tt=0;Tt<yt;Tt++){const Bt=me[Tt];Oe.push({idx:this.childOffsets[Ne]+Bt,t:re[Bt],nodex:(tt<<1)+this._siblingOffset[Bt][0],nodey:(_t<<1)+this._siblingOffset[Bt][1],depth:Dt+1})}}return null}_addNode(n,l,d){return this.minimums.push(n),this.maximums.push(l),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(n,l,d,f,b){if(n[f].isLeaf(l,d)===1)return;this.childOffsets[b]||(this.childOffsets[b]=this.nodeCount);const C=f-1,F=n[C];let te=0,re=0;for(let me=0;me<this._siblingOffset.length;me++){const Se=2*l+this._siblingOffset[me][0],Me=2*d+this._siblingOffset[me][1],Oe=F.getElevation(Se,Me),Ne=F.isLeaf(Se,Me),He=this._addNode(Oe.min,Oe.max,Ne);Ne&&(te|=1<<me),re||(re=He)}for(let me=0;me<this._siblingOffset.length;me++)te&1<<me||this._construct(n,2*l+this._siblingOffset[me][0],2*d+this._siblingOffset[me][1],C,re+me)}}function Oo(a,n,l,d,f,b){return Kn(Kn(a,l,b),Kn(n,d,b),f)}function Ma(a,n,l){const d=l.dim,f=g(a*d-.5,0,d-1),b=g(n*d-.5,0,d-1),C=Math.floor(f),F=Math.floor(b),te=Math.min(C+1,d-1),re=Math.min(F+1,d-1);return Oo(l.get(C,F),l.get(te,F),l.get(C,re),l.get(te,re),f-C,b-F)}const qu={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class w0{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(n,l,d,f=!1,b=!1){if(this.uid=n,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return oe(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=l.height;const C=this.dim=l.height-2,F=new Uint32Array(l.data.buffer);if(this.pixels=new Uint8Array(l.data.buffer),this.encoding=d||"mapbox",this.borderReady=f,!f){for(let te=0;te<C;te++)F[this._idx(-1,te)]=F[this._idx(0,te)],F[this._idx(C,te)]=F[this._idx(C-1,te)],F[this._idx(te,-1)]=F[this._idx(te,0)],F[this._idx(te,C)]=F[this._idx(te,C-1)];F[this._idx(-1,-1)]=F[this._idx(0,0)],F[this._idx(C,-1)]=F[this._idx(C-1,0)],F[this._idx(-1,C)]=F[this._idx(0,C-1)],F[this._idx(C,C)]=F[this._idx(C-1,C-1)],b&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Rl(this)}get(n,l,d=!1){d&&(n=g(n,-1,this.dim),l=g(l,-1,this.dim));const f=4*this._idx(n,l);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[f],this.pixels[f+1],this.pixels[f+2])}static getUnpackVector(n){return qu[n]}get unpackVector(){return qu[this.encoding]}_idx(n,l){if(n<-1||n>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(n+1)}_unpackMapbox(n,l,d){return(256*n*256+256*l+d)/10-1e4}_unpackTerrarium(n,l,d){return 256*n+l+d/256-32768}static pack(n,l){const d=[0,0,0,0],f=w0.getUnpackVector(l);let b=Math.floor((n+f[3])/f[2]);return d[2]=b%256,b=Math.floor(b/256),d[1]=b%256,b=Math.floor(b/256),d[0]=b,d}getPixels(){return new Ll({width:this.stride,height:this.stride},this.pixels)}backfillBorder(n,l,d){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let f=l*this.dim,b=l*this.dim+this.dim,C=d*this.dim,F=d*this.dim+this.dim;switch(l){case-1:f=b-1;break;case 1:b=f+1}switch(d){case-1:C=F-1;break;case 1:F=C+1}const te=-l*this.dim,re=-d*this.dim;for(let me=C;me<F;me++)for(let Se=f;Se<b;Se++){const Me=4*this._idx(Se,me),Oe=4*this._idx(Se+te,me+re);this.pixels[Me+0]=n.pixels[Oe+0],this.pixels[Me+1]=n.pixels[Oe+1],this.pixels[Me+2]=n.pixels[Oe+2],this.pixels[Me+3]=n.pixels[Oe+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}rn(w0,"DEMData"),rn(Rl,"DemMinMaxQuadTree",{omit:["dem"]});class o6{constructor(n,l){this.max=n,this.onRemove=l,this.reset()}reset(){for(const n in this.data)for(const l of this.data[n])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(n,l,d){const f=n.wrapped().key;this.data[f]===void 0&&(this.data[f]=[]);const b={value:l,timeout:void 0};if(d!==void 0&&(b.timeout=setTimeout(()=>{this.remove(n,b)},d)),this.data[f].push(b),this.order.push(f),this.order.length>this.max){const C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(n){return n.wrapped().key in this.data}getAndRemove(n){return this.has(n)?this._getAndRemoveByKey(n.wrapped().key):null}_getAndRemoveByKey(n){const l=this.data[n].shift();return l.timeout&&clearTimeout(l.timeout),this.data[n].length===0&&delete this.data[n],this.order.splice(this.order.indexOf(n),1),l.value}getByKey(n){const l=this.data[n];return l?l[0].value:null}get(n){return this.has(n)?this.data[n.wrapped().key][0].value:null}remove(n,l){if(!this.has(n))return this;const d=n.wrapped().key,f=l===void 0?0:this.data[d].indexOf(l),b=this.data[d][f];return this.data[d].splice(f,1),b.timeout&&clearTimeout(b.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(b.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(n){for(this.max=n;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(n){const l=[];for(const d in this.data)for(const f of this.data[d])n(f.value)||l.push(f);for(const d of l)this.remove(d.value.tileID,d)}}class dg{constructor(n,l,d){this.func=n,this.mask=l,this.range=d}}dg.ReadOnly=!1,dg.ReadWrite=!0,dg.disabled=new dg(519,dg.ReadOnly,[0,1]);const Zw=7680;class Kw{constructor(n,l,d,f,b,C){this.test=n,this.ref=l,this.mask=d,this.fail=f,this.depthFail=b,this.pass=C}}Kw.disabled=new Kw({func:519,mask:0},0,0,Zw,Zw,Zw);class nh{constructor(n,l,d){this.blendFunction=n,this.blendColor=l,this.mask=d}}nh.Replace=[1,0],nh.disabled=new nh(nh.Replace,Ps.transparent,[!1,!1,!1,!1]),nh.unblended=new nh(nh.Replace,Ps.transparent,[!0,!0,!0,!0]),nh.alphaBlended=new nh([1,771],Ps.transparent,[!0,!0,!0,!0]);const Jw=1029,Qw=2305;class Sd{constructor(n,l,d){this.enable=n,this.mode=l,this.frontFace=d}}Sd.disabled=new Sd(!1,Jw,Qw),Sd.backCCW=new Sd(!0,Jw,Qw),Sd.backCW=new Sd(!0,Jw,2304),Sd.frontCW=new Sd(!0,1028,2304),Sd.frontCCW=new Sd(!0,1028,Qw);class T0 extends vo{constructor(n,l,d){super(),this.id=n,this._onlySymbols=d,l.on("data",f=>{f.dataType==="source"&&f.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&f.dataType==="source"&&f.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new o6(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Or,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(n){this.map=n,this._minTileCacheSize=this._minTileCacheSize===void 0&&n?n._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&n?n._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const n in this._tiles){const l=this._tiles[n];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const n=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,n&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(n,l){return n.isSymbolTile=this._onlySymbols,this._source.loadTile(n,l)}_unloadTile(n){if(this._source.unloadTile)return this._source.unloadTile(n,()=>{})}_abortTile(n){if(this._source.abortTile)return this._source.abortTile(n,()=>{})}serialize(){return this._source.serialize()}prepare(n){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const d=this._tiles[l];d.upload(n),d.prepare(this.map.style.imageManager)}}getIds(){return Y(this._tiles).map(n=>n.tileID).sort(XC).map(n=>n.key)}getRenderableIds(n){const l=[];for(const d in this._tiles)this._isIdRenderable(+d,n)&&l.push(this._tiles[d]);return n?l.sort((d,f)=>{const b=d.tileID,C=f.tileID,F=new U(b.canonical.x,b.canonical.y)._rotate(this.transform.angle),te=new U(C.canonical.x,C.canonical.y)._rotate(this.transform.angle);return b.overscaledZ-C.overscaledZ||te.y-F.y||te.x-F.x}).map(d=>d.tileID.key):l.map(d=>d.tileID).sort(XC).map(d=>d.key)}hasRenderableParent(n){const l=this.findLoadedParent(n,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(n,l){return this._tiles[n]&&this._tiles[n].hasData()&&!this._coveredTiles[n]&&(l||!this._tiles[n].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const n in this._tiles)this._tiles[n].state!=="errored"&&this._reloadTile(+n,"reloading")}}_reloadTile(n,l){const d=this._tiles[n];d&&(d.state!=="loading"&&(d.state=l),this._loadTile(d,this._tileLoaded.bind(this,d,n,l)))}_tileLoaded(n,l,d,f){if(f)if(n.state="errored",f.status!==404)this._source.fire(new Wa(f,{tile:n}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const b=this.map.painter.terrain;this.update(this.transform,b.getScaledDemTileSize(),!0),b.resetTileLookupCache(this.id)}else this.update(this.transform);else n.timeAdded=vn.now(),d==="expired"&&(n.refreshedUponExpiration=!0),this._setTileReloadTimer(l,n),this._source.type==="raster-dem"&&n.dem&&this._backfillDEM(n),this._state.initializeTileState(n,this.map?this.map.painter:null),this._source.fire(new Ha("data",{dataType:"source",tile:n,coord:n.tileID,sourceCacheId:this.id}))}_backfillDEM(n){const l=this.getRenderableIds();for(let f=0;f<l.length;f++){const b=l[f];if(n.neighboringTiles&&n.neighboringTiles[b]){const C=this.getTileByID(b);d(n,C),d(C,n)}}function d(f,b){if(!f.dem||f.dem.borderReady)return;f.needsHillshadePrepare=!0,f.needsDEMTextureUpload=!0;let C=b.tileID.canonical.x-f.tileID.canonical.x;const F=b.tileID.canonical.y-f.tileID.canonical.y,te=Math.pow(2,f.tileID.canonical.z),re=b.tileID.key;C===0&&F===0||Math.abs(F)>1||(Math.abs(C)>1&&(Math.abs(C+te)===1?C+=te:Math.abs(C-te)===1&&(C-=te)),b.dem&&f.dem&&(f.dem.backfillBorder(b.dem,C,F),f.neighboringTiles&&f.neighboringTiles[re]&&(f.neighboringTiles[re].backfilled=!0)))}}getTile(n){return this.getTileByID(n.key)}getTileByID(n){return this._tiles[n]}_retainLoadedChildren(n,l,d,f){for(const b in this._tiles){let C=this._tiles[b];if(f[b]||!C.hasData()||C.tileID.overscaledZ<=l||C.tileID.overscaledZ>d)continue;let F=C.tileID;for(;C&&C.tileID.overscaledZ>l+1;){const re=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[re.key],C&&C.hasData()&&(F=re)}let te=F;for(;te.overscaledZ>l;)if(te=te.scaledTo(te.overscaledZ-1),n[te.key]){f[F.key]=F;break}}}findLoadedParent(n,l){if(n.key in this._loadedParentTiles){const d=this._loadedParentTiles[n.key];return d&&d.tileID.overscaledZ>=l?d:null}for(let d=n.overscaledZ-1;d>=l;d--){const f=n.scaledTo(d),b=this._getLoadedTile(f);if(b)return b}}_getLoadedTile(n){const l=this._tiles[n.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?n.wrapped().key:n.canonical.key)}updateCacheSize(n,l){l=l||this._source.tileSize;const d=Math.ceil(n.width/l)+1,f=Math.ceil(n.height/l)+1,b=Math.floor(d*f*5),C=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,b):b,F=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,C):C;this._cache.setMaxSize(F)}handleWrapJump(n){const l=Math.round((n-(this._prevLng===void 0?n:this._prevLng))/360);if(this._prevLng=n,l){const d={};for(const f in this._tiles){const b=this._tiles[f];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+l),d[b.tileID.key]=b}this._tiles=d;for(const f in this._timers)clearTimeout(this._timers[f]),delete this._timers[f];for(const f in this._tiles)this._setTileReloadTimer(+f,this._tiles[f])}}update(n,l,d){if(this.transform=n,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!d)return;let f;this.updateCacheSize(n,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?f=n.getVisibleUnwrappedCoordinates(this._source.tileID).map(F=>new ha(F.canonical.z,F.wrap,F.canonical.z,F.canonical.x,F.canonical.y)):(f=n.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!d,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(f=f.filter(F=>this._source.hasTile(F)))):f=[];const b=this._updateRetainedTiles(f);if(ZC(this._source.type)&&f.length!==0){const F={},te={},re=Object.keys(b);for(const Se of re){const Me=b[Se],Oe=this._tiles[Se];if(!Oe||Oe.fadeEndTime&&Oe.fadeEndTime<=vn.now())continue;const Ne=this.findLoadedParent(Me,Math.max(Me.overscaledZ-T0.maxOverzooming,this._source.minzoom));Ne&&(this._addTile(Ne.tileID),F[Ne.tileID.key]=Ne.tileID),te[Se]=Me}const me=f[f.length-1].overscaledZ;for(const Se in this._tiles){const Me=this._tiles[Se];if(b[Se]||!Me.hasData())continue;let Oe=Me.tileID;for(;Oe.overscaledZ>me;){Oe=Oe.scaledTo(Oe.overscaledZ-1);const Ne=this._tiles[Oe.key];if(Ne&&Ne.hasData()&&te[Oe.key]){b[Se]=Me.tileID;break}}}for(const Se in F)b[Se]||(this._coveredTiles[Se]=!0,b[Se]=F[Se])}for(const F in b)this._tiles[F].clearFadeHold();const C=function(F,te){const re=[];for(const me in F)me in te||re.push(me);return re}(this._tiles,b);for(const F of C){const te=this._tiles[F];te.hasSymbolBuckets&&!te.holdingForFade()?te.setHoldDuration(this.map._fadeDuration):te.hasSymbolBuckets&&!te.symbolFadeFinished()||this._removeTile(+F)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const n in this._tiles)this._tiles[n].holdingForFade()&&this._removeTile(+n)}_updateRetainedTiles(n){const l={};if(n.length===0)return l;const d={},f=n.reduce((re,me)=>Math.min(re,me.overscaledZ),1/0),b=n[0].overscaledZ,C=Math.max(b-T0.maxOverzooming,this._source.minzoom),F=Math.max(b+T0.maxUnderzooming,this._source.minzoom),te={};for(const re of n){const me=this._addTile(re);l[re.key]=re,me.hasData()||f<this._source.maxzoom&&(te[re.key]=re)}this._retainLoadedChildren(te,f,F,l);for(const re of n){let me=this._tiles[re.key];if(me.hasData())continue;if(re.canonical.z>=this._source.maxzoom){const Me=re.children(this._source.maxzoom)[0],Oe=this.getTile(Me);if(Oe&&Oe.hasData()){l[Me.key]=Me;continue}}else{const Me=re.children(this._source.maxzoom);if(l[Me[0].key]&&l[Me[1].key]&&l[Me[2].key]&&l[Me[3].key])continue}let Se=me.wasRequested();for(let Me=re.overscaledZ-1;Me>=C;--Me){const Oe=re.scaledTo(Me);if(d[Oe.key]||(d[Oe.key]=!0,me=this.getTile(Oe),!me&&Se&&(me=this._addTile(Oe)),me&&(l[Oe.key]=Oe,Se=me.wasRequested(),me.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const n in this._tiles){const l=[];let d,f=this._tiles[n].tileID;for(;f.overscaledZ>0;){if(f.key in this._loadedParentTiles){d=this._loadedParentTiles[f.key];break}l.push(f.key);const b=f.scaledTo(f.overscaledZ-1);if(d=this._getLoadedTile(b),d)break;f=b}for(const b of l)this._loadedParentTiles[b]=d}}_addTile(n){let l=this._tiles[n.key];if(l)return l;l=this._cache.getAndRemove(n),l&&(this._setTileReloadTimer(n.key,l),l.tileID=n,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[n.key]&&(clearTimeout(this._cacheTimers[n.key]),delete this._cacheTimers[n.key],this._setTileReloadTimer(n.key,l)));const d=!!l;if(!d){const f=this.map?this.map.painter:null;l=new rr(n,this._source.tileSize*n.overscaleFactor(),this.transform.tileZoom,f,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,n.key,l.state))}return l?(l.uses++,this._tiles[n.key]=l,d||this._source.fire(new Ha("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(n,l){n in this._timers&&(clearTimeout(this._timers[n]),delete this._timers[n]);const d=l.getExpiryTimeout();d&&(this._timers[n]=setTimeout(()=>{this._reloadTile(n,"expired"),delete this._timers[n]},d))}_removeTile(n){const l=this._tiles[n];l&&(l.uses--,delete this._tiles[n],this._timers[n]&&(clearTimeout(this._timers[n]),delete this._timers[n]),l.uses>0||(l.hasData()&&l.state!=="reloading"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const n in this._tiles)this._removeTile(+n);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(n,l,d){const f=[],b=this.transform;if(!b)return f;const C=b.projection.name==="globe",F=lu(b.center.lng);for(const te in this._tiles){const re=this._tiles[te];if(d&&re.clearQueryDebugViz(),re.holdingForFade())continue;let me;if(C){const Se=re.tileID.canonical;if(Se.z===0){const Me=[Math.abs(g(F,...by(Se,-1))-F),Math.abs(g(F,...by(Se,1))-F)];me=[0,2*Me.indexOf(Math.min(...Me))-1]}else{const Me=[Math.abs(g(F,...by(Se,-1))-F),Math.abs(g(F,...by(Se,0))-F),Math.abs(g(F,...by(Se,1))-F)];me=[Me.indexOf(Math.min(...Me))-1]}}else me=[0];for(const Se of me){const Me=n.containsTile(re,b,l,Se);Me&&f.push(Me)}}return f}getVisibleCoordinates(n){const l=this.getRenderableIds(n).map(d=>this._tiles[d].tileID);for(const d of l)d.projMatrix=this.transform.calculateProjMatrix(d.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(ZC(this._source.type))for(const n in this._tiles){const l=this._tiles[n];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=vn.now())return!0}return!1}setFeatureState(n,l,d){this._state.updateState(n=n||"_geojsonTileLayer",l,d)}removeFeatureState(n,l,d){this._state.removeFeatureState(n=n||"_geojsonTileLayer",l,d)}getFeatureState(n,l){return this._state.getState(n=n||"_geojsonTileLayer",l)}setDependencies(n,l,d){const f=this._tiles[n];f&&f.setDependencies(l,d)}reloadTilesForDependencies(n,l){for(const d in this._tiles)this._tiles[d].hasDependency(n,l)&&this._reloadTile(+d,"reloading");this._cache.filter(d=>!d.hasDependency(n,l))}_preloadTiles(n,l){const d=new Map,f=Array.isArray(n)?n:[n],b=this.map.painter.terrain,C=this.usedForTerrain&&b?b.getScaledDemTileSize():this._source.tileSize;for(const F of f){const te=F.coveringTiles({tileSize:C,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const re of te)d.set(re.key,re);this.usedForTerrain&&F.updateElevation(!1)}X(Array.from(d.values()),(F,te)=>{const re=new rr(F,this._source.tileSize*F.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(re,me=>{this._source.type==="raster-dem"&&re.dem&&this._backfillDEM(re),te(me,re)})},l)}}function XC(a,n){const l=Math.abs(2*a.wrap)-+(a.wrap<0),d=Math.abs(2*n.wrap)-+(n.wrap<0);return a.overscaledZ-n.overscaledZ||d-l||n.canonical.y-a.canonical.y||n.canonical.x-a.canonical.x}function ZC(a){return a==="raster"||a==="image"||a==="video"||a==="custom"}function by(a,n){const l=1<<a.z;return[a.x/l+n,(a.x+1)/l+n]}T0.maxOverzooming=10,T0.maxUnderzooming=3;class Kv{constructor(n,l,d){this._demTile=n,this._dem=this._demTile.dem,this._scale=l,this._offset=d}static create(n,l,d){const f=d||n.findDEMTileFor(l);if(!f||!f.dem)return;const b=f.dem,C=f.tileID,F=1<<l.canonical.z-C.canonical.z;return new Kv(f,f.tileSize/Bn/F,[(l.canonical.x/F-C.canonical.x)*b.dim,(l.canonical.y/F-C.canonical.y)*b.dim])}tileCoordToPixel(n,l){const d=l*this._scale+this._offset[1],f=Math.floor(n*this._scale+this._offset[0]),b=Math.floor(d);return new U(f,b)}getElevationAt(n,l,d,f){const b=n*this._scale+this._offset[0],C=l*this._scale+this._offset[1],F=Math.floor(b),te=Math.floor(C),re=this._dem;return f=!!f,d?Kn(Kn(re.get(F,te,f),re.get(F,te+1,f),C-te),Kn(re.get(F+1,te,f),re.get(F+1,te+1,f),C-te),b-F):re.get(F,te,f)}getElevationAtPixel(n,l,d){return this._dem.get(n,l,!!d)}getMeterToDEM(n){return(1<<this._demTile.tileID.canonical.z)*hc(1,n)*this._dem.stride}}class KC{constructor(n,l){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new Yd(Bn,16,0),this.featureIndexArray=new gd,this.promoteId=l}insert(n,l,d,f,b,C=0){const F=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,f,b,C);const te=this.grid;for(let re=0;re<l.length;re++){const me=l[re],Se=[1/0,1/0,-1/0,-1/0];for(let Me=0;Me<me.length;Me++){const Oe=me[Me];Se[0]=Math.min(Se[0],Oe.x),Se[1]=Math.min(Se[1],Oe.y),Se[2]=Math.max(Se[2],Oe.x),Se[3]=Math.max(Se[3],Oe.y)}Se[0]<Bn&&Se[1]<Bn&&Se[2]>=0&&Se[3]>=0&&te.insert(F,Se[0],Se[1],Se[2],Se[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new F1(new u0(this.rawTileData)).layers,this.sourceLayerCoder=new ce(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const n in this.vtLayers)this.vtFeatures[n]=[]}return this.vtLayers}query(n,l,d,f){this.loadVTLayers();const b=n.params||{},C=Gs(b.filter),F=n.tileResult,te=n.transform,re=F.bufferedTilespaceBounds,me=this.grid.query(re.min.x,re.min.y,re.max.x,re.max.y,(Ne,He,tt,_t)=>v1(F.bufferedTilespaceGeometry,Ne,He,tt,_t));me.sort(a6);let Se=null;te.elevation&&me.length>0&&(Se=Kv.create(te.elevation,this.tileID));const Me={};let Oe;for(let Ne=0;Ne<me.length;Ne++){const He=me[Ne];if(He===Oe)continue;Oe=He;const tt=this.featureIndexArray.get(He);let _t=null;this.loadMatchingFeature(Me,tt,C,b.layers,b.availableImages,l,d,f,(Dt,yt,Tt,Bt=0)=>(_t||(_t=uu(Dt,this.tileID.canonical,n.tileTransform)),yt.queryIntersectsFeature(F,Dt,Tt,_t,this.z,n.transform,n.pixelPosMatrix,Se,Bt)))}return Me}loadMatchingFeature(n,l,d,f,b,C,F,te,re){const{featureIndex:me,bucketIndex:Se,sourceLayerIndex:Me,layoutVertexArrayOffset:Oe}=l,Ne=this.bucketLayerIDs[Se];if(f&&!function(Dt,yt){for(let Tt=0;Tt<Dt.length;Tt++)if(yt.indexOf(Dt[Tt])>=0)return!0;return!1}(f,Ne))return;const He=this.sourceLayerCoder.decode(Me),tt=this.vtLayers[He].feature(me);if(d.needGeometry){const Dt=$u(tt,!0);if(!d.filter(new Yt(this.tileID.overscaledZ),Dt,this.tileID.canonical))return}else if(!d.filter(new Yt(this.tileID.overscaledZ),tt))return;const _t=this.getId(tt,He);for(let Dt=0;Dt<Ne.length;Dt++){const yt=Ne[Dt];if(f&&f.indexOf(yt)<0)continue;const Tt=C[yt];if(!Tt)continue;let Bt={};_t!==void 0&&te&&(Bt=te.getState(Tt.sourceLayer||"_geojsonTileLayer",_t));const It=K({},F[yt]);It.paint=JC(It.paint,Tt.paint,tt,Bt,b),It.layout=JC(It.layout,Tt.layout,tt,Bt,b);const ii=!re||re(tt,Tt,Bt,Oe);if(!ii)continue;const ti=new qe(tt,this.z,this.x,this.y,_t);ti.layer=It;let xi=n[yt];xi===void 0&&(xi=n[yt]=[]),xi.push({featureIndex:me,feature:ti,intersectionZ:ii})}}lookupSymbolFeatures(n,l,d,f,b,C,F,te){const re={};this.loadVTLayers();const me=Gs(b);for(const Se of n)this.loadMatchingFeature(re,{bucketIndex:d,sourceLayerIndex:f,featureIndex:Se,layoutVertexArrayOffset:0},me,C,F,te,l);return re}loadFeature(n){const{featureIndex:l,sourceLayerIndex:d}=n;this.loadVTLayers();const f=this.sourceLayerCoder.decode(d),b=this.vtFeatures[f];if(b[l])return b[l];const C=this.vtLayers[f].feature(l);return b[l]=C,C}hasLayer(n){for(const l of this.bucketLayerIDs)for(const d of l)if(n===d)return!0;return!1}getId(n,l){let d=n.id;if(this.promoteId){const f=typeof this.promoteId=="string"?this.promoteId:this.promoteId[l];f!=null&&(d=n.properties[f]),typeof d=="boolean"&&(d=Number(d))}return d}}function JC(a,n,l,d,f){return Ce(a,(b,C)=>{const F=n instanceof zi?n.get(C):null;return F&&F.evaluate?F.evaluate(l,d,f):F})}function a6(a,n){return n-a}rn(KC,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class QC{constructor(n,l){this.width=n,this.height=l,this.nextRow=0,this.image=new xd({width:n,height:l}),this.positions={},this.uploaded=!1}getDash(n,l){const d=this.getKey(n,l);return this.positions[d]}trim(){const n=this.width,l=this.height=z(this.nextRow);this.image.resize({width:n,height:l})}getKey(n,l){return n.join(",")+l}getDashRanges(n,l,d){const f=[];let b=n.length%2==1?-n[n.length-1]*d:0,C=n[0]*d,F=!0;f.push({left:b,right:C,isDash:F,zeroLength:n[0]===0});let te=n[0];for(let re=1;re<n.length;re++){F=!F;const me=n[re];b=te*d,te+=me,C=te*d,f.push({left:b,right:C,isDash:F,zeroLength:me===0})}return f}addRoundDash(n,l,d){const f=l/2;for(let b=-d;b<=d;b++){const C=this.width*(this.nextRow+d+b);let F=0,te=n[F];for(let re=0;re<this.width;re++){re/te.right>1&&(te=n[++F]);const me=Math.abs(re-te.left),Se=Math.abs(re-te.right),Me=Math.min(me,Se);let Oe;const Ne=b/d*(f+1);if(te.isDash){const He=f-Math.abs(Ne);Oe=Math.sqrt(Me*Me+He*He)}else Oe=f-Math.sqrt(Me*Me+Ne*Ne);this.image.data[C+re]=Math.max(0,Math.min(255,Oe+128))}}}addRegularDash(n,l){for(let te=n.length-1;te>=0;--te){const re=n[te],me=n[te+1];re.zeroLength?n.splice(te,1):me&&me.isDash===re.isDash&&(me.left=re.left,n.splice(te,1))}const d=n[0],f=n[n.length-1];d.isDash===f.isDash&&(d.left=f.left-this.width,f.right=d.right+this.width);const b=this.width*this.nextRow;let C=0,F=n[C];for(let te=0;te<this.width;te++){te/F.right>1&&(F=n[++C]);const re=Math.abs(te-F.left),me=Math.abs(te-F.right),Se=Math.min(re,me);this.image.data[b+te]=Math.max(0,Math.min(255,(F.isDash?Se:-Se)+l+128))}}addDash(n,l){const d=this.getKey(n,l);if(this.positions[d])return this.positions[d];const f=l==="round",b=f?7:0,C=2*b+1;if(this.nextRow+C>this.height)return oe("LineAtlas out of space"),null;n.length===0&&n.push(1);let F=0;for(let me=0;me<n.length;me++)n[me]<0&&(oe("Negative value is found in line dasharray, replacing values with 0"),n[me]=0),F+=n[me];if(F!==0){const me=this.width/F,Se=this.getDashRanges(n,this.width,me);f?this.addRoundDash(Se,me,b):this.addRegularDash(Se,l==="square"?.5*me:0)}const te=this.nextRow+b;this.nextRow+=C;const re={tl:[te,b],br:[F,0]};return this.positions[d]=re,re}}rn(QC,"LineAtlas");class e5{constructor(n){const l={},d=[];for(const F in n){const te=n[F],re=l[F]={};for(const me in te.glyphs){const Se=te.glyphs[+me];if(!Se||Se.bitmap.width===0||Se.bitmap.height===0)continue;const Me=Se.metrics.localGlyph?2:1,Oe={x:0,y:0,w:Se.bitmap.width+2*Me,h:Se.bitmap.height+2*Me};d.push(Oe),re[me]=Oe}}const{w:f,h:b}=Z1(d),C=new xd({width:f||1,height:b||1});for(const F in n){const te=n[F];for(const re in te.glyphs){const me=te.glyphs[+re];if(!me||me.bitmap.width===0||me.bitmap.height===0)continue;const Se=l[F][re],Me=me.metrics.localGlyph?2:1;xd.copy(me.bitmap,C,{x:0,y:0},{x:Se.x+Me,y:Se.y+Me},me.bitmap)}}this.image=C,this.positions=l}}rn(e5,"GlyphAtlas");class l6{constructor(n){this.tileID=new ha(n.tileID.overscaledZ,n.tileID.wrap,n.tileID.canonical.z,n.tileID.canonical.x,n.tileID.canonical.y),this.tileZoom=n.tileZoom,this.uid=n.uid,this.zoom=n.zoom,this.canonical=n.tileID.canonical,this.pixelRatio=n.pixelRatio,this.tileSize=n.tileSize,this.source=n.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=n.showCollisionBoxes,this.collectResourceTiming=!!n.collectResourceTiming,this.returnDependencies=!!n.returnDependencies,this.promoteId=n.promoteId,this.enableTerrain=!!n.enableTerrain,this.isSymbolTile=n.isSymbolTile,this.tileTransform=Hh(n.tileID.canonical,n.projection),this.projection=n.projection}parse(n,l,d,f,b){this.status="parsing",this.data=n,this.collisionBoxArray=new i1;const C=new ce(Object.keys(n.layers).sort()),F=new KC(this.tileID,this.promoteId);F.bucketLayerIDs=[];const te={},re=new QC(256,256),me={featureIndex:F,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:re,availableImages:d},Se=l.familiesBySource[this.source];for(const Bt in Se){const It=n.layers[Bt];if(!It)continue;let ii=!1,ti=!1;for(const li of Se[Bt])li[0].type==="symbol"?ii=!0:ti=!0;if(this.isSymbolTile===!0&&!ii||this.isSymbolTile===!1&&!ti)continue;It.version===1&&oe(`Vector tile source "${this.source}" layer "${Bt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const xi=C.encode(Bt),ji=[];for(let li=0;li<It.length;li++){const Si=It.feature(li),Ei=F.getId(Si,Bt);ji.push({feature:Si,id:Ei,index:li,sourceLayerIndex:xi})}for(const li of Se[Bt]){const Si=li[0];this.isSymbolTile!==void 0&&Si.type==="symbol"!==this.isSymbolTile||Si.minzoom&&this.zoom<Math.floor(Si.minzoom)||Si.maxzoom&&this.zoom>=Si.maxzoom||Si.visibility!=="none"&&(e3(li,this.zoom,d),(te[Si.id]=Si.createBucket({index:F.bucketLayerIDs.length,layers:li,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:xi,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:d})).populate(ji,me,this.tileID.canonical,this.tileTransform),F.bucketLayerIDs.push(li.map(Ei=>Ei.id)))}}let Me,Oe,Ne,He;re.trim();const tt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},_t=Ce(me.glyphDependencies,Bt=>Object.keys(Bt).map(Number));Object.keys(_t).length?f.send("getGlyphs",{uid:this.uid,stacks:_t},(Bt,It)=>{Me||(Me=Bt,Oe=It,Tt.call(this))},void 0,!1,tt):Oe={};const Dt=Object.keys(me.iconDependencies);Dt.length?f.send("getImages",{icons:Dt,source:this.source,tileID:this.tileID,type:"icons"},(Bt,It)=>{Me||(Me=Bt,Ne=It,Tt.call(this))},void 0,!1,tt):Ne={};const yt=Object.keys(me.patternDependencies);function Tt(){if(Me)return b(Me);if(Oe&&Ne&&He){const Bt=new e5(Oe),It=new Wu(Ne,He);for(const ii in te){const ti=te[ii];ti instanceof ih?(e3(ti.layers,this.zoom,d),kw(ti,Oe,Bt.positions,Ne,It.iconPositions,this.showCollisionBoxes,d,this.tileID.canonical,this.tileZoom,this.projection)):ti.hasPattern&&(ti instanceof Wm||ti instanceof Nm||ti instanceof a0)&&(e3(ti.layers,this.zoom,d),ti.addFeatures(me,this.tileID.canonical,It.patternPositions,d,this.tileTransform))}this.status="done",b(null,{buckets:Y(te).filter(ii=>!ii.isEmpty()),featureIndex:F,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Bt.image,lineAtlas:re,imageAtlas:It,glyphMap:this.returnDependencies?Oe:null,iconMap:this.returnDependencies?Ne:null,glyphPositions:this.returnDependencies?Bt.positions:null})}}yt.length?f.send("getImages",{icons:yt,source:this.source,tileID:this.tileID,type:"patterns"},(Bt,It)=>{Me||(Me=Bt,He=It,Tt.call(this))},void 0,!1,tt):He={},Tt.call(this)}}function e3(a,n,l){const d=new Yt(n);for(const f of a)f.recalculate(d,l)}class t5{constructor(n){this.entries={},this.scheduler=n}request(n,l,d,f){const b=this.entries[n]=this.entries[n]||{callbacks:[]};if(b.result){const[C,F]=b.result;return this.scheduler?this.scheduler.add(()=>{f(C,F)},l):f(C,F),()=>{}}return b.callbacks.push(f),b.cancel||(b.cancel=d((C,F)=>{b.result=[C,F];for(const te of b.callbacks)this.scheduler?this.scheduler.add(()=>{te(C,F)},l):te(C,F);setTimeout(()=>delete this.entries[n],3e3)})),()=>{b.result||(b.callbacks=b.callbacks.filter(C=>C!==f),b.callbacks.length||(b.cancel(),delete this.entries[n]))}}}function i5(a,n,l){const d=JSON.stringify(a.request);return a.data&&(this.deduped.entries[d]={result:[null,a.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom},f=>{const b=Lt(a.request,(C,F,te,re)=>{C?f(C):F&&f(null,{vectorTile:l?void 0:new F1(new u0(F)),rawData:F,cacheControl:te,expires:re})});return()=>{b.cancel(),f()}},n)}s.ARRAY_TYPE=Dl,s.AUTH_ERR_MSG=di,s.Aabb=el,s.Actor=class{constructor(a,n,l){this.target=a,this.parent=n,this.mapId=l,this.callbacks={},this.cancelCallbacks={},se(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Re()?a:v,this.scheduler=new R}send(a,n,l,d,f=!1,b){const C=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(l.metadata=b,this.callbacks[C]=l);const F=nt(this.globalScope)?void 0:[];return this.target.postMessage({id:C,type:a,hasCallback:!!l,targetMapId:d,mustQueue:f,sourceMapId:this.mapId,data:zu(n,F)},F),{cancel:()=>{l&&delete this.callbacks[C],this.target.postMessage({id:C,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}receive(a){const n=a.data,l=n.id;if(l&&(!n.targetMapId||this.mapId===n.targetMapId))if(n.type==="<cancel>"){const d=this.cancelCallbacks[l];delete this.cancelCallbacks[l],d&&d.cancel()}else if(n.mustQueue||Re()){const d=this.callbacks[l];this.cancelCallbacks[l]=this.scheduler.add(()=>this.processTask(l,n),d&&d.metadata||{type:"message"})}else this.processTask(l,n)}processTask(a,n){if(n.type==="<response>"){const l=this.callbacks[a];delete this.callbacks[a],l&&(n.error?l(Mh(n.error)):l(null,Mh(n.data)))}else{const l=nt(this.globalScope)?void 0:[],d=n.hasCallback?(b,C)=>{delete this.cancelCallbacks[a],this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:b?zu(b):null,data:zu(C,l)},l)}:b=>{},f=Mh(n.data);if(this.parent[n.type])this.parent[n.type](n.sourceMapId,f,d);else if(this.parent.getWorkerSource){const b=n.type.split(".");this.parent.getWorkerSource(n.sourceMapId,b[0],f.source)[b[1]](f,d)}else d(new Error(`Could not find function ${n.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.CanonicalTileID=Gm,s.Color=Ps,s.ColorMode=nh,s.CullFaceMode=Sd,s.DEMData=w0,s.DataConstantProperty=Xt,s.DedupedRequest=t5,s.DepthMode=dg,s.EXTENT=Bn,s.Elevation=class{isDataAvailableAtPoint(a){const n=this._source();if(this.isUsingMockSource()||!n||a.y<0||a.y>1)return!1;const l=n.getSource().maxzoom,d=1<<l,f=Math.floor(a.x),b=Math.floor((a.x-f)*d),C=Math.floor(a.y*d),F=this.findDEMTileFor(new ha(l,f,l,b,C));return!(!F||!F.dem)}getAtPointOrZero(a,n=0){return this.getAtPoint(a,n)||0}getAtPoint(a,n,l=!0){if(this.isUsingMockSource())return null;n==null&&(n=null);const d=this._source();if(!d||a.y<0||a.y>1)return n;const f=d.getSource().maxzoom,b=1<<f,C=Math.floor(a.x),F=a.x-C,te=new ha(f,C,f,Math.floor(F*b),Math.floor(a.y*b)),re=this.findDEMTileFor(te);if(!re||!re.dem)return n;const me=re.dem,Se=1<<re.tileID.canonical.z,Me=(F*Se-re.tileID.canonical.x)*me.dim,Oe=(a.y*Se-re.tileID.canonical.y)*me.dim,Ne=Math.floor(Me),He=Math.floor(Oe);return(l?this.exaggeration():1)*Kn(Kn(me.get(Ne,He),me.get(Ne,He+1),Oe-He),Kn(me.get(Ne+1,He),me.get(Ne+1,He+1),Oe-He),Me-Ne)}getAtTileOffset(a,n,l){const d=1<<a.canonical.z;return this.getAtPointOrZero(new Ih(a.wrap+(a.canonical.x+n/Bn)/d,(a.canonical.y+l/Bn)/d))}getAtTileOffsetFunc(a,n,l,d){return f=>{const b=this.getAtTileOffset(a,f.x,f.y),C=d.upVector(a.canonical,f.x,f.y);return pc(C,C,b*d.upVectorScale(a.canonical,n,l).metersToTile),C}}getForTilePoints(a,n,l,d){if(this.isUsingMockSource())return!1;const f=Kv.create(this,a,d);return!!f&&(n.forEach(b=>{b[2]=this.exaggeration()*f.getElevationAt(b[0],b[1],l)}),!0)}getMinMaxForTile(a){if(this.isUsingMockSource())return null;const n=this.findDEMTileFor(a);if(!n||!n.dem)return null;const l=n.dem.tree,d=n.tileID,f=1<<a.canonical.z-d.canonical.z;let b=a.canonical.x/f-d.canonical.x,C=a.canonical.y/f-d.canonical.y,F=0;for(let te=0;te<a.canonical.z-d.canonical.z&&!l.leaves[F];te++){b*=2,C*=2;const re=2*Math.floor(C)+Math.floor(b);F=l.childOffsets[F]+re,b%=1,C%=1}return{min:this.exaggeration()*l.minimums[F],max:this.exaggeration()*l.maximums[F]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(a,n,l){throw new Error("Pure virtual method called.")}pointCoordinate(a){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(a){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},s.ErrorEvent=Wa,s.EvaluationParameters=Yt,s.Event=Ha,s.Evented=vo,s.FillExtrusionBucket=a0,s.Frustum=A1,s.FrustumCorners=k1,s.GLOBE_METERS_TO_ECEF=oy,s.GLOBE_RADIUS=Td,s.GLOBE_SCALE_MATCH_LATITUDE=45,s.GLOBE_ZOOM_THRESHOLD_MAX=6,s.GLOBE_ZOOM_THRESHOLD_MIN=5,s.GlobeSharedBuffers=class{constructor(a){this._createGrid(a),this._createPoles(a)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const a of this._poleSegments)a.destroy();for(const a of this._gridSegments)a.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const a of this._wireframeSegments)a.destroy()}}_createGrid(a){const n=new Wr,l=new da,d=65;for(let f=0;f<d;f++)for(let b=0;b<d;b++)n.emplaceBack(b,f);this._gridSegments=[];for(let f=0,b=0;f<Hp.length;f++){const C=Hp[f];for(let te=0;te<C;te++)for(let re=0;re<64;re++){const me=te*d+re;l.emplaceBack(me+1,me,me+d),l.emplaceBack(me+d,me+d+1,me+1)}const F=64*C*2;this._gridSegments.push(To.simpleSegment(0,b,(C+1)*d,F)),b+=F}this._gridBuffer=a.createVertexBuffer(n,p0.members),this._gridIndexBuffer=a.createIndexBuffer(l,!0)}_createPoles(a){const n=new da;for(let f=0;f<=Gp;f++)n.emplaceBack(0,f+1,f+2);this._poleIndexBuffer=a.createIndexBuffer(n,!0);const l=new _r,d=new _r;this._poleSegments=[];for(let f=0,b=0;f<5;f++){const C=360/(1<<f);l.emplaceBack(0,-Td,0,.5,0),d.emplaceBack(0,-Td,0,.5,1);for(let F=0;F<=Gp;F++){const te=F/Gp,re=Kn(0,C,te),[me,Se,Me]=Wp(Rw,hy,re,Td);l.emplaceBack(me,Se,Me,te,0),d.emplaceBack(me,Se,Me,te,1)}this._poleSegments.push(To.simpleSegment(b,0,66,64)),b+=66}this._poleNorthVertexBuffer=a.createVertexBuffer(l,ry,!1),this._poleSouthVertexBuffer=a.createVertexBuffer(d,ry,!1)}getGridBuffers(a){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[a]]}getPoleBuffers(a){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[a]]}getWirefameBuffers(a,n){if(!this._wireframeSegments){const l=new Ic,d=Gp,f=d+1;this._wireframeSegments=[];for(let b=0,C=0;b<Hp.length;b++){const F=Hp[b];for(let re=0;re<F;re++)for(let me=0;me<d;me++){const Se=re*f+me;l.emplaceBack(Se,Se+1),l.emplaceBack(Se,Se+f),l.emplaceBack(Se,Se+f+1)}const te=F*d*3;this._wireframeSegments.push(To.simpleSegment(0,C,(F+1)*f,te)),C+=te}this._wireframeIndexBuffer=a.createIndexBuffer(l)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[n]]}},s.GlyphManager=Eo,s.ImagePosition=qm,s.LivePerformanceUtils=Xi,s.LngLat=Ir,s.LngLatBounds=_d,s.LocalGlyphMode=Q1,s.MAX_MERCATOR_LATITUDE=Ea,s.MercatorCoordinate=Ih,s.ONE_EM=_s,s.OverscaledTileID=ha,s.PerformanceMarkers=bi,s.Properties=Sn,s.RGBAImage=Ll,s.Ray=Lm,s.RequestManager=class{constructor(a,n,l){this._transformRequestFn=a,this._customAccessToken=n,this._silenceAuthErrors=!!l,this._createSkuToken()}_createSkuToken(){const a=function(){let n="";for(let l=0;l<10;l++)n+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",S,n].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=a.token,this._skuTokenExpiresAt=a.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(a,n){return this._transformRequestFn&&this._transformRequestFn(a,n)||{url:a}}normalizeStyleURL(a,n){if(!Hi(a))return a;const l=Pn(a);return l.path=`/styles/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||n)}normalizeGlyphsURL(a,n){if(!Hi(a))return a;const l=Pn(a);return l.path=`/fonts/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||n)}normalizeSourceURL(a,n,l,d){if(!Hi(a))return a;const f=Pn(a);return f.path=`/v4/${f.authority}.json`,f.params.push("secure"),l&&f.params.push(`language=${l}`),d&&f.params.push(`worldview=${d}`),this._makeAPIURL(f,this._customAccessToken||n)}normalizeSpriteURL(a,n,l,d){const f=Pn(a);return Hi(a)?(f.path=`/styles/v1${f.path}/sprite${n}${l}`,this._makeAPIURL(f,this._customAccessToken||d)):(f.path+=`${n}${l}`,Wo(f))}normalizeTileURL(a,n,l){if(this._isSkuTokenExpired()&&this._createSkuToken(),a&&!Hi(a))return a;const d=Pn(a);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${n||l&&d.authority!=="raster"&&l===512?"@2x":""}${B.supported?".webp":"$1"}`),d.authority==="raster"?d.path=`/${M.RASTER_URL_PREFIX}${d.path}`:(d.path=d.path.replace(/^.+\/v4\//,"/"),d.path=`/${M.TILE_URL_VERSION}${d.path}`);const f=this._customAccessToken||function(b){for(const C of b){const F=C.match(/^access_token=(.*)$/);if(F)return F[1]}return null}(d.params)||M.ACCESS_TOKEN;return M.REQUIRE_ACCESS_TOKEN&&f&&this._skuToken&&d.params.push(`sku=${this._skuToken}`),this._makeAPIURL(d,f)}canonicalizeTileURL(a,n){const l=Pn(a);if(!l.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!l.path.match(/\.[\w]+$/))return a;let d="mapbox://";l.path.match(/^\/raster\/v1\//)?d+=`raster/${l.path.replace(`/${M.RASTER_URL_PREFIX}/`,"")}`:d+=`tiles/${l.path.replace(`/${M.TILE_URL_VERSION}/`,"")}`;let f=l.params;return n&&(f=f.filter(b=>!b.match(/^access_token=/))),f.length&&(d+=`?${f.join("&")}`),d}canonicalizeTileset(a,n){const l=!!n&&Hi(n),d=[];for(const f of a.tiles||[])Yi(f)?d.push(this.canonicalizeTileURL(f,l)):d.push(f);return d}_makeAPIURL(a,n){const l="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",d=Pn(M.API_URL);if(a.protocol=d.protocol,a.authority=d.authority,a.protocol==="http"){const f=a.params.indexOf("secure");f>=0&&a.params.splice(f,1)}if(d.path!=="/"&&(a.path=`${d.path}${a.path}`),!M.REQUIRE_ACCESS_TOKEN)return Wo(a);if(n=n||M.ACCESS_TOKEN,!this._silenceAuthErrors){if(!n)throw new Error(`An API access token is required to use Mapbox GL. ${l}`);if(n[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${l}`)}return a.params=a.params.filter(f=>f.indexOf("access_token")===-1),a.params.push(`access_token=${n||""}`),Wo(a)}},s.ResourceType=qt,s.SegmentVector=To,s.SourceCache=T0,s.StencilMode=Kw,s.StructArrayLayout1ui2=md,s.StructArrayLayout2f1f2i16=Sa,s.StructArrayLayout2i4=Wr,s.StructArrayLayout2ui4=Ic,s.StructArrayLayout3f12=cc,s.StructArrayLayout3ui6=da,s.StructArrayLayout4i8=ts,s.StructArrayLayout5f20=_r,s.Texture=b0,s.Tile=rr,s.Transitionable=vi,s.Uniform1f=Ep,s.Uniform1i=class extends ju{constructor(a){super(a),this.current=0}set(a,n,l){this.fetchUniformLocation(a,n)&&this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},s.Uniform2f=class extends ju{constructor(a){super(a),this.current=[0,0]}set(a,n,l){this.fetchUniformLocation(a,n)&&(l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1])))}},s.Uniform3f=class extends ju{constructor(a){super(a),this.current=[0,0,0]}set(a,n,l){this.fetchUniformLocation(a,n)&&(l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2])))}},s.Uniform4f=R_,s.UniformColor=B_,s.UniformMatrix2f=class extends ju{constructor(a){super(a),this.current=z_}set(a,n,l){if(this.fetchUniformLocation(a,n)){for(let d=0;d<4;d++)if(l[d]!==this.current[d]){this.current=l,this.gl.uniformMatrix2fv(this.location,!1,l);break}}}},s.UniformMatrix3f=class extends ju{constructor(a){super(a),this.current=N_}set(a,n,l){if(this.fetchUniformLocation(a,n)){for(let d=0;d<9;d++)if(l[d]!==this.current[d]){this.current=l,this.gl.uniformMatrix3fv(this.location,!1,l);break}}}},s.UniformMatrix4f=class extends ju{constructor(a){super(a),this.current=g2}set(a,n,l){if(this.fetchUniformLocation(a,n)){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let d=1;d<16;d++)if(l[d]!==this.current[d]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}}},s.UnwrappedTileID=yv,s.ValidationError=ln,s.VectorTileFeature=jm,s.VectorTileWorkerSource=class extends vo{constructor(a,n,l,d,f){super(),this.actor=a,this.layerIndex=n,this.availableImages=l,this.loadVectorData=f||i5,this.loading={},this.loaded={},this.deduped=new t5(a.scheduler),this.isSpriteLoaded=d,this.scheduler=a.scheduler}loadTile(a,n){const l=a.uid,d=a&&a.request,f=d&&d.collectResourceTiming,b=this.loading[l]=new l6(a);b.abort=this.loadVectorData(a,(C,F)=>{const te=!this.loading[l];if(delete this.loading[l],te||C||!F)return b.status="done",te||(this.loaded[l]=b),n(C);const re=F.rawData,me={};F.expires&&(me.expires=F.expires),F.cacheControl&&(me.cacheControl=F.cacheControl),b.vectorTile=F.vectorTile||new F1(new u0(re));const Se=()=>{b.parse(b.vectorTile,this.layerIndex,this.availableImages,this.actor,(Me,Oe)=>{if(Me||!Oe)return n(Me);const Ne={};if(f){const He=Cn(d);He.length>0&&(Ne.resourceTiming=JSON.parse(JSON.stringify(He)))}n(null,K({rawTileData:re.slice(0)},Oe,me,Ne))})};this.isSpriteLoaded?Se():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Se,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom}):Se()}),this.loaded=this.loaded||{},this.loaded[l]=b})}reloadTile(a,n){const l=this.loaded,d=a.uid,f=this;if(l&&l[d]){const b=l[d];b.showCollisionBoxes=a.showCollisionBoxes,b.enableTerrain=!!a.enableTerrain,b.projection=a.projection,b.tileTransform=Hh(a.tileID.canonical,a.projection);const C=(F,te)=>{const re=b.reloadCallback;re&&(delete b.reloadCallback,b.parse(b.vectorTile,f.layerIndex,this.availableImages,f.actor,re)),n(F,te)};b.status==="parsing"?b.reloadCallback=C:b.status==="done"&&(b.vectorTile?b.parse(b.vectorTile,this.layerIndex,this.availableImages,this.actor,C):C())}}abortTile(a,n){const l=a.uid,d=this.loading[l];d&&(d.abort&&d.abort(),delete this.loading[l]),n()}removeTile(a,n){const l=this.loaded,d=a.uid;l&&l[d]&&delete l[d],n()}},s.WritingMode=er,s.add=Gu,s.addDynamicAttributes=cg,s.adjoint=function(a,n){var l=n[0],d=n[1],f=n[2],b=n[3],C=n[4],F=n[5],te=n[6],re=n[7],me=n[8];return a[0]=C*me-F*re,a[1]=f*re-d*me,a[2]=d*F-f*C,a[3]=F*te-b*me,a[4]=l*me-f*te,a[5]=f*b-l*F,a[6]=b*re-C*te,a[7]=d*te-l*re,a[8]=l*C-d*b,a},s.asyncAll=X,s.bezier=D,s.bindAll=se,s.boundsAttributes=_n,s.bufferConvexPolygon=function(a,n){const l=[];for(let d=0;d<a.length;d++){const f=P(d-1,-1,a.length-1),b=P(d+1,-1,a.length-1),C=a[d],F=a[b],te=a[f].sub(C).unit(),re=F.sub(C).unit(),me=re.angleWithSep(te.x,te.y),Se=te.add(re).unit().mult(-1*n/Math.sin(me/2));l.push(C.add(Se))}return l},s.cacheEntryPossiblyAdded=function(a){pi++,pi>Ze&&(a.getActor().send("enforceCacheSizeLimit",Xe),pi=0)},s.calculateGlobeLabelMatrix=function(a,n){const{x:l,y:d}=a.point,f=rg(l,d,a.worldSize/a._pixelsPerMercatorPixel,0,0);return Rh(f,f,cy(Yu(n)))},s.calculateGlobeMatrix=function(a){const{x:n,y:l}=a.point,{lng:d,lat:f}=a._center;return rg(n,l,a.worldSize,d,f)},s.calculateGlobeMercatorMatrix=function(a){const n=a.pixelsPerMeter,l=n/hc(1,a.center.lat),d=Lc(new Float64Array(16));return Kf(d,d,[a.point.x,a.point.y,0]),Bh(d,d,[l,l,n]),Float32Array.from(d)},s.circumferenceAtLatitude=c1,s.clamp=g,s.clearTileCache=function(a){if(!ft())return;const n=v.caches.delete(xe);a&&n.catch(a).then(()=>a())},s.clipLine=Ov,s.clone=function(a){var n=new Dl(16);return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15],n},s.clone$1=ve,s.collisionCircleLayout=uw,s.config=M,s.conjugate=function(a,n){return a[0]=-n[0],a[1]=-n[1],a[2]=-n[2],a[3]=n[3],a},s.create=function(){var a=new Dl(16);return Dl!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},s.create$1=G_,s.createExpression=Mi,s.createLayout=hn,s.createStyleLayer=function(a){return a.type==="custom"?new Yw(a):new Xw[a.type](a)},s.cross=C1,s.degToRad=$,s.distance=function(a,n){return Math.hypot(n[0]-a[0],n[1]-a[1],n[2]-a[2])},s.div=function(a,n,l){return a[0]=n[0]/l[0],a[1]=n[1]/l[1],a[2]=n[2]/l[2],a},s.dot=Oc,s.earthRadius=Dh,s.ease=m,s.easeCubicInOut=w,s.ecefToLatLng=function([a,n,l]){const d=Math.hypot(a,n,l),f=Math.atan2(a,l),b=.5*Math.PI-Math.acos(-n/d);return new Ir(V(f),V(b))},s.emitValidationErrors=hm,s.endsWith=de,s.enforceCacheSizeLimit=function(a){Ct(),Ie&&Ie.then(n=>{n.keys().then(l=>{for(let d=0;d<l.length-a;d++)n.delete(l[d])})})},s.evaluateSizeForFeature=fu,s.evaluateSizeForZoom=jp,s.evaluateVariableOffset=ty,s.evented=Et,s.exactEquals=function(a,n){return a[0]===n[0]&&a[1]===n[1]&&a[2]===n[2]&&a[3]===n[3]},s.exactEquals$1=function(a,n){return a[0]===n[0]&&a[1]===n[1]&&a[2]===n[2]},s.exported=vn,s.exported$1=B,s.extend=K,s.extend$1=ps,s.fillExtrusionHeightLift=$1,s.filterObject=ne,s.fromMat4=function(a,n){return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[4],a[4]=n[5],a[5]=n[6],a[6]=n[8],a[7]=n[9],a[8]=n[10],a},s.fromQuat=function(a,n){var l=n[0],d=n[1],f=n[2],b=n[3],C=l+l,F=d+d,te=f+f,re=l*C,me=d*C,Se=d*F,Me=f*C,Oe=f*F,Ne=f*te,He=b*C,tt=b*F,_t=b*te;return a[0]=1-Se-Ne,a[1]=me+_t,a[2]=Me-tt,a[3]=0,a[4]=me-_t,a[5]=1-re-Ne,a[6]=Oe+He,a[7]=0,a[8]=Me+tt,a[9]=Oe-He,a[10]=1-re-Se,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},s.fromRotation=function(a,n){var l=Math.sin(n),d=Math.cos(n);return a[0]=d,a[1]=l,a[2]=0,a[3]=-l,a[4]=d,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},s.fromScaling=w1,s.furthestTileCorner=function(a){const n=Math.round((a+45+360)%360/90)%4;return j[n]},s.getAABBPointSquareDist=function(a,n,l){let d=0;for(let f=0;f<2;++f){const b=l?l[f]:0;a[f]>b&&(d+=(a[f]-b)*(a[f]-b)),n[f]<b&&(d+=(b-n[f])*(b-n[f]))}return d},s.getAnchorAlignment=J1,s.getAnchorJustification=iy,s.getBounds=function(a){let n=1/0,l=1/0,d=-1/0,f=-1/0;for(const b of a)n=Math.min(n,b.x),l=Math.min(l,b.y),d=Math.max(d,b.x),f=Math.max(f,b.y);return{min:new U(n,l),max:new U(d,f)}},s.getColumn=We,s.getGridMatrix=function(a,n,l,d){const f=n.getNorth(),b=n.getSouth(),C=n.getWest(),F=n.getEast(),te=1<<a.z,re=F-C,me=f-b,Se=re/Gp,Me=-me/Hp[l],Oe=[0,Se,0,Me,0,0,f,C,0];if(a.z>0){const Ne=180/d;Ip(Oe,Oe,[Ne/re+1,0,0,0,Ne/me+1,0,-.5*Ne/Se,.5*Ne/Me,1])}return Oe[2]=te,Oe[5]=a.x,Oe[8]=a.y,Oe},s.getImage=Gr,s.getJSON=function(a,n){return dt(K(a,{type:"json"}),n)},s.getLatitudinalLod=function(a){const n=80.051129;a=g(a,-80.051129,n)/n*90;const l=Math.pow(Math.abs(Math.sin($(a))),3);return Math.round(l*(Hp.length-1))},s.getMapSessionAPI=Rt,s.getPerformanceMeasurement=Cn,s.getProjection=Xv,s.getRTLTextPluginStatus=Vt,s.getReferrer=Gi,s.getTilePoint=function(a,{x:n,y:l},d=0){return new U(((n-d)*a.scale-a.x)*Bn,(l*a.scale-a.y)*Bn)},s.getTileVec3=function(a,n,l=0){return zh(((n.x-l)*a.scale-a.x)*Bn,(n.y*a.scale-a.y)*Bn,u1(n.z,n.y))},s.getVideo=function(a,n){const l=v.document.createElement("video");l.muted=!0,l.onloadstart=function(){n(null,l)};for(let d=0;d<a.length;d++){const f=v.document.createElement("source");ei(a[d])||(l.crossOrigin="Anonymous"),f.src=a[d],l.appendChild(f)}return{cancel:()=>{}}},s.globeCenterToScreenPoint=function(a){const n=[0,0,0],l=Lc(new Float64Array(16));return Rh(l,a.pixelMatrix,a.globeMatrix),go(n,n,l),new U(n[0],n[1])},s.globeDenormalizeECEF=cy,s.globeECEFOrigin=function(a,n){const l=[0,0,0];return go(l,l,g0(Yu(n.canonical))),go(l,l,a),l},s.globeNormalizeECEF=g0,s.globePixelsToTileUnits=function(a,n){return Bn/(512*Math.pow(2,a))*ng(Yu(n))},s.globePoleMatrixForTile=function(a,n,l){const d=Lc(new Float64Array(16)),f=(n/(1<<a)-.5)*Math.PI*2;return Jf(d,l.globeMatrix,f),Float32Array.from(d)},s.globeTileBounds=Yu,s.globeTiltAtLngLat=uy,s.globeToMercatorTransition=Gh,s.globeUseCustomAntiAliasing=function(a,n,l){const d=Gh(l.zoom),f=a.style.map._antialias,b=!!n.extStandardDerivatives,C=n.extStandardDerivativesForceOff||a.terrain&&a.terrain.exaggeration()>0;return d===0&&!f&&!C&&b},s.identity=Lc,s.identity$1=M1,s.invert=Dm,s.isFullscreen=function(){return!!v.document.fullscreenElement||!!v.document.webkitFullscreenElement},s.isLngLatBehindGlobe=dy,s.isMapAuthenticated=function(a){return Gt.has(a)},s.isMapboxURL=Hi,s.isSafariWithAntialiasingBug=function(a){const n=a.navigator?a.navigator.userAgent:null;return!!nt(a)&&n&&(n.match("Version/15.4")||n.match("Version/15.5")||n.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},s.latFromMercatorY=Ca,s.latLngToECEF=f0,s.len=T2,s.length=Nh,s.length$1=function(a){return Math.hypot(a[0],a[1],a[2],a[3])},s.lngFromMercatorX=pl,s.loadVectorTile=i5,s.makeRequest=dt,s.mapValue=function(a,n,l,d,f){return g((a-n)/(l-n)*(f-d)+d,d,f)},s.mercatorScale=d1,s.mercatorXfromLng=lu,s.mercatorYfromLat=dc,s.mercatorZfromAltitude=hc,s.mul=T1,s.mul$1=w2,s.multiply=Rh,s.multiply$1=Ip,s.multiply$2=S1,s.nextPowerOfTwo=z,s.normalize=Qa,s.normalize$1=S2,s.normalize$2=q_,s.number=Kn,s.ortho=function(a,n,l,d,f,b,C){var F=1/(n-l),te=1/(d-f),re=1/(b-C);return a[0]=-2*F,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*te,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*re,a[11]=0,a[12]=(n+l)*F,a[13]=(f+d)*te,a[14]=(C+b)*re,a[15]=1,a},s.pbf=u0,s.perspective=function(a,n,l,d,f){var b,C=1/Math.tan(n/2);return a[0]=C/l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=C,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,f!=null&&f!==1/0?(a[10]=(f+d)*(b=1/(d-f)),a[14]=2*f*d*b):(a[10]=-1,a[14]=-2*d),a},s.pick=function(a,n){const l={};for(let d=0;d<n.length;d++){const f=n[d];f in a&&(l[f]=a[f])}return l},s.plugin=Qt,s.pointGeometry=U,s.polesInViewport=function(a){const n=Lc(new Float64Array(16));Rh(n,a.pixelMatrix,a.globeMatrix);const l=[0,Bc,0],d=[0,Nc,0];return go(l,l,n),go(d,d,n),[l[0]>0&&l[0]<=a.width&&l[1]>0&&l[1]<=a.height&&!dy(a,new Ir(a.center.lat,90)),d[0]>0&&d[0]<=a.width&&d[1]>0&&d[1]<=a.height&&!dy(a,new Ir(a.center.lat,-90))]},s.polygonContainsPoint=Oh,s.polygonIntersectsBox=v1,s.polygonIntersectsPolygon=km,s.polygonizeBounds=function(a,n,l=0,d=!0){const f=new U(l,l),b=a.sub(f),C=n.add(f),F=[b,new U(C.x,b.y),C,new U(b.x,C.y)];return d&&F.push(b.clone()),F},s.posAttributes=p0,s.postMapLoadEvent=xt,s.postPerformanceEvent=Ut,s.postTurnstileEvent=Ye,s.potpack=Z1,s.prevPowerOfTwo=function(a){return a<=1?1:Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},s.radToDeg=V,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.registerForPluginStateChange=function(a){return a({pluginStatus:gt,pluginURL:ct}),Et.on("pluginStateChange",a),a},s.removeAuthState=function(a){Gt.delete(a)},s.renderColorRamp=e0,s.resample=p1,s.rotateX=b1,s.rotateX$1=X_,s.rotateY=Jf,s.rotateY$1=Z_,s.rotateZ=function(a,n,l){var d=Math.sin(l),f=Math.cos(l),b=n[0],C=n[1],F=n[2],te=n[3],re=n[4],me=n[5],Se=n[6],Me=n[7];return n!==a&&(a[8]=n[8],a[9]=n[9],a[10]=n[10],a[11]=n[11],a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15]),a[0]=b*f+re*d,a[1]=C*f+me*d,a[2]=F*f+Se*d,a[3]=te*f+Me*d,a[4]=re*f-b*d,a[5]=me*f-C*d,a[6]=Se*f-F*d,a[7]=Me*f-te*d,a},s.rotateZ$1=function(a,n,l){l*=.5;var d=n[0],f=n[1],b=n[2],C=n[3],F=Math.sin(l),te=Math.cos(l);return a[0]=d*te+f*F,a[1]=f*te-d*F,a[2]=b*te+C*F,a[3]=C*te-b*F,a},s.scale=Bh,s.scale$1=Y_,s.scale$2=pc,s.scaleAndAdd=Rp,s.set=function(a,n,l,d){return a[0]=n,a[1]=l,a[2]=d,a},s.setCacheLimits=function(a,n){Xe=a,Ze=n},s.setColumn=function(a,n,l){a[4*n+0]=l[0],a[4*n+1]=l[1],a[4*n+2]=l[2],a[4*n+3]=l[3]},s.setRTLTextPlugin=function(a,n,l=!1){if(gt===lt||gt===ht||gt===et)throw new Error("setRTLTextPlugin cannot be called multiple times.");ct=vn.resolveURL(a),gt=lt,rt=n,Ot(),l||ni()},s.smoothstep=x,s.spec=yi,s.squaredLength=function(a){var n=a[0],l=a[1],d=a[2];return n*n+l*l+d*d},s.storeAuthState=function(a,n){n?Gt.add(a):Gt.delete(a)},s.sub=hu,s.subtract=Op,s.symbolSize=dw,s.tileAABB=function(a,n,l,d,f,b,C,F,te){if(te.name==="globe")return Ow(a,n,new Gm(l,d,f));const re=Hh({z:l,x:d,y:f},te);return new el([(b+re.x/re.scale)*n,n*(re.y/re.scale),C],[(b+re.x2/re.scale)*n,n*(re.y2/re.scale),F])},s.tileCornersToBounds=ig,s.tileTransform=Hh,s.transformMat3=function(a,n,l){var d=n[0],f=n[1],b=n[2];return a[0]=d*l[0]+f*l[3]+b*l[6],a[1]=d*l[1]+f*l[4]+b*l[7],a[2]=d*l[2]+f*l[5]+b*l[8],a},s.transformMat4=go,s.transformMat4$1=Jd,s.transformQuat=W_,s.transitionTileAABBinECEF=$v,s.translate=Kf,s.transpose=function(a,n){if(a===n){var l=n[1],d=n[2],f=n[5];a[1]=n[3],a[2]=n[6],a[3]=l,a[5]=n[7],a[6]=d,a[7]=f}else a[0]=n[0],a[1]=n[3],a[2]=n[6],a[3]=n[1],a[4]=n[4],a[5]=n[7],a[6]=n[2],a[7]=n[5],a[8]=n[8];return a},s.triggerPluginCompletionEvent=wt,s.uniqueId=pe,s.updateGlobeVertexNormal=function(a,n,l,d,f){const b=5*n+2;a.float32[b+0]=l,a.float32[b+1]=d,a.float32[b+2]=f},s.validateCustomStyleLayer=function(a){const n=[],l=a.id;return l===void 0&&n.push({message:`layers.${l}: missing required property "id"`}),a.render===void 0&&n.push({message:`layers.${l}: missing required method "render"`}),a.renderingMode&&a.renderingMode!=="2d"&&a.renderingMode!=="3d"&&n.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),n},s.validateFilter=a=>ou(Nu(a)),s.validateFog=a=>ou(Eh(a)),s.validateLayer=a=>ou(wp(a)),s.validateLight=a=>ou(it(a)),s.validateSource=a=>ou(Wd(a)),s.validateStyle=Ff,s.validateTerrain=a=>ou(su(a)),s.values=Y,s.vectorTile=zm,s.version=I,s.warnOnce=oe,s.window=v,s.wrap=P}),u(["./shared"],function(s){function v(mt){if(typeof mt=="number"||typeof mt=="boolean"||typeof mt=="string"||mt==null)return JSON.stringify(mt);if(Array.isArray(mt)){let Ye="[";for(const ut of mt)Ye+=`${v(ut)},`;return`${Ye}]`}let ze="{";for(const Ye of Object.keys(mt).sort())ze+=`${Ye}:${v(mt[Ye])},`;return`${ze}}`}function I(mt){let ze="";for(const Ye of s.refProperties)ze+=`/${v(mt[Ye])}`;return ze}class J{constructor(ze){this.keyCache={},ze&&this.replace(ze)}replace(ze){this._layerConfigs={},this._layers={},this.update(ze,[])}update(ze,Ye){for(const xt of ze)this._layerConfigs[xt.id]=xt,(this._layers[xt.id]=s.createStyleLayer(xt)).compileFilter(),this.keyCache[xt.id]&&delete this.keyCache[xt.id];for(const xt of Ye)delete this.keyCache[xt],delete this._layerConfigs[xt],delete this._layers[xt];this.familiesBySource={};const ut=function(xt,vt){const Ut={};for(let Rt=0;Rt<xt.length;Rt++){const Gt=vt&&vt[xt[Rt].id]||I(xt[Rt]);vt&&(vt[xt[Rt].id]=Gt);let bi=Ut[Gt];bi||(bi=Ut[Gt]=[]),bi.push(xt[Rt])}const kt=[];for(const Rt in Ut)kt.push(Ut[Rt]);return kt}(s.values(this._layerConfigs),this.keyCache);for(const xt of ut){const vt=xt.map(Xi=>this._layers[Xi.id]),Ut=vt[0];if(Ut.visibility==="none")continue;const kt=Ut.source||"";let Rt=this.familiesBySource[kt];Rt||(Rt=this.familiesBySource[kt]={});const Gt=Ut.sourceLayer||"_geojsonTileLayer";let bi=Rt[Gt];bi||(bi=Rt[Gt]=[]),bi.push(vt)}}}class M{loadTile(ze,Ye){const{uid:ut,encoding:xt,rawImageData:vt,padding:Ut,buildQuadTree:kt}=ze,Rt=s.window.ImageBitmap&&vt instanceof s.window.ImageBitmap?this.getImageData(vt,Ut):vt;Ye(null,new s.DEMData(ut,Rt,xt,Ut<1,kt))}getImageData(ze,Ye){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ze.width,ze.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=ze.width,this.offscreenCanvas.height=ze.height,this.offscreenCanvasContext.drawImage(ze,0,0,ze.width,ze.height);const ut=this.offscreenCanvasContext.getImageData(-Ye,-Ye,ze.width+2*Ye,ze.height+2*Ye);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ut}}var B=function mt(ze,Ye){var ut,xt=ze&&ze.type;if(xt==="FeatureCollection")for(ut=0;ut<ze.features.length;ut++)mt(ze.features[ut],Ye);else if(xt==="GeometryCollection")for(ut=0;ut<ze.geometries.length;ut++)mt(ze.geometries[ut],Ye);else if(xt==="Feature")mt(ze.geometry,Ye);else if(xt==="Polygon")W(ze.coordinates,Ye);else if(xt==="MultiPolygon")for(ut=0;ut<ze.coordinates.length;ut++)W(ze.coordinates[ut],Ye);return ze};function W(mt,ze){if(mt.length!==0){O(mt[0],ze);for(var Ye=1;Ye<mt.length;Ye++)O(mt[Ye],!ze)}}function O(mt,ze){for(var Ye=0,ut=0,xt=0,vt=mt.length,Ut=vt-1;xt<vt;Ut=xt++){var kt=(mt[xt][0]-mt[Ut][0])*(mt[Ut][1]+mt[xt][1]),Rt=Ye+kt;ut+=Math.abs(Ye)>=Math.abs(kt)?Ye-Rt+kt:kt-Rt+Ye,Ye=Rt}Ye+ut>=0!=!!ze&&mt.reverse()}const L=s.VectorTileFeature.prototype.toGeoJSON;class G{constructor(ze){this._feature=ze,this.extent=s.EXTENT,this.type=ze.type,this.properties=ze.tags,"id"in ze&&!isNaN(ze.id)&&(this.id=parseInt(ze.id,10))}loadGeometry(){if(this._feature.type===1){const ze=[];for(const Ye of this._feature.geometry)ze.push([new s.pointGeometry(Ye[0],Ye[1])]);return ze}{const ze=[];for(const Ye of this._feature.geometry){const ut=[];for(const xt of Ye)ut.push(new s.pointGeometry(xt[0],xt[1]));ze.push(ut)}return ze}}toGeoJSON(ze,Ye,ut){return L.call(this,ze,Ye,ut)}}class k{constructor(ze){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=ze.length,this._features=ze}feature(ze){return new G(this._features[ze])}}var S={exports:{}},A=s.pointGeometry,H=s.vectorTile.VectorTileFeature,U=E;function E(mt,ze){this.options=ze||{},this.features=mt,this.length=mt.length}function ie(mt,ze){this.id=typeof mt.id=="number"?mt.id:void 0,this.type=mt.type,this.rawGeometry=mt.type===1?[mt.geometry]:mt.geometry,this.properties=mt.tags,this.extent=ze||4096}E.prototype.feature=function(mt){return new ie(this.features[mt],this.options.extent)},ie.prototype.loadGeometry=function(){var mt=this.rawGeometry;this.geometry=[];for(var ze=0;ze<mt.length;ze++){for(var Ye=mt[ze],ut=[],xt=0;xt<Ye.length;xt++)ut.push(new A(Ye[xt][0],Ye[xt][1]));this.geometry.push(ut)}return this.geometry},ie.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var mt=this.geometry,ze=1/0,Ye=-1/0,ut=1/0,xt=-1/0,vt=0;vt<mt.length;vt++)for(var Ut=mt[vt],kt=0;kt<Ut.length;kt++){var Rt=Ut[kt];ze=Math.min(ze,Rt.x),Ye=Math.max(Ye,Rt.x),ut=Math.min(ut,Rt.y),xt=Math.max(xt,Rt.y)}return[ze,ut,Ye,xt]},ie.prototype.toGeoJSON=H.prototype.toGeoJSON;var ee=s.pbf,$=U;function V(mt){var ze=new ee;return function(Ye,ut){for(var xt in Ye.layers)ut.writeMessage(3,j,Ye.layers[xt])}(mt,ze),ze.finish()}function j(mt,ze){var Ye;ze.writeVarintField(15,mt.version||1),ze.writeStringField(1,mt.name||""),ze.writeVarintField(5,mt.extent||4096);var ut={keys:[],values:[],keycache:{},valuecache:{}};for(Ye=0;Ye<mt.length;Ye++)ut.feature=mt.feature(Ye),ze.writeMessage(2,w,ut);var xt=ut.keys;for(Ye=0;Ye<xt.length;Ye++)ze.writeStringField(3,xt[Ye]);var vt=ut.values;for(Ye=0;Ye<vt.length;Ye++)ze.writeMessage(4,P,vt[Ye])}function w(mt,ze){var Ye=mt.feature;Ye.id!==void 0&&ze.writeVarintField(1,Ye.id),ze.writeMessage(2,D,mt),ze.writeVarintField(3,Ye.type),ze.writeMessage(4,x,Ye)}function D(mt,ze){var Ye=mt.feature,ut=mt.keys,xt=mt.values,vt=mt.keycache,Ut=mt.valuecache;for(var kt in Ye.properties){var Rt=Ye.properties[kt],Gt=vt[kt];if(Rt!==null){Gt===void 0&&(ut.push(kt),vt[kt]=Gt=ut.length-1),ze.writeVarint(Gt);var bi=typeof Rt;bi!=="string"&&bi!=="boolean"&&bi!=="number"&&(Rt=JSON.stringify(Rt));var Xi=bi+":"+Rt,Ii=Ut[Xi];Ii===void 0&&(xt.push(Rt),Ut[Xi]=Ii=xt.length-1),ze.writeVarint(Ii)}}}function m(mt,ze){return(ze<<3)+(7&mt)}function g(mt){return mt<<1^mt>>31}function x(mt,ze){for(var Ye=mt.loadGeometry(),ut=mt.type,xt=0,vt=0,Ut=Ye.length,kt=0;kt<Ut;kt++){var Rt=Ye[kt],Gt=1;ut===1&&(Gt=Rt.length),ze.writeVarint(m(1,Gt));for(var bi=ut===3?Rt.length-1:Rt.length,Xi=0;Xi<bi;Xi++){Xi===1&&ut!==1&&ze.writeVarint(m(2,bi-1));var Ii=Rt[Xi].x-xt,Mn=Rt[Xi].y-vt;ze.writeVarint(g(Ii)),ze.writeVarint(g(Mn)),xt+=Ii,vt+=Mn}ut===3&&ze.writeVarint(m(7,1))}}function P(mt,ze){var Ye=typeof mt;Ye==="string"?ze.writeStringField(1,mt):Ye==="boolean"?ze.writeBooleanField(7,mt):Ye==="number"&&(mt%1!=0?ze.writeDoubleField(3,mt):mt<0?ze.writeSVarintField(6,mt):ze.writeVarintField(5,mt))}function X(mt,ze,Ye,ut,xt,vt){if(xt-ut<=Ye)return;const Ut=ut+xt>>1;Y(mt,ze,Ut,ut,xt,vt%2),X(mt,ze,Ye,ut,Ut-1,vt+1),X(mt,ze,Ye,Ut+1,xt,vt+1)}function Y(mt,ze,Ye,ut,xt,vt){for(;xt>ut;){if(xt-ut>600){const Gt=xt-ut+1,bi=Ye-ut+1,Xi=Math.log(Gt),Ii=.5*Math.exp(2*Xi/3),Mn=.5*Math.sqrt(Xi*Ii*(Gt-Ii)/Gt)*(bi-Gt/2<0?-1:1);Y(mt,ze,Ye,Math.max(ut,Math.floor(Ye-bi*Ii/Gt+Mn)),Math.min(xt,Math.floor(Ye+(Gt-bi)*Ii/Gt+Mn)),vt)}const Ut=ze[2*Ye+vt];let kt=ut,Rt=xt;for(K(mt,ze,ut,Ye),ze[2*xt+vt]>Ut&&K(mt,ze,ut,xt);kt<Rt;){for(K(mt,ze,kt,Rt),kt++,Rt--;ze[2*kt+vt]<Ut;)kt++;for(;ze[2*Rt+vt]>Ut;)Rt--}ze[2*ut+vt]===Ut?K(mt,ze,ut,Rt):(Rt++,K(mt,ze,Rt,xt)),Rt<=Ye&&(ut=Rt+1),Ye<=Rt&&(xt=Rt-1)}}function K(mt,ze,Ye,ut){le(mt,Ye,ut),le(ze,2*Ye,2*ut),le(ze,2*Ye+1,2*ut+1)}function le(mt,ze,Ye){const ut=mt[ze];mt[ze]=mt[Ye],mt[Ye]=ut}function pe(mt,ze,Ye,ut){const xt=mt-Ye,vt=ze-ut;return xt*xt+vt*vt}S.exports=V,S.exports.fromVectorTileJs=V,S.exports.fromGeojsonVt=function(mt,ze){ze=ze||{};var Ye={};for(var ut in mt)Ye[ut]=new $(mt[ut].features,ze),Ye[ut].name=ut,Ye[ut].version=ze.version,Ye[ut].extent=ze.extent;return V({layers:Ye})},S.exports.GeoJSONWrapper=$;const fe=mt=>mt[0],z=mt=>mt[1];class Q{constructor(ze,Ye=fe,ut=z,xt=64,vt=Float64Array){this.nodeSize=xt,this.points=ze;const Ut=ze.length<65536?Uint16Array:Uint32Array,kt=this.ids=new Ut(ze.length),Rt=this.coords=new vt(2*ze.length);for(let Gt=0;Gt<ze.length;Gt++)kt[Gt]=Gt,Rt[2*Gt]=Ye(ze[Gt]),Rt[2*Gt+1]=ut(ze[Gt]);X(kt,Rt,xt,0,kt.length-1,0)}range(ze,Ye,ut,xt){return function(vt,Ut,kt,Rt,Gt,bi,Xi){const Ii=[0,vt.length-1,0],Mn=[];let Cn,pn;for(;Ii.length;){const qi=Ii.pop(),cr=Ii.pop(),Dr=Ii.pop();if(cr-Dr<=Xi){for(let Rr=Dr;Rr<=cr;Rr++)Cn=Ut[2*Rr],pn=Ut[2*Rr+1],Cn>=kt&&Cn<=Gt&&pn>=Rt&&pn<=bi&&Mn.push(vt[Rr]);continue}const vn=Math.floor((Dr+cr)/2);Cn=Ut[2*vn],pn=Ut[2*vn+1],Cn>=kt&&Cn<=Gt&&pn>=Rt&&pn<=bi&&Mn.push(vt[vn]);const Xr=(qi+1)%2;(qi===0?kt<=Cn:Rt<=pn)&&(Ii.push(Dr),Ii.push(vn-1),Ii.push(Xr)),(qi===0?Gt>=Cn:bi>=pn)&&(Ii.push(vn+1),Ii.push(cr),Ii.push(Xr))}return Mn}(this.ids,this.coords,ze,Ye,ut,xt,this.nodeSize)}within(ze,Ye,ut){return function(xt,vt,Ut,kt,Rt,Gt){const bi=[0,xt.length-1,0],Xi=[],Ii=Rt*Rt;for(;bi.length;){const Mn=bi.pop(),Cn=bi.pop(),pn=bi.pop();if(Cn-pn<=Gt){for(let Xr=pn;Xr<=Cn;Xr++)pe(vt[2*Xr],vt[2*Xr+1],Ut,kt)<=Ii&&Xi.push(xt[Xr]);continue}const qi=Math.floor((pn+Cn)/2),cr=vt[2*qi],Dr=vt[2*qi+1];pe(cr,Dr,Ut,kt)<=Ii&&Xi.push(xt[qi]);const vn=(Mn+1)%2;(Mn===0?Ut-Rt<=cr:kt-Rt<=Dr)&&(bi.push(pn),bi.push(qi-1),bi.push(vn)),(Mn===0?Ut+Rt>=cr:kt+Rt>=Dr)&&(bi.push(qi+1),bi.push(Cn),bi.push(vn))}return Xi}(this.ids,this.coords,ze,Ye,ut,this.nodeSize)}}const se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:mt=>mt},de=Math.fround||(Ce=new Float32Array(1),mt=>(Ce[0]=+mt,Ce[0]));var Ce;class ne{constructor(ze){this.options=$e(Object.create(se),ze),this.trees=new Array(this.options.maxZoom+1)}load(ze){const{log:Ye,minZoom:ut,maxZoom:xt,nodeSize:vt}=this.options;Ye&&console.time("total time");const Ut=`prepare ${ze.length} points`;Ye&&console.time(Ut),this.points=ze;let kt=[];for(let Rt=0;Rt<ze.length;Rt++)ze[Rt].geometry&&kt.push(_e(ze[Rt],Rt));this.trees[xt+1]=new Q(kt,nt,Qe,vt,Float32Array),Ye&&console.timeEnd(Ut);for(let Rt=xt;Rt>=ut;Rt--){const Gt=+Date.now();kt=this._cluster(kt,Rt),this.trees[Rt]=new Q(kt,nt,Qe,vt,Float32Array),Ye&&console.log("z%d: %d clusters in %dms",Rt,kt.length,+Date.now()-Gt)}return Ye&&console.timeEnd("total time"),this}getClusters(ze,Ye){let ut=((ze[0]+180)%360+360)%360-180;const xt=Math.max(-90,Math.min(90,ze[1]));let vt=ze[2]===180?180:((ze[2]+180)%360+360)%360-180;const Ut=Math.max(-90,Math.min(90,ze[3]));if(ze[2]-ze[0]>=360)ut=-180,vt=180;else if(ut>vt){const bi=this.getClusters([ut,xt,180,Ut],Ye),Xi=this.getClusters([-180,xt,vt,Ut],Ye);return bi.concat(Xi)}const kt=this.trees[this._limitZoom(Ye)],Rt=kt.range(Te(ut),Re(Ut),Te(vt),Re(xt)),Gt=[];for(const bi of Rt){const Xi=kt.points[bi];Gt.push(Xi.numPoints?oe(Xi):this.points[Xi.index])}return Gt}getChildren(ze){const Ye=this._getOriginId(ze),ut=this._getOriginZoom(ze),xt="No cluster with the specified id.",vt=this.trees[ut];if(!vt)throw new Error(xt);const Ut=vt.points[Ye];if(!Ut)throw new Error(xt);const kt=this.options.radius/(this.options.extent*Math.pow(2,ut-1)),Rt=vt.within(Ut.x,Ut.y,kt),Gt=[];for(const bi of Rt){const Xi=vt.points[bi];Xi.parentId===ze&&Gt.push(Xi.numPoints?oe(Xi):this.points[Xi.index])}if(Gt.length===0)throw new Error(xt);return Gt}getLeaves(ze,Ye,ut){const xt=[];return this._appendLeaves(xt,ze,Ye=Ye||10,ut=ut||0,0),xt}getTile(ze,Ye,ut){const xt=this.trees[this._limitZoom(ze)],vt=Math.pow(2,ze),{extent:Ut,radius:kt}=this.options,Rt=kt/Ut,Gt=(ut-Rt)/vt,bi=(ut+1+Rt)/vt,Xi={features:[]};return this._addTileFeatures(xt.range((Ye-Rt)/vt,Gt,(Ye+1+Rt)/vt,bi),xt.points,Ye,ut,vt,Xi),Ye===0&&this._addTileFeatures(xt.range(1-Rt/vt,Gt,1,bi),xt.points,vt,ut,vt,Xi),Ye===vt-1&&this._addTileFeatures(xt.range(0,Gt,Rt/vt,bi),xt.points,-1,ut,vt,Xi),Xi.features.length?Xi:null}getClusterExpansionZoom(ze){let Ye=this._getOriginZoom(ze)-1;for(;Ye<=this.options.maxZoom;){const ut=this.getChildren(ze);if(Ye++,ut.length!==1)break;ze=ut[0].properties.cluster_id}return Ye}_appendLeaves(ze,Ye,ut,xt,vt){const Ut=this.getChildren(Ye);for(const kt of Ut){const Rt=kt.properties;if(Rt&&Rt.cluster?vt+Rt.point_count<=xt?vt+=Rt.point_count:vt=this._appendLeaves(ze,Rt.cluster_id,ut,xt,vt):vt<xt?vt++:ze.push(kt),ze.length===ut)break}return vt}_addTileFeatures(ze,Ye,ut,xt,vt,Ut){for(const kt of ze){const Rt=Ye[kt],Gt=Rt.numPoints;let bi,Xi,Ii;if(Gt)bi=ge(Rt),Xi=Rt.x,Ii=Rt.y;else{const pn=this.points[Rt.index];bi=pn.properties,Xi=Te(pn.geometry.coordinates[0]),Ii=Re(pn.geometry.coordinates[1])}const Mn={type:1,geometry:[[Math.round(this.options.extent*(Xi*vt-ut)),Math.round(this.options.extent*(Ii*vt-xt))]],tags:bi};let Cn;Gt?Cn=Rt.id:this.options.generateId?Cn=Rt.index:this.points[Rt.index].id&&(Cn=this.points[Rt.index].id),Cn!==void 0&&(Mn.id=Cn),Ut.features.push(Mn)}}_limitZoom(ze){return Math.max(this.options.minZoom,Math.min(Math.floor(+ze),this.options.maxZoom+1))}_cluster(ze,Ye){const ut=[],{radius:xt,extent:vt,reduce:Ut,minPoints:kt}=this.options,Rt=xt/(vt*Math.pow(2,Ye));for(let Gt=0;Gt<ze.length;Gt++){const bi=ze[Gt];if(bi.zoom<=Ye)continue;bi.zoom=Ye;const Xi=this.trees[Ye+1],Ii=Xi.within(bi.x,bi.y,Rt),Mn=bi.numPoints||1;let Cn=Mn;for(const pn of Ii){const qi=Xi.points[pn];qi.zoom>Ye&&(Cn+=qi.numPoints||1)}if(Cn>Mn&&Cn>=kt){let pn=bi.x*Mn,qi=bi.y*Mn,cr=Ut&&Mn>1?this._map(bi,!0):null;const Dr=(Gt<<5)+(Ye+1)+this.points.length;for(const vn of Ii){const Xr=Xi.points[vn];if(Xr.zoom<=Ye)continue;Xr.zoom=Ye;const Rr=Xr.numPoints||1;pn+=Xr.x*Rr,qi+=Xr.y*Rr,Xr.parentId=Dr,Ut&&(cr||(cr=this._map(bi,!0)),Ut(cr,this._map(Xr)))}bi.parentId=Dr,ut.push(ve(pn/Cn,qi/Cn,Dr,Cn,cr))}else if(ut.push(bi),Cn>1)for(const pn of Ii){const qi=Xi.points[pn];qi.zoom<=Ye||(qi.zoom=Ye,ut.push(qi))}}return ut}_getOriginId(ze){return ze-this.points.length>>5}_getOriginZoom(ze){return(ze-this.points.length)%32}_map(ze,Ye){if(ze.numPoints)return Ye?$e({},ze.properties):ze.properties;const ut=this.points[ze.index].properties,xt=this.options.map(ut);return Ye&&xt===ut?$e({},xt):xt}}function ve(mt,ze,Ye,ut,xt){return{x:de(mt),y:de(ze),zoom:1/0,id:Ye,parentId:-1,numPoints:ut,properties:xt}}function _e(mt,ze){const[Ye,ut]=mt.geometry.coordinates;return{x:de(Te(Ye)),y:de(Re(ut)),zoom:1/0,index:ze,parentId:-1}}function oe(mt){return{type:"Feature",id:mt.id,properties:ge(mt),geometry:{type:"Point",coordinates:[(ze=mt.x,360*(ze-.5)),Le(mt.y)]}};var ze}function ge(mt){const ze=mt.numPoints,Ye=ze>=1e4?`${Math.round(ze/1e3)}k`:ze>=1e3?Math.round(ze/100)/10+"k":ze;return $e($e({},mt.properties),{cluster:!0,cluster_id:mt.id,point_count:ze,point_count_abbreviated:Ye})}function Te(mt){return mt/360+.5}function Re(mt){const ze=Math.sin(mt*Math.PI/180),Ye=.5-.25*Math.log((1+ze)/(1-ze))/Math.PI;return Ye<0?0:Ye>1?1:Ye}function Le(mt){const ze=(180-360*mt)*Math.PI/180;return 360*Math.atan(Math.exp(ze))/Math.PI-90}function $e(mt,ze){for(const Ye in ze)mt[Ye]=ze[Ye];return mt}function nt(mt){return mt.x}function Qe(mt){return mt.y}function We(mt,ze,Ye,ut){for(var xt,vt=ut,Ut=Ye-ze>>1,kt=Ye-ze,Rt=mt[ze],Gt=mt[ze+1],bi=mt[Ye],Xi=mt[Ye+1],Ii=ze+3;Ii<Ye;Ii+=3){var Mn=xe(mt[Ii],mt[Ii+1],Rt,Gt,bi,Xi);if(Mn>vt)xt=Ii,vt=Mn;else if(Mn===vt){var Cn=Math.abs(Ii-Ut);Cn<kt&&(xt=Ii,kt=Cn)}}vt>ut&&(xt-ze>3&&We(mt,ze,xt,ut),mt[xt+2]=vt,Ye-xt>3&&We(mt,xt,Ye,ut))}function xe(mt,ze,Ye,ut,xt,vt){var Ut=xt-Ye,kt=vt-ut;if(Ut!==0||kt!==0){var Rt=((mt-Ye)*Ut+(ze-ut)*kt)/(Ut*Ut+kt*kt);Rt>1?(Ye=xt,ut=vt):Rt>0&&(Ye+=Ut*Rt,ut+=kt*Rt)}return(Ut=mt-Ye)*Ut+(kt=ze-ut)*kt}function Ie(mt,ze,Ye,ut){var xt={id:mt===void 0?null:mt,type:ze,geometry:Ye,tags:ut,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(vt){var Ut=vt.geometry,kt=vt.type;if(kt==="Point"||kt==="MultiPoint"||kt==="LineString")Be(vt,Ut);else if(kt==="Polygon"||kt==="MultiLineString")for(var Rt=0;Rt<Ut.length;Rt++)Be(vt,Ut[Rt]);else if(kt==="MultiPolygon")for(Rt=0;Rt<Ut.length;Rt++)for(var Gt=0;Gt<Ut[Rt].length;Gt++)Be(vt,Ut[Rt][Gt])}(xt),xt}function Be(mt,ze){for(var Ye=0;Ye<ze.length;Ye+=3)mt.minX=Math.min(mt.minX,ze[Ye]),mt.minY=Math.min(mt.minY,ze[Ye+1]),mt.maxX=Math.max(mt.maxX,ze[Ye]),mt.maxY=Math.max(mt.maxY,ze[Ye+1])}function Xe(mt,ze,Ye,ut){if(ze.geometry){var xt=ze.geometry.coordinates,vt=ze.geometry.type,Ut=Math.pow(Ye.tolerance/((1<<Ye.maxZoom)*Ye.extent),2),kt=[],Rt=ze.id;if(Ye.promoteId?Rt=ze.properties[Ye.promoteId]:Ye.generateId&&(Rt=ut||0),vt==="Point")Ze(xt,kt);else if(vt==="MultiPoint")for(var Gt=0;Gt<xt.length;Gt++)Ze(xt[Gt],kt);else if(vt==="LineString")ft(xt,kt,Ut,!1);else if(vt==="MultiLineString"){if(Ye.lineMetrics){for(Gt=0;Gt<xt.length;Gt++)ft(xt[Gt],kt=[],Ut,!1),mt.push(Ie(Rt,"LineString",kt,ze.properties));return}Ct(xt,kt,Ut,!1)}else if(vt==="Polygon")Ct(xt,kt,Ut,!0);else{if(vt!=="MultiPolygon"){if(vt==="GeometryCollection"){for(Gt=0;Gt<ze.geometry.geometries.length;Gt++)Xe(mt,{id:Rt,geometry:ze.geometry.geometries[Gt],properties:ze.properties},Ye,ut);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Gt=0;Gt<xt.length;Gt++){var bi=[];Ct(xt[Gt],bi,Ut,!0),kt.push(bi)}}mt.push(Ie(Rt,vt,kt,ze.properties))}}function Ze(mt,ze){ze.push(Nt(mt[0])),ze.push(pi(mt[1])),ze.push(0)}function ft(mt,ze,Ye,ut){for(var xt,vt,Ut=0,kt=0;kt<mt.length;kt++){var Rt=Nt(mt[kt][0]),Gt=pi(mt[kt][1]);ze.push(Rt),ze.push(Gt),ze.push(0),kt>0&&(Ut+=ut?(xt*Gt-Rt*vt)/2:Math.sqrt(Math.pow(Rt-xt,2)+Math.pow(Gt-vt,2))),xt=Rt,vt=Gt}var bi=ze.length-3;ze[2]=1,We(ze,0,bi,Ye),ze[bi+2]=1,ze.size=Math.abs(Ut),ze.start=0,ze.end=ze.size}function Ct(mt,ze,Ye,ut){for(var xt=0;xt<mt.length;xt++){var vt=[];ft(mt[xt],vt,Ye,ut),ze.push(vt)}}function Nt(mt){return mt/360+.5}function pi(mt){var ze=Math.sin(mt*Math.PI/180),Ye=.5-.25*Math.log((1+ze)/(1-ze))/Math.PI;return Ye<0?0:Ye>1?1:Ye}function qt(mt,ze,Ye,ut,xt,vt,Ut,kt){if(ut/=ze,vt>=(Ye/=ze)&&Ut<ut)return mt;if(Ut<Ye||vt>=ut)return null;for(var Rt=[],Gt=0;Gt<mt.length;Gt++){var bi=mt[Gt],Xi=bi.geometry,Ii=bi.type,Mn=xt===0?bi.minX:bi.minY,Cn=xt===0?bi.maxX:bi.maxY;if(Mn>=Ye&&Cn<ut)Rt.push(bi);else if(!(Cn<Ye||Mn>=ut)){var pn=[];if(Ii==="Point"||Ii==="MultiPoint")fi(Xi,pn,Ye,ut,xt);else if(Ii==="LineString")Gi(Xi,pn,Ye,ut,xt,!1,kt.lineMetrics);else if(Ii==="MultiLineString")Lt(Xi,pn,Ye,ut,xt,!1);else if(Ii==="Polygon")Lt(Xi,pn,Ye,ut,xt,!0);else if(Ii==="MultiPolygon")for(var qi=0;qi<Xi.length;qi++){var cr=[];Lt(Xi[qi],cr,Ye,ut,xt,!0),cr.length&&pn.push(cr)}if(pn.length){if(kt.lineMetrics&&Ii==="LineString"){for(qi=0;qi<pn.length;qi++)Rt.push(Ie(bi.id,Ii,pn[qi],bi.tags));continue}Ii!=="LineString"&&Ii!=="MultiLineString"||(pn.length===1?(Ii="LineString",pn=pn[0]):Ii="MultiLineString"),Ii!=="Point"&&Ii!=="MultiPoint"||(Ii=pn.length===3?"Point":"MultiPoint"),Rt.push(Ie(bi.id,Ii,pn,bi.tags))}}}return Rt.length?Rt:null}function fi(mt,ze,Ye,ut,xt){for(var vt=0;vt<mt.length;vt+=3){var Ut=mt[vt+xt];Ut>=Ye&&Ut<=ut&&(ze.push(mt[vt]),ze.push(mt[vt+1]),ze.push(mt[vt+2]))}}function Gi(mt,ze,Ye,ut,xt,vt,Ut){for(var kt,Rt,Gt=dt(mt),bi=xt===0?ki:on,Xi=mt.start,Ii=0;Ii<mt.length-3;Ii+=3){var Mn=mt[Ii],Cn=mt[Ii+1],pn=mt[Ii+2],qi=mt[Ii+3],cr=mt[Ii+4],Dr=xt===0?Mn:Cn,vn=xt===0?qi:cr,Xr=!1;Ut&&(kt=Math.sqrt(Math.pow(Mn-qi,2)+Math.pow(Cn-cr,2))),Dr<Ye?vn>Ye&&(Rt=bi(Gt,Mn,Cn,qi,cr,Ye),Ut&&(Gt.start=Xi+kt*Rt)):Dr>ut?vn<ut&&(Rt=bi(Gt,Mn,Cn,qi,cr,ut),Ut&&(Gt.start=Xi+kt*Rt)):ei(Gt,Mn,Cn,pn),vn<Ye&&Dr>=Ye&&(Rt=bi(Gt,Mn,Cn,qi,cr,Ye),Xr=!0),vn>ut&&Dr<=ut&&(Rt=bi(Gt,Mn,Cn,qi,cr,ut),Xr=!0),!vt&&Xr&&(Ut&&(Gt.end=Xi+kt*Rt),ze.push(Gt),Gt=dt(mt)),Ut&&(Xi+=kt)}var Rr=mt.length-3;Mn=mt[Rr],Cn=mt[Rr+1],pn=mt[Rr+2],(Dr=xt===0?Mn:Cn)>=Ye&&Dr<=ut&&ei(Gt,Mn,Cn,pn),Rr=Gt.length-3,vt&&Rr>=3&&(Gt[Rr]!==Gt[0]||Gt[Rr+1]!==Gt[1])&&ei(Gt,Gt[0],Gt[1],Gt[2]),Gt.length&&ze.push(Gt)}function dt(mt){var ze=[];return ze.size=mt.size,ze.start=mt.start,ze.end=mt.end,ze}function Lt(mt,ze,Ye,ut,xt,vt){for(var Ut=0;Ut<mt.length;Ut++)Gi(mt[Ut],ze,Ye,ut,xt,vt,!1)}function ei(mt,ze,Ye,ut){mt.push(ze),mt.push(Ye),mt.push(ut)}function ki(mt,ze,Ye,ut,xt,vt){var Ut=(vt-ze)/(ut-ze);return mt.push(vt),mt.push(Ye+(xt-Ye)*Ut),mt.push(1),Ut}function on(mt,ze,Ye,ut,xt,vt){var Ut=(vt-Ye)/(xt-Ye);return mt.push(ze+(ut-ze)*Ut),mt.push(vt),mt.push(1),Ut}function Rn(mt,ze){for(var Ye=[],ut=0;ut<mt.length;ut++){var xt,vt=mt[ut],Ut=vt.type;if(Ut==="Point"||Ut==="MultiPoint"||Ut==="LineString")xt=Gr(vt.geometry,ze);else if(Ut==="MultiLineString"||Ut==="Polygon"){xt=[];for(var kt=0;kt<vt.geometry.length;kt++)xt.push(Gr(vt.geometry[kt],ze))}else if(Ut==="MultiPolygon")for(xt=[],kt=0;kt<vt.geometry.length;kt++){for(var Rt=[],Gt=0;Gt<vt.geometry[kt].length;Gt++)Rt.push(Gr(vt.geometry[kt][Gt],ze));xt.push(Rt)}Ye.push(Ie(vt.id,Ut,xt,vt.tags))}return Ye}function Gr(mt,ze){var Ye=[];Ye.size=mt.size,mt.start!==void 0&&(Ye.start=mt.start,Ye.end=mt.end);for(var ut=0;ut<mt.length;ut+=3)Ye.push(mt[ut]+ze,mt[ut+1],mt[ut+2]);return Ye}function di(mt,ze){if(mt.transformed)return mt;var Ye,ut,xt,vt=1<<mt.z,Ut=mt.x,kt=mt.y;for(Ye=0;Ye<mt.features.length;Ye++){var Rt=mt.features[Ye],Gt=Rt.geometry,bi=Rt.type;if(Rt.geometry=[],bi===1)for(ut=0;ut<Gt.length;ut+=2)Rt.geometry.push(Hi(Gt[ut],Gt[ut+1],ze,vt,Ut,kt));else for(ut=0;ut<Gt.length;ut++){var Xi=[];for(xt=0;xt<Gt[ut].length;xt+=2)Xi.push(Hi(Gt[ut][xt],Gt[ut][xt+1],ze,vt,Ut,kt));Rt.geometry.push(Xi)}}return mt.transformed=!0,mt}function Hi(mt,ze,Ye,ut,xt,vt){return[Math.round(Ye*(mt*ut-xt)),Math.round(Ye*(ze*ut-vt))]}function Yi(mt,ze,Ye,ut,xt){for(var vt=ze===xt.maxZoom?0:xt.tolerance/((1<<ze)*xt.extent),Ut={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ye,y:ut,z:ze,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},kt=0;kt<mt.length;kt++){Ut.numFeatures++,fr(Ut,mt[kt],vt,xt);var Rt=mt[kt].minX,Gt=mt[kt].minY,bi=mt[kt].maxX,Xi=mt[kt].maxY;Rt<Ut.minX&&(Ut.minX=Rt),Gt<Ut.minY&&(Ut.minY=Gt),bi>Ut.maxX&&(Ut.maxX=bi),Xi>Ut.maxY&&(Ut.maxY=Xi)}return Ut}function fr(mt,ze,Ye,ut){var xt=ze.geometry,vt=ze.type,Ut=[];if(vt==="Point"||vt==="MultiPoint")for(var kt=0;kt<xt.length;kt+=3)Ut.push(xt[kt]),Ut.push(xt[kt+1]),mt.numPoints++,mt.numSimplified++;else if(vt==="LineString")As(Ut,xt,mt,Ye,!1,!1);else if(vt==="MultiLineString"||vt==="Polygon")for(kt=0;kt<xt.length;kt++)As(Ut,xt[kt],mt,Ye,vt==="Polygon",kt===0);else if(vt==="MultiPolygon")for(var Rt=0;Rt<xt.length;Rt++){var Gt=xt[Rt];for(kt=0;kt<Gt.length;kt++)As(Ut,Gt[kt],mt,Ye,!0,kt===0)}if(Ut.length){var bi=ze.tags||null;if(vt==="LineString"&&ut.lineMetrics){for(var Xi in bi={},ze.tags)bi[Xi]=ze.tags[Xi];bi.mapbox_clip_start=xt.start/xt.size,bi.mapbox_clip_end=xt.end/xt.size}var Ii={geometry:Ut,type:vt==="Polygon"||vt==="MultiPolygon"?3:vt==="LineString"||vt==="MultiLineString"?2:1,tags:bi};ze.id!==null&&(Ii.id=ze.id),mt.features.push(Ii)}}function As(mt,ze,Ye,ut,xt,vt){var Ut=ut*ut;if(ut>0&&ze.size<(xt?Ut:ut))Ye.numPoints+=ze.length/3;else{for(var kt=[],Rt=0;Rt<ze.length;Rt+=3)(ut===0||ze[Rt+2]>Ut)&&(Ye.numSimplified++,kt.push(ze[Rt]),kt.push(ze[Rt+1])),Ye.numPoints++;xt&&function(Gt,bi){for(var Xi=0,Ii=0,Mn=Gt.length,Cn=Mn-2;Ii<Mn;Cn=Ii,Ii+=2)Xi+=(Gt[Ii]-Gt[Cn])*(Gt[Ii+1]+Gt[Cn+1]);if(Xi>0===bi)for(Ii=0,Mn=Gt.length;Ii<Mn/2;Ii+=2){var pn=Gt[Ii],qi=Gt[Ii+1];Gt[Ii]=Gt[Mn-2-Ii],Gt[Ii+1]=Gt[Mn-1-Ii],Gt[Mn-2-Ii]=pn,Gt[Mn-1-Ii]=qi}}(kt,vt),mt.push(kt)}}function xn(mt,ze){var Ye=(ze=this.options=function(xt,vt){for(var Ut in vt)xt[Ut]=vt[Ut];return xt}(Object.create(this.options),ze)).debug;if(Ye&&console.time("preprocess data"),ze.maxZoom<0||ze.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ze.promoteId&&ze.generateId)throw new Error("promoteId and generateId cannot be used together.");var ut=function(xt,vt){var Ut=[];if(xt.type==="FeatureCollection")for(var kt=0;kt<xt.features.length;kt++)Xe(Ut,xt.features[kt],vt,kt);else Xe(Ut,xt.type==="Feature"?xt:{geometry:xt},vt);return Ut}(mt,ze);this.tiles={},this.tileCoords=[],Ye&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ze.indexMaxZoom,ze.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ut=function(xt,vt){var Ut=vt.buffer/vt.extent,kt=xt,Rt=qt(xt,1,-1-Ut,Ut,0,-1,2,vt),Gt=qt(xt,1,1-Ut,2+Ut,0,-1,2,vt);return(Rt||Gt)&&(kt=qt(xt,1,-Ut,1+Ut,0,-1,2,vt)||[],Rt&&(kt=Rn(Rt,1).concat(kt)),Gt&&(kt=kt.concat(Rn(Gt,-1)))),kt}(ut,ze),ut.length&&this.splitTile(ut,0,0,0),Ye&&(ut.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Us(mt,ze,Ye){return 32*((1<<mt)*Ye+ze)+mt}function Pn(mt,ze){const Ye=mt.tileID.canonical;if(!this._geoJSONIndex)return ze(null,null);const ut=this._geoJSONIndex.getTile(Ye.z,Ye.x,Ye.y);if(!ut)return ze(null,null);const xt=new k(ut.features);let vt=S.exports(xt);vt.byteOffset===0&&vt.byteLength===vt.buffer.byteLength||(vt=new Uint8Array(vt)),ze(null,{vectorTile:xt,rawData:vt.buffer})}xn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},xn.prototype.splitTile=function(mt,ze,Ye,ut,xt,vt,Ut){for(var kt=[mt,ze,Ye,ut],Rt=this.options,Gt=Rt.debug;kt.length;){ut=kt.pop(),Ye=kt.pop(),ze=kt.pop(),mt=kt.pop();var bi=1<<ze,Xi=Us(ze,Ye,ut),Ii=this.tiles[Xi];if(!Ii&&(Gt>1&&console.time("creation"),Ii=this.tiles[Xi]=Yi(mt,ze,Ye,ut,Rt),this.tileCoords.push({z:ze,x:Ye,y:ut}),Gt)){Gt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ze,Ye,ut,Ii.numFeatures,Ii.numPoints,Ii.numSimplified),console.timeEnd("creation"));var Mn="z"+ze;this.stats[Mn]=(this.stats[Mn]||0)+1,this.total++}if(Ii.source=mt,xt){if(ze===Rt.maxZoom||ze===xt)continue;var Cn=1<<xt-ze;if(Ye!==Math.floor(vt/Cn)||ut!==Math.floor(Ut/Cn))continue}else if(ze===Rt.indexMaxZoom||Ii.numPoints<=Rt.indexMaxPoints)continue;if(Ii.source=null,mt.length!==0){Gt>1&&console.time("clipping");var pn,qi,cr,Dr,vn,Xr,Rr=.5*Rt.buffer/Rt.extent,Ha=.5-Rr,Wa=.5+Rr,vo=1+Rr;pn=qi=cr=Dr=null,vn=qt(mt,bi,Ye-Rr,Ye+Wa,0,Ii.minX,Ii.maxX,Rt),Xr=qt(mt,bi,Ye+Ha,Ye+vo,0,Ii.minX,Ii.maxX,Rt),mt=null,vn&&(pn=qt(vn,bi,ut-Rr,ut+Wa,1,Ii.minY,Ii.maxY,Rt),qi=qt(vn,bi,ut+Ha,ut+vo,1,Ii.minY,Ii.maxY,Rt),vn=null),Xr&&(cr=qt(Xr,bi,ut-Rr,ut+Wa,1,Ii.minY,Ii.maxY,Rt),Dr=qt(Xr,bi,ut+Ha,ut+vo,1,Ii.minY,Ii.maxY,Rt),Xr=null),Gt>1&&console.timeEnd("clipping"),kt.push(pn||[],ze+1,2*Ye,2*ut),kt.push(qi||[],ze+1,2*Ye,2*ut+1),kt.push(cr||[],ze+1,2*Ye+1,2*ut),kt.push(Dr||[],ze+1,2*Ye+1,2*ut+1)}}},xn.prototype.getTile=function(mt,ze,Ye){var ut=this.options,xt=ut.extent,vt=ut.debug;if(mt<0||mt>24)return null;var Ut=1<<mt,kt=Us(mt,ze=(ze%Ut+Ut)%Ut,Ye);if(this.tiles[kt])return di(this.tiles[kt],xt);vt>1&&console.log("drilling down to z%d-%d-%d",mt,ze,Ye);for(var Rt,Gt=mt,bi=ze,Xi=Ye;!Rt&&Gt>0;)Gt--,bi=Math.floor(bi/2),Xi=Math.floor(Xi/2),Rt=this.tiles[Us(Gt,bi,Xi)];return Rt&&Rt.source?(vt>1&&console.log("found parent tile z%d-%d-%d",Gt,bi,Xi),vt>1&&console.time("drilling down"),this.splitTile(Rt.source,Gt,bi,Xi,mt,ze,Ye),vt>1&&console.timeEnd("drilling down"),this.tiles[kt]?di(this.tiles[kt],xt):null):null};class Wo extends s.VectorTileWorkerSource{constructor(ze,Ye,ut,xt,vt){super(ze,Ye,ut,xt,Pn),vt&&(this.loadGeoJSON=vt)}loadData(ze,Ye){const ut=ze&&ze.request,xt=ut&&ut.collectResourceTiming;this.loadGeoJSON(ze,(vt,Ut)=>{if(vt||!Ut)return Ye(vt);if(typeof Ut!="object")return Ye(new Error(`Input data given to '${ze.source}' is not a valid GeoJSON object.`));{B(Ut,!0);try{if(ze.filter){const Rt=s.createExpression(ze.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Rt.result==="error")throw new Error(Rt.value.map(bi=>`${bi.key}: ${bi.message}`).join(", "));Ut={type:"FeatureCollection",features:Ut.features.filter(bi=>Rt.value.evaluate({zoom:0},bi))}}this._geoJSONIndex=ze.cluster?new ne(function({superclusterOptions:Rt,clusterProperties:Gt}){if(!Gt||!Rt)return Rt;const bi={},Xi={},Ii={accumulated:null,zoom:0},Mn={properties:null},Cn=Object.keys(Gt);for(const pn of Cn){const[qi,cr]=Gt[pn],Dr=s.createExpression(cr),vn=s.createExpression(typeof qi=="string"?[qi,["accumulated"],["get",pn]]:qi);bi[pn]=Dr.value,Xi[pn]=vn.value}return Rt.map=pn=>{Mn.properties=pn;const qi={};for(const cr of Cn)qi[cr]=bi[cr].evaluate(Ii,Mn);return qi},Rt.reduce=(pn,qi)=>{Mn.properties=qi;for(const cr of Cn)Ii.accumulated=pn[cr],pn[cr]=Xi[cr].evaluate(Ii,Mn)},Rt}(ze)).load(Ut.features):function(Rt,Gt){return new xn(Rt,Gt)}(Ut,ze.geojsonVtOptions)}catch(Rt){return Ye(Rt)}this.loaded={};const kt={};if(xt){const Rt=s.getPerformanceMeasurement(ut);Rt&&(kt.resourceTiming={},kt.resourceTiming[ze.source]=JSON.parse(JSON.stringify(Rt)))}Ye(null,kt)}})}reloadTile(ze,Ye){const ut=this.loaded;return ut&&ut[ze.uid]?super.reloadTile(ze,Ye):this.loadTile(ze,Ye)}loadGeoJSON(ze,Ye){if(ze.request)s.getJSON(ze.request,Ye);else{if(typeof ze.data!="string")return Ye(new Error(`Input data given to '${ze.source}' is not a valid GeoJSON object.`));try{return Ye(null,JSON.parse(ze.data))}catch{return Ye(new Error(`Input data given to '${ze.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(ze,Ye){try{Ye(null,this._geoJSONIndex.getClusterExpansionZoom(ze.clusterId))}catch(ut){Ye(ut)}}getClusterChildren(ze,Ye){try{Ye(null,this._geoJSONIndex.getChildren(ze.clusterId))}catch(ut){Ye(ut)}}getClusterLeaves(ze,Ye){try{Ye(null,this._geoJSONIndex.getLeaves(ze.clusterId,ze.limit,ze.offset))}catch(ut){Ye(ut)}}}class ya{constructor(ze){this.self=ze,this.actor=new s.Actor(ze,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=s.getProjection({name:"mercator"}),this.workerSourceTypes={vector:s.VectorTileWorkerSource,geojson:Wo},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Ye,ut)=>{if(this.workerSourceTypes[Ye])throw new Error(`Worker source with name "${Ye}" already registered.`);this.workerSourceTypes[Ye]=ut},this.self.registerRTLTextPlugin=Ye=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=Ye.applyArabicShaping,s.plugin.processBidirectionalText=Ye.processBidirectionalText,s.plugin.processStyledBidirectionalText=Ye.processStyledBidirectionalText}}clearCaches(ze,Ye,ut){delete this.layerIndexes[ze],delete this.availableImages[ze],delete this.workerSources[ze],delete this.demWorkerSources[ze],ut()}checkIfReady(ze,Ye,ut){ut()}setReferrer(ze,Ye){this.referrer=Ye}spriteLoaded(ze,Ye){this.isSpriteLoaded[ze]=Ye;for(const ut in this.workerSources[ze]){const xt=this.workerSources[ze][ut];for(const vt in xt)xt[vt]instanceof s.VectorTileWorkerSource&&(xt[vt].isSpriteLoaded=Ye,xt[vt].fire(new s.Event("isSpriteLoaded")))}}setImages(ze,Ye,ut){this.availableImages[ze]=Ye;for(const xt in this.workerSources[ze]){const vt=this.workerSources[ze][xt];for(const Ut in vt)vt[Ut].availableImages=Ye}ut()}enableTerrain(ze,Ye,ut){this.terrain=Ye,ut()}setProjection(ze,Ye){this.projections[ze]=s.getProjection(Ye)}setLayers(ze,Ye,ut){this.getLayerIndex(ze).replace(Ye),ut()}updateLayers(ze,Ye,ut){this.getLayerIndex(ze).update(Ye.layers,Ye.removedIds),ut()}loadTile(ze,Ye,ut){const xt=this.enableTerrain?s.extend({enableTerrain:this.terrain},Ye):Ye;xt.projection=this.projections[ze]||this.defaultProjection,this.getWorkerSource(ze,Ye.type,Ye.source).loadTile(xt,ut)}loadDEMTile(ze,Ye,ut){const xt=this.enableTerrain?s.extend({buildQuadTree:this.terrain},Ye):Ye;this.getDEMWorkerSource(ze,Ye.source).loadTile(xt,ut)}reloadTile(ze,Ye,ut){const xt=this.enableTerrain?s.extend({enableTerrain:this.terrain},Ye):Ye;xt.projection=this.projections[ze]||this.defaultProjection,this.getWorkerSource(ze,Ye.type,Ye.source).reloadTile(xt,ut)}abortTile(ze,Ye,ut){this.getWorkerSource(ze,Ye.type,Ye.source).abortTile(Ye,ut)}removeTile(ze,Ye,ut){this.getWorkerSource(ze,Ye.type,Ye.source).removeTile(Ye,ut)}removeSource(ze,Ye,ut){if(!this.workerSources[ze]||!this.workerSources[ze][Ye.type]||!this.workerSources[ze][Ye.type][Ye.source])return;const xt=this.workerSources[ze][Ye.type][Ye.source];delete this.workerSources[ze][Ye.type][Ye.source],xt.removeSource!==void 0?xt.removeSource(Ye,ut):ut()}loadWorkerSource(ze,Ye,ut){try{this.self.importScripts(Ye.url),ut()}catch(xt){ut(xt.toString())}}syncRTLPluginState(ze,Ye,ut){try{s.plugin.setState(Ye);const xt=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&xt!=null){this.self.importScripts(xt);const vt=s.plugin.isParsed();ut(vt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${xt}`),vt)}}catch(xt){ut(xt.toString())}}getAvailableImages(ze){let Ye=this.availableImages[ze];return Ye||(Ye=[]),Ye}getLayerIndex(ze){let Ye=this.layerIndexes[ze];return Ye||(Ye=this.layerIndexes[ze]=new J),Ye}getWorkerSource(ze,Ye,ut){if(this.workerSources[ze]||(this.workerSources[ze]={}),this.workerSources[ze][Ye]||(this.workerSources[ze][Ye]={}),!this.workerSources[ze][Ye][ut]){const xt={send:(vt,Ut,kt,Rt,Gt,bi)=>{this.actor.send(vt,Ut,kt,ze,Gt,bi)},scheduler:this.actor.scheduler};this.workerSources[ze][Ye][ut]=new this.workerSourceTypes[Ye](xt,this.getLayerIndex(ze),this.getAvailableImages(ze),this.isSpriteLoaded[ze])}return this.workerSources[ze][Ye][ut]}getDEMWorkerSource(ze,Ye){return this.demWorkerSources[ze]||(this.demWorkerSources[ze]={}),this.demWorkerSources[ze][Ye]||(this.demWorkerSources[ze][Ye]=new M),this.demWorkerSources[ze][Ye]}enforceCacheSizeLimit(ze,Ye){s.enforceCacheSizeLimit(Ye)}getWorkerPerformanceMetrics(ze,Ye,ut){ut(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new ya(self)),ya}),u(["./shared"],function(s){function v(_,c){if(Array.isArray(_)){if(!Array.isArray(c)||_.length!==c.length)return!1;for(let p=0;p<_.length;p++)if(!v(_[p],c[p]))return!1;return!0}if(typeof _=="object"&&_!==null&&c!==null){if(typeof c!="object"||Object.keys(_).length!==Object.keys(c).length)return!1;for(const p in _)if(!v(_[p],c[p]))return!1;return!0}return _===c}var I=J;function J(_){return!function(c){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var T,N,q=new Blob([""],{type:"text/javascript"}),ae=URL.createObjectURL(q);try{N=new Worker(ae),T=!0}catch{T=!1}return N&&N.terminate(),URL.revokeObjectURL(ae),T}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var T=document.createElement("canvas");T.width=T.height=1;var N=T.getContext("2d");if(!N)return!1;var q=N.getImageData(0,0,1,1);return q&&q.width===T.width}()?(M[p=c&&c.failIfMajorPerformanceCaveat]===void 0&&(M[p]=function(T){var N,q=function(ae){var he=document.createElement("canvas"),ye=Object.create(J.webGLContextAttributes);return ye.failIfMajorPerformanceCaveat=ae,he.getContext("webgl",ye)||he.getContext("experimental-webgl",ye)}(T);if(!q)return!1;try{N=q.createShader(q.VERTEX_SHADER)}catch{return!1}return!(!N||q.isContextLost())&&(q.shaderSource(N,"void main() {}"),q.compileShader(N),q.getShaderParameter(N,q.COMPILE_STATUS)===!0)}(p)),M[p]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var p}(_)}var M={};function B(_,c,p){const T=s.window.document.createElement(_);return c!==void 0&&(T.className=c),p&&p.appendChild(T),T}function W(_,c,p){const T=s.window.document.createElementNS("http://www.w3.org/2000/svg",_);for(const N of Object.keys(c))T.setAttributeNS(null,N,c[N]);return p&&p.appendChild(T),T}J.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const O=s.window.document&&s.window.document.documentElement.style,L=O&&O.userSelect!==void 0?"userSelect":"WebkitUserSelect";let G;function k(){O&&L&&(G=O[L],O[L]="none")}function S(){O&&L&&(O[L]=G)}function A(_){_.preventDefault(),_.stopPropagation(),s.window.removeEventListener("click",A,!0)}function H(){s.window.addEventListener("click",A,!0),s.window.setTimeout(()=>{s.window.removeEventListener("click",A,!0)},0)}function U(_,c){const p=_.getBoundingClientRect();return ee(_,p,c)}function E(_,c){const p=_.getBoundingClientRect(),T=[];for(let N=0;N<c.length;N++)T.push(ee(_,p,c[N]));return T}function ie(_){return s.window.InstallTrigger!==void 0&&_.button===2&&_.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:_.button}function ee(_,c,p){const T=_.offsetWidth===c.width?1:_.offsetWidth/c.width;return new s.pointGeometry((p.clientX-c.left)*T,(p.clientY-c.top)*T)}function $(_,c){var p=c[0],T=c[1],N=c[2],q=c[3],ae=p*q-N*T;return ae?(_[0]=q*(ae=1/ae),_[1]=-T*ae,_[2]=-N*ae,_[3]=p*ae,_):null}function V(_){const{userImage:c}=_;return!!(c&&c.render&&c.render())&&(_.data.replace(new Uint8Array(c.data.buffer)),!0)}class j extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:T}of this.requestors)this._notify(p,T);this.requestors=[]}}hasImage(c){return!!this.getImage(c)}getImage(c){return this.images[c]}addImage(c,p){this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let T=!0;return this._validateStretch(p.stretchX,p.data&&p.data.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),T=!1),this._validateStretch(p.stretchY,p.data&&p.data.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),T=!1),this._validateContent(p.content,p)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),T=!1),T}_validateStretch(c,p){if(!c)return!0;let T=0;for(const N of c){if(N[0]<T||N[1]<N[0]||p<N[1])return!1;T=N[1]}return!0}_validateContent(c,p){return!(c&&(c.length!==4||c[0]<0||p.data.width<c[0]||c[1]<0||p.data.height<c[1]||c[2]<0||p.data.width<c[2]||c[3]<0||p.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,p){p.version=this.images[c].version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let T=!0;if(!this.isLoaded())for(const N of c)this.images[N]||(T=!1);this.isLoaded()||T?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const T={};for(const N of c){this.images[N]||this.fire(new s.Event("styleimagemissing",{id:N}));const q=this.images[N];q?T[N]={data:q.data.clone(),pixelRatio:q.pixelRatio,sdf:q.sdf,version:q.version,stretchX:q.stretchX,stretchY:q.stretchY,content:q.content,hasRenderCallback:!!(q.userImage&&q.userImage.render)}:s.warnOnce(`Image "${N}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,T)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],T=this.getImage(c);if(!T)return null;if(p&&p.position.version===T.version)return p.position;if(p)p.position.version=T.version;else{const N={w:T.data.width+2,h:T.data.height+2,x:0,y:0},q=new s.ImagePosition(N,T);this.patterns[c]={bin:N,position:q}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const q in this.patterns)c.push(this.patterns[q].bin);const{w:p,h:T}=s.potpack(c),N=this.atlasImage;N.resize({width:p||1,height:T||1});for(const q in this.patterns){const{bin:ae}=this.patterns[q],he=ae.x+1,ye=ae.y+1,De=this.images[q].data,Ae=De.width,Fe=De.height;s.RGBAImage.copy(De,N,{x:0,y:0},{x:he,y:ye},{width:Ae,height:Fe}),s.RGBAImage.copy(De,N,{x:0,y:Fe-1},{x:he,y:ye-1},{width:Ae,height:1}),s.RGBAImage.copy(De,N,{x:0,y:0},{x:he,y:ye+Fe},{width:Ae,height:1}),s.RGBAImage.copy(De,N,{x:Ae-1,y:0},{x:he-1,y:ye},{width:1,height:Fe}),s.RGBAImage.copy(De,N,{x:0,y:0},{x:he+Ae,y:ye},{width:1,height:Fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const T=this.images[p];V(T)&&this.updateImage(p,T)}}}const w=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(_,c){return function([p,T,N]){const q=s.degToRad(T+90),ae=s.degToRad(N);return{x:p*Math.cos(q)*Math.sin(ae),y:p*Math.sin(q)*Math.sin(ae),z:p*Math.cos(ae),azimuthal:T,polar:N}}(_.expression.evaluate(c))}interpolate(_,c,p){return{x:s.number(_.x,c.x,p),y:s.number(_.y,c.y,p),z:s.number(_.z,c.z,p),azimuthal:s.number(_.azimuthal,c.azimuthal,p),polar:s.number(_.polar,c.polar,p)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)}),D="-transition";class m extends s.Evented{constructor(c){super(),this._transitionable=new s.Transitionable(w),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(s.validateLight,c,p))for(const T in c){const N=c[T];s.endsWith(T,D)?this._transitionable.setTransition(T.slice(0,-D.length),N):this._transitionable.setValue(T,N)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,T){return(!T||T.validate!==!1)&&s.emitValidationErrors(this,c.call(s.validateStyle,s.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}const g=new s.Properties({source:new s.DataConstantProperty(s.spec.terrain.source),exaggeration:new s.DataConstantProperty(s.spec.terrain.exaggeration)}),x="-transition";class P extends s.Evented{constructor(c,p){super(),this._transitionable=new s.Transitionable(g),this.set(c),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=p}get(){return this._transitionable.serialize()}set(c){for(const p in c){const T=c[p];s.endsWith(p,x)?this._transitionable.setTransition(p.slice(0,-x.length),T):this._transitionable.setValue(p,T)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}}function X(_,c,p,T){const N=s.smoothstep(45,65,p),[q,ae]=Y(_,T),he=s.length(c);let ye=1-Math.min(1,Math.exp((he-q)/(ae-q)*-6));return ye*=ye*ye,ye=Math.min(1,1.00747*ye),ye*N*_.alpha}function Y(_,c){const p=.5/Math.tan(.5*c);return[_.range[0]+p,_.range[1]+p]}const K=new s.Properties({range:new s.DataConstantProperty(s.spec.fog.range),color:new s.DataConstantProperty(s.spec.fog.color),"high-color":new s.DataConstantProperty(s.spec.fog["high-color"]),"space-color":new s.DataConstantProperty(s.spec.fog["space-color"]),"horizon-blend":new s.DataConstantProperty(s.spec.fog["horizon-blend"]),"star-intensity":new s.DataConstantProperty(s.spec.fog["star-intensity"])}),le="-transition";class pe extends s.Evented{constructor(c,p){super(),this._transitionable=new s.Transitionable(K),this.set(c),this._transitioning=this._transitionable.untransitioned(),this._transform=p}get state(){const c=this._transform,p=c.projection.name==="globe",T=s.globeToMercatorTransition(c.zoom),N=this.properties.get("range"),q=[.5,3];return{range:p?[s.number(q[0],N[0],T),s.number(q[1],N[1],T)]:N,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(c,p={}){if(!this._validate(s.validateFog,c,p)){for(const T of Object.keys(s.spec.fog))c&&c[T]===void 0&&(c[T]=s.spec.fog[T].default);for(const T in c){const N=c[T];s.endsWith(T,le)?this._transitionable.setTransition(T.slice(0,-le.length),N):this._transitionable.setValue(T,N)}}}getOpacity(c){if(!this._transform.projection.supportsFog)return 0;const p=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:s.smoothstep(45,65,c))*p.a}getOpacityAtLatLng(c,p){return this._transform.projection.supportsFog?function(T,N,q){const ae=s.MercatorCoordinate.fromLngLat(N),he=q.elevation?q.elevation.getAtPointOrZero(ae):0,ye=[ae.x,ae.y,he];return s.transformMat4(ye,ye,q.mercatorFogMatrix),X(T,ye,q.pitch,q._fov)}(this.state,c,p):0}getFovAdjustedRange(c){return this._transform.projection.supportsFog?Y(this.state,c):[0,1]}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,T){return(!T||T.validate!==!1)&&s.emitValidationErrors(this,c.call(s.validateStyle,s.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class fe{constructor(c,p){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=s.uniqueId();const T=this.workerPool.acquire(this.id);for(let N=0;N<T.length;N++){const q=new fe.Actor(T[N],p,this.id);q.name=`Worker ${N}`,this.actors.push(q)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(c,p,T){s.asyncAll(this.actors,(N,q)=>{N.send(c,p,q)},T=T||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(c=>{c.remove()}),this.actors=[],this.workerPool.release(this.id)}}function z(_,c,p){return c*(s.EXTENT/(_.tileSize*Math.pow(2,p-_.tileID.overscaledZ)))}fe.Actor=s.Actor;class Q{constructor(c,p,T,N){this.screenBounds=c,this.cameraPoint=p,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=T,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,N)}static createFromScreenPoints(c,p){let T,N;if(c instanceof s.pointGeometry||typeof c[0]=="number"){const q=s.pointGeometry.convert(c);T=[q],N=p.isPointAboveHorizon(q)}else{const q=s.pointGeometry.convert(c[0]),ae=s.pointGeometry.convert(c[1]);T=[q,ae],N=s.polygonizeBounds(q,ae).every(he=>p.isPointAboveHorizon(he))}return new Q(T,p.getCameraPoint(),N,p)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(c){return s.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],c)}bufferedCameraGeometry(c){const p=this.screenBounds[0],T=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],N=s.polygonizeBounds(p,T,0,!1);return this.cameraPoint.y>T.y&&(this.cameraPoint.x>p.x&&this.cameraPoint.x<T.x?N.splice(3,0,this.cameraPoint):this.cameraPoint.x>=T.x?N[2]=this.cameraPoint:this.cameraPoint.x<=p.x&&(N[3]=this.cameraPoint)),s.bufferConvexPolygon(N,c)}bufferedCameraGeometryGlobe(c){const p=this.screenBounds[0],T=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],N=s.polygonizeBounds(p,T,c),q=this.cameraPoint.clone();switch(3*((q.y>p.y)+(q.y>T.y))+((q.x>p.x)+(q.x>T.x))){case 0:N[0]=q,N[4]=q.clone();break;case 1:N.splice(1,0,q);break;case 2:N[1]=q;break;case 3:N.splice(4,0,q);break;case 5:N.splice(2,0,q);break;case 6:N[3]=q;break;case 7:N.splice(3,0,q);break;case 8:N[2]=q}return N}containsTile(c,p,T,N=0){const q=c.queryPadding/p._pixelsPerMercatorPixel+1,ae=T?this._bufferedCameraMercator(q,p):this._bufferedScreenMercator(q,p);let he=c.tileID.wrap+(ae.unwrapped?N:0);const ye=ae.polygon.map(et=>s.getTilePoint(c.tileTransform,et,he));if(!s.polygonIntersectsBox(ye,0,0,s.EXTENT,s.EXTENT))return;he=c.tileID.wrap+(this.screenGeometryMercator.unwrapped?N:0);const De=this.screenGeometryMercator.polygon.map(et=>s.getTileVec3(c.tileTransform,et,he)),Ae=De.map(et=>new s.pointGeometry(et[0],et[1])),Fe=p.getFreeCameraOptions().position||new s.MercatorCoordinate(0,0,0),Ke=s.getTileVec3(c.tileTransform,Fe,he),at=De.map(et=>{const rt=s.sub(et,et,Ke);return s.normalize(rt,rt),new s.Ray(Ke,rt)}),lt=z(c,1,p.zoom)*p._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Ae,tilespaceRays:at,bufferedTilespaceGeometry:ye,bufferedTilespaceBounds:(ht=s.getBounds(ye),ht.min.x=s.clamp(ht.min.x,0,s.EXTENT),ht.min.y=s.clamp(ht.min.y,0,s.EXTENT),ht.max.x=s.clamp(ht.max.x,0,s.EXTENT),ht.max.y=s.clamp(ht.max.y,0,s.EXTENT),ht),tile:c,tileID:c.tileID,pixelToTileUnitsFactor:lt};var ht}_bufferedScreenMercator(c,p){const T=Ce(c);if(this._screenRaycastCache[T])return this._screenRaycastCache[T];{let N;return N=p.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(c),p):{polygon:this.bufferedScreenGeometry(c).map(q=>p.pointCoordinate3D(q)),unwrapped:!0},this._screenRaycastCache[T]=N,N}}_bufferedCameraMercator(c,p){const T=Ce(c);if(this._cameraRaycastCache[T])return this._cameraRaycastCache[T];{let N;return N=p.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(c),p):{polygon:this.bufferedCameraGeometry(c).map(q=>p.pointCoordinate3D(q)),unwrapped:!0},this._cameraRaycastCache[T]=N,N}}_projectAndResample(c,p){const T=function(q,ae){const he=s.multiply([],ae.pixelMatrix,ae.globeMatrix),ye=[0,-s.GLOBE_RADIUS,0,1],De=[0,s.GLOBE_RADIUS,0,1],Ae=[0,0,0,1];s.transformMat4$1(ye,ye,he),s.transformMat4$1(De,De,he),s.transformMat4$1(Ae,Ae,he);const Fe=new s.pointGeometry(ye[0]/ye[3],ye[1]/ye[3]),Ke=new s.pointGeometry(De[0]/De[3],De[1]/De[3]),at=s.polygonContainsPoint(q,Fe)&&ye[3]<Ae[3],lt=s.polygonContainsPoint(q,Ke)&&De[3]<Ae[3];if(!at&&!lt)return null;const ht=function(Vt,ni,Qt){for(let Yt=1;Yt<Vt.length;Yt++){const Ai=de(ni.pointCoordinate3D(Vt[Yt-1]).x),Kt=de(ni.pointCoordinate3D(Vt[Yt]).x);if(Qt<0){if(Ai<Kt)return{idx:Yt,t:-Ai/(Kt-1-Ai)}}else if(Kt<Ai)return{idx:Yt,t:(1-Ai)/(Kt+1-Ai)}}return null}(q,ae,at?-1:1);if(!ht)return null;const{idx:et,t:rt}=ht;let gt=et>1?se(q.slice(0,et),ae):[],ct=et<q.length?se(q.slice(et),ae):[];gt=gt.map(Vt=>new s.pointGeometry(de(Vt.x),Vt.y)),ct=ct.map(Vt=>new s.pointGeometry(de(Vt.x),Vt.y));const wt=[...gt];wt.length===0&&wt.push(ct[ct.length-1]);const Ot=s.number(wt[wt.length-1].y,(ct.length===0?gt[0]:ct[0]).y,rt);let Et;return Et=at?[new s.pointGeometry(0,Ot),new s.pointGeometry(0,0),new s.pointGeometry(1,0),new s.pointGeometry(1,Ot)]:[new s.pointGeometry(1,Ot),new s.pointGeometry(1,1),new s.pointGeometry(0,1),new s.pointGeometry(0,Ot)],wt.push(...Et),ct.length===0?wt.push(gt[0]):wt.push(...ct),{polygon:wt.map(Vt=>new s.MercatorCoordinate(Vt.x,Vt.y)),unwrapped:!1}}(c,p);if(T)return T;const N=function(q,ae){let he=!1,ye=-1/0,De=0;for(let Fe=0;Fe<q.length-1;Fe++)q[Fe].x>ye&&(ye=q[Fe].x,De=Fe);for(let Fe=0;Fe<q.length-1;Fe++){const Ke=(De+Fe)%(q.length-1),at=q[Ke],lt=q[Ke+1];Math.abs(at.x-lt.x)>.5&&(at.x<lt.x?(at.x+=1,Ke===0&&(q[q.length-1].x+=1)):(lt.x+=1,Ke+1===q.length-1&&(q[0].x+=1)),he=!0)}const Ae=s.mercatorXfromLng(ae.center.lng);return he&&Ae<Math.abs(Ae-1)&&q.forEach(Fe=>{Fe.x-=1}),{polygon:q,unwrapped:he}}(se(c,p).map(q=>new s.pointGeometry(de(q.x),q.y)),p);return{polygon:N.polygon.map(q=>new s.MercatorCoordinate(q.x,q.y)),unwrapped:N.unwrapped}}}function se(_,c){return s.resample(_,p=>{const T=c.pointCoordinate3D(p);p.x=T.x,p.y=T.y},1/256)}function de(_){return _<0?1+_%1:_%1}function Ce(_){return 100*_|0}function ne(_,c,p,T,N){const q=function(ae,he){if(ae)return N(ae);if(he){_.url&&he.tiles&&_.tiles&&delete _.tiles;const ye=s.pick(s.extend(he,_),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);he.vector_layers&&(ye.vectorLayers=he.vector_layers,ye.vectorLayerIds=ye.vectorLayers.map(De=>De.id)),ye.tiles=c.canonicalizeTileset(ye,_.url),N(null,ye)}};return _.url?s.getJSON(c.transformRequest(c.normalizeSourceURL(_.url,null,p,T),s.ResourceType.Source),q):s.exported.frame(()=>q(null,_))}class ve{constructor(c,p,T){this.bounds=s.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=T||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),T=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*p),N=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*p),q=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*p),ae=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=T&&c.x<q&&c.y>=N&&c.y<ae}}class _e{constructor(c,p,T){this.context=c;const N=c.gl;this.buffer=N.createBuffer(),this.dynamicDraw=!!T,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),N.bufferData(N.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?N.DYNAMIC_DRAW:N.STATIC_DRAW),this.dynamicDraw||p.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const oe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ge{constructor(c,p,T,N){this.length=p.length,this.attributes=T,this.itemSize=p.bytesPerElement,this.dynamicDraw=N,this.context=c;const q=c.gl;this.buffer=q.createBuffer(),c.bindVertexBuffer.set(this.buffer),q.bufferData(q.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?q.DYNAMIC_DRAW:q.STATIC_DRAW),this.dynamicDraw||p.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let T=0;T<this.attributes.length;T++){const N=p.attributes[this.attributes[T].name];N!==void 0&&c.enableVertexAttribArray(N)}}setVertexAttribPointers(c,p,T){for(let N=0;N<this.attributes.length;N++){const q=this.attributes[N],ae=p.attributes[q.name];ae!==void 0&&c.vertexAttribPointer(ae,q.components,c[oe[q.type]],!1,this.itemSize,q.offset+this.itemSize*(T||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Te{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Re extends Te{getDefault(){return s.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Le extends Te{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class $e extends Te{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class nt extends Te{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Qe extends Te{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class We extends Te{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class xe extends Te{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class Ie extends Te{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class Be extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class Xe extends Te{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Ze extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class ft extends Te{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class Ct extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class Nt extends Te{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class pi extends Te{getDefault(){return s.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class qt extends Te{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class fi extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class Gi extends Te{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class dt extends Te{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class Lt extends Te{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class ei extends Te{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class ki extends Te{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class on extends Te{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Rn extends Te{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Gr extends Te{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class di extends Te{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Hi extends Te{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Yi extends Te{constructor(c){super(c),this.vao=c.extVertexArrayObject}getDefault(){return null}set(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)}}class fr extends Te{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class As extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class xn extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Us extends Te{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class Pn extends Us{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class Wo extends Us{attachment(){return this.gl.DEPTH_ATTACHMENT}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,this.attachment(),p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class ya extends Wo{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class mt{constructor(c,p,T,N){this.context=c,this.width=p,this.height=T;const q=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new Pn(c,q),N&&(this.depthAttachment=new Wo(c,q))}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const T=this.depthAttachment.get();T&&c.deleteRenderbuffer(T)}c.deleteFramebuffer(this.framebuffer)}}class ze{constructor(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Re(this),this.clearDepth=new Le(this),this.clearStencil=new $e(this),this.colorMask=new nt(this),this.depthMask=new Qe(this),this.stencilMask=new We(this),this.stencilFunc=new xe(this),this.stencilOp=new Ie(this),this.stencilTest=new Be(this),this.depthRange=new Xe(this),this.depthTest=new Ze(this),this.depthFunc=new ft(this),this.blend=new Ct(this),this.blendFunc=new Nt(this),this.blendColor=new pi(this),this.blendEquation=new qt(this),this.cullFace=new fi(this),this.cullFaceSide=new Gi(this),this.frontFace=new dt(this),this.program=new Lt(this),this.activeTexture=new ei(this),this.viewport=new ki(this),this.bindFramebuffer=new on(this),this.bindRenderbuffer=new Rn(this),this.bindTexture=new Gr(this),this.bindVertexBuffer=new di(this),this.bindElementBuffer=new Hi(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Yi(this),this.pixelStoreUnpack=new fr(this),this.pixelStoreUnpackPremultiplyAlpha=new As(this),this.pixelStoreUnpackFlipY=new xn(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=c.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=c.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=c.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=c.getExtension("OES_standard_derivatives"),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new _e(this,c,p)}createVertexBuffer(c,p,T){return new ge(this,c,p,T)}createRenderbuffer(c,p,T){const N=this.gl,q=N.createRenderbuffer();return this.bindRenderbuffer.set(q),N.renderbufferStorage(N.RENDERBUFFER,c,p,T),this.bindRenderbuffer.set(null),q}createFramebuffer(c,p,T){return new mt(this,c,p,T)}clear({color:c,depth:p,stencil:T}){const N=this.gl;let q=0;c&&(q|=N.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(q|=N.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),T!==void 0&&(q|=N.STENCIL_BUFFER_BIT,this.clearStencil.set(T),this.stencilMask.set(255)),N.clear(q)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){v(c.blendFunction,s.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ye extends s.Evented{constructor(c,p,T,N){super(),this.id=c,this.dispatcher=T,this.setEventedParent(N),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},p),s.extend(this,s.pick(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ne(this._options,this.map._requestManager,null,null,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new s.ErrorEvent(c)):p&&(s.extend(this,p),p.bounds&&(this.tileBounds=new ve(p.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(p.tiles),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const T=s.exported.devicePixelRatio>=2,N=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),T,this.tileSize);c.request=s.getImage(this.map._requestManager.transformRequest(N,s.ResourceType.Tile),(q,ae,he,ye)=>(delete c.request,c.aborted?(c.state="unloaded",p(null)):q?(c.state="errored",p(q)):ae?(this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:he,expires:ye}),c.setTexture(ae,this.map.painter),c.state="loaded",s.cacheEntryPossiblyAdded(this.dispatcher),void p(null)):p(null)))}static loadTileData(c,p,T){c.setTexture(p,T)}static unloadTileData(c,p){c.texture&&p.saveTileTexture(c.texture)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}let ut;function xt(_,c,p,T,N,q,ae,he){const ye=[_,p,N,c,T,q,1,1,1],De=[ae,he,1],Ae=s.adjoint([],ye),[Fe,Ke,at]=s.transformMat3(De,De,s.transpose(Ae,Ae));return s.multiply$1(ye,[Fe,0,0,0,Ke,0,0,0,at],ye)}class vt extends s.Evented{constructor(c,p,T,N){super(),this.id=c,this.dispatcher=T,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(N),this.options=p,this._dirty=!1}load(c,p){this._loaded=p||!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),(T,N)=>{if(this._imageRequest=null,this._loaded=!0,T)this.fire(new s.ErrorEvent(T));else if(N){const{HTMLImageElement:q}=s.window;this.image=N instanceof q?s.exported.getImageData(N):N,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,c&&(this.coordinates=c),this._finishLoading()}})}loaded(){return this._loaded}updateImage(c){return this.image&&c.url?(this._imageRequest&&c.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=c.url,this.load(c.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(c){this.coordinates=c,this._boundsArray=void 0;const p=c.map(s.MercatorCoordinate.fromLngLat);return this.tileID=function(T){let N=1/0,q=1/0,ae=-1/0,he=-1/0;for(const Fe of T)N=Math.min(N,Fe.x),q=Math.min(q,Fe.y),ae=Math.max(ae,Fe.x),he=Math.max(he,Fe.y);const ye=Math.max(ae-N,he-q),De=Math.max(0,Math.floor(-Math.log(ye)/Math.LN2)),Ae=Math.pow(2,De);return new s.CanonicalTileID(De,Math.floor((N+ae)/2*Ae),Math.floor((q+he)/2*Ae))}(p),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(c){for(const ye in this.tiles){const De=this.tiles[ye];De.state!=="loaded"&&(De.state="loaded",De.texture=this.texture)}if(this._boundsArray)return;const p=s.tileTransform(this.tileID,this.map.transform.projection),[T,N,q,ae]=this.coordinates.map(ye=>{const De=p.projection.project(ye[0],ye[1]);return s.getTilePoint(p,De)._round()});this.perspectiveTransform=function(ye,De,Ae,Fe,Ke,at,lt,ht,et,rt){const gt=xt(0,0,ye,0,0,De,ye,De),ct=xt(Ae,Fe,Ke,at,lt,ht,et,rt);return s.multiply$1(ct,s.adjoint(gt,gt),ct),[ct[6]/ct[8]*ye/s.EXTENT,ct[7]/ct[8]*De/s.EXTENT]}(this.width,this.height,T.x,T.y,N.x,N.y,ae.x,ae.y,q.x,q.y);const he=this._boundsArray=new s.StructArrayLayout4i8;he.emplaceBack(T.x,T.y,0,0),he.emplaceBack(N.x,N.y,s.EXTENT,0),he.emplaceBack(ae.x,ae.y,0,s.EXTENT),he.emplaceBack(q.x,q.y,s.EXTENT,s.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=c.createVertexBuffer(he,s.boundsAttributes.members),this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,p=c.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new s.Texture(c,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(c)}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ut={vector:class extends s.Evented{constructor(_,c,p,T){if(super(),this.id=_,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(c,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(T),this._tileWorkers={},this._deduped=new s.DedupedRequest}load(_){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"}));const c=Array.isArray(this.map._language)?this.map._language.join():this.map._language,p=this.map._worldview;this._tileJSONRequest=ne(this._options,this.map._requestManager,c,p,(T,N)=>{this._tileJSONRequest=null,this._loaded=!0,T?(c&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${c}`),p&&p.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${p}`),this.fire(new s.ErrorEvent(T))):N&&(s.extend(this,N),N.bounds&&(this.tileBounds=new ve(N.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(N.tiles,this.map._requestManager._customAccessToken),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))),_&&_(T)})}loaded(){return this._loaded}hasTile(_){return!this.tileBounds||this.tileBounds.contains(_.canonical)}onAdd(_){this.map=_,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const _=this.map.style._getSourceCaches(this.id);for(const c of _)c.clearTiles()})}setSourceProperty(_){_(),this.reload()}setTiles(_){return this._options.tiles=_,this.reload(),this}setUrl(_){return this.url=_,this._options.url=_,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return s.extend({},this._options)}loadTile(_,c){const p=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme)),T={request:this.map._requestManager.transformRequest(p,s.ResourceType.Tile),data:void 0,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,tileSize:this.tileSize*_.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:_.isSymbolTile};if(T.request.collectResourceTiming=this._collectResourceTiming,_.actor&&_.state!=="expired")_.state==="loading"?_.reloadCallback=c:_.request=_.actor.send("reloadTile",T,N.bind(this));else if(_.actor=this._tileWorkers[p]=this._tileWorkers[p]||this.dispatcher.getActor(),this.dispatcher.ready)_.request=_.actor.send("loadTile",T,N.bind(this),void 0,!0);else{const q=s.loadVectorTile.call({deduped:this._deduped},T,(ae,he)=>{ae||!he?N.call(this,ae):(T.data={cacheControl:he.cacheControl,expires:he.expires,rawData:he.rawData.slice(0)},_.actor&&_.actor.send("loadTile",T,N.bind(this),void 0,!0))},!0);_.request={cancel:q}}function N(q,ae){return delete _.request,_.aborted?c(null):q&&q.status!==404?c(q):(ae&&ae.resourceTiming&&(_.resourceTiming=ae.resourceTiming),this.map._refreshExpiredTiles&&ae&&_.setExpiryData(ae),_.loadVectorData(ae,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),c(null),void(_.reloadCallback&&(this.loadTile(_,_.reloadCallback),_.reloadCallback=null)))}}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.actor&&_.actor.send("abortTile",{uid:_.uid,type:this.type,source:this.id})}unloadTile(_){_.unloadVectorData(),_.actor&&_.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Ye,"raster-dem":class extends Ye{constructor(_,c,p,T){super(_,c,p,T),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}loadTile(_,c){const p=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function T(N,q){N&&(_.state="errored",c(N)),q&&(_.dem=q,_.dem.onDeserialize(),_.needsHillshadePrepare=!0,_.needsDEMTextureUpload=!0,_.state="loaded",c(null))}_.request=s.getImage(this.map._requestManager.transformRequest(p,s.ResourceType.Tile),(function(N,q,ae,he){if(delete _.request,_.aborted)_.state="unloaded",c(null);else if(N)_.state="errored",c(N);else if(q){this.map._refreshExpiredTiles&&_.setExpiryData({cacheControl:ae,expires:he});const ye=s.window.ImageBitmap&&q instanceof s.window.ImageBitmap&&(ut==null&&(ut=s.window.OffscreenCanvas&&new s.window.OffscreenCanvas(1,1).getContext("2d")&&typeof s.window.createImageBitmap=="function"),ut),De=1-(q.width-s.prevPowerOfTwo(q.width))/2;De<1||_.neighboringTiles||(_.neighboringTiles=this._getNeighboringTiles(_.tileID));const Ae=ye?q:s.exported.getImageData(q,De),Fe={uid:_.uid,coord:_.tileID,source:this.id,rawImageData:Ae,encoding:this.encoding,padding:De};_.actor&&_.state!=="expired"||(_.actor=this.dispatcher.getActor(),_.actor.send("loadDEMTile",Fe,T.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(_){const c=_.canonical,p=Math.pow(2,c.z),T=(c.x-1+p)%p,N=c.x===0?_.wrap-1:_.wrap,q=(c.x+1+p)%p,ae=c.x+1===p?_.wrap+1:_.wrap,he={};return he[new s.OverscaledTileID(_.overscaledZ,N,c.z,T,c.y).key]={backfilled:!1},he[new s.OverscaledTileID(_.overscaledZ,ae,c.z,q,c.y).key]={backfilled:!1},c.y>0&&(he[new s.OverscaledTileID(_.overscaledZ,N,c.z,T,c.y-1).key]={backfilled:!1},he[new s.OverscaledTileID(_.overscaledZ,_.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},he[new s.OverscaledTileID(_.overscaledZ,ae,c.z,q,c.y-1).key]={backfilled:!1}),c.y+1<p&&(he[new s.OverscaledTileID(_.overscaledZ,N,c.z,T,c.y+1).key]={backfilled:!1},he[new s.OverscaledTileID(_.overscaledZ,_.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},he[new s.OverscaledTileID(_.overscaledZ,ae,c.z,q,c.y+1).key]={backfilled:!1}),he}unloadTile(_){_.demTexture&&this.map.painter.saveTileTexture(_.demTexture),_.fbo&&(_.fbo.destroy(),delete _.fbo),_.dem&&delete _.dem,delete _.neighboringTiles,_.state="unloaded"}},geojson:class extends s.Evented{constructor(_,c,p,T){super(),this.id=_,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=p.getActor(),this.setEventedParent(T),this._data=c.data,this._options=s.extend({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const N=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*N,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*N,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:s.EXTENT,radius:(c.clusterRadius!==void 0?c.clusterRadius:50)*N,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions)}onAdd(_){this.map=_,this.setData(this._data)}setData(_){return this._data=_,this._updateWorkerData(),this}getClusterExpansionZoom(_,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:_,source:this.id},c),this}getClusterChildren(_,c){return this.actor.send("geojson.getClusterChildren",{clusterId:_,source:this.id},c),this}getClusterLeaves(_,c,p,T){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:_,limit:c,offset:p},T),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new s.Event("dataloading",{dataType:"source"})),this._loaded=!1;const _=s.extend({},this.workerOptions),c=this._data;typeof c=="string"?(_.request=this.map._requestManager.transformRequest(s.exported.resolveURL(c),s.ResourceType.Source),_.request.collectResourceTiming=this._collectResourceTiming):_.data=JSON.stringify(c),this._pendingLoad=this.actor.send(`${this.type}.loadData`,_,(p,T)=>{if(this._loaded=!0,this._pendingLoad=null,p)this.fire(new s.ErrorEvent(p));else{const N={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&T&&T.resourceTiming&&T.resourceTiming[this.id]&&(N.resourceTiming=T.resourceTiming[this.id]),this.fire(new s.Event("data",N)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(_,c){const p=_.actor?"reloadTile":"loadTile";_.actor=this.actor,_.request=this.actor.send(p,{type:this.type,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(T,N)=>(delete _.request,_.unloadVectorData(),_.aborted?c(null):T?c(T):(_.loadVectorData(N,this.map.painter,p==="reloadTile"),c(null))),void 0,p==="loadTile")}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.aborted=!0}unloadTile(_){_.unloadVectorData(),this.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends vt{constructor(_,c,p,T){super(_,c,p,T),this.roundZoom=!0,this.type="video",this.options=c}load(){this._loaded=!1;const _=this.options;this.urls=[];for(const c of _.urls)this.urls.push(this.map._requestManager.transformRequest(c,s.ResourceType.Source).url);s.getVideo(this.urls,(c,p)=>{this._loaded=!0,c?this.fire(new s.ErrorEvent(c)):p&&(this.video=p,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(_){if(this.video){const c=this.video.seekable;_<c.start(0)||_>c.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=_}}getVideo(){return this.video}onAdd(_){this.map||(this.map=_,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,c=_.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(_,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(_)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:vt,canvas:class extends vt{constructor(_,c,p,T){super(_,c,p,T),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(N=>!Array.isArray(N)||N.length!==2||N.some(q=>typeof q!="number"))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof s.window.HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(_){this.map=_,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context;this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(c,this.canvas,c.gl.RGBA,{premultiply:!0}),this._prepareData(c)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const _ of[this.canvas.width,this.canvas.height])if(isNaN(_)||_<=0)return!0;return!1}},custom:class extends s.Evented{constructor(_,c,p,T){super(),this.id=_,this.type="custom",this._dataType="raster",this._dispatcher=p,this._implementation=c,this.setEventedParent(T),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new s.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new s.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ve(this._implementation.bounds,this.minzoom,this.maxzoom)),c.update=this._update.bind(this),c.clearTiles=this._clearTiles.bind(this),c.coveringTiles=this._coveringTiles.bind(this),s.extend(this,s.pick(c,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return s.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(_){this._map=_,this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(_),this.load()}onRemove(_){this._implementation.onRemove&&this._implementation.onRemove(_)}hasTile(_){if(this._implementation.hasTile){const{x:c,y:p,z:T}=_.canonical;return this._implementation.hasTile({x:c,y:p,z:T})}return!this.tileBounds||this.tileBounds.contains(_.canonical)}loadTile(_,c){const{x:p,y:T,z:N}=_.tileID.canonical,q=new s.window.AbortController;_.request=Promise.resolve(this._implementation.loadTile({x:p,y:T,z:N},{signal:q.signal})).then((function(ae){return delete _.request,_.aborted?(_.state="unloaded",c(null)):ae===void 0?(_.state="errored",c(null)):ae===null?(this.loadTileData(_,{width:this.tileSize,height:this.tileSize,data:null}),_.state="loaded",c(null)):function(he){return he instanceof s.window.ImageData||he instanceof s.window.HTMLCanvasElement||he instanceof s.window.ImageBitmap||he instanceof s.window.HTMLImageElement}(ae)?(this.loadTileData(_,ae),_.state="loaded",void c(null)):(_.state="errored",c(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(ae=>{ae.code!==20&&(_.state="errored",c(ae))}),_.request.cancel=()=>q.abort()}loadTileData(_,c){Ye.loadTileData(_,c,this._map.painter)}unloadTileData(_){Ye.unloadTileData(_,this._map.painter)}unloadTile(_,c){if(this.unloadTileData(_),this._implementation.unloadTile){const{x:p,y:T,z:N}=_.tileID.canonical;this._implementation.unloadTile({x:p,y:T,z:N})}c()}abortTile(_,c){_.request&&_.request.cancel&&(_.request.cancel(),delete _.request),c()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(_=>({x:_.canonical.x,y:_.canonical.y,z:_.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}}},kt=function(_,c,p,T){const N=new Ut[c.type](_,c,p,T);if(N.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${N.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],N),N};function Rt(_,c){const p=s.identity([]);return s.scale(p,p,[.5*_.width,.5*-_.height,1]),s.translate(p,p,[1,-1,0]),s.multiply(p,p,_.calculateProjMatrix(c.toUnwrapped())),Float32Array.from(p)}function Gt(_,c,p,T,N,q,ae,he=!1){const ye=_.tilesIn(T,ae,he);ye.sort(Xi);const De=[];for(const Fe of ye)De.push({wrappedTileID:Fe.tile.tileID.wrapped().key,queryResults:Fe.tile.queryRenderedFeatures(c,p,_._state,Fe,N,q,Rt(_.transform,Fe.tile.tileID),he)});const Ae=function(Fe){const Ke={},at={};for(const lt of Fe){const ht=lt.queryResults,et=lt.wrappedTileID,rt=at[et]=at[et]||{};for(const gt in ht){const ct=ht[gt],wt=rt[gt]=rt[gt]||{},Ot=Ke[gt]=Ke[gt]||[];for(const Et of ct)wt[Et.featureIndex]||(wt[Et.featureIndex]=!0,Ot.push(Et))}}return Ke}(De);for(const Fe in Ae)Ae[Fe].forEach(Ke=>{const at=Ke.feature,lt=at.layer;lt&&lt.type!=="background"&&lt.type!=="sky"&&(at.source=lt.source,lt["source-layer"]&&(at.sourceLayer=lt["source-layer"]),at.state=at.id!==void 0?_.getFeatureState(lt["source-layer"],at.id):{})});return Ae}function bi(_,c){const p=_.getRenderableIds().map(q=>_.getTileByID(q)),T=[],N={};for(let q=0;q<p.length;q++){const ae=p[q],he=ae.tileID.canonical.key;N[he]||(N[he]=!0,ae.querySourceFeatures(T,c))}return T}function Xi(_,c){const p=_.tileID,T=c.tileID;return p.overscaledZ-T.overscaledZ||p.canonical.y-T.canonical.y||p.wrap-T.wrap||p.canonical.x-T.canonical.x}function Ii(){return fd.workerClass!=null?new fd.workerClass:new s.window.Worker(fd.workerUrl)}const Mn="mapboxgl_preloaded_worker_pool";class Cn{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Cn.workerCount;)this.workers.push(new Ii);return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Mn]}numActive(){return Object.keys(this.active).length}}let pn;function qi(){return pn||(pn=new Cn),pn}function cr(_,c){const p={};for(const T in _)T!=="ref"&&(p[T]=_[T]);return s.refProperties.forEach(T=>{T in c&&(p[T]=c[T])}),p}function Dr(_){_=_.slice();const c=Object.create(null);for(let p=0;p<_.length;p++)c[_[p].id]=_[p];for(let p=0;p<_.length;p++)"ref"in _[p]&&(_[p]=cr(_[p],c[_[p].ref]));return _}Cn.workerCount=2;const vn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Xr(_,c,p){p.push({command:vn.addSource,args:[_,c[_]]})}function Rr(_,c,p){c.push({command:vn.removeSource,args:[_]}),p[_]=!0}function Ha(_,c,p,T){Rr(_,p,T),Xr(_,c,p)}function Wa(_,c,p){let T;for(T in _[p])if(_[p].hasOwnProperty(T)&&T!=="data"&&!v(_[p][T],c[p][T]))return!1;for(T in c[p])if(c[p].hasOwnProperty(T)&&T!=="data"&&!v(_[p][T],c[p][T]))return!1;return!0}function vo(_,c,p,T,N,q){let ae;for(ae in c=c||{},_=_||{})_.hasOwnProperty(ae)&&(v(_[ae],c[ae])||p.push({command:q,args:[T,ae,c[ae],N]}));for(ae in c)c.hasOwnProperty(ae)&&!_.hasOwnProperty(ae)&&(v(_[ae],c[ae])||p.push({command:q,args:[T,ae,c[ae],N]}))}function yi(_){return _.id}function ps(_,c){return _[c.id]=c,_}class Rs{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let T=1;T<this.points.length;T++)this._distances[T]=this._distances[T-1]+this.points[T].dist(this.points[T-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=s.clamp(c,0,1);let p=1,T=this._distances[p];const N=c*this.paddedLength+this.padding;for(;T<N&&p<this._distances.length;)T=this._distances[++p];const q=p-1,ae=this._distances[q],he=T-ae,ye=he>0?(N-ae)/he:0;return this.points[q].mult(1-ye).add(this.points[p].mult(ye))}}class Bs{constructor(c,p,T){const N=this.boxCells=[],q=this.circleCells=[];this.xCellCount=Math.ceil(c/T),this.yCellCount=Math.ceil(p/T);for(let ae=0;ae<this.xCellCount*this.yCellCount;ae++)N.push([]),q.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,T,N,q){this._forEachCell(p,T,N,q,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(T),this.bboxes.push(N),this.bboxes.push(q)}insertCircle(c,p,T,N){this._forEachCell(p-N,T-N,p+N,T+N,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(T),this.circles.push(N)}_insertBoxCell(c,p,T,N,q,ae){this.boxCells[q].push(ae)}_insertCircleCell(c,p,T,N,q,ae){this.circleCells[q].push(ae)}_query(c,p,T,N,q,ae){if(T<0||c>this.width||N<0||p>this.height)return!q&&[];const he=[];if(c<=0&&p<=0&&this.width<=T&&this.height<=N){if(q)return!0;for(let ye=0;ye<this.boxKeys.length;ye++)he.push({key:this.boxKeys[ye],x1:this.bboxes[4*ye],y1:this.bboxes[4*ye+1],x2:this.bboxes[4*ye+2],y2:this.bboxes[4*ye+3]});for(let ye=0;ye<this.circleKeys.length;ye++){const De=this.circles[3*ye],Ae=this.circles[3*ye+1],Fe=this.circles[3*ye+2];he.push({key:this.circleKeys[ye],x1:De-Fe,y1:Ae-Fe,x2:De+Fe,y2:Ae+Fe})}return ae?he.filter(ae):he}return this._forEachCell(c,p,T,N,this._queryCell,he,{hitTest:q,seenUids:{box:{},circle:{}}},ae),q?he.length>0:he}_queryCircle(c,p,T,N,q){const ae=c-T,he=c+T,ye=p-T,De=p+T;if(he<0||ae>this.width||De<0||ye>this.height)return!N&&[];const Ae=[];return this._forEachCell(ae,ye,he,De,this._queryCellCircle,Ae,{hitTest:N,circle:{x:c,y:p,radius:T},seenUids:{box:{},circle:{}}},q),N?Ae.length>0:Ae}query(c,p,T,N,q){return this._query(c,p,T,N,!1,q)}hitTest(c,p,T,N,q){return this._query(c,p,T,N,!0,q)}hitTestCircle(c,p,T,N){return this._queryCircle(c,p,T,!0,N)}_queryCell(c,p,T,N,q,ae,he,ye){const De=he.seenUids,Ae=this.boxCells[q];if(Ae!==null){const Ke=this.bboxes;for(const at of Ae)if(!De.box[at]){De.box[at]=!0;const lt=4*at;if(c<=Ke[lt+2]&&p<=Ke[lt+3]&&T>=Ke[lt+0]&&N>=Ke[lt+1]&&(!ye||ye(this.boxKeys[at]))){if(he.hitTest)return ae.push(!0),!0;ae.push({key:this.boxKeys[at],x1:Ke[lt],y1:Ke[lt+1],x2:Ke[lt+2],y2:Ke[lt+3]})}}}const Fe=this.circleCells[q];if(Fe!==null){const Ke=this.circles;for(const at of Fe)if(!De.circle[at]){De.circle[at]=!0;const lt=3*at;if(this._circleAndRectCollide(Ke[lt],Ke[lt+1],Ke[lt+2],c,p,T,N)&&(!ye||ye(this.circleKeys[at]))){if(he.hitTest)return ae.push(!0),!0;{const ht=Ke[lt],et=Ke[lt+1],rt=Ke[lt+2];ae.push({key:this.circleKeys[at],x1:ht-rt,y1:et-rt,x2:ht+rt,y2:et+rt})}}}}}_queryCellCircle(c,p,T,N,q,ae,he,ye){const De=he.circle,Ae=he.seenUids,Fe=this.boxCells[q];if(Fe!==null){const at=this.bboxes;for(const lt of Fe)if(!Ae.box[lt]){Ae.box[lt]=!0;const ht=4*lt;if(this._circleAndRectCollide(De.x,De.y,De.radius,at[ht+0],at[ht+1],at[ht+2],at[ht+3])&&(!ye||ye(this.boxKeys[lt])))return ae.push(!0),!0}}const Ke=this.circleCells[q];if(Ke!==null){const at=this.circles;for(const lt of Ke)if(!Ae.circle[lt]){Ae.circle[lt]=!0;const ht=3*lt;if(this._circlesCollide(at[ht],at[ht+1],at[ht+2],De.x,De.y,De.radius)&&(!ye||ye(this.circleKeys[lt])))return ae.push(!0),!0}}}_forEachCell(c,p,T,N,q,ae,he,ye){const De=this._convertToXCellCoord(c),Ae=this._convertToYCellCoord(p),Fe=this._convertToXCellCoord(T),Ke=this._convertToYCellCoord(N);for(let at=De;at<=Fe;at++)for(let lt=Ae;lt<=Ke;lt++)if(q.call(this,c,p,T,N,this.xCellCount*lt+at,ae,he,ye))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,T,N,q,ae){const he=N-c,ye=q-p,De=T+ae;return De*De>he*he+ye*ye}_circleAndRectCollide(c,p,T,N,q,ae,he){const ye=(ae-N)/2,De=Math.abs(c-(N+ye));if(De>ye+T)return!1;const Ae=(he-q)/2,Fe=Math.abs(p-(q+Ae));if(Fe>Ae+T)return!1;if(De<=ye||Fe<=Ae)return!0;const Ke=De-ye,at=Fe-Ae;return Ke*Ke+at*at<=T*T}}const wc=Math.tan(85*Math.PI/180);function Io(_,c,p,T,N,q,ae){const he=s.create();if(p)if(q.name==="globe"){const ye=s.calculateGlobeLabelMatrix(N,c);s.multiply(he,he,ye)}else{const ye=$([],ae);he[0]=ye[0],he[1]=ye[1],he[4]=ye[2],he[5]=ye[3],T||s.rotateZ(he,he,N.angle)}else s.multiply(he,N.labelPlaneMatrix,_);return he}function Jc(_,c,p,T,N,q,ae){const he=Io(_,c,p,T,N,q,ae);return q.name==="globe"&&p||(he[2]=he[6]=he[10]=he[14]=0),he}function ld(_,c,p,T,N,q,ae){if(p){if(q.name==="globe"){const he=Io(_,c,p,T,N,q,ae);return s.invert(he,he),s.multiply(he,_,he),he}{const he=s.clone(_),ye=s.identity([]);return ye[0]=ae[0],ye[1]=ae[1],ye[4]=ae[2],ye[5]=ae[3],s.multiply(he,he,ye),T||s.rotateZ(he,he,-N.angle),he}}return N.glCoordMatrix}function fo(_,c,p,T){const N=[_,c,p,1];p?s.transformMat4$1(N,N,T):Hr(N,N,T);const q=N[3];return N[0]/=q,N[1]/=q,N[2]/=q,N}function en(_,c){return Math.min(.5+_/c*.5,1.5)}function ir(_,c){const p=_[0]/_[3],T=_[1]/_[3];return p>=-c[0]&&p<=c[0]&&T>=-c[1]&&T<=c[1]}function ur(_,c,p,T,N,q,ae,he,ye,De){const Ae=p.transform,Fe=T?_.textSizeData:_.iconSizeData,Ke=s.evaluateSizeForZoom(Fe,p.transform.zoom),at=Ae.projection.name==="globe",lt=[256/p.width*2+1,256/p.height*2+1],ht=T?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;ht.clear();let et=null;at&&(et=T?_.text.globeExtVertexArray:_.icon.globeExtVertexArray);const rt=_.lineVertexArray,gt=T?_.text.placedSymbolArray:_.icon.placedSymbolArray,ct=p.transform.width/p.transform.height;let wt,Ot=!1;for(let Et=0;Et<gt.length;Et++){const Vt=gt.get(Et),{numGlyphs:ni,writingMode:Qt}=Vt;if(Qt!==s.WritingMode.vertical||Ot||wt===s.WritingMode.horizontal||(Ot=!0),wt=Qt,(Vt.hidden||Qt===s.WritingMode.vertical)&&!Ot){ro(ni,ht);continue}Ot=!1;const Yt=new s.pointGeometry(Vt.tileAnchorX,Vt.tileAnchorY);let{x:Ai,y:Kt,z:vi}=Ae.projection.projectTilePoint(Yt.x,Yt.y,De.canonical);if(ye){const[Sn,yn,$n]=ye(Yt);Ai+=Sn,Kt+=yn,vi+=$n}const si=[Ai,Kt,vi,1];if(s.transformMat4$1(si,si,c),!ir(si,lt)){ro(ni,ht);continue}const Ri=en(p.transform.cameraToCenterDistance,si[3]),oi=s.evaluateSizeForFeature(Fe,Ke,Vt),Ci=ae?oi/Ri:oi*Ri,zi=fo(Ai,Kt,vi,N);if(zi[3]<=0){ro(ni,ht);continue}let Xt={};const ri=ae?null:ye,gn=jn(Vt,Ci,!1,he,c,N,q,_.glyphOffsetArray,rt,ht,et,zi,Yt,Xt,ct,ri,Ae.projection,De,ae);Ot=gn.useVertical,ri&&gn.needsFlipping&&(Xt={}),(gn.notEnoughRoom||Ot||gn.needsFlipping&&jn(Vt,Ci,!0,he,c,N,q,_.glyphOffsetArray,rt,ht,et,zi,Yt,Xt,ct,ri,Ae.projection,De,ae).notEnoughRoom)&&ro(ni,ht)}T?(_.text.dynamicLayoutVertexBuffer.updateData(ht),et&&_.text.globeExtVertexBuffer.updateData(et)):(_.icon.dynamicLayoutVertexBuffer.updateData(ht),et&&_.icon.globeExtVertexBuffer.updateData(et))}function ra(_,c,p,T,N,q,ae,he,ye,De,Ae,Fe,Ke,at,lt,ht){const{lineStartIndex:et,glyphStartIndex:rt,segment:gt}=he,ct=rt+he.numGlyphs,wt=et+he.lineLength,Ot=c.getoffsetX(rt),Et=c.getoffsetX(ct-1),Vt=ol(_*Ot,p,T,N,q,ae,gt,et,wt,ye,De,Ae,Fe,Ke,!0,at,lt,ht);if(!Vt)return null;const ni=ol(_*Et,p,T,N,q,ae,gt,et,wt,ye,De,Ae,Fe,Ke,!0,at,lt,ht);return ni?{first:Vt,last:ni}:null}function Ya(_,c,p,T){return _===s.WritingMode.horizontal&&Math.abs(T)>Math.abs(p)?{useVertical:!0}:_===s.WritingMode.vertical?T>0?{needsFlipping:!0}:null:c!==0&&function(N,q){return N===0||Math.abs(q/N)>wc}(p,T)?c===1?{needsFlipping:!0}:null:p<0?{needsFlipping:!0}:null}function jn(_,c,p,T,N,q,ae,he,ye,De,Ae,Fe,Ke,at,lt,ht,et,rt,gt){const ct=c/24,wt=_.lineOffsetX*ct,Ot=_.lineOffsetY*ct,{lineStartIndex:Et,glyphStartIndex:Vt,numGlyphs:ni,segment:Qt,writingMode:Yt,flipState:Ai}=_,Kt=Et+_.lineLength,vi=si=>{if(Ae){const[zi,Xt,ri]=si.up,gn=De.length;s.updateGlobeVertexNormal(Ae,gn+0,zi,Xt,ri),s.updateGlobeVertexNormal(Ae,gn+1,zi,Xt,ri),s.updateGlobeVertexNormal(Ae,gn+2,zi,Xt,ri),s.updateGlobeVertexNormal(Ae,gn+3,zi,Xt,ri)}const[Ri,oi,Ci]=si.point;s.addDynamicAttributes(De,Ri,oi,Ci,si.angle)};if(ni>1){const si=ra(ct,he,wt,Ot,p,Fe,Ke,_,ye,q,at,ht,!1,et,rt,gt);if(!si)return{notEnoughRoom:!0};if(T&&!p){let[Ri,oi,Ci]=si.first.point,[zi,Xt,ri]=si.last.point;[Ri,oi]=fo(Ri,oi,Ci,ae),[zi,Xt]=fo(zi,Xt,ri,ae);const gn=Ya(Yt,Ai,(zi-Ri)*lt,Xt-oi);if(_.flipState=gn&&gn.needsFlipping?1:2,gn)return gn}vi(si.first);for(let Ri=Vt+1;Ri<Vt+ni-1;Ri++){const oi=ol(ct*he.getoffsetX(Ri),wt,Ot,p,Fe,Ke,Qt,Et,Kt,ye,q,at,ht,!1,!1,et,rt,gt);if(!oi)return De.length-=4*(Ri-Vt),{notEnoughRoom:!0};vi(oi)}vi(si.last)}else{if(T&&!p){const Ri=fo(Ke.x,Ke.y,0,N),oi=Et+Qt+1,Ci=new s.pointGeometry(ye.getx(oi),ye.gety(oi)),zi=fo(Ci.x,Ci.y,0,N),Xt=zi[3]>0?zi:Aa(Ke,Ci,Ri,1,N,void 0,et,rt.canonical),ri=Ya(Yt,Ai,(Xt[0]-Ri[0])*lt,Xt[1]-Ri[1]);if(_.flipState=ri&&ri.needsFlipping?1:2,ri)return ri}const si=ol(ct*he.getoffsetX(Vt),wt,Ot,p,Fe,Ke,Qt,Et,Kt,ye,q,at,ht,!1,!1,et,rt,gt);if(!si)return{notEnoughRoom:!0};vi(si)}return{}}function Tc(_,c,p,T,N){const{x:q,y:ae,z:he}=T.projectTilePoint(_.x,_.y,c);if(!N)return fo(q,ae,he,p);const[ye,De,Ae]=N(_);return fo(q+ye,ae+De,he+Ae,p)}function Aa(_,c,p,T,N,q,ae,he){const ye=Tc(_.sub(c)._unit()._add(_),he,N,ae,q);return s.sub(ye,p,ye),s.normalize(ye,ye),s.scaleAndAdd(ye,p,ye,T)}function ol(_,c,p,T,N,q,ae,he,ye,De,Ae,Fe,Ke,at,lt,ht,et,rt){const gt=T?_-c:_+c;let ct=gt>0?1:-1,wt=0;T&&(ct*=-1,wt=Math.PI),ct<0&&(wt+=Math.PI);let Ot=he+ae+(ct>0?0:1)|0,Et=N,Vt=N,ni=0,Qt=0;const Yt=Math.abs(gt),Ai=[],Kt=[];let vi=q,si=vi;const Ri=()=>Aa(si,vi,Vt,Yt-ni+1,Ae,Ke,ht,et.canonical);for(;ni+Qt<=Yt;){if(Ot+=ct,Ot<he||Ot>=ye)return null;if(Vt=Et,si=vi,Ai.push(Vt),at&&Kt.push(si),vi=new s.pointGeometry(De.getx(Ot),De.gety(Ot)),Et=Fe[Ot],!Et){const $n=Tc(vi,et.canonical,Ae,ht,Ke);Et=$n[3]>0?Fe[Ot]=$n:Ri()}ni+=Qt,Qt=s.distance(Vt,Et)}lt&&Ke&&(Fe[Ot]&&(Et=Ri(),Qt=s.distance(Vt,Et)),Fe[Ot]=Et);const oi=(Yt-ni)/Qt,Ci=vi.sub(si)._mult(oi)._add(si),zi=s.sub([],Et,Vt),Xt=s.scaleAndAdd([],Vt,zi,oi);let ri=[0,0,1],gn=zi[0],Sn=zi[1];if(rt&&(ri=ht.upVector(et.canonical,Ci.x,Ci.y),ri[0]!==0||ri[1]!==0||ri[2]!==1)){const $n=[ri[2],0,-ri[0]],lr=s.cross([],ri,$n);s.normalize($n,$n),s.normalize(lr,lr),gn=s.dot(zi,$n),Sn=s.dot(zi,lr)}if(p){const $n=s.cross([],ri,zi);s.normalize($n,$n),s.scaleAndAdd(Xt,Xt,$n,p*ct)}const yn=wt+Math.atan2(Sn,gn);return Ai.push(Xt),at&&Kt.push(Ci),{point:Xt,angle:yn,path:Ai,tilePath:Kt,up:ri}}function ro(_,c){const p=c.length,T=p+4*_;c.resize(T),c.float32.fill(-1/0,4*p,4*T)}function Hr(_,c,p){const T=c[0],N=c[1];return _[0]=p[0]*T+p[4]*N+p[12],_[1]=p[1]*T+p[5]*N+p[13],_[3]=p[3]*T+p[7]*N+p[15],_}const mo=100;class Yo{constructor(c,p,T=new Bs(c.width+200,c.height+200,25),N=new Bs(c.width+200,c.height+200,25)){this.transform=c,this.grid=T,this.ignoredGrid=N,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+mo,this.screenBottomBoundary=c.height+mo,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.fogState=p}placeCollisionBox(c,p,T,N,q,ae,he,ye){let De=T.projectedAnchorX,Ae=T.projectedAnchorY,Fe=T.projectedAnchorZ;const Ke=T.elevation,at=T.tileID,lt=c.getProjection();if(Ke&&at){const[Et,Vt,ni]=lt.upVector(at.canonical,T.tileAnchorX,T.tileAnchorY),Qt=lt.upVectorScale(at.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;De+=Et*Ke*Qt,Ae+=Vt*Ke*Qt,Fe+=ni*Ke*Qt}const ht=this.projectAndGetPerspectiveRatio(he,De,Ae,Fe,T.tileID,lt.name==="globe"||!!Ke||this.transform.pitch>0,lt),et=ae*ht.perspectiveRatio,rt=(T.x1*p+N.x-T.padding)*et+ht.point.x,gt=(T.y1*p+N.y-T.padding)*et+ht.point.y,ct=(T.x2*p+N.x+T.padding)*et+ht.point.x,wt=(T.y2*p+N.y+T.padding)*et+ht.point.y,Ot=ht.perspectiveRatio<=.55||ht.occluded;return!this.isInsideGrid(rt,gt,ct,wt)||!q&&this.grid.hitTest(rt,gt,ct,wt,ye)||Ot?{box:[],offscreen:!1,occluded:ht.occluded}:{box:[rt,gt,ct,wt],offscreen:this.isOffscreen(rt,gt,ct,wt),occluded:!1}}placeCollisionCircles(c,p,T,N,q,ae,he,ye,De,Ae,Fe,Ke,at,lt,ht){const et=[],rt=this.transform.elevation,gt=c.getProjection(),ct=rt?rt.getAtTileOffsetFunc(ht,this.transform.center.lat,this.transform.worldSize,gt):null,wt=new s.pointGeometry(T.tileAnchorX,T.tileAnchorY);let{x:Ot,y:Et,z:Vt}=gt.projectTilePoint(wt.x,wt.y,ht.canonical);if(ct){const[Ci,zi,Xt]=ct(wt);Ot+=Ci,Et+=zi,Vt+=Xt}const ni=gt.name==="globe",Qt=this.projectAndGetPerspectiveRatio(he,Ot,Et,Vt,ht,ni||!!rt||this.transform.pitch>0,gt),{perspectiveRatio:Yt}=Qt,Ai=(Fe?ae/Yt:ae*Yt)/s.ONE_EM,Kt=fo(Ot,Et,Vt,ye),vi=Qt.signedDistanceFromCamera>0?ra(Ai,q,T.lineOffsetX*Ai,T.lineOffsetY*Ai,!1,Kt,wt,T,N,ye,{},rt&&!Fe?ct:null,Fe&&!!rt,gt,ht,Fe):null;let si=!1,Ri=!1,oi=!0;if(vi&&!Qt.occluded){const Ci=.5*at*Yt+lt,zi=new s.pointGeometry(-100,-100),Xt=new s.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),ri=new Rs,{first:gn,last:Sn}=vi,yn=gn.path.length;let $n=[];for(let hn=yn-1;hn>=1;hn--)$n.push(gn.path[hn]);for(let hn=1;hn<Sn.path.length;hn++)$n.push(Sn.path[hn]);const lr=2.5*Ci;De&&($n=$n.map(([hn,ns,Wr],ss)=>(ct&&!ni&&(Wr=ct(ss<yn-1?gn.tilePath[yn-1-ss]:Sn.tilePath[ss-yn+2])[2]),fo(hn,ns,Wr,De))),$n.some(hn=>hn[3]<=0)&&($n=[]));let An=[];if($n.length>0){let hn=1/0,ns=-1/0,Wr=1/0,ss=-1/0;for(const ts of $n)hn=Math.min(hn,ts[0]),Wr=Math.min(Wr,ts[1]),ns=Math.max(ns,ts[0]),ss=Math.max(ss,ts[1]);ns>=zi.x&&hn<=Xt.x&&ss>=zi.y&&Wr<=Xt.y&&(An=[$n.map(ts=>new s.pointGeometry(ts[0],ts[1]))],(hn<zi.x||ns>Xt.x||Wr<zi.y||ss>Xt.y)&&(An=s.clipLine(An,zi.x,zi.y,Xt.x,Xt.y)))}for(const hn of An){ri.reset(hn,.25*Ci);let ns=0;ns=ri.length<=.5*Ci?1:Math.ceil(ri.paddedLength/lr)+1;for(let Wr=0;Wr<ns;Wr++){const ss=Wr/Math.max(ns-1,1),ts=ri.lerp(ss),Xa=ts.x+mo,Ia=ts.y+mo;et.push(Xa,Ia,Ci,0);const Ta=Xa-Ci,lc=Ia-Ci,gs=Xa+Ci,is=Ia+Ci;if(oi=oi&&this.isOffscreen(Ta,lc,gs,is),Ri=Ri||this.isInsideGrid(Ta,lc,gs,is),!p&&this.grid.hitTestCircle(Xa,Ia,Ci,Ke)&&(si=!0,!Ae))return{circles:[],offscreen:!1,collisionDetected:si,occluded:!1}}}}return{circles:!Ae&&si||!Ri?[]:et,offscreen:oi,collisionDetected:si,occluded:Qt.occluded}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let T=1/0,N=1/0,q=-1/0,ae=-1/0;for(const Ae of c){const Fe=new s.pointGeometry(Ae.x+mo,Ae.y+mo);T=Math.min(T,Fe.x),N=Math.min(N,Fe.y),q=Math.max(q,Fe.x),ae=Math.max(ae,Fe.y),p.push(Fe)}const he=this.grid.query(T,N,q,ae).concat(this.ignoredGrid.query(T,N,q,ae)),ye={},De={};for(const Ae of he){const Fe=Ae.key;if(ye[Fe.bucketInstanceId]===void 0&&(ye[Fe.bucketInstanceId]={}),ye[Fe.bucketInstanceId][Fe.featureIndex])continue;const Ke=[new s.pointGeometry(Ae.x1,Ae.y1),new s.pointGeometry(Ae.x2,Ae.y1),new s.pointGeometry(Ae.x2,Ae.y2),new s.pointGeometry(Ae.x1,Ae.y2)];s.polygonIntersectsPolygon(p,Ke)&&(ye[Fe.bucketInstanceId][Fe.featureIndex]=!0,De[Fe.bucketInstanceId]===void 0&&(De[Fe.bucketInstanceId]=[]),De[Fe.bucketInstanceId].push(Fe.featureIndex))}return De}insertCollisionBox(c,p,T,N,q){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:T,featureIndex:N,collisionGroupID:q},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,T,N,q){const ae=p?this.ignoredGrid:this.grid,he={bucketInstanceId:T,featureIndex:N,collisionGroupID:q};for(let ye=0;ye<c.length;ye+=4)ae.insertCircle(he,c[ye],c[ye+1],c[ye+2])}projectAndGetPerspectiveRatio(c,p,T,N,q,ae,he){const ye=[p,T,N,1];let De=!1;if(N||this.transform.pitch>0){s.transformMat4$1(ye,ye,c);const Fe=he.name==="globe";this.fogState&&q&&!Fe&&(De=function(at,lt,ht,et,rt,gt){const ct=gt.calculateFogTileMatrix(rt),wt=[lt,ht,et];return s.transformMat4(wt,wt,ct),X(at,wt,gt.pitch,gt._fov)}(this.fogState,p,T,N,q.toUnwrapped(),this.transform)>.9)}else Hr(ye,ye,c);const Ae=ye[3];return{point:new s.pointGeometry((ye[0]/Ae+1)/2*this.transform.width+mo,(-ye[1]/Ae+1)/2*this.transform.height+mo),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(he)/Ae*.5,1.5),signedDistanceFromCamera:Ae,occluded:ae&&ye[2]>Ae||De}}isOffscreen(c,p,T,N){return T<mo||c>=this.screenRightBoundary||N<mo||p>this.screenBottomBoundary}isInsideGrid(c,p,T,N){return T>=0&&c<this.gridRightBoundary&&N>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=s.identity([]);return s.translate(c,c,[-100,-100,0]),c}}function Yl(_,c,p){const T=c.createTileMatrix(_,_.worldSize,p.toUnwrapped());return s.multiply(new Float32Array(16),_.projMatrix,T)}function _a(_,c,p){if(c.projection.name===p.projection.name)return _.projMatrix;const T=p.clone();return T.setProjection(c.projection),Yl(T,c.getProjection(),_)}function bl(_,c,p){return c.name===p.projection.name?_.projMatrix:Yl(p,c,_)}class wl{constructor(c,p,T,N){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):N&&T?1:0,this.placed=T}isHidden(){return this.opacity===0&&!this.placed}}class al{constructor(c,p,T,N,q,ae=!1){this.text=new wl(c?c.text:null,p,T,q),this.icon=new wl(c?c.icon:null,p,N,q),this.clipped=ae}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Tl{constructor(c,p,T,N=!1){this.text=c,this.icon=p,this.skipFade=T,this.clipped=N}}class Qc{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class eu{constructor(c,p,T,N,q){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=T,this.bucketIndex=N,this.tileID=q}}class Fo{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:T=>T.collisionGroupID===p}}return this.collisionGroups[c]}}function Ps(_,c,p,T,N){const{horizontalAlign:q,verticalAlign:ae}=s.getAnchorAlignment(_),he=-(q-.5)*c,ye=-(ae-.5)*p,De=s.evaluateVariableOffset(_,T);return new s.pointGeometry(he+De[0]*N,ye+De[1]*N)}function ql(_,c,p,T,N){const q=new s.pointGeometry(_,c);return p&&q._rotate(T?N:-N),q}class ll{constructor(c,p,T,N,q){this.transform=c.clone(),this.projection=c.projection.name,this.collisionIndex=new Yo(this.transform,q),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new Fo(T),this.collisionCircleArrays={},this.prevPlacement=N,N&&(N.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,T,N){const q=T.getBucket(p),ae=T.latestFeatureIndex;if(!q||!ae||p.id!==q.layerIds[0])return;const he=q.layers[0].layout,ye=T.collisionBoxArray,De=Math.pow(2,this.transform.zoom-T.tileID.overscaledZ),Ae=T.tileSize/s.EXTENT,Fe=T.tileID.toUnwrapped();this.transform.setProjection(q.projection);const Ke=(at=T.tileID,lt=q.getProjection(),ht=this.transform,lt.name===this.projection?ht.calculateProjMatrix(at.toUnwrapped()):Yl(ht,lt,at));var at,lt,ht;const et=he.get("text-pitch-alignment")==="map",rt=he.get("text-rotation-alignment")==="map";p.compileFilter();const gt=p.dynamicFilter(),ct=p.dynamicFilterNeedsFeature(),wt=this.transform.calculatePixelsToTileUnitsMatrix(T),Ot=Jc(Ke,T.tileID.canonical,et,rt,this.transform,q.getProjection(),wt);let Et=null;if(et){const Qt=ld(Ke,T.tileID.canonical,et,rt,this.transform,q.getProjection(),wt);Et=s.multiply([],this.transform.labelPlaneMatrix,Qt)}let Vt=null;gt&&T.latestFeatureIndex&&(Vt={unwrappedTileID:Fe,dynamicFilter:gt,dynamicFilterNeedsFeature:ct,featureIndex:T.latestFeatureIndex}),this.retainedQueryData[q.bucketInstanceId]=new eu(q.bucketInstanceId,ae,q.sourceLayerIndex,q.index,T.tileID);const ni={bucket:q,layout:he,posMatrix:Ke,textLabelPlaneMatrix:Ot,labelToScreenMatrix:Et,clippingData:Vt,scale:De,textPixelRatio:Ae,holdingForFade:T.holdingForFade(),collisionBoxArray:ye,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(q.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:s.evaluateSizeForZoom(q.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(q.sourceID)};if(N)for(const Qt of q.sortKeyRanges){const{sortKey:Yt,symbolInstanceStart:Ai,symbolInstanceEnd:Kt}=Qt;c.push({sortKey:Yt,symbolInstanceStart:Ai,symbolInstanceEnd:Kt,parameters:ni})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:q.symbolInstances.length,parameters:ni})}attemptAnchorPlacement(c,p,T,N,q,ae,he,ye,De,Ae,Fe,Ke,at,lt,ht,et,rt,gt){const{textOffset0:ct,textOffset1:wt,crossTileID:Ot}=Ke,Et=[ct,wt],Vt=Ps(c,T,N,Et,q),ni=this.collisionIndex.placeCollisionBox(lt,q,p,ql(Vt.x,Vt.y,ae,he,this.transform.angle),Fe,ye,De,Ae.predicate);if(et){const Qt=lt.getSymbolInstanceIconSize(gt,this.transform.zoom,Ke.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(lt,Qt,et,ql(Vt.x,Vt.y,ae,he,this.transform.angle),Fe,ye,De,Ae.predicate).box.length===0)return}if(ni.box.length>0){let Qt;return this.prevPlacement&&this.prevPlacement.variableOffsets[Ot]&&this.prevPlacement.placements[Ot]&&this.prevPlacement.placements[Ot].text&&(Qt=this.prevPlacement.variableOffsets[Ot].anchor),this.variableOffsets[Ot]={textOffset:Et,width:T,height:N,anchor:c,textScale:q,prevAnchor:Qt},this.markUsedJustification(lt,c,Ke,ht),lt.allowVerticalPlacement&&(this.markUsedOrientation(lt,ht,Ke),this.placedOrientations[Ot]=ht),{shift:Vt,placedGlyphBoxes:ni}}}placeLayerBucketPart(c,p,T,N){const{bucket:q,layout:ae,posMatrix:he,textLabelPlaneMatrix:ye,labelToScreenMatrix:De,clippingData:Ae,textPixelRatio:Fe,holdingForFade:Ke,collisionBoxArray:at,partiallyEvaluatedTextSize:lt,partiallyEvaluatedIconSize:ht,collisionGroup:et}=c.parameters,rt=ae.get("text-optional"),gt=ae.get("icon-optional"),ct=ae.get("text-allow-overlap"),wt=ae.get("icon-allow-overlap"),Ot=ae.get("text-rotation-alignment")==="map",Et=ae.get("text-pitch-alignment")==="map",Vt=ae.get("icon-text-fit")!=="none",ni=ae.get("symbol-z-order")==="viewport-y";this.transform.setProjection(q.projection);let Qt=ct&&(wt||!q.hasIconData()||gt),Yt=wt&&(ct||!q.hasTextData()||rt);!q.collisionArrays&&at&&q.deserializeCollisionBoxes(at),T&&N&&q.updateCollisionDebugBuffers(this.transform.zoom,at);const Ai=(Kt,vi,si)=>{const{crossTileID:Ri,numVerticalGlyphVertices:oi}=Kt;if(Ae){const gs={zoom:this.transform.zoom,pitch:this.transform.pitch};let is=null;if(Ae.dynamicFilterNeedsFeature){const $r=this.retainedQueryData[q.bucketInstanceId];is=Ae.featureIndex.loadFeature({featureIndex:Kt.featureIndex,bucketIndex:$r.bucketIndex,sourceLayerIndex:$r.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Ae.dynamicFilter)(gs,is,this.retainedQueryData[q.bucketInstanceId].tileID.canonical,new s.pointGeometry(Kt.tileAnchorX,Kt.tileAnchorY),this.transform.calculateDistanceTileData(Ae.unwrappedTileID)))return this.placements[Ri]=new Tl(!1,!1,!1,!0),void(p[Ri]=!0)}if(p[Ri])return;if(Ke)return void(this.placements[Ri]=new Tl(!1,!1,!1));let Ci=!1,zi=!1,Xt=!0,ri=!1,gn=!1,Sn=null,yn={box:null,offscreen:null,occluded:null},$n={box:null,offscreen:null,occluded:null},lr=null,An=null,hn=null,ns=0,Wr=0,ss=0;si.textFeatureIndex?ns=si.textFeatureIndex:Kt.useRuntimeCollisionCircles&&(ns=Kt.featureIndex),si.verticalTextFeatureIndex&&(Wr=si.verticalTextFeatureIndex);const ts=gs=>{gs.tileID=this.retainedQueryData[q.bucketInstanceId].tileID;const is=this.transform.elevation;(is||gs.elevation)&&(gs.elevation=is?is.getAtTileOffset(gs.tileID,gs.tileAnchorX,gs.tileAnchorY):0)},Xa=si.textBox;if(Xa){ts(Xa);const gs=$r=>{let uo=s.WritingMode.horizontal;if(q.allowVerticalPlacement&&!$r&&this.prevPlacement){const ua=this.prevPlacement.placedOrientations[Ri];ua&&(this.placedOrientations[Ri]=ua,uo=ua,this.markUsedOrientation(q,uo,Kt))}return uo},is=($r,uo)=>{if(q.allowVerticalPlacement&&oi>0&&si.verticalTextBox){for(const ua of q.writingModes)if(ua===s.WritingMode.vertical?(yn=uo(),$n=yn):yn=$r(),yn&&yn.box&&yn.box.length)break}else yn=$r()};if(ae.get("text-variable-anchor")){let $r=ae.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ri]){const ys=this.prevPlacement.variableOffsets[Ri];$r.indexOf(ys.anchor)>0&&($r=$r.filter(Sa=>Sa!==ys.anchor),$r.unshift(ys.anchor))}const uo=(ys,Sa,kh)=>{const cc=q.getSymbolInstanceTextSize(lt,Kt,this.transform.zoom,vi),da=(ys.x2-ys.x1)*cc+2*ys.padding,Za=(ys.y2-ys.y1)*cc+2*ys.padding,Dc=Vt&&!wt?Sa:null;Dc&&ts(Dc);let Al={box:[],offscreen:!1,occluded:!1};const _r=ct?2*$r.length:$r.length;for(let Xd=0;Xd<_r;++Xd){const Ic=this.attemptAnchorPlacement($r[Xd%$r.length],ys,da,Za,cc,Ot,Et,Fe,he,et,Xd>=$r.length,Kt,vi,q,kh,Dc,lt,ht);if(Ic&&(Al=Ic.placedGlyphBoxes,Al&&Al.box&&Al.box.length)){Ci=!0,Sn=Ic.shift;break}}return Al};is(()=>uo(Xa,si.iconBox,s.WritingMode.horizontal),()=>{const ys=si.verticalTextBox;return ys&&ts(ys),q.allowVerticalPlacement&&!(yn&&yn.box&&yn.box.length)&&oi>0&&ys?uo(ys,si.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),yn&&(Ci=yn.box,Xt=yn.offscreen,ri=yn.occluded);const ua=gs(yn&&yn.box);if(!Ci&&this.prevPlacement){const ys=this.prevPlacement.variableOffsets[Ri];ys&&(this.variableOffsets[Ri]=ys,this.markUsedJustification(q,ys.anchor,Kt,ua))}}else{const $r=(uo,ua)=>{const ys=q.getSymbolInstanceTextSize(lt,Kt,this.transform.zoom,vi),Sa=this.collisionIndex.placeCollisionBox(q,ys,uo,new s.pointGeometry(0,0),ct,Fe,he,et.predicate);return Sa&&Sa.box&&Sa.box.length&&(this.markUsedOrientation(q,ua,Kt),this.placedOrientations[Ri]=ua),Sa};is(()=>$r(Xa,s.WritingMode.horizontal),()=>{const uo=si.verticalTextBox;return q.allowVerticalPlacement&&oi>0&&uo?(ts(uo),$r(uo,s.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),gs(yn&&yn.box&&yn.box.length)}}if(lr=yn,Ci=lr&&lr.box&&lr.box.length>0,Xt=lr&&lr.offscreen,ri=lr&&lr.occluded,Kt.useRuntimeCollisionCircles){const gs=q.text.placedSymbolArray.get(Kt.centerJustifiedTextSymbolIndex>=0?Kt.centerJustifiedTextSymbolIndex:Kt.verticalPlacedTextSymbolIndex),is=s.evaluateSizeForFeature(q.textSizeData,lt,gs),$r=ae.get("text-padding");An=this.collisionIndex.placeCollisionCircles(q,ct,gs,q.lineVertexArray,q.glyphOffsetArray,is,he,ye,De,T,Et,et.predicate,Kt.collisionCircleDiameter*is/s.ONE_EM,$r,this.retainedQueryData[q.bucketInstanceId].tileID),Ci=ct||An.circles.length>0&&!An.collisionDetected,Xt=Xt&&An.offscreen,ri=An.occluded}if(si.iconFeatureIndex&&(ss=si.iconFeatureIndex),si.iconBox){const gs=is=>{ts(is);const $r=Vt&&Sn?ql(Sn.x,Sn.y,Ot,Et,this.transform.angle):new s.pointGeometry(0,0),uo=q.getSymbolInstanceIconSize(ht,this.transform.zoom,Kt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(q,uo,is,$r,wt,Fe,he,et.predicate)};$n&&$n.box&&$n.box.length&&si.verticalIconBox?(hn=gs(si.verticalIconBox),zi=hn.box.length>0):(hn=gs(si.iconBox),zi=hn.box.length>0),Xt=Xt&&hn.offscreen,gn=hn.occluded}const Ia=rt||Kt.numHorizontalGlyphVertices===0&&oi===0,Ta=gt||Kt.numIconVertices===0;if(Ia||Ta?Ta?Ia||(zi=zi&&Ci):Ci=zi&&Ci:zi=Ci=zi&&Ci,Ci&&lr&&lr.box&&this.collisionIndex.insertCollisionBox(lr.box,ae.get("text-ignore-placement"),q.bucketInstanceId,$n&&$n.box&&Wr?Wr:ns,et.ID),zi&&hn&&this.collisionIndex.insertCollisionBox(hn.box,ae.get("icon-ignore-placement"),q.bucketInstanceId,ss,et.ID),An&&(Ci&&this.collisionIndex.insertCollisionCircles(An.circles,ae.get("text-ignore-placement"),q.bucketInstanceId,ns,et.ID),T)){const gs=q.bucketInstanceId;let is=this.collisionCircleArrays[gs];is===void 0&&(is=this.collisionCircleArrays[gs]=new Qc);for(let $r=0;$r<An.circles.length;$r+=4)is.circles.push(An.circles[$r+0]),is.circles.push(An.circles[$r+1]),is.circles.push(An.circles[$r+2]),is.circles.push(An.collisionDetected?1:0)}const lc=q.projection.name!=="globe";Qt=Qt&&(lc||!ri),Yt=Yt&&(lc||!gn),this.placements[Ri]=new Tl(Ci||Qt,zi||Yt,Xt||q.justReloaded),p[Ri]=!0};if(ni){const Kt=q.getSortedSymbolIndexes(this.transform.angle);for(let vi=Kt.length-1;vi>=0;--vi){const si=Kt[vi];Ai(q.symbolInstances.get(si),si,q.collisionArrays[si])}}else for(let Kt=c.symbolInstanceStart;Kt<c.symbolInstanceEnd;Kt++)Ai(q.symbolInstances.get(Kt),Kt,q.collisionArrays[Kt]);if(T&&q.bucketInstanceId in this.collisionCircleArrays){const Kt=this.collisionCircleArrays[q.bucketInstanceId];s.invert(Kt.invProjMatrix,he),Kt.viewportMatrix=this.collisionIndex.getViewportMatrix()}q.justReloaded=!1}markUsedJustification(c,p,T,N){const{leftJustifiedTextSymbolIndex:q,centerJustifiedTextSymbolIndex:ae,rightJustifiedTextSymbolIndex:he,verticalPlacedTextSymbolIndex:ye,crossTileID:De}=T,Ae=s.getAnchorJustification(p),Fe=N===s.WritingMode.vertical?ye:Ae==="left"?q:Ae==="center"?ae:Ae==="right"?he:-1;q>=0&&(c.text.placedSymbolArray.get(q).crossTileID=Fe>=0&&q!==Fe?0:De),ae>=0&&(c.text.placedSymbolArray.get(ae).crossTileID=Fe>=0&&ae!==Fe?0:De),he>=0&&(c.text.placedSymbolArray.get(he).crossTileID=Fe>=0&&he!==Fe?0:De),ye>=0&&(c.text.placedSymbolArray.get(ye).crossTileID=Fe>=0&&ye!==Fe?0:De)}markUsedOrientation(c,p,T){const N=p===s.WritingMode.horizontal||p===s.WritingMode.horizontalOnly?p:0,q=p===s.WritingMode.vertical?p:0,{leftJustifiedTextSymbolIndex:ae,centerJustifiedTextSymbolIndex:he,rightJustifiedTextSymbolIndex:ye,verticalPlacedTextSymbolIndex:De}=T,Ae=c.text.placedSymbolArray;ae>=0&&(Ae.get(ae).placedOrientation=N),he>=0&&(Ae.get(he).placedOrientation=N),ye>=0&&(Ae.get(ye).placedOrientation=N),De>=0&&(Ae.get(De).placedOrientation=q)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let T=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const N=p?p.symbolFadeChange(c):1,q=p?p.opacities:{},ae=p?p.variableOffsets:{},he=p?p.placedOrientations:{};for(const ye in this.placements){const De=this.placements[ye],Ae=q[ye];Ae?(this.opacities[ye]=new al(Ae,N,De.text,De.icon,null,De.clipped),T=T||De.text!==Ae.text.placed||De.icon!==Ae.icon.placed):(this.opacities[ye]=new al(null,N,De.text,De.icon,De.skipFade,De.clipped),T=T||De.text||De.icon)}for(const ye in q){const De=q[ye];if(!this.opacities[ye]){const Ae=new al(De,N,!1,!1);Ae.isHidden()||(this.opacities[ye]=Ae,T=T||De.text.placed||De.icon.placed)}}for(const ye in ae)this.variableOffsets[ye]||!this.opacities[ye]||this.opacities[ye].isHidden()||(this.variableOffsets[ye]=ae[ye]);for(const ye in he)this.placedOrientations[ye]||!this.opacities[ye]||this.opacities[ye].isHidden()||(this.placedOrientations[ye]=he[ye]);T?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const T={};for(const N of p){const q=N.getBucket(c);q&&N.latestFeatureIndex&&c.id===q.layerIds[0]&&this.updateBucketOpacities(q,T,N.collisionBoxArray)}}updateBucketOpacities(c,p,T){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const N=c.layers[0].layout,q=!!c.layers[0].dynamicFilter(),ae=new al(null,0,!1,!1,!0),he=N.get("text-allow-overlap"),ye=N.get("icon-allow-overlap"),De=N.get("text-variable-anchor"),Ae=N.get("text-rotation-alignment")==="map",Fe=N.get("text-pitch-alignment")==="map",Ke=N.get("icon-text-fit")!=="none",at=new al(null,0,he&&(ye||!c.hasIconData()||N.get("icon-optional")),ye&&(he||!c.hasTextData()||N.get("text-optional")),!0);!c.collisionArrays&&T&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(T);const lt=(et,rt,gt)=>{for(let ct=0;ct<rt/4;ct++)et.opacityVertexArray.emplaceBack(gt)};let ht=0;for(let et=0;et<c.symbolInstances.length;et++){const rt=c.symbolInstances.get(et),{numHorizontalGlyphVertices:gt,numVerticalGlyphVertices:ct,crossTileID:wt,numIconVertices:Ot}=rt;let Et=this.opacities[wt];p[wt]?Et=ae:Et||(Et=at,this.opacities[wt]=Et),p[wt]=!0;const Vt=gt>0||ct>0,ni=Ot>0,Qt=this.placedOrientations[wt],Yt=Qt===s.WritingMode.vertical,Ai=Qt===s.WritingMode.horizontal||Qt===s.WritingMode.horizontalOnly;if(!Vt&&!ni||Et.isHidden()||ht++,Vt){const Kt=oo(Et.text);lt(c.text,gt,Yt?Sl:Kt),lt(c.text,ct,Ai?Sl:Kt);const vi=Et.text.isHidden(),{leftJustifiedTextSymbolIndex:si,centerJustifiedTextSymbolIndex:Ri,rightJustifiedTextSymbolIndex:oi,verticalPlacedTextSymbolIndex:Ci}=rt,zi=c.text.placedSymbolArray,Xt=vi||Yt?1:0;si>=0&&(zi.get(si).hidden=Xt),Ri>=0&&(zi.get(Ri).hidden=Xt),oi>=0&&(zi.get(oi).hidden=Xt),Ci>=0&&(zi.get(Ci).hidden=vi||Ai?1:0);const ri=this.variableOffsets[wt];ri&&this.markUsedJustification(c,ri.anchor,rt,Qt);const gn=this.placedOrientations[wt];gn&&(this.markUsedJustification(c,"left",rt,gn),this.markUsedOrientation(c,gn,rt))}if(ni){const Kt=oo(Et.icon),{placedIconSymbolIndex:vi,verticalPlacedIconSymbolIndex:si}=rt,Ri=c.icon.placedSymbolArray,oi=Et.icon.isHidden()?1:0;vi>=0&&(lt(c.icon,Ot,Yt?Sl:Kt),Ri.get(vi).hidden=oi),si>=0&&(lt(c.icon,rt.numVerticalIconVertices,Ai?Sl:Kt),Ri.get(si).hidden=oi)}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const Kt=c.collisionArrays[et];if(Kt){let vi=new s.pointGeometry(0,0),si=!0;if(Kt.textBox||Kt.verticalTextBox){if(De){const oi=this.variableOffsets[wt];oi?(vi=Ps(oi.anchor,oi.width,oi.height,oi.textOffset,oi.textScale),Ae&&vi._rotate(Fe?this.transform.angle:-this.transform.angle)):si=!1}q&&(si=!Et.clipped),Kt.textBox&&so(c.textCollisionBox.collisionVertexArray,Et.text.placed,!si||Yt,vi.x,vi.y),Kt.verticalTextBox&&so(c.textCollisionBox.collisionVertexArray,Et.text.placed,!si||Ai,vi.x,vi.y)}const Ri=si&&!!(!Ai&&Kt.verticalIconBox);Kt.iconBox&&so(c.iconCollisionBox.collisionVertexArray,Et.icon.placed,Ri,Ke?vi.x:0,Ke?vi.y:0),Kt.verticalIconBox&&so(c.iconCollisionBox.collisionVertexArray,Et.icon.placed,!Ri,Ke?vi.x:0,Ke?vi.y:0)}}}if(c.fullyClipped=ht===0,c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){const et=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=et.invProjMatrix,c.placementViewportMatrix=et.viewportMatrix,c.collisionCircleArray=et.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const T=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*T>c}setStale(){this.stale=!0}}function so(_,c,p,T,N){_.emplaceBack(c?1:0,p?1:0,T||0,N||0),_.emplaceBack(c?1:0,p?1:0,T||0,N||0),_.emplaceBack(c?1:0,p?1:0,T||0,N||0),_.emplaceBack(c?1:0,p?1:0,T||0,N||0)}const va=Math.pow(2,25),Rd=Math.pow(2,24),Mu=Math.pow(2,17),Js=Math.pow(2,16),Xl=Math.pow(2,9),ku=Math.pow(2,8),Zl=Math.pow(2,1);function oo(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const c=_.placed?1:0,p=Math.floor(127*_.opacity);return p*va+c*Rd+p*Mu+c*Js+p*Xl+c*ku+p*Zl+c}const Sl=0;class Au{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,T,N,q){const ae=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(ae,N,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,q())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ae.sort((he,ye)=>he.sortKey-ye.sortKey));this._currentPartIndex<ae.length;){const he=ae[this._currentPartIndex];if(p.placeLayerBucketPart(he,this._seenCrossTileIDs,T,he.symbolInstanceStart===0),this._currentPartIndex++,q())return!0}return!1}}class Lr{constructor(c,p,T,N,q,ae,he,ye){this.placement=new ll(c,q,ae,he,ye),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=T,this._showCollisionBoxes=N,this._done=!1}isDone(){return this._done}continuePlacement(c,p,T){const N=s.exported.now(),q=()=>{const ae=s.exported.now()-N;return!this._forceFullPlacement&&ae>2};for(;this._currentPlacementIndex>=0;){const ae=p[c[this._currentPlacementIndex]],he=this.placement.collisionIndex.transform.zoom;if(ae.type==="symbol"&&(!ae.minzoom||ae.minzoom<=he)&&(!ae.maxzoom||ae.maxzoom>he)){if(this._inProgressLayer||(this._inProgressLayer=new Au(ae)),this._inProgressLayer.continuePlacement(T[ae.source],this.placement,this._showCollisionBoxes,ae,q))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Fr=512/s.EXTENT/2;class Pu{constructor(c,p,T){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=T;for(let N=0;N<p.length;N++){const q=p.get(N),ae=q.key;this.indexedSymbolInstances[ae]||(this.indexedSymbolInstances[ae]=[]),this.indexedSymbolInstances[ae].push({crossTileID:q.crossTileID,coord:this.getScaledCoordinates(q,c)})}}getScaledCoordinates(c,p){const T=Fr/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*s.EXTENT+c.tileAnchorX)*T),y:Math.floor((p.canonical.y*s.EXTENT+c.tileAnchorY)*T)}}findMatches(c,p,T){const N=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let q=0;q<c.length;q++){const ae=c.get(q);if(ae.crossTileID)continue;const he=this.indexedSymbolInstances[ae.key];if(!he)continue;const ye=this.getScaledCoordinates(ae,p);for(const De of he)if(Math.abs(De.coord.x-ye.x)<=N&&Math.abs(De.coord.y-ye.y)<=N&&!T[De.crossTileID]){T[De.crossTileID]=!0,ae.crossTileID=De.crossTileID;break}}}}class Bd{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class cd{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const T in this.indexes){const N=this.indexes[T],q={};for(const ae in N){const he=N[ae];he.tileID=he.tileID.unwrapTo(he.tileID.wrap+p),q[he.tileID.key]=he}this.indexes[T]=q}this.lng=c}addBucket(c,p,T){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let q=0;q<p.symbolInstances.length;q++)p.symbolInstances.get(q).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const N=this.usedCrossTileIDs[c.overscaledZ];for(const q in this.indexes){const ae=this.indexes[q];if(Number(q)>c.overscaledZ)for(const he in ae){const ye=ae[he];ye.tileID.isChildOf(c)&&ye.findMatches(p.symbolInstances,c,N)}else{const he=ae[c.scaledTo(Number(q)).key];he&&he.findMatches(p.symbolInstances,c,N)}}for(let q=0;q<p.symbolInstances.length;q++){const ae=p.symbolInstances.get(q);ae.crossTileID||(ae.crossTileID=T.generate(),N[ae.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Pu(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const T in p.indexedSymbolInstances)for(const N of p.indexedSymbolInstances[T])delete this.usedCrossTileIDs[c][N.crossTileID]}removeStaleBuckets(c){let p=!1;for(const T in this.indexes){const N=this.indexes[T];for(const q in N)c[N[q].bucketInstanceId]||(this.removeBucketCrossTileIDs(T,N[q]),delete N[q],p=!0)}return p}}class xa{constructor(){this.layerIndexes={},this.crossTileIDs=new Bd,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,T,N){let q=this.layerIndexes[c.id];q===void 0&&(q=this.layerIndexes[c.id]=new cd);let ae=!1;const he={};N.name!=="globe"&&q.handleWrapJump(T);for(const ye of p){const De=ye.getBucket(c);De&&c.id===De.layerIds[0]&&(De.bucketInstanceId||(De.bucketInstanceId=++this.maxBucketInstanceId),q.addBucket(ye.tileID,De,this.crossTileIDs)&&(ae=!0),he[De.bucketInstanceId]=!0)}return q.removeStaleBuckets(he)&&(ae=!0),ae}pruneUnusedLayers(c){const p={};c.forEach(T=>{p[T]=!0});for(const T in this.layerIndexes)p[T]||delete this.layerIndexes[T]}}const tu=(_,c)=>s.emitValidationErrors(_,c&&c.filter(p=>p.identifier!=="source.canvas")),Du=s.pick(vn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Kl=s.pick(vn,["setCenter","setZoom","setBearing","setPitch"]),sa={version:8,layers:[],sources:{}},Qs={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Z extends s.Evented{constructor(c,p={}){super(),this.map=c,this.dispatcher=new fe(qi(),this),this.imageManager=new j,this.imageManager.setEventedParent(this),this.glyphManager=new s.GlyphManager(c._requestManager,p.localFontFamily?s.LocalGlyphMode.all:p.localIdeographFontFamily?s.LocalGlyphMode.ideographs:s.LocalGlyphMode.none,p.localFontFamily||p.localIdeographFontFamily),this.crossTileSymbolIndex=new xa,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const T=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(N=>{T.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:N.pluginStatus,pluginURL:N.pluginURL},(q,ae)=>{if(s.triggerPluginCompletionEvent(q),ae&&ae.every(he=>he))for(const he in T._sourceCaches){const ye=T._sourceCaches[he],De=ye.getSource().type;De!=="vector"&&De!=="geojson"||ye.reload()}})}),this.on("data",N=>{if(N.dataType!=="source"||N.sourceDataType!=="metadata")return;const q=this.getSource(N.sourceId);if(q&&q.vectorLayerIds)for(const ae in this._layers){const he=this._layers[ae];he.source===q.id&&this._validateLayer(he)}})}loadURL(c,p={}){this.fire(new s.Event("dataloading",{dataType:"style"}));const T=typeof p.validate=="boolean"?p.validate:!s.isMapboxURL(c);c=this.map._requestManager.normalizeStyleURL(c,p.accessToken);const N=this.map._requestManager.transformRequest(c,s.ResourceType.Style);this._request=s.getJSON(N,(q,ae)=>{this._request=null,q?this.fire(new s.ErrorEvent(q)):ae&&this._load(ae,T)})}loadJSON(c,p={}){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame(()=>{this._request=null,this._load(c,p.validate!==!1)})}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(sa,!1)}_updateLayerCount(c,p){const T=p?1:-1;c.is3D()&&(this._num3DLayers+=T),c.type==="circle"&&(this._numCircleLayers+=T),c.type==="symbol"&&(this._numSymbolLayers+=T)}_load(c,p){if(p&&tu(this,s.validateStyle(c)))return;this._loaded=!0,this.stylesheet=s.clone$1(c),this._updateMapProjection();for(const N in c.sources)this.addSource(N,c.sources[N],{validate:!1});this._changed=!1,c.sprite?this._loadSprite(c.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(c.glyphs);const T=Dr(this.stylesheet.layers);this._order=T.map(N=>N.id),this._layers={},this._serializedLayers={};for(let N of T)N=s.createStyleLayer(N),N.setEventedParent(this,{layer:{id:N.id}}),this._layers[N.id]=N,this._serializedLayers[N.id]=N.serialize(),this._updateLayerCount(N,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new m(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(c){c?this.stylesheet.projection=c:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(c){this._spriteRequest=function(p,T,N){let q,ae,he;const ye=s.exported.devicePixelRatio>1?"@2x":"";let De=s.getJSON(T.transformRequest(T.normalizeSpriteURL(p,ye,".json"),s.ResourceType.SpriteJSON),(Ke,at)=>{De=null,he||(he=Ke,q=at,Fe())}),Ae=s.getImage(T.transformRequest(T.normalizeSpriteURL(p,ye,".png"),s.ResourceType.SpriteImage),(Ke,at)=>{Ae=null,he||(he=Ke,ae=at,Fe())});function Fe(){if(he)N(he);else if(q&&ae){const Ke=s.exported.getImageData(ae),at={};for(const lt in q){const{width:ht,height:et,x:rt,y:gt,sdf:ct,pixelRatio:wt,stretchX:Ot,stretchY:Et,content:Vt}=q[lt],ni=new s.RGBAImage({width:ht,height:et});s.RGBAImage.copy(Ke,ni,{x:rt,y:gt},{x:0,y:0},{width:ht,height:et}),at[lt]={data:ni,pixelRatio:wt,sdf:ct,stretchX:Ot,stretchY:Et,content:Vt}}N(null,at)}}return{cancel(){De&&(De.cancel(),De=null),Ae&&(Ae.cancel(),Ae=null)}}}(c,this.map._requestManager,(p,T)=>{if(this._spriteRequest=null,p)this.fire(new s.ErrorEvent(p));else if(T)for(const N in T)this.imageManager.addImage(N,T[N]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new s.Event("data",{dataType:"style"}))})}_validateLayer(c){const p=this.getSource(c.source);if(!p)return;const T=c.sourceLayer;T&&(p.type==="geojson"||p.vectorLayerIds&&p.vectorLayerIds.indexOf(T)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${T}" does not exist on source "${p.id}" as specified by style layer "${c.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this._sourceCaches)if(!this._sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(c){const p=[];for(const T of c){const N=this._layers[T];N.type!=="custom"&&p.push(N.serialize())}return p}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const c in this._sourceCaches)if(this._sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(c){return!!this.terrain&&Qs[c.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const N=Object.keys(this._updatedLayers),q=Object.keys(this._removedLayers);(N.length||q.length)&&this._updateWorkerLayers(N,q);for(const ae in this._updatedSources){const he=this._updatedSources[ae];he==="reload"?this._reloadSource(ae):he==="clear"&&this._clearSource(ae)}this._updateTilesForChangedImages();for(const ae in this._updatedPaintProps)this._layers[ae].updateTransitions(c);this.light.updateTransitions(c),this.fog&&this.fog.updateTransitions(c),this._resetUpdates()}const T={};for(const N in this._sourceCaches){const q=this._sourceCaches[N];T[N]=q.used,q.used=!1}for(const N of this._order){const q=this._layers[N];if(q.recalculate(c,this._availableImages),!q.isHidden(c.zoom)){const he=this._getLayerSourceCache(q);he&&(he.used=!0)}const ae=this.map.painter;if(ae){const he=q.getProgramIds();if(!he)continue;const ye=q.getProgramConfiguration(c.zoom);for(const De of he)ae.useProgram(De,ye)}}for(const N in T){const q=this._sourceCaches[N];T[N]!==q.used&&q.getSource().fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:q.getSource().id}))}this.light.recalculate(c),this.terrain&&this.terrain.recalculate(c),this.fog&&this.fog.recalculate(c),this.z=c.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),p&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this._sourceCaches)this._sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(c){if(this._checkLoaded(),tu(this,s.validateStyle(c)))return!1;(c=s.clone$1(c)).layers=Dr(c.layers);const p=function(N,q){if(!N)return[{command:vn.setStyle,args:[q]}];let ae=[];try{if(!v(N.version,q.version))return[{command:vn.setStyle,args:[q]}];v(N.center,q.center)||ae.push({command:vn.setCenter,args:[q.center]}),v(N.zoom,q.zoom)||ae.push({command:vn.setZoom,args:[q.zoom]}),v(N.bearing,q.bearing)||ae.push({command:vn.setBearing,args:[q.bearing]}),v(N.pitch,q.pitch)||ae.push({command:vn.setPitch,args:[q.pitch]}),v(N.sprite,q.sprite)||ae.push({command:vn.setSprite,args:[q.sprite]}),v(N.glyphs,q.glyphs)||ae.push({command:vn.setGlyphs,args:[q.glyphs]}),v(N.transition,q.transition)||ae.push({command:vn.setTransition,args:[q.transition]}),v(N.light,q.light)||ae.push({command:vn.setLight,args:[q.light]}),v(N.fog,q.fog)||ae.push({command:vn.setFog,args:[q.fog]}),v(N.projection,q.projection)||ae.push({command:vn.setProjection,args:[q.projection]});const he={},ye=[];(function(Fe,Ke,at,lt){let ht;for(ht in Ke=Ke||{},Fe=Fe||{})Fe.hasOwnProperty(ht)&&(Ke.hasOwnProperty(ht)||Rr(ht,at,lt));for(ht in Ke)Ke.hasOwnProperty(ht)&&(Fe.hasOwnProperty(ht)?v(Fe[ht],Ke[ht])||(Fe[ht].type==="geojson"&&Ke[ht].type==="geojson"&&Wa(Fe,Ke,ht)?at.push({command:vn.setGeoJSONSourceData,args:[ht,Ke[ht].data]}):Ha(ht,Ke,at,lt)):Xr(ht,Ke,at))})(N.sources,q.sources,ye,he);const De=[];N.layers&&N.layers.forEach(Fe=>{Fe.source&&he[Fe.source]?ae.push({command:vn.removeLayer,args:[Fe.id]}):De.push(Fe)});let Ae=N.terrain;Ae&&he[Ae.source]&&(ae.push({command:vn.setTerrain,args:[void 0]}),Ae=void 0),ae=ae.concat(ye),v(Ae,q.terrain)||ae.push({command:vn.setTerrain,args:[q.terrain]}),function(Fe,Ke,at){Ke=Ke||[];const lt=(Fe=Fe||[]).map(yi),ht=Ke.map(yi),et=Fe.reduce(ps,{}),rt=Ke.reduce(ps,{}),gt=lt.slice(),ct=Object.create(null);let wt,Ot,Et,Vt,ni,Qt,Yt;for(wt=0,Ot=0;wt<lt.length;wt++)Et=lt[wt],rt.hasOwnProperty(Et)?Ot++:(at.push({command:vn.removeLayer,args:[Et]}),gt.splice(gt.indexOf(Et,Ot),1));for(wt=0,Ot=0;wt<ht.length;wt++)Et=ht[ht.length-1-wt],gt[gt.length-1-wt]!==Et&&(et.hasOwnProperty(Et)?(at.push({command:vn.removeLayer,args:[Et]}),gt.splice(gt.lastIndexOf(Et,gt.length-Ot),1)):Ot++,Qt=gt[gt.length-wt],at.push({command:vn.addLayer,args:[rt[Et],Qt]}),gt.splice(gt.length-wt,0,Et),ct[Et]=!0);for(wt=0;wt<ht.length;wt++)if(Et=ht[wt],Vt=et[Et],ni=rt[Et],!ct[Et]&&!v(Vt,ni))if(v(Vt.source,ni.source)&&v(Vt["source-layer"],ni["source-layer"])&&v(Vt.type,ni.type)){for(Yt in vo(Vt.layout,ni.layout,at,Et,null,vn.setLayoutProperty),vo(Vt.paint,ni.paint,at,Et,null,vn.setPaintProperty),v(Vt.filter,ni.filter)||at.push({command:vn.setFilter,args:[Et,ni.filter]}),v(Vt.minzoom,ni.minzoom)&&v(Vt.maxzoom,ni.maxzoom)||at.push({command:vn.setLayerZoomRange,args:[Et,ni.minzoom,ni.maxzoom]}),Vt)Vt.hasOwnProperty(Yt)&&Yt!=="layout"&&Yt!=="paint"&&Yt!=="filter"&&Yt!=="metadata"&&Yt!=="minzoom"&&Yt!=="maxzoom"&&(Yt.indexOf("paint.")===0?vo(Vt[Yt],ni[Yt],at,Et,Yt.slice(6),vn.setPaintProperty):v(Vt[Yt],ni[Yt])||at.push({command:vn.setLayerProperty,args:[Et,Yt,ni[Yt]]}));for(Yt in ni)ni.hasOwnProperty(Yt)&&!Vt.hasOwnProperty(Yt)&&Yt!=="layout"&&Yt!=="paint"&&Yt!=="filter"&&Yt!=="metadata"&&Yt!=="minzoom"&&Yt!=="maxzoom"&&(Yt.indexOf("paint.")===0?vo(Vt[Yt],ni[Yt],at,Et,Yt.slice(6),vn.setPaintProperty):v(Vt[Yt],ni[Yt])||at.push({command:vn.setLayerProperty,args:[Et,Yt,ni[Yt]]}))}else at.push({command:vn.removeLayer,args:[Et]}),Qt=gt[gt.lastIndexOf(Et)+1],at.push({command:vn.addLayer,args:[ni,Qt]})}(De,q.layers,ae)}catch(he){console.warn("Unable to compute style diff:",he),ae=[{command:vn.setStyle,args:[q]}]}return ae}(this.serialize(),c).filter(N=>!(N.command in Kl));if(p.length===0)return!1;const T=p.filter(N=>!(N.command in Du));if(T.length>0)throw new Error(`Unimplemented: ${T.map(N=>N.command).join(", ")}.`);return p.forEach(N=>{N.command!=="setTransition"&&N.command!=="setProjection"&&this[N.command].apply(this,N.args)}),this.stylesheet=c,this._updateMapProjection(),!0}addImage(c,p){return this.getImage(c)?this.fire(new s.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(c,p),this._afterImageUpdated(c),this)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){return this.getImage(c)?(this.imageManager.removeImage(c),this._afterImageUpdated(c),this):this.fire(new s.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(c,p,T={}){if(this._checkLoaded(),this.getSource(c)!==void 0)throw new Error("There is already a source with this ID");if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(s.validateSource,`sources.${c}`,p,null,T))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const N=kt(c,p,this.dispatcher,this);N.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(c),source:N.serialize(),sourceId:c}));const q=ae=>{const he=(ae?"symbol:":"other:")+c,ye=this._sourceCaches[he]=new s.SourceCache(he,N,ae);(ae?this._symbolSourceCaches:this._otherSourceCaches)[c]=ye,ye.style=this,ye.onAdd(this.map)};q(!1),p.type!=="vector"&&p.type!=="geojson"||q(!0),N.onAdd&&N.onAdd(this.map),this._changed=!0}removeSource(c){this._checkLoaded();const p=this.getSource(c);if(!p)throw new Error("There is no source with this ID");for(const N in this._layers)if(this._layers[N].source===c)return this.fire(new s.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${N}" is using it.`)));if(this.terrain&&this.terrain.get().source===c)return this.fire(new s.ErrorEvent(new Error(`Source "${c}" cannot be removed while terrain is using it.`)));const T=this._getSourceCaches(c);for(const N of T)delete this._sourceCaches[N.id],delete this._updatedSources[N.id],N.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:N.getSource().id})),N.setEventedParent(null),N.clearTiles();return delete this._otherSourceCaches[c],delete this._symbolSourceCaches[c],p.setEventedParent(null),p.onRemove&&p.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(c,p){this._checkLoaded(),this.getSource(c).setData(p),this._changed=!0}getSource(c){const p=this._getSourceCache(c);return p&&p.getSource()}_getSources(){const c=[];for(const p in this._otherSourceCaches){const T=this._getSourceCache(p);T&&c.push(T.getSource())}return c}addLayer(c,p,T={}){this._checkLoaded();const N=c.id;if(this.getLayer(N))return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${N}" already exists on this map`)));let q;if(c.type==="custom"){if(tu(this,s.validateCustomStyleLayer(c)))return;q=s.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(N,c.source),c=s.clone$1(c),c=s.extend(c,{source:N})),this._validate(s.validateLayer,`layers.${N}`,c,{arrayIndex:-1},T))return;q=s.createStyleLayer(c),this._validateLayer(q),q.setEventedParent(this,{layer:{id:N}}),this._serializedLayers[q.id]=q.serialize(),this._updateLayerCount(q,!0)}const ae=p?this._order.indexOf(p):this._order.length;if(p&&ae===-1)return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${p}" does not exist on this map.`)));this._order.splice(ae,0,N),this._layerOrderChanged=!0,this._layers[N]=q;const he=this._getLayerSourceCache(q);if(this._removedLayers[N]&&q.source&&he&&q.type!=="custom"){const ye=this._removedLayers[N];delete this._removedLayers[N],ye.type!==q.type?this._updatedSources[q.source]="clear":(this._updatedSources[q.source]="reload",he.pause())}this._updateLayer(q),q.onAdd&&q.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const T=this._order.indexOf(c);this._order.splice(T,1);const N=p?this._order.indexOf(p):this._order.length;p&&N===-1?this.fire(new s.ErrorEvent(new Error(`Layer with id "${p}" does not exist on this map.`))):(this._order.splice(N,0,c),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be removed.`)));p.setEventedParent(null),this._updateLayerCount(p,!1);const T=this._order.indexOf(c);this._order.splice(T,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}hasLayerType(c){for(const p in this._layers)if(this._layers[p].type===c)return!0;return!1}setLayerZoomRange(c,p,T){this._checkLoaded();const N=this.getLayer(c);N?N.minzoom===p&&N.maxzoom===T||(p!=null&&(N.minzoom=p),T!=null&&(N.maxzoom=T),this._updateLayer(N)):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(c,p,T={}){this._checkLoaded();const N=this.getLayer(c);if(N){if(!v(N.filter,p))return p==null?(N.filter=void 0,void this._updateLayer(N)):void(this._validate(s.validateFilter,`layers.${N.id}.filter`,p,{layerType:N.type},T)||(N.filter=s.clone$1(p),this._updateLayer(N)))}else this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be filtered.`)))}getFilter(c){const p=this.getLayer(c);return p&&s.clone$1(p.filter)}setLayoutProperty(c,p,T,N={}){this._checkLoaded();const q=this.getLayer(c);q?v(q.getLayoutProperty(p),T)||(q.setLayoutProperty(p,T,N),this._updateLayer(q)):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(c,p){const T=this.getLayer(c);if(T)return T.getLayoutProperty(p);this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style.`)))}setPaintProperty(c,p,T,N={}){this._checkLoaded();const q=this.getLayer(c);q?v(q.getPaintProperty(p),T)||(q.setPaintProperty(p,T,N)&&this._updateLayer(q),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(c,p){const T=this.getLayer(c);return T&&T.getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const T=c.source,N=c.sourceLayer,q=this.getSource(T);if(!q)return void this.fire(new s.ErrorEvent(new Error(`The source '${T}' does not exist in the map's style.`)));const ae=q.type;if(ae==="geojson"&&N)return void this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(ae==="vector"&&!N)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided.")));const he=this._getSourceCaches(T);for(const ye of he)ye.setFeatureState(N,c.id,p)}removeFeatureState(c,p){this._checkLoaded();const T=c.source,N=this.getSource(T);if(!N)return void this.fire(new s.ErrorEvent(new Error(`The source '${T}' does not exist in the map's style.`)));const q=N.type,ae=q==="vector"?c.sourceLayer:void 0;if(q==="vector"&&!ae)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(p&&typeof c.id!="string"&&typeof c.id!="number")return void this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const he=this._getSourceCaches(T);for(const ye of he)ye.removeFeatureState(ae,c.id,p)}getFeatureState(c){this._checkLoaded();const p=c.source,T=c.sourceLayer,N=this.getSource(p);if(N){if(N.type!=="vector"||T)return c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(p)[0].getFeatureState(T,c.id);this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const c={};for(const p in this._sourceCaches){const T=this._sourceCaches[p].getSource();c[T.id]||(c[T.id]=T.serialize())}return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:c,layers:this._serializeLayers(this._order)},p=>p!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0;const p=this._getLayerSourceCache(c);c.source&&!this._updatedSources[c.source]&&p&&p.getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",p.pause()),this._changed=!0,c.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(c){const p=ae=>this._layers[ae].type==="fill-extrusion",T={},N=[];for(let ae=this._order.length-1;ae>=0;ae--){const he=this._order[ae];if(p(he)){T[he]=ae;for(const ye of c){const De=ye[he];if(De)for(const Ae of De)N.push(Ae)}}}N.sort((ae,he)=>he.intersectionZ-ae.intersectionZ);const q=[];for(let ae=this._order.length-1;ae>=0;ae--){const he=this._order[ae];if(p(he))for(let ye=N.length-1;ye>=0;ye--){const De=N[ye].feature;if(T[De.layer.id]<ae)break;q.push(De),N.pop()}else for(const ye of c){const De=ye[he];if(De)for(const Ae of De)q.push(Ae.feature)}}return q}queryRenderedFeatures(c,p,T){p&&p.filter&&this._validate(s.validateFilter,"queryRenderedFeatures.filter",p.filter,null,p);const N={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const ye of p.layers){const De=this._layers[ye];if(!De)return this.fire(new s.ErrorEvent(new Error(`The layer '${ye}' does not exist in the map's style and cannot be queried for features.`))),[];N[De.source]=!0}}const q=[];p.availableImages=this._availableImages;const ae=p&&p.layers?p.layers.some(ye=>{const De=this.getLayer(ye);return De&&De.is3D()}):this.has3DLayers(),he=Q.createFromScreenPoints(c,T);for(const ye in this._sourceCaches){const De=this._sourceCaches[ye].getSource().id;p.layers&&!N[De]||q.push(Gt(this._sourceCaches[ye],this._layers,this._serializedLayers,he,p,T,ae,!!this.map._showQueryGeometry))}return this.placement&&q.push(function(ye,De,Ae,Fe,Ke,at,lt){const ht={},et=at.queryRenderedSymbols(Fe),rt=[];for(const gt of Object.keys(et).map(Number))rt.push(lt[gt]);rt.sort(Xi);for(const gt of rt){const ct=gt.featureIndex.lookupSymbolFeatures(et[gt.bucketInstanceId],De,gt.bucketIndex,gt.sourceLayerIndex,Ke.filter,Ke.layers,Ke.availableImages,ye);for(const wt in ct){const Ot=ht[wt]=ht[wt]||[],Et=ct[wt];Et.sort((Vt,ni)=>{const Qt=gt.featureSortOrder;if(Qt){const Yt=Qt.indexOf(Vt.featureIndex);return Qt.indexOf(ni.featureIndex)-Yt}return ni.featureIndex-Vt.featureIndex});for(const Vt of Et)Ot.push(Vt)}}for(const gt in ht)ht[gt].forEach(ct=>{const wt=ct.feature,Ot=Ae(ye[gt]).getFeatureState(wt.layer["source-layer"],wt.id);wt.source=wt.layer.source,wt.layer["source-layer"]&&(wt.sourceLayer=wt.layer["source-layer"]),wt.state=Ot});return ht}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),he.screenGeometry,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(q)}querySourceFeatures(c,p){p&&p.filter&&this._validate(s.validateFilter,"querySourceFeatures.filter",p.filter,null,p);const T=this._getSourceCaches(c);let N=[];for(const q of T)N=N.concat(bi(q,p));return N}addSourceType(c,p,T){return Z.getSourceType(c)?T(new Error(`A source type called "${c}" already exists.`)):(Z.setSourceType(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},T):T(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const T=this.light.getLight();let N=!1;for(const ae in c)if(!v(c[ae],T[ae])){N=!0;break}if(!N)return;const q=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(c,p),this.light.updateTransitions(q)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(c,p=1){if(this._checkLoaded(),!c)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(p===1){if(typeof c.source=="object"){const T="terrain-dem-src";this.addSource(T,c.source),c=s.clone$1(c),c=s.extend(c,{source:T})}if(this._validate(s.validateTerrain,"terrain",c))return}if(!this.terrain||this.terrain&&p!==this.terrain.drapeRenderMode)this._createTerrain(c,p);else{const T=this.terrain,N=T.get();for(const q of Object.keys(s.spec.terrain))!c.hasOwnProperty(q)&&s.spec.terrain[q].default&&(c[q]=s.spec.terrain[q].default);for(const q in c)if(!v(c[q],N[q])){T.set(c),this.stylesheet.terrain=c;const ae=this._setTransitionParameters({duration:0});T.updateTransitions(ae);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(c){const p=this.fog=new pe(c,this.map.transform);this.stylesheet.fog=c;const T=this._setTransitionParameters({duration:0});p.updateTransitions(T)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const c of this.map._markers)c._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(c){if(this._checkLoaded(),!c)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const p=this.fog,T=p.get();Object.keys(c).length===0&&p.set(c);for(const N in c)if(!v(c[N],T[N])){p.set(c),this.stylesheet.fog=c;const q=this._setTransitionParameters({duration:0});p.updateTransitions(q);break}}else this._createFog(c);this._markersNeedUpdate=!0}_setTransitionParameters(c){return{now:s.exported.now(),transition:s.extend(c,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const c=this._order.filter(T=>this.isLayerDraped(this._layers[T])),p=this._order.filter(T=>!this.isLayerDraped(this._layers[T]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...c),this._drapedFirstOrder.push(...p)}_createTerrain(c,p){const T=this.terrain=new P(c,p);this.stylesheet.terrain=c,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const N=this._setTransitionParameters({duration:0});T.updateTransitions(N)}_force3DLayerUpdate(){for(const c in this._layers){const p=this._layers[c];p.type==="fill-extrusion"&&this._updateLayer(p)}}_forceSymbolLayerUpdate(){for(const c in this._layers){const p=this._layers[c];p.type==="symbol"&&this._updateLayer(p)}}_validate(c,p,T,N,q={}){return(!q||q.validate!==!1)&&tu(this,c.call(s.validateStyle,s.extend({key:p,style:this.serialize(),value:T,styleSpec:s.spec},N)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this._sourceCaches)this._sourceCaches[c].clearTiles(),this._sourceCaches[c].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(c){const p=this._getSourceCaches(c);for(const T of p)T.clearTiles()}_reloadSource(c){const p=this._getSourceCaches(c);for(const T of p)T.resume(),T.reload()}_reloadSources(){for(const c of this._getSources())c.reload&&c.reload()}_updateSources(c){for(const p in this._sourceCaches)this._sourceCaches[p].update(c)}_generateCollisionBoxes(){for(const c in this._sourceCaches){const p=this._sourceCaches[c];p.resume(),p.reload()}}_updatePlacement(c,p,T,N,q=!1){let ae=!1,he=!1;const ye={};for(const De of this._order){const Ae=this._layers[De];if(Ae.type!=="symbol")continue;if(!ye[Ae.source]){const Ke=this._getLayerSourceCache(Ae);if(!Ke)continue;ye[Ae.source]=Ke.getRenderableIds(!0).map(at=>Ke.getTileByID(at)).sort((at,lt)=>lt.tileID.overscaledZ-at.tileID.overscaledZ||(at.tileID.isLessThan(lt.tileID)?-1:1))}const Fe=this.crossTileSymbolIndex.addLayer(Ae,ye[Ae.source],c.center.lng,c.projection);ae=ae||Fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),q=q||this._layerOrderChanged||T===0,this._layerOrderChanged&&this.fire(new s.Event("neworder")),(q||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),c.zoom))&&(this.pauseablePlacement=new Lr(c,this._order,q,p,T,N,this.placement,this.fog&&c.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ye),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),he=!0),ae&&this.pauseablePlacement.placement.setStale()),he||ae)for(const De of this._order){const Ae=this._layers[De];Ae.type==="symbol"&&this.placement.updateLayerOpacities(Ae,ye[Ae.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const c in this._sourceCaches)this._sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,T){this.imageManager.getImages(p.icons,T),this._updateTilesForChangedImages();const N=q=>{q&&q.setDependencies(p.tileID.key,p.type,p.icons)};N(this._otherSourceCaches[p.source]),N(this._symbolSourceCaches[p.source])}getGlyphs(c,p,T){this.glyphManager.getGlyphs(p.stacks,T)}getResource(c,p,T){return s.makeRequest(p,T)}_getSourceCache(c){return this._otherSourceCaches[c]}_getLayerSourceCache(c){return c.type==="symbol"?this._symbolSourceCaches[c.source]:this._otherSourceCaches[c.source]}_getSourceCaches(c){const p=[];return this._otherSourceCaches[c]&&p.push(this._otherSourceCaches[c]),this._symbolSourceCaches[c]&&p.push(this._symbolSourceCaches[c]),p}_isSourceCacheLoaded(c){const p=this._getSourceCaches(c);return p.length===0?(this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${c}'`))),!1):p.every(T=>T.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Z.getSourceType=function(_){return Ut[_]},Z.setSourceType=function(_,c){Ut[_]=c},Z.registerForPluginStateChange=s.registerForPluginStateChange;var ue=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,be="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",ke=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Ue=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Ge=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Je={},zt={};const Mt=[];mi(ue,Mt),mi(ke,Mt),mi(Ue,Mt),mi(Ge,Mt),Je=Ji("",ke),zt=Ji(Ge,Ue);const Jt=Ji(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),_i=ue,Pi=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var ai={background:Ji(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Ji(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Ji(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Ji("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ji(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Ji(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Ji("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Ji("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Ji("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Ji(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Ji(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Ji(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Ji(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Ji(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Ji(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Ji(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ji(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Ji(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Ji(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Ji(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Ji(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Ji(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Ji(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Ji(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Ji(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Ji(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,be),skyboxGradient:Ji(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,be),skyboxCapture:Ji(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Ji(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Ji(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function mi(_,c){const p=_.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let T of p)if(T=T.trim(),T[0]==="#"&&T.includes("if")&&!T.includes("endif")){T=T.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const N=T.split(" ");for(const q of N)c.includes(q)||c.push(q)}}function Ji(_,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,T=c.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),N={},q=[...Mt];return mi(_,q),mi(c,q),{fragmentSource:_=_.replace(p,(ae,he,ye,De,Ae)=>(N[Ae]=!0,he==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
varying ${ye} ${De} ${Ae};
#else
uniform ${ye} ${De} u_${Ae};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ae}
    ${ye} ${De} ${Ae} = u_${Ae};
#endif
`)),vertexSource:c=c.replace(p,(ae,he,ye,De,Ae)=>{const Fe=De==="float"?"vec2":"vec4",Ke=Ae.match(/color/)?"color":Fe;return N[Ae]?he==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
uniform lowp float u_${Ae}_t;
attribute ${ye} ${Fe} a_${Ae};
varying ${ye} ${De} ${Ae};
#else
uniform ${ye} ${De} u_${Ae};
#endif
`:Ke==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ae}
    ${Ae} = a_${Ae};
#else
    ${ye} ${De} ${Ae} = u_${Ae};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ae}
    ${Ae} = unpack_mix_${Ke}(a_${Ae}, u_${Ae}_t);
#else
    ${ye} ${De} ${Ae} = u_${Ae};
#endif
`:he==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
uniform lowp float u_${Ae}_t;
attribute ${ye} ${Fe} a_${Ae};
#else
uniform ${ye} ${De} u_${Ae};
#endif
`:Ke==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ae}
    ${ye} ${De} ${Ae} = a_${Ae};
#else
    ${ye} ${De} ${Ae} = u_${Ae};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ae}
    ${ye} ${De} ${Ae} = unpack_mix_${Ke}(a_${Ae}, u_${Ae}_t);
#else
    ${ye} ${De} ${Ae} = u_${Ae};
#endif
`}),staticAttributes:T,usedDefines:q}}class Xn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(c,p,T,N,q,ae,he){this.context=c;let ye=this.boundPaintVertexBuffers.length!==N.length;for(let Ae=0;!ye&&Ae<N.length;Ae++)this.boundPaintVertexBuffers[Ae]!==N[Ae]&&(ye=!0);let De=this.boundDynamicVertexBuffers.length!==he.length;for(let Ae=0;!De&&Ae<he.length;Ae++)this.boundDynamicVertexBuffers[Ae]!==he[Ae]&&(De=!0);if(!c.extVertexArrayObject||!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==T||ye||De||this.boundIndexBuffer!==q||this.boundVertexOffset!==ae)this.freshBind(p,T,N,q,ae,he);else{c.bindVertexArrayOES.set(this.vao);for(const Ae of he)Ae&&Ae.bind();q&&q.dynamicDraw&&q.bind()}}freshBind(c,p,T,N,q,ae){let he;const ye=c.numAttributes,De=this.context,Ae=De.gl;if(De.extVertexArrayObject)this.vao&&this.destroy(),this.vao=De.extVertexArrayObject.createVertexArrayOES(),De.bindVertexArrayOES.set(this.vao),he=0,this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=T,this.boundIndexBuffer=N,this.boundVertexOffset=q,this.boundDynamicVertexBuffers=ae;else{he=De.currentNumAttributes||0;for(let Fe=ye;Fe<he;Fe++)Ae.disableVertexAttribArray(Fe)}p.enableAttributes(Ae,c),p.bind(),p.setVertexAttribPointers(Ae,c,q);for(const Fe of T)Fe.enableAttributes(Ae,c),Fe.bind(),Fe.setVertexAttribPointers(Ae,c,q);for(const Fe of ae)Fe&&(Fe.enableAttributes(Ae,c),Fe.bind(),Fe.setVertexAttribPointers(Ae,c,q));N&&N.bind(),De.currentNumAttributes=ye}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function fn(_,c){const p=Math.pow(2,c.canonical.z),T=c.canonical.y;return[new s.MercatorCoordinate(0,T/p).toLngLat().lat,new s.MercatorCoordinate(0,(T+1)/p).toLngLat().lat]}function fs(_,c,p,T,N,q,ae){const he=_.context,ye=he.gl,De=p.fbo;if(!De)return;_.prepareDrawTile();const Ae=_.useProgram("hillshade");he.activeTexture.set(ye.TEXTURE0),ye.bindTexture(ye.TEXTURE_2D,De.colorAttachment.get());const Fe=((ht,et,rt,gt)=>{const ct=rt.paint.get("hillshade-shadow-color"),wt=rt.paint.get("hillshade-highlight-color"),Ot=rt.paint.get("hillshade-accent-color");let Et=rt.paint.get("hillshade-illumination-direction")*(Math.PI/180);rt.paint.get("hillshade-illumination-anchor")==="viewport"&&(Et-=ht.transform.angle);const Vt=!ht.options.moving;return{u_matrix:gt||ht.transform.calculateProjMatrix(et.tileID.toUnwrapped(),Vt),u_image:0,u_latrange:fn(0,et.tileID),u_light:[rt.paint.get("hillshade-exaggeration"),Et],u_shadow:ct,u_highlight:wt,u_accent:Ot}})(_,p,T,_.terrain?c.projMatrix:null);_.prepareDrawProgram(he,Ae,c.toUnwrapped());const{tileBoundsBuffer:Ke,tileBoundsIndexBuffer:at,tileBoundsSegments:lt}=_.getTileBoundsBuffers(p);Ae.draw(he,ye.TRIANGLES,N,q,ae,s.CullFaceMode.disabled,Fe,T.id,Ke,at,lt)}function Qr(_,c,p){if(!c.needsDEMTextureUpload)return;const T=_.context,N=T.gl;T.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||_.getTileTexture(p.stride);const q=p.getPixels();c.demTexture?c.demTexture.update(q,{premultiply:!1}):c.demTexture=new s.Texture(T,q,N.RGBA,{premultiply:!1}),c.needsDEMTextureUpload=!1}function gr(_,c,p,T,N,q){const ae=_.context,he=ae.gl;if(!c.dem)return;const ye=c.dem;if(ae.activeTexture.set(he.TEXTURE1),Qr(_,c,ye),!c.demTexture)return;c.demTexture.bind(he.NEAREST,he.CLAMP_TO_EDGE);const De=ye.dim;ae.activeTexture.set(he.TEXTURE0);let Ae=c.fbo;if(!Ae){const lt=new s.Texture(ae,{width:De,height:De,data:null},he.RGBA);lt.bind(he.LINEAR,he.CLAMP_TO_EDGE),Ae=c.fbo=ae.createFramebuffer(De,De,!0),Ae.colorAttachment.set(lt.texture)}ae.bindFramebuffer.set(Ae.framebuffer),ae.viewport.set([0,0,De,De]);const{tileBoundsBuffer:Fe,tileBoundsIndexBuffer:Ke,tileBoundsSegments:at}=_.getMercatorTileBoundsBuffers();_.useProgram("hillshadePrepare").draw(ae,he.TRIANGLES,T,N,q,s.CullFaceMode.disabled,((lt,ht)=>{const et=ht.stride,rt=s.create();return s.ortho(rt,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(rt,rt,[0,-s.EXTENT,0]),{u_matrix:rt,u_image:1,u_dimension:[et,et],u_zoom:lt.overscaledZ,u_unpack:ht.unpackVector}})(c.tileID,ye),p.id,Fe,Ke,at),c.needsHillshadePrepare=!1}const yr=_=>({u_matrix:new s.UniformMatrix4f(_),u_image0:new s.Uniform1i(_),u_skirt_height:new s.Uniform1f(_)}),Yn=(_,c)=>({u_matrix:_,u_image0:0,u_skirt_height:c}),ao=(_,c,p,T,N,q,ae,he,ye,De,Ae,Fe,Ke,at)=>({u_proj_matrix:Float32Array.from(_),u_globe_matrix:c,u_normalize_matrix:Float32Array.from(T),u_merc_matrix:p,u_zoom_transition:N,u_merc_center:q,u_image0:0,u_frustum_tl:ae,u_frustum_tr:he,u_frustum_br:ye,u_frustum_bl:De,u_globe_pos:Ae,u_globe_radius:Fe,u_viewport:Ke,u_grid_matrix:at?Float32Array.from(at):new Float32Array(9)});function vr(_,c){return _!=null&&c!=null&&!(!_.hasData()||!c.hasData())&&_.demTexture!=null&&c.demTexture!=null&&_.tileID.key!==c.tileID.key}const es=new class{constructor(){this.operations={}}newMorphing(_,c,p,T,N){if(_ in this.operations){const q=this.operations[_];q.to.tileID.key!==p.tileID.key&&(q.queued=p)}else this.operations[_]={startTime:T,phase:0,duration:N,from:c,to:p,queued:null}}getMorphValuesForProxy(_){if(!(_ in this.operations))return null;const c=this.operations[_];return{from:c.from,to:c.to,phase:c.phase}}update(_){for(const c in this.operations){const p=this.operations[c];for(p.phase=(_-p.startTime)/p.duration;p.phase>=1||!this._validOp(p);)if(!this._nextOp(p,_)){delete this.operations[c];break}}}_nextOp(_,c){return!!_.queued&&(_.from=_.to,_.to=_.queued,_.queued=null,_.phase=0,_.startTime=c,!0)}_validOp(_){return _.from.hasData()&&_.to.hasData()}},qa={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Jl(_,c){const p=1<<_.z;return!c&&(_.x===0||_.x===p-1)||_.y===0||_.y===p-1}const lo=_=>({u_matrix:_});function oa(_,c,p,T,N){if(N>0){const q=s.exported.now(),ae=(q-_.timeAdded)/N,he=c?(q-c.timeAdded)/N:-1,ye=p.getSource(),De=T.coveringZoomLevel({tileSize:ye.tileSize,roundZoom:ye.roundZoom}),Ae=!c||Math.abs(c.tileID.overscaledZ-De)>Math.abs(_.tileID.overscaledZ-De),Fe=Ae&&_.refreshedUponExpiration?1:s.clamp(Ae?ae:1-he,0,1);return _.refreshedUponExpiration&&ae>=1&&(_.refreshedUponExpiration=!1),c?{opacity:1,mix:1-Fe}:{opacity:Fe,mix:0}}return{opacity:1,mix:0}}class Kn extends s.SourceCache{constructor(c){const p={type:"raster-dem",maxzoom:c.transform.maxZoom},T=new fe(qi(),null),N=kt("mock-dem",p,T,c.style);super("mock-dem",N,!1),N.setEventedParent(this),this._sourceLoaded=!0}_loadTile(c,p){c.state="loaded",p(null)}}class xo extends s.SourceCache{constructor(c){const p=kt("proxy",{type:"geojson",maxzoom:c.transform.maxZoom},new fe(qi(),null),c.style);super("proxy",p,!1),p.setEventedParent(this),this.map=this.getSource().map=c,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(c,p,T){if(c.freezeTileCoverage)return;this.transform=c;const N=c.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((q,ae)=>{if(q[ae.key]="",!this._tiles[ae.key]){const he=new s.Tile(ae,this._source.tileSize*ae.overscaleFactor(),c.tileZoom);he.state="loaded",this._tiles[ae.key]=he}return q},{});for(const q in this._tiles)q in N||(this.freeFBO(q),this._tiles[q].unloadVectorData(),delete this._tiles[q])}freeFBO(c){const p=this.proxyCachedFBO[c];if(p!==void 0){const T=Object.values(p);this.renderCachePool.push(...T),delete this.proxyCachedFBO[c]}}deallocRenderCache(){this.renderCache.forEach(c=>c.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class aa extends s.OverscaledTileID{constructor(c,p,T){super(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y),this.proxyTileKey=p,this.projMatrix=T}}class jo extends s.Elevation{constructor(c,p){super(),this.painter=c,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[T,N,q]=function(ye){const De=new s.StructArrayLayout4i8,Ae=new s.StructArrayLayout3ui6,Fe=131;De.reserve(17161),Ae.reserve(33800);const Ke=s.EXTENT/128,at=s.EXTENT+Ke/2,lt=at+Ke;for(let et=-Ke;et<lt;et+=Ke)for(let rt=-Ke;rt<lt;rt+=Ke){const gt=rt<0||rt>at||et<0||et>at?24575:0,ct=s.clamp(Math.round(rt),0,s.EXTENT),wt=s.clamp(Math.round(et),0,s.EXTENT);De.emplaceBack(ct+gt,wt,ct,wt)}const ht=(et,rt)=>{const gt=rt*Fe+et;Ae.emplaceBack(gt+1,gt,gt+Fe),Ae.emplaceBack(gt+Fe,gt+Fe+1,gt+1)};for(let et=1;et<129;et++)for(let rt=1;rt<129;rt++)ht(rt,et);return[0,129].forEach(et=>{for(let rt=0;rt<130;rt++)ht(rt,et),ht(et,rt)}),[De,Ae,32768]}(),ae=c.context;this.gridBuffer=ae.createVertexBuffer(T,s.boundsAttributes.members),this.gridIndexBuffer=ae.createIndexBuffer(N),this.gridSegments=s.SegmentVector.simpleSegment(0,0,T.length,N.length),this.gridNoSkirtSegments=s.SegmentVector.simpleSegment(0,0,T.length,q),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new xo(p.map),this.orthoMatrix=s.create(),s.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,s.EXTENT,0,s.EXTENT,0,1);const he=ae.gl;this._overlapStencilMode=new s.StencilMode({func:he.GEQUAL,mask:255},0,255,he.KEEP,he.KEEP,he.REPLACE),this._previousZoom=c.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=p,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Kn(p.map)}set style(c){c.on("data",this._onStyleDataEvent.bind(this)),c.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=c,this._checkRenderCacheEfficiency()}update(c,p,T){if(c&&c.terrain){this._style!==c&&(this.style=c),this.enabled=!0;const N=c.terrain.properties;this.sourceCache=c.terrain.drapeRenderMode===0?this._mockSourceCache:c._getSourceCache(N.get("source")),this._exaggeration=N.get("exaggeration");const q=()=>{this.sourceCache.used&&s.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const ae=this.getScaledDemTileSize();this.sourceCache.update(p,ae,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,q(),this._initializing=!0),q(),p.updateElevation(!0,T),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(p),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(c){this._findCoveringTileCache[c]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const c=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||c.efficiency!==100&&s.warnOnce(`Terrain render cache efficiency is not optimal (${c.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${c.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(c){c.coord&&c.dataType==="source"?this._clearRenderCacheForTile(c.sourceCacheId,c.coord):c.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const c in this._style._sourceCaches)this._style._sourceCaches[c].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(c=>c.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const c=2*this.proxySourceCache.getSource().tileSize;return[c,c]}set useVertexMorphing(c){this._useVertexMorphing=c}updateTileBinding(c){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const p=this.proxySourceCache,T=this.painter.transform;this._initializing&&(this._initializing=T._centerAltitude===0&&this.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(T.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const N=this.proxyCoords=p.getIds().map(ye=>{const De=p.getTileByID(ye).tileID;return De.projMatrix=T.calculateProjMatrix(De.toUnwrapped()),De});(function(ye,De){const Ae=De.transform.pointCoordinate(De.transform.getCameraPoint()),Fe=new s.pointGeometry(Ae.x,Ae.y);ye.sort((Ke,at)=>{if(at.overscaledZ-Ke.overscaledZ)return at.overscaledZ-Ke.overscaledZ;const lt=new s.pointGeometry(Ke.canonical.x+(1<<Ke.canonical.z)*Ke.wrap,Ke.canonical.y),ht=new s.pointGeometry(at.canonical.x+(1<<at.canonical.z)*at.wrap,at.canonical.y),et=Fe.mult(1<<Ke.canonical.z);return et.x-=.5,et.y-=.5,et.distSqr(lt)-et.distSqr(ht)})})(N,this.painter),this._previousZoom=T.zoom;const q=this.proxyToSource||{};this.proxyToSource={},N.forEach(ye=>{this.proxyToSource[ye.key]={}}),this.terrainTileForTile={};const ae=this._style._sourceCaches;for(const ye in ae){const De=ae[ye];if(!De.used||(De!==this.sourceCache&&this.resetTileLookupCache(De.id),this._setupProxiedCoordsForOrtho(De,c[ye],q),De.usedForTerrain))continue;const Ae=c[ye];De.getSource().reparseOverscaled&&this._assignTerrainTiles(Ae)}this.proxiedCoords[p.id]=N.map(ye=>new aa(ye,ye.key,this.orthoMatrix)),this._assignTerrainTiles(N),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(q),this.renderingToTexture=!1,this._updateTimestamp=s.exported.now();const he={};this._visibleDemTiles=[];for(const ye of this.proxyCoords){const De=this.terrainTileForTile[ye.key];if(!De)continue;const Ae=De.tileID.key;Ae in he||(this._visibleDemTiles.push(De),he[Ae]=Ae)}}_assignTerrainTiles(c){this._initializing||c.forEach(p=>{if(this.terrainTileForTile[p.key])return;const T=this._findTileCoveringTileID(p,this.sourceCache);T&&(this.terrainTileForTile[p.key]=T)})}_prepareDEMTextures(){const c=this.painter.context,p=c.gl;for(const T in this.terrainTileForTile){const N=this.terrainTileForTile[T],q=N.dem;!q||N.demTexture&&!N.needsDEMTextureUpload||(c.activeTexture.set(p.TEXTURE1),Qr(this.painter,N,q))}}_prepareDemTileUniforms(c,p,T,N){if(!p||p.demTexture==null)return!1;const q=c.tileID.canonical,ae=Math.pow(2,p.tileID.canonical.z-q.z),he=N||"";return T[`u_dem_tl${he}`]=[q.x*ae%1,q.y*ae%1],T[`u_dem_scale${he}`]=ae,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const c=this.painter.context,p=c.gl;if(!this._emptyDepthBufferTexture){const T=new s.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new s.Texture(c,T,p.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let c=0;const p=this._visibleDemTiles.reduce((T,N)=>{if(!N.dem)return T;const q=N.dem.tree.minimums[0];return q>0&&c++,T+q},0);return c?p/c:0}_updateEmptyDEMTexture(){const c=this.painter.context,p=c.gl;c.activeTexture.set(p.TEXTURE2);const T=this._getLoadedAreaMinimum(),N=new s.RGBAImage({width:1,height:1},new Uint8Array(s.DEMData.pack(T,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let q=this._emptyDEMTexture;return q?q.update(N,{premultiply:!1}):q=this._emptyDEMTexture=new s.Texture(c,N,p.RGBA,{premultiply:!1}),q}setupElevationDraw(c,p,T){const N=this.painter.context,q=N.gl,ae=(he=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:s.DEMData.getUnpackVector(he),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var he;ae.u_dem_size=this.sourceCache.getSource().tileSize,ae.u_exaggeration=this.exaggeration();let ye=null,De=null,Ae=1;if(T&&T.morphing&&this._useVertexMorphing){const Fe=T.morphing.srcDemTile,Ke=T.morphing.dstDemTile;Ae=T.morphing.phase,Fe&&Ke&&(this._prepareDemTileUniforms(c,Fe,ae,"_prev")&&(De=Fe),this._prepareDemTileUniforms(c,Ke,ae)&&(ye=Ke))}if(De&&ye?(N.activeTexture.set(q.TEXTURE2),ye.demTexture.bind(q.NEAREST,q.CLAMP_TO_EDGE,q.NEAREST),N.activeTexture.set(q.TEXTURE4),De.demTexture.bind(q.NEAREST,q.CLAMP_TO_EDGE,q.NEAREST),ae.u_dem_lerp=Ae):(ye=this.terrainTileForTile[c.tileID.key],N.activeTexture.set(q.TEXTURE2),(this._prepareDemTileUniforms(c,ye,ae)?ye.demTexture:this.emptyDEMTexture).bind(q.NEAREST,q.CLAMP_TO_EDGE)),N.activeTexture.set(q.TEXTURE3),T&&T.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(q.NEAREST,q.CLAMP_TO_EDGE),this._depthFBO&&(ae.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(q.NEAREST,q.CLAMP_TO_EDGE),ae.u_depth_size_inv=[1,1]),T&&T.useMeterToDem&&ye){const Fe=(1<<ye.tileID.canonical.z)*s.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;ae.u_meter_to_dem=Fe}if(T&&T.labelPlaneMatrixInv&&(ae.u_label_plane_matrix_inv=T.labelPlaneMatrixInv),p.setTerrainUniformValues(N,ae),this.painter.transform.projection.name==="globe"){const Fe=this.globeUniformValues(this.painter.transform,c.tileID.canonical,T&&T.useDenormalizedUpVectorScale);p.setGlobeUniformValues(N,Fe)}}globeUniformValues(c,p,T){const N=c.projection;return{u_tile_tl_up:N.upVector(p,0,0),u_tile_tr_up:N.upVector(p,s.EXTENT,0),u_tile_br_up:N.upVector(p,s.EXTENT,s.EXTENT),u_tile_bl_up:N.upVector(p,0,s.EXTENT),u_tile_up_scale:T?s.GLOBE_METERS_TO_ECEF:N.upVectorScale(p,c.center.lat,c.worldSize).metersToTile}}renderToBackBuffer(c){const p=this.painter,T=this.painter.context;c.length!==0&&(T.bindFramebuffer.set(null),T.viewport.set([0,0,p.width,p.height]),p.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(N,q,ae,he,ye){if(N.transform.projection.name==="globe")(function(De,Ae,Fe,Ke,at){const lt=De.context,ht=lt.gl;let et,rt;const gt=De.options.showTerrainWireframe?2:0,ct=De.transform,wt=s.globeUseCustomAntiAliasing(De,lt,ct),Ot=(Ri,oi)=>{if(rt===Ri)return;const Ci=[qa[Ri],"PROJECTION_GLOBE_VIEW"];wt&&Ci.push("CUSTOM_ANTIALIASING"),oi&&Ci.push(qa[gt]),et=De.useProgram("globeRaster",null,Ci),rt=Ri},Et=De.colorModeForRenderPass(),Vt=new s.DepthMode(ht.LEQUAL,s.DepthMode.ReadWrite,De.depthRangeFor3D);es.update(at);const ni=s.calculateGlobeMercatorMatrix(ct),Qt=[s.mercatorXfromLng(ct.center.lng),s.mercatorYfromLat(ct.center.lat)],Yt=gt?[!1,!0]:[!1],Ai=De.globeSharedBuffers,Kt=[ct.width*s.exported.devicePixelRatio,ct.height*s.exported.devicePixelRatio],vi=Float32Array.from(ct.globeMatrix),si={useDenormalizedUpVectorScale:!0};if(Yt.forEach(Ri=>{rt=-1;const oi=Ri?ht.LINES:ht.TRIANGLES;for(const Ci of Ke){const zi=Fe.getTile(Ci),Xt=s.StencilMode.disabled,ri=Ae.prevTerrainTileForTile[Ci.key],gn=Ae.terrainTileForTile[Ci.key];vr(ri,gn)&&es.newMorphing(Ci.key,ri,gn,at,250),lt.activeTexture.set(ht.TEXTURE0),zi.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE);const Sn=es.getMorphValuesForProxy(Ci.key),yn=Sn?1:0;Sn&&s.extend$1(si,{morphing:{srcDemTile:Sn.from,dstDemTile:Sn.to,phase:s.easeCubicInOut(Sn.phase)}});const $n=s.tileCornersToBounds(Ci.canonical),lr=s.getLatitudinalLod($n.getCenter().lat),An=s.getGridMatrix(Ci.canonical,$n,lr,ct.worldSize/ct._pixelsPerMercatorPixel),hn=s.globeNormalizeECEF(s.globeTileBounds(Ci.canonical)),ns=ao(ct.projMatrix,vi,ni,hn,s.globeToMercatorTransition(ct.zoom),Qt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,Kt,An);if(Ot(yn,Ri),Ae.setupElevationDraw(zi,et,si),De.prepareDrawProgram(lt,et,Ci.toUnwrapped()),Ai){const[Wr,ss,ts]=Ri?Ai.getWirefameBuffers(De.context,lr):Ai.getGridBuffers(lr);et.draw(lt,oi,Vt,Xt,Et,s.CullFaceMode.backCCW,ns,"globe_raster",Wr,ss,ts)}}}),Ai){const Ri=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];wt&&Ri.push("CUSTOM_ANTIALIASING"),et=De.useProgram("globeRaster",null,Ri);for(const oi of Ke){const{x:Ci,y:zi,z:Xt}=oi.canonical,ri=zi===0,gn=zi===(1<<Xt)-1,[Sn,yn,$n,lr]=Ai.getPoleBuffers(Xt);if(lr&&(ri||gn)){const An=Fe.getTile(oi);lt.activeTexture.set(ht.TEXTURE0),An.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE);let hn=s.globePoleMatrixForTile(Xt,Ci,ct);const ns=s.globeNormalizeECEF(s.globeTileBounds(oi.canonical)),Wr=(ss,ts)=>ss.draw(lt,ht.TRIANGLES,Vt,s.StencilMode.disabled,Et,s.CullFaceMode.disabled,ao(ct.projMatrix,hn,hn,ns,0,Qt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,Kt),"globe_pole_raster",ts,$n,lr);Ae.setupElevationDraw(An,et,si),De.prepareDrawProgram(lt,et,oi.toUnwrapped()),ri&&Wr(et,Sn),gn&&(hn=s.scale(s.create(),hn,[1,-1,1]),Wr(et,yn))}}}})(N,q,ae,he,ye);else{const De=N.context,Ae=De.gl;let Fe,Ke;const at=N.options.showTerrainWireframe?2:0,lt=(ct,wt)=>{if(Ke===ct)return;const Ot=[qa[ct]];wt&&Ot.push(qa[at]),Fe=N.useProgram("terrainRaster",null,Ot),Ke=ct},ht=N.colorModeForRenderPass(),et=new s.DepthMode(Ae.LEQUAL,s.DepthMode.ReadWrite,N.depthRangeFor3D);es.update(ye);const rt=N.transform,gt=6*Math.pow(1.5,22-rt.zoom)*q.exaggeration();(at?[!1,!0]:[!1]).forEach(ct=>{Ke=-1;const wt=ct?Ae.LINES:Ae.TRIANGLES,[Ot,Et]=ct?q.getWirefameBuffer():[q.gridIndexBuffer,q.gridSegments];for(const Vt of he){const ni=ae.getTile(Vt),Qt=s.StencilMode.disabled,Yt=q.prevTerrainTileForTile[Vt.key],Ai=q.terrainTileForTile[Vt.key];vr(Yt,Ai)&&es.newMorphing(Vt.key,Yt,Ai,ye,250),De.activeTexture.set(Ae.TEXTURE0),ni.texture.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE,Ae.LINEAR_MIPMAP_NEAREST);const Kt=es.getMorphValuesForProxy(Vt.key),vi=Kt?1:0;let si;Kt&&(si={morphing:{srcDemTile:Kt.from,dstDemTile:Kt.to,phase:s.easeCubicInOut(Kt.phase)}});const Ri=Yn(Vt.projMatrix,Jl(Vt.canonical,rt.renderWorldCopies)?gt/10:gt);lt(vi,ct),q.setupElevationDraw(ni,Fe,si),N.prepareDrawProgram(De,Fe,Vt.toUnwrapped()),Fe.draw(De,wt,et,Qt,ht,s.CullFaceMode.backCCW,Ri,"terrain_raster",q.gridBuffer,Ot,Et)}})}}(p,this,this.proxySourceCache,c,this._updateTimestamp),this.renderingToTexture=!0,p.gpuTimingDeferredRenderEnd(),c.splice(0,c.length))}renderBatch(c){if(this._drapedRenderBatches.length===0)return c+1;this.renderingToTexture=!0;const p=this.painter,T=this.painter.context,N=this.proxySourceCache,q=this.proxiedCoords[N.id],ae=this._drapedRenderBatches.shift(),he=[],ye=p.style.order;let De=0;for(const Ae of q){const Fe=N.getTileByID(Ae.proxyTileKey),Ke=N.proxyCachedFBO[Ae.key]?N.proxyCachedFBO[Ae.key][c]:void 0,at=Ke!==void 0?N.renderCache[Ke]:this.pool[De++],lt=Ke!==void 0;if(Fe.texture=at.tex,lt&&!at.dirty){he.push(Fe.tileID);continue}let ht;T.bindFramebuffer.set(at.fb.framebuffer),this.renderedToTile=!1,at.dirty&&(T.clear({color:s.Color.transparent,stencil:0}),at.dirty=!1);for(let et=ae.start;et<=ae.end;++et){const rt=p.style._layers[ye[et]];if(rt.isHidden(p.transform.zoom))continue;const gt=p.style._getLayerSourceCache(rt),ct=gt?this.proxyToSource[Ae.key][gt.id]:[Ae];if(!ct)continue;const wt=ct;T.viewport.set([0,0,at.fb.width,at.fb.height]),ht!==(gt?gt.id:null)&&(this._setupStencil(at,ct,rt,gt),ht=gt?gt.id:null),p.renderLayer(p,gt,rt,wt)}this.renderedToTile?(at.dirty=!0,he.push(Fe.tileID)):lt||--De,De===5&&(De=0,this.renderToBackBuffer(he))}return this.renderToBackBuffer(he),this.renderingToTexture=!1,T.bindFramebuffer.set(null),T.viewport.set([0,0,p.width,p.height]),ae.end+1}postRender(){}renderCacheEfficiency(c){const p=c.order.length;if(p===0)return{efficiency:100};let T,N=0,q=0,ae=!1;for(let he=0;he<p;++he){const ye=c._layers[c.order[he]];this._style.isLayerDraped(ye)?(ae&&++N,++q):ae||(ae=!0,T=ye.id)}return q===0?{efficiency:100}:{efficiency:100*(1-N/q),firstUndrapedLayer:T}}getMinElevationBelowMSL(){let c=0;return this._visibleDemTiles.filter(p=>p.dem).forEach(p=>{c=Math.min(c,p.dem.tree.minimums[0])}),c===0?c:(c-30)*this._exaggeration}raycast(c,p,T){if(!this._visibleDemTiles)return null;const N=this._visibleDemTiles.filter(q=>q.dem).map(q=>{const ae=q.tileID,he=1<<ae.overscaledZ,{x:ye,y:De}=ae.canonical,Ae=ye/he,Fe=(ye+1)/he,Ke=De/he,at=(De+1)/he;return{minx:Ae,miny:Ke,maxx:Fe,maxy:at,t:q.dem.tree.raycastRoot(Ae,Ke,Fe,at,c,p,T),tile:q}});N.sort((q,ae)=>(q.t!==null?q.t:Number.MAX_VALUE)-(ae.t!==null?ae.t:Number.MAX_VALUE));for(const q of N){if(q.t==null)return null;const ae=q.tile.dem.tree.raycast(q.minx,q.miny,q.maxx,q.maxy,c,p,T);if(ae!=null)return ae}return null}_createFBO(){const c=this.painter.context,p=c.gl,T=this.drapeBufferSize;c.activeTexture.set(p.TEXTURE0);const N=new s.Texture(c,{width:T[0],height:T[1],data:null},p.RGBA);N.bind(p.LINEAR,p.CLAMP_TO_EDGE);const q=c.createFramebuffer(T[0],T[1],!1);return q.colorAttachment.set(N.texture),q.depthAttachment=new ya(c,q.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=c.createRenderbuffer(c.gl.DEPTH_STENCIL,T[0],T[1]),this._stencilRef=0,q.depthAttachment.set(this._sharedDepthStencil),c.clear({stencil:0})):q.depthAttachment.set(this._sharedDepthStencil),c.extTextureFilterAnisotropic&&!c.extTextureFilterAnisotropicForceOff&&p.texParameterf(p.TEXTURE_2D,c.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c.extTextureFilterAnisotropicMax),{fb:q,tex:N,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const c in this._style._sourceCaches)if(this._style._sourceCaches[c].hasTransition())return!0;return this._style.order.some(c=>{const p=this._style._layers[c],T=p.isHidden(this.painter.transform.zoom);return p.type!=="custom"&&!T&&p.hasTransition()})}_clearRasterFadeFromRenderCache(){let c=!1;for(const p in this._style._sourceCaches)if(this._style._sourceCaches[p]._source instanceof Ye){c=!0;break}if(c)for(let p=0;p<this._style.order.length;++p){const T=this._style._layers[this._style.order[p]],N=T.isHidden(this.painter.transform.zoom),q=this._style._getLayerSourceCache(T);if(T.type!=="raster"||N||!q)continue;const ae=T.paint.get("raster-fade-duration");for(const he of this.proxyCoords){const ye=this.proxyToSource[he.key][q.id];if(ye)for(const De of ye){const Ae=oa(q.getTile(De),q.findLoadedParent(De,0),q,this.painter.transform,ae);(Ae.opacity!==1||Ae.mix!==0)&&this._clearRenderCacheForTile(q.id,De)}}}}_setupDrapedRenderBatches(){const c=this._style.order,p=c.length;if(p===0)return;const T=[];let N,q=0,ae=this._style._layers[c[q]];for(;!this._style.isLayerDraped(ae)&&ae.isHidden(this.painter.transform.zoom)&&++q<p;)ae=this._style._layers[c[q]];for(;q<p;++q){const he=this._style._layers[c[q]];he.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(he)?N===void 0&&(N=q):N!==void 0&&(T.push({start:N,end:q-1}),N=void 0))}N!==void 0&&T.push({start:N,end:q-1}),this._drapedRenderBatches=T}_setupRenderCache(c){const p=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,p.renderCache.length>p.renderCachePool.length){const ae=Object.values(p.proxyCachedFBO);p.proxyCachedFBO={};for(let he=0;he<ae.length;++he){const ye=Object.values(ae[he]);p.renderCachePool.push(...ye)}}return}this._clearRasterFadeFromRenderCache();const T=this.proxyCoords,N=this._tilesDirty;for(let ae=T.length-1;ae>=0;ae--){const he=T[ae];if(p.getTileByID(he.key),p.proxyCachedFBO[he.key]!==void 0){const ye=c[he.key],De=this.proxyToSource[he.key];let Ae=0;for(const Fe in De){const Ke=De[Fe],at=ye[Fe];if(!at||at.length!==Ke.length||Ke.some((lt,ht)=>lt!==at[ht]||N[Fe]&&N[Fe].hasOwnProperty(lt.key))){Ae=-1;break}++Ae}for(const Fe in p.proxyCachedFBO[he.key])p.renderCache[p.proxyCachedFBO[he.key][Fe]].dirty=Ae<0||Ae!==Object.values(ye).length}}const q=[...this._drapedRenderBatches];q.sort((ae,he)=>he.end-he.start-(ae.end-ae.start));for(const ae of q)for(const he of T){if(p.proxyCachedFBO[he.key])continue;let ye=p.renderCachePool.pop();ye===void 0&&p.renderCache.length<50&&(ye=p.renderCache.length,p.renderCache.push(this._createFBO())),ye!==void 0&&(p.proxyCachedFBO[he.key]={},p.proxyCachedFBO[he.key][ae.start]=ye,p.renderCache[ye].dirty=!0)}this._tilesDirty={}}_setupStencil(c,p,T,N){if(!N||!this._sourceTilesOverlap[N.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const q=this.painter.context,ae=q.gl;if(p.length<=1)return void(this._overlapStencilType=!1);let he;if(T.isTileClipped())he=p.length,this._overlapStencilMode.test={func:ae.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(p[0].overscaledZ>p[p.length-1].overscaledZ))return void(this._overlapStencilType=!1);he=1,this._overlapStencilMode.test={func:ae.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+he>255&&(q.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=he,this._overlapStencilMode.ref=this._stencilRef,T.isTileClipped()&&this._renderTileClippingMasks(p,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(c){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[c.key]),this._overlapStencilMode):s.StencilMode.disabled}_renderTileClippingMasks(c,p){const T=this.painter,N=this.painter.context,q=N.gl;T._tileClippingMaskIDs={},N.setColorMode(s.ColorMode.disabled),N.setDepthMode(s.DepthMode.disabled);const ae=T.useProgram("clippingMask");for(const he of c){const ye=T._tileClippingMaskIDs[he.key]=--p;ae.draw(N,q.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:q.ALWAYS,mask:0},ye,255,q.KEEP,q.KEEP,q.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,lo(he.projMatrix),"$clipping",T.tileExtentBuffer,T.quadTriangleIndexBuffer,T.tileExtentSegments)}}pointCoordinate(c){const p=this.painter.transform;if(c.x<0||c.x>p.width||c.y<0||c.y>p.height)return null;const T=[c.x,c.y,1,1];s.transformMat4$1(T,T,p.pixelMatrixInverse),s.scale$1(T,T,1/T[3]),T[0]/=p.worldSize,T[1]/=p.worldSize;const N=p._camera.position,q=s.mercatorZfromAltitude(1,p.center.lat),ae=[N[0],N[1],N[2]/q,0],he=s.subtract([],T.slice(0,3),ae);s.normalize(he,he);const ye=this.raycast(ae,he,this._exaggeration);return ye!==null&&ye?(s.scaleAndAdd(ae,ae,he,ye),ae[3]=ae[2],ae[2]*=q,ae):null}drawDepth(){const c=this.painter,p=c.context,T=this.proxySourceCache,N=Math.ceil(c.width),q=Math.ceil(c.height);if(!this._depthFBO||this._depthFBO.width===N&&this._depthFBO.height===q||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const ae=p.gl,he=p.createFramebuffer(N,q,!0);p.activeTexture.set(ae.TEXTURE0);const ye=new s.Texture(p,{width:N,height:q,data:null},ae.RGBA);ye.bind(ae.NEAREST,ae.CLAMP_TO_EDGE),he.colorAttachment.set(ye.texture);const De=p.createRenderbuffer(p.gl.DEPTH_COMPONENT16,N,q);he.depthAttachment.set(De),this._depthFBO=he,this._depthTexture=ye}p.bindFramebuffer.set(this._depthFBO.framebuffer),p.viewport.set([0,0,N,q]),function(ae,he,ye,De){if(ae.transform.projection.name==="globe")return;const Ae=ae.context,Fe=Ae.gl;Ae.clear({depth:1});const Ke=ae.useProgram("terrainDepth"),at=new s.DepthMode(Fe.LESS,s.DepthMode.ReadWrite,ae.depthRangeFor3D);for(const lt of De){const ht=ye.getTile(lt),et=Yn(lt.projMatrix,0);he.setupElevationDraw(ht,Ke),Ke.draw(Ae,Fe.TRIANGLES,at,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.backCCW,et,"terrain_depth",he.gridBuffer,he.gridIndexBuffer,he.gridNoSkirtSegments)}}(c,this,T,this.proxyCoords)}_setupProxiedCoordsForOrtho(c,p,T){if(c.getSource()instanceof vt)return this._setupProxiedCoordsForImageSource(c,p,T);this._findCoveringTileCache[c.id]=this._findCoveringTileCache[c.id]||{};const N=this.proxiedCoords[c.id]=[],q=this.proxyCoords;for(let he=0;he<q.length;he++){const ye=q[he],De=this._findTileCoveringTileID(ye,c);if(De){const Ae=this._createProxiedId(ye,De,T[ye.key]&&T[ye.key][c.id]);N.push(Ae),this.proxyToSource[ye.key][c.id]=[Ae]}}let ae=!1;for(let he=0;he<p.length;he++){const ye=c.getTile(p[he]);if(!ye||!ye.hasData())continue;const De=this._findTileCoveringTileID(ye.tileID,this.proxySourceCache);if(De&&De.tileID.canonical.z!==ye.tileID.canonical.z){const Ae=this.proxyToSource[De.tileID.key][c.id],Fe=this._createProxiedId(De.tileID,ye,T[De.tileID.key]&&T[De.tileID.key][c.id]);Ae?Ae.splice(Ae.length-1,0,Fe):this.proxyToSource[De.tileID.key][c.id]=[Fe],N.push(Fe),ae=!0}}this._sourceTilesOverlap[c.id]=ae}_setupProxiedCoordsForImageSource(c,p,T){if(!c.getSource().loaded())return;const N=this.proxiedCoords[c.id]=[],q=this.proxyCoords,ae=c.getSource(),he=new s.pointGeometry(ae.tileID.x,ae.tileID.y)._div(1<<ae.tileID.z),ye=ae.coordinates.map(s.MercatorCoordinate.fromLngLat).reduce((Ae,Fe)=>(Ae.min.x=Math.min(Ae.min.x,Fe.x-he.x),Ae.min.y=Math.min(Ae.min.y,Fe.y-he.y),Ae.max.x=Math.max(Ae.max.x,Fe.x-he.x),Ae.max.y=Math.max(Ae.max.y,Fe.y-he.y),Ae),{min:new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new s.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),De=(Ae,Fe)=>{const Ke=Ae.wrap+Ae.canonical.x/(1<<Ae.canonical.z),at=Ae.canonical.y/(1<<Ae.canonical.z),lt=s.EXTENT/(1<<Ae.canonical.z),ht=Fe.wrap+Fe.canonical.x/(1<<Fe.canonical.z),et=Fe.canonical.y/(1<<Fe.canonical.z);return Ke+lt<ht+ye.min.x||Ke>ht+ye.max.x||at+lt<et+ye.min.y||at>et+ye.max.y};for(let Ae=0;Ae<q.length;Ae++){const Fe=q[Ae];for(let Ke=0;Ke<p.length;Ke++){const at=c.getTile(p[Ke]);if(!at||!at.hasData()||De(Fe,at.tileID))continue;const lt=this._createProxiedId(Fe,at,T[Fe.key]&&T[Fe.key][c.id]),ht=this.proxyToSource[Fe.key][c.id];ht?ht.push(lt):this.proxyToSource[Fe.key][c.id]=[lt],N.push(lt)}}}_createProxiedId(c,p,T){let N=this.orthoMatrix;if(T){const q=T.find(ae=>ae.key===p.tileID.key);if(q)return q}if(p.tileID.key!==c.key){const q=c.canonical.z-p.tileID.canonical.z;let ae,he,ye;N=s.create();const De=p.tileID.wrap-c.wrap<<c.overscaledZ;q>0?(ae=s.EXTENT>>q,he=ae*((p.tileID.canonical.x<<q)-c.canonical.x+De),ye=ae*((p.tileID.canonical.y<<q)-c.canonical.y)):(ae=s.EXTENT<<-q,he=s.EXTENT*(p.tileID.canonical.x-(c.canonical.x+De<<-q)),ye=s.EXTENT*(p.tileID.canonical.y-(c.canonical.y<<-q))),s.ortho(N,0,ae,0,ae,0,1),s.translate(N,N,[he,ye,0])}return new aa(p.tileID,c.key,N)}_findTileCoveringTileID(c,p){let T=p.getTile(c);if(T&&T.hasData())return T;const N=this._findCoveringTileCache[p.id],q=N[c.key];if(T=q?p.getTileByID(q):null,T&&T.hasData()||q===null)return T;let ae=T?T.tileID:c,he=ae.overscaledZ;const ye=p.getSource().minzoom,De=[];if(!q){const Fe=p.getSource().maxzoom;if(c.canonical.z>=Fe){const Ke=c.canonical.z-Fe;p.getSource().reparseOverscaled?(he=Math.max(c.canonical.z+2,p.transform.tileZoom),ae=new s.OverscaledTileID(he,c.wrap,Fe,c.canonical.x>>Ke,c.canonical.y>>Ke)):Ke!==0&&(he=Fe,ae=new s.OverscaledTileID(he,c.wrap,Fe,c.canonical.x>>Ke,c.canonical.y>>Ke))}ae.key!==c.key&&(De.push(ae.key),T=p.getTile(ae))}const Ae=Fe=>{De.forEach(Ke=>{N[Ke]=Fe}),De.length=0};for(he-=1;he>=ye&&(!T||!T.hasData());he--){T&&Ae(T.tileID.key);const Fe=ae.calculateScaledKey(he);if(T=p.getTileByID(Fe),T&&T.hasData())break;const Ke=N[Fe];if(Ke===null)break;Ke===void 0?De.push(Fe):T=p.getTileByID(Ke)}return Ae(T?T.tileID.key:null),T&&T.hasData()?T:null}findDEMTileFor(c){return this.enabled?this._findTileCoveringTileID(c,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(c,p){let T=this._tilesDirty[c];T||(T=this._tilesDirty[c]={}),T[p.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const c=function(p){let T=0;const N=new s.StructArrayLayout2ui4,q=131;for(let ae=1;ae<129;ae++){for(let he=1;he<129;he++)T=ae*q+he,N.emplaceBack(T,T+1),N.emplaceBack(T,T+q),N.emplaceBack(T+1,T+q),ae===128&&N.emplaceBack(T+q,T+q+1);N.emplaceBack(T+1,T+1+q)}return N}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(c),this.wireframeSegments=s.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,c.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class ba{static cacheKey(c,p,T,N){let q=`${p}${N?N.cacheKey:""}`;for(const ae of T)c.usedDefines.includes(ae)&&(q+=`/${ae}`);return q}constructor(c,p,T,N,q,ae){const he=c.gl;this.program=he.createProgram();const ye=function(et){const rt=[];for(let gt=0;gt<et.length;gt++){if(et[gt]===null)continue;const ct=et[gt].split(" ");rt.push(ct.pop())}return rt}(T.staticAttributes),De=N?N.getBinderAttributes():[],Ae=ye.concat(De);let Fe=N?N.defines():[];Fe=Fe.concat(ae.map(et=>`#define ${et}`));const Ke=Fe.concat(c.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(Pi):Pi,Pi,_i,Jt.fragmentSource,zt.fragmentSource,T.fragmentSource).join(`
`),at=Fe.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,_i,Jt.vertexSource,zt.vertexSource,Je.vertexSource,T.vertexSource).join(`
`),lt=he.createShader(he.FRAGMENT_SHADER);if(he.isContextLost())return void(this.failedToCreate=!0);he.shaderSource(lt,Ke),he.compileShader(lt),he.attachShader(this.program,lt);const ht=he.createShader(he.VERTEX_SHADER);if(he.isContextLost())this.failedToCreate=!0;else{he.shaderSource(ht,at),he.compileShader(ht),he.attachShader(this.program,ht),this.attributes={},this.numAttributes=Ae.length;for(let et=0;et<this.numAttributes;et++)Ae[et]&&(he.bindAttribLocation(this.program,et,Ae[et]),this.attributes[Ae[et]]=et);he.linkProgram(this.program),he.deleteShader(ht),he.deleteShader(lt),this.fixedUniforms=q(c),this.binderUniforms=N?N.getUniforms(c):[],ae.includes("TERRAIN")&&(this.terrainUniforms=(et=>({u_dem:new s.Uniform1i(et),u_dem_prev:new s.Uniform1i(et),u_dem_unpack:new s.Uniform4f(et),u_dem_tl:new s.Uniform2f(et),u_dem_scale:new s.Uniform1f(et),u_dem_tl_prev:new s.Uniform2f(et),u_dem_scale_prev:new s.Uniform1f(et),u_dem_size:new s.Uniform1f(et),u_dem_lerp:new s.Uniform1f(et),u_exaggeration:new s.Uniform1f(et),u_depth:new s.Uniform1i(et),u_depth_size_inv:new s.Uniform2f(et),u_meter_to_dem:new s.Uniform1f(et),u_label_plane_matrix_inv:new s.UniformMatrix4f(et)}))(c)),ae.includes("GLOBE")&&(this.globeUniforms=(et=>({u_tile_tl_up:new s.Uniform3f(et),u_tile_tr_up:new s.Uniform3f(et),u_tile_br_up:new s.Uniform3f(et),u_tile_bl_up:new s.Uniform3f(et),u_tile_up_scale:new s.Uniform1f(et)}))(c)),ae.includes("FOG")&&(this.fogUniforms=(et=>({u_fog_matrix:new s.UniformMatrix4f(et),u_fog_range:new s.Uniform2f(et),u_fog_color:new s.Uniform4f(et),u_fog_horizon_blend:new s.Uniform1f(et),u_fog_temporal_offset:new s.Uniform1f(et),u_frustum_tl:new s.Uniform3f(et),u_frustum_tr:new s.Uniform3f(et),u_frustum_br:new s.Uniform3f(et),u_frustum_bl:new s.Uniform3f(et),u_globe_pos:new s.Uniform3f(et),u_globe_radius:new s.Uniform1f(et),u_globe_transition:new s.Uniform1f(et),u_is_globe:new s.Uniform1i(et),u_viewport:new s.Uniform2f(et)}))(c))}}setTerrainUniformValues(c,p){if(!this.terrainUniforms)return;const T=this.terrainUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const N in p)T[N]&&T[N].set(this.program,N,p[N])}}setGlobeUniformValues(c,p){if(!this.globeUniforms)return;const T=this.globeUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const N in p)T[N]&&T[N].set(this.program,N,p[N])}}setFogUniformValues(c,p){if(!this.fogUniforms)return;const T=this.fogUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const N in p)T[N].set(this.program,N,p[N])}}draw(c,p,T,N,q,ae,he,ye,De,Ae,Fe,Ke,at,lt,ht){const et=c.gl;if(this.failedToCreate)return;c.program.set(this.program),c.setDepthMode(T),c.setStencilMode(N),c.setColorMode(q),c.setCullFace(ae);for(const gt of Object.keys(this.fixedUniforms))this.fixedUniforms[gt].set(this.program,gt,he[gt]);lt&&lt.setUniforms(this.program,c,this.binderUniforms,Ke,{zoom:at});const rt={[et.LINES]:2,[et.TRIANGLES]:3,[et.LINE_STRIP]:1}[p];for(const gt of Fe.get()){const ct=gt.vaos||(gt.vaos={});(ct[ye]||(ct[ye]=new Xn)).bind(c,this,De,lt?lt.getPaintVertexBuffers():[],Ae,gt.vertexOffset,ht||[]),et.drawElements(p,gt.primitiveLength*rt,et.UNSIGNED_SHORT,gt.primitiveOffset*rt*2)}}}function Ql(_,c){const p=Math.pow(2,c.tileID.overscaledZ),T=c.tileSize*Math.pow(2,_.transform.tileZoom)/p,N=T*(c.tileID.canonical.x+c.tileID.wrap*p),q=T*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_tile_units_to_pixels:1/z(c,1,_.transform.tileZoom),u_pixel_coord_upper:[N>>16,q>>16],u_pixel_coord_lower:[65535&N,65535&q]}}const cl=s.create(),Iu=(_,c,p,T,N,q,ae,he,ye,De,Ae)=>{const Fe=c.style.light,Ke=Fe.properties.get("position"),at=[Ke.x,Ke.y,Ke.z],lt=s.create$1();Fe.properties.get("anchor")==="viewport"&&(s.fromRotation(lt,-c.transform.angle),s.transformMat3(at,at,lt));const ht=Fe.properties.get("color"),et=c.transform,rt={u_matrix:_,u_lightpos:at,u_lightintensity:Fe.properties.get("intensity"),u_lightcolor:[ht.r,ht.g,ht.b],u_vertical_gradient:+p,u_opacity:T,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:cl,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:N,u_edge_radius:q};return et.projection.name==="globe"&&(rt.u_tile_id=[ae.canonical.x,ae.canonical.y,1<<ae.canonical.z],rt.u_zoom_transition=ye,rt.u_inv_rot_matrix=Ae,rt.u_merc_center=De,rt.u_up_dir=et.projection.upVector(new s.CanonicalTileID(0,0,0),De[0]*s.EXTENT,De[1]*s.EXTENT),rt.u_height_lift=he),rt},jr=(_,c,p,T,N,q,ae,he,ye,De,Ae,Fe)=>{const Ke=Iu(_,c,p,T,N,q,ae,ye,De,Ae,Fe),at={u_height_factor:-Math.pow(2,ae.overscaledZ)/he.tileSize/8};return s.extend(Ke,Ql(c,he),at)},wa=_=>({u_matrix:_}),iu=(_,c,p)=>s.extend(wa(_),Ql(c,p)),ec=(_,c)=>({u_matrix:_,u_world:c}),Uo=(_,c,p,T)=>s.extend(iu(_,c,p),{u_world:T}),tc=s.create(),Sc=(_,c,p,T,N,q)=>{const ae=_.transform,he=ae.projection.name==="globe";let ye;if(q.paint.get("circle-pitch-alignment")==="map")if(he){const Ae=s.globePixelsToTileUnits(ae.zoom,c.canonical)*ae._pixelsPerMercatorPixel;ye=Float32Array.from([Ae,0,0,Ae])}else ye=ae.calculatePixelsToTileUnitsMatrix(p);else ye=new Float32Array([ae.pixelsToGLUnits[0],0,0,ae.pixelsToGLUnits[1]]);const De={u_camera_to_center_distance:ae.cameraToCenterDistance,u_matrix:_.translatePosMatrix(c.projMatrix,p,q.paint.get("circle-translate"),q.paint.get("circle-translate-anchor")),u_device_pixel_ratio:s.exported.devicePixelRatio,u_extrude_scale:ye,u_inv_rot_matrix:tc,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(he){De.u_inv_rot_matrix=T,De.u_merc_center=N,De.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],De.u_zoom_transition=s.globeToMercatorTransition(ae.zoom);const Ae=N[0]*s.EXTENT,Fe=N[1]*s.EXTENT;De.u_up_dir=ae.projection.upVector(new s.CanonicalTileID(0,0,0),Ae,Fe)}return De},ud=_=>{const c=[];return _.paint.get("circle-pitch-alignment")==="map"&&c.push("PITCH_WITH_MAP"),_.paint.get("circle-pitch-scale")==="map"&&c.push("SCALE_WITH_MAP"),c},ic=(_,c,p,T)=>{const N=s.EXTENT/p.tileSize;return{u_matrix:_,u_camera_to_center_distance:c.getCameraToCenterDistance(T),u_extrude_scale:[c.pixelsToGLUnits[0]/N,c.pixelsToGLUnits[1]/N]}},nc=(_,c,p=1)=>({u_matrix:_,u_color:c,u_overlay:0,u_overlay_scale:p}),Nd=s.create(),rc=(_,c,p,T,N,q,ae)=>{const he=_.transform,ye=he.projection.name==="globe",De=ye?s.globePixelsToTileUnits(he.zoom,c.canonical)*he._pixelsPerMercatorPixel:z(p,1,q),Ae={u_matrix:c.projMatrix,u_extrude_scale:De,u_intensity:ae,u_inv_rot_matrix:Nd,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(ye){Ae.u_inv_rot_matrix=T,Ae.u_merc_center=N,Ae.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],Ae.u_zoom_transition=s.globeToMercatorTransition(he.zoom);const Fe=N[0]*s.EXTENT,Ke=N[1]*s.EXTENT;Ae.u_up_dir=he.projection.upVector(new s.CanonicalTileID(0,0,0),Fe,Ke)}return Ae},dd=(_,c,p,T,N,q,ae)=>{const he=_.transform,ye=he.calculatePixelsToTileUnitsMatrix(c);return{u_matrix:sc(_,c,p,T),u_pixels_to_tile_units:ye,u_device_pixel_ratio:q,u_units_to_pixels:[1/he.pixelsToGLUnits[0],1/he.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:N,u_texsize:Lu(p)?c.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Da(c,_.transform),u_alpha_discard_threshold:0,u_trim_offset:ae}},Pa=(_,c,p,T,N)=>{const q=_.transform;return{u_matrix:sc(_,c,p,T),u_texsize:c.imageAtlasTexture.size,u_pixels_to_tile_units:q.calculatePixelsToTileUnitsMatrix(c),u_device_pixel_ratio:N,u_image:0,u_tile_units_to_pixels:Da(c,q),u_units_to_pixels:[1/q.pixelsToGLUnits[0],1/q.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Da(_,c){return 1/z(_,1,c.tileZoom)}function sc(_,c,p,T){return _.translatePosMatrix(T||c.tileID.projMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}function Lu(_){const c=_.paint.get("line-dasharray").value;return c.value||c.kind!=="constant"}const Cc=(_,c,p,T,N,q)=>{return{u_matrix:_,u_tl_parent:c,u_scale_parent:p,u_fade_t:T.mix,u_opacity:T.opacity*N.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:N.paint.get("raster-brightness-min"),u_brightness_high:N.paint.get("raster-brightness-max"),u_saturation_factor:(he=N.paint.get("raster-saturation"),he>0?1-1/(1.001-he):-he),u_contrast_factor:(ae=N.paint.get("raster-contrast"),ae>0?1/(1-ae):1+ae),u_spin_weights:la(N.paint.get("raster-hue-rotate")),u_perspective_transform:q};var ae,he};function la(_){_*=Math.PI/180;const c=Math.sin(_),p=Math.cos(_);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const bo=s.create(),Cl=(_,c,p,T,N,q,ae,he,ye,De,Ae,Fe,Ke,at,lt,ht)=>{const et=N.transform,rt={u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:et.cameraToCenterDistance,u_rotate_symbol:+p,u_aspect_ratio:et.width/et.height,u_fade_change:N.options.fadeDuration?N.symbolFadeChange:1,u_matrix:q,u_label_plane_matrix:ae,u_coord_matrix:he,u_is_text:+ye,u_pitch_with_map:+T,u_texsize:De,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:bo,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:bo,u_up_vector:[0,-1,0]};return ht.name==="globe"&&(rt.u_tile_id=[Ae.canonical.x,Ae.canonical.y,1<<Ae.canonical.z],rt.u_zoom_transition=Fe,rt.u_inv_rot_matrix=at,rt.u_merc_center=Ke,rt.u_camera_forward=et._camera.forward(),rt.u_ecef_origin=s.globeECEFOrigin(et.globeMatrix,Ae.toUnwrapped()),rt.u_tile_matrix=Float32Array.from(et.globeMatrix),rt.u_up_vector=lt),rt},oc=(_,c,p,T,N,q,ae,he,ye,De,Ae,Fe,Ke,at,lt,ht,et)=>s.extend(Cl(_,c,p,T,N,q,ae,he,ye,De,Fe,Ke,at,lt,ht,et),{u_gamma_scale:T?N.transform.cameraToCenterDistance*Math.cos(N.terrain?0:N.transform._pitch):1,u_device_pixel_ratio:s.exported.devicePixelRatio,u_is_halo:+Ae}),Ec=(_,c,p,T,N,q,ae,he,ye,De,Ae,Fe,Ke,at,lt,ht)=>s.extend(oc(_,c,p,T,N,q,ae,he,!0,ye,!0,Ae,Fe,Ke,at,lt,ht),{u_texsize_icon:De,u_texture_icon:1}),wh=(_,c,p)=>({u_matrix:_,u_opacity:c,u_color:p}),wr=(_,c,p,T,N)=>s.extend(function(q,ae,he){const ye=ae.imageManager.getPattern(q.toString()),{width:De,height:Ae}=ae.imageManager.getPixelSize(),Fe=Math.pow(2,he.tileID.overscaledZ),Ke=he.tileSize*Math.pow(2,ae.transform.tileZoom)/Fe,at=Ke*(he.tileID.canonical.x+he.tileID.wrap*Fe),lt=Ke*he.tileID.canonical.y;return{u_image:0,u_pattern_tl:ye.tl,u_pattern_br:ye.br,u_texsize:[De,Ae],u_pattern_size:ye.displaySize,u_tile_units_to_pixels:1/z(he,1,ae.transform.tileZoom),u_pixel_coord_upper:[at>>16,lt>>16],u_pixel_coord_lower:[65535&at,65535&lt]}}(T,p,N),{u_matrix:_,u_opacity:c}),qo={fillExtrusion:_=>({u_matrix:new s.UniformMatrix4f(_),u_lightpos:new s.Uniform3f(_),u_lightintensity:new s.Uniform1f(_),u_lightcolor:new s.Uniform3f(_),u_vertical_gradient:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_edge_radius:new s.Uniform1f(_),u_ao:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_up_dir:new s.Uniform3f(_),u_height_lift:new s.Uniform1f(_)}),fillExtrusionPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_lightpos:new s.Uniform3f(_),u_lightintensity:new s.Uniform1f(_),u_lightcolor:new s.Uniform3f(_),u_vertical_gradient:new s.Uniform1f(_),u_height_factor:new s.Uniform1f(_),u_edge_radius:new s.Uniform1f(_),u_ao:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_up_dir:new s.Uniform3f(_),u_height_lift:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_)}),fill:_=>({u_matrix:new s.UniformMatrix4f(_)}),fillPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),fillOutline:_=>({u_matrix:new s.UniformMatrix4f(_),u_world:new s.Uniform2f(_)}),fillOutlinePattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_world:new s.Uniform2f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),circle:_=>({u_camera_to_center_distance:new s.Uniform1f(_),u_extrude_scale:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_up_dir:new s.Uniform3f(_)}),collisionBox:_=>({u_matrix:new s.UniformMatrix4f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_extrude_scale:new s.Uniform2f(_)}),collisionCircle:_=>({u_matrix:new s.UniformMatrix4f(_),u_inv_matrix:new s.UniformMatrix4f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_viewport_size:new s.Uniform2f(_)}),debug:_=>({u_color:new s.UniformColor(_),u_matrix:new s.UniformMatrix4f(_),u_overlay:new s.Uniform1i(_),u_overlay_scale:new s.Uniform1f(_)}),clippingMask:_=>({u_matrix:new s.UniformMatrix4f(_)}),heatmap:_=>({u_extrude_scale:new s.Uniform1f(_),u_intensity:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_up_dir:new s.Uniform3f(_)}),heatmapTexture:_=>({u_image:new s.Uniform1i(_),u_color_ramp:new s.Uniform1i(_),u_opacity:new s.Uniform1f(_)}),hillshade:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_latrange:new s.Uniform2f(_),u_light:new s.Uniform2f(_),u_shadow:new s.UniformColor(_),u_highlight:new s.UniformColor(_),u_accent:new s.UniformColor(_)}),hillshadePrepare:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_dimension:new s.Uniform2f(_),u_zoom:new s.Uniform1f(_),u_unpack:new s.Uniform4f(_)}),line:_=>({u_matrix:new s.UniformMatrix4f(_),u_pixels_to_tile_units:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_units_to_pixels:new s.Uniform2f(_),u_dash_image:new s.Uniform1i(_),u_gradient_image:new s.Uniform1i(_),u_image_height:new s.Uniform1f(_),u_texsize:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_alpha_discard_threshold:new s.Uniform1f(_),u_trim_offset:new s.Uniform2f(_)}),linePattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_texsize:new s.Uniform2f(_),u_pixels_to_tile_units:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_units_to_pixels:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_alpha_discard_threshold:new s.Uniform1f(_)}),raster:_=>({u_matrix:new s.UniformMatrix4f(_),u_tl_parent:new s.Uniform2f(_),u_scale_parent:new s.Uniform1f(_),u_fade_t:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_image0:new s.Uniform1i(_),u_image1:new s.Uniform1i(_),u_brightness_low:new s.Uniform1f(_),u_brightness_high:new s.Uniform1f(_),u_saturation_factor:new s.Uniform1f(_),u_contrast_factor:new s.Uniform1f(_),u_spin_weights:new s.Uniform3f(_),u_perspective_transform:new s.Uniform2f(_)}),symbolIcon:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_camera_forward:new s.Uniform3f(_),u_tile_matrix:new s.UniformMatrix4f(_),u_up_vector:new s.Uniform3f(_),u_ecef_origin:new s.Uniform3f(_),u_texture:new s.Uniform1i(_)}),symbolSDF:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_texture:new s.Uniform1i(_),u_gamma_scale:new s.Uniform1f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_camera_forward:new s.Uniform3f(_),u_tile_matrix:new s.UniformMatrix4f(_),u_up_vector:new s.Uniform3f(_),u_ecef_origin:new s.Uniform3f(_),u_is_halo:new s.Uniform1i(_)}),symbolTextAndIcon:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_texsize_icon:new s.Uniform2f(_),u_texture:new s.Uniform1i(_),u_texture_icon:new s.Uniform1i(_),u_gamma_scale:new s.Uniform1f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_is_halo:new s.Uniform1i(_)}),background:_=>({u_matrix:new s.UniformMatrix4f(_),u_opacity:new s.Uniform1f(_),u_color:new s.UniformColor(_)}),backgroundPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_opacity:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_pattern_tl:new s.Uniform2f(_),u_pattern_br:new s.Uniform2f(_),u_texsize:new s.Uniform2f(_),u_pattern_size:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),terrainRaster:yr,terrainDepth:yr,skybox:_=>({u_matrix:new s.UniformMatrix4f(_),u_sun_direction:new s.Uniform3f(_),u_cubemap:new s.Uniform1i(_),u_opacity:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_)}),skyboxGradient:_=>({u_matrix:new s.UniformMatrix4f(_),u_color_ramp:new s.Uniform1i(_),u_center_direction:new s.Uniform3f(_),u_radius:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_)}),skyboxCapture:_=>({u_matrix_3f:new s.UniformMatrix3f(_),u_sun_direction:new s.Uniform3f(_),u_sun_intensity:new s.Uniform1f(_),u_color_tint_r:new s.Uniform4f(_),u_color_tint_m:new s.Uniform4f(_),u_luminance:new s.Uniform1f(_)}),globeRaster:_=>({u_proj_matrix:new s.UniformMatrix4f(_),u_globe_matrix:new s.UniformMatrix4f(_),u_normalize_matrix:new s.UniformMatrix4f(_),u_merc_matrix:new s.UniformMatrix4f(_),u_zoom_transition:new s.Uniform1f(_),u_merc_center:new s.Uniform2f(_),u_image0:new s.Uniform1i(_),u_grid_matrix:new s.UniformMatrix3f(_),u_frustum_tl:new s.Uniform3f(_),u_frustum_tr:new s.Uniform3f(_),u_frustum_br:new s.Uniform3f(_),u_frustum_bl:new s.Uniform3f(_),u_globe_pos:new s.Uniform3f(_),u_globe_radius:new s.Uniform1f(_),u_viewport:new s.Uniform2f(_)}),globeAtmosphere:_=>({u_frustum_tl:new s.Uniform3f(_),u_frustum_tr:new s.Uniform3f(_),u_frustum_br:new s.Uniform3f(_),u_frustum_bl:new s.Uniform3f(_),u_horizon:new s.Uniform1f(_),u_transition:new s.Uniform1f(_),u_fadeout_range:new s.Uniform1f(_),u_color:new s.Uniform4f(_),u_high_color:new s.Uniform4f(_),u_space_color:new s.Uniform4f(_),u_star_intensity:new s.Uniform1f(_),u_star_density:new s.Uniform1f(_),u_star_size:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_),u_horizon_angle:new s.Uniform1f(_),u_rotation_matrix:new s.UniformMatrix4f(_)})};let wo;function ca(_,c,p,T,N,q,ae){const he=_.context,ye=he.gl,De=_.transform,Ae=_.useProgram("collisionBox"),Fe=[];let Ke=0,at=0;for(let wt=0;wt<T.length;wt++){const Ot=T[wt],Et=c.getTile(Ot),Vt=Et.getBucket(p);if(!Vt)continue;const ni=_a(Ot,Vt,De);let Qt=ni;N[0]===0&&N[1]===0||(Qt=_.translatePosMatrix(ni,Et,N,q));const Yt=ae?Vt.textCollisionBox:Vt.iconCollisionBox,Ai=Vt.collisionCircleArray;if(Ai.length>0){const Kt=s.create(),vi=Qt;s.mul(Kt,Vt.placementInvProjMatrix,De.glCoordMatrix),s.mul(Kt,Kt,Vt.placementViewportMatrix),Fe.push({circleArray:Ai,circleOffset:at,transform:vi,invTransform:Kt,projection:Vt.getProjection()}),Ke+=Ai.length/4,at=Ke}Yt&&(_.terrain&&_.terrain.setupElevationDraw(Et,Ae),Ae.draw(he,ye.LINES,s.DepthMode.disabled,s.StencilMode.disabled,_.colorModeForRenderPass(),s.CullFaceMode.disabled,ic(Qt,De,Et,Vt.getProjection()),p.id,Yt.layoutVertexBuffer,Yt.indexBuffer,Yt.segments,null,De.zoom,null,[Yt.collisionVertexBuffer,Yt.collisionVertexBufferExt]))}if(!ae||!Fe.length)return;const lt=_.useProgram("collisionCircle"),ht=new s.StructArrayLayout2f1f2i16;ht.resize(4*Ke),ht._trim();let et=0;for(const wt of Fe)for(let Ot=0;Ot<wt.circleArray.length/4;Ot++){const Et=4*Ot,Vt=wt.circleArray[Et+0],ni=wt.circleArray[Et+1],Qt=wt.circleArray[Et+2],Yt=wt.circleArray[Et+3];ht.emplace(et++,Vt,ni,Qt,Yt,0),ht.emplace(et++,Vt,ni,Qt,Yt,1),ht.emplace(et++,Vt,ni,Qt,Yt,2),ht.emplace(et++,Vt,ni,Qt,Yt,3)}(!wo||wo.length<2*Ke)&&(wo=function(wt){const Ot=2*wt,Et=new s.StructArrayLayout3ui6;Et.resize(Ot),Et._trim();for(let Vt=0;Vt<Ot;Vt++){const ni=6*Vt;Et.uint16[ni+0]=4*Vt+0,Et.uint16[ni+1]=4*Vt+1,Et.uint16[ni+2]=4*Vt+2,Et.uint16[ni+3]=4*Vt+2,Et.uint16[ni+4]=4*Vt+3,Et.uint16[ni+5]=4*Vt+0}return Et}(Ke));const rt=he.createIndexBuffer(wo,!0),gt=he.createVertexBuffer(ht,s.collisionCircleLayout.members,!0);for(const wt of Fe){const Ot={u_matrix:wt.transform,u_inv_matrix:wt.invTransform,u_camera_to_center_distance:(ct=De).getCameraToCenterDistance(wt.projection),u_viewport_size:[ct.width,ct.height]};lt.draw(he,ye.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,_.colorModeForRenderPass(),s.CullFaceMode.disabled,Ot,p.id,gt,rt,s.SegmentVector.simpleSegment(0,2*wt.circleOffset,wt.circleArray.length,wt.circleArray.length/2),null,De.zoom)}var ct;gt.destroy(),rt.destroy()}const El=s.create();function zd({width:_,height:c,anchor:p,textOffset:T,textScale:N},q){const{horizontalAlign:ae,verticalAlign:he}=s.getAnchorAlignment(p),ye=-(ae-.5)*_,De=-(he-.5)*c,Ae=s.evaluateVariableOffset(p,T);return new s.pointGeometry((ye/N+Ae[0])*q,(De/N+Ae[1])*q)}function Fd(_,c,p,T,N,q,ae,he,ye,De,Ae){const Fe=_.text.placedSymbolArray,Ke=_.text.dynamicLayoutVertexArray,at=_.icon.dynamicLayoutVertexArray,lt={},ht=_.getProjection(),et=bl(he,ht,q),rt=q.elevation,gt=ht.upVectorScale(he.canonical,q.center.lat,q.worldSize).metersToTile;Ke.clear();for(let ct=0;ct<Fe.length;ct++){const wt=Fe.get(ct),{tileAnchorX:Ot,tileAnchorY:Et,numGlyphs:Vt}=wt,ni=_.allowVerticalPlacement&&!wt.placedOrientation,Qt=wt.hidden||!wt.crossTileID||ni?null:T[wt.crossTileID];if(Qt){let Yt=0,Ai=0,Kt=0;if(rt){const gn=rt?rt.getAtTileOffset(he,Ot,Et):0,[Sn,yn,$n]=ht.upVector(he.canonical,Ot,Et);Yt=gn*Sn*gt,Ai=gn*yn*gt,Kt=gn*$n*gt}let[vi,si,Ri,oi]=fo(wt.projectedAnchorX+Yt,wt.projectedAnchorY+Ai,wt.projectedAnchorZ+Kt,p?et:ae);const Ci=en(q.getCameraToCenterDistance(ht),oi);let zi=N.evaluateSizeForFeature(_.textSizeData,De,wt)*Ci/s.ONE_EM;p&&(zi*=_.tilePixelRatio/ye);const Xt=zd(Qt,zi);p?({x:vi,y:si,z:Ri}=ht.projectTilePoint(Ot+Xt.x,Et+Xt.y,he.canonical),[vi,si,Ri]=fo(vi+Yt,si+Ai,Ri+Kt,ae)):(c&&Xt._rotate(-q.angle),vi+=Xt.x,si+=Xt.y,Ri=0);const ri=_.allowVerticalPlacement&&wt.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let gn=0;gn<Vt;gn++)s.addDynamicAttributes(Ke,vi,si,Ri,ri);Ae&&wt.associatedIconIndex>=0&&(lt[wt.associatedIconIndex]={x:vi,y:si,z:Ri,angle:ri})}else ro(Vt,Ke)}if(Ae){at.clear();const ct=_.icon.placedSymbolArray;for(let wt=0;wt<ct.length;wt++){const Ot=ct.get(wt),{numGlyphs:Et}=Ot,Vt=lt[wt];if(Ot.hidden||!Vt)ro(Et,at);else{const{x:ni,y:Qt,z:Yt,angle:Ai}=Vt;for(let Kt=0;Kt<Et;Kt++)s.addDynamicAttributes(at,ni,Qt,Yt,Ai)}}_.icon.dynamicLayoutVertexBuffer.updateData(at)}_.text.dynamicLayoutVertexBuffer.updateData(Ke)}function jd(_,c,p){return p.iconsInText&&c?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function Xo(_,c,p,T,N,q,ae,he,ye,De,Ae,Fe){const Ke=_.context,at=Ke.gl,lt=_.transform,ht=he==="map",et=ye==="map",rt=ht&&p.layout.get("symbol-placement")!=="point",gt=ht&&!et&&!rt,ct=p.layout.get("symbol-sort-key").constantOr(1)!==void 0;let wt=!1;const Ot=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),Et=[s.mercatorXfromLng(lt.center.lng),s.mercatorYfromLat(lt.center.lat)],Vt=p.layout.get("text-variable-anchor"),ni=lt.projection.name==="globe",Qt=[],Yt=[0,-1,0];let Ai=Yt;!ni&&!lt.mercatorFromTransition||ht||(Ai=function(Kt){const vi=Kt._camera.getWorldToCamera(Kt.worldSize,1),si=s.multiply([],vi,Kt.globeMatrix);s.invert(si,si);const Ri=[0,0,0],oi=[0,1,0,0];return s.transformMat4$1(oi,oi,si),Ri[0]=oi[0],Ri[1]=oi[1],Ri[2]=oi[2],s.normalize(Ri,Ri),Ri}(lt));for(const Kt of T){const vi=c.getTile(Kt),si=vi.getBucket(p);if(!si||si.projection.name==="mercator"&&ni)continue;const Ri=N?si.text:si.icon;if(!Ri||si.fullyClipped||!Ri.segments.get().length)continue;const oi=Ri.programConfigurations.get(p.id),Ci=N||si.sdfIcons,zi=N?si.textSizeData:si.iconSizeData,Xt=et||lt.pitch!==0,ri=s.evaluateSizeForZoom(zi,lt.zoom);let gn,Sn,yn,$n,lr=[0,0],An=null;if(N){if(Sn=vi.glyphAtlasTexture,yn=at.LINEAR,gn=vi.glyphAtlasTexture.size,si.iconsInText){lr=vi.imageAtlasTexture.size,An=vi.imageAtlasTexture;const Za=zi.kind==="composite"||zi.kind==="camera";$n=Xt||_.options.rotating||_.options.zooming||Za?at.LINEAR:at.NEAREST}}else{const Za=p.layout.get("icon-size").constantOr(0)!==1||si.iconsNeedLinear;Sn=vi.imageAtlasTexture,yn=Ci||_.options.rotating||_.options.zooming||Za||Xt?at.LINEAR:at.NEAREST,gn=vi.imageAtlasTexture.size}const hn=si.projection.name==="globe",ns=hn?Ai:Yt,Wr=hn?s.globeToMercatorTransition(lt.zoom):0,ss=bl(Kt,si.getProjection(),lt),ts=lt.calculatePixelsToTileUnitsMatrix(vi),Xa=Io(ss,vi.tileID.canonical,et,ht,lt,si.getProjection(),ts),Ia=_.terrain&&et&&rt?s.invert(s.create(),Xa):El,Ta=ld(ss,vi.tileID.canonical,et,ht,lt,si.getProjection(),ts),lc=Vt&&si.hasTextData(),gs=p.layout.get("icon-text-fit")!=="none"&&lc&&si.hasIconData();if(rt){const Za=lt.elevation,Dc=Za?Za.getAtTileOffsetFunc(Kt,lt.center.lat,lt.worldSize,si.getProjection()):null,Al=Jc(ss,vi.tileID.canonical,et,ht,lt,si.getProjection(),ts);ur(si,ss,_,N,Al,Ta,et,De,Dc,Kt)}const is=rt||N&&Vt||gs,$r=_.translatePosMatrix(ss,vi,q,ae),uo=is?El:Xa,ua=_.translatePosMatrix(Ta,vi,q,ae,!0),ys=si.getProjection().createInversionMatrix(lt,Kt.canonical),Sa=[];_.terrainRenderModeElevated()&&et&&Sa.push("PITCH_WITH_MAP_TERRAIN"),hn&&Sa.push("PROJECTION_GLOBE_VIEW"),is&&Sa.push("PROJECTED_POS_ON_VIEWPORT");const kh=Ci&&p.paint.get(N?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let cc;cc=Ci?si.iconsInText?Ec(zi.kind,ri,gt,et,_,$r,uo,ua,gn,lr,Kt,Wr,Et,ys,ns,si.getProjection()):oc(zi.kind,ri,gt,et,_,$r,uo,ua,N,gn,!0,Kt,Wr,Et,ys,ns,si.getProjection()):Cl(zi.kind,ri,gt,et,_,$r,uo,ua,N,gn,Kt,Wr,Et,ys,ns,si.getProjection());const da={program:_.useProgram(jd(Ci,N,si),oi,Sa),buffers:Ri,uniformValues:cc,atlasTexture:Sn,atlasTextureIcon:An,atlasInterpolation:yn,atlasInterpolationIcon:$n,isSDF:Ci,hasHalo:kh,tile:vi,labelPlaneMatrixInv:Ia};if(ct&&si.canOverlap){wt=!0;const Za=Ri.segments.get();for(const Dc of Za)Qt.push({segments:new s.SegmentVector([Dc]),sortKey:Dc.sortKey,state:da})}else Qt.push({segments:Ri.segments,sortKey:0,state:da})}wt&&Qt.sort((Kt,vi)=>Kt.sortKey-vi.sortKey);for(const Kt of Qt){const vi=Kt.state;if(_.terrain&&_.terrain.setupElevationDraw(vi.tile,vi.program,{useDepthForOcclusion:!ni,labelPlaneMatrixInv:vi.labelPlaneMatrixInv}),Ke.activeTexture.set(at.TEXTURE0),vi.atlasTexture.bind(vi.atlasInterpolation,at.CLAMP_TO_EDGE),vi.atlasTextureIcon&&(Ke.activeTexture.set(at.TEXTURE1),vi.atlasTextureIcon&&vi.atlasTextureIcon.bind(vi.atlasInterpolationIcon,at.CLAMP_TO_EDGE)),vi.isSDF){const si=vi.uniformValues;vi.hasHalo&&(si.u_is_halo=1,Ht(vi.buffers,Kt.segments,p,_,vi.program,Ot,Ae,Fe,si)),si.u_is_halo=0}Ht(vi.buffers,Kt.segments,p,_,vi.program,Ot,Ae,Fe,vi.uniformValues)}}function Ht(_,c,p,T,N,q,ae,he,ye){const De=T.context,Ae=[_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer,_.globeExtVertexBuffer];N.draw(De,De.gl.TRIANGLES,q,ae,he,s.CullFaceMode.disabled,ye,p.id,_.layoutVertexBuffer,_.indexBuffer,c,p.paint,T.transform.zoom,_.programConfigurations.get(p.id),Ae)}function wi(_,c,p,T,N,q,ae){const he=_.context.gl,ye=p.paint.get("fill-pattern"),De=ye&&ye.constantOr(1);let Ae,Fe,Ke,at,lt;ae?(Fe=De&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ae=he.LINES):(Fe=De?"fillPattern":"fill",Ae=he.TRIANGLES);for(const ht of T){const et=c.getTile(ht);if(De&&!et.patternsLoaded())continue;const rt=et.getBucket(p);if(!rt)continue;_.prepareDrawTile();const gt=rt.programConfigurations.get(p.id),ct=_.useProgram(Fe,gt);De&&(_.context.activeTexture.set(he.TEXTURE0),et.imageAtlasTexture.bind(he.LINEAR,he.CLAMP_TO_EDGE),gt.updatePaintBuffers());const wt=ye.constantOr(null);if(wt&&et.imageAtlas){const Et=et.imageAtlas.patternPositions[wt.toString()];Et&&gt.setConstantPatternPositions(Et)}const Ot=_.translatePosMatrix(ht.projMatrix,et,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(ae){at=rt.indexBuffer2,lt=rt.segments2;const Et=_.terrain&&_.terrain.renderingToTexture?_.terrain.drapeBufferSize:[he.drawingBufferWidth,he.drawingBufferHeight];Ke=Fe==="fillOutlinePattern"&&De?Uo(Ot,_,et,Et):ec(Ot,Et)}else at=rt.indexBuffer,lt=rt.segments,Ke=De?iu(Ot,_,et):wa(Ot);_.prepareDrawProgram(_.context,ct,ht.toUnwrapped()),ct.draw(_.context,Ae,N,_.stencilModeForClipping(ht),q,s.CullFaceMode.disabled,Ke,p.id,rt.layoutVertexBuffer,at,lt,p.paint,_.transform.zoom,gt)}}function gi(_,c,p,T,N,q,ae){const he=_.context,ye=he.gl,De=_.transform,Ae=p.paint.get("fill-extrusion-pattern"),Fe=Ae.constantOr(1),Ke=p.paint.get("fill-extrusion-opacity"),at=[p.paint.get("fill-extrusion-ambient-occlusion-intensity"),p.paint.get("fill-extrusion-ambient-occlusion-radius")],lt=p.layout.get("fill-extrusion-edge-radius"),ht=De.projection.name==="globe"?s.fillExtrusionHeightLift():0,et=De.projection.name==="globe",rt=et?s.globeToMercatorTransition(De.zoom):0,gt=[s.mercatorXfromLng(De.center.lng),s.mercatorYfromLat(De.center.lat)],ct=[];et&&(ct.push("PROJECTION_GLOBE_VIEW"),_.style.terrainSetForDrapingOnly()&&ct.push("TERRAIN")),at[0]>0&&ct.push("FAUX_AO");for(const wt of T){const Ot=c.getTile(wt),Et=Ot.getBucket(p);if(!Et||Et.projection.name!==De.projection.name)continue;const Vt=Et.programConfigurations.get(p.id),ni=_.useProgram(Fe?"fillExtrusionPattern":"fillExtrusion",Vt,ct);if(_.terrain){const Ri=_.terrain;if(_.style.terrainSetForDrapingOnly())Ri.setupElevationDraw(Ot,ni,{useMeterToDem:!0});else{if(!Et.enableTerrain)continue;if(Ri.setupElevationDraw(Ot,ni,{useMeterToDem:!0}),mn(he,c,wt,Et,p,Ri),!Et.centroidVertexBuffer){const oi=ni.attributes.a_centroid_pos;oi!==void 0&&ye.vertexAttrib2f(oi,0,0)}}}Fe&&(_.context.activeTexture.set(ye.TEXTURE0),Ot.imageAtlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Vt.updatePaintBuffers());const Qt=Ae.constantOr(null);if(Qt&&Ot.imageAtlas){const Ri=Ot.imageAtlas.patternPositions[Qt.toString()];Ri&&Vt.setConstantPatternPositions(Ri)}const Yt=_.translatePosMatrix(wt.projMatrix,Ot,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Ai=De.projection.createInversionMatrix(De,wt.canonical),Kt=p.paint.get("fill-extrusion-vertical-gradient"),vi=Fe?jr(Yt,_,Kt,Ke,at,lt,wt,Ot,ht,rt,gt,Ai):Iu(Yt,_,Kt,Ke,at,lt,wt,ht,rt,gt,Ai);_.prepareDrawProgram(he,ni,wt.toUnwrapped());const si=[];_.terrain&&si.push(Et.centroidVertexBuffer),et&&si.push(Et.layoutVertexExtBuffer),ni.draw(he,he.gl.TRIANGLES,N,q,ae,s.CullFaceMode.backCCW,vi,p.id,Et.layoutVertexBuffer,Et.indexBuffer,Et.segments,p.paint,_.transform.zoom,Vt,si)}}function mn(_,c,p,T,N,q){const ae=[rt=>{let gt=rt.canonical.x-1,ct=rt.wrap;return gt<0&&(gt=(1<<rt.canonical.z)-1,ct--),new s.OverscaledTileID(rt.overscaledZ,ct,rt.canonical.z,gt,rt.canonical.y)},rt=>{let gt=rt.canonical.x+1,ct=rt.wrap;return gt===1<<rt.canonical.z&&(gt=0,ct++),new s.OverscaledTileID(rt.overscaledZ,ct,rt.canonical.z,gt,rt.canonical.y)},rt=>new s.OverscaledTileID(rt.overscaledZ,rt.wrap,rt.canonical.z,rt.canonical.x,(rt.canonical.y===0?1<<rt.canonical.z:rt.canonical.y)-1),rt=>new s.OverscaledTileID(rt.overscaledZ,rt.wrap,rt.canonical.z,rt.canonical.x,rt.canonical.y===(1<<rt.canonical.z)-1?0:rt.canonical.y+1)],he=rt=>{const gt=c.getSource().minzoom,ct=Ot=>{const Et=c.getTileByID(Ot);if(Et&&Et.hasData())return Et.getBucket(N)},wt=[0,-1,1];for(const Ot of wt){if(rt.overscaledZ+Ot<gt)continue;const Et=ct(rt.calculateScaledKey(rt.overscaledZ+Ot));if(Et)return Et}},ye=[0,0,0],De=(rt,gt)=>(ye[0]=Math.min(rt.min.y,gt.min.y),ye[1]=Math.max(rt.max.y,gt.max.y),ye[2]=s.EXTENT-gt.min.x>rt.max.x?gt.min.x-s.EXTENT:rt.max.x,ye),Ae=(rt,gt)=>(ye[0]=Math.min(rt.min.x,gt.min.x),ye[1]=Math.max(rt.max.x,gt.max.x),ye[2]=s.EXTENT-gt.min.y>rt.max.y?gt.min.y-s.EXTENT:rt.max.y,ye),Fe=[(rt,gt)=>De(rt,gt),(rt,gt)=>De(gt,rt),(rt,gt)=>Ae(rt,gt),(rt,gt)=>Ae(gt,rt)],Ke=new s.pointGeometry(0,0);let at,lt,ht;const et=(rt,gt,ct,wt,Ot)=>{const Et=[[wt?ct:rt,wt?rt:ct,0],[wt?ct:gt,wt?gt:ct,0]],Vt=Ot<0?s.EXTENT+Ot:Ot,ni=[wt?Vt:(rt+gt)/2,wt?(rt+gt)/2:Vt,0];return ct===0&&Ot<0||ct!==0&&Ot>0?q.getForTilePoints(ht,[ni],!0,lt):Et.push(ni),q.getForTilePoints(p,Et,!0,at),Math.max(Et[0][2],Et[1][2],ni[2])/q.exaggeration()};for(let rt=0;rt<4;rt++){const gt=(rt<2?1:5)-rt,ct=T.borders[rt];if(ct.length===0)continue;const wt=ht=ae[rt](p),Ot=he(wt);if(!(Ot&&Ot instanceof s.FillExtrusionBucket&&Ot.enableTerrain)||T.borderDoneWithNeighborZ[rt]===Ot.canonical.z&&Ot.borderDoneWithNeighborZ[gt]===T.canonical.z||(lt=q.findDEMTileFor(wt),!lt||!lt.dem))continue;if(!at){const Qt=q.findDEMTileFor(p);if(!Qt||!Qt.dem)return;at=Qt}const Et=Ot.borders[gt];let Vt=0;const ni=Ot.borderDoneWithNeighborZ[gt]!==T.canonical.z;if(T.canonical.z===Ot.canonical.z){for(let Qt=0;Qt<ct.length;Qt++){const Yt=T.featuresOnBorder[ct[Qt]],Ai=Yt.borders[rt];let Kt;for(;Vt<Et.length&&(Kt=Ot.featuresOnBorder[Et[Vt]],!(Kt.borders[gt][1]>Ai[0]+3));)ni&&Ot.encodeCentroid(void 0,Kt,!1),Vt++;if(Kt&&Vt<Et.length){const vi=Vt;let si=0;for(;!(Kt.borders[gt][0]>Ai[1]-3)&&(si++,++Vt!==Et.length);)Kt=Ot.featuresOnBorder[Et[Vt]];if(Kt=Ot.featuresOnBorder[Et[vi]],Yt.intersectsCount()>1||Kt.intersectsCount()>1||si!==1){si!==1&&(Vt=vi),T.encodeCentroid(void 0,Yt,!1),ni&&Ot.encodeCentroid(void 0,Kt,!1);continue}const Ri=Fe[rt](Yt,Kt),oi=rt%2?s.EXTENT-1:0;Ke.x=et(Ri[0],Math.min(s.EXTENT-1,Ri[1]),oi,rt<2,Ri[2]),Ke.y=0,T.encodeCentroid(Ke,Yt,!1),ni&&Ot.encodeCentroid(Ke,Kt,!1)}else T.encodeCentroid(void 0,Yt,!1)}T.borderDoneWithNeighborZ[rt]=Ot.canonical.z,T.needsCentroidUpdate=!0,ni&&(Ot.borderDoneWithNeighborZ[gt]=T.canonical.z,Ot.needsCentroidUpdate=!0)}else{for(const Qt of ct)T.encodeCentroid(void 0,T.featuresOnBorder[Qt],!1);if(ni){for(const Qt of Et)Ot.encodeCentroid(void 0,Ot.featuresOnBorder[Qt],!1);Ot.borderDoneWithNeighborZ[gt]=T.canonical.z,Ot.needsCentroidUpdate=!0}T.borderDoneWithNeighborZ[rt]=Ot.canonical.z,T.needsCentroidUpdate=!0}}(T.needsCentroidUpdate||!T.centroidVertexBuffer&&T.centroidVertexArray.length!==0)&&T.uploadCentroid(_)}const Jn=new s.Color(1,0,0,1),Br=new s.Color(0,1,0,1),$s=new s.Color(0,0,1,1),Ur=new s.Color(1,0,1,1),Mc=new s.Color(0,1,1,1);function Ou(_,c,p){const T=_.context,N=_.transform,q=T.gl,ae=N.projection.name==="globe",he=ae?["PROJECTION_GLOBE_VIEW"]:null;let ye=p.projMatrix;if(ae&&s.globeToMercatorTransition(N.zoom)>0){const Yt=s.transitionTileAABBinECEF(p.canonical,N),Ai=s.globeDenormalizeECEF(Yt);ye=s.multiply(new Float32Array(16),N.globeMatrix,Ai),s.multiply(ye,N.projMatrix,ye)}const De=_.useProgram("debug",null,he),Ae=c.getTileByID(p.key);_.terrain&&_.terrain.setupElevationDraw(Ae,De);const Fe=s.DepthMode.disabled,Ke=s.StencilMode.disabled,at=_.colorModeForRenderPass(),lt="$debug";T.activeTexture.set(q.TEXTURE0),_.emptyTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),ae?Ae._makeGlobeTileDebugBuffers(_.context,N):Ae._makeDebugTileBoundsBuffers(_.context,N.projection);const ht=Ae._tileDebugBuffer||_.debugBuffer,et=Ae._tileDebugIndexBuffer||_.debugIndexBuffer,rt=Ae._tileDebugSegments||_.debugSegments;De.draw(T,q.LINE_STRIP,Fe,Ke,at,s.CullFaceMode.disabled,nc(ye,s.Color.red),lt,ht,et,rt,null,null,null,[Ae._globeTileDebugBorderBuffer]);const gt=Ae.latestRawTileData,ct=Math.floor((gt&&gt.byteLength||0)/1024),wt=c.getTile(p).tileSize,Ot=512/Math.min(wt,512)*(p.overscaledZ/N.zoom)*.5;let Et=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(Et+=` => ${p.overscaledZ}`),Et+=` ${ct}kb`,function(Yt,Ai){Yt.initDebugOverlayCanvas();const Kt=Yt.debugOverlayCanvas,vi=Yt.context.gl,si=Yt.debugOverlayCanvas.getContext("2d");si.clearRect(0,0,Kt.width,Kt.height),si.shadowColor="white",si.shadowBlur=2,si.lineWidth=1.5,si.strokeStyle="white",si.textBaseline="top",si.font="bold 36px Open Sans, sans-serif",si.fillText(Ai,5,5),si.strokeText(Ai,5,5),Yt.debugOverlayTexture.update(Kt),Yt.debugOverlayTexture.bind(vi.LINEAR,vi.CLAMP_TO_EDGE)}(_,Et);const Vt=Ae._tileDebugTextBuffer||_.debugBuffer,ni=Ae._tileDebugTextIndexBuffer||_.quadTriangleIndexBuffer,Qt=Ae._tileDebugTextSegments||_.debugSegments;De.draw(T,q.TRIANGLES,Fe,Ke,s.ColorMode.alphaBlended,s.CullFaceMode.disabled,nc(ye,s.Color.transparent,Ot),lt,Vt,ni,Qt,null,null,null,[Ae._globeTileDebugTextBuffer])}function Zo(_,c,p,T){Pt(_,0,c+p/2,_.transform.width,p,T)}function st(_,c,p,T){Pt(_,c-p/2,0,p,_.transform.height,T)}function Pt(_,c,p,T,N,q){const ae=_.context,he=ae.gl;he.enable(he.SCISSOR_TEST),he.scissor(c*s.exported.devicePixelRatio,p*s.exported.devicePixelRatio,T*s.exported.devicePixelRatio,N*s.exported.devicePixelRatio),ae.clear({color:q}),he.disable(he.SCISSOR_TEST)}const $t=s.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Ti}=$t;function Wt(_,c,p,T){_.emplaceBack(c,p,T)}class ci{constructor(c){this.vertexArray=new s.StructArrayLayout3f12,this.indices=new s.StructArrayLayout3ui6,Wt(this.vertexArray,-1,-1,1),Wt(this.vertexArray,1,-1,1),Wt(this.vertexArray,-1,1,1),Wt(this.vertexArray,1,1,1),Wt(this.vertexArray,-1,-1,-1),Wt(this.vertexArray,1,-1,-1),Wt(this.vertexArray,-1,1,-1),Wt(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=c.createVertexBuffer(this.vertexArray,Ti),this.indexBuffer=c.createIndexBuffer(this.indices),this.segment=s.SegmentVector.simpleSegment(0,0,36,12)}}function Li(_,c,p,T,N,q){const ae=_.gl,he=c.paint.get("sky-atmosphere-color"),ye=c.paint.get("sky-atmosphere-halo-color"),De=c.paint.get("sky-atmosphere-sun-intensity"),Ae=((Fe,Ke,at,lt,ht)=>({u_matrix_3f:Fe,u_sun_direction:Ke,u_sun_intensity:at,u_color_tint_r:[lt.r,lt.g,lt.b,lt.a],u_color_tint_m:[ht.r,ht.g,ht.b,ht.a],u_luminance:5e-5}))(s.fromMat4(s.create$1(),T),N,De,he,ye);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_CUBE_MAP_POSITIVE_X+q,c.skyboxTexture,0),p.draw(_,ae.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.frontCW,Ae,"skyboxCapture",c.skyboxGeometry.vertexBuffer,c.skyboxGeometry.indexBuffer,c.skyboxGeometry.segment)}const an=s.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Ni{constructor(c){const p=new s.StructArrayLayout5f20;p.emplaceBack(-1,1,1,0,0),p.emplaceBack(1,1,1,1,0),p.emplaceBack(1,-1,1,1,1),p.emplaceBack(-1,-1,1,0,1);const T=new s.StructArrayLayout3ui6;T.emplaceBack(0,1,2),T.emplaceBack(2,3,0),this.vertexBuffer=c.createVertexBuffer(p,an.members),this.indexBuffer=c.createIndexBuffer(T),this.segments=s.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Nn={symbol:function(_,c,p,T,N){if(_.renderPass!=="translucent")return;const q=s.StencilMode.disabled,ae=_.colorModeForRenderPass();p.layout.get("text-variable-anchor")&&function(he,ye,De,Ae,Fe,Ke,at){const lt=ye.transform,ht=Fe==="map",et=Ke==="map";for(const rt of he){const gt=Ae.getTile(rt),ct=gt.getBucket(De);if(!ct||!ct.text||!ct.text.segments.get().length)continue;const wt=s.evaluateSizeForZoom(ct.textSizeData,lt.zoom),Ot=bl(rt,ct.getProjection(),lt),Et=lt.calculatePixelsToTileUnitsMatrix(gt),Vt=Io(Ot,gt.tileID.canonical,et,ht,lt,ct.getProjection(),Et),ni=De.layout.get("icon-text-fit")!=="none"&&ct.hasIconData();if(wt){const Qt=Math.pow(2,lt.zoom-gt.tileID.overscaledZ);Fd(ct,ht,et,at,s.symbolSize,lt,Vt,rt,Qt,wt,ni)}}}(T,_,p,c,p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),N),p.paint.get("icon-opacity").constantOr(1)!==0&&Xo(_,c,p,T,!1,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),p.layout.get("icon-rotation-alignment"),p.layout.get("icon-pitch-alignment"),p.layout.get("icon-keep-upright"),q,ae),p.paint.get("text-opacity").constantOr(1)!==0&&Xo(_,c,p,T,!0,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),p.layout.get("text-keep-upright"),q,ae),c.map.showCollisionBoxes&&(ca(_,c,p,T,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),!0),ca(_,c,p,T,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),!1))},circle:function(_,c,p,T){if(_.renderPass!=="translucent")return;const N=p.paint.get("circle-opacity"),q=p.paint.get("circle-stroke-width"),ae=p.paint.get("circle-stroke-opacity"),he=p.layout.get("circle-sort-key").constantOr(1)!==void 0;if(N.constantOr(1)===0&&(q.constantOr(1)===0||ae.constantOr(1)===0))return;const ye=_.context,De=ye.gl,Ae=_.transform,Fe=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),Ke=s.StencilMode.disabled,at=_.colorModeForRenderPass(),lt=Ae.projection.name==="globe",ht=[s.mercatorXfromLng(Ae.center.lng),s.mercatorYfromLat(Ae.center.lat)],et=[];for(let gt=0;gt<T.length;gt++){const ct=T[gt],wt=c.getTile(ct),Ot=wt.getBucket(p);if(!Ot||Ot.projection.name!==Ae.projection.name)continue;const Et=Ot.programConfigurations.get(p.id),Vt=ud(p);lt&&Vt.push("PROJECTION_GLOBE_VIEW");const ni=_.useProgram("circle",Et,Vt),Qt=Ot.layoutVertexBuffer,Yt=Ot.globeExtVertexBuffer,Ai=Ot.indexBuffer,Kt=Ae.projection.createInversionMatrix(Ae,ct.canonical),vi={programConfiguration:Et,program:ni,layoutVertexBuffer:Qt,globeExtVertexBuffer:Yt,indexBuffer:Ai,uniformValues:Sc(_,ct,wt,Kt,ht,p),tile:wt};if(he){const si=Ot.segments.get();for(const Ri of si)et.push({segments:new s.SegmentVector([Ri]),sortKey:Ri.sortKey,state:vi})}else et.push({segments:Ot.segments,sortKey:0,state:vi})}he&&et.sort((gt,ct)=>gt.sortKey-ct.sortKey);const rt={useDepthForOcclusion:!lt};for(const gt of et){const{programConfiguration:ct,program:wt,layoutVertexBuffer:Ot,globeExtVertexBuffer:Et,indexBuffer:Vt,uniformValues:ni,tile:Qt}=gt.state,Yt=gt.segments;_.terrain&&_.terrain.setupElevationDraw(Qt,wt,rt),_.prepareDrawProgram(ye,wt,Qt.tileID.toUnwrapped()),wt.draw(ye,De.TRIANGLES,Fe,Ke,at,s.CullFaceMode.disabled,ni,p.id,Ot,Vt,Yt,p.paint,Ae.zoom,ct,[Et])}},heatmap:function(_,c,p,T){if(p.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const N=_.context,q=N.gl,ae=s.StencilMode.disabled,he=new s.ColorMode([q.ONE,q.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(at,lt,ht,et){const rt=at.gl,gt=lt.width*et,ct=lt.height*et;at.activeTexture.set(rt.TEXTURE1),at.viewport.set([0,0,gt,ct]);let wt=ht.heatmapFbo;if(!wt||wt&&(wt.width!==gt||wt.height!==ct)){wt&&wt.destroy();const Ot=rt.createTexture();rt.bindTexture(rt.TEXTURE_2D,Ot),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_S,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_T,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MIN_FILTER,rt.LINEAR),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MAG_FILTER,rt.LINEAR),wt=ht.heatmapFbo=at.createFramebuffer(gt,ct,!1),function(Et,Vt,ni,Qt,Yt,Ai){const Kt=Et.gl;Kt.texImage2D(Kt.TEXTURE_2D,0,Kt.RGBA,Yt,Ai,0,Kt.RGBA,Et.extRenderToTextureHalfFloat?Et.extTextureHalfFloat.HALF_FLOAT_OES:Kt.UNSIGNED_BYTE,null),Qt.colorAttachment.set(ni)}(at,0,Ot,wt,gt,ct)}else rt.bindTexture(rt.TEXTURE_2D,wt.colorAttachment.get()),at.bindFramebuffer.set(wt.framebuffer)})(N,_,p,_.transform.projection.name==="globe"?.5:.25),N.clear({color:s.Color.transparent});const ye=_.transform,De=ye.projection.name==="globe",Ae=De?["PROJECTION_GLOBE_VIEW"]:null,Fe=De?s.CullFaceMode.frontCCW:s.CullFaceMode.disabled,Ke=[s.mercatorXfromLng(ye.center.lng),s.mercatorYfromLat(ye.center.lat)];for(let at=0;at<T.length;at++){const lt=T[at];if(c.hasRenderableParent(lt))continue;const ht=c.getTile(lt),et=ht.getBucket(p);if(!et||et.projection.name!==ye.projection.name)continue;const rt=et.programConfigurations.get(p.id),gt=_.useProgram("heatmap",rt,Ae),{zoom:ct}=_.transform;_.terrain&&_.terrain.setupElevationDraw(ht,gt),_.prepareDrawProgram(N,gt,lt.toUnwrapped());const wt=ye.projection.createInversionMatrix(ye,lt.canonical);gt.draw(N,q.TRIANGLES,s.DepthMode.disabled,ae,he,Fe,rc(_,lt,ht,wt,Ke,ct,p.paint.get("heatmap-intensity")),p.id,et.layoutVertexBuffer,et.indexBuffer,et.segments,p.paint,_.transform.zoom,rt,De?[et.globeExtVertexBuffer]:null)}N.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(N,q){const ae=N.context,he=ae.gl,ye=q.heatmapFbo;if(!ye)return;ae.activeTexture.set(he.TEXTURE0),he.bindTexture(he.TEXTURE_2D,ye.colorAttachment.get()),ae.activeTexture.set(he.TEXTURE1);let De=q.colorRampTexture;De||(De=q.colorRampTexture=new s.Texture(ae,q.colorRamp,he.RGBA)),De.bind(he.LINEAR,he.CLAMP_TO_EDGE),N.useProgram("heatmapTexture").draw(ae,he.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,N.colorModeForRenderPass(),s.CullFaceMode.disabled,((Ae,Fe,Ke,at)=>({u_image:0,u_color_ramp:1,u_opacity:Fe.paint.get("heatmap-opacity")}))(0,q),q.id,N.viewportBuffer,N.quadTriangleIndexBuffer,N.viewportSegments,q.paint,N.transform.zoom)}(_,p))},line:function(_,c,p,T){if(_.renderPass!=="translucent")return;const N=p.paint.get("line-opacity"),q=p.paint.get("line-width");if(N.constantOr(1)===0||q.constantOr(1)===0)return;const ae=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),he=_.colorModeForRenderPass(),ye=_.terrain&&_.terrain.renderingToTexture?1:s.exported.devicePixelRatio,De=p.paint.get("line-dasharray"),Ae=De.constantOr(1),Fe=p.layout.get("line-cap"),Ke=p.paint.get("line-pattern"),at=Ke.constantOr(1),lt=p.paint.get("line-gradient"),ht=at?"linePattern":"line",et=_.context,rt=et.gl,gt=(wt=>{const Ot=[];Lu(wt)&&Ot.push("RENDER_LINE_DASH"),wt.paint.get("line-gradient")&&Ot.push("RENDER_LINE_GRADIENT");const Et=wt.paint.get("line-trim-offset");Et[0]===0&&Et[1]===0||Ot.push("RENDER_LINE_TRIM_OFFSET");const Vt=wt.paint.get("line-pattern").constantOr(1),ni=wt.paint.get("line-opacity").constantOr(1)!==1;return!Vt&&ni&&Ot.push("RENDER_LINE_ALPHA_DISCARD"),Ot})(p);let ct=gt.includes("RENDER_LINE_ALPHA_DISCARD");_.terrain&&_.terrain.clipOrMaskOverlapStencilType()&&(ct=!1);for(const wt of T){const Ot=c.getTile(wt);if(at&&!Ot.patternsLoaded())continue;const Et=Ot.getBucket(p);if(!Et)continue;_.prepareDrawTile();const Vt=Et.programConfigurations.get(p.id),ni=_.useProgram(ht,Vt,gt),Qt=Ke.constantOr(null);if(Qt&&Ot.imageAtlas){const Ci=Ot.imageAtlas.patternPositions[Qt.toString()];Ci&&Vt.setConstantPatternPositions(Ci)}const Yt=De.constantOr(null),Ai=Fe.constantOr(null);if(!at&&Yt&&Ai&&Ot.lineAtlas){const Ci=Ot.lineAtlas.getDash(Yt,Ai);Ci&&Vt.setConstantPatternPositions(Ci)}let[Kt,vi]=p.paint.get("line-trim-offset");(Ai==="round"||Ai==="square")&&Kt!==vi&&(Kt===0&&(Kt-=1),vi===1&&(vi+=1));const si=_.terrain?wt.projMatrix:null,Ri=at?Pa(_,Ot,p,si,ye):dd(_,Ot,p,si,Et.lineClipsArray.length,ye,[Kt,vi]);if(lt){const Ci=Et.gradients[p.id];let zi=Ci.texture;if(p.gradientVersion!==Ci.version){let Xt=256;if(p.stepInterpolant){const ri=c.getSource().maxzoom,gn=wt.canonical.z===ri?Math.ceil(1<<_.transform.maxZoom-wt.canonical.z):1;Xt=s.clamp(s.nextPowerOfTwo(Et.maxLineLength/s.EXTENT*1024*gn),256,et.maxTextureSize)}Ci.gradient=s.renderColorRamp({expression:p.gradientExpression(),evaluationKey:"lineProgress",resolution:Xt,image:Ci.gradient||void 0,clips:Et.lineClipsArray}),Ci.texture?Ci.texture.update(Ci.gradient):Ci.texture=new s.Texture(et,Ci.gradient,rt.RGBA),Ci.version=p.gradientVersion,zi=Ci.texture}et.activeTexture.set(rt.TEXTURE1),zi.bind(p.stepInterpolant?rt.NEAREST:rt.LINEAR,rt.CLAMP_TO_EDGE)}Ae&&(et.activeTexture.set(rt.TEXTURE0),Ot.lineAtlasTexture.bind(rt.LINEAR,rt.REPEAT),Vt.updatePaintBuffers()),at&&(et.activeTexture.set(rt.TEXTURE0),Ot.imageAtlasTexture.bind(rt.LINEAR,rt.CLAMP_TO_EDGE),Vt.updatePaintBuffers()),_.prepareDrawProgram(et,ni,wt.toUnwrapped());const oi=Ci=>{ni.draw(et,rt.TRIANGLES,ae,Ci,he,s.CullFaceMode.disabled,Ri,p.id,Et.layoutVertexBuffer,Et.indexBuffer,Et.segments,p.paint,_.transform.zoom,Vt,[Et.layoutVertexBuffer2])};if(ct){const Ci=_.stencilModeForClipping(wt).ref;Ci===0&&_.terrain&&et.clear({stencil:0});const zi={func:rt.EQUAL,mask:255};Ri.u_alpha_discard_threshold=.8,oi(new s.StencilMode(zi,Ci,255,rt.KEEP,rt.KEEP,rt.INVERT)),Ri.u_alpha_discard_threshold=0,oi(new s.StencilMode(zi,Ci,255,rt.KEEP,rt.KEEP,rt.KEEP))}else oi(_.stencilModeForClipping(wt))}ct&&(_.resetStencilClippingMasks(),_.terrain&&et.clear({stencil:0}))},fill:function(_,c,p,T){const N=p.paint.get("fill-color"),q=p.paint.get("fill-opacity");if(q.constantOr(1)===0)return;const ae=_.colorModeForRenderPass(),he=p.paint.get("fill-pattern"),ye=_.opaquePassEnabledForLayer()&&!he.constantOr(1)&&N.constantOr(s.Color.transparent).a===1&&q.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===ye){const De=_.depthModeForSublayer(1,_.renderPass==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly);wi(_,c,p,T,De,ae,!1)}if(_.renderPass==="translucent"&&p.paint.get("fill-antialias")){const De=_.depthModeForSublayer(p.getPaintProperty("fill-outline-color")?2:0,s.DepthMode.ReadOnly);wi(_,c,p,T,De,ae,!0)}},"fill-extrusion":function(_,c,p,T){const N=p.paint.get("fill-extrusion-opacity");if(N!==0&&_.renderPass==="translucent"){const q=new s.DepthMode(_.context.gl.LEQUAL,s.DepthMode.ReadWrite,_.depthRangeFor3D);if(N!==1||p.paint.get("fill-extrusion-pattern").constantOr(1))gi(_,c,p,T,q,s.StencilMode.disabled,s.ColorMode.disabled),gi(_,c,p,T,q,_.stencilModeFor3D(),_.colorModeForRenderPass()),_.resetStencilClippingMasks();else{const ae=_.colorModeForRenderPass();gi(_,c,p,T,q,s.StencilMode.disabled,ae)}}},hillshade:function(_,c,p,T){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const N=_.context,q=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),ae=_.colorModeForRenderPass(),he=_.terrain&&_.terrain.renderingToTexture,[ye,De]=_.renderPass!=="translucent"||he?[{},T]:_.stencilConfigForOverlap(T);for(const Ae of De){const Fe=c.getTile(Ae);if(Fe.needsHillshadePrepare&&_.renderPass==="offscreen")gr(_,Fe,p,q,s.StencilMode.disabled,ae);else if(_.renderPass==="translucent"){const Ke=he&&_.terrain?_.terrain.stencilModeForRTTOverlap(Ae):ye[Ae.overscaledZ];fs(_,Ae,Fe,p,q,Ke,ae)}}N.viewport.set([0,0,_.width,_.height]),_.resetStencilClippingMasks()},raster:function(_,c,p,T,N,q){if(_.renderPass!=="translucent"||p.paint.get("raster-opacity")===0||!T.length)return;const ae=_.context,he=ae.gl,ye=c.getSource(),De=_.useProgram("raster"),Ae=_.colorModeForRenderPass(),Fe=_.terrain&&_.terrain.renderingToTexture,[Ke,at]=ye instanceof vt||Fe?[{},T]:_.stencilConfigForOverlap(T),lt=at[at.length-1].overscaledZ,ht=!_.options.moving;for(const et of at){const rt=Fe?s.DepthMode.disabled:_.depthModeForSublayer(et.overscaledZ-lt,p.paint.get("raster-opacity")===1?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly,he.LESS),gt=et.toUnwrapped(),ct=c.getTile(et);if(Fe&&(!ct||!ct.hasData()))continue;const wt=Fe?et.projMatrix:_.transform.calculateProjMatrix(gt,ht),Ot=_.terrain&&Fe?_.terrain.stencilModeForRTTOverlap(et):Ke[et.overscaledZ],Et=q?0:p.paint.get("raster-fade-duration");ct.registerFadeDuration(Et);const Vt=c.findLoadedParent(et,0),ni=oa(ct,Vt,c,_.transform,Et);let Qt,Yt;_.terrain&&_.terrain.prepareDrawTile();const Ai=p.paint.get("raster-resampling")==="nearest"?he.NEAREST:he.LINEAR;ae.activeTexture.set(he.TEXTURE0),ct.texture.bind(Ai,he.CLAMP_TO_EDGE),ae.activeTexture.set(he.TEXTURE1),Vt?(Vt.texture.bind(Ai,he.CLAMP_TO_EDGE),Qt=Math.pow(2,Vt.tileID.overscaledZ-ct.tileID.overscaledZ),Yt=[ct.tileID.canonical.x*Qt%1,ct.tileID.canonical.y*Qt%1]):ct.texture.bind(Ai,he.CLAMP_TO_EDGE);const Kt=Cc(wt,Yt||[0,0],Qt||1,ni,p,ye instanceof vt?ye.perspectiveTransform:[0,0]);if(_.prepareDrawProgram(ae,De,gt),ye instanceof vt)ye.boundsBuffer&&ye.boundsSegments&&De.draw(ae,he.TRIANGLES,rt,s.StencilMode.disabled,Ae,s.CullFaceMode.disabled,Kt,p.id,ye.boundsBuffer,_.quadTriangleIndexBuffer,ye.boundsSegments);else{const{tileBoundsBuffer:vi,tileBoundsIndexBuffer:si,tileBoundsSegments:Ri}=_.getTileBoundsBuffers(ct);De.draw(ae,he.TRIANGLES,rt,Ot,Ae,s.CullFaceMode.disabled,Kt,p.id,vi,si,Ri)}}_.resetStencilClippingMasks()},background:function(_,c,p,T){const N=p.paint.get("background-color"),q=p.paint.get("background-opacity");if(q===0)return;const ae=_.context,he=ae.gl,ye=_.transform,De=ye.tileSize,Ae=p.paint.get("background-pattern");if(_.isPatternMissing(Ae))return;const Fe=!Ae&&N.a===1&&q===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==Fe)return;const Ke=s.StencilMode.disabled,at=_.depthModeForSublayer(0,Fe==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly),lt=_.colorModeForRenderPass(),ht=_.useProgram(Ae?"backgroundPattern":"background");let et,rt=T;rt||(et=_.getBackgroundTiles(),rt=Object.values(et).map(gt=>gt.tileID)),Ae&&(ae.activeTexture.set(he.TEXTURE0),_.imageManager.bind(_.context));for(const gt of rt){const ct=gt.toUnwrapped(),wt=T?gt.projMatrix:_.transform.calculateProjMatrix(ct);_.prepareDrawTile();const Ot=c?c.getTile(gt):et?et[gt.key]:new s.Tile(gt,De,ye.zoom,_),Et=Ae?wr(wt,q,_,Ae,{tileID:gt,tileSize:De}):wh(wt,q,N);_.prepareDrawProgram(ae,ht,ct);const{tileBoundsBuffer:Vt,tileBoundsIndexBuffer:ni,tileBoundsSegments:Qt}=_.getTileBoundsBuffers(Ot);ht.draw(ae,he.TRIANGLES,at,Ke,lt,s.CullFaceMode.disabled,Et,p.id,Vt,ni,Qt)}},sky:function(_,c,p){const T=_.transform,N=T.projection.name==="mercator"||T.projection.name==="globe"?1:s.smoothstep(7,8,T.zoom),q=p.paint.get("sky-opacity")*N;if(q===0)return;const ae=_.context,he=p.paint.get("sky-type"),ye=new s.DepthMode(ae.gl.LEQUAL,s.DepthMode.ReadOnly,[0,1]),De=_.frameCounter/1e3%1;he==="atmosphere"?_.renderPass==="offscreen"?p.needsSkyboxCapture(_)&&(function(Ae,Fe,Ke,at){const lt=Ae.context,ht=lt.gl;let et=Fe.skyboxFbo;if(!et){et=Fe.skyboxFbo=lt.createFramebuffer(32,32,!1),Fe.skyboxGeometry=new ci(lt),Fe.skyboxTexture=lt.gl.createTexture(),ht.bindTexture(ht.TEXTURE_CUBE_MAP,Fe.skyboxTexture),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_WRAP_S,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_WRAP_T,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_MIN_FILTER,ht.LINEAR),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_MAG_FILTER,ht.LINEAR);for(let wt=0;wt<6;++wt)ht.texImage2D(ht.TEXTURE_CUBE_MAP_POSITIVE_X+wt,0,ht.RGBA,32,32,0,ht.RGBA,ht.UNSIGNED_BYTE,null)}lt.bindFramebuffer.set(et.framebuffer),lt.viewport.set([0,0,32,32]);const rt=Fe.getCenter(Ae,!0),gt=Ae.useProgram("skyboxCapture"),ct=new Float64Array(16);s.identity(ct),s.rotateY(ct,ct,.5*-Math.PI),Li(lt,Fe,gt,ct,rt,0),s.identity(ct),s.rotateY(ct,ct,.5*Math.PI),Li(lt,Fe,gt,ct,rt,1),s.identity(ct),s.rotateX(ct,ct,.5*-Math.PI),Li(lt,Fe,gt,ct,rt,2),s.identity(ct),s.rotateX(ct,ct,.5*Math.PI),Li(lt,Fe,gt,ct,rt,3),s.identity(ct),Li(lt,Fe,gt,ct,rt,4),s.identity(ct),s.rotateY(ct,ct,Math.PI),Li(lt,Fe,gt,ct,rt,5),lt.viewport.set([0,0,Ae.width,Ae.height])}(_,p),p.markSkyboxValid(_)):_.renderPass==="sky"&&function(Ae,Fe,Ke,at,lt){const ht=Ae.context,et=ht.gl,rt=Ae.transform,gt=Ae.useProgram("skybox");ht.activeTexture.set(et.TEXTURE0),et.bindTexture(et.TEXTURE_CUBE_MAP,Fe.skyboxTexture);const ct=((wt,Ot,Et,Vt,ni)=>({u_matrix:wt,u_sun_direction:Ot,u_cubemap:0,u_opacity:Vt,u_temporal_offset:ni}))(rt.skyboxMatrix,Fe.getCenter(Ae,!1),0,at,lt);Ae.prepareDrawProgram(ht,gt),gt.draw(ht,et.TRIANGLES,Ke,s.StencilMode.disabled,Ae.colorModeForRenderPass(),s.CullFaceMode.backCW,ct,"skybox",Fe.skyboxGeometry.vertexBuffer,Fe.skyboxGeometry.indexBuffer,Fe.skyboxGeometry.segment)}(_,p,ye,q,De):he==="gradient"&&_.renderPass==="sky"&&function(Ae,Fe,Ke,at,lt){const ht=Ae.context,et=ht.gl,rt=Ae.transform,gt=Ae.useProgram("skyboxGradient");Fe.skyboxGeometry||(Fe.skyboxGeometry=new ci(ht)),ht.activeTexture.set(et.TEXTURE0);let ct=Fe.colorRampTexture;ct||(ct=Fe.colorRampTexture=new s.Texture(ht,Fe.colorRamp,et.RGBA)),ct.bind(et.LINEAR,et.CLAMP_TO_EDGE);const wt=((Ot,Et,Vt,ni,Qt)=>({u_matrix:Ot,u_color_ramp:0,u_center_direction:Et,u_radius:s.degToRad(Vt),u_opacity:ni,u_temporal_offset:Qt}))(rt.skyboxMatrix,Fe.getCenter(Ae,!1),Fe.paint.get("sky-gradient-radius"),at,lt);Ae.prepareDrawProgram(ht,gt),gt.draw(ht,et.TRIANGLES,Ke,s.StencilMode.disabled,Ae.colorModeForRenderPass(),s.CullFaceMode.backCW,wt,"skyboxGradient",Fe.skyboxGeometry.vertexBuffer,Fe.skyboxGeometry.indexBuffer,Fe.skyboxGeometry.segment)}(_,p,ye,q,De)},debug:function(_,c,p){for(let T=0;T<p.length;T++)Ou(_,c,p[T])},custom:function(_,c,p){const T=_.context,N=p.implementation;if(_.transform.projection.unsupportedLayers&&_.transform.projection.unsupportedLayers.includes("custom"))s.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(_.renderPass==="offscreen"){const q=N.prerender;q&&(_.setCustomLayerDefaults(),T.setColorMode(_.colorModeForRenderPass()),q.call(N,T.gl,_.transform.customLayerMatrix()),T.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),T.setColorMode(_.colorModeForRenderPass()),T.setStencilMode(s.StencilMode.disabled);const q=N.renderingMode==="3d"?new s.DepthMode(_.context.gl.LEQUAL,s.DepthMode.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,s.DepthMode.ReadOnly);T.setDepthMode(q),N.render(T.gl,_.transform.customLayerMatrix()),T.setDirty(),_.setBaseState(),T.bindFramebuffer.set(null)}}};class Un{constructor(c,p){this.context=new ze(c),this.transform=p,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=s.SourceCache.maxUnderzooming+s.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new xa,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(c,p){const T=!!c&&!!c.terrain&&this.transform.projection.supportsTerrain;if(!(T||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new jo(this,c));const N=this._terrain;this.transform.elevation=T?N:null,N.update(c,this.transform,p)}_updateFog(c){const p=c.fog;if(!p||this.transform.projection.name==="globe"||p.getOpacity(this.transform.pitch)<1||p.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[T,N]=p.getFovAdjustedRange(this.transform._fov);if(T>N)return void(this.transform.fogCullDistSq=null);const q=T+.78*(N-T);this.transform.fogCullDistSq=q*q}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(c,p){if(this.width=c*s.exported.devicePixelRatio,this.height=p*s.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const T of this.style.order)this.style._layers[T].resize()}setup(){const c=this.context,p=new s.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(s.EXTENT,0),p.emplaceBack(0,s.EXTENT),p.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,s.posAttributes.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const T=new s.StructArrayLayout2i4;T.emplaceBack(0,0),T.emplaceBack(s.EXTENT,0),T.emplaceBack(0,s.EXTENT),T.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=c.createVertexBuffer(T,s.posAttributes.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const N=new s.StructArrayLayout2i4;N.emplaceBack(-1,-1),N.emplaceBack(1,-1),N.emplaceBack(-1,1),N.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(N,s.posAttributes.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const q=new s.StructArrayLayout4i8;q.emplaceBack(0,0,0,0),q.emplaceBack(s.EXTENT,0,s.EXTENT,0),q.emplaceBack(0,s.EXTENT,0,s.EXTENT),q.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.mercatorBoundsBuffer=c.createVertexBuffer(q,s.boundsAttributes.members),this.mercatorBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const ae=new s.StructArrayLayout3ui6;ae.emplaceBack(0,1,2),ae.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(ae);const he=new s.StructArrayLayout1ui2;for(const De of[0,1,3,2,0])he.emplaceBack(De);this.debugIndexBuffer=c.createIndexBuffer(he),this.emptyTexture=new s.Texture(c,new s.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),c.gl.RGBA),this.identityMat=s.create();const ye=this.context.gl;this.stencilClearMode=new s.StencilMode({func:ye.ALWAYS,mask:0},0,255,ye.ZERO,ye.ZERO,ye.ZERO),this.loadTimeStamps.push(s.window.performance.now()),this.atmosphereBuffer=new Ni(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(c){return c._makeTileBoundsBuffers(this.context,this.transform.projection),c._tileBoundsBuffer?{tileBoundsBuffer:c._tileBoundsBuffer,tileBoundsIndexBuffer:c._tileBoundsIndexBuffer,tileBoundsSegments:c._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(c,p.TRIANGLES,s.DepthMode.disabled,this.stencilClearMode,s.ColorMode.disabled,s.CullFaceMode.disabled,lo(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(c,p,T){if(!p||this.currentStencilSource===p.id||!c.isTileClipped()||!T||T.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let he=!1;for(const ye of T)if(this._tileClippingMaskIDs[ye.key]===void 0){he=!0;break}if(!he)return}this.currentStencilSource=p.id;const N=this.context,q=N.gl;this.nextStencilID+T.length>256&&this.clearStencil(),N.setColorMode(s.ColorMode.disabled),N.setDepthMode(s.DepthMode.disabled);const ae=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const he of T){const ye=p.getTile(he),De=this._tileClippingMaskIDs[he.key]=this.nextStencilID++,{tileBoundsBuffer:Ae,tileBoundsIndexBuffer:Fe,tileBoundsSegments:Ke}=this.getTileBoundsBuffers(ye);ae.draw(N,q.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:q.ALWAYS,mask:0},De,255,q.KEEP,q.KEEP,q.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,lo(he.projMatrix),"$clipping",Ae,Fe,Ke)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new s.StencilMode({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(c);const p=this.context.gl;return new s.StencilMode({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,T=c.sort((ae,he)=>he.overscaledZ-ae.overscaledZ),N=T[T.length-1].overscaledZ,q=T[0].overscaledZ-N+1;if(q>1){this.currentStencilSource=void 0,this.nextStencilID+q>256&&this.clearStencil();const ae={};for(let he=0;he<q;he++)ae[he+N]=new s.StencilMode({func:p.GEQUAL,mask:255},he+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=q,[ae,T]}return[{[N]:s.StencilMode.disabled},T]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new s.ColorMode([c.CONSTANT_COLOR,c.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?s.ColorMode.unblended:s.ColorMode.alphaBlended}depthModeForSublayer(c,p,T){if(!this.opaquePassEnabledForLayer())return s.DepthMode.disabled;const N=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new s.DepthMode(T||this.context.gl.LEQUAL,p,[N,N])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const T=this.style.order,N=this.style._sourceCaches;for(const ye in N){const De=N[ye];De.used&&De.prepare(this.context)}const q={},ae={},he={};for(const ye in N){const De=N[ye];q[ye]=De.getVisibleCoordinates(),ae[ye]=q[ye].slice().reverse(),he[ye]=De.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ye=0;ye<T.length;ye++)if(this.style._layers[T[ye]].is3D()){this.opaquePassCutoff=ye;break}if(this.terrain&&(this.terrain.updateTileBinding(he),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new s.GlobeSharedBuffers(this.context)),s.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const ye of T){const De=this.style._layers[ye],Ae=c._getLayerSourceCache(De);if(!De.hasOffscreenPass()||De.isHidden(this.transform.zoom))continue;const Fe=Ae?ae[Ae.id]:void 0;(De.type==="custom"||De.isSky()||Fe&&Fe.length)&&this.renderLayer(this,Ae,De,Fe)}if(this.depthRangeFor3D=[0,1-(c.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:p.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=T.length-1;this.currentLayer>=0;this.currentLayer--){const ye=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(ye);if(ye.isSky())continue;const Ae=De?ae[De.id]:void 0;this._renderTileClippingMasks(ye,De,Ae),this.renderLayer(this,De,ye,Ae)}if(this.style.fog&&this.transform.projection.supportsFog&&function(ye,De){const Ae=ye.context,Fe=Ae.gl,Ke=ye.transform,at=new s.DepthMode(Fe.LEQUAL,s.DepthMode.ReadOnly,[0,1]),lt=ye.useProgram("globeAtmosphere",null,Ke.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),ht=s.globeToMercatorTransition(Ke.zoom),et=De.properties.get("color").toArray01(),rt=De.properties.get("high-color").toArray01(),gt=De.properties.get("space-color").toArray01PremultipliedAlpha(),ct=s.identity$1([]);s.rotateY$1(ct,ct,-s.degToRad(Ke._center.lng)),s.rotateX$1(ct,ct,s.degToRad(Ke._center.lat)),s.rotateZ$1(ct,ct,Ke.angle),s.rotateX$1(ct,ct,-Ke._pitch);const wt=s.fromQuat(new Float32Array(16),ct),Ot=s.mapValue(De.properties.get("star-intensity"),0,1,0,.25),Et=5e-4,Vt=s.mapValue(De.properties.get("horizon-blend"),0,1,Et,.25),ni=s.globeUseCustomAntiAliasing(ye,Ae,Ke)&&Vt===Et?Ke.worldSize/(2*Math.PI*1.025)-1:Ke.globeRadius,Qt=ye.frameCounter/1e3%1,Yt=s.length(Ke.globeCenterInViewSpace),Ai=Math.sqrt(Math.pow(Yt,2)-Math.pow(ni,2)),Kt=Math.acos(Ai/Yt),vi=((Ri,oi,Ci,zi,Xt,ri,gn,Sn,yn,$n,lr,An,hn,ns)=>({u_frustum_tl:Ri,u_frustum_tr:oi,u_frustum_br:Ci,u_frustum_bl:zi,u_horizon:Xt,u_transition:ri,u_fadeout_range:gn,u_color:Sn,u_high_color:yn,u_space_color:$n,u_star_intensity:lr,u_star_size:5*s.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:An,u_horizon_angle:hn,u_rotation_matrix:ns}))(Ke.frustumCorners.TL,Ke.frustumCorners.TR,Ke.frustumCorners.BR,Ke.frustumCorners.BL,Ke.frustumCorners.horizon,ht,Vt,et,rt,gt,Ot,Qt,Kt,wt);ye.prepareDrawProgram(Ae,lt);const si=ye.atmosphereBuffer;si&&lt.draw(Ae,Fe.TRIANGLES,at,s.StencilMode.disabled,s.ColorMode.alphaBlended,s.CullFaceMode.backCW,vi,"skybox",si.vertexBuffer,si.indexBuffer,si.segments)}(this,this.style.fog),this.renderPass="sky",(s.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<T.length;this.currentLayer++){const ye=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(ye);ye.isSky()&&this.renderLayer(this,De,ye,De?ae[De.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<T.length;){const ye=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(ye);if(ye.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(ye)){if(ye.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Ae=De?(ye.type==="symbol"?he:ae)[De.id]:void 0;this._renderTileClippingMasks(ye,De,De?q[De.id]:void 0),this.renderLayer(this,De,ye,Ae),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let ye=null;s.values(this.style._layers).forEach(De=>{const Ae=c._getLayerSourceCache(De);Ae&&!De.isHidden(this.transform.zoom)&&(!ye||ye.getSource().maxzoom<Ae.getSource().maxzoom)&&(ye=Ae)}),ye&&this.options.showTileBoundaries&&Nn.debug(this,ye,ye.getVisibleCoordinates())}this.options.showPadding&&function(ye){const De=ye.transform.padding;Zo(ye,ye.transform.height-(De.top||0),3,Jn),Zo(ye,De.bottom||0,3,Br),st(ye,De.left||0,3,$s),st(ye,ye.transform.width-(De.right||0),3,Ur);const Ae=ye.transform.centerPoint;(function(Fe,Ke,at,lt){Pt(Fe,Ke-1,at-10,2,20,lt),Pt(Fe,Ke-10,at-1,20,2,lt)})(ye,Ae.x,ye.transform.height-Ae.y,Mc)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(s.window.performance.now()),this.saveCanvasCopy())}}renderLayer(c,p,T,N){T.isHidden(this.transform.zoom)||(T.type==="background"||T.type==="sky"||T.type==="custom"||N&&N.length)&&(this.id=T.id,this.gpuTimingStart(T),c.transform.projection.unsupportedLayers&&c.transform.projection.unsupportedLayers.includes(T.type)||Nn[T.type](c,p,T,N,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const p=this.context.extTimerQuery;let T=this.gpuTimers[c.id];T||(T=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),T.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,T.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const c=this.context.extTimerQuery,p=c.createQueryEXT();this.deferredRenderGpuTimeQueries.push(p),c.beginQueryEXT(c.TIME_ELAPSED_EXT,p)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}collectDeferredRenderGpuQueries(){const c=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],c}queryGpuTimers(c){const p={};for(const T in c){const N=c[T],q=this.context.extTimerQuery,ae=q.getQueryObjectEXT(N.query,q.QUERY_RESULT_EXT)/1e6;q.deleteQueryEXT(N.query),p[T]=ae}return p}queryGpuTimeDeferredRender(c){if(!this.options.gpuTimingDeferredRender)return 0;const p=this.context.extTimerQuery;let T=0;for(const N of c)T+=p.getQueryObjectEXT(N,p.QUERY_RESULT_EXT)/1e6,p.deleteQueryEXT(N);return T}translatePosMatrix(c,p,T,N,q){if(!T[0]&&!T[1])return c;const ae=q?N==="map"?this.transform.angle:0:N==="viewport"?-this.transform.angle:0;if(ae){const De=Math.sin(ae),Ae=Math.cos(ae);T=[T[0]*Ae-T[1]*De,T[0]*De+T[1]*Ae]}const he=[q?T[0]:z(p,T[0],this.transform.zoom),q?T[1]:z(p,T[1],this.transform.zoom),0],ye=new Float32Array(16);return s.translate(ye,c,he),ye}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){return c===null||c!==void 0&&!this.imageManager.getPattern(c.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const c=this.terrain&&this.terrain.renderingToTexture,p=this.terrain&&this.terrain.exaggeration()===0,T=this.style&&this.style.fog,N=[];return this.terrainRenderModeElevated()&&N.push("TERRAIN"),this.transform.projection.name==="globe"&&N.push("GLOBE"),p&&N.push("ZERO_EXAGGERATION"),T&&!c&&T.getOpacity(this.transform.pitch)!==0&&N.push("FOG"),c&&N.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&N.push("OVERDRAW_INSPECTOR"),N}useProgram(c,p,T){this.cache=this.cache||{};const N=T||[],q=this.currentGlobalDefines().concat(N),ae=ba.cacheKey(ai[c],c,q,p);return this.cache[ae]||(this.cache[ae]=new ba(this.context,c,ai[c],p,qo[c],q)),this.cache[ae]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(c,p,T){if(this.terrain&&this.terrain.renderingToTexture)return;const N=this.style.fog;if(N){const q=N.getOpacity(this.transform.pitch),ae=((he,ye,De,Ae,Fe,Ke,at,lt,ht,et,rt)=>{const gt=he.transform,ct=ye.properties.get("color").toArray01();ct[3]=Ae;const wt=he.frameCounter/1e3%1;return{u_fog_matrix:De?gt.calculateFogTileMatrix(De):he.identityMat,u_fog_range:ye.getFovAdjustedRange(gt._fov),u_fog_color:ct,u_fog_horizon_blend:ye.properties.get("horizon-blend"),u_fog_temporal_offset:wt,u_frustum_tl:Fe,u_frustum_tr:Ke,u_frustum_br:at,u_frustum_bl:lt,u_globe_pos:ht,u_globe_radius:et,u_viewport:rt,u_globe_transition:s.globeToMercatorTransition(gt.zoom),u_is_globe:+(gt.projection.name==="globe")}})(this,N,T,q,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*s.exported.devicePixelRatio,this.transform.height*s.exported.devicePixelRatio]);p.setFogUniformValues(c,ae)}}setTileLoadedFlag(c){this.tileLoaded=c}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const c=this.context.gl,p=c.createTexture();return c.bindTexture(c.TEXTURE_2D,p),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,c.drawingBufferWidth,c.drawingBufferHeight,0),p}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const c=this.style&&this.style.fog;return!!c&&c.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const c=this._backgroundTiles,p=this._backgroundTiles={},T=this.transform.coveringTiles({tileSize:512});for(const N of T)p[N.key]=c[N.key]||new s.Tile(N,512,this.transform.tileZoom,this);return p}clearBackgroundTiles(){this._backgroundTiles={}}}class Vn{constructor(c=0,p=0,T=0,N=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(T)||T<0||isNaN(N)||N<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=T,this.right=N}interpolate(c,p,T){return p.top!=null&&c.top!=null&&(this.top=s.number(c.top,p.top,T)),p.bottom!=null&&c.bottom!=null&&(this.bottom=s.number(c.bottom,p.bottom,T)),p.left!=null&&c.left!=null&&(this.left=s.number(c.left,p.left,T)),p.right!=null&&c.right!=null&&(this.right=s.number(c.right,p.right,T)),this}getCenter(c,p){const T=s.clamp((this.left+c-this.right)/2,0,c),N=s.clamp((this.top+p-this.bottom)/2,0,p);return new s.pointGeometry(T,N)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new Vn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function nr(_,c){const p=s.getColumn(_,3);s.fromQuat(_,c),s.setColumn(_,3,p)}function Mr(_,c){const p=s.identity$1([]);return s.rotateZ$1(p,p,-c),s.rotateX$1(p,p,-_),p}function On(_,c){const p=[_[0],_[1],0],T=[c[0],c[1],0];if(s.length(p)>=1e-15){const ae=s.normalize([],p);s.scale$2(T,ae,s.dot(T,ae)),c[0]=T[0],c[1]=T[1]}const N=s.cross([],c,_);if(s.len(N)<1e-15)return null;const q=Math.atan2(-N[1],N[0]);return Mr(Math.atan2(Math.sqrt(_[0]*_[0]+_[1]*_[1]),-_[2]),q)}class we{constructor(c,p){this.position=c,this.orientation=p}get position(){return this._position}set position(c){if(c){const p=c instanceof s.MercatorCoordinate?c:new s.MercatorCoordinate(c[0],c[1],c[2]);this._renderWorldCopies&&(p.x=s.wrap(p.x,0,1)),this._position=p}else this._position=null}lookAtPoint(c,p){if(this.orientation=null,!this.position)return;const T=this._elevation?this._elevation.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(c)):0,N=this.position,q=s.MercatorCoordinate.fromLngLat(c,T),ae=[q.x-N.x,q.y-N.y,q.z-N.z];p||(p=[0,0,1]),p[2]=Math.abs(p[2]),this.orientation=On(ae,p)}setPitchBearing(c,p){this.orientation=Mr(s.degToRad(c),s.degToRad(-p))}}class Ee{constructor(c,p){this._transform=s.identity([]),this.orientation=p,this.position=c}get mercatorPosition(){const c=this.position;return new s.MercatorCoordinate(c[0],c[1],c[2])}get position(){const c=s.getColumn(this._transform,3);return[c[0],c[1],c[2]]}set position(c){var p;c&&s.setColumn(this._transform,3,[(p=c)[0],p[1],p[2],1])}get orientation(){return this._orientation}set orientation(c){this._orientation=c||s.identity$1([]),c&&nr(this._transform,this._orientation)}getPitchBearing(){const c=this.forward(),p=this.right();return{bearing:Math.atan2(-p[1],p[0]),pitch:Math.atan2(Math.sqrt(c[0]*c[0]+c[1]*c[1]),-c[2])}}setPitchBearing(c,p){this._orientation=Mr(c,p),nr(this._transform,this._orientation)}forward(){const c=s.getColumn(this._transform,2);return[-c[0],-c[1],-c[2]]}up(){const c=s.getColumn(this._transform,1);return[-c[0],-c[1],-c[2]]}right(){const c=s.getColumn(this._transform,0);return[c[0],c[1],c[2]]}getCameraToWorld(c,p){const T=new Float64Array(16);return s.invert(T,this.getWorldToCamera(c,p)),T}getWorldToCameraPosition(c,p,T){const N=this.position;s.scale$2(N,N,-c);const q=new Float64Array(16);return s.fromScaling(q,[T,T,T]),s.translate(q,q,N),q[10]*=p,q}getWorldToCamera(c,p){const T=new Float64Array(16),N=new Float64Array(4),q=this.position;return s.conjugate(N,this._orientation),s.scale$2(q,q,-c),s.fromQuat(T,N),s.translate(T,T,q),T[1]*=-1,T[5]*=-1,T[9]*=-1,T[13]*=-1,T[8]*=p,T[9]*=p,T[10]*=p,T[11]*=p,T}getCameraToClipPerspective(c,p,T,N){const q=new Float64Array(16);return s.perspective(q,c,p,T,N),q}getDistanceToElevation(c,p=!1){const T=c===0?0:s.mercatorZfromAltitude(c,p?s.latFromMercatorY(this.position[1]):this.position[1]),N=this.forward();return(T-this.position[2])/N[2]}clone(){return new Ee([...this.position],[...this.orientation])}}function Ve(_,c){const p=Mi(_.projection,_.zoom,_.width,_.height),T=function(q,ae,he,ye,De){const Ae=new s.LngLat(he.lng-180*Tn,he.lat),Fe=new s.LngLat(he.lng+180*Tn,he.lat),Ke=q.project(Ae.lng,Ae.lat),at=q.project(Fe.lng,Fe.lat),lt=-Math.atan2(at.y-Ke.y,at.x-Ke.x),ht=s.MercatorCoordinate.fromLngLat(he);ht.y=s.clamp(ht.y,-.999975,.999975);const et=ht.toLngLat(),rt=q.project(et.lng,et.lat),gt=s.MercatorCoordinate.fromLngLat(et);gt.x+=Tn;const ct=gt.toLngLat(),wt=q.project(ct.lng,ct.lat),Ot=co(wt.x-rt.x,wt.y-rt.y,lt),Et=s.MercatorCoordinate.fromLngLat(et);Et.y+=Tn;const Vt=Et.toLngLat(),ni=q.project(Vt.lng,Vt.lat),Qt=co(ni.x-rt.x,ni.y-rt.y,lt),Yt=Math.abs(Ot.x)/Math.abs(Qt.y),Ai=s.identity([]);s.rotateZ(Ai,Ai,-lt*(1-(De?0:ye)));const Kt=s.identity([]);return s.scale(Kt,Kt,[1,1-(1-Yt)*ye,1]),Kt[4]=-Qt.x/Qt.y*ye,s.rotateZ(Kt,Kt,lt),s.multiply(Kt,Ai,Kt),Kt}(_.projection,0,_.center,p,c),N=bt(_);return s.scale(T,T,[N,N,1]),T}function bt(_){const c=_.projection,p=Mi(_.projection,_.zoom,_.width,_.height),T=Tr(c,_.center),N=Tr(c,s.LngLat.convert(c.center));return Math.pow(2,T*p+(1-p)*N)}function Mi(_,c,p,T,N=1/0){const q=_.range;if(!q)return 0;const ae=Math.min(N,Math.max(p,T)),he=Math.log(ae/1024)/Math.LN2;return s.smoothstep(q[0]+he,q[1]+he,c)}const Tn=1/4e4;function Tr(_,c){const p=s.clamp(c.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),T=new s.LngLat(c.lng-180*Tn,p),N=new s.LngLat(c.lng+180*Tn,p),q=_.project(T.lng,p),ae=_.project(N.lng,p),he=s.MercatorCoordinate.fromLngLat(T),ye=s.MercatorCoordinate.fromLngLat(N),De=ae.x-q.x,Ae=ae.y-q.y,Fe=ye.x-he.x,Ke=ye.y-he.y,at=Math.sqrt((Fe*Fe+Ke*Ke)/(De*De+Ae*Ae));return Math.log(at)/Math.LN2}function co(_,c,p){const T=Math.cos(p),N=Math.sin(p);return{x:_*T-c*N,y:_*N+c*T}}class Vs{constructor(c,p,T,N,q,ae,he){this.tileSize=512,this._renderWorldCopies=q===void 0||q,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=T??0,this._maxPitch=N??60,this.setProjection(ae),this.setMaxBounds(he),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Vn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Ee,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const c=new Vs(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return c._elevation=this._elevation,c._centerAltitude=this._centerAltitude,c._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,c.tileSize=this.tileSize,c.mercatorFromTransition=this.mercatorFromTransition,c.width=this.width,c.height=this.height,c.cameraElevationReference=this.cameraElevationReference,c._center=this._center,c._setZoom(this.zoom),c._seaLevelZoom=this._seaLevelZoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._nearZ=this._nearZ,c._farZ=this._farZ,c._averageElevation=this._averageElevation,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._camera=this._camera.clone(),c._calcMatrices(),c.freezeTileCoverage=this.freezeTileCoverage,c.frustumCorners=this.frustumCorners,c}get elevation(){return this._elevation}set elevation(c){this._elevation!==c&&(this._elevation=c,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(c,p=!1){const T=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||T)&&this._updateCameraOnTerrain(),(c||T)&&this._constrainCamera(p),this._calcMatrices()}getProjection(){return s.pick(this.projection,["name","center","parallels"])}setProjection(c){this.projectionOptions=c||{name:"mercator"};const p=this.projection?this.getProjection():void 0;this.projection=s.getProjection(this.projectionOptions);const T=!v(p,this.getProjection());return T&&this._calcMatrices(),this.mercatorFromTransition=!1,T}setMercatorFromTransition(){const c=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=s.getProjection({name:"mercator"});const p=c!==this.projection.name;return p&&this._calcMatrices(),p}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get cameraWorldSize(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return s.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.pointGeometry(this.width,this.height)}get bearing(){return s.wrap(this.rotation,-180,180)}set bearing(c){this.rotation=c}get rotation(){return-this.angle/Math.PI*180}set rotation(c){const p=-c*Math.PI/180;var T;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=(T=new s.ARRAY_TYPE(4),s.ARRAY_TYPE!=Float32Array&&(T[1]=0,T[2]=0),T[0]=1,T[3]=1,T),function(N,q,ae){var he=q[0],ye=q[1],De=q[2],Ae=q[3],Fe=Math.sin(ae),Ke=Math.cos(ae);N[0]=he*Ke+De*Fe,N[1]=ye*Ke+Ae*Fe,N[2]=he*-Fe+De*Ke,N[3]=ye*-Fe+Ae*Ke}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=s.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const c=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/c)}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=s.degToRad(c),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(c){this._averageElevation=c,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._setZoom(p),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(c){this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const c=this._elevation;this._centerAltitude=c.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=c.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const c=this._elevation,p=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],T=this.horizonLineFromTop();let N=0,q=0;for(let ae=0;ae<p.length;ae++){const he=new s.pointGeometry(p[ae][0]*this.width,T+p[ae][1]*(this.height-T)),ye=c.pointCoordinate(he);if(!ye)continue;const De=1/Math.hypot(ye[0]-this._camera.position[0],ye[1]-this._camera.position[1]);N+=ye[3]*De,q+=De}return q===0?NaN:N/q}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const c=this._seaLevelZoom,p=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),T=this.pixelsPerMeter/this.worldSize*p,N=this._mercatorZfromZoom(c),q=this._mercatorZfromZoom(this._maxZoom),ae=Math.max(N-T,q);this._setZoom(this._zoomFromMercatorZ(ae))}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}computeZoomRelativeTo(c){const p=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,c.toAltitude()));let T;T=c.z<this._camera.position[2]?[p.x,p.y,p.z]:[c.x,c.y,c.z];const N=s.length(s.sub([],this._camera.position,T));return s.clamp(this._zoomFromMercatorZ(N),this._minZoom,this._maxZoom)}setFreeCameraOptions(c){if(!this.height||!c.position&&!c.orientation)return;this._updateCameraState();let p=!1;if(c.orientation&&!s.exactEquals(c.orientation,this._camera.orientation)&&(p=this._setCameraOrientation(c.orientation)),c.position){const T=[c.position.x,c.position.y,c.position.z];s.exactEquals$1(T,this._camera.position)||(this._setCameraPosition(T),p=!0)}p&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const c=this._camera.position,p=new we;return p.position=new s.MercatorCoordinate(c[0],c[1],c[2]),p.orientation=this._camera.orientation,p._elevation=this.elevation,p._renderWorldCopies=this.renderWorldCopies,p}_setCameraOrientation(c){if(!s.length$1(c))return!1;s.normalize$1(c,c);const p=s.transformQuat([],[0,0,-1],c),T=s.transformQuat([],[0,-1,0],c);if(T[2]<0)return!1;const N=On(p,T);return!!N&&(this._camera.orientation=N,!0)}_setCameraPosition(c){const p=this.zoomScale(this.minZoom)*this.tileSize,T=this.zoomScale(this.maxZoom)*this.tileSize,N=this.cameraToCenterDistance;c[2]=s.clamp(c[2],N/T,N/p),this._camera.position=c}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,T){this._unmodified=!1,this._edgeInsets.interpolate(c,p,T),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new s.UnwrappedTileID(0,c)];if(this.renderWorldCopies){const T=this.pointCoordinate(new s.pointGeometry(0,0)),N=this.pointCoordinate(new s.pointGeometry(this.width,0)),q=this.pointCoordinate(new s.pointGeometry(this.width,this.height)),ae=this.pointCoordinate(new s.pointGeometry(0,this.height)),he=Math.floor(Math.min(T.x,N.x,q.x,ae.x)),ye=Math.floor(Math.max(T.x,N.x,q.x,ae.x)),De=1;for(let Ae=he-De;Ae<=ye+De;Ae++)Ae!==0&&p.push(new s.UnwrappedTileID(Ae,c))}return p}coveringTiles(c){let p=this.coveringZoomLevel(c);const T=p,N=this.elevation&&!c.isTerrainDEM,q=this.projection.name==="mercator";if(c.minzoom!==void 0&&p<c.minzoom)return[];c.maxzoom!==void 0&&p>c.maxzoom&&(p=c.maxzoom);const ae=this.locationCoordinate(this.center),he=this.center.lat,ye=1<<p,De=[ye*ae.x,ye*ae.y,0],Ae=this.projection.name==="globe",Fe=!Ae,Ke=s.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p,Fe),at=Ae?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),lt=ye*s.mercatorZfromAltitude(1,this.center.lat),ht=this._camera.position[2]/s.mercatorZfromAltitude(1,this.center.lat),et=[ye*at.x,ye*at.y,ht*(Fe?1:lt)],rt=this.cameraToCenterDistance/c.tileSize*(c.roundZoom?1:.502),gt=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?p:0,ct=c.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,wt=c.isTerrainDEM?-ct:this._elevation?this._elevation.getMinElevationBelowMSL():0,Ot=this.projection.isReprojectedInTileSpace?bt(this):1,Et=oi=>{const zi=new s.MercatorCoordinate(oi.x+25e-6,oi.y,oi.z),Xt=new s.MercatorCoordinate(oi.x,oi.y+25e-6,oi.z),ri=oi.toLngLat(),gn=zi.toLngLat(),Sn=Xt.toLngLat(),yn=this.locationCoordinate(ri),$n=this.locationCoordinate(gn),lr=this.locationCoordinate(Sn),An=Math.hypot($n.x-yn.x,$n.y-yn.y),hn=Math.hypot(lr.x-yn.x,lr.y-yn.y);return Math.sqrt(An*hn)*Ot/25e-6},Vt=oi=>{const Ci=ct,zi=wt;return{aabb:s.tileAABB(this,ye,0,0,0,oi,zi,Ci,this.projection),zoom:0,x:0,y:0,minZ:zi,maxZ:Ci,wrap:oi,fullyVisible:!1}},ni=[];let Qt=[];const Yt=p,Ai=c.reparseOverscaled?T:p,Kt=oi=>oi*oi,vi=Kt((ht-this._centerAltitude)*lt),si=oi=>{if(!this._elevation||!oi.tileID||!q)return;const Ci=this._elevation.getMinMaxForTile(oi.tileID),zi=oi.aabb;Ci?(zi.min[2]=Ci.min,zi.max[2]=Ci.max,zi.center[2]=(zi.min[2]+zi.max[2])/2):(oi.shouldSplit=Ri(oi),oi.shouldSplit||(zi.min[2]=zi.max[2]=zi.center[2]=this._centerAltitude))},Ri=oi=>{if(oi.zoom<gt)return!0;if(oi.zoom===Yt)return!1;if(oi.shouldSplit!=null)return oi.shouldSplit;const Ci=oi.aabb.distanceX(et),zi=oi.aabb.distanceY(et);let Xt=vi,ri=1;if(Ae){Xt=Kt(oi.aabb.distanceZ(et));const yn=Math.pow(2,oi.zoom),$n=s.latFromMercatorY((oi.y+1)/yn),lr=s.latFromMercatorY(oi.y/yn),An=Math.min(Math.max(he,$n),lr),hn=s.circumferenceAtLatitude(An)/s.circumferenceAtLatitude(he);if(ri=An===he?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,hn/this._mercatorScaleRatio),this.zoom<=s.GLOBE_ZOOM_THRESHOLD_MIN&&oi.zoom===Yt-1&&hn>=.9)return!0}else if(N&&(Xt=Kt(oi.aabb.distanceZ(et)*lt)),this.projection.isReprojectedInTileSpace&&T<=5){const yn=Math.pow(2,oi.zoom),$n=Et(new s.MercatorCoordinate((oi.x+.5)/yn,(oi.y+.5)/yn));ri=$n>.85?1:$n}const gn=Ci*Ci+zi*zi+Xt,Sn=Kt((1<<Yt-oi.zoom)*rt*ri*((yn,$n)=>{if($n*Kt(.707)<yn)return 1;const lr=Math.sqrt($n/yn);return lr/(1.4144271570014144+(Math.pow(1.1,lr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Xt,vi),gn));return gn<Sn};if(this.renderWorldCopies)for(let oi=1;oi<=3;oi++)ni.push(Vt(-oi)),ni.push(Vt(oi));for(ni.push(Vt(0));ni.length>0;){const oi=ni.pop(),Ci=oi.x,zi=oi.y;let Xt=oi.fullyVisible;if(!Xt){const ri=oi.aabb.intersects(Ke);if(ri===0)continue;Xt=ri===2}if(oi.zoom!==Yt&&Ri(oi))for(let ri=0;ri<4;ri++){const gn=(Ci<<1)+ri%2,Sn=(zi<<1)+(ri>>1),yn={aabb:q?oi.aabb.quadrant(ri):s.tileAABB(this,ye,oi.zoom+1,gn,Sn,oi.wrap,oi.minZ,oi.maxZ,this.projection),zoom:oi.zoom+1,x:gn,y:Sn,wrap:oi.wrap,fullyVisible:Xt,tileID:void 0,shouldSplit:void 0,minZ:oi.minZ,maxZ:oi.maxZ};N&&!Ae&&(yn.tileID=new s.OverscaledTileID(oi.zoom+1===Yt?Ai:oi.zoom+1,oi.wrap,oi.zoom+1,gn,Sn),si(yn)),ni.push(yn)}else{const ri=oi.zoom===Yt?Ai:oi.zoom;if(c.minzoom&&c.minzoom>ri)continue;const gn=De[0]-(.5+Ci+(oi.wrap<<oi.zoom))*(1<<p-oi.zoom),Sn=De[1]-.5-zi,yn=oi.tileID?oi.tileID:new s.OverscaledTileID(ri,oi.wrap,oi.zoom,Ci,zi);Qt.push({tileID:yn,distanceSq:gn*gn+Sn*Sn})}}if(this.fogCullDistSq){const oi=this.fogCullDistSq,Ci=this.horizonLineFromTop();Qt=Qt.filter(zi=>{const Xt=[0,0,0,1],ri=[s.EXTENT,s.EXTENT,0,1],gn=this.calculateFogTileMatrix(zi.tileID.toUnwrapped());s.transformMat4$1(Xt,Xt,gn),s.transformMat4$1(ri,ri,gn);const Sn=s.getAABBPointSquareDist(Xt,ri);if(Sn===0)return!0;let yn=!1;const $n=this._elevation;if($n&&Sn>oi&&Ci!==0){const lr=this.calculateProjMatrix(zi.tileID.toUnwrapped());let An;c.isTerrainDEM||(An=$n.getMinMaxForTile(zi.tileID)),An||(An={min:wt,max:ct});const hn=s.furthestTileCorner(this.rotation),ns=[hn[0]*s.EXTENT,hn[1]*s.EXTENT,An.max];s.transformMat4(ns,ns,lr),yn=(1-ns[1])*this.height*.5<Ci}return Sn<oi||yn})}return Qt.sort((oi,Ci)=>oi.distanceSq-Ci.distanceSq).map(oi=>oi.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=s.clamp(c.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),T=this.projection.project(c.lng,p);return new s.pointGeometry(T.x*this.worldSize,T.y*this.worldSize)}unproject(c){return this.projection.unproject(c.x/this.worldSize,c.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(c,p){let T,N;const q=this.centerPoint;if(this.projection.name==="globe"){const he=this.worldSize;T=(p.x-q.x)/he,N=(p.y-q.y)/he}else{const he=this.pointCoordinate(p),ye=this.pointCoordinate(q);T=he.x-ye.x,N=he.y-ye.y}const ae=this.locationCoordinate(c);this.setLocation(new s.MercatorCoordinate(ae.x-T,ae.y-N))}setLocation(c){this.center=this.coordinateLocation(c),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(c){return this.projection.locationPoint(this,c)}locationPoint3D(c){return this.projection.locationPoint(this,c,!0)}pointLocation(c){return this.coordinateLocation(this.pointCoordinate(c))}pointLocation3D(c){return this.coordinateLocation(this.pointCoordinate3D(c))}locationCoordinate(c,p){const T=p?s.mercatorZfromAltitude(p,c.lat):void 0,N=this.projection.project(c.lng,c.lat);return new s.MercatorCoordinate(N.x,N.y,T)}coordinateLocation(c){return this.projection.unproject(c.x,c.y)}pointRayIntersection(c,p){const T=p??this._centerAltitude,N=[c.x,c.y,0,1],q=[c.x,c.y,1,1];s.transformMat4$1(N,N,this.pixelMatrixInverse),s.transformMat4$1(q,q,this.pixelMatrixInverse);const ae=q[3];s.scale$1(N,N,1/N[3]),s.scale$1(q,q,1/ae);const he=N[2],ye=q[2];return{p0:N,p1:q,t:he===ye?0:(T-he)/(ye-he)}}screenPointToMercatorRay(c){const p=[c.x,c.y,0,1],T=[c.x,c.y,1,1];return s.transformMat4$1(p,p,this.pixelMatrixInverse),s.transformMat4$1(T,T,this.pixelMatrixInverse),s.scale$1(p,p,1/p[3]),s.scale$1(T,T,1/T[3]),p[2]=s.mercatorZfromAltitude(p[2],this._center.lat)*this.worldSize,T[2]=s.mercatorZfromAltitude(T[2],this._center.lat)*this.worldSize,s.scale$1(p,p,1/this.worldSize),s.scale$1(T,T,1/this.worldSize),new s.Ray([p[0],p[1],p[2]],s.normalize([],s.sub([],T,p)))}rayIntersectionCoordinate(c){const{p0:p,p1:T,t:N}=c,q=s.mercatorZfromAltitude(p[2],this._center.lat),ae=s.mercatorZfromAltitude(T[2],this._center.lat);return new s.MercatorCoordinate(s.number(p[0],T[0],N)/this.worldSize,s.number(p[1],T[1],N)/this.worldSize,s.number(q,ae,N))}pointCoordinate(c,p=this._centerAltitude){return this.projection.pointCoordinate(this,c.x,c.y,p)}pointCoordinate3D(c){if(!this.elevation)return this.pointCoordinate(c);let p=this.projection.pointCoordinate3D(this,c.x,c.y);if(p)return new s.MercatorCoordinate(p[0],p[1],p[2]);let T=0,N=this.horizonLineFromTop();if(c.y>N)return this.pointCoordinate(c);const q=.02*N,ae=c.clone();for(let he=0;he<10&&N-T>q;he++){ae.y=s.number(T,N,.66);const ye=this.projection.pointCoordinate3D(this,ae.x,ae.y);ye?(N=ae.y,p=ye):T=ae.y}return p?new s.MercatorCoordinate(p[0],p[1],p[2]):this.pointCoordinate(c)}isPointAboveHorizon(c){return this.projection.isPointAboveHorizon(this,c)}_coordinatePoint(c,p){const T=p&&this.elevation?this.elevation.getAtPointOrZero(c,this._centerAltitude):this._centerAltitude,N=[c.x*this.worldSize,c.y*this.worldSize,T+c.toAltitude(),1];return s.transformMat4$1(N,N,this.pixelMatrix),N[3]>0?new s.pointGeometry(N[0]/N[3],N[1]/N[3]):new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:c,left:p}=this._edgeInsets,T=this.height-this._edgeInsets.bottom,N=this.width-this._edgeInsets.right,q=this.pointCoordinate3D(new s.pointGeometry(p,c)),ae=this.pointCoordinate3D(new s.pointGeometry(N,c)),he=this.pointCoordinate3D(new s.pointGeometry(N,T)),ye=this.pointCoordinate3D(new s.pointGeometry(p,T));let De=Math.min(q.x,ye.x),Ae=Math.max(ae.x,he.x),Fe=Math.min(q.y,ae.y),Ke=Math.max(ye.y,he.y);const at=Math.pow(2,-this.zoom)/16,lt=(Et,Vt,ni,Qt)=>{const Yt=(Et+ni)/2,Ai=(Vt+Qt)/2,Kt=new s.pointGeometry(Yt,Ai),vi=this.pointCoordinate3D(Kt),si=Math.max(0,De-vi.x,Fe-vi.y,vi.x-Ae,vi.y-Ke);De=Math.min(De,vi.x),Ae=Math.max(Ae,vi.x),Fe=Math.min(Fe,vi.y),Ke=Math.max(Ke,vi.y),si>at&&(lt(Et,Vt,Yt,Ai),lt(Yt,Ai,ni,Qt))};lt(p,c,N,c),lt(N,c,N,T),lt(N,T,p,T),lt(p,T,p,c);const[ht,et]=s.polesInViewport(this),rt=ht||et,gt=ht?90:s.latFromMercatorY(Fe),ct=rt?180:s.lngFromMercatorX(Ae),wt=et?-90:s.latFromMercatorY(Ke),Ot=rt?-180:s.lngFromMercatorX(De);return new s.LngLatBounds(new s.LngLat(Ot,wt),new s.LngLat(ct,gt))}_getBounds(c,p){if(this.projection.name==="globe")return this._getGlobeBounds();const T=new s.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),N=new s.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),q=new s.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),ae=new s.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let he=this.pointCoordinate(T,c),ye=this.pointCoordinate(N,c);const De=this.pointCoordinate(q,p),Ae=this.pointCoordinate(ae,p),Fe=(Ke,at)=>(at.y-Ke.y)/(at.x-Ke.x);return he.y>1&&ye.y>=0?he=new s.MercatorCoordinate((1-Ae.y)/Fe(Ae,he)+Ae.x,1):he.y<0&&ye.y<=1&&(he=new s.MercatorCoordinate(-Ae.y/Fe(Ae,he)+Ae.x,0)),ye.y>1&&he.y>=0?ye=new s.MercatorCoordinate((1-De.y)/Fe(De,ye)+De.x,1):ye.y<0&&he.y<=1&&(ye=new s.MercatorCoordinate(-De.y/Fe(De,ye)+De.x,0)),new s.LngLatBounds().extend(this.coordinateLocation(he)).extend(this.coordinateLocation(ye)).extend(this.coordinateLocation(Ae)).extend(this.coordinateLocation(De))}_getBounds3D(){const c=this.elevation;if(!c.visibleDemTiles.length||c.isUsingMockSource())return this._getBounds(0,0);const p=c.visibleDemTiles.reduce((T,N)=>{if(N.dem){const q=N.dem.tree;T.min=Math.min(T.min,q.minimums[0]),T.max=Math.max(T.max,q.maximums[0])}return T},{min:Number.MAX_VALUE,max:0});return this._getBounds(p.min*c.exaggeration(),p.max*c.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(c=!0){const p=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,T=this.height/2-p*(1-this._horizonShift);return c?Math.max(0,T):T}getMaxBounds(){return this.maxBounds}setMaxBounds(c){this.maxBounds=c,this.minLat=-s.MAX_MERCATOR_LATITUDE,this.maxLat=s.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,c&&(this.minLat=c.getSouth(),this.maxLat=c.getNorth(),this.minLng=c.getWest(),this.maxLng=c.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=s.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=s.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=s.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=s.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(c,p){return this.projection.createTileMatrix(this,p,c)}calculateDistanceTileData(c){const p=c.key,T=this._distanceTileDataCache;if(T[p])return T[p];const N=c.canonical,q=1/this.height,ae=this.cameraWorldSize,he=ae/this.zoomScale(N.z),ye=(N.x+Math.pow(2,N.z)*c.wrap)*he,De=N.y*he,Ae=this.point;Ae.x*=ae/this.worldSize,Ae.y*=ae/this.worldSize;const Fe=this.angle,Ke=Math.sin(-Fe),at=-Math.cos(-Fe);return T[p]={bearing:[Ke,at],center:[(Ae.x-ye)*q,(Ae.y-De)*q],scale:he/s.EXTENT*q},T[p]}calculateFogTileMatrix(c){const p=c.key,T=this._fogTileMatrixCache;if(T[p])return T[p];const N=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,c);return s.multiply(N,this.worldToFogMatrix,N),T[p]=new Float32Array(N),T[p]}calculateProjMatrix(c,p=!1){const T=c.key,N=p?this._alignedProjMatrixCache:this._projMatrixCache;if(N[T])return N[T];const q=this.calculatePosMatrix(c,this.worldSize);return s.multiply(q,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:p?this.alignedProjMatrix:this.projMatrix,q),N[T]=new Float32Array(q),N[T]}calculatePixelsToTileUnitsMatrix(c){const p=c.tileID.key,T=this._pixelsToTileUnitsCache;if(T[p])return T[p];const N=function(q,ae){const{scale:he}=q.tileTransform,ye=he*s.EXTENT/(q.tileSize*Math.pow(2,ae.zoom-q.tileID.overscaledZ+q.tileID.canonical.z));return De=new Float32Array(4),Ke=(Ae=ae.inverseAdjustmentMatrix)[1],at=Ae[2],lt=Ae[3],et=(Fe=[ye,ye])[1],De[0]=Ae[0]*(ht=Fe[0]),De[1]=Ke*ht,De[2]=at*et,De[3]=lt*et,De;var De,Ae,Fe,Ke,at,lt,ht,et}(c,this);return T[p]=N,T[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const c=this._elevation;this._updateCameraState();const p=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,T=this._computeCameraPosition(p),N=this._camera.forward(),q=s.mercatorZfromAltitude(1,this._center.lat);T[2]/=q,N[2]/=q,s.normalize(N,N);const ae=c.raycast(T,N,c.exaggeration());if(ae){const he=s.scaleAndAdd([],T,N,ae),ye=new s.MercatorCoordinate(he[0],he[1],s.mercatorZfromAltitude(he[2],s.latFromMercatorY(he[1]))),De=(ye.z+s.length([ye.x-T[0],ye.y-T[1],ye.z-T[2]*q]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(De),this._centerAltitude=ye.toAltitude(),this._center=this.coordinateLocation(ye),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(c=!1){if(!this._elevation)return;const p=this._elevation,T=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,N=this._computeCameraPosition(T),q=p.getAtPointOrZero(new s.MercatorCoordinate(...N)),ae=this.pixelsPerMeter/this.worldSize*q,he=this._minimumHeightOverTerrain(),ye=N[2]-ae;if(ye<=he)if(ye<0||c){const De=this.locationCoordinate(this._center,this._centerAltitude),Ae=[N[0],N[1],De.z-N[2]],Fe=s.length(Ae);Ae[2]-=(he-ye)/this._pixelsPerMercatorPixel;const Ke=s.length(Ae);if(Ke===0)return;s.scale$2(Ae,Ae,Fe/Ke*this._pixelsPerMercatorPixel),this._camera.position=[N[0],N[1],De.z*this._pixelsPerMercatorPixel-Ae[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const c=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||c){const Ke=this.center;return Ke.lat=s.clamp(Ke.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!c)&&(Ke.lng=s.clamp(Ke.lng,this.minLng,this.maxLng)),this.center=Ke,void(this._constraining=!1)}const p=this._unmodified,{x:T,y:N}=this.point;let q=0,ae=T,he=N;const ye=this.width/2,De=this.height/2,Ae=this.worldMinY*this.scale,Fe=this.worldMaxY*this.scale;if(N-De<Ae&&(he=Ae+De),N+De>Fe&&(he=Fe-De),Fe-Ae<this.height&&(q=Math.max(q,this.height/(Fe-Ae)),he=(Fe+Ae)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Ke=this.worldMinX*this.scale,at=this.worldMaxX*this.scale,lt=this.worldSize/2-(Ke+at)/2;ae=(T+lt+this.worldSize)%this.worldSize-lt,ae-ye<Ke&&(ae=Ke+ye),ae+ye>at&&(ae=at-ye),at-Ke<this.width&&(q=Math.max(q,this.width/(at-Ke)),ae=(at+Ke)/2)}ae===T&&he===N||(this.center=this.unproject(new s.pointGeometry(ae,he))),q&&(this.zoom+=this.scaleZoom(q)),this._constrainCamera(),this._unmodified=p,this._constraining=!1}_minZoomForBounds(){let c=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(c=Math.max(c,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),c}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=s.mercatorZfromAltitude(1,this.center.lat)/s.mercatorZfromAltitude(1,s.GLOBE_SCALE_MATCH_LATITUDE));const T=Mi(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,T),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const N=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?p:1),q=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);q[8]=2*-c.x/this.width,q[9]=2*c.y/this.height;let ae=s.mul([],q,N);if(this.projection.isReprojectedInTileSpace){const Ot=this.locationCoordinate(this.center),Et=s.identity([]);s.translate(Et,Et,[Ot.x*this.worldSize,Ot.y*this.worldSize,0]),s.multiply(Et,Et,Ve(this)),s.translate(Et,Et,[-Ot.x*this.worldSize,-Ot.y*this.worldSize,0]),s.multiply(ae,ae,Et),this.inverseAdjustmentMatrix=function(Vt){const ni=Ve(Vt,!0);return $([],[ni[0],ni[1],ni[4],ni[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=s.scale([],ae,[this.worldSize,this.worldSize,this.worldSize/p,1]),this.projMatrix=ae,this.invProjMatrix=s.invert(new Float64Array(16),this.projMatrix);const he=s.invert([],q);this.frustumCorners=s.FrustumCorners.fromInvProjectionMatrix(he,this.horizonLineFromTop(),this.height);const ye=new Float32Array(16);s.identity(ye),s.scale(ye,ye,[1,-1,1]),s.rotateX(ye,ye,this._pitch),s.rotateZ(ye,ye,this.angle);const De=s.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Ae=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;De[8]=2*-c.x/this.width,De[9]=2*(c.y+Ae)/this.height,this.skyboxMatrix=s.multiply(ye,De,ye);const Fe=this.point,Ke=Fe.x,at=Fe.y,lt=this.width%2/2,ht=this.height%2/2,et=Math.cos(this.angle),rt=Math.sin(this.angle),gt=Ke-Math.round(Ke)+et*lt+rt*ht,ct=at-Math.round(at)+et*ht+rt*lt,wt=new Float64Array(ae);if(s.translate(wt,wt,[gt>.5?gt-1:gt,ct>.5?ct-1:ct,0]),this.alignedProjMatrix=wt,ae=s.create(),s.scale(ae,ae,[this.width/2,-this.height/2,1]),s.translate(ae,ae,[1,-1,0]),this.labelPlaneMatrix=ae,ae=s.create(),s.scale(ae,ae,[1,-1,1]),s.translate(ae,ae,[-1,-1,0]),s.scale(ae,ae,[2/this.width,2/this.height,1]),this.glCoordMatrix=ae,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},ae=s.invert(new Float64Array(16),this.pixelMatrix),!ae)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=ae,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=s.calculateGlobeMatrix(this);const Ot=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=s.transformMat4(Ot,Ot,N),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=ae;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const c=this.cameraWorldSizeForFog,p=this.cameraPixelsPerMeter,T=this._camera.position,N=1/this.height/this._pixelsPerMercatorPixel,q=[c,c,p];s.scale$2(q,q,N),s.scale$2(T,T,-1),s.multiply$2(T,T,q);const ae=s.create();s.translate(ae,ae,T),s.scale(ae,ae,q),this.mercatorFogMatrix=ae,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(c,p,N)}_computeCameraPosition(c){const p=(c=c||this.pixelsPerMeter)/this.pixelsPerMeter,T=this._camera.forward(),N=this.point,q=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*p-c/this.worldSize*this._centerAltitude;return[N.x/this.worldSize-T[0]*q,N.y/this.worldSize-T[1]*q,c/this.worldSize*this._centerAltitude-T[2]*q]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(c){const p=this._maxCameraBoundsDistance()*Math.cos(this._pitch),T=this._camera.position[2],N=c[2];let q=1;this.projection.wrap&&(this.center=this.center.wrap()),N>0&&(q=Math.min((p-T)/N,1)),this._camera.position=s.scaleAndAdd([],this._camera.position,c,q),this._updateStateFromCamera()}_updateStateFromCamera(){const c=this._camera.position,p=this._camera.forward(),{pitch:T,bearing:N}=this._camera.getPitchBearing(),q=s.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,ae=this._mercatorZfromZoom(this._maxZoom)*Math.cos(s.degToRad(this._maxPitch)),he=Math.max((c[2]-q)/Math.cos(T),ae),ye=this._zoomFromMercatorZ(he);s.scaleAndAdd(c,c,p,he),this._pitch=s.clamp(T,s.degToRad(this.minPitch),s.degToRad(this.maxPitch)),this.angle=s.wrap(N,-Math.PI,Math.PI),this._setZoom(s.clamp(ye,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new s.MercatorCoordinate(c[0],c[1],c[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(c){return Math.pow(2,c)*this.tileSize}_mercatorZfromZoom(c){return this.cameraToCenterDistance/this._worldSizeFromZoom(c)}_minimumHeightOverTerrain(){const c=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(c)}_zoomFromMercatorZ(c){return this.scaleZoom(this.cameraToCenterDistance/(c*this.tileSize))}zoomFromMercatorZAdjusted(c){const p=ae=>{const he=this.getCameraToCenterDistance(this.projection,ae);return this.scaleZoom(he/(c*this.tileSize))};let T,N=p(this.zoom),q=Math.abs(N-p(N));for(;T!==q;)N=p(N),T=q,q=Math.abs(N-p(N));return N}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(s.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(c,p){const T=Math.min(c.x,p.x),N=Math.max(c.x,p.x),q=Math.min(c.y,p.y),ae=Math.max(c.y,p.y);if(q<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const he=[new s.pointGeometry(T,q),new s.pointGeometry(N,ae),new s.pointGeometry(T,ae),new s.pointGeometry(N,q)],ye=this.renderWorldCopies?-3:0,De=this.renderWorldCopies?4:1;for(const Ae of he){const Fe=this.pointRayIntersection(Ae);if(Fe.t<0)return!0;const Ke=this.rayIntersectionCoordinate(Fe);if(Ke.x<ye||Ke.y<0||Ke.x>De||Ke.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+s.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new s.pointGeometry(0,0),new s.pointGeometry(this.width,this.height))}zoomDeltaToMovement(c,p){const T=s.length(s.sub([],this._camera.position,c)),N=this._zoomFromMercatorZ(T)+p;return T-this._mercatorZfromZoom(N)}getCameraPoint(){if(this.projection.name==="globe"){const c=function([p,T,N],q){const ae=[p,T,N,1];s.transformMat4$1(ae,ae,q);const he=ae[3]=Math.max(ae[3],1e-6);return ae[0]/=he,ae[1]/=he,ae[2]/=he,ae}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new s.pointGeometry(c[0],c[1])}{const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.pointGeometry(0,c))}}getCameraToCenterDistance(c,p=this.zoom){const T=Mi(c,p,this.width,this.height,1024),N=c.pixelSpaceConversion(this.center.lat,this.worldSize,T);return .5/Math.tan(.5*this._fov)*this.height*N}getWorldToCameraMatrix(){const c=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&s.multiply(c,c,this.globeMatrix),c}}function Ml(_,c){let p=!1,T=null;const N=()=>{T=null,p&&(_(),T=setTimeout(N,c),p=!1)};return()=>(p=!0,T||N(),T)}class ln{constructor(c){this._hashName=c&&encodeURIComponent(c),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ml(this._updateHashUnthrottled.bind(this),300)}addTo(c){return this._map=c,s.window.addEventListener("hashchange",this._onHashChange,!1),c.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),s.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const c=this._map;if(!c)return"";const p=kl(c);if(this._hashName){const T=this._hashName;let N=!1;const q=s.window.location.hash.slice(1).split("&").map(ae=>{const he=ae.split("=")[0];return he===T?(N=!0,`${he}=${p}`):ae}).filter(ae=>ae);return N||q.push(`${T}=${p}`),`#${q.join("&")}`}return`#${p}`}_getCurrentHash(){const c=s.window.location.hash.replace("#","");if(this._hashName){let p;return c.split("&").map(T=>T.split("=")).forEach(T=>{T[0]===this._hashName&&(p=T)}),(p&&p[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._map;if(!c)return!1;const p=this._getCurrentHash();if(p.length>=3&&!p.some(T=>isNaN(T))){const T=c.dragRotate.isEnabled()&&c.touchZoomRotate.isEnabled()?+(p[3]||0):c.getBearing();return c.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:T,pitch:+(p[4]||0)}),!0}return!1}_updateHashUnthrottled(){const c=s.window.location.href.replace(/(#.+)?$/,this.getHashString());s.window.history.replaceState(s.window.history.state,null,c)}}function kl(_,c){const p=_.getCenter(),T=Math.round(100*_.getZoom())/100,N=Math.ceil((T*Math.LN2+Math.log(512/360/.5))/Math.LN10),q=Math.pow(10,N),ae=Math.round(p.lng*q)/q,he=Math.round(p.lat*q)/q,ye=_.getBearing(),De=_.getPitch();let Ae=c?`/${ae}/${he}/${T}`:`${T}/${he}/${ae}`;return(ye||De)&&(Ae+="/"+Math.round(10*ye)/10),De&&(Ae+=`/${Math.round(De)}`),Ae}const Ru={linearity:.3,easing:s.bezier(0,0,.3,1)},Th=s.extend({deceleration:2500,maxSpeed:1400},Ru),vp=s.extend({deceleration:20,maxSpeed:1400},Ru),Ud=s.extend({deceleration:1e3,maxSpeed:360},Ru),Rf=s.extend({deceleration:1e3,maxSpeed:90},Ru);class xp{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=s.exported.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new s.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:q}of this._inertiaBuffer)p.zoom+=q.zoomDelta||0,p.bearing+=q.bearingDelta||0,p.pitch+=q.pitchDelta||0,q.panDelta&&p.pan._add(q.panDelta),q.around&&(p.around=q.around),q.pinchAround&&(p.pinchAround=q.pinchAround);const T=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,N={};if(p.pan.mag()){const q=Gs(p.pan.mag(),T,s.extend({},Th,c||{}));N.offset=p.pan.mult(q.amount/p.pan.mag()),N.center=this._map.transform.center,$d(N,q)}if(p.zoom){const q=Gs(p.zoom,T,vp);N.zoom=this._map.transform.zoom+q.amount,$d(N,q)}if(p.bearing){const q=Gs(p.bearing,T,Ud);N.bearing=this._map.transform.bearing+s.clamp(q.amount,-179,179),$d(N,q)}if(p.pitch){const q=Gs(p.pitch,T,Rf);N.pitch=this._map.transform.pitch+q.amount,$d(N,q)}if(N.zoom||N.bearing){const q=p.pinchAround===void 0?p.around:p.pinchAround;N.around=q?this._map.unproject(q):this._map.getCenter()}return this.clear(),N.noMoveStart=!0,N}}function $d(_,c){(!_.duration||_.duration<c.duration)&&(_.duration=c.duration,_.easing=c.easing)}function Gs(_,c,p){const{maxSpeed:T,linearity:N,deceleration:q}=p,ae=s.clamp(_*N/(c/1e3),-T,T),he=Math.abs(ae)/(q*N);return{easing:p.easing,duration:1e3*he,amount:ae*(he/2)}}class ms extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T,N={}){const q=U(p.getCanvasContainer(),T),ae=p.unproject(q);super(c,s.extend({point:q,lngLat:ae,originalEvent:T},N)),this._defaultPrevented=!1,this.target=p}}class Sh extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T){const N=c==="touchend"?T.changedTouches:T.touches,q=E(p.getCanvasContainer(),N),ae=q.map(ye=>p.unproject(ye)),he=q.reduce((ye,De,Ae,Fe)=>ye.add(De.div(Fe.length)),new s.pointGeometry(0,0));super(c,{points:q,point:he,lngLats:ae,lngLat:p.unproject(he),originalEvent:T}),this._defaultPrevented=!1}}class Vd extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T){super(c,{originalEvent:T}),this._defaultPrevented=!1}}class um{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){this._mousedownPos=void 0}wheel(c){return this._firePreventable(new Vd(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new ms(c.type,this._map,c))}mouseup(c){this._map.fire(new ms(c.type,this._map,c))}preclick(c){const p=s.extend({},c);p.type="preclick",this._map.fire(new ms(p.type,this._map,p))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||(this.preclick(c),this._map.fire(new ms(c.type,this._map,c)))}dblclick(c){return this._firePreventable(new ms(c.type,this._map,c))}mouseover(c){this._map.fire(new ms(c.type,this._map,c))}mouseout(c){this._map.fire(new ms(c.type,this._map,c))}touchstart(c){return this._firePreventable(new Sh(c.type,this._map,c))}touchmove(c){this._map.fire(new Sh(c.type,this._map,c))}touchend(c){this._map.fire(new Sh(c.type,this._map,c))}touchcancel(c){this._map.fire(new Sh(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Qg{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(c){this._map.fire(new ms(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ms("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new ms(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class bp{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(k(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const T=p,N=this._startPos,q=this._lastPos;if(!N||!q||q.equals(T)||!this._box&&T.dist(N)<this._clickTolerance)return;this._lastPos=T,this._box||(this._box=B("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const ae=Math.min(N.x,T.x),he=Math.max(N.x,T.x),ye=Math.min(N.y,T.y),De=Math.max(N.y,T.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${ae}px,${ye}px)`,this._box.style.width=he-ae+"px",this._box.style.height=De-ye+"px")})}mouseupWindow(c,p){if(!this._active)return;const T=this._startPos,N=p;if(T&&c.button===0){if(this.reset(),H(),T.x!==N.x||T.y!==N.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:q=>q.fitScreenCoordinates(T,N,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",c)}}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),S(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new s.Event(c,{originalEvent:p}))}}function kc(_,c){const p={};for(let T=0;T<_.length;T++)p[_[T].identifier]=c[T];return p}class Ch{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(c,p,T){(this.centroid||T.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=c.timeStamp),T.length===this.numTouches&&(this.centroid=function(N){const q=new s.pointGeometry(0,0);for(const ae of N)q._add(ae);return q.div(N.length)}(p),this.touches=kc(T,p)))}touchmove(c,p,T){if(this.aborted||!this.centroid)return;const N=kc(T,p);for(const q in this.touches){const ae=this.touches[q],he=N[q];(!he||he.dist(ae)>30)&&(this.aborted=!0)}}touchend(c,p,T){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),T.length===0){const N=!this.aborted&&this.centroid;if(this.reset(),N)return N}}}class nu{constructor(c){this.singleTap=new Ch(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(c,p,T){this.singleTap.touchstart(c,p,T)}touchmove(c,p,T){this.singleTap.touchmove(c,p,T)}touchend(c,p,T){const N=this.singleTap.touchend(c,p,T);if(N){const q=c.timeStamp-this.lastTime<500,ae=!this.lastTap||this.lastTap.dist(N)<30;if(q&&ae||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=N,this.count===this.numTaps)return this.reset(),N}}}class Gd{constructor(){this._zoomIn=new nu({numTouches:1,numTaps:2}),this._zoomOut=new nu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,T){this._zoomIn.touchstart(c,p,T),this._zoomOut.touchstart(c,p,T)}touchmove(c,p,T){this._zoomIn.touchmove(c,p,T),this._zoomOut.touchmove(c,p,T)}touchend(c,p,T){const N=this._zoomIn.touchend(c,p,T),q=this._zoomOut.touchend(c,p,T);return N?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ae=>ae.easeTo({duration:300,zoom:ae.getZoom()+1,around:ae.unproject(N)},{originalEvent:c})}):q?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ae=>ae.easeTo({duration:300,zoom:ae.getZoom()-1,around:ae.unproject(q)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Bu={0:1,2:2};class Nu{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(c,p){return!1}_move(c,p){return{}}mousedown(c,p){if(this._lastPoint)return;const T=ie(c);this._correctButton(c,T)&&(this._lastPoint=p,this._eventButton=T)}mousemoveWindow(c,p){const T=this._lastPoint;if(T){if(c.preventDefault(),this._eventButton!=null&&function(N,q){const ae=Bu[q];return N.buttons===void 0||(N.buttons&ae)!==ae}(c,this._eventButton))this.reset();else if(this._moved||!(p.dist(T)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(T,p)}}mouseupWindow(c){this._lastPoint&&ie(c)===this._eventButton&&(this._moved&&H(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class hd extends Nu{mousedown(c,p){super.mousedown(c,p),this._lastPoint&&(this._active=!0)}_correctButton(c,p){return p===0&&!c.ctrlKey}_move(c,p){return{around:p,panDelta:p.sub(c)}}}class Bf extends Nu{_correctButton(c,p){return p===0&&c.ctrlKey||p===2}_move(c,p){const T=.8*(p.x-c.x);if(T)return this._active=!0,{bearingDelta:T}}contextmenu(c){c.preventDefault()}}class Nf extends Nu{_correctButton(c,p){return p===0&&c.ctrlKey||p===2}_move(c,p){const T=-.5*(p.y-c.y);if(T)return this._active=!0,{pitchDelta:T}}contextmenu(c){c.preventDefault()}}class dm{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._minTouches=1,this._clickTolerance=p.clickTolerance||1,this.reset(),s.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new s.pointGeometry(0,0)}touchstart(c,p,T){return this._calculateTransform(c,p,T)}touchmove(c,p,T){if(this._active&&!(T.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(T.length===1&&!s.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return c.cancelable&&c.preventDefault(),this._calculateTransform(c,p,T)}}touchend(c,p,T){this._calculateTransform(c,p,T),this._active&&T.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,T){T.length>0&&(this._active=!0);const N=kc(T,p),q=new s.pointGeometry(0,0),ae=new s.pointGeometry(0,0);let he=0;for(const De in N){const Ae=N[De],Fe=this._touches[De];Fe&&(q._add(Ae),ae._add(Ae.sub(Fe)),he++,N[De]=Ae)}if(this._touches=N,he<this._minTouches||!ae.mag())return;const ye=ae.div(he);return this._sum._add(ye),this._sum.mag()<this._clickTolerance?void 0:{around:q.div(he),panDelta:ye}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=B("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class wp{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(c){}_move(c,p,T){return{}}touchstart(c,p,T){this._firstTwoTouches||T.length<2||(this._firstTwoTouches=[T[0].identifier,T[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,T){const N=this._firstTwoTouches;if(!N)return;c.preventDefault();const[q,ae]=N,he=ru(T,p,q),ye=ru(T,p,ae);if(!he||!ye)return;const De=this._aroundCenter?null:he.add(ye).div(2);return this._move([he,ye],De,c)}touchend(c,p,T){if(!this._firstTwoTouches)return;const[N,q]=this._firstTwoTouches,ae=ru(T,p,N),he=ru(T,p,q);ae&&he||(this._active&&H(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function ru(_,c,p){for(let T=0;T<_.length;T++)if(_[T].identifier===p)return c[T]}function Hd(_,c){return Math.log(_/c)/Math.LN2}class Wd extends wp{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const T=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Hd(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Hd(this._distance,T),pinchAround:p}}}function zf(_,c){return 180*_.angleWith(c)/Math.PI}class it extends wp{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const T=this._vector;if(this._vector=c[0].sub(c[1]),T&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:zf(this._vector,T),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,T=this._startVector;if(!T)return!1;const N=zf(c,T);return Math.abs(N)<p}}function su(_){return Math.abs(_.y)>Math.abs(_.x)}class Eh extends wp{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(c){this._lastPoints=c,su(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,T){const N=this._lastPoints;if(!N)return;const q=c[0].sub(N[0]),ae=c[1].sub(N[1]);return this._map._cooperativeGestures&&!s.isFullscreen()&&T.touches.length<3||(this._valid=this.gestureBeginsVertically(q,ae,T.timeStamp),!this._valid)?void 0:(this._lastPoints=c,this._active=!0,{pitchDelta:(q.y+ae.y)/2*-.5})}gestureBeginsVertically(c,p,T){if(this._valid!==void 0)return this._valid;const N=c.mag()>=2,q=p.mag()>=2;if(!N&&!q)return;if(!N||!q)return this._firstMove==null&&(this._firstMove=T),T-this._firstMove<100&&void 0;const ae=c.y>0==p.y>0;return su(c)&&su(p)&&ae}}const ul={panStep:100,bearingStep:15,pitchStep:10};class Qn{constructor(){const c=ul;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,T=0,N=0,q=0,ae=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?T=-1:(c.preventDefault(),q=-1);break;case 39:c.shiftKey?T=1:(c.preventDefault(),q=1);break;case 38:c.shiftKey?N=1:(c.preventDefault(),ae=-1);break;case 40:c.shiftKey?N=-1:(c.preventDefault(),ae=1);break;default:return}return this._rotationDisabled&&(T=0,N=0),{cameraAnimation:he=>{const ye=he.getZoom();he.easeTo({duration:300,easeId:"keyboardHandler",easing:e1,zoom:p?Math.round(ye)+p*(c.shiftKey?2:1):ye,bearing:he.getBearing()+T*this._bearingStep,pitch:he.getPitch()+N*this._pitchStep,offset:[-q*this._panStep,-ae*this._panStep],center:he.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function e1(_){return _*(2-_)}const Ff=4.000244140625;class t1{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(c.ctrlKey||c.metaKey||this.isZooming()||s.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let p=c.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const T=s.exported.now(),N=T-(this._lastWheelEventTime||0);this._lastWheelEventTime=T,p!==0&&p%Ff==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":N>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(N*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=U(this._el,c);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:p,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;this._type==="wheel"&&c.projection.wrap&&(c._center.lng>=180||c._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const p=()=>c._terrainEnabled()&&this._aroundCoord?c.computeZoomRelativeTo(this._aroundCoord):c.zoom;if(this._delta!==0){const ye=this._type==="wheel"&&Math.abs(this._delta)>Ff?this._wheelZoomRate:this._defaultZoomRate;let De=2/(1+Math.exp(-Math.abs(this._delta*ye)));this._delta<0&&De!==0&&(De=1/De);const Ae=p(),Fe=Math.pow(2,Ae),Ke=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):Fe;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(Ke*De))),this._type==="wheel"&&(this._startZoom=Ae,this._easing=this._smoothOutEasing(200)),this._delta=0}const T=typeof this._targetZoom=="number"?this._targetZoom:p(),N=this._startZoom,q=this._easing;let ae,he=!1;if(this._type==="wheel"&&N&&q){const ye=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),De=q(ye);ae=s.number(N,T,De),ye<1?this._frameId||(this._frameId=!0):he=!0}else ae=T,he=!0;return this._active=!0,he&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!he,zoomDelta:ae-p(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=s.ease;if(this._prevEase){const T=this._prevEase,N=(s.exported.now()-T.start)/T.duration,q=T.easing(N+.01)-T.easing(N),ae=.27/Math.sqrt(q*q+1e-4)*.01,he=Math.sqrt(.0729-ae*ae);p=s.bezier(ae,he,.25,1)}return this._prevEase={start:s.exported.now(),duration:c,easing:p},p}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=B("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(s.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class pd{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ou{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(c,p){return c.preventDefault(),{cameraAnimation:T=>{T.easeTo({duration:300,zoom:T.getZoom()+(c.shiftKey?-1:1),around:T.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class hm{constructor(){this._tap=new nu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(c,p,T){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?T.length>0&&(this._swipePoint=p[0],this._swipeTouch=T[0].identifier):this._tap.touchstart(c,p,T))}touchmove(c,p,T){if(this._tapTime){if(this._swipePoint){if(T[0].identifier!==this._swipeTouch)return;const N=p[0],q=N.y-this._swipePoint.y;return this._swipePoint=N,c.preventDefault(),this._active=!0,{zoomDelta:q/128}}}else this._tap.touchmove(c,p,T)}touchend(c,p,T){this._tapTime?this._swipePoint&&T.length===0&&this.reset():this._tap.touchend(c,p,T)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Yd{constructor(c,p,T){this._el=c,this._mousePan=p,this._touchPan=T}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ac{constructor(c,p,T){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=T}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Tp{constructor(c,p,T,N){this._el=c,this._touchZoom=p,this._touchRotate=T,this._tapDragZoom=N,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const rn=_=>_.zoom||_.drag||_.pitch||_.rotate;class pm extends s.Event{}class fm{constructor(){this.constants=[1,1,.01],this.radius=0}setup(c,p){const T=s.sub([],p,c);this.radius=s.length(T[2]<0?s.div([],T,this.constants):[T[0],T[1],0])}projectRay(c){s.div(c,c,this.constants),s.normalize(c,c),s.mul$1(c,c,this.constants);const p=s.scale$2([],c,this.radius);if(p[2]>0){const T=s.scale$2([],[0,0,1],s.dot(p,[0,0,1])),N=s.scale$2([],s.normalize([],[p[0],p[1],0]),this.radius),q=s.add([],p,s.scale$2([],s.sub([],s.add([],N,T),p),2));p[0]=q[0],p[1]=q[1]}return p}}function zu(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class Mh{constructor(c,p){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new xp(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new fm,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(p),s.bindAll(["handleEvent","handleWindowEvent"],this);const T=this._el;this._listeners=[[T,"touchstart",{passive:!0}],[T,"touchmove",{passive:!1}],[T,"touchend",void 0],[T,"touchcancel",void 0],[T,"mousedown",void 0],[T,"mousemove",void 0],[T,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[T,"mouseover",void 0],[T,"mouseout",void 0],[T,"dblclick",void 0],[T,"click",void 0],[T,"keydown",{capture:!1}],[T,"keyup",void 0],[T,"wheel",{passive:!1}],[T,"contextmenu",void 0],[s.window,"blur",void 0]];for(const[N,q,ae]of this._listeners)N.addEventListener(q,N===s.window.document?this.handleWindowEvent:this.handleEvent,ae)}destroy(){for(const[c,p,T]of this._listeners)c.removeEventListener(p,c===s.window.document?this.handleWindowEvent:this.handleEvent,T)}_addDefaultHandlers(c){const p=this._map,T=p.getCanvasContainer();this._add("mapEvent",new um(p,c));const N=p.boxZoom=new bp(p,c);this._add("boxZoom",N);const q=new Gd,ae=new ou;p.doubleClickZoom=new pd(ae,q),this._add("tapZoom",q),this._add("clickZoom",ae);const he=new hm;this._add("tapDragZoom",he);const ye=p.touchPitch=new Eh(p);this._add("touchPitch",ye);const De=new Bf(c),Ae=new Nf(c);p.dragRotate=new Ac(c,De,Ae),this._add("mouseRotate",De,["mousePitch"]),this._add("mousePitch",Ae,["mouseRotate"]);const Fe=new hd(c),Ke=new dm(p,c);p.dragPan=new Yd(T,Fe,Ke),this._add("mousePan",Fe),this._add("touchPan",Ke,["touchZoom","touchRotate"]);const at=new it,lt=new Wd;p.touchZoomRotate=new Tp(T,lt,at,he),this._add("touchRotate",at,["touchPan","touchZoom"]),this._add("touchZoom",lt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Qg(p));const ht=p.scrollZoom=new t1(p,this);this._add("scrollZoom",ht,["mousePan"]);const et=p.keyboard=new Qn;this._add("keyboard",et);for(const rt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[rt]&&p[rt].enable(c[rt])}_add(c,p,T){this._handlers.push({handlerName:c,handler:p,allowed:T}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!rn(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(c,p,T){for(const N in c)if(N!==T&&(!p||p.indexOf(N)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const p=[];for(const T of c)this._el.contains(T.target)&&p.push(T);return p}handleEvent(c,p){this._updatingCamera=!0;const T=c.type==="renderFrame",N=T?void 0:c,q={needsRenderFrame:!1},ae={},he={},ye=c.touches?this._getMapTouches(c.touches):void 0,De=ye?E(this._el,ye):T?void 0:U(this._el,c);for(const{handlerName:Ke,handler:at,allowed:lt}of this._handlers){if(!at.isEnabled())continue;let ht;this._blockedByActive(he,lt,Ke)?at.reset():at[p||c.type]&&(ht=at[p||c.type](c,De,ye),this.mergeHandlerResult(q,ae,ht,Ke,N),ht&&ht.needsRenderFrame&&this._triggerRenderFrame()),(ht||at.isActive())&&(he[Ke]=at)}const Ae={};for(const Ke in this._previousActiveHandlers)he[Ke]||(Ae[Ke]=N);this._previousActiveHandlers=he,(Object.keys(Ae).length||zu(q))&&(this._changes.push([q,ae,Ae]),this._triggerRenderFrame()),(Object.keys(he).length||zu(q))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Fe}=q;Fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Fe(this._map))}mergeHandlerResult(c,p,T,N,q){if(!T)return;s.extend(c,T);const ae={handlerName:N,originalEvent:T.originalEvent||q};T.zoomDelta!==void 0&&(p.zoom=ae),T.panDelta!==void 0&&(p.drag=ae),T.pitchDelta!==void 0&&(p.pitch=ae),T.bearingDelta!==void 0&&(p.rotate=ae)}_applyChanges(){const c={},p={},T={};for(const[N,q,ae]of this._changes)N.panDelta&&(c.panDelta=(c.panDelta||new s.pointGeometry(0,0))._add(N.panDelta)),N.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+N.zoomDelta),N.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+N.bearingDelta),N.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+N.pitchDelta),N.around!==void 0&&(c.around=N.around),N.aroundCoord!==void 0&&(c.aroundCoord=N.aroundCoord),N.pinchAround!==void 0&&(c.pinchAround=N.pinchAround),N.noInertia&&(c.noInertia=N.noInertia),s.extend(p,q),s.extend(T,ae);this._updateMapTransform(c,p,T),this._changes=[]}_updateMapTransform(c,p,T){const N=this._map,q=N.transform,ae=gt=>[gt.x,gt.y,gt.z];if((gt=>{const ct=this._eventsInProgress.drag;return ct&&!this._handlersById[ct.handlerName].isActive()})()&&!zu(c)){const gt=q.zoom;q.cameraElevationReference="sea",q.recenterOnTerrain(),q.cameraElevationReference="ground",gt!==q.zoom&&this._map._update(!0)}if(q._isCameraConstrained&&N._stop(!0),!zu(c))return void this._fireEvents(p,T,!0);let{panDelta:he,zoomDelta:ye,bearingDelta:De,pitchDelta:Ae,around:Fe,aroundCoord:Ke,pinchAround:at}=c;q._isCameraConstrained&&(ye>0&&(ye=0),q._isCameraConstrained=!1),at!==void 0&&(Fe=at),(gt=>p.drag&&!this._eventsInProgress.drag)()&&Fe&&(this._dragOrigin=ae(q.pointCoordinate3D(Fe)),this._trackingEllipsoid.setup(q._camera.position,this._dragOrigin)),q.cameraElevationReference="sea",N._stop(!0),Fe=Fe||N.transform.centerPoint,De&&(q.bearing+=De),Ae&&(q.pitch+=Ae),q._updateCameraState();const lt=[0,0,0];if(he)if(q.projection.name==="mercator"){const gt=this._trackingEllipsoid.projectRay(q.screenPointToMercatorRay(Fe).dir),ct=this._trackingEllipsoid.projectRay(q.screenPointToMercatorRay(Fe.sub(he)).dir);lt[0]=ct[0]-gt[0],lt[1]=ct[1]-gt[1]}else{const gt=q.pointCoordinate(Fe);if(q.projection.name==="globe"){he=he.rotate(-q.angle);const ct=q._pixelsPerMercatorPixel/q.worldSize;lt[0]=-he.x*s.mercatorScale(s.latFromMercatorY(gt.y))*ct,lt[1]=-he.y*s.mercatorScale(q.center.lat)*ct}else{const ct=q.pointCoordinate(Fe.sub(he));gt&&ct&&(lt[0]=ct.x-gt.x,lt[1]=ct.y-gt.y)}}const ht=q.zoom,et=[0,0,0];if(ye){const gt=ae(Ke||q.pointCoordinate3D(Fe)),ct={dir:s.normalize([],s.sub([],gt,q._camera.position))};if(ct.dir[2]<0){const wt=q.zoomDeltaToMovement(gt,ye);s.scale$2(et,ct.dir,wt)}}const rt=s.add(lt,lt,et);q._translateCameraConstrained(rt),ye&&Math.abs(q.zoom-ht)>1e-4&&q.recenterOnTerrain(),q.cameraElevationReference="ground",this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,T,!0)}_fireEvents(c,p,T){const N=rn(this._eventsInProgress),q=rn(c),ae={};for(const Ae in c){const{originalEvent:Fe}=c[Ae];this._eventsInProgress[Ae]||(ae[`${Ae}start`]=Fe),this._eventsInProgress[Ae]=c[Ae]}!N&&q&&this._fireEvent("movestart",q.originalEvent);for(const Ae in ae)this._fireEvent(Ae,ae[Ae]);q&&this._fireEvent("move",q.originalEvent);for(const Ae in c){const{originalEvent:Fe}=c[Ae];this._fireEvent(Ae,Fe)}const he={};let ye;for(const Ae in this._eventsInProgress){const{handlerName:Fe,originalEvent:Ke}=this._eventsInProgress[Ae];this._handlersById[Fe].isActive()||(delete this._eventsInProgress[Ae],ye=p[Fe]||Ke,he[`${Ae}end`]=ye)}for(const Ae in he)this._fireEvent(Ae,he[Ae]);const De=rn(this._eventsInProgress);if(T&&(N||q)&&!De){this._updatingCamera=!0;const Ae=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Fe=Ke=>Ke!==0&&-this._bearingSnap<Ke&&Ke<this._bearingSnap;Ae?(Fe(Ae.bearing||this._map.getBearing())&&(Ae.bearing=0),this._map.easeTo(Ae,{originalEvent:ye})):(this._map.fire(new s.Event("moveend",{originalEvent:ye})),Fe(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new s.Event(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{this._frameId=void 0,this.handleEvent(new pm("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const jf="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Pc extends s.Evented{constructor(c,p){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,T){return c=s.pointGeometry.convert(c).mult(-1),this.panTo(this.transform.center,s.extend({offset:c},p),T)}panTo(c,p,T){return this.easeTo(s.extend({center:c},p),T)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,T){return this.easeTo(s.extend({zoom:c},p),T)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,T){return this.easeTo(s.extend({bearing:c},p),T)}resetNorth(c,p){return this.rotateTo(0,s.extend({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=s.LngLatBounds.convert(c);const T=p&&p.bearing||0,N=p&&p.pitch||0,q=c.getNorthWest(),ae=c.getSouthEast();return this._cameraForBounds(this.transform,q,ae,T,N,p)}_extendCameraOptions(c){const p={top:0,bottom:0,right:0,left:0};if(typeof(c=s.extend({padding:p,offset:[0,0],maxZoom:this.transform.maxZoom},c)).padding=="number"){const T=c.padding;c.padding={top:T,bottom:T,right:T,left:T}}return c.padding=s.extend(p,c.padding),c}_minimumAABBFrustumDistance(c,p){const T=p.max[0]-p.min[0],N=p.max[1]-p.min[1];return T/N>c.aspect?T/(2*Math.tan(.5*c.fovX)*c.aspect):N/(2*Math.tan(.5*c.fovY)*c.aspect)}_cameraForBoundsOnGlobe(c,p,T,N,q,ae){const he=c.clone(),ye=this._extendCameraOptions(ae);he.bearing=N,he.pitch=q;const De=s.LngLat.convert(p),Ae=s.LngLat.convert(T),Fe=.5*(De.lat+Ae.lat),Ke=.5*(De.lng+Ae.lng),at=s.latLngToECEF(Fe,Ke),lt=s.normalize([],at),ht=s.normalize([],s.cross([],lt,[0,1,0])),et=s.cross([],ht,lt),rt=[ht[0],ht[1],ht[2],0,et[0],et[1],et[2],0,lt[0],lt[1],lt[2],0,0,0,0,1],gt=[at,s.latLngToECEF(De.lat,De.lng),s.latLngToECEF(Ae.lat,De.lng),s.latLngToECEF(Ae.lat,Ae.lng),s.latLngToECEF(De.lat,Ae.lng),s.latLngToECEF(Fe,De.lng),s.latLngToECEF(Fe,Ae.lng),s.latLngToECEF(De.lat,Ke),s.latLngToECEF(Ae.lat,Ke)];let ct=s.Aabb.fromPoints(gt.map(Xt=>[s.dot(ht,Xt),s.dot(et,Xt),s.dot(lt,Xt)]));const wt=s.transformMat4([],ct.center,rt);s.squaredLength(wt)===0&&s.set(wt,0,0,1),s.normalize(wt,wt),s.scale$2(wt,wt,s.GLOBE_RADIUS),he.center=s.ecefToLatLng(wt);const Ot=he.getWorldToCameraMatrix(),Et=s.invert(new Float64Array(16),Ot);ct=s.Aabb.applyTransform(ct,s.multiply([],Ot,rt)),s.transformMat4(wt,wt,Ot);const Vt=.5*(ct.max[2]-ct.min[2]),ni=this._minimumAABBFrustumDistance(he,ct),Qt=s.scale$2([],[0,0,1],Vt),Yt=s.add(Qt,wt,Qt),Ai=ni+(he.pitch===0?0:s.distance(wt,Yt)),Kt=he.globeCenterInViewSpace,vi=s.sub([],wt,[Kt[0],Kt[1],Kt[2]]);s.normalize(vi,vi),s.scale$2(vi,vi,Ai);const si=s.add([],wt,vi);s.transformMat4(si,si,Et);const Ri=s.earthRadius/s.GLOBE_RADIUS,oi=s.length(si),Ci=s.mercatorZfromAltitude(oi*Ri-s.earthRadius,0),zi=Math.min(he.zoomFromMercatorZAdjusted(Ci),ye.maxZoom);return zi>.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(he.setProjection({name:"mercator"}),he.zoom=zi,this._cameraForBounds(he,p,T,N,q,ae)):{center:he.center,zoom:zi,bearing:N,pitch:q}}queryTerrainElevation(c,p){const T=this.transform.elevation;return T?(p=s.extend({},{exaggerated:!0},p),T.getAtPoint(s.MercatorCoordinate.fromLngLat(c),null,p.exaggerated)):null}_cameraForBounds(c,p,T,N,q,ae){if(c.projection.name==="globe")return this._cameraForBoundsOnGlobe(c,p,T,N,q,ae);const he=c.clone(),ye=this._extendCameraOptions(ae),De=he.padding;he.bearing=N,he.pitch=q;const Ae=s.LngLat.convert(p),Fe=s.LngLat.convert(T),Ke=new s.LngLat(Ae.lng,Fe.lat),at=new s.LngLat(Fe.lng,Ae.lat),lt=he.project(Ae),ht=he.project(Fe),et=this.queryTerrainElevation(Ae),rt=this.queryTerrainElevation(Fe),gt=this.queryTerrainElevation(Ke),ct=this.queryTerrainElevation(at),wt=[[lt.x,lt.y,Math.min(et||0,rt||0,gt||0,ct||0)],[ht.x,ht.y,Math.max(et||0,rt||0,gt||0,ct||0)]];let Ot=s.Aabb.fromPoints(wt);const Et=he.getWorldToCameraMatrix(),Vt=s.invert(new Float64Array(16),Et);Ot=s.Aabb.applyTransform(Ot,Et);const ni=s.sub([],Ot.max,Ot.min),Qt=De.left||0,Yt=De.right||0,Ai=De.bottom||0,Kt=De.top||0,{left:vi,right:si,top:Ri,bottom:oi}=ye.padding,Ci=.5*(Qt+Yt),zi=.5*(Kt+Ai),Xt=Math.min(he.scaleZoom(he.scale*Math.min((he.width-(Qt+Yt+vi+si))/ni[0],(he.height-(Ai+Kt+oi+Ri))/ni[1])),ye.maxZoom),ri=he.scale/he.zoomScale(Xt);Ot=new s.Aabb([Ot.min[0]-(vi+Ci)*ri,Ot.min[1]-(oi+zi)*ri,Ot.min[2]],[Ot.max[0]+(si+Ci)*ri,Ot.max[1]+(Ri+zi)*ri,Ot.max[2]]);const gn=.5*ni[2],Sn=this._minimumAABBFrustumDistance(he,Ot),yn=[0,0,1,0];s.transformMat4$1(yn,yn,Et),s.normalize$2(yn,yn);const $n=s.scale$2([],yn,Sn+gn),lr=s.add([],Ot.center,$n),An=(typeof ye.offset.x=="number"&&typeof ye.offset.y=="number"?new s.pointGeometry(ye.offset.x,ye.offset.y):s.pointGeometry.convert(ye.offset)).rotate(-s.degToRad(N));Ot.center[0]-=An.x*ri,Ot.center[1]+=An.y*ri,s.transformMat4(Ot.center,Ot.center,Vt),s.transformMat4(lr,lr,Vt);const hn=[Ot.center[0],Ot.center[1],lr[2]*he.pixelsPerMeter];s.scale$2(hn,hn,1/he.worldSize);const ns=s.lngFromMercatorX(hn[0]),Wr=s.latFromMercatorY(hn[1]),ss=Math.min(he._zoomFromMercatorZ(hn[2]),ye.maxZoom),ts=new s.LngLat(ns,Wr);return he.mercatorFromTransition&&ss<.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(he.setProjection({name:"globe"}),he.zoom=ss,this._cameraForBounds(he,p,T,N,q,ae)):{center:ts,zoom:ss,bearing:N,pitch:q}}fitBounds(c,p,T){const N=this.cameraForBounds(c,p);return this._fitInternal(N,p,T)}fitScreenCoordinates(c,p,T,N,q){const ae=s.pointGeometry.convert(c),he=s.pointGeometry.convert(p),ye=new s.pointGeometry(Math.min(ae.x,he.x),Math.min(ae.y,he.y)),De=new s.pointGeometry(Math.max(ae.x,he.x),Math.max(ae.y,he.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(ae,he))return this;const Ae=this.transform.pointLocation3D(ye),Fe=this.transform.pointLocation3D(De),Ke=this.transform.pointLocation3D(new s.pointGeometry(ye.x,De.y)),at=this.transform.pointLocation3D(new s.pointGeometry(De.x,ye.y)),lt=[Math.min(Ae.lng,Fe.lng,Ke.lng,at.lng),Math.min(Ae.lat,Fe.lat,Ke.lat,at.lat)],ht=[Math.max(Ae.lng,Fe.lng,Ke.lng,at.lng),Math.max(Ae.lat,Fe.lat,Ke.lat,at.lat)],et=N&&N.pitch?N.pitch:this.getPitch(),rt=this._cameraForBounds(this.transform,lt,ht,T,et,N);return this._fitInternal(rt,N,q)}_fitInternal(c,p,T){return c?(delete(p=s.extend(c,p)).padding,p.linear?this.easeTo(p,T):this.flyTo(p,T)):this}jumpTo(c,p){this.stop();const T=c.preloadOnly?this.transform.clone():this.transform;let N=!1,q=!1,ae=!1;return"zoom"in c&&T.zoom!==+c.zoom&&(N=!0,T.zoom=+c.zoom),c.center!==void 0&&(T.center=s.LngLat.convert(c.center)),"bearing"in c&&T.bearing!==+c.bearing&&(q=!0,T.bearing=+c.bearing),"pitch"in c&&T.pitch!==+c.pitch&&(ae=!0,T.pitch=+c.pitch),c.padding==null||T.isPaddingEqual(c.padding)||(T.padding=c.padding),c.preloadOnly?(this._preloadTiles(T),this):(this.fire(new s.Event("movestart",p)).fire(new s.Event("move",p)),N&&this.fire(new s.Event("zoomstart",p)).fire(new s.Event("zoom",p)).fire(new s.Event("zoomend",p)),q&&this.fire(new s.Event("rotatestart",p)).fire(new s.Event("rotate",p)).fire(new s.Event("rotateend",p)),ae&&this.fire(new s.Event("pitchstart",p)).fire(new s.Event("pitch",p)).fire(new s.Event("pitchend",p)),this.fire(new s.Event("moveend",p)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||s.warnOnce(jf),this.transform.getFreeCameraOptions()}setFreeCameraOptions(c,p){const T=this.transform;if(!T.projection.supportsFreeCamera)return s.warnOnce(jf),this;this.stop();const N=T.zoom,q=T.pitch,ae=T.bearing;T.setFreeCameraOptions(c);const he=N!==T.zoom,ye=q!==T.pitch,De=ae!==T.bearing;return this.fire(new s.Event("movestart",p)).fire(new s.Event("move",p)),he&&this.fire(new s.Event("zoomstart",p)).fire(new s.Event("zoom",p)).fire(new s.Event("zoomend",p)),De&&this.fire(new s.Event("rotatestart",p)).fire(new s.Event("rotate",p)).fire(new s.Event("rotateend",p)),ye&&this.fire(new s.Event("pitchstart",p)).fire(new s.Event("pitch",p)).fire(new s.Event("pitchend",p)),this.fire(new s.Event("moveend",p)),this}easeTo(c,p){this._stop(!1,c.easeId),((c=s.extend({offset:[0,0],duration:500,easing:s.ease},c)).animate===!1||!c.essential&&s.exported.prefersReducedMotion)&&(c.duration=0);const T=this.transform,N=this.getZoom(),q=this.getBearing(),ae=this.getPitch(),he=this.getPadding(),ye="zoom"in c?+c.zoom:N,De="bearing"in c?this._normalizeBearing(c.bearing,q):q,Ae="pitch"in c?+c.pitch:ae,Fe="padding"in c?c.padding:T.padding,Ke=s.pointGeometry.convert(c.offset);let at,lt,ht;if(T.projection.name==="globe"){const Qt=s.MercatorCoordinate.fromLngLat(T.center),Yt=Ke.rotate(-T.angle);Qt.x+=Yt.x/T.worldSize,Qt.y+=Yt.y/T.worldSize;const Ai=Qt.toLngLat(),Kt=s.LngLat.convert(c.center||Ai);this._normalizeCenter(Kt),at=T.centerPoint.add(Yt),lt=new s.pointGeometry(Qt.x,Qt.y).mult(T.worldSize),ht=new s.pointGeometry(s.mercatorXfromLng(Kt.lng),s.mercatorYfromLat(Kt.lat)).mult(T.worldSize).sub(lt)}else{at=T.centerPoint.add(Ke);const Qt=T.pointLocation(at),Yt=s.LngLat.convert(c.center||Qt);this._normalizeCenter(Yt),lt=T.project(Qt),ht=T.project(Yt).sub(lt)}const et=T.zoomScale(ye-N);let rt,gt;c.around&&(rt=s.LngLat.convert(c.around),gt=T.locationPoint(rt));const ct=this._zooming||ye!==N,wt=this._rotating||q!==De,Ot=this._pitching||Ae!==ae,Et=!T.isPaddingEqual(Fe),Vt=Qt=>Yt=>{if(ct&&(Qt.zoom=s.number(N,ye,Yt)),wt&&(Qt.bearing=s.number(q,De,Yt)),Ot&&(Qt.pitch=s.number(ae,Ae,Yt)),Et&&(Qt.interpolatePadding(he,Fe,Yt),at=Qt.centerPoint.add(Ke)),rt)Qt.setLocationAtPoint(rt,gt);else{const Ai=Qt.zoomScale(Qt.zoom-N),Kt=ye>N?Math.min(2,et):Math.max(.5,et),vi=Math.pow(Kt,1-Yt),si=Qt.unproject(lt.add(ht.mult(Yt*vi)).mult(Ai));Qt.setLocationAtPoint(Qt.renderWorldCopies?si.wrap():si,at)}return c.preloadOnly||this._fireMoveEvents(p),Qt};if(c.preloadOnly){const Qt=this._emulate(Vt,c.duration,T);return this._preloadTiles(Qt),this}const ni={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=ct,this._rotating=wt,this._pitching=Ot,this._padding=Et,this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,ni),this._ease(Vt(T),Qt=>{T.recenterOnTerrain(),this._afterEase(p,Qt)},c),this}_prepareEase(c,p,T={}){this._moving=!0,this.transform.cameraElevationReference="sea",p||T.moving||this.fire(new s.Event("movestart",c)),this._zooming&&!T.zooming&&this.fire(new s.Event("zoomstart",c)),this._rotating&&!T.rotating&&this.fire(new s.Event("rotatestart",c)),this._pitching&&!T.pitching&&this.fire(new s.Event("pitchstart",c))}_fireMoveEvents(c){this.fire(new s.Event("move",c)),this._zooming&&this.fire(new s.Event("zoom",c)),this._rotating&&this.fire(new s.Event("rotate",c)),this._pitching&&this.fire(new s.Event("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const T=this._zooming,N=this._rotating,q=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,T&&this.fire(new s.Event("zoomend",c)),N&&this.fire(new s.Event("rotateend",c)),q&&this.fire(new s.Event("pitchend",c)),this.fire(new s.Event("moveend",c))}flyTo(c,p){if(!c.essential&&s.exported.prefersReducedMotion){const Xt=s.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xt,p)}this.stop(),c=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},c);const T=this.transform,N=this.getZoom(),q=this.getBearing(),ae=this.getPitch(),he=this.getPadding(),ye="zoom"in c?s.clamp(+c.zoom,T.minZoom,T.maxZoom):N,De="bearing"in c?this._normalizeBearing(c.bearing,q):q,Ae="pitch"in c?+c.pitch:ae,Fe="padding"in c?c.padding:T.padding,Ke=T.zoomScale(ye-N),at=s.pointGeometry.convert(c.offset);let lt=T.centerPoint.add(at);const ht=T.pointLocation(lt),et=s.LngLat.convert(c.center||ht);this._normalizeCenter(et);const rt=T.project(ht),gt=T.project(et).sub(rt);let ct=c.curve;const wt=Math.max(T.width,T.height),Ot=wt/Ke,Et=gt.mag();if("minZoom"in c){const Xt=s.clamp(Math.min(c.minZoom,N,ye),T.minZoom,T.maxZoom),ri=wt/T.zoomScale(Xt-N);ct=Math.sqrt(ri/Et*2)}const Vt=ct*ct;function ni(Xt){const ri=(Ot*Ot-wt*wt+(Xt?-1:1)*Vt*Vt*Et*Et)/(2*(Xt?Ot:wt)*Vt*Et);return Math.log(Math.sqrt(ri*ri+1)-ri)}function Qt(Xt){return(Math.exp(Xt)-Math.exp(-Xt))/2}function Yt(Xt){return(Math.exp(Xt)+Math.exp(-Xt))/2}const Ai=ni(0);let Kt=function(Xt){return Yt(Ai)/Yt(Ai+ct*Xt)},vi=function(Xt){return wt*((Yt(Ai)*(Qt(ri=Ai+ct*Xt)/Yt(ri))-Qt(Ai))/Vt)/Et;var ri},si=(ni(1)-Ai)/ct;if(Math.abs(Et)<1e-6||!isFinite(si)){if(Math.abs(wt-Ot)<1e-6)return this.easeTo(c,p);const Xt=Ot<wt?-1:1;si=Math.abs(Math.log(Ot/wt))/ct,vi=function(){return 0},Kt=function(ri){return Math.exp(Xt*ct*ri)}}c.duration="duration"in c?+c.duration:1e3*si/("screenSpeed"in c?+c.screenSpeed/ct:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0);const Ri=q!==De,oi=Ae!==ae,Ci=!T.isPaddingEqual(Fe),zi=Xt=>ri=>{const gn=ri*si,Sn=1/Kt(gn);Xt.zoom=ri===1?ye:N+Xt.scaleZoom(Sn),Ri&&(Xt.bearing=s.number(q,De,ri)),oi&&(Xt.pitch=s.number(ae,Ae,ri)),Ci&&(Xt.interpolatePadding(he,Fe,ri),lt=Xt.centerPoint.add(at));const yn=ri===1?et:Xt.unproject(rt.add(gt.mult(vi(gn))).mult(Sn));return Xt.setLocationAtPoint(Xt.renderWorldCopies?yn.wrap():yn,lt),Xt._updateCameraOnTerrain(),c.preloadOnly||this._fireMoveEvents(p),Xt};if(c.preloadOnly){const Xt=this._emulate(zi,c.duration,T);return this._preloadTiles(Xt),this}return this._zooming=!0,this._rotating=Ri,this._pitching=oi,this._padding=Ci,this._prepareEase(p,!1),this._ease(zi(T),()=>this._afterEase(p),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const T=this._onEaseEnd;this._onEaseEnd=void 0,T.call(this,p)}if(!c){const T=this.handlers;T&&T.stop(!1)}return this}_ease(c,p,T){T.animate===!1||T.duration===0?(c(1),p()):(this._easeStart=s.exported.now(),this._easeOptions=T,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1),p=this._onEaseFrame;p&&p(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,p){c=s.wrap(c,-180,180);const T=Math.abs(c-p);return Math.abs(c-360-p)<T&&(c-=360),Math.abs(c+360-p)<T&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.maxBounds)return;const T=c.lng-p.center.lng;c.lng+=T>180?-360:T<-180?360:0}_emulate(c,p,T){const N=Math.ceil(15*p/1e3),q=[],ae=c(T.clone());for(let he=0;he<=N;he++){const ye=ae(he/N);q.push(ye.clone())}return q}}class Uf{constructor(c={}){this.options=c,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){const p=this.options&&this.options.compact;return this._map=c,this._container=B("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=B("button","mapboxgl-ctrl-attrib-button",this._container),B("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=B("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),p===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const T=this._map._getUIString(`AttributionControl.${p}`);c.setAttribute("aria-label",T),c.removeAttribute("title"),c.firstElementChild&&c.firstElementChild.setAttribute("title",T)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));const p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(c){const T=p.reduce((N,q,ae)=>(q.value&&(N+=`${q.key}=${q.value}${ae<p.length-1?"&":""}`),N),"?");c.href=`${s.config.FEEDBACK_URL}/${T}#${kl(this._map,!0)}`,c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}}_updateData(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let c=[];if(this._map.style.stylesheet){const N=this._map.style.stylesheet;this.styleOwner=N.owner,this.styleId=N.id}const p=this._map.style._sourceCaches;for(const N in p){const q=p[N];if(q.used){const ae=q.getSource();ae.attribution&&c.indexOf(ae.attribution)<0&&c.push(ae.attribution)}}c.sort((N,q)=>N.length-q.length),c=c.filter((N,q)=>{for(let ae=q+1;ae<c.length;ae++)if(c[ae].indexOf(N)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=[...this.options.customAttribution,...c]:c.unshift(this.options.customAttribution));const T=c.join(" | ");T!==this._attribHTML&&(this._attribHTML=T,c.length?(this._innerContainer.innerHTML=T,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class $f{constructor(){s.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(c){this._map=c,this._container=B("div","mapboxgl-ctrl");const p=B("a","mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://www.mapbox.com/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const c=this._map.style._sourceCaches;if(Object.entries(c).length===0)return!0;for(const p in c){const T=c[p].getSource();if(T.hasOwnProperty("mapbox_logo")&&!T.mapbox_logo)return!1}return!0}_updateCompact(){const c=this._container.children;if(c.length){const p=c[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("mapboxgl-compact"):p.classList.remove("mapboxgl-compact")}}}class Vf{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,T=p?this._queue.concat(p):this._queue;for(const N of T)if(N.id===c)return void(N.cancelled=!0)}run(c=0){const p=this._currentlyRunning=this._queue;this._queue=[];for(const T of p)if(!T.cancelled&&(T.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Gf(_,c,p){if(_=new s.LngLat(_.lng,_.lat),c){const T=new s.LngLat(_.lng-360,_.lat),N=new s.LngLat(_.lng+360,_.lat),q=360*Math.ceil(Math.abs(_.lng-p.center.lng)/360),ae=p.locationPoint(_).distSqr(c),he=c.x<0||c.y<0||c.x>p.width||c.y>p.height;p.locationPoint(T).distSqr(c)<ae&&(he||Math.abs(T.lng-p.center.lng)<q)?_=T:p.locationPoint(N).distSqr(c)<ae&&(he||Math.abs(N.lng-p.center.lng)<q)&&(_=N)}for(;Math.abs(_.lng-p.center.lng)>180;){const T=p.locationPoint(_);if(T.x>=0&&T.y>=0&&T.x<=p.width&&T.y<=p.height)break;_.lng>p.center.lng?_.lng-=360:_.lng+=360}return _}const qd={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class ac extends s.Evented{constructor(c,p){if(super(),(c instanceof s.window.HTMLElement||p)&&(c=s.extend({element:c},p)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=c&&c.occludedOpacity||.2,c&&c.element)this._element=c.element,this._offset=s.pointGeometry.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=B("div");const N=41,q=27,ae=W("svg",{display:"block",height:N*this._scale+"px",width:q*this._scale+"px",viewBox:`0 0 ${q} ${N}`},this._element),he=W("radialGradient",{id:"shadowGradient"},W("defs",{},ae));W("stop",{offset:"10%","stop-opacity":.4},he),W("stop",{offset:"100%","stop-opacity":.05},he),W("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},ae),W("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},ae),W("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},ae),W("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},ae),this._offset=s.pointGeometry.convert(c&&c.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",N=>{N.preventDefault()}),this._element.addEventListener("mousedown",N=>{N.preventDefault()});const T=this._element.classList;for(const N in qd)T.remove(`mapboxgl-marker-anchor-${N}`);T.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(c){return c===this._map||(this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._updateMoving),c.on("moveend",this._update),c.on("remove",this._clearFadeTimer),c._addMarker(this),this.setDraggable(this._draggable),this._update(),c.on("click",this._onMapClick)),this}remove(){const c=this._map;return c&&(c.off("click",this._onMapClick),c.off("move",this._updateMoving),c.off("moveend",this._update),c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler),c.off("mouseup",this._onUp),c.off("touchend",this._onUp),c.off("mousemove",this._onMove),c.off("touchmove",this._onMove),c.off("remove",this._clearFadeTimer),c._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=s.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const N=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[N,-1*(38.1-13.5+N)],"bottom-right":[-N,-1*(38.1-13.5+N)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,c._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(c){const p=c.code,T=c.charCode||c.keyCode;p!=="Space"&&p!=="Enter"&&T!==32&&T!==13||this.togglePopup()}_onMapClick(c){const p=c.originalEvent.target,T=this._element;this._popup&&(p===T||T.contains(p))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?(c.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(c.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const c=this._map,p=this._pos;if(!c||!p)return!1;const T=c.unproject(p),N=c.getFreeCameraOptions();if(!N.position)return!1;const q=N.position.toLngLat();return q.distanceTo(T)<.9*q.distanceTo(this._lngLat)}_evaluateOpacity(){const c=this._map;if(!c)return;const p=this._pos;if(!p||p.x<0||p.x>c.transform.width||p.y<0||p.y>c.transform.height)return void this._clearFadeTimer();const T=c.unproject(p);let N;c._showingGlobe()&&s.isLngLatBehindGlobe(c.transform,this._lngLat)?N=0:(N=1-c._queryFogOpacity(T),c.transform._terrainEnabled()&&c.getTerrain()&&this._behindTerrain()&&(N*=this._occludedOpacity)),this._element.style.opacity=`${N}`,this._element.style.pointerEvents=N>0?"auto":"none",this._popup&&this._popup._setOpacity(N),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const c=this._pos;if(!c||!this._map)return;const p=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${c.x}px,${c.y}px)
            ${qd[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${p.x}px,${p.y}px)
        `}_calculateXYTransform(){const c=this._pos,p=this._map,T=this.getPitchAlignment();if(!p||!c||T!=="map")return"";if(!p._showingGlobe()){const ye=p.getPitch();return ye?`rotateX(${ye}deg)`:""}const N=s.radToDeg(s.globeTiltAtLngLat(p.transform,this._lngLat)),q=c.sub(s.globeCenterToScreenPoint(p.transform)),ae=Math.abs(q.x)+Math.abs(q.y);if(ae===0)return"";const he=N/ae;return`rotateX(${-q.y*he}deg) rotateY(${q.x*he}deg)`}_calculateZTransform(){const c=this._pos,p=this._map;if(!p||!c)return"";let T=0;const N=this.getRotationAlignment();if(N==="map")if(p._showingGlobe()){const q=p.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),ae=p.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(q);T=s.radToDeg(Math.atan2(ae.y,ae.x))-90}else T=-p.getBearing();else if(N==="horizon"){const q=s.smoothstep(4,6,p.getZoom()),ae=s.globeCenterToScreenPoint(p.transform);ae.y+=q*p.transform.height;const he=c.sub(ae),ye=s.radToDeg(Math.atan2(he.y,he.x));T=(ye>90?ye-270:ye+90)*(1-q)}return T+=this._rotation,T?`rotateZ(${T}deg)`:""}_update(c){s.window.cancelAnimationFrame(this._updateFrameId);const p=this._map;p&&(p.transform.renderWorldCopies&&(this._lngLat=Gf(this._lngLat,this._pos,p.transform)),this._pos=p.project(this._lngLat),c===!0?this._updateFrameId=s.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),p._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(p._showingGlobe()||p.getTerrain()||p.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(c){return this._offset=s.pointGeometry.convert(c),this._update(),this}_onMove(c){const p=this._map;if(!p)return;const T=this._pointerdownPos,N=this._positionDelta;if(T&&N){if(!this._isDragging){const q=this._clickTolerance||p._clickTolerance;if(c.point.dist(T)<q)return;this._isDragging=!0}this._pos=c.point.sub(N),this._lngLat=p.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const c=this._map;c&&(c.off("mousemove",this._onMove),c.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(c){const p=this._map,T=this._pos;p&&T&&this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(T),this._pointerdownPos=c.point,this._state="pending",p.on("mousemove",this._onMove),p.on("touchmove",this._onMove),p.once("mouseup",this._onUp),p.once("touchend",this._onUp))}setDraggable(c){this._draggable=!!c;const p=this._map;return p&&(c?(p.on("mousedown",this._addDragHandler),p.on("touchstart",this._addDragHandler)):(p.off("mousedown",this._addDragHandler),p.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(c){return this._occludedOpacity=c||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Sp={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},mm=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function dl(_=new s.pointGeometry(0,0),c="bottom"){if(typeof _=="number"){const p=Math.round(Math.sqrt(.5*Math.pow(_,2)));switch(c){case"top":return new s.pointGeometry(0,_);case"top-left":return new s.pointGeometry(p,p);case"top-right":return new s.pointGeometry(-p,p);case"bottom":return new s.pointGeometry(0,-_);case"bottom-left":return new s.pointGeometry(p,-p);case"bottom-right":return new s.pointGeometry(-p,-p);case"left":return new s.pointGeometry(_,0);case"right":return new s.pointGeometry(-_,0)}return new s.pointGeometry(0,0)}return _ instanceof s.pointGeometry||Array.isArray(_)?s.pointGeometry.convert(_):s.pointGeometry.convert(_[c]||[0,0])}class gm{constructor(c){this.jumpTo(c)}getValue(c){if(c<=this._startTime)return this._start;if(c>=this._endTime)return this._end;const p=s.easeCubicInOut((c-this._startTime)/(this._endTime-this._startTime));return this._start*(1-p)+this._end*p}isEasing(c){return c>=this._startTime&&c<=this._endTime}jumpTo(c){this._startTime=-1/0,this._endTime=-1/0,this._start=c,this._end=c}easeTo(c,p,T){this._start=this.getValue(p),this._end=c,this._startTime=p,this._endTime=p+T}}const ym={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},_m={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},vm={showCompass:!0,showZoom:!0,visualizePitch:!1};class xm{constructor(c,p,T=!1){this._clickTolerance=10,this.element=p,this.mouseRotate=new Bf({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,T&&(this.mousePitch=new Nf({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),p.addEventListener("mousedown",this.mousedown),p.addEventListener("touchstart",this.touchstart,{passive:!1}),p.addEventListener("touchmove",this.touchmove),p.addEventListener("touchend",this.touchend),p.addEventListener("touchcancel",this.reset)}down(c,p){this.mouseRotate.mousedown(c,p),this.mousePitch&&this.mousePitch.mousedown(c,p),k()}move(c,p){const T=this.map,N=this.mouseRotate.mousemoveWindow(c,p),q=N&&N.bearingDelta;if(q&&T.setBearing(T.getBearing()+q),this.mousePitch){const ae=this.mousePitch.mousemoveWindow(c,p),he=ae&&ae.pitchDelta;he&&T.setPitch(T.getPitch()+he)}}off(){const c=this.element;c.removeEventListener("mousedown",this.mousedown),c.removeEventListener("touchstart",this.touchstart,{passive:!1}),c.removeEventListener("touchmove",this.touchmove),c.removeEventListener("touchend",this.touchend),c.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){S(),s.window.removeEventListener("mousemove",this.mousemove),s.window.removeEventListener("mouseup",this.mouseup)}mousedown(c){this.down(s.extend({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),U(this.element,c)),s.window.addEventListener("mousemove",this.mousemove),s.window.addEventListener("mouseup",this.mouseup)}mousemove(c){this.move(c,U(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=E(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){c.targetTouches.length!==1?this.reset():(this._lastPos=E(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Cp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Hf={maxWidth:100,unit:"metric"};function bm(_,c,p){const T=Wf(c),N=T/c,q={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[p];this._map._requestDomTask(()=>{this._container.style.width=_*N+"px",this._container.innerHTML=`${T}&nbsp;${q}`})}function Wf(_){const c=Math.pow(10,`${Math.floor(_)}`.length-1);let p=_/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:p>=1?1:function(T){const N=Math.pow(10,Math.ceil(-Math.log(T)/Math.LN10));return Math.round(T*N)/N}(p),c*p}const fd={version:s.version,supported:I,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends Pc{constructor(_){if(s.LivePerformanceUtils.mark(s.PerformanceMarkers.create),(_=s.extend({},_m,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(_.antialias&&s.isSafariWithAntialiasingBug(s.window)&&(_.antialias=!1,s.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Vs(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),_),this._interactive=_.interactive,this._minTileCacheSize=_.minTileCacheSize,this._maxTileCacheSize=_.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=_.crossSourceCollisions,this._collectResourceTiming=_.collectResourceTiming,this._optimizeForTerrain=_.optimizeForTerrain,this._language=this._parseLanguage(_.language),this._worldview=_.worldview,this._renderTaskQueue=new Vf,this._domRenderTaskQueue=new Vf,this._controls=[],this._markers=[],this._popups=[],this._mapId=s.uniqueId(),this._locale=s.extend({},ym,_.locale),this._clickTolerance=_.clickTolerance,this._cooperativeGestures=_.cooperativeGestures,this._performanceMetricsCollection=_.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new gm(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new s.RequestManager(_.transformRequest,_.accessToken,_.testMode),this._silenceAuthErrors=!!_.testMode,typeof _.container=="string"){if(this._container=s.window.document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof s.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(this._container.childNodes.length>0&&s.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),_.maxBounds&&this.setMaxBounds(_.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),s.window!==void 0&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1),s.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Mh(this,_),this._localFontFamily=_.localFontFamily,this._localIdeographFontFamily=_.localIdeographFontFamily,_.style&&this.setStyle(_.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),_.projection&&this.setProjection(_.projection),this._hash=_.hash&&new ln(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,s.extend({},_.fitBoundsOptions,{duration:0})))),this.resize(),_.attributionControl&&this.addControl(new Uf({customAttribution:_.customAttribution})),this._logoControl=new $f,this.addControl(this._logoControl,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new s.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new s.Event(`${c.dataType}dataloading`,c))})}_getMapId(){return this._mapId}addControl(_,c){if(c===void 0&&(c=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=_.onAdd(this);this._controls.push(_);const T=this._controlPositions[c];return c.indexOf("bottom")!==-1?T.insertBefore(p,T.firstChild):T.appendChild(p),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(_);return c>-1&&this._controls.splice(c,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(_){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const c=!this._moving;return c&&this.fire(new s.Event("movestart",_)).fire(new s.Event("move",_)),this.fire(new s.Event("resize",_)),c&&this.fire(new s.Event("moveend",_)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(_){return this.transform.setMaxBounds(s.LngLatBounds.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_?this.setZoom(_):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_?this.setZoom(_):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_?this.setPitch(_):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_?this.setPitch(_):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(_){return _==="auto"?s.window.navigator.language:Array.isArray(_)?_.length===0?void 0:_.map(c=>c==="auto"?s.window.navigator.language:c):_}setLanguage(_){const c=this._parseLanguage(_);if(!this.style||c===this._language)return this;this._language=c,this.style._reloadSources();for(const p of this._controls)p._setLanguage&&p._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(_){return this.style&&_!==this._worldview?(this._worldview=_,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(_){return this._lazyInitEmptyStyle(),_?typeof _=="string"&&(_={name:_}):_=null,this._useExplicitProjection=!!_,this._prioritizeAndUpdateProjection(_,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const _=this.transform,c=_.projection.name;let p;c==="globe"&&_.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?(_.setMercatorFromTransition(),p=!0):c==="mercator"&&_.zoom<s.GLOBE_ZOOM_THRESHOLD_MAX&&(_.setProjection({name:"globe"}),p=!0),p&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(_,c){return this._updateProjection(_||c||{name:"mercator"})}_updateProjection(_){let c;if(c=_.name==="globe"&&this.transform.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(_),this.style.applyProjectionUpdate(),c){this.painter.clearBackgroundTiles();for(const p in this.style._sourceCaches)this.style._sourceCaches[p].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(_){return this.transform.locationPoint3D(s.LngLat.convert(_))}unproject(_){return this.transform.pointLocation3D(s.pointGeometry.convert(_))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(_,c,p){if(_==="mouseenter"||_==="mouseover"){let T=!1;const N=ae=>{const he=c.filter(De=>this.getLayer(De)),ye=he.length?this.queryRenderedFeatures(ae.point,{layers:he}):[];ye.length?T||(T=!0,p.call(this,new ms(_,this,ae.originalEvent,{features:ye}))):T=!1},q=()=>{T=!1};return{layers:new Set(c),listener:p,delegates:{mousemove:N,mouseout:q}}}if(_==="mouseleave"||_==="mouseout"){let T=!1;const N=ae=>{const he=c.filter(ye=>this.getLayer(ye));(he.length?this.queryRenderedFeatures(ae.point,{layers:he}):[]).length?T=!0:T&&(T=!1,p.call(this,new ms(_,this,ae.originalEvent)))},q=ae=>{T&&(T=!1,p.call(this,new ms(_,this,ae.originalEvent)))};return{layers:new Set(c),listener:p,delegates:{mousemove:N,mouseout:q}}}{const T=N=>{const q=c.filter(he=>this.getLayer(he)),ae=q.length?this.queryRenderedFeatures(N.point,{layers:q}):[];ae.length&&(N.features=ae,p.call(this,N),delete N.features)};return{layers:new Set(c),listener:p,delegates:{[_]:T}}}}on(_,c,p){if(p===void 0)return super.on(_,c);Array.isArray(c)||(c=[c]);const T=this._createDelegatedListener(_,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(T);for(const N in T.delegates)this.on(N,T.delegates[N]);return this}once(_,c,p){if(p===void 0)return super.once(_,c);Array.isArray(c)||(c=[c]);const T=this._createDelegatedListener(_,c,p);for(const N in T.delegates)this.once(N,T.delegates[N]);return this}off(_,c,p){if(p===void 0)return super.off(_,c);c=new Set(Array.isArray(c)?c:[c]);const T=(q,ae)=>{if(q.size!==ae.size)return!1;for(const he of q)if(!ae.has(he))return!1;return!0},N=this._delegatedListeners?this._delegatedListeners[_]:void 0;return N&&(q=>{for(let ae=0;ae<q.length;ae++){const he=q[ae];if(he.listener===p&&T(he.layers,c)){for(const ye in he.delegates)this.off(ye,he.delegates[ye]);return q.splice(ae,1),this}}})(N),this}queryRenderedFeatures(_,c){return this.style?(c!==void 0||_===void 0||_ instanceof s.pointGeometry||Array.isArray(_)||(c=_,_=void 0),this.style.queryRenderedFeatures(_=_||[[0,0],[this.transform.width,this.transform.height]],c=c||{},this.transform)):[]}querySourceFeatures(_,c){return this.style.querySourceFeatures(_,c)}setStyle(_,c){return(c=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&c.localFontFamily===this._localFontFamily&&this.style&&_?(this._diffStyle(_,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._localFontFamily=c.localFontFamily,this._updateStyle(_,c))}_getUIString(_){const c=this._locale[_];if(c==null)throw new Error(`Missing UI string '${_}'`);return c}_updateStyle(_,c){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),_&&(this.style=new Z(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_):this.style.loadJSON(_)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Z(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,c){if(typeof _=="string"){const p=this._requestManager.normalizeStyleURL(_),T=this._requestManager.transformRequest(p,s.ResourceType.Style);s.getJSON(T,(N,q)=>{N?this.fire(new s.ErrorEvent(N)):q&&this._updateDiff(q,c)})}else typeof _=="object"&&this._updateDiff(_,c)}_updateDiff(_,c){try{this.style.setState(_)&&this._update(!0)}catch(p){s.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(_,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(s.warnOnce("There is no style added to the map."),!1)}addSource(_,c){return this._lazyInitEmptyStyle(),this.style.addSource(_,c),this._update(!0)}isSourceLoaded(_){return!!this.style&&this.style._isSourceCacheLoaded(_)}areTilesLoaded(){const _=this.style&&this.style._sourceCaches;for(const c in _){const p=_[c]._tiles;for(const T in p){const N=p[T];if(N.state!=="loaded"&&N.state!=="errored")return!1}}return!0}addSourceType(_,c,p){this._lazyInitEmptyStyle(),this.style.addSourceType(_,c,p)}removeSource(_){return this.style.removeSource(_),this._updateTerrain(),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,c,{pixelRatio:p=1,sdf:T=!1,stretchX:N,stretchY:q,content:ae}={}){if(this._lazyInitEmptyStyle(),c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap){const{width:he,height:ye,data:De}=s.exported.getImageData(c);this.style.addImage(_,{data:new s.RGBAImage({width:he,height:ye},De),pixelRatio:p,stretchX:N,stretchY:q,content:ae,sdf:T,version:0})}else if(c.width===void 0||c.height===void 0)this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:he,height:ye}=c,De=c;this.style.addImage(_,{data:new s.RGBAImage({width:he,height:ye},new Uint8Array(De.data)),pixelRatio:p,stretchX:N,stretchY:q,content:ae,sdf:T,version:0,userImage:De}),De.onAdd&&De.onAdd(this,_)}}updateImage(_,c){const p=this.style.getImage(_);if(!p)return void this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const T=c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap?s.exported.getImageData(c):c,{width:N,height:q}=T;N!==void 0&&q!==void 0?N===p.data.width&&q===p.data.height?(p.data.replace(T.data,!(c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap)),this.style.updateImage(_,p)):this.fire(new s.ErrorEvent(new Error(`The width and height of the updated image (${N}, ${q})
                must be that same as the previous version of the image
                (${p.data.width}, ${p.data.height})`))):this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,c){s.getImage(this._requestManager.transformRequest(_,s.ResourceType.Image),(p,T)=>{c(p,T instanceof s.window.HTMLImageElement?s.exported.getImageData(T):T)})}listImages(){return this.style.listImages()}addLayer(_,c){return this._lazyInitEmptyStyle(),this.style.addLayer(_,c),this._update(!0)}moveLayer(_,c){return this.style.moveLayer(_,c),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}setLayerZoomRange(_,c,p){return this.style.setLayerZoomRange(_,c,p),this._update(!0)}setFilter(_,c,p={}){return this.style.setFilter(_,c,p),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,c,p,T={}){return this.style.setPaintProperty(_,c,p,T),this._update(!0)}getPaintProperty(_,c){return this.style.getPaintProperty(_,c)}setLayoutProperty(_,c,p,T={}){return this.style.setLayoutProperty(_,c,p,T),this._update(!0)}getLayoutProperty(_,c){return this.style.getLayoutProperty(_,c)}setLight(_,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,c),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(_){return this._lazyInitEmptyStyle(),!_&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(_),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(_){return this._lazyInitEmptyStyle(),this.style.setFog(_),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(_){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(s.LngLat.convert(_),this.transform):0}setFeatureState(_,c){return this.style.setFeatureState(_,c),this._update()}removeFeatureState(_,c){return this.style.removeFeatureState(_,c),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}_updateContainerDimensions(){if(!this._container)return;const _=this._container.getBoundingClientRect().width||400,c=this._container.getBoundingClientRect().height||300;let p,T,N,q=this._container;for(;q&&(!T||!N);){const ae=s.window.getComputedStyle(q).transform;ae&&ae!=="none"&&(p=ae.match(/matrix.*\((.+)\)/)[1].split(", "),p[0]&&p[0]!=="0"&&p[0]!=="1"&&(T=p[0]),p[3]&&p[3]!=="0"&&p[3]!=="1"&&(N=p[3])),q=q.parentElement}this._containerWidth=T?Math.abs(_/T):_,this._containerHeight=N?Math.abs(c/N):c}_detectMissingCSS(){s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const _=this._container;_.classList.add("mapboxgl-map"),(this._missingCSSCanary=B("div","mapboxgl-canary",_)).style.visibility="hidden",this._detectMissingCSS();const c=this._canvasContainer=B("div","mapboxgl-canvas-container",_);this._interactive&&c.classList.add("mapboxgl-interactive"),this._canvas=B("canvas","mapboxgl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const p=this._controlContainer=B("div","mapboxgl-control-container",_),T=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(N=>{T[N]=B("div",`mapboxgl-ctrl-${N}`,p)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,c){const p=s.exported.devicePixelRatio||1;this._canvas.width=p*Math.ceil(_),this._canvas.height=p*Math.ceil(c),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${c}px`}_addMarker(_){this._markers.push(_)}_removeMarker(_){const c=this._markers.indexOf(_);c!==-1&&this._markers.splice(c,1)}_addPopup(_){this._popups.push(_)}_removePopup(_){const c=this._popups.indexOf(_);c!==-1&&this._popups.splice(c,1)}_setupPainter(){const _=s.extend({},I.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._canvas.getContext("webgl",_)||this._canvas.getContext("experimental-webgl",_);c?(s.storeAuthState(c,!0),this.painter=new Un(c,this.transform),this.on("data",p=>{p.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),s.exported$1.testSupport(c)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(_){_.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:_}))}_contextRestored(_){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:_}))}_onMapScroll(_){if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_requestDomTask(_){!this.loaded()||this.loaded()&&!this.isMoving()?_():this._domRenderTaskQueue.add(_)}_render(_){let c;const p=this.painter.context.extTimerQuery,T=s.exported.now();if(this.listens("gpu-timing-frame")&&(c=p.createQueryEXT(),p.beginQueryEXT(p.TIME_ELAPSED_EXT,c)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],s.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],s.window.performance.now())),this._renderTaskQueue.run(_),this._domRenderTaskQueue.run(_),this._removed)return;this._updateProjectionTransition();const N=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const he=this.transform.zoom,ye=this.transform.pitch,De=s.exported.now(),Ae=new s.EvaluationParameters(he,{now:De,fadeDuration:N,pitch:ye,transition:this.style.getTransition()});this.style.update(Ae)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let q=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),q=this._updateAverageElevation(T),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):q=this._updateAverageElevation(T),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,N,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:N,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),c){const he=s.exported.now()-T;p.endQueryEXT(p.TIME_ELAPSED_EXT,c),setTimeout(()=>{const ye=p.getQueryObjectEXT(c,p.QUERY_RESULT_EXT)/1e6;p.deleteQueryEXT(c),this.fire(new s.Event("gpu-timing-frame",{cpuTime:he,gpuTime:ye})),s.window.performance.mark("frame-gpu",{startTime:T,detail:{gpuTime:ye}})},50)}if(this.listens("gpu-timing-layer")){const he=this.painter.collectGpuTimers();setTimeout(()=>{const ye=this.painter.queryGpuTimers(he);this.fire(new s.Event("gpu-timing-layer",{layerTimes:ye}))},50)}if(this.listens("gpu-timing-deferred-render")){const he=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const ye=this.painter.queryGpuTimeDeferredRender(he);this.fire(new s.Event("gpu-timing-deferred-render",{gpuTime:ye}))},50)}const ae=this._sourcesDirty||this._styleDirty||this._placementDirty||q;if(ae||this._repaint)this.triggerRepaint();else{const he=!this.isMoving()&&this.loaded();if(he&&(q=this._updateAverageElevation(T,!0)),q)this.triggerRepaint();else if(this._triggerFrame(!1),he&&(this.fire(new s.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const ye=this._calculateSpeedIndex();this.fire(new s.Event("speedindexcompleted",{speedIndex:ye})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||ae||(this._fullyLoaded=!0,s.LivePerformanceUtils.mark(s.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&s.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(_){for(const c of this._markers)_&&!this.getRenderWorldCopies()&&(c._lngLat=c._lngLat.wrap()),c._update();for(const c of this._popups)!_||this.getRenderWorldCopies()||c._trackPointer||(c._lngLat=c._lngLat.wrap()),c._update()}_updateAverageElevation(_,c=!1){const p=T=>(this.transform.averageElevation=T,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&p(0);if((c||_-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(_)){const T=this.transform.averageElevation;let N=this.transform.sampleAverageElevation(),q=!1;this.transform.elevation&&(q=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(N)?N=0:this._averageElevationLastSampledAt=_;const ae=Math.abs(T-N);if(ae>1){if(this._isInitialLoad||q)return this._averageElevation.jumpTo(N),p(N);this._averageElevation.easeTo(N,_,300)}else if(ae>1e-4)return this._averageElevation.jumpTo(N),p(N)}return!!this._averageElevation.isEasing(_)&&p(this._averageElevation.getValue(_))}_authenticate(){s.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,_=>{if(_&&(_.message===s.AUTH_ERR_MSG||_.status===401)){const c=this.painter.context.gl;s.storeAuthState(c,!1),this._logoControl instanceof $f&&this._logoControl._updateLogo(),c&&c.clear(c.DEPTH_BUFFER_BIT|c.COLOR_BUFFER_BIT|c.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new s.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),s.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const _=this._isDragging();this.painter.updateTerrain(this.style,_)}_calculateSpeedIndex(){const _=this.painter.canvasCopy(),c=this.painter.getCanvasCopiesAndTimestamps();c.timeStamps.push(performance.now());const p=this.painter.context.gl,T=p.createFramebuffer();function N(q){p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,q,0);const ae=new Uint8Array(p.drawingBufferWidth*p.drawingBufferHeight*4);return p.readPixels(0,0,p.drawingBufferWidth,p.drawingBufferHeight,p.RGBA,p.UNSIGNED_BYTE,ae),ae}return p.bindFramebuffer(p.FRAMEBUFFER,T),this._canvasPixelComparison(N(_),c.canvasCopies.map(N),c.timeStamps)}_canvasPixelComparison(_,c,p){let T=p[1]-p[0];const N=_.length/4;for(let q=0;q<c.length;q++){const ae=c[q];let he=0;for(let ye=0;ye<ae.length;ye+=4)ae[ye]===_[ye]&&ae[ye+1]===_[ye+1]&&ae[ye+2]===_[ye+2]&&ae[ye+3]===_[ye+3]&&(he+=1);T+=(p[q+2]-p[q+1])*(1-he/N)}return T}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),s.window!==void 0&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1),s.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),s.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(_){this._renderNextFrame=this._renderNextFrame||_,this.style&&!this._frame&&(this._frame=s.exported.frame(c=>{const p=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,p&&this._render(c)}))}_preloadTiles(_){const c=this.style?Object.values(this.style._sourceCaches):[];return s.asyncAll(c,(p,T)=>p._preloadTiles(_,T),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(_){this._trackResize&&this.resize({originalEvent:_})._update()}_onVisibilityChange(){s.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(_){this._showTerrainWireframe!==_&&(this._showTerrainWireframe=_,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(_){this._speedIndexTiming!==_&&(this._speedIndexTiming=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(_){this._showTileAABBs!==_&&(this._showTileAABBs=_,_&&this._update())}_setCacheLimits(_,c){s.setCacheLimits(_,c)}get version(){return s.version}},NavigationControl:class{constructor(_){this.options=s.extend({},vm,_),this._container=B("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",c=>{this._map&&this._map.zoomIn({},{originalEvent:c})}),B("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",c=>{this._map&&this._map.zoomOut({},{originalEvent:c})}),B("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",c=>{const p=this._map;p&&(this.options.visualizePitch?p.resetNorthPitch({},{originalEvent:c}):p.resetNorth({},{originalEvent:c}))}),this._compassIcon=B("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _=this._map;if(!_)return;const c=_.getZoom(),p=c===_.getMaxZoom(),T=c===_.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=T,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",T.toString())}_rotateCompassArrow(){const _=this._map;if(!_)return;const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(_.transform.pitch*(Math.PI/180)),.5)}) rotateX(${_.transform.pitch}deg) rotateZ(${_.transform.angle*(180/Math.PI)}deg)`:`rotate(${_.transform.angle*(180/Math.PI)}deg)`;_._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=c)})}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),_.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&_.on("pitch",this._rotateCompassArrow),_.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new xm(_,this._compass,this.options.visualizePitch)),this._container}onRemove(){const _=this._map;_&&(this._container.remove(),this.options.showZoom&&_.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&_.off("pitch",this._rotateCompassArrow),_.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(_,c){const p=B("button",_,this._container);return p.type="button",p.addEventListener("click",c),p}_setButtonTitle(_,c){if(!this._map)return;const p=this._map._getUIString(`NavigationControl.${c}`);_.setAttribute("aria-label",p),_.firstElementChild&&_.firstElementChild.setAttribute("title",p)}},GeolocateControl:class extends s.Evented{constructor(_){super(),this.options=s.extend({geolocation:s.window.navigator.geolocation},Cp,_),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Ml(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(_){return this._map=_,this._container=B("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(_){const c=(p=!!this.options.geolocation)=>{this._supportsGeolocation=p,_(p)};this._supportsGeolocation!==void 0?_(this._supportsGeolocation):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(p=>c(p.state!=="denied")).catch(()=>c()):c()}_isOutOfMapMaxBounds(_){const c=this._map.getMaxBounds(),p=_.coords;return!!c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(_){if(this._map){if(this._isOutOfMapMaxBounds(_))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",_)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(_),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(_),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",_)),this._finish()}}_updateCamera(_){const c=new s.LngLat(_.coords.longitude,_.coords.latitude),p=_.coords.accuracy,T=this._map.getBearing(),N=s.extend({bearing:T},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(p),N,{geolocateSource:!0})}_updateMarker(_){if(_){const c=new s.LngLat(_.coords.longitude,_.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=_.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const _=this._map.transform,c=s.mercatorZfromAltitude(1,_._center.lat)*_.worldSize,p=Math.ceil(2*this._accuracy*c);this._circleElement.style.width=`${p}px`,this._circleElement.style.height=`${p}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(_){if(this._map){if(this.options.trackUserLocation)if(_.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(_.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",_)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(_){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=B("button","mapboxgl-ctrl-geolocate",this._container),B("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",_===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=B("div","mapboxgl-user-location"),this._dotElement.appendChild(B("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(B("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new ac({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=B("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ac({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))})}}_onDeviceOrientation(_){this._userLocationDotMarker&&(_.webkitCompassHeading?this._heading=_.webkitCompassHeading:_.absolute===!0&&(this._heading=-1*_.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(_={maximumAge:6e5,timeout:0},this._noTimeout=!0):(_=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,_),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const _=()=>{s.window.addEventListener("ondeviceorientationabsolute"in s.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};s.window.DeviceMotionEvent!==void 0&&typeof s.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(c=>{c==="granted"&&_()}).catch(console.error):_()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),s.window.removeEventListener("deviceorientation",this._onDeviceOrientation),s.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Uf,ScaleControl:class{constructor(_){this.options=s.extend({},Hf,_),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=bm.bind(this)),s.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const _=this.options.maxWidth||100,c=this._map,p=c._containerHeight/2,T=c._containerWidth/2-_/2,N=c.unproject([T,p]),q=c.unproject([T+_,p]),ae=N.distanceTo(q);if(this.options.unit==="imperial"){const he=3.2808*ae;he>5280?this._setScale(_,he/5280,"mile"):this._setScale(_,he,"foot")}else this.options.unit==="nautical"?this._setScale(_,ae/1852,"nautical-mile"):ae>=1e3?this._setScale(_,ae/1e3,"kilometer"):this._setScale(_,ae,"meter")}_setScale(_,c,p){const T=Wf(c),N=T/c;this._map._requestDomTask(()=>{this._container.style.width=_*N+"px",this._container.innerHTML=p!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:p}).format(T):`${T}&nbsp;nm`})}onAdd(_){return this._map=_,this._language=_.getLanguage(),this._container=B("div","mapboxgl-ctrl mapboxgl-ctrl-scale",_.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(_){this._language=_,this._update()}setUnit(_){this.options.unit=_,this._update()}},FullscreenControl:class{constructor(_){this._fullscreen=!1,_&&_.container&&(_.container instanceof s.window.HTMLElement?this._container=_.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in s.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=B("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!s.window.document.fullscreenEnabled&&!s.window.document.webkitFullscreenEnabled)}_setupUI(){const _=this._fullscreenButton=B("button","mapboxgl-ctrl-fullscreen",this._controlContainer);B("span","mapboxgl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",_)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(s.window.document.fullscreenElement||s.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends s.Evented{constructor(_){super(),this.options=s.extend(Object.create(Sp),_),s.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(_&&_.className?_.className.trim().split(/\s+/):[])}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&_.on("preclick",this._onClose),this.options.closeOnMove&&_.on("move",this._onClose),_.on("remove",this.remove),this._update(),_._addPopup(this),this._focusFirstElement(),this._trackPointer?(_.on("mousemove",this._onMouseEvent),_.on("mouseup",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")):_.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const _=this._map;return _&&(_.off("move",this._update),_.off("move",this._onClose),_.off("preclick",this._onClose),_.off("click",this._onClose),_.off("remove",this.remove),_.off("mousemove",this._onMouseEvent),_.off("mouseup",this._onMouseEvent),_.off("drag",this._onMouseEvent),_._canvasContainer&&_._canvasContainer.classList.remove("mapboxgl-track-pointer"),_._removePopup(this),this._map=void 0),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(_){this._lngLat=s.LngLat.convert(_),this._pos=null,this._trackPointer=!1,this._update();const c=this._map;return c&&(c.on("move",this._update),c.off("mousemove",this._onMouseEvent),c._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const _=this._map;return _&&(_.off("move",this._update),_.on("mousemove",this._onMouseEvent),_.on("drag",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(s.window.document.createTextNode(_))}setHTML(_){const c=s.window.document.createDocumentFragment(),p=s.window.document.createElement("body");let T;for(p.innerHTML=_;T=p.firstChild,T;)c.appendChild(T);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){let c=this._content;if(c)for(;c.hasChildNodes();)c.firstChild&&c.removeChild(c.firstChild);else c=this._content=B("div","mapboxgl-popup-content",this._container||void 0);if(c.appendChild(_),this.options.closeButton){const p=this._closeButton=B("button","mapboxgl-popup-close-button",c);p.type="button",p.setAttribute("aria-label","Close popup"),p.setAttribute("aria-hidden","true"),p.innerHTML="&#215;",p.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(_){return this._classList.add(_),this._updateClassList(),this}removeClassName(_){return this._classList.delete(_),this._updateClassList(),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){let c;return this._classList.delete(_)?c=!1:(this._classList.add(_),c=!0),this._updateClassList(),c}_onMouseEvent(_){this._update(_.point)}_getAnchor(_){if(this.options.anchor)return this.options.anchor;const c=this._map,p=this._container,T=this._pos;if(!c||!p||!T)return"bottom";const N=p.offsetWidth,q=p.offsetHeight,ae=T.x<N/2,he=T.x>c.transform.width-N/2;if(T.y+_<q)return ae?"top-left":he?"top-right":"top";if(T.y>c.transform.height-q){if(ae)return"bottom-left";if(he)return"bottom-right"}return ae?"left":he?"right":"bottom"}_updateClassList(){const _=this._container;if(!_)return;const c=[...this._classList];c.push("mapboxgl-popup"),this._anchor&&c.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&c.push("mapboxgl-popup-track-pointer"),_.className=c.join(" ")}_update(_){const c=this._map,p=this._content;if(!c||!this._lngLat&&!this._trackPointer||!p)return;let T=this._container;if(T||(T=this._container=B("div","mapboxgl-popup",c.getContainer()),this._tip=B("div","mapboxgl-popup-tip",T),T.appendChild(p)),this.options.maxWidth&&T.style.maxWidth!==this.options.maxWidth&&(T.style.maxWidth=this.options.maxWidth),c.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Gf(this._lngLat,this._pos,c.transform)),!this._trackPointer||_){const N=this._pos=this._trackPointer&&_?_:c.project(this._lngLat),q=dl(this.options.offset),ae=this._anchor=this._getAnchor(q.y),he=dl(this.options.offset,ae),ye=N.add(he).round();c._requestDomTask(()=>{this._container&&ae&&(this._container.style.transform=`${qd[ae]} translate(${ye.x}px,${ye.y}px)`)})}if(!this._marker&&c._showingGlobe()){const N=s.isLngLatBehindGlobe(c.transform,this._lngLat)?0:1;this._setOpacity(N)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(mm);_&&_.focus()}_onClose(){this.remove()}_setOpacity(_){this._container&&(this._container.style.opacity=`${_}`),this._content&&(this._content.style.pointerEvents=_?"auto":"none")}},Marker:ac,Style:Z,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.pointGeometry,MercatorCoordinate:s.MercatorCoordinate,FreeCameraOptions:we,Evented:s.Evented,config:s.config,prewarm:function(){qi().acquire(Mn)},clearPrewarmedResources:function(){const _=pn;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Mn),pn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(_){s.config.ACCESS_TOKEN=_},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(_){s.config.API_URL=_},get workerCount(){return Cn.workerCount},set workerCount(_){Cn.workerCount=_},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_){s.config.MAX_PARALLEL_IMAGE_REQUESTS=_},clearStorage(_){s.clearTileCache(_)},workerUrl:"",workerClass:null,setNow:s.exported.setNow,restoreNow:s.exported.restoreNow};return fd});var h=o;return h})})(j4);var qV=j4.exports;const Vl=rd(qV);var Kg=ZV,XV=Object.prototype.hasOwnProperty;function ZV(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)XV.call(i,r)&&(e[r]=i[r])}return e}var $4={exports:{}};(function(e,t){(function(){var i={};e.exports=i,i.simpleFilter=function(r,o){return o.filter(function(u){return i.test(r,u)})},i.test=function(r,o){return i.match(r,o)!==null},i.match=function(r,o,u){u=u||{};var h=0,s=[],v=o.length,I=0,J=0,M=u.pre||"",B=u.post||"",W=u.caseSensitive&&o||o.toLowerCase(),O;r=u.caseSensitive&&r||r.toLowerCase();for(var L=0;L<v;L++)O=o[L],W[L]===r[h]?(O=M+O+B,h+=1,J+=1+J):J=0,I+=J,s[s.length]=O;return h===r.length?(I=W===r?1/0:I,{rendered:s.join(""),score:I}):null},i.filter=function(r,o,u){return!o||o.length===0?[]:typeof r!="string"?o:(u=u||{},o.reduce(function(h,s,v,I){var J=s;u.extract&&(J=u.extract(s));var M=i.match(r,J,u);return M!=null&&(h[h.length]={string:M.rendered,score:M.score,index:v,original:s}),h},[]).sort(function(h,s){var v=s.score-h.score;return v||h.index-s.index}))}})()})($4);var KV=$4.exports,Kc=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};Kc.prototype.show=function(){this.element.style.display="block"};Kc.prototype.hide=function(){this.element.style.display="none"};Kc.prototype.add=function(e){this.items.push(e)};Kc.prototype.clear=function(){this.items=[],this.active=0};Kc.prototype.isEmpty=function(){return!this.items.length};Kc.prototype.isVisible=function(){return this.element.style.display==="block"};Kc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};Kc.prototype.drawItem=function(e,t){var i=document.createElement("li"),r=document.createElement("a");t&&(i.className+=" active"),r.innerHTML=e.string,i.appendChild(r),this.element.appendChild(i),i.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),i.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};Kc.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};Kc.prototype.move=function(e){this.active=e,this.draw()};Kc.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};Kc.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};Kc.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var JV=Kc,QV=Kg,eG=KV,tG=JV,Wl=function(e,t,i){return i=i||{},this.options=QV({minLength:2,limit:5,filter:!0,hideOnBlur:!0},i),this.el=e,this.data=t||[],this.list=new tG(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(r){this.handleKeyUp(r.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(r){this.handleKeyDown(r)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(r){this.handlePaste(r)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};Wl.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};Wl.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};Wl.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};Wl.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};Wl.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var i=0;i<t.length&&(this.list.add(t[i]),i!==this.options.limit-1);i++);this.list.draw()}).bind(this))};Wl.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};Wl.prototype.update=function(e){this.data=e,this.handleKeyUp()};Wl.prototype.clear=function(){this.data=[],this.list.clear()};Wl.prototype.normalize=function(e){return e=e.toLowerCase(),e};Wl.prototype.match=function(e,t){return e.indexOf(t)>-1};Wl.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};Wl.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(r){return this.getItemValue(r)}).bind(this)},i;this.options.filter?(i=eG.filter(this.query,this.data,t),i=i.map((function(r){return{original:r.original,string:this.render(r.original,r.string)}}).bind(this))):i=this.data.map((function(r){var o=this.render(r);return{original:r,string:o}}).bind(this)),e(i)};Wl.prototype.getItemValue=function(e){return e};Wl.prototype.render=function(e,t){if(t)return t;for(var i=e.original?this.getItemValue(e.original):this.getItemValue(e),r=this.normalize(i),o=r.lastIndexOf(this.query);o>-1;){var u=o+this.query.length;i=i.slice(0,o)+"<strong>"+i.slice(o,u)+"</strong>"+i.slice(u),o=r.slice(0,o).lastIndexOf(this.query)}return i};Wl.prototype.renderError=function(e){this.list.drawError(e)};var iG=Wl,V4=iG,nG=V4;typeof window<"u"&&(window.Suggestions=V4);var rG="Expected a function",QE=0/0,sG="[object Symbol]",oG=/^\s+|\s+$/g,aG=/^[-+]0x[0-9a-f]+$/i,lG=/^0b[01]+$/i,cG=/^0o[0-7]+$/i,uG=parseInt,dG=typeof ja=="object"&&ja&&ja.Object===Object&&ja,hG=typeof self=="object"&&self&&self.Object===Object&&self,pG=dG||hG||Function("return this")(),fG=Object.prototype,mG=fG.toString,gG=Math.max,yG=Math.min,B3=function(){return pG.Date.now()};function _G(e,t,i){var r,o,u,h,s,v,I=0,J=!1,M=!1,B=!0;if(typeof e!="function")throw new TypeError(rG);t=eM(t)||0,VT(i)&&(J=!!i.leading,M="maxWait"in i,u=M?gG(eM(i.maxWait)||0,t):u,B="trailing"in i?!!i.trailing:B);function W(E){var ie=r,ee=o;return r=o=void 0,I=E,h=e.apply(ee,ie),h}function O(E){return I=E,s=setTimeout(k,t),J?W(E):h}function L(E){var ie=E-v,ee=E-I,$=t-ie;return M?yG($,u-ee):$}function G(E){var ie=E-v,ee=E-I;return v===void 0||ie>=t||ie<0||M&&ee>=u}function k(){var E=B3();if(G(E))return S(E);s=setTimeout(k,L(E))}function S(E){return s=void 0,B&&r?W(E):(r=o=void 0,h)}function A(){s!==void 0&&clearTimeout(s),I=0,r=v=o=s=void 0}function H(){return s===void 0?h:S(B3())}function U(){var E=B3(),ie=G(E);if(r=arguments,o=this,v=E,ie){if(s===void 0)return O(v);if(M)return s=setTimeout(k,t),W(v)}return s===void 0&&(s=setTimeout(k,t)),h}return U.cancel=A,U.flush=H,U}function VT(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function vG(e){return!!e&&typeof e=="object"}function xG(e){return typeof e=="symbol"||vG(e)&&mG.call(e)==sG}function eM(e){if(typeof e=="number")return e;if(xG(e))return QE;if(VT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=VT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(oG,"");var i=lG.test(e);return i||cG.test(e)?uG(e.slice(2),i?2:8):aG.test(e)?QE:+e}var bG=_G,FC={exports:{}},Pg=typeof Reflect=="object"?Reflect:null,tM=Pg&&typeof Pg.apply=="function"?Pg.apply:function(t,i,r){return Function.prototype.apply.call(t,i,r)},Rx;Pg&&typeof Pg.ownKeys=="function"?Rx=Pg.ownKeys:Object.getOwnPropertySymbols?Rx=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Rx=function(t){return Object.getOwnPropertyNames(t)};function wG(e){console&&console.warn&&console.warn(e)}var G4=Number.isNaN||function(t){return t!==t};function to(){to.init.call(this)}FC.exports=to;FC.exports.once=EG;to.EventEmitter=to;to.prototype._events=void 0;to.prototype._eventsCount=0;to.prototype._maxListeners=void 0;var iM=10;function f2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(to,"defaultMaxListeners",{enumerable:!0,get:function(){return iM},set:function(e){if(typeof e!="number"||e<0||G4(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");iM=e}});to.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};to.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||G4(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function H4(e){return e._maxListeners===void 0?to.defaultMaxListeners:e._maxListeners}to.prototype.getMaxListeners=function(){return H4(this)};to.prototype.emit=function(t){for(var i=[],r=1;r<arguments.length;r++)i.push(arguments[r]);var o=t==="error",u=this._events;if(u!==void 0)o=o&&u.error===void 0;else if(!o)return!1;if(o){var h;if(i.length>0&&(h=i[0]),h instanceof Error)throw h;var s=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw s.context=h,s}var v=u[t];if(v===void 0)return!1;if(typeof v=="function")tM(v,this,i);else for(var I=v.length,J=Z4(v,I),r=0;r<I;++r)tM(J[r],this,i);return!0};function W4(e,t,i,r){var o,u,h;if(f2(i),u=e._events,u===void 0?(u=e._events=Object.create(null),e._eventsCount=0):(u.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),u=e._events),h=u[t]),h===void 0)h=u[t]=i,++e._eventsCount;else if(typeof h=="function"?h=u[t]=r?[i,h]:[h,i]:r?h.unshift(i):h.push(i),o=H4(e),o>0&&h.length>o&&!h.warned){h.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=h.length,wG(s)}return e}to.prototype.addListener=function(t,i){return W4(this,t,i,!1)};to.prototype.on=to.prototype.addListener;to.prototype.prependListener=function(t,i){return W4(this,t,i,!0)};function TG(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Y4(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},o=TG.bind(r);return o.listener=i,r.wrapFn=o,o}to.prototype.once=function(t,i){return f2(i),this.on(t,Y4(this,t,i)),this};to.prototype.prependOnceListener=function(t,i){return f2(i),this.prependListener(t,Y4(this,t,i)),this};to.prototype.removeListener=function(t,i){var r,o,u,h,s;if(f2(i),o=this._events,o===void 0)return this;if(r=o[t],r===void 0)return this;if(r===i||r.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||i));else if(typeof r!="function"){for(u=-1,h=r.length-1;h>=0;h--)if(r[h]===i||r[h].listener===i){s=r[h].listener,u=h;break}if(u<0)return this;u===0?r.shift():SG(r,u),r.length===1&&(o[t]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",t,s||i)}return this};to.prototype.off=to.prototype.removeListener;to.prototype.removeAllListeners=function(t){var i,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var u=Object.keys(r),h;for(o=0;o<u.length;++o)h=u[o],h!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=r[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(o=i.length-1;o>=0;o--)this.removeListener(t,i[o]);return this};function q4(e,t,i){var r=e._events;if(r===void 0)return[];var o=r[t];return o===void 0?[]:typeof o=="function"?i?[o.listener||o]:[o]:i?CG(o):Z4(o,o.length)}to.prototype.listeners=function(t){return q4(this,t,!0)};to.prototype.rawListeners=function(t){return q4(this,t,!1)};to.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):X4.call(e,t)};to.prototype.listenerCount=X4;function X4(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}to.prototype.eventNames=function(){return this._eventsCount>0?Rx(this._events):[]};function Z4(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}function SG(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function CG(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function EG(e,t){return new Promise(function(i,r){function o(h){e.removeListener(t,u),r(h)}function u(){typeof e.removeListener=="function"&&e.removeListener("error",o),i([].slice.call(arguments))}K4(e,t,u,{once:!0}),t!=="error"&&MG(e,o,{once:!0})})}function MG(e,t,i){typeof e.on=="function"&&K4(e,"error",t,i)}function K4(e,t,i,r){if(typeof e.on=="function")r.once?e.once(t,i):e.on(t,i);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(u){r.once&&e.removeEventListener(t,o),i(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var kG=FC.exports,AG={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function PG(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function DG(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var i=t[1],r=t[2].split(";"),o=null,u=r.reduce(function(h,s){var v=PG(s);return v?v.key==="rel"?(o||(o=v.value),h):(h[v.key]=v.value,h):h},{});return o?{url:i,rel:o,params:u}:null}function IG(e){return e?e.split(/,\s*</).reduce(function(t,i){var r=DG(i);if(!r)return t;var o=r.rel.split(/\s+/);return o.forEach(function(u){t[u]||(t[u]={url:r.url,params:r.params})}),t},{}):{}}var LG=IG,OG=LG;function jC(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=OG(this.headers.link)}jC.prototype.hasNextPage=function(){return!!this.links.next};jC.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var RG=jC,m2={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},nM=m2;function BG(e){var t=e.type||nM.ERROR_HTTP,i;if(e.body)try{i=JSON.parse(e.body)}catch{i=e.body}else i=null;var r=e.message||null;r||(typeof i=="string"?r=i:i&&typeof i.message=="string"?r=i.message:t===nM.ERROR_REQUEST_ABORTED&&(r="Request aborted")),this.message=r,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=i}var NG=BG;function zG(e){var t=e.indexOf(":"),i=e.substring(0,t).trim().toLowerCase(),r=e.substring(t+1).trim();return{name:i,value:r}}function FG(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(i){var r=zG(i);t[r.name]=r.value}),t}var jG=FG,UG=RG,rM=NG,N3=m2,$G=jG,mb={};function VG(e){var t=mb[e.id];t&&(t.abort(),delete mb[e.id])}function GG(e,t){return new UG(e,{body:t.response,headers:$G(t.getAllResponseHeaders()),statusCode:t.status})}function sM(e){var t=e.total,i=e.loaded,r=100*i/t;return{total:t,transferred:i,percent:r}}function J4(e,t){return new Promise(function(i,r){t.onprogress=function(h){e.emitter.emit(N3.EVENT_PROGRESS_DOWNLOAD,sM(h))};var o=e.file;o&&(t.upload.onprogress=function(h){e.emitter.emit(N3.EVENT_PROGRESS_UPLOAD,sM(h))}),t.onerror=function(h){r(h)},t.onabort=function(){var h=new rM({request:e,type:N3.ERROR_REQUEST_ABORTED});r(h)},t.onload=function(){if(delete mb[e.id],t.status<200||t.status>=400){var h=new rM({request:e,body:t.response,statusCode:t.status});r(h);return}i(t)};var u=e.body;typeof u=="string"?t.send(u):u?t.send(JSON.stringify(u)):o?t.send(o):t.send(),mb[e.id]=t}).then(function(i){return GG(e,i)})}function Q4(e,t){var i=e.url(t),r=new window.XMLHttpRequest;return r.open(e.method,i),Object.keys(e.headers).forEach(function(o){r.setRequestHeader(o,e.headers[o])}),r}function HG(e){return Promise.resolve().then(function(){var t=Q4(e,e.client.accessToken);return J4(e,t)})}var WG={browserAbort:VG,sendRequestXhr:J4,browserSend:HG,createRequestXhr:Q4},gb={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */gb.exports;(function(e,t){(function(i){var r=t,o=e&&e.exports==r&&e,u=typeof ja=="object"&&ja;(u.global===u||u.window===u)&&(i=u);var h=function(O){this.message=O};h.prototype=new Error,h.prototype.name="InvalidCharacterError";var s=function(O){throw new h(O)},v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=/[\t\n\f\r ]/g,J=function(O){O=String(O).replace(I,"");var L=O.length;L%4==0&&(O=O.replace(/==?$/,""),L=O.length),(L%4==1||/[^+a-zA-Z0-9/]/.test(O))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var G=0,k,S,A="",H=-1;++H<L;)S=v.indexOf(O.charAt(H)),k=G%4?k*64+S:S,G++%4&&(A+=String.fromCharCode(255&k>>(-2*G&6)));return A},M=function(O){O=String(O),/[^\0-\xFF]/.test(O)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var L=O.length%3,G="",k=-1,S,A,H,U,E=O.length-L;++k<E;)S=O.charCodeAt(k)<<16,A=O.charCodeAt(++k)<<8,H=O.charCodeAt(++k),U=S+A+H,G+=v.charAt(U>>18&63)+v.charAt(U>>12&63)+v.charAt(U>>6&63)+v.charAt(U&63);return L==2?(S=O.charCodeAt(k)<<8,A=O.charCodeAt(++k),U=S+A,G+=v.charAt(U>>10)+v.charAt(U>>4&63)+v.charAt(U<<2&63)+"="):L==1&&(U=O.charCodeAt(k),G+=v.charAt(U>>2)+v.charAt(U<<4&63)+"=="),G},B={encode:M,decode:J,version:"0.1.0"};if(r&&!r.nodeType)if(o)o.exports=B;else for(var W in B)B.hasOwnProperty(W)&&(r[W]=B[W]);else i.base64=B})(ja)})(gb,gb.exports);var YG=gb.exports,qG=YG,z3={};function XG(e){if(z3[e])return z3[e];var t=e.split("."),i=t[0],r=t[1];if(!r)throw new Error("Invalid token");var o=ZG(r),u={usage:i,user:o.u};return P0(o,"a")&&(u.authorization=o.a),P0(o,"exp")&&(u.expires=o.exp*1e3),P0(o,"iat")&&(u.created=o.iat*1e3),P0(o,"scopes")&&(u.scopes=o.scopes),P0(o,"client")&&(u.client=o.client),P0(o,"ll")&&(u.lastLogin=o.ll),P0(o,"iu")&&(u.impersonator=o.iu),z3[e]=u,u}function ZG(e){try{return JSON.parse(qG.decode(e))}catch{throw new Error("Invalid token")}}function P0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var eP=XG,tP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function o(v,I,J){this.fn=v,this.context=I,this.once=J||!1}function u(v,I,J,M,B){if(typeof J!="function")throw new TypeError("The listener must be a function");var W=new o(J,M||v,B),O=i?i+I:I;return v._events[O]?v._events[O].fn?v._events[O]=[v._events[O],W]:v._events[O].push(W):(v._events[O]=W,v._eventsCount++),v}function h(v,I){--v._eventsCount===0?v._events=new r:delete v._events[I]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var I=[],J,M;if(this._eventsCount===0)return I;for(M in J=this._events)t.call(J,M)&&I.push(i?M.slice(1):M);return Object.getOwnPropertySymbols?I.concat(Object.getOwnPropertySymbols(J)):I},s.prototype.listeners=function(I){var J=i?i+I:I,M=this._events[J];if(!M)return[];if(M.fn)return[M.fn];for(var B=0,W=M.length,O=new Array(W);B<W;B++)O[B]=M[B].fn;return O},s.prototype.listenerCount=function(I){var J=i?i+I:I,M=this._events[J];return M?M.fn?1:M.length:0},s.prototype.emit=function(I,J,M,B,W,O){var L=i?i+I:I;if(!this._events[L])return!1;var G=this._events[L],k=arguments.length,S,A;if(G.fn){switch(G.once&&this.removeListener(I,G.fn,void 0,!0),k){case 1:return G.fn.call(G.context),!0;case 2:return G.fn.call(G.context,J),!0;case 3:return G.fn.call(G.context,J,M),!0;case 4:return G.fn.call(G.context,J,M,B),!0;case 5:return G.fn.call(G.context,J,M,B,W),!0;case 6:return G.fn.call(G.context,J,M,B,W,O),!0}for(A=1,S=new Array(k-1);A<k;A++)S[A-1]=arguments[A];G.fn.apply(G.context,S)}else{var H=G.length,U;for(A=0;A<H;A++)switch(G[A].once&&this.removeListener(I,G[A].fn,void 0,!0),k){case 1:G[A].fn.call(G[A].context);break;case 2:G[A].fn.call(G[A].context,J);break;case 3:G[A].fn.call(G[A].context,J,M);break;case 4:G[A].fn.call(G[A].context,J,M,B);break;default:if(!S)for(U=1,S=new Array(k-1);U<k;U++)S[U-1]=arguments[U];G[A].fn.apply(G[A].context,S)}}return!0},s.prototype.on=function(I,J,M){return u(this,I,J,M,!1)},s.prototype.once=function(I,J,M){return u(this,I,J,M,!0)},s.prototype.removeListener=function(I,J,M,B){var W=i?i+I:I;if(!this._events[W])return this;if(!J)return h(this,W),this;var O=this._events[W];if(O.fn)O.fn===J&&(!B||O.once)&&(!M||O.context===M)&&h(this,W);else{for(var L=0,G=[],k=O.length;L<k;L++)(O[L].fn!==J||B&&!O[L].once||M&&O[L].context!==M)&&G.push(O[L]);G.length?this._events[W]=G.length===1?G[0]:G:h(this,W)}return this},s.prototype.removeAllListeners=function(I){var J;return I?(J=i?i+I:I,this._events[J]&&h(this,J)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,e.exports=s})(tP);var KG=tP.exports;function JG(e){return e.map(encodeURIComponent).join(",")}function iP(e){return Array.isArray(e)?JG(e):encodeURIComponent(String(e))}function nP(e,t,i){if(i===!1||i===null)return e;var r=/\?/.test(e)?"&":"?",o=encodeURIComponent(t);return i!==void 0&&i!==""&&i!==!0&&(o+="="+iP(i)),""+e+r+o}function QG(e,t){if(!t)return e;var i=e;return Object.keys(t).forEach(function(r){var o=t[r];o!==void 0&&(Array.isArray(o)&&(o=o.filter(function(u){return u!=null}).join(",")),i=nP(i,r,o))}),i}function eH(e,t){if(!t||e.slice(0,4)==="http")return e;var i=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+i+e}function tH(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(i,r){var o=t[r];if(o===void 0)throw new Error("Unspecified route parameter "+r);var u=iP(o);return"/"+u}):e}var iH={appendQueryObject:QG,appendQueryParam:nP,prependOrigin:eH,interpolateRouteParams:tH},nH=eP,UC=Kg,rH=KG,_x=iH,oM=m2,sH=1;function Ef(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var i={};t.body&&(i["content-type"]="application/json");var r=UC(i,t.headers),o=Object.keys(r).reduce(function(u,h){return u[h.toLowerCase()]=r[h],u},{});this.id=sH++,this._options=t,this.emitter=new rH,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=o}Ef.prototype.url=function(t){var i=_x.prependOrigin(this.path,this.origin);i=_x.appendQueryObject(i,this.query);var r=this.params,o=t??this.client.accessToken;if(o){i=_x.appendQueryParam(i,"access_token",o);var u=nH(o).user;r=UC({ownerId:u},r)}return i=_x.interpolateRouteParams(i,r),i};Ef.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(i){return t.response=i,t.emitter.emit(oM.EVENT_RESPONSE,i),i},function(i){throw t.error=i,t.emitter.emit(oM.EVENT_ERROR,i),i})};Ef.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};Ef.prototype.eachPage=function(t){var i=this;function r(h){function s(){delete i._nextPageRequest;var v=h.nextPage();v&&(i._nextPageRequest=v,u(v))}t(null,h,s)}function o(h){t(h,null,function(){})}function u(h){h.send().then(r,o)}u(this)};Ef.prototype.clone=function(){return this._extend()};Ef.prototype._extend=function(t){var i=UC(this._options,t);return new Ef(this.client,i)};var oH=Ef,aH=eP,lH=oH,cH=m2;function rP(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");aH(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||cH.API_ORIGIN}rP.prototype.createRequest=function(t){return new lH(this,t)};var sP=rP,oP=WG,aP=sP;function Vg(e){aP.call(this,e)}Vg.prototype=Object.create(aP.prototype);Vg.prototype.constructor=Vg;Vg.prototype.sendRequest=oP.browserSend;Vg.prototype.abortRequest=oP.browserAbort;function uH(e){return new Vg(e)}var lP=uH,dH=lP,hH=dH,pH=Object.prototype.toString,fH=function(e){var t;return pH.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},mH=fH,gH=Kg,cP="value",F3=`
  `,_o={};_o.assert=function(e,t){return t=t||{},function(i){var r=Mf(e,i);if(r){var o=$C(r,t);throw t.apiName&&(o=t.apiName+": "+o),new Error(o)}}};_o.shape=function(t){var i=xH(t);return function(o){var u=Mf(_o.plainObject,o);if(u)return u;for(var h,s,v=[],I=0;I<i.length;I++)h=i[I].key,s=i[I].value,u=Mf(s,o[h]),u&&v.push([h].concat(u));return v.length<2?v[0]:function(J){v=v.map(function(W){var O=W[0],L=$C(W,J).split(`
`).join(F3);return"- "+O+": "+L});var M=J.path.join("."),B=M===cP?"":" of "+M;return"The following properties"+B+" have invalid values:"+F3+v.join(F3)}}};_o.strictShape=function(t){var i=_o.shape(t);return function(o){var u=i(o);if(u)return u;var h=Object.keys(o).reduce(function(s,v){return t[v]===void 0&&s.push(v),s},[]);if(h.length!==0)return function(){return"The following keys are invalid: "+h.join(", ")}}};_o.arrayOf=function(t){return uP(t)};_o.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return uP(t)};function uP(e){var t=Array.isArray(e),i=function(r){return t?e[r]:e};return function(o){var u=Mf(_o.plainArray,o);if(u)return u;if(t&&o.length!==e.length)return"an array with "+e.length+" items";for(var h=0;h<o.length;h++)if(u=Mf(i(h),o[h]),u)return[h].concat(u)}}_o.required=function(t){function i(r){return r==null?function(o){return dP(o,hP(o.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return i.__required=!0,i};_o.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(r){var o=t.map(function(u){return Mf(u,r)}).filter(Boolean);if(o.length===t.length)return o.every(function(u){return u.length===1&&typeof u[0]=="string"})?yH(o.map(function(u){return u[0]})):o.reduce(function(u,h){return h.length>u.length?h:u})}};_o.equal=function(t){return function(r){if(r!==t)return JSON.stringify(t)}};_o.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),i=t.map(function(r){return _o.equal(r)});return _o.oneOfType.apply(this,i)};_o.range=function(t){var i=t[0],r=t[1];return function(u){var h=Mf(_o.number,u);if(h||u<i||u>r)return"number between "+i+" & "+r+" (inclusive)"}};_o.any=function(){};_o.boolean=function(t){if(typeof t!="boolean")return"boolean"};_o.number=function(t){if(typeof t!="number")return"number"};_o.plainArray=function(t){if(!Array.isArray(t))return"array"};_o.plainObject=function(t){if(!mH(t))return"object"};_o.string=function(t){if(typeof t!="string")return"string"};_o.func=function(t){if(typeof t!="function")return"function"};function Mf(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var i=e(t);if(i)return Array.isArray(i)?i:[i]}}function $C(e,t){var i=e.length,r=e[i-1],o=e.slice(0,i-1);return o.length===0&&(o=[cP]),t=gH(t,{path:o}),typeof r=="function"?r(t):dP(t,_H(r))}function yH(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function _H(e){return"must be "+vH(e)+"."}function vH(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function dP(e,t){var i=hP(e.path),r=e.path.join(".")+" "+t,o=i?"Item at position ":"";return o+r}function hP(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function xH(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}_o.validate=Mf;_o.processMessage=$C;var bH=_o,wH=Kg,Dg=bH;function TH(e){if(typeof window<"u")return e instanceof ja.Blob||e instanceof ja.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function SH(e,t){return Dg.assert(Dg.strictShape(e),t)}function CH(e){var t="date";if(typeof e=="boolean")return t;try{var i=new Date(e);if(i.getTime&&isNaN(i.getTime()))return t}catch{return t}}function EH(e){return Dg.tuple(Dg.number,Dg.number)(e)}var MH=wH(Dg,{file:TH,date:CH,coordinates:EH,assertShape:SH});function kH(e,t){var i=function(r,o){return t.indexOf(r)!==-1&&o!==void 0};return typeof t=="function"&&(i=t),Object.keys(e).filter(function(r){return i(r,e[r])}).reduce(function(r,o){return r[o]=e[o],r},{})}var AH=kH;function PH(e,t){return Object.keys(e).reduce(function(i,r){return i[r]=t(r,e[r]),i},{})}var DH=PH,IH=DH;function LH(e){return IH(e,function(t,i){return typeof i=="boolean"?JSON.stringify(i):i})}var OH=LH,RH=sP,BH=lP;function NH(e){return function(t){var i;RH.prototype.isPrototypeOf(t)?i=t:i=BH(t);var r=Object.create(e);return r.client=i,r}}var zH=NH,pP=Kg,os=MH,yb=AH,fP=OH,FH=zH,VC={},mP=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];VC.forwardGeocode=function(e){os.assertShape({query:os.required(os.string),mode:os.oneOf("mapbox.places","mapbox.places-permanent"),countries:os.arrayOf(os.string),proximity:os.oneOf(os.coordinates,"ip"),types:os.arrayOf(os.oneOf(mP)),autocomplete:os.boolean,bbox:os.arrayOf(os.number),limit:os.number,language:os.arrayOf(os.string),routing:os.boolean,fuzzyMatch:os.boolean,worldview:os.string})(e),e.mode=e.mode||"mapbox.places";var t=fP(pP({country:e.countries},yb(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:yb(e,["mode","query"]),query:t})};VC.reverseGeocode=function(e){os.assertShape({query:os.required(os.coordinates),mode:os.oneOf("mapbox.places","mapbox.places-permanent"),countries:os.arrayOf(os.string),types:os.arrayOf(os.oneOf(mP)),bbox:os.arrayOf(os.number),limit:os.number,language:os.arrayOf(os.string),reverseMode:os.oneOf("distance","score"),routing:os.boolean,worldview:os.string})(e),e.mode=e.mode||"mapbox.places";var t=fP(pP({country:e.countries},yb(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:yb(e,["mode","query"]),query:t})};var jH=FH(VC);let UH="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",gP=e=>crypto.getRandomValues(new Uint8Array(e)),yP=(e,t,i)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(u=t)=>{let h="";for(;;){let s=i(o),v=o;for(;v--;)if(h+=e[s[v]&r]||"",h.length===u)return h}}},$H=(e,t=21)=>yP(e,t,gP),VH=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,i)=>(i&=63,i<36?t+=i.toString(36):i<62?t+=(i-26).toString(36).toUpperCase():i>62?t+="-":t+="_",t),"");const GH=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:$H,customRandom:yP,nanoid:VH,random:gP,urlAlphabet:UH},Symbol.toStringTag,{value:"Module"})),HH=wM(GH);var WH=HH.nanoid;function _P(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}_P.prototype={select:function(e,t){var i=this.getSelectedIndex(e,t),r=this.getEventPayload("search.select",t);if(r.resultIndex=i,r.resultPlaceName=e.place_name,r.resultId=e.id,!(i===this.lastSentIndex&&r.queryString===this.lastSentInput||i==-1)&&(this.lastSentIndex=i,this.lastSentInput=r.queryString,!!r.queryString))return this.push(r)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var i=this.getEventPayload("search.keystroke",t);if(i.lastAction=e.key,!!i.queryString)return this.push(i)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var i=this.getRequestOptions(e);this.request(i,(function(r){if(r)return this.handleError(r,t);if(t)return t()}).bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t){var i;t.options.proximity?typeof t.options.proximity=="object"?i=[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?i=[999,999]:i=t.options.proximity:i=null;var r=t._map?t._map.getZoom():void 0,o={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:i,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:r,keyboardLocale:this.locale};return e==="search.select"?o.queryString=t.inputString:e!="search.select"&&t._inputEl?o.queryString=t._inputEl.value:o.queryString=t.inputString,o},request:function(e,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},i.open(e.method,e.host+"/"+e.path,!0);for(var r in e.headers){var o=e.headers[r];i.setRequestHeader(r,o)}i.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return WH()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var i=t._typeahead.data,r=e.id,o=i.map(function(h){return h.id}),u=o.indexOf(r);return u}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var YH=_P,qH={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},XH={placeholder:qH},vP={exports:{}};(function(e){(function(t,i,r){e.exports?e.exports=r():t[i]=r()})(ja,"subtag",function(){var t="",i=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(v){return v.match(i)||[]}function o(v){return r(v).filter(function(I,J){return I&&J})}function u(v){return v=r(v),{language:v[1]||t,extlang:v[2]||t,script:v[3]||t,region:v[4]||t}}function h(v,I,J){Object.defineProperty(v,I,{value:J,enumerable:!0})}function s(v,I,J){function M(B){return r(B)[v]||t}h(M,"pattern",I),h(u,J,M)}return s(1,/^[a-zA-Z]{2,3}$/,"language"),s(2,/^[a-zA-Z]{3}$/,"extlang"),s(3,/^[a-zA-Z]{4}$/,"script"),s(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),h(u,"split",o),u})})(vP);var ZH=vP.exports;function xP(){}xP.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,i){window.navigator.geolocation.getCurrentPosition(t,i,e)})}};var KH=xP;function JH(e,t){const i=bP(e),r=["address","street","place","country"];var o;if(typeof t=="function")return t(i);const u=r.indexOf(t);return u===-1?o=r:o=r.slice(u),o.reduce(function(h,s){return i[s]?(h!==""&&(h=h+", "),h+i[s]):h},"")}function bP(e){const t=e.address||"",i=e.text||"",r=e.place_name||"",u={address:r.split(",")[0],houseNumber:t,street:i,placeName:r};return e.context.forEach(function(h){const s=h.id.split(".")[0];u[s]=h.text}),u}const QH=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var eW={transformFeatureToGeolocationText:JH,getAddressInfo:bP,REVERSE_GEOCODE_COORD_RGX:QH},tW=nG,iW=bG,L0=Kg,nW=kG.EventEmitter,aM=AG,j3=hH,U3=jH,rW=YH,sW=XH,oW=ZH,aW=KH,lM=eW;const nf={FORWARD:0,LOCAL:1,REVERSE:2};function lW(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function wP(e){this._eventEmitter=new nW,this.options=L0({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new aW}wP.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(i,r){if(!document.body.contains(r))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const o=i.onAdd();r.appendChild(o)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const i=document.querySelectorAll(e);if(i.length===0)throw new Error("Element ",e,"not found.");if(i.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,i[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=U3(j3({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new rW(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var i=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",iW(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",(function(I){this.eventManager.keyevent(I,this)}).bind(this));var r=document.createElement("div");r.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var o=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(o),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),t.appendChild(i),t.appendChild(this._inputEl),t.appendChild(r),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var u=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(u),r.appendChild(this._geolocateEl),this._showGeolocateButton()}var h=this._typeahead=new tW(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),h.getItemValue=this.options.getItemValue;var s=h.list.draw,v=this._footerNode=lW();return h.list.draw=function(){s.call(this),v.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),v.addEventListener("mouseup",(function(){this.selectingListItem=!1}).bind(this)),this.element.appendChild(v)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then((function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const i={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const r=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(r),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(i).send().then((function(r){const o=r.body.features[0];if(o){const u=lM.transformFeatureToGeolocationText(o,this.options.addressAccuracy);this._setInputValue(u),o.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:o})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}).bind(this))}).bind(this)).catch((function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}).bind(this))},createIcon:function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),i.setAttribute("viewBox","0 0 18 18"),i.setAttribute("xml:space","preserve"),i.setAttribute("width",18),i.setAttribute("height",18),i.innerHTML=t,i},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout((function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}).bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,i=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var r=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,o=r?r.value:"";if(!o)return this.fresh=!0,e.keyCode!==i&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[i,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&r.value.length>=this.options.minLength&&this._geocode(r.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&aM[e.properties.short_code])t=L0({},this.options.flyTo),this._map&&this._map.fitBounds(aM[e.properties.short_code].bbox,t);else if(e.bbox){var i=e.bbox;t=L0({},this.options.flyTo),this._map&&this._map.fitBounds([[i[0],i[1]],[i[2],i[3]]],t)}else{var r={zoom:this.options.zoom};t=L0({},r,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var i;return e.localGeocoderOnly?i=nf.LOCAL:e.reverseGeocode&&lM.REVERSE_GEOCODE_COORD_RGX.test(t)?i=nf.REVERSE:i=nf.FORWARD,i},_setupConfig:function(e,t){const i=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],r=/[\s,]+/;var o=this,u=i.reduce(function(s,v){if(o.options[v]===void 0||o.options[v]===null)return s;["countries","types","language"].indexOf(v)>-1?s[v]=o.options[v].split(r):s[v]=o.options[v];const I=typeof o.options[v].longitude=="number"&&typeof o.options[v].latitude=="number";if(v==="proximity"&&I){const J=o.options[v].longitude,M=o.options[v].latitude;s[v]=[J,M]}return s},{});switch(e){case nf.REVERSE:{var h=t.split(r).map(function(s){return parseFloat(s,10)});o.options.flipCoordinates||h.reverse(),u.types&&u.types[0],u=L0(u,{query:h,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(s){s in u&&delete u[s]})}break;case nf.FORWARD:{const s=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(s)&&(t=t.replace(/,/g," ")),u=L0(u,{query:t})}break}return u},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),i=this._setupConfig(t,e);var r;switch(t){case nf.LOCAL:r=Promise.resolve();break;case nf.FORWARD:r=this.geocoderService.forwardGeocode(i).send();break;case nf.REVERSE:r=this.geocoderService.reverseGeocode(i).send();break}var o=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],u=[],h=null;return r.catch((function(s){h=s}).bind(this)).then((function(s){this._hideLoadingIcon();var v={};return s?s.statusCode=="200"&&(v=s.body,v.request=s.request,v.headers=s.headers):v={type:"FeatureCollection",features:[]},v.config=i,this.fresh&&(this.eventManager.start(this),this.fresh=!1),v.features=v.features?o.concat(v.features):o,this.options.externalGeocoder?(u=this.options.externalGeocoder(e,v.features)||Promise.resolve([]),u.then(function(I){return v.features=v.features?I.concat(v.features):I,v},function(){return v})):v}).bind(this)).then((function(s){if(h)throw h;this.options.filter&&s.features.length&&(s.features=s.features.filter(this.options.filter)),s.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",s),this._typeahead.update(s.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",s))}).bind(this)).catch((function(s){this._hideLoadingIcon(),this._hideAttribution(),o.length&&this.options.localGeocoder||u.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(o)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:o}),this._eventEmitter.emit("error",{error:s})}).bind(this)),r},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var i=t.features[0];this._typeahead.selected=i,this._inputEl.value=i.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=oW.language(e),i=sW.placeholder[t];if(i)return i}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=U3(j3({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=U3(j3({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},i=L0({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(i),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var cW=wP;const uW=rd(cW);function dW(){return{map:Wc("mapbox-map")}}var $3=new Map,hW=/onMb([A-Z])(.+)/;function pW(e){return $3.has(e)||$3.set(e,e.replace(hW,(t,i,r)=>i.toLowerCase()+r)),$3.get(e)}function TP(e,t,i=[],r=null){const o=RS(),u=Ui(()=>Object.entries(o).filter(([I,J])=>I.startsWith("on")&&typeof J=="function").map(([I])=>I)),h=new Map;function s(I){Array.isArray(I)&&I.forEach(J=>{const M=h.get(J);typeof M=="function"&&M()})}function v(I){Array.isArray(I)&&I.forEach(J=>{const M=pW(J);if(!i.includes(M))return;const B=(...W)=>{e(`mb-${M}`,...W)};r?(Ft(t).on(M,r,B),h.set(J,()=>{Ft(t).off(M,r,B)})):(Ft(t).on(M,B),h.set(J,()=>{Ft(t).off(M,B)}))})}Zs(u,(I,J)=>{const M=Array.isArray(I)?(J??[]).filter(W=>!I.includes(W)):J??[],B=Array.isArray(J)?(I??[]).filter(W=>!J.includes(W)):I??[];if(Ft(t))s(M),v(B);else{const W=Zs(t,O=>{O&&(s(M),v(B),W())})}},{immediate:!0})}function fW(e){return e.charAt(0).toUpperCase()+e.slice(1)}function SP(e,t,i){function r(o){Object.keys(e).filter(u=>e[u]!==void 0&&e[u]!==null).forEach(u=>{var h,s;const v=u==="mapStyle"?"setStyle":`set${fW(u)}`,I=typeof o[v]=="function",J=typeof i[u]>"u"||"bind"in i[u]?(s=(h=i[u])==null?void 0:h.bind)!=null?s:!1:!0;if(!I||!J)return;const{type:M}=e[u],B={deep:M===Object||Array.isArray(M)&&M.includes(Object)};Zs(()=>e[u],W=>{o[v](W)},B)})}if(Ft(t))r(Ft(t));else{const o=Zs(t,u=>{u&&(r(u),o())})}}function mW(e,{propsConfig:t,props:i,emit:r,events:o=[]}){const{map:u}=dW(),h=Ki();return Array.isArray(o)&&o.length&&TP(r,h,o),typeof t<"u"&&SP(i,h,t),Zs(()=>i.position,s=>{Ft(u)&&Ft(u).removeControl(Ft(h)).addControl(Ft(h),s)}),zo(async()=>{const s=new e(i);Ft(u)&&Ft(u).addControl(s,i.position),await bc(),h.value=s}),yh(()=>{Ft(h)&&Ft(u)&&Ft(u).removeControl(Ft(h))}),{control:h,map:u}}var CP=(e,t)=>{const i=e.__vccOpts||e;for(const[r,o]of t)i[r]=o;return i};if(!Vl)throw new Error("mapboxgl is not installed.");if(!uW)throw new Error("MapboxGeocoder is not installed.");var gW={key:0},yW={key:1};if(!Vl)throw new Error("mapboxgl is not installed.");var{LngLatBounds:cM,LngLat:_W}=Vl,uM={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[cM,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[_W,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[cM,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},vW=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],xW={inheritAttrs:!1},bW=Object.assign(xW,{__name:"MapboxMap",props:uM,setup(e,{expose:t,emit:i}){const r=e,o=Ki();bf("mapbox-map",o);const u=Ki(),h=Ki(!1),s=Ui(()=>{const{accessToken:v,mapStyle:I,...J}=r;return!J.container&&u.value&&(J.container=u.value),{style:I,...J}});return TP(i,o,vW),SP(r,o,uM),zo(()=>{Vl.accessToken=r.accessToken,o.value=new Vl.Map(s.value),o.value.on("load",()=>{h.value=!0}),i("mb-created",o.value);const v=new ResizeObserver(()=>{o.value.resize()});v.observe(s.value.container),yh(()=>{v.disconnect(),o.value.remove()})}),t({map:o}),(v,I)=>(pt(),St(Qi,null,[je("div",Fs({ref_key:"root",ref:u},v.$attrs),null,16),h.value?(pt(),St("div",gW,[dn(v.$slots,"default")])):(pt(),St("div",yW,[dn(v.$slots,"loader")]))],64))}}),k_=CP(bW,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!Vl)throw new Error("mapboxgl is not installed.");var dM={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},wW={__name:"MapboxNavigationControl",props:dM,setup(e,{expose:t}){const i=e,{NavigationControl:r}=Vl,{control:o}=mW(r,{props:i,propsConfig:dM});return t({control:o}),(u,h)=>(pt(),St("div"))}},A_=CP(wW,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const Pr=(e,t)=>{const i=e.__vccOpts||e;for(const[r,o]of t)i[r]=o;return i},TW={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},SW={class:"ships-list position-absolute",ref:"cSearch"},CW={class:"card",style:{height:"100%"}},EW={class:"card-header search"},MW={action:"#",method:"get",style:{width:"100%"}},kW={class:"input-icon"},AW=sd('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),PW={class:"card-actions btn-actions"},DW={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},IW=je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),LW=je("polyline",{points:"15 6 9 12 15 18"},null,-1),OW=[IW,LW],RW={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},BW=je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),NW=je("polyline",{points:"6 9 12 15 18 9"},null,-1),zW=[BW,NW],FW={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},jW={class:"divide-y pointer"},UW=["onClick"],$W={class:"row"},VW=je("div",{class:"col-auto"},[je("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),GW={class:"col p-0"},HW={class:"text-truncate"},WW={class:"text-muted text-sm"},YW={key:0,class:"col-auto"},qW=je("div",{class:"badge bg-success"},null,-1),XW=je("span",{class:"text-xs ml-1"},"Online",-1),ZW={class:"text-xs"},KW={key:1,class:"col-auto"},JW=je("div",{class:"badge bg-danger"},null,-1),QW=je("span",{class:"text-xs ml-1"},"Offline",-1),eY={class:"text-xs"};function tY(e,t,i,r,o,u){return pt(),St("div",SW,[je("div",CW,[je("div",EW,[je("form",MW,[je("div",kW,[AW,Ks(je("input",{type:"text",onKeyup:t[0]||(t[0]=(...h)=>u.search&&u.search(...h)),"onUpdate:modelValue":t[1]||(t[1]=h=>o.keyword=h),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[Yc,o.keyword]])])]),je("div",PW,[je("a",{href:"#",class:"btn-action",onClick:t[2]||(t[2]=(...h)=>u.searchExpand&&u.searchExpand(...h))},[o.isExpand?hi("",!0):(pt(),St("svg",DW,OW)),o.isExpand?(pt(),St("svg",RW,zW)):hi("",!0)])])]),je("div",FW,[je("div",jW,[(pt(!0),St(Qi,null,ar(u.filters,h=>(pt(),St("div",{key:h.id,onClick:s=>u.selected(h)},[je("div",$W,[VW,je("div",GW,[je("div",HW,$i(h.name),1),je("div",WW,$i(h.imo_number),1)]),h.connected?(pt(),St("div",YW,[qW,XW,je("div",ZW,$i(e.$filters.dateformat(h.last_connection,"DD/MM HH:mm")),1)])):hi("",!0),h.connected?hi("",!0):(pt(),St("div",KW,[JW,QW,je("div",eY,$i(e.$filters.dateformat(h.last_connection,"DD/MM HH:mm")),1)]))])],8,UW))),128))])],512)])],512)}const EP=Pr(TW,[["render",tY]]),iY={data(){return{isExpand:!0,notifications:[{id:1,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:2,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:3,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:4,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:5,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:6,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:7,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:8,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Jg=e=>(Xc("data-v-cbda607e"),e=e(),Zc(),e),nY={class:"ships-notification",ref:"cSearch"},rY={class:"card",style:{height:"100%"}},sY={class:"card-header search"},oY=Jg(()=>je("h4",{class:"card-title"}," Active Notifications ",-1)),aY={class:"card-actions btn-actions"},lY={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},cY=Jg(()=>je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),uY=Jg(()=>je("polyline",{points:"15 6 9 12 15 18"},null,-1)),dY=[cY,uY],hY={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},pY=Jg(()=>je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),fY=Jg(()=>je("polyline",{points:"6 9 12 15 18 9"},null,-1)),mY=[pY,fY],gY={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},yY={class:"divide-y"},_Y=sd('<div class="notif-status" data-v-cbda607e><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/alarm.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Alarm</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/volume.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>4</span></div><div data-v-cbda607e>Warning</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/caution.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Caution</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/info-blue.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Info</div></div></div>',1),vY={class:"row"},xY=Jg(()=>je("div",{class:"col-auto"},[je("img",{src:"img/icons/caution.png",alt:"",width:"20"})],-1)),bY={class:"col"},wY={class:"fw-bold"},TY={class:"text-sm"};function SY(e,t,i,r,o,u){return pt(),St("div",nY,[je("div",rY,[je("div",sY,[oY,je("div",aY,[je("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...h)=>u.notifExpand&&u.notifExpand(...h))},[o.isExpand?hi("",!0):(pt(),St("svg",lY,dY)),o.isExpand?(pt(),St("svg",hY,mY)):hi("",!0)])])]),je("div",gY,[je("div",yY,[_Y,(pt(!0),St(Qi,null,ar(o.notifications,h=>(pt(),St("div",{key:h.id,class:"py-2 border-bottom border-white"},[je("div",vY,[xY,je("div",bY,[je("div",wY,$i(h.title),1),Yr(" "+$i(h.desc)+" ",1),je("div",TY,$i(h.date),1)])])]))),128))])],512)])],512)}const MP=Pr(iY,[["render",SY],["__scopeId","data-v-cbda607e"]]),CY={},EY={class:"ships-records"},MY=sd('<div class="card" data-v-b06cef02><div class="card-header" data-v-b06cef02><div class="text-center" data-v-b06cef02><img src="img/singapore.png" alt="" data-v-b06cef02><div class="text-white" data-v-b06cef02>PRO</div></div><div class="w-100 d-flex align-items-start justify-content-between" data-v-b06cef02><div class="card-title" data-v-b06cef02><div data-v-b06cef02>Widuri</div><small class="text-white" data-v-b06cef02>Fleet II</small></div><div class="card-status" data-v-b06cef02><div class="status-box bg-online" data-v-b06cef02></div><div class="text-white" data-v-b06cef02>Online</div></div></div></div><div class="card-body" data-v-b06cef02><div data-v-b06cef02>under way using engine</div><div class="d-flex align-items-center justify-content-between" data-v-b06cef02><div data-v-b06cef02>ATD 27/5</div><div data-v-b06cef02>ETA 10/6</div></div><div class="d-flex align-items-center justify-content-between mb-3" data-v-b06cef02><div data-v-b06cef02>Singapura</div><div data-v-b06cef02>Jakarta</div></div><div class="ships-route-ltr" data-v-b06cef02></div></div></div>',1),kY=[MY];function AY(e,t,i,r,o,u){return pt(),St("div",EY,kY)}const kP=Pr(CY,[["render",AY],["__scopeId","data-v-b06cef02"]]),PY={},DY={class:"ships-navigations"},IY=sd('<div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div><div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div>',2),LY=[IY];function OY(e,t,i,r,o,u){return pt(),St("div",DY,LY)}const AP=Pr(PY,[["render",OY],["__scopeId","data-v-23fc79b0"]]),RY={},BY={class:"ships-camera"},NY=sd('<a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Front View</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a><a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Bridge</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a>',2),zY=[NY];function FY(e,t,i,r,o,u){return pt(),St("div",BY,zY)}const PP=Pr(RY,[["render",FY],["__scopeId","data-v-34ce2568"]]),jY={data(){return{isExpand:!0,parameter:[{id:1,title:"SPEED THROUGH WATER",value:"13.8",format:"KNOTS"},{id:2,title:"SPEED OVER GROUND",value:"14.9",format:"KNOTS"},{id:3,title:"ME SHAFT POWER",value:"4852",format:"KW"},{id:4,title:"ME RPM",value:"95",format:"RPM"},{id:5,title:"ME FO",value:"26.5",format:"FO"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Of=e=>(Xc("data-v-82e529c6"),e=e(),Zc(),e),UY={class:"ships-parameter",ref:"cSearch"},$Y={class:"card",style:{height:"100%"}},VY={class:"card-header search"},GY=Of(()=>je("h4",{class:"card-title"}," KEY PARAMETER ",-1)),HY={class:"card-actions btn-actions"},WY={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},YY=Of(()=>je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),qY=Of(()=>je("polyline",{points:"15 6 9 12 15 18"},null,-1)),XY=[YY,qY],ZY={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},KY=Of(()=>je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),JY=Of(()=>je("polyline",{points:"6 9 12 15 18 9"},null,-1)),QY=[KY,JY],eq={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},tq={class:"divide-y"},iq=Of(()=>je("ul",{class:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist"},[je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"DAILY AVG")]),je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"PRESENT VALUES")])],-1)),nq={class:"tab-content",id:"pills-tabContent"},rq={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},sq={class:"row align-items-center"},oq={class:"col-6"},aq={class:"fw-bold"},lq={class:"col-6 text-center"},cq={class:"fw-normal"},uq={class:"text-sm"},dq=Of(()=>je("div",{class:"py-2 border-bottom border-white"},[je("div",{class:"row align-items-center"},[je("div",{class:"col-12"},[je("div",{class:""},"NOTE: Daily average is calculated at 12 PM UTC")])])],-1)),hq=Of(()=>je("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"}," ... ",-1));function pq(e,t,i,r,o,u){return pt(),St("div",UY,[je("div",$Y,[je("div",VY,[GY,je("div",HY,[je("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...h)=>u.notifExpand&&u.notifExpand(...h))},[o.isExpand?hi("",!0):(pt(),St("svg",WY,XY)),o.isExpand?(pt(),St("svg",ZY,QY)):hi("",!0)])])]),je("div",eq,[je("div",tq,[iq,je("div",nq,[je("div",rq,[(pt(!0),St(Qi,null,ar(o.parameter,h=>(pt(),St("div",{key:h.id,class:"py-2 border-bottom border-white"},[je("div",sq,[je("div",oq,[je("div",aq,$i(h.title),1)]),je("div",lq,[je("h2",cq,$i(h.value),1),je("div",uq,$i(h.format),1)])])]))),128)),dq]),hq])])],512)])],512)}const DP=Pr(jY,[["render",pq],["__scopeId","data-v-82e529c6"]]);var fq=["second","minute","hour","day","week","month","year"];function mq(e,t){if(t===0)return["just now","right now"];var i=fq[Math.floor(t/2)];return e>1&&(i+="s"),[e+" "+i+" ago","in "+e+" "+i]}var gq=["秒","分钟","小时","天","周","个月","年"];function yq(e,t){if(t===0)return["刚刚","片刻后"];var i=gq[~~(t/2)];return[e+" "+i+"前",e+" "+i+"后"]}var GT={},IP=function(e,t){GT[e]=t},_q=function(e){return GT[e]||GT.en_US},V3=[60,60,24,7,365/7/12,12];function hM(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function vq(e,t){var i=e<0?1:0;e=Math.abs(e);for(var r=e,o=0;e>=V3[o]&&o<V3.length;o++)e/=V3[o];return e=Math.floor(e),o*=2,e>(o===0?9:1)&&(o+=1),t(e,o,r)[i].replace("%s",e.toString())}function xq(e,t){var i=t?hM(t):new Date;return(+i-+hM(e))/1e3}var Gg=function(e,t,i){var r=xq(e,i&&i.relativeDate);return vq(r,_q(t))};IP("en_US",mq);IP("zh_CN",yq);const bq="/build/assets/blue-a08778d1.png",wq="/build/assets/green-fc37c2da.png",Tq="/build/assets/red-81ec77e5.png",Sq="/build/assets/yellow-bbf4eb24.png",Cq="/build/assets/purple-47482fdf.png",Eq={components:{},props:{fleets:Array},data(){return{fleetsGroup:[],colors:{at_port:"#004BFF",underway:"#56B745",lost_connection:"#E13711",at_anchorage:"#F1D244",other:"#A32B7C"},icons:{at_port:{name:"At Port",img:"/icon/blue.png"},underway:{img:"/icon/green.png",name:"Underway"},lost_connection:{img:"/icon/red.png",name:"Lost Connection"},at_anchorage:{img:"/icon/yellow.png",name:"At Anchorage"},other:{img:"/icon/purple.png",name:"Other"}}}},watch:{fleets:function(e,t){let i=vb.groupBy(e,({fleet_status:o})=>o);this.fleetsGroup=[];let r=this;Object.keys(this.colors).forEach(function(o){let u=typeof i[o]>"u"?0:i[o].length;r.fleetsGroup.push({value:u,color:r.colors[o],label:o,name:r.icons[o].name,img:r.icons[o].img})})}},methods:{}},Mq=e=>(Xc("data-v-76dc3bd4"),e=e(),Zc(),e),kq={class:"lengend"},Aq={class:"card"},Pq=Mq(()=>je("div",{class:"card-header"},[je("div",{class:"title"},"Fleets Information")],-1)),Dq={class:"card-body row"},Iq={class:"col-5"},Lq={class:"fleet-count"},Oq={class:"col-7"},Rq=["src"];function Bq(e,t,i,r,o,u){const h=dr("vc-donut");return pt(),St("div",kq,[je("div",Aq,[Pq,je("div",Dq,[je("div",Iq,[i.fleets?(pt(),mr(h,{key:0,size:100,sections:o.fleetsGroup,unit:"%",total:i.fleets.length,"auto-adjust-text-size":!0},{default:Hn(()=>[je("div",Lq,$i(i.fleets.length),1),Yr(" Vessels ")]),_:1},8,["sections","total"])):hi("",!0)]),je("div",Oq,[(pt(!0),St(Qi,null,ar(o.fleetsGroup,s=>(pt(),St("div",{key:s.label},[je("img",{src:s.img},null,8,Rq),Yr(" "+$i(s.name)+" ("+$i(s.value)+") ",1)]))),128))])])])])}const Nq=Pr(Eq,[["render",Bq],["__scopeId","data-v-76dc3bd4"]]),zq={props:{fleets:Array},data(){return{keyword:null,headers:[{text:"Vessel Name",value:"name"},{text:"Vessel State",value:"fleet_status"},{text:"Connection",value:"connected"},{text:"Course",value:"navigation.cog"},{text:"Speed (kn)",value:"navigation.sog"},{text:"Origin",value:"voyage.origin"},{text:"Destination",value:"voyage.destination"},{text:"ETA",value:"voyage.eta"}],items:[]}}},Fq={class:"fleets-list"},jq={class:"card"},Uq={class:"card-header search"},$q={action:"#",method:"get",style:{width:"300px"}},Vq={class:"input-icon"},Gq=sd('<span class="input-icon-addon" data-v-1fe652bc><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-v-1fe652bc><path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-1fe652bc></path><circle cx="10" cy="10" r="7" data-v-1fe652bc></circle><line x1="21" y1="21" x2="15" y2="15" data-v-1fe652bc></line></svg></span>',1),Hq={class:"card-table table-responsive"};function Wq(e,t,i,r,o,u){const h=dr("EasyDataTable");return pt(),St("div",Fq,[je("div",jq,[je("div",Uq,[je("form",$q,[je("div",Vq,[Gq,Ks(je("input",{type:"text",onKeyup:t[0]||(t[0]=(...s)=>e.search&&e.search(...s)),"onUpdate:modelValue":t[1]||(t[1]=s=>o.keyword=s),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[Yc,o.keyword]])])])]),je("div",Hq,[sn(h,{"search-field":"q","search-value":o.keyword,"buttons-pagination":"",headers:o.headers,items:i.fleets},null,8,["search-value","headers","items"])])])])}const Yq=Pr(zq,[["render",Wq],["__scopeId","data-v-1fe652bc"]]);window.mapboxgl=Vl;const qq={components:{"x-search":EP,"x-notification":MP,"x-records":kP,"x-navigation":AP,"x-camera":PP,"x-parameter":DP,"x-legend":Nq,MapboxMap:k_,MapboxNavigationControl:A_,fleetTable:Yq},data(){return{weatherKey:"dfc256782db426c6a8d3b8daaefa5b33",weathers:[],icons:{at_port:bq,underway:wq,lost_connection:Tq,at_anchorage:Sq,other:Cq},map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null,fleet:null,showSideInfo:!1,fleets_point:{type:"FeatureCollection",features:[]},fleetsGroup:[]}},mounted(){this.timer=setInterval(()=>{this.refreshData()},5*1e3);let e=this;Object.keys(this.icons).forEach(function(t){e.map.loadImage(e.icons[t],(i,r)=>{if(i)throw i;e.map.addImage(t,r)})}),this.popup=new Vl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async fetchData(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,this.fleets_point.features=[],e.forEach(t=>{if(t.navigation){let i=t.fleet_status;this.fleets_point.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.navigation.lng,t.navigation.lat]},properties:{scale:1,id:t.id,heading:t.navigation.heading,name:t.name,image:t.image,status:t.fleet_status,icon:i,depth:t.navigation.depth,sog:t.navigation.sog,cog:t.navigation.cog,imo:t.imo_number,last_update:Gg(t.last_connection)}})}})},async loaded(){await this.fetchData(),this.buildLayer()},async refreshData(){await this.fetchData();let e=await this.map.getSource("ship-position");e&&e.setData(this.fleets_point)},buildLayer(){let e=this;this.map.addSource("ship-position",{type:"geojson",data:this.fleets_point}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-position",layout:{"icon-image":["get","icon"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.12,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const t=new Vl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","ship-position",i=>{let r=i.features[0].properties.id;e.showInfo(r)}),this.map.on("mouseenter","ship-position",i=>{e.map.getCanvas().style.cursor="pointer";const r=i.features[0].geometry.coordinates.slice(),o=`<b>${i.features[0].properties.name} [ID]</b> at ${i.features[0].properties.sog} <b>kn</b> / ${i.features[0].properties.cog}&deg;<br>last update: <b>${i.features[0].properties.last_update}</b>`;for(;Math.abs(i.lngLat.lng-r[0])>180;)r[0]+=i.lngLat.lng>r[0]?360:-360;t.setLngLat(r).setHTML(o).addTo(e.map)}),this.map.on("mouseleave","ship-position",()=>{e.map.getCanvas().style.cursor="",t.remove()})},async buildWeathers(){const u=[];for(let I=0;I<10;I++)for(let J=0;J<10;J++)u.push({lat:-80+I*(80- -80)/10,lng:-180+J*(180- -180)/10,val:0,wind:{},weather:{}});const h="https://api.openweathermap.org/data/2.5/weather?units=metric&lat=",s=u.map(I=>h+I.lat+"&lon="+I.lng+"&appid="+this.weatherKey),v=await Promise.all(s.map(async I=>(await fetch(I)).text()));u.forEach((I,J)=>{let M=JSON.parse(v[J]);I.val=M.main.temp,I.wind=M.wind,I.weather=M.weather[0]}),this.weathers=u},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const i=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Gg(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(i).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},showInfo(e){let t=this.fleets.findIndex(function(i){return i.id===e});t>=0&&(this.fleet=this.fleets[t],this.showSideInfo=!0)},buildTrack(e){console.log(e)}}},Xq={class:"position-relative"},Zq={class:"pointer-info",ref:"pointerInfo"};function Kq(e,t,i,r,o,u){const h=dr("x-search"),s=dr("fleet-side-info"),v=dr("x-legend"),I=dr("MapboxNavigationControl"),J=dr("MapboxMap"),M=dr("fleet-table");return pt(),St(Qi,null,[je("div",Xq,[sn(h,{fleets:o.fleets,onSelected:u.findFleet},null,8,["fleets","onSelected"]),o.fleet?(pt(),mr(s,{key:0,fleet:o.fleet,display:o.showSideInfo,onClose:t[0]||(t[0]=B=>o.showSideInfo=!1),onHistory:u.buildTrack},null,8,["fleet","display","onHistory"])):hi("",!0),je("div",Zq,null,512),sn(v,{fleets:o.fleets},null,8,["fleets"]),sn(J,{onMbCreated:t[1]||(t[1]=B=>o.map=B),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:o.center,zoom:o.zoom},{default:Hn(()=>[sn(I,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])]),sn(M,{fleets:o.fleets},null,8,["fleets"])],64)}const Jq=Pr(qq,[["render",Kq]]),GC="/build/assets/ship-c94d8078.png",Qq=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],eX={components:{MapboxMap:k_,MapboxNavigationControl:A_},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,t={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},i={type:"FeatureCollection",features:[]};Qq.forEach((u,h)=>{this.current&&this.calcCrow(this.current[1],this.current[0],u.lat,u.lng)>20||(t.geometry.coordinates.push([u.lng,u.lat]),i.features.push({type:"Feature",properties:{cog:u.cog,sog:u.sog,time:u.terminal_time,lat:u.lat,lng:u.lng,heading:u.heading},geometry:{type:"Point",coordinates:[u.lng,u.lat]}}),this.current=[u.lng,u.lat],this.items.push(u))}),this.map.addSource("route",{type:"geojson",data:t}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:i}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const r=new Vl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",u=>{let h=u.features[0].properties;this.positionShip(h)}),this.map.on("mouseenter","points",u=>{e.map.getCanvas().style.cursor="pointer";const h=u.features[0].geometry.coordinates.slice(),s=`<b>Lat : ${u.features[0].properties.lat} | Lng: ${u.features[0].properties.lng}</b> at ${u.features[0].properties.sog} <b>kn</b> / ${u.features[0].properties.cog}&deg;<br>time: <b>${u.features[0].properties.time}</b>`;for(;Math.abs(u.lngLat.lng-h[0])>180;)h[0]+=u.lngLat.lng>h[0]?360:-360;r.setLngLat(h).setHTML(s).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",r.remove()}),this.map.loadImage(GC,(u,h)=>{if(u)throw u;e.map.addImage("ship-icon",h)});let o=this.items[this.items.length-1];this.positionShip({heading:o.heading,lng:o.lng,lat:o.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},calcCrow(s,t,v,r){var o=6371,u=this.toRad(v-s),h=this.toRad(r-t),s=this.toRad(s),v=this.toRad(v),I=Math.sin(u/2)*Math.sin(u/2)+Math.sin(h/2)*Math.sin(h/2)*Math.cos(s)*Math.cos(v),J=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I)),M=o*J;return M},toRad(e){return e*Math.PI/180}}},tX={class:"row g-0"},iX={class:"col-9"},nX={class:"position-relative"},rX={class:"pointer-info",ref:"pointerInfo"},sX={class:"col-3"},oX=sd('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),aX={class:"information"},lX={class:"histories"},cX={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},uX=je("thead",null,[je("tr",null,[je("th",null,"Time"),je("th",null,"Lon"),je("th",null,"Lat"),je("th",null,"Speed")])],-1),dX=["onClick"];function hX(e,t,i,r,o,u){const h=dr("MapboxNavigationControl"),s=dr("MapboxMap");return pt(),St("div",tX,[je("div",iX,[je("div",nX,[je("div",rX,null,512),sn(s,{onMbCreated:t[0]||(t[0]=v=>o.map=v),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[105.987732,-5.898973],zoom:7},{default:Hn(()=>[sn(h,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])]),je("div",sX,[oX,je("div",aX,[je("div",lX,[je("table",cX,[uX,je("tbody",null,[(pt(!0),St(Qi,null,ar(o.items,v=>(pt(),St("tr",{key:v.id,onClick:I=>u.toPotition(v),class:"pointer"},[je("td",null,$i(e.$filters.dateformat(v.terminal_time)),1),je("td",null,$i(e.$filters.str_limit(v.lng,7))+"°",1),je("td",null,$i(e.$filters.str_limit(v.lat,6))+"°",1),je("td",null,$i(v.sog),1)],8,dX))),128))])])])])])])}const pX=Pr(eX,[["render",hX]]),fX={components:{MapboxMap:k_,MapboxNavigationControl:A_},props:{fleet:Object,style:Object,sidebar:Boolean},data(){return{map:null,current:[],timer:null,popup:new Vl.Popup({closeButton:!0,closeOnClick:!1}),histories:[]}},mounted(){this.map.loadImage(GC,(e,t)=>{if(e)throw e;this.map.addImage("ship-icon",t)})},methods:{setHistory(e){this.histories=e;let t=this;this.current.length>0&&this.map.getLayer("route")!=="undefined"&&this.map.getLayer("points")!=="undefined"&&(this.map.removeLayer("route"),this.map.removeSource("route"),this.map.removeLayer("points"),this.map.removeSource("points"));let i={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},r={type:"FeatureCollection",features:[]};this.histories.forEach((s,v)=>{i.geometry.coordinates.push([s.lng,s.lat]),r.features.push({type:"Feature",properties:{cog:s.cog,sog:s.sog,time:s.terminal_time,lat:s.lat,lng:s.lng,heading:s.heading},geometry:{type:"Point",coordinates:[s.lng,s.lat]}}),this.current=[s.lng,s.lat]}),this.map.addSource("route",{type:"geojson",data:i}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),this.map.addSource("points",{type:"geojson",data:r}),this.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const o=new Vl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",s=>{let v=s.features[0].properties;this.positionShip(v)}),this.map.on("mouseenter","points",s=>{t.map.getCanvas().style.cursor="pointer";const v=s.features[0].geometry.coordinates.slice(),I=`<b>Lat : ${s.features[0].properties.lat} | Lng: ${s.features[0].properties.lng}</b> at ${s.features[0].properties.sog} <b>kn</b> / ${s.features[0].properties.cog}&deg;<br>time: <b>${s.features[0].properties.time}</b>`;for(;Math.abs(s.lngLat.lng-v[0])>180;)v[0]+=s.lngLat.lng>v[0]?360:-360;o.setLngLat(v).setHTML(I).addTo(t.map)}),this.map.on("mouseleave","points",()=>{t.map.getCanvas().style.cursor="",o.remove()});let u=this.histories[this.histories.length-1],h=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:u});this.positionShip(h)},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},loaded(){this.positionShip(this.fleet)},toPotition(e){let t=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:e});this.positionShip(t)},positionShip(e){if(!e.navigation)return;typeof this.map.getLayer("ship-position")<"u"&&this.map.removeLayer("ship-position").removeSource("ship-points"),this.map.addSource("ship-points",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Gg(e.navigation.terminal_time)}}]}}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-points",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.popup.remove();const i=`<b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Gg(e.navigation.updated_at)}</b>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(i).addTo(this.map)}}},mX={class:"position-relative overflow-hidden"},gX={class:"pointer-info",ref:"pointerInfo"};function yX(e,t,i,r,o,u){const h=dr("map-voyage"),s=dr("MapboxNavigationControl"),v=dr("MapboxMap");return pt(),St("div",mX,[sn(h,{fleet:i.fleet,onHistory:u.setHistory,onSelected:u.toPotition,display:i.sidebar},null,8,["fleet","onHistory","onSelected","display"]),je("div",gX,null,512),sn(v,{onMbCreated:t[0]||(t[0]=I=>o.map=I),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:ea(i.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[i.fleet.navigation.lng,i.fleet.navigation.lat],zoom:7},{default:Hn(()=>[sn(s,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","style","center"])])}const _X=Pr(fX,[["render",yX]]),vX={props:{fleet:Object,display:Boolean},data(){return{params:{from:null,to:null,interval:900},histories:[]}},methods:{async fetchData(){this.histories=[],(await axios.get(`/api/fleet/${this.fleet.id}/nav/histories`,{params:this.params}).then(t=>t.data)).forEach(t=>{t.lat==0&&t.lng==0||this.histories.push(t)}),this.$emit("history",this.histories)},toggleText(){this.display=!this.display},selected(e){this.$emit("selected",e)}}},xX={class:"voyage-section"},bX={key:0,class:"card voyage-card"},wX={class:"card-header justify-content-between"},TX=["src"],SX=je("h5",{class:"fw-normal m-0"},"Voyage",-1),CX={class:"card-body"},EX=je("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-center active",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")]),je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-center",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),MX={class:"tab-content",id:"pills-tabContent"},kX={class:"tab-pane fade show active",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},AX={class:"mb-4"},PX={class:"form-group mb-3"},DX=je("label",{for:"startDateInput"},"Start Date",-1),IX={class:"form-group mb-3"},LX=je("label",{for:"endDateInput"},"End Date",-1),OX=je("h6",{class:"text-primary"},"GENERATE REPORT",-1),RX={class:"table text-sm"},BX=je("thead",null,[je("tr",null,[je("th",{scope:"col"},"Time"),je("th",{scope:"col"},"Lon"),je("th",{scope:"col"},"Lat"),je("th",{scope:"col"},"Speed")])],-1),NX=["onClick"],zX={scope:"row"},FX=je("div",{class:"tab-pane fade",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},null,-1),jX=["src"];function UX(e,t,i,r,o,u){return pt(),St("div",xX,[i.display?(pt(),St("div",bX,[je("div",wX,[je("button",{onClick:t[0]||(t[0]=h=>i.display=!i.display),class:"btn btn-link bg-transparent p-0"},[je("img",{src:"/img/icons/close-fill.png",alt:""},null,8,TX)]),SX]),je("div",CX,[EX,je("div",MX,[je("div",kX,[je("div",AX,[je("div",PX,[DX,Ks(je("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=h=>o.params.from=h),class:"form-control",id:"startDateInput"},null,512),[[Yc,o.params.from]])]),je("div",IX,[LX,Ks(je("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=h=>o.params.to=h),class:"form-control",id:"endDateInput"},null,512),[[Yc,o.params.to]])]),je("button",{onClick:t[3]||(t[3]=(...h)=>u.fetchData&&u.fetchData(...h)),class:"btn btn-outline-primary w-100"},"SHOW")]),OX,je("table",RX,[BX,je("tbody",null,[(pt(!0),St(Qi,null,ar(o.histories,h=>(pt(),St("tr",{onClick:s=>u.selected(h),key:h.id},[je("td",zX,$i(e.$filters.dateformat(h.terminal_time,"DD/MM/YY HH:mm")),1),je("td",null,$i(h.lng.toFixed(2))+"°",1),je("td",null,$i(h.lat.toFixed(2))+"°",1),je("td",null,$i(h.sog),1)],8,NX))),128))])])]),FX])])])):hi("",!0),je("button",{onClick:t[4]||(t[4]=h=>i.display=!i.display),class:"btn btn-light btn-open"},[je("img",{src:"/img/icons/location-circle.png",alt:""},null,8,jX),Yr(" Show fleet Track ")])])}const $X=Pr(vX,[["render",UX]]),VX={},GX={class:"ships-cctv"},HX=sd('<div class="card" data-v-3e327a0d><div class="card-header" data-v-3e327a0d><div class="card-title" data-v-3e327a0d><div data-v-3e327a0d>Bridge</div></div><div class="card-status" data-v-3e327a0d><a href="#" data-v-3e327a0d><img src="img/icons/fullscreen.png" alt="" data-v-3e327a0d> Fullscreen </a><a href="#" data-v-3e327a0d> Esc to exit </a></div></div><div class="card-body" data-v-3e327a0d><img src="img/image-1.png" alt="" class="w-100" data-v-3e327a0d></div></div>',1),WX=[HX];function YX(e,t,i,r,o,u){return pt(),St("div",GX,WX)}const qX=Pr(VX,[["render",YX],["__scopeId","data-v-3e327a0d"]]),XX={components:{"x-search":EP,"x-notification":MP,"x-records":kP,"x-navigation":AP,"x-camera":PP,"x-parameter":DP,"x-cctv":qX,MapboxMap:k_,MapboxNavigationControl:A_},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(GC,(e,t)=>{if(e)throw e;this.map.addImage("ship",t)}),this.popup=new Vl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(t=>{this.positionShip(t)})},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const i=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Gg(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(i).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let t=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Gg(e.navigation.updated_at)}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const r=new Vl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,o=>{let u=o.features[0].properties.id;location.href=`/fleet/${u}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,o=>{t.map.getCanvas().style.cursor="pointer";const u=o.features[0].geometry.coordinates.slice(),h=`<b>${o.features[0].properties.name} [ID]</b> at ${o.features[0].properties.sog} <b>kn</b> / ${o.features[0].properties.cog}&deg;<br>last update: <b>${o.features[0].properties.last_update}</b>`;for(;Math.abs(o.lngLat.lng-u[0])>180;)u[0]+=o.lngLat.lng>u[0]?360:-360;r.setLngLat(u).setHTML(h).addTo(t.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{t.map.getCanvas().style.cursor="",r.remove()})}}},ZX={class:"position-relative"};function KX(e,t,i,r,o,u){const h=dr("x-records"),s=dr("x-navigation"),v=dr("x-camera"),I=dr("x-notification"),J=dr("x-parameter"),M=dr("x-cctv"),B=dr("MapboxNavigationControl"),W=dr("MapboxMap");return pt(),St("div",ZX,[sn(h),sn(s),sn(v),sn(I),sn(J),sn(M),sn(W,{onMbCreated:t[0]||(t[0]=O=>o.map=O),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:{height:"calc(100vh - 0px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:o.center,zoom:o.zoom},{default:Hn(()=>[sn(B,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const JX=Pr(XX,[["render",KX]]);function pM(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function HC(e={},t={}){Object.keys(t).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:pM(t[i])&&pM(e[i])&&Object.keys(t[i]).length>0&&HC(e[i],t[i])})}const LP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function lm(){const e=typeof document<"u"?document:{};return HC(e,LP),e}const QX={document:LP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Eu(){const e=typeof window<"u"?window:{};return HC(e,QX),e}function eZ(e){const t=e;Object.keys(t).forEach(i=>{try{t[i]=null}catch{}try{delete t[i]}catch{}})}function HT(e,t=0){return setTimeout(e,t)}function _b(){return Date.now()}function tZ(e){const t=Eu();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}function iZ(e,t="x"){const i=Eu();let r,o,u;const h=tZ(e);return i.WebKitCSSMatrix?(o=h.transform||h.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(s=>s.replace(",",".")).join(", ")),u=new i.WebKitCSSMatrix(o==="none"?"":o)):(u=h.MozTransform||h.OTransform||h.MsTransform||h.msTransform||h.transform||h.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=u.toString().split(",")),t==="x"&&(i.WebKitCSSMatrix?o=u.m41:r.length===16?o=parseFloat(r[12]):o=parseFloat(r[4])),t==="y"&&(i.WebKitCSSMatrix?o=u.m42:r.length===16?o=parseFloat(r[13]):o=parseFloat(r[5])),o||0}function vx(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function nZ(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function yu(...e){const t=Object(e[0]),i=["__proto__","constructor","prototype"];for(let r=1;r<e.length;r+=1){const o=e[r];if(o!=null&&!nZ(o)){const u=Object.keys(Object(o)).filter(h=>i.indexOf(h)<0);for(let h=0,s=u.length;h<s;h+=1){const v=u[h],I=Object.getOwnPropertyDescriptor(o,v);I!==void 0&&I.enumerable&&(vx(t[v])&&vx(o[v])?o[v].__swiper__?t[v]=o[v]:yu(t[v],o[v]):!vx(t[v])&&vx(o[v])?(t[v]={},o[v].__swiper__?t[v]=o[v]:yu(t[v],o[v])):t[v]=o[v])}}}return t}function xx(e,t,i){e.style.setProperty(t,i)}function OP({swiper:e,targetPosition:t,side:i}){const r=Eu(),o=-e.translate;let u=null,h;const s=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const v=t>o?"next":"prev",I=(M,B)=>v==="next"&&M>=B||v==="prev"&&M<=B,J=()=>{h=new Date().getTime(),u===null&&(u=h);const M=Math.max(Math.min((h-u)/s,1),0),B=.5-Math.cos(M*Math.PI)/2;let W=o+B*(t-o);if(I(W,t)&&(W=t),e.wrapperEl.scrollTo({[i]:W}),I(W,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:W})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(J)};J()}function fh(e,t=""){return[...e.children].filter(i=>i.matches(t))}function WC(e,t=[]){const i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:[t]),i}function rZ(e,t){const i=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&i.push(r):i.push(r),e=r}return i}function sZ(e,t){const i=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&i.push(r):i.push(r),e=r}return i}function lf(e,t){return Eu().getComputedStyle(e,null).getPropertyValue(t)}function WT(e){let t=e,i;if(t){for(i=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(i+=1);return i}}function oZ(e,t){const i=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&i.push(r):i.push(r),r=r.parentElement;return i}function fM(e,t,i){const r=Eu();return i?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let G3;function aZ(){const e=Eu(),t=lm();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function RP(){return G3||(G3=aZ()),G3}let H3;function lZ({userAgent:e}={}){const t=RP(),i=Eu(),r=i.navigator.platform,o=e||i.navigator.userAgent,u={ios:!1,android:!1},h=i.screen.width,s=i.screen.height,v=o.match(/(Android);?[\s\/]+([\d.]+)?/);let I=o.match(/(iPad).*OS\s([\d_]+)/);const J=o.match(/(iPod)(.*OS\s([\d_]+))?/),M=!I&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),B=r==="Win32";let W=r==="MacIntel";const O=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!I&&W&&t.touch&&O.indexOf(`${h}x${s}`)>=0&&(I=o.match(/(Version)\/([\d.]+)/),I||(I=[0,1,"13_0_0"]),W=!1),v&&!B&&(u.os="android",u.android=!0),(I||M||J)&&(u.os="ios",u.ios=!0),u}function cZ(e={}){return H3||(H3=lZ(e)),H3}let W3;function uZ(){const e=Eu();let t=!1;function i(){const r=e.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(i()){const r=String(e.navigator.userAgent);if(r.includes("Version/")){const[o,u]=r.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));t=o<16||o===16&&u<2}}return{isSafari:t||i(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function dZ(){return W3||(W3=uZ()),W3}function hZ({swiper:e,on:t,emit:i}){const r=Eu();let o=null,u=null;const h=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},s=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(J=>{u=r.requestAnimationFrame(()=>{const{width:M,height:B}=e;let W=M,O=B;J.forEach(({contentBoxSize:L,contentRect:G,target:k})=>{k&&k!==e.el||(W=G?G.width:(L[0]||L).inlineSize,O=G?G.height:(L[0]||L).blockSize)}),(W!==M||O!==B)&&h()})}),o.observe(e.el))},v=()=>{u&&r.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},I=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){s();return}r.addEventListener("resize",h),r.addEventListener("orientationchange",I)}),t("destroy",()=>{v(),r.removeEventListener("resize",h),r.removeEventListener("orientationchange",I)})}function pZ({swiper:e,extendParams:t,on:i,emit:r}){const o=[],u=Eu(),h=(I,J={})=>{const M=u.MutationObserver||u.WebkitMutationObserver,B=new M(W=>{if(e.__preventObserver__)return;if(W.length===1){r("observerUpdate",W[0]);return}const O=function(){r("observerUpdate",W[0])};u.requestAnimationFrame?u.requestAnimationFrame(O):u.setTimeout(O,0)});B.observe(I,{attributes:typeof J.attributes>"u"?!0:J.attributes,childList:typeof J.childList>"u"?!0:J.childList,characterData:typeof J.characterData>"u"?!0:J.characterData}),o.push(B)},s=()=>{if(e.params.observer){if(e.params.observeParents){const I=oZ(e.el);for(let J=0;J<I.length;J+=1)h(I[J])}h(e.el,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},v=()=>{o.forEach(I=>{I.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",s),i("destroy",v)}const fZ={on(e,t,i){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const o=i?"unshift":"push";return e.split(" ").forEach(u=>{r.eventsListeners[u]||(r.eventsListeners[u]=[]),r.eventsListeners[u][o](t)}),r},once(e,t,i){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function o(...u){r.off(e,o),o.__emitterProxy&&delete o.__emitterProxy,t.apply(r,u)}return o.__emitterProxy=t,r.on(e,o,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[r](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed||!i.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?i.eventsListeners[r]=[]:i.eventsListeners[r]&&i.eventsListeners[r].forEach((o,u)=>{(o===t||o.__emitterProxy&&o.__emitterProxy===t)&&i.eventsListeners[r].splice(u,1)})}),i},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let i,r,o;return typeof e[0]=="string"||Array.isArray(e[0])?(i=e[0],r=e.slice(1,e.length),o=t):(i=e[0].events,r=e[0].data,o=e[0].context||t),r.unshift(o),(Array.isArray(i)?i:i.split(" ")).forEach(h=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(s=>{s.apply(o,[h,...r])}),t.eventsListeners&&t.eventsListeners[h]&&t.eventsListeners[h].forEach(s=>{s.apply(o,r)})}),t}};function mZ(){const e=this;let t,i;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?i=e.params.height:i=r.clientHeight,!(t===0&&e.isHorizontal()||i===0&&e.isVertical())&&(t=t-parseInt(lf(r,"padding-left")||0,10)-parseInt(lf(r,"padding-right")||0,10),i=i-parseInt(lf(r,"padding-top")||0,10)-parseInt(lf(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))}function gZ(){const e=this;function t(j){return e.isHorizontal()?j:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[j]}function i(j,w){return parseFloat(j.getPropertyValue(t(w))||0)}const r=e.params,{wrapperEl:o,slidesEl:u,size:h,rtlTranslate:s,wrongRTL:v}=e,I=e.virtual&&r.virtual.enabled,J=I?e.virtual.slides.length:e.slides.length,M=fh(u,`.${e.params.slideClass}, swiper-slide`),B=I?e.virtual.slides.length:M.length;let W=[];const O=[],L=[];let G=r.slidesOffsetBefore;typeof G=="function"&&(G=r.slidesOffsetBefore.call(e));let k=r.slidesOffsetAfter;typeof k=="function"&&(k=r.slidesOffsetAfter.call(e));const S=e.snapGrid.length,A=e.slidesGrid.length;let H=r.spaceBetween,U=-G,E=0,ie=0;if(typeof h>"u")return;typeof H=="string"&&H.indexOf("%")>=0?H=parseFloat(H.replace("%",""))/100*h:typeof H=="string"&&(H=parseFloat(H)),e.virtualSize=-H,M.forEach(j=>{s?j.style.marginLeft="":j.style.marginRight="",j.style.marginBottom="",j.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(xx(o,"--swiper-centered-offset-before",""),xx(o,"--swiper-centered-offset-after",""));const ee=r.grid&&r.grid.rows>1&&e.grid;ee&&e.grid.initSlides(B);let $;const V=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(j=>typeof r.breakpoints[j].slidesPerView<"u").length>0;for(let j=0;j<B;j+=1){$=0;let w;if(M[j]&&(w=M[j]),ee&&e.grid.updateSlide(j,w,B,t),!(M[j]&&lf(w,"display")==="none")){if(r.slidesPerView==="auto"){V&&(M[j].style[t("width")]="");const D=getComputedStyle(w),m=w.style.transform,g=w.style.webkitTransform;if(m&&(w.style.transform="none"),g&&(w.style.webkitTransform="none"),r.roundLengths)$=e.isHorizontal()?fM(w,"width",!0):fM(w,"height",!0);else{const x=i(D,"width"),P=i(D,"padding-left"),X=i(D,"padding-right"),Y=i(D,"margin-left"),K=i(D,"margin-right"),le=D.getPropertyValue("box-sizing");if(le&&le==="border-box")$=x+Y+K;else{const{clientWidth:pe,offsetWidth:fe}=w;$=x+P+X+Y+K+(fe-pe)}}m&&(w.style.transform=m),g&&(w.style.webkitTransform=g),r.roundLengths&&($=Math.floor($))}else $=(h-(r.slidesPerView-1)*H)/r.slidesPerView,r.roundLengths&&($=Math.floor($)),M[j]&&(M[j].style[t("width")]=`${$}px`);M[j]&&(M[j].swiperSlideSize=$),L.push($),r.centeredSlides?(U=U+$/2+E/2+H,E===0&&j!==0&&(U=U-h/2-H),j===0&&(U=U-h/2-H),Math.abs(U)<1/1e3&&(U=0),r.roundLengths&&(U=Math.floor(U)),ie%r.slidesPerGroup===0&&W.push(U),O.push(U)):(r.roundLengths&&(U=Math.floor(U)),(ie-Math.min(e.params.slidesPerGroupSkip,ie))%e.params.slidesPerGroup===0&&W.push(U),O.push(U),U=U+$+H),e.virtualSize+=$+H,E=$,ie+=1}}if(e.virtualSize=Math.max(e.virtualSize,h)+k,s&&v&&(r.effect==="slide"||r.effect==="coverflow")&&(o.style.width=`${e.virtualSize+H}px`),r.setWrapperSize&&(o.style[t("width")]=`${e.virtualSize+H}px`),ee&&e.grid.updateWrapperSize($,W,t),!r.centeredSlides){const j=[];for(let w=0;w<W.length;w+=1){let D=W[w];r.roundLengths&&(D=Math.floor(D)),W[w]<=e.virtualSize-h&&j.push(D)}W=j,Math.floor(e.virtualSize-h)-Math.floor(W[W.length-1])>1&&W.push(e.virtualSize-h)}if(I&&r.loop){const j=L[0]+H;if(r.slidesPerGroup>1){const w=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),D=j*r.slidesPerGroup;for(let m=0;m<w;m+=1)W.push(W[W.length-1]+D)}for(let w=0;w<e.virtual.slidesBefore+e.virtual.slidesAfter;w+=1)r.slidesPerGroup===1&&W.push(W[W.length-1]+j),O.push(O[O.length-1]+j),e.virtualSize+=j}if(W.length===0&&(W=[0]),H!==0){const j=e.isHorizontal()&&s?"marginLeft":t("marginRight");M.filter((w,D)=>!r.cssMode||r.loop?!0:D!==M.length-1).forEach(w=>{w.style[j]=`${H}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let j=0;L.forEach(D=>{j+=D+(H||0)}),j-=H;const w=j-h;W=W.map(D=>D<0?-G:D>w?w+k:D)}if(r.centerInsufficientSlides){let j=0;if(L.forEach(w=>{j+=w+(H||0)}),j-=H,j<h){const w=(h-j)/2;W.forEach((D,m)=>{W[m]=D-w}),O.forEach((D,m)=>{O[m]=D+w})}}if(Object.assign(e,{slides:M,snapGrid:W,slidesGrid:O,slidesSizesGrid:L}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){xx(o,"--swiper-centered-offset-before",`${-W[0]}px`),xx(o,"--swiper-centered-offset-after",`${e.size/2-L[L.length-1]/2}px`);const j=-e.snapGrid[0],w=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(D=>D+j),e.slidesGrid=e.slidesGrid.map(D=>D+w)}if(B!==J&&e.emit("slidesLengthChange"),W.length!==S&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),O.length!==A&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!I&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const j=`${r.containerModifierClass}backface-hidden`,w=e.el.classList.contains(j);B<=r.maxBackfaceHiddenSlides?w||e.el.classList.add(j):w&&e.el.classList.remove(j)}}function yZ(e){const t=this,i=[],r=t.virtual&&t.params.virtual.enabled;let o=0,u;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const h=s=>r?t.slides[t.getSlideIndexByData(s)]:t.slides[s];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(s=>{i.push(s)});else for(u=0;u<Math.ceil(t.params.slidesPerView);u+=1){const s=t.activeIndex+u;if(s>t.slides.length&&!r)break;i.push(h(s))}else i.push(h(t.activeIndex));for(u=0;u<i.length;u+=1)if(typeof i[u]<"u"){const s=i[u].offsetHeight;o=s>o?s:o}(o||o===0)&&(t.wrapperEl.style.height=`${o}px`)}function _Z(){const e=this,t=e.slides,i=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-i-e.cssOverflowAdjustment()}function vZ(e=this&&this.translate||0){const t=this,i=t.params,{slides:r,rtlTranslate:o,snapGrid:u}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let h=-e;o&&(h=e),r.forEach(v=>{v.classList.remove(i.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let s=i.spaceBetween;typeof s=="string"&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*t.size:typeof s=="string"&&(s=parseFloat(s));for(let v=0;v<r.length;v+=1){const I=r[v];let J=I.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(J-=r[0].swiperSlideOffset);const M=(h+(i.centeredSlides?t.minTranslate():0)-J)/(I.swiperSlideSize+s),B=(h-u[0]+(i.centeredSlides?t.minTranslate():0)-J)/(I.swiperSlideSize+s),W=-(h-J),O=W+t.slidesSizesGrid[v];(W>=0&&W<t.size-1||O>1&&O<=t.size||W<=0&&O>=t.size)&&(t.visibleSlides.push(I),t.visibleSlidesIndexes.push(v),r[v].classList.add(i.slideVisibleClass)),I.progress=o?-M:M,I.originalProgress=o?-B:B}}function xZ(e){const t=this;if(typeof e>"u"){const J=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*J||0}const i=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:u,isEnd:h,progressLoop:s}=t;const v=u,I=h;if(r===0)o=0,u=!0,h=!0;else{o=(e-t.minTranslate())/r;const J=Math.abs(e-t.minTranslate())<1,M=Math.abs(e-t.maxTranslate())<1;u=J||o<=0,h=M||o>=1,J&&(o=0),M&&(o=1)}if(i.loop){const J=t.getSlideIndexByData(0),M=t.getSlideIndexByData(t.slides.length-1),B=t.slidesGrid[J],W=t.slidesGrid[M],O=t.slidesGrid[t.slidesGrid.length-1],L=Math.abs(e);L>=B?s=(L-B)/O:s=(L+O-W)/O,s>1&&(s-=1)}Object.assign(t,{progress:o,progressLoop:s,isBeginning:u,isEnd:h}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),u&&!v&&t.emit("reachBeginning toEdge"),h&&!I&&t.emit("reachEnd toEdge"),(v&&!u||I&&!h)&&t.emit("fromEdge"),t.emit("progress",o)}function bZ(){const e=this,{slides:t,params:i,slidesEl:r,activeIndex:o}=e,u=e.virtual&&i.virtual.enabled,h=v=>fh(r,`.${i.slideClass}${v}, swiper-slide${v}`)[0];t.forEach(v=>{v.classList.remove(i.slideActiveClass,i.slideNextClass,i.slidePrevClass)});let s;if(u)if(i.loop){let v=o-e.virtual.slidesBefore;v<0&&(v=e.virtual.slides.length+v),v>=e.virtual.slides.length&&(v-=e.virtual.slides.length),s=h(`[data-swiper-slide-index="${v}"]`)}else s=h(`[data-swiper-slide-index="${o}"]`);else s=t[o];if(s){s.classList.add(i.slideActiveClass);let v=sZ(s,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!v&&(v=t[0]),v&&v.classList.add(i.slideNextClass);let I=rZ(s,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!I===0&&(I=t[t.length-1]),I&&I.classList.add(i.slidePrevClass)}e.emitSlidesClasses()}const Bx=(e,t)=>{if(!e||e.destroyed||!e.params)return;const i=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(i());if(r){const o=r.querySelector(`.${e.params.lazyPreloaderClass}`);o&&o.remove()}},mM=(e,t)=>{if(!e.slides[t])return;const i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},YT=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),o=e.activeIndex,u=o+r-1;if(e.params.rewind)for(let h=o-t;h<=u+t;h+=1){const s=(h%i+i)%i;s!==o&&s>u&&mM(e,s)}else for(let h=Math.max(u-t,0);h<=Math.min(u+t,i-1);h+=1)h!==o&&h>u&&mM(e,h)};function wZ(e){const{slidesGrid:t,params:i}=e,r=e.rtlTranslate?e.translate:-e.translate;let o;for(let u=0;u<t.length;u+=1)typeof t[u+1]<"u"?r>=t[u]&&r<t[u+1]-(t[u+1]-t[u])/2?o=u:r>=t[u]&&r<t[u+1]&&(o=u+1):r>=t[u]&&(o=u);return i.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function TZ(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:o,activeIndex:u,realIndex:h,snapIndex:s}=t;let v=e,I;const J=B=>{let W=B-t.virtual.slidesBefore;return W<0&&(W=t.virtual.slides.length+W),W>=t.virtual.slides.length&&(W-=t.virtual.slides.length),W};if(typeof v>"u"&&(v=wZ(t)),r.indexOf(i)>=0)I=r.indexOf(i);else{const B=Math.min(o.slidesPerGroupSkip,v);I=B+Math.floor((v-B)/o.slidesPerGroup)}if(I>=r.length&&(I=r.length-1),v===u){I!==s&&(t.snapIndex=I,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=J(v));return}let M;t.virtual&&o.virtual.enabled&&o.loop?M=J(v):t.slides[v]?M=parseInt(t.slides[v].getAttribute("data-swiper-slide-index")||v,10):M=v,Object.assign(t,{previousSnapIndex:s,snapIndex:I,previousRealIndex:h,realIndex:M,previousIndex:u,activeIndex:v}),t.initialized&&YT(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),h!==M&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function SZ(e){const t=this,i=t.params,r=e.closest(`.${i.slideClass}, swiper-slide`);let o=!1,u;if(r){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===r){o=!0,u=h;break}}if(r&&o)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const CZ={updateSize:mZ,updateSlides:gZ,updateAutoHeight:yZ,updateSlidesOffset:_Z,updateSlidesProgress:vZ,updateProgress:xZ,updateSlidesClasses:bZ,updateActiveIndex:TZ,updateClickedSlide:SZ};function EZ(e=this.isHorizontal()?"x":"y"){const t=this,{params:i,rtlTranslate:r,translate:o,wrapperEl:u}=t;if(i.virtualTranslate)return r?-o:o;if(i.cssMode)return o;let h=iZ(u,e);return h+=t.cssOverflowAdjustment(),r&&(h=-h),h||0}function MZ(e,t){const i=this,{rtlTranslate:r,params:o,wrapperEl:u,progress:h}=i;let s=0,v=0;const I=0;i.isHorizontal()?s=r?-e:e:v=e,o.roundLengths&&(s=Math.floor(s),v=Math.floor(v)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?s:v,o.cssMode?u[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-s:-v:o.virtualTranslate||(i.isHorizontal()?s-=i.cssOverflowAdjustment():v-=i.cssOverflowAdjustment(),u.style.transform=`translate3d(${s}px, ${v}px, ${I}px)`);let J;const M=i.maxTranslate()-i.minTranslate();M===0?J=0:J=(e-i.minTranslate())/M,J!==h&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)}function kZ(){return-this.snapGrid[0]}function AZ(){return-this.snapGrid[this.snapGrid.length-1]}function PZ(e=0,t=this.params.speed,i=!0,r=!0,o){const u=this,{params:h,wrapperEl:s}=u;if(u.animating&&h.preventInteractionOnTransition)return!1;const v=u.minTranslate(),I=u.maxTranslate();let J;if(r&&e>v?J=v:r&&e<I?J=I:J=e,u.updateProgress(J),h.cssMode){const M=u.isHorizontal();if(t===0)s[M?"scrollLeft":"scrollTop"]=-J;else{if(!u.support.smoothScroll)return OP({swiper:u,targetPosition:-J,side:M?"left":"top"}),!0;s.scrollTo({[M?"left":"top"]:-J,behavior:"smooth"})}return!0}return t===0?(u.setTransition(0),u.setTranslate(J),i&&(u.emit("beforeTransitionStart",t,o),u.emit("transitionEnd"))):(u.setTransition(t),u.setTranslate(J),i&&(u.emit("beforeTransitionStart",t,o),u.emit("transitionStart")),u.animating||(u.animating=!0,u.onTranslateToWrapperTransitionEnd||(u.onTranslateToWrapperTransitionEnd=function(B){!u||u.destroyed||B.target===this&&(u.wrapperEl.removeEventListener("transitionend",u.onTranslateToWrapperTransitionEnd),u.onTranslateToWrapperTransitionEnd=null,delete u.onTranslateToWrapperTransitionEnd,i&&u.emit("transitionEnd"))}),u.wrapperEl.addEventListener("transitionend",u.onTranslateToWrapperTransitionEnd))),!0}const DZ={getTranslate:EZ,setTranslate:MZ,minTranslate:kZ,maxTranslate:AZ,translateTo:PZ};function IZ(e,t){const i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${e}ms`),i.emit("setTransition",e,t)}function BP({swiper:e,runCallbacks:t,direction:i,step:r}){const{activeIndex:o,previousIndex:u}=e;let h=i;if(h||(o>u?h="next":o<u?h="prev":h="reset"),e.emit(`transition${r}`),t&&o!==u){if(h==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),h==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function LZ(e=!0,t){const i=this,{params:r}=i;r.cssMode||(r.autoHeight&&i.updateAutoHeight(),BP({swiper:i,runCallbacks:e,direction:t,step:"Start"}))}function OZ(e=!0,t){const i=this,{params:r}=i;i.animating=!1,!r.cssMode&&(i.setTransition(0),BP({swiper:i,runCallbacks:e,direction:t,step:"End"}))}const RZ={setTransition:IZ,transitionStart:LZ,transitionEnd:OZ};function BZ(e=0,t=this.params.speed,i=!0,r,o){typeof e=="string"&&(e=parseInt(e,10));const u=this;let h=e;h<0&&(h=0);const{params:s,snapGrid:v,slidesGrid:I,previousIndex:J,activeIndex:M,rtlTranslate:B,wrapperEl:W,enabled:O}=u;if(u.animating&&s.preventInteractionOnTransition||!O&&!r&&!o)return!1;const L=Math.min(u.params.slidesPerGroupSkip,h);let G=L+Math.floor((h-L)/u.params.slidesPerGroup);G>=v.length&&(G=v.length-1);const k=-v[G];if(s.normalizeSlideIndex)for(let A=0;A<I.length;A+=1){const H=-Math.floor(k*100),U=Math.floor(I[A]*100),E=Math.floor(I[A+1]*100);typeof I[A+1]<"u"?H>=U&&H<E-(E-U)/2?h=A:H>=U&&H<E&&(h=A+1):H>=U&&(h=A)}if(u.initialized&&h!==M&&(!u.allowSlideNext&&k<u.translate&&k<u.minTranslate()||!u.allowSlidePrev&&k>u.translate&&k>u.maxTranslate()&&(M||0)!==h))return!1;h!==(J||0)&&i&&u.emit("beforeSlideChangeStart"),u.updateProgress(k);let S;if(h>M?S="next":h<M?S="prev":S="reset",B&&-k===u.translate||!B&&k===u.translate)return u.updateActiveIndex(h),s.autoHeight&&u.updateAutoHeight(),u.updateSlidesClasses(),s.effect!=="slide"&&u.setTranslate(k),S!=="reset"&&(u.transitionStart(i,S),u.transitionEnd(i,S)),!1;if(s.cssMode){const A=u.isHorizontal(),H=B?k:-k;if(t===0){const U=u.virtual&&u.params.virtual.enabled;U&&(u.wrapperEl.style.scrollSnapType="none",u._immediateVirtual=!0),U&&!u._cssModeVirtualInitialSet&&u.params.initialSlide>0?(u._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{W[A?"scrollLeft":"scrollTop"]=H})):W[A?"scrollLeft":"scrollTop"]=H,U&&requestAnimationFrame(()=>{u.wrapperEl.style.scrollSnapType="",u._immediateVirtual=!1})}else{if(!u.support.smoothScroll)return OP({swiper:u,targetPosition:H,side:A?"left":"top"}),!0;W.scrollTo({[A?"left":"top"]:H,behavior:"smooth"})}return!0}return u.setTransition(t),u.setTranslate(k),u.updateActiveIndex(h),u.updateSlidesClasses(),u.emit("beforeTransitionStart",t,r),u.transitionStart(i,S),t===0?u.transitionEnd(i,S):u.animating||(u.animating=!0,u.onSlideToWrapperTransitionEnd||(u.onSlideToWrapperTransitionEnd=function(H){!u||u.destroyed||H.target===this&&(u.wrapperEl.removeEventListener("transitionend",u.onSlideToWrapperTransitionEnd),u.onSlideToWrapperTransitionEnd=null,delete u.onSlideToWrapperTransitionEnd,u.transitionEnd(i,S))}),u.wrapperEl.addEventListener("transitionend",u.onSlideToWrapperTransitionEnd)),!0}function NZ(e=0,t=this.params.speed,i=!0,r){typeof e=="string"&&(e=parseInt(e,10));const o=this;let u=e;return o.params.loop&&(o.virtual&&o.params.virtual.enabled?u=u+o.virtual.slidesBefore:u=o.getSlideIndexByData(u)),o.slideTo(u,t,i,r)}function zZ(e=this.params.speed,t=!0,i){const r=this,{enabled:o,params:u,animating:h}=r;if(!o)return r;let s=u.slidesPerGroup;u.slidesPerView==="auto"&&u.slidesPerGroup===1&&u.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));const v=r.activeIndex<u.slidesPerGroupSkip?1:s,I=r.virtual&&u.virtual.enabled;if(u.loop){if(h&&!I&&u.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return u.rewind&&r.isEnd?r.slideTo(0,e,t,i):r.slideTo(r.activeIndex+v,e,t,i)}function FZ(e=this.params.speed,t=!0,i){const r=this,{params:o,snapGrid:u,slidesGrid:h,rtlTranslate:s,enabled:v,animating:I}=r;if(!v)return r;const J=r.virtual&&o.virtual.enabled;if(o.loop){if(I&&!J&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const M=s?r.translate:-r.translate;function B(k){return k<0?-Math.floor(Math.abs(k)):Math.floor(k)}const W=B(M),O=u.map(k=>B(k));let L=u[O.indexOf(W)-1];if(typeof L>"u"&&o.cssMode){let k;u.forEach((S,A)=>{W>=S&&(k=A)}),typeof k<"u"&&(L=u[k>0?k-1:k])}let G=0;if(typeof L<"u"&&(G=h.indexOf(L),G<0&&(G=r.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(G=G-r.slidesPerViewDynamic("previous",!0)+1,G=Math.max(G,0))),o.rewind&&r.isBeginning){const k=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(k,e,t,i)}return r.slideTo(G,e,t,i)}function jZ(e=this.params.speed,t=!0,i){const r=this;return r.slideTo(r.activeIndex,e,t,i)}function UZ(e=this.params.speed,t=!0,i,r=.5){const o=this;let u=o.activeIndex;const h=Math.min(o.params.slidesPerGroupSkip,u),s=h+Math.floor((u-h)/o.params.slidesPerGroup),v=o.rtlTranslate?o.translate:-o.translate;if(v>=o.snapGrid[s]){const I=o.snapGrid[s],J=o.snapGrid[s+1];v-I>(J-I)*r&&(u+=o.params.slidesPerGroup)}else{const I=o.snapGrid[s-1],J=o.snapGrid[s];v-I<=(J-I)*r&&(u-=o.params.slidesPerGroup)}return u=Math.max(u,0),u=Math.min(u,o.slidesGrid.length-1),o.slideTo(u,e,t,i)}function $Z(){const e=this,{params:t,slidesEl:i}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let o=e.clickedIndex,u;const h=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;u=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-r/2||o>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),o=e.getSlideIndex(fh(i,`${h}[data-swiper-slide-index="${u}"]`)[0]),HT(()=>{e.slideTo(o)})):e.slideTo(o):o>e.slides.length-r?(e.loopFix(),o=e.getSlideIndex(fh(i,`${h}[data-swiper-slide-index="${u}"]`)[0]),HT(()=>{e.slideTo(o)})):e.slideTo(o)}else e.slideTo(o)}const VZ={slideTo:BZ,slideToLoop:NZ,slideNext:zZ,slidePrev:FZ,slideReset:jZ,slideToClosest:UZ,slideToClickedSlide:$Z};function GZ(e){const t=this,{params:i,slidesEl:r}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;fh(r,`.${i.slideClass}, swiper-slide`).forEach((u,h)=>{u.setAttribute("data-swiper-slide-index",h)}),t.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next"})}function HZ({slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:o,byController:u,byMousewheel:h}={}){const s=this;if(!s.params.loop)return;s.emit("beforeLoopFix");const{slides:v,allowSlidePrev:I,allowSlideNext:J,slidesEl:M,params:B}=s;if(s.allowSlidePrev=!0,s.allowSlideNext=!0,s.virtual&&B.virtual.enabled){t&&(!B.centeredSlides&&s.snapIndex===0?s.slideTo(s.virtual.slides.length,0,!1,!0):B.centeredSlides&&s.snapIndex<B.slidesPerView?s.slideTo(s.virtual.slides.length+s.snapIndex,0,!1,!0):s.snapIndex===s.snapGrid.length-1&&s.slideTo(s.virtual.slidesBefore,0,!1,!0)),s.allowSlidePrev=I,s.allowSlideNext=J,s.emit("loopFix");return}const W=B.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(B.slidesPerView,10));let O=B.loopedSlides||W;O%B.slidesPerGroup!==0&&(O+=B.slidesPerGroup-O%B.slidesPerGroup),s.loopedSlides=O;const L=[],G=[];let k=s.activeIndex;typeof o>"u"?o=s.getSlideIndex(s.slides.filter(E=>E.classList.contains(B.slideActiveClass))[0]):k=o;const S=i==="next"||!i,A=i==="prev"||!i;let H=0,U=0;if(o<O){H=Math.max(O-o,B.slidesPerGroup);for(let E=0;E<O-o;E+=1){const ie=E-Math.floor(E/v.length)*v.length;L.push(v.length-ie-1)}}else if(o>s.slides.length-O*2){U=Math.max(o-(s.slides.length-O*2),B.slidesPerGroup);for(let E=0;E<U;E+=1){const ie=E-Math.floor(E/v.length)*v.length;G.push(ie)}}if(A&&L.forEach(E=>{s.slides[E].swiperLoopMoveDOM=!0,M.prepend(s.slides[E]),s.slides[E].swiperLoopMoveDOM=!1}),S&&G.forEach(E=>{s.slides[E].swiperLoopMoveDOM=!0,M.append(s.slides[E]),s.slides[E].swiperLoopMoveDOM=!1}),s.recalcSlides(),B.slidesPerView==="auto"&&s.updateSlides(),B.watchSlidesProgress&&s.updateSlidesOffset(),t){if(L.length>0&&A)if(typeof e>"u"){const E=s.slidesGrid[k],ee=s.slidesGrid[k+H]-E;h?s.setTranslate(s.translate-ee):(s.slideTo(k+H,0,!1,!0),r&&(s.touches[s.isHorizontal()?"startX":"startY"]+=ee))}else r&&s.slideToLoop(e,0,!1,!0);else if(G.length>0&&S)if(typeof e>"u"){const E=s.slidesGrid[k],ee=s.slidesGrid[k-U]-E;h?s.setTranslate(s.translate-ee):(s.slideTo(k-U,0,!1,!0),r&&(s.touches[s.isHorizontal()?"startX":"startY"]+=ee))}else s.slideToLoop(e,0,!1,!0)}if(s.allowSlidePrev=I,s.allowSlideNext=J,s.controller&&s.controller.control&&!u){const E={slideRealIndex:e,slideTo:!1,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(s.controller.control)?s.controller.control.forEach(ie=>{!ie.destroyed&&ie.params.loop&&ie.loopFix(E)}):s.controller.control instanceof s.constructor&&s.controller.control.params.loop&&s.controller.control.loopFix(E)}s.emit("loopFix")}function WZ(){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(o=>{const u=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;r[u]=o}),e.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),r.forEach(o=>{i.append(o)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const YZ={loopCreate:GZ,loopFix:HZ,loopDestroy:WZ};function qZ(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function XZ(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const ZZ={setGrabCursor:qZ,unsetGrabCursor:XZ};function KZ(e,t=this){function i(r){if(!r||r===lm()||r===Eu())return null;r.assignedSlot&&(r=r.assignedSlot);const o=r.closest(e);return!o&&!r.getRootNode?null:o||i(r.getRootNode().host)}return i(t)}function JZ(e){const t=this,i=lm(),r=Eu(),o=t.touchEventsData;o.evCache.push(e);const{params:u,touches:h,enabled:s}=t;if(!s||!u.simulateTouch&&e.pointerType==="mouse"||t.animating&&u.preventInteractionOnTransition)return;!t.animating&&u.cssMode&&u.loop&&t.loopFix();let v=e;v.originalEvent&&(v=v.originalEvent);let I=v.target;if(u.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(I)||"which"in v&&v.which===3||"button"in v&&v.button>0||o.isTouched&&o.isMoved)return;const J=!!u.noSwipingClass&&u.noSwipingClass!=="",M=e.composedPath?e.composedPath():e.path;J&&v.target&&v.target.shadowRoot&&M&&(I=M[0]);const B=u.noSwipingSelector?u.noSwipingSelector:`.${u.noSwipingClass}`,W=!!(v.target&&v.target.shadowRoot);if(u.noSwiping&&(W?KZ(B,I):I.closest(B))){t.allowClick=!0;return}if(u.swipeHandler&&!I.closest(u.swipeHandler))return;h.currentX=v.pageX,h.currentY=v.pageY;const O=h.currentX,L=h.currentY,G=u.edgeSwipeDetection||u.iOSEdgeSwipeDetection,k=u.edgeSwipeThreshold||u.iOSEdgeSwipeThreshold;if(G&&(O<=k||O>=r.innerWidth-k))if(G==="prevent")e.preventDefault();else return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),h.startX=O,h.startY=L,o.touchStartTime=_b(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,u.threshold>0&&(o.allowThresholdMove=!1);let S=!0;I.matches(o.focusableElements)&&(S=!1,I.nodeName==="SELECT"&&(o.isTouched=!1)),i.activeElement&&i.activeElement.matches(o.focusableElements)&&i.activeElement!==I&&i.activeElement.blur();const A=S&&t.allowTouchMove&&u.touchStartPreventDefault;(u.touchStartForcePreventDefault||A)&&!I.isContentEditable&&v.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!u.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",v)}function QZ(e){const t=lm(),i=this,r=i.touchEventsData,{params:o,touches:u,rtlTranslate:h,enabled:s}=i;if(!s||!o.simulateTouch&&e.pointerType==="mouse")return;let v=e;if(v.originalEvent&&(v=v.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&i.emit("touchMoveOpposite",v);return}const I=r.evCache.findIndex(E=>E.pointerId===v.pointerId);I>=0&&(r.evCache[I]=v);const J=r.evCache.length>1?r.evCache[0]:v,M=J.pageX,B=J.pageY;if(v.preventedByNestedSwiper){u.startX=M,u.startY=B;return}if(!i.allowTouchMove){v.target.matches(r.focusableElements)||(i.allowClick=!1),r.isTouched&&(Object.assign(u,{startX:M,startY:B,prevX:i.touches.currentX,prevY:i.touches.currentY,currentX:M,currentY:B}),r.touchStartTime=_b());return}if(o.touchReleaseOnEdges&&!o.loop){if(i.isVertical()){if(B<u.startY&&i.translate<=i.maxTranslate()||B>u.startY&&i.translate>=i.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(M<u.startX&&i.translate<=i.maxTranslate()||M>u.startX&&i.translate>=i.minTranslate())return}if(t.activeElement&&v.target===t.activeElement&&v.target.matches(r.focusableElements)){r.isMoved=!0,i.allowClick=!1;return}if(r.allowTouchCallbacks&&i.emit("touchMove",v),v.targetTouches&&v.targetTouches.length>1)return;u.currentX=M,u.currentY=B;const W=u.currentX-u.startX,O=u.currentY-u.startY;if(i.params.threshold&&Math.sqrt(W**2+O**2)<i.params.threshold)return;if(typeof r.isScrolling>"u"){let E;i.isHorizontal()&&u.currentY===u.startY||i.isVertical()&&u.currentX===u.startX?r.isScrolling=!1:W*W+O*O>=25&&(E=Math.atan2(Math.abs(O),Math.abs(W))*180/Math.PI,r.isScrolling=i.isHorizontal()?E>o.touchAngle:90-E>o.touchAngle)}if(r.isScrolling&&i.emit("touchMoveOpposite",v),typeof r.startMoving>"u"&&(u.currentX!==u.startX||u.currentY!==u.startY)&&(r.startMoving=!0),r.isScrolling||i.zoom&&i.params.zoom&&i.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;i.allowClick=!1,!o.cssMode&&v.cancelable&&v.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&v.stopPropagation();let L=i.isHorizontal()?W:O,G=i.isHorizontal()?u.currentX-u.previousX:u.currentY-u.previousY;o.oneWayMovement&&(L=Math.abs(L)*(h?1:-1),G=Math.abs(G)*(h?1:-1)),u.diff=L,L*=o.touchRatio,h&&(L=-L,G=-G);const k=i.touchesDirection;i.swipeDirection=L>0?"prev":"next",i.touchesDirection=G>0?"prev":"next";const S=i.params.loop&&!o.cssMode;if(!r.isMoved){if(S&&i.loopFix({direction:i.swipeDirection}),r.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});i.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,o.grabCursor&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!0),i.emit("sliderFirstMove",v)}let A;r.isMoved&&k!==i.touchesDirection&&S&&Math.abs(L)>=1&&(i.loopFix({direction:i.swipeDirection,setTranslate:!0}),A=!0),i.emit("sliderMove",v),r.isMoved=!0,r.currentTranslate=L+r.startTranslate;let H=!0,U=o.resistanceRatio;if(o.touchReleaseOnEdges&&(U=0),L>0?(S&&!A&&r.currentTranslate>(o.centeredSlides?i.minTranslate()-i.size/2:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>i.minTranslate()&&(H=!1,o.resistance&&(r.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+r.startTranslate+L)**U))):L<0&&(S&&!A&&r.currentTranslate<(o.centeredSlides?i.maxTranslate()+i.size/2:i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-(o.slidesPerView==="auto"?i.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<i.maxTranslate()&&(H=!1,o.resistance&&(r.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-r.startTranslate-L)**U))),H&&(v.preventedByNestedSwiper=!0),!i.allowSlideNext&&i.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!i.allowSlidePrev&&i.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!i.allowSlidePrev&&!i.allowSlideNext&&(r.currentTranslate=r.startTranslate),o.threshold>0)if(Math.abs(L)>o.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,u.startX=u.currentX,u.startY=u.currentY,r.currentTranslate=r.startTranslate,u.diff=i.isHorizontal()?u.currentX-u.startX:u.currentY-u.startY;return}}else{r.currentTranslate=r.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&i.freeMode||o.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&o.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(r.currentTranslate),i.setTranslate(r.currentTranslate))}function eK(e){const t=this,i=t.touchEventsData,r=i.evCache.findIndex(A=>A.pointerId===e.pointerId);if(r>=0&&i.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:o,touches:u,rtlTranslate:h,slidesGrid:s,enabled:v}=t;if(!v||!o.simulateTouch&&e.pointerType==="mouse")return;let I=e;if(I.originalEvent&&(I=I.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",I),i.allowTouchCallbacks=!1,!i.isTouched){i.isMoved&&o.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,i.startMoving=!1;return}o.grabCursor&&i.isMoved&&i.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const J=_b(),M=J-i.touchStartTime;if(t.allowClick){const A=I.path||I.composedPath&&I.composedPath();t.updateClickedSlide(A&&A[0]||I.target),t.emit("tap click",I),M<300&&J-i.lastClickTime<300&&t.emit("doubleTap doubleClick",I)}if(i.lastClickTime=_b(),HT(()=>{t.destroyed||(t.allowClick=!0)}),!i.isTouched||!i.isMoved||!t.swipeDirection||u.diff===0||i.currentTranslate===i.startTranslate){i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;return}i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;let B;if(o.followFinger?B=h?t.translate:-t.translate:B=-i.currentTranslate,o.cssMode)return;if(t.params.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:B});return}let W=0,O=t.slidesSizesGrid[0];for(let A=0;A<s.length;A+=A<o.slidesPerGroupSkip?1:o.slidesPerGroup){const H=A<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof s[A+H]<"u"?B>=s[A]&&B<s[A+H]&&(W=A,O=s[A+H]-s[A]):B>=s[A]&&(W=A,O=s[s.length-1]-s[s.length-2])}let L=null,G=null;o.rewind&&(t.isBeginning?G=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(L=0));const k=(B-s[W])/O,S=W<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(M>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(k>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?L:W+S):t.slideTo(W)),t.swipeDirection==="prev"&&(k>1-o.longSwipesRatio?t.slideTo(W+S):G!==null&&k<0&&Math.abs(k)>o.longSwipesRatio?t.slideTo(G):t.slideTo(W))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(I.target===t.navigation.nextEl||I.target===t.navigation.prevEl)?I.target===t.navigation.nextEl?t.slideTo(W+S):t.slideTo(W):(t.swipeDirection==="next"&&t.slideTo(L!==null?L:W+S),t.swipeDirection==="prev"&&t.slideTo(G!==null?G:W))}}function gM(){const e=this,{params:t,el:i}=e;if(i&&i.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:u}=e,h=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const s=h&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!s?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!h?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=o,e.allowSlideNext=r,e.params.watchOverflow&&u!==e.snapGrid&&e.checkOverflow()}function tK(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function iK(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let o;const u=e.maxTranslate()-e.minTranslate();u===0?o=0:o=(e.translate-e.minTranslate())/u,o!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function nK(e){const t=this;Bx(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let yM=!1;function rK(){}const NP=(e,t)=>{const i=lm(),{params:r,el:o,wrapperEl:u,device:h}=e,s=!!r.nested,v=t==="on"?"addEventListener":"removeEventListener",I=t;o[v]("pointerdown",e.onTouchStart,{passive:!1}),i[v]("pointermove",e.onTouchMove,{passive:!1,capture:s}),i[v]("pointerup",e.onTouchEnd,{passive:!0}),i[v]("pointercancel",e.onTouchEnd,{passive:!0}),i[v]("pointerout",e.onTouchEnd,{passive:!0}),i[v]("pointerleave",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[v]("click",e.onClick,!0),r.cssMode&&u[v]("scroll",e.onScroll),r.updateOnWindowResize?e[I](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",gM,!0):e[I]("observerUpdate",gM,!0),o[v]("load",e.onLoad,{capture:!0})};function sK(){const e=this,t=lm(),{params:i}=e;e.onTouchStart=JZ.bind(e),e.onTouchMove=QZ.bind(e),e.onTouchEnd=eK.bind(e),i.cssMode&&(e.onScroll=iK.bind(e)),e.onClick=tK.bind(e),e.onLoad=nK.bind(e),yM||(t.addEventListener("touchstart",rK),yM=!0),NP(e,"on")}function oK(){NP(this,"off")}const aK={attachEvents:sK,detachEvents:oK},_M=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function lK(){const e=this,{realIndex:t,initialized:i,params:r,el:o}=e,u=r.breakpoints;if(!u||u&&Object.keys(u).length===0)return;const h=e.getBreakpoint(u,e.params.breakpointsBase,e.el);if(!h||e.currentBreakpoint===h)return;const v=(h in u?u[h]:void 0)||e.originalParams,I=_M(e,r),J=_M(e,v),M=r.enabled;I&&!J?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!I&&J&&(o.classList.add(`${r.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&r.grid.fill==="column")&&o.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(L=>{const G=r[L]&&r[L].enabled,k=v[L]&&v[L].enabled;G&&!k&&e[L].disable(),!G&&k&&e[L].enable()});const B=v.direction&&v.direction!==r.direction,W=r.loop&&(v.slidesPerView!==r.slidesPerView||B);B&&i&&e.changeDirection(),yu(e.params,v);const O=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),M&&!O?e.disable():!M&&O&&e.enable(),e.currentBreakpoint=h,e.emit("_beforeBreakpoint",v),W&&i&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",v)}function cK(e,t="window",i){if(!e||t==="container"&&!i)return;let r=!1;const o=Eu(),u=t==="window"?o.innerHeight:i.clientHeight,h=Object.keys(e).map(s=>{if(typeof s=="string"&&s.indexOf("@")===0){const v=parseFloat(s.substr(1));return{value:u*v,point:s}}return{value:s,point:s}});h.sort((s,v)=>parseInt(s.value,10)-parseInt(v.value,10));for(let s=0;s<h.length;s+=1){const{point:v,value:I}=h[s];t==="window"?o.matchMedia(`(min-width: ${I}px)`).matches&&(r=v):I<=i.clientWidth&&(r=v)}return r||"max"}const uK={setBreakpoint:lK,getBreakpoint:cK};function dK(e,t){const i=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(o=>{r[o]&&i.push(t+o)}):typeof r=="string"&&i.push(t+r)}),i}function hK(){const e=this,{classNames:t,params:i,rtl:r,el:o,device:u}=e,h=dK(["initialized",i.direction,{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:r},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&i.grid.fill==="column"},{android:u.android},{ios:u.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...h),o.classList.add(...t),e.emitContainerClasses()}function pK(){const e=this,{el:t,classNames:i}=e;t.classList.remove(...i),e.emitContainerClasses()}const fK={addClasses:hK,removeClasses:pK};function mK(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:r}=i;if(r){const o=e.slides.length-1,u=e.slidesGrid[o]+e.slidesSizesGrid[o]+r*2;e.isLocked=e.size>u}else e.isLocked=e.snapGrid.length===1;i.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),i.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const gK={checkOverflow:mK},vM={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function yK(e,t){return function(r={}){const o=Object.keys(r)[0],u=r[o];if(typeof u!="object"||u===null){yu(t,r);return}if(["navigation","pagination","scrollbar"].indexOf(o)>=0&&e[o]===!0&&(e[o]={auto:!0}),!(o in e&&"enabled"in u)){yu(t,r);return}e[o]===!0&&(e[o]={enabled:!0}),typeof e[o]=="object"&&!("enabled"in e[o])&&(e[o].enabled=!0),e[o]||(e[o]={enabled:!1}),yu(t,r)}}const Y3={eventsEmitter:fZ,update:CZ,translate:DZ,transition:RZ,slide:VZ,loop:YZ,grabCursor:ZZ,events:aK,breakpoints:uK,checkOverflow:gK,classes:fK},q3={};let d_=class Zh{constructor(...t){let i,r;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?r=t[0]:[i,r]=t,r||(r={}),r=yu({},r),i&&!r.el&&(r.el=i);const o=lm();if(r.el&&typeof r.el=="string"&&o.querySelectorAll(r.el).length>1){const v=[];return o.querySelectorAll(r.el).forEach(I=>{const J=yu({},r,{el:I});v.push(new Zh(J))}),v}const u=this;u.__swiper__=!0,u.support=RP(),u.device=cZ({userAgent:r.userAgent}),u.browser=dZ(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=[...u.__modules__],r.modules&&Array.isArray(r.modules)&&u.modules.push(...r.modules);const h={};u.modules.forEach(v=>{v({params:r,swiper:u,extendParams:yK(r,h),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})});const s=yu({},vM,h);return u.params=yu({},s,q3,r),u.originalParams=yu({},u.params),u.passedParams=yu({},r),u.params&&u.params.on&&Object.keys(u.params.on).forEach(v=>{u.on(v,u.params.on[v])}),u.params&&u.params.onAny&&u.onAny(u.params.onAny),Object.assign(u,{enabled:u.params.enabled,el:i,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return u.params.direction==="horizontal"},isVertical(){return u.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}getSlideIndex(t){const{slidesEl:i,params:r}=this,o=fh(i,`.${r.slideClass}, swiper-slide`),u=WT(o[0]);return WT(t)-u}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(i=>i.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:i,params:r}=t;t.slides=fh(i,`.${r.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,i){const r=this;t=Math.min(Math.max(t,0),1);const o=r.minTranslate(),h=(r.maxTranslate()-o)*t+o;r.translateTo(h,typeof i>"u"?0:i),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const i=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",i.join(" "))}getSlideClasses(t){const i=this;return i.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(i.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const i=[];t.slides.forEach(r=>{const o=t.getSlideClasses(r);i.push({slideEl:r,classNames:o}),t.emit("_slideClass",r,o)}),t.emit("_slideClasses",i)}slidesPerViewDynamic(t="current",i=!1){const r=this,{params:o,slides:u,slidesGrid:h,slidesSizesGrid:s,size:v,activeIndex:I}=r;let J=1;if(o.centeredSlides){let M=u[I].swiperSlideSize,B;for(let W=I+1;W<u.length;W+=1)u[W]&&!B&&(M+=u[W].swiperSlideSize,J+=1,M>v&&(B=!0));for(let W=I-1;W>=0;W-=1)u[W]&&!B&&(M+=u[W].swiperSlideSize,J+=1,M>v&&(B=!0))}else if(t==="current")for(let M=I+1;M<u.length;M+=1)(i?h[M]+s[M]-h[I]<v:h[M]-h[I]<v)&&(J+=1);else for(let M=I-1;M>=0;M-=1)h[I]-h[M]<v&&(J+=1);return J}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:i,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(h=>{h.complete&&Bx(t,h)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function o(){const h=t.rtlTranslate?t.translate*-1:t.translate,s=Math.min(Math.max(h,t.maxTranslate()),t.minTranslate());t.setTranslate(s),t.updateActiveIndex(),t.updateSlidesClasses()}let u;if(t.params.freeMode&&t.params.freeMode.enabled)o(),t.params.autoHeight&&t.updateAutoHeight();else{if((t.params.slidesPerView==="auto"||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides){const h=t.virtual&&t.params.virtual.enabled?t.virtual.slides:t.slides;u=t.slideTo(h.length-1,0,!1,!0)}else u=t.slideTo(t.activeIndex,0,!1,!0);u||o()}r.watchOverflow&&i!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,i=!0){const r=this,o=r.params.direction;return t||(t=o==="horizontal"?"vertical":"horizontal"),t===o||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${o}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(u=>{t==="vertical"?u.style.width="":u.style.height=""}),r.emit("changeDirection"),i&&r.update()),r}changeLanguageDirection(t){const i=this;i.rtl&&t==="rtl"||!i.rtl&&t==="ltr"||(i.rtl=t==="rtl",i.rtlTranslate=i.params.direction==="horizontal"&&i.rtl,i.rtl?(i.el.classList.add(`${i.params.containerModifierClass}rtl`),i.el.dir="rtl"):(i.el.classList.remove(`${i.params.containerModifierClass}rtl`),i.el.dir="ltr"),i.update())}mount(t){const i=this;if(i.mounted)return!0;let r=t||i.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=i,r.shadowEl&&(i.isElement=!0);const o=()=>`.${(i.params.wrapperClass||"").trim().split(" ").join(".")}`;let h=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(o()):fh(r,o())[0])();return!h&&i.params.createElements&&(h=WC("div",i.params.wrapperClass),r.append(h),fh(r,`.${i.params.slideClass}`).forEach(s=>{h.append(s)})),Object.assign(i,{el:r,wrapperEl:h,slidesEl:i.isElement?r:h,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||lf(r,"direction")==="rtl",rtlTranslate:i.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||lf(r,"direction")==="rtl"),wrongRTL:lf(h,"display")==="-webkit-box"}),!0}init(t){const i=this;return i.initialized||i.mount(t)===!1||(i.emit("beforeInit"),i.params.breakpoints&&i.setBreakpoint(),i.addClasses(),i.updateSize(),i.updateSlides(),i.params.watchOverflow&&i.checkOverflow(),i.params.grabCursor&&i.enabled&&i.setGrabCursor(),i.params.loop&&i.virtual&&i.params.virtual.enabled?i.slideTo(i.params.initialSlide+i.virtual.slidesBefore,0,i.params.runCallbacksOnInit,!1,!0):i.slideTo(i.params.initialSlide,0,i.params.runCallbacksOnInit,!1,!0),i.params.loop&&i.loopCreate(),i.attachEvents(),[...i.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete?Bx(i,o):o.addEventListener("load",u=>{Bx(i,u.target)})}),YT(i),i.initialized=!0,YT(i),i.emit("init"),i.emit("afterInit")),i}destroy(t=!0,i=!0){const r=this,{params:o,el:u,wrapperEl:h,slides:s}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),o.loop&&r.loopDestroy(),i&&(r.removeClasses(),u.removeAttribute("style"),h.removeAttribute("style"),s&&s.length&&s.forEach(v=>{v.classList.remove(o.slideVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),v.removeAttribute("style"),v.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(v=>{r.off(v)}),t!==!1&&(r.el.swiper=null,eZ(r)),r.destroyed=!0),null}static extendDefaults(t){yu(q3,t)}static get extendedDefaults(){return q3}static get defaults(){return vM}static installModule(t){Zh.prototype.__modules__||(Zh.prototype.__modules__=[]);const i=Zh.prototype.__modules__;typeof t=="function"&&i.indexOf(t)<0&&i.push(t)}static use(t){return Array.isArray(t)?(t.forEach(i=>Zh.installModule(i)),Zh):(Zh.installModule(t),Zh)}};Object.keys(Y3).forEach(e=>{Object.keys(Y3[e]).forEach(t=>{d_.prototype[t]=Y3[e][t]})});d_.use([hZ,pZ]);function _K(e,t,i,r){return e.params.createElements&&Object.keys(r).forEach(o=>{if(!i[o]&&i.auto===!0){let u=fh(e.el,`.${r[o]}`)[0];u||(u=WC("div",r[o]),u.className=r[o],e.el.append(u)),i[o]=u,t[o]=u}}),i}function vK({swiper:e,extendParams:t,on:i,emit:r}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const o=O=>(Array.isArray(O)||(O=[O].filter(L=>!!L)),O);function u(O){let L;return O&&typeof O=="string"&&e.isElement&&(L=e.el.shadowRoot.querySelector(O),L)?L:(O&&(typeof O=="string"&&(L=[...document.querySelectorAll(O)]),e.params.uniqueNavElements&&typeof O=="string"&&L.length>1&&e.el.querySelectorAll(O).length===1&&(L=e.el.querySelector(O))),O&&!L?O:L)}function h(O,L){const G=e.params.navigation;O=o(O),O.forEach(k=>{k&&(k.classList[L?"add":"remove"](...G.disabledClass.split(" ")),k.tagName==="BUTTON"&&(k.disabled=L),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](G.lockClass))})}function s(){const{nextEl:O,prevEl:L}=e.navigation;if(e.params.loop){h(L,!1),h(O,!1);return}h(L,e.isBeginning&&!e.params.rewind),h(O,e.isEnd&&!e.params.rewind)}function v(O){O.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function I(O){O.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function J(){const O=e.params.navigation;if(e.params.navigation=_K(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(O.nextEl||O.prevEl))return;let L=u(O.nextEl),G=u(O.prevEl);Object.assign(e.navigation,{nextEl:L,prevEl:G}),L=o(L),G=o(G);const k=(S,A)=>{S&&S.addEventListener("click",A==="next"?I:v),!e.enabled&&S&&S.classList.add(...O.lockClass.split(" "))};L.forEach(S=>k(S,"next")),G.forEach(S=>k(S,"prev"))}function M(){let{nextEl:O,prevEl:L}=e.navigation;O=o(O),L=o(L);const G=(k,S)=>{k.removeEventListener("click",S==="next"?I:v),k.classList.remove(...e.params.navigation.disabledClass.split(" "))};O.forEach(k=>G(k,"next")),L.forEach(k=>G(k,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?W():(J(),s())}),i("toEdge fromEdge lock unlock",()=>{s()}),i("destroy",()=>{M()}),i("enable disable",()=>{let{nextEl:O,prevEl:L}=e.navigation;O=o(O),L=o(L),[...O,...L].filter(G=>!!G).forEach(G=>G.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),i("click",(O,L)=>{let{nextEl:G,prevEl:k}=e.navigation;G=o(G),k=o(k);const S=L.target;if(e.params.navigation.hideOnClick&&!k.includes(S)&&!G.includes(S)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let A;G.length?A=G[0].classList.contains(e.params.navigation.hiddenClass):k.length&&(A=k[0].classList.contains(e.params.navigation.hiddenClass)),r(A===!0?"navigationShow":"navigationHide"),[...G,...k].filter(H=>!!H).forEach(H=>H.classList.toggle(e.params.navigation.hiddenClass))}});const B=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),J(),s()},W=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),M()};Object.assign(e.navigation,{enable:B,disable:W,update:s,init:J,destroy:M})}function X3(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function xK({swiper:e,extendParams:t,on:i}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let r=null;function o(D){const m=r;m.length!==0&&(m.innerHTML="",m.innerHTML=D)}const u=D=>(Array.isArray(D)||(D=[D].filter(m=>!!m)),D);function h(D=16){const m=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(D).replace(/x/g,m)}function s(D){D=u(D),D.forEach(m=>{m.setAttribute("tabIndex","0")})}function v(D){D=u(D),D.forEach(m=>{m.setAttribute("tabIndex","-1")})}function I(D,m){D=u(D),D.forEach(g=>{g.setAttribute("role",m)})}function J(D,m){D=u(D),D.forEach(g=>{g.setAttribute("aria-roledescription",m)})}function M(D,m){D=u(D),D.forEach(g=>{g.setAttribute("aria-controls",m)})}function B(D,m){D=u(D),D.forEach(g=>{g.setAttribute("aria-label",m)})}function W(D,m){D=u(D),D.forEach(g=>{g.setAttribute("id",m)})}function O(D,m){D=u(D),D.forEach(g=>{g.setAttribute("aria-live",m)})}function L(D){D=u(D),D.forEach(m=>{m.setAttribute("aria-disabled",!0)})}function G(D){D=u(D),D.forEach(m=>{m.setAttribute("aria-disabled",!1)})}function k(D){if(D.keyCode!==13&&D.keyCode!==32)return;const m=e.params.a11y,g=D.target;e.pagination&&e.pagination.el&&(g===e.pagination.el||e.pagination.el.contains(D.target))&&!D.target.matches(X3(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&g===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?o(m.lastSlideMessage):o(m.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&g===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?o(m.firstSlideMessage):o(m.prevSlideMessage)),e.pagination&&g.matches(X3(e.params.pagination.bulletClass))&&g.click())}function S(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:D,prevEl:m}=e.navigation;m&&(e.isBeginning?(L(m),v(m)):(G(m),s(m))),D&&(e.isEnd?(L(D),v(D)):(G(D),s(D)))}function A(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function H(){return A()&&e.params.pagination.clickable}function U(){const D=e.params.a11y;A()&&e.pagination.bullets.forEach(m=>{e.params.pagination.clickable&&(s(m),e.params.pagination.renderBullet||(I(m,"button"),B(m,D.paginationBulletMessage.replace(/\{\{index\}\}/,WT(m)+1)))),m.matches(X3(e.params.pagination.bulletActiveClass))?m.setAttribute("aria-current","true"):m.removeAttribute("aria-current")})}const E=(D,m,g)=>{s(D),D.tagName!=="BUTTON"&&(I(D,"button"),D.addEventListener("keydown",k)),B(D,g),M(D,m)},ie=()=>{e.a11y.clicked=!0},ee=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},$=D=>{if(e.a11y.clicked)return;const m=D.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!m||!e.slides.includes(m))return;const g=e.slides.indexOf(m)===e.activeIndex,x=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(m);g||x||D.sourceCapabilities&&D.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(m),0))},V=()=>{const D=e.params.a11y;D.itemRoleDescriptionMessage&&J(e.slides,D.itemRoleDescriptionMessage),D.slideRole&&I(e.slides,D.slideRole);const m=e.slides.length;D.slideLabelMessage&&e.slides.forEach((g,x)=>{const P=e.params.loop?parseInt(g.getAttribute("data-swiper-slide-index"),10):x,X=D.slideLabelMessage.replace(/\{\{index\}\}/,P+1).replace(/\{\{slidesLength\}\}/,m);B(g,X)})},j=()=>{const D=e.params.a11y;e.isElement?e.el.shadowEl.append(r):e.el.append(r);const m=e.el;D.containerRoleDescriptionMessage&&J(m,D.containerRoleDescriptionMessage),D.containerMessage&&B(m,D.containerMessage);const g=e.wrapperEl,x=D.id||g.getAttribute("id")||`swiper-wrapper-${h(16)}`,P=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";W(g,x),O(g,P),V();let{nextEl:X,prevEl:Y}=e.navigation?e.navigation:{};X=u(X),Y=u(Y),X&&X.forEach(K=>E(K,x,D.nextSlideMessage)),Y&&Y.forEach(K=>E(K,x,D.prevSlideMessage)),H()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(le=>{le.addEventListener("keydown",k)}),e.el.addEventListener("focus",$,!0),e.el.addEventListener("pointerdown",ie,!0),e.el.addEventListener("pointerup",ee,!0)};function w(){r&&r.remove();let{nextEl:D,prevEl:m}=e.navigation?e.navigation:{};D=u(D),m=u(m),D&&D.forEach(g=>g.removeEventListener("keydown",k)),m&&m.forEach(g=>g.removeEventListener("keydown",k)),H()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(x=>{x.removeEventListener("keydown",k)}),e.el.removeEventListener("focus",$,!0),e.el.removeEventListener("pointerdown",ie,!0),e.el.removeEventListener("pointerup",ee,!0)}i("beforeInit",()=>{r=WC("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&j()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&V()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&S()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&U()}),i("destroy",()=>{e.params.a11y.enabled&&w()})}function im(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function cf(e,t){const i=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>i.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:im(t[r])&&im(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:cf(e[r],t[r]):e[r]=t[r]})}function zP(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function FP(e={}){return e.pagination&&typeof e.pagination.el>"u"}function jP(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function UP(e=""){const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),i=[];return t.forEach(r=>{i.indexOf(r)<0&&i.push(r)}),i.join(" ")}function bK(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const $P=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function xM(e={},t=!0){const i={on:{}},r={},o={};cf(i,d_.defaults),cf(i,d_.extendedDefaults),i._emitClasses=!0,i.init=!1;const u={},h=$P.map(v=>v.replace(/_/,"")),s=Object.assign({},e);return Object.keys(s).forEach(v=>{typeof e[v]>"u"||(h.indexOf(v)>=0?im(e[v])?(i[v]={},o[v]={},cf(i[v],e[v]),cf(o[v],e[v])):(i[v]=e[v],o[v]=e[v]):v.search(/on[A-Z]/)===0&&typeof e[v]=="function"?t?r[`${v[2].toLowerCase()}${v.substr(3)}`]=e[v]:i.on[`${v[2].toLowerCase()}${v.substr(3)}`]=e[v]:u[v]=e[v])}),["navigation","pagination","scrollbar"].forEach(v=>{i[v]===!0&&(i[v]={}),i[v]===!1&&delete i[v]}),{params:i,passedParams:o,rest:u,events:r}}function wK({el:e,nextEl:t,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:u},h){zP(h)&&t&&i&&(u.params.navigation.nextEl=t,u.originalParams.navigation.nextEl=t,u.params.navigation.prevEl=i,u.originalParams.navigation.prevEl=i),FP(h)&&r&&(u.params.pagination.el=r,u.originalParams.pagination.el=r),jP(h)&&o&&(u.params.scrollbar.el=o,u.originalParams.scrollbar.el=o),u.init(e)}function TK(e,t,i,r,o){const u=[];if(!t)return u;const h=v=>{u.indexOf(v)<0&&u.push(v)};if(i&&r){const v=r.map(o),I=i.map(o);v.join("")!==I.join("")&&h("children"),r.length!==i.length&&h("children")}return $P.filter(v=>v[0]==="_").map(v=>v.replace(/_/,"")).forEach(v=>{if(v in e&&v in t)if(im(e[v])&&im(t[v])){const I=Object.keys(e[v]),J=Object.keys(t[v]);I.length!==J.length?h(v):(I.forEach(M=>{e[v][M]!==t[v][M]&&h(v)}),J.forEach(M=>{e[v][M]!==t[v][M]&&h(v)}))}else e[v]!==t[v]&&h(v)}),u}function Z3(e,t,i){e===void 0&&(e={});const r=[],o={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},u=(h,s)=>{Array.isArray(h)&&h.forEach(v=>{const I=typeof v.type=="symbol";s==="default"&&(s="container-end"),I&&v.children?u(v.children,s):v.type&&(v.type.name==="SwiperSlide"||v.type.name==="AsyncComponentWrapper")?r.push(v):o[s]&&o[s].push(v)})};return Object.keys(e).forEach(h=>{if(typeof e[h]!="function")return;const s=e[h]();u(s,h)}),i.value=t.value,t.value=r,{slides:r,slots:o}}function SK({swiper:e,slides:t,passedParams:i,changedParams:r,nextEl:o,prevEl:u,scrollbarEl:h,paginationEl:s}){const v=r.filter(ee=>ee!=="children"&&ee!=="direction"&&ee!=="wrapperClass"),{params:I,pagination:J,navigation:M,scrollbar:B,virtual:W,thumbs:O}=e;let L,G,k,S,A,H,U,E;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&I.thumbs&&!I.thumbs.swiper&&(L=!0),r.includes("controller")&&i.controller&&i.controller.control&&I.controller&&!I.controller.control&&(G=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||s)&&(I.pagination||I.pagination===!1)&&J&&!J.el&&(k=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||h)&&(I.scrollbar||I.scrollbar===!1)&&B&&!B.el&&(S=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||u)&&(i.navigation.nextEl||o)&&(I.navigation||I.navigation===!1)&&M&&!M.prevEl&&!M.nextEl&&(A=!0);const ie=ee=>{e[ee]&&(e[ee].destroy(),ee==="navigation"?(e.isElement&&(e[ee].prevEl.remove(),e[ee].nextEl.remove()),I[ee].prevEl=void 0,I[ee].nextEl=void 0,e[ee].prevEl=void 0,e[ee].nextEl=void 0):(e.isElement&&e[ee].el.remove(),I[ee].el=void 0,e[ee].el=void 0))};r.includes("loop")&&e.isElement&&(I.loop&&!i.loop?H=!0:!I.loop&&i.loop?U=!0:E=!0),v.forEach(ee=>{if(im(I[ee])&&im(i[ee]))cf(I[ee],i[ee]),(ee==="navigation"||ee==="pagination"||ee==="scrollbar")&&"enabled"in i[ee]&&!i[ee].enabled&&ie(ee);else{const $=i[ee];($===!0||$===!1)&&(ee==="navigation"||ee==="pagination"||ee==="scrollbar")?$===!1&&ie(ee):I[ee]=i[ee]}}),v.includes("controller")&&!G&&e.controller&&e.controller.control&&I.controller&&I.controller.control&&(e.controller.control=I.controller.control),r.includes("children")&&t&&W&&I.virtual.enabled&&(W.slides=t,W.update(!0)),r.includes("children")&&t&&I.loop&&(E=!0),L&&O.init()&&O.update(!0),G&&(e.controller.control=I.controller.control),k&&(e.isElement&&(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(s)),s&&(I.pagination.el=s),J.init(),J.render(),J.update()),S&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(h)),h&&(I.scrollbar.el=h),B.init(),B.updateSize(),B.setTranslate()),A&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(u))),o&&(I.navigation.nextEl=o),u&&(I.navigation.prevEl=u),M.init(),M.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(H||E)&&e.loopDestroy(),(U||E)&&e.loopCreate(),e.update()}function CK(e,t,i){if(!i)return null;const r=J=>{let M=J;return J<0?M=t.length+J:M>=t.length&&(M=M-t.length),M},o=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${i.offset}px`}:{top:`${i.offset}px`},{from:u,to:h}=i,s=e.value.params.loop?-t.length:0,v=e.value.params.loop?t.length*2:t.length,I=[];for(let J=s;J<v;J+=1)J>=u&&J<=h&&I.push(t[r(J)]);return I.map(J=>(J.props||(J.props={}),J.props.style||(J.props.style={}),J.props.swiperRef=e,J.props.style=o,$c(J.type,{...J.props},J.children)))}const EK=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},MK={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:i,emit:r}=t;const{tag:o,wrapperTag:u}=e,h=Ki("swiper"),s=Ki(null),v=Ki(!1),I=Ki(!1),J=Ki(null),M=Ki(null),B=Ki(null),W={value:[]},O={value:[]},L=Ki(null),G=Ki(null),k=Ki(null),S=Ki(null),{params:A,passedParams:H}=xM(e,!1);Z3(i,W,O),B.value=H,O.value=W.value;const U=()=>{Z3(i,W,O),v.value=!0};A.onAny=function(ee){for(var $=arguments.length,V=new Array($>1?$-1:0),j=1;j<$;j++)V[j-1]=arguments[j];r(ee,...V)},Object.assign(A.on,{_beforeBreakpoint:U,_containerClasses(ee,$){h.value=$}});const E={...A};if(delete E.wrapperClass,M.value=new d_(E),M.value.virtual&&M.value.params.virtual.enabled){M.value.virtual.slides=W.value;const ee={cache:!1,slides:W.value,renderExternal:$=>{s.value=$},renderExternalUpdate:!1};cf(M.value.params.virtual,ee),cf(M.value.originalParams.virtual,ee)}sm(()=>{!I.value&&M.value&&(M.value.emitSlidesClasses(),I.value=!0);const{passedParams:ee}=xM(e,!1),$=TK(ee,B.value,W.value,O.value,V=>V.props&&V.props.key);B.value=ee,($.length||v.value)&&M.value&&!M.value.destroyed&&SK({swiper:M.value,slides:W.value,passedParams:ee,changedParams:$,nextEl:L.value,prevEl:G.value,scrollbarEl:S.value,paginationEl:k.value}),v.value=!1}),bf("swiper",M),Zs(s,()=>{bc(()=>{EK(M.value)})}),zo(()=>{J.value&&(wK({el:J.value,nextEl:L.value,prevEl:G.value,paginationEl:k.value,scrollbarEl:S.value,swiper:M.value},A),r("swiper",M.value))}),Pf(()=>{M.value&&!M.value.destroyed&&M.value.destroy(!0,!1)});function ie(ee){return A.virtual?CK(M,ee,s.value):(ee.forEach(($,V)=>{$.props||($.props={}),$.props.swiperRef=M,$.props.swiperSlideIndex=V}),ee)}return()=>{const{slides:ee,slots:$}=Z3(i,W,O);return $c(o,{ref:J,class:UP(h.value)},[$["container-start"],$c(u,{class:bK(A.wrapperClass)},[$["wrapper-start"],ie(ee),$["wrapper-end"]]),zP(e)&&[$c("div",{ref:G,class:"swiper-button-prev"}),$c("div",{ref:L,class:"swiper-button-next"})],jP(e)&&$c("div",{ref:S,class:"swiper-scrollbar"}),FP(e)&&$c("div",{ref:k,class:"swiper-pagination"}),$["container-end"]])}}},kK={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:i}=t,r=!1;const{swiperRef:o}=e,u=Ki(null),h=Ki("swiper-slide"),s=Ki(!1);function v(M,B,W){B===u.value&&(h.value=W)}zo(()=>{!o||!o.value||(o.value.on("_slideClass",v),r=!0)}),__(()=>{r||!o||!o.value||(o.value.on("_slideClass",v),r=!0)}),sm(()=>{!u.value||!o||!o.value||(typeof e.swiperSlideIndex<"u"&&(u.value.swiperSlideIndex=e.swiperSlideIndex),o.value.destroyed&&h.value!=="swiper-slide"&&(h.value="swiper-slide"))}),Pf(()=>{!o||!o.value||o.value.off("_slideClass",v)});const I=Ui(()=>({isActive:h.value.indexOf("swiper-slide-active")>=0,isVisible:h.value.indexOf("swiper-slide-visible")>=0,isPrev:h.value.indexOf("swiper-slide-prev")>=0,isNext:h.value.indexOf("swiper-slide-next")>=0}));bf("swiperSlide",I);const J=()=>{s.value=!0};return()=>$c(e.tag,{class:UP(`${h.value}`),ref:u,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&o&&o.value&&o.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:J},e.zoom?$c("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[i.default&&i.default(I.value),e.lazy&&!s.value&&$c("div",{class:"swiper-lazy-preloader"})]):[i.default&&i.default(I.value),e.lazy&&!s.value&&$c("div",{class:"swiper-lazy-preloader"})])}},AK={props:{fleet:Object,active:String},components:{Swiper:MK,SwiperSlide:kK},setup(){return{auto:!0,onSwiper:i=>{},onSlideChange:()=>{},modules:[vK,xK]}}},PK={class:"swiper-button-prev"},DK=["src"],IK=["href"],LK=["href"],OK=["href"],RK=["href"],BK=["href"],NK=["href"],zK=["href"],FK={class:"swiper-button-next"},jK=["src"];function UK(e,t,i,r,o,u){const h=dr("swiper-slide"),s=dr("swiper");return pt(),mr(s,{"slides-per-view":"auto","space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:r.onSwiper,onSlideChange:r.onSlideChange},{default:Hn(()=>[je("div",PK,[je("img",{src:"/img/icons/chevron-prev.png",alt:""},null,8,DK)]),sn(h,null,{default:Hn(()=>[je("a",{href:`/fleet/${i.fleet.id}`,class:kn(["submenu-item",{active:i.active=="info"}])},"NAVIGASI",10,IK)]),_:1}),sn(h,null,{default:Hn(()=>[je("a",{href:`/fleet/${i.fleet.id}/engine`,class:kn(["submenu-item",{active:i.active=="engine"}])},"MAIN ENGINE",10,LK)]),_:1}),sn(h,null,{default:Hn(()=>[je("a",{href:`/fleet/${i.fleet.id}/pumps`,class:kn(["submenu-item",{active:i.active=="pumps"}])},"PUMPS",10,OK)]),_:1}),sn(h,null,{default:Hn(()=>[je("a",{href:`/fleet/${i.fleet.id}/cargo`,class:kn(["submenu-item",{active:i.active=="cargo"}])},"CARGO TANK",10,RK)]),_:1}),sn(h,null,{default:Hn(()=>[je("a",{href:`/fleet/${i.fleet.id}/bunker`,class:kn(["submenu-item",{active:i.active=="bunker"}])},"BUNKER TANK",10,BK)]),_:1}),sn(h,null,{default:Hn(()=>[je("a",{href:`/fleet/${i.fleet.id}/balast`,class:kn(["submenu-item",{active:i.active=="balast"}])},"BALAST TANK",10,NK)]),_:1}),sn(h,null,{default:Hn(()=>[je("a",{href:`/fleet/${i.fleet.id}/alarms`,class:kn(["submenu-item",{active:i.active=="alarms"}])},"ALARM",10,zK)]),_:1}),je("div",FK,[je("img",{src:"/img/icons/chevron-next.png",alt:""},null,8,jK)])]),_:1},8,["navigation","onSwiper","onSlideChange"])}const $K=Pr(AK,[["render",UK]]);var VP={exports:{}},K3={exports:{}},bM;function GP(){return bM||(bM=1,function(e){(function(t,i){e.exports?(i.default=i,e.exports=t.document?i(t):i):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=i(t))})(typeof window<"u"?window:ja,function(t){function i(o,u,h,s){o.hasOwnProperty(u)||(o[u]=s.apply(null,h),typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:u,module:o[u]}})))}var r={};return i(r,"Core/Globals.js",[],function(){var o;return function(u){u.SVG_NS="http://www.w3.org/2000/svg",u.product="Highcharts",u.version="11.0.1",u.win=typeof t<"u"?t:{},u.doc=u.win.document,u.svg=u.doc&&u.doc.createElementNS&&!!u.doc.createElementNS(u.SVG_NS,"svg").createSVGRect,u.userAgent=u.win.navigator&&u.win.navigator.userAgent||"",u.isChrome=u.userAgent.indexOf("Chrome")!==-1,u.isFirefox=u.userAgent.indexOf("Firefox")!==-1,u.isMS=/(edge|msie|trident)/i.test(u.userAgent)&&!u.win.opera,u.isSafari=!u.isChrome&&u.userAgent.indexOf("Safari")!==-1,u.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(u.userAgent),u.isWebKit=u.userAgent.indexOf("AppleWebKit")!==-1,u.deg2rad=2*Math.PI/360,u.hasBidiBug=u.isFirefox&&4>parseInt(u.userAgent.split("Firefox/")[1],10),u.hasTouch=!!u.win.TouchEvent,u.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],u.noop=function(){},u.supportsPassiveEvents=function(){let h=!1;if(!u.isMS){const s=Object.defineProperty({},"passive",{get:function(){h=!0}});u.win.addEventListener&&u.win.removeEventListener&&(u.win.addEventListener("testPassive",u.noop,s),u.win.removeEventListener("testPassive",u.noop,s))}return h}(),u.charts=[],u.dateFormats={},u.seriesTypes={},u.symbolSizes={},u.chartCount=0}(o||(o={})),o}),i(r,"Core/Utilities.js",[r["Core/Globals.js"]],function(o){function u(g,x,P,X){const Y=x?"Highcharts error":"Highcharts warning";g===32&&(g=`${Y}: Deprecated member`);const K=W(g);let le=K?`${Y} #${g}: www.highcharts.com/errors/${g}/`:g.toString();if(typeof X<"u"){let pe="";K&&(le+="?"),E(X,function(fe,z){pe+=`
 - ${z}: ${fe}`,K&&(le+=encodeURI(z)+"="+encodeURI(fe))}),le+=pe}ee(o,"displayError",{chart:P,code:g,message:le,params:X},function(){if(x)throw Error(le);j.console&&u.messages.indexOf(le)===-1&&console.warn(le)}),u.messages.push(le)}function h(g,x){const P={};return E(g,function(X,Y){J(g[Y],!0)&&!g.nodeType&&x[Y]?(X=h(g[Y],x[Y]),Object.keys(X).length&&(P[Y]=X)):(J(g[Y])||g[Y]!==x[Y]||Y in g&&!(Y in x))&&(P[Y]=g[Y])}),P}function s(g,x){return parseInt(g,x||10)}function v(g){return typeof g=="string"}function I(g){return g=Object.prototype.toString.call(g),g==="[object Array]"||g==="[object Array Iterator]"}function J(g,x){return!!g&&typeof g=="object"&&(!x||!I(g))}function M(g){return J(g)&&typeof g.nodeType=="number"}function B(g){const x=g&&g.constructor;return!(!J(g,!0)||M(g)||!x||!x.name||x.name==="Object")}function W(g){return typeof g=="number"&&!isNaN(g)&&1/0>g&&-1/0<g}function O(g){return typeof g<"u"&&g!==null}function L(g,x,P){const X=v(x)&&!O(P);let Y;const K=(le,pe)=>{O(le)?g.setAttribute(pe,le):X?(Y=g.getAttribute(pe))||pe!=="class"||(Y=g.getAttribute(pe+"Name")):g.removeAttribute(pe)};return v(x)?K(P,x):E(x,K),Y}function G(g,x){let P;g||(g={});for(P in x)g[P]=x[P];return g}function k(){const g=arguments,x=g.length;for(let P=0;P<x;P++){const X=g[P];if(typeof X<"u"&&X!==null)return X}}function S(g,x){o.isMS&&!o.svg&&x&&O(x.opacity)&&(x.filter=`alpha(opacity=${100*x.opacity})`),G(g.style,x)}function A(g){return Math.pow(10,Math.floor(Math.log(g)/Math.LN10))}function H(g,x){return 1e14<g?g:parseFloat(g.toPrecision(x||14))}function U(g,x,P){let X;return x==="width"?(x=Math.min(g.offsetWidth,g.scrollWidth),P=g.getBoundingClientRect&&g.getBoundingClientRect().width,P<x&&P>=x-1&&(x=Math.floor(P)),Math.max(0,x-(U(g,"padding-left",!0)||0)-(U(g,"padding-right",!0)||0))):x==="height"?Math.max(0,Math.min(g.offsetHeight,g.scrollHeight)-(U(g,"padding-top",!0)||0)-(U(g,"padding-bottom",!0)||0)):((g=j.getComputedStyle(g,void 0))&&(X=g.getPropertyValue(x),k(P,x!=="opacity")&&(X=s(X))),X)}function E(g,x,P){for(const X in g)Object.hasOwnProperty.call(g,X)&&x.call(P||g[X],g[X],X,g)}function ie(g,x,P){function X(le,pe){const fe=g.removeEventListener;fe&&fe.call(g,le,pe,!1)}function Y(le){let pe,fe;g.nodeName&&(x?(pe={},pe[x]=!0):pe=le,E(pe,function(z,Q){if(le[Q])for(fe=le[Q].length;fe--;)X(Q,le[Q][fe].fn)}))}var K=typeof g=="function"&&g.prototype||g;if(Object.hasOwnProperty.call(K,"hcEvents")){const le=K.hcEvents;x?(K=le[x]||[],P?(le[x]=K.filter(function(pe){return P!==pe.fn}),X(x,P)):(Y(le),le[x]=[])):(Y(le),delete K.hcEvents)}}function ee(g,x,P,X){if(P=P||{},V.createEvent&&(g.dispatchEvent||g.fireEvent&&g!==o)){var Y=V.createEvent("Events");Y.initEvent(x,!0,!0),P=G(Y,P),g.dispatchEvent?g.dispatchEvent(P):g.fireEvent(x,P)}else if(g.hcEvents){P.target||G(P,{preventDefault:function(){P.defaultPrevented=!0},target:g,type:x}),Y=[];let K=g,le=!1;for(;K.hcEvents;)Object.hasOwnProperty.call(K,"hcEvents")&&K.hcEvents[x]&&(Y.length&&(le=!0),Y.unshift.apply(Y,K.hcEvents[x])),K=Object.getPrototypeOf(K);le&&Y.sort((pe,fe)=>pe.order-fe.order),Y.forEach(pe=>{pe.fn.call(g,P)===!1&&P.preventDefault()})}X&&!P.defaultPrevented&&X.call(g,P)}const{charts:$,doc:V,win:j}=o;(u||(u={})).messages=[],Math.easeInOutSine=function(g){return-.5*(Math.cos(Math.PI*g)-1)};var w=Array.prototype.find?function(g,x){return g.find(x)}:function(g,x){let P;const X=g.length;for(P=0;P<X;P++)if(x(g[P],P))return g[P]};E({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(g,x){o[x]=function(P){return u(32,!1,void 0,{[`Highcharts.${x}`]:`use Array.${g}`}),Array.prototype[g].apply(P,[].slice.call(arguments,1))}});let D;const m=function(){const g=Math.random().toString(36).substring(2,9)+"-";let x=0;return function(){return"highcharts-"+(D?"":g)+x++}}();return j.jQuery&&(j.jQuery.fn.highcharts=function(){const g=[].slice.call(arguments);if(this[0])return g[0]?(new o[v(g[0])?g.shift():"Chart"](this[0],g[0],g[1]),this):$[L(this[0],"data-highcharts-chart")]}),w={addEvent:function(g,x,P,X={}){var Y=typeof g=="function"&&g.prototype||g;Object.hasOwnProperty.call(Y,"hcEvents")||(Y.hcEvents={}),Y=Y.hcEvents,o.Point&&g instanceof o.Point&&g.series&&g.series.chart&&(g.series.chart.runTrackerClick=!0);const K=g.addEventListener;return K&&K.call(g,x,P,o.supportsPassiveEvents?{passive:X.passive===void 0?x.indexOf("touch")!==-1:X.passive,capture:!1}:!1),Y[x]||(Y[x]=[]),Y[x].push({fn:P,order:typeof X.order=="number"?X.order:1/0}),Y[x].sort((le,pe)=>le.order-pe.order),function(){ie(g,x,P)}},arrayMax:function(g){let x=g.length,P=g[0];for(;x--;)g[x]>P&&(P=g[x]);return P},arrayMin:function(g){let x=g.length,P=g[0];for(;x--;)g[x]<P&&(P=g[x]);return P},attr:L,clamp:function(g,x,P){return g>x?g<P?g:P:x},cleanRecursively:h,clearTimeout:function(g){O(g)&&clearTimeout(g)},correctFloat:H,createElement:function(g,x,P,X,Y){return g=V.createElement(g),x&&G(g,x),Y&&S(g,{padding:"0",border:"none",margin:"0"}),P&&S(g,P),X&&X.appendChild(g),g},css:S,defined:O,destroyObjectProperties:function(g,x){E(g,function(P,X){P&&P!==x&&P.destroy&&P.destroy(),delete g[X]})},discardElement:function(g){g&&g.parentElement&&g.parentElement.removeChild(g)},erase:function(g,x){let P=g.length;for(;P--;)if(g[P]===x){g.splice(P,1);break}},error:u,extend:G,extendClass:function(g,x){const P=function(){};return P.prototype=new g,G(P.prototype,x),P},find:w,fireEvent:ee,getMagnitude:A,getNestedProperty:function(g,x){for(g=g.split(".");g.length&&O(x);){const P=g.shift();if(typeof P>"u"||P==="__proto__"||(x=x[P],!O(x)||typeof x=="function"||typeof x.nodeType=="number"||x===j))return}return x},getStyle:U,inArray:function(g,x,P){return u(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),x.indexOf(g,P)},isArray:I,isClass:B,isDOMElement:M,isFunction:function(g){return typeof g=="function"},isNumber:W,isObject:J,isString:v,keys:function(g){return u(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(g)},merge:function(){let g,x=arguments,P={};const X=function(K,le){return typeof K!="object"&&(K={}),E(le,function(pe,fe){fe!=="__proto__"&&fe!=="constructor"&&(!J(pe,!0)||B(pe)||M(pe)?K[fe]=le[fe]:K[fe]=X(K[fe]||{},pe))}),K};x[0]===!0&&(P=x[1],x=Array.prototype.slice.call(x,2));const Y=x.length;for(g=0;g<Y;g++)P=X(P,x[g]);return P},normalizeTickInterval:function(g,x,P,X,Y){let K=g;P=k(P,A(g));const le=g/P;for(x||(x=Y?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],X===!1&&(P===1?x=x.filter(function(pe){return pe%1===0}):.1>=P&&(x=[1/P]))),X=0;X<x.length&&(K=x[X],!(Y&&K*P>=g||!Y&&le<=(x[X]+(x[X+1]||x[X]))/2));X++);return K=H(K*P,-Math.round(Math.log(.001)/Math.LN10))},objectEach:E,offset:function(g){const x=V.documentElement;return g=g.parentElement||g.parentNode?g.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:g.top+(j.pageYOffset||x.scrollTop)-(x.clientTop||0),left:g.left+(j.pageXOffset||x.scrollLeft)-(x.clientLeft||0),width:g.width,height:g.height}},pad:function(g,x,P){return Array((x||2)+1-String(g).replace("-","").length).join(P||"0")+g},pick:k,pInt:s,pushUnique:function(g,x){return 0>g.indexOf(x)&&!!g.push(x)},relativeLength:function(g,x,P){return/%$/.test(g)?x*parseFloat(g)/100+(P||0):parseFloat(g)},removeEvent:ie,splat:function(g){return I(g)?g:[g]},stableSort:function(g,x){const P=g.length;let X,Y;for(Y=0;Y<P;Y++)g[Y].safeI=Y;for(g.sort(function(K,le){return X=x(K,le),X===0?K.safeI-le.safeI:X}),Y=0;Y<P;Y++)delete g[Y].safeI},syncTimeout:function(g,x,P){return 0<x?setTimeout(g,x,P):(g.call(0,P),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:m,useSerialIds:function(g){return D=k(g,D)},wrap:function(g,x,P){const X=g[x];g[x]=function(){const Y=arguments,K=this;return P.apply(this,[function(){return X.apply(K,arguments.length?arguments:Y)}].concat([].slice.call(arguments)))}}},w}),i(r,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),i(r,"Core/Color/Color.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,u){const{isNumber:h,merge:s,pInt:v}=u;class I{static parse(M){return M?new I(M):I.None}constructor(M){this.rgba=[NaN,NaN,NaN,NaN],this.input=M;const B=o.Color;if(B&&B!==I)return new B(M);this.init(M)}init(M){let B,W;if(typeof M=="object"&&typeof M.stops<"u")this.stops=M.stops.map(G=>new I(G[1]));else if(typeof M=="string"){if(this.input=M=I.names[M.toLowerCase()]||M,M.charAt(0)==="#"){var O=M.length,L=parseInt(M.substr(1),16);O===7?B=[(L&16711680)>>16,(L&65280)>>8,L&255,1]:O===4&&(B=[(L&3840)>>4|(L&3840)>>8,(L&240)>>4|L&240,(L&15)<<4|L&15,1])}if(!B)for(L=I.parsers.length;L--&&!B;)W=I.parsers[L],(O=W.regex.exec(M))&&(B=W.parse(O))}B&&(this.rgba=B)}get(M){const B=this.input,W=this.rgba;if(typeof B=="object"&&typeof this.stops<"u"){const O=s(B);return O.stops=[].slice.call(O.stops),this.stops.forEach((L,G)=>{O.stops[G]=[O.stops[G][0],L.get(M)]}),O}return W&&h(W[0])?M==="rgb"||!M&&W[3]===1?"rgb("+W[0]+","+W[1]+","+W[2]+")":M==="a"?`${W[3]}`:"rgba("+W.join(",")+")":B}brighten(M){const B=this.rgba;if(this.stops)this.stops.forEach(function(W){W.brighten(M)});else if(h(M)&&M!==0)for(let W=0;3>W;W++)B[W]+=v(255*M),0>B[W]&&(B[W]=0),255<B[W]&&(B[W]=255);return this}setOpacity(M){return this.rgba[3]=M,this}tweenTo(M,B){const W=this.rgba,O=M.rgba;return!h(W[0])||!h(O[0])?M.input||"none":(M=O[3]!==1||W[3]!==1,(M?"rgba(":"rgb(")+Math.round(O[0]+(W[0]-O[0])*(1-B))+","+Math.round(O[1]+(W[1]-O[1])*(1-B))+","+Math.round(O[2]+(W[2]-O[2])*(1-B))+(M?","+(O[3]+(W[3]-O[3])*(1-B)):"")+")")}}return I.names={white:"#ffffff",black:"#000000"},I.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(J){return[v(J[1]),v(J[2]),v(J[3]),parseFloat(J[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(J){return[v(J[1]),v(J[2]),v(J[3]),1]}}],I.None=new I(""),I}),i(r,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),i(r,"Core/Time.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,u){const{win:h}=o,{defined:s,error:v,extend:I,isObject:J,merge:M,objectEach:B,pad:W,pick:O,splat:L,timeUnits:G}=u,k=o.isSafari&&h.Intl&&h.Intl.DateTimeFormat.prototype.formatRange,S=o.isSafari&&h.Intl&&!h.Intl.DateTimeFormat.prototype.formatRange;class A{constructor(U){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=h.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(U)}get(U,E){if(this.variableTimezone||this.timezoneOffset){const ie=E.getTime(),ee=ie-this.getTimezoneOffset(E);return E.setTime(ee),U=E["getUTC"+U](),E.setTime(ie),U}return this.useUTC?E["getUTC"+U]():E["get"+U]()}set(U,E,ie){if(this.variableTimezone||this.timezoneOffset){if(U==="Milliseconds"||U==="Seconds"||U==="Minutes"&&this.getTimezoneOffset(E)%36e5===0)return E["setUTC"+U](ie);var ee=this.getTimezoneOffset(E);return ee=E.getTime()-ee,E.setTime(ee),E["setUTC"+U](ie),U=this.getTimezoneOffset(E),ee=E.getTime()+U,E.setTime(ee)}return this.useUTC||k&&U==="FullYear"?E["setUTC"+U](ie):E["set"+U](ie)}update(U={}){const E=O(U.useUTC,!0);this.options=U=M(!0,this.options,U),this.Date=U.Date||h.Date||Date,this.timezoneOffset=(this.useUTC=E)&&U.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=E&&!(!U.getTimezoneOffset&&!U.timezone)}makeTime(U,E,ie,ee,$,V){let j,w,D;return this.useUTC?(j=this.Date.UTC.apply(0,arguments),w=this.getTimezoneOffset(j),j+=w,D=this.getTimezoneOffset(j),w!==D?j+=D-w:w-36e5!==this.getTimezoneOffset(j-36e5)||S||(j-=36e5)):j=new this.Date(U,E,O(ie,1),O(ee,0),O($,0),O(V,0)).getTime(),j}timezoneOffsetFunction(){const U=this,E=this.options,ie=E.getTimezoneOffset,ee=E.moment||h.moment;if(!this.useUTC)return function($){return 6e4*new Date($.toString()).getTimezoneOffset()};if(E.timezone){if(ee)return function($){return 6e4*-ee.tz($,E.timezone).utcOffset()};v(25)}return this.useUTC&&ie?function($){return 6e4*ie($.valueOf())}:function(){return 6e4*(U.timezoneOffset||0)}}dateFormat(U,E,ie){if(!s(E)||isNaN(E))return o.defaultOptions.lang&&o.defaultOptions.lang.invalidDate||"";U=O(U,"%Y-%m-%d %H:%M:%S");const ee=this;var $=new this.Date(E);const V=this.get("Hours",$),j=this.get("Day",$),w=this.get("Date",$),D=this.get("Month",$),m=this.get("FullYear",$),g=o.defaultOptions.lang,x=g&&g.weekdays,P=g&&g.shortWeekdays;return $=I({a:P?P[j]:x[j].substr(0,3),A:x[j],d:W(w),e:W(w,2," "),w:j,b:g.shortMonths[D],B:g.months[D],m:W(D+1),o:D+1,y:m.toString().substr(2,2),Y:m,H:W(V),k:V,I:W(V%12||12),l:V%12||12,M:W(this.get("Minutes",$)),p:12>V?"AM":"PM",P:12>V?"am":"pm",S:W($.getSeconds()),L:W(Math.floor(E%1e3),3)},o.dateFormats),B($,function(X,Y){for(;U.indexOf("%"+Y)!==-1;)U=U.replace("%"+Y,typeof X=="function"?X.call(ee,E):X)}),ie?U.substr(0,1).toUpperCase()+U.substr(1):U}resolveDTLFormat(U){return J(U,!0)?U:(U=L(U),{main:U[0],from:U[1],to:U[2]})}getTimeTicks(U,E,ie,ee){const $=this,V=[],j={};var w=new $.Date(E);const D=U.unitRange,m=U.count||1;let g;if(ee=O(ee,1),s(E)){if($.set("Milliseconds",w,D>=G.second?0:m*Math.floor($.get("Milliseconds",w)/m)),D>=G.second&&$.set("Seconds",w,D>=G.minute?0:m*Math.floor($.get("Seconds",w)/m)),D>=G.minute&&$.set("Minutes",w,D>=G.hour?0:m*Math.floor($.get("Minutes",w)/m)),D>=G.hour&&$.set("Hours",w,D>=G.day?0:m*Math.floor($.get("Hours",w)/m)),D>=G.day&&$.set("Date",w,D>=G.month?1:Math.max(1,m*Math.floor($.get("Date",w)/m))),D>=G.month){$.set("Month",w,D>=G.year?0:m*Math.floor($.get("Month",w)/m));var x=$.get("FullYear",w)}D>=G.year&&$.set("FullYear",w,x-x%m),D===G.week&&(x=$.get("Day",w),$.set("Date",w,$.get("Date",w)-x+ee+(x<ee?-7:0))),x=$.get("FullYear",w),ee=$.get("Month",w);const P=$.get("Date",w),X=$.get("Hours",w);for(E=w.getTime(),!$.variableTimezone&&$.useUTC||!s(ie)||(g=ie-E>4*G.month||$.getTimezoneOffset(E)!==$.getTimezoneOffset(ie)),E=w.getTime(),w=1;E<ie;)V.push(E),E=D===G.year?$.makeTime(x+w*m,0):D===G.month?$.makeTime(x,ee+w*m):!g||D!==G.day&&D!==G.week?g&&D===G.hour&&1<m?$.makeTime(x,ee,P,X+w*m):E+D*m:$.makeTime(x,ee,P+w*m*(D===G.day?1:7)),w++;V.push(E),D<=G.hour&&1e4>V.length&&V.forEach(function(Y){Y%18e5===0&&$.dateFormat("%H%M%S%L",Y)==="000000000"&&(j[Y]="day")})}return V.info=I(U,{higherRanks:j,totalRange:D*m}),V}getDateFormat(U,E,ie,ee){const $=this.dateFormat("%m-%d %H:%M:%S.%L",E),V={millisecond:15,second:12,minute:9,hour:6,day:3};let j,w="millisecond";for(j in G){if(U===G.week&&+this.dateFormat("%w",E)===ie&&$.substr(6)==="00:00:00.000"){j="week";break}if(G[j]>U){j=w;break}if(V[j]&&$.substr(V[j])!=="01-01 00:00:00.000".substr(V[j]))break;j!=="week"&&(w=j)}return this.resolveDTLFormat(ee[j]).main}}return A}),i(r,"Core/Defaults.js",[r["Core/Chart/ChartDefaults.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Color/Palettes.js"],r["Core/Time.js"],r["Core/Utilities.js"]],function(o,u,h,s,v,I){const{isTouchDevice:J,svg:M}=h,{merge:B}=I,W={colors:s.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:o,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:M,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:J?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};W.chart.styledMode=!1;const O=new v(W.time);return o={defaultOptions:W,defaultTime:O,getOptions:function(){return W},setOptions:function(L){return B(!0,W,L),(L.time||L.global)&&(h.time?h.time.update(B(W.global,W.time,L.global,L.time)):h.time=O),W}},o}),i(r,"Core/Animation/Fx.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,u,h){const{parse:s}=o,{win:v}=u,{isNumber:I,objectEach:J}=h;class M{constructor(W,O,L){this.pos=NaN,this.options=O,this.elem=W,this.prop=L}dSetter(){var W=this.paths;const O=W&&W[0];W=W&&W[1];const L=this.now||0;let G=[];if(L!==1&&O&&W)if(O.length===W.length&&1>L)for(let k=0;k<W.length;k++){const S=O[k],A=W[k],H=[];for(let U=0;U<A.length;U++){const E=S[U],ie=A[U];I(E)&&I(ie)&&(A[0]!=="A"||U!==4&&U!==5)?H[U]=E+L*(ie-E):H[U]=ie}G.push(H)}else G=W;else G=this.toD||[];this.elem.attr("d",G,void 0,!0)}update(){const W=this.elem,O=this.prop,L=this.now,G=this.options.step;this[O+"Setter"]?this[O+"Setter"]():W.attr?W.element&&W.attr(O,L,null,!0):W.style[O]=L+this.unit,G&&G.call(W,L,this)}run(W,O,L){const G=this,k=G.options,S=function(U){return S.stopped?!1:G.step(U)},A=v.requestAnimationFrame||function(U){setTimeout(U,13)},H=function(){for(let U=0;U<M.timers.length;U++)M.timers[U]()||M.timers.splice(U--,1);M.timers.length&&A(H)};W!==O||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=W,this.end=O,this.unit=L,this.now=this.start,this.pos=0,S.elem=this.elem,S.prop=this.prop,S()&&M.timers.push(S)===1&&A(H)):(delete k.curAnim[this.prop],k.complete&&Object.keys(k.curAnim).length===0&&k.complete.call(this.elem))}step(W){const O=+new Date,L=this.options,G=this.elem,k=L.complete,S=L.duration,A=L.curAnim;let H;return G.attr&&!G.element?W=!1:W||O>=S+this.startTime?(this.now=this.end,this.pos=1,this.update(),H=A[this.prop]=!0,J(A,function(U){U!==!0&&(H=!1)}),H&&k&&k.call(G),W=!1):(this.pos=L.easing((O-this.startTime)/S),this.now=this.start+(this.end-this.start)*this.pos,this.update(),W=!0),W}initPath(W,O,L){function G($,V){for(;$.length<ie;){var j=$[0];const w=V[ie-$.length];w&&j[0]==="M"&&($[0]=w[0]==="C"?["C",j[1],j[2],j[1],j[2],j[1],j[2]]:["L",j[1],j[2]]),$.unshift(j),H&&(j=$.pop(),$.push($[$.length-1],j))}}function k($,V){for(;$.length<ie;)if(V=$[Math.floor($.length/U)-1].slice(),V[0]==="C"&&(V[1]=V[5],V[2]=V[6]),H){const j=$[Math.floor($.length/U)].slice();$.splice($.length/2,0,V,j)}else $.push(V)}const S=W.startX,A=W.endX;L=L.slice();const H=W.isArea,U=H?2:1;let E,ie,ee;if(O=O&&O.slice(),!O)return[L,L];if(S&&A&&A.length){for(W=0;W<S.length;W++)if(S[W]===A[0]){E=W;break}else if(S[0]===A[A.length-S.length+W]){E=W,ee=!0;break}else if(S[S.length-1]===A[A.length-S.length+W]){E=S.length-W;break}typeof E>"u"&&(O=[])}return O.length&&I(E)&&(ie=L.length+E*U,ee?(G(O,L),k(L,O)):(G(L,O),k(O,L))),[O,L]}fillSetter(){M.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}}return M.timers=[],M}),i(r,"Core/Animation/AnimationUtilities.js",[r["Core/Animation/Fx.js"],r["Core/Utilities.js"]],function(o,u){function h(G){return B(G)?W({duration:500,defer:0},G):{duration:G?500:0,defer:0}}function s(G,k){let S=o.timers.length;for(;S--;)o.timers[S].elem!==G||k&&k!==o.timers[S].prop||(o.timers[S].stopped=!0)}const{defined:v,getStyle:I,isArray:J,isNumber:M,isObject:B,merge:W,objectEach:O,pick:L}=u;return{animate:function(G,k,S){let A,H="",U,E,ie;B(S)||(ie=arguments,S={duration:ie[2],easing:ie[3],complete:ie[4]}),M(S.duration)||(S.duration=400),S.easing=typeof S.easing=="function"?S.easing:Math[S.easing]||Math.easeInOutSine,S.curAnim=W(k),O(k,function(ee,$){s(G,$),E=new o(G,S,$),U=void 0,$==="d"&&J(k.d)?(E.paths=E.initPath(G,G.pathArray,k.d),E.toD=k.d,A=0,U=1):G.attr?A=G.attr($):(A=parseFloat(I(G,$))||0,$!=="opacity"&&(H="px")),U||(U=ee),typeof U=="string"&&U.match("px")&&(U=U.replace(/px/g,"")),E.run(A,U,H)})},animObject:h,getDeferredAnimation:function(G,k,S){const A=h(k);let H=0,U=0;return(S?[S]:G.series).forEach(E=>{E=h(E.options.animation),H=k&&v(k.defer)?A.defer:Math.max(H,E.duration+E.defer),U=Math.min(A.duration,E.duration)}),G.renderer.forExport&&(H=0),{defer:Math.max(0,H-U),duration:Math.min(H,U)}},setAnimation:function(G,k){k.renderer.globalAnimation=L(G,k.options.chart.animation,!0)},stop:s}}),i(r,"Core/Renderer/HTML/AST.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,u){const{SVG_NS:h,win:s}=o,{attr:v,createElement:I,css:J,error:M,isFunction:B,isString:W,objectEach:O,splat:L}=u;({trustedTypes:u}=s);const G=u&&B(u.createPolicy)&&u.createPolicy("highcharts",{createHTML:H=>H});u=G?G.createHTML(""):"";try{var k=!!new DOMParser().parseFromString(u,"text/html")}catch{k=!1}const S=k;class A{static filterUserAttributes(U){return O(U,(E,ie)=>{let ee=!0;A.allowedAttributes.indexOf(ie)===-1&&(ee=!1),["background","dynsrc","href","lowsrc","src"].indexOf(ie)!==-1&&(ee=W(E)&&A.allowedReferences.some($=>E.indexOf($)===0)),ee||(M(33,!1,void 0,{"Invalid attribute in config":`${ie}`}),delete U[ie]),W(E)&&U[ie]&&(U[ie]=E.replace(/</g,"&lt;"))}),U}static parseStyle(U){return U.split(";").reduce((E,ie)=>{ie=ie.split(":").map($=>$.trim());const ee=ie.shift();return ee&&ie.length&&(E[ee.replace(/-([a-z])/g,$=>$[1].toUpperCase())]=ie.join(":")),E},{})}static setElementHTML(U,E){U.innerHTML=A.emptyHTML,E&&new A(E).addToDOM(U)}constructor(U){this.nodes=typeof U=="string"?this.parseMarkup(U):U}addToDOM(U){function E(ie,ee){let $;return L(ie).forEach(function(V){var j=V.tagName;const w=V.textContent?o.doc.createTextNode(V.textContent):void 0,D=A.bypassHTMLFiltering;let m;if(j)if(j==="#text")m=w;else if(A.allowedTags.indexOf(j)!==-1||D){j=o.doc.createElementNS(j==="svg"?h:ee.namespaceURI||h,j);const g=V.attributes||{};O(V,function(x,P){P!=="tagName"&&P!=="attributes"&&P!=="children"&&P!=="style"&&P!=="textContent"&&(g[P]=x)}),v(j,D?g:A.filterUserAttributes(g)),V.style&&J(j,V.style),w&&j.appendChild(w),E(V.children||[],j),m=j}else M(33,!1,void 0,{"Invalid tagName in config":j});m&&ee.appendChild(m),$=m}),$}return E(this.nodes,U)}parseMarkup(U){const E=[];if(U=U.trim().replace(/ style=(["'])/g," data-style=$1"),S)U=new DOMParser().parseFromString(G?G.createHTML(U):U,"text/html");else{const ee=I("div");ee.innerHTML=U,U={body:ee}}const ie=(ee,$)=>{var V=ee.nodeName.toLowerCase();const j={tagName:V};if(V==="#text"&&(j.textContent=ee.textContent||""),V=ee.attributes){const w={};[].forEach.call(V,D=>{D.name==="data-style"?j.style=A.parseStyle(D.value):w[D.name]=D.value}),j.attributes=w}if(ee.childNodes.length){const w=[];[].forEach.call(ee.childNodes,D=>{ie(D,w)}),w.length&&(j.children=w)}$.push(j)};return[].forEach.call(U.body.childNodes,ee=>ie(ee,E)),E}}return A.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),A.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),A.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),A.emptyHTML=u,A.bypassHTMLFiltering=!1,A}),i(r,"Core/FormatUtilities.js",[r["Core/Defaults.js"],r["Core/Utilities.js"]],function(o,u){function h(W,O,L,G){W=+W||0,O=+O;const k=s.lang;var S=(W.toString().split(".")[1]||"").split("e")[0].length;const A=W.toString().split("e"),H=O;if(O===-1)O=Math.min(S,20);else if(!J(O))O=2;else if(O&&A[1]&&0>A[1]){var U=O+ +A[1];0<=U?(A[0]=(+A[0]).toExponential(U).split("e")[0],O=U):(A[0]=A[0].split(".")[0]||0,W=20>O?(A[0]*Math.pow(10,A[1])).toFixed(O):0,A[1]=0)}U=(Math.abs(A[1]?A[0]:W)+Math.pow(10,-Math.max(O,S)-1)).toFixed(O),S=String(B(U));const E=3<S.length?S.length%3:0;return L=M(L,k.decimalPoint),G=M(G,k.thousandsSep),W=(0>W?"-":"")+(E?S.substr(0,E)+G:""),W=0>+A[1]&&!H?"0":W+S.substr(E).replace(/(\d{3})(?=\d)/g,"$1"+G),O&&(W+=L+U.slice(-O)),A[1]&&+W!=0&&(W+="e"+A[1]),W}const{defaultOptions:s,defaultTime:v}=o,{getNestedProperty:I,isNumber:J,pick:M,pInt:B}=u;return{dateFormat:function(W,O,L){return v.dateFormat(W,O,L)},format:function(W,O,L){var G="{";let k=!1,S;const A=/f$/,H=/\.([0-9])/,U=s.lang,E=L&&L.time||v;L=L&&L.numberFormatter||h;const ie=[];for(;W&&(S=W.indexOf(G),S!==-1);){var ee=W.slice(0,S);if(k){if(ee=ee.split(":"),G=I(ee.shift()||"",O),ee.length&&typeof G=="number")if(ee=ee.join(":"),A.test(ee)){const $=parseInt((ee.match(H)||["","-1"])[1],10);G!==null&&(G=L(G,$,U.decimalPoint,-1<ee.indexOf(",")?U.thousandsSep:""))}else G=E.dateFormat(ee,G);ie.push(G)}else ie.push(ee);W=W.slice(S+1),G=(k=!k)?"}":"{"}return ie.push(W),ie.join("")},numberFormat:h}}),i(r,"Core/Renderer/RendererUtilities.js",[r["Core/Utilities.js"]],function(o){const{clamp:u,pick:h,stableSort:s}=o;var v;return function(I){function J(M,B,W){const O=M;var L=O.reducedLen||B,G=(E,ie)=>(ie.rank||0)-(E.rank||0);const k=(E,ie)=>E.target-ie.target;let S,A=!0,H=[],U=0;for(S=M.length;S--;)U+=M[S].size;if(U>L){for(s(M,G),U=S=0;U<=L;)U+=M[S].size,S++;H=M.splice(S-1,M.length)}for(s(M,k),M=M.map(E=>({size:E.size,targets:[E.target],align:h(E.align,.5)}));A;){for(S=M.length;S--;)L=M[S],G=(Math.min.apply(0,L.targets)+Math.max.apply(0,L.targets))/2,L.pos=u(G-L.size*L.align,0,B-L.size);for(S=M.length,A=!1;S--;)0<S&&M[S-1].pos+M[S-1].size>M[S].pos&&(M[S-1].size+=M[S].size,M[S-1].targets=M[S-1].targets.concat(M[S].targets),M[S-1].align=.5,M[S-1].pos+M[S-1].size>B&&(M[S-1].pos=B-M[S-1].size),M.splice(S,1),A=!0)}return O.push.apply(O,H),S=0,M.some(E=>{let ie=0;return(E.targets||[]).some(()=>(O[S].pos=E.pos+ie,typeof W<"u"&&Math.abs(O[S].pos-O[S].target)>W?(O.slice(0,S+1).forEach(ee=>delete ee.pos),O.reducedLen=(O.reducedLen||B)-.1*B,O.reducedLen>.1*B&&J(O,B,W),!0):(ie+=O[S].size,S++,!1)))}),s(O,k),O}I.distribute=J}(v||(v={})),v}),i(r,"Core/Renderer/SVG/SVGElement.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,u,h,s){const{animate:v,animObject:I,stop:J}=o,{deg2rad:M,doc:B,svg:W,SVG_NS:O,win:L}=h,{addEvent:G,attr:k,createElement:S,css:A,defined:H,erase:U,extend:E,fireEvent:ie,isArray:ee,isFunction:$,isObject:V,isString:j,merge:w,objectEach:D,pick:m,pInt:g,syncTimeout:x,uniqueKey:P}=s;class X{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=O}_defaultGetter(K){return K=m(this[K+"Value"],this[K],this.element?this.element.getAttribute(K):null,0),/^[\-0-9\.]+$/.test(K)&&(K=parseFloat(K)),K}_defaultSetter(K,le,pe){pe.setAttribute(le,K)}add(K){const le=this.renderer,pe=this.element;let fe;return K&&(this.parentGroup=K),typeof this.textStr<"u"&&this.element.nodeName==="text"&&le.buildText(this),this.added=!0,(!K||K.handleZ||this.zIndex)&&(fe=this.zIndexSetter()),fe||(K?K.element:le.box).appendChild(pe),this.onAdd&&this.onAdd(),this}addClass(K,le){const pe=le?"":this.attr("class")||"";return K=(K||"").split(/ /g).reduce(function(fe,z){return pe.indexOf(z)===-1&&fe.push(z),fe},pe?[pe]:[]).join(" "),K!==pe&&this.attr("class",K),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(K,le,pe){const fe={};var z=this.renderer,Q=z.alignedObjects,se;let de,Ce;K?(this.alignOptions=K,this.alignByTranslate=le,(!pe||j(pe))&&(this.alignTo=se=pe||"renderer",U(Q,this),Q.push(this),pe=void 0)):(K=this.alignOptions,le=this.alignByTranslate,se=this.alignTo),pe=m(pe,z[se],se==="scrollablePlotBox"?z.plotBox:void 0,z),se=K.align;const ne=K.verticalAlign;return z=(pe.x||0)+(K.x||0),Q=(pe.y||0)+(K.y||0),se==="right"?de=1:se==="center"&&(de=2),de&&(z+=(pe.width-(K.width||0))/de),fe[le?"translateX":"x"]=Math.round(z),ne==="bottom"?Ce=1:ne==="middle"&&(Ce=2),Ce&&(Q+=(pe.height-(K.height||0))/Ce),fe[le?"translateY":"y"]=Math.round(Q),this[this.placed?"animate":"attr"](fe),this.placed=!0,this.alignAttr=fe,this}alignSetter(K){const le={left:"start",center:"middle",right:"end"};le[K]&&(this.alignValue=K,this.element.setAttribute("text-anchor",le[K]))}animate(K,le,pe){const fe=I(m(le,this.renderer.globalAnimation,!0));return le=fe.defer,B.hidden&&(fe.duration=0),fe.duration!==0?(pe&&(fe.complete=pe),x(()=>{this.element&&v(this,K,fe)},le)):(this.attr(K,void 0,pe||fe.complete),D(K,function(z,Q){fe.step&&fe.step.call(this,z,{prop:Q,pos:1,elem:this})},this)),this}applyTextOutline(K){const le=this.element;K.indexOf("contrast")!==-1&&(K=K.replace(/contrast/g,this.renderer.getContrast(le.style.fill)));var pe=K.split(" ");if(K=pe[pe.length-1],(pe=pe[0])&&pe!=="none"&&h.svg){this.fakeTS=!0,pe=pe.replace(/(^[\d\.]+)(.*?)$/g,function(Q,se,de){return 2*Number(se)+de}),this.removeTextOutline();const fe=B.createElementNS(O,"tspan");k(fe,{class:"highcharts-text-outline",fill:K,stroke:K,"stroke-width":pe,"stroke-linejoin":"round"}),K=le.querySelector("textPath")||le,[].forEach.call(K.childNodes,Q=>{const se=Q.cloneNode(!0);se.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(de=>se.removeAttribute(de)),fe.appendChild(se)});let z=0;[].forEach.call(K.querySelectorAll("text tspan"),Q=>{z+=Number(Q.getAttribute("dy"))}),pe=B.createElementNS(O,"tspan"),pe.textContent="​",k(pe,{x:Number(le.getAttribute("x")),dy:-z}),fe.appendChild(pe),K.insertBefore(fe,K.firstChild)}}attr(K,le,pe,fe){const z=this.element,Q=X.symbolCustomAttribs;let se,de,Ce=this,ne,ve;return typeof K=="string"&&typeof le<"u"&&(se=K,K={},K[se]=le),typeof K=="string"?Ce=(this[K+"Getter"]||this._defaultGetter).call(this,K,z):(D(K,function(_e,oe){ne=!1,fe||J(this,oe),this.symbolName&&Q.indexOf(oe)!==-1&&(de||(this.symbolAttr(K),de=!0),ne=!0),!this.rotation||oe!=="x"&&oe!=="y"||(this.doTransform=!0),ne||(ve=this[oe+"Setter"]||this._defaultSetter,ve.call(this,_e,oe,z))},this),this.afterSetters()),pe&&pe.call(this),Ce}clip(K){return this.attr("clip-path",K?"url("+this.renderer.url+"#"+K.id+")":"none")}crisp(K,le){le=le||K.strokeWidth||0;const pe=Math.round(le)%2/2;return K.x=Math.floor(K.x||this.x||0)+pe,K.y=Math.floor(K.y||this.y||0)+pe,K.width=Math.floor((K.width||this.width||0)-2*pe),K.height=Math.floor((K.height||this.height||0)-2*pe),H(K.strokeWidth)&&(K.strokeWidth=le),K}complexColor(K,le,pe){const fe=this.renderer;let z,Q,se,de,Ce,ne,ve,_e,oe,ge,Te=[],Re;ie(this.renderer,"complexColor",{args:arguments},function(){if(K.radialGradient?Q="radialGradient":K.linearGradient&&(Q="linearGradient"),Q){if(se=K[Q],Ce=fe.gradients,ne=K.stops,oe=pe.radialReference,ee(se)&&(K[Q]=se={x1:se[0],y1:se[1],x2:se[2],y2:se[3],gradientUnits:"userSpaceOnUse"}),Q==="radialGradient"&&oe&&!H(se.gradientUnits)&&(de=se,se=w(se,fe.getRadialAttr(oe,de),{gradientUnits:"userSpaceOnUse"})),D(se,function(Le,$e){$e!=="id"&&Te.push($e,Le)}),D(ne,function(Le){Te.push(Le)}),Te=Te.join(","),Ce[Te])ge=Ce[Te].attr("id");else{se.id=ge=P();const Le=Ce[Te]=fe.createElement(Q).attr(se).add(fe.defs);Le.radAttr=de,Le.stops=[],ne.forEach(function($e){$e[1].indexOf("rgba")===0?(z=u.parse($e[1]),ve=z.get("rgb"),_e=z.get("a")):(ve=$e[1],_e=1),$e=fe.createElement("stop").attr({offset:$e[0],"stop-color":ve,"stop-opacity":_e}).add(Le),Le.stops.push($e)})}Re="url("+fe.url+"#"+ge+")",pe.setAttribute(le,Re),pe.gradient=Te,K.toString=function(){return Re}}})}css(K){const le=this.styles,pe={},fe=this.element;let z,Q=!le;if(K.color&&(K.fill=K.color),le&&D(K,function(se,de){le&&le[de]!==se&&(pe[de]=se,Q=!0)}),Q){le&&(K=E(le,pe)),K.width===null||K.width==="auto"?delete this.textWidth:fe.nodeName.toLowerCase()==="text"&&K.width&&(z=this.textWidth=g(K.width)),this.styles=K,z&&!W&&this.renderer.forExport&&delete K.width;const se=w(K);fe.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(de=>se&&delete se[de]),A(fe,se)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),K.textOutline&&this.applyTextOutline(K.textOutline)),this}dashstyleSetter(K){let le=this["stroke-width"];if(le==="inherit"&&(le=1),K=K&&K.toLowerCase()){const pe=K.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(K=pe.length;K--;)pe[K]=""+g(pe[K])*m(le,NaN);K=pe.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",K)}}destroy(){const K=this;var le=K.element||{};const pe=K.renderer;var fe=le.ownerSVGElement;let z=le.nodeName==="SPAN"&&K.parentGroup||void 0;if(le.onclick=le.onmouseout=le.onmouseover=le.onmousemove=le.point=null,J(K),K.clipPath&&fe){const Q=K.clipPath;[].forEach.call(fe.querySelectorAll("[clip-path],[CLIP-PATH]"),function(se){-1<se.getAttribute("clip-path").indexOf(Q.element.id)&&se.removeAttribute("clip-path")}),K.clipPath=Q.destroy()}if(K.stops){for(fe=0;fe<K.stops.length;fe++)K.stops[fe].destroy();K.stops.length=0,K.stops=void 0}for(K.safeRemoveChild(le);z&&z.div&&z.div.childNodes.length===0;)le=z.parentGroup,K.safeRemoveChild(z.div),delete z.div,z=le;K.alignTo&&U(pe.alignedObjects,K),D(K,function(Q,se){K[se]&&K[se].parentGroup===K&&K[se].destroy&&K[se].destroy(),delete K[se]})}dSetter(K,le,pe){ee(K)&&(typeof K[0]=="string"&&(K=this.renderer.pathToSegments(K)),this.pathArray=K,K=K.reduce((fe,z,Q)=>z&&z.join?(Q?fe+" ":"")+z.join(" "):(z||"").toString(),"")),/(NaN| {2}|^$)/.test(K)&&(K="M 0 0"),this[le]!==K&&(pe.setAttribute(le,K),this[le]=K)}fadeOut(K){const le=this;le.animate({opacity:0},{duration:m(K,150),complete:function(){le.hide()}})}fillSetter(K,le,pe){typeof K=="string"?pe.setAttribute(le,K):K&&this.complexColor(K,le,pe)}getBBox(K,le){const{alignValue:pe,element:fe,renderer:z,styles:Q,textStr:se}=this,{cache:de,cacheKeys:Ce}=z;var ne=fe.namespaceURI===this.SVG_NS;le=m(le,this.rotation,0);var ve=z.styledMode?fe&&X.prototype.getStyle.call(fe,"font-size"):Q&&Q.fontSize;let _e,oe;if(H(se)&&(oe=se.toString(),oe.indexOf("<")===-1&&(oe=oe.replace(/[0-9]/g,"0")),oe+=["",z.rootFontSize,ve,le,this.textWidth,pe,Q&&Q.textOverflow,Q&&Q.fontWeight].join()),oe&&!K&&(_e=de[oe]),!_e){if(ne||z.forExport){try{var ge=this.fakeTS&&function(nt){const Qe=fe.querySelector(".highcharts-text-outline");Qe&&A(Qe,{display:nt})};$(ge)&&ge("none"),_e=fe.getBBox?E({},fe.getBBox()):{width:fe.offsetWidth,height:fe.offsetHeight,x:0,y:0},$(ge)&&ge("")}catch{}(!_e||0>_e.width)&&(_e={x:0,y:0,width:0,height:0})}else _e=this.htmlGetBBox();if(ge=_e.width,K=_e.height,ne&&(_e.height=K={"11px,17":14,"13px,20":16}[`${ve||""},${Math.round(K)}`]||K),le){ne=Number(fe.getAttribute("y")||0)-_e.y,ve={right:1,center:.5}[pe||0]||0;var Te=le*M,Re=(le-90)*M,Le=ge*Math.cos(Te);le=ge*Math.sin(Te);var $e=Math.cos(Re);Te=Math.sin(Re),ge=_e.x+ve*(ge-Le)+ne*$e,Re=ge+Le,$e=Re-K*$e,Le=$e-Le,ne=_e.y+ne-ve*le+ne*Te,ve=ne+le,K=ve-K*Te,le=K-le,_e.x=Math.min(ge,Re,$e,Le),_e.y=Math.min(ne,ve,K,le),_e.width=Math.max(ge,Re,$e,Le)-_e.x,_e.height=Math.max(ne,ve,K,le)-_e.y}}if(oe&&(se===""||0<_e.height)){for(;250<Ce.length;)delete de[Ce.shift()];de[oe]||Ce.push(oe),de[oe]=_e}return _e}getStyle(K){return L.getComputedStyle(this.element||this,"").getPropertyValue(K)}hasClass(K){return(""+this.attr("class")).split(" ").indexOf(K)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(K,le){this.element=le==="span"?S(le):B.createElementNS(this.SVG_NS,le),this.renderer=K,ie(this,"afterInit")}on(K,le){const{onEvents:pe}=this;return pe[K]&&pe[K](),pe[K]=G(this.element,K,le),this}opacitySetter(K,le,pe){this.opacity=K=Number(Number(K).toFixed(3)),pe.setAttribute(le,K)}removeClass(K){return this.attr("class",(""+this.attr("class")).replace(j(K)?new RegExp(`(^| )${K}( |$)`):K," ").replace(/ +/g," ").trim())}removeTextOutline(){const K=this.element.querySelector("tspan.highcharts-text-outline");K&&this.safeRemoveChild(K)}safeRemoveChild(K){const le=K.parentNode;le&&le.removeChild(K)}setRadialReference(K){const le=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=K,le&&le.radAttr&&le.animate(this.renderer.getRadialAttr(K,le.radAttr)),this}setTextPath(K,le){le=w(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},le);const pe=this.renderer.url,fe=this.text||this,z=fe.textPath,{attributes:Q,enabled:se}=le;return K=K||z&&z.path,z&&z.undo(),K&&se?(le=G(fe,"afterModifyTree",de=>{if(K&&se){let ne=K.attr("id");ne||K.attr("id",ne=P());var Ce={x:0,y:0};H(Q.dx)&&(Ce.dx=Q.dx,delete Q.dx),H(Q.dy)&&(Ce.dy=Q.dy,delete Q.dy),fe.attr(Ce),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),Ce=de.nodes.slice(0),de.nodes.length=0,de.nodes[0]={tagName:"textPath",attributes:E(Q,{"text-anchor":Q.textAnchor,href:`${pe}#${ne}`}),children:Ce}}}),fe.textPath={path:K,undo:le}):(fe.attr({dx:0,dy:0}),delete fe.textPath),this.added&&(fe.textCache="",this.renderer.buildText(fe)),this}shadow(K){var le;const{renderer:pe}=this,fe=w(((le=this.parentGroup)===null||le===void 0?void 0:le.rotation)===90?{offsetX:-1,offsetY:-1}:{},V(K)?K:{});return le=pe.shadowDefinition(fe),this.attr({filter:K?`url(${pe.url}#${le})`:"none"})}show(K=!0){return this.attr({visibility:K?"inherit":"visible"})}"stroke-widthSetter"(K,le,pe){this[le]=K,pe.setAttribute(le,K)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const K=this.getStyle("stroke-width");let le=0,pe;return K.indexOf("px")===K.length-2?le=g(K):K!==""&&(pe=B.createElementNS(O,"rect"),k(pe,{width:K,"stroke-width":0}),this.element.parentNode.appendChild(pe),le=pe.getBBox().width,pe.parentNode.removeChild(pe)),le}symbolAttr(K){const le=this;X.symbolCustomAttribs.forEach(function(pe){le[pe]=m(K[pe],le[pe])}),le.attr({d:le.renderer.symbols[le.symbolName](le.x,le.y,le.width,le.height,le)})}textSetter(K){K!==this.textStr&&(delete this.textPxLength,this.textStr=K,this.added&&this.renderer.buildText(this))}titleSetter(K){const le=this.element,pe=le.getElementsByTagName("title")[0]||B.createElementNS(this.SVG_NS,"title");le.insertBefore?le.insertBefore(pe,le.firstChild):le.appendChild(pe),pe.textContent=String(m(K,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const K=this.element;return K.parentNode.appendChild(K),this}translate(K,le){return this.attr({translateX:K,translateY:le})}updateTransform(){const{element:K,matrix:le,rotation:pe=0,scaleX:fe,scaleY:z,translateX:Q=0,translateY:se=0}=this,de=["translate("+Q+","+se+")"];H(le)&&de.push("matrix("+le.join(",")+")"),pe&&de.push("rotate("+pe+" "+m(this.rotationOriginX,K.getAttribute("x"),0)+" "+m(this.rotationOriginY,K.getAttribute("y")||0)+")"),(H(fe)||H(z))&&de.push("scale("+m(fe,1)+" "+m(z,1)+")"),de.length&&!(this.text||this).textPath&&K.setAttribute("transform",de.join(" "))}visibilitySetter(K,le,pe){K==="inherit"?pe.removeAttribute(le):this[le]!==K&&pe.setAttribute(le,K),this[le]=K}xGetter(K){return this.element.nodeName==="circle"&&(K==="x"?K="cx":K==="y"&&(K="cy")),this._defaultGetter(K)}zIndexSetter(K,le){var pe=this.renderer,fe=this.parentGroup;const z=(fe||pe).element||pe.box,Q=this.element;pe=z===pe.box;let se=!1,de;var Ce=this.added;let ne;if(H(K)?(Q.setAttribute("data-z-index",K),K=+K,this[le]===K&&(Ce=!1)):H(this[le])&&Q.removeAttribute("data-z-index"),this[le]=K,Ce){for((K=this.zIndex)&&fe&&(fe.handleZ=!0),le=z.childNodes,ne=le.length-1;0<=ne&&!se;ne--)fe=le[ne],Ce=fe.getAttribute("data-z-index"),de=!H(Ce),fe!==Q&&(0>K&&de&&!pe&&!ne?(z.insertBefore(Q,le[ne]),se=!0):(g(Ce)<=K||de&&(!H(K)||0<=K))&&(z.insertBefore(Q,le[ne+1]),se=!0));se||(z.insertBefore(Q,le[pe?3:0]),se=!0)}return se}}return X.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),X.prototype.strokeSetter=X.prototype.fillSetter,X.prototype.yGetter=X.prototype.xGetter,X.prototype.matrixSetter=X.prototype.rotationOriginXSetter=X.prototype.rotationOriginYSetter=X.prototype.rotationSetter=X.prototype.scaleXSetter=X.prototype.scaleYSetter=X.prototype.translateXSetter=X.prototype.translateYSetter=X.prototype.verticalAlignSetter=function(Y,K){this[K]=Y,this.doTransform=!0},X}),i(r,"Core/Renderer/RendererRegistry.js",[r["Core/Globals.js"]],function(o){var u;return function(h){h.rendererTypes={};let s;h.getRendererType=function(v=s){return h.rendererTypes[v]||h.rendererTypes[s]},h.registerRendererType=function(v,I,J){h.rendererTypes[v]=I,(!s||J)&&(s=v,o.Renderer=I)}}(u||(u={})),u}),i(r,"Core/Renderer/SVG/SVGLabel.js",[r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,u){const{defined:h,extend:s,isNumber:v,merge:I,pick:J,removeEvent:M}=u;class B extends o{constructor(O,L,G,k,S,A,H,U,E,ie){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(O,"g"),this.textStr=L,this.x=G,this.y=k,this.anchorX=A,this.anchorY=H,this.baseline=E,this.className=ie,this.addClass(ie==="button"?"highcharts-no-tooltip":"highcharts-label"),ie&&this.addClass("highcharts-"+ie),this.text=O.text(void 0,0,0,U).attr({zIndex:1});let ee;typeof S=="string"&&((ee=/^url\((.*?)\)$/.test(S))||this.renderer.symbols[S])&&(this.symbolKey=S),this.bBox=B.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=O.styledMode||ee,this.deferredAttr={},this.alignFactor=0}alignSetter(O){O={left:0,center:.5,right:1}[O],O!==this.alignFactor&&(this.alignFactor=O,this.bBox&&v(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(O,L){this.anchorX=O,this.boxAttr(L,Math.round(O)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(O,L){this.anchorY=O,this.boxAttr(L,O-this.ySetting)}boxAttr(O,L){this.box?this.box.attr(O,L):this.deferredAttr[O]=L}css(O){if(O){const L={};O=I(O),B.textProps.forEach(G=>{typeof O[G]<"u"&&(L[G]=O[G],delete O[G])}),this.text.css(L),"fontSize"in L||"fontWeight"in L?this.updateTextPadding():("width"in L||"textOverflow"in L)&&this.updateBoxSize()}return o.prototype.css.call(this,O)}destroy(){M(this.element,"mouseenter"),M(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),o.prototype.destroy.call(this)}fillSetter(O,L){O&&(this.needsBox=!0),this.fill=O,this.boxAttr(L,O)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const O=this.padding,L=J(this.paddingLeft,O);return{width:this.width,height:this.height,x:this.bBox.x-L,y:this.bBox.y-O}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(O){this.heightSetting=O}onAdd(){this.text.add(this),this.attr({text:J(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&h(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(O,L){v(O)?O!==this[L]&&(this[L]=O,this.updateTextPadding()):this[L]=void 0}rSetter(O,L){this.boxAttr(L,O)}strokeSetter(O,L){this.stroke=O,this.boxAttr(L,O)}"stroke-widthSetter"(O,L){O&&(this.needsBox=!0),this["stroke-width"]=O,this.boxAttr(L,O)}"text-alignSetter"(O){this.textAlign=O}textSetter(O){typeof O<"u"&&this.text.attr({text:O}),this.updateTextPadding()}updateBoxSize(){var O=this.text;const L={},G=this.padding,k=this.bBox=v(this.widthSetting)&&v(this.heightSetting)&&!this.textAlign||!h(O.textStr)?B.emptyBBox:O.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||k.height||0)+2*G;const S=this.renderer.fontMetrics(O);this.baselineOffset=G+Math.min((this.text.firstLineMetrics||S).b,k.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-S.h)/2),this.needsBox&&!O.textPath&&(this.box||(O=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),O.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),O.add(this)),O=this.getCrispAdjust(),L.x=O,L.y=(this.baseline?-this.baselineOffset:0)+O,L.width=Math.round(this.width),L.height=Math.round(this.height),this.box.attr(s(L,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const O=this.text;if(!O.textPath){this.updateBoxSize();const L=this.baseline?0:this.baselineOffset;let G=J(this.paddingLeft,this.padding);h(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(G+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(G!==O.x||L!==O.y)&&(O.attr("x",G),O.hasBoxWidthChanged&&(this.bBox=O.getBBox(!0)),typeof L<"u"&&O.attr("y",L)),O.x=G,O.y=L}}widthSetter(O){this.widthSetting=v(O)?O:void 0}getPaddedWidth(){var O=this.padding;const L=J(this.paddingLeft,O);return O=J(this.paddingRight,O),(this.widthSetting||this.bBox.width||0)+L+O}xSetter(O){this.x=O,this.alignFactor&&(O-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(O),this.attr("translateX",this.xSetting)}ySetter(O){this.ySetting=this.y=Math.round(O),this.attr("translateY",this.ySetting)}}return B.emptyBBox={width:0,height:0,x:0,y:0},B.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),B}),i(r,"Core/Renderer/SVG/Symbols.js",[r["Core/Utilities.js"]],function(o){function u(M,B,W,O,L){const G=[];if(L){const k=L.start||0,S=J(L.r,W);W=J(L.r,O||W),O=(L.end||0)-.001;const A=L.innerR,H=J(L.open,.001>Math.abs((L.end||0)-k-2*Math.PI)),U=Math.cos(k),E=Math.sin(k),ie=Math.cos(O),ee=Math.sin(O),$=J(L.longArc,.001>O-k-Math.PI?0:1);let V=["A",S,W,0,$,J(L.clockwise,1),M+S*ie,B+W*ee];V.params={start:k,end:O,cx:M,cy:B},G.push(["M",M+S*U,B+W*E],V),v(A)&&(V=["A",A,A,0,$,v(L.clockwise)?1-L.clockwise:0,M+A*U,B+A*E],V.params={start:O,end:k,cx:M,cy:B},G.push(H?["M",M+A*ie,B+A*ee]:["L",M+A*ie,B+A*ee],V)),H||G.push(["Z"])}return G}function h(M,B,W,O,L){return L&&L.r?s(M,B,W,O,L):[["M",M,B],["L",M+W,B],["L",M+W,B+O],["L",M,B+O],["Z"]]}function s(M,B,W,O,L){return L=(L==null?void 0:L.r)||0,[["M",M+L,B],["L",M+W-L,B],["A",L,L,0,0,1,M+W,B+L],["L",M+W,B+O-L],["A",L,L,0,0,1,M+W-L,B+O],["L",M+L,B+O],["A",L,L,0,0,1,M,B+O-L],["L",M,B+L],["A",L,L,0,0,1,M+L,B],["Z"]]}const{defined:v,isNumber:I,pick:J}=o;return{arc:u,callout:function(M,B,W,O,L){const G=Math.min(L&&L.r||0,W,O),k=G+6,S=L&&L.anchorX;L=L&&L.anchorY||0;const A=s(M,B,W,O,{r:G});return I(S)&&(M+S>=W?L>B+k&&L<B+O-k?A.splice(3,1,["L",M+W,L-6],["L",M+W+6,L],["L",M+W,L+6],["L",M+W,B+O-G]):A.splice(3,1,["L",M+W,O/2],["L",S,L],["L",M+W,O/2],["L",M+W,B+O-G]):0>=M+S?L>B+k&&L<B+O-k?A.splice(7,1,["L",M,L+6],["L",M-6,L],["L",M,L-6],["L",M,B+G]):A.splice(7,1,["L",M,O/2],["L",S,L],["L",M,O/2],["L",M,B+G]):L&&L>O&&S>M+k&&S<M+W-k?A.splice(5,1,["L",S+6,B+O],["L",S,B+O+6],["L",S-6,B+O],["L",M+G,B+O]):L&&0>L&&S>M+k&&S<M+W-k&&A.splice(1,1,["L",S-6,B],["L",S,B-6],["L",S+6,B],["L",W-G,B])),A},circle:function(M,B,W,O){return u(M+W/2,B+O/2,W/2,O/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(M,B,W,O){return[["M",M+W/2,B],["L",M+W,B+O/2],["L",M+W/2,B+O],["L",M,B+O/2],["Z"]]},rect:h,roundedRect:s,square:h,triangle:function(M,B,W,O){return[["M",M+W/2,B],["L",M+W,B+O],["L",M,B+O],["Z"]]},"triangle-down":function(M,B,W,O){return[["M",M,B],["L",M+W,B],["L",M+W/2,B+O],["Z"]]}}}),i(r,"Core/Renderer/SVG/TextBuilder.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,u,h){const{doc:s,SVG_NS:v,win:I}=u,{attr:J,extend:M,fireEvent:B,isString:W,objectEach:O,pick:L}=h;class G{constructor(S){const A=S.styles;this.renderer=S.renderer,this.svgElement=S,this.width=S.textWidth,this.textLineHeight=A&&A.lineHeight,this.textOutline=A&&A.textOutline,this.ellipsis=!(!A||A.textOverflow!=="ellipsis"),this.noWrap=!(!A||A.whiteSpace!=="nowrap")}buildSVG(){const S=this.svgElement,A=S.element;var H=S.renderer,U=L(S.textStr,"").toString();const E=U.indexOf("<")!==-1,ie=A.childNodes;H=!S.added&&H.box;const ee=/<br.*?>/g;var $=[U,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,S.getStyle("font-size"),this.width].join();if($!==S.textCache){for(S.textCache=$,delete S.actualWidth,$=ie.length;$--;)A.removeChild(ie[$]);E||this.ellipsis||this.width||S.textPath||U.indexOf(" ")!==-1&&(!this.noWrap||ee.test(U))?U!==""&&(H&&H.appendChild(A),U=new o(U),this.modifyTree(U.nodes),U.addToDOM(A),this.modifyDOM(),this.ellipsis&&(A.textContent||"").indexOf("…")!==-1&&S.attr("title",this.unescapeEntities(S.textStr||"",["&lt;","&gt;"])),H&&H.removeChild(A)):A.appendChild(s.createTextNode(this.unescapeEntities(U))),W(this.textOutline)&&S.applyTextOutline&&S.applyTextOutline(this.textOutline)}}modifyDOM(){const S=this.svgElement,A=J(S.element,"x");S.firstLineMetrics=void 0;let H;for(;(H=S.element.firstChild)&&/^[\s\u200B]*$/.test(H.textContent||" ");)S.element.removeChild(H);[].forEach.call(S.element.querySelectorAll("tspan.highcharts-br"),(ee,$)=>{ee.nextSibling&&ee.previousSibling&&($===0&&ee.previousSibling.nodeType===1&&(S.firstLineMetrics=S.renderer.fontMetrics(ee.previousSibling)),J(ee,{dy:this.getLineHeight(ee.nextSibling),x:A}))});const U=this.width||0;if(U){var E=(ee,$)=>{var V=ee.textContent||"";const j=V.replace(/([^\^])-/g,"$1- ").split(" ");var w=!this.noWrap&&(1<j.length||1<S.element.childNodes.length);const D=this.getLineHeight($);let m=0,g=S.actualWidth;if(this.ellipsis)V&&this.truncate(ee,V,void 0,0,Math.max(0,U-.8*D),(x,P)=>x.substring(0,P)+"…");else if(w){for(V=[],w=[];$.firstChild&&$.firstChild!==ee;)w.push($.firstChild),$.removeChild($.firstChild);for(;j.length;)j.length&&!this.noWrap&&0<m&&(V.push(ee.textContent||""),ee.textContent=j.join(" ").replace(/- /g,"-")),this.truncate(ee,void 0,j,m===0&&g||0,U,(x,P)=>j.slice(0,P).join(" ").replace(/- /g,"-")),g=S.actualWidth,m++;w.forEach(x=>{$.insertBefore(x,ee)}),V.forEach(x=>{$.insertBefore(s.createTextNode(x),ee),x=s.createElementNS(v,"tspan"),x.textContent="​",J(x,{dy:D,x:A}),$.insertBefore(x,ee)})}},ie=ee=>{[].slice.call(ee.childNodes).forEach($=>{$.nodeType===I.Node.TEXT_NODE?E($,ee):($.className.baseVal.indexOf("highcharts-br")!==-1&&(S.actualWidth=0),ie($))})};ie(S.element)}}getLineHeight(S){return S=S.nodeType===I.Node.TEXT_NODE?S.parentElement:S,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(S||this.svgElement.element).h}modifyTree(S){const A=(H,U)=>{const{attributes:E={},children:ie,style:ee={},tagName:$}=H,V=this.renderer.styledMode;$==="b"||$==="strong"?V?E.class="highcharts-strong":ee.fontWeight="bold":($==="i"||$==="em")&&(V?E.class="highcharts-emphasized":ee.fontStyle="italic"),ee&&ee.color&&(ee.fill=ee.color),$==="br"?(E.class="highcharts-br",H.textContent="​",(U=S[U+1])&&U.textContent&&(U.textContent=U.textContent.replace(/^ +/gm,""))):$==="a"&&ie&&ie.some(j=>j.tagName==="#text")&&(H.children=[{children:ie,tagName:"tspan"}]),$!=="#text"&&$!=="a"&&(H.tagName="tspan"),M(H,{attributes:E,style:ee}),ie&&ie.filter(j=>j.tagName!=="#text").forEach(A)};S.forEach(A),B(this.svgElement,"afterModifyTree",{nodes:S})}truncate(S,A,H,U,E,ie){const ee=this.svgElement,{rotation:$}=ee,V=[];let j=H?1:0,w=(A||H||"").length,D=w,m,g;const x=function(P,X){if(P=X||P,(X=S.parentNode)&&typeof V[P]>"u"&&X.getSubStringLength)try{V[P]=U+X.getSubStringLength(0,H?P+1:P)}catch{}return V[P]};if(ee.rotation=0,g=x(S.textContent.length),U+g>E){for(;j<=w;)D=Math.ceil((j+w)/2),H&&(m=ie(H,D)),g=x(D,m&&m.length-1),j===w?j=w+1:g>E?w=D-1:j=D;w===0?S.textContent="":A&&w===A.length-1||(S.textContent=m||ie(A||H,D))}H&&H.splice(0,D),ee.actualWidth=g,ee.rotation=$}unescapeEntities(S,A){return O(this.renderer.escapes,function(H,U){A&&A.indexOf(H)!==-1||(S=S.toString().replace(new RegExp(H,"g"),U))}),S}}return G}),i(r,"Core/Renderer/SVG/SVGRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGLabel.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Renderer/SVG/TextBuilder.js"],r["Core/Utilities.js"]],function(o,u,h,s,v,I,J,M,B){const{charts:W,deg2rad:O,doc:L,isFirefox:G,isMS:k,isWebKit:S,noop:A,SVG_NS:H,symbolSizes:U,win:E}=h,{addEvent:ie,attr:ee,createElement:$,css:V,defined:j,destroyObjectProperties:w,extend:D,isArray:m,isNumber:g,isObject:x,isString:P,merge:X,pick:Y,pInt:K,uniqueKey:le}=B;let pe;class fe{constructor(Q,se,de,Ce,ne,ve,_e){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(Q,se,de,Ce,ne,ve,_e)}init(Q,se,de,Ce,ne,ve,_e){const oe=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ge=oe.element;_e||oe.css(this.getStyle(Ce)),Q.appendChild(ge),ee(Q,"dir","ltr"),Q.innerHTML.indexOf("xmlns")===-1&&ee(ge,"xmlns",this.SVG_NS),this.box=ge,this.boxWrapper=oe,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(L.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=ve,this.forExport=ne,this.styledMode=_e,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=oe.getStyle("font-size"),this.setSize(se,de,!1);let Te;G&&Q.getBoundingClientRect&&(se=function(){V(Q,{left:0,top:0}),Te=Q.getBoundingClientRect(),V(Q,{left:Math.ceil(Te.left)-Te.left+"px",top:Math.ceil(Te.top)-Te.top+"px"})},se(),this.unSubPixelFix=ie(E,"resize",se))}definition(Q){return new o([Q]).addToDOM(this.defs.element)}getReferenceURL(){if((G||S)&&L.getElementsByTagName("base").length){if(!j(pe)){var Q=le();Q=new o([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:Q},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${Q})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(L.body),V(Q,{position:"fixed",top:0,left:0,zIndex:9e5});const se=L.elementFromPoint(6,6);pe=(se&&se.id)==="hitme",L.body.removeChild(Q)}if(pe)return E.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(Q){return this.style=D({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},Q)}setStyle(Q){this.boxWrapper.css(this.getStyle(Q))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const Q=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),w(this.gradients||{}),this.gradients=null,this.defs=Q.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(Q){const se=new this.Element;return se.init(this,Q),se}getRadialAttr(Q,se){return{cx:Q[0]-Q[2]/2+(se.cx||0)*Q[2],cy:Q[1]-Q[2]/2+(se.cy||0)*Q[2],r:(se.r||0)*Q[2]}}shadowDefinition(Q){const se=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(Q).map(Ce=>Q[Ce])].join("-").replace(/[^a-z0-9\-]/g,""),de=X({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},Q);return this.defs.element.querySelector(`#${se}`)||this.definition({tagName:"filter",attributes:{id:se},children:[{tagName:"feDropShadow",attributes:{dx:de.offsetX,dy:de.offsetY,"flood-color":de.color,"flood-opacity":Math.min(5*de.opacity,1),stdDeviation:de.width/2}}]}),se}buildText(Q){new M(Q).buildSVG()}getContrast(Q){return Q=u.parse(Q).rgba.map(se=>(se/=255,.03928>=se?se/12.92:Math.pow((se+.055)/1.055,2.4))),Q=.2126*Q[0]+.7152*Q[1]+.0722*Q[2],1.05/(Q+.05)>(Q+.05)/.05?"#FFFFFF":"#000000"}button(Q,se,de,Ce,ne={},ve,_e,oe,ge,Te){const Re=this.label(Q,se,de,ge,void 0,void 0,Te,void 0,"button"),Le=this.styledMode;Q=ne.states||{};let $e=0;ne=X(ne),delete ne.states;const nt=X({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},ne.style);delete ne.style;let Qe=o.filterUserAttributes(ne);Re.attr(X({padding:8,r:2},Qe));let We,xe,Ie;return Le||(Qe=X({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},Qe),ve=X(Qe,{fill:"#e6e6e6"},o.filterUserAttributes(ve||Q.hover||{})),We=ve.style,delete ve.style,_e=X(Qe,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},o.filterUserAttributes(_e||Q.select||{})),xe=_e.style,delete _e.style,oe=X(Qe,{style:{color:"#cccccc"}},o.filterUserAttributes(oe||Q.disabled||{})),Ie=oe.style,delete oe.style),ie(Re.element,k?"mouseover":"mouseenter",function(){$e!==3&&Re.setState(1)}),ie(Re.element,k?"mouseout":"mouseleave",function(){$e!==3&&Re.setState($e)}),Re.setState=function(Be){Be!==1&&(Re.state=$e=Be),Re.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Be||0]),Le||(Re.attr([Qe,ve,_e,oe][Be||0]),Be=[nt,We,xe,Ie][Be||0],x(Be)&&Re.css(Be))},Le||(Re.attr(Qe).css(D({cursor:"default"},nt)),Te&&Re.text.css({pointerEvents:"none"})),Re.on("touchstart",Be=>Be.stopPropagation()).on("click",function(Be){$e!==3&&Ce.call(Re,Be)})}crispLine(Q,se,de="round"){const Ce=Q[0],ne=Q[1];return j(Ce[1])&&Ce[1]===ne[1]&&(Ce[1]=ne[1]=Math[de](Ce[1])-se%2/2),j(Ce[2])&&Ce[2]===ne[2]&&(Ce[2]=ne[2]=Math[de](Ce[2])+se%2/2),Q}path(Q){const se=this.styledMode?{}:{fill:"none"};return m(Q)?se.d=Q:x(Q)&&D(se,Q),this.createElement("path").attr(se)}circle(Q,se,de){return Q=x(Q)?Q:typeof Q>"u"?{}:{x:Q,y:se,r:de},se=this.createElement("circle"),se.xSetter=se.ySetter=function(Ce,ne,ve){ve.setAttribute("c"+ne,Ce)},se.attr(Q)}arc(Q,se,de,Ce,ne,ve){return x(Q)?(Ce=Q,se=Ce.y,de=Ce.r,Q=Ce.x):Ce={innerR:Ce,start:ne,end:ve},Q=this.symbol("arc",Q,se,de,de,Ce),Q.r=de,Q}rect(Q,se,de,Ce,ne,ve){Q=x(Q)?Q:typeof Q>"u"?{}:{x:Q,y:se,r:ne,width:Math.max(de||0,0),height:Math.max(Ce||0,0)};const _e=this.createElement("rect");return this.styledMode||(typeof ve<"u"&&(Q["stroke-width"]=ve,D(Q,_e.crisp(Q))),Q.fill="none"),_e.rSetter=function(oe,ge,Te){_e.r=oe,ee(Te,{rx:oe,ry:oe})},_e.rGetter=function(){return _e.r||0},_e.attr(Q)}roundedRect(Q){return this.symbol("roundedRect").attr(Q)}setSize(Q,se,de){this.width=Q,this.height=se,this.boxWrapper.animate({width:Q,height:se},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Y(de,!0)?void 0:0}),this.alignElements()}g(Q){const se=this.createElement("g");return Q?se.attr({class:"highcharts-"+Q}):se}image(Q,se,de,Ce,ne,ve){const _e={preserveAspectRatio:"none"},oe=function(Te,Re){Te.setAttributeNS?Te.setAttributeNS("http://www.w3.org/1999/xlink","href",Re):Te.setAttribute("hc-svg-href",Re)};g(se)&&(_e.x=se),g(de)&&(_e.y=de),g(Ce)&&(_e.width=Ce),g(ne)&&(_e.height=ne);const ge=this.createElement("image").attr(_e);return se=function(Te){oe(ge.element,Q),ve.call(ge,Te)},ve?(oe(ge.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),de=new E.Image,ie(de,"load",se),de.src=Q,de.complete&&se({})):oe(ge.element,Q),ge}symbol(Q,se,de,Ce,ne,ve){const _e=this,oe=/^url\((.*?)\)$/,ge=oe.test(Q),Te=!ge&&(this.symbols[Q]?Q:"circle"),Re=Te&&this.symbols[Te];let Le,$e,nt,Qe;if(Re)typeof se=="number"&&($e=Re.call(this.symbols,Math.round(se||0),Math.round(de||0),Ce||0,ne||0,ve)),Le=this.path($e),_e.styledMode||Le.attr("fill","none"),D(Le,{symbolName:Te||void 0,x:se,y:de,width:Ce,height:ne}),ve&&D(Le,ve);else if(ge){nt=Q.match(oe)[1];const We=Le=this.image(nt);We.imgwidth=Y(ve&&ve.width,U[nt]&&U[nt].width),We.imgheight=Y(ve&&ve.height,U[nt]&&U[nt].height),Qe=xe=>xe.attr({width:xe.width,height:xe.height}),["width","height"].forEach(function(xe){We[xe+"Setter"]=function(Ie,Be){this[Be]=Ie;const{alignByTranslate:Xe,element:Ze,width:ft,height:Ct,imgwidth:Nt,imgheight:pi}=this;if(Ie=this["img"+Be],j(Ie)){let qt=1;ve&&ve.backgroundSize==="within"&&ft&&Ct?(qt=Math.min(ft/Nt,Ct/pi),ee(Ze,{width:Math.round(Nt*qt),height:Math.round(pi*qt)})):Ze&&Ze.setAttribute(Be,Ie),Xe||this.translate(((ft||0)-Nt*qt)/2,((Ct||0)-pi*qt)/2)}}}),j(se)&&We.attr({x:se,y:de}),We.isImg=!0,j(We.imgwidth)&&j(We.imgheight)?Qe(We):(We.attr({width:0,height:0}),$("img",{onload:function(){const xe=W[_e.chartIndex];this.width===0&&(V(this,{position:"absolute",top:"-999em"}),L.body.appendChild(this)),U[nt]={width:this.width,height:this.height},We.imgwidth=this.width,We.imgheight=this.height,We.element&&Qe(We),this.parentNode&&this.parentNode.removeChild(this),_e.imgCount--,!_e.imgCount&&xe&&!xe.hasLoaded&&xe.onload()},src:nt}),this.imgCount++)}return Le}clipRect(Q,se,de,Ce){const ne=le()+"-",ve=this.createElement("clipPath").attr({id:ne}).add(this.defs);return Q=this.rect(Q,se,de,Ce,0).add(ve),Q.id=ne,Q.clipPath=ve,Q.count=0,Q}text(Q,se,de,Ce){const ne={};return Ce&&(this.allowHTML||!this.forExport)?this.html(Q,se,de):(ne.x=Math.round(se||0),de&&(ne.y=Math.round(de)),j(Q)&&(ne.text=Q),Q=this.createElement("text").attr(ne),(!Ce||this.forExport&&!this.allowHTML)&&(Q.xSetter=function(ve,_e,oe){const ge=oe.getElementsByTagName("tspan"),Te=oe.getAttribute(_e);for(let Re=0,Le;Re<ge.length;Re++)Le=ge[Re],Le.getAttribute(_e)===Te&&Le.setAttribute(_e,ve);oe.setAttribute(_e,ve)}),Q)}fontMetrics(Q){Q=K(v.prototype.getStyle.call(Q,"font-size")||0);const se=24>Q?Q+3:Math.round(1.2*Q);return{h:se,b:Math.round(.8*se),f:Q}}rotCorr(Q,se,de){let Ce=Q;return se&&de&&(Ce=Math.max(Ce*Math.cos(se*O),4)),{x:-Q/3*Math.sin(se*O),y:Ce}}pathToSegments(Q){const se=[],de=[],Ce={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let ne=0;ne<Q.length;ne++)P(de[0])&&g(Q[ne])&&de.length===Ce[de[0].toUpperCase()]&&Q.splice(ne,0,de[0].replace("M","L").replace("m","l")),typeof Q[ne]=="string"&&(de.length&&se.push(de.slice(0)),de.length=0),de.push(Q[ne]);return se.push(de.slice(0)),se}label(Q,se,de,Ce,ne,ve,_e,oe,ge){return new I(this,Q,se,de,Ce,ne,ve,_e,oe,ge)}alignElements(){this.alignedObjects.forEach(Q=>Q.align())}}return D(fe.prototype,{Element:v,SVG_NS:H,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:J,draw:A}),s.registerRendererType("svg",fe,!0),fe}),i(r,"Core/Renderer/HTML/HTMLElement.js",[r["Core/Globals.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,u,h){const{isFirefox:s,isMS:v,isWebKit:I,win:J}=o,{css:M,defined:B,extend:W,pick:O,pInt:L}=h,G=[];class k extends u{static compose(A){if(h.pushUnique(G,A)){const H=k.prototype,U=A.prototype;U.getSpanCorrection=H.getSpanCorrection,U.htmlCss=H.htmlCss,U.htmlGetBBox=H.htmlGetBBox,U.htmlUpdateTransform=H.htmlUpdateTransform,U.setSpanRotation=H.setSpanRotation}return A}getSpanCorrection(A,H,U){this.xCorr=-A*U,this.yCorr=-H}htmlCss(A){const H=this.element.tagName==="SPAN"&&A&&"width"in A,U=O(H&&A.width,void 0);let E;return H&&(delete A.width,this.textWidth=U,E=!0),A&&A.textOverflow==="ellipsis"&&(A.whiteSpace="nowrap",A.overflow="hidden"),this.styles=W(this.styles,A),M(this.element,A),E&&this.htmlUpdateTransform(),this}htmlGetBBox(){const A=this.element;return{x:A.offsetLeft,y:A.offsetTop,width:A.offsetWidth,height:A.offsetHeight}}htmlUpdateTransform(){if(this.added){var A=this.renderer,H=this.element,U=this.x||0,E=this.y||0,ie=this.textAlign||"left",ee={left:0,center:.5,right:1}[ie],$=this.styles,V=$&&$.whiteSpace;if(M(H,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),H.tagName==="SPAN"){$=this.rotation;const w=this.textWidth&&L(this.textWidth),D=[$,ie,H.innerHTML,this.textWidth,this.textAlign].join();let m=!1;if(w!==this.oldTextWidth){if(this.textPxLength)var j=this.textPxLength;else M(H,{width:"",whiteSpace:V||"nowrap"}),j=H.offsetWidth;(w>this.oldTextWidth||j>w)&&(/[ \-]/.test(H.textContent||H.innerText)||H.style.textOverflow==="ellipsis")&&(M(H,{width:j>w||$?w+"px":"auto",display:"block",whiteSpace:V||"normal"}),this.oldTextWidth=w,m=!0)}this.hasBoxWidthChanged=m,D!==this.cTT&&(A=A.fontMetrics(H).b,!B($)||$===(this.oldRotation||0)&&ie===this.oldAlign||this.setSpanRotation($,ee,A),this.getSpanCorrection(!B($)&&this.textPxLength||H.offsetWidth,A,ee,$,ie)),M(H,{left:U+(this.xCorr||0)+"px",top:E+(this.yCorr||0)+"px"}),this.cTT=D,this.oldRotation=$,this.oldAlign=ie}}else this.alignOnAdd=!0}setSpanRotation(A,H,U){const E={},ie=v&&!/Edge/.test(J.navigator.userAgent)?"-ms-transform":I?"-webkit-transform":s?"MozTransform":J.opera?"-o-transform":void 0;ie&&(E[ie]=E.transform="rotate("+A+"deg)",E[ie+(s?"Origin":"-origin")]=E.transformOrigin=100*H+"% "+U+"px",M(this.element,E))}}return k}),i(r,"Core/Renderer/HTML/HTMLRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(o,u,h,s){const{attr:v,createElement:I,extend:J,pick:M}=s,B=[];class W extends h{static compose(L){return s.pushUnique(B,L)&&(L.prototype.html=W.prototype.html),L}html(L,G,k){const S=this.createElement("span"),A=S.element,H=S.renderer,U=function(E,ie){["opacity","visibility"].forEach(function(ee){E[ee+"Setter"]=function($,V,j){const w=E.div?E.div.style:ie;u.prototype[ee+"Setter"].call(this,$,V,j),w&&(w[V]=$)}}),E.addedSetters=!0};return S.textSetter=function(E){E!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,o.setElementHTML(this.element,M(E,"")),this.textStr=E,S.doTransform=!0)},U(S,S.element.style),S.xSetter=S.ySetter=S.alignSetter=S.rotationSetter=function(E,ie){ie==="align"?S.alignValue=S.textAlign=E:S[ie]=E,S.doTransform=!0},S.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},S.attr({text:L,x:Math.round(G),y:Math.round(k)}).css({position:"absolute"}),H.styledMode||S.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),A.style.whiteSpace="nowrap",S.css=S.htmlCss,S.add=function(E){const ie=H.box.parentNode,ee=[];let $;if(this.parentGroup=E){if($=E.div,!$){for(;E;)ee.push(E),E=E.parentGroup;ee.reverse().forEach(function(V){function j(g,x){V[x]=g,x==="translateX"?m.left=g+"px":m.top=g+"px",V.doTransform=!0}const w=v(V.element,"class"),D=V.styles||{};$=V.div=V.div||I("div",w?{className:w}:void 0,{position:"absolute",left:(V.translateX||0)+"px",top:(V.translateY||0)+"px",display:V.display,opacity:V.opacity,visibility:V.visibility},$||ie);const m=$.style;J(V,{classSetter:function(g){return function(x){this.element.setAttribute("class",x),g.className=x}}($),css:function(g){return S.css.call(V,g),["cursor","pointerEvents"].forEach(x=>{g[x]&&(m[x]=g[x])}),V},on:function(){return ee[0].div&&S.on.apply({element:ee[0].div,onEvents:V.onEvents},arguments),V},translateXSetter:j,translateYSetter:j}),V.addedSetters||U(V),V.css(D)})}}else $=ie;return $.appendChild(A),S.added=!0,S.alignOnAdd&&S.htmlUpdateTransform(),S},S}}return W}),i(r,"Core/Axis/AxisDefaults.js",[],function(){var o;return function(u){u.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},u.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:h}=this.axis.chart;return h(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},u.defaultLeftAxisOptions={title:{rotation:270}},u.defaultRightAxisOptions={title:{rotation:90}},u.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},u.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(o||(o={})),o}),i(r,"Core/Foundation.js",[r["Core/Utilities.js"]],function(o){const{addEvent:u,isFunction:h,objectEach:s,removeEvent:v}=o;var I;return function(J){J.registerEventOptions=function(M,B){M.eventOptions=M.eventOptions||{},s(B.events,function(W,O){M.eventOptions[O]!==W&&(M.eventOptions[O]&&(v(M,O,M.eventOptions[O]),delete M.eventOptions[O]),h(W)&&(M.eventOptions[O]=W,u(M,O,W,{order:0})))})}}(I||(I={})),I}),i(r,"Core/Axis/Tick.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,u,h){const{deg2rad:s}=u,{clamp:v,correctFloat:I,defined:J,destroyObjectProperties:M,extend:B,fireEvent:W,isNumber:O,merge:L,objectEach:G,pick:k}=h;class S{constructor(H,U,E,ie,ee){this.isNewLabel=this.isNew=!0,this.axis=H,this.pos=U,this.type=E||"",this.parameters=ee||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,W(this,"init"),E||ie||this.addLabel()}addLabel(){const H=this,U=H.axis;var E=U.options;const ie=U.chart;var ee=U.categories;const $=U.logarithmic,V=U.names,j=H.pos,w=k(H.options&&H.options.labels,E.labels);var D=U.tickPositions;const m=j===D[0],g=j===D[D.length-1],x=(!w.step||w.step===1)&&U.tickInterval===1;D=D.info;let P=H.label,X,Y,K;ee=this.parameters.category||(ee?k(ee[j],V[j],j):j),$&&O(ee)&&(ee=I($.lin2log(ee))),U.dateTime&&(D?(Y=ie.time.resolveDTLFormat(E.dateTimeLabelFormats[!E.grid&&D.higherRanks[j]||D.unitName]),X=Y.main):O(ee)&&(X=U.dateTime.getXDateFormat(ee,E.dateTimeLabelFormats||{}))),H.isFirst=m,H.isLast=g;const le={axis:U,chart:ie,dateTimeLabelFormat:X,isFirst:m,isLast:g,pos:j,tick:H,tickPositionInfo:D,value:ee};W(this,"labelFormat",le);const pe=z=>w.formatter?w.formatter.call(z,z):w.format?(z.text=U.defaultLabelFormatter.call(z,z),o.format(w.format,z,ie)):U.defaultLabelFormatter.call(z,z);E=pe.call(le,le);const fe=Y&&Y.list;H.shortenLabel=fe?function(){for(K=0;K<fe.length;K++)if(B(le,{dateTimeLabelFormat:fe[K]}),P.attr({text:pe.call(le,le)}),P.getBBox().width<U.getSlotWidth(H)-2*w.padding)return;P.attr({text:""})}:void 0,x&&U._addedPlotLB&&H.moveLabel(E,w),J(P)||H.movedLabel?P&&P.textStr!==E&&!x&&(!P.textWidth||w.style.width||P.styles.width||P.css({width:null}),P.attr({text:E}),P.textPxLength=P.getBBox().width):(H.label=P=H.createLabel({x:0,y:0},E,w),H.rotation=0)}createLabel(H,U,E){const ie=this.axis,ee=ie.chart;return(H=J(U)&&E.enabled?ee.renderer.text(U,H.x,H.y,E.useHTML).add(ie.labelGroup):null)&&(ee.styledMode||H.css(L(E.style)),H.textPxLength=H.getBBox().width),H}destroy(){M(this,this.axis)}getPosition(H,U,E,ie){const ee=this.axis,$=ee.chart,V=ie&&$.oldChartHeight||$.chartHeight;return H={x:H?I(ee.translate(U+E,void 0,void 0,ie)+ee.transB):ee.left+ee.offset+(ee.opposite?(ie&&$.oldChartWidth||$.chartWidth)-ee.right-ee.left:0),y:H?V-ee.bottom+ee.offset-(ee.opposite?ee.height:0):I(V-ee.translate(U+E,void 0,void 0,ie)-ee.transB)},H.y=v(H.y,-1e5,1e5),W(this,"afterGetPosition",{pos:H}),H}getLabelPosition(H,U,E,ie,ee,$,V,j){const w=this.axis,D=w.transA,m=w.isLinked&&w.linkedParent?w.linkedParent.reversed:w.reversed,g=w.staggerLines,x=w.tickRotCorr||{x:0,y:0},P=ie||w.reserveSpaceDefault?0:-w.labelOffset*(w.labelAlign==="center"?.5:1),X=ee.distance,Y={};return E=w.side===0?E.rotation?-X:-E.getBBox().height:w.side===2?x.y+X:Math.cos(E.rotation*s)*(x.y-E.getBBox(!1,0).height/2),J(ee.y)&&(E=w.side===0&&w.horiz?ee.y+E:ee.y),H=H+k(ee.x,[0,1,0,-1][w.side]*X)+P+x.x-($&&ie?$*D*(m?-1:1):0),U=U+E-($&&!ie?$*D*(m?1:-1):0),g&&(ie=V/(j||1)%g,w.opposite&&(ie=g-ie-1),U+=w.labelOffset/g*ie),Y.x=H,Y.y=Math.round(U),W(this,"afterGetLabelPosition",{pos:Y,tickmarkOffset:$,index:V}),Y}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(H,U,E,ie,ee,$){return $.crispLine([["M",H,U],["L",H+(ee?0:-E),U+(ee?E:0)]],ie)}handleOverflow(H){const U=this.axis,E=U.options.labels,ie=H.x;var ee=U.chart.chartWidth,$=U.chart.spacing;const V=k(U.labelLeft,Math.min(U.pos,$[3]));$=k(U.labelRight,Math.max(U.isRadial?0:U.pos+U.len,ee-$[1]));const j=this.label,w=this.rotation,D={left:0,center:.5,right:1}[U.labelAlign||j.attr("align")],m=j.getBBox().width,g=U.getSlotWidth(this),x={};let P=g,X=1,Y;w||E.overflow!=="justify"?0>w&&ie-D*m<V?Y=Math.round(ie/Math.cos(w*s)-V):0<w&&ie+D*m>$&&(Y=Math.round((ee-ie)/Math.cos(w*s))):(ee=ie+(1-D)*m,ie-D*m<V?P=H.x+P*(1-D)-V:ee>$&&(P=$-H.x+P*D,X=-1),P=Math.min(g,P),P<g&&U.labelAlign==="center"&&(H.x+=X*(g-P-D*(g-Math.min(m,P)))),(m>P||U.autoRotation&&(j.styles||{}).width)&&(Y=P)),Y&&(this.shortenLabel?this.shortenLabel():(x.width=Math.floor(Y)+"px",(E.style||{}).textOverflow||(x.textOverflow="ellipsis"),j.css(x)))}moveLabel(H,U){const E=this;var ie=E.label;const ee=E.axis;let $=!1;ie&&ie.textStr===H?(E.movedLabel=ie,$=!0,delete E.label):G(ee.ticks,function(V){$||V.isNew||V===E||!V.label||V.label.textStr!==H||(E.movedLabel=V.label,$=!0,V.labelPos=E.movedLabel.xy,delete V.label)}),$||!E.labelPos&&!ie||(ie=E.labelPos||ie.xy,E.movedLabel=E.createLabel(ie,H,U),E.movedLabel&&E.movedLabel.attr({opacity:0}))}render(H,U,E){var ie=this.axis,ee=ie.horiz,$=this.pos,V=k(this.tickmarkOffset,ie.tickmarkOffset);$=this.getPosition(ee,$,V,U),V=$.x;const j=$.y;ie=ee&&V===ie.pos+ie.len||!ee&&j===ie.pos?-1:1,ee=k(E,this.label&&this.label.newOpacity,1),E=k(E,1),this.isActive=!0,this.renderGridLine(U,E,ie),this.renderMark($,E,ie),this.renderLabel($,U,ee,H),this.isNew=!1,W(this,"afterRender")}renderGridLine(H,U,E){const ie=this.axis,ee=ie.options,$={},V=this.pos,j=this.type,w=k(this.tickmarkOffset,ie.tickmarkOffset),D=ie.chart.renderer;let m=this.gridLine,g=ee.gridLineWidth,x=ee.gridLineColor,P=ee.gridLineDashStyle;this.type==="minor"&&(g=ee.minorGridLineWidth,x=ee.minorGridLineColor,P=ee.minorGridLineDashStyle),m||(ie.chart.styledMode||($.stroke=x,$["stroke-width"]=g||0,$.dashstyle=P),j||($.zIndex=1),H&&(U=0),this.gridLine=m=D.path().attr($).addClass("highcharts-"+(j?j+"-":"")+"grid-line").add(ie.gridGroup)),m&&(E=ie.getPlotLinePath({value:V+w,lineWidth:m.strokeWidth()*E,force:"pass",old:H,acrossPanes:!1}))&&m[H||this.isNew?"attr":"animate"]({d:E,opacity:U})}renderMark(H,U,E){const ie=this.axis;var ee=ie.options;const $=ie.chart.renderer,V=this.type,j=ie.tickSize(V?V+"Tick":"tick"),w=H.x;H=H.y;const D=k(ee[V!=="minor"?"tickWidth":"minorTickWidth"],!V&&ie.isXAxis?1:0);ee=ee[V!=="minor"?"tickColor":"minorTickColor"];let m=this.mark;const g=!m;j&&(ie.opposite&&(j[0]=-j[0]),m||(this.mark=m=$.path().addClass("highcharts-"+(V?V+"-":"")+"tick").add(ie.axisGroup),ie.chart.styledMode||m.attr({stroke:ee,"stroke-width":D})),m[g?"attr":"animate"]({d:this.getMarkPath(w,H,j[0],m.strokeWidth()*E,ie.horiz,$),opacity:U}))}renderLabel(H,U,E,ie){var ee=this.axis;const $=ee.horiz,V=ee.options,j=this.label,w=V.labels,D=w.step;ee=k(this.tickmarkOffset,ee.tickmarkOffset);const m=H.x;H=H.y;let g=!0;j&&O(m)&&(j.xy=H=this.getLabelPosition(m,H,j,$,w,ee,ie,D),this.isFirst&&!this.isLast&&!V.showFirstLabel||this.isLast&&!this.isFirst&&!V.showLastLabel?g=!1:!$||w.step||w.rotation||U||E===0||this.handleOverflow(H),D&&ie%D&&(g=!1),g&&O(H.y)?(H.opacity=E,j[this.isNewLabel?"attr":"animate"](H).show(!0),this.isNewLabel=!1):(j.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const H=this.label,U=this.axis;H&&!this.isNew&&(H.animate({opacity:0},void 0,H.destroy),delete this.label),U.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return S}),i(r,"Core/Axis/Axis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/AxisDefaults.js"],r["Core/Color/Color.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Axis/Tick.js"],r["Core/Utilities.js"]],function(o,u,h,s,v,I,J,M){const{animObject:B}=o,{defaultOptions:W}=s,{registerEventOptions:O}=v,{deg2rad:L}=I,{arrayMax:G,arrayMin:k,clamp:S,correctFloat:A,defined:H,destroyObjectProperties:U,erase:E,error:ie,extend:ee,fireEvent:$,isArray:V,isNumber:j,isString:w,merge:D,normalizeTickInterval:m,objectEach:g,pick:x,relativeLength:P,removeEvent:X,splat:Y,syncTimeout:K}=M,le=(fe,z)=>m(z,void 0,void 0,x(fe.options.allowDecimals,.5>z||fe.tickAmount!==void 0),!!fe.tickAmount);class pe{constructor(z,Q){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(z,Q)}init(z,Q){const se=Q.isX;this.chart=z,this.horiz=z.inverted&&!this.isZAxis?!se:se,this.isXAxis=se,this.coll=this.coll||(se?"xAxis":"yAxis"),$(this,"init",{userOptions:Q}),this.opposite=x(Q.opposite,this.opposite),this.side=x(Q.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(Q);const de=this.options,Ce=de.labels,ne=de.type;this.userOptions=Q,this.minPixelPadding=0,this.reversed=x(de.reversed,this.reversed),this.visible=de.visible,this.zoomEnabled=de.zoomEnabled,this.hasNames=ne==="category"||de.categories===!0,this.categories=de.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=H(de.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=de.minRange||de.maxZoom,this.range=de.range,this.offset=de.offset||0,this.min=this.max=null,Q=x(de.crosshair,Y(z.options.tooltip.crosshairs)[se?0:1]),this.crosshair=Q===!0?{}:Q,z.axes.indexOf(this)===-1&&(se?z.axes.splice(z.xAxis.length,0,this):z.axes.push(this),z[this.coll].push(this)),this.series=this.series||[],z.inverted&&!this.isZAxis&&se&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=j(Ce.rotation)?Ce.rotation:void 0,O(this,de),$(this,"afterInit")}setOptions(z){this.options=D(u.defaultXAxisOptions,this.coll==="yAxis"&&u.defaultYAxisOptions,[u.defaultTopAxisOptions,u.defaultRightAxisOptions,u.defaultBottomAxisOptions,u.defaultLeftAxisOptions][this.side],D(W[this.coll],z)),$(this,"afterSetOptions",{userOptions:z})}defaultLabelFormatter(z){var Q=this.axis;({numberFormatter:z}=this.chart);const se=j(this.value)?this.value:NaN,de=Q.chart.time,Ce=this.dateTimeLabelFormat;var ne=W.lang;const ve=ne.numericSymbols;ne=ne.numericSymbolMagnitude||1e3;const _e=Q.logarithmic?Math.abs(se):Q.tickInterval;let oe=ve&&ve.length,ge;if(Q.categories)ge=`${this.value}`;else if(Ce)ge=de.dateFormat(Ce,se);else if(oe&&1e3<=_e)for(;oe--&&typeof ge>"u";)Q=Math.pow(ne,oe+1),_e>=Q&&10*se%Q===0&&ve[oe]!==null&&se!==0&&(ge=z(se/Q,-1)+ve[oe]);return typeof ge>"u"&&(ge=1e4<=Math.abs(se)?z(se,-1):z(se,-1,void 0,"")),ge}getSeriesExtremes(){const z=this,Q=z.chart;let se;$(this,"getSeriesExtremes",null,function(){z.hasVisibleSeries=!1,z.dataMin=z.dataMax=z.threshold=null,z.softThreshold=!z.isXAxis,z.series.forEach(function(de){if(de.visible||!Q.options.chart.ignoreHiddenSeries){var Ce=de.options;let ne=Ce.threshold,ve,_e;z.hasVisibleSeries=!0,z.positiveValuesOnly&&0>=ne&&(ne=null),z.isXAxis?(Ce=de.xData)&&Ce.length&&(Ce=z.logarithmic?Ce.filter(oe=>0<oe):Ce,se=de.getXExtremes(Ce),ve=se.min,_e=se.max,j(ve)||ve instanceof Date||(Ce=Ce.filter(j),se=de.getXExtremes(Ce),ve=se.min,_e=se.max),Ce.length&&(z.dataMin=Math.min(x(z.dataMin,ve),ve),z.dataMax=Math.max(x(z.dataMax,_e),_e))):(de=de.applyExtremes(),j(de.dataMin)&&(ve=de.dataMin,z.dataMin=Math.min(x(z.dataMin,ve),ve)),j(de.dataMax)&&(_e=de.dataMax,z.dataMax=Math.max(x(z.dataMax,_e),_e)),H(ne)&&(z.threshold=ne),(!Ce.softThreshold||z.positiveValuesOnly)&&(z.softThreshold=!1))}})}),$(this,"afterGetSeriesExtremes")}translate(z,Q,se,de,Ce,ne){const ve=this.linkedParent||this,_e=de&&ve.old?ve.old.min:ve.min;if(!j(_e))return NaN;const oe=ve.minPixelPadding;Ce=(ve.isOrdinal||ve.brokenAxis&&ve.brokenAxis.hasBreaks||ve.logarithmic&&Ce)&&ve.lin2val;let ge=1,Te=0;return de=de&&ve.old?ve.old.transA:ve.transA,de||(de=ve.transA),se&&(ge*=-1,Te=ve.len),ve.reversed&&(ge*=-1,Te-=ge*(ve.sector||ve.len)),Q?(ne=(z*ge+Te-oe)/de+_e,Ce&&(ne=ve.lin2val(ne))):(Ce&&(z=ve.val2lin(z)),z=ge*(z-_e)*de,ne=(ve.isRadial?z:A(z))+Te+ge*oe+(j(ne)?de*ne:0)),ne}toPixels(z,Q){return this.translate(z,!1,!this.horiz,void 0,!0)+(Q?0:this.pos)}toValue(z,Q){return this.translate(z-(Q?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(z){function Q(Be,Xe,Ze){return $e!=="pass"&&(Be<Xe||Be>Ze)&&($e?Be=S(Be,Xe,Ze):Ie=!0),Be}const se=this,de=se.chart,Ce=se.left,ne=se.top,ve=z.old,_e=z.value,oe=z.lineWidth,ge=ve&&de.oldChartHeight||de.chartHeight,Te=ve&&de.oldChartWidth||de.chartWidth,Re=se.transB;let Le=z.translatedValue,$e=z.force,nt,Qe,We,xe,Ie;return z={value:_e,lineWidth:oe,old:ve,force:$e,acrossPanes:z.acrossPanes,translatedValue:Le},$(this,"getPlotLinePath",z,function(Be){Le=x(Le,se.translate(_e,void 0,void 0,ve)),Le=S(Le,-1e5,1e5),nt=We=Math.round(Le+Re),Qe=xe=Math.round(ge-Le-Re),j(Le)?se.horiz?(Qe=ne,xe=ge-se.bottom,nt=We=Q(nt,Ce,Ce+se.width)):(nt=Ce,We=Te-se.right,Qe=xe=Q(Qe,ne,ne+se.height)):(Ie=!0,$e=!1),Be.path=Ie&&!$e?null:de.renderer.crispLine([["M",nt,Qe],["L",We,xe]],oe||1)}),z.path}getLinearTickPositions(z,Q,se){const de=A(Math.floor(Q/z)*z);se=A(Math.ceil(se/z)*z);const Ce=[];let ne,ve;if(A(de+z)===de&&(ve=20),this.single)return[Q];for(Q=de;Q<=se&&(Ce.push(Q),Q=A(Q+z,ve),Q!==ne);)ne=Q;return Ce}getMinorTickInterval(){const z=this.options;return z.minorTicks===!0?x(z.minorTickInterval,"auto"):z.minorTicks===!1?null:z.minorTickInterval}getMinorTickPositions(){var z=this.options;const Q=this.tickPositions,se=this.minorTickInterval;var de=this.pointRangePadding||0;const Ce=this.min-de;de=this.max+de;const ne=de-Ce;let ve=[];if(ne&&ne/se<this.len/3){const _e=this.logarithmic;if(_e)this.paddedTicks.forEach(function(oe,ge,Te){ge&&ve.push.apply(ve,_e.getLogTickPositions(se,Te[ge-1],Te[ge],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ve=ve.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(se),Ce,de,z.startOfWeek));else for(z=Ce+(Q[0]-Ce)%se;z<=de&&z!==ve[0];z+=se)ve.push(z)}return ve.length!==0&&this.trimTicks(ve),ve}adjustForMinRange(){const z=this.options,Q=this.logarithmic;let se=this.min;var de=this.max;let Ce,ne=0,ve,_e,oe,ge,Te;if(this.isXAxis&&typeof this.minRange>"u"&&!Q&&(H(z.min)||H(z.max)||H(z.floor)||H(z.ceiling)?this.minRange=null:(this.series.forEach(function(Le){if(oe=Le.xData,ge=Le.xIncrement?1:oe.length-1,1<oe.length)for(ve=ge;0<ve;ve--)_e=oe[ve]-oe[ve-1],(!ne||_e<ne)&&(ne=_e)}),this.minRange=Math.min(5*ne,this.dataMax-this.dataMin))),de-se<this.minRange){Ce=this.dataMax-this.dataMin>=this.minRange,Te=this.minRange;var Re=(Te-de+se)/2;Re=[se-Re,x(z.min,se-Re)],Ce&&(Re[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),se=G(Re),de=[se+Te,x(z.max,se+Te)],Ce&&(de[2]=Q?Q.log2lin(this.dataMax):this.dataMax),de=k(de),de-se<Te&&(Re[0]=de-Te,Re[1]=x(z.min,de-Te),se=G(Re))}this.min=se,this.max=de}getClosest(){let z;return this.categories?z=1:this.series.forEach(function(Q){const se=Q.closestPointRange,de=Q.visible||!Q.chart.options.chart.ignoreHiddenSeries;!Q.noSharedTooltip&&H(se)&&de&&(z=H(z)?Math.min(z,se):se)}),z}nameToX(z){const Q=V(this.options.categories),se=Q?this.categories:this.names;let de=z.options.x,Ce;return z.series.requireSorting=!1,H(de)||(de=this.options.uniqueNames&&se?Q?se.indexOf(z.name):x(se.keys[z.name],-1):z.series.autoIncrement()),de===-1?!Q&&se&&(Ce=se.length):Ce=de,typeof Ce<"u"?(this.names[Ce]=z.name,this.names.keys[z.name]=Ce):z.x&&(Ce=z.x),Ce}updateNames(){const z=this,Q=this.names;0<Q.length&&(Object.keys(Q.keys).forEach(function(se){delete Q.keys[se]}),Q.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(se){se.xIncrement=null,(!se.points||se.isDirtyData)&&(z.max=Math.max(z.max,se.xData.length-1),se.processData(),se.generatePoints()),se.data.forEach(function(de,Ce){let ne;de&&de.options&&typeof de.name<"u"&&(ne=z.nameToX(de),typeof ne<"u"&&ne!==de.x&&(de.x=ne,se.xData[Ce]=ne))})}))}setAxisTranslation(){const z=this,Q=z.max-z.min;var se=z.linkedParent;const de=!!z.categories,Ce=z.isXAxis;let ne=z.axisPointRange||0,ve,_e=0,oe=0,ge=z.transA;(Ce||de||ne)&&(ve=z.getClosest(),se?(_e=se.minPointOffset,oe=se.pointRangePadding):z.series.forEach(function(Te){const Re=de?1:Ce?x(Te.options.pointRange,ve,0):z.axisPointRange||0,Le=Te.options.pointPlacement;ne=Math.max(ne,Re),(!z.single||de)&&(Te=Te.is("xrange")?!Ce:Ce,_e=Math.max(_e,Te&&w(Le)?0:Re/2),oe=Math.max(oe,Te&&Le==="on"?0:Re))}),se=z.ordinal&&z.ordinal.slope&&ve?z.ordinal.slope/ve:1,z.minPointOffset=_e*=se,z.pointRangePadding=oe*=se,z.pointRange=Math.min(ne,z.single&&de?1:Q),Ce&&(z.closestPointRange=ve)),z.translationSlope=z.transA=ge=z.staticScale||z.len/(Q+oe||1),z.transB=z.horiz?z.left:z.bottom,z.minPixelPadding=ge*_e,$(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(z){var Q=this.chart;const se=this.logarithmic,de=this.options,Ce=this.isXAxis,ne=this.isLinked,ve=de.tickPixelInterval,_e=this.categories,oe=this.softThreshold;let ge=de.maxPadding,Te=de.minPadding,Re=j(de.tickInterval)&&0<=de.tickInterval?de.tickInterval:void 0,Le=j(this.threshold)?this.threshold:null,$e,nt,Qe;if(this.dateTime||_e||ne||this.getTickAmount(),nt=x(this.userMin,de.min),Qe=x(this.userMax,de.max),ne){this.linkedParent=Q[this.coll][de.linkedTo];var We=this.linkedParent.getExtremes();this.min=x(We.min,We.dataMin),this.max=x(We.max,We.dataMax),de.type!==this.linkedParent.options.type&&ie(11,1,Q)}else oe&&H(Le)&&(this.dataMin>=Le?(We=Le,Te=0):this.dataMax<=Le&&($e=Le,ge=0)),this.min=x(nt,We,this.dataMin),this.max=x(Qe,$e,this.dataMax);if(se&&(this.positiveValuesOnly&&!z&&0>=Math.min(this.min,x(this.dataMin,this.min))&&ie(10,1,Q),this.min=A(se.log2lin(this.min),16),this.max=A(se.log2lin(this.max),16)),this.range&&H(this.max)&&(this.userMin=this.min=nt=Math.max(this.dataMin,this.minFromRange()),this.userMax=Qe=this.max,this.range=null),$(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(_e||this.axisPointRange||this.stacking&&this.stacking.usePercentage||ne)&&H(this.min)&&H(this.max)&&(Q=this.max-this.min)&&(!H(nt)&&Te&&(this.min-=Q*Te),!H(Qe)&&ge&&(this.max+=Q*ge)),j(this.userMin)||(j(de.softMin)&&de.softMin<this.min&&(this.min=nt=de.softMin),j(de.floor)&&(this.min=Math.max(this.min,de.floor))),j(this.userMax)||(j(de.softMax)&&de.softMax>this.max&&(this.max=Qe=de.softMax),j(de.ceiling)&&(this.max=Math.min(this.max,de.ceiling))),oe&&H(this.dataMin)&&(Le=Le||0,!H(nt)&&this.min<Le&&this.dataMin>=Le?this.min=this.options.minRange?Math.min(Le,this.max-this.minRange):Le:!H(Qe)&&this.max>Le&&this.dataMax<=Le&&(this.max=this.options.minRange?Math.max(Le,this.min+this.minRange):Le)),j(this.min)&&j(this.max)&&!this.chart.polar&&this.min>this.max&&(H(this.options.min)?this.max=this.min:H(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:ne&&this.linkedParent&&!Re&&ve===this.linkedParent.options.tickPixelInterval?Re=this.linkedParent.tickInterval:x(Re,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,_e?1:(this.max-this.min)*ve/Math.max(this.len,ve)),Ce&&!z){const xe=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Ie){Ie.forceCrop=Ie.forceCropping&&Ie.forceCropping(),Ie.processData(xe)}),$(this,"postProcessData",{hasExtremesChanged:xe})}this.setAxisTranslation(),$(this,"initialAxisTranslation"),this.pointRange&&!Re&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),z=x(de.minTickInterval,this.dateTime&&!this.series.some(xe=>xe.noSharedTooltip)?this.closestPointRange:0),!Re&&this.tickInterval<z&&(this.tickInterval=z),this.dateTime||this.logarithmic||Re||(this.tickInterval=le(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var z=this.options;const Q=z.tickPositions,se=z.tickPositioner;var de=this.getMinorTickInterval(),Ce=this.hasVerticalPanning(),ne=this.coll==="colorAxis";const ve=(ne||!Ce)&&z.startOnTick;Ce=(ne||!Ce)&&z.endOnTick,ne=[];let _e;if(this.tickmarkOffset=this.categories&&z.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=de==="auto"&&this.tickInterval?this.tickInterval/z.minorTicksPerMajor:de,this.single=this.min===this.max&&H(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||z.allowDecimals!==!1),Q)ne=Q.slice();else if(j(this.min)&&j(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)ne=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,z.units),this.min,this.max,z.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)ne=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(de=z=this.tickInterval;de<=2*z&&(ne=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&ne.length>this.tickAmount);)this.tickInterval=le(this,de*=1.1);else ne=[this.min,this.max],ie(19,!1,this.chart);ne.length>this.len&&(ne=[ne[0],ne[ne.length-1]],ne[0]===ne[1]&&(ne.length=1)),se&&(this.tickPositions=ne,(_e=se.apply(this,[this.min,this.max]))&&(ne=_e))}this.tickPositions=ne,this.paddedTicks=ne.slice(0),this.trimTicks(ne,ve,Ce),!this.isLinked&&j(this.min)&&j(this.max)&&(this.single&&2>ne.length&&!this.categories&&!this.series.some(oe=>oe.is("heatmap")&&oe.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),Q||_e||this.adjustTickAmount()),$(this,"afterSetTickPositions")}trimTicks(z,Q,se){const de=z[0],Ce=z[z.length-1],ne=!this.isOrdinal&&this.minPointOffset||0;if($(this,"trimTicks"),!this.isLinked){if(Q&&de!==-1/0)this.min=de;else for(;this.min-ne>z[0];)z.shift();if(se)this.max=Ce;else for(;this.max+ne<z[z.length-1];)z.pop();z.length===0&&H(de)&&!this.options.tickPositions&&z.push((Ce+de)/2)}}alignToOthers(){const z=this,Q=[this],se=z.options,de=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Ce=[];let ne;if(z.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&se.alignTicks||de)&&se.startOnTick!==!1&&se.endOnTick!==!1&&!z.logarithmic){const ve=oe=>{const{horiz:ge,options:Te}=oe;return[ge?Te.left:Te.top,Te.width,Te.height,Te.pane].join()},_e=ve(this);this.chart[this.coll].forEach(function(oe){const{series:ge}=oe;ge.length&&ge.some(Te=>Te.visible)&&oe!==z&&ve(oe)===_e&&(ne=!0,Q.push(oe))})}if(ne&&de){Q.forEach(_e=>{_e=_e.getThresholdAlignment(z),j(_e)&&Ce.push(_e)});const ve=1<Ce.length?Ce.reduce((_e,oe)=>_e+oe,0)/Ce.length:void 0;Q.forEach(_e=>{_e.thresholdAlignment=ve})}return ne}getThresholdAlignment(z){if((!j(this.dataMin)||this!==z&&this.series.some(Q=>Q.isDirty||Q.isDirtyData))&&this.getSeriesExtremes(),j(this.threshold))return z=S((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(z=1-z),z}getTickAmount(){const z=this.options,Q=z.tickPixelInterval;let se=z.tickAmount;!H(z.tickInterval)&&!se&&this.len<Q&&!this.isRadial&&!this.logarithmic&&z.startOnTick&&z.endOnTick&&(se=2),!se&&this.alignToOthers()&&(se=Math.ceil(this.len/Q)+1),4>se&&(this.finalTickAmt=se,se=5),this.tickAmount=se}adjustTickAmount(){const z=this,{finalTickAmt:Q,max:se,min:de,options:Ce,tickPositions:ne,tickAmount:ve,thresholdAlignment:_e}=z,oe=ne&&ne.length;var ge=x(z.threshold,z.softThreshold?0:null),Te=z.tickInterval;let Re;if(j(_e)&&(Re=.5>_e?Math.ceil(_e*(ve-1)):Math.floor(_e*(ve-1)),Ce.reversed&&(Re=ve-1-Re)),z.hasData()&&j(de)&&j(se)){const Le=()=>{z.transA*=(oe-1)/(ve-1),z.min=Ce.startOnTick?ne[0]:Math.min(de,ne[0]),z.max=Ce.endOnTick?ne[ne.length-1]:Math.max(se,ne[ne.length-1])};if(j(Re)&&j(z.threshold)){for(;ne[Re]!==ge||ne.length!==ve||ne[0]>de||ne[ne.length-1]<se;){for(ne.length=0,ne.push(z.threshold);ne.length<ve;)ne[Re]===void 0||ne[Re]>z.threshold?ne.unshift(A(ne[0]-Te)):ne.push(A(ne[ne.length-1]+Te));if(Te>8*z.tickInterval)break;Te*=2}Le()}else if(oe<ve){for(;ne.length<ve;)ne.length%2||de===ge?ne.push(A(ne[ne.length-1]+Te)):ne.unshift(A(ne[0]-Te));Le()}if(H(Q)){for(Te=ge=ne.length;Te--;)(Q===3&&Te%2===1||2>=Q&&0<Te&&Te<ge-1)&&ne.splice(Te,1);z.finalTickAmt=void 0}}}setScale(){let z=!1,Q=!1;this.series.forEach(function(de){z=z||de.isDirtyData||de.isDirty,Q=Q||de.xAxis&&de.xAxis.isDirty||!1}),this.setAxisSize();const se=this.len!==(this.old&&this.old.len);se||z||Q||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=se||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),z&&this.panningState&&(this.panningState.isDirty=!0),$(this,"afterSetScale")}setExtremes(z,Q,se,de,Ce){const ne=this,ve=ne.chart;se=x(se,!0),ne.series.forEach(function(_e){delete _e.kdTree}),Ce=ee(Ce,{min:z,max:Q}),$(ne,"setExtremes",Ce,function(){ne.userMin=z,ne.userMax=Q,ne.eventArgs=Ce,se&&ve.redraw(de)})}zoom(z,Q){const se=this,de=this.dataMin,Ce=this.dataMax,ne=this.options,ve=Math.min(de,x(ne.min,de)),_e=Math.max(Ce,x(ne.max,Ce));return z={newMin:z,newMax:Q},$(this,"zoom",z,function(oe){let ge=oe.newMin,Te=oe.newMax;(ge!==se.min||Te!==se.max)&&(se.allowZoomOutside||(H(de)&&(ge<ve&&(ge=ve),ge>_e&&(ge=_e)),H(Ce)&&(Te<ve&&(Te=ve),Te>_e&&(Te=_e))),se.displayBtn=typeof ge<"u"||typeof Te<"u",se.setExtremes(ge,Te,!1,void 0,{trigger:"zoom"})),oe.zoomed=!0}),z.zoomed}setAxisSize(){const z=this.chart;var Q=this.options;const se=Q.offsets||[0,0,0,0],de=this.horiz,Ce=this.width=Math.round(P(x(Q.width,z.plotWidth-se[3]+se[1]),z.plotWidth)),ne=this.height=Math.round(P(x(Q.height,z.plotHeight-se[0]+se[2]),z.plotHeight)),ve=this.top=Math.round(P(x(Q.top,z.plotTop+se[0]),z.plotHeight,z.plotTop));Q=this.left=Math.round(P(x(Q.left,z.plotLeft+se[3]),z.plotWidth,z.plotLeft)),this.bottom=z.chartHeight-ne-ve,this.right=z.chartWidth-Ce-Q,this.len=Math.max(de?Ce:ne,0),this.pos=de?Q:ve}getExtremes(){const z=this.logarithmic;return{min:z?A(z.lin2log(this.min)):this.min,max:z?A(z.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(z){var Q=this.logarithmic;const se=Q?Q.lin2log(this.min):this.min;return Q=Q?Q.lin2log(this.max):this.max,z===null||z===-1/0?z=se:z===1/0?z=Q:se>z?z=se:Q<z&&(z=Q),this.translate(z,0,1,0,1)}autoLabelAlign(z){const Q=(x(z,0)-90*this.side+720)%360;return z={align:"center"},$(this,"autoLabelAlign",z,function(se){15<Q&&165>Q?se.align="right":195<Q&&345>Q&&(se.align="left")}),z.align}tickSize(z){const Q=this.options,se=x(Q[z==="tick"?"tickWidth":"minorTickWidth"],z==="tick"&&this.isXAxis&&!this.categories?1:0);let de=Q[z==="tick"?"tickLength":"minorTickLength"],Ce;return se&&de&&(Q[z+"Position"]==="inside"&&(de=-de),Ce=[de,se]),z={tickSize:Ce},$(this,"afterTickSize",z),z.tickSize}labelMetrics(){const z=this.chart.renderer;var Q=this.ticks;return Q=Q[Object.keys(Q)[0]]||{},this.chart.renderer.fontMetrics(Q.label||Q.movedLabel||z.box)}unsquish(){const z=this.options.labels;var Q=this.horiz;const se=this.tickInterval,de=this.len/(((this.categories?1:0)+this.max-this.min)/se),Ce=z.rotation,ne=.75*this.labelMetrics().h,ve=Math.max(this.max-this.min,0),_e=function(Le){let $e=Le/(de||1);return $e=1<$e?Math.ceil($e):1,$e*se>ve&&Le!==1/0&&de!==1/0&&ve&&($e=Math.ceil(ve/se)),A($e*se)};let oe=se,ge,Te=Number.MAX_VALUE,Re;if(Q){if(z.staggerLines||(j(Ce)?Re=[Ce]:de<z.autoRotationLimit&&(Re=z.autoRotation)),Re){let Le;for(const $e of Re)($e===Ce||$e&&-90<=$e&&90>=$e)&&(Q=_e(Math.abs(ne/Math.sin(L*$e))),Le=Q+Math.abs($e/360),Le<Te&&(Te=Le,ge=$e,oe=Q))}}else oe=_e(ne);return this.autoRotation=Re,this.labelRotation=x(ge,j(Ce)?Ce:0),z.step?se:oe}getSlotWidth(z){const Q=this.chart,se=this.horiz,de=this.options.labels,Ce=Math.max(this.tickPositions.length-(this.categories?0:1),1),ne=Q.margin[3];if(z&&j(z.slotWidth))return z.slotWidth;if(se&&2>de.step)return de.rotation?0:(this.staggerLines||1)*this.len/Ce;if(!se){if(z=de.style.width,z!==void 0)return parseInt(String(z),10);if(ne)return ne-Q.spacing[3]}return .33*Q.chartWidth}renderUnsquish(){const z=this.chart,Q=z.renderer,se=this.tickPositions,de=this.ticks,Ce=this.options.labels,ne=Ce.style,ve=this.horiz,_e=this.getSlotWidth();var oe=Math.max(1,Math.round(_e-2*Ce.padding));const ge={},Te=this.labelMetrics(),Re=ne.textOverflow;let Le,$e,nt=0;if(w(Ce.rotation)||(ge.rotation=Ce.rotation||0),se.forEach(function(We){We=de[We],We.movedLabel&&We.replaceMovedLabel(),We&&We.label&&We.label.textPxLength>nt&&(nt=We.label.textPxLength)}),this.maxLabelLength=nt,this.autoRotation)nt>oe&&nt>Te.h?ge.rotation=this.labelRotation:this.labelRotation=0;else if(_e&&(Le=oe,!Re))for($e="clip",oe=se.length;!ve&&oe--;){var Qe=se[oe];(Qe=de[Qe].label)&&(Qe.styles&&Qe.styles.textOverflow==="ellipsis"?Qe.css({textOverflow:"clip"}):Qe.textPxLength>_e&&Qe.css({width:_e+"px"}),Qe.getBBox().height>this.len/se.length-(Te.h-Te.f)&&(Qe.specificTextOverflow="ellipsis"))}ge.rotation&&(Le=nt>.5*z.chartHeight?.33*z.chartHeight:nt,Re||($e="ellipsis")),(this.labelAlign=Ce.align||this.autoLabelAlign(this.labelRotation))&&(ge.align=this.labelAlign),se.forEach(function(We){const xe=(We=de[We])&&We.label,Ie=ne.width,Be={};xe&&(xe.attr(ge),We.shortenLabel?We.shortenLabel():Le&&!Ie&&ne.whiteSpace!=="nowrap"&&(Le<xe.textPxLength||xe.element.tagName==="SPAN")?(Be.width=Le+"px",Re||(Be.textOverflow=xe.specificTextOverflow||$e),xe.css(Be)):xe.styles&&xe.styles.width&&!Be.width&&!Ie&&xe.css({width:null}),delete xe.specificTextOverflow,We.rotation=ge.rotation)},this),this.tickRotCorr=Q.rotCorr(Te.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(z){return z.hasData()})||this.options.showEmpty&&H(this.min)&&H(this.max)}addTitle(z){const Q=this.chart.renderer,se=this.horiz,de=this.opposite,Ce=this.options.title,ne=this.chart.styledMode;let ve;this.axisTitle||((ve=Ce.textAlign)||(ve=(se?{low:"left",middle:"center",high:"right"}:{low:de?"right":"left",middle:"center",high:de?"left":"right"})[Ce.align]),this.axisTitle=Q.text(Ce.text||"",0,0,Ce.useHTML).attr({zIndex:7,rotation:Ce.rotation,align:ve}).addClass("highcharts-axis-title"),ne||this.axisTitle.css(D(Ce.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),ne||Ce.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[z?"show":"hide"](z)}generateTick(z){const Q=this.ticks;Q[z]?Q[z].addLabel():Q[z]=new J(this,z)}getOffset(){const z=this,{chart:Q,horiz:se,options:de,side:Ce,ticks:ne,tickPositions:ve,coll:_e,axisParent:oe}=z,ge=Q.renderer,Te=Q.inverted&&!z.isZAxis?[1,0,3,2][Ce]:Ce;var Re=z.hasData();const Le=de.title;var $e=de.labels;const nt=j(de.crossing);var Qe=Q.axisOffset;const We=Q.clipOffset,xe=[-1,1,1,-1][Ce],Ie=de.className;let Be,Xe=0,Ze;var ft=0;let Ct=0;if(z.showAxis=Be=Re||de.showEmpty,z.staggerLines=z.horiz&&$e.staggerLines||void 0,!z.axisGroup){const Nt=(pi,qt,fi)=>ge.g(pi).attr({zIndex:fi}).addClass(`highcharts-${_e.toLowerCase()}${qt} `+(this.isRadial?`highcharts-radial-axis${qt} `:"")+(Ie||"")).add(oe);z.gridGroup=Nt("grid","-grid",de.gridZIndex),z.axisGroup=Nt("axis","",de.zIndex),z.labelGroup=Nt("axis-labels","-labels",$e.zIndex)}Re||z.isLinked?(ve.forEach(function(Nt){z.generateTick(Nt)}),z.renderUnsquish(),z.reserveSpaceDefault=Ce===0||Ce===2||{1:"left",3:"right"}[Ce]===z.labelAlign,x($e.reserveSpace,nt?!1:null,z.labelAlign==="center"?!0:null,z.reserveSpaceDefault)&&ve.forEach(function(Nt){Ct=Math.max(ne[Nt].getLabelSize(),Ct)}),z.staggerLines&&(Ct*=z.staggerLines),z.labelOffset=Ct*(z.opposite?-1:1)):g(ne,function(Nt,pi){Nt.destroy(),delete ne[pi]}),Le&&Le.text&&Le.enabled!==!1&&(z.addTitle(Be),Be&&!nt&&Le.reserveSpace!==!1&&(z.titleOffset=Xe=z.axisTitle.getBBox()[se?"height":"width"],Ze=Le.offset,ft=H(Ze)?0:x(Le.margin,se?5:10))),z.renderLine(),z.offset=xe*x(de.offset,Qe[Ce]?Qe[Ce]+(de.margin||0):0),z.tickRotCorr=z.tickRotCorr||{x:0,y:0},Re=Ce===0?-z.labelMetrics().h:Ce===2?z.tickRotCorr.y:0,ft=Math.abs(Ct)+ft,Ct&&(ft=ft-Re+xe*(se?x($e.y,z.tickRotCorr.y+xe*$e.distance):x($e.x,xe*$e.distance))),z.axisTitleMargin=x(Ze,ft),z.getMaxLabelDimensions&&(z.maxLabelDimensions=z.getMaxLabelDimensions(ne,ve)),_e!=="colorAxis"&&($e=this.tickSize("tick"),Qe[Ce]=Math.max(Qe[Ce],(z.axisTitleMargin||0)+Xe+xe*z.offset,ft,ve&&ve.length&&$e?$e[0]+xe*z.offset:0),Qe=!z.axisLine||de.offset?0:2*Math.floor(z.axisLine.strokeWidth()/2),We[Te]=Math.max(We[Te],Qe)),$(this,"afterGetOffset")}getLinePath(z){const Q=this.chart,se=this.opposite;var de=this.offset;const Ce=this.horiz,ne=this.left+(se?this.width:0)+de;return de=Q.chartHeight-this.bottom-(se?this.height:0)+de,se&&(z*=-1),Q.renderer.crispLine([["M",Ce?this.left:ne,Ce?de:this.top],["L",Ce?Q.chartWidth-this.right:ne,Ce?de:Q.chartHeight-this.bottom]],z)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(z){var Q=this.horiz,se=this.left;const de=this.top;var Ce=this.len;const ne=this.options.title,ve=Q?se:de,_e=this.opposite,oe=this.offset,ge=ne.x,Te=ne.y,Re=this.chart.renderer.fontMetrics(z);return z=z?Math.max(z.getBBox(!1,0).height-Re.h-1,0):0,Ce={low:ve+(Q?0:Ce),middle:ve+Ce/2,high:ve+(Q?Ce:0)}[ne.align],se=(Q?de+this.height:se)+(Q?1:-1)*(_e?-1:1)*(this.axisTitleMargin||0)+[-z,z,Re.f,-z][this.side],Q={x:Q?Ce+ge:se+(_e?this.width:0)+oe+ge,y:Q?se+Te-(_e?this.height:0)+oe:Ce+Te},$(this,"afterGetTitlePosition",{titlePosition:Q}),Q}renderMinorTick(z,Q){const se=this.minorTicks;se[z]||(se[z]=new J(this,z,"minor")),Q&&se[z].isNew&&se[z].render(null,!0),se[z].render(null,!1,1)}renderTick(z,Q,se){const de=this.ticks;(!this.isLinked||z>=this.min&&z<=this.max||this.grid&&this.grid.isColumn)&&(de[z]||(de[z]=new J(this,z)),se&&de[z].isNew&&de[z].render(Q,!0,-1),de[z].render(Q))}render(){const z=this,Q=z.chart,se=z.logarithmic,de=z.options,Ce=z.isLinked,ne=z.tickPositions,ve=z.axisTitle,_e=z.ticks,oe=z.minorTicks,ge=z.alternateBands,Te=de.stackLabels,Re=de.alternateGridColor,Le=de.crossing,$e=z.tickmarkOffset,nt=z.axisLine,Qe=z.showAxis,We=B(Q.renderer.globalAnimation);let xe,Ie;if(z.labelEdge.length=0,z.overlap=!1,[_e,oe,ge].forEach(function(Be){g(Be,function(Xe){Xe.isActive=!1})}),j(Le)){const Be=this.isXAxis?Q.yAxis[0]:Q.xAxis[0],Xe=[1,-1,-1,1][this.side];Be&&(this.offset=Xe*Be.toPixels(Le,!0))}if(z.hasData()||Ce){const Be=z.chart.hasRendered&&z.old&&j(z.old.min);z.minorTickInterval&&!z.categories&&z.getMinorTickPositions().forEach(function(Xe){z.renderMinorTick(Xe,Be)}),ne.length&&(ne.forEach(function(Xe,Ze){z.renderTick(Xe,Ze,Be)}),$e&&(z.min===0||z.single)&&(_e[-1]||(_e[-1]=new J(z,-1,null,!0)),_e[-1].render(-1))),Re&&ne.forEach(function(Xe,Ze){Ie=typeof ne[Ze+1]<"u"?ne[Ze+1]+$e:z.max-$e,Ze%2===0&&Xe<z.max&&Ie<=z.max+(Q.polar?-$e:$e)&&(ge[Xe]||(ge[Xe]=new I.PlotLineOrBand(z)),xe=Xe+$e,ge[Xe].options={from:se?se.lin2log(xe):xe,to:se?se.lin2log(Ie):Ie,color:Re,className:"highcharts-alternate-grid"},ge[Xe].render(),ge[Xe].isActive=!0)}),z._addedPlotLB||(z._addedPlotLB=!0,(de.plotLines||[]).concat(de.plotBands||[]).forEach(function(Xe){z.addPlotBandOrLine(Xe)}))}[_e,oe,ge].forEach(function(Be){const Xe=[],Ze=We.duration;g(Be,function(ft,Ct){ft.isActive||(ft.render(Ct,!1,0),ft.isActive=!1,Xe.push(Ct))}),K(function(){let ft=Xe.length;for(;ft--;)Be[Xe[ft]]&&!Be[Xe[ft]].isActive&&(Be[Xe[ft]].destroy(),delete Be[Xe[ft]])},Be!==ge&&Q.hasRendered&&Ze?Ze:0)}),nt&&(nt[nt.isPlaced?"animate":"attr"]({d:this.getLinePath(nt.strokeWidth())}),nt.isPlaced=!0,nt[Qe?"show":"hide"](Qe)),ve&&Qe&&(ve[ve.isNew?"attr":"animate"](z.getTitlePosition(ve)),ve.isNew=!1),Te&&Te.enabled&&z.stacking&&z.stacking.renderStackTotals(),z.old={len:z.len,max:z.max,min:z.min,transA:z.transA,userMax:z.userMax,userMin:z.userMin},z.isDirty=!1,$(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(z){z.render()})),this.series.forEach(function(z){z.isDirty=!0})}getKeepProps(){return this.keepProps||pe.keepProps}destroy(z){const Q=this,se=Q.plotLinesAndBands,de=this.eventOptions;if($(this,"destroy",{keepEvents:z}),z||X(Q),[Q.ticks,Q.minorTicks,Q.alternateBands].forEach(function(Ce){U(Ce)}),se)for(z=se.length;z--;)se[z].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Ce){Q[Ce]&&(Q[Ce]=Q[Ce].destroy())});for(const Ce in Q.plotLinesAndBandsGroups)Q.plotLinesAndBandsGroups[Ce]=Q.plotLinesAndBandsGroups[Ce].destroy();g(Q,function(Ce,ne){Q.getKeepProps().indexOf(ne)===-1&&delete Q[ne]}),this.eventOptions=de}drawCrosshair(z,Q){const se=this.crosshair;var de=x(se&&se.snap,!0);const Ce=this.chart;let ne,ve=this.cross;if($(this,"drawCrosshair",{e:z,point:Q}),z||(z=this.cross&&this.cross.e),se&&(H(Q)||!de)!==!1){if(de?H(Q)&&(ne=x(this.coll!=="colorAxis"?Q.crosshairPos:null,this.isXAxis?Q.plotX:this.len-Q.plotY)):ne=z&&(this.horiz?z.chartX-this.pos:this.len-z.chartY+this.pos),H(ne)){var _e={value:Q&&(this.isXAxis?Q.x:x(Q.stackY,Q.y)),translatedValue:ne};Ce.polar&&ee(_e,{isCrosshair:!0,chartX:z&&z.chartX,chartY:z&&z.chartY,point:Q}),_e=this.getPlotLinePath(_e)||null}if(!H(_e)){this.hideCrosshair();return}de=this.categories&&!this.isRadial,ve||(this.cross=ve=Ce.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(de?"category ":"thin ")+(se.className||"")).attr({zIndex:x(se.zIndex,2)}).add(),Ce.styledMode||(ve.attr({stroke:se.color||(de?h.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":x(se.width,1)}).css({"pointer-events":"none"}),se.dashStyle&&ve.attr({dashstyle:se.dashStyle}))),ve.show().attr({d:_e}),de&&!se.width&&ve.attr({"stroke-width":this.transA}),this.cross.e=z}else this.hideCrosshair();$(this,"afterDrawCrosshair",{e:z,point:Q})}hideCrosshair(){this.cross&&this.cross.hide(),$(this,"afterHideCrosshair")}hasVerticalPanning(){const z=this.chart.options.chart.panning;return!!(z&&z.enabled&&/y/.test(z.type))}update(z,Q){const se=this.chart;z=D(this.userOptions,z),this.destroy(!0),this.init(se,z),se.isDirtyBox=!0,x(Q,!0)&&se.redraw()}remove(z){const Q=this.chart,se=this.coll,de=this.series;let Ce=de.length;for(;Ce--;)de[Ce]&&de[Ce].remove(!1);E(Q.axes,this),E(Q[se],this),Q[se].forEach(function(ne,ve){ne.options.index=ne.userOptions.index=ve}),this.destroy(),Q.isDirtyBox=!0,x(z,!0)&&Q.redraw()}setTitle(z,Q){this.update({title:z},Q)}setCategories(z,Q){this.update({categories:z},Q)}}return pe.defaultOptions=u.defaultXAxisOptions,pe.keepProps="extKey hcEvents names series userMax userMin".split(" "),pe}),i(r,"Core/Axis/DateTimeAxis.js",[r["Core/Utilities.js"]],function(o){const{addEvent:u,getMagnitude:h,normalizeTickInterval:s,timeUnits:v}=o;var I;return function(J){function M(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function B(L){L.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new O(this))}const W=[];J.compose=function(L){return o.pushUnique(W,L)&&(L.keepProps.push("dateTime"),L.prototype.getTimeTicks=M,u(L,"init",B)),L};class O{constructor(G){this.axis=G}normalizeTimeTickInterval(G,k){const S=k||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];k=S[S.length-1];let A=v[k[0]],H=k[1],U;for(U=0;U<S.length&&(k=S[U],A=v[k[0]],H=k[1],!(S[U+1]&&G<=(A*H[H.length-1]+v[S[U+1][0]])/2));U++);return A===v.year&&G<5*A&&(H=[1,2,5]),G=s(G/A,H,k[0]==="year"?Math.max(h(G/A),1):1),{unitRange:A,count:G,unitName:k[0]}}getXDateFormat(G,k){const{axis:S}=this,A=S.chart.time;return S.closestPointRange?A.getDateFormat(S.closestPointRange,G,S.options.startOfWeek,k)||A.resolveDTLFormat(k.year).main:A.resolveDTLFormat(k.day).main}}J.Additions=O}(I||(I={})),I}),i(r,"Core/Axis/LogarithmicAxis.js",[r["Core/Utilities.js"]],function(o){const{addEvent:u,normalizeTickInterval:h,pick:s}=o;var v;return function(I){function J(O){let L=this.logarithmic;O.userOptions.type!=="logarithmic"?this.logarithmic=void 0:L||(this.logarithmic=new W(this))}function M(){const O=this.logarithmic;O&&(this.lin2val=function(L){return O.lin2log(L)},this.val2lin=function(L){return O.log2lin(L)})}const B=[];I.compose=function(O){return o.pushUnique(B,O)&&(O.keepProps.push("logarithmic"),u(O,"init",J),u(O,"afterInit",M)),O};class W{constructor(L){this.axis=L}getLogTickPositions(L,G,k,S){const A=this.axis;var H=A.len,U=A.options;let E=[];if(S||(this.minorAutoInterval=void 0),.5<=L)L=Math.round(L),E=A.getLinearTickPositions(L,G,k);else if(.08<=L){U=Math.floor(G);let ie,ee,$,V,j;for(H=.3<L?[1,2,4]:.15<L?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];U<k+1&&!j;U++)for(ee=H.length,ie=0;ie<ee&&!j;ie++)$=this.log2lin(this.lin2log(U)*H[ie]),$>G&&(!S||V<=k)&&typeof V<"u"&&E.push(V),V>k&&(j=!0),V=$}else G=this.lin2log(G),k=this.lin2log(k),L=S?A.getMinorTickInterval():U.tickInterval,L=s(L==="auto"?null:L,this.minorAutoInterval,U.tickPixelInterval/(S?5:1)*(k-G)/((S?H/A.tickPositions.length:H)||1)),L=h(L),E=A.getLinearTickPositions(L,G,k).map(this.log2lin),S||(this.minorAutoInterval=L/5);return S||(A.tickInterval=L),E}lin2log(L){return Math.pow(10,L)}log2lin(L){return Math.log(L)/Math.LN10}}I.Additions=W}(v||(v={})),v}),i(r,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[r["Core/Utilities.js"]],function(o){const{erase:u,extend:h,isNumber:s}=o;var v;return function(I){function J(A){return this.addPlotBandOrLine(A,"plotBands")}function M(A,H){const U=this.userOptions;let E=new S(this,A);if(this.visible&&(E=E.render()),E){if(this._addedPlotLB||(this._addedPlotLB=!0,(U.plotLines||[]).concat(U.plotBands||[]).forEach(ie=>{this.addPlotBandOrLine(ie)})),H){const ie=U[H]||[];ie.push(A),U[H]=ie}this.plotLinesAndBands.push(E)}return E}function B(A){return this.addPlotBandOrLine(A,"plotLines")}function W(A,H,U=this.options){const E=this.getPlotLinePath({value:H,force:!0,acrossPanes:U.acrossPanes}),ie=[],ee=this.horiz;H=!s(this.min)||!s(this.max)||A<this.min&&H<this.min||A>this.max&&H>this.max,A=this.getPlotLinePath({value:A,force:!0,acrossPanes:U.acrossPanes}),U=1;let $;if(A&&E)for(H&&($=A.toString()===E.toString(),U=0),H=0;H<A.length;H+=2){const V=A[H],j=A[H+1],w=E[H],D=E[H+1];V[0]!=="M"&&V[0]!=="L"||j[0]!=="M"&&j[0]!=="L"||w[0]!=="M"&&w[0]!=="L"||D[0]!=="M"&&D[0]!=="L"||(ee&&w[1]===V[1]?(w[1]+=U,D[1]+=U):ee||w[2]!==V[2]||(w[2]+=U,D[2]+=U),ie.push(["M",V[1],V[2]],["L",j[1],j[2]],["L",D[1],D[2]],["L",w[1],w[2]],["Z"])),ie.isFlat=$}return ie}function O(A){this.removePlotBandOrLine(A)}function L(A){const H=this.plotLinesAndBands,U=this.options,E=this.userOptions;if(H){let ie=H.length;for(;ie--;)H[ie].id===A&&H[ie].destroy();[U.plotLines||[],E.plotLines||[],U.plotBands||[],E.plotBands||[]].forEach(function(ee){for(ie=ee.length;ie--;)(ee[ie]||{}).id===A&&u(ee,ee[ie])})}}function G(A){this.removePlotBandOrLine(A)}const k=[];let S;I.compose=function(A,H){return S||(S=A),o.pushUnique(k,H)&&h(H.prototype,{addPlotBand:J,addPlotLine:B,addPlotBandOrLine:M,getPlotBandPath:W,removePlotBand:O,removePlotLine:G,removePlotBandOrLine:L}),H}}(v||(v={})),v}),i(r,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[r["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],r["Core/Utilities.js"]],function(o,u){const{arrayMax:h,arrayMin:s,defined:v,destroyObjectProperties:I,erase:J,fireEvent:M,merge:B,objectEach:W,pick:O}=u;class L{static compose(k){return o.compose(L,k)}constructor(k,S){this.axis=k,S&&(this.options=S,this.id=S.id)}render(){M(this,"render");const k=this,S=k.axis,A=S.horiz;var H=S.logarithmic;const U=k.options,E=U.color,ie=O(U.zIndex,0),ee=U.events,$={},V=S.chart.renderer;let j=U.label,w=k.label,D=U.to,m=U.from,g=U.value,x=k.svgElem;var P=[];const X=v(m)&&v(D);P=v(g);const Y=!x,K={class:"highcharts-plot-"+(X?"band ":"line ")+(U.className||"")};let le=X?"bands":"lines";if(H&&(m=H.log2lin(m),D=H.log2lin(D),g=H.log2lin(g)),S.chart.styledMode||(P?(K.stroke=E||"#999999",K["stroke-width"]=O(U.width,1),U.dashStyle&&(K.dashstyle=U.dashStyle)):X&&(K.fill=E||"#e6e9ff",U.borderWidth&&(K.stroke=U.borderColor,K["stroke-width"]=U.borderWidth))),$.zIndex=ie,le+="-"+ie,(H=S.plotLinesAndBandsGroups[le])||(S.plotLinesAndBandsGroups[le]=H=V.g("plot-"+le).attr($).add()),Y&&(k.svgElem=x=V.path().attr(K).add(H)),P)P=S.getPlotLinePath({value:g,lineWidth:x.strokeWidth(),acrossPanes:U.acrossPanes});else if(X)P=S.getPlotBandPath(m,D,U);else return;return!k.eventsAdded&&ee&&(W(ee,function(pe,fe){x.on(fe,function(z){ee[fe].apply(k,[z])})}),k.eventsAdded=!0),(Y||!x.d)&&P&&P.length?x.attr({d:P}):x&&(P?(x.show(),x.animate({d:P})):x.d&&(x.hide(),w&&(k.label=w=w.destroy()))),j&&(v(j.text)||v(j.formatter))&&P&&P.length&&0<S.width&&0<S.height&&!P.isFlat?(j=B({align:A&&X&&"center",x:A?!X&&4:10,verticalAlign:!A&&X&&"middle",y:A?X?16:10:X?6:-4,rotation:A&&!X&&90},j),this.renderLabel(j,P,X,ie)):w&&w.hide(),k}renderLabel(k,S,A,H){const U=this.axis;var E=U.chart.renderer;let ie=this.label;ie||(this.label=ie=E.text(this.getLabelText(k),0,0,k.useHTML).attr({align:k.textAlign||k.align,rotation:k.rotation,class:"highcharts-plot-"+(A?"band":"line")+"-label "+(k.className||""),zIndex:H}).add(),U.chart.styledMode||ie.css(B({fontSize:"0.8em",textOverflow:"ellipsis"},k.style))),H=S.xBounds||[S[0][1],S[1][1],A?S[2][1]:S[0][1]],S=S.yBounds||[S[0][2],S[1][2],A?S[2][2]:S[0][2]],A=s(H),E=s(S),ie.align(k,!1,{x:A,y:E,width:h(H)-A,height:h(S)-E}),ie.alignValue&&ie.alignValue!=="left"||(k=k.clip?U.width:U.chart.chartWidth,ie.css({width:(ie.rotation===90?U.height-(ie.alignAttr.y-U.top):k-(ie.alignAttr.x-U.left))+"px"})),ie.show(!0)}getLabelText(k){return v(k.formatter)?k.formatter.call(this):k.text}destroy(){J(this.axis.plotLinesAndBands,this),delete this.axis,I(this)}}return L}),i(r,"Core/Tooltip.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(o,u,h,s,v){const{format:I}=o,{doc:J,isSafari:M}=u,{distribute:B}=h,{addEvent:W,clamp:O,css:L,discardElement:G,extend:k,fireEvent:S,isArray:A,isNumber:H,isString:U,merge:E,pick:ie,splat:ee,syncTimeout:$}=v;class V{constructor(w,D){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=w,this.init(w,D)}bodyFormatter(w){return w.map(function(D){const m=D.series.tooltipOptions;return(m[(D.point.formatPrefix||"point")+"Formatter"]||D.point.tooltipFormatter).call(D.point,m[(D.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(w){this.chart.series.forEach(function(D){const m=D&&D.tt;m&&(!m.isActive||w?D.tt=m.destroy():m.isActive=!1)})}defaultFormatter(w){const D=this.points||ee(this);let m;return m=[w.tooltipFooterHeaderFormatter(D[0])],m=m.concat(w.bodyFormatter(D)),m.push(w.tooltipFooterHeaderFormatter(D[0],!0)),m}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),G(this.container)),v.clearTimeout(this.hideTimer),v.clearTimeout(this.tooltipTimeout)}getAnchor(w,D){var m=this.chart;const g=m.pointer,x=m.inverted,P=m.plotTop;if(m=m.plotLeft,w=ee(w),w[0].series&&w[0].series.yAxis&&!w[0].series.yAxis.options.reversedStacks&&(w=w.slice().reverse()),this.followPointer&&D)typeof D.chartX>"u"&&(D=g.normalize(D)),w=[D.chartX-m,D.chartY-P];else if(w[0].tooltipPos)w=w[0].tooltipPos;else{let X=0,Y=0;w.forEach(function(K){(K=K.pos(!0))&&(X+=K[0],Y+=K[1])}),X/=w.length,Y/=w.length,this.shared&&1<w.length&&D&&(x?X=D.chartX:Y=D.chartY),w=[X-m,Y-P]}return w.map(Math.round)}getClassName(w,D,m){const g=w.series,x=g.options;return[this.options.className,"highcharts-label",m&&"highcharts-tooltip-header",D?"highcharts-tooltip-box":"highcharts-tooltip",!m&&"highcharts-color-"+ie(w.colorIndex,g.colorIndex),x&&x.className].filter(U).join(" ")}getLabel(){const w=this,D=this.chart.styledMode,m=this.options,g=this.split&&this.allowShared,x=m.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let P,X=this.chart.renderer;if(this.label){var Y=!this.label.hasClass("highcharts-label");(!g&&Y||g&&!Y)&&this.destroy()}if(!this.label){if(this.outside){Y=this.chart.options.chart.style;const K=s.getRendererType();this.container=P=u.doc.createElement("div"),P.className="highcharts-tooltip-container",L(P,{position:"absolute",top:"1px",pointerEvents:x,zIndex:Math.max(this.options.style.zIndex||0,(Y&&Y.zIndex||0)+3)}),u.doc.body.appendChild(P),this.renderer=X=new K(P,0,0,Y,void 0,void 0,X.styledMode)}if(g?this.label=X.g("tooltip"):(this.label=X.label("",0,0,m.shape,void 0,void 0,m.useHTML,void 0,"tooltip").attr({padding:m.padding,r:m.borderRadius}),D||this.label.attr({fill:m.backgroundColor,"stroke-width":m.borderWidth||0}).css(m.style).css({pointerEvents:x})),w.outside){const K=this.label,{xSetter:le,ySetter:pe}=K;K.xSetter=function(fe){le.call(K,w.distance),P.style.left=fe+"px"},K.ySetter=function(fe){pe.call(K,w.distance),P.style.top=fe+"px"}}this.label.attr({zIndex:8}).shadow(m.shadow).add()}return this.label}getPlayingField(){const{body:w,documentElement:D}=J,{chart:m,distance:g,outside:x}=this;return{width:x?Math.max(w.scrollWidth,D.scrollWidth,w.offsetWidth,D.offsetWidth,D.clientWidth)-2*g:m.chartWidth,height:x?Math.max(w.scrollHeight,D.scrollHeight,w.offsetHeight,D.offsetHeight,D.clientHeight):m.chartHeight}}getPosition(w,D,m){const g=this.chart,x=this.distance,P={},X=g.inverted&&m.h||0,Y=this.outside;var K=this.getPlayingField();const le=K.width,pe=K.height,fe=g.pointer.getChartPosition();K=oe=>{const ge=oe==="x";return[oe,ge?le:pe,ge?w:D].concat(Y?[ge?w*fe.scaleX:D*fe.scaleY,ge?fe.left-x+(m.plotX+g.plotLeft)*fe.scaleX:fe.top-x+(m.plotY+g.plotTop)*fe.scaleY,0,ge?le:pe]:[ge?w:D,ge?m.plotX+g.plotLeft:m.plotY+g.plotTop,ge?g.plotLeft:g.plotTop,ge?g.plotLeft+g.plotWidth:g.plotTop+g.plotHeight])};let z=K("y"),Q=K("x"),se;K=!!m.negative,!g.polar&&g.hoverSeries&&g.hoverSeries.yAxis&&g.hoverSeries.yAxis.reversed&&(K=!K);const de=!this.followPointer&&ie(m.ttBelow,!g.inverted===K),Ce=function(oe,ge,Te,Re,Le,$e,nt){const Qe=Y?oe==="y"?x*fe.scaleY:x*fe.scaleX:x,We=(Te-Re)/2,xe=Re<Le-x,Ie=Le+x+Re<ge,Be=Le-Qe-Te+We;if(Le=Le+Qe-We,de&&Ie)P[oe]=Le;else if(!de&&xe)P[oe]=Be;else if(xe)P[oe]=Math.min(nt-Re,0>Be-X?Be:Be-X);else if(Ie)P[oe]=Math.max($e,Le+X+Te>ge?Le:Le+X);else return!1},ne=function(oe,ge,Te,Re,Le){let $e;return Le<x||Le>ge-x?$e=!1:P[oe]=Le<Te/2?1:Le>ge-Re/2?ge-Re-2:Le-Te/2,$e},ve=function(oe){const ge=z;z=Q,Q=ge,se=oe},_e=function(){Ce.apply(0,z)!==!1?ne.apply(0,Q)!==!1||se||(ve(!0),_e()):se?P.x=P.y=0:(ve(!0),_e())};return(g.inverted||1<this.len)&&ve(),_e(),P}hide(w){const D=this;v.clearTimeout(this.hideTimer),w=ie(w,this.options.hideDelay),this.isHidden||(this.hideTimer=$(function(){D.getLabel().fadeOut(w&&void 0),D.isHidden=!0},w))}init(w,D){this.chart=w,this.options=D,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=D.split&&!w.inverted&&!w.polar,this.shared=D.shared||this.split,this.outside=ie(D.outside,!(!w.scrollablePixelsX&&!w.scrollablePixelsY))}shouldStickOnContact(w){return!(this.followPointer||!this.options.stickOnContact||w&&!this.chart.pointer.inClass(w.target,"highcharts-tooltip"))}move(w,D,m,g){const x=this,P=x.now,X=x.options.animation!==!1&&!x.isHidden&&(1<Math.abs(w-P.x)||1<Math.abs(D-P.y)),Y=x.followPointer||1<x.len;k(P,{x:X?(2*P.x+w)/3:w,y:X?(P.y+D)/2:D,anchorX:Y?void 0:X?(2*P.anchorX+m)/3:m,anchorY:Y?void 0:X?(P.anchorY+g)/2:g}),x.getLabel().attr(P),x.drawTracker(),X&&(v.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){x&&x.move(w,D,m,g)},32))}refresh(w,D){const m=this.chart,g=this.options,x=m.pointer,P=ee(w),X=P[0],Y=[];var K=g.formatter||this.defaultFormatter,le=this.shared;const pe=m.styledMode;let fe={};if(g.enabled&&X.series){v.clearTimeout(this.hideTimer),this.allowShared=!(!A(w)&&w.series&&w.series.noSharedTooltip),this.followPointer=!this.split&&X.series.tooltipOptions.followPointer,w=this.getAnchor(w,D);var z=w[0],Q=w[1];if(le&&this.allowShared?(x.applyInactiveState(P),P.forEach(function(se){se.setState("hover"),Y.push(se.getLabelConfig())}),fe={x:X.category,y:X.y},fe.points=Y):fe=X.getLabelConfig(),this.len=Y.length,K=K.call(fe,this),le=X.series,this.distance=ie(le.tooltipOptions.distance,16),K===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(K,P);else{let se=z,de=Q;if(D&&x.isDirectTouch&&(se=D.chartX-m.plotLeft,de=D.chartY-m.plotTop),m.polar||le.options.clip===!1||P.some(Ce=>x.isDirectTouch||Ce.series.shouldShowTooltip(se,de)))D=this.getLabel(),g.style.width&&!pe||D.css({width:(this.outside?this.getPlayingField():m.spacingBox).width+"px"}),D.attr({text:K&&K.join?K.join(""):K}),D.addClass(this.getClassName(X),!0),pe||D.attr({stroke:g.borderColor||X.color||le.color||"#666666"}),this.updatePosition({plotX:z,plotY:Q,negative:X.negative,ttBelow:X.ttBelow,h:w[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}S(this,"refresh")}}renderSplit(w,D){function m(Ze,ft,Ct,Nt,pi=!0){return Ct?(ft=Te?0:Qe,Ze=O(Ze-Nt/2,_e.left,_e.right-Nt-(g.outside?Re:0))):(ft-=$e,Ze=pi?Ze-Nt-Ce:Ze+Ce,Ze=O(Ze,pi?Ze:_e.left,_e.right)),{x:Ze,y:ft}}const g=this,{chart:x,chart:{chartWidth:P,chartHeight:X,plotHeight:Y,plotLeft:K,plotTop:le,pointer:pe,scrollablePixelsY:fe=0,scrollablePixelsX:z,scrollingContainer:{scrollLeft:Q,scrollTop:se}={scrollLeft:0,scrollTop:0},styledMode:de},distance:Ce,options:ne,options:{positioner:ve}}=g,_e=g.outside&&typeof z!="number"?J.documentElement.getBoundingClientRect():{left:Q,right:Q+P,top:se,bottom:se+X},oe=g.getLabel(),ge=this.renderer||x.renderer,Te=!(!x.xAxis[0]||!x.xAxis[0].opposite),{left:Re,top:Le}=pe.getChartPosition();let $e=le+se,nt=0,Qe=Y-fe;U(w)&&(w=[!1,w]),w=w.slice(0,D.length+1).reduce(function(Ze,ft,Ct){if(ft!==!1&&ft!==""){Ct=D[Ct-1]||{isHeader:!0,plotX:D[0].plotX,plotY:Y,series:{}};const dt=Ct.isHeader;var Nt=dt?g:Ct.series,pi;{var qt=Ct;ft=ft.toString();var fi=Nt.tt;const{isHeader:ki,series:on}=qt;fi||(fi={padding:ne.padding,r:ne.borderRadius},de||(fi.fill=ne.backgroundColor,fi["stroke-width"]=(pi=ne.borderWidth)!==null&&pi!==void 0?pi:1),fi=ge.label("",0,0,ne[ki?"headerShape":"shape"],void 0,void 0,ne.useHTML).addClass(g.getClassName(qt,!0,ki)).attr(fi).add(oe)),fi.isActive=!0,fi.attr({text:ft}),de||fi.css(ne.style).attr({stroke:ne.borderColor||qt.color||on.color||"#333333"}),pi=fi}pi=Nt.tt=pi,qt=pi.getBBox(),Nt=qt.width+pi.strokeWidth(),dt&&(nt=qt.height,Qe+=nt,Te&&($e-=nt));{const{isHeader:ki,plotX:on=0,plotY:Rn=0,series:Gr}=Ct;if(ki){ft=K+on;var Gi=le+Y/2}else{const{xAxis:di,yAxis:Hi}=Gr;ft=di.pos+O(on,-Ce,di.len+Ce),Gr.shouldShowTooltip(0,Hi.pos-le+Rn,{ignoreX:!0})&&(Gi=Hi.pos+Rn)}ft=O(ft,_e.left-Ce,_e.right+Ce),Gi={anchorX:ft,anchorY:Gi}}const{anchorX:Lt,anchorY:ei}=Gi;typeof ei=="number"?(Gi=qt.height+1,qt=ve?ve.call(g,Nt,Gi,Ct):m(Lt,ei,dt,Nt),Ze.push({align:ve?0:void 0,anchorX:Lt,anchorY:ei,boxWidth:Nt,point:Ct,rank:ie(qt.rank,dt?1:0),size:Gi,target:qt.y,tt:pi,x:qt.x})):pi.isActive=!1}return Ze},[]),!ve&&w.some(Ze=>{var{outside:ft}=g;return ft=(ft?Re:0)+Ze.anchorX,ft<_e.left&&ft+Ze.boxWidth<_e.right?!0:ft<Re-_e.left+Ze.boxWidth&&_e.right-ft>ft})&&(w=w.map(Ze=>{const{x:ft,y:Ct}=m(Ze.anchorX,Ze.anchorY,Ze.point.isHeader,Ze.boxWidth,!1);return k(Ze,{target:Ct,x:ft})})),g.cleanSplit(),B(w,Qe);var We=Re,xe=Re;w.forEach(function(Ze){const{x:ft,boxWidth:Ct,isHeader:Nt}=Ze;Nt||(g.outside&&Re+ft<We&&(We=Re+ft),!Nt&&g.outside&&We+Ct>xe&&(xe=Re+ft))}),w.forEach(function(Ze){const{x:ft,anchorX:Ct,anchorY:Nt,pos:pi,point:{isHeader:qt}}=Ze,fi={visibility:typeof pi>"u"?"hidden":"inherit",x:ft,y:(pi||0)+$e,anchorX:Ct,anchorY:Nt};if(g.outside&&ft<Ct){const Gi=Re-We;0<Gi&&(qt||(fi.x=ft+Gi,fi.anchorX=Ct+Gi),qt&&(fi.x=(xe-We)/2,fi.anchorX=Ct+Gi))}Ze.tt.attr(fi)});const{container:Ie,outside:Be,renderer:Xe}=g;if(Be&&Ie&&Xe){const{width:Ze,height:ft,x:Ct,y:Nt}=oe.getBBox();Xe.setSize(Ze+Ct,ft+Nt,!1),Ie.style.left=We+"px",Ie.style.top=Le+"px"}M&&oe.attr({opacity:oe.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var w=this.chart,D=this.label,m=this.shared?w.hoverPoints:w.hoverPoint;if(D&&m){var g={x:0,y:0,width:0,height:0};m=this.getAnchor(m);var x=D.getBBox();m[0]+=w.plotLeft-D.translateX,m[1]+=w.plotTop-D.translateY,g.x=Math.min(0,m[0]),g.y=Math.min(0,m[1]),g.width=0>m[0]?Math.max(Math.abs(m[0]),x.width-m[0]):Math.max(Math.abs(m[0]),x.width),g.height=0>m[1]?Math.max(Math.abs(m[1]),x.height-Math.abs(m[1])):Math.max(Math.abs(m[1]),x.height),this.tracker?this.tracker.attr(g):(this.tracker=D.renderer.rect(g).addClass("highcharts-tracker").add(D),w.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(w){return w.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(w,D){const m=w.series,g=m.tooltipOptions;var x=m.xAxis;const P=x&&x.dateTime;x={isFooter:D,labelConfig:w};let X=g.xDateFormat,Y=g[D?"footerFormat":"headerFormat"];return S(this,"headerFormatter",x,function(K){P&&!X&&H(w.key)&&(X=P.getXDateFormat(w.key,g.dateTimeLabelFormats)),P&&X&&(w.point&&w.point.tooltipDateKeys||["key"]).forEach(function(le){Y=Y.replace("{point."+le+"}","{point."+le+":"+X+"}")}),m.chart.styledMode&&(Y=this.styledModeFormat(Y)),K.text=I(Y,{point:w,series:m},this.chart)}),x.text}update(w){this.destroy(),E(!0,this.chart.options.tooltip.userOptions,w),this.init(this.chart,E(!0,this.options,w))}updatePosition(w){const{chart:D,distance:m,options:g}=this;var x=D.pointer;const P=this.getLabel(),{left:X,top:Y,scaleX:K,scaleY:le}=x.getChartPosition();x=(g.positioner||this.getPosition).call(this,P.width,P.height,w);let pe=(w.plotX||0)+D.plotLeft;w=(w.plotY||0)+D.plotTop;let fe;this.outside&&(g.positioner&&(x.x+=X-m,x.y+=Y-m),fe=(g.borderWidth||0)+2*m,this.renderer.setSize(P.width+fe,P.height+fe,!1),(K!==1||le!==1)&&(L(this.container,{transform:`scale(${K}, ${le})`}),pe*=K,w*=le),pe+=X-x.x,w+=Y-x.y),this.move(Math.round(x.x),Math.round(x.y||0),pe,w)}}return function(j){const w=[];j.compose=function(D){v.pushUnique(w,D)&&W(D,"afterInit",function(){const m=this.chart;m.options.tooltip&&(m.tooltip=new j(m,m.options.tooltip))})}}(V||(V={})),V}),i(r,"Core/Series/Point.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(o,u,h,s,v){const{animObject:I}=u,{defaultOptions:J}=h,{format:M}=s,{addEvent:B,defined:W,erase:O,extend:L,fireEvent:G,getNestedProperty:k,isArray:S,isFunction:A,isNumber:H,isObject:U,merge:E,objectEach:ie,pick:ee,syncTimeout:$,removeEvent:V,uniqueKey:j}=v;class w{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const m=this,g={x:m.startXPos,opacity:0},x=m.getGraphicalProps();x.singular.forEach(function(P){m[P]=m[P].animate(P==="dataLabel"?{x:m[P].startXPos,y:m[P].startYPos,opacity:0}:g)}),x.plural.forEach(function(P){m[P].forEach(function(X){X.element&&X.animate(L({x:m.startXPos},X.startYPos?{x:X.startXPos,y:X.startYPos}:{}))})})}applyOptions(m,g){const x=this.series,P=x.options.pointValKey||x.pointValKey;return m=w.prototype.optionsToObject.call(this,m),L(this,m),this.options=this.options?L(this.options,m):m,m.group&&delete this.group,m.dataLabels&&delete this.dataLabels,P&&(this.y=w.prototype.getNestedProperty.call(this,P)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof g>"u"&&x.xAxis&&x.xAxis.hasNames&&(this.x=x.xAxis.nameToX(this)),typeof this.x>"u"&&x?this.x=typeof g>"u"?x.autoIncrement():g:H(m.x)&&x.options.relativeXValue&&(this.x=x.autoIncrement(m.x)),this}destroy(){if(!this.destroyed){const g=this;var m=g.series;const x=m.chart;m=m.options.dataSorting;const P=x.hoverPoints,X=I(g.series.chart.renderer.globalAnimation),Y=()=>{(g.graphic||g.graphics||g.dataLabel||g.dataLabels)&&(V(g),g.destroyElements());for(const K in g)delete g[K]};g.legendItem&&x.legend.destroyItem(g),P&&(g.setState(),O(P,g),P.length||(x.hoverPoints=null)),g===x.hoverPoint&&g.onMouseOut(),m&&m.enabled?(this.animateBeforeDestroy(),$(Y,X.duration)):Y(),x.pointCount--}this.destroyed=!0}destroyElements(m){const g=this;m=g.getGraphicalProps(m),m.singular.forEach(function(x){g[x]=g[x].destroy()}),m.plural.forEach(function(x){g[x].forEach(function(P){P&&P.element&&P.destroy()}),delete g[x]})}firePointEvent(m,g,x){const P=this,X=this.series.options;(X.point.events[m]||P.options&&P.options.events&&P.options.events[m])&&P.importEvents(),m==="click"&&X.allowPointSelect&&(x=function(Y){P.select&&P.select(null,Y.ctrlKey||Y.metaKey||Y.shiftKey)}),G(P,m,g,x)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(m){const g=this,x=[],P={singular:[],plural:[]};let X,Y;for(m=m||{graphic:1,dataLabel:1},m.graphic&&x.push("graphic"),m.dataLabel&&x.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),Y=x.length;Y--;)X=x[Y],g[X]&&P.singular.push(X);return["graphic","dataLabel","connector"].forEach(function(K){const le=K+"s";m[K]&&g[le]&&P.plural.push(le)}),P}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(m){if(m)return m.indexOf("custom.")===0?k(m,this.options):this[m]}getZone(){var m=this.series;const g=m.zones;m=m.zoneAxis||"y";let x,P=0;for(x=g[P];this[m]>=x.value;)x=g[++P];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=x&&x.color&&!this.options.color?x.color:this.nonZonedColor,x}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(m,g,x){return this.series=m,this.applyOptions(g,x),this.id=W(this.id)?this.id:j(),this.resolveColor(),m.chart.pointCount++,G(this,"afterInit"),this}isValid(){return this.x!==null&&H(this.y)}optionsToObject(m){var g=this.series;const x=g.options.keys,P=x||g.pointArrayMap||["y"],X=P.length;let Y={},K=0,le=0;if(H(m)||m===null)Y[P[0]]=m;else if(S(m))for(!x&&m.length>X&&(g=typeof m[0],g==="string"?Y.name=m[0]:g==="number"&&(Y.x=m[0]),K++);le<X;)x&&typeof m[K]>"u"||(0<P[le].indexOf(".")?w.prototype.setNestedProperty(Y,m[K],P[le]):Y[P[le]]=m[K]),K++,le++;else typeof m=="object"&&(Y=m,m.dataLabels&&(g._hasPointLabels=!0),m.marker&&(g._hasPointMarkers=!0));return Y}pos(m,g=this.plotY){if(!this.destroyed){const{plotX:x,series:P}=this,{chart:X,xAxis:Y,yAxis:K}=P;let le=0,pe=0;if(H(x)&&H(g))return m&&(le=Y?Y.pos:X.plotLeft,pe=K?K.pos:X.plotTop),X.inverted&&Y&&K?[K.len-g+pe,Y.len-x+le]:[x+le,g+pe]}}resolveColor(){const m=this.series;var g=m.chart.styledMode;let x;var P=m.chart.options.chart.colorCount;delete this.nonZonedColor,m.options.colorByPoint?(g||(P=m.options.colors||m.chart.options.colors,x=P[m.colorCounter],P=P.length),g=m.colorCounter,m.colorCounter++,m.colorCounter===P&&(m.colorCounter=0)):(g||(x=m.color),g=m.colorIndex),this.colorIndex=ee(this.options.colorIndex,g),this.color=ee(this.options.color,x)}setNestedProperty(m,g,x){return x.split(".").reduce(function(P,X,Y,K){return P[X]=K.length-1===Y?g:U(P[X],!0)?P[X]:{},P[X]},m),m}shouldDraw(){return!this.isNull}tooltipFormatter(m){const g=this.series,x=g.tooltipOptions,P=ee(x.valueDecimals,""),X=x.valuePrefix||"",Y=x.valueSuffix||"";return g.chart.styledMode&&(m=g.chart.tooltip.styledModeFormat(m)),(g.pointArrayMap||["y"]).forEach(function(K){K="{point."+K,(X||Y)&&(m=m.replace(RegExp(K+"}","g"),X+K+"}"+Y)),m=m.replace(RegExp(K+"}","g"),K+":,."+P+"f}")}),M(m,{point:this,series:this.series},g.chart)}update(m,g,x,P){function X(){Y.applyOptions(m);var Q=le&&Y.hasMockGraphic;Q=Y.y===null?!Q:Q,le&&Q&&(Y.graphic=le.destroy(),delete Y.hasMockGraphic),U(m,!0)&&(le&&le.element&&m&&m.marker&&typeof m.marker.symbol<"u"&&(Y.graphic=le.destroy()),m&&m.dataLabels&&Y.dataLabel&&(Y.dataLabel=Y.dataLabel.destroy()),Y.connector&&(Y.connector=Y.connector.destroy())),z=Y.index,K.updateParallelArrays(Y,z),fe.data[z]=U(fe.data[z],!0)||U(m,!0)?Y.options:ee(m,fe.data[z]),K.isDirty=K.isDirtyData=!0,!K.fixedBox&&K.hasCartesianSeries&&(pe.isDirtyBox=!0),fe.legendType==="point"&&(pe.isDirtyLegend=!0),g&&pe.redraw(x)}const Y=this,K=Y.series,le=Y.graphic,pe=K.chart,fe=K.options;let z;g=ee(g,!0),P===!1?X():Y.firePointEvent("update",{options:m},X)}remove(m,g){this.series.removePoint(this.series.data.indexOf(this),m,g)}select(m,g){const x=this,P=x.series,X=P.chart;this.selectedStaging=m=ee(m,!x.selected),x.firePointEvent(m?"select":"unselect",{accumulate:g},function(){x.selected=x.options.selected=m,P.options.data[P.data.indexOf(x)]=x.options,x.setState(m&&"select"),g||X.getSelectedPoints().forEach(function(Y){const K=Y.series;Y.selected&&Y!==x&&(Y.selected=Y.options.selected=!1,K.options.data[K.data.indexOf(Y)]=Y.options,Y.setState(X.hoverPoints&&K.options.inactiveOtherPoints?"inactive":""),Y.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(m){const g=this.series.chart,x=g.pointer;m=m?x.normalize(m):x.getChartCoordinatesFromPoint(this,g.inverted),x.runPointActions(m,this)}onMouseOut(){const m=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(m.hoverPoints||[]).forEach(function(g){g.setState()}),m.hoverPoints=m.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const m=this,g=E(m.series.options.point,m.options).events;m.events=g,ie(g,function(x,P){A(x)&&B(m,P,x)}),this.hasImportedEvents=!0}}setState(m,g){const x=this.series;var P=this.state,X=x.options.states[m||"normal"]||{},Y=J.plotOptions[x.type].marker&&x.options.marker;const K=Y&&Y.enabled===!1,le=Y&&Y.states&&Y.states[m||"normal"]||{},pe=le.enabled===!1,fe=this.marker||{},z=x.chart,Q=Y&&x.markerAttribs;let se=x.halo;var de;let Ce;var ne=x.stateMarkerGraphic;if(m=m||"",!(m===this.state&&!g||this.selected&&m!=="select"||X.enabled===!1||m&&(pe||K&&le.enabled===!1)||m&&fe.states&&fe.states[m]&&fe.states[m].enabled===!1)){if(this.state=m,Q&&(de=x.markerAttribs(this,m)),this.graphic&&!this.hasMockGraphic){if(P&&this.graphic.removeClass("highcharts-point-"+P),m&&this.graphic.addClass("highcharts-point-"+m),!z.styledMode){P=x.pointAttribs(this,m),Ce=ee(z.options.chart.animation,X.animation);const ve=P.opacity;x.options.inactiveOtherPoints&&H(ve)&&((this.dataLabels||[]).forEach(function(_e){_e&&!_e.hasClass("highcharts-data-label-hidden")&&_e.animate({opacity:ve},Ce)}),this.connector&&this.connector.animate({opacity:ve},Ce)),this.graphic.animate(P,Ce)}de&&this.graphic.animate(de,ee(z.options.chart.animation,le.animation,Y.animation)),ne&&ne.hide()}else m&&le&&(Y=fe.symbol||x.symbol,ne&&ne.currentSymbol!==Y&&(ne=ne.destroy()),de&&(ne?ne[g?"animate":"attr"]({x:de.x,y:de.y}):Y&&(x.stateMarkerGraphic=ne=z.renderer.symbol(Y,de.x,de.y,de.width,de.height).add(x.markerGroup),ne.currentSymbol=Y)),!z.styledMode&&ne&&this.state!=="inactive"&&ne.attr(x.pointAttribs(this,m))),ne&&(ne[m&&this.isInside?"show":"hide"](),ne.element.point=this,ne.addClass(this.getClassName(),!0));X=X.halo,de=(ne=this.graphic||ne)&&ne.visibility||"inherit",X&&X.size&&ne&&de!=="hidden"&&!this.isCluster?(se||(x.halo=se=z.renderer.path().add(ne.parentGroup)),se.show()[g?"animate":"attr"]({d:this.haloPath(X.size)}),se.attr({class:"highcharts-halo highcharts-color-"+ee(this.colorIndex,x.colorIndex)+(this.className?" "+this.className:""),visibility:de,zIndex:-1}),se.point=this,z.styledMode||se.attr(L({fill:this.color||x.color,"fill-opacity":X.opacity},o.filterUserAttributes(X.attributes||{})))):se&&se.point&&se.point.haloPath&&se.animate({d:se.point.haloPath(0)},null,se.hide),G(this,"afterSetState",{state:m})}}haloPath(m){const g=this.pos();return g?this.series.chart.renderer.symbols.circle(Math.floor(g[0])-m,g[1]-m,2*m,2*m):[]}}return w}),i(r,"Core/Pointer.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,u,h){const{parse:s}=o,{charts:v,noop:I}=u,{addEvent:J,attr:M,css:B,defined:W,extend:O,find:L,fireEvent:G,isNumber:k,isObject:S,objectEach:A,offset:H,pick:U,splat:E}=h;class ie{constructor($,V){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=$,this.hasDragged=!1,this.options=V,this.init($,V)}applyInactiveState($){let V=[],j;($||[]).forEach(function(w){j=w.series,V.push(j),j.linkedParent&&V.push(j.linkedParent),j.linkedSeries&&(V=V.concat(j.linkedSeries)),j.navigatorSeries&&V.push(j.navigatorSeries)}),this.chart.series.forEach(function(w){V.indexOf(w)===-1?w.setState("inactive",!0):w.options.inactiveOtherPoints&&w.setAllPointsToState("inactive")})}destroy(){const $=this;this.eventsToUnbind.forEach(V=>V()),this.eventsToUnbind=[],u.chartCount||(ie.unbindDocumentMouseUp&&(ie.unbindDocumentMouseUp=ie.unbindDocumentMouseUp()),ie.unbindDocumentTouchEnd&&(ie.unbindDocumentTouchEnd=ie.unbindDocumentTouchEnd())),clearInterval($.tooltipTimeout),A($,function(V,j){$[j]=void 0})}getSelectionMarkerAttrs($,V){const j={args:{chartX:$,chartY:V},attrs:{},shapeType:"rect"};return G(this,"getSelectionMarkerAttrs",j,w=>{const{chart:D,mouseDownX:m=0,mouseDownY:g=0,zoomHor:x,zoomVert:P}=this;w=w.attrs;let X;w.x=D.plotLeft,w.y=D.plotTop,w.width=x?1:D.plotWidth,w.height=P?1:D.plotHeight,x&&(X=$-m,w.width=Math.abs(X),w.x=(0<X?0:X)+m),P&&(X=V-g,w.height=Math.abs(X),w.y=(0<X?0:X)+g)}),j}drag($){const V=this.chart,j=V.options.chart;var w=V.plotLeft;const D=V.plotTop,m=V.plotWidth,g=V.plotHeight,x=this.mouseDownX||0,P=this.mouseDownY||0,X=S(j.panning)?j.panning&&j.panning.enabled:j.panning,Y=j.panKey&&$[j.panKey+"Key"];let K=$.chartX,le=$.chartY,pe=this.selectionMarker;if((!pe||!pe.touch)&&(K<w?K=w:K>w+m&&(K=w+m),le<D?le=D:le>D+g&&(le=D+g),this.hasDragged=Math.sqrt(Math.pow(x-K,2)+Math.pow(P-le,2)),10<this.hasDragged)){w=V.isInsidePlot(x-w,P-D,{visiblePlotOnly:!0});const{shapeType:fe,attrs:z}=this.getSelectionMarkerAttrs(K,le);!V.hasCartesianSeries&&!V.mapView||!this.zoomX&&!this.zoomY||!w||Y||pe||(this.selectionMarker=pe=V.renderer[fe](),pe.attr({class:"highcharts-selection-marker",zIndex:7}).add(),V.styledMode||pe.attr({fill:j.selectionMarkerFill||s("#334eff").setOpacity(.25).get()})),pe&&pe.attr(z),w&&!pe&&X&&V.pan($,j.panning)}}dragStart($){const V=this.chart;V.mouseIsDown=$.type,V.cancelClick=!1,V.mouseDownX=this.mouseDownX=$.chartX,V.mouseDownY=this.mouseDownY=$.chartY}getSelectionBox($){const V={args:{marker:$},result:{}};return G(this,"getSelectionBox",V,j=>{j.result={x:$.attr?+$.attr("x"):$.x,y:$.attr?+$.attr("y"):$.y,width:$.attr?$.attr("width"):$.width,height:$.attr?$.attr("height"):$.height}}),V.result}drop($){const V=this,j=this.chart,w=this.hasPinched;if(this.selectionMarker){const{x:D,y:m,width:g,height:x}=this.getSelectionBox(this.selectionMarker),P={originalEvent:$,xAxis:[],yAxis:[],x:D,y:m,width:g,height:x};let X=!!j.mapView;(this.hasDragged||w)&&(j.axes.forEach(function(Y){if(Y.zoomEnabled&&W(Y.min)&&(w||V[{xAxis:"zoomX",yAxis:"zoomY"}[Y.coll]])&&k(D)&&k(m)&&k(g)&&k(x)){var K=Y.horiz;const le=$.type==="touchend"?Y.minPixelPadding:0,pe=Y.toValue((K?D:m)+le);K=Y.toValue((K?D+g:m+x)-le),P[Y.coll].push({axis:Y,min:Math.min(pe,K),max:Math.max(pe,K)}),X=!0}}),X&&G(j,"selection",P,function(Y){j.zoom(O(Y,w?{animation:!1}:null))})),k(j.index)&&(this.selectionMarker=this.selectionMarker.destroy()),w&&this.scaleGroups()}j&&k(j.index)&&(B(j.container,{cursor:j._cursor}),j.cancelClick=10<this.hasDragged,j.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint($,V,j){let w;return $.forEach(function(D){var m=!(D.noSharedTooltip&&V)&&0>D.options.findNearestPointBy.indexOf("y");if(D=D.searchPoint(j,m),(m=S(D,!0)&&D.series)&&!(m=!S(w,!0))){{m=w.distX-D.distX;const g=w.dist-D.dist,x=(D.series.group&&D.series.group.zIndex)-(w.series.group&&w.series.group.zIndex);m=m!==0&&V?m:g!==0?g:x!==0?x:w.series.index>D.series.index?-1:1}m=0<m}m&&(w=D)}),w}getChartCoordinatesFromPoint($,V){var j=$.series;const w=j.xAxis;j=j.yAxis;const D=$.shapeArgs;if(w&&j){let m=U($.clientX,$.plotX),g=$.plotY||0;return $.isNode&&D&&k(D.x)&&k(D.y)&&(m=D.x,g=D.y),V?{chartX:j.len+j.pos-g,chartY:w.len+w.pos-m}:{chartX:m+w.pos,chartY:g+j.pos}}if(D&&D.x&&D.y)return{chartX:D.x,chartY:D.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:$}=this.chart;const V=H($);this.chartPosition={left:V.left,top:V.top,scaleX:1,scaleY:1};const j=$.offsetWidth;return $=$.offsetHeight,2<j&&2<$&&(this.chartPosition.scaleX=V.width/j,this.chartPosition.scaleY=V.height/$),this.chartPosition}getCoordinates($){const V={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(j){V[j.isXAxis?"xAxis":"yAxis"].push({axis:j,value:j.toValue($[j.horiz?"chartX":"chartY"])})}),V}getHoverData($,V,j,w,D,m){const g=[];w=!(!w||!$);const x=function(K){return K.visible&&!(!D&&K.directTouch)&&U(K.options.enableMouseTracking,!0)};let P,X={chartX:m?m.chartX:void 0,chartY:m?m.chartY:void 0,shared:D};G(this,"beforeGetHoverData",X),P=V&&!V.stickyTracking?[V]:j.filter(K=>K.stickyTracking&&(X.filter||x)(K));const Y=w||!m?$:this.findNearestKDPoint(P,D,m);return V=Y&&Y.series,Y&&(D&&!V.noSharedTooltip?(P=j.filter(function(K){return X.filter?X.filter(K):x(K)&&!K.noSharedTooltip}),P.forEach(function(K){let le=L(K.points,function(pe){return pe.x===Y.x&&!pe.isNull});S(le)&&(K.boosted&&K.boost&&(le=K.boost.getPoint(le)),g.push(le))})):g.push(Y)),X={hoverPoint:Y},G(this,"afterGetHoverData",X),{hoverPoint:X.hoverPoint,hoverSeries:V,hoverPoints:g}}getPointFromEvent($){$=$.target;let V;for(;$&&!V;)V=$.point,$=$.parentNode;return V}onTrackerMouseOut($){$=$.relatedTarget;const V=this.chart.hoverSeries;this.isDirectTouch=!1,!V||!$||V.stickyTracking||this.inClass($,"highcharts-tooltip")||this.inClass($,"highcharts-series-"+V.index)&&this.inClass($,"highcharts-tracker")||V.onMouseOut()}inClass($,V){let j;for(;$;){if(j=M($,"class")){if(j.indexOf(V)!==-1)return!0;if(j.indexOf("highcharts-container")!==-1)return!1}$=$.parentElement}}init($,V){this.options=V,this.chart=$,this.runChartClick=!(!V.chart.events||!V.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),G(this,"afterInit")}normalize($,V){var j=$.touches,w=j?j.length?j.item(0):U(j.changedTouches,$.changedTouches)[0]:$;return V||(V=this.getChartPosition()),j=w.pageX-V.left,w=w.pageY-V.top,j/=V.scaleX,w/=V.scaleY,O($,{chartX:Math.round(j),chartY:Math.round(w)})}onContainerClick($){const V=this.chart,j=V.hoverPoint;$=this.normalize($);const w=V.plotLeft,D=V.plotTop;V.cancelClick||(j&&this.inClass($.target,"highcharts-tracker")?(G(j.series,"click",O($,{point:j})),V.hoverPoint&&j.firePointEvent("click",$)):(O($,this.getCoordinates($)),V.isInsidePlot($.chartX-w,$.chartY-D,{visiblePlotOnly:!0})&&G(V,"click",$)))}onContainerMouseDown($){const V=(($.buttons||$.button)&1)===1;$=this.normalize($),u.isFirefox&&$.button!==0&&this.onContainerMouseMove($),(typeof $.button>"u"||V)&&(this.zoomOption($),V&&$.preventDefault&&$.preventDefault(),this.dragStart($))}onContainerMouseLeave($){const V=v[U(ie.hoverChartIndex,-1)];$=this.normalize($),V&&$.relatedTarget&&!this.inClass($.relatedTarget,"highcharts-tooltip")&&(V.pointer.reset(),V.pointer.chartPosition=void 0)}onContainerMouseEnter($){delete this.chartPosition}onContainerMouseMove($){const V=this.chart,j=V.tooltip;$=this.normalize($),this.setHoverChartIndex(),(V.mouseIsDown==="mousedown"||this.touchSelect($))&&this.drag($),V.openMenu||!this.inClass($.target,"highcharts-tracker")&&!V.isInsidePlot($.chartX-V.plotLeft,$.chartY-V.plotTop,{visiblePlotOnly:!0})||j&&j.shouldStickOnContact($)||(this.inClass($.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions($))}onDocumentTouchEnd($){const V=v[U(ie.hoverChartIndex,-1)];V&&V.pointer.drop($)}onContainerTouchMove($){this.touchSelect($)?this.onContainerMouseMove($):this.touch($)}onContainerTouchStart($){this.touchSelect($)?this.onContainerMouseDown($):(this.zoomOption($),this.touch($,!0))}onDocumentMouseMove($){const V=this.chart,j=V.tooltip,w=this.chartPosition;$=this.normalize($,w),!w||V.isInsidePlot($.chartX-V.plotLeft,$.chartY-V.plotTop,{visiblePlotOnly:!0})||j&&j.shouldStickOnContact($)||this.inClass($.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp($){const V=v[U(ie.hoverChartIndex,-1)];V&&V.pointer.drop($)}pinch($){const V=this,j=V.chart,w=V.pinchDown,D=$.touches||[],m=D.length,g=V.lastValidTouch,x=V.hasZoom,P={},X=m===1&&(V.inClass($.target,"highcharts-tracker")&&j.runTrackerClick||V.runChartClick),Y={};var K=V.chart.tooltip;K=m===1&&U(K&&K.options.followTouchMove,!0);let le=V.selectionMarker;1<m?V.initiated=!0:K&&(V.initiated=!1),x&&V.initiated&&!X&&$.cancelable!==!1&&$.preventDefault(),[].map.call(D,function(pe){return V.normalize(pe)}),$.type==="touchstart"?([].forEach.call(D,function(pe,fe){w[fe]={chartX:pe.chartX,chartY:pe.chartY}}),g.x=[w[0].chartX,w[1]&&w[1].chartX],g.y=[w[0].chartY,w[1]&&w[1].chartY],j.axes.forEach(function(pe){if(pe.zoomEnabled){const fe=j.bounds[pe.horiz?"h":"v"],z=pe.minPixelPadding,Q=pe.toPixels(Math.min(U(pe.options.min,pe.dataMin),pe.dataMin)),se=pe.toPixels(Math.max(U(pe.options.max,pe.dataMax),pe.dataMax)),de=Math.max(Q,se);fe.min=Math.min(pe.pos,Math.min(Q,se)-z),fe.max=Math.max(pe.pos+pe.len,de+z)}}),V.res=!0):K?this.runPointActions(V.normalize($)):w.length&&(G(j,"touchpan",{originalEvent:$},()=>{le||(V.selectionMarker=le=O({destroy:I,touch:!0},j.plotBox)),V.pinchTranslate(w,D,P,le,Y,g),V.hasPinched=x,V.scaleGroups(P,Y)}),V.res&&(V.res=!1,this.reset(!1,0)))}pinchTranslate($,V,j,w,D,m){this.zoomHor&&this.pinchTranslateDirection(!0,$,V,j,w,D,m),this.zoomVert&&this.pinchTranslateDirection(!1,$,V,j,w,D,m)}pinchTranslateDirection($,V,j,w,D,m,g,x){const P=this.chart,X=$?"x":"y",Y=$?"X":"Y",K="chart"+Y,le=$?"width":"height",pe=P["plot"+($?"Left":"Top")],fe=P.inverted,z=P.bounds[$?"h":"v"],Q=V.length===1,se=V[0][K],de=!Q&&V[1][K];V=function(){typeof oe=="number"&&20<Math.abs(se-de)&&(ve=x||Math.abs(_e-oe)/Math.abs(se-de)),ne=(pe-_e)/ve+se,Ce=P["plot"+($?"Width":"Height")]/ve};let Ce,ne,ve=x||1,_e=j[0][K],oe=!Q&&j[1][K],ge;V(),j=ne,j<z.min?(j=z.min,ge=!0):j+Ce>z.max&&(j=z.max-Ce,ge=!0),ge?(_e-=.8*(_e-g[X][0]),typeof oe=="number"&&(oe-=.8*(oe-g[X][1])),V()):g[X]=[_e,oe],fe||(m[X]=ne-pe,m[le]=Ce),m=fe?1/ve:ve,D[le]=Ce,D[X]=j,w[fe?$?"scaleY":"scaleX":"scale"+Y]=ve,w["translate"+Y]=m*pe+(_e-m*se)}reset($,V){const j=this.chart,w=j.hoverSeries,D=j.hoverPoint,m=j.hoverPoints,g=j.tooltip,x=g&&g.shared?m:D;$&&x&&E(x).forEach(function(P){P.series.isCartesian&&typeof P.plotX>"u"&&($=!1)}),$?g&&x&&E(x).length&&(g.refresh(x),g.shared&&m?m.forEach(function(P){P.setState(P.state,!0),P.series.isCartesian&&(P.series.xAxis.crosshair&&P.series.xAxis.drawCrosshair(null,P),P.series.yAxis.crosshair&&P.series.yAxis.drawCrosshair(null,P))}):D&&(D.setState(D.state,!0),j.axes.forEach(function(P){P.crosshair&&D.series[P.coll]===P&&P.drawCrosshair(null,D)}))):(D&&D.onMouseOut(),m&&m.forEach(function(P){P.setState()}),w&&w.onMouseOut(),g&&g.hide(V),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),j.axes.forEach(function(P){P.hideCrosshair()}),this.hoverX=j.hoverPoints=j.hoverPoint=null)}runPointActions($,V,j){const w=this.chart,D=w.tooltip&&w.tooltip.options.enabled?w.tooltip:void 0,m=D?D.shared:!1;let g=V||w.hoverPoint,x=g&&g.series||w.hoverSeries;V=this.getHoverData(g,x,w.series,(!$||$.type!=="touchmove")&&(!!V||x&&x.directTouch&&this.isDirectTouch),m,$),g=V.hoverPoint,x=V.hoverSeries;const P=V.hoverPoints;V=x&&x.tooltipOptions.followPointer&&!x.tooltipOptions.split;const X=m&&x&&!x.noSharedTooltip;if(g&&(j||g!==w.hoverPoint||D&&D.isHidden)){if((w.hoverPoints||[]).forEach(function(Y){P.indexOf(Y)===-1&&Y.setState()}),w.hoverSeries!==x&&x.onMouseOver(),this.applyInactiveState(P),(P||[]).forEach(function(Y){Y.setState("hover")}),w.hoverPoint&&w.hoverPoint.firePointEvent("mouseOut"),!g.series)return;w.hoverPoints=P,w.hoverPoint=g,g.firePointEvent("mouseOver",void 0,()=>{D&&g&&D.refresh(X?P:g,$)})}else V&&D&&!D.isHidden&&(j=D.getAnchor([{}],$),w.isInsidePlot(j[0],j[1],{visiblePlotOnly:!0})&&D.updatePosition({plotX:j[0],plotY:j[1]}));this.unDocMouseMove||(this.unDocMouseMove=J(w.container.ownerDocument,"mousemove",function(Y){const K=v[ie.hoverChartIndex];K&&K.pointer.onDocumentMouseMove(Y)}),this.eventsToUnbind.push(this.unDocMouseMove)),w.axes.forEach(function(Y){const K=U((Y.crosshair||{}).snap,!0);let le;K&&((le=w.hoverPoint)&&le.series[Y.coll]===Y||(le=L(P,pe=>pe.series&&pe.series[Y.coll]===Y))),le||!K?Y.drawCrosshair($,le):Y.hideCrosshair()})}scaleGroups($,V){const j=this.chart;j.series.forEach(function(w){const D=$||w.getPlotBox();w.group&&(w.xAxis&&w.xAxis.zoomEnabled||j.mapView)&&(w.group.attr(D),w.markerGroup&&(w.markerGroup.attr(D),w.markerGroup.clip(V?j.clipRect:null)),w.dataLabelsGroup&&w.dataLabelsGroup.attr(D))}),j.clipRect.attr(V||j.clipBox)}setDOMEvents(){const $=this.chart.container,V=$.ownerDocument;$.onmousedown=this.onContainerMouseDown.bind(this),$.onmousemove=this.onContainerMouseMove.bind(this),$.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(J($,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(J($,"mouseleave",this.onContainerMouseLeave.bind(this))),ie.unbindDocumentMouseUp||(ie.unbindDocumentMouseUp=J(V,"mouseup",this.onDocumentMouseUp.bind(this)));let j=this.chart.renderTo.parentElement;for(;j&&j.tagName!=="BODY";)this.eventsToUnbind.push(J(j,"scroll",()=>{delete this.chartPosition})),j=j.parentElement;u.hasTouch&&(this.eventsToUnbind.push(J($,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(J($,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ie.unbindDocumentTouchEnd||(ie.unbindDocumentTouchEnd=J(V,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const $=this.chart,V=u.charts[U(ie.hoverChartIndex,-1)];V&&V!==$&&V.pointer.onContainerMouseLeave({relatedTarget:$.container}),V&&V.mouseIsDown||(ie.hoverChartIndex=$.index)}touch($,V){const j=this.chart;let w;this.setHoverChartIndex(),$.touches.length===1?($=this.normalize($),j.isInsidePlot($.chartX-j.plotLeft,$.chartY-j.plotTop,{visiblePlotOnly:!0})&&!j.openMenu?(V&&this.runPointActions($),$.type==="touchmove"&&(V=this.pinchDown,w=V[0]?4<=Math.sqrt(Math.pow(V[0].chartX-$.chartX,2)+Math.pow(V[0].chartY-$.chartY,2)):!1),U(w,!0)&&this.pinch($)):V&&this.reset()):$.touches.length===2&&this.pinch($)}touchSelect($){return!(!this.chart.options.chart.zooming.singleTouch||!$.touches||$.touches.length!==1)}zoomOption($){var V=this.chart,j=V.options.chart;V=V.inverted;let w=j.zooming.type||"";/touch/.test($.type)&&(w=U(j.zooming.pinchType,w)),this.zoomX=$=/x/.test(w),this.zoomY=j=/y/.test(w),this.zoomHor=$&&!V||j&&V,this.zoomVert=j&&!V||$&&V,this.hasZoom=$||j}}return function(ee){const $=[],V=[];ee.compose=function(j){h.pushUnique(V,j)&&J(j,"beforeRender",function(){this.pointer=new ee(this,this.options)})},ee.dissolve=function(){for(let j=0,w=$.length;j<w;++j)$[j]();$.length=0}}(ie||(ie={})),ie}),i(r,"Core/Legend/Legend.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Series/Point.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Utilities.js"]],function(o,u,h,s,v,I){const{animObject:J,setAnimation:M}=o,{format:B}=u,{marginNames:W}=h,{distribute:O}=v,{addEvent:L,createElement:G,css:k,defined:S,discardElement:A,find:H,fireEvent:U,isNumber:E,merge:ie,pick:ee,relativeLength:$,stableSort:V,syncTimeout:j}=I;class w{constructor(m,g){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=m,this.init(m,g)}init(m,g){this.chart=m,this.setOptions(g),g.enabled&&(this.render(),L(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),L(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(m){const g=ee(m.padding,8);this.options=m,this.chart.styledMode||(this.itemStyle=m.itemStyle,this.itemHiddenStyle=ie(this.itemStyle,m.itemHiddenStyle)),this.itemMarginTop=m.itemMarginTop,this.itemMarginBottom=m.itemMarginBottom,this.padding=g,this.initialItemY=g-5,this.symbolWidth=ee(m.symbolWidth,16),this.pages=[],this.proximate=m.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(m,g){const x=this.chart;this.setOptions(ie(!0,this.options,m)),this.destroy(),x.isDirtyLegend=x.isDirtyBox=!0,ee(g,!0)&&x.redraw(),U(this,"afterUpdate")}colorizeItem(m,g){const{group:x,label:P,line:X,symbol:Y}=m.legendItem||{};if(x&&x[g?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var K=this.options;const le=this.itemHiddenStyle.color;K=g?K.itemStyle.color:le;const pe=g&&m.color||le,fe=m.options&&m.options.marker;let z={fill:pe};P&&P.css({fill:K}),X&&X.attr({stroke:pe}),Y&&(fe&&Y.isMarker&&(z=m.pointAttribs(),g||(z.stroke=z.fill=le)),Y.attr(z))}U(this,"afterColorizeItem",{item:m,visible:g})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(m){const{group:g,x=0,y:P=0}=m.legendItem||{};var X=this.options,Y=X.symbolPadding;const K=!X.rtl;X=m.checkbox,g&&g.element&&(Y={translateX:K?x:this.legendWidth-x-2*Y-4,translateY:P},g[S(g.translateY)?"animate":"attr"](Y,void 0,()=>{U(this,"afterPositionItem",{item:m})})),X&&(X.x=x,X.y=P)}destroyItem(m){const g=m.checkbox,x=m.legendItem||{};for(const P of["group","label","line","symbol"])x[P]&&(x[P]=x[P].destroy());g&&A(g),m.legendItem=void 0}destroy(){for(const m of this.getAllItems())this.destroyItem(m);for(const m of"clipRect up down pager nav box title group".split(" "))this[m]&&(this[m]=this[m].destroy());this.display=null}positionCheckboxes(){const m=this.group&&this.group.alignAttr,g=this.clipHeight||this.legendHeight,x=this.titleHeight;let P;m&&(P=m.translateY,this.allItems.forEach(function(X){const Y=X.checkbox;let K;Y&&(K=P+x+Y.y+(this.scrollOffset||0)+3,k(Y,{left:m.translateX+X.checkboxOffset+Y.x-20+"px",top:K+"px",display:this.proximate||K>P-6&&K<P+g-6?"":"none"}))},this))}renderTitle(){var m=this.options;const g=this.padding,x=m.title;let P=0;x.text&&(this.title||(this.title=this.chart.renderer.label(x.text,g-3,g-4,void 0,void 0,void 0,m.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(x.style),this.title.add(this.group)),x.width||this.title.css({width:this.maxLegendWidth+"px"}),m=this.title.getBBox(),P=m.height,this.offsetWidth=m.width,this.contentGroup.attr({translateY:P})),this.titleHeight=P}setText(m){const g=this.options;m.legendItem.label.attr({text:g.labelFormat?B(g.labelFormat,m,this.chart):g.labelFormatter.call(m)})}renderItem(m){const g=m.legendItem=m.legendItem||{};var x=this.chart,P=x.renderer;const X=this.options,Y=this.symbolWidth,K=X.symbolPadding||0,le=this.itemStyle,pe=this.itemHiddenStyle,fe=X.layout==="horizontal"?ee(X.itemDistance,20):0,z=!X.rtl,Q=!m.series,se=!Q&&m.series.drawLegendSymbol?m.series:m;var de=se.options;const Ce=this.createCheckboxForItem&&de&&de.showCheckbox,ne=X.useHTML,ve=m.options.className;let _e=g.label;de=Y+K+fe+(Ce?20:0),_e||(g.group=P.g("legend-item").addClass("highcharts-"+se.type+"-series highcharts-color-"+m.colorIndex+(ve?" "+ve:"")+(Q?" highcharts-series-"+m.index:"")).attr({zIndex:1}).add(this.scrollGroup),g.label=_e=P.text("",z?Y+K:-K,this.baseline||0,ne),x.styledMode||_e.css(ie(m.visible?le:pe)),_e.attr({align:z?"left":"right",zIndex:2}).add(g.group),this.baseline||(this.fontMetrics=P.fontMetrics(_e),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_e.attr("y",this.baseline),this.symbolHeight=ee(X.symbolHeight,this.fontMetrics.f),X.squareSymbol&&(this.symbolWidth=ee(X.symbolWidth,Math.max(this.symbolHeight,16)),de=this.symbolWidth+K+fe+(Ce?20:0),z&&_e.attr("x",this.symbolWidth+K))),se.drawLegendSymbol(this,m),this.setItemEvents&&this.setItemEvents(m,_e,ne)),Ce&&!m.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(m),this.colorizeItem(m,m.visible),!x.styledMode&&le.width||_e.css({width:(X.itemWidth||this.widthOption||x.spacingBox.width)-de+"px"}),this.setText(m),x=_e.getBBox(),P=this.fontMetrics&&this.fontMetrics.h||0,m.itemWidth=m.checkboxOffset=X.itemWidth||g.labelWidth||x.width+de,this.maxItemWidth=Math.max(this.maxItemWidth,m.itemWidth),this.totalItemWidth+=m.itemWidth,this.itemHeight=m.itemHeight=Math.round(g.labelHeight||(x.height>1.5*P?x.height:P))}layoutItem(m){var g=this.options;const x=this.padding,P=g.layout==="horizontal",X=m.itemHeight,Y=this.itemMarginBottom,K=this.itemMarginTop,le=P?ee(g.itemDistance,20):0,pe=this.maxLegendWidth;g=g.alignColumns&&this.totalItemWidth>pe?this.maxItemWidth:m.itemWidth;const fe=m.legendItem||{};P&&this.itemX-x+g>pe&&(this.itemX=x,this.lastLineHeight&&(this.itemY+=K+this.lastLineHeight+Y),this.lastLineHeight=0),this.lastItemY=K+this.itemY+Y,this.lastLineHeight=Math.max(X,this.lastLineHeight),fe.x=this.itemX,fe.y=this.itemY,P?this.itemX+=g:(this.itemY+=K+X+Y,this.lastLineHeight=X),this.offsetWidth=this.widthOption||Math.max((P?this.itemX-x-(m.checkbox?0:le):g)+x,this.offsetWidth)}getAllItems(){let m=[];return this.chart.series.forEach(function(g){const x=g&&g.options;g&&ee(x.showInLegend,S(x.linkedTo)?!1:void 0,!0)&&(m=m.concat((g.legendItem||{}).labels||(x.legendType==="point"?g.data:g)))}),U(this,"afterGetAllItems",{allItems:m}),m}getAlignment(){const m=this.options;return this.proximate?m.align.charAt(0)+"tv":m.floating?"":m.align.charAt(0)+m.verticalAlign.charAt(0)+m.layout.charAt(0)}adjustMargins(m,g){const x=this.chart,P=this.options,X=this.getAlignment();X&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(Y,K){Y.test(X)&&!S(m[K])&&(x[W[K]]=Math.max(x[W[K]],x.legend[(K+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][K]*P[K%2?"x":"y"]+ee(P.margin,12)+g[K]+(x.titleOffset[K]||0)))})}proximatePositions(){const m=this.chart,g=[],x=this.options.align==="left";this.allItems.forEach(function(X){var Y,K=x;let le;X.yAxis&&(X.xAxis.options.reversed&&(K=!K),X.points&&(Y=H(K?X.points:X.points.slice(0).reverse(),function(pe){return E(pe.plotY)})),K=this.itemMarginTop+X.legendItem.label.getBBox().height+this.itemMarginBottom,le=X.yAxis.top-m.plotTop,X.visible?(Y=Y?Y.plotY:X.yAxis.height,Y+=le-.3*K):Y=le+X.yAxis.height,g.push({target:Y,size:K,item:X}))},this);let P;for(const X of O(g,m.plotHeight))P=X.item.legendItem||{},E(X.pos)&&(P.y=m.plotTop-m.spacing[0]+X.pos)}render(){const m=this.chart,g=m.renderer,x=this.options,P=this.padding;var X=this.getAllItems();let Y,K=this.group,le=this.box;this.itemX=P,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=$(x.width,m.spacingBox.width-P);var pe=m.spacingBox.width-2*P-x.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(pe/=2),this.maxLegendWidth=this.widthOption||pe,K||(this.group=K=g.g("legend").addClass(x.className||"").attr({zIndex:7}).add(),this.contentGroup=g.g().attr({zIndex:1}).add(K),this.scrollGroup=g.g().add(this.contentGroup)),this.renderTitle(),V(X,(fe,z)=>(fe.options&&fe.options.legendIndex||0)-(z.options&&z.options.legendIndex||0)),x.reversed&&X.reverse(),this.allItems=X,this.display=pe=!!X.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,X.forEach(this.renderItem,this),X.forEach(this.layoutItem,this),X=(this.widthOption||this.offsetWidth)+P,Y=this.lastItemY+this.lastLineHeight+this.titleHeight,Y=this.handleOverflow(Y),Y+=P,le||(this.box=le=g.rect().addClass("highcharts-legend-box").attr({r:x.borderRadius}).add(K)),m.styledMode||le.attr({stroke:x.borderColor,"stroke-width":x.borderWidth||0,fill:x.backgroundColor||"none"}).shadow(x.shadow),0<X&&0<Y&&le[le.placed?"animate":"attr"](le.crisp.call({},{x:0,y:0,width:X,height:Y},le.strokeWidth())),K[pe?"show":"hide"](),m.styledMode&&K.getStyle("display")==="none"&&(X=Y=0),this.legendWidth=X,this.legendHeight=Y,pe&&this.align(),this.proximate||this.positionItems(),U(this,"afterRender")}align(m=this.chart.spacingBox){const g=this.chart,x=this.options;let P=m.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<g.titleOffset[0]?P+=g.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<g.titleOffset[2]&&(P-=g.titleOffset[2]),P!==m.y&&(m=ie(m,{y:P})),g.hasRendered||(this.group.placed=!1),this.group.align(ie(x,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":x.verticalAlign}),!0,m)}handleOverflow(m){const g=this,x=this.chart,P=x.renderer,X=this.options;var Y=X.y;const K=X.verticalAlign==="top",le=this.padding,pe=X.maxHeight,fe=X.navigation,z=ee(fe.animation,!0),Q=fe.arrowSize||12,se=this.pages,de=this.allItems,Ce=function(Re){typeof Re=="number"?Te.attr({height:Re}):Te&&(g.clipRect=Te.destroy(),g.contentGroup.clip()),g.contentGroup.div&&(g.contentGroup.div.style.clip=Re?"rect("+le+"px,9999px,"+(le+Re)+"px,0)":"auto")},ne=function(Re){return g[Re]=P.circle(0,0,1.3*Q).translate(Q/2,Q/2).add(ge),x.styledMode||g[Re].attr("fill","rgba(0,0,0,0.0001)"),g[Re]};let ve,_e,oe;Y=x.spacingBox.height+(K?-Y:Y)-le;let ge=this.nav,Te=this.clipRect;return X.layout!=="horizontal"||X.verticalAlign==="middle"||X.floating||(Y/=2),pe&&(Y=Math.min(Y,pe)),se.length=0,m&&0<Y&&m>Y&&fe.enabled!==!1?(this.clipHeight=ve=Math.max(Y-20-this.titleHeight-le,0),this.currentPage=ee(this.currentPage,1),this.fullHeight=m,de.forEach((Re,Le)=>{oe=Re.legendItem||{},Re=oe.y||0;const $e=Math.round(oe.label.getBBox().height);let nt=se.length;(!nt||Re-se[nt-1]>ve&&(_e||Re)!==se[nt-1])&&(se.push(_e||Re),nt++),oe.pageIx=nt-1,_e&&((de[Le-1].legendItem||{}).pageIx=nt-1),Le===de.length-1&&Re+$e-se[nt-1]>ve&&Re>se[nt-1]&&(se.push(Re),oe.pageIx=nt),Re!==_e&&(_e=Re)}),Te||(Te=g.clipRect=P.clipRect(0,le-2,9999,0),g.contentGroup.clip(Te)),Ce(ve),ge||(this.nav=ge=P.g().attr({zIndex:1}).add(this.group),this.up=P.symbol("triangle",0,0,Q,Q).add(ge),ne("upTracker").on("click",function(){g.scroll(-1,z)}),this.pager=P.text("",15,10).addClass("highcharts-legend-navigation"),!x.styledMode&&fe.style&&this.pager.css(fe.style),this.pager.add(ge),this.down=P.symbol("triangle-down",0,0,Q,Q).add(ge),ne("downTracker").on("click",function(){g.scroll(1,z)})),g.scroll(0),m=Y):ge&&(Ce(),this.nav=ge.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),m}scroll(m,g){const x=this.chart,P=this.pages,X=P.length,Y=this.clipHeight,K=this.options.navigation,le=this.pager,pe=this.padding;let fe=this.currentPage+m;fe>X&&(fe=X),0<fe&&(typeof g<"u"&&M(g,x),this.nav.attr({translateX:pe,translateY:Y+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(z){z.attr({class:fe===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),le.attr({text:fe+"/"+X}),[this.down,this.downTracker].forEach(function(z){z.attr({x:18+this.pager.getBBox().width,class:fe===X?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),x.styledMode||(this.up.attr({fill:fe===1?K.inactiveColor:K.activeColor}),this.upTracker.css({cursor:fe===1?"default":"pointer"}),this.down.attr({fill:fe===X?K.inactiveColor:K.activeColor}),this.downTracker.css({cursor:fe===X?"default":"pointer"})),this.scrollOffset=-P[fe-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=fe,this.positionCheckboxes(),m=J(ee(g,x.renderer.globalAnimation,!0)),j(()=>{U(this,"afterScroll",{currentPage:fe})},m.duration))}setItemEvents(m,g,x){const P=this,X=m.legendItem||{},Y=P.chart.renderer.boxWrapper,K=m instanceof s,le="highcharts-legend-"+(K?"point":"series")+"-active",pe=P.chart.styledMode;x=x?[g,X.symbol]:[X.group];const fe=z=>{P.allItems.forEach(Q=>{m!==Q&&[Q].concat(Q.linkedSeries||[]).forEach(se=>{se.setState(z,!K)})})};for(const z of x)z&&z.on("mouseover",function(){m.visible&&fe("inactive"),m.setState("hover"),m.visible&&Y.addClass(le),pe||g.css(P.options.itemHoverStyle)}).on("mouseout",function(){P.chart.styledMode||g.css(ie(m.visible?P.itemStyle:P.itemHiddenStyle)),fe(""),Y.removeClass(le),m.setState()}).on("click",function(Q){const se=function(){m.setVisible&&m.setVisible(),fe(m.visible?"inactive":"")};Y.removeClass(le),Q={browserEvent:Q},m.firePointEvent?m.firePointEvent("legendItemClick",Q,se):U(m,"legendItemClick",Q,se)})}createCheckboxForItem(m){m.checkbox=G("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:m.selected,defaultChecked:m.selected},this.options.itemCheckboxStyle,this.chart.container),L(m.checkbox,"click",function(g){U(m.series||m,"checkboxClick",{checked:g.target.checked,item:m},function(){m.select()})})}}return function(D){const m=[];D.compose=function(g){I.pushUnique(m,g)&&L(g,"beforeMargins",function(){this.legend=new D(this,this.options.legend)})}}(w||(w={})),w}),i(r,"Core/Series/SeriesRegistry.js",[r["Core/Globals.js"],r["Core/Defaults.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(o,u,h,s){const{defaultOptions:v}=u,{extendClass:I,merge:J}=s;var M;return function(B){function W(O,L){const G=v.plotOptions||{},k=L.defaultOptions,S=L.prototype;S.type=O,S.pointClass||(S.pointClass=h),k&&(G[O]=k),B.seriesTypes[O]=L}B.seriesTypes=o.seriesTypes,B.registerSeriesType=W,B.seriesType=function(O,L,G,k,S){const A=v.plotOptions||{};return L=L||"",A[O]=J(A[L],G),W(O,I(B.seriesTypes[L]||function(){},k)),B.seriesTypes[O].prototype.type=O,S&&(B.seriesTypes[O].prototype.pointClass=I(h,S)),B.seriesTypes[O]}}(M||(M={})),M}),i(r,"Core/Chart/Chart.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Time.js"],r["Core/Utilities.js"],r["Core/Renderer/HTML/AST.js"]],function(o,u,h,s,v,I,J,M,B,W,O,L){const{animate:G,animObject:k,setAnimation:S}=o,{defaultOptions:A,defaultTime:H}=h,{numberFormat:U}=s,{registerEventOptions:E}=v,{charts:ie,doc:ee,marginNames:$,svg:V,win:j}=I,{seriesTypes:w}=M,{addEvent:D,attr:m,cleanRecursively:g,createElement:x,css:P,defined:X,discardElement:Y,erase:K,error:le,extend:pe,find:fe,fireEvent:z,getStyle:Q,isArray:se,isNumber:de,isObject:Ce,isString:ne,merge:ve,objectEach:_e,pick:oe,pInt:ge,relativeLength:Te,removeEvent:Re,splat:Le,syncTimeout:$e,uniqueKey:nt}=O;class Qe{static chart(xe,Ie,Be){return new Qe(xe,Ie,Be)}constructor(xe,Ie,Be){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(xe,Ie,Be)}getArgs(xe,Ie,Be){ne(xe)||xe.nodeName?(this.renderTo=xe,this.init(Ie,Be)):this.init(xe,Ie)}init(xe,Ie){const Be=xe.plotOptions||{};z(this,"init",{args:arguments},function(){const Xe=ve(A,xe),Ze=Xe.chart;_e(Xe.plotOptions,function(Ct,Nt){Ce(Ct)&&(Ct.tooltip=Be[Nt]&&ve(Be[Nt].tooltip)||void 0)}),Xe.tooltip.userOptions=xe.chart&&xe.chart.forExport&&xe.tooltip.userOptions||xe.tooltip,this.userOptions=xe,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Ie,this.isResizing=0;const ft=Ze.zooming=Ze.zooming||{};xe.chart&&!xe.chart.zooming&&(ft.resetButton=Ze.resetZoomButton),ft.key=oe(ft.key,Ze.zoomKey),ft.pinchType=oe(ft.pinchType,Ze.pinchType),ft.singleTouch=oe(ft.singleTouch,Ze.zoomBySingleTouch),ft.type=oe(ft.type,Ze.zoomType),this.options=Xe,this.axes=[],this.series=[],this.time=xe.time&&Object.keys(xe.time).length?new W(xe.time):I.time,this.numberFormatter=Ze.numberFormatter||U,this.styledMode=Ze.styledMode,this.hasCartesianSeries=Ze.showAxes,this.index=ie.length,ie.push(this),I.chartCount++,E(this,Ze),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,z(this,"afterInit"),this.firstRender()})}initSeries(xe){var Ie=this.options.chart;Ie=xe.type||Ie.type;const Be=w[Ie];return Be||le(17,!0,this,{missingModuleFor:Ie}),Ie=new Be,typeof Ie.init=="function"&&Ie.init(this,xe),Ie}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(xe){xe.points||xe.data||!xe.enabledDataSorting||xe.setData(xe.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(xe,Ie){return xe.linkedSeries.length||Ie.linkedSeries.length?Ie.linkedSeries.length-xe.linkedSeries.length:0})}orderSeries(xe){const Ie=this.series;for(let Be=xe||0,Xe=Ie.length;Be<Xe;++Be)Ie[Be]&&(Ie[Be].index=Be,Ie[Be].name=Ie[Be].getName())}isInsidePlot(xe,Ie,Be={}){const{inverted:Xe,plotBox:Ze,plotLeft:ft,plotTop:Ct,scrollablePlotBox:Nt}=this;var pi=0;let qt=0;Be.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:pi,scrollTop:qt}=this.scrollingContainer);const fi=Be.series,Gi=Be.visiblePlotOnly&&Nt||Ze;var dt=Be.inverted?Ie:xe;if(Ie=Be.inverted?xe:Ie,xe={x:dt,y:Ie,isInsidePlot:!0,options:Be},!Be.ignoreX){const Lt=fi&&(Xe&&!this.polar?fi.yAxis:fi.xAxis)||{pos:ft,len:1/0};dt=Be.paneCoordinates?Lt.pos+dt:ft+dt,dt>=Math.max(pi+ft,Lt.pos)&&dt<=Math.min(pi+ft+Gi.width,Lt.pos+Lt.len)||(xe.isInsidePlot=!1)}return!Be.ignoreY&&xe.isInsidePlot&&(pi=!Xe&&Be.axis&&!Be.axis.isXAxis&&Be.axis||fi&&(Xe?fi.xAxis:fi.yAxis)||{pos:Ct,len:1/0},Be=Be.paneCoordinates?pi.pos+Ie:Ct+Ie,Be>=Math.max(qt+Ct,pi.pos)&&Be<=Math.min(qt+Ct+Gi.height,pi.pos+pi.len)||(xe.isInsidePlot=!1)),z(this,"afterIsInsidePlot",xe),xe.isInsidePlot}redraw(xe){z(this,"beforeRedraw");const Ie=this.hasCartesianSeries?this.axes:this.colorAxis||[],Be=this.series,Xe=this.pointer,Ze=this.legend,ft=this.userOptions.legend,Ct=this.renderer,Nt=Ct.isHidden(),pi=[];let qt,fi,Gi=this.isDirtyBox,dt=this.isDirtyLegend,Lt;for(Ct.rootFontSize=Ct.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),S(this.hasRendered?xe:!1,this),Nt&&this.temporaryDisplay(),this.layOutTitles(),xe=Be.length;xe--;)if(Lt=Be[xe],(Lt.options.stacking||Lt.options.centerInCategory)&&(fi=!0,Lt.isDirty)){qt=!0;break}if(qt)for(xe=Be.length;xe--;)Lt=Be[xe],Lt.options.stacking&&(Lt.isDirty=!0);Be.forEach(function(ei){ei.isDirty&&(ei.options.legendType==="point"?(typeof ei.updateTotals=="function"&&ei.updateTotals(),dt=!0):ft&&(ft.labelFormatter||ft.labelFormat)&&(dt=!0)),ei.isDirtyData&&z(ei,"updatedData")}),dt&&Ze&&Ze.options.enabled&&(Ze.render(),this.isDirtyLegend=!1),fi&&this.getStacks(),Ie.forEach(function(ei){ei.updateNames(),ei.setScale()}),this.getMargins(),Ie.forEach(function(ei){ei.isDirty&&(Gi=!0)}),Ie.forEach(function(ei){const ki=ei.min+","+ei.max;ei.extKey!==ki&&(ei.extKey=ki,pi.push(function(){z(ei,"afterSetExtremes",pe(ei.eventArgs,ei.getExtremes())),delete ei.eventArgs})),(Gi||fi)&&ei.redraw()}),Gi&&this.drawChartBox(),z(this,"predraw"),Be.forEach(function(ei){(Gi||ei.isDirty)&&ei.visible&&ei.redraw(),ei.isDirtyData=!1}),Xe&&Xe.reset(!0),Ct.draw(),z(this,"redraw"),z(this,"render"),Nt&&this.temporaryDisplay(!0),pi.forEach(function(ei){ei.call()})}get(xe){function Ie(Ze){return Ze.id===xe||Ze.options&&Ze.options.id===xe}const Be=this.series;let Xe=fe(this.axes,Ie)||fe(this.series,Ie);for(let Ze=0;!Xe&&Ze<Be.length;Ze++)Xe=fe(Be[Ze].points||[],Ie);return Xe}getAxes(){const xe=this;var Ie=this.options;const Be=Ie.xAxis=Le(Ie.xAxis||{});Ie=Ie.yAxis=Le(Ie.yAxis||{}),z(this,"getAxes"),Be.forEach(function(Xe,Ze){Xe.index=Ze,Xe.isX=!0}),Ie.forEach(function(Xe,Ze){Xe.index=Ze}),Be.concat(Ie).forEach(function(Xe){new u(xe,Xe)}),z(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((xe,Ie)=>(Ie.getPointsCollection().forEach(Be=>{oe(Be.selectedStaging,Be.selected)&&xe.push(Be)}),xe),[])}getSelectedSeries(){return this.series.filter(function(xe){return xe.selected})}setTitle(xe,Ie,Be){this.applyDescription("title",xe),this.applyDescription("subtitle",Ie),this.applyDescription("caption",void 0),this.layOutTitles(Be)}applyDescription(xe,Ie){const Be=this;var Xe=xe==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};Xe=this.options[xe]=ve(!this.styledMode&&{style:Xe},this.options[xe],Ie);let Ze=this[xe];Ze&&Ie&&(this[xe]=Ze=Ze.destroy()),Xe&&!Ze&&(Ze=this.renderer.text(Xe.text,0,0,Xe.useHTML).attr({align:Xe.align,class:"highcharts-"+xe,zIndex:Xe.zIndex||4}).add(),Ze.update=function(ft){Be[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[xe]](ft)},this.styledMode||Ze.css(Xe.style),this[xe]=Ze)}layOutTitles(xe){const Ie=[0,0,0],Be=this.renderer,Xe=this.spacingBox;["title","subtitle","caption"].forEach(function(ft){const Ct=this[ft],Nt=this.options[ft],pi=Nt.verticalAlign||"top";if(ft=ft==="title"?pi==="top"?-3:0:pi==="top"?Ie[0]+2:0,Ct){Ct.css({width:(Nt.width||Xe.width+(Nt.widthAdjust||0))+"px"});const qt=Be.fontMetrics(Ct).b,fi=Math.round(Ct.getBBox(Nt.useHTML).height);Ct.align(pe({y:pi==="bottom"?qt:ft+qt,height:fi},Nt),!1,"spacingBox"),Nt.floating||(pi==="top"?Ie[0]=Math.ceil(Ie[0]+fi):pi==="bottom"&&(Ie[2]=Math.ceil(Ie[2]+fi)))}},this),Ie[0]&&(this.options.title.verticalAlign||"top")==="top"&&(Ie[0]+=this.options.title.margin),Ie[2]&&this.options.caption.verticalAlign==="bottom"&&(Ie[2]+=this.options.caption.margin);const Ze=!this.titleOffset||this.titleOffset.join(",")!==Ie.join(",");this.titleOffset=Ie,z(this,"afterLayOutTitles"),!this.isDirtyBox&&Ze&&(this.isDirtyBox=this.isDirtyLegend=Ze,this.hasRendered&&oe(xe,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:Q(this.renderTo,"width",!0)||0,height:Q(this.renderTo,"height",!0)||0}}getChartSize(){var xe=this.options.chart;const Ie=xe.width;xe=xe.height;const Be=this.getContainerBox();this.chartWidth=Math.max(0,Ie||Be.width||600),this.chartHeight=Math.max(0,Te(xe,this.chartWidth)||(1<Be.height?Be.height:400)),this.containerBox=Be}temporaryDisplay(xe){let Ie=this.renderTo;if(xe)for(;Ie&&Ie.style;)Ie.hcOrigStyle&&(P(Ie,Ie.hcOrigStyle),delete Ie.hcOrigStyle),Ie.hcOrigDetached&&(ee.body.removeChild(Ie),Ie.hcOrigDetached=!1),Ie=Ie.parentNode;else for(;Ie&&Ie.style&&(ee.body.contains(Ie)||Ie.parentNode||(Ie.hcOrigDetached=!0,ee.body.appendChild(Ie)),(Q(Ie,"display",!1)==="none"||Ie.hcOricDetached)&&(Ie.hcOrigStyle={display:Ie.style.display,height:Ie.style.height,overflow:Ie.style.overflow},xe={display:"block",overflow:"hidden"},Ie!==this.renderTo&&(xe.height=0),P(Ie,xe),Ie.offsetWidth||Ie.style.setProperty("display","block","important")),Ie=Ie.parentNode,Ie!==ee.body););}setClassName(xe){this.container.className="highcharts-container "+(xe||"")}getContainer(){const xe=this.options,Ie=xe.chart;var Be=nt();let Xe,Ze=this.renderTo;Ze||(this.renderTo=Ze=Ie.renderTo),ne(Ze)&&(this.renderTo=Ze=ee.getElementById(Ze)),Ze||le(13,!0,this);var ft=ge(m(Ze,"data-highcharts-chart"));de(ft)&&ie[ft]&&ie[ft].hasRendered&&ie[ft].destroy(),m(Ze,"data-highcharts-chart",this.index),Ze.innerHTML=L.emptyHTML,Ie.skipClone||Ze.offsetWidth||this.temporaryDisplay(),this.getChartSize(),ft=this.chartWidth;const Ct=this.chartHeight;if(P(Ze,{overflow:"hidden"}),this.styledMode||(Xe=pe({position:"relative",overflow:"hidden",width:ft+"px",height:Ct+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Ie.style||{})),this.container=Be=x("div",{id:Be},Xe,Ze),this._cursor=Be.style.cursor,this.renderer=new(Ie.renderer||!V?J.getRendererType(Ie.renderer):B)(Be,ft,Ct,void 0,Ie.forExport,xe.exporting&&xe.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),S(void 0,this),this.setClassName(Ie.className),this.styledMode)for(const Nt in xe.defs)this.renderer.definition(xe.defs[Nt]);else this.renderer.setStyle(Ie.style);this.renderer.chartIndex=this.index,z(this,"afterGetContainer")}getMargins(xe){const{spacing:Ie,margin:Be,titleOffset:Xe}=this;this.resetMargins(),Xe[0]&&!X(Be[0])&&(this.plotTop=Math.max(this.plotTop,Xe[0]+Ie[0])),Xe[2]&&!X(Be[2])&&(this.marginBottom=Math.max(this.marginBottom,Xe[2]+Ie[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Be,Ie),z(this,"getMargins"),xe||this.getAxisMargins()}getAxisMargins(){const xe=this,Ie=xe.axisOffset=[0,0,0,0],Be=xe.colorAxis,Xe=xe.margin,Ze=function(ft){ft.forEach(function(Ct){Ct.visible&&Ct.getOffset()})};xe.hasCartesianSeries?Ze(xe.axes):Be&&Be.length&&Ze(Be),$.forEach(function(ft,Ct){X(Xe[Ct])||(xe[ft]+=Ie[Ct])}),xe.setChartSize()}reflow(xe){const Ie=this;var Be=Ie.options.chart;Be=X(Be.width)&&X(Be.height);const Xe=Ie.containerBox,Ze=Ie.getContainerBox();delete Ie.pointer.chartPosition,!Be&&!Ie.isPrinting&&Xe&&Ze.width&&((Ze.width!==Xe.width||Ze.height!==Xe.height)&&(O.clearTimeout(Ie.reflowTimeout),Ie.reflowTimeout=$e(function(){Ie.container&&Ie.setSize(void 0,void 0,!1)},xe?100:0)),Ie.containerBox=Ze)}setReflow(){const xe=this;var Ie=Be=>{var Xe;!((Xe=xe.options)===null||Xe===void 0)&&Xe.chart.reflow&&xe.hasLoaded&&xe.reflow(Be)};typeof ResizeObserver=="function"?new ResizeObserver(Ie).observe(xe.renderTo):(Ie=D(j,"resize",Ie),D(this,"destroy",Ie))}setSize(xe,Ie,Be){const Xe=this,Ze=Xe.renderer;Xe.isResizing+=1,S(Be,Xe),Be=Ze.globalAnimation,Xe.oldChartHeight=Xe.chartHeight,Xe.oldChartWidth=Xe.chartWidth,typeof xe<"u"&&(Xe.options.chart.width=xe),typeof Ie<"u"&&(Xe.options.chart.height=Ie),Xe.getChartSize(),Xe.styledMode||(Be?G:P)(Xe.container,{width:Xe.chartWidth+"px",height:Xe.chartHeight+"px"},Be),Xe.setChartSize(!0),Ze.setSize(Xe.chartWidth,Xe.chartHeight,Be),Xe.axes.forEach(function(ft){ft.isDirty=!0,ft.setScale()}),Xe.isDirtyLegend=!0,Xe.isDirtyBox=!0,Xe.layOutTitles(),Xe.getMargins(),Xe.redraw(Be),Xe.oldChartHeight=null,z(Xe,"resize"),$e(function(){Xe&&z(Xe,"endResize",null,function(){--Xe.isResizing})},k(Be).duration)}setChartSize(xe){var Ie=this.inverted;const Be=this.renderer;var Xe=this.chartWidth,Ze=this.chartHeight;const ft=this.options.chart,Ct=this.spacing,Nt=this.clipOffset;let pi,qt,fi,Gi;this.plotLeft=pi=Math.round(this.plotLeft),this.plotTop=qt=Math.round(this.plotTop),this.plotWidth=fi=Math.max(0,Math.round(Xe-pi-this.marginRight)),this.plotHeight=Gi=Math.max(0,Math.round(Ze-qt-this.marginBottom)),this.plotSizeX=Ie?Gi:fi,this.plotSizeY=Ie?fi:Gi,this.plotBorderWidth=ft.plotBorderWidth||0,this.spacingBox=Be.spacingBox={x:Ct[3],y:Ct[0],width:Xe-Ct[3]-Ct[1],height:Ze-Ct[0]-Ct[2]},this.plotBox=Be.plotBox={x:pi,y:qt,width:fi,height:Gi},Ie=2*Math.floor(this.plotBorderWidth/2),Xe=Math.ceil(Math.max(Ie,Nt[3])/2),Ze=Math.ceil(Math.max(Ie,Nt[0])/2),this.clipBox={x:Xe,y:Ze,width:Math.floor(this.plotSizeX-Math.max(Ie,Nt[1])/2-Xe),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Ie,Nt[2])/2-Ze))},xe||(this.axes.forEach(function(dt){dt.setAxisSize(),dt.setAxisTranslation()}),Be.alignElements()),z(this,"afterSetChartSize",{skipAxes:xe})}resetMargins(){z(this,"resetMargins");const xe=this,Ie=xe.options.chart;["margin","spacing"].forEach(function(Be){const Xe=Ie[Be],Ze=Ce(Xe)?Xe:[Xe,Xe,Xe,Xe];["Top","Right","Bottom","Left"].forEach(function(ft,Ct){xe[Be][Ct]=oe(Ie[Be+ft],Ze[Ct])})}),$.forEach(function(Be,Xe){xe[Be]=oe(xe.margin[Xe],xe.spacing[Xe])}),xe.axisOffset=[0,0,0,0],xe.clipOffset=[0,0,0,0]}drawChartBox(){const xe=this.options.chart,Ie=this.renderer,Be=this.chartWidth,Xe=this.chartHeight,Ze=this.styledMode,ft=this.plotBGImage;var Ct=xe.backgroundColor;const Nt=xe.plotBackgroundColor,pi=xe.plotBackgroundImage,qt=this.plotLeft,fi=this.plotTop,Gi=this.plotWidth,dt=this.plotHeight,Lt=this.plotBox,ei=this.clipRect,ki=this.clipBox;let on=this.chartBackground,Rn=this.plotBackground,Gr=this.plotBorder,di,Hi,Yi="animate";on||(this.chartBackground=on=Ie.rect().addClass("highcharts-background").add(),Yi="attr"),Ze?di=Hi=on.strokeWidth():(di=xe.borderWidth||0,Hi=di+(xe.shadow?8:0),Ct={fill:Ct||"none"},(di||on["stroke-width"])&&(Ct.stroke=xe.borderColor,Ct["stroke-width"]=di),on.attr(Ct).shadow(xe.shadow)),on[Yi]({x:Hi/2,y:Hi/2,width:Be-Hi-di%2,height:Xe-Hi-di%2,r:xe.borderRadius}),Yi="animate",Rn||(Yi="attr",this.plotBackground=Rn=Ie.rect().addClass("highcharts-plot-background").add()),Rn[Yi](Lt),Ze||(Rn.attr({fill:Nt||"none"}).shadow(xe.plotShadow),pi&&(ft?(pi!==ft.attr("href")&&ft.attr("href",pi),ft.animate(Lt)):this.plotBGImage=Ie.image(pi,qt,fi,Gi,dt).add())),ei?ei.animate({width:ki.width,height:ki.height}):this.clipRect=Ie.clipRect(ki),Yi="animate",Gr||(Yi="attr",this.plotBorder=Gr=Ie.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Ze||Gr.attr({stroke:xe.plotBorderColor,"stroke-width":xe.plotBorderWidth||0,fill:"none"}),Gr[Yi](Gr.crisp({x:qt,y:fi,width:Gi,height:dt},-Gr.strokeWidth())),this.isDirtyBox=!1,z(this,"afterDrawChartBox")}propFromSeries(){const xe=this,Ie=xe.options.chart,Be=xe.options.series;let Xe,Ze,ft;["inverted","angular","polar"].forEach(function(Ct){for(Ze=w[Ie.type],ft=Ie[Ct]||Ze&&Ze.prototype[Ct],Xe=Be&&Be.length;!ft&&Xe--;)(Ze=w[Be[Xe].type])&&Ze.prototype[Ct]&&(ft=!0);xe[Ct]=ft})}linkSeries(xe){const Ie=this,Be=Ie.series;Be.forEach(function(Xe){Xe.linkedSeries.length=0}),Be.forEach(function(Xe){let Ze=Xe.options.linkedTo;ne(Ze)&&(Ze=Ze===":previous"?Ie.series[Xe.index-1]:Ie.get(Ze))&&Ze.linkedParent!==Xe&&(Ze.linkedSeries.push(Xe),Xe.linkedParent=Ze,Ze.enabledDataSorting&&Xe.setDataSortingOptions(),Xe.visible=oe(Xe.options.visible,Ze.options.visible,Xe.visible))}),z(this,"afterLinkSeries",{isUpdating:xe})}renderSeries(){this.series.forEach(function(xe){xe.translate(),xe.render()})}render(){const xe=this.axes,Ie=this.colorAxis,Be=this.renderer,Xe=function(qt){qt.forEach(function(fi){fi.visible&&fi.render()})};let Ze=0;this.setTitle(),z(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const ft=this.plotWidth;xe.some(function(qt){if(qt.horiz&&qt.visible&&qt.options.labels.enabled&&qt.series.length)return Ze=21,!0});const Ct=this.plotHeight=Math.max(this.plotHeight-Ze,0);xe.forEach(function(qt){qt.setScale()}),this.getAxisMargins();const Nt=1.1<ft/this.plotWidth,pi=1.05<Ct/this.plotHeight;(Nt||pi)&&(xe.forEach(function(qt){(qt.horiz&&Nt||!qt.horiz&&pi)&&qt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?Xe(xe):Ie&&Ie.length&&Xe(Ie),this.seriesGroup||(this.seriesGroup=Be.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(xe){const Ie=this,Be=ve(!0,this.options.credits,xe);Be.enabled&&!this.credits&&(this.credits=this.renderer.text(Be.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Be.href&&(j.location.href=Be.href)}).attr({align:Be.position.align,zIndex:8}),Ie.styledMode||this.credits.css(Be.style),this.credits.add().align(Be.position),this.credits.update=function(Xe){Ie.credits=Ie.credits.destroy(),Ie.addCredits(Xe)})}destroy(){const xe=this,Ie=xe.axes,Be=xe.series,Xe=xe.container,Ze=Xe&&Xe.parentNode;let ft;for(z(xe,"destroy"),xe.renderer.forExport?K(ie,xe):ie[xe.index]=void 0,I.chartCount--,xe.renderTo.removeAttribute("data-highcharts-chart"),Re(xe),ft=Ie.length;ft--;)Ie[ft]=Ie[ft].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ft=Be.length;ft--;)Be[ft]=Be[ft].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Ct){const Nt=xe[Ct];Nt&&Nt.destroy&&(xe[Ct]=Nt.destroy())}),Xe&&(Xe.innerHTML=L.emptyHTML,Re(Xe),Ze&&Y(Xe)),_e(xe,function(Ct,Nt){delete xe[Nt]})}firstRender(){const xe=this,Ie=xe.options;xe.getContainer(),xe.resetMargins(),xe.setChartSize(),xe.propFromSeries(),xe.getAxes(),(se(Ie.series)?Ie.series:[]).forEach(function(Be){xe.initSeries(Be)}),xe.linkSeries(),xe.setSeriesData(),z(xe,"beforeRender"),xe.render(),xe.pointer.getChartPosition(),!xe.renderer.imgCount&&!xe.hasLoaded&&xe.onload(),xe.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(xe){xe&&typeof this.index<"u"&&xe.apply(this,[this])},this),z(this,"load"),z(this,"render"),X(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:xe,title:Ie}=this;xe&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Ie&&Ie.element.textContent||"").replace(/</g,"&lt;")}),xe.accessibility&&xe.accessibility.enabled===!1||le('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(xe,Ie,Be){const Xe=this;let Ze;return xe&&(Ie=oe(Ie,!0),z(Xe,"addSeries",{options:xe},function(){Ze=Xe.initSeries(xe),Xe.isDirtyLegend=!0,Xe.linkSeries(),Ze.enabledDataSorting&&Ze.setData(xe.data,!1),z(Xe,"afterAddSeries",{series:Ze}),Ie&&Xe.redraw(Be)})),Ze}addAxis(xe,Ie,Be,Xe){return this.createAxis(Ie?"xAxis":"yAxis",{axis:xe,redraw:Be,animation:Xe})}addColorAxis(xe,Ie,Be){return this.createAxis("colorAxis",{axis:xe,redraw:Ie,animation:Be})}createAxis(xe,Ie){return xe=new u(this,ve(Ie.axis,{index:this[xe].length,isX:xe==="xAxis"})),oe(Ie.redraw,!0)&&this.redraw(Ie.animation),xe}showLoading(xe){const Ie=this,Be=Ie.options,Xe=Be.loading,Ze=function(){ft&&P(ft,{left:Ie.plotLeft+"px",top:Ie.plotTop+"px",width:Ie.plotWidth+"px",height:Ie.plotHeight+"px"})};let ft=Ie.loadingDiv,Ct=Ie.loadingSpan;ft||(Ie.loadingDiv=ft=x("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Ie.container)),Ct||(Ie.loadingSpan=Ct=x("span",{className:"highcharts-loading-inner"},null,ft),D(Ie,"redraw",Ze)),ft.className="highcharts-loading",L.setElementHTML(Ct,oe(xe,Be.lang.loading,"")),Ie.styledMode||(P(ft,pe(Xe.style,{zIndex:10})),P(Ct,Xe.labelStyle),Ie.loadingShown||(P(ft,{opacity:0,display:""}),G(ft,{opacity:Xe.style.opacity||.5},{duration:Xe.showDuration||0}))),Ie.loadingShown=!0,Ze()}hideLoading(){const xe=this.options,Ie=this.loadingDiv;Ie&&(Ie.className="highcharts-loading highcharts-loading-hidden",this.styledMode||G(Ie,{opacity:0},{duration:xe.loading.hideDuration||100,complete:function(){P(Ie,{display:"none"})}})),this.loadingShown=!1}update(xe,Ie,Be,Xe){const Ze=this,ft={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Ct=xe.isResponsiveOptions,Nt=[];let pi,qt;z(Ze,"update",{options:xe}),Ct||Ze.setResponsive(!1,!0),xe=g(xe,Ze.options),Ze.userOptions=ve(Ze.userOptions,xe);var fi=xe.chart;if(fi){if(ve(!0,Ze.options.chart,fi),"className"in fi&&Ze.setClassName(fi.className),"inverted"in fi||"polar"in fi||"type"in fi){Ze.propFromSeries();var Gi=!0}"alignTicks"in fi&&(Gi=!0),"events"in fi&&E(this,fi),_e(fi,function(dt,Lt){Ze.propsRequireUpdateSeries.indexOf("chart."+Lt)!==-1&&(pi=!0),Ze.propsRequireDirtyBox.indexOf(Lt)!==-1&&(Ze.isDirtyBox=!0),Ze.propsRequireReflow.indexOf(Lt)!==-1&&(Ct?Ze.isDirtyBox=!0:qt=!0)}),!Ze.styledMode&&fi.style&&Ze.renderer.setStyle(Ze.options.chart.style||{})}!Ze.styledMode&&xe.colors&&(this.options.colors=xe.colors),xe.time&&(this.time===H&&(this.time=new W(xe.time)),ve(!0,Ze.options.time,xe.time)),_e(xe,function(dt,Lt){Ze[Lt]&&typeof Ze[Lt].update=="function"?Ze[Lt].update(dt,!1):typeof Ze[ft[Lt]]=="function"?Ze[ft[Lt]](dt):Lt!=="colors"&&Ze.collectionsWithUpdate.indexOf(Lt)===-1&&ve(!0,Ze.options[Lt],xe[Lt]),Lt!=="chart"&&Ze.propsRequireUpdateSeries.indexOf(Lt)!==-1&&(pi=!0)}),this.collectionsWithUpdate.forEach(function(dt){let Lt;xe[dt]&&(Lt=[],Ze[dt].forEach(function(ei,ki){ei.options.isInternal||Lt.push(oe(ei.options.index,ki))}),Le(xe[dt]).forEach(function(ei,ki){const on=X(ei.id);let Rn;on&&(Rn=Ze.get(ei.id)),!Rn&&Ze[dt]&&(Rn=Ze[dt][Lt?Lt[ki]:ki])&&on&&X(Rn.options.id)&&(Rn=void 0),Rn&&Rn.coll===dt&&(Rn.update(ei,!1),Be&&(Rn.touched=!0)),!Rn&&Be&&Ze.collectionsWithInit[dt]&&(Ze.collectionsWithInit[dt][0].apply(Ze,[ei].concat(Ze.collectionsWithInit[dt][1]||[]).concat([!1])).touched=!0)}),Be&&Ze[dt].forEach(function(ei){ei.touched||ei.options.isInternal?delete ei.touched:Nt.push(ei)}))}),Nt.forEach(function(dt){dt.chart&&dt.remove&&dt.remove(!1)}),Gi&&Ze.axes.forEach(function(dt){dt.update({},!1)}),pi&&Ze.getSeriesOrderByLinks().forEach(function(dt){dt.chart&&dt.update({},!1)},this),Gi=fi&&fi.width,fi=fi&&(ne(fi.height)?Te(fi.height,Gi||Ze.chartWidth):fi.height),qt||de(Gi)&&Gi!==Ze.chartWidth||de(fi)&&fi!==Ze.chartHeight?Ze.setSize(Gi,fi,Xe):oe(Ie,!0)&&Ze.redraw(Xe),z(Ze,"afterUpdate",{options:xe,redraw:Ie,animation:Xe})}setSubtitle(xe,Ie){this.applyDescription("subtitle",xe),this.layOutTitles(Ie)}setCaption(xe,Ie){this.applyDescription("caption",xe),this.layOutTitles(Ie)}showResetZoom(){function xe(){Ie.zoomOut()}const Ie=this,Be=A.lang,Xe=Ie.options.chart.zooming.resetButton,Ze=Xe.theme,ft=Xe.relativeTo==="chart"||Xe.relativeTo==="spacingBox"?null:"scrollablePlotBox";z(this,"beforeShowResetZoom",null,function(){Ie.resetZoomButton=Ie.renderer.button(Be.resetZoom,null,null,xe,Ze).attr({align:Xe.position.align,title:Be.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Xe.position,!1,ft)}),z(this,"afterShowResetZoom")}zoomOut(){z(this,"selection",{resetSelection:!0},this.zoom)}zoom(xe){const Ie=this,Be=Ie.pointer;let Xe=!1,Ze;!xe||xe.resetSelection?(Ie.axes.forEach(function(Ct){Ze=Ct.zoom()}),Be.initiated=!1):xe.xAxis.concat(xe.yAxis).forEach(function(Ct){const Nt=Ct.axis;(Be[Nt.isXAxis?"zoomX":"zoomY"]&&X(Be.mouseDownX)&&X(Be.mouseDownY)&&Ie.isInsidePlot(Be.mouseDownX-Ie.plotLeft,Be.mouseDownY-Ie.plotTop,{axis:Nt})||!X(Ie.inverted?Be.mouseDownX:Be.mouseDownY))&&(Ze=Nt.zoom(Ct.min,Ct.max),Nt.displayBtn&&(Xe=!0))});const ft=Ie.resetZoomButton;Xe&&!ft?Ie.showResetZoom():!Xe&&Ce(ft)&&(Ie.resetZoomButton=ft.destroy()),Ze&&Ie.redraw(oe(Ie.options.chart.animation,xe&&xe.animation,100>Ie.pointCount))}pan(xe,Ie){const Be=this,Xe=Be.hoverPoints;Ie=typeof Ie=="object"?Ie:{enabled:Ie,type:"x"};const Ze=Be.options.chart;Ze&&Ze.panning&&(Ze.panning=Ie);const ft=Ie.type;let Ct;z(this,"pan",{originalEvent:xe},function(){Xe&&Xe.forEach(function(qt){qt.setState()});let Nt=Be.xAxis;ft==="xy"?Nt=Nt.concat(Be.yAxis):ft==="y"&&(Nt=Be.yAxis);const pi={};Nt.forEach(function(qt){if(qt.options.panningEnabled&&!qt.options.isInternal){var fi=qt.horiz,Gi=xe[fi?"chartX":"chartY"];fi=fi?"mouseDownX":"mouseDownY";var dt=Be[fi],Lt=qt.minPointOffset||0,ei=qt.reversed&&!Be.inverted||!qt.reversed&&Be.inverted?-1:1,ki=qt.getExtremes(),on=qt.toValue(dt-Gi,!0)+Lt*ei,Rn=qt.toValue(dt+qt.len-Gi,!0)-(Lt*ei||qt.isXAxis&&qt.pointRangePadding||0),Gr=Rn<on;ei=qt.hasVerticalPanning(),dt=Gr?Rn:on,on=Gr?on:Rn;var di=qt.panningState;!ei||qt.isXAxis||di&&!di.isDirty||qt.series.forEach(function(Hi){var Yi=Hi.getProcessedData(!0);Yi=Hi.getExtremes(Yi.yData,!0),di||(di={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),de(Yi.dataMin)&&de(Yi.dataMax)&&(di.startMin=Math.min(oe(Hi.options.threshold,1/0),Yi.dataMin,di.startMin),di.startMax=Math.max(oe(Hi.options.threshold,-1/0),Yi.dataMax,di.startMax))}),ei=Math.min(oe(di&&di.startMin,ki.dataMin),Lt?ki.min:qt.toValue(qt.toPixels(ki.min)-qt.minPixelPadding)),Rn=Math.max(oe(di&&di.startMax,ki.dataMax),Lt?ki.max:qt.toValue(qt.toPixels(ki.max)+qt.minPixelPadding)),qt.panningState=di,qt.isOrdinal||(Lt=ei-dt,0<Lt&&(on+=Lt,dt=ei),Lt=on-Rn,0<Lt&&(on=Rn,dt-=Lt),qt.series.length&&dt!==ki.min&&on!==ki.max&&dt>=ei&&on<=Rn&&(qt.setExtremes(dt,on,!1,!1,{trigger:"pan"}),!Be.resetZoomButton&&dt!==ei&&on!==Rn&&ft.match("y")&&(Be.showResetZoom(),qt.displayBtn=!1),Ct=!0),pi[fi]=Gi)}}),_e(pi,(qt,fi)=>{Be[fi]=qt}),Ct&&Be.redraw(!1),P(Be.container,{cursor:"move"})})}}return pe(Qe.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Qe.prototype.addAxis,[!0]],yAxis:[Qe.prototype.addAxis,[!1]],series:[Qe.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Qe}),i(r,"Core/Legend/LegendSymbol.js",[r["Core/Utilities.js"]],function(o){const{extend:u,merge:h,pick:s}=o;var v;return function(I){I.lineMarker=function(J,M){M=this.legendItem=this.legendItem||{};var B=this.options;const W=J.symbolWidth,O=J.symbolHeight,L=O/2,G=this.chart.renderer,k=M.group;J=J.baseline-Math.round(.3*J.fontMetrics.b);let S={},A=B.marker,H=0;this.chart.styledMode||(S={"stroke-width":Math.min(B.lineWidth||0,24)},B.dashStyle?S.dashstyle=B.dashStyle:B.linecap!=="square"&&(S["stroke-linecap"]="round")),M.line=G.path().addClass("highcharts-graph").attr(S).add(k),S["stroke-linecap"]&&(H=Math.min(M.line.strokeWidth(),W)/2),W&&M.line.attr({d:[["M",H,J],["L",W-H,J]]}),A&&A.enabled!==!1&&W&&(B=Math.min(s(A.radius,L),L),this.symbol.indexOf("url")===0&&(A=h(A,{width:O,height:O}),B=0),M.symbol=M=G.symbol(this.symbol,W/2-B,J-B,2*B,2*B,u({context:"legend"},A)).addClass("highcharts-point").add(k),M.isMarker=!0)},I.rectangle=function(J,M){M=M.legendItem||{};const B=J.symbolHeight,W=J.options.squareSymbol;M.symbol=this.chart.renderer.rect(W?(J.symbolWidth-B)/2:0,J.baseline-B+1,W?B:J.symbolWidth,B,s(J.options.symbolRadius,B/2)).addClass("highcharts-point").attr({zIndex:3}).add(M.group)}}(v||(v={})),v}),i(r,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:o}=this.series.chart;return typeof this.y!="number"?"":o(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),i(r,"Core/Series/Series.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/Point.js"],r["Core/Series/SeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,u,h,s,v,I,J,M,B,W){const{animObject:O,setAnimation:L}=o,{defaultOptions:G}=u,{registerEventOptions:k}=h,{hasTouch:S,svg:A,win:H}=s,{seriesTypes:U}=M,{arrayMax:E,arrayMin:ie,clamp:ee,cleanRecursively:$,correctFloat:V,defined:j,erase:w,error:D,extend:m,find:g,fireEvent:x,getNestedProperty:P,isArray:X,isNumber:Y,isString:K,merge:le,objectEach:pe,pick:fe,removeEvent:z,splat:Q,syncTimeout:se}=W;class de{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(ne,ve){x(this,"init",{options:ve});const _e=this,oe=ne.series;this.eventsToUnbind=[],_e.chart=ne,_e.options=_e.setOptions(ve),ve=_e.options,_e.linkedSeries=[],_e.bindAxes(),m(_e,{name:ve.name,state:"",visible:ve.visible!==!1,selected:ve.selected===!0}),k(this,ve);const ge=ve.events;(ge&&ge.click||ve.point&&ve.point.events&&ve.point.events.click||ve.allowPointSelect)&&(ne.runTrackerClick=!0),_e.getColor(),_e.getSymbol(),_e.parallelArrays.forEach(function(Re){_e[Re+"Data"]||(_e[Re+"Data"]=[])}),_e.isCartesian&&(ne.hasCartesianSeries=!0);let Te;oe.length&&(Te=oe[oe.length-1]),_e._i=fe(Te&&Te._i,-1)+1,_e.opacity=_e.options.opacity,ne.orderSeries(this.insert(oe)),ve.dataSorting&&ve.dataSorting.enabled?_e.setDataSortingOptions():_e.points||_e.data||_e.setData(ve.data,!1),x(this,"afterInit")}is(ne){return U[ne]&&this instanceof U[ne]}insert(ne){const ve=this.options.index;let _e;if(Y(ve)){for(_e=ne.length;_e--;)if(ve>=fe(ne[_e].options.index,ne[_e]._i)){ne.splice(_e+1,0,this);break}_e===-1&&ne.unshift(this),_e+=1}else ne.push(this);return fe(_e,ne.length-1)}bindAxes(){const ne=this,ve=ne.options,_e=ne.chart;let oe;x(this,"bindAxes",null,function(){(ne.axisTypes||[]).forEach(function(ge){let Te=0;_e[ge].forEach(function(Re){oe=Re.options,(ve[ge]===Te&&!oe.isInternal||typeof ve[ge]<"u"&&ve[ge]===oe.id||typeof ve[ge]>"u"&&oe.index===0)&&(ne.insert(Re.series),ne[ge]=Re,Re.isDirty=!0),oe.isInternal||Te++}),ne[ge]||ne.optionalAxis===ge||D(18,!0,_e)})}),x(this,"afterBindAxes")}updateParallelArrays(ne,ve,_e){const oe=ne.series,ge=Y(ve)?function(Te){const Re=Te==="y"&&oe.toYData?oe.toYData(ne):ne[Te];oe[Te+"Data"][ve]=Re}:function(Te){Array.prototype[ve].apply(oe[Te+"Data"],_e)};oe.parallelArrays.forEach(ge)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(ne){var ve=this.options;const _e=ve.pointIntervalUnit,oe=ve.relativeXValue,ge=this.chart.time;let Te=this.xIncrement,Re;return Te=fe(Te,ve.pointStart,0),this.pointInterval=Re=fe(this.pointInterval,ve.pointInterval,1),oe&&Y(ne)&&(Re*=ne),_e&&(ve=new ge.Date(Te),_e==="day"?ge.set("Date",ve,ge.get("Date",ve)+Re):_e==="month"?ge.set("Month",ve,ge.get("Month",ve)+Re):_e==="year"&&ge.set("FullYear",ve,ge.get("FullYear",ve)+Re),Re=ve.getTime()-Te),oe&&Y(ne)?Te+Re:(this.xIncrement=Te+Re,Te)}setDataSortingOptions(){const ne=this.options;m(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),j(ne.pointRange)||(ne.pointRange=1)}setOptions(ne){var ve=this.chart,_e=ve.options,oe=_e.plotOptions,ge=ve.userOptions||{};ne=le(ne),ve=ve.styledMode;const Te={plotOptions:oe,userOptions:ne};x(this,"setOptions",Te);const Re=Te.plotOptions[this.type],Le=ge.plotOptions||{};return this.userOptions=Te.userOptions,ge=le(Re,oe.series,ge.plotOptions&&ge.plotOptions[this.type],ne),this.tooltipOptions=le(G.tooltip,G.plotOptions.series&&G.plotOptions.series.tooltip,G.plotOptions[this.type].tooltip,_e.tooltip.userOptions,oe.series&&oe.series.tooltip,oe[this.type].tooltip,ne.tooltip),this.stickyTracking=fe(ne.stickyTracking,Le[this.type]&&Le[this.type].stickyTracking,Le.series&&Le.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:ge.stickyTracking),Re.marker===null&&delete ge.marker,this.zoneAxis=ge.zoneAxis,oe=this.zones=(ge.zones||[]).slice(),!ge.negativeColor&&!ge.negativeFillColor||ge.zones||(_e={value:ge[this.zoneAxis+"Threshold"]||ge.threshold||0,className:"highcharts-negative"},ve||(_e.color=ge.negativeColor,_e.fillColor=ge.negativeFillColor),oe.push(_e)),oe.length&&j(oe[oe.length-1].value)&&oe.push(ve?{}:{color:this.color,fillColor:this.fillColor}),x(this,"afterSetOptions",{options:ge}),ge}getName(){return fe(this.options.name,"Series "+(this.index+1))}getCyclic(ne,ve,_e){const oe=this.chart,ge=this.userOptions,Te=ne+"Index",Re=ne+"Counter",Le=_e?_e.length:fe(oe.options.chart[ne+"Count"],oe[ne+"Count"]);if(!ve){var $e=fe(ge[Te],ge["_"+Te]);j($e)||(oe.series.length||(oe[Re]=0),ge["_"+Te]=$e=oe[Re]%Le,oe[Re]+=1),_e&&(ve=_e[$e])}typeof $e<"u"&&(this[Te]=$e),this[ne]=ve}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||G.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(ne,ve){const _e=ne.id,oe=ne.x,ge=this.points;var Te=this.options.dataSorting,Re;let Le,$e;if(_e)Te=this.chart.get(_e),Te instanceof I&&(Re=Te);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Re=nt=>!nt.touched&&nt.index===ne.index,Te&&Te.matchByName?Re=nt=>!nt.touched&&nt.name===ne.name:this.options.relativeXValue&&(Re=nt=>!nt.touched&&nt.options.x===ne.x),Re=g(ge,Re),!Re))return;return Re&&($e=Re&&Re.index,typeof $e<"u"&&(Le=!0)),typeof $e>"u"&&Y(oe)&&($e=this.xData.indexOf(oe,ve)),$e!==-1&&typeof $e<"u"&&this.cropped&&($e=$e>=this.cropStart?$e-this.cropStart:$e),!Le&&Y($e)&&ge[$e]&&ge[$e].touched&&($e=void 0),$e}updateData(ne,ve){const _e=this.options,oe=_e.dataSorting,ge=this.points,Te=[],Re=this.requireSorting,Le=ne.length===ge.length;let $e,nt,Qe,We=!0;if(this.xIncrement=null,ne.forEach(function(xe,Ie){var Be=j(xe)&&this.pointClass.prototype.optionsToObject.call({series:this},xe)||{};const Xe=Be.x;Be.id||Y(Xe)?(Be=this.findPointIndex(Be,Qe),Be===-1||typeof Be>"u"?Te.push(xe):ge[Be]&&xe!==_e.data[Be]?(ge[Be].update(xe,!1,null,!1),ge[Be].touched=!0,Re&&(Qe=Be+1)):ge[Be]&&(ge[Be].touched=!0),(!Le||Ie!==Be||oe&&oe.enabled||this.hasDerivedData)&&($e=!0)):Te.push(xe)},this),$e)for(ne=ge.length;ne--;)(nt=ge[ne])&&!nt.touched&&nt.remove&&nt.remove(!1,ve);else!Le||oe&&oe.enabled?We=!1:(ne.forEach(function(xe,Ie){xe===ge[Ie].y||ge[Ie].destroyed||ge[Ie].update(xe,!1,null,!1)}),Te.length=0);return ge.forEach(function(xe){xe&&(xe.touched=!1)}),We?(Te.forEach(function(xe){this.addPoint(xe,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=E(this.xData),this.autoIncrement()),!0):!1}setData(ne,ve=!0,_e,oe){var ge;const Te=this,Re=Te.points,Le=Re&&Re.length||0,$e=Te.options,nt=Te.chart,Qe=$e.dataSorting,We=Te.xAxis,xe=$e.turboThreshold,Ie=this.xData,Be=this.yData;var Xe=Te.pointArrayMap;Xe=Xe&&Xe.length;const Ze=$e.keys;let ft,Ct=0,Nt=1,pi=null;if(!nt.options.chart.allowMutatingData){$e.data&&delete Te.options.data,Te.userOptions.data&&delete Te.userOptions.data;var qt=le(!0,ne)}if(ne=qt||ne||[],qt=ne.length,Qe&&Qe.enabled&&(ne=this.sortData(ne)),nt.options.chart.allowMutatingData&&oe!==!1&&qt&&Le&&!Te.cropped&&!Te.hasGroupedData&&Te.visible&&!Te.boosted&&(ft=this.updateData(ne,_e)),!ft){if(Te.xIncrement=null,Te.colorCounter=0,this.parallelArrays.forEach(function(fi){Te[fi+"Data"].length=0}),xe&&qt>xe)if(pi=Te.getFirstValidPoint(ne),Y(pi))for(_e=0;_e<qt;_e++)Ie[_e]=this.autoIncrement(),Be[_e]=ne[_e];else if(X(pi))if(Xe)if(pi.length===Xe)for(_e=0;_e<qt;_e++)Ie[_e]=this.autoIncrement(),Be[_e]=ne[_e];else for(_e=0;_e<qt;_e++)oe=ne[_e],Ie[_e]=oe[0],Be[_e]=oe.slice(1,Xe+1);else if(Ze&&(Ct=Ze.indexOf("x"),Nt=Ze.indexOf("y"),Ct=0<=Ct?Ct:0,Nt=0<=Nt?Nt:1),pi.length===1&&(Nt=0),Ct===Nt)for(_e=0;_e<qt;_e++)Ie[_e]=this.autoIncrement(),Be[_e]=ne[_e][Nt];else for(_e=0;_e<qt;_e++)oe=ne[_e],Ie[_e]=oe[Ct],Be[_e]=oe[Nt];else D(12,!1,nt);else for(_e=0;_e<qt;_e++)oe={series:Te},Te.pointClass.prototype.applyOptions.apply(oe,[ne[_e]]),Te.updateParallelArrays(oe,_e);for(Be&&K(Be[0])&&D(14,!0,nt),Te.data=[],Te.options.data=Te.userOptions.data=ne,_e=Le;_e--;)(ge=Re[_e])===null||ge===void 0||ge.destroy();We&&(We.minRange=We.userMinRange),Te.isDirty=nt.isDirtyBox=!0,Te.isDirtyData=!!Re,_e=!1}$e.legendType==="point"&&(this.processData(),this.generatePoints()),ve&&nt.redraw(_e)}sortData(ne){const ve=this,_e=ve.options.dataSorting.sortKey||"y",oe=function(ge,Te){return j(Te)&&ge.pointClass.prototype.optionsToObject.call({series:ge},Te)||{}};return ne.forEach(function(ge,Te){ne[Te]=oe(ve,ge),ne[Te].index=Te},this),ne.concat().sort((ge,Te)=>(ge=P(_e,ge),Te=P(_e,Te),Te<ge?-1:Te>ge?1:0)).forEach(function(ge,Te){ge.x=Te},this),ve.linkedSeries&&ve.linkedSeries.forEach(function(ge){const Te=ge.options,Re=Te.data;Te.dataSorting&&Te.dataSorting.enabled||!Re||(Re.forEach(function(Le,$e){Re[$e]=oe(ge,Le),ne[$e]&&(Re[$e].x=ne[$e].x,Re[$e].index=$e)}),ge.setData(Re,!1))}),ne}getProcessedData(ne){var ve=this.xAxis,_e=this.options,oe=_e.cropThreshold;const ge=ne||this.getExtremesFromAll||_e.getExtremesFromAll,Te=this.isCartesian;ne=ve&&ve.val2lin,_e=!(!ve||!ve.logarithmic);let Re=0,Le,$e,nt,Qe=this.xData,We=this.yData,xe=this.requireSorting;var Ie=!1;const Be=Qe.length;if(ve&&(Ie=ve.getExtremes(),$e=Ie.min,nt=Ie.max,Ie=!(!ve.categories||ve.names.length)),Te&&this.sorted&&!ge&&(!oe||Be>oe||this.forceCrop)){if(Qe[Be-1]<$e||Qe[0]>nt)Qe=[],We=[];else if(this.yData&&(Qe[0]<$e||Qe[Be-1]>nt)){var Xe=this.cropData(this.xData,this.yData,$e,nt);Qe=Xe.xData,We=Xe.yData,Re=Xe.start,Xe=!0}}for(oe=Qe.length||1;--oe;)ve=_e?ne(Qe[oe])-ne(Qe[oe-1]):Qe[oe]-Qe[oe-1],0<ve&&(typeof Le>"u"||ve<Le)?Le=ve:0>ve&&xe&&!Ie&&(D(15,!1,this.chart),xe=!1);return{xData:Qe,yData:We,cropped:Xe,cropStart:Re,closestPointRange:Le}}processData(ne){const ve=this.xAxis;if(this.isCartesian&&!this.isDirty&&!ve.isDirty&&!this.yAxis.isDirty&&!ne)return!1;ne=this.getProcessedData(),this.cropped=ne.cropped,this.cropStart=ne.cropStart,this.processedXData=ne.xData,this.processedYData=ne.yData,this.closestPointRange=this.basePointRange=ne.closestPointRange,x(this,"afterProcessData")}cropData(ne,ve,_e,oe,ge){const Te=ne.length;let Re,Le=0,$e=Te;for(ge=fe(ge,this.cropShoulder),Re=0;Re<Te;Re++)if(ne[Re]>=_e){Le=Math.max(0,Re-ge);break}for(_e=Re;_e<Te;_e++)if(ne[_e]>oe){$e=_e+ge;break}return{xData:ne.slice(Le,$e),yData:ve.slice(Le,$e),start:Le,end:$e}}generatePoints(){var ne=this.options;const ve=this.processedData||ne.data,_e=this.processedXData,oe=this.processedYData,ge=this.pointClass,Te=_e.length,Re=this.cropStart||0,Le=this.hasGroupedData,$e=ne.keys,nt=[];ne=ne.dataGrouping&&ne.dataGrouping.groupAll?Re:0;let Qe,We,xe,Ie=this.data;if(!Ie&&!Le){var Be=[];Be.length=ve.length,Ie=this.data=Be}for($e&&Le&&(this.options.keys=!1),xe=0;xe<Te;xe++)Be=Re+xe,Le?(We=new ge().init(this,[_e[xe]].concat(Q(oe[xe]))),We.dataGroup=this.groupMap[ne+xe],We.dataGroup.options&&(We.options=We.dataGroup.options,m(We,We.dataGroup.options),delete We.dataLabels)):(We=Ie[Be])||typeof ve[Be]>"u"||(Ie[Be]=We=new ge().init(this,ve[Be],_e[xe])),We&&(We.index=Le?ne+xe:Be,nt[xe]=We);if(this.options.keys=$e,Ie&&(Te!==(Qe=Ie.length)||Le))for(xe=0;xe<Qe;xe++)xe!==Re||Le||(xe+=Te),Ie[xe]&&(Ie[xe].destroyElements(),Ie[xe].plotX=void 0);this.data=Ie,this.points=nt,x(this,"afterGeneratePoints")}getXExtremes(ne){return{min:ie(ne),max:E(ne)}}getExtremes(ne,ve){const _e=this.xAxis;var oe=this.yAxis;const ge=this.processedXData||this.xData,Te=[],Re=this.requireSorting?this.cropShoulder:0;oe=oe?oe.positiveValuesOnly:!1;let Le,$e=0,nt=0,Qe=0;ne=ne||this.stackedYData||this.processedYData||[];const We=ne.length;if(_e){var xe=_e.getExtremes();$e=xe.min,nt=xe.max}for(Le=0;Le<We;Le++){var Ie=ge[Le];xe=ne[Le];var Be=(Y(xe)||X(xe))&&(xe.length||0<xe||!oe);if(Ie=ve||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!_e||(ge[Le+Re]||Ie)>=$e&&(ge[Le-Re]||Ie)<=nt,Be&&Ie)if(Be=xe.length)for(;Be--;)Y(xe[Be])&&(Te[Qe++]=xe[Be]);else Te[Qe++]=xe}return ne={activeYData:Te,dataMin:ie(Te),dataMax:E(Te)},x(this,"afterGetExtremes",{dataExtremes:ne}),ne}applyExtremes(){const ne=this.getExtremes();return this.dataMin=ne.dataMin,this.dataMax=ne.dataMax,ne}getFirstValidPoint(ne){const ve=ne.length;let _e=0,oe=null;for(;oe===null&&_e<ve;)oe=ne[_e],_e++;return oe}translate(){var ne;this.processedXData||this.processData(),this.generatePoints();const ve=this.options,_e=ve.stacking,oe=this.xAxis,ge=oe.categories,Te=this.enabledDataSorting,Re=this.yAxis,Le=this.points,$e=Le.length,nt=this.pointPlacementToXValue(),Qe=!!nt,We=ve.threshold,xe=ve.startFromThreshold?We:0,Ie=this.zoneAxis||"y";let Be,Xe,Ze,ft,Ct=Number.MAX_VALUE;for(Be=0;Be<$e;Be++){const Nt=Le[Be],pi=Nt.x;let qt,fi,Gi=Nt.y,dt=Nt.low;const Lt=_e&&((ne=Re.stacking)===null||ne===void 0?void 0:ne.stacks[(this.negStacks&&Gi<(xe?0:We)?"-":"")+this.stackKey]);Xe=oe.translate(pi,!1,!1,!1,!0,nt),Nt.plotX=Y(Xe)?V(ee(Xe,-1e5,1e5)):void 0,_e&&this.visible&&Lt&&Lt[pi]&&(ft=this.getStackIndicator(ft,pi,this.index),!Nt.isNull&&ft.key&&(qt=Lt[pi],fi=qt.points[ft.key]),qt&&X(fi)&&(dt=fi[0],Gi=fi[1],dt===xe&&ft.key===Lt[pi].base&&(dt=fe(Y(We)?We:Re.min)),Re.positiveValuesOnly&&j(dt)&&0>=dt&&(dt=void 0),Nt.total=Nt.stackTotal=fe(qt.total),Nt.percentage=j(Nt.y)&&qt.total?Nt.y/qt.total*100:void 0,Nt.stackY=Gi,this.irregularWidths||qt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Nt.yBottom=j(dt)?ee(Re.translate(dt,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(Gi=this.dataModify.modifyValue(Gi,Be));let ei;Y(Gi)&&Nt.plotX!==void 0&&(ei=Re.translate(Gi,!1,!0,!1,!0),ei=Y(ei)?ee(ei,-1e5,1e5):void 0),Nt.plotY=ei,Nt.isInside=this.isPointInside(Nt),Nt.clientX=Qe?V(oe.translate(pi,!1,!1,!1,!0,nt)):Xe,Nt.negative=Nt[Ie]<(ve[Ie+"Threshold"]||We||0),Nt.category=fe(ge&&ge[Nt.x],Nt.x),Nt.isNull||Nt.visible===!1||(typeof Ze<"u"&&(Ct=Math.min(Ct,Math.abs(Xe-Ze))),Ze=Xe),Nt.zone=this.zones.length?Nt.getZone():void 0,!Nt.graphic&&this.group&&Te&&(Nt.isNew=!0)}this.closestPointRangePx=Ct,x(this,"afterTranslate")}getValidPoints(ne,ve,_e){const oe=this.chart;return(ne||this.points||[]).filter(function(ge){const{plotX:Te,plotY:Re}=ge;return!_e&&(ge.isNull||!Y(Re))||ve&&!oe.isInsidePlot(Te,Re,{inverted:oe.inverted})?!1:ge.visible!==!1})}getClipBox(){const{chart:ne,xAxis:ve,yAxis:_e}=this,oe=le(ne.clipBox);return ve&&ve.len!==ne.plotSizeX&&(oe.width=ve.len),_e&&_e.len!==ne.plotSizeY&&(oe.height=_e.len),oe}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:ne,group:ve,markerGroup:_e}=this,oe=ne.sharedClips,ge=ne.renderer,Te=this.getClipBox(),Re=this.getSharedClipKey();let Le=oe[Re];Le?Le.animate(Te):oe[Re]=Le=ge.clipRect(Te),ve&&ve.clip(this.options.clip===!1?void 0:Le),_e&&_e.clip()}animate(ne){const{chart:ve,group:_e,markerGroup:oe}=this,ge=ve.inverted;var Te=O(this.options.animation),Re=[this.getSharedClipKey(),Te.duration,Te.easing,Te.defer].join();let Le=ve.sharedClips[Re],$e=ve.sharedClips[Re+"m"];if(ne&&_e)Te=this.getClipBox(),Le?Le.attr("height",Te.height):(Te.width=0,ge&&(Te.x=ve.plotHeight),Le=ve.renderer.clipRect(Te),ve.sharedClips[Re]=Le,$e=ve.renderer.clipRect({x:-99,y:-99,width:ge?ve.plotWidth+199:99,height:ge?99:ve.plotHeight+199}),ve.sharedClips[Re+"m"]=$e),_e.clip(Le),oe&&oe.clip($e);else if(Le&&!Le.hasClass("highcharts-animating")){Re=this.getClipBox();const nt=Te.step;oe&&oe.element.childNodes.length&&(Te.step=function(Qe,We){nt&&nt.apply(We,arguments),We.prop==="width"&&$e&&$e.element&&$e.attr(ge?"height":"width",Qe+99)}),Le.addClass("highcharts-animating").animate(Re,Te)}}afterAnimate(){this.setClip(),pe(this.chart.sharedClips,(ne,ve,_e)=>{ne&&!this.chart.container.querySelector(`[clip-path="url(#${ne.id})"]`)&&(ne.destroy(),delete _e[ve])}),this.finishedAnimating=!0,x(this,"afterAnimate")}drawPoints(ne=this.points){const ve=this.chart,_e=ve.styledMode,{colorAxis:oe,options:ge}=this,Te=ge.marker,Re=this[this.specialGroup||"markerGroup"],Le=this.xAxis,$e=fe(Te.enabled,!Le||Le.isRadial?!0:null,this.closestPointRangePx>=Te.enabledThreshold*Te.radius);let nt,Qe,We,xe,Ie,Be;if(Te.enabled!==!1||this._hasPointMarkers)for(nt=0;nt<ne.length;nt++){Qe=ne[nt],xe=(We=Qe.graphic)?"animate":"attr";var Xe=Qe.marker||{};if(Ie=!!Qe.marker,($e&&typeof Xe.enabled>"u"||Xe.enabled)&&!Qe.isNull&&Qe.visible!==!1){const Ze=fe(Xe.symbol,this.symbol,"rect");Be=this.markerAttribs(Qe,Qe.selected&&"select"),this.enabledDataSorting&&(Qe.startXPos=Le.reversed?-(Be.width||0):Le.width);const ft=Qe.isInside!==!1;!We&&ft&&(0<(Be.width||0)||Qe.hasImage)&&(Qe.graphic=We=ve.renderer.symbol(Ze,Be.x,Be.y,Be.width,Be.height,Ie?Xe:Te).add(Re),this.enabledDataSorting&&ve.hasRendered&&(We.attr({x:Qe.startXPos}),xe="animate")),We&&xe==="animate"&&We[ft?"show":"hide"](ft).animate(Be),We&&(Xe=this.pointAttribs(Qe,_e||!Qe.selected?void 0:"select"),_e?oe&&We.css({fill:Xe.fill}):We[xe](Xe)),We&&We.addClass(Qe.getClassName(),!0)}else We&&(Qe.graphic=We.destroy())}}markerAttribs(ne,ve){const _e=this.options;var oe=_e.marker;const ge=ne.marker||{},Te=ge.symbol||oe.symbol,Re={};let Le=fe(ge.radius,oe&&oe.radius);return ve&&(oe=oe.states[ve],ve=ge.states&&ge.states[ve],Le=fe(ve&&ve.radius,oe&&oe.radius,Le&&Le+(oe&&oe.radiusPlus||0))),ne.hasImage=Te&&Te.indexOf("url")===0,ne.hasImage&&(Le=0),ne=ne.pos(),Y(Le)&&ne&&(Re.x=ne[0]-Le,Re.y=ne[1]-Le,_e.crisp&&(Re.x=Math.floor(Re.x))),Le&&(Re.width=Re.height=2*Le),Re}pointAttribs(ne,ve){var _e=this.options.marker,oe=ne&&ne.options;const ge=oe&&oe.marker||{};var Te=oe&&oe.color,Re=ne&&ne.color;const Le=ne&&ne.zone&&ne.zone.color;let $e=this.color;return ne=fe(ge.lineWidth,_e.lineWidth),oe=1,$e=Te||Le||Re||$e,Te=ge.fillColor||_e.fillColor||$e,Re=ge.lineColor||_e.lineColor||$e,ve=ve||"normal",_e=_e.states[ve]||{},ve=ge.states&&ge.states[ve]||{},ne=fe(ve.lineWidth,_e.lineWidth,ne+fe(ve.lineWidthPlus,_e.lineWidthPlus,0)),Te=ve.fillColor||_e.fillColor||Te,Re=ve.lineColor||_e.lineColor||Re,oe=fe(ve.opacity,_e.opacity,oe),{stroke:Re,"stroke-width":ne,fill:Te,opacity:oe}}destroy(ne){const ve=this,_e=ve.chart,oe=/AppleWebKit\/533/.test(H.navigator.userAgent),ge=ve.data||[];let Te,Re,Le,$e;for(x(ve,"destroy",{keepEventsForUpdate:ne}),this.removeEvents(ne),(ve.axisTypes||[]).forEach(function(nt){($e=ve[nt])&&$e.series&&(w($e.series,ve),$e.isDirty=$e.forceRedraw=!0)}),ve.legendItem&&ve.chart.legend.destroyItem(ve),Re=ge.length;Re--;)(Le=ge[Re])&&Le.destroy&&Le.destroy();ve.clips&&ve.clips.forEach(nt=>nt.destroy()),W.clearTimeout(ve.animationTimeout),pe(ve,function(nt,Qe){nt instanceof B&&!nt.survive&&(Te=oe&&Qe==="group"?"hide":"destroy",nt[Te]())}),_e.hoverSeries===ve&&(_e.hoverSeries=void 0),w(_e.series,ve),_e.orderSeries(),pe(ve,function(nt,Qe){ne&&Qe==="hcEvents"||delete ve[Qe]})}applyZones(){const ne=this,ve=this.chart,_e=ve.renderer,oe=this.zones,ge=this.clips||[],Te=this.graph,Re=this.area,Le=Math.max(ve.plotWidth,ve.plotHeight),$e=this[(this.zoneAxis||"y")+"Axis"],nt=ve.inverted;let Qe,We,xe,Ie,Be,Xe,Ze,ft,Ct,Nt,pi,qt=!1;oe.length&&(Te||Re)&&$e&&typeof $e.min<"u"?(Be=$e.reversed,Xe=$e.horiz,Te&&!this.showLine&&Te.hide(),Re&&Re.hide(),Ie=$e.getExtremes(),oe.forEach(function(fi,Gi){Qe=Be?Xe?ve.plotWidth:0:Xe?0:$e.toPixels(Ie.min)||0,Qe=ee(fe(We,Qe),0,Le),We=ee(Math.round($e.toPixels(fe(fi.value,Ie.max),!0)||0),0,Le),qt&&(Qe=We=$e.toPixels(Ie.max)),Ze=Math.abs(Qe-We),ft=Math.min(Qe,We),Ct=Math.max(Qe,We),$e.isXAxis?(xe={x:nt?Ct:ft,y:0,width:Ze,height:Le},Xe||(xe.x=ve.plotHeight-xe.x)):(xe={x:0,y:nt?Ct:ft,width:Le,height:Ze},Xe&&(xe.y=ve.plotWidth-xe.y)),ge[Gi]?ge[Gi].animate(xe):ge[Gi]=_e.clipRect(xe),Nt=ne["zone-area-"+Gi],pi=ne["zone-graph-"+Gi],Te&&pi&&pi.clip(ge[Gi]),Re&&Nt&&Nt.clip(ge[Gi]),qt=fi.value>Ie.max,ne.resetZones&&We===0&&(We=void 0)}),this.clips=ge):ne.visible&&(Te&&Te.show(),Re&&Re.show())}plotGroup(ne,ve,_e,oe,ge){let Te=this[ne];const Re=!Te;return _e={visibility:_e,zIndex:oe||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(_e.opacity=this.opacity),Re&&(this[ne]=Te=this.chart.renderer.g().add(ge)),Te.addClass("highcharts-"+ve+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(j(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Te.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Te.attr(_e)[Re?"attr":"animate"](this.getPlotBox(ve)),Te}getPlotBox(ne){let ve=this.xAxis,_e=this.yAxis;const oe=this.chart;return ne=oe.inverted&&!oe.polar&&ve&&this.invertible!==!1&&ne==="series",oe.inverted&&(ve=_e,_e=this.xAxis),{translateX:ve?ve.left:oe.plotLeft,translateY:_e?_e.top:oe.plotTop,rotation:ne?90:0,rotationOriginX:ne?(ve.len-_e.len)/2:0,rotationOriginY:ne?(ve.len+_e.len)/2:0,scaleX:ne?-1:1,scaleY:1}}removeEvents(ne){ne||z(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ve){ve()}),this.eventsToUnbind.length=0)}render(){const ne=this;var ve=ne.chart;const _e=ne.options,oe=O(_e.animation),ge=ne.visible?"inherit":"hidden",Te=_e.zIndex,Re=ne.hasRendered;ve=ve.seriesGroup;let Le=ne.finishedAnimating?0:oe.duration;x(this,"render"),ne.plotGroup("group","series",ge,Te,ve),ne.markerGroup=ne.plotGroup("markerGroup","markers",ge,Te,ve),_e.clip!==!1&&ne.setClip(),ne.animate&&Le&&ne.animate(!0),ne.drawGraph&&(ne.drawGraph(),ne.applyZones()),ne.visible&&ne.drawPoints(),ne.drawDataLabels&&ne.drawDataLabels(),ne.redrawPoints&&ne.redrawPoints(),ne.drawTracker&&ne.options.enableMouseTracking!==!1&&ne.drawTracker(),ne.animate&&Le&&ne.animate(),Re||(Le&&oe.defer&&(Le+=oe.defer),ne.animationTimeout=se(function(){ne.afterAnimate()},Le||0)),ne.isDirty=!1,ne.hasRendered=!0,x(ne,"afterRender")}redraw(){const ne=this.isDirty||this.isDirtyData;this.translate(),this.render(),ne&&delete this.kdTree}searchPoint(ne,ve){const _e=this.xAxis,oe=this.yAxis,ge=this.chart.inverted;return this.searchKDTree({clientX:ge?_e.len-ne.chartY+_e.pos:ne.chartX-_e.pos,plotY:ge?oe.len-ne.chartX+oe.pos:ne.chartY-oe.pos},ve,ne)}buildKDTree(ne){function ve(ge,Te,Re){var Le=ge&&ge.length;let $e;if(Le)return $e=_e.kdAxisArray[Te%Re],ge.sort(function(nt,Qe){return nt[$e]-Qe[$e]}),Le=Math.floor(Le/2),{point:ge[Le],left:ve(ge.slice(0,Le),Te+1,Re),right:ve(ge.slice(Le+1),Te+1,Re)}}this.buildingKdTree=!0;const _e=this,oe=-1<_e.options.findNearestPointBy.indexOf("y")?2:1;delete _e.kdTree,se(function(){_e.kdTree=ve(_e.getValidPoints(null,!_e.directTouch),oe,oe),_e.buildingKdTree=!1},_e.options.kdNow||ne&&ne.type==="touchstart"?0:1)}searchKDTree(ne,ve,_e){function oe($e,nt,Qe,We){const xe=nt.point;var Ie=ge.kdAxisArray[Qe%We];let Be=xe;var Xe=j($e[Te])&&j(xe[Te])?Math.pow($e[Te]-xe[Te],2):null,Ze=j($e[Re])&&j(xe[Re])?Math.pow($e[Re]-xe[Re],2):null;return Ze=(Xe||0)+(Ze||0),xe.dist=j(Ze)?Math.sqrt(Ze):Number.MAX_VALUE,xe.distX=j(Xe)?Math.sqrt(Xe):Number.MAX_VALUE,Ie=$e[Ie]-xe[Ie],Ze=0>Ie?"left":"right",Xe=0>Ie?"right":"left",nt[Ze]&&(Ze=oe($e,nt[Ze],Qe+1,We),Be=Ze[Le]<Be[Le]?Ze:xe),nt[Xe]&&Math.sqrt(Ie*Ie)<Be[Le]&&($e=oe($e,nt[Xe],Qe+1,We),Be=$e[Le]<Be[Le]?$e:Be),Be}const ge=this,Te=this.kdAxisArray[0],Re=this.kdAxisArray[1],Le=ve?"distX":"dist";if(ve=-1<ge.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(_e),this.kdTree)return oe(ne,this.kdTree,ve,ve)}pointPlacementToXValue(){const{options:{pointPlacement:ne,pointRange:ve},xAxis:_e}=this;let oe=ne;return oe==="between"&&(oe=_e.reversed?-.5:.5),Y(oe)?oe*(ve||_e.pointRange):0}isPointInside(ne){const{chart:ve,xAxis:_e,yAxis:oe}=this;return typeof ne.plotY<"u"&&typeof ne.plotX<"u"&&0<=ne.plotY&&ne.plotY<=(oe?oe.len:ve.plotHeight)&&0<=ne.plotX&&ne.plotX<=(_e?_e.len:ve.plotWidth)}drawTracker(){const ne=this,ve=ne.options,_e=ve.trackByArea,oe=[].concat(_e?ne.areaPath:ne.graphPath),ge=ne.chart,Te=ge.pointer,Re=ge.renderer,Le=ge.options.tooltip.snap,$e=ne.tracker,nt=function(We){ge.hoverSeries!==ne&&ne.onMouseOver()},Qe="rgba(192,192,192,"+(A?1e-4:.002)+")";$e?$e.attr({d:oe}):ne.graph&&(ne.tracker=Re.path(oe).attr({visibility:ne.visible?"inherit":"hidden",zIndex:2}).addClass(_e?"highcharts-tracker-area":"highcharts-tracker-line").add(ne.group),ge.styledMode||ne.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Qe,fill:_e?Qe:"none","stroke-width":ne.graph.strokeWidth()+(_e?0:2*Le)}),[ne.tracker,ne.markerGroup,ne.dataLabelsGroup].forEach(function(We){We&&(We.addClass("highcharts-tracker").on("mouseover",nt).on("mouseout",function(xe){Te.onTrackerMouseOut(xe)}),ve.cursor&&!ge.styledMode&&We.css({cursor:ve.cursor}),S)&&We.on("touchstart",nt)})),x(this,"afterDrawTracker")}addPoint(ne,ve,_e,oe,ge){const Te=this.options,Re=this.data,Le=this.chart;var $e=this.xAxis;$e=$e&&$e.hasNames&&$e.names;const nt=Te.data,Qe=this.xData;let We,xe;ve=fe(ve,!0);const Ie={series:this};this.pointClass.prototype.applyOptions.apply(Ie,[ne]);const Be=Ie.x;if(xe=Qe.length,this.requireSorting&&Be<Qe[xe-1])for(We=!0;xe&&Qe[xe-1]>Be;)xe--;this.updateParallelArrays(Ie,"splice",[xe,0,0]),this.updateParallelArrays(Ie,xe),$e&&Ie.name&&($e[Be]=Ie.name),nt.splice(xe,0,ne),(We||this.processedData)&&(this.data.splice(xe,0,null),this.processData()),Te.legendType==="point"&&this.generatePoints(),_e&&(Re[0]&&Re[0].remove?Re[0].remove(!1):(Re.shift(),this.updateParallelArrays(Ie,"shift"),nt.shift())),ge!==!1&&x(this,"addPoint",{point:Ie}),this.isDirtyData=this.isDirty=!0,ve&&Le.redraw(oe)}removePoint(ne,ve,_e){const oe=this,ge=oe.data,Te=ge[ne],Re=oe.points,Le=oe.chart,$e=function(){Re&&Re.length===ge.length&&Re.splice(ne,1),ge.splice(ne,1),oe.options.data.splice(ne,1),oe.updateParallelArrays(Te||{series:oe},"splice",[ne,1]),Te&&Te.destroy(),oe.isDirty=!0,oe.isDirtyData=!0,ve&&Le.redraw()};L(_e,Le),ve=fe(ve,!0),Te?Te.firePointEvent("remove",null,$e):$e()}remove(ne,ve,_e,oe){function ge(){Te.destroy(oe),Re.isDirtyLegend=Re.isDirtyBox=!0,Re.linkSeries(oe),fe(ne,!0)&&Re.redraw(ve)}const Te=this,Re=Te.chart;_e!==!1?x(Te,"remove",null,ge):ge()}update(ne,ve){ne=$(ne,this.userOptions),x(this,"update",{options:ne});const _e=this,oe=_e.chart;var ge=_e.userOptions;const Te=_e.initialType||_e.type;var Re=oe.options.plotOptions;const Le=U[Te].prototype;var $e=_e.finishedAnimating&&{animation:!1};const nt={};let Qe,We=["eventOptions","navigatorSeries","baseSeries"],xe=ne.type||ge.type||oe.options.chart.type;const Ie=!(this.hasDerivedData||xe&&xe!==this.type||typeof ne.pointStart<"u"||typeof ne.pointInterval<"u"||typeof ne.relativeXValue<"u"||ne.joinBy||ne.mapData||_e.hasOptionChanged("dataGrouping")||_e.hasOptionChanged("pointStart")||_e.hasOptionChanged("pointInterval")||_e.hasOptionChanged("pointIntervalUnit")||_e.hasOptionChanged("keys"));if(xe=xe||Te,Ie&&(We.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),ne.visible!==!1&&We.push("area","graph"),_e.parallelArrays.forEach(function(Be){We.push(Be+"Data")}),ne.data&&(ne.dataSorting&&m(_e.options.dataSorting,ne.dataSorting),this.setData(ne.data,!1))),ne=le(ge,$e,{index:typeof ge.index>"u"?_e.index:ge.index,pointStart:fe(Re&&Re.series&&Re.series.pointStart,ge.pointStart,_e.xData[0])},!Ie&&{data:_e.options.data},ne),Ie&&ne.data&&(ne.data=_e.options.data),We=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(We),We.forEach(function(Be){We[Be]=_e[Be],delete _e[Be]}),Re=!1,U[xe]){if(Re=xe!==_e.type,_e.remove(!1,!1,!1,!0),Re)if(Object.setPrototypeOf)Object.setPrototypeOf(_e,U[xe].prototype);else{$e=Object.hasOwnProperty.call(_e,"hcEvents")&&_e.hcEvents;for(Qe in Le)_e[Qe]=void 0;m(_e,U[xe].prototype),$e?_e.hcEvents=$e:delete _e.hcEvents}}else D(17,!0,oe,{missingModuleFor:xe});if(We.forEach(function(Be){_e[Be]=We[Be]}),_e.init(oe,ne),Ie&&this.points){if(ne=_e.options,ne.visible===!1)nt.graphic=1,nt.dataLabel=1;else if(!_e._hasPointLabels){const{marker:Be,dataLabels:Xe}=ne;ge=ge.marker||{},!Be||Be.enabled!==!1&&ge.symbol===Be.symbol&&ge.height===Be.height&&ge.width===Be.width||(nt.graphic=1),Xe&&Xe.enabled===!1&&(nt.dataLabel=1)}for(const Be of this.points)Be&&Be.series&&(Be.resolveColor(),Object.keys(nt).length&&Be.destroyElements(nt),ne.showInLegend===!1&&Be.legendItem&&oe.legend.destroyItem(Be))}_e.initialType=Te,oe.linkSeries(),Re&&_e.linkedSeries.length&&(_e.isDirtyData=!0),x(this,"afterUpdate"),fe(ve,!0)&&oe.redraw(Ie?void 0:!1)}setName(ne){this.name=this.options.name=this.userOptions.name=ne,this.chart.isDirtyLegend=!0}hasOptionChanged(ne){const ve=this.options[ne],_e=this.chart.options.plotOptions,oe=this.userOptions[ne];return oe?ve!==oe:ve!==fe(_e&&_e[this.type]&&_e[this.type][ne],_e&&_e.series&&_e.series[ne],ve)}onMouseOver(){const ne=this.chart,ve=ne.hoverSeries;ne.pointer.setHoverChartIndex(),ve&&ve!==this&&ve.onMouseOut(),this.options.events.mouseOver&&x(this,"mouseOver"),this.setState("hover"),ne.hoverSeries=this}onMouseOut(){const ne=this.options,ve=this.chart,_e=ve.tooltip,oe=ve.hoverPoint;ve.hoverSeries=null,oe&&oe.onMouseOut(),this&&ne.events.mouseOut&&x(this,"mouseOut"),!_e||this.stickyTracking||_e.shared&&!this.noSharedTooltip||_e.hide(),ve.series.forEach(function(ge){ge.setState("",!0)})}setState(ne,ve){const _e=this;var oe=_e.options;const ge=_e.graph,Te=oe.inactiveOtherPoints,Re=oe.states,Le=fe(Re[ne||"normal"]&&Re[ne||"normal"].animation,_e.chart.options.chart.animation);let $e=oe.lineWidth,nt=0,Qe=oe.opacity;if(ne=ne||"",_e.state!==ne&&([_e.group,_e.markerGroup,_e.dataLabelsGroup].forEach(function(We){We&&(_e.state&&We.removeClass("highcharts-series-"+_e.state),ne&&We.addClass("highcharts-series-"+ne))}),_e.state=ne,!_e.chart.styledMode)){if(Re[ne]&&Re[ne].enabled===!1)return;if(ne&&($e=Re[ne].lineWidth||$e+(Re[ne].lineWidthPlus||0),Qe=fe(Re[ne].opacity,Qe)),ge&&!ge.dashstyle&&Y($e))for(oe={"stroke-width":$e},ge.animate(oe,Le);_e["zone-graph-"+nt];)_e["zone-graph-"+nt].animate(oe,Le),nt+=1;Te||[_e.group,_e.markerGroup,_e.dataLabelsGroup,_e.labelBySeries].forEach(function(We){We&&We.animate({opacity:Qe},Le)})}ve&&Te&&_e.points&&_e.setAllPointsToState(ne||void 0)}setAllPointsToState(ne){this.points.forEach(function(ve){ve.setState&&ve.setState(ne)})}setVisible(ne,ve){const _e=this,oe=_e.chart,ge=oe.options.chart.ignoreHiddenSeries,Te=_e.visible,Re=(_e.visible=ne=_e.options.visible=_e.userOptions.visible=typeof ne>"u"?!Te:ne)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Le){_e[Le]&&_e[Le][Re]()}),(oe.hoverSeries===_e||(oe.hoverPoint&&oe.hoverPoint.series)===_e)&&_e.onMouseOut(),_e.legendItem&&oe.legend.colorizeItem(_e,ne),_e.isDirty=!0,_e.options.stacking&&oe.series.forEach(function(Le){Le.options.stacking&&Le.visible&&(Le.isDirty=!0)}),_e.linkedSeries.forEach(function(Le){Le.setVisible(ne,!1)}),ge&&(oe.isDirtyBox=!0),x(_e,Re),ve!==!1&&oe.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(ne){this.selected=ne=this.options.selected=typeof ne>"u"?!this.selected:ne,this.checkbox&&(this.checkbox.checked=ne),x(this,ne?"select":"unselect")}shouldShowTooltip(ne,ve,_e={}){return _e.series=this,_e.visiblePlotOnly=!0,this.chart.isInsidePlot(ne,ve,_e)}drawLegendSymbol(ne,ve){var _e;(_e=v[this.options.legendSymbol||"rectangle"])===null||_e===void 0||_e.call(this,ne,ve)}}return de.defaultOptions=J,de.types=M.seriesTypes,de.registerType=M.registerSeriesType,m(de.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:I,requireSorting:!0,sorted:!0}),M.series=de,de}),i(r,"Extensions/ScrollablePlotArea.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Chart/Chart.js"],r["Core/Series/Series.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(o,u,h,s,v,I){const{stop:J}=o,{addEvent:M,createElement:B,defined:W,merge:O,pick:L}=I;M(h,"afterSetChartSize",function(G){var k=this.options.chart.scrollablePlotArea,S=k&&k.minWidth;k=k&&k.minHeight;let A;this.renderer.forExport||(S?(this.scrollablePixelsX=S=Math.max(0,S-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.width=this.plotWidth+=S,this.inverted?this.clipBox.height+=S:this.clipBox.width+=S,A={1:{name:"right",value:S}}):k&&(this.scrollablePixelsY=S=Math.max(0,k-this.chartHeight),W(S)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.height=this.plotHeight+=S,this.inverted?this.clipBox.width+=S:this.clipBox.height+=S,A={2:{name:"bottom",value:S}})),A&&!G.skipAxes&&this.axes.forEach(function(H){A[H.side]?H.getPlotLinePath=function(){let U=A[H.side].name,E=this[U],ie;return this[U]=E-A[H.side].value,ie=u.prototype.getPlotLinePath.apply(this,arguments),this[U]=E,ie}:(H.setAxisSize(),H.setAxisTranslation())}))}),M(h,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),h.prototype.setUpScrolling=function(){const G={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(G.overflowX="auto"),this.scrollablePixelsY&&(G.overflowY="auto"),this.scrollingParent=B("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=B("div",{className:"highcharts-scrolling"},G,this.scrollingParent);let k;M(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(k=this.hoverPoint),this.pointer.runPointActions(void 0,k,!0))}),this.innerContainer=B("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},h.prototype.moveFixedElements=function(){let G=this.container,k=this.fixedRenderer,S=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),A;this.scrollablePixelsX&&!this.inverted?A=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?A=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(A=".highcharts-yaxis"),A&&S.push(`${A}:not(.highcharts-radial-axis)`,`${A}-labels:not(.highcharts-radial-axis-labels)`),S.forEach(function(H){[].forEach.call(G.querySelectorAll(H),function(U){(U.namespaceURI===k.SVG_NS?k.box:k.box.parentNode).appendChild(U),U.style.pointerEvents="auto"})})},h.prototype.applyFixed=function(){var G=!this.fixedDiv,k=this.options.chart,S=k.scrollablePlotArea,A=v.getRendererType();G?(this.fixedDiv=B("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(k.style&&k.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=k=new A(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=k.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":L(S.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),M(this,"afterShowResetZoom",this.moveFixedElements),M(this,"afterApplyDrilldown",this.moveFixedElements),M(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||G)&&(this.scrollableDirty=!1,this.moveFixedElements()),k=this.chartWidth+(this.scrollablePixelsX||0),A=this.chartHeight+(this.scrollablePixelsY||0),J(this.container),this.container.style.width=k+"px",this.container.style.height=A+"px",this.renderer.boxWrapper.attr({width:k,height:A,viewBox:[0,0,k,A].join(" ")}),this.chartBackground.attr({width:k,height:A}),this.scrollingContainer.style.height=this.chartHeight+"px",G&&(S.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*S.scrollPositionX),S.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*S.scrollPositionY)),A=this.axisOffset,G=this.plotTop-A[0]-1,S=this.plotLeft-A[3]-1,k=this.plotTop+this.plotHeight+A[2]+1,A=this.plotLeft+this.plotWidth+A[1]+1;let H=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),U=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);G=this.scrollablePixelsX?[["M",0,G],["L",this.plotLeft-1,G],["L",this.plotLeft-1,k],["L",0,k],["Z"],["M",H,G],["L",this.chartWidth,G],["L",this.chartWidth,k],["L",H,k],["Z"]]:this.scrollablePixelsY?[["M",S,0],["L",S,this.plotTop-1],["L",A,this.plotTop-1],["L",A,0],["Z"],["M",S,U],["L",S,this.chartHeight],["L",A,this.chartHeight],["L",A,U],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:G})},M(u,"afterInit",function(){this.chart.scrollableDirty=!0}),M(s,"show",function(){this.chart.scrollableDirty=!0})}),i(r,"Core/Axis/Stacking/StackItem.js",[r["Core/FormatUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,u,h){const{format:s}=o,{series:v}=u,{destroyObjectProperties:I,fireEvent:J,isNumber:M,pick:B}=h;class W{constructor(L,G,k,S,A){const H=L.chart.inverted,U=L.reversed;this.axis=L,L=this.isNegative=!!k!=!!U,this.options=G=G||{},this.x=S,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=A,this.rightCliff=this.leftCliff=0,this.alignOptions={align:G.align||(H?L?"left":"right":"center"),verticalAlign:G.verticalAlign||(H?"middle":L?"bottom":"top"),y:G.y,x:G.x},this.textAlign=G.textAlign||(H?L?"right":"left":"center")}destroy(){I(this,this.axis)}render(L){const G=this.axis.chart,k=this.options;var S=k.format;S=S?s(S,this,G):k.formatter.call(this),this.label?this.label.attr({text:S,visibility:"hidden"}):(this.label=G.renderer.label(S,null,void 0,k.shape,void 0,void 0,k.useHTML,!1,"stack-labels"),S={r:k.borderRadius||0,text:S,padding:B(k.padding,5),visibility:"hidden"},G.styledMode||(S.fill=k.backgroundColor,S.stroke=k.borderColor,S["stroke-width"]=k.borderWidth,this.label.css(k.style||{})),this.label.attr(S),this.label.added||this.label.add(L)),this.label.labelrank=G.plotSizeY,J(this,"afterRender")}setOffset(L,G,k,S,A,H){const{alignOptions:U,axis:E,label:ie,options:ee,textAlign:$}=this,V=E.chart;k=this.getStackBox({xOffset:L,width:G,boxBottom:k,boxTop:S,defaultX:A,xAxis:H});var{verticalAlign:j}=U;if(ie&&k){S=ie.getBBox(),A=ie.padding,H=B(ee.overflow,"justify")==="justify",U.x=ee.x||0,U.y=ee.y||0;const{x:w,y:D}=this.adjustStackPosition({labelBox:S,verticalAlign:j,textAlign:$});k.x-=w,k.y-=D,ie.align(U,!1,k),(j=V.isInsidePlot(ie.alignAttr.x+U.x+w,ie.alignAttr.y+U.y+D))||(H=!1),H&&v.prototype.justifyDataLabel.call(E,ie,U,ie.alignAttr,S,k),ie.attr({x:ie.alignAttr.x,y:ie.alignAttr.y,rotation:ee.rotation,rotationOriginX:S.width/2,rotationOriginY:S.height/2}),B(!H&&ee.crop,!0)&&(j=M(ie.x)&&M(ie.y)&&V.isInsidePlot(ie.x-A+ie.width,ie.y)&&V.isInsidePlot(ie.x+A,ie.y)),ie[j?"show":"hide"]()}J(this,"afterSetOffset",{xOffset:L,width:G})}adjustStackPosition({labelBox:L,verticalAlign:G,textAlign:k}){const S={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:L.width/2+L.width/2*S[k],y:L.height/2*S[G]}}getStackBox(L){var G=this.axis;const k=G.chart,{boxTop:S,defaultX:A,xOffset:H,width:U,boxBottom:E}=L;var ie=G.stacking.usePercentage?100:B(S,this.total,0);ie=G.toPixels(ie),L=L.xAxis||k.xAxis[0];const ee=B(A,L.translate(this.x))+H;G=G.toPixels(E||M(G.min)&&G.logarithmic&&G.logarithmic.lin2log(G.min)||0),G=Math.abs(ie-G);const $=this.isNegative;return k.inverted?{x:($?ie:ie-G)-k.plotLeft,y:L.height-ee-U,width:G,height:U}:{x:ee+L.transB-k.plotLeft,y:($?ie-G:ie)-k.plotTop,width:U,height:G}}}return W}),i(r,"Core/Axis/Stacking/StackingAxis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Utilities.js"]],function(o,u,h,s,v){function I(){const m=this,g=m.inverted;m.yAxis.forEach(x=>{x.stacking&&x.stacking.stacks&&x.hasVisibleSeries&&(x.stacking.oldStacks=x.stacking.stacks)}),m.series.forEach(x=>{const P=x.xAxis&&x.xAxis.options||{};!x.options.stacking||x.visible!==!0&&m.options.chart.ignoreHiddenSeries!==!1||(x.stackKey=[x.type,j(x.options.stack,""),g?P.top:P.left,g?P.height:P.width].join())})}function J(){const m=this.stacking;if(m){var g=m.stacks;V(g,function(x,P){E(x),g[P]=null}),m&&m.stackTotalGroup&&m.stackTotalGroup.destroy()}}function M(){this.coll!=="yAxis"||this.stacking||(this.stacking=new w(this))}function B(m,g,x,P){return!U(m)||m.x!==g||P&&m.stackKey!==P?m={x:g,index:0,key:P,stackKey:P}:m.index++,m.key=[x,g,m.index].join(),m}function W(){const m=this,g=m.stackKey,x=m.yAxis.stacking.stacks,P=m.processedXData,X=m[m.options.stacking+"Stacker"];let Y;X&&[g,"-"+g].forEach(K=>{let le=P.length,pe;for(;le--;){var fe=P[le];Y=m.getStackIndicator(Y,fe,m.index,K),(pe=(fe=x[K]&&x[K][fe])&&fe.points[Y.key])&&X.call(m,pe,fe,le)}})}function O(m,g,x){g=g.total?100/g.total:0,m[0]=H(m[0]*g),m[1]=H(m[1]*g),this.stackedYData[x]=m[1]}function L(){const m=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?S.setStackedPoints.call(this,"group"):m&&V(m.stacks,(g,x)=>{x.slice(-5)==="group"&&(V(g,P=>P.destroy()),delete m.stacks[x])})}function G(m){var g=this.chart;const x=m||this.options.stacking;if(x&&(this.visible===!0||g.options.chart.ignoreHiddenSeries===!1)){var P=this.processedXData,X=this.processedYData,Y=[],K=X.length,le=this.options,pe=le.threshold,fe=j(le.startFromThreshold&&pe,0);le=le.stack,m=m?`${this.type},${x}`:this.stackKey;var z="-"+m,Q=this.negStacks;g=x==="group"?g.yAxis[0]:this.yAxis;var se=g.stacking.stacks,de=g.stacking.oldStacks,Ce,ne;for(g.stacking.stacksTouched+=1,ne=0;ne<K;ne++){var ve=P[ne],_e=X[ne],oe=this.getStackIndicator(oe,ve,this.index),ge=oe.key,Te=(Ce=Q&&_e<(fe?0:pe))?z:m;se[Te]||(se[Te]={}),se[Te][ve]||(de[Te]&&de[Te][ve]?(se[Te][ve]=de[Te][ve],se[Te][ve].total=null):se[Te][ve]=new s(g,g.options.stackLabels,!!Ce,ve,le)),Te=se[Te][ve],_e!==null?(Te.points[ge]=Te.points[this.index]=[j(Te.cumulative,fe)],U(Te.cumulative)||(Te.base=ge),Te.touched=g.stacking.stacksTouched,0<oe.index&&this.singleStacks===!1&&(Te.points[ge][0]=Te.points[this.index+","+ve+",0"][0])):Te.points[ge]=Te.points[this.index]=null,x==="percent"?(Ce=Ce?m:z,Q&&se[Ce]&&se[Ce][ve]?(Ce=se[Ce][ve],Te.total=Ce.total=Math.max(Ce.total,Te.total)+Math.abs(_e)||0):Te.total=H(Te.total+(Math.abs(_e)||0))):x==="group"?(ee(_e)&&(_e=_e[0]),_e!==null&&(Te.total=(Te.total||0)+1)):Te.total=H(Te.total+(_e||0)),Te.cumulative=x==="group"?(Te.total||1)-1:H(j(Te.cumulative,fe)+(_e||0)),_e!==null&&(Te.points[ge].push(Te.cumulative),Y[ne]=Te.cumulative,Te.hasValidPoints=!0)}x==="percent"&&(g.stacking.usePercentage=!0),x!=="group"&&(this.stackedYData=Y),g.stacking.oldStacks={}}}const{getDeferredAnimation:k}=o,{series:{prototype:S}}=h,{addEvent:A,correctFloat:H,defined:U,destroyObjectProperties:E,fireEvent:ie,isArray:ee,isNumber:$,objectEach:V,pick:j}=v;class w{constructor(g){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=g}buildStacks(){const g=this.axis,x=g.series,P=g.options.reversedStacks,X=x.length;let Y,K;for(this.usePercentage=!1,K=X;K--;)Y=x[P?K:X-K-1],Y.setStackedPoints(),Y.setGroupedPoints();for(K=0;K<X;K++)x[K].modifyStacks();ie(g,"afterBuildStacks")}cleanStacks(){let g;this.oldStacks&&(g=this.stacks=this.oldStacks),V(g,function(x){V(x,function(P){P.cumulative=P.total})})}resetStacks(){V(this.stacks,g=>{V(g,(x,P)=>{$(x.touched)&&x.touched<this.stacksTouched?(x.destroy(),delete g[P]):(x.total=null,x.cumulative=null)})})}renderStackTotals(){var g=this.axis;const x=g.chart,P=x.renderer,X=this.stacks;g=k(x,g.options.stackLabels&&g.options.stackLabels.animation||!1);const Y=this.stackTotalGroup=this.stackTotalGroup||P.g("stack-labels").attr({zIndex:6,opacity:0}).add();Y.translate(x.plotLeft,x.plotTop),V(X,function(K){V(K,function(le){le.render(Y)})}),Y.animate({opacity:1},g)}}var D;return function(m){const g=[];m.compose=function(x,P,X){v.pushUnique(g,x)&&(A(x,"init",M),A(x,"destroy",J)),v.pushUnique(g,P)&&(P.prototype.getStacks=I),v.pushUnique(g,X)&&(x=X.prototype,x.getStackIndicator=B,x.modifyStacks=W,x.percentStacker=O,x.setGroupedPoints=L,x.setStackedPoints=G)}}(D||(D={})),D}),i(r,"Series/Line/LineSeries.js",[r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,u,h){const{defined:s,merge:v}=h;class I extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const M=this,B=this.options,W=(this.gappedPath||this.getGraphPath).call(this),O=this.chart.styledMode;let L=[["graph","highcharts-graph"]];O||L[0].push(B.lineColor||this.color||"#cccccc",B.dashStyle),L=M.getZonesGraphs(L),L.forEach(function(G,k){var S=G[0];let A=M[S];const H=A?"animate":"attr";A?(A.endX=M.preventGraphAnimation?null:W.xMap,A.animate({d:W})):W.length&&(M[S]=A=M.chart.renderer.path(W).addClass(G[1]).attr({zIndex:1}).add(M.group)),A&&!O&&(S={stroke:G[2],"stroke-width":B.lineWidth||0,fill:M.fillGraph&&M.color||"none"},G[3]?S.dashstyle=G[3]:B.linecap!=="square"&&(S["stroke-linecap"]=S["stroke-linejoin"]="round"),A[H](S).shadow(2>k&&B.shadow)),A&&(A.startX=W.xMap,A.isArea=W.isArea)})}getGraphPath(M,B,W){const O=this,L=O.options,G=[],k=[];let S,A=L.step;M=M||O.points;const H=M.reversed;return H&&M.reverse(),(A={right:1,center:2}[A]||A&&3)&&H&&(A=4-A),M=this.getValidPoints(M,!1,!(L.connectNulls&&!B&&!W)),M.forEach(function(U,E){const ie=U.plotX,ee=U.plotY,$=M[E-1],V=U.isNull||typeof ee!="number";(U.leftCliff||$&&$.rightCliff)&&!W&&(S=!0),V&&!s(B)&&0<E?S=!L.connectNulls:V&&!B?S=!0:(E===0||S?E=[["M",U.plotX,U.plotY]]:O.getPointSpline?E=[O.getPointSpline(M,U,E)]:A?(E=A===1?[["L",$.plotX,ee]]:A===2?[["L",($.plotX+ie)/2,$.plotY],["L",($.plotX+ie)/2,ee]]:[["L",ie,$.plotY]],E.push(["L",ie,ee])):E=[["L",ie,ee]],k.push(U.x),A&&(k.push(U.x),A===2&&k.push(U.x)),G.push.apply(G,E),S=!1)}),G.xMap=k,O.graphPath=G}getZonesGraphs(M){return this.zones.forEach(function(B,W){W=["zone-graph-"+W,"highcharts-graph highcharts-zone-graph-"+W+" "+(B.className||"")],this.chart.styledMode||W.push(B.color||this.color,B.dashStyle||this.options.dashStyle),M.push(W)},this),M}}return I.defaultOptions=v(o.defaultOptions,{legendSymbol:"lineMarker"}),u.registerSeriesType("line",I),I}),i(r,"Series/Area/AreaSeries.js",[r["Core/Color/Color.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,u,h){const{parse:s}=o,{seriesTypes:{line:v}}=u,{extend:I,merge:J,objectEach:M,pick:B}=h;class W extends v{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const L=this,G=this.areaPath,k=this.options,S=[["area","highcharts-area",this.color,k.fillColor]];this.zones.forEach(function(A,H){S.push(["zone-area-"+H,"highcharts-area highcharts-zone-area-"+H+" "+A.className,A.color||L.color,A.fillColor||k.fillColor])}),S.forEach(function(A){const H=A[0],U={};let E=L[H];const ie=E?"animate":"attr";E?(E.endX=L.preventGraphAnimation?null:G.xMap,E.animate({d:G})):(U.zIndex=0,E=L[H]=L.chart.renderer.path(G).addClass(A[1]).add(L.group),E.isArea=!0),L.chart.styledMode||(U.fill=B(A[3],s(A[2]).setOpacity(B(k.fillOpacity,.75)).get())),E[ie](U),E.startX=G.xMap,E.shiftUnit=k.step?2:1})}getGraphPath(L){var G=v.prototype.getGraphPath,k=this.options;const S=k.stacking,A=this.yAxis,H=[],U=[],E=this.index,ie=A.stacking.stacks[this.stackKey],ee=k.threshold,$=Math.round(A.getThreshold(k.threshold));k=B(k.connectNulls,S==="percent");var V=function(m,g,x){var P=L[m];m=S&&ie[P.x].points[E];const X=P[x+"Null"]||0;x=P[x+"Cliff"]||0;let Y,K;P=!0,x||X?(Y=(X?m[0]:m[1])+x,K=m[0]+x,P=!!X):!S&&L[g]&&L[g].isNull&&(Y=K=ee),typeof Y<"u"&&(U.push({plotX:j,plotY:Y===null?$:A.getThreshold(Y),isNull:P,isCliff:!0}),H.push({plotX:j,plotY:K===null?$:A.getThreshold(K),doCurve:!1}))};let j;L=L||this.points,S&&(L=this.getStackPoints(L));for(let m=0,g=L.length;m<g;++m){S||(L[m].leftCliff=L[m].rightCliff=L[m].leftNull=L[m].rightNull=void 0);var w=L[m].isNull;j=B(L[m].rectPlotX,L[m].plotX);var D=S?B(L[m].yBottom,$):$;(!w||k)&&(k||V(m,m-1,"left"),w&&!S&&k||(U.push(L[m]),H.push({x:m,plotX:j,plotY:D})),k||V(m,m+1,"right"))}return V=G.call(this,U,!0,!0),H.reversed=!0,w=G.call(this,H,!0,!0),(D=w[0])&&D[0]==="M"&&(w[0]=["L",D[1],D[2]]),w=V.concat(w),w.length&&w.push(["Z"]),G=G.call(this,U,!1,k),w.xMap=V.xMap,this.areaPath=w,G}getStackPoints(L){const G=this,k=[],S=[],A=this.xAxis,H=this.yAxis,U=H.stacking.stacks[this.stackKey],E={},ie=H.series,ee=ie.length,$=H.options.reversedStacks?1:-1,V=ie.indexOf(G);if(L=L||this.points,this.options.stacking){for(let w=0;w<L.length;w++)L[w].leftNull=L[w].rightNull=void 0,E[L[w].x]=L[w];M(U,function(w,D){w.total!==null&&S.push(D)}),S.sort(function(w,D){return w-D});const j=ie.map(w=>w.visible);S.forEach(function(w,D){let m=0,g,x;if(E[w]&&!E[w].isNull)k.push(E[w]),[-1,1].forEach(function(P){const X=P===1?"rightNull":"leftNull",Y=U[S[D+P]];let K=0;if(Y){let le=V;for(;0<=le&&le<ee;){const pe=ie[le].index;g=Y.points[pe],g||(pe===G.index?E[w][X]=!0:j[le]&&(x=U[w].points[pe])&&(K-=x[1]-x[0])),le+=$}}E[w][P===1?"rightCliff":"leftCliff"]=K});else{let P=V;for(;0<=P&&P<ee;){if(g=U[w].points[ie[P].index]){m=g[1];break}P+=$}m=B(m,0),m=H.translate(m,0,1,0,1),k.push({isNull:!0,plotX:A.translate(w,0,0,0,1),x:w,plotY:m,yBottom:m})}})}return k}}return W.defaultOptions=J(v.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),I(W.prototype,{singleStacks:!1}),u.registerSeriesType("area",W),W}),i(r,"Series/Spline/SplineSeries.js",[r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,u){const{line:h}=o.seriesTypes,{merge:s,pick:v}=u;class I extends h{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(M,B,W){const O=B.plotX||0,L=B.plotY||0,G=M[W-1];W=M[W+1];let k,S,A;if(G&&!G.isNull&&G.doCurve!==!1&&!B.isCliff&&W&&!W.isNull&&W.doCurve!==!1&&!B.isCliff){M=G.plotY||0;var H=W.plotX||0;W=W.plotY||0;let U=0;k=(1.5*O+(G.plotX||0))/2.5,S=(1.5*L+M)/2.5,H=(1.5*O+H)/2.5,A=(1.5*L+W)/2.5,H!==k&&(U=(A-S)*(H-O)/(H-k)+L-A),S+=U,A+=U,S>M&&S>L?(S=Math.max(M,L),A=2*L-S):S<M&&S<L&&(S=Math.min(M,L),A=2*L-S),A>W&&A>L?(A=Math.max(W,L),S=2*L-A):A<W&&A<L&&(A=Math.min(W,L),S=2*L-A),B.rightContX=H,B.rightContY=A}return B=["C",v(G.rightContX,G.plotX,0),v(G.rightContY,G.plotY,0),v(k,O,0),v(S,L,0),O,L],G.rightContX=G.rightContY=void 0,B}}return I.defaultOptions=s(h.defaultOptions),o.registerSeriesType("spline",I),I}),i(r,"Series/AreaSpline/AreaSplineSeries.js",[r["Series/Spline/SplineSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,u,h){const{area:s,area:{prototype:v}}=u.seriesTypes,{extend:I,merge:J}=h;class M extends o{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return M.defaultOptions=J(o.defaultOptions,s.defaultOptions),I(M.prototype,{getGraphPath:v.getGraphPath,getStackPoints:v.getStackPoints,drawGraph:v.drawGraph}),u.registerSeriesType("areaspline",M),M}),i(r,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),i(r,"Series/Column/ColumnSeries.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Series/Column/ColumnSeriesDefaults.js"],r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,u,h,s,v,I,J){const{animObject:M}=o,{parse:B}=u,{hasTouch:W,noop:O}=s,{clamp:L,defined:G,extend:k,fireEvent:S,isArray:A,isNumber:H,merge:U,pick:E,objectEach:ie}=J;class ee extends v{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(V){const j=this,w=this.yAxis,D=w.pos,m=j.options,g=this.chart.inverted,x={},P=g?"translateX":"translateY";let X;V?(x.scaleY=.001,V=L(w.toPixels(m.threshold),D,D+w.len),g?x.translateX=V-w.len:x.translateY=V,j.clipBox&&j.setClip(),j.group.attr(x)):(X=Number(j.group.attr(P)),j.group.animate({scaleY:1},k(M(j.options.animation),{step:function(Y,K){j.group&&(x[P]=X+K.pos*(D-X),j.group.attr(x))}})))}init(V,j){super.init.apply(this,arguments);const w=this;V=w.chart,V.hasRendered&&V.series.forEach(function(D){D.type===w.type&&(D.isDirty=!0)})}getColumnMetrics(){const V=this;var j=V.options;const w=V.xAxis,D=V.yAxis;var m=w.options.reversedStacks;m=w.reversed&&!m||!w.reversed&&m;const g={};let x,P=0;j.grouping===!1?P=1:V.chart.series.forEach(function(le){const pe=le.yAxis,fe=le.options;let z;le.type!==V.type||!le.visible&&V.chart.options.chart.ignoreHiddenSeries||D.len!==pe.len||D.pos!==pe.pos||(fe.stacking&&fe.stacking!=="group"?(x=le.stackKey,typeof g[x]>"u"&&(g[x]=P++),z=g[x]):fe.grouping!==!1&&(z=P++),le.columnIndex=z)});const X=Math.min(Math.abs(w.transA)*(w.ordinal&&w.ordinal.slope||j.pointRange||w.closestPointRange||w.tickInterval||1),w.len),Y=X*j.groupPadding,K=(X-2*Y)/(P||1);return j=Math.min(j.maxPointWidth||w.len,E(j.pointWidth,K*(1-2*j.pointPadding))),V.columnMetrics={width:j,offset:(K-j)/2+(Y+((V.columnIndex||0)+(m?1:0))*K-X/2)*(m?-1:1),paddedWidth:K,columnCount:P},V.columnMetrics}crispCol(V,j,w,D){var m=this.borderWidth,g=-(m%2?.5:0);return m=m%2?.5:1,this.options.crisp&&(w=Math.round(V+w)+g,V=Math.round(V)+g,w-=V),D=Math.round(j+D)+m,g=.5>=Math.abs(j)&&.5<D,j=Math.round(j)+m,D-=j,g&&D&&(--j,D+=1),{x:V,y:j,width:w,height:D}}adjustForMissingColumns(V,j,w,D){const m=this.options.stacking;if(!w.isNull&&1<D.columnCount){const g=this.yAxis.options.reversedStacks;let x=0,P=g?0:-D.columnCount;ie(this.yAxis.stacking&&this.yAxis.stacking.stacks,X=>{if(typeof w.x=="number"){const Y=X[w.x.toString()];Y&&(X=Y.points[this.index],m?(X&&(x=P),Y.hasValidPoints&&(g?P++:P--)):A(X)&&(X=Object.keys(Y.points).filter(K=>!K.match(",")&&Y.points[K]&&1<Y.points[K].length).map(parseFloat).sort((K,le)=>le-K),x=X.indexOf(this.index),P=X.length))}}),V=(w.plotX||0)+((P-1)*D.paddedWidth+j)/2-j-x*D.paddedWidth}return V}translate(){const V=this,j=V.chart,w=V.options;var D=V.dense=2>V.closestPointRange*V.xAxis.transA;D=V.borderWidth=E(w.borderWidth,D?0:1);const m=V.xAxis,g=V.yAxis,x=w.threshold,P=E(w.minPointLength,5),X=V.getColumnMetrics(),Y=X.width,K=V.pointXOffset=X.offset,le=V.dataMin,pe=V.dataMax;let fe=V.barW=Math.max(Y,1+2*D),z=V.translatedThreshold=g.getThreshold(x);j.inverted&&(z-=.5),w.pointPadding&&(fe=Math.ceil(fe)),v.prototype.translate.apply(V),V.points.forEach(function(Q){const se=E(Q.yBottom,z);var de=999+Math.abs(se),Ce=Q.plotX||0;de=L(Q.plotY,-de,g.len+de);let ne=Math.min(de,se),ve=Math.max(de,se)-ne,_e=Y,oe=Ce+K,ge=fe;P&&Math.abs(ve)<P&&(ve=P,Ce=!g.reversed&&!Q.negative||g.reversed&&Q.negative,H(x)&&H(pe)&&Q.y===x&&pe<=x&&(g.min||0)<x&&(le!==pe||(g.max||0)<=x)&&(Ce=!Ce),ne=Math.abs(ne-z)>P?se-P:z-(Ce?P:0)),G(Q.options.pointWidth)&&(_e=ge=Math.ceil(Q.options.pointWidth),oe-=Math.round((_e-Y)/2)),w.centerInCategory&&(oe=V.adjustForMissingColumns(oe,_e,Q,X)),Q.barX=oe,Q.pointWidth=_e,Q.tooltipPos=j.inverted?[L(g.len+g.pos-j.plotLeft-de,g.pos-j.plotLeft,g.len+g.pos-j.plotLeft),m.len+m.pos-j.plotTop-oe-ge/2,ve]:[m.left-j.plotLeft+oe+ge/2,L(de+g.pos-j.plotTop,g.pos-j.plotTop,g.len+g.pos-j.plotTop),ve],Q.shapeType=V.pointClass.prototype.shapeType||"roundedRect",Q.shapeArgs=V.crispCol(oe,Q.isNull?z:ne,ge,Q.isNull?0:ve)}),S(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(V,j){const w=this.options;var D=this.pointAttrToOptions||{},m=D.stroke||"borderColor";const g=D["stroke-width"]||"borderWidth";let x,P=V&&V.color||this.color,X=V&&V[m]||w[m]||P;D=V&&V.options.dashStyle||w.dashStyle;let Y=V&&V[g]||w[g]||this[g]||0,K=E(V&&V.opacity,w.opacity,1);return V&&this.zones.length&&(x=V.getZone(),P=V.options.color||x&&(x.color||V.nonZonedColor)||this.color,x&&(X=x.borderColor||X,D=x.dashStyle||D,Y=x.borderWidth||Y)),j&&V&&(V=U(w.states[j],V.options.states&&V.options.states[j]||{}),j=V.brightness,P=V.color||typeof j<"u"&&B(P).brighten(V.brightness).get()||P,X=V[m]||X,Y=V[g]||Y,D=V.dashStyle||D,K=E(V.opacity,K)),m={fill:P,stroke:X,"stroke-width":Y,opacity:K},D&&(m.dashstyle=D),m}drawPoints(V=this.points){const j=this,w=this.chart,D=j.options,m=w.renderer,g=D.animationLimit||250;let x;V.forEach(function(P){let X=P.graphic,Y=!!X,K=X&&w.pointCount<g?"animate":"attr";H(P.plotY)&&P.y!==null?(x=P.shapeArgs,X&&P.hasNewShapeType()&&(X=X.destroy()),j.enabledDataSorting&&(P.startXPos=j.xAxis.reversed?-(x&&x.width||0):j.xAxis.width),X||(P.graphic=X=m[P.shapeType](x).add(P.group||j.group))&&j.enabledDataSorting&&w.hasRendered&&w.pointCount<g&&(X.attr({x:P.startXPos}),Y=!0,K="animate"),X&&Y&&X[K](U(x)),w.styledMode||X[K](j.pointAttribs(P,P.selected&&"select")).shadow(P.allowShadow!==!1&&D.shadow),X&&(X.addClass(P.getClassName(),!0),X.attr({visibility:P.visible?"inherit":"hidden"}))):X&&(P.graphic=X.destroy())})}drawTracker(V=this.points){const j=this,w=j.chart,D=w.pointer,m=function(x){const P=D.getPointFromEvent(x);typeof P<"u"&&(D.isDirectTouch=!0,P.onMouseOver(x))};let g;V.forEach(function(x){g=A(x.dataLabels)?x.dataLabels:x.dataLabel?[x.dataLabel]:[],x.graphic&&(x.graphic.element.point=x),g.forEach(function(P){P.div?P.div.point=x:P.element.point=x})}),j._hasTracking||(j.trackerGroups.forEach(function(x){j[x]&&(j[x].addClass("highcharts-tracker").on("mouseover",m).on("mouseout",function(P){D.onTrackerMouseOut(P)}),W&&j[x].on("touchstart",m),!w.styledMode&&j.options.cursor&&j[x].css({cursor:j.options.cursor}))}),j._hasTracking=!0),S(this,"afterDrawTracker")}remove(){const V=this,j=V.chart;j.hasRendered&&j.series.forEach(function(w){w.type===V.type&&(w.isDirty=!0)}),v.prototype.remove.apply(V,arguments)}}return ee.defaultOptions=U(v.defaultOptions,h),k(ee.prototype,{cropShoulder:0,directTouch:!0,getSymbol:O,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),I.registerSeriesType("column",ee),ee}),i(r,"Core/Series/DataLabel.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(o,u,h){const{getDeferredAnimation:s}=o,{format:v}=u,{defined:I,extend:J,fireEvent:M,isArray:B,isString:W,merge:O,objectEach:L,pick:G,splat:k}=h;var S;return function(A){function H(D,m,g,x,P){const X=this.chart;var Y=this.isCartesian&&X.inverted;const K=this.enabledDataSorting;var le=D.plotX,pe=D.plotY;const fe=g.rotation;var z=g.align;pe=I(le)&&I(pe)&&X.isInsidePlot(le,Math.round(pe),{inverted:Y,paneCoordinates:!0,series:this});let Q=G(g.overflow,K?"none":"justify")==="justify";if(Y=this.visible&&D.visible!==!1&&I(le)&&(D.series.forceDL||K&&!Q||pe||G(g.inside,!!this.options.stacking)&&x&&X.isInsidePlot(le,Y?x.x+1:x.y+x.height-1,{inverted:Y,paneCoordinates:!0,series:this})),le=D.pos(),Y&&le){fe&&m.attr({align:z}),z=m.getBBox(!0);var se=[0,0],de=X.renderer.fontMetrics(m).b;if(x=J({x:le[0],y:Math.round(le[1]),width:0,height:0},x),J(g,{width:z.width,height:z.height}),fe?(Q=!1,se=X.renderer.rotCorr(de,fe),de={x:x.x+(g.x||0)+x.width/2+se.x,y:x.y+(g.y||0)+{top:0,middle:.5,bottom:1}[g.verticalAlign]*x.height},se=[z.x-Number(m.attr("x")),z.y-Number(m.attr("y"))],K&&this.xAxis&&!Q&&this.setDataLabelStartPos(D,m,P,pe,de),m[P?"attr":"animate"](de)):(K&&this.xAxis&&!Q&&this.setDataLabelStartPos(D,m,P,pe,x),m.align(g,void 0,x),de=m.alignAttr),Q&&0<=x.height)this.justifyDataLabel(m,g,de,z,x,P);else if(G(g.crop,!0)){let{x:Ce,y:ne}=de;Ce+=se[0],ne+=se[1],Y=X.isInsidePlot(Ce,ne,{paneCoordinates:!0,series:this})&&X.isInsidePlot(Ce+z.width,ne+z.height,{paneCoordinates:!0,series:this})}g.shape&&!fe&&m[P?"attr":"animate"]({anchorX:le[0],anchorY:le[1]})}P&&K&&(m.placed=!1),Y||K&&!Q?m.show():(m.hide(),m.placed=!1)}function U(D,m){var g=m.filter;return g?(m=g.operator,D=D[g.property],g=g.value,m===">"&&D>g||m==="<"&&D<g||m===">="&&D>=g||m==="<="&&D<=g||m==="=="&&D==g||m==="==="&&D===g):!0}function E(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function ie(D){const m=this.hasRendered||0,g=this.initDataLabelsGroup().attr({opacity:+m});return!m&&g&&(this.visible&&g.show(),this.options.animation?g.animate({opacity:1},D):g.attr({opacity:1})),g}function ee(D=this.points){const m=this,g=m.chart,x=m.options,P=g.renderer,{backgroundColor:X,plotBackgroundColor:Y}=g.options.chart,K=P.getContrast(W(Y)&&Y||W(X)&&X||"#000000");let le=x.dataLabels,pe,fe;var z=k(le)[0];const Q=z.animation;z=z.defer?s(g,Q,m):{defer:0,duration:0},le=V(V(g.options.plotOptions&&g.options.plotOptions.series&&g.options.plotOptions.series.dataLabels,g.options.plotOptions&&g.options.plotOptions[m.type]&&g.options.plotOptions[m.type].dataLabels),le),M(this,"drawDataLabels"),(B(le)||le.enabled||m._hasPointLabels)&&(fe=this.initDataLabels(z),D.forEach(se=>{pe=k(V(le,se.dlOptions||se.options&&se.options.dataLabels)),pe.forEach((de,Ce)=>{const ne=de.enabled&&(!se.isNull||se.dataLabelOnNull)&&U(se,de),ve=se.connectors?se.connectors[Ce]:se.connector;let _e,oe,ge=se.dataLabels?se.dataLabels[Ce]:se.dataLabel,Te=!ge;const Re=G(de.distance,se.labelDistance);if(ne){var Le=se.getLabelConfig(),$e=G(de[se.formatPrefix+"Format"],de.format);if(Le=I($e)?v($e,Le,g):(de[se.formatPrefix+"Formatter"]||de.formatter).call(Le,de),$e=de.style,_e=de.rotation,g.styledMode||($e.color=G(de.color,$e.color,m.color,"#000000"),$e.color==="contrast"?(se.contrastColor=P.getContrast(se.color||m.color),$e.color=!I(Re)&&de.inside||0>Re||x.stacking?se.contrastColor:K):delete se.contrastColor,x.cursor&&($e.cursor=x.cursor)),oe={r:de.borderRadius||0,rotation:_e,padding:de.padding,zIndex:1},!g.styledMode){const{backgroundColor:nt,borderColor:Qe}=de;oe.fill=nt==="auto"?se.color:nt,oe.stroke=Qe==="auto"?se.color:Qe,oe["stroke-width"]=de.borderWidth}L(oe,function(nt,Qe){typeof nt>"u"&&delete oe[Qe]})}!ge||ne&&I(Le)&&!!ge.div==!!de.useHTML&&(ge.rotation&&de.rotation||ge.rotation===de.rotation)||(Te=!0,se.dataLabel=ge=se.dataLabel&&se.dataLabel.destroy(),se.dataLabels&&(se.dataLabels.length===1?delete se.dataLabels:delete se.dataLabels[Ce]),Ce||delete se.dataLabel,ve&&(se.connector=se.connector.destroy(),se.connectors&&(se.connectors.length===1?delete se.connectors:delete se.connectors[Ce]))),ne&&I(Le)?(ge?oe.text=Le:(se.dataLabels=se.dataLabels||[],ge=se.dataLabels[Ce]=_e?P.text(Le,0,0,de.useHTML).addClass("highcharts-data-label"):P.label(Le,0,0,de.shape,null,null,de.useHTML,null,"data-label"),Ce||(se.dataLabel=ge),ge.addClass(" highcharts-data-label-color-"+se.colorIndex+" "+(de.className||"")+(de.useHTML?" highcharts-tracker":""))),ge.options=de,ge.attr(oe),g.styledMode||ge.css($e).shadow(de.shadow),(Ce=de[se.formatPrefix+"TextPath"]||de.textPath)&&!de.useHTML&&(ge.setTextPath(se.getDataLabelPath&&se.getDataLabelPath(ge)||se.graphic,Ce),se.dataLabelPath&&!Ce.enabled&&(se.dataLabelPath=se.dataLabelPath.destroy())),ge.added||ge.add(fe),m.alignDataLabel(se,ge,de,null,Te)):ge&&ge.hide()})})),M(this,"afterDrawDataLabels")}function $(D,m,g,x,P,X){const Y=this.chart,K=m.align,le=m.verticalAlign,pe=D.box?0:D.padding||0;let{x:fe=0,y:z=0}=m,Q,se;return Q=(g.x||0)+pe,0>Q&&(K==="right"&&0<=fe?(m.align="left",m.inside=!0):fe-=Q,se=!0),Q=(g.x||0)+x.width-pe,Q>Y.plotWidth&&(K==="left"&&0>=fe?(m.align="right",m.inside=!0):fe+=Y.plotWidth-Q,se=!0),Q=g.y+pe,0>Q&&(le==="bottom"&&0<=z?(m.verticalAlign="top",m.inside=!0):z-=Q,se=!0),Q=(g.y||0)+x.height-pe,Q>Y.plotHeight&&(le==="top"&&0>=z?(m.verticalAlign="bottom",m.inside=!0):z+=Y.plotHeight-Q,se=!0),se&&(m.x=fe,m.y=z,D.placed=!X,D.align(m,void 0,P)),se}function V(D,m){let g=[],x;if(B(D)&&!B(m))g=D.map(function(P){return O(P,m)});else if(B(m)&&!B(D))g=m.map(function(P){return O(D,P)});else if(B(D)||B(m))for(x=Math.max(D.length,m.length);x--;)g[x]=O(D[x],m[x]);else g=O(D,m);return g}function j(D,m,g,x,P){const X=this.chart,Y=X.inverted,K=this.xAxis,le=K.reversed,pe=Y?m.height/2:m.width/2;D=(D=D.pointWidth)?D/2:0,m.startXPos=Y?P.x:le?-pe-D:K.width-pe+D,m.startYPos=Y?le?this.yAxis.height-pe+D:-pe-D:P.y,x?m.visibility==="hidden"&&(m.show(),m.attr({opacity:0}).animate({opacity:1})):m.attr({opacity:1}).animate({opacity:0},void 0,m.hide),X.hasRendered&&(g&&m.attr({x:m.startXPos,y:m.startYPos}),m.placed=!0)}const w=[];A.compose=function(D){h.pushUnique(w,D)&&(D=D.prototype,D.initDataLabelsGroup=E,D.initDataLabels=ie,D.alignDataLabel=H,D.drawDataLabels=ee,D.justifyDataLabel=$,D.setDataLabelStartPos=j)}}(S||(S={})),S}),i(r,"Series/Column/ColumnDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,u,h){const{series:s}=u,{merge:v,pick:I}=h;var J;return function(M){function B(O,L,G,k,S){let A=this.chart.inverted;var H=O.series;let U=(H.xAxis?H.xAxis.len:this.chart.plotSizeX)||0;H=(H.yAxis?H.yAxis.len:this.chart.plotSizeY)||0;var E=O.dlBox||O.shapeArgs;let ie=I(O.below,O.plotY>I(this.translatedThreshold,H)),ee=I(G.inside,!!this.options.stacking);E&&(k=v(E),0>k.y&&(k.height+=k.y,k.y=0),E=k.y+k.height-H,0<E&&E<k.height&&(k.height-=E),A&&(k={x:H-k.y-k.height,y:U-k.x-k.width,width:k.height,height:k.width}),ee||(A?(k.x+=ie?0:k.width,k.width=0):(k.y+=ie?k.height:0,k.height=0))),G.align=I(G.align,!A||ee?"center":ie?"right":"left"),G.verticalAlign=I(G.verticalAlign,A||ee?"middle":ie?"top":"bottom"),s.prototype.alignDataLabel.call(this,O,L,G,k,S),G.inside&&O.contrastColor&&L.css({color:O.contrastColor})}const W=[];M.compose=function(O){o.compose(s),h.pushUnique(W,O)&&(O.prototype.alignDataLabel=B)}}(J||(J={})),J}),i(r,"Series/Bar/BarSeries.js",[r["Series/Column/ColumnSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,u,h){const{extend:s,merge:v}=h;class I extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return I.defaultOptions=v(o.defaultOptions,{}),s(I.prototype,{inverted:!0}),u.registerSeriesType("bar",I),I}),i(r,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),i(r,"Series/Scatter/ScatterSeries.js",[r["Series/Scatter/ScatterSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,u,h){const{column:s,line:v}=u.seriesTypes,{addEvent:I,extend:J,merge:M}=h;class B extends v{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const O=this,L=this.options.jitter,G=this.points.length;L&&this.points.forEach(function(k,S){["x","y"].forEach(function(A,H){let U="plot"+A.toUpperCase(),E,ie;if(L[A]&&!k.isNull){var ee=O[A+"Axis"];ie=L[A]*ee.transA,ee&&!ee.isLog&&(E=Math.max(0,k[U]-ie),ee=Math.min(ee.len,k[U]+ie),H=1e4*Math.sin(S+H*G),H-=Math.floor(H),k[U]=E+(ee-E)*H,A==="x"&&(k.clientX=k.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return B.defaultOptions=M(v.defaultOptions,o),J(B.prototype,{drawTracker:s.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),I(B,"afterTranslate",function(){this.applyJitter()}),u.registerSeriesType("scatter",B),B}),i(r,"Series/CenteredUtilities.js",[r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(o,u,h){const{deg2rad:s}=o,{fireEvent:v,isNumber:I,pick:J,relativeLength:M}=h;var B;return function(W){W.getCenter=function(){var O=this.options,L=this.chart;const G=2*(O.slicedOffset||0),k=L.plotWidth-2*G,S=L.plotHeight-2*G;var A=O.center;const H=Math.min(k,S),U=O.thickness;var E=O.size;let ie=O.innerSize||0;for(typeof E=="string"&&(E=parseFloat(E)),typeof ie=="string"&&(ie=parseFloat(ie)),O=[J(A[0],"50%"),J(A[1],"50%"),J(E&&0>E?void 0:O.size,"100%"),J(ie&&0>ie?void 0:O.innerSize||0,"0%")],!L.angular||this instanceof u||(O[3]=0),A=0;4>A;++A)E=O[A],L=2>A||A===2&&/%$/.test(E),O[A]=M(E,[k,S,H,O[2]][A])+(L?G:0);return O[3]>O[2]&&(O[3]=O[2]),I(U)&&2*U<O[2]&&0<U&&(O[3]=O[2]-2*U),v(this,"afterGetCenter",{positions:O}),O},W.getStartAndEndRadians=function(O,L){return O=I(O)?O:0,L=I(L)&&L>O&&360>L-O?L:O+360,{start:s*(O+-90),end:s*(L+-90)}}}(B||(B={})),B}),i(r,"Series/Pie/PiePoint.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(o,u,h){const{setAnimation:s}=o,{addEvent:v,defined:I,extend:J,isNumber:M,pick:B,relativeLength:W}=h;class O extends u{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const G=this.labelPosition,k=this.series.options.dataLabels,S=this.connectorShapes;let A=k.connectorShape;return S[A]&&(A=S[A]),A.call(this,{x:G.computed.x,y:G.computed.y,alignment:G.alignment},G.connectorPosition,k)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(G){const k=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(k.x,k.y,k.r+G,k.r+G,{innerR:k.r-1,start:k.start,end:k.end,borderRadius:k.borderRadius})}init(){super.init.apply(this,arguments),this.name=B(this.name,"Slice");const G=k=>{this.slice(k.type==="select")};return v(this,"select",G),v(this,"unselect",G),this}isValid(){return M(this.y)&&0<=this.y}setVisible(G,k){const S=this.series,A=S.chart,H=S.options.ignoreHiddenPoint;k=B(k,H),G!==this.visible&&(this.visible=this.options.visible=G=typeof G>"u"?!this.visible:G,S.options.data[S.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(U=>{this[U]&&this[U][G?"show":"hide"](G)}),this.legendItem&&A.legend.colorizeItem(this,G),G||this.state!=="hover"||this.setState(""),H&&(S.isDirty=!0),k&&A.redraw())}slice(G,k,S){const A=this.series;s(S,A.chart),B(k,!0),this.sliced=this.options.sliced=I(G)?G:!this.sliced,A.options.data[A.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return J(O.prototype,{connectorShapes:{fixedOffset:function(L,G,k){const S=G.breakAt;return G=G.touchingSliceAt,[["M",L.x,L.y],k.softConnector?["C",L.x+(L.alignment==="left"?-5:5),L.y,2*S.x-G.x,2*S.y-G.y,S.x,S.y]:["L",S.x,S.y],["L",G.x,G.y]]},straight:function(L,G){return G=G.touchingSliceAt,[["M",L.x,L.y],["L",G.x,G.y]]},crookedLine:function(L,G,k){const{breakAt:S,touchingSliceAt:A}=G;({series:G}=this);const[H,U,E]=G.center,ie=E/2,ee=G.chart.plotWidth,$=G.chart.plotLeft;G=L.alignment==="left";const{x:V,y:j}=L;return k.crookDistance?(L=W(k.crookDistance,1),L=G?H+ie+(ee+$-H-ie)*(1-L):$+(H-ie)*L):L=H+(U-j)*Math.tan((this.angle||0)-Math.PI/2),k=[["M",V,j]],(G?L<=V&&L>=S.x:L>=V&&L<=S.x)&&k.push(["L",L,j]),k.push(["L",S.x,S.y],["L",A.x,A.y]),k}}}),O}),i(r,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),i(r,"Series/Pie/PieSeries.js",[r["Series/CenteredUtilities.js"],r["Series/Column/ColumnSeries.js"],r["Core/Globals.js"],r["Series/Pie/PiePoint.js"],r["Series/Pie/PieSeriesDefaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Utilities.js"]],function(o,u,h,s,v,I,J,M,B){const{getStartAndEndRadians:W}=o;({noop:h}=h);const{clamp:O,extend:L,fireEvent:G,merge:k,pick:S,relativeLength:A}=B;class H extends I{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(E){const ie=this,ee=ie.points,$=ie.startAngleRad;E||ee.forEach(function(V){const j=V.graphic,w=V.shapeArgs;j&&w&&(j.attr({r:S(V.startR,ie.center&&ie.center[3]/2),start:$,end:$}),j.animate({r:w.r,start:w.start,end:w.end},ie.options.animation))})}drawEmpty(){const E=this.startAngleRad,ie=this.endAngleRad,ee=this.options;let $,V;this.total===0&&this.center?($=this.center[0],V=this.center[1],this.graph||(this.graph=this.chart.renderer.arc($,V,this.center[1]/2,0,E,ie).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:M.arc($,V,this.center[2]/2,0,{start:E,end:ie,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":ee.borderWidth,fill:ee.fillColor||"none",stroke:ee.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const E=this.chart.renderer;this.points.forEach(function(ie){ie.graphic&&ie.hasNewShapeType()&&(ie.graphic=ie.graphic.destroy()),ie.graphic||(ie.graphic=E[ie.shapeType](ie.shapeArgs).add(ie.series.group),ie.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(E,ie,ee){const $=this.center,V=this.radii?this.radii[ee.index]||0:$[2]/2;return E=Math.asin(O((E-$[1])/(V+ee.labelDistance),-1,1)),$[0]+(ie?-1:1)*Math.cos(E)*(V+ee.labelDistance)+(0<ee.labelDistance?(ie?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const E=this,ie=E.chart;let ee,$,V,j;this.drawEmpty(),E.group&&!ie.styledMode&&E.group.shadow(E.options.shadow),E.points.forEach(function(w){const D={};$=w.graphic,!w.isNull&&$?(j=w.shapeArgs,ee=w.getTranslate(),ie.styledMode||(V=E.pointAttribs(w,w.selected&&"select")),w.delayedRendering?($.setRadialReference(E.center).attr(j).attr(ee),ie.styledMode||$.attr(V).attr({"stroke-linejoin":"round"}),w.delayedRendering=!1):($.setRadialReference(E.center),ie.styledMode||k(!0,D,V),k(!0,D,j,ee),$.animate(D)),$.attr({visibility:w.visible?"inherit":"hidden"}),$.addClass(w.getClassName(),!0)):$&&(w.graphic=$.destroy())})}sortByAngle(E,ie){E.sort(function(ee,$){return typeof ee.angle<"u"&&($.angle-ee.angle)*ie})}translate(E){G(this,"translate"),this.generatePoints();var ie=this.options;const ee=ie.slicedOffset,$=ee+(ie.borderWidth||0);var V=W(ie.startAngle,ie.endAngle);const j=this.startAngleRad=V.start;V=(this.endAngleRad=V.end)-j;const w=this.points,D=ie.dataLabels.distance;ie=ie.ignoreHiddenPoint;const m=w.length;let g,x,P,X=0;for(E||(this.center=E=this.getCenter()),x=0;x<m;x++){P=w[x];var Y=j+X*V;!P.isValid()||ie&&!P.visible||(X+=P.percentage/100);var K=j+X*V,le={x:E[0],y:E[1],r:E[2]/2,innerR:E[3]/2,start:Math.round(1e3*Y)/1e3,end:Math.round(1e3*K)/1e3};P.shapeType="arc",P.shapeArgs=le,P.labelDistance=S(P.options.dataLabels&&P.options.dataLabels.distance,D),P.labelDistance=A(P.labelDistance,le.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,P.labelDistance),K=(K+Y)/2,K>1.5*Math.PI?K-=2*Math.PI:K<-Math.PI/2&&(K+=2*Math.PI),P.slicedTranslation={translateX:Math.round(Math.cos(K)*ee),translateY:Math.round(Math.sin(K)*ee)},le=Math.cos(K)*E[2]/2,g=Math.sin(K)*E[2]/2,P.tooltipPos=[E[0]+.7*le,E[1]+.7*g],P.half=K<-Math.PI/2||K>Math.PI/2?1:0,P.angle=K,Y=Math.min($,P.labelDistance/5),P.labelPosition={natural:{x:E[0]+le+Math.cos(K)*P.labelDistance,y:E[1]+g+Math.sin(K)*P.labelDistance},computed:{},alignment:0>P.labelDistance?"center":P.half?"right":"left",connectorPosition:{breakAt:{x:E[0]+le+Math.cos(K)*Y,y:E[1]+g+Math.sin(K)*Y},touchingSliceAt:{x:E[0]+le,y:E[1]+g}}}}G(this,"afterTranslate")}updateTotals(){const E=this.points,ie=E.length,ee=this.options.ignoreHiddenPoint;let $,V,j=0;for($=0;$<ie;$++)V=E[$],!V.isValid()||ee&&!V.visible||(j+=V.y);for(this.total=j,$=0;$<ie;$++)V=E[$],V.percentage=0<j&&(V.visible||!ee)?V.y/j*100:0,V.total=j}}return H.defaultOptions=k(I.defaultOptions,v),L(H.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:u.prototype.drawTracker,getCenter:o.getCenter,getSymbol:h,isCartesian:!1,noSharedTooltip:!0,pointAttribs:u.prototype.pointAttribs,pointClass:s,requireSorting:!1,searchPoint:h,trackerGroups:["group","dataLabelsGroup"]}),J.registerSeriesType("pie",H),H}),i(r,"Series/Pie/PieDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,u,h,s,v){const{noop:I}=u,{distribute:J}=h,{series:M}=s,{arrayMax:B,clamp:W,defined:O,merge:L,pick:G,relativeLength:k}=v;var S;return function(A){function H(){const $=this,V=$.data,j=$.chart,w=$.options.dataLabels||{},D=w.connectorPadding,m=j.plotWidth,g=j.plotHeight,x=j.plotLeft,P=Math.round(j.chartWidth/3),X=$.center,Y=X[2]/2,K=X[1],le=[[],[]],pe=[0,0,0,0],fe=$.dataLabelPositioners;let z,Q,se,de,Ce,ne,ve,_e,oe,ge,Te,Re;$.visible&&(w.enabled||$._hasPointLabels)&&(V.forEach(function(Le){Le.dataLabel&&Le.visible&&Le.dataLabel.shortened&&(Le.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Le.dataLabel.shortened=!1)}),M.prototype.drawDataLabels.apply($),V.forEach(function(Le){Le.dataLabel&&(Le.visible?(le[Le.half].push(Le),Le.dataLabel._pos=null,!O(w.style.width)&&!O(Le.options.dataLabels&&Le.options.dataLabels.style&&Le.options.dataLabels.style.width)&&Le.dataLabel.getBBox().width>P&&(Le.dataLabel.css({width:Math.round(.7*P)+"px"}),Le.dataLabel.shortened=!0)):(Le.dataLabel=Le.dataLabel.destroy(),Le.dataLabels&&Le.dataLabels.length===1&&delete Le.dataLabels))}),le.forEach((Le,$e)=>{const nt=Le.length,Qe=[];let We,xe=0;if(nt){if($.sortByAngle(Le,$e-.5),0<$.maxLabelDistance){var Ie=Math.max(0,K-Y-$.maxLabelDistance);We=Math.min(K+Y+$.maxLabelDistance,j.plotHeight),Le.forEach(function(Be){0<Be.labelDistance&&Be.dataLabel&&(Be.top=Math.max(0,K-Y-Be.labelDistance),Be.bottom=Math.min(K+Y+Be.labelDistance,j.plotHeight),xe=Be.dataLabel.getBBox().height||21,Be.distributeBox={target:Be.labelPosition.natural.y-Be.top+xe/2,size:xe,rank:Be.y},Qe.push(Be.distributeBox))}),Ie=We+xe-Ie,J(Qe,Ie,Ie/5)}for(Te=0;Te<nt;Te++){if(z=Le[Te],ne=z.labelPosition,de=z.dataLabel,ge=z.visible===!1?"hidden":"inherit",oe=Ie=ne.natural.y,Qe&&O(z.distributeBox)&&(typeof z.distributeBox.pos>"u"?ge="hidden":(ve=z.distributeBox.size,oe=fe.radialDistributionY(z))),delete z.positionIndex,w.justify)_e=fe.justify(z,Y,X);else switch(w.alignTo){case"connectors":_e=fe.alignToConnectors(Le,$e,m,x);break;case"plotEdges":_e=fe.alignToPlotEdges(de,$e,m,x);break;default:_e=fe.radialDistributionX($,z,oe,Ie)}de._attr={visibility:ge,align:ne.alignment},Re=z.options.dataLabels||{},de._pos={x:_e+G(Re.x,w.x)+({left:D,right:-D}[ne.alignment]||0),y:oe+G(Re.y,w.y)-de.getBBox().height/2},ne&&(ne.computed.x=_e,ne.computed.y=oe),G(w.crop,!0)&&(Ce=de.getBBox().width,Ie=null,_e-Ce<D&&$e===1?(Ie=Math.round(Ce-_e+D),pe[3]=Math.max(Ie,pe[3])):_e+Ce>m-D&&$e===0&&(Ie=Math.round(_e+Ce-m+D),pe[1]=Math.max(Ie,pe[1])),0>oe-ve/2?pe[0]=Math.max(Math.round(-oe+ve/2),pe[0]):oe+ve/2>g&&(pe[2]=Math.max(Math.round(oe+ve/2-g),pe[2])),de.sideOverflow=Ie)}}}),B(pe)===0||this.verifyDataLabelOverflow(pe))&&(this.placeDataLabels(),this.points.forEach(function(Le){if(Re=L(w,Le.options.dataLabels),Q=G(Re.connectorWidth,1)){let $e;se=Le.connector,(de=Le.dataLabel)&&de._pos&&Le.visible&&0<Le.labelDistance?(ge=de._attr.visibility,($e=!se)&&(Le.connector=se=j.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Le.colorIndex+(Le.className?" "+Le.className:"")).add($.dataLabelsGroup),j.styledMode||se.attr({"stroke-width":Q,stroke:Re.connectorColor||Le.color||"#666666"})),se[$e?"attr":"animate"]({d:Le.getConnectorPath()}),se.attr("visibility",ge)):se&&(Le.connector=se.destroy())}}))}function U(){this.points.forEach(function($){let V=$.dataLabel,j;V&&$.visible&&((j=V._pos)?(V.sideOverflow&&(V._attr.width=Math.max(V.getBBox().width-V.sideOverflow,0),V.css({width:V._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),V.shortened=!0),V.attr(V._attr),V[V.moved?"animate":"attr"](j),V.moved=!0):V&&V.attr({y:-9999})),delete $.distributeBox},this)}function E($){let V=this.center,j=this.options,w=j.center,D=j.minSize||80,m,g=j.size!==null;return g||(w[0]!==null?m=Math.max(V[2]-Math.max($[1],$[3]),D):(m=Math.max(V[2]-$[1]-$[3],D),V[0]+=($[3]-$[1])/2),w[1]!==null?m=W(m,D,V[2]-Math.max($[0],$[2])):(m=W(m,D,V[2]-$[0]-$[2]),V[1]+=($[0]-$[2])/2),m<V[2]?(V[2]=m,V[3]=Math.min(j.thickness?Math.max(0,m-2*j.thickness):Math.max(0,k(j.innerSize||0,m)),m),this.translate(V),this.drawDataLabels&&this.drawDataLabels()):g=!0),g}const ie=[],ee={radialDistributionY:function($){return $.top+$.distributeBox.pos},radialDistributionX:function($,V,j,w){return $.getX(j<V.top+2||j>V.bottom-2?w:j,V.half,V)},justify:function($,V,j){return j[0]+($.half?-1:1)*(V+$.labelDistance)},alignToPlotEdges:function($,V,j,w){return $=$.getBBox().width,V?$+w:j-$-w},alignToConnectors:function($,V,j,w){let D=0,m;return $.forEach(function(g){m=g.dataLabel.getBBox().width,m>D&&(D=m)}),V?D+w:j-D-w}};A.compose=function($){o.compose(M),v.pushUnique(ie,$)&&($=$.prototype,$.dataLabelPositioners=ee,$.alignDataLabel=I,$.drawDataLabels=H,$.placeDataLabels=U,$.verifyDataLabelOverflow=E)}}(S||(S={})),S}),i(r,"Extensions/OverlappingDataLabels.js",[r["Core/Chart/Chart.js"],r["Core/Utilities.js"]],function(o,u){function h(W,O){let L,G=!1;return W&&(L=W.newOpacity,W.oldOpacity!==L&&(W.alignAttr&&W.placed?(W[L?"removeClass":"addClass"]("highcharts-data-label-hidden"),G=!0,W.alignAttr.opacity=L,W[W.isOld?"animate":"attr"](W.alignAttr,null,function(){O.styledMode||W.css({pointerEvents:L?"auto":"none"})}),v(O,"afterHideOverlappingLabel")):W.attr({opacity:L})),W.isOld=!0),G}const{addEvent:s,fireEvent:v,isArray:I,isNumber:J,objectEach:M,pick:B}=u;s(o,"render",function(){let W=this,O=[];(this.labelCollectors||[]).forEach(function(L){O=O.concat(L())}),(this.yAxis||[]).forEach(function(L){L.stacking&&L.options.stackLabels&&!L.options.stackLabels.allowOverlap&&M(L.stacking.stacks,function(G){M(G,function(k){k.label&&O.push(k.label)})})}),(this.series||[]).forEach(function(L){var G=L.options.dataLabels;L.visible&&(G.enabled!==!1||L._hasPointLabels)&&(G=k=>k.forEach(S=>{S.visible&&(I(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[]).forEach(function(A){const H=A.options;A.labelrank=B(H.labelrank,S.labelrank,S.shapeArgs&&S.shapeArgs.height),H.allowOverlap?(A.oldOpacity=A.opacity,A.newOpacity=1,h(A,W)):O.push(A)})}),G(L.nodes||[]),G(L.points))}),this.hideOverlappingLabels(O)}),o.prototype.hideOverlappingLabels=function(W){let O=this,L=W.length,G=O.renderer;var k;let S,A,H,U,E=!1;var ie=function(ee){let $,V;var j;let w=ee.box?0:ee.padding||0,D=j=0,m,g;if(ee&&(!ee.alignAttr||ee.placed))return $=ee.alignAttr||{x:ee.attr("x"),y:ee.attr("y")},V=ee.parentGroup,ee.width||(j=ee.getBBox(),ee.width=j.width,ee.height=j.height,j=G.fontMetrics(ee.element).h),m=ee.width-2*w,(g={left:"0",center:"0.5",right:"1"}[ee.alignValue])?D=+g*m:J(ee.x)&&Math.round(ee.x)!==ee.translateX&&(D=ee.x-ee.translateX),{x:$.x+(V.translateX||0)+w-(D||0),y:$.y+(V.translateY||0)+w-j,width:ee.width-2*w,height:ee.height-2*w}};for(S=0;S<L;S++)(k=W[S])&&(k.oldOpacity=k.opacity,k.newOpacity=1,k.absoluteBox=ie(k));for(W.sort(function(ee,$){return($.labelrank||0)-(ee.labelrank||0)}),S=0;S<L;S++)for(H=(ie=W[S])&&ie.absoluteBox,k=S+1;k<L;++k)U=(A=W[k])&&A.absoluteBox,!H||!U||ie===A||ie.newOpacity===0||A.newOpacity===0||ie.visibility==="hidden"||A.visibility==="hidden"||U.x>=H.x+H.width||U.x+U.width<=H.x||U.y>=H.y+H.height||U.y+U.height<=H.y||((ie.labelrank<A.labelrank?ie:A).newOpacity=0);W.forEach(function(ee){h(ee,O)&&(E=!0)}),E&&v(O,"afterHideAllOverlappingLabels")}}),i(r,"Extensions/BorderRadius.js",[r["Core/Defaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(o,u,h,s,v,I){const{defaultOptions:J}=o;({seriesTypes:o}=h);const{addEvent:M,extend:B,isObject:W,merge:O,relativeLength:L}=I,G={radius:0,scope:"stack",where:void 0},k=(S,A)=>(W(S)||(S={radius:S||0}),O(G,A,S));if(s.symbolCustomAttribs.indexOf("borderRadius")===-1){s.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const S=v.prototype.symbols.arc;v.prototype.symbols.arc=function(H,U,E,ie,ee={}){H=S(H,U,E,ie,ee);const{innerR:$=0,r:V=E,start:j=0,end:w=0}=ee;if(ee.open||!ee.borderRadius)return H;for(E=w-j,U=Math.sin(E/2),ee=Math.max(Math.min(L(ee.borderRadius||0,V-$),(V-$)/2,V*U/(1+U)),0),E=Math.min(ee,E/Math.PI*2*$),U=H.length-1;U--;){let Y,K,le;ie=H;var D=U,m=1<U?E:ee,g=ie[D],x=ie[D+1];if(x[0]==="Z"&&(x=ie[0]),g[0]!=="M"&&g[0]!=="L"||x[0]!=="A"?g[0]!=="A"||x[0]!=="M"&&x[0]!=="L"||(le=x,K=g):(le=g,K=x,Y=!0),le&&K&&K.params){g=K[1];var P=K[5];x=K.params;const{start:pe,end:fe,cx:z,cy:Q}=x;var X=P?g-m:g+m;const se=X?Math.asin(m/X):0;P=P?se:-se,X*=Math.cos(se),Y?(x.start=pe+P,le[1]=z+X*Math.cos(pe),le[2]=Q+X*Math.sin(pe),ie.splice(D+1,0,["A",m,m,0,0,1,z+g*Math.cos(x.start),Q+g*Math.sin(x.start)])):(x.end=fe-P,K[6]=z+g*Math.cos(x.end),K[7]=Q+g*Math.sin(x.end),ie.splice(D+1,0,["A",m,m,0,0,1,z+X*Math.cos(fe),Q+X*Math.sin(fe)])),K[4]=Math.abs(x.end-x.start)<Math.PI?0:1}}return H};const A=v.prototype.symbols.roundedRect;v.prototype.symbols.roundedRect=function(H,U,E,ie,ee={}){const $=A(H,U,E,ie,ee),{r:V=0,brBoxHeight:j=ie,brBoxY:w=U}=ee;var D=U-w,m=w+j-(U+ie);ee=-.1<D-V?0:V;const g=-.1<m-V?0:V;var x=Math.max(ee&&D,0);const P=Math.max(g&&m,0);m=[H+ee,U],D=[H+E-ee,U];const X=[H+E,U+ee],Y=[H+E,U+ie-g],K=[H+E-g,U+ie],le=[H+g,U+ie],pe=[H,U+ie-g],fe=[H,U+ee];if(x){const z=Math.sqrt(Math.pow(ee,2)-Math.pow(ee-x,2));m[0]-=z,D[0]+=z,X[1]=fe[1]=U+ee-x}return ie<ee-x&&(x=Math.sqrt(Math.pow(ee,2)-Math.pow(ee-x-ie,2)),X[0]=Y[0]=H+E-ee+x,K[0]=Math.min(X[0],K[0]),le[0]=Math.max(Y[0],le[0]),pe[0]=fe[0]=H+ee-x,X[1]=fe[1]=U+ie),P&&(x=Math.sqrt(Math.pow(g,2)-Math.pow(g-P,2)),K[0]+=x,le[0]-=x,Y[1]=pe[1]=U+ie-g+P),ie<g-P&&(ie=Math.sqrt(Math.pow(g,2)-Math.pow(g-P-ie,2)),X[0]=Y[0]=H+E-g+ie,D[0]=Math.min(X[0],D[0]),m[0]=Math.max(Y[0],m[0]),pe[0]=fe[0]=H+g-ie,Y[1]=pe[1]=U),$.length=0,$.push(["M",...m],["L",...D],["A",ee,ee,0,0,1,...X],["L",...Y],["A",g,g,0,0,1,...K],["L",...le],["A",g,g,0,0,1,...pe],["L",...fe],["A",ee,ee,0,0,1,...m],["Z"]),$},M(o.pie,"afterTranslate",function(){const H=k(this.options.borderRadius);for(const U of this.points){const E=U.shapeArgs;E&&(E.borderRadius=L(H.radius,(E.r||0)-(E.innerR||0)))}}),M(u,"afterColumnTranslate",function(){var H,U;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:$,yAxis:V}=this,j=$.stacking==="percent";var E=(U=(H=J.plotOptions)===null||H===void 0?void 0:H[this.type])===null||U===void 0?void 0:U.borderRadius;H=k($.borderRadius,W(E)?E:{}),U=V.options.reversed;for(const w of this.points)if({shapeArgs:E}=w,w.shapeType==="roundedRect"&&E){const{width:D=0,height:m=0,y:g=0}=E;var ie=g,ee=m;H.scope==="stack"&&w.stackTotal&&(ie=V.translate(j?100:w.stackTotal,!1,!0,!1,!0),ee=V.translate($.threshold||0,!1,!0,!1,!0),ee=this.crispCol(0,Math.min(ie,ee),0,Math.abs(ie-ee)),ie=ee.y,ee=ee.height);const x=(w.negative?-1:1)*(U?-1:1)===-1;let P=H.where;!P&&this.is("waterfall")&&Math.abs((w.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(P="all"),P||(P="end");const X=Math.min(L(H.radius,D),D/2,P==="all"?m/2:1/0)||0;P==="end"&&(x&&(ie-=X),ee+=X),B(E,{brBoxHeight:ee,brBoxY:ie,r:X})}}},{order:9})}return u={optionsToObject:k},u}),i(r,"Core/Responsive.js",[r["Core/Utilities.js"]],function(o){const{extend:u,find:h,isArray:s,isObject:v,merge:I,objectEach:J,pick:M,splat:B,uniqueKey:W}=o;var O;return function(L){function G(H){function U(ee,$,V,j){let w;J(ee,function(D,m){if(!j&&-1<E.collectionsWithUpdate.indexOf(m)&&$[m])for(D=B(D),V[m]=[],w=0;w<Math.max(D.length,$[m].length);w++)$[m][w]&&(D[w]===void 0?V[m][w]=$[m][w]:(V[m][w]={},U(D[w],$[m][w],V[m][w],j+1)));else v(D)?(V[m]=s(D)?[]:{},U(D,$[m]||{},V[m],j+1)):V[m]=typeof $[m]>"u"?null:$[m]})}const E=this,ie={};return U(H,this.options,ie,0),ie}function k(H,U){const E=H.condition;(E.callback||function(){return this.chartWidth<=M(E.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=M(E.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=M(E.minWidth,0)&&this.chartHeight>=M(E.minHeight,0)}).call(this)&&U.push(H._id)}function S(H,U){const E=this.options.responsive;var ie=this.currentResponsive;let ee=[];!U&&E&&E.rules&&E.rules.forEach($=>{typeof $._id>"u"&&($._id=W()),this.matchResponsiveRule($,ee)},this),U=I(...ee.map($=>h((E||{}).rules||[],V=>V._id===$)).map($=>$&&$.chartOptions)),U.isResponsiveOptions=!0,ee=ee.toString()||void 0,ee!==(ie&&ie.ruleIds)&&(ie&&this.update(ie.undoOptions,H,!0),ee?(ie=this.currentOptions(U),ie.isResponsiveOptions=!0,this.currentResponsive={ruleIds:ee,mergedOptions:U,undoOptions:ie},this.update(U,H,!0)):this.currentResponsive=void 0)}const A=[];L.compose=function(H){return o.pushUnique(A,H)&&u(H.prototype,{currentOptions:G,matchResponsiveRule:k,setResponsive:S}),H}}(O||(O={})),O}),i(r,"masters/highcharts.src.js",[r["Core/Globals.js"],r["Core/Utilities.js"],r["Core/Defaults.js"],r["Core/Animation/Fx.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Renderer/HTML/AST.js"],r["Core/FormatUtilities.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Renderer/HTML/HTMLElement.js"],r["Core/Renderer/HTML/HTMLRenderer.js"],r["Core/Axis/Axis.js"],r["Core/Axis/DateTimeAxis.js"],r["Core/Axis/LogarithmicAxis.js"],r["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],r["Core/Axis/Tick.js"],r["Core/Tooltip.js"],r["Core/Series/Point.js"],r["Core/Pointer.js"],r["Core/Legend/Legend.js"],r["Core/Chart/Chart.js"],r["Core/Axis/Stacking/StackingAxis.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Series/Column/ColumnSeries.js"],r["Series/Column/ColumnDataLabel.js"],r["Series/Pie/PieSeries.js"],r["Series/Pie/PieDataLabel.js"],r["Core/Series/DataLabel.js"],r["Core/Responsive.js"],r["Core/Color/Color.js"],r["Core/Time.js"]],function(o,u,h,s,v,I,J,M,B,W,O,L,G,k,S,A,H,U,E,ie,ee,$,V,j,w,D,m,g,x,P,X,Y,K,le){return o.animate=v.animate,o.animObject=v.animObject,o.getDeferredAnimation=v.getDeferredAnimation,o.setAnimation=v.setAnimation,o.stop=v.stop,o.timers=s.timers,o.AST=I,o.Axis=G,o.Chart=$,o.chart=$.chart,o.Fx=s,o.Legend=ee,o.PlotLineOrBand=A,o.Point=E,o.Pointer=ie,o.Series=w,o.StackItem=j,o.SVGElement=B,o.SVGRenderer=W,o.Tick=H,o.Time=le,o.Tooltip=U,o.Color=K,o.color=K.parse,L.compose(W),O.compose(B),ie.compose($),ee.compose($),o.defaultOptions=h.defaultOptions,o.getOptions=h.getOptions,o.time=h.defaultTime,o.setOptions=h.setOptions,o.dateFormat=J.dateFormat,o.format=J.format,o.numberFormat=J.numberFormat,o.addEvent=u.addEvent,o.arrayMax=u.arrayMax,o.arrayMin=u.arrayMin,o.attr=u.attr,o.clearTimeout=u.clearTimeout,o.correctFloat=u.correctFloat,o.createElement=u.createElement,o.css=u.css,o.defined=u.defined,o.destroyObjectProperties=u.destroyObjectProperties,o.discardElement=u.discardElement,o.distribute=M.distribute,o.erase=u.erase,o.error=u.error,o.extend=u.extend,o.extendClass=u.extendClass,o.find=u.find,o.fireEvent=u.fireEvent,o.getMagnitude=u.getMagnitude,o.getStyle=u.getStyle,o.inArray=u.inArray,o.isArray=u.isArray,o.isClass=u.isClass,o.isDOMElement=u.isDOMElement,o.isFunction=u.isFunction,o.isNumber=u.isNumber,o.isObject=u.isObject,o.isString=u.isString,o.keys=u.keys,o.merge=u.merge,o.normalizeTickInterval=u.normalizeTickInterval,o.objectEach=u.objectEach,o.offset=u.offset,o.pad=u.pad,o.pick=u.pick,o.pInt=u.pInt,o.relativeLength=u.relativeLength,o.removeEvent=u.removeEvent,o.seriesType=D.seriesType,o.splat=u.splat,o.stableSort=u.stableSort,o.syncTimeout=u.syncTimeout,o.timeUnits=u.timeUnits,o.uniqueKey=u.uniqueKey,o.useSerialIds=u.useSerialIds,o.wrap=u.wrap,g.compose(m),X.compose(w),k.compose(G),S.compose(G),P.compose(x),A.compose(G),Y.compose($),V.compose(G,$,w),U.compose(ie),o}),r["masters/highcharts.src.js"]._modules=r,r["masters/highcharts.src.js"]})}(K3)),K3.exports}(function(e,t){(function(i,r){e.exports=r(GP(),N4)})(window,function(i,r){return h={},o.m=u=[function(s,v){s.exports=i},function(s,v){s.exports=r},function(s,J,I){I.r(J),I.d(J,"Chart",function(){return H}),I.d(J,"default",function(){return U});var J=I(0),M=I.n(J);function B(E,ie){return function ee($,V,j){function w(D,m){!M.a.isObject(D,!j)||M.a.isClass(D)||M.a.isDOMElement(D)?$[m]=V[m]:$[m]=ee($[m]||M.a.isArray(D)?[]:{},D,j)}return M.a.isArray(V)?V.forEach(w):M.a.objectEach(V,w),$}({},E,ie)}var W=I(1);function O(E){return function(ie){if(Array.isArray(ie))return L(ie)}(E)||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(E)||function(ie,ee){if(ie){if(typeof ie=="string")return L(ie,ee);var $=Object.prototype.toString.call(ie).slice(8,-1);return($=$==="Object"&&ie.constructor?ie.constructor.name:$)==="Map"||$==="Set"?Array.from(ie):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?L(ie,ee):void 0}}(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(E,ie){(ie==null||ie>E.length)&&(ie=E.length);for(var ee=0,$=new Array(ie);ee<ie;ee++)$[ee]=E[ee];return $}function G(E,ie){var ee,$=Object.keys(E);return Object.getOwnPropertySymbols&&(ee=Object.getOwnPropertySymbols(E),ie&&(ee=ee.filter(function(V){return Object.getOwnPropertyDescriptor(E,V).enumerable})),$.push.apply($,ee)),$}function k(E){for(var ie=1;ie<arguments.length;ie++){var ee=arguments[ie]!=null?arguments[ie]:{};ie%2?G(Object(ee),!0).forEach(function($){var V,j;V=E,$=ee[j=$],j in V?Object.defineProperty(V,j,{value:$,enumerable:!0,configurable:!0,writable:!0}):V[j]=$}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(ee)):G(Object(ee)).forEach(function($){Object.defineProperty(E,$,Object.getOwnPropertyDescriptor(ee,$))})}return E}function S(){this.chart&&this.chart.destroy()}var A=function(E,ie){return ie=ie.split(".")[0]<3?{render:function(ee){return ee("div",{ref:"chart"})},beforeDestroy:S}:{render:function(){return Object(W.h)("div",{ref:"chart"})},beforeUnmount:S},k({template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(ee){var $;($=this.chart).update.apply($,[B(ee,this.deepCopyOnUpdate)].concat(O(this.updateArgs)))},deep:!0}},mounted:function(){var ee=this.highcharts||E;this.options&&ee[this.constructorType]?this.chart=ee[this.constructorType](this.$refs.chart,B(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}},ie)},H=A(M.a,W.version||I.n(W).a.version);function U(E){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};E.component(ie.tagName||"highcharts",A(ie.highcharts||M.a,E.version))}}],o.c=h,o.d=function(s,v,I){o.o(s,v)||Object.defineProperty(s,v,{enumerable:!0,get:I})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,v){if(1&v&&(s=o(s)),8&v||4&v&&typeof s=="object"&&s&&s.__esModule)return s;var I=Object.create(null);if(o.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:s}),2&v&&typeof s!="string")for(var J in s)o.d(I,J,(function(M){return s[M]}).bind(null,J));return I},o.n=function(s){var v=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(v,"a",v),v},o.o=function(s,v){return Object.prototype.hasOwnProperty.call(s,v)},o.p="",o(o.s=2);function o(s){if(h[s])return h[s].exports;var v=h[s]={i:s,l:!1,exports:{}};return u[s].call(v.exports,v,v.exports,o),v.l=!0,v.exports}var u,h})})(VP);var cm=VP.exports,VK=GP();const yc=rd(VK);var HP={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(r,o,u,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,u),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},i(t,"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(r,o,u,h,s){function v(k,S,A,H,U){let E=!0;const ie=A[0],ee=A[1],$=Math.sqrt(Math.pow(k-ie,2)+Math.pow(S-ee,2));return M(H)&&M(U)&&(k=Math.atan2(J(S-ee,8),J(k-ie,8)),U!==H&&(E=H>U?k>=H&&k<=Math.PI||k<=U&&k>=-Math.PI:k>=H&&k<=J(U,8))),$<=Math.ceil(A[2]/2)&&E}const{addEvent:I,correctFloat:J,defined:M,extend:B,merge:W,pick:O,splat:L}=s;r.prototype.collectionsWithUpdate.push("pane");class G{constructor(S,A){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(S,A)}init(S,A){this.chart=A,this.background=[],A.pane.push(this),this.setOptions(S)}setOptions(S){this.options=W(this.defaultOptions,this.chart.angular?{background:{}}:void 0,S)}render(){var S=this.options;let A=this.options.background;var H=this.chart.renderer;if(this.group||(this.group=H.g("pane-group").attr({zIndex:S.zIndex||0}).add()),this.updateCenter(),A)for(A=L(A),S=Math.max(A.length,this.background.length||0),H=0;H<S;H++)A[H]&&this.axis?this.renderBackground(W(this.defaultBackgroundOptions,A[H]),H):this.background[H]&&(this.background[H]=this.background[H].destroy(),this.background.splice(H,1))}renderBackground(S,A){let H="animate",U={class:"highcharts-pane "+(S.className||"")};this.chart.styledMode||B(U,{fill:S.backgroundColor,stroke:S.borderColor,"stroke-width":S.borderWidth}),this.background[A]||(this.background[A]=this.chart.renderer.path().add(this.group),H="attr"),this.background[A][H]({d:this.axis.getPlotBandPath(S.from,S.to,S)}).attr(U)}updateCenter(S){this.center=(S||this.axis||{}).center=o.getCenter.call(this)}update(S,A){W(!0,this.options,S),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(H){H.pane===this&&(H.pane=null,H.update({},A))},this)}}return r.prototype.getHoverPane=function(k){const S=this;let A;return k&&S.pane.forEach(H=>{v(k.chartX-S.plotLeft,k.chartY-S.plotTop,H.center)&&(A=H)}),A},I(r,"afterIsInsidePlot",function(k){this.polar&&(k.options.inverted&&([k.x,k.y]=[k.y,k.x]),k.isInsidePlot=this.pane.some(S=>v(k.x,k.y,S.center,S.axis&&S.axis.normalizedStartAngleRad,S.axis&&S.axis.normalizedEndAngleRad)))}),I(h,"beforeGetHoverData",function(k){const S=this.chart;S.polar?(S.hoverPane=S.getHoverPane(k),k.filter=function(A){return A.visible&&!(!k.shared&&A.directTouch)&&O(A.options.enableMouseTracking,!0)&&(!S.hoverPane||A.xAxis.pane===S.hoverPane)}):S.hoverPane=void 0}),I(h,"afterGetHoverData",function(k){const S=this.chart;k.hoverPoint&&k.hoverPoint.plotX&&k.hoverPoint.plotY&&S.hoverPane&&!v(k.hoverPoint.plotX,k.hoverPoint.plotY,S.hoverPane.center)&&(k.hoverPoint=void 0)}),u.Pane=G,u.Pane}),i(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){const{area:{prototype:{pointClass:u,pointClass:{prototype:h}}}}=r.seriesTypes,{defined:s,isNumber:v}=o;class I extends u{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const M=this.state,B=this.series,W=B.chart.polar;s(this.plotHigh)||(this.plotHigh=B.yAxis.toPixels(this.high,!0)),s(this.plotLow)||(this.plotLow=this.plotY=B.yAxis.toPixels(this.low,!0)),B.stateMarkerGraphic&&(B.lowerStateMarkerGraphic=B.stateMarkerGraphic,B.stateMarkerGraphic=B.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,W&&v(this.plotHighX)&&(this.plotX=this.plotHighX),h.setState.apply(this,arguments),this.state=M,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],W&&v(this.plotLowX)&&(this.plotX=this.plotLowX),B.stateMarkerGraphic&&(B.upperStateMarkerGraphic=B.stateMarkerGraphic,B.stateMarkerGraphic=B.lowerStateMarkerGraphic,B.lowerStateMarkerGraphic=void 0),h.setState.apply(this,arguments)}haloPath(){const M=this.series.chart.polar;let B=[];return this.plotY=this.plotLow,M&&v(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(B=h.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,M&&v(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(B=B.concat(h.haloPath.apply(this,arguments))),B}isValid(){return v(this.low)&&v(this.high)}}return I}),i(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h){({noop:o}=o);const{area:s,area:{prototype:v},column:{prototype:I}}=u.seriesTypes,{addEvent:J,defined:M,extend:B,isArray:W,isNumber:O,pick:L,merge:G}=h;class k extends s{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(A){return[A.low,A.high]}highToXY(A){const H=this.chart,U=this.xAxis.postTranslate(A.rectPlotX||0,this.yAxis.len-(A.plotHigh||0));A.plotHighX=U.x-H.plotLeft,A.plotHigh=U.y-H.plotTop,A.plotLowX=A.plotX}getGraphPath(A){var H=[],U=[];const E=v.getGraphPath;var ie=this.options;const ee=this.chart.polar,$=ee&&ie.connectEnds!==!1,V=ie.connectNulls;let j,w,D,m=ie.step;for(A=A||this.points,j=A.length;j--;){w=A[j];const g=ee?{plotX:w.rectPlotX,plotY:w.yBottom,doCurve:!1}:{plotX:w.plotX,plotY:w.plotY,doCurve:!1};w.isNull||$||V||A[j+1]&&!A[j+1].isNull||U.push(g),D={polarPlotY:w.polarPlotY,rectPlotX:w.rectPlotX,yBottom:w.yBottom,plotX:L(w.plotHighX,w.plotX),plotY:w.plotHigh,isNull:w.isNull},U.push(D),H.push(D),w.isNull||$||V||A[j-1]&&!A[j-1].isNull||U.push(g)}return A=E.call(this,A),m&&(m===!0&&(m="left"),ie.step={left:"right",center:"center",right:"left"}[m]),H=E.call(this,H),U=E.call(this,U),ie.step=m,ie=[].concat(A,H),!this.chart.polar&&U[0]&&U[0][0]==="M"&&(U[0]=["L",U[0][1],U[0][2]]),this.graphPath=ie,this.areaPath=A.concat(U),ie.isArea=!0,ie.xMap=A.xMap,this.areaPath.xMap=A.xMap,ie}drawDataLabels(){const A=this.points,H=A.length,U=[],E=this.options.dataLabels,ie=this.chart.inverted;let ee,$,V,j,w;if(E){if(W(E)?(j=E[0]||{enabled:!1},w=E[1]||{enabled:!1}):(j=B({},E),j.x=E.xHigh,j.y=E.yHigh,w=B({},E),w.x=E.xLow,w.y=E.yLow),j.enabled||this._hasPointLabels){for(ee=H;ee--;)if($=A[ee]){const{plotHigh:D=0,plotLow:m=0}=$;V=j.inside?D<m:D>m,$.y=$.high,$._plotY=$.plotY,$.plotY=D,U[ee]=$.dataLabel,$.dataLabel=$.dataLabelUpper,$.below=V,ie?j.align||(j.align=V?"right":"left"):j.verticalAlign||(j.verticalAlign=V?"top":"bottom")}for(this.options.dataLabels=j,v.drawDataLabels&&v.drawDataLabels.apply(this,arguments),ee=H;ee--;)($=A[ee])&&($.dataLabelUpper=$.dataLabel,$.dataLabel=U[ee],delete $.dataLabels,$.y=$.low,$.plotY=$._plotY)}if(w.enabled||this._hasPointLabels){for(ee=H;ee--;)if($=A[ee]){const{plotHigh:D=0,plotLow:m=0}=$;V=w.inside?D<m:D>m,$.below=!V,ie?w.align||(w.align=V?"left":"right"):w.verticalAlign||(w.verticalAlign=V?"bottom":"top")}this.options.dataLabels=w,v.drawDataLabels&&v.drawDataLabels.apply(this,arguments)}if(j.enabled)for(ee=H;ee--;)($=A[ee])&&($.dataLabels=[$.dataLabelUpper,$.dataLabel].filter(function(D){return!!D}));this.options.dataLabels=E}}alignDataLabel(){I.alignDataLabel.apply(this,arguments)}drawPoints(){const A=this.points.length;let H,U;for(v.drawPoints.apply(this,arguments),H=0;H<A;)U=this.points[H],U.graphics=U.graphics||[],U.origProps={plotY:U.plotY,plotX:U.plotX,isInside:U.isInside,negative:U.negative,zone:U.zone,y:U.y},(U.graphic||U.graphics[0])&&(U.graphics[0]=U.graphic),U.graphic=U.graphics[1],U.plotY=U.plotHigh,M(U.plotHighX)&&(U.plotX=U.plotHighX),U.y=L(U.high,U.origProps.y),U.negative=U.y<(this.options.threshold||0),this.zones.length&&(U.zone=U.getZone()),this.chart.polar||(U.isInside=U.isTopInside=typeof U.plotY<"u"&&0<=U.plotY&&U.plotY<=this.yAxis.len&&0<=U.plotX&&U.plotX<=this.xAxis.len),H++;for(v.drawPoints.apply(this,arguments),H=0;H<A;)U=this.points[H],U.graphics=U.graphics||[],(U.graphic||U.graphics[1])&&(U.graphics[1]=U.graphic),U.graphic=U.graphics[0],U.origProps&&(B(U,U.origProps),delete U.origProps),H++}}return k.defaultOptions=G(s.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),J(k,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(S=>{const A=S.high,H=S.plotY;S.isNull?S.plotY=void 0:(S.plotLow=H,S.plotHigh=O(A)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(A):A,!1,!0,void 0,!0):void 0,this.dataModify&&(S.yBottom=S.plotHigh))})},{order:0}),J(k,"afterTranslate",function(){this.points.forEach(S=>{if(this.chart.polar)this.highToXY(S),S.plotLow=S.plotY,S.tooltipPos=[((S.plotHighX||0)+(S.plotLowX||0))/2,((S.plotHigh||0)+(S.plotLow||0))/2];else{const A=S.pos(!1,S.plotLow),H=S.pos(!1,S.plotHigh);A&&H&&(A[0]=(A[0]+H[0])/2,A[1]=(A[1]+H[1])/2),S.tooltipPos=A}})},{order:3}),B(k.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:r,pointValKey:"low",setStackedPoints:o}),u.registerSeriesType("arearange",k),k}),i(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u){const{spline:{prototype:h}}=o.seriesTypes,{merge:s,extend:v}=u;class I extends r{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return I.defaultOptions=s(r.defaultOptions),v(I.prototype,{getPointSpline:h.getPointSpline}),o.registerSeriesType("areasplinerange",I),I}),i(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h){({noop:o}=o);const{extend:s,merge:v,pick:I}=h;class J extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const B=this.yAxis,W=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(O){W.forEach(function(L){O[L]!==null&&(O[L+"Plot"]=B.translate(O[L],0,1,0,1))}),O.plotHigh=O.highPlot})}drawPoints(){let B=this,W=B.options,O=B.chart,L=O.renderer,G,k,S,A,H,U,E=0,ie,ee,$,V,j=B.doQuartiles!==!1,w,D=B.options.whiskerLength;B.points.forEach(function(m){var g=m.graphic;let x=g?"animate":"attr",P=m.shapeArgs,X={},Y={},K={},le={},pe=m.color||B.color;typeof m.plotY<"u"&&(ie=Math.round(P.width),ee=Math.floor(P.x),$=ee+ie,V=Math.round(ie/2),G=Math.floor(j?m.q1Plot:m.lowPlot),k=Math.floor(j?m.q3Plot:m.lowPlot),S=Math.floor(m.highPlot),A=Math.floor(m.lowPlot),g||(m.graphic=g=L.g("point").add(B.group),m.stem=L.path().addClass("highcharts-boxplot-stem").add(g),D&&(m.whiskers=L.path().addClass("highcharts-boxplot-whisker").add(g)),j&&(m.box=L.path(void 0).addClass("highcharts-boxplot-box").add(g)),m.medianShape=L.path(void 0).addClass("highcharts-boxplot-median").add(g)),O.styledMode||(Y.stroke=m.stemColor||W.stemColor||pe,Y["stroke-width"]=I(m.stemWidth,W.stemWidth,W.lineWidth),Y.dashstyle=m.stemDashStyle||W.stemDashStyle||W.dashStyle,m.stem.attr(Y),D&&(K.stroke=m.whiskerColor||W.whiskerColor||pe,K["stroke-width"]=I(m.whiskerWidth,W.whiskerWidth,W.lineWidth),K.dashstyle=m.whiskerDashStyle||W.whiskerDashStyle||W.dashStyle,m.whiskers.attr(K)),j&&(X.fill=m.fillColor||W.fillColor||pe,X.stroke=W.lineColor||pe,X["stroke-width"]=W.lineWidth||0,X.dashstyle=m.boxDashStyle||W.boxDashStyle||W.dashStyle,m.box.attr(X)),le.stroke=m.medianColor||W.medianColor||pe,le["stroke-width"]=I(m.medianWidth,W.medianWidth,W.lineWidth),le.dashstyle=m.medianDashStyle||W.medianDashStyle||W.dashStyle,m.medianShape.attr(le)),U=m.stem.strokeWidth()%2/2,E=ee+V+U,g=[["M",E,k],["L",E,S],["M",E,G],["L",E,A]],m.stem[x]({d:g}),j&&(U=m.box.strokeWidth()%2/2,G=Math.floor(G)+U,k=Math.floor(k)+U,ee+=U,$+=U,g=[["M",ee,k],["L",ee,G],["L",$,G],["L",$,k],["L",ee,k],["Z"]],m.box[x]({d:g})),D&&(U=m.whiskers.strokeWidth()%2/2,S+=U,A+=U,w=/%$/.test(D)?V*parseFloat(D)/100:D/2,g=[["M",E-w,S],["L",E+w,S],["M",E-w,A],["L",E+w,A]],m.whiskers[x]({d:g})),H=Math.round(m.medianPlot),U=m.medianShape.strokeWidth()%2/2,H+=U,g=[["M",ee,H],["L",$,H]],m.medianShape[x]({d:g}))})}toYData(B){return[B.low,B.q1,B.median,B.q3,B.high]}}return J.defaultOptions=v(r.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),s(J.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:o,setStackedPoints:o}),u.registerSeriesType("boxplot",J),J}),i(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),i(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o,u,h){const{parse:s}=r,{noop:v}=u,{arrayMax:I,arrayMin:J,isNumber:M,merge:B,pick:W,stableSort:O}=h;class L{constructor(k,S){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=v,this.init(k,S)}init(k,S){this.options=k,this.visible=!0,this.chart=S.chart,this.legend=S}addToLegend(k){k.splice(this.options.legendIndex,0,this)}drawLegendSymbol(k){const S=W(k.options.itemDistance,20),A=this.legendItem||{},H=this.options;var U=H.ranges,E=H.connectorDistance;if(U&&U.length&&M(U[0].value)){O(U,function(ee,$){return $.value-ee.value}),this.ranges=U,this.setOptions(),this.render(),k=this.getMaxLabelSize();var ie=this.ranges[0].radius;U=2*ie,E=E-ie+k.width,E=0<E?E:0,this.maxLabel=k,this.movementX=H.labels.align==="left"?E:0,A.labelWidth=U+E+S,A.labelHeight=U+k.height/2}else k.options.bubbleLegend.autoRanges=!0}setOptions(){const k=this.ranges,S=this.options,A=this.chart.series[S.seriesIndex],H=this.legend.baseline,U={zIndex:S.zIndex,"stroke-width":S.borderWidth},E={zIndex:S.zIndex,"stroke-width":S.connectorWidth},ie={align:this.legend.options.rtl||S.labels.align==="left"?"right":"left",zIndex:S.zIndex},ee=A.options.marker.fillOpacity,$=this.chart.styledMode;k.forEach(function(V,j){$||(U.stroke=W(V.borderColor,S.borderColor,A.color),U.fill=W(V.color,S.color,ee!==1?s(A.color).setOpacity(ee).get("rgba"):A.color),E.stroke=W(V.connectorColor,S.connectorColor,A.color)),k[j].radius=this.getRangeRadius(V.value),k[j]=B(k[j],{center:k[0].radius-k[j].radius+H}),$||B(!0,k[j],{bubbleAttribs:B(U),connectorAttribs:B(E),labelAttribs:ie})},this)}getRangeRadius(k){const S=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,S.ranges[S.ranges.length-1].value,S.ranges[0].value,S.minSize,S.maxSize,k)}render(){const k=this.legendItem||{},S=this.chart.renderer,A=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),k.symbol=S.g("bubble-legend"),k.label=S.g("bubble-legend-item"),k.symbol.translateX=0,k.symbol.translateY=0,k.symbol.add(k.label),k.label.add(k.group);for(const H of this.ranges)H.value>=A&&this.renderRange(H);this.hideOverlappingLabels()}renderRange(k){var S=this.options;const A=S.labels;var H=this.chart;const U=H.series[S.seriesIndex],E=H.renderer,ie=this.symbols;H=ie.labels;const ee=k.center,$=Math.abs(k.radius);var V=S.connectorDistance||0;const j=A.align,w=S.connectorWidth,D=this.ranges[0].radius||0,m=ee-$-S.borderWidth/2+w/2,g=E.styledMode;V=this.legend.options.rtl||j==="left"?-V:V,j==="center"&&(V=0,S.connectorDistance=0,k.labelAttribs.align="center"),ie.bubbleItems.push(E.circle(D,ee+((m%1?1:.5)-(w%2?0:.5)),$).attr(g?{}:k.bubbleAttribs).addClass((g?"highcharts-color-"+U.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(S.className||"")).add(this.legendItem.symbol)),ie.connectors.push(E.path(E.crispLine([["M",D,m],["L",D+V,m]],S.connectorWidth)).attr(g?{}:k.connectorAttribs).addClass((g?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(S.connectorClassName||"")).add(this.legendItem.symbol)),k=E.text(this.formatLabel(k)).attr(g?{}:k.labelAttribs).css(g?{}:A.style).addClass("highcharts-bubble-legend-labels "+(S.labels.className||"")).add(this.legendItem.symbol),S={x:D+V+S.labels.x,y:m+S.labels.y+.4*k.getBBox().height},k.attr(S),H.push(k),k.placed=!0,k.alignAttr=S}getMaxLabelSize(){let k,S;return this.symbols.labels.forEach(function(A){S=A.getBBox(!0),k=k?S.width>k.width?S:k:S}),k||{}}formatLabel(k){var S=this.options;const A=S.labels.formatter;S=S.labels.format;const{numberFormatter:H}=this.chart;return S?o.format(S,k):A?A.call(k):H(k.value,1)}hideOverlappingLabels(){const k=this.chart,S=this.symbols;!this.options.labels.allowOverlap&&S&&(k.hideOverlappingLabels(S.labels),S.labels.forEach(function(A,H){A.newOpacity?A.newOpacity!==A.oldOpacity&&S.connectors[H].show():S.connectors[H].hide()}))}getRanges(){const k=this.legend.bubbleLegend,S=k.options.ranges;let A,H,U=Number.MAX_VALUE,E=-Number.MAX_VALUE;return k.chart.series.forEach(function(ie){ie.isBubble&&!ie.ignoreSeries&&(H=ie.zData.filter(M),H.length&&(U=W(ie.options.zMin,Math.min(U,Math.max(J(H),ie.options.displayNegative===!1?ie.options.zThreshold:-Number.MAX_VALUE))),E=W(ie.options.zMax,Math.max(E,I(H)))))}),A=U===E?[{value:E}]:[{value:U},{value:(U+E)/2},{value:E,autoRanges:!0}],S.length&&S[0].radius&&A.reverse(),A.forEach(function(ie,ee){S&&S[ee]&&(A[ee]=B(S[ee],ie))}),A}predictBubbleSizes(){var k=this.chart,S=k.legend.options,A=S.floating;const H=(S=S.layout==="horizontal")?k.legend.lastLineHeight:0,U=k.plotSizeX,E=k.plotSizeY;var ie=k.series[this.options.seriesIndex],ee=ie.getPxExtremes();k=Math.ceil(ee.minPxSize),ee=Math.ceil(ee.maxPxSize);const $=Math.min(E,U);return ie=ie.options.maxSize,A||!/%$/.test(ie)?A=ee:(ie=parseFloat(ie),A=($+H)*ie/100/(ie/100+1),(S&&E-A>=U||!S&&U-A>=E)&&(A=ee)),[k,Math.ceil(A)]}updateRanges(k,S){const A=this.legend.options.bubbleLegend;A.minSize=k,A.maxSize=S,A.ranges=this.getRanges()}correctSizes(){const k=this.legend,S=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(S.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,S.maxPxSize),k.render())}}return L}),i(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(r,o,u,h){function s(S,A,H){const U=this.legend;var E=0<=v(this);let ie,ee;U&&U.options.enabled&&U.bubbleLegend&&U.options.bubbleLegend.autoRanges&&E?(ie=U.bubbleLegend.options,E=U.bubbleLegend.predictBubbleSizes(),U.bubbleLegend.updateRanges(E[0],E[1]),ie.placed||(U.group.placed=!1,U.allItems.forEach($=>{ee=$.legendItem||{},ee.group&&(ee.group.translateY=null)})),U.render(),this.getMargins(),this.axes.forEach(function($){$.visible&&$.render(),ie.placed||($.setScale(),$.updateNames(),L($.ticks,function(V){V.isNew=!0,V.isNewLabel=!0}))}),ie.placed=!0,this.getMargins(),S.call(this,A,H),U.bubbleLegend.correctSizes(),B(U,I(U))):(S.call(this,A,H),U&&U.options.enabled&&U.bubbleLegend&&(U.render(),B(U,I(U))))}function v(S){S=S.series;let A=0;for(;A<S.length;){if(S[A]&&S[A].isBubble&&S[A].visible&&S[A].zData.length)return A;A++}return-1}function I(S){S=S.allItems;const A=[],H=S.length;let U,E,ie=0;for(E=0;E<H;E++){var ee=S[E].legendItem||{};if(U=(S[E+1]||{}).legendItem||{},ee.labelHeight&&(S[E].itemHeight=ee.labelHeight),S[E]===S[H-1]||ee.y!==U.y){for(A.push({height:0}),ee=A[A.length-1],ie;ie<=E;ie++)S[ie].itemHeight>ee.height&&(ee.height=S[ie].itemHeight);ee.step=E}}return A}function J(S){const A=this.bubbleLegend,H=this.options,U=H.bubbleLegend,E=v(this.chart);A&&A.ranges&&A.ranges.length&&(U.ranges.length&&(U.autoRanges=!!U.ranges[0].autoRanges),this.destroyItem(A)),0<=E&&H.enabled&&U.enabled&&(U.seriesIndex=E,this.bubbleLegend=new o(U,this),this.bubbleLegend.addToLegend(S.allItems))}function M(S){if(S.defaultPrevented)return!1;var A=this.chart;S=this.visible;const H=this.chart.legend;H&&H.bubbleLegend&&(this.visible=!S,this.ignoreSeries=S,A=0<=v(A),H.bubbleLegend.visible!==A&&(H.update({bubbleLegend:{enabled:A}}),H.bubbleLegend.visible=A),this.visible=S)}function B(S,A){const H=S.options.rtl;let U,E,ie,ee,$=0;S.allItems.forEach((V,j)=>{ee=V.legendItem||{},ee.group&&(U=ee.group.translateX||0,E=ee.y||0,((ie=V.movementX)||H&&V.ranges)&&(ie=H?U-V.options.maxSize/2:U+ie,ee.group.attr({translateX:ie})),j>A[$].step&&$++,ee.group.attr({translateY:Math.round(E+A[$].height/2)}),ee.y=E+A[$].height/2)})}const{setOptions:W}=u,{addEvent:O,objectEach:L,wrap:G}=h,k=[];return{compose:function(S,A,H){h.pushUnique(k,S)&&(W({legend:{bubbleLegend:r}}),G(S.prototype,"drawChartBox",s)),h.pushUnique(k,A)&&O(A,"afterGetAllItems",J),h.pushUnique(k,H)&&O(H,"legendItemClick",M)}}}),i(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u){({seriesTypes:{scatter:{prototype:{pointClass:o}}}}=o),{extend:u}=u;class h extends o{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(v){return r.prototype.haloPath.call(this,v===0?0:(this.marker&&this.marker.radius||0)+v)}}return u(h.prototype,{ttBelow:!1}),h}),i(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v){function I(){const ee=this.len,$=this.chart,V=this.isXAxis,j=V?"xData":"yData",w=this.min,D=this.max-w;let m=0,g=ee,x=ee/D,P;this.series.forEach(X=>{if(X.bubblePadding&&(X.visible||!$.options.chart.ignoreHiddenSeries)){P=this.allowZoomOutside=!0;const Y=X[j];if(V&&((X.onPoint||X).getRadii(0,0,X),X.onPoint&&(X.radii=X.onPoint.radii)),0<D){let K=Y.length;for(;K--;)if(A(Y[K])&&this.dataMin<=Y[K]&&Y[K]<=this.max){const le=X.radii&&X.radii[K]||0;m=Math.min((Y[K]-w)*x-le,m),g=Math.max((Y[K]-w)*x+le,g)}}}}),P&&0<D&&!this.logarithmic&&(g-=ee,x*=(ee+Math.max(0,m)-Math.min(g,ee))/ee,[["min","userMin",m],["max","userMax",g]].forEach(X=>{typeof U(this.options[X[0]],this[X[1]])>"u"&&(this[X[0]]+=X[2]/x)}))}const{parse:J}=u;({noop:u}=h);const{series:M,seriesTypes:{column:{prototype:B},scatter:W}}=s,{addEvent:O,arrayMax:L,arrayMin:G,clamp:k,extend:S,isNumber:A,merge:H,pick:U}=v,E=[];class ie extends W{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose($,V,j,w){r.compose(V,j,w),v.pushUnique(E,$)&&($.prototype.beforePadding=I)}animate($){!$&&this.points.length<this.options.animationLimit&&this.points.forEach(function(V){const{graphic:j}=V;j&&j.width&&(this.hasRendered||j.attr({x:V.plotX,y:V.plotY,width:1,height:1}),j.animate(this.markerAttribs(V),this.options.animation))},this)}getRadii(){const $=this.zData,V=this.yData,j=[];let w,D,m,g=this.chart.bubbleZExtremes;const{minPxSize:x,maxPxSize:P}=this.getPxExtremes();if(!g){let X=Number.MAX_VALUE,Y=-Number.MAX_VALUE,K;this.chart.series.forEach(le=>{le.bubblePadding&&(le.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(le=(le.onPoint||le).getZExtremes())&&(X=Math.min(U(X,le.zMin),le.zMin),Y=Math.max(U(Y,le.zMax),le.zMax),K=!0)}),K?(g={zMin:X,zMax:Y},this.chart.bubbleZExtremes=g):g={zMin:0,zMax:0}}for(D=0,w=$.length;D<w;D++)m=$[D],j.push(this.getRadius(g.zMin,g.zMax,x,P,m,V&&V[D]));this.radii=j}getRadius($,V,j,w,D,m){const g=this.options,x=g.sizeBy!=="width",P=g.zThreshold;let X=V-$,Y=.5;if(m===null||D===null)return null;if(A(D)){if(g.sizeByAbsoluteValue&&(D=Math.abs(D-P),X=Math.max(V-P,Math.abs($-P)),$=0),D<$)return j/2-1;0<X&&(Y=(D-$)/X)}return x&&0<=Y&&(Y=Math.sqrt(Y)),Math.ceil(j+Y*(w-j))/2}hasData(){return!!this.processedXData.length}pointAttribs($,V){const j=this.options.marker.fillOpacity;return $=M.prototype.pointAttribs.call(this,$,V),j!==1&&($.fill=J($.fill).setOpacity(j).get("rgba")),$}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:$,radii:V}=this,{minPxSize:j}=this.getPxExtremes();let w=$.length;for(;w--;){const D=$[w],m=V?V[w]:0;A(m)&&m>=j/2?(D.marker=S(D.marker,{radius:m,width:2*m,height:2*m}),D.dlBox={x:D.plotX-m,y:D.plotY-m,width:2*m,height:2*m}):(D.shapeArgs=D.plotY=D.dlBox=void 0,D.isInside=!1)}}getPxExtremes(){const $=Math.min(this.chart.plotWidth,this.chart.plotHeight);var V=w=>{let D;return typeof w=="string"&&(D=/%$/.test(w),w=parseInt(w,10)),D?$*w/100:w};const j=V(U(this.options.minSize,8));return V=Math.max(V(U(this.options.maxSize,"20%")),j),{minPxSize:j,maxPxSize:V}}getZExtremes(){var $=this.options;const V=(this.zData||[]).filter(A);if(V.length){const j=U($.zMin,k(G(V),$.displayNegative===!1?$.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if($=U($.zMax,L(V)),A(j)&&A($))return{zMin:j,zMax:$}}}}return ie.defaultOptions=H(W.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:ee}=this.series.chart,{z:$}=this.point;return A($)?ee($,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),S(ie.prototype,{alignDataLabel:B.alignDataLabel,applyZones:u,bubblePadding:!0,buildKDTree:u,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:o,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),O(ie,"updatedData",ee=>{delete ee.target.chart.bubbleZExtremes}),O(ie,"remove",ee=>{delete ee.target.chart.bubbleZExtremes}),s.registerSeriesType("bubble",ie),ie}),i(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){const{seriesTypes:{column:{prototype:{pointClass:{prototype:u}}},arearange:{prototype:{pointClass:h}}}}=r,{extend:s,isNumber:v}=o;class I extends h{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return v(this.low)}}return s(I.prototype,{setState:u.setState}),I}),i(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h){({noop:o}=o);const{seriesTypes:{arearange:s,column:v,column:{prototype:I}}}=u,{addEvent:J,clamp:M,extend:B,isNumber:W,merge:O,pick:L}=h;class G extends s{setOptions(){return O(!0,arguments[0],{stacking:void 0}),s.prototype.setOptions.apply(this,arguments)}translate(){return I.translate.apply(this)}pointAttribs(){return I.pointAttribs.apply(this,arguments)}translate3dPoints(){return I.translate3dPoints.apply(this,arguments)}translate3dShapes(){return I.translate3dShapes.apply(this,arguments)}}return G.defaultOptions=O(v.defaultOptions,s.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),J(G,"afterColumnTranslate",function(){const k=this.yAxis,S=this.xAxis,A=S.startAngleRad,H=this.chart,U=this.xAxis.isRadial,E=Math.max(H.chartWidth,H.chartHeight)+999;let ie,ee,$,V;this.points.forEach(j=>{const w=j.shapeArgs||{},D=this.options.minPointLength,m=j.plotY,g=k.translate(j.high,0,1,0,1);if(W(g)&&W(m))if(j.plotHigh=M(g,-E,E),j.plotLow=M(m,-E,E),V=j.plotHigh,ie=L(j.rectPlotY,j.plotY)-j.plotHigh,Math.abs(ie)<D?(ee=D-ie,ie+=ee,V-=ee/2):0>ie&&(ie*=-1,V-=ie),U&&this.polar)$=j.barX+A,j.shapeType="arc",j.shapeArgs=this.polar.arc(V+ie,V,$,$+j.pointWidth);else{w.height=ie,w.y=V;const{x=0,width:P=0}=w;j.shapeArgs=O(j.shapeArgs,this.crispCol(x,V,P,ie)),j.tooltipPos=H.inverted?[k.len+k.pos-H.plotLeft-V-ie/2,S.len+S.pos-H.plotTop-x-P/2,ie]:[S.left-H.plotLeft+x+P/2,k.pos-H.plotTop+V+ie/2,ie]}})},{order:5}),B(G.prototype,{directTouch:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:I.adjustForMissingColumns,animate:I.animate,crispCol:I.crispCol,drawGraph:o,drawPoints:I.drawPoints,getSymbol:o,drawTracker:I.drawTracker,getColumnMetrics:I.getColumnMetrics}),u.registerSeriesType("columnrange",G),G}),i(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u){const{prototype:h}=r,{clamp:s,merge:v,pick:I}=u;class J extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let B=this,W=B.chart,O=B.options;var L=B.dense=2>B.closestPointRange*B.xAxis.transA;L=B.borderWidth=I(O.borderWidth,L?0:1);let G=B.yAxis,k=O.threshold,S=B.translatedThreshold=G.getThreshold(k),A=I(O.minPointLength,5),H=B.getColumnMetrics(),U=H.width,E=B.barW=Math.max(U,1+2*L),ie=B.pointXOffset=H.offset;W.inverted&&(S-=.5),O.pointPadding&&(E=Math.ceil(E)),h.translate.apply(B),B.points.forEach(function(ee){var $=I(ee.yBottom,S),V=999+Math.abs($),j=s(ee.plotY,-V,G.len+V);V=ee.plotX+ie;let w=E/2,D=Math.min(j,$);$=Math.max(j,$)-D;var m;let g,x;ee.barX=V,ee.pointWidth=U,ee.tooltipPos=W.inverted?[G.len+G.pos-W.plotLeft-j,B.xAxis.len-V-w,$]:[V+w,j+G.pos-W.plotTop,$],j=k+(ee.total||ee.y),O.stacking==="percent"&&(j=k+(0>ee.y)?-100:100),j=G.toPixels(j,!0);var P=(m=W.plotHeight-j-(W.plotHeight-S))?w*(D-j)/m:0,X=m?w*(D+$-j)/m:0;m=V-P+w,P=V+P+w;var Y=V+X+w;X=V-X+w,g=D-A,x=D+$,0>ee.y&&(g=D,x=D+$+A),W.inverted&&(Y=G.width-D,m=j-(G.width-S),P=w*(j-Y)/m,X=w*(j-(Y-$))/m,m=V+w+P,P=m-2*P,Y=V-X+w,X=V+X+w,g=D,x=D+$-A,0>ee.y&&(x=D+$+A)),ee.shapeType="path",ee.shapeArgs={x:m,y:g,width:P-m,height:$,d:[["M",m,g],["L",P,g],["L",Y,x],["L",X,x],["Z"]]}})}}return J.defaultOptions=v(r.defaultOptions,{}),o.registerSeriesType("columnpyramid",J),J}),i(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),i(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h,s){const{arearange:v}=h.seriesTypes,{addEvent:I,merge:J,extend:M}=s;class B extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||o.prototype.getColumnMetrics.call(this)}drawDataLabels(){const O=this.pointValKey;v&&(v.prototype.drawDataLabels.call(this),this.data.forEach(function(L){L.y=L[O]}))}toYData(O){return[O.low,O.high]}}return B.defaultOptions=J(r.defaultOptions,u),I(B,"afterTranslate",function(){this.points.forEach(W=>{W.plotLow=W.plotY})},{order:0}),M(B.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),h.registerSeriesType("errorbar",B),B}),i(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({series:{prototype:{pointClass:r}}}=r);class o extends r{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(h){this.state=h}}return o}),i(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h){({noop:o}=o);const{series:s,seriesTypes:{column:v}}=u,{clamp:I,isNumber:J,extend:M,merge:B,pick:W,pInt:O,defined:L}=h;class G extends s{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const S=this.yAxis,A=this.options,H=S.center;this.generatePoints(),this.points.forEach(U=>{const E=B(A.dial,U.dial),ie=O(E.radius)*H[2]/200,ee=O(E.baseLength)*ie/100,$=O(E.rearLength)*ie/100,V=E.baseWidth,j=E.topWidth;let w=A.overshoot,D=S.startAngleRad+S.translate(U.y,void 0,void 0,void 0,!0);(J(w)||A.wrap===!1)&&(w=J(w)?w/180*Math.PI:0,D=I(D,S.startAngleRad-w,S.endAngleRad+w)),D=180*D/Math.PI,U.shapeType="path",U.shapeArgs={d:E.path||[["M",-$,-V/2],["L",ee,-V/2],["L",ie,-j/2],["L",ie,j/2],["L",ee,V/2],["L",-$,V/2],["Z"]],translateX:H[0],translateY:H[1],rotation:D},U.plotX=H[0],U.plotY=H[1],L(U.y)&&S.max-S.min&&(U.percentage=(U.y-S.min)/(S.max-S.min)*100)})}drawPoints(){const S=this,A=S.chart,H=S.yAxis.center,U=S.pivot,E=S.options,ie=E.pivot,ee=A.renderer;S.points.forEach($=>{const V=$.graphic,j=$.shapeArgs,w=j.d,D=B(E.dial,$.dial);V?(V.animate(j),j.d=w):$.graphic=ee[$.shapeType](j).addClass("highcharts-dial").add(S.group),A.styledMode||$.graphic[V?"animate":"attr"]({stroke:D.borderColor,"stroke-width":D.borderWidth,fill:D.backgroundColor})}),U?U.animate({translateX:H[0],translateY:H[1]}):ie&&(S.pivot=ee.circle(0,0,ie.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(H[0],H[1]).add(S.group),A.styledMode||S.pivot.attr({fill:ie.backgroundColor,stroke:ie.borderColor,"stroke-width":ie.borderWidth}))}animate(S){const A=this;S||A.points.forEach(H=>{const U=H.graphic;U&&(U.attr({rotation:180*A.yAxis.startAngleRad/Math.PI}),U.animate({rotation:H.shapeArgs.rotation},A.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),s.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(S,A){s.prototype.setData.call(this,S,!1),this.processData(),this.generatePoints(),W(A,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return G.defaultOptions=B(s.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),M(G.prototype,{angular:!0,directTouch:!0,drawGraph:o,drawTracker:v.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"]}),u.registerSeriesType("gauge",G),G}),i(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(r){function o(){const s=this;let v,I,J;s.container&&(v=u(s.container,"mousedown",M=>{const B=s.hoverPoint;B&&B.series&&B.series.hasDraggableNodes&&B.series.options.draggable&&(B.series.onMouseDown(B,M),I=u(s.container,"mousemove",W=>B&&B.series&&B.series.onMouseMove(B,W)),J=u(s.container.ownerDocument,"mouseup",W=>(I(),J(),B&&B.series&&B.series.onMouseUp(B,W))))})),u(s,"destroy",function(){v()})}const{addEvent:u}=r,h=[];return{compose:function(s){r.pushUnique(h,s)&&u(s,"load",o)},onMouseDown:function(s,v){v=this.chart.pointer.normalize(v),s.fixedPosition={chartX:v.chartX,chartY:v.chartY,plotX:s.plotX,plotY:s.plotY},s.inDragMode=!0},onMouseMove:function(s,v){if(s.fixedPosition&&s.inDragMode){const M=this.chart;v=M.pointer.normalize(v);var I=s.fixedPosition.chartX-v.chartX,J=s.fixedPosition.chartY-v.chartY;v=M.graphLayoutsLookup,(5<Math.abs(I)||5<Math.abs(J))&&(I=s.fixedPosition.plotX-I,J=s.fixedPosition.plotY-J,M.isInsidePlot(I,J)&&(s.plotX=I,s.plotY=J,s.hasDragged=!0,this.redrawHalo(s),v.forEach(B=>{B.restartSimulation()})))}},onMouseUp:function(s,v){s.fixedPosition&&(s.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),s.inDragMode=s.hasDragged=!1,this.options.fixedDraggable||delete s.fixedPosition)},redrawHalo:function(s){s&&this.halo&&this.halo.attr({d:s.haloPath(this.options.states.hover.halo.size)})}}}),i(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(r,o){function u(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(B=>{B.updateSimulation()}),this.redraw())}function h(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(B=>{B.updateSimulation(!1)}),this.redraw())}function s(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(B=>{B.stop()})}function v(){let B,W=!1;const O=L=>{L.maxIterations--&&isFinite(L.temperature)&&!L.isStable()&&!L.enableSimulation&&(L.beforeStep&&L.beforeStep(),L.step(),B=!1,W=!0)};if(this.graphLayoutsLookup){for(I(!1,this),this.graphLayoutsLookup.forEach(L=>L.start());!B;)B=!0,this.graphLayoutsLookup.forEach(O);W&&this.series.forEach(L=>{L&&L.layout&&L.render()})}}const{setAnimation:I}=r,{addEvent:J}=o,M=[];return{compose:function(B){o.pushUnique(M,B)&&(J(B,"afterPrint",u),J(B,"beforePrint",h),J(B,"predraw",s),J(B,"render",v))},integrations:{},layouts:{}}}),i(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(r,o,u){({seriesTypes:{bubble:{prototype:{pointClass:u}}}}=u);class h extends u{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),o.prototype.destroy.apply(this,arguments)}firePointEvent(){const v=this.series.options;if(this.isParentNode&&v.parentNode){const I=v.allowPointSelect;v.allowPointSelect=v.parentNode.allowPointSelect,o.prototype.firePointEvent.apply(this,arguments),v.allowPointSelect=I}else o.prototype.firePointEvent.apply(this,arguments)}select(){const v=this.series.chart;this.isParentNode?(v.getSelectedPoints=v.getSelectedParentNodes,o.prototype.select.apply(this,arguments),v.getSelectedPoints=r.prototype.getSelectedPoints):o.prototype.select.apply(this,arguments)}}return h}),i(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(r){const{isNumber:o}=r;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:u}=this.series.chart,{value:h}=this.point;return o(h)?u(h,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),i(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(r,o,u){const h=r.getMass(),s=-u.x*o*this.diffTemperature;o=-u.y*o*this.diffTemperature,r.fromNode.fixedPosition||(r.fromNode.plotX-=s*h.fromNode/r.fromNode.degree,r.fromNode.plotY-=o*h.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.plotX+=s*h.toNode/r.toNode.degree,r.toNode.plotY+=o*h.toNode/r.toNode.degree)},attractiveForceFunction:function(r,o){return(o-r)/r},barycenter:function(){let r=this.options.gravitationalConstant,o=this.barycenter.xFactor,u=this.barycenter.yFactor;o=(o-(this.box.left+this.box.width)/2)*r,u=(u-(this.box.top+this.box.height)/2)*r,this.nodes.forEach(function(h){h.fixedPosition||(h.plotX-=o/h.mass/h.degree,h.plotY-=u/h.mass/h.degree)})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.5)},integrate:function(r,o){var u=-r.options.friction;let h=r.options.maxSpeed,s=(o.plotX+o.dispX-o.prevX)*u;u*=o.plotY+o.dispY-o.prevY;var v=Math.abs;let I=v(s)/(s||1);v=v(u)/(u||1),s=I*Math.min(h,Math.abs(s)),u=v*Math.min(h,Math.abs(u)),o.prevX=o.plotX+o.dispX,o.prevY=o.plotY+o.dispY,o.plotX+=s,o.plotY+=u,o.temperature=r.vectorLength({x:s,y:u})},repulsive:function(r,o,u){o=o*this.diffTemperature/r.mass/r.degree,r.fixedPosition||(r.plotX+=u.x*o,r.plotY+=u.y*o)},repulsiveForceFunction:function(r,o){return(o-r)/r*(o>r?1:0)}}}),i(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,o){return{noop:r}=r,{barycenter:function(){const u=this.options.gravitationalConstant,h=this.box,s=this.nodes;let v,I;for(const J of s)this.options.splitSeries&&!J.isParentNode?(v=J.series.parentNode.plotX,I=J.series.parentNode.plotY):(v=h.width/2,I=h.height/2),J.fixedPosition||(J.plotX-=(J.plotX-v)*u/(J.mass*Math.sqrt(s.length)),J.plotY-=(J.plotY-I)*u/(J.mass*Math.sqrt(s.length)))},getK:r,integrate:o.integrate,repulsive:function(u,h,s,v){const I=h*this.diffTemperature/u.mass/u.degree;h=s.x*I,s=s.y*I,u.fixedPosition||(u.plotX+=h,u.plotY+=s),v.fixedPosition||(v.plotX-=h,v.plotY-=s)},repulsiveForceFunction:function(u,h,s,v){return Math.min(u,(s.marker.radius+v.marker.radius)/2)}}}),i(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(r,o,u,h){const s=r.getMass(),v=u.x/h*o;o*=u.y/h,r.fromNode.fixedPosition||(r.fromNode.dispX-=v*s.fromNode/r.fromNode.degree,r.fromNode.dispY-=o*s.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.dispX+=v*s.toNode/r.toNode.degree,r.toNode.dispY+=o*s.toNode/r.toNode.degree)},attractiveForceFunction:function(r,o){return r*r/o},barycenter:function(){const r=this.options.gravitationalConstant,o=this.barycenter.xFactor,u=this.barycenter.yFactor;this.nodes.forEach(function(h){if(!h.fixedPosition){var s=h.getDegree();s*=1+s/2,h.dispX+=(o-h.plotX)*r*s/h.degree,h.dispY+=(u-h.plotY)*r*s/h.degree}})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.3)},integrate:function(r,o){let u;o.dispX+=o.dispX*r.options.friction,o.dispY+=o.dispY*r.options.friction,u=o.temperature=r.vectorLength({x:o.dispX,y:o.dispY}),u!==0&&(o.plotX+=o.dispX/u*Math.min(Math.abs(o.dispX),r.temperature),o.plotY+=o.dispY/u*Math.min(Math.abs(o.dispY),r.temperature))},repulsive:function(r,o,u,h){r.dispX+=u.x/h*o/r.degree,r.dispY+=u.y/h*o/r.degree},repulsiveForceFunction:function(r,o){return o*o/r}}}),i(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class r{constructor(u){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=u,this.boxSize=Math.min(u.width,u.height)}divideBox(){const u=this.box.width/2,h=this.box.height/2;this.nodes[0]=new r({left:this.box.left,top:this.box.top,width:u,height:h}),this.nodes[1]=new r({left:this.box.left+u,top:this.box.top,width:u,height:h}),this.nodes[2]=new r({left:this.box.left+u,top:this.box.top+h,width:u,height:h}),this.nodes[3]=new r({left:this.box.left,top:this.box.top+h,width:u,height:h})}getBoxPosition(u){const h=u.plotY<this.box.top+this.box.height/2;return u.plotX<this.box.left+this.box.width/2?h?0:3:h?1:2}insert(u,h){this.isInternal?this.nodes[this.getBoxPosition(u)].insert(u,h-1):(this.isEmpty=!1,this.body?h?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,h-1),this.body=!0),this.nodes[this.getBoxPosition(u)].insert(u,h-1)):(h=new r({top:u.plotX||NaN,left:u.plotY||NaN,width:.1,height:.1}),h.body=u,h.isInternal=!1,this.nodes.push(h)):(this.isInternal=!1,this.body=u))}updateMassAndCenter(){let u=0,h=0,s=0;if(this.isInternal){for(const v of this.nodes)v.isEmpty||(u+=v.mass,h+=v.plotX*v.mass,s+=v.plotY*v.mass);h/=u,s/=u}else this.body&&(u=this.body.mass,h=this.body.plotX,s=this.body.plotY);this.mass=u,this.plotX=h,this.plotY=s}}return r}),i(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(r){class o{constructor(h,s,v,I){this.box={left:h,top:s,width:v,height:I},this.maxDepth=25,this.root=new r(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(h){h.updateMassAndCenter()})}insertNodes(h){for(const s of h)this.root.insert(s,this.maxDepth)}visitNodeRecursive(h,s,v){let I;if(h||(h=this.root),h===this.root&&s&&(I=s(h)),I!==!1){for(const J of h.nodes){if(J.isInternal){if(s&&(I=s(J)),I===!1)continue;this.visitNodeRecursive(J,s,v)}else J.body&&s&&s(J.body);v&&v(J)}h===this.root&&v&&v(h)}}}return o}),i(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,o,u,h,s,v){const{win:I}=o,{clamp:J,defined:M,isFunction:B,fireEvent:W,pick:O}=s;class L{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(k){u.compose(k),u.integrations.euler=r,u.integrations.verlet=v,u.layouts["reingold-fruchterman"]=L}init(k){this.options=k,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=u.integrations[k.integration],this.enableSimulation=k.enableSimulation,this.attractiveForce=O(k.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=O(k.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=k.approximation}updateSimulation(k){this.enableSimulation=O(k,this.options.enableSimulation)}start(){const k=this.series,S=this.options;this.currentStep=0,this.forces=k[0]&&k[0].forces||[],this.chart=k[0]&&k[0].chart,this.initialRendering&&(this.initPositions(),k.forEach(function(A){A.finishedAnimating=!0,A.render()})),this.setK(),this.resetSimulation(S),this.enableSimulation&&this.step()}step(){const k=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const S of this.forces||[])this[S+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const S of k)S.chart&&S.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&I.cancelAnimationFrame(this.simulation),this.simulation=I.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(S=>{W(S,"afterSimulation")}))}}stop(){this.simulation&&I.cancelAnimationFrame(this.simulation)}setArea(k,S,A,H){this.box={left:k,top:S,width:A,height:H}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(k,S){for(const A of k)S.indexOf(A)===-1&&S.push(A)}removeElementFromCollection(k,S){k=S.indexOf(k),k!==-1&&S.splice(k,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(k){this.maxIterations=O(k,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(k){this.initialRendering=k}createQuadTree(){this.quadTree=new h(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const k=this.options.initialPositions;if(B(k)){k.call(this);for(const S of this.nodes)M(S.prevX)||(S.prevX=S.plotX),M(S.prevY)||(S.prevY=S.plotY),S.dispX=0,S.dispY=0}else k==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const k=this.box;var S=this.nodes;const A=2*Math.PI/(S.length+1),H=S.filter(function($){return $.linksTo.length===0}),U={},E=this.options.initialPositionRadius,ie=$=>{for(const V of $.linksFrom||[])U[V.toNode.id]||(U[V.toNode.id]=!0,ee.push(V.toNode),ie(V.toNode))};let ee=[];for(const $ of H)ee.push($),ie($);if(ee.length)for(const $ of S)ee.indexOf($)===-1&&ee.push($);else ee=S;for(let $=0,V=ee.length;$<V;++$)S=ee[$],S.plotX=S.prevX=O(S.plotX,k.width/2+E*Math.cos($*A)),S.plotY=S.prevY=O(S.plotY,k.height/2+E*Math.sin($*A)),S.dispX=0,S.dispY=0}setRandomPositions(){const k=this.box,S=this.nodes,A=S.length+1,H=E=>(E=E*E/Math.PI,E-=Math.floor(E));let U;for(let E=0,ie=S.length;E<ie;++E)U=S[E],U.plotX=U.prevX=O(U.plotX,k.width*H(E)),U.plotY=U.prevY=O(U.plotY,k.height*H(A+E)),U.dispX=0,U.dispY=0}force(k,...S){this.integration[k].apply(this,S)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let k=0,S=0,A=0;for(const H of this.nodes)S+=H.plotX*H.mass,A+=H.plotY*H.mass,k+=H.mass;return this.barycenter={x:S,y:A,xFactor:S/k,yFactor:A/k}}barnesHutApproximation(k,S){const A=this.getDistXY(k,S),H=this.vectorLength(A);let U,E;return k!==S&&H!==0&&(S.isInternal?S.boxSize/H<this.options.theta&&H!==0?(E=this.repulsiveForce(H,this.k),this.force("repulsive",k,E*S.mass,A,H),U=!1):U=!0:(E=this.repulsiveForce(H,this.k),this.force("repulsive",k,E*S.mass,A,H))),U}repulsiveForces(){if(this.approximation==="barnes-hut")for(const k of this.nodes)this.quadTree.visitNodeRecursive(null,S=>this.barnesHutApproximation(k,S));else{let k,S,A;for(const H of this.nodes)for(const U of this.nodes)H===U||H.fixedPosition||(A=this.getDistXY(H,U),S=this.vectorLength(A),S!==0&&(k=this.repulsiveForce(S,this.k),this.force("repulsive",H,k*U.mass,A,S)))}}attractiveForces(){let k,S,A;for(const H of this.links)H.fromNode&&H.toNode&&(k=this.getDistXY(H.fromNode,H.toNode),S=this.vectorLength(k),S!==0&&(A=this.attractiveForce(S,this.k),this.force("attractive",H,A,k,S)))}applyLimits(){const k=this.nodes;for(const S of k){if(S.fixedPosition)break;this.integration.integrate(this,S),this.applyLimitBox(S,this.box),S.dispX=0,S.dispY=0}}applyLimitBox(k,S){const A=k.radius;k.plotX=J(k.plotX,S.left+A,S.width-A),k.plotY=J(k.plotY,S.top+A,S.height-A)}coolDown(k,S,A){return k-S*A}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let k=0;for(const S of this.nodes)k+=S.temperature;return k}vectorLength(k){return Math.sqrt(k.x*k.x+k.y*k.y)}getDistR(k,S){return k=this.getDistXY(k,S),this.vectorLength(k)}getDistXY(k,S){const A=k.plotX-S.plotX;return k=k.plotY-S.plotY,{x:A,y:k,absX:Math.abs(A),absY:Math.abs(k)}}}return L}),i(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(r,o,u,h){function s(){const W=[];return this.series.forEach(O=>{O.parentNode&&O.parentNode.selected&&W.push(O.parentNode)}),W}function v(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:I,pick:J}=h,M=[];class B extends u{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(O){u.compose(O),r.integrations.packedbubble=o,r.layouts.packedbubble=B,h.pushUnique(M,O)&&(I(O,"beforeRedraw",v),O.prototype.getSelectedParentNodes=s)}beforeStep(){this.options.marker&&this.series.forEach(O=>{O&&O.calculateParentRadius()})}isStable(){const O=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>O||0>=this.temperature}setCircularPositions(){const O=this.box;var L=this.nodes;const G=2*Math.PI/(L.length+1),k=this.options.initialPositionRadius;let S,A=0;for(const H of L)this.options.splitSeries&&!H.isParentNode?(L=H.series.parentNode.plotX,S=H.series.parentNode.plotY):(L=O.width/2,S=O.height/2),H.plotX=H.prevX=J(H.plotX,L+k*Math.cos(H.index||A*G)),H.plotY=H.prevY=J(H.plotY,S+k*Math.sin(H.index||A*G)),H.dispX=0,H.dispY=0,A++}repulsiveForces(){const O=this,L=O.options.bubblePadding;let G,k,S;O.nodes.forEach(A=>{A.degree=A.mass,A.neighbours=0,O.nodes.forEach(H=>{G=0,A===H||A.fixedPosition||!O.options.seriesInteraction&&A.series!==H.series||(S=O.getDistXY(A,H),k=O.vectorLength(S)-(A.marker.radius+H.marker.radius+L),0>k&&(A.degree+=.01,A.neighbours++,G=O.repulsiveForce(-k/Math.sqrt(A.neighbours),O.k,A,H)),O.force("repulsive",A,G*H.mass,S,H,k))})})}applyLimitBox(O,L){let G,k;this.options.splitSeries&&!O.isParentNode&&this.options.parentNodeLimit&&(G=this.getDistXY(O,O.series.parentNode),k=O.series.parentNodeRadius-O.marker.radius-this.vectorLength(G),0>k&&k>-2*O.marker.radius&&(O.plotX-=.01*G.x,O.plotY-=.01*G.y)),super.applyLimitBox(O,L)}}return r.layouts.packedbubble=B}),i(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(r,o){const{syncTimeout:u}=r,{animObject:h}=o;return{initDataLabels:function(){const s=this.options.dataLabels;if(!this.dataLabelsGroup){const v=this.initDataLabelsGroup();return!this.chart.styledMode&&(s!=null&&s.style)&&v.css(s.style),v.attr({opacity:0}),this.visible&&v.show(),v}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var s;const v=this.options.dataLabels;v!=null&&v.defer&&(!((s=this.options.layoutAlgorithm)===null||s===void 0)&&s.enableSimulation)?u(()=>{this.deferDataLabels=!1},v?h(v.animation).defer:0):this.deferDataLabels=!1}}}),i(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(r,o,u,h,s,v,I,J,M,B,W){const{parse:O}=r;({noop:r}=h);const{series:{prototype:L},seriesTypes:{bubble:G}}=J,{initDataLabels:k,initDataLabelsDefer:S}=M,{addEvent:A,clamp:H,defined:U,extend:E,fireEvent:ie,isArray:ee,isNumber:$,merge:V,pick:j}=B;class w extends G{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(m,g,x,P){G.compose(m,g,x,P),o.compose(g),I.compose(g)}accumulateAllPoints(){const m=this.chart,g=[];let x;for(const P of m.series)if(P.is("packedbubble")&&P.visible||!m.options.chart.ignoreHiddenSeries){x=P.yData||[];for(let X=0;X<x.length;X++)g.push([null,null,x[X],P.index,X,{id:X,marker:{radius:0}}])}return g}addLayout(){const m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},g=m.type||"packedbubble",x=this.chart.options.chart;let P=this.chart.graphLayoutsStorage,X=this.chart.graphLayoutsLookup,Y;P||(this.chart.graphLayoutsStorage=P={},this.chart.graphLayoutsLookup=X=[]),Y=P[g],Y||(m.enableSimulation=U(x.forExport)?!x.forExport:m.enableSimulation,P[g]=Y=new u.layouts[g],Y.init(m),X.splice(Y.index,0,Y)),this.layout=Y,this.points.forEach(K=>{K.mass=2,K.degree=1,K.collisionNmb=1}),Y.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),Y.addElementsToCollection([this],Y.series),Y.addElementsToCollection(this.points,Y.nodes)}addSeriesLayout(){var m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const g=m.type||"packedbubble",x=this.chart.graphLayoutsStorage,P=this.chart.graphLayoutsLookup;m=V(m,m.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let X=x[g+"-series"];X||(x[g+"-series"]=X=new u.layouts[g],X.init(m),P.splice(X.index,0,X)),this.parentNodeLayout=X,this.createParentNodes()}calculateParentRadius(){const m=this.seriesBox();this.parentNodeRadius=H(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,m?Math.max(Math.sqrt(Math.pow(m.width,2)+Math.pow(m.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let m=this.options.zMin,g=this.options.zMax,x=1/0,P=-1/0;return m&&g?[m,g]:(this.chart.series.forEach(X=>{X.yData.forEach(Y=>{U(Y)&&(Y>P&&(P=Y),Y<x&&(x=Y))})}),m=j(m,x),g=j(g,P),[m,g])}checkOverlap(m,g){const x=m[0]-g[0],P=m[1]-g[1];return-.001>Math.sqrt(x*x+P*P)-Math.abs(m[2]+g[2])}createParentNodes(){const m=this.pointClass,g=this.chart,x=this.parentNodeLayout,P=this.layout.options;let X,Y=this.parentNode,K={radius:this.parentNodeRadius,lineColor:this.color,fillColor:O(this.color).brighten(.4).get()};P.parentNodeOptions&&(K=V(P.parentNodeOptions.marker||{},K)),this.parentNodeMass=0,this.points.forEach(le=>{this.parentNodeMass+=Math.PI*Math.pow(le.marker.radius,2)}),this.calculateParentRadius(),x.nodes.forEach(le=>{le.seriesIndex===this.index&&(X=!0)}),x.setArea(0,0,g.plotWidth,g.plotHeight),X||(Y||(Y=new m().init(this,{mass:this.parentNodeRadius/2,marker:K,dataLabels:{inside:!1},states:{normal:{marker:K},hover:{marker:K}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(Y.plotX=this.parentNode.plotX,Y.plotY=this.parentNode.plotY),this.parentNode=Y,x.addElementsToCollection([this],x.series),x.addElementsToCollection([Y],x.nodes))}deferLayout(){const m=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),m.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(m=>{m.removeElementFromCollection(this,m.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),L.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(L.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",L.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var m=this.chart,g=this.layout.options.parentNodeOptions.marker;g={fill:g.fillColor||O(this.color).brighten(.4).get(),opacity:g.fillOpacity,stroke:g.lineColor||this.color,"stroke-width":j(g.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,m.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var x=V({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},g);this.parentNode.graphic||(this.graph=this.parentNode.graphic=m.renderer.symbol(g.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(x)}}drawTracker(){const m=this.parentNode;let g;super.drawTracker(),m&&(g=ee(m.dataLabels)?m.dataLabels:m.dataLabel?[m.dataLabel]:[],m.graphic&&(m.graphic.element.point=m),g.forEach(x=>{x.div?x.div.point=m:x.element.point=m}))}getPointRadius(){const m=this.chart,g=this.options,x=g.useSimulation,P=Math.min(m.plotWidth,m.plotHeight),X={},Y=[],K=m.allDataPoints||[],le=K.length;let pe,fe,z,Q;["minSize","maxSize"].forEach(de=>{const Ce=parseInt(g[de],10),ne=/%$/.test(g[de]);X[de]=ne?P*Ce/100:Ce*Math.sqrt(le)}),m.minRadius=pe=X.minSize/Math.sqrt(le),m.maxRadius=fe=X.maxSize/Math.sqrt(le);const se=x?this.calculateZExtremes():[pe,fe];K.forEach((de,Ce)=>{z=x?H(de[2],se[0],se[1]):de[2],Q=this.getRadius(se[0],se[1],pe,fe,z),Q===0&&(Q=null),K[Ce][2]=Q,Y.push(Q)}),this.radii=Y}init(){return L.init.apply(this,arguments),S.call(this),this.eventsToUnbind.push(A(this,"updatedData",function(){this.chart.series.forEach(m=>{m.type===this.type&&(m.isDirty=!0)},this)})),this}onMouseUp(m){const g=m;if(g.fixedPosition&&!g.removed){const x=this.layout,P=this.parentNodeLayout;let X,Y;P&&x.options.dragBetweenSeries&&P.nodes.forEach(K=>{g&&g.marker&&K!==g.series.parentNode&&(X=x.getDistXY(g,K),Y=x.vectorLength(X)-K.marker.radius-g.marker.radius,0>Y&&(K.series.addPoint(V(g.options,{plotX:g.plotX,plotY:g.plotY}),!1),x.removeElementFromCollection(g,x.nodes),g.remove()))}),o.onMouseUp.apply(this,arguments)}}placeBubbles(m){const g=this.checkOverlap,x=this.positionBubble,P=[];let X=1,Y=0,K=0;var le=[];let pe;if(m=m.sort((fe,z)=>z[2]-fe[2]),m.length){if(P.push([[0,0,m[0][2],m[0][3],m[0][4]]]),1<m.length)for(P.push([[0,0-m[1][2]-m[0][2],m[1][2],m[1][3],m[1][4]]]),pe=2;pe<m.length;pe++)m[pe][2]=m[pe][2]||1,le=x(P[X][Y],P[X-1][K],m[pe]),g(le,P[X][0])?(P.push([]),K=0,P[X+1].push(x(P[X][Y],P[X][0],m[pe])),X++,Y=0):1<X&&P[X-1][K+1]&&g(le,P[X-1][K+1])?(K++,P[X].push(x(P[X][Y],P[X-1][K],m[pe])),Y++):(Y++,P[X].push(le));this.chart.stages=P,this.chart.rawPositions=[].concat.apply([],P),this.resizeRadius(),le=this.chart.rawPositions}return le}pointAttribs(m,g){var x=this.options;let P=x.marker;return m&&m.isParentNode&&x.layoutAlgorithm&&x.layoutAlgorithm.parentNodeOptions&&(P=x.layoutAlgorithm.parentNodeOptions.marker),x=P.fillOpacity,m=L.pointAttribs.call(this,m,g),x!==1&&(m["fill-opacity"]=x),m}positionBubble(m,g,x){var P=Math.sqrt,X=Math.asin,Y=Math.acos;const K=Math.pow,le=Math.abs;return P=P(K(m[0]-g[0],2)+K(m[1]-g[1],2)),Y=Y((K(P,2)+K(x[2]+g[2],2)-K(x[2]+m[2],2))/(2*(x[2]+g[2])*P)),X=X(le(m[0]-g[0])/P),m=(0>m[1]-g[1]?0:Math.PI)+Y+X*(0>(m[0]-g[0])*(m[1]-g[1])?1:-1),[g[0]+(g[2]+x[2])*Math.sin(m),g[1]-(g[2]+x[2])*Math.cos(m),x[2],x[3],x[4]]}render(){const m=[];L.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(g=>{ee(g.dataLabels)&&g.dataLabels.forEach(x=>{m.push(x)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(m))}resizeRadius(){const m=this.chart,g=m.rawPositions;var x=Math.min,P=Math.max;const X=m.plotLeft,Y=m.plotTop,K=m.plotHeight,le=m.plotWidth;let pe,fe,z,Q,se;pe=z=Number.POSITIVE_INFINITY,fe=Q=Number.NEGATIVE_INFINITY;for(const de of g)se=de[2],pe=x(pe,de[0]-se),fe=P(fe,de[0]+se),z=x(z,de[1]-se),Q=P(Q,de[1]+se);if(P=[fe-pe,Q-z],x=x.apply([],[(le-X)/P[0],(K-Y)/P[1]]),1e-10<Math.abs(x-1)){for(const de of g)de[2]*=x;this.placeBubbles(g)}else m.diffY=K/2+Y-z-(Q-z)/2,m.diffX=le/2+X-pe-(fe-pe)/2}seriesBox(){const m=this.chart,g=Math.max,x=Math.min,P=[m.plotLeft,m.plotLeft+m.plotWidth,m.plotTop,m.plotTop+m.plotHeight];let X;return this.data.forEach(Y=>{U(Y.plotX)&&U(Y.plotY)&&Y.marker.radius&&(X=Y.marker.radius,P[0]=x(P[0],Y.plotX-X),P[1]=g(P[1],Y.plotX+X),P[2]=x(P[2],Y.plotY-X),P[3]=g(P[3],Y.plotY+X))}),$(P.width/P.height)?P:null}setVisible(){const m=this;L.setVisible.apply(m,arguments),m.parentNodeLayout&&m.graph?m.visible?(m.graph.show(),m.parentNode.dataLabel&&m.parentNode.dataLabel.show()):(m.graph.hide(),m.parentNodeLayout.removeElementFromCollection(m.parentNode,m.parentNodeLayout.nodes),m.parentNode.dataLabel&&m.parentNode.dataLabel.hide()):m.layout&&(m.visible?m.layout.addElementsToCollection(m.points,m.layout.nodes):m.points.forEach(g=>{m.layout.removeElementFromCollection(g,m.layout.nodes)}))}translate(){const m=this.chart,g=this.data,x=this.index,P=this.options.useSimulation;let X;if(this.processedXData=this.xData,this.generatePoints(),U(m.allDataPoints)||(m.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),P)var Y=m.allDataPoints;else Y=this.placeBubbles(m.allDataPoints),this.options.draggable=!1;for(const K of Y)K[3]===x&&(Y=g[K[4]],X=j(K[2],void 0),P||(Y.plotX=K[0]-m.plotLeft+m.diffX,Y.plotY=K[1]-m.plotTop+m.diffY),$(X)&&(Y.marker=E(Y.marker,{radius:X,width:2*X,height:2*X}),Y.radius=X));P&&this.deferLayout(),ie(this,"afterTranslate")}}return w.defaultOptions=V(G.defaultOptions,v),E(w.prototype,{pointClass:s,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:k,alignDataLabel:L.alignDataLabel,indexateNodes:r,onMouseDown:o.onMouseDown,onMouseMove:o.onMouseMove,redrawHalo:o.redrawHalo,searchPoint:r}),J.registerSeriesType("packedbubble",w),w}),i(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u){({noop:r}=r);const{series:h,seriesTypes:{area:s,line:v,scatter:I}}=o,{extend:J,merge:M}=u;class B extends I{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let O=v.prototype.getGraphPath.call(this),L=O.length+1;for(;L--;)(L===O.length||O[L][0]==="M")&&0<L&&O.splice(L,0,["Z"]);return this.areaPath=O}drawGraph(){this.options.fillColor=this.color,s.prototype.drawGraph.call(this)}}return B.defaultOptions=M(I.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),J(B.prototype,{type:"polygon",drawTracker:h.prototype.drawTracker,setStackedPoints:r}),o.registerSeriesType("polygon",B),B}),i(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:u,objectEach:h}=o;var s;return function(v){function I(){const O=this.waterfall.stacks;O&&(O.changed=!1,delete O.alreadyChanged)}function J(){const O=this.options.stackLabels;O&&O.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function M(){let O=this.axes,L=this.series,G=L.length;for(;G--;)L[G].options.stacking&&(O.forEach(function(k){k.isXAxis||(k.waterfall.stacks.changed=!0)}),G=0)}function B(){this.waterfall||(this.waterfall=new W(this))}class W{constructor(L){this.axis=L,this.stacks={changed:!1}}renderStackTotals(){const L=this.axis,G=L.waterfall.stacks,k=L.stacking&&L.stacking.stackTotalGroup,S=new r(L,L.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=S,k&&h(G,function(A){h(A,function(H,U){S.total=H.stackTotal,S.x=+U,H.label&&(S.label=H.label),r.prototype.render.call(S,k),H.label=S.label,delete S.label})}),S.total=null}}v.Composition=W,v.compose=function(O,L){u(O,"init",B),u(O,"afterBuildStacks",I),u(O,"afterRender",J),u(L,"beforeRedraw",M)}}(s||(s={})),s}),i(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(r,o,u){const{isNumber:h}=u;class s extends r.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let I=o.prototype.getClassName.call(this);return this.isSum?I+=" highcharts-sum":this.isIntermediateSum&&(I+=" highcharts-intermediate-sum"),I}isValid(){return h(this.y)||this.isSum||!!this.isIntermediateSum}}return s}),i(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],function(r,o,u,h,s,v){const{seriesTypes:{column:I,line:J}}=u,{addEvent:M,arrayMax:B,arrayMin:W,correctFloat:O,extend:L,isNumber:G,merge:k,objectEach:S,pick:A}=h;class H extends I{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){I.prototype.generatePoints.apply(this);for(let E=0,ie=this.points.length;E<ie;E++){const ee=this.points[E],$=this.processedYData[E];G($)&&(ee.isIntermediateSum||ee.isSum)&&(ee.y=O($))}}processData(E){let ie=this.options,ee=this.yData,$=ie.data,V,j=ee.length,w=ie.threshold||0,D,m,g,x,P,X;for(X=m=D=g=x=0;X<j;X++)P=ee[X],V=$&&$[X]?$[X]:{},P==="sum"||V.isSum?ee[X]=O(m):P==="intermediateSum"||V.isIntermediateSum?(ee[X]=O(D),D=0):(m+=P,D+=P),g=Math.min(m,g),x=Math.max(m,x);super.processData.call(this,E),ie.stacking||(this.dataMin=g+w,this.dataMax=x)}toYData(E){return E.isSum?"sum":E.isIntermediateSum?"intermediateSum":E.y}updateParallelArrays(E,ie){super.updateParallelArrays.call(this,E,ie),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(E,ie){const ee=this.options.upColor;return ee&&!E.options.color&&G(E.y)&&(E.color=0<E.y?ee:void 0),E=I.prototype.pointAttribs.call(this,E,ie),delete E.dashstyle,E}getGraphPath(){return[["M",0,0]]}getCrispPath(){let E=this.data.filter(X=>G(X.y)),ie=this.yAxis,ee=E.length,$=Math.round(this.graph.strokeWidth())%2/2,V=Math.round(this.borderWidth)%2/2,j=this.xAxis.reversed,w=this.yAxis.reversed,D=this.options.stacking,m=[];for(let X=1;X<ee;X++){if(!this.options.connectNulls&&!G(this.data[E[X].index-1].y))continue;var g=E[X].box,x=E[X-1];const Y=x.y||0,K=E[X-1].box;if(!g||!K)continue;var P=ie.waterfall.stacks[this.stackKey];const le=0<Y?-K.height:0;P&&K&&g&&(P=P[X-1],x=D?Math.round(ie.translate(P.connectorThreshold,!1,!0,!1,!0)+(w?le:0))-$:K.y+x.minPointLengthOffset+V-$,m.push(["M",(K.x||0)+(j?0:K.width||0),x],["L",(g.x||0)+(j&&g.width||0),x])),K&&m.length&&(!D&&0>Y&&!w||0<Y&&w)&&((g=m[m.length-2])&&typeof g[2]=="number"&&(g[2]+=K.height||0),(g=m[m.length-1])&&typeof g[2]=="number"&&(g[2]+=K.height||0))}return m}drawGraph(){J.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function E(se,de,Ce,ne){if(g){if(Y)for(Ce;Ce<Y;Ce++)g.stackState[Ce]+=ne;else g.stackState[0]=se,Y=g.stackState.length;g.stackState.push(g.stackState[Y-1]+de)}}let ie=this.options,ee=this.yAxis.waterfall.stacks,$=ie.threshold||0,V=$,j=V,w=this.stackKey,D=this.xData,m=D.length,g,x,P,X,Y,K,le,pe;var fe;let z;if(this.yAxis.stacking.usePercentage=!1,x=P=X=V,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(z=ee.changed,(fe=ee.alreadyChanged)&&0>fe.indexOf(w)&&(z=!0),ee[w]||(ee[w]={}),fe=ee[w])for(let se=0;se<m;se++){var Q=D[se];(!fe[Q]||z)&&(fe[Q]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:z&&fe[Q]?fe[Q].label:void 0}),g=fe[Q],pe=this.yData[se],0<=pe?g.posTotal+=pe:g.negTotal+=pe,le=ie.data[se],Q=g.absolutePos=g.posTotal,K=g.absoluteNeg=g.negTotal,g.stackTotal=Q+K,Y=g.stackState.length,le&&le.isIntermediateSum?(E(X,P,0,X),X=P,P=$,V^=j,j^=V,V^=j):le&&le.isSum?(E($,x,Y,0),V=$):(E(V,pe,0,x),le&&(x+=pe,P+=pe)),g.stateIndex++,g.threshold=V,V+=g.stackTotal}ee.changed=!1,ee.alreadyChanged||(ee.alreadyChanged=[]),ee.alreadyChanged.push(w)}}getExtremes(){let E=this.options.stacking,ie,ee;if(E){var $=this.yAxis;return $=$.waterfall.stacks,ie=this.stackedYNeg=[],ee=this.stackedYPos=[],E==="overlap"?S($[this.stackKey],function(V){ie.push(W(V.stackState)),ee.push(B(V.stackState))}):S($[this.stackKey],function(V){ie.push(V.negTotal+V.threshold),ee.push(V.posTotal+V.threshold)}),{dataMin:W(ie),dataMax:B(ee)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return H.defaultOptions=k(I.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),M(H,"afterColumnTranslate",function(){const{options:U,points:E,yAxis:ie}=this,ee=A(U.minPointLength,5),$=ee/2,V=U.threshold||0,j=U.stacking,w=ie.waterfall.stacks[this.stackKey];let D=V,m=V;for(let Y=0;Y<E.length;Y++){const K=E[Y];var g=this.processedYData[Y];const le=L({x:0,y:0,width:0,height:0},K.shapeArgs||{});K.box=le;var x=[0,g],P=K.y||0;if(j){if(w){if(x=w[Y],j==="overlap"){var X=x.stackState[x.stateIndex--];X=0<=P?X:X-P,Object.hasOwnProperty.call(x,"absolutePos")&&delete x.absolutePos,Object.hasOwnProperty.call(x,"absoluteNeg")&&delete x.absoluteNeg}else 0<=P?(X=x.threshold+x.posTotal,x.posTotal-=P):(X=x.threshold+x.negTotal,x.negTotal-=P,X-=P),!x.posTotal&&G(x.absolutePos)&&Object.hasOwnProperty.call(x,"absolutePos")&&(x.posTotal=x.absolutePos,delete x.absolutePos),!x.negTotal&&G(x.absoluteNeg)&&Object.hasOwnProperty.call(x,"absoluteNeg")&&(x.negTotal=x.absoluteNeg,delete x.absoluteNeg);K.isSum||(x.connectorThreshold=x.threshold+x.stackTotal),ie.reversed?g=0<=P?X-P:X+P:(g=X,X-=P),K.below=g<=V,le.y=ie.translate(g,!1,!0,!1,!0),le.height=Math.abs(le.y-ie.translate(X,!1,!0,!1,!0)),(X=ie.waterfall.dummyStackItem)&&(X.x=Y,X.label=w[Y].label,X.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[Y],this.stackedYPos[Y],void 0,this.xAxis))}}else X=Math.max(m,m+P)+x[0],le.y=ie.translate(X,!1,!0,!1,!0),K.isSum?(le.y=ie.translate(x[1],!1,!0,!1,!0),le.height=Math.min(ie.translate(x[0],!1,!0,!1,!0),ie.len)-le.y,K.below=x[1]<=V):K.isIntermediateSum?(0<=P?(g=x[1]+D,X=D):(g=D,X=x[1]+D),ie.reversed&&(g^=X,X^=g,g^=X),le.y=ie.translate(g,!1,!0,!1,!0),le.height=Math.abs(le.y-Math.min(ie.translate(X,!1,!0,!1,!0),ie.len)),D+=x[1],K.below=g<=V):(le.height=0<g?ie.translate(m,!1,!0,!1,!0)-le.y:ie.translate(m,!1,!0,!1,!0)-ie.translate(m-g,!1,!0,!1,!0),m+=g,K.below=m<V),0>le.height&&(le.y+=le.height,le.height*=-1);K.plotY=le.y=Math.round(le.y||0)-this.borderWidth%2/2,le.height=Math.max(Math.round(le.height||0),.001),K.yBottom=le.y+le.height,le.height<=ee&&!K.isNull?(le.height=ee,le.y-=$,K.plotY=le.y,K.minPointLengthOffset=0>P?-$:$):(K.isNull&&(le.width=0),K.minPointLengthOffset=0),P=K.plotY+(K.negative?le.height:0),K.below&&(K.plotY+=le.height),K.tooltipPos&&(this.chart.inverted?K.tooltipPos[0]=ie.len-P:K.tooltipPos[1]=P),K.isInside=this.isPointInside(K),k(!0,K.shapeArgs,le)}},{order:2}),L(H.prototype,{getZonesGraphs:J.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:v}),u.registerSeriesType("waterfall",H),s.compose(r,o),H}),i(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o,u,h){const{defaultOptions:s}=o,{noop:v}=u,{addEvent:I,correctFloat:J,defined:M,extend:B,fireEvent:W,merge:O,pick:L,relativeLength:G,wrap:k}=h;var S;return function(A){function H(){this.autoConnect=this.isCircular&&typeof L(this.userMax,this.options.max)>"u"&&J(this.endAngleRad-this.startAngleRad)===J(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function U(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(oe=>this.ticks[oe]&&this.ticks[oe].label).filter(oe=>!!oe)}}function E(){return v}function ie(oe,ge,Te){const Re=this.pane.center;let Le=oe.value,$e;if(this.isCircular){if(M(Le))oe.point&&(nt=oe.point.shapeArgs||{},nt.start&&(Le=this.chart.inverted?this.translate(oe.point.rectPlotY,!0):oe.point.x));else{var nt=oe.chartX||0;$e=oe.chartY||0,Le=this.translate(Math.atan2($e-Te,nt-ge)-this.startAngleRad,!0)}oe=this.getPosition(Le),nt=oe.x,$e=oe.y}else M(Le)||(nt=oe.chartX,$e=oe.chartY),M(nt)&&M($e)&&(Te=Re[1]+this.chart.plotTop,Le=this.translate(Math.min(Math.sqrt(Math.pow(nt-ge,2)+Math.pow($e-Te,2)),Re[2]/2)-Re[3]/2,!0));return[Le,nt||0,$e||0]}function ee(oe,ge,Te){oe=this.pane.center;const Re=this.chart,Le=this.left||0,$e=this.top||0;let nt=L(ge,oe[2]/2-this.offset);return typeof Te>"u"&&(Te=this.horiz?0:this.center&&-this.center[3]/2),Te&&(nt+=Te),this.isCircular||typeof ge<"u"?(ge=this.chart.renderer.symbols.arc(Le+oe[0],$e+oe[1],nt,nt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),ge.xBounds=[Le+oe[0]],ge.yBounds=[$e+oe[1]-nt]):(ge=this.postTranslate(this.angleRad,nt),ge=[["M",this.center[0]+Re.plotLeft,this.center[1]+Re.plotTop],["L",ge.x,ge.y]]),ge}function $(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function V(oe,ge,Te){const Re=this.chart;var Le=Nt=>{if(typeof Nt=="string"){let pi=parseInt(Nt,10);return Be.test(Nt)&&(pi=pi*Qe/100),pi}return Nt};const $e=this.center;var nt=this.startAngleRad;const Qe=$e[2]/2;var We=Math.min(this.offset,0),xe=this.left||0;const Ie=this.top||0,Be=/%$/;var Xe=this.isCircular;let Ze,ft=L(Le(Te.outerRadius),Qe),Ct=Le(Te.innerRadius);return Le=L(Le(Te.thickness),10),this.options.gridLineInterpolation==="polygon"?We=this.getPlotLinePath({value:oe}).concat(this.getPlotLinePath({value:ge,reverse:!0})):(oe=Math.max(oe,this.min),ge=Math.min(ge,this.max),oe=this.translate(oe),ge=this.translate(ge),Xe||(ft=oe||0,Ct=ge||0),Te.shape!=="circle"&&Xe?(Te=nt+(oe||0),nt+=ge||0):(Te=-Math.PI/2,nt=1.5*Math.PI,Ze=!0),ft-=We,We=Re.renderer.symbols.arc(xe+$e[0],Ie+$e[1],ft,ft,{start:Math.min(Te,nt),end:Math.max(Te,nt),innerR:L(Ct,ft-(Le-We)),open:Ze}),Xe&&(Xe=(nt+Te)/2,xe=xe+$e[0]+$e[2]/2*Math.cos(Xe),We.xBounds=Xe>-Math.PI/2&&Xe<Math.PI/2?[xe,Re.plotWidth]:[0,xe],We.yBounds=[Ie+$e[1]+$e[2]/2*Math.sin(Xe)],We.yBounds[0]+=Xe>-Math.PI&&0>Xe||Xe>Math.PI?-10:10)),We}function j(oe){var ge=this.pane.center,Te=this.chart;const Re=Te.inverted;var Le=oe.reverse,$e=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const nt=$e.innerRadius||"0%",Qe=$e.outerRadius||"100%";var We=ge[0]+Te.plotLeft,xe=ge[1]+Te.plotTop;const Ie=this.height,Be=oe.isCrosshair;$e=ge[3]/2;var Xe=oe.value;let Ze;var ft=this.getPosition(Xe);let Ct=ft.x;if(ft=ft.y,Be&&(ft=this.getCrosshairPosition(oe,We,xe),Xe=ft[0],Ct=ft[1],ft=ft[2]),this.isCircular)Xe=Math.sqrt(Math.pow(Ct-We,2)+Math.pow(ft-xe,2)),Le=typeof nt=="string"?G(nt,1):nt/Xe,Te=typeof Qe=="string"?G(Qe,1):Qe/Xe,ge&&$e&&($e/=Xe,Le<$e&&(Le=$e),Te<$e&&(Te=$e)),ge=[["M",We+Le*(Ct-We),xe-Le*(xe-ft)],["L",Ct-(1-Te)*(Ct-We),ft+(1-Te)*(xe-ft)]];else if((Xe=this.translate(Xe))&&(0>Xe||Xe>Ie)&&(Xe=0),this.options.gridLineInterpolation==="circle")ge=this.getLinePath(0,Xe,$e);else if(ge=[],Te[Re?"yAxis":"xAxis"].forEach(Nt=>{Nt.pane===this.pane&&(Ze=Nt)}),Ze)for(We=Ze.tickPositions,Ze.autoConnect&&(We=We.concat([We[0]])),Le&&(We=We.slice().reverse()),Xe&&(Xe+=$e),xe=0;xe<We.length;xe++)$e=Ze.getPosition(We[xe],Xe),ge.push(xe?["L",$e.x,$e.y]:["M",$e.x,$e.y]);return ge}function w(oe,ge){return oe=this.translate(oe),this.postTranslate(this.isCircular?oe:this.angleRad,L(this.isCircular?ge:0>oe?0:oe,this.center[2]/2)-this.offset)}function D(){const oe=this.center,ge=this.chart,Te=this.options.title;return{x:ge.plotLeft+oe[0]+(Te.x||0),y:ge.plotTop+oe[1]-{high:.5,middle:.25,low:0}[Te.align]*oe[2]+(Te.y||0)}}function m(oe){oe.beforeSetTickPositions=H,oe.createLabelCollector=U,oe.getCrosshairPosition=ie,oe.getLinePath=ee,oe.getOffset=$,oe.getPlotBandPath=V,oe.getPlotLinePath=j,oe.getPosition=w,oe.getTitlePosition=D,oe.postTranslate=pe,oe.setAxisSize=z,oe.setAxisTranslation=Q,oe.setOptions=se}function g(){var oe=this.chart,ge=this.options,Te=this.pane,Re=Te&&Te.options;oe.angular&&this.isXAxis||!Te||!oe.angular&&!oe.polar||(oe=2*Math.PI,Te=(L(Re.startAngle,0)-90)*Math.PI/180,Re=(L(Re.endAngle,L(Re.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(ge.angle||0)*Math.PI/180,this.startAngleRad=Te,this.endAngleRad=Re,this.offset=ge.offset||0,ge=(Te%oe+oe)%oe,Re=(Re%oe+oe)%oe,ge>Math.PI&&(ge-=oe),Re>Math.PI&&(Re-=oe),this.normalizedStartAngleRad=ge,this.normalizedEndAngleRad=Re)}function x(oe){this.isRadial&&(oe.align=void 0,oe.preventDefault())}function P(){if(this.chart&&this.chart.labelCollectors){const oe=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=oe&&this.chart.labelCollectors.splice(oe,1)}}function X(oe){const ge=this.chart,Te=ge.inverted,Re=ge.angular,Le=ge.polar,$e=this.isXAxis,nt=this.coll,Qe=Re&&$e;oe=oe.userOptions.pane||0,oe=this.pane=ge.pane&&ge.pane[oe];let We;nt==="colorAxis"?this.isRadial=!1:(Re?(Qe?(this.isHidden=!0,this.createLabelCollector=E,this.getOffset=v,this.render=this.redraw=fe,this.setTitle=this.setCategories=this.setScale=v):m(this),(We=!$e)&&(this.defaultPolarOptions=ve)):Le&&(m(this),this.defaultPolarOptions=(We=this.horiz)?ne:O(nt==="xAxis"?r.defaultXAxisOptions:r.defaultYAxisOptions,_e),Te&&nt==="yAxis"&&(this.defaultPolarOptions.stackLabels=r.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Re||Le?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&ge.labelCollectors.push(this.labelCollector)):this.isRadial=!1,oe&&We&&(oe.axis=this),this.isCircular=We)}function Y(){this.isRadial&&this.beforeSetTickPositions()}function K(oe){const ge=this.label;if(ge){var Te=this.axis,Re=ge.getBBox(),Le=Te.options.labels,$e=(Te.translate(this.pos)+Te.startAngleRad+Math.PI/2)/Math.PI*180%360,nt=Math.round($e),Qe=M(Le.y)?0:.3*-Re.height,We=Le.y,xe=20,Ie=Le.align,Be="end",Xe=0>nt?nt+360:nt,Ze=Xe,ft=0,Ct=0;if(Te.isRadial){var Nt=Te.getPosition(this.pos,Te.center[2]/2+G(L(Le.distance,-25),Te.center[2]/2,-Te.center[2]/2));Le.rotation==="auto"?ge.attr({rotation:$e}):M(We)||(We=Te.chart.renderer.fontMetrics(ge).b-Re.height/2),M(Ie)||(Te.isCircular?(Re.width>Te.len*Te.tickInterval/(Te.max-Te.min)&&(xe=0),Ie=$e>xe&&$e<180-xe?"left":$e>180+xe&&$e<360-xe?"right":"center"):Ie="center",ge.attr({align:Ie})),Ie==="auto"&&Te.tickPositions.length===2&&Te.isCircular&&(90<Xe&&180>Xe?Xe=180-Xe:270<Xe&&360>=Xe&&(Xe=540-Xe),180<Ze&&360>=Ze&&(Ze=360-Ze),(Te.pane.options.startAngle===nt||Te.pane.options.startAngle===nt+360||Te.pane.options.startAngle===nt-360)&&(Be="start"),Ie=-90<=nt&&90>=nt||-360<=nt&&-270>=nt||270<=nt&&360>=nt?Be==="start"?"right":"left":Be==="start"?"left":"right",70<Ze&&110>Ze&&(Ie="center"),15>Xe||180<=Xe&&195>Xe?ft=.3*Re.height:15<=Xe&&35>=Xe?ft=Be==="start"?0:.75*Re.height:195<=Xe&&215>=Xe?ft=Be==="start"?.75*Re.height:0:35<Xe&&90>=Xe?ft=Be==="start"?.25*-Re.height:Re.height:215<Xe&&270>=Xe&&(ft=Be==="start"?Re.height:.25*-Re.height),15>Ze?Ct=Be==="start"?.15*-Re.height:.15*Re.height:165<Ze&&180>=Ze&&(Ct=Be==="start"?.15*Re.height:.15*-Re.height),ge.attr({align:Ie}),ge.translate(Ct,ft+Qe)),oe.pos.x=Nt.x+(Le.x||0),oe.pos.y=Nt.y+(We||0)}}}function le(oe){this.axis.getPosition&&B(oe.pos,this.axis.getPosition(this.pos))}function pe(oe,ge){const Te=this.chart,Re=this.center;return oe=this.startAngleRad+oe,{x:Te.plotLeft+Re[0]+Math.cos(oe)*ge,y:Te.plotTop+Re[1]+Math.sin(oe)*ge}}function fe(){this.isDirty=!1}function z(){let oe,ge;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),oe=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(ge=this.postTranslate(this.angleRad,oe[3]/2),oe[0]=ge.x-this.chart.plotLeft,oe[1]=ge.y-this.chart.plotTop),this.len=this.width=this.height=(oe[2]-oe[3])*L(this.sector,1)/2)}function Q(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function se(oe){oe=this.options=O(this.constructor.defaultOptions,this.defaultPolarOptions,s[this.coll],oe),oe.plotBands||(oe.plotBands=[]),W(this,"afterSetOptions")}function de(oe,ge,Te,Re,Le,$e,nt){const Qe=this.axis;return Qe.isRadial?(oe=Qe.getPosition(this.pos,Qe.center[2]/2+Re),ge=["M",ge,Te,"L",oe.x,oe.y]):ge=oe.call(this,ge,Te,Re,Le,$e,nt),ge}const Ce=[],ne={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},ve={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},_e={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};A.compose=function(oe,ge){return h.pushUnique(Ce,oe)&&(I(oe,"afterInit",g),I(oe,"autoLabelAlign",x),I(oe,"destroy",P),I(oe,"init",X),I(oe,"initialAxisTranslation",Y)),h.pushUnique(Ce,ge)&&(I(ge,"afterGetLabelPosition",K),I(ge,"afterGetPosition",le),k(ge.prototype,"getMarkPath",de)),oe}}(S||(S={})),S}),i(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v){function I(z,Q,se,de){var Ce=de?1:0,ne=0<=Q&&Q<=z.length-1?Q:0>Q?z.length-1+Q:0;Q=0>ne-1?z.length-(1+Ce):ne-1;var ve=z[Q];Ce=z[ne+1>z.length-1?Ce:ne+1];var _e=ve.plotY,oe=Ce.plotX,ge=Ce.plotY;Ce=z[ne].plotX,ne=z[ne].plotY,ve=(1.5*Ce+ve.plotX)/2.5,_e=(1.5*ne+_e)/2.5,oe=(1.5*Ce+oe)/2.5;var Te=(1.5*ne+ge)/2.5;ge=Math.sqrt(Math.pow(ve-Ce,2)+Math.pow(_e-ne,2));const Re=Math.sqrt(Math.pow(oe-Ce,2)+Math.pow(Te-ne,2));return ve=Math.atan2(_e-ne,ve-Ce),Te=Math.PI/2+(ve+Math.atan2(Te-ne,oe-Ce))/2,Math.abs(ve-Te)>Math.PI/2&&(Te-=Math.PI),ve=Ce+Math.cos(Te)*ge,_e=ne+Math.sin(Te)*ge,oe=Ce+Math.cos(Math.PI+Te)*Re,Te=ne+Math.sin(Math.PI+Te)*Re,Ce={rightContX:oe,rightContY:Te,leftContX:ve,leftContY:_e,plotX:Ce,plotY:ne},se&&(Ce.prevPointCont=I(z,Q,!1,de)),Ce}function J(){(this.pane||[]).forEach(z=>{z.render()})}function M(z){const Q=z.args[0].xAxis,se=z.args[0].yAxis;z=z.args[0].chart,Q&&se&&(se.gridLineInterpolation==="polygon"?(Q.startOnTick=!0,Q.endOnTick=!0):Q.gridLineInterpolation==="polygon"&&z.inverted&&(se.startOnTick=!0,se.endOnTick=!0))}function B(){this.pane||(this.pane=[]),this.options.pane=Y(this.options.pane),this.options.pane.forEach(z=>{new h(z,this)},this)}function W(z){var Q=z.args.marker,se=this.chart.xAxis[0],de=this.chart.yAxis[0],Ce=this.chart.inverted;const ne=Ce?de:se;if(se=Ce?se:de,this.chart.polar){z.preventDefault(),de=(Q.attr?Q.attr("start"):Q.start)-ne.startAngleRad,Ce=Q.attr?Q.attr("r"):Q.r;let ve=(Q.attr?Q.attr("end"):Q.end)-ne.startAngleRad;Q=Q.attr?Q.attr("innerR"):Q.innerR,z.result.x=de+ne.pos,z.result.width=ve-de,z.result.y=se.len+se.pos-Q,z.result.height=Q-Ce}}function O(z){var Q=this.chart;if(Q.polar&&Q.hoverPane&&Q.hoverPane.axis){z.preventDefault();var se=Q.hoverPane.center,de=this.mouseDownX||0;const $e=this.mouseDownY||0;var Ce=z.args.chartY;const nt=z.args.chartX;var ne=2*Math.PI,ve=Q.hoverPane.axis.startAngleRad,_e=Q.hoverPane.axis.endAngleRad,oe=Q.inverted?Q.xAxis[0]:Q.yAxis[0];const Qe={};var ge="arc";if(Qe.x=se[0]+Q.plotLeft,Qe.y=se[1]+Q.plotTop,this.zoomHor){var Te=0<ve?_e-ve:Math.abs(ve)+Math.abs(_e),Re=Math.atan2($e-Q.plotTop-se[1],de-Q.plotLeft-se[0])-ve,Le=Math.atan2(Ce-Q.plotTop-se[1],nt-Q.plotLeft-se[0])-ve;if(Qe.r=se[2]/2,Qe.innerR=se[3]/2,0>=Re&&(Re+=ne),0>=Le&&(Le+=ne),Le<Re&&(Le=[Re,Re=Le][0]),Te<ne&&ve+Le>_e+(ne-Te)/2&&(Le=Re,Re=0>=ve?ve:0),ne=Qe.start=Math.max(Re+ve,ve),Te=Qe.end=Math.min(Le+ve,_e),oe.options.gridLineInterpolation==="polygon"){if(ge=Q.hoverPane.axis,Le=ne-ge.startAngleRad+ge.pos,Re=Te-ne,ne=oe.getPlotLinePath({value:oe.max}),Te=ge.toValue(Le),Le=ge.toValue(Le+Re),Te<ge.getExtremes().min){const{min:We,max:xe}=ge.getExtremes();Te=xe-(We-Te)}if(Le<ge.getExtremes().min){const{min:We,max:xe}=ge.getExtremes();Le=xe-(We-Le)}Le<Te&&(Le=[Te,Te=Le][0]),ne=S(ne,Te,Le,ge),ne.push(["L",se[0]+Q.plotLeft,Q.plotTop+se[1]]),Qe.d=ne,ge="path"}}this.zoomVert&&(Le=Q.inverted?Q.xAxis[0]:Q.yAxis[0],de=Math.sqrt(Math.pow(de-Q.plotLeft-se[0],2)+Math.pow($e-Q.plotTop-se[1],2)),Ce=Math.sqrt(Math.pow(nt-Q.plotLeft-se[0],2)+Math.pow(Ce-Q.plotTop-se[1],2)),Ce<de&&(de=[Ce,Ce=de][0]),Ce>se[2]/2&&(Ce=se[2]/2),de<se[3]/2&&(de=se[3]/2),this.zoomHor||(Qe.start=ve,Qe.end=_e),Qe.r=Ce,Qe.innerR=de,Le.options.gridLineInterpolation==="polygon"&&(se=Le.toValue(Le.len+Le.pos-de),ve=Le.toValue(Le.len+Le.pos-Ce),se=Le.getPlotLinePath({value:ve}).concat(Le.getPlotLinePath({value:se,reverse:!0})),Qe.d=se,ge="path")),this.zoomHor&&this.zoomVert&&oe.options.gridLineInterpolation==="polygon"&&(se=Q.hoverPane.axis,oe=Qe.start||0,ve=oe-se.startAngleRad+se.pos,_e=(Qe.end||0)-oe,oe=se.toValue(ve),se=se.toValue(ve+_e),Qe.d instanceof Array&&(ve=Qe.d.slice(0,Qe.d.length/2),_e=Qe.d.slice(Qe.d.length/2,Qe.d.length),_e=[..._e].reverse(),Q=Q.hoverPane.axis,ve=S(ve,oe,se,Q),(_e=S(_e,oe,se,Q))&&(_e[0][0]="L"),_e=[..._e].reverse(),Qe.d=ve.concat(_e),ge="path")),z.attrs=Qe,z.shapeType=ge}}function L(){const z=this.chart;z.polar&&(this.polar=new fe(this),z.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function G(){if(this.chart.polar&&this.xAxis){const{xAxis:z,yAxis:Q}=this,se=this.chart;(this.kdByAngle=se.tooltip&&se.tooltip.shared)?this.searchPoint=k:this.options.findNearestPointBy="xy";const de=this.points;let Ce=de.length;for(;Ce--;)this.is("column")||this.is("columnrange")||this.polar.toXY(de[Ce]),se.hasParallelCoordinates||this.yAxis.reversed||(P(de[Ce].y,Number.MIN_VALUE)<Q.min||de[Ce].x<z.min||de[Ce].x>z.max?(de[Ce].isNull=!0,de[Ce].plotY=NaN):de[Ce].isNull=de[Ce].isValid&&!de[Ce].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(w(this,"afterRender",function(){if(se.polar){var ne=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:ne[0],y:ne[1],r:ne[2]/2,innerR:ne[3]/2});else{{var ve=se.renderer,_e=ne[0],oe=ne[1],ge=ne[2]/2,Te=ne[3]/2;ne=K();const Re=ve.createElement("clipPath").attr({id:ne}).add(ve.defs);ve=Te?ve.arc(_e,oe,ge,Te,0,2*Math.PI).add(Re):ve.circle(_e,oe,ge).add(Re),ve.id=ne,ve.clipPath=Re}this.clipCircle=ve}this.group.clip(this.clipCircle),this.setClip=o.noop}})))}}function k(z){const Q=this.chart;var se=this.xAxis;return se=se.pane&&se.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(z.chartX-(se&&se[0]||0)-Q.plotLeft,z.chartY-(se&&se[1]||0)-Q.plotTop)})}function S(z,Q,se,de){const Ce=de.tickInterval;de=de.tickPositions;let ne=m(de,_e=>_e>=se),ve=m([...de].reverse(),_e=>_e<=Q);return D(ne)||(ne=de[de.length-1]),D(ve)||(ve=de[0],ne+=Ce,z[0][0]="L",z.unshift(z[z.length-3])),z=z.slice(de.indexOf(ve),de.indexOf(ne)+1),z[0][0]="M",z}function A(z,Q){return m(this.pane||[],function(se){return se.options.id===Q})||z.call(this,Q)}function H(z,Q,se,de,Ce,ne){const ve=this.chart;var _e=P(de.inside,!!this.options.stacking);ve.polar?(z=Q.rectPlotX/Math.PI*180,ve.inverted?(this.forceDL=ve.isInsidePlot(Q.plotX,Q.plotY),_e&&Q.shapeArgs?(_e=Q.shapeArgs,_e=this.yAxis.postTranslate(((_e.start||0)+(_e.end||0))/2-this.xAxis.startAngleRad,Q.barX+Q.pointWidth/2),Ce=x(Ce,{x:_e.x-ve.plotLeft,y:_e.y-ve.plotTop})):Q.tooltipPos&&(Ce=x(Ce,{x:Q.tooltipPos[0],y:Q.tooltipPos[1]})),de.align=P(de.align,"center"),de.verticalAlign=P(de.verticalAlign,"middle")):(de.align===null&&(de.align=20<z&&160>z?"left":200<z&&340>z?"right":"center"),de.verticalAlign===null&&(de.verticalAlign=45>z||315<z?"bottom":135<z&&225>z?"top":"middle")),u.prototype.alignDataLabel.call(this,Q,se,de,Ce,ne),this.isRadialBar&&Q.shapeArgs&&Q.shapeArgs.start===Q.shapeArgs.end?se.hide():se.show()):z.call(this,Q,se,de,Ce,ne)}function U(){const z=this.options,Q=z.stacking,se=this.chart;var de=this.xAxis;const Ce=this.yAxis,ne=Ce.reversed,ve=Ce.center,_e=de.startAngleRad,oe=de.endAngleRad-_e;let ge=0,Te,Re,Le,$e=0;var nt=0;if(de.isRadial){de=this.points,Te=de.length,Re=Ce.translate(Ce.min),Le=Ce.translate(Ce.max);var Qe=z.threshold||0;for(se.inverted&&g(Qe)&&(ge=Ce.translate(Qe),D(ge)&&(0>ge?ge=0:ge>oe&&(ge=oe),this.translatedThreshold=ge+_e));Te--;){Qe=de[Te];var We=Qe.barX,xe=Qe.x,Ie=Qe.y;if(Qe.shapeType="arc",se.inverted){Qe.plotY=Ce.translate(Ie),Q&&Ce.stacking?(Ie=Ce.stacking.stacks[(0>Ie?"-":"")+this.stackKey],this.visible&&Ie&&Ie[xe]&&!Qe.isNull&&(nt=Ie[xe].points[this.getStackIndicator(void 0,xe,this.index).key],$e=Ce.translate(nt[0]),nt=Ce.translate(nt[1]),D($e)&&($e=v.clamp($e,0,oe)))):($e=ge,nt=Qe.plotY),$e>nt&&(nt=[$e,$e=nt][0]),ne?nt>Re?nt=Re:$e<Le?$e=Le:($e>Re||nt<Le)&&($e=nt=oe):$e<Re?$e=Re:nt>Le?nt=Le:(nt<Re||$e>Le)&&($e=nt=0),Ce.min>Ce.max&&($e=nt=ne?oe:0),$e+=_e,nt+=_e,ve&&(Qe.barX=We+=ve[3]/2),xe=Math.max(We,0),Ie=Math.max(We+Qe.pointWidth,0);var Be=z.borderRadius;Be=X((typeof Be=="object"?Be.radius:Be)||0,Ie-xe),Qe.shapeArgs={x:ve[0],y:ve[1],r:Ie,innerR:xe,start:$e,end:nt,borderRadius:Be},Qe.opacity=$e===nt?0:void 0,Qe.plotY=(D(this.translatedThreshold)&&($e<this.translatedThreshold?$e:nt))-_e}else $e=We+_e,Qe.shapeArgs=this.polar.arc(Qe.yBottom,Qe.plotY,$e,$e+Qe.pointWidth),Qe.shapeArgs.borderRadius=0;this.polar.toXY(Qe),se.inverted?(We=Ce.postTranslate(Qe.rectPlotY,We+Qe.pointWidth/2),Qe.tooltipPos=[We.x-se.plotLeft,We.y-se.plotTop]):Qe.tooltipPos=[Qe.plotX,Qe.plotY],ve&&(Qe.ttBelow=Qe.plotY>ve[1])}}}function E(z,Q){const se=this;let de;if(this.chart.polar){Q=Q||this.points;for(let ne=0;ne<Q.length;ne++)if(!Q[ne].isNull){var Ce=ne;break}this.options.connectEnds!==!1&&typeof Ce<"u"&&(this.connectEnds=!0,Q.splice(Q.length,0,Q[Ce]),de=!0),Q.forEach(ne=>{typeof ne.polarPlotY>"u"&&se.polar.toXY(ne)})}return Ce=z.apply(this,[].slice.call(arguments,1)),de&&Q.pop(),Ce}function ie(z,Q){const se=this.chart;let de={xAxis:[],yAxis:[]};return se.polar?se.axes.forEach(Ce=>{if(Ce.coll!=="colorAxis"){var ne=Ce.isXAxis,ve=Ce.center,_e=Q.chartX-ve[0]-se.plotLeft;ve=Q.chartY-ve[1]-se.plotTop,de[ne?"xAxis":"yAxis"].push({axis:Ce,value:Ce.translate(ne?Math.PI-Math.atan2(_e,ve):Math.sqrt(Math.pow(_e,2)+Math.pow(ve,2)),!0)})}}):de=z.call(this,Q),de}function ee(z,Q){this.chart.polar||z.call(this,Q)}function $(z,Q){const se=this,de=this.chart,Ce=this.group,ne=this.markerGroup,ve=this.xAxis&&this.xAxis.center,_e=de.plotLeft,oe=de.plotTop;let ge=this.options.animation,Te,Re,Le,$e,nt;de.polar?se.isRadialBar?Q||(se.startAngleRad=P(se.translatedThreshold,se.xAxis.startAngleRad),o.seriesTypes.pie.prototype.animate.call(se,Q)):(ge=j(ge),se.is("column")?Q||(Te=ve[3]/2,se.points.forEach(Qe=>{Re=Qe.graphic,$e=(Le=Qe.shapeArgs)&&Le.r,nt=Le&&Le.innerR,Re&&Le&&(Re.attr({r:Te,innerR:Te}),Re.animate({r:$e,innerR:nt},se.options.animation))})):Q?(z={translateX:ve[0]+_e,translateY:ve[1]+oe,scaleX:.001,scaleY:.001},Ce.attr(z),ne&&ne.attr(z)):(z={translateX:_e,translateY:oe,scaleX:1,scaleY:1},Ce.animate(z,ge),ne&&ne.animate(z,ge))):z.call(this,Q)}function V(z,Q,se,de){return this.chart.polar?de?(z=I(Q,de,!0,this.connectEnds),Q=z.prevPointCont&&z.prevPointCont.rightContX,se=z.prevPointCont&&z.prevPointCont.rightContY,z=["C",g(Q)?Q:z.plotX,g(se)?se:z.plotY,g(z.leftContX)?z.leftContX:z.plotX,g(z.leftContY)?z.leftContY:z.plotY,z.plotX,z.plotY]):z=["M",se.plotX,se.plotY]:z=z.call(this,Q,se,de),z}const{animObject:j}=r,{addEvent:w,defined:D,find:m,isNumber:g,merge:x,pick:P,relativeLength:X,splat:Y,uniqueKey:K,wrap:le}=v,pe=[];class fe{static compose(Q,se,de,Ce,ne,ve,_e,oe,ge){s.compose(Q,ne),v.pushUnique(pe,se)&&(w(se,"afterDrawChartBox",J),w(se,"getAxes",B),w(se,"init",M),le(se.prototype,"get",A)),v.pushUnique(pe,de)&&(Q=de.prototype,le(Q,"getCoordinates",ie),le(Q,"pinch",ee),w(de,"getSelectionMarkerAttrs",O),w(de,"getSelectionBox",W)),v.pushUnique(pe,Ce)&&(w(Ce,"afterInit",L),w(Ce,"afterTranslate",G,{order:2}),w(Ce,"afterColumnTranslate",U,{order:4}),le(Ce.prototype,"animate",$)),_e&&v.pushUnique(pe,_e)&&(de=_e.prototype,le(de,"alignDataLabel",H),le(de,"animate",$)),oe&&v.pushUnique(pe,oe)&&le(oe.prototype,"getGraphPath",E),ge&&v.pushUnique(pe,ge)&&(oe=ge.prototype,le(oe,"getPointSpline",V),ve&&v.pushUnique(pe,ve)&&(ve.prototype.getPointSpline=oe.getPointSpline))}constructor(Q){this.series=Q}arc(Q,se,de,Ce){const ne=this.series,ve=ne.xAxis.center,_e=ne.yAxis.len,oe=ve[3]/2;return se=_e-se+oe,Q=_e-P(Q,_e)+oe,ne.yAxis.reversed&&(0>se&&(se=oe),0>Q&&(Q=oe)),{x:ve[0],y:ve[1],r:se,innerR:Q,start:de,end:Ce}}toXY(Q){var se=this.series;const de=se.chart,Ce=se.xAxis;var ne=se.yAxis;const ve=Q.plotX,_e=de.inverted,oe=Q.y;let ge=Q.plotY,Te=_e?ve:ne.len-ge;_e&&se&&!se.isRadialBar&&(Q.plotY=ge=g(oe)?ne.translate(oe):0),Q.rectPlotX=ve,Q.rectPlotY=ge,ne.center&&(Te+=ne.center[3]/2),g(ge)&&(ne=_e?ne.postTranslate(ge,Te):Ce.postTranslate(ve,Te),Q.plotX=Q.polarPlotX=ne.x-de.plotLeft,Q.plotY=Q.polarPlotY=ne.y-de.plotTop),se.kdByAngle?(se=(ve/Math.PI*180+Ce.pane.options.startAngle)%360,0>se&&(se+=360),Q.clientX=se):Q.clientX=Q.plotX}}return fe}),i(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],function(r,o,u,h,s){u.compose(r.Axis,r.Chart,r.Legend,r.Series),h.compose(r.Axis,r.Chart,r.Legend,r.Series),s.compose(r.Axis,r.Chart,r.Pointer,r.Series,r.Tick,o.seriesTypes.areasplinerange,o.seriesTypes.column,o.seriesTypes.line,o.seriesTypes.spline)})})})(HP);var GK=HP.exports;const WP=rd(GK);WP(yc);const HK={components:{highcharts:cm.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var t=e.series[0].points[0],i,r=Math.round((Math.random()-.5)*20);i=t.y+r,(i<0||i>200)&&(i=t.y-r),t.update(i)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10,enabled:!1},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},bh=e=>(Xc("data-v-7c7fa323"),e=e(),Zc(),e),WK={class:"row"},YK={class:"col position-relative"},qK=bh(()=>je("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HFO (KL)",-1)),XK=bh(()=>je("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"15.08 KL",-1)),ZK={class:"col position-relative"},KK=bh(()=>je("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total LS HFO (KL)",-1)),JK=bh(()=>je("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.94",-1)),QK={class:"col position-relative"},eJ=bh(()=>je("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total MDO (KL)",-1)),tJ=bh(()=>je("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"1.22",-1)),iJ={class:"col position-relative"},nJ=bh(()=>je("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HSD (KL)",-1)),rJ=bh(()=>je("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.01",-1)),sJ={class:"col position-relative"},oJ=bh(()=>je("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total (KL)",-1)),aJ=bh(()=>je("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"21.25",-1));function lJ(e,t,i,r,o,u){const h=dr("highcharts");return pt(),St("div",WK,[je("div",YK,[sn(h,{options:o.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),qK,XK]),je("div",ZK,[sn(h,{options:o.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),KK,JK]),je("div",QK,[sn(h,{options:o.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),eJ,tJ]),je("div",iJ,[sn(h,{options:o.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),nJ,rJ]),je("div",sJ,[sn(h,{options:o.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),oJ,aJ])])}const cJ=Pr(HK,[["render",lJ],["__scopeId","data-v-7c7fa323"]]);var YP={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(r,o,u,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,u),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},i(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:u,find:h,fireEvent:s,isArray:v,isNumber:I,pick:J}=o;var M;return function(B){function W(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function O(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function L(){const ie=this.brokenAxis;if(ie&&ie.hasBreaks){const ee=this.tickPositions,$=this.tickPositions.info,V=[];for(let j=0;j<ee.length;j++)ie.isInAnyBreak(ee[j])||V.push(ee[j]);this.tickPositions=V,this.tickPositions.info=$}}function G(){this.brokenAxis||(this.brokenAxis=new E(this))}function k(){const{isDirty:ie,options:{connectNulls:ee},points:$,xAxis:V,yAxis:j}=this;if(ie){let w=$.length;for(;w--;){const D=$[w],m=!(D.y===null&&ee===!1)&&(V&&V.brokenAxis&&V.brokenAxis.isInAnyBreak(D.x,!0)||j&&j.brokenAxis&&j.brokenAxis.isInAnyBreak(D.y,!0));D.visible=m?!1:D.options.visible!==!1}}}function S(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,J(this.pointArrayMap,["y"]))}function A(ie,ee){const $=this,V=$.points;let j,w,D,m;if(ie&&ie.brokenAxis&&ie.brokenAxis.hasBreaks){const g=ie.brokenAxis;ee.forEach(function(x){j=g&&g.breakArray||[],w=ie.isXAxis?ie.min:J($.options.threshold,ie.min),V.forEach(function(P){m=J(P["stack"+x.toUpperCase()],P[x]),j.forEach(function(X){I(w)&&I(m)&&(D=!1,w<X.from&&m>X.to||w>X.from&&m<X.from?D="pointBreak":(w<X.from&&m>X.from&&m<X.to||w>X.from&&m>X.to&&m<X.from)&&(D="pointInBreak"),D&&s(ie,D,{point:P,brk:X}))})})})}}function H(){var ie=this.currentDataGrouping,ee=ie&&ie.gapSize;ie=this.points.slice();const $=this.yAxis;let V=this.options.gapSize,j=ie.length-1;var w;if(V&&0<j)for(this.options.gapUnit!=="value"&&(V*=this.basePointRange),ee&&ee>V&&ee>=this.basePointRange&&(V=ee);j--;)w&&w.visible!==!1||(w=ie[j+1]),ee=ie[j],w.visible!==!1&&ee.visible!==!1&&(w.x-ee.x>V&&(w=(ee.x+w.x)/2,ie.splice(j+1,0,{isNull:!0,x:w}),$.stacking&&this.options.stacking&&(w=$.stacking.stacks[this.stackKey][w]=new r($,$.options.stackLabels,!1,w,this.stack),w.total=0)),w=ee);return this.getGraphPath(ie)}const U=[];B.compose=function(ie,ee){if(o.pushUnique(U,ie)&&(ie.keepProps.push("brokenAxis"),u(ie,"init",G),u(ie,"afterInit",W),u(ie,"afterSetTickPositions",L),u(ie,"afterSetOptions",O)),o.pushUnique(U,ee)){const $=ee.prototype;$.drawBreaks=A,$.gappedPath=H,u(ee,"afterGeneratePoints",k),u(ee,"afterRender",S)}return ie};class E{static isInBreak(ee,$){const V=ee.repeat||1/0,j=ee.from,w=ee.to-ee.from;return $=$>=j?($-j)%V:V-(j-$)%V,ee.inclusive?$<=w:$<w&&$!==0}static lin2Val(ee){var $=this.brokenAxis;if($=$&&$.breakArray,!$||!I(ee))return ee;let V,j;for(j=0;j<$.length&&(V=$[j],!(V.from>=ee));j++)(V.to<ee||E.isInBreak(V,ee))&&(ee+=V.len);return ee}static val2Lin(ee){var $=this.brokenAxis;if($=$&&$.breakArray,!$||!I(ee))return ee;let V=ee,j,w;for(w=0;w<$.length;w++)if(j=$[w],j.to<=ee)V-=j.len;else{if(j.from>=ee)break;if(E.isInBreak(j,ee)){V-=ee-j.from;break}}return V}constructor(ee){this.hasBreaks=!1,this.axis=ee}findBreakAt(ee,$){return h($,function(V){return V.from<ee&&ee<V.to})}isInAnyBreak(ee,$){const V=this.axis,j=V.options.breaks||[];let w=j.length,D,m,g;if(w&&I(ee)){for(;w--;)E.isInBreak(j[w],ee)&&(D=!0,m||(m=J(j[w].showPoints,!V.isXAxis)));g=D&&$?D&&!m:D}return g}setBreaks(ee,$){const V=this,j=V.axis,w=v(ee)&&!!ee.length;j.isDirty=V.hasBreaks!==w,V.hasBreaks=w,j.options.breaks=j.userOptions.breaks=ee,j.forceRedraw=!0,j.series.forEach(function(D){D.isDirty=!0}),w||j.val2lin!==E.val2Lin||(delete j.val2lin,delete j.lin2val),w&&(j.userOptions.ordinal=!1,j.lin2val=E.lin2Val,j.val2lin=E.val2Lin,j.setExtremes=function(D,m,g,x,P){if(V.hasBreaks){const X=this.options.breaks||[];let Y;for(;Y=V.findBreakAt(D,X);)D=Y.to;for(;Y=V.findBreakAt(m,X);)m=Y.from;m<D&&(m=D)}j.constructor.prototype.setExtremes.call(this,D,m,g,x,P)},j.setAxisTranslation=function(){if(j.constructor.prototype.setAxisTranslation.call(this),V.unitLength=void 0,V.hasBreaks){const D=j.options.breaks||[],m=[],g=[],x=J(j.pointRangePadding,0);let P=0,X,Y,K=j.userMin||j.min,le=j.userMax||j.max,pe,fe;D.forEach(function(z){Y=z.repeat||1/0,I(K)&&I(le)&&(E.isInBreak(z,K)&&(K+=z.to%Y-K%Y),E.isInBreak(z,le)&&(le-=le%Y-z.from%Y))}),D.forEach(function(z){if(pe=z.from,Y=z.repeat||1/0,I(K)&&I(le)){for(;pe-Y>K;)pe-=Y;for(;pe<K;)pe+=Y;for(fe=pe;fe<le;fe+=Y)m.push({value:fe,move:"in"}),m.push({value:fe+z.to-z.from,move:"out",size:z.breakSize})}}),m.sort(function(z,Q){return z.value===Q.value?(z.move==="in"?0:1)-(Q.move==="in"?0:1):z.value-Q.value}),X=0,pe=K,m.forEach(function(z){X+=z.move==="in"?1:-1,X===1&&z.move==="in"&&(pe=z.value),X===0&&I(pe)&&(g.push({from:pe,to:z.value,len:z.value-pe-(z.size||0)}),P+=z.value-pe-(z.size||0))}),V.breakArray=g,I(K)&&I(le)&&I(j.min)&&(V.unitLength=le-K-P+x,s(j,"afterBreaks"),j.staticScale?j.transA=j.staticScale:V.unitLength&&(j.transA*=(le-j.min+x)/V.unitLength),x&&(j.minPixelPadding=j.transA*(j.minPointOffset||0)),j.min=K,j.max=le)}}),J($,!0)&&j.chart.redraw()}}B.Additions=E}(M||(M={})),M}),i(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(r,o){o.compose(r.Axis,r.Series)}),i(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),i(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(r,o){function u(B){const W=B.length;return B=h(B),M(B)&&W&&(B=I(B/W)),B}function h(B){let W=B.length,O;if(!W&&B.hasNulls)O=null;else if(W)for(O=0;W--;)O+=B[W];return O}const{arrayMax:s,arrayMin:v,correctFloat:I,extend:J,isNumber:M}=o;return o={average:u,averages:function(){const B=[];return[].forEach.call(arguments,function(W){B.push(u(W))}),typeof B[0]>"u"?void 0:B},close:function(B){return B.length?B[B.length-1]:B.hasNulls?null:void 0},high:function(B){return B.length?s(B):B.hasNulls?null:void 0},hlc:function(B,W,O){if(B=r.high(B),W=r.low(W),O=r.close(O),M(B)||M(W)||M(O))return[B,W,O]},low:function(B){return B.length?v(B):B.hasNulls?null:void 0},ohlc:function(B,W,O,L){if(B=r.open(B),W=r.high(W),O=r.low(O),L=r.close(L),M(B)||M(W)||M(O)||M(L))return[B,W,O,L]},open:function(B){return B.length?B[0]:B.hasNulls?null:void 0},range:function(B,W){if(B=r.low(B),W=r.high(W),M(B)||M(W))return[B,W];if(B===null&&W===null)return null},sum:h},J(r,o),o}),i(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),i(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(r,o){function u(L){const G=this,k=G.series;k.forEach(function(S){S.groupPixelWidth=void 0}),k.forEach(function(S){S.groupPixelWidth=G.getGroupPixelWidth&&G.getGroupPixelWidth(),S.groupPixelWidth&&(S.hasProcessed=!0),S.applyGrouping(!!L.hasExtremesChanged)})}function h(){const L=this.series;let G=L.length,k=0,S=!1,A,H;for(;G--;)(H=L[G].options.dataGrouping)&&(k=Math.max(k,B(H.groupPixelWidth,r.common.groupPixelWidth)),A=(L[G].processedXData||L[G].data).length,(L[G].groupPixelWidth||A>this.chart.plotSizeX/k||A&&H.forced)&&(S=!0));return S?k:0}function s(){this.series.forEach(function(L){L.hasProcessed=!1})}function v(L,G){let k;if(G=B(G,!0),L||(L={forced:!1,units:null}),this instanceof O)for(k=this.series.length;k--;)this.series[k].update({dataGrouping:L},!1);else this.chart.options.series.forEach(function(S){S.dataGrouping=typeof L=="boolean"?L:M(L,S.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),G&&this.chart.redraw()}const{addEvent:I,extend:J,merge:M,pick:B}=o,W=[];let O;return{compose:function(L){O=L,o.pushUnique(W,L)&&(I(L,"afterSetScale",s),I(L,"postProcessData",u),J(L.prototype,{applyGrouping:u,getGroupPixelWidth:h,setDataGrouping:v}))}}}),i(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v){function I($){var V=this.chart,j=this.options.dataGrouping,w=this.allowDG!==!1&&j&&E(j.enabled,V.options.isStock),D=this.visible||!V.options.chart.ignoreHiddenSeries;const m=this.currentDataGrouping;var g=!1;if(w&&!this.requireSorting&&(this.requireSorting=g=!0),$=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!$)||!w,g&&(this.requireSorting=!1),!$){this.destroyGroupedData(),$=j.groupAll?this.xData:this.processedXData,w=j.groupAll?this.yData:this.processedYData;var x=V.plotSizeX;g=this.xAxis;var P=g.options.ordinal,X=this.groupPixelWidth,Y;let se;if(X&&$&&$.length&&x){this.isDirty=se=!0,this.points=null;var K=g.getExtremes(),le=K.min;K=K.max,P=P&&g.ordinal&&g.ordinal.getGroupIntervalFactor(le,K,this)||1,x=g.getTimeTicks(u.Additions.prototype.normalizeTimeTickInterval(X*(K-le)/x*P,j.units||o.units),Math.min(le,$[0]),Math.max(K,$[$.length-1]),g.options.startOfWeek,$,this.closestPointRange),X=L.groupData.apply(this,[$,w,x,j.approximation]),$=X.groupedXData,w=X.groupedYData,P=0,j&&j.smoothed&&$.length&&(j.firstAnchor="firstPoint",j.anchor="middle",j.lastAnchor="lastPoint",S(32,!1,V,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),V=$;var pe=K,fe=this.options.dataGrouping;if(K=this.currentDataGrouping&&this.currentDataGrouping.gapSize,fe&&this.xData&&K&&this.groupMap){le=V.length-1;var z=fe.anchor;const de=E(fe.firstAnchor,z);if(fe=E(fe.lastAnchor,z),z&&z!=="start"){var Q=K*{middle:.5,end:1}[z];for(z=V.length-1;z--&&0<z;)V[z]+=Q}de&&de!=="start"&&this.xData[0]>=V[0]&&(z=this.groupMap[0].start,Q=this.groupMap[0].length,H(z)&&H(Q)&&(Y=z+(Q-1)),V[0]={middle:V[0]+.5*K,end:V[0]+K,firstPoint:this.xData[0],lastPoint:Y&&this.xData[Y]}[de]),fe&&fe!=="start"&&K&&V[le]>=pe-K&&(Y=this.groupMap[this.groupMap.length-1].start,V[le]={middle:V[le]+.5*K,end:V[le]+K,firstPoint:Y&&this.xData[Y],lastPoint:this.xData[this.xData.length-1]}[fe])}for(Y=1;Y<x.length;Y++)x.info.segmentStarts&&x.info.segmentStarts.indexOf(Y)!==-1||(P=Math.max(x[Y]-x[Y-1],P));K=x.info,K.gapSize=P,this.closestPointRange=x.info.totalRange,this.groupMap=X.groupMap,D&&(D=g,Y=$,k(Y[0])&&H(D.min)&&H(D.dataMin)&&Y[0]<D.min&&((!k(D.options.min)&&D.min<=D.dataMin||D.min===D.dataMin)&&(D.min=Math.min(Y[0],D.min)),D.dataMin=Math.min(Y[0],D.dataMin)),k(Y[Y.length-1])&&H(D.max)&&H(D.dataMax)&&Y[Y.length-1]>D.max&&((!k(D.options.max)&&H(D.dataMax)&&D.max>=D.dataMax||D.max===D.dataMax)&&(D.max=Math.max(Y[Y.length-1],D.max)),D.dataMax=Math.max(Y[Y.length-1],D.dataMax))),j.groupAll&&(this.allGroupedData=w,j=this.cropData($,w,g.min,g.max,1),$=j.xData,w=j.yData,this.cropStart=j.start),this.processedXData=$,this.processedYData=w}else this.groupMap=null;this.hasGroupedData=se,this.currentDataGrouping=K,this.preventGraphAnimation=(m&&m.totalRange)!==(K&&K.totalRange)}}function J(){this.groupedData&&(this.groupedData.forEach(function($,V){$&&(this.groupedData[V]=$.destroy?$.destroy():null)},this),this.groupedData.length=0)}function M(){ie.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function B(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function W($,V,j,w){const D=this,m=D.data,g=D.options&&D.options.data,x=[],P=[],X=[],Y=$.length,K=!!V,le=[],pe=D.pointArrayMap,fe=pe&&pe.length,z=["x"].concat(pe||["y"]),Q=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let se=0,de=0;if(w=typeof w=="function"?w:w&&r[w]?r[w]:r[D.getDGApproximation&&D.getDGApproximation()||"average"],fe)for(var Ce=pe.length;Ce--;)le.push([]);else le.push([]);Ce=fe||1;for(let _e=0;_e<=Y;_e++)if(!($[_e]<j[0])){for(;typeof j[se+1]<"u"&&$[_e]>=j[se+1]||_e===Y;){var ne=j[se];D.dataGroupInfo={start:Q?de:D.cropStart+de,length:le[0].length};var ve=w.apply(D,le);for(D.pointClass&&!k(D.dataGroupInfo.options)&&(D.dataGroupInfo.options=U(D.pointClass.prototype.optionsToObject.call({series:D},D.options.data[D.cropStart+de])),z.forEach(function(oe){delete D.dataGroupInfo.options[oe]})),typeof ve<"u"&&(x.push(ne),P.push(ve),X.push(D.dataGroupInfo)),de=_e,ne=0;ne<Ce;ne++)le[ne].length=0,le[ne].hasNulls=!1;if(se+=1,_e===Y)break}if(_e===Y)break;if(pe){ne=D.options.dataGrouping&&D.options.dataGrouping.groupAll?_e:D.cropStart+_e,ne=m&&m[ne]||D.pointClass.prototype.applyOptions.apply({series:D},[g[ne]]);for(let oe=0;oe<fe;oe++)ve=ne[pe[oe]],H(ve)?le[oe].push(ve):ve===null&&(le[oe].hasNulls=!0)}else ne=K?V[_e]:null,H(ne)?le[0].push(ne):ne===null&&(le[0].hasNulls=!0)}return{groupedXData:x,groupedYData:P,groupMap:X}}function O($){$=$.options;const V=this.type,j=this.chart.options.plotOptions,w=this.useCommonDataGrouping&&o.common,D=o.seriesSpecific;let m=h.defaultOptions.plotOptions[V].dataGrouping;if(j&&(D[V]||w)){const g=this.chart.rangeSelector;m||(m=U(o.common,D[V])),$.dataGrouping=U(w,m,j.series&&j.series.dataGrouping,j[V].dataGrouping,this.userOptions.dataGrouping,!$.isInternal&&g&&H(g.selected)&&g.buttonOptions[g.selected].dataGrouping)}}const{series:{prototype:L}}=s,{addEvent:G,defined:k,error:S,extend:A,isNumber:H,merge:U,pick:E}=v,ie=L.generatePoints,ee=[];return{compose:function($){const V=$.prototype.pointClass;v.pushUnique(ee,V)&&G(V,"update",function(){if(this.dataGroup)return S(24,!1,this.series.chart),!1}),v.pushUnique(ee,$)&&(G($,"afterSetOptions",O),G($,"destroy",J),A($.prototype,{applyGrouping:I,destroyGroupedData:J,generatePoints:M,getDGApproximation:B,groupData:W}))},groupData:W}}),i(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(r,o,u,h,s){function v(O){const L=this.chart,G=L.time,k=O.labelConfig,S=k.series;var A=S.tooltipOptions,H=S.options.dataGrouping;const U=S.xAxis;var E=A.xDateFormat;let ie,ee,$=A[O.isFooter?"footerFormat":"headerFormat"];U&&U.options.type==="datetime"&&H&&B(k.key)&&(ee=S.currentDataGrouping,H=H.dateTimeLabelFormats||o.common.dateTimeLabelFormats,ee?(A=H[ee.unitName],ee.count===1?E=A[0]:(E=A[1],ie=A[2])):!E&&H&&U.dateTime&&(E=U.dateTime.getXDateFormat(k.x,A.dateTimeLabelFormats)),E=G.dateFormat(E,k.key),ie&&(E+=G.dateFormat(ie,k.key+ee.totalRange-1)),S.chart.styledMode&&($=this.styledModeFormat($)),O.text=I($,{point:M(k.point,{key:E}),series:S},L),O.preventDefault())}const{format:I}=h,{addEvent:J,extend:M,isNumber:B}=s,W=[];return h={compose:function(O,L,G){r.compose(O),u.compose(L),G&&s.pushUnique(W,G)&&J(G,"headerFormatter",v)},groupData:u.groupData},h}),i(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(r,o,u,h){r.dataGrouping={approximationDefaults:o,approximations:u},h.compose(r.Axis,r.Series,r.Tooltip)}),i(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,u,h){const{prototype:{tooltipFormatter:s}}=o,{addEvent:v,arrayMax:I,arrayMin:J,correctFloat:M,defined:B,isArray:W,isNumber:O,isString:L,pick:G}=h;var k;return function(S){function A(m,g,x){this.isXAxis||(this.series.forEach(function(P){m==="compare"&&typeof g!="boolean"?P.setCompare(g,!1):m!=="cumulative"||L(g)||P.setCumulative(g,!1)}),G(x,!0)&&this.chart.redraw())}function H(m){const g=this,{numberFormatter:x}=g.series.chart,P=function(X){m=m.replace("{point."+X+"}",(0<g[X]&&X==="change"?"+":"")+x(g[X],G(g.series.tooltipOptions.changeDecimals,2)))};return B(g.change)&&P("change"),B(g.cumulativeSum)&&P("cumulativeSum"),s.apply(this,[m])}function U(){const m=this.options.compare;let g;(m==="percent"||m==="value"||this.options.cumulative)&&(g=new D(this),m==="percent"||m==="value"?g.initCompare(m):g.initCumulative()),this.dataModify=g}function E(m){m=m.dataExtremes;const g=m.activeYData;if(this.dataModify&&m){let x;this.options.compare?x=[this.dataModify.modifyValue(m.dataMin),this.dataModify.modifyValue(m.dataMax)]:this.options.cumulative&&W(g)&&2<=g.length&&(x=D.getCumulativeExtremes(g)),x&&(m.dataMin=J(x),m.dataMax=I(x))}}function ie(m,g){this.options.compare=this.userOptions.compare=m,this.update({},G(g,!0)),!this.dataModify||m!=="value"&&m!=="percent"?this.points.forEach(x=>{delete x.change}):this.dataModify.initCompare(m)}function ee(){if(this.xAxis&&this.processedYData&&this.dataModify){const m=this.processedXData,g=this.processedYData,x=g.length,P=this.options.compareStart===!0?0:1;let X=-1,Y;for(this.pointArrayMap&&(X=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),Y=0;Y<x-P;Y++){const K=g[Y]&&-1<X?g[Y][X]:g[Y];if(O(K)&&K!==0&&m[Y+P]>=(this.xAxis.min||0)){this.dataModify.compareValue=K;break}}}}function $(m,g){this.setModifier("compare",m,g)}function V(m,g){m=G(m,!1),this.options.cumulative=this.userOptions.cumulative=m,this.update({},G(g,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(x=>{delete x.cumulativeSum})}function j(m,g){this.setModifier("cumulative",m,g)}const w=[];S.compose=function(m,g,x){if(h.pushUnique(w,m)){const P=m.prototype;P.setCompare=ie,P.setCumulative=V,v(m,"afterInit",U),v(m,"afterGetExtremes",E),v(m,"afterProcessData",ee)}return h.pushUnique(w,g)&&(g=g.prototype,g.setCompare=$,g.setModifier=A,g.setCumulative=j),h.pushUnique(w,x)&&(x.prototype.tooltipFormatter=H),m};class D{constructor(g){this.series=g}modifyValue(){return 0}static getCumulativeExtremes(g){let x=1/0,P=-1/0;return g.reduce((X,Y)=>(Y=X+Y,x=Math.min(x,Y,X),P=Math.max(P,Y,X),Y)),[x,P]}initCompare(g){this.modifyValue=function(x,P){x===null&&(x=0);const X=this.compareValue;return typeof x<"u"&&typeof X<"u"?(x=g==="value"?x-X:x/X*100-(this.series.options.compareBase===100?0:100),typeof P<"u"&&(P=this.series.points[P])&&(P.change=x),x):0}}initCumulative(){this.modifyValue=function(g,x){if(g===null&&(g=0),g!==void 0&&x!==void 0){const P=0<x?this.series.points[x-1]:null;return P&&P.cumulativeSum&&(g=M(P.cumulativeSum+g)),(x=this.series.points[x])&&(x.cumulativeSum=g),g}return 0}}}S.Additions=D}(k||(k={})),k}),i(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){function u(){this.navigatorAxis||(this.navigatorAxis=new O(this))}function h(L){var G=this.chart.options,k=G.navigator;const S=this.navigatorAxis,A=G.chart.zooming.pinchType,H=G.rangeSelector;G=G.chart.zooming.type,this.isXAxis&&(k&&k.enabled||H&&H.enabled)&&(G==="y"?L.zoomed=!1:(!s&&G==="xy"||s&&A==="xy")&&this.options.range&&(k=S.previousZoom,J(L.newMin)?S.previousZoom=[this.min,this.max]:k&&(L.newMin=k[0],L.newMax=k[1],S.previousZoom=void 0))),typeof L.zoomed<"u"&&L.preventDefault()}const{isTouchDevice:s}=r,{addEvent:v,correctFloat:I,defined:J,isNumber:M,pick:B}=o,W=[];class O{static compose(G){o.pushUnique(W,G)&&(G.keepProps.push("navigatorAxis"),v(G,"init",u),v(G,"zoom",h))}constructor(G){this.axis=G}destroy(){this.axis=void 0}toFixedRange(G,k,S,A){var H=this.axis,U=H.chart;G=B(S,H.translate(G,!0,!H.horiz)),k=B(A,H.translate(k,!0,!H.horiz)),U=U&&U.fixedRange,H=(H.pointRange||0)/2;const E=U&&(k-G)/U;return J(S)||(G=I(G+H)),J(A)||(k=I(k-H)),.7<E&&1.3>E&&(A?G=k-U:k=G+U),M(G)&&M(k)||(G=k=void 0),{min:G,max:k}}}return O}),i(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(r,o){return{parse:r}=r,{seriesTypes:o}=o,o={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:r("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof o.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},o}),i(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(r,o,u,h,s={}){return r=s.width?s.width/2:u,o=Math.round(r/3)+.5,h=s.height||h,[["M",-r-1,.5],["L",r,.5],["L",r,h+.5],["L",-r-1,h+.5],["L",-r-1,.5],["M",-o,4],["L",-o,h-3],["M",o-1,4],["L",o-1,h-3]]}}}),i(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v,I){function J(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function M(){var w;const D=this.legend,m=this.navigator;let g,x,P;if(m){g=D&&D.options,x=m.xAxis,P=m.yAxis;const{scrollbarHeight:X,scrollButtonSize:Y}=m;this.inverted?(m.left=m.opposite?this.chartWidth-X-m.height:this.spacing[3]+X,m.top=this.plotTop+Y):(m.left=$(x.left,this.plotLeft+Y),m.top=m.navigatorOptions.top||this.chartHeight-m.height-X-(((w=this.scrollbar)===null||w===void 0?void 0:w.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(g&&g.verticalAlign==="bottom"&&g.layout!=="proximate"&&g.enabled&&!g.floating?D.legendHeight+$(g.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),x&&P&&(this.inverted?x.options.left=P.options.left=m.left:x.options.top=P.options.top=m.top,x.setAxisSize(),P.setAxisSize())}}function B(w){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new j(this),$(w.redraw,!0)&&this.redraw(w.animation))}function W(){const w=this.options;(w.navigator.enabled||w.scrollbar.enabled)&&(this.scroller=this.navigator=new j(this))}function O(){const w=this.options,D=w.navigator,m=w.rangeSelector;if((D&&D.enabled||m&&m.enabled)&&(!H&&w.chart.zooming.type==="x"||H&&w.chart.zooming.pinchType==="x"))return!1}function L(w){const D=w.navigator;D&&w.xAxis[0]&&(w=w.xAxis[0].getExtremes(),D.render(w.min,w.max))}function G(w){const D=w.options.navigator||{},m=w.options.scrollbar||{};this.navigator||this.scroller||!D.enabled&&!m.enabled||(ee(!0,this.options.navigator,D),ee(!0,this.options.scrollbar,m),delete w.options.navigator,delete w.options.scrollbar)}function k(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:S,setOptions:A}=r,{isTouchDevice:H}=o,{getRendererType:U}=v,{addEvent:E,extend:ie,merge:ee,pick:$}=I,V=[];let j;return{compose:function(w,D,m,g){u.compose(w),j=m,I.pushUnique(V,D)&&(D.prototype.callbacks.push(L),E(D,"afterAddSeries",J),E(D,"afterSetChartSize",M),E(D,"afterUpdate",B),E(D,"beforeRender",W),E(D,"beforeShowResetZoom",O),E(D,"update",G)),I.pushUnique(V,g)&&E(g,"afterUpdate",k),I.pushUnique(V,U)&&ie(U().prototype.symbols,s),I.pushUnique(V,A)&&ie(S,{navigator:h})}}}),i(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(r){const{addEvent:o,defined:u,pick:h}=r,s=[];class v{static compose(J,M){if(!r.pushUnique(s,J))return J;const B=W=>{const O=h(W.options&&W.options.min,W.min),L=h(W.options&&W.options.max,W.max);return{axisMin:O,axisMax:L,scrollMin:u(W.dataMin)?Math.min(O,W.min,W.dataMin,h(W.threshold,1/0)):O,scrollMax:u(W.dataMax)?Math.max(L,W.max,W.dataMax,h(W.threshold,-1/0)):L}};return o(J,"afterInit",function(){const W=this;W.options&&W.options.scrollbar&&W.options.scrollbar.enabled&&(W.options.scrollbar.vertical=!W.horiz,W.options.startOnTick=W.options.endOnTick=!1,W.scrollbar=new M(W.chart.renderer,W.options.scrollbar,W.chart),o(W.scrollbar,"changed",function(O){let{axisMin:L,axisMax:G,scrollMin:k,scrollMax:S}=B(W);var A=S-k;let H;u(L)&&u(G)&&(W.horiz&&!W.reversed||!W.horiz&&W.reversed?(H=k+A*this.to,A=k+A*this.from):(H=k+A*(1-this.from),A=k+A*(1-this.to)),this.shouldUpdateExtremes(O.DOMType)?W.setExtremes(A,H,!0,O.DOMType==="mousemove"||O.DOMType==="touchmove"?!1:void 0,O):this.setRange(this.from,this.to))}))}),o(J,"afterRender",function(){let{scrollMin:W,scrollMax:O}=B(this),L=this.scrollbar;var G=this.axisTitleMargin+(this.titleOffset||0),k=this.chart.scrollbarsOffsets;let S=this.options.margin||0;L&&(this.horiz?(this.opposite||(k[1]+=G),L.position(this.left,this.top+this.height+2+k[1]-(this.opposite?S:0),this.width,this.height),this.opposite||(k[1]+=S),G=1):(this.opposite&&(k[0]+=G),L.position(L.options.opposite?this.left+this.width+2+k[0]-(this.opposite?0:S):this.opposite?0:S,this.top,this.width,this.height),this.opposite&&(k[0]+=S),G=0),k[G]+=L.size+(L.options.margin||0),isNaN(W)||isNaN(O)||!u(this.min)||!u(this.max)||this.min===this.max?L.setRange(0,1):(k=(this.min-W)/(O-W),G=(this.max-W)/(O-W),this.horiz&&!this.reversed||!this.horiz&&this.reversed?L.setRange(k,G):L.setRange(1-G,1-k)))}),o(J,"afterGetOffset",function(){const W=this.scrollbar;var O=W&&!W.options.opposite;O=this.horiz?2:O?3:1,W&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[O]+=W.size+(W.options.margin||0))}),J}}return v}),i(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(r){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),i(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(r,o,u,h,s){const{defaultOptions:v}=r,{addEvent:I,correctFloat:J,defined:M,destroyObjectProperties:B,fireEvent:W,merge:O,pick:L,removeEvent:G}=s;class k{static compose(A){u.compose(A,k)}static swapXY(A,H){return H&&A.forEach(U=>{const E=U.length;let ie;for(let ee=0;ee<E;ee+=2)ie=U[ee+1],typeof ie=="number"&&(U[ee+1]=U[ee+2],U[ee+2]=ie)}),A}constructor(A,H,U){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(A,H,U)}addEvents(){var A=this.options.inverted?[1,0]:[0,1];const H=this.scrollbarButtons,U=this.scrollbarGroup.element,E=this.track.element,ie=this.mouseDownHandler.bind(this),ee=this.mouseMoveHandler.bind(this),$=this.mouseUpHandler.bind(this);A=[[H[A[0]].element,"click",this.buttonToMinClick.bind(this)],[H[A[1]].element,"click",this.buttonToMaxClick.bind(this)],[E,"click",this.trackClick.bind(this)],[U,"mousedown",ie],[U.ownerDocument,"mousemove",ee],[U.ownerDocument,"mouseup",$]],o.hasTouch&&A.push([U,"touchstart",ie],[U.ownerDocument,"touchmove",ee],[U.ownerDocument,"touchend",$]),A.forEach(function(V){I.apply(null,V)}),this._events=A}buttonToMaxClick(A){const H=(this.to-this.from)*L(this.options.step,.2);this.updatePosition(this.from+H,this.to+H),W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:A})}buttonToMinClick(A){const H=J(this.to-this.from)*L(this.options.step,.2);this.updatePosition(J(this.from-H),J(this.to-H)),W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:A})}cursorToScrollbarPosition(A){var H=this.options;return H=H.minWidth>this.calculatedWidth?H.minWidth:0,{chartX:(A.chartX-this.x-this.xOffset)/(this.barWidth-H),chartY:(A.chartY-this.y-this.yOffset)/(this.barWidth-H)}}destroy(){const A=this,H=A.chart.scroller;A.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(U){A[U]&&A[U].destroy&&(A[U]=A[U].destroy())}),H&&A===H.scrollbar&&(H.scrollbar=null,B(H.scrollbarButtons))}drawScrollbarButton(A){const H=this.renderer,U=this.scrollbarButtons,E=this.options,ie=this.size;var ee=H.g().add(this.group);U.push(ee),E.buttonsEnabled&&(ee=H.rect().addClass("highcharts-scrollbar-button").add(ee),this.chart.styledMode||ee.attr({stroke:E.buttonBorderColor,"stroke-width":E.buttonBorderWidth,fill:E.buttonBackgroundColor}),ee.attr(ee.crisp({x:-.5,y:-.5,width:ie+1,height:ie+1,r:E.buttonBorderRadius},ee.strokeWidth())),A=H.path(k.swapXY([["M",ie/2+(A?-1:1),ie/2-3],["L",ie/2+(A?-1:1),ie/2+3],["L",ie/2+(A?2:-2),ie/2]],E.vertical)).addClass("highcharts-scrollbar-arrow").add(U[A]),this.chart.styledMode||A.attr({fill:E.buttonArrowColor}))}init(A,H,U){this.scrollbarButtons=[],this.renderer=A,this.userOptions=H,this.options=O(h,v.scrollbar,H),this.options.margin=L(this.options.margin,10),this.chart=U,this.size=L(this.options.size,this.options.height),H.enabled&&(this.render(),this.addEvents())}mouseDownHandler(A){A=this.chart.pointer.normalize(A),A=this.cursorToScrollbarPosition(A),this.chartX=A.chartX,this.chartY=A.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(A){var H=this.chart.pointer.normalize(A),U=this.options.vertical?"chartY":"chartX";const E=this.initPositions||[];!this.grabbedCenter||A.touches&&A.touches[0][U]===0||(H=this.cursorToScrollbarPosition(H)[U],U=this[U],U=H-U,this.hasDragged=!0,this.updatePosition(E[0]+U,E[1]+U),this.hasDragged&&W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:A.type,DOMEvent:A}))}mouseUpHandler(A){this.hasDragged&&W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:A.type,DOMEvent:A}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(A,H,U,E){const{buttonsEnabled:ie,margin:ee=0,vertical:$}=this.options,V=this.rendered?"animate":"attr";let j=E,w=0;this.group.show(),this.x=A,this.y=H+this.trackBorderWidth,this.width=U,this.height=E,this.xOffset=j,this.yOffset=w,$?(this.width=this.yOffset=U=this.size,this.xOffset=j=0,this.yOffset=w=ie?this.size:0,this.barWidth=E-(ie?2*U:0),this.x=A+=ee):(this.height=E=this.size,this.xOffset=j=ie?this.size:0,this.barWidth=U-(ie?2*E:0),this.y+=ee),this.group[V]({translateX:A,translateY:this.y}),this.track[V]({width:U,height:E}),this.scrollbarButtons[1][V]({translateX:$?0:U-j,translateY:$?E-w:0})}removeEvents(){this._events.forEach(function(A){G.apply(null,A)}),this._events.length=0}render(){const A=this.renderer,H=this.options,U=this.size,E=this.chart.styledMode,ie=A.g("scrollbar").attr({zIndex:H.zIndex}).hide().add();this.group=ie,this.track=A.rect().addClass("highcharts-scrollbar-track").attr({r:H.trackBorderRadius||0,height:U,width:U}).add(ie),E||this.track.attr({fill:H.trackBackgroundColor,stroke:H.trackBorderColor,"stroke-width":H.trackBorderWidth});const ee=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-ee%2/2,y:-ee%2/2}),this.scrollbarGroup=A.g().add(ie),this.scrollbar=A.rect().addClass("highcharts-scrollbar-thumb").attr({height:U-ee,width:U-ee,r:H.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=A.path(k.swapXY([["M",-3,U/4],["L",-3,2*U/3],["M",0,U/4],["L",0,2*U/3],["M",3,U/4],["L",3,2*U/3]],H.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),E||(this.scrollbar.attr({fill:H.barBackgroundColor,stroke:H.barBorderColor,"stroke-width":H.barBorderWidth}),this.scrollbarRifles.attr({stroke:H.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(A,H){const U=this.options,E=U.vertical;var ie=U.minWidth,ee=this.barWidth;const $=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(M(ee)){var V=ee*Math.min(H,1);A=Math.max(A,0);var j=Math.ceil(ee*A);this.calculatedWidth=V=J(V-j),V<ie&&(j=(ee-ie+V)*A,V=ie),ie=Math.floor(j+this.xOffset+this.yOffset),ee=V/2-.5,this.from=A,this.to=H,E?(this.scrollbarGroup[$]({translateY:ie}),this.scrollbar[$]({height:V}),this.scrollbarRifles[$]({translateY:ee}),this.scrollbarTop=ie,this.scrollbarLeft=0):(this.scrollbarGroup[$]({translateX:ie}),this.scrollbar[$]({width:V}),this.scrollbarRifles[$]({translateX:ee}),this.scrollbarLeft=ie,this.scrollbarTop=0),12>=V?this.scrollbarRifles.hide():this.scrollbarRifles.show(),U.showFull===!1&&(0>=A&&1<=H?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(A){return L(this.options.liveRedraw,o.svg&&!o.isTouchDevice&&!this.chart.boosted)||A==="mouseup"||A==="touchend"||!M(A)}trackClick(A){const H=this.chart.pointer.normalize(A),U=this.to-this.from,E=this.y+this.scrollbarTop,ie=this.x+this.scrollbarLeft;this.options.vertical&&H.chartY>E||!this.options.vertical&&H.chartX>ie?this.updatePosition(this.from+U,this.to+U):this.updatePosition(this.from-U,this.to-U),W(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:A})}update(A){this.destroy(),this.init(this.chart.renderer,O(!0,this.options,A),this.chart)}updatePosition(A,H){1<H&&(A=J(1-J(H-A)),H=1),0>A&&(H=J(H-A),A=0),this.from=A,this.to=H}}return k.defaultOptions=h,v.scrollbar=O(!0,k.defaultOptions,v.scrollbar),k}),i(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v,I){function J(D,...m){if(m=[].filter.call(m,ie),m.length)return Math[D].apply(0,m)}const{defaultOptions:M}=o,{hasTouch:B,isTouchDevice:W}=u,{addEvent:O,clamp:L,correctFloat:G,defined:k,destroyObjectProperties:S,erase:A,extend:H,find:U,isArray:E,isNumber:ie,merge:ee,pick:$,removeEvent:V,splat:j}=I;class w{static compose(m,g,x){s.compose(m,g,w,x)}constructor(m){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(m)}drawHandle(m,g,x,P){const X=this.navigatorOptions.handles.height;this.handles[g][P](x?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(m,10)+.5-X)}:{translateX:Math.round(this.left+parseInt(m,10)),translateY:Math.round(this.top+this.height/2-X/2-1)})}drawOutline(m,g,x,P){const X=this.navigatorOptions.maskInside;var Y=this.outline.strokeWidth();const K=Y/2;var le=Y%2/2;const pe=this.scrollButtonSize,fe=this.size,z=this.top;Y=this.height;const Q=z-K,se=z+Y;let de=this.left;x?(x=z+g+le,g=z+m+le,le=[["M",de+Y,z-pe-le],["L",de+Y,x],["L",de,x],["M",de,g],["L",de+Y,g],["L",de+Y,z+fe+pe]],X&&le.push(["M",de+Y,x-K],["L",de+Y,g+K])):(de-=pe,m+=de+pe-le,g+=de+pe-le,le=[["M",de,Q],["L",m,Q],["L",m,se],["M",g,se],["L",g,Q],["L",de+fe+2*pe,z+K]],X&&le.push(["M",m-K,Q],["L",g+K,Q])),this.outline[P]({d:le})}drawMasks(m,g,x,P){const X=this.left,Y=this.top,K=this.height;let le,pe,fe,z;x?(fe=[X,X,X],z=[Y,Y+m,Y+g],pe=[K,K,K],le=[m,g-m,this.size-g]):(fe=[X,X+m,X+g],z=[Y,Y,Y],pe=[m,g-m,this.size-g],le=[K,K,K]),this.shades.forEach((Q,se)=>{Q[P]({x:fe[se],y:z[se],width:pe[se],height:le[se]})})}renderElements(){const m=this,g=m.navigatorOptions,x=g.maskInside,P=m.chart,X=P.renderer,Y={cursor:P.inverted?"ns-resize":"ew-resize"},K=m.navigatorGroup=X.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!x,x,!x].forEach((le,pe)=>{const fe=X.rect().addClass("highcharts-navigator-mask"+(pe===1?"-inside":"-outside")).add(K);P.styledMode||(fe.attr({fill:le?g.maskFill:"rgba(0,0,0,0)"}),pe===1&&fe.css(Y)),m.shades[pe]=fe}),m.outline=X.path().addClass("highcharts-navigator-outline").add(K),P.styledMode||m.outline.attr({"stroke-width":g.outlineWidth,stroke:g.outlineColor}),g.handles&&g.handles.enabled){const le=g.handles,{height:pe,width:fe}=le;[0,1].forEach(z=>{m.handles[z]=X.symbol(le.symbols[z],-fe/2-1,0,fe,pe,le),P.inverted&&m.handles[z].attr({rotation:90,rotationOriginX:Math.floor(-fe/2),rotationOriginY:(pe+fe)/2}),m.handles[z].attr({zIndex:7-z}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][z]).add(K),P.styledMode||m.handles[z].attr({fill:le.backgroundColor,stroke:le.borderColor,"stroke-width":le.lineWidth}).css(Y)})}}update(m){(this.series||[]).forEach(g=>{g.baseSeries&&delete g.baseSeries.navigatorSeries}),this.destroy(),ee(!0,this.chart.options.navigator,m),this.init(this.chart)}render(m,g,x,P){var X=this.chart;const Y=this.xAxis,K=Y.pointRange||0;var le=Y.navigatorAxis.fake?X.xAxis[0]:Y;const pe=this.navigatorEnabled;var fe=this.rendered,z=X.inverted;const Q=X.xAxis[0].minRange,se=X.xAxis[0].options.maxRange,de=this.scrollButtonSize;let Ce=this.scrollbarHeight,ne;if(!this.hasDragged||k(x)){if(m=G(m-K/2),g=G(g+K/2),!ie(m)||!ie(g))if(fe)x=0,P=$(Y.width,le.width);else return;this.left=$(Y.left,X.plotLeft+de+(z?X.plotWidth:0));var ve=this.size=ne=$(Y.len,(z?X.plotHeight:X.plotWidth)-2*de);X=z?Ce:ne+2*de,x=$(x,Y.toPixels(m,!0)),P=$(P,Y.toPixels(g,!0)),ie(x)&&Math.abs(x)!==1/0||(x=0,P=X),m=Y.toValue(x,!0),g=Y.toValue(P,!0);var _e=Math.abs(G(g-m));_e<Q?this.grabbedLeft?x=Y.toPixels(g-Q-K,!0):this.grabbedRight&&(P=Y.toPixels(m+Q+K,!0)):k(se)&&G(_e-K)>se&&(this.grabbedLeft?x=Y.toPixels(g-se-K,!0):this.grabbedRight&&(P=Y.toPixels(m+se+K,!0))),this.zoomedMax=L(Math.max(x,P),0,ve),this.zoomedMin=L(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(x,P),0,ve),this.range=this.zoomedMax-this.zoomedMin,ve=Math.round(this.zoomedMax),x=Math.round(this.zoomedMin),pe&&(this.navigatorGroup.attr({visibility:"inherit"}),fe=fe&&!this.hasDragged?"animate":"attr",this.drawMasks(x,ve,z,fe),this.drawOutline(x,ve,z,fe),this.navigatorOptions.handles.enabled&&(this.drawHandle(x,0,z,fe),this.drawHandle(ve,1,z,fe))),this.scrollbar&&(z?(z=this.top-de,le=this.left-Ce+(pe||!le.opposite?0:(le.titleOffset||0)+le.axisTitleMargin),Ce=ne+2*de):(z=this.top+(pe?this.height:-Ce),le=this.left-de),this.scrollbar.position(le,z,X,Ce),this.scrollbar.setRange(this.zoomedMin/(ne||1),this.zoomedMax/(ne||1))),this.rendered=!0}}addMouseEvents(){const m=this,g=m.chart,x=g.container;let P=[],X,Y;m.mouseMoveHandler=X=function(K){m.onMouseMove(K)},m.mouseUpHandler=Y=function(K){m.onMouseUp(K)},P=m.getPartsEvents("mousedown"),P.push(O(g.renderTo,"mousemove",X),O(x.ownerDocument,"mouseup",Y)),B&&(P.push(O(g.renderTo,"touchmove",X),O(x.ownerDocument,"touchend",Y)),P.concat(m.getPartsEvents("touchstart"))),m.eventsToUnbind=P,m.series&&m.series[0]&&P.push(O(m.series[0].xAxis,"foundExtremes",function(){g.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(m){const g=this,x=[];return["shades","handles"].forEach(function(P){g[P].forEach(function(X,Y){x.push(O(X.element,m,function(K){g[P+"Mousedown"](K,Y)}))})}),x}shadesMousedown(m,g){m=this.chart.pointer.normalize(m);const x=this.chart,P=this.xAxis,X=this.zoomedMin,Y=this.size,K=this.range;let le=this.left,pe=m.chartX,fe,z;x.inverted&&(pe=m.chartY,le=this.top),g===1?(this.grabbedCenter=pe,this.fixedWidth=K,this.dragOffset=pe-X):(m=pe-le-K/2,g===0?m=Math.max(0,m):g===2&&m+K>=Y&&(m=Y-K,this.reversedExtremes?(m-=K,z=this.getUnionExtremes().dataMin):fe=this.getUnionExtremes().dataMax),m!==X&&(this.fixedWidth=K,g=P.navigatorAxis.toFixedRange(m,m+K,z,fe),k(g.min)&&x.xAxis[0].setExtremes(Math.min(g.min,g.max),Math.max(g.min,g.max),!0,null,{trigger:"navigator"})))}handlesMousedown(m,g){this.chart.pointer.normalize(m),m=this.chart;const x=m.xAxis[0],P=this.reversedExtremes;g===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=P?x.min:x.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=P?x.max:x.min),m.fixedRange=null}onMouseMove(m){const g=this;var x=g.chart;const P=g.navigatorSize,X=g.range,Y=g.dragOffset,K=x.inverted;let le=g.left;m.touches&&m.touches[0].pageX===0||(m=x.pointer.normalize(m),x=m.chartX,K&&(le=g.top,x=m.chartY),g.grabbedLeft?(g.hasDragged=!0,g.render(0,0,x-le,g.otherHandlePos)):g.grabbedRight?(g.hasDragged=!0,g.render(0,0,g.otherHandlePos,x-le)):g.grabbedCenter&&(g.hasDragged=!0,x<Y?x=Y:x>P+Y-X&&(x=P+Y-X),g.render(0,0,x-Y,x-Y+X)),g.hasDragged&&g.scrollbar&&$(g.scrollbar.options.liveRedraw,!W&&!this.chart.boosted)&&(m.DOMType=m.type,setTimeout(function(){g.onMouseUp(m)},0)))}onMouseUp(m){var g=this.chart,x=this.xAxis,P=this.scrollbar;const X=m.DOMEvent||m,Y=g.inverted,K=this.rendered&&!this.hasDragged?"animate":"attr";let le,pe;(!this.hasDragged||P&&P.hasDragged)&&m.trigger!=="scrollbar"||(P=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?le=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(pe=this.fixedExtreme),this.zoomedMax===this.size&&(pe=this.reversedExtremes?P.dataMin:P.dataMax),this.zoomedMin===0&&(le=this.reversedExtremes?P.dataMax:P.dataMin),x=x.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,le,pe),k(x.min)&&g.xAxis[0].setExtremes(Math.min(x.min,x.max),Math.max(x.min,x.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:X})),m.DOMType!=="mousemove"&&m.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ie(this.zoomedMin)&&ie(this.zoomedMax)&&(g=Math.round(this.zoomedMin),m=Math.round(this.zoomedMax),this.shades&&this.drawMasks(g,m,Y,K),this.outline&&this.drawOutline(g,m,Y,K),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(g,0,Y,K),this.drawHandle(m,1,Y,K)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(m){m()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const m=this.baseSeries||[];this.navigatorEnabled&&m[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&m.forEach(function(g){V(g,"updatedData",this.updatedDataHandler)},this),m[0].xAxis&&V(m[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(m){var g=m.options,x=g.navigator||{},P=x.enabled,X=g.scrollbar||{},Y=X.enabled;g=P&&x.height||0;var K=Y&&X.height||0;const le=X.buttonsEnabled&&K||0;this.handles=[],this.shades=[],this.chart=m,this.setBaseSeries(),this.height=g,this.scrollbarHeight=K,this.scrollButtonSize=le,this.scrollbarEnabled=Y,this.navigatorEnabled=P,this.navigatorOptions=x,this.scrollbarOptions=X,this.opposite=$(x.opposite,!(P||!m.inverted));const pe=this;P=pe.baseSeries,X=m.xAxis.length,Y=m.yAxis.length,K=P&&P[0]&&P[0].xAxis||m.xAxis[0]||{options:{}},m.isDirtyBox=!0,pe.navigatorEnabled?(pe.xAxis=new r(m,ee({breaks:K.options.breaks,ordinal:K.options.ordinal},x.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:X,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},m.inverted?{offsets:[le,0,-le,0],width:g}:{offsets:[0,-le,0,le],height:g})),pe.yAxis=new r(m,ee(x.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:Y,isInternal:!0,reversed:$(x.yAxis&&x.yAxis.reversed,m.yAxis[0]&&m.yAxis[0].reversed,!1),zoomEnabled:!1},m.inverted?{width:g}:{height:g})),P||x.series.data?pe.updateNavigatorSeries(!1):m.series.length===0&&(pe.unbindRedraw=O(m,"beforeRedraw",function(){0<m.series.length&&!pe.series&&(pe.setBaseSeries(),pe.unbindRedraw())})),pe.reversedExtremes=m.inverted&&!pe.xAxis.reversed||!m.inverted&&pe.xAxis.reversed,pe.renderElements(),pe.addMouseEvents()):(pe.xAxis={chart:m,navigatorAxis:{fake:!0},translate:function(fe,z){var Q=m.xAxis[0];const se=Q.getExtremes(),de=Q.len-2*le,Ce=J("min",Q.options.min,se.dataMin);return Q=J("max",Q.options.max,se.dataMax)-Ce,z?fe*Q/de+Ce:de*(fe-Ce)/Q},toPixels:function(fe){return this.translate(fe)},toValue:function(fe){return this.translate(fe,!0)}},pe.xAxis.navigatorAxis.axis=pe.xAxis,pe.xAxis.navigatorAxis.toFixedRange=h.prototype.toFixedRange.bind(pe.xAxis.navigatorAxis)),m.options.scrollbar.enabled&&(x=ee(m.options.scrollbar,{vertical:m.inverted}),!ie(x.margin)&&pe.navigatorEnabled&&(x.margin=m.inverted?-3:3),m.scrollbar=pe.scrollbar=new v(m.renderer,x,m),O(pe.scrollbar,"changed",function(fe){var z=pe.size;const Q=z*this.to;z*=this.from,pe.hasDragged=pe.scrollbar.hasDragged,pe.render(0,0,z,Q),this.shouldUpdateExtremes(fe.DOMType)&&setTimeout(function(){pe.onMouseUp(fe)})})),pe.addBaseSeriesEvents(),pe.addChartEvents()}getUnionExtremes(m){const g=this.chart.xAxis[0],x=this.xAxis,P=x.options,X=g.options;let Y;return m&&g.dataMin===null||(Y={dataMin:$(P&&P.min,J("min",X.min,g.dataMin,x.dataMin,x.min)),dataMax:$(P&&P.max,J("max",X.max,g.dataMax,x.dataMax,x.max))}),Y}setBaseSeries(m,g){const x=this.chart,P=this.baseSeries=[];m=m||x.options&&x.options.navigator.baseSeries||(x.series.length?U(x.series,X=>!X.options.isInternal).index:0),(x.series||[]).forEach((X,Y)=>{X.options.isInternal||!X.options.showInNavigator&&(Y!==m&&X.options.id!==m||X.options.showInNavigator===!1)||P.push(X)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,g)}updateNavigatorSeries(m,g){const x=this,P=x.chart,X=x.baseSeries,Y={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},K=x.series=(x.series||[]).filter(Q=>{const se=Q.baseSeries;return 0>X.indexOf(se)?(se&&(V(se,"updatedData",x.updatedDataHandler),delete se.navigatorSeries),Q.chart&&Q.destroy(),!1):!0});let le,pe,fe=x.navigatorOptions.series,z;X&&X.length&&X.forEach(Q=>{const se=Q.navigatorSeries;var de=H({color:Q.color,visible:Q.visible},E(fe)?M.navigator.series:fe);se&&x.navigatorOptions.adaptToUpdatedData===!1||(Y.name="Navigator "+X.length,le=Q.options||{},z=le.navigatorOptions||{},de.dataLabels=j(de.dataLabels),pe=ee(le,Y,de,z),pe.pointRange=$(de.pointRange,z.pointRange,M.plotOptions[pe.type||"line"].pointRange),de=z.data||de.data,x.hasNavigatorData=x.hasNavigatorData||!!de,pe.data=de||le.data&&le.data.slice(0),se&&se.options?se.update(pe,g):(Q.navigatorSeries=P.initSeries(pe),Q.navigatorSeries.baseSeries=Q,K.push(Q.navigatorSeries)))}),(fe.data&&(!X||!X.length)||E(fe))&&(x.hasNavigatorData=!1,fe=j(fe),fe.forEach((Q,se)=>{Y.name="Navigator "+(K.length+1),pe=ee(M.navigator.series,{color:P.series[se]&&!P.series[se].options.isInternal&&P.series[se].color||P.options.colors[se]||P.options.colors[0]},Y,Q),pe.data=Q.data,pe.data&&(x.hasNavigatorData=!0,K.push(P.initSeries(pe)))})),m&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const m=this,g=m.baseSeries||[];g[0]&&g[0].xAxis&&g[0].eventsToUnbind.push(O(g[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),g.forEach(x=>{x.eventsToUnbind.push(O(x,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),x.eventsToUnbind.push(O(x,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&x.xAxis&&x.eventsToUnbind.push(O(x,"updatedData",this.updatedDataHandler)),x.eventsToUnbind.push(O(x,"remove",function(){this.navigatorSeries&&(A(m.series,this.navigatorSeries),k(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(m){return this.baseSeries.reduce(function(g,x){return Math.min(g,x.xData&&x.xData.length?x.xData[0]:g)},m)}modifyNavigatorAxisExtremes(){const m=this.xAxis;if(typeof m.getExtremes<"u"){const g=this.getUnionExtremes(!0);!g||g.dataMin===m.min&&g.dataMax===m.max||(m.min=g.dataMin,m.max=g.dataMax)}}modifyBaseAxisExtremes(){const m=this.chart.navigator;var g=this.getExtremes();const x=g.dataMin,P=g.dataMax;g=g.max-g.min;const X=m.stickToMin,Y=m.stickToMax,K=$(this.options.overscroll,0),le=m.series&&m.series[0],pe=!!this.setExtremes;let fe,z;this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton"||(X&&(z=x,fe=z+g),Y&&(fe=P+K,X||(z=Math.max(x,fe-g,m.getBaseSeriesMin(le&&le.xData?le.xData[0]:-Number.MAX_VALUE)))),pe&&(X||Y)&&ie(z)&&(this.min=this.userMin=z,this.max=this.userMax=fe)),m.stickToMin=m.stickToMax=null}updatedDataHandler(){const m=this.chart.navigator,g=this.navigatorSeries;m.stickToMax=$(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,m.reversedExtremes?Math.round(m.zoomedMin)===0:Math.round(m.zoomedMax)>=Math.round(m.size)),m.stickToMin=m.shouldStickToMin(this,m),g&&!m.hasNavigatorData&&(g.options.pointStart=this.xData[0],g.setData(this.options.data,!1,null,!1))}shouldStickToMin(m,g){g=g.getBaseSeriesMin(m.xData[0]);var x=m.xAxis;m=x.max;const P=x.min;return x=x.options.range,ie(m)&&ie(P)?x&&0<m-g?m-g<x:P<=g:!1}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(O(this.chart,"redraw",function(){const m=this.navigator,g=m&&(m.baseSeries&&m.baseSeries[0]&&m.baseSeries[0].xAxis||this.xAxis[0]);g&&m.render(g.min,g.max)}),O(this.chart,"getMargins",function(){let m=this.navigator,g=m.opposite?"plotTop":"marginBottom";this.inverted&&(g=m.opposite?"marginRight":"plotLeft"),this[g]=(this[g]||0)+(m.navigatorEnabled||!this.inverted?m.height+m.scrollbarHeight:0)+m.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(A(this.chart.xAxis,this.xAxis),A(this.chart.axes,this.xAxis)),this.yAxis&&(A(this.chart.yAxis,this.yAxis),A(this.chart.axes,this.yAxis)),(this.series||[]).forEach(m=>{m.destroy&&m.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(m=>{this[m]&&this[m].destroy&&this[m].destroy(),this[m]=null}),[this.handles].forEach(m=>{S(m)})}}return w}),i(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),i(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(r,o,u){function h(){const V=this.range,j=V.type,w=this.max,D=this.chart.time,m=function(X,Y){const K=j==="year"?"FullYear":"Month",le=new D.Date(X),pe=D.get(K,le);return D.set(K,le,pe+Y),pe===D.get(K,le)&&D.set("Date",le,0),le.getTime()-X};let g,x;H(V)?(g=w-V,x=V):V&&(g=w+m(w,-(V.count||1)),this.chart&&(this.chart.fixedRange=w-g));const P=E(this.dataMin,Number.MIN_VALUE);return H(g)||(g=P),g<=P&&(g=P,typeof x>"u"&&(x=m(g,V.count)),this.newMax=Math.min(g+x,E(this.dataMax,Number.MAX_VALUE))),H(w)?!H(V)&&V&&V._offsetMin&&(g+=V._offsetMin):g=void 0,g}function s(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new $(this))}function v(){var V=this.axes;const j=this.rangeSelector;j&&(H(j.deferredYTDClick)&&(j.clickButton(j.deferredYTDClick),delete j.deferredYTDClick),V.forEach(w=>{w.updateNames(),w.setScale()}),this.getAxisMargins(),j.render(),V=j.options.verticalAlign,j.options.floating||(V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0)))}function I(V){let j,w,D,m;const g=V.rangeSelector,x=()=>{g&&(j=V.xAxis[0].getExtremes(),w=V.legend,m=g&&g.options.verticalAlign,H(j.min)&&g.render(j.min,j.max),w.display&&m==="top"&&m===w.options.verticalAlign&&(D=U(V.spacingBox),D.y=w.options.layout==="vertical"?V.plotTop:D.y+g.getHeight(),w.group.placed=!1,w.align(D)))};g&&(A(ie,P=>P[0]===V)||ie.push([V,[G(V.xAxis[0],"afterSetExtremes",function(P){g&&g.render(P.min,P.max)}),G(V,"redraw",x)]]),x())}function J(){for(let V=0,j=ie.length;V<j;++V){const w=ie[V];if(w[0]===this){w[1].forEach(D=>D()),ie.splice(V,1);break}}}function M(){var V=this.rangeSelector;V&&(V=V.getHeight(),this.extraTopMargin&&(this.plotTop+=V),this.extraBottomMargin&&(this.marginBottom+=V))}function B(){var V=this.rangeSelector;V&&!V.options.floating&&(V.render(),V=V.options.verticalAlign,V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0))}function W(V){var j=V.options.rangeSelector;V=this.extraBottomMargin;const w=this.extraTopMargin;let D=this.rangeSelector;j&&j.enabled&&!k(D)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=D=new $(this)),this.extraTopMargin=this.extraBottomMargin=!1,D&&(I(this),j=j&&j.verticalAlign||D.options&&D.options.verticalAlign,D.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==V||this.extraTopMargin!==w)&&(this.isDirtyBox=!0)}const{defaultOptions:O,setOptions:L}=r,{addEvent:G,defined:k,extend:S,find:A,isNumber:H,merge:U,pick:E}=u,ie=[],ee=[];let $;return{compose:function(V,j,w){$=w,u.pushUnique(ee,V)&&(V.prototype.minFromRange=h),u.pushUnique(ee,j)&&(G(j,"afterGetContainer",s),G(j,"beforeRender",v),G(j,"destroy",J),G(j,"getMargins",M),G(j,"render",B),G(j,"update",W),j.prototype.callbacks.push(I)),u.pushUnique(ee,L)&&(S(O,{rangeSelector:o.rangeSelector}),S(O.lang,o.lang))}}}),i(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v){function I(j){if(j.indexOf("%L")!==-1)return"text";const w="aAdewbBmoyY".split("").some(m=>j.indexOf("%"+m)!==-1),D="HkIlMS".split("").some(m=>j.indexOf("%"+m)!==-1);return w&&D?"datetime-local":w?"date":D?"time":"text"}const{defaultOptions:J}=o,{addEvent:M,createElement:B,css:W,defined:O,destroyObjectProperties:L,discardElement:G,extend:k,fireEvent:S,isNumber:A,merge:H,objectEach:U,pad:E,pick:ie,pInt:ee,splat:$}=v;class V{static compose(w,D){h.compose(w,D,V)}constructor(w){this.buttons=void 0,this.buttonOptions=V.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=w,this.init(w)}clickButton(w,D){const m=this.chart,g=this.buttonOptions[w],x=m.xAxis[0];var P=m.scroller&&m.scroller.getUnionExtremes()||x||{},X=g.type;const Y=g.dataGrouping;let K=P.dataMin,le=P.dataMax,pe,fe=x&&Math.round(Math.min(x.max,ie(le,x.max))),z;P=g._range;let Q,se,de,Ce=!0;if(K!==null&&le!==null){if(m.fixedRange=P,this.setSelected(w),Y&&(this.forcedDataGrouping=!0,r.prototype.setDataGrouping.call(x||{chart:this.chart},Y,!1),this.frozenStates=g.preserveDataGrouping),X==="month"||X==="year")x?(X={range:g,max:fe,chart:m,dataMin:K,dataMax:le},pe=x.minFromRange.call(X),A(X.newMax)&&(fe=X.newMax),Ce=!1):P=g;else if(P)pe=Math.max(fe-P,K),fe=Math.min(pe+P,le),Ce=!1;else if(X==="ytd")if(x)(typeof le>"u"||typeof K>"u")&&(K=Number.MAX_VALUE,le=Number.MIN_VALUE,m.series.forEach(ne=>{(ne=ne.xData)&&(K=Math.min(ne[0],K),le=Math.max(ne[ne.length-1],le))}),D=!1),X=this.getYTDExtremes(le,K,m.time.useUTC),pe=Q=X.min,fe=X.max;else{this.deferredYTDClick=w;return}else X==="all"&&x&&(m.navigator&&m.navigator.baseSeries[0]&&(m.navigator.baseSeries[0].xAxis.options.range=void 0),pe=K,fe=le);Ce&&g._offsetMin&&O(pe)&&(pe+=g._offsetMin),g._offsetMax&&O(fe)&&(fe+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=w+1),x?x.setExtremes(pe,fe,ie(D,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(z=$(m.options.xAxis)[0],de=z.range,z.range=P,se=z.min,z.min=Q,M(m,"load",function(){z.range=de,z.min=se})),S(this,"afterBtnClick")}}setSelected(w){this.selected=this.options.selected=w}init(w){const D=this,m=w.options.rangeSelector,g=m.buttons||D.defaultButtons.slice(),x=m.selected,P=function(){const X=D.minInput,Y=D.maxInput;X&&X.blur&&S(X,"blur"),Y&&Y.blur&&S(Y,"blur")};D.chart=w,D.options=m,D.buttons=[],D.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(M(w.container,"mousedown",P)),this.eventsToUnbind.push(M(w,"resize",P)),g.forEach(D.computeButtonRange),typeof x<"u"&&g[x]&&this.clickButton(x,!1),this.eventsToUnbind.push(M(w,"load",function(){w.xAxis&&w.xAxis[0]&&M(w.xAxis[0],"setExtremes",function(X){this.max-this.min!==w.fixedRange&&X.trigger!=="rangeSelectorButton"&&X.trigger!=="updatedData"&&D.forcedDataGrouping&&!D.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const w=this;var D=this.chart;const m=this.dropdown,g=D.xAxis[0],x=Math.round(g.max-g.min),P=!g.hasVisibleSeries,X=D.scroller&&D.scroller.getUnionExtremes()||g,Y=X.dataMin,K=X.dataMax;D=w.getYTDExtremes(K,Y,D.time.useUTC);const le=D.min,pe=D.max,fe=w.selected,z=w.options.allButtonsEnabled,Q=w.buttons;let se=A(fe);w.buttonOptions.forEach((de,Ce)=>{var ne=de._range,ve=de.type,_e=de.count||1;const oe=Q[Ce],ge=de._offsetMax-de._offsetMin,Te=Ce===fe,Re=ne>K-Y,Le=ne<g.minRange;de=0;let $e=!1,nt=!1;ne=ne===x,(ve==="month"||ve==="year")&&x+36e5>=864e5*{month:28,year:365}[ve]*_e-ge&&x-36e5<=864e5*{month:31,year:366}[ve]*_e+ge?ne=!0:ve==="ytd"?(ne=pe-le+ge===x,$e=!Te):ve==="all"&&(ne=g.max-g.min>=K-Y,nt=!Te&&se&&ne),ve=!z&&(Re||Le||nt||P),_e=Te&&ne||ne&&!se&&!$e||Te&&w.frozenStates,ve?de=3:_e&&(se=!0,de=2),oe.state!==de&&(oe.setState(de),m&&(m.options[Ce+1].disabled=ve,de===2&&(m.selectedIndex=Ce+1)),de===0&&fe===Ce&&w.setSelected())})}computeButtonRange(w){const D=w.type,m=w.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[D]?w._range=g[D]*m:(D==="month"||D==="year")&&(w._range=864e5*{month:30,year:365}[D]*m),w._offsetMin=ie(w.offsetMin,0),w._offsetMax=ie(w.offsetMax,0),w._range+=w._offsetMax-w._offsetMin}getInputValue(w){w=w==="min"?this.minInput:this.maxInput;const D=this.chart.options.rangeSelector,m=this.chart.time;return w?(w.type==="text"&&D.inputDateParser||this.defaultInputDateParser)(w.value,m.useUTC,m):0}setInputValue(w,D){const m=this.options,g=this.chart.time,x=w==="min"?this.minInput:this.maxInput;if(w=w==="min"?this.minDateBox:this.maxDateBox,x){var P=x.getAttribute("data-hc-time");P=O(P)?Number(P):void 0,O(D)&&(O(P)&&x.setAttribute("data-hc-time-previous",P),x.setAttribute("data-hc-time",D),P=D),x.value=g.dateFormat(this.inputTypeFormats[x.type]||m.inputEditDateFormat,P),w&&w.attr({text:g.dateFormat(m.inputDateFormat,P)})}}setInputExtremes(w,D,m){if(w=w==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[w.type],x=this.chart.time;g&&(D=x.dateFormat(g,D),w.min!==D&&(w.min=D),m=x.dateFormat(g,m),w.max!==m&&(w.max=m))}}showInput(w){const D=w==="min"?this.minDateBox:this.maxDateBox;if((w=w==="min"?this.minInput:this.maxInput)&&D&&this.inputGroup){const m=w.type==="text",{translateX:g,translateY:x}=this.inputGroup,{inputBoxWidth:P}=this.options;W(w,{width:m?D.width+(P?-2:20)+"px":"auto",height:D.height-2+"px",border:"2px solid silver"}),m&&P?W(w,{left:g+D.x+"px",top:x+"px"}):W(w,{left:Math.min(Math.round(D.x+g-(w.offsetWidth-D.width)/2),this.chart.chartWidth-w.offsetWidth)+"px",top:x-(w.offsetHeight-D.height)/2+"px"})}}hideInput(w){(w=w==="min"?this.minInput:this.maxInput)&&W(w,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(w,D,m){var g=w.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),D)g+="Z";else{var x;(x=u.isSafari)&&(x=g,x=!(6<x.length&&(x.lastIndexOf("-")===x.length-6||x.lastIndexOf("+")===x.length-6))),x&&(x=new Date(g).getTimezoneOffset()/60,g+=0>=x?`+${E(-x)}:00`:`-${E(x)}:00`)}return g=Date.parse(g),A(g)||(w=w.split("-"),g=Date.UTC(ee(w[0]),ee(w[1])-1,ee(w[2]))),m&&D&&A(g)&&(g+=m.getTimezoneOffset(g)),g}drawInput(w){function D(){const{maxInput:Q,minInput:se}=P,de=m.xAxis[0];var Ce=m.scroller&&m.scroller.xAxis?m.scroller.xAxis:de;const ne=Ce.dataMin;Ce=Ce.dataMax;let ve=P.getInputValue(w);ve!==Number(fe.getAttribute("data-hc-time-previous"))&&A(ve)&&(fe.setAttribute("data-hc-time-previous",ve),le&&Q&&A(ne)?ve>Number(Q.getAttribute("data-hc-time"))?ve=void 0:ve<ne&&(ve=ne):se&&A(Ce)&&(ve<Number(se.getAttribute("data-hc-time"))?ve=void 0:ve>Ce&&(ve=Ce)),typeof ve<"u"&&de.setExtremes(le?ve:de.min,le?de.max:ve,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:m,div:g,inputGroup:x}=this,P=this,X=m.renderer.style||{};var Y=m.renderer;const K=m.options.rangeSelector,le=w==="min";var pe=J.lang[le?"rangeSelectorFrom":"rangeSelectorTo"]||"";pe=Y.label(pe,0).addClass("highcharts-range-label").attr({padding:pe?2:0,height:pe?K.inputBoxHeight:0}).add(x),Y=Y.label("",0).addClass("highcharts-range-input").attr({padding:2,width:K.inputBoxWidth,height:K.inputBoxHeight,"text-align":"center"}).on("click",function(){P.showInput(w),P[w+"Input"].focus()}),m.styledMode||Y.attr({stroke:K.inputBoxBorderColor,"stroke-width":1}),Y.add(x);const fe=B("input",{name:w,className:"highcharts-range-selector"},void 0,g);fe.setAttribute("type",I(K.inputDateFormat||"%e %b %Y")),m.styledMode||(pe.css(H(X,K.labelStyle)),Y.css(H({color:"#333333"},X,K.inputStyle)),W(fe,k({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:X.fontSize,fontFamily:X.fontFamily,top:"-9999em"},K.inputStyle))),fe.onfocus=()=>{P.showInput(w)},fe.onblur=()=>{fe===u.doc.activeElement&&D(),P.hideInput(w),P.setInputValue(w),fe.blur()};let z=!1;return fe.onchange=()=>{z||(D(),P.hideInput(w),fe.blur())},fe.onkeypress=Q=>{Q.keyCode===13&&D()},fe.onkeydown=Q=>{z=!0,Q.keyCode!==38&&Q.keyCode!==40||D()},fe.onkeyup=()=>{z=!1},{dateBox:Y,input:fe,label:pe}}getPosition(){var w=this.chart;const D=w.options.rangeSelector;return w=D.verticalAlign==="top"?w.plotTop-w.axisOffset[0]:0,{buttonTop:w+D.buttonPosition.y,inputTop:w+D.inputPosition.y-10}}getYTDExtremes(w,D,m){const g=this.chart.time;var x=new g.Date(w);const P=g.get("FullYear",x);return m=m?g.Date.UTC(P,0,1):+new g.Date(P,0,1),D=Math.max(D,m),x=x.getTime(),{max:Math.min(w||x,x),min:D}}render(w,D){var m=this.chart,g=m.renderer;const x=m.container;var P=m.options;const X=P.rangeSelector,Y=ie(P.chart.style&&P.chart.style.zIndex,0)+1;if(P=X.inputEnabled,X.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=B("div",void 0,{position:"relative",height:0,zIndex:Y}),this.buttonOptions.length&&this.renderButtons(),x.parentNode&&x.parentNode.insertBefore(this.div,x),P&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),P&&(this.setInputValue("min",w),this.setInputValue("max",D),w=m.scroller&&m.scroller.getUnionExtremes()||m.xAxis[0]||{},O(w.dataMin)&&O(w.dataMax)&&(m=m.xAxis[0].minRange||0,this.setInputExtremes("min",w.dataMin,Math.min(w.dataMax,this.getInputValue("max"))-m),this.setInputExtremes("max",Math.max(w.dataMin,this.getInputValue("min"))+m,w.dataMax)),this.inputGroup)){let K=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(le=>{if(le){const{width:pe}=le.getBBox();pe&&(le.attr({x:K}),K+=pe+X.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:w,chart:D,options:m}=this,g=J.lang,x=D.renderer,P=H(m.buttonTheme),X=P&&P.states,Y=P.width||28;delete P.width,delete P.states,this.buttonGroup=x.g("range-selector-buttons").add(this.group);const K=this.dropdown=B("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);M(K,"touchstart",()=>{K.style.fontSize="16px"}),[[u.isMS?"mouseover":"mouseenter"],[u.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([le,pe])=>{M(K,le,()=>{const fe=w[this.currentButtonIndex()];fe&&S(fe.element,pe||le)})}),this.zoomText=x.label(g&&g.rangeSelectorZoom||"",0).attr({padding:m.buttonTheme.padding,height:m.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(m.labelStyle),P["stroke-width"]=ie(P["stroke-width"],0)),B("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,K),this.buttonOptions.forEach((le,pe)=>{B("option",{textContent:le.title||le.text},void 0,K),w[pe]=x.button(le.text,0,0,fe=>{const z=le.events&&le.events.click;let Q;z&&(Q=z.call(le,fe)),Q!==!1&&this.clickButton(pe),this.isActive=!0},P,X&&X.hover,X&&X.select,X&&X.disabled).attr({"text-align":"center",width:Y}).add(this.buttonGroup),le.title&&w[pe].attr("title",le.title)})}alignElements(){const{buttonGroup:w,buttons:D,chart:m,group:g,inputGroup:x,options:P,zoomText:X}=this;var Y=m.options;const K=Y.exporting&&Y.exporting.enabled!==!1&&Y.navigation&&Y.navigation.buttonOptions,{buttonPosition:le,inputPosition:pe,verticalAlign:fe}=P;Y=(de,Ce)=>K&&this.titleCollision(m)&&fe==="top"&&Ce.align==="right"&&Ce.y-de.getBBox().height-12<(K.y||0)+(K.height||0)+m.spacing[0]?-40:0;var z=m.plotLeft;if(g&&le&&pe){var Q=le.x-m.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){let ve=0;X&&(ve+=X.getBBox().width+5),D.forEach((_e,oe)=>{ve+=_e.width,oe!==D.length-1&&(ve+=P.buttonSpacing)}),this.initialButtonGroupWidth=ve}z-=m.spacing[3],this.updateButtonStates();var se=Y(w,le);this.alignButtonGroup(se),g.placed=w.placed=m.hasLoaded}se=0,x&&(se=Y(x,pe),pe.align==="left"?Q=z:pe.align==="right"&&(Q=-Math.max(m.axisOffset[1],-se)),x.align({y:pe.y,width:x.getBBox().width,align:pe.align,x:pe.x+Q-2},!0,m.spacingBox),x.placed=m.hasLoaded),this.handleCollision(se),g.align({verticalAlign:fe},!0,m.spacingBox),Y=g.alignAttr.translateY,z=g.getBBox().height+20,Q=0,fe==="bottom"&&(Q=(Q=m.legend&&m.legend.options)&&Q.verticalAlign==="bottom"&&Q.enabled&&!Q.floating?m.legend.legendHeight+ie(Q.margin,10):0,z=z+Q-20,Q=Y-z-(P.floating?0:P.y)-(m.titleOffset?m.titleOffset[2]:0)-10),fe==="top"?(P.floating&&(Q=0),m.titleOffset&&m.titleOffset[0]&&(Q=m.titleOffset[0]),Q+=m.margin[0]-m.spacing[0]||0):fe==="middle"&&(pe.y===le.y?Q=Y:(pe.y||le.y)&&(Q=0>pe.y||0>le.y?Q-Math.min(pe.y,le.y):Y-z)),g.translate(P.x,P.y+Math.floor(Q));const{minInput:de,maxInput:Ce,dropdown:ne}=this;P.inputEnabled&&de&&Ce&&(de.style.marginTop=g.translateY+"px",Ce.style.marginTop=g.translateY+"px"),ne&&(ne.style.marginTop=g.translateY+"px")}}alignButtonGroup(w,D){const{chart:m,options:g,buttonGroup:x}=this,{buttonPosition:P}=g,X=m.plotLeft-m.spacing[3];let Y=P.x-m.spacing[3];P.align==="right"?Y+=w-X:P.align==="center"&&(Y-=X/2),x&&x.align({y:P.y,width:ie(D,this.initialButtonGroupWidth),align:P.align,x:Y},!0,m.spacingBox)}positionButtons(){const{buttons:w,chart:D,options:m,zoomText:g}=this,x=D.hasLoaded?"animate":"attr",{buttonPosition:P}=m,X=D.plotLeft;let Y=X;g&&g.visibility!=="hidden"&&(g[x]({x:ie(X+P.x,X)}),Y+=P.x+g.getBBox().width+5);for(let K=0,le=this.buttonOptions.length;K<le;++K)w[K].visibility!=="hidden"?(w[K][x]({x:Y}),Y+=w[K].width+m.buttonSpacing):w[K][x]({x:X})}handleCollision(w){const{chart:D,buttonGroup:m,inputGroup:g}=this,{buttonPosition:x,dropdown:P,inputPosition:X}=this.options,Y=()=>{let pe=0;return this.buttons.forEach(fe=>{fe=fe.getBBox(),fe.width>pe&&(pe=fe.width)}),pe},K=pe=>{if(g&&m){const fe=g.alignAttr.translateX+g.alignOptions.x-w+g.getBBox().x+2,z=g.alignOptions.width,Q=m.alignAttr.translateX+m.getBBox().x;return Q+pe>fe&&fe+z>Q&&x.y<X.y+g.getBBox().height}return!1},le=()=>{g&&m&&g.attr({translateX:g.alignAttr.translateX+(D.axisOffset[1]>=-w?0:-w),translateY:g.alignAttr.translateY+m.getBBox().height+10})};if(m){if(P==="always"){this.collapseButtons(w),K(Y())&&le();return}P==="never"&&this.expandButtons()}g&&m?X.align===x.align||K(this.initialButtonGroupWidth+20)?P==="responsive"?(this.collapseButtons(w),K(Y())&&le()):le():P==="responsive"&&this.expandButtons():m&&P==="responsive"&&(this.initialButtonGroupWidth>D.plotWidth?this.collapseButtons(w):this.expandButtons())}collapseButtons(w){const{buttons:D,buttonOptions:m,chart:g,dropdown:x,options:P,zoomText:X}=this,Y=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},K=fe=>({text:fe?`${fe} ▾`:"▾",width:"auto",paddingLeft:ie(P.buttonTheme.paddingLeft,Y.padding,8),paddingRight:ie(P.buttonTheme.paddingRight,Y.padding,8)});X&&X.hide();let le=!1;m.forEach((fe,z)=>{z=D[z],z.state!==2?z.hide():(z.show(),z.attr(K(fe.text)),le=!0)}),le||(x&&(x.selectedIndex=0),D[0].show(),D[0].attr(K(this.zoomText&&this.zoomText.textStr)));const{align:pe}=P.buttonPosition;this.positionButtons(),pe!=="right"&&pe!=="center"||this.alignButtonGroup(w,D[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:w,buttonOptions:D,options:m,zoomText:g}=this;this.hideDropdown(),g&&g.show(),D.forEach((x,P)=>{P=w[P],P.show(),P.attr({text:x.text,width:m.buttonTheme.width||28,paddingLeft:ie(m.buttonTheme.paddingLeft,"unset"),paddingRight:ie(m.buttonTheme.paddingRight,"unset")}),2>P.state&&P.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:w}=this;return w&&0<w.selectedIndex?w.selectedIndex-1:0}showDropdown(){const{buttonGroup:w,buttons:D,chart:m,dropdown:g}=this;if(w&&g){const{translateX:x,translateY:P}=w,X=D[this.currentButtonIndex()].getBBox();W(g,{left:m.plotLeft+x+"px",top:P+.5+"px",width:X.width+"px",height:X.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:w}=this;w&&(W(w,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var w=this.options,D=this.group;const m=w.y,g=w.buttonPosition.y,x=w.inputPosition.y;return w.height?w.height:(this.alignElements(),w=D?D.getBBox(!0).height+13+m:0,D=Math.min(x,g),(0>x&&0>g||0<x&&0<g)&&(w+=Math.abs(D)),w)}titleCollision(w){return!(w.options.title.text||w.options.subtitle.text)}update(w){const D=this.chart;H(!0,D.options.rangeSelector,w),this.destroy(),this.init(D),this.render()}destroy(){const w=this,D=w.minInput,m=w.maxInput;w.eventsToUnbind&&(w.eventsToUnbind.forEach(g=>g()),w.eventsToUnbind=void 0),L(w.buttons),D&&(D.onfocus=D.onblur=D.onchange=null),m&&(m.onfocus=m.onblur=m.onchange=null),U(w,function(g,x){g&&x!=="chart"&&(g instanceof s?g.destroy():g instanceof window.HTMLElement&&G(g)),g!==V.prototype[x]&&(w[x]=null)},this)}}return k(V.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),V}),i(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,u,h){const{addEvent:s,correctFloat:v,css:I,defined:J,error:M,pick:B,timeUnits:W}=h,O=[];var L;return function(G){function k(D,m,g,x,P=[],X=0,Y){const K={},le=this.options.tickPixelInterval;var pe=this.chart.time,fe=[],z;let Q,se;var de=0;let Ce=[],ne=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!P||3>P.length||typeof m>"u")return pe.getTimeTicks.apply(pe,arguments);const ve=P.length;for(z=0;z<ve;z++){if(se=z&&P[z-1]>g,P[z]<m&&(de=z),z===ve-1||P[z+1]-P[z]>5*X||se){if(P[z]>ne){for(Q=pe.getTimeTicks(D,P[de],P[z],x);Q.length&&Q[0]<=ne;)Q.shift();Q.length&&(ne=Q[Q.length-1]),fe.push(Ce.length),Ce=Ce.concat(Q)}de=z+1}if(se)break}if(Q){if(P=Q.info,Y&&P.unitRange<=W.hour){for(z=Ce.length-1,de=1;de<z;de++)if(pe.dateFormat("%d",Ce[de])!==pe.dateFormat("%d",Ce[de-1])){K[Ce[de]]="day";var _e=!0}_e&&(K[Ce[0]]="day"),P.higherRanks=K}P.segmentStarts=fe,Ce.info=P}else M(12,!1,this.chart);if(Y&&J(le)){de=Ce.length,pe=[],_e=[];let oe;for(z=de;z--;)fe=this.translate(Ce[z]),oe&&(_e[z]=oe-fe),pe[z]=oe=fe;for(_e.sort(),_e=_e[Math.floor(_e.length/2)],_e<.6*le&&(_e=null),z=Ce[de-1]>g?de-1:de,oe=void 0;z--;)fe=pe[z],de=Math.abs(oe-fe),oe&&de<.8*le&&(_e===null||de<.8*_e)?(K[Ce[z]]&&!K[Ce[z+1]]?(de=z+1,oe=fe):de=z,Ce.splice(de,1)):oe=fe}return Ce}function S(D){const m=this.ordinal.positions;if(!m)return D;let g=m.length-1,x;return 0>D?D=m[0]:D>g?D=m[g]:(g=Math.floor(D),x=D-g),typeof x<"u"&&typeof m[g]<"u"?m[g]+(x?x*(m[g+1]-m[g]):0):D}function A(D){var m=this.ordinal,g=m.positions;if(!g)return D;var x=(D-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<x&&x<this.left+this.len||(m.extendedOrdinalPositions||(m.extendedOrdinalPositions=m.getExtendedPositions()),g=m.extendedOrdinalPositions),g&&g.length){if(D=m.getIndexOfPoint(x,g),m=v(D%1),0<=D&&D<g.length-1)return g[Math.floor(D)]+m*(g[Math.ceil(D)]-g[Math.floor(D)]);m=g.length,x=g[0],g=g[m-1];const P=(g-x)/(m-1);return 0>D?x+P*D:g+P*(D-m)}return D}function H(D,m){const g=G.Additions.findIndexOf(D,m,!0);return D[g]===m?g:g+(m-D[g])/(D[g+1]-D[g])}function U(){this.ordinal||(this.ordinal=new G.Additions(this))}function E(){this.isXAxis&&J(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&J(this.userMin)&&(this.min+=this.options.overscroll))}function ie(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function ee(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function $(D){const m=this.xAxis[0],g=m.options.overscroll,x=D.originalEvent.chartX,P=this.options.chart.panning;let X=!1;if(P&&P.type!=="y"&&m.options.ordinal&&m.series.length){var Y=this.mouseDownX;const fe=m.getExtremes(),z=fe.dataMax,Q=fe.min,se=fe.max;var K=this.hoverPoints,le=m.closestPointRange||m.ordinal&&m.ordinal.overscrollPointsRange;Y=(Y-x)/(m.translationSlope*(m.ordinal.slope||le)),le=m.ordinal.getExtendedPositions();var pe={ordinal:{positions:le,extendedOrdinalPositions:le}};le=m.index2val;const de=m.val2lin;let Ce;pe.ordinal.positions?1<Math.abs(Y)&&(K&&K.forEach(function(ne){ne.setState()}),0>Y?(K=pe,Ce=m.ordinal.positions?m:pe):(K=m.ordinal.positions?m:pe,Ce=pe),pe=Ce.ordinal.positions,z>pe[pe.length-1]&&pe.push(z),this.fixedRange=se-Q,Y=m.navigatorAxis.toFixedRange(void 0,void 0,le.apply(K,[de.apply(K,[Q,!0])+Y]),le.apply(Ce,[de.apply(Ce,[se,!0])+Y])),Y.min>=Math.min(fe.dataMin,Q)&&Y.max<=Math.max(z,se)+g&&m.setExtremes(Y.min,Y.max,!0,!1,{trigger:"pan"}),this.mouseDownX=x,I(this.container,{cursor:"move"})):X=!0}else X=!0;X||P&&/y/.test(P.type)?g&&(m.max=m.dataMax+g):D.preventDefault()}function V(){const D=this.xAxis;D&&D.options.ordinal&&(delete D.ordinal.index,delete D.ordinal.extendedOrdinalPositions)}function j(D,m){const g=this.ordinal;var x=g.positions;let P=g.slope,X=g.extendedOrdinalPositions;if(!x)return D;var Y=x.length;if(x[0]<=D&&x[Y-1]>=D)D=H(x,D);else{if(X||(X=g.getExtendedPositions&&g.getExtendedPositions(),g.extendedOrdinalPositions=X),!X||!X.length)return D;Y=X.length,P||(P=(X[Y-1]-X[0])/Y),x=H(X,x[0]),D=D>=X[0]&&D<=X[Y-1]?H(X,D)-x:D<X[0]?-x-(X[0]-D)/P:(D-X[Y-1])/P+Y-x}return m?D:P*(D||0)+g.offset}G.compose=function(D,m,g){if(h.pushUnique(O,D)){const x=D.prototype;x.getTimeTicks=k,x.index2val=S,x.lin2val=A,x.val2lin=j,x.ordinal2lin=x.val2lin,s(D,"afterInit",U),s(D,"foundExtremes",E),s(D,"afterSetScale",ie),s(D,"initialAxisTranslation",ee)}return h.pushUnique(O,g)&&s(g,"pan",$),h.pushUnique(O,m)&&s(m,"updatedData",V),D};class w{constructor(m){this.index={},this.axis=m}beforeSetTickPositions(){const m=this.axis,g=m.ordinal;var x=m.getExtremes();const P=x.min;var X=x.max;const Y=m.isXAxis&&!!m.options.breaks;x=m.options.ordinal;const K=m.chart.options.chart.ignoreHiddenSeries;let le,pe;var fe;let z=[],Q=Number.MAX_VALUE,se=!1,de=!1,Ce=!1;if(x||Y){let ve=0;if(m.series.forEach(function(_e,oe){if(pe=[],0<oe&&_e.options.id!=="highcharts-navigator-series"&&1<_e.processedXData.length&&(de=ve!==_e.processedXData[1]-_e.processedXData[0]),ve=_e.processedXData[1]-_e.processedXData[0],_e.boosted&&(Ce=_e.boosted),!(K&&_e.visible===!1||_e.takeOrdinalPosition===!1&&!Y)&&(z=z.concat(_e.processedXData),le=z.length,z.sort(function(ge,Te){return ge-Te}),Q=Math.min(Q,B(_e.closestPointRange,Q)),le)){for(oe=0;oe<le-1;)z[oe]!==z[oe+1]&&pe.push(z[oe+1]),oe++;pe[0]!==z[0]&&pe.unshift(z[0]),z=pe}}),de&&Ce&&(z.pop(),z.shift()),le=z.length,2<le){var ne=z[1]-z[0];for(fe=le-1;fe--&&!se;)z[fe+1]-z[fe]!==ne&&(se=!0);!m.options.keepOrdinalPadding&&(z[0]-P>ne||X-z[z.length-1]>ne)&&(se=!0)}else m.options.overscroll&&(le===2?Q=z[1]-z[0]:le===1?(Q=m.options.overscroll,z=[z[0],z[0]+Q]):Q=g.overscrollPointsRange);se||m.forceOrdinal?(m.options.overscroll&&(g.overscrollPointsRange=Q,z=z.concat(g.getOverscrollPositions())),g.positions=z,ne=m.ordinal2lin(Math.max(P,z[0]),!0),fe=Math.max(m.ordinal2lin(Math.min(X,z[z.length-1]),!0),1),g.slope=X=(X-P)/(fe-ne),g.offset=P-ne*X):(g.overscrollPointsRange=B(m.closestPointRange,g.overscrollPointsRange),g.positions=m.ordinal.slope=g.offset=void 0)}m.isOrdinal=x&&se,g.groupIntervalFactor=null}static findIndexOf(m,g,x){let P=0,X=m.length-1,Y;for(;P<X;)Y=Math.ceil((P+X)/2),m[Y]<=g?P=Y:X=Y-1;return m[P]===g||x?P:-1}getExtendedPositions(){const m=this,g=m.axis,x=g.constructor.prototype,P=g.chart,X=g.series[0].currentDataGrouping,Y=X?X.count+X.unitName:"raw",K=g.options.overscroll,le=g.getExtremes();let pe,fe,z=m.index;return z||(z=m.index={}),z[Y]||(pe={series:[],chart:P,forceOrdinal:!1,getExtremes:function(){return{min:le.dataMin,max:le.dataMax+K}},getGroupPixelWidth:x.getGroupPixelWidth,getTimeTicks:x.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:x.ordinal2lin,getIndexOfPoint:x.getIndexOfPoint,val2lin:x.val2lin},pe.ordinal.axis=pe,g.series.forEach(function(Q){fe={xAxis:pe,xData:Q.xData.slice(),chart:P,destroyGroupedData:o.noop,getProcessedData:u.prototype.getProcessedData,applyGrouping:u.prototype.applyGrouping},fe.xData=fe.xData.concat(m.getOverscrollPositions()),fe.options={dataGrouping:X?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[X.unitName,[X.count]]]}:{enabled:!1}},pe.series.push(fe),Q.processData.apply(fe)}),fe.closestPointRange!==fe.basePointRange&&fe.currentDataGrouping&&(pe.forceOrdinal=!0),g.ordinal.beforeSetTickPositions.apply({axis:pe}),z[Y]=pe.ordinal.positions),z[Y]}getGroupIntervalFactor(m,g,x){x=x.processedXData;const P=x.length;var X=[],Y=this.groupIntervalFactor;if(!Y){for(Y=0;Y<P-1;Y++)X[Y]=x[Y+1]-x[Y];X.sort(function(K,le){return K-le}),X=X[Math.floor(P/2)],m=Math.max(m,x[0]),g=Math.min(g,x[P-1]),this.groupIntervalFactor=Y=P*X/(g-m)}return Y}getIndexOfPoint(m,g){const x=this.axis,P=this.positions?this.positions[0]:0;let X=x.series[0].points&&x.series[0].points[0]&&x.series[0].points[0].plotX||x.minPixelPadding;return 1<x.series.length&&x.series.forEach(function(Y){Y.points&&J(Y.points[0])&&J(Y.points[0].plotX)&&Y.points[0].plotX<X&&Y.points[0].plotX>=B(x.min,-1/0)&&(X=Y.points[0].plotX)}),m=(m-X)/(x.translationSlope*(this.slope||x.closestPointRange||this.overscrollPointsRange)),w.findIndexOf(g,P)+m}getOverscrollPositions(){const m=this.axis,g=m.options.overscroll,x=this.overscrollPointsRange,P=[];let X=m.dataMax;if(J(x))for(;X<=m.dataMax+g;)X+=x,P.push(X);return P}postProcessTickInterval(m){const g=this.axis,x=this.slope;return x?g.options.breaks?g.closestPointRange||m:m/(x/g.closestPointRange):m}}G.Additions=w}(L||(L={})),L}),i(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({column:{prototype:{pointClass:r}}}=r.seriesTypes);class o extends r{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}return o}),i(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),i(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h){const{column:s}=u.seriesTypes,{extend:v,merge:I}=h;class J extends s{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(B,W,O){const L=B[0];B=B[1],typeof L[2]=="number"&&(L[2]=Math.max(O+W,L[2])),typeof B[2]=="number"&&(B[2]=Math.min(O-W,B[2]))}getPointPath(B,W){W=W.strokeWidth();const O=B.series,L=W%2/2,G=Math.round(B.plotX)-L,k=Math.round(B.shapeArgs.width/2),S=[["M",G,Math.round(B.yBottom)],["L",G,Math.round(B.plotHigh)]];return B.close!==null&&(B=Math.round(B.plotClose)+L,S.push(["M",G,B],["L",G+k,B]),O.extendStem(S,W/2,B)),S}drawSinglePoint(B){var W=B.series;const O=W.chart;let L=B.graphic;typeof B.plotY<"u"&&(L||(B.graphic=L=O.renderer.path().add(W.group)),O.styledMode||L.attr(W.pointAttribs(B,B.selected&&"select")),W=W.getPointPath(B,L),L[L?"animate":"attr"]({d:W}).addClass(B.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(B,W){return B=super.pointAttribs.call(this,B,W),delete B.fill,B}toYData(B){return[B.high,B.low,B.close]}translate(){const B=this,W=B.yAxis,O=this.pointArrayMap&&this.pointArrayMap.slice()||[],L=O.map(G=>`plot${G.charAt(0).toUpperCase()+G.slice(1)}`);L.push("yBottom"),O.push("low"),super.translate.apply(B),B.points.forEach(function(G){O.forEach(function(k,S){k=G[k],k!==null&&(B.dataModify&&(k=B.dataModify.modifyValue(k)),G[L[S]]=W.toPixels(k,!0))}),G.tooltipPos[1]=G.plotHigh+W.pos-B.chart.plotTop})}}return J.defaultOptions=I(s.defaultOptions,o),v(J.prototype,{pointClass:r,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),u.registerSeriesType("hlc",J),J}),i(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({seriesTypes:{hlc:r}}=r);class o extends r.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const h=super.getZone();return this.resolveUpColor(),h}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return o}),i(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),i(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h){function s(L){L=L.options;const G=L.dataGrouping;G&&L.useOhlcData&&L.id!=="highcharts-navigator-series"&&(G.approximation="ohlc")}function v(L){L=L.options,L.useOhlcData&&L.id!=="highcharts-navigator-series"&&M(this,{pointValKey:O.prototype.pointValKey,pointArrayMap:O.prototype.pointArrayMap,toYData:O.prototype.toYData})}const{seriesTypes:{hlc:I}}=u,{addEvent:J,extend:M,merge:B}=h,W=[];class O extends I{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(G,...k){h.pushUnique(W,G)&&(J(G,"afterSetOptions",s),J(G,"init",v))}getPointPath(G,k){const S=super.getPointPath(G,k);k=k.strokeWidth();const A=k%2/2,H=Math.round(G.plotX)-A,U=Math.round(G.shapeArgs.width/2);return G.open!==null&&(G=Math.round(G.plotOpen)+A,S.push(["M",H,G],["L",H-U,G]),super.extendStem(S,k/2,G)),S}pointAttribs(G,k){k=super.pointAttribs.call(this,G,k);const S=this.options;return delete k.fill,!G.options.color&&S.upColor&&G.open<G.close&&(k.stroke=S.upColor),k}toYData(G){return[G.open,G.high,G.low,G.close]}}return O.defaultOptions=B(I.defaultOptions,o),M(O.prototype,{pointClass:r,pointArrayMap:["open","high","low","close"]}),u.registerSeriesType("ohlc",O),O}),i(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(r,o){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),i(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,u,h){({defaultOptions:o}=o);const{column:s,ohlc:v}=u.seriesTypes;({merge:h}=h);class I extends v{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(M,B){const W=s.prototype.pointAttribs.call(this,M,B),O=this.options,L=M.open<M.close,G=O.lineColor||this.color,k=M.color||this.color;return W["stroke-width"]=O.lineWidth,W.fill=M.options.color||L&&O.upColor||k,W.stroke=M.options.lineColor||L&&O.upLineColor||G,B&&(M=O.states[B],W.fill=M.color||W.fill,W.stroke=M.lineColor||W.stroke,W["stroke-width"]=M.lineWidth||W["stroke-width"]),W}drawPoints(){var M=this.points;const B=this.chart,W=this.yAxis.reversed;for(const k of M){M=k.graphic;var O=void 0,L=void 0;let S,A;var G=void 0;let H,U;const E=!M;typeof k.plotY<"u"&&(M||(k.graphic=M=B.renderer.path().add(this.group)),this.chart.styledMode||M.attr(this.pointAttribs(k,k.selected&&"select")).shadow(this.options.shadow),G=M.strokeWidth()%2/2,H=Math.round(k.plotX)-G,O=k.plotOpen,L=k.plotClose,S=Math.min(O,L),O=Math.max(O,L),U=Math.round(k.shapeArgs.width/2),L=W?O!==k.yBottom:Math.round(S)!==Math.round(k.plotHigh),A=W?Math.round(S)!==Math.round(k.plotHigh):O!==k.yBottom,S=Math.round(S)+G,O=Math.round(O)+G,G=[],G.push(["M",H-U,O],["L",H-U,S],["L",H+U,S],["L",H+U,O],["Z"],["M",H,S],["L",H,L?Math.round(W?k.yBottom:k.plotHigh):S],["M",H,O],["L",H,A?Math.round(W?k.plotHigh:k.yBottom):O]),M[E?"attr":"animate"]({d:G}).addClass(k.getClassName(),!0))}}}return I.defaultOptions=h(v.defaultOptions,o.plotOptions,{tooltip:v.defaultOptions.tooltip},r),u.registerSeriesType("candlestick",I),I}),i(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){({column:{prototype:{pointClass:r}}}=r.seriesTypes);const{isNumber:u}=o;class h extends r{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return u(this.y)||typeof this.y>"u"}hasNewShapeType(){const v=this.options.shape||this.series.options.shape;return this.graphic&&v&&v!==this.graphic.symbolKey}}return h}),i(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),i(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(r){var o;return function(u){function h(I,J,M,B,W){const O=W&&W.anchorX||I;W=W&&W.anchorY||J;const L=this.circle(O-1,W-1,2,2);return L.push(["M",O,W],["L",I,J+B],["L",I,J],["L",I+M,J],["L",I+M,J+B],["L",I,J+B],["Z"]),L}function s(I,J){I[J+"pin"]=function(M,B,W,O,L){const G=L&&L.anchorX;L=L&&L.anchorY;let k;if(J==="circle"&&O>W&&(M-=Math.round((O-W)/2),W=O),k=I[J](M,B,W,O),G&&L){let S=G;J==="circle"?S=M+W/2:(M=k[0],W=k[1],M[0]==="M"&&W[0]==="L"&&(S=(M[1]+W[1])/2)),k.push(["M",S,B>L?B:B+O],["L",G,L]),k=k.concat(I.circle(G-1,L-1,2,2))}return k}}const v=[];u.compose=function(I){v.indexOf(I)===-1&&(v.push(I),I=I.prototype.symbols,I.flag=h,s(I,"circle"),s(I,"square")),I=r.getRendererType(),v.indexOf(I)&&v.push(I)}}(o||(o={})),o}),i(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,u){const{prototype:h}=r,{prototype:s}=o,{defined:v,stableSort:I}=u;var J;return function(M){function B(L){return s.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,L)}function W(){h.translate.apply(this);const L=this;var G=L.options,k=L.chart;const S=L.points;var A=G.onSeries;const H=(A=A&&k.get(A))&&A.options.step,U=A&&A.points,E=k.inverted,ie=L.xAxis,ee=L.yAxis;k=S.length-1;let $;G=G.onKey||"y";let V=U&&U.length,j=0,w,D,m,g;if(A&&A.visible&&V){j=(A.pointXOffset||0)+(A.barW||0)/2;var x=A.currentDataGrouping;for(D=U[V-1].x+(x?x.totalRange:0),I(S,(P,X)=>P.x-X.x),G="plot"+G[0].toUpperCase()+G.substr(1);V--&&S[k]&&(w=U[V],x=S[k],x.y=w.y,!(w.x<=x.x&&typeof w[G]<"u"&&(x.x<=D&&(x.plotY=w[G],w.x<x.x&&!H&&(m=U[V+1])&&typeof m[G]<"u"&&(g=(x.x-w.x)/(m.x-w.x),x.plotY+=g*(m[G]-w[G]),x.y+=g*(m.y-w.y))),k--,V++,0>k))););}S.forEach((P,X)=>{let Y;P.plotX+=j,(typeof P.plotY>"u"||E)&&(0<=P.plotX&&P.plotX<=ie.len?E?(P.plotY=ie.translate(P.x,0,1,0,1),P.plotX=v(P.y)?ee.translate(P.y,0,0,0,1):0):P.plotY=(ie.opposite?0:L.yAxis.len)+ie.offset:P.shapeArgs={}),($=S[X-1])&&$.plotX===P.plotX&&(typeof $.stackIndex>"u"&&($.stackIndex=0),Y=$.stackIndex+1),P.stackIndex=Y}),this.onSeries=A}const O=[];M.compose=function(L){if(u.pushUnique(O,L)){const G=L.prototype;G.getPlotBox=B,G.translate=W}return L},M.getPlotBox=B,M.translate=W}(J||(J={})),J}),i(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v,I,J,M){({noop:h}=h);const{distribute:B}=v,{series:W,seriesTypes:{column:O}}=I,{addEvent:L,defined:G,extend:k,merge:S,objectEach:A,wrap:H}=M;class U extends O{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(ie){ie&&this.setClip()}drawPoints(){var ie=this.points,ee=this.chart;const $=ee.renderer,V=ee.inverted,j=this.options,w=j.y,D=this.yAxis,m={},g=[];let x,P,X,Y,K,le,pe;for(X=ie.length;X--;){Y=ie[X],le=(V?Y.plotY:Y.plotX)>this.xAxis.len,x=Y.plotX;var fe=Y.stackIndex,z=Y.options.shape||j.shape;P=Y.plotY,typeof P<"u"&&(P=Y.plotY+w-(typeof fe<"u"&&fe*j.stackDistance)),Y.anchorX=fe?void 0:Y.plotX,K=fe?void 0:Y.plotY,pe=z!=="flag",fe=Y.graphic,typeof P<"u"&&0<=x&&!le?(fe&&Y.hasNewShapeType()&&(fe=fe.destroy()),fe||(fe=Y.graphic=$.label("",null,null,z,null,null,j.useHTML).addClass("highcharts-point").add(this.markerGroup),Y.graphic.div&&(Y.graphic.div.point=Y),fe.isNew=!0),fe.attr({align:pe?"center":"left",width:j.width,height:j.height,"text-align":j.textAlign}),ee.styledMode||fe.attr(this.pointAttribs(Y)).css(S(j.style,Y.style)).shadow(j.shadow),0<x&&(x-=fe.strokeWidth()%2),z={y:P,anchorY:K},j.allowOverlapX&&(z.x=x,z.anchorX=Y.anchorX),fe.attr({text:Y.options.title||j.title||"A"})[fe.isNew?"attr":"animate"](z),j.allowOverlapX||(m[Y.plotX]?m[Y.plotX].size=Math.max(m[Y.plotX].size,fe.width):m[Y.plotX]={align:pe?.5:0,size:fe.width,target:x,anchorX:x}),Y.tooltipPos=[x,P+D.pos-ee.plotTop]):fe&&(Y.graphic=fe.destroy())}if(!j.allowOverlapX){let Q=100;A(m,function(se){se.plotX=se.anchorX,g.push(se),Q=Math.max(se.size,Q)}),B(g,V?D.len:this.xAxis.len,Q);for(const se of ie)ee=se.plotX,(ee=(ie=se.graphic)&&m[ee])&&ie&&(G(ee.pos)?ie[ie.isNew?"attr":"animate"]({x:ee.pos+(ee.align||0)*ee.size,anchorX:se.anchorX}).show().isNew=!1:ie.hide().isNew=!0)}j.useHTML&&this.markerGroup&&H(this.markerGroup,"on",function(Q){return J.prototype.on.apply(Q.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const ie=this.points;super.drawTracker();for(const ee of ie){const $=ee.graphic;$&&(ee.unbindMouseOver&&ee.unbindMouseOver(),ee.unbindMouseOver=L($.element,"mouseover",function(){0<ee.stackIndex&&!ee.raised&&(ee._y=$.y,$.attr({y:ee._y-8}),ee.raised=!0);for(const V of ie)V!==ee&&V.raised&&V.graphic&&(V.graphic.attr({y:V._y}),V.raised=!1)}))}}pointAttribs(ie,ee){const $=this.options,V=ie&&ie.color||this.color;let j=$.lineColor,w=ie&&ie.lineWidth;return ie=ie&&ie.fillColor||$.fillColor,ee&&(ie=$.states[ee].fillColor,j=$.states[ee].lineColor,w=$.states[ee].lineWidth),{fill:ie||V,stroke:j||V,"stroke-width":w||$.lineWidth||0}}setClip(){W.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return U.compose=u.compose,U.defaultOptions=S(O.defaultOptions,o),s.compose(U),k(U.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:r,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:h,init:W.prototype.init}),I.registerSeriesType("flags",U),U}),i(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v,I,J,M,B){function W(w,D){return w==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:w==="yAxis"?{labels:{y:-2},opposite:$(D.opposite,!0),showLastLabel:!(!D.categories&&D.type!=="category"),title:{text:null}}:{}}function O(w,D){return w==="xAxis"?(w={type:"datetime",categories:void 0},$(D.navigator&&D.navigator.enabled,s.enabled,!0)&&(w.startOnTick=!1,w.endOnTick=!1),w):{}}const{format:L}=u,{getOptions:G}=h,{addEvent:k,clamp:S,defined:A,extend:H,find:U,isNumber:E,isString:ie,merge:ee,pick:$,splat:V}=B;class j extends o{init(D,m){const g=G(),x=D.xAxis,P=D.yAxis;var X=$(D.navigator&&D.navigator.enabled,s.enabled,!0);D.xAxis=D.yAxis=void 0,X=ee({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:X},scrollbar:{enabled:$(I.enabled,!0)},rangeSelector:{enabled:$(v.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:$(g.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},D,{isStock:!0}),D.xAxis=x,D.yAxis=P,X.xAxis=V(D.xAxis||{}).map(function(Y,K){return ee(W("xAxis",Y),g.xAxis,g.xAxis&&g.xAxis[K],Y,O("xAxis",D))}),X.yAxis=V(D.yAxis||{}).map(function(Y,K){return ee(W("yAxis",Y),g.yAxis,g.yAxis&&g.yAxis[K],Y)}),super.init(X,m)}createAxis(D,m){return m.axis=ee(W(D,m.axis),m.axis,O(D,this.userOptions)),super.createAxis(D,m)}}return function(w){w.stockChart=function(D,m,g){return new w(D,m,g)}}(j||(j={})),k(J,"setOptions",function(w){let D;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?D={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(D={marker:{enabled:!1,radius:2}}),D&&(w.plotOptions[this.type]=ee(w.plotOptions[this.type],D)))}),k(r,"autoLabelAlign",function(w){const{chart:D,options:m}=this,g=D._labelPanes=D._labelPanes||{},x=m.labels;if(D.options.isStock&&this.coll==="yAxis"){const P=m.top+","+m.height;!g[P]&&x.enabled&&(x.distance===15&&this.side===1&&(x.distance=0),typeof x.align>"u"&&(x.align="right"),g[P]=this,w.align="right",w.preventDefault())}}),k(r,"destroy",function(){const w=this.chart,D=this.options&&this.options.top+","+this.options.height;D&&w._labelPanes&&w._labelPanes[D]===this&&delete w._labelPanes[D]}),k(r,"getPlotLinePath",function(w){function D(oe){const ge=oe==="xAxis"?"yAxis":"xAxis";return oe=m.options[ge],E(oe)?[x[ge][oe]]:ie(oe)?[x.get(oe)]:g.map(function(Te){return Te[ge]})}let m=this,g=this.isLinked&&!this.series?this.linkedParent.series:this.series,x=m.chart,P=x.renderer,X=m.left,Y=m.top,K,le,pe,fe,z=[],Q=[],se,de,Ce=w.translatedValue,ne=w.value,ve=w.force,_e;(x.options.isStock&&w.acrossPanes!==!1&&m.coll==="xAxis"||m.coll==="yAxis")&&(w.preventDefault(),Q=D(m.coll),se=m.isXAxis?x.yAxis:x.xAxis,se.forEach(function(oe){if(!A(oe.options.id)||oe.options.id.indexOf("navigator")===-1){var ge=oe.isXAxis?"yAxis":"xAxis";ge=A(oe.options[ge])?x[ge][oe.options[ge]]:x[ge][0],m===ge&&Q.push(oe)}}),de=Q.length?[]:[m.isXAxis?x.yAxis[0]:x.xAxis[0]],Q.forEach(function(oe){de.indexOf(oe)!==-1||U(de,function(ge){return ge.pos===oe.pos&&ge.len===oe.len})||de.push(oe)}),_e=$(Ce,m.translate(ne,void 0,void 0,w.old)),E(_e)&&(m.horiz?de.forEach(function(oe){let ge;le=oe.pos,fe=le+oe.len,K=pe=Math.round(_e+m.transB),ve!=="pass"&&(K<X||K>X+m.width)&&(ve?K=pe=S(K,X,X+m.width):ge=!0),ge||z.push(["M",K,le],["L",pe,fe])}):de.forEach(function(oe){let ge;K=oe.pos,pe=K+oe.len,le=fe=Math.round(Y+m.height-_e),ve!=="pass"&&(le<Y||le>Y+m.height)&&(ve?le=fe=S(le,Y,Y+m.height):ge=!0),ge||z.push(["M",K,le],["L",pe,fe])})),w.path=0<z.length?P.crispPolyLine(z,w.lineWidth||1):null)}),M.prototype.crispPolyLine=function(w,D){for(let m=0;m<w.length;m+=2){const g=w[m],x=w[m+1];g[1]===x[1]&&(g[1]=x[1]=Math.round(g[1])-D%2/2),g[2]===x[2]&&(g[2]=x[2]=Math.round(g[2])+D%2/2)}return w},k(r,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),k(r,"afterDrawCrosshair",function(w){var D,m;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&E(this.min)&&E(this.max)){var g=this.chart,x=this.logarithmic,P=this.crosshair.label,X=this.horiz,Y=this.opposite,K=this.left,le=this.top,pe=this.width,fe=this.crossLabel,z=P.format,Q="",se=this.options.tickPosition==="inside",de=this.crosshair.snap!==!1,Ce=0,ne=w.e||this.cross&&this.cross.e;w=w.point;var ve=this.min,_e=this.max;x&&(ve=x.lin2log(ve),_e=x.lin2log(_e)),x=X?"center":Y?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",fe||(fe=this.crossLabel=g.renderer.label("",0,void 0,P.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(w&&w.series?w.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:P.align||x,padding:$(P.padding,8),r:$(P.borderRadius,3),zIndex:2}).add(this.labelGroup),g.styledMode||fe.attr({fill:P.backgroundColor||w&&w.series&&w.series.color||"#666666",stroke:P.borderColor||"","stroke-width":P.borderWidth||0}).css(H({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},P.style||{}))),X?(pe=de?(w.plotX||0)+K:ne.chartX,le+=Y?0:this.height):(pe=K+this.offset+(Y?pe:0),le=de?(w.plotY||0)+le:ne.chartY),z||P.formatter||(this.dateTime&&(Q="%b %d, %Y"),z="{value"+(Q?":"+Q:"")+"}"),Q=de?this.isXAxis?w.x:w.y:this.toValue(X?ne.chartX:ne.chartY),de=w&&w.series?w.series.isPointInside(w):E(Q)&&Q>ve&&Q<_e,ne="",z?ne=L(z,{value:Q},g):P.formatter&&E(Q)&&(ne=P.formatter.call(this,Q)),fe.attr({text:ne,x:pe,y:le,visibility:de?"inherit":"hidden"}),P=fe.getBBox(),!E(fe.x)||X||Y||(pe=fe.x-P.width/2),E(fe.y)&&(X?(se&&!Y||!se&&Y)&&(le=fe.y-P.height):le=fe.y-P.height/2),X?(D=K-P.x,m=K+this.width-P.x):(D=this.labelAlign==="left"?K:0,m=this.labelAlign==="right"?K+this.width:g.chartWidth),fe.translateX<D&&(Ce=D-fe.translateX),fe.translateX+P.width>=m&&(Ce=-(fe.translateX+P.width-m)),fe.attr({x:pe+Ce,y:le,anchorX:X?pe:this.opposite?0:g.chartWidth,anchorY:X?this.opposite?g.chartHeight:0:le+P.height/2})}}),J.prototype.forceCropping=function(){const w=this.chart,D=this.options.dataGrouping;return this.allowDG!==!1&&D&&$(D.enabled,w.options.isStock)},k(o,"update",function(w){w=w.options,"scrollbar"in w&&this.navigator&&(ee(!0,this.options.scrollbar,w.scrollbar),this.navigator.update({}),delete w.scrollbar)}),j}),i(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Axis/OrdinalAxis.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"],t["Core/Chart/StockChart.js"]],function(r,o,u,h,s,v,I,J,M){r.Navigator=u,r.RangeSelector=h,r.Scrollbar=s,r.StockChart=r.stockChart=M.stockChart,o.compose(r.Series,r.Axis,r.Point),J.compose(r.Renderer),u.compose(r.Axis,r.Chart,r.Series),I.compose(r.Series),v.compose(r.Axis,r.Series,r.Chart),h.compose(r.Axis,r.Chart),s.compose(r.Axis)})})})(YP);var uJ=YP.exports;const dJ=rd(uJ);dJ(yc);const hJ={name:"graph",components:{Chart:cm.Chart},data(){return{chartOptions:{chart:{zoomType:"xy"},title:{text:"",align:""},subtitle:{text:"",align:""},xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}°C",style:{color:yc.getOptions().colors[2]}},title:{text:"Temperature",style:{color:yc.getOptions().colors[2]}},opposite:!0},{gridLineWidth:0,title:{text:"Rainfall",style:{color:yc.getOptions().colors[0]}},labels:{format:"{value} mm",style:{color:yc.getOptions().colors[0]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:yc.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:yc.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:yc.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{name:"Rainfall",type:"column",yAxis:1,data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Sea-Level Pressure",type:"spline",yAxis:2,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},dashStyle:"shortdot",tooltip:{valueSuffix:" mb"}},{name:"Temperature",type:"spline",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}}}}};function pJ(e,t,i,r,o,u){const h=dr("Chart");return pt(),mr(h,{options:o.chartOptions,constructorType:"stockChart"},null,8,["options"])}const fJ=Pr(hJ,[["render",pJ]]);var qP={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(r,o,u,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,u),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},i(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){function u(M){if(typeof v.MouseEvent=="function")return new v.MouseEvent(M.type,M);if(s.createEvent){const B=s.createEvent("MouseEvent");if(B.initMouseEvent)return B.initMouseEvent(M.type,M.bubbles,M.cancelable,M.view||v,M.detail,M.screenX,M.screenY,M.clientX,M.clientY,M.ctrlKey,M.altKey,M.shiftKey,M.metaKey,M.button,M.relatedTarget),B}return h(M.type)}function h(M,B,W){return B=B||{x:0,y:0},typeof v.MouseEvent=="function"?new v.MouseEvent(M,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:W||J,view:v,detail:M==="click"?1:0,screenX:B.x,screenY:B.y,clientX:B.x,clientY:B.y}):s.createEvent&&(W=s.createEvent("MouseEvent"),W.initMouseEvent)?(W.initMouseEvent(M,!0,!0,v,M==="click"?1:0,B.x,B.y,B.x,B.y,!1,!1,!1,!1,0,null),W):{type:M}}const{doc:s,win:v}=r,{css:I}=o,J=v.EventTarget&&new v.EventTarget||"none";return{addClass:function(M,B){M.classList?M.classList.add(B):0>M.className.indexOf(B)&&(M.className+=" "+B)},cloneMouseEvent:u,cloneTouchEvent:function(M){var B=W=>{const O=[];for(let L=0;L<W.length;++L){const G=W.item(L);G&&O.push(G)}return O};return typeof v.TouchEvent=="function"?(B=new v.TouchEvent(M.type,{touches:B(M.touches),targetTouches:B(M.targetTouches),changedTouches:B(M.changedTouches),ctrlKey:M.ctrlKey,shiftKey:M.shiftKey,altKey:M.altKey,metaKey:M.metaKey,bubbles:M.bubbles,cancelable:M.cancelable,composed:M.composed,detail:M.detail,view:M.view}),M.defaultPrevented&&B.preventDefault(),B):(B=u(M),B.touches=M.touches,B.changedTouches=M.changedTouches,B.targetTouches=M.targetTouches,B)},escapeStringForHTML:function(M){return M.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(M){return s.getElementById(M)},getFakeMouseEvent:h,getHeadingTagNameForElement:function(M){const B=O=>(O=parseInt(O.slice(1),10),"h"+Math.min(6,O+1)),W=O=>{var L;e:{for(L=O;L=L.previousSibling;){const G=L.tagName||"";if(/H[1-6]/.test(G)){L=G;break e}}L=""}return L?B(L):(O=O.parentElement,O?(L=O.tagName,/H[1-6]/.test(L)?B(L):W(O)):"p")};return W(M)},removeChildNodes:function(M){for(;M.lastChild;)M.removeChild(M.lastChild)},removeClass:function(M,B){M.classList?M.classList.remove(B):M.className=M.className.replace(new RegExp(B,"g"),"")},removeElement:function(M){M&&M.parentNode&&M.parentNode.removeChild(M)},reverseChildNodes:function(M){let B=M.childNodes.length;for(;B--;)M.appendChild(M.childNodes[B])},simulatedEventTarget:J,stripHTMLTagsFromString:function(M){return typeof M=="string"?M.replace(/<\/?[^>]+(>|$)/g,""):M},visuallyHideElement:function(M){I(M,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),i(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(r,o){const{format:u}=r,{getNestedProperty:h,pick:s}=o;var v;return function(I){function J(O,L){var G=O.indexOf("#each("),k=O.indexOf("#plural("),S=O.indexOf("[");const A=O.indexOf("]");if(-1<G){S=O.slice(G).indexOf(")")+G;var H=O.substring(0,G);if(k=O.substring(S+1),S=O.substring(G+6,S).split(","),G=Number(S[1]),O="",L=h(S[0],L))for(G=isNaN(G)?L.length:G,G=0>G?L.length+G:Math.min(G,L.length),S=0;S<G;++S)O+=H+L[S]+k;return O.length?O:""}if(-1<k){switch(H=O.slice(k).indexOf(")")+k,O=O.substring(k+8,H).split(","),Number(h(O[0],L))){case 0:O=s(O[4],O[1]);break;case 1:O=s(O[2],O[1]);break;case 2:O=s(O[3],O[1]);break;default:O=O[1]}return O?(L=O,L=L.trim&&L.trim()||L.replace(/^\s+|\s+$/g,"")):L="",L}return-1<S?(k=O.substring(0,S),O=Number(O.substring(S+1,A)),L=h(k,L),!isNaN(O)&&L&&(0>O?(H=L[L.length+O],typeof H>"u"&&(H=L[0])):(H=L[O],typeof H>"u"&&(H=L[L.length-1]))),typeof H<"u"?H:""):"{"+O+"}"}function M(O,L,G){const k=(E,ie)=>{E=E.slice(ie||0);const ee=E.indexOf("{"),$=E.indexOf("}");if(-1<ee&&$>ee)return{statement:E.substring(ee+1,$),begin:ie+ee+1,end:ie+$}},S=[];let A,H,U=0;do A=k(O,U),H=O.substring(U,A&&A.begin-1),H.length&&S.push({value:H,type:"constant"}),A&&S.push({value:A.statement,type:"statement"}),U=A?A.end+1:U+1;while(A);return S.forEach(E=>{E.type==="statement"&&(E.value=J(E.value,L))}),u(S.reduce((E,ie)=>E+ie.value,""),L,G)}function B(O,L){O=O.split(".");let G=this.options.lang,k=0;for(;k<O.length;++k)G=G&&G[O[k]];return typeof G=="string"?M(G,L,this):""}const W=[];I.compose=function(O){return o.pushUnique(W,O)&&(O.prototype.langFormat=B),O},I.i18nFormat=M}(v||(v={})),v}),i(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,u){function h(k,S){const A=S.type,H=k.hcEvents;B.createEvent&&(k.dispatchEvent||k.fireEvent)?k.dispatchEvent?k.dispatchEvent(S):k.fireEvent(A,S):H&&H[A]?G(k,A,S):k.element&&h(k.element,S)}function s(k){const S=k.chart,A={};let H="Seconds";A.Seconds=((k.dataMax||k.max||0)-(k.dataMin||k.min||0))/1e3,A.Minutes=A.Seconds/60,A.Hours=A.Minutes/60,A.Days=A.Hours/24,["Minutes","Hours","Days"].forEach(function(E){2<A[E]&&(H=E)});const U=A[H].toFixed(H!=="Seconds"&&H!=="Minutes"?1:0);return S.langFormat("accessibility.axis.timeRange"+H,{chart:S,axis:k,range:U.replace(".0","")})}function v(k){const S=k.chart;var A=S.options;const H=A&&A.accessibility&&A.accessibility.screenReaderSection.axisRangeDateFormat||"",U={min:k.dataMin||k.min||0,max:k.dataMax||k.max||0};return A=function(E){return k.dateTime?S.time.dateFormat(H,U[E]):U[E].toString()},S.langFormat("accessibility.axis.rangeFromTo",{chart:S,axis:k,rangeFrom:A("min"),rangeTo:A("max")})}function I(k){if(k.points&&k.points.length)return(k=L(k.points,S=>!!S.graphic))&&k.graphic&&k.graphic.element}function J(k){const S=I(k);return S&&S.parentNode||k.graph&&k.graph.element||k.group&&k.group.element}function M(k,S){S.setAttribute("aria-hidden",!1),S!==k.renderTo&&S.parentNode&&S.parentNode!==B.body&&(Array.prototype.forEach.call(S.parentNode.childNodes,function(A){A.hasAttribute("aria-hidden")||A.setAttribute("aria-hidden",!0)}),M(k,S.parentNode))}const{doc:B}=r,{stripHTMLTagsFromString:W}=o,{defined:O,find:L,fireEvent:G}=u;return{fireEventOnWrappedOrUnwrappedElement:h,getChartTitle:function(k){return W(k.options.title.text||k.langFormat("accessibility.defaultChartTitle",{chart:k}))},getAxisDescription:function(k){return k&&(k.userOptions&&k.userOptions.accessibility&&k.userOptions.accessibility.description||k.axisTitle&&k.axisTitle.textStr||k.options.id||k.categories&&"categories"||k.dateTime&&"Time"||"values")},getAxisRangeDescription:function(k){var S=k.options||{};return S.accessibility&&typeof S.accessibility.rangeDescription<"u"?S.accessibility.rangeDescription:k.categories?(S=k.chart,k=k.dataMax&&k.dataMin?S.langFormat("accessibility.axis.rangeCategories",{chart:S,axis:k,numCategories:k.dataMax-k.dataMin+1}):"",k):!k.dateTime||k.min!==0&&k.dataMin!==0?v(k):s(k)},getPointFromXY:function(k,S,A){let H=k.length,U;for(;H--;)if(U=L(k[H].points||[],function(E){return E.x===S&&E.y===A}))return U},getSeriesFirstPointElement:I,getSeriesFromName:function(k,S){return S?(k.series||[]).filter(function(A){return A.name===S}):k.series},getSeriesA11yElement:J,unhideChartElementFromAT:M,hideSeriesFromAT:function(k){(k=J(k))&&k.setAttribute("aria-hidden",!0)},scrollToPoint:function(k){var S=k.series.xAxis,A=k.series.yAxis;const H=S&&S.scrollbar?S:A;if((S=H&&H.scrollbar)&&O(S.to)&&O(S.from)){if(A=S.to-S.from,O(H.dataMin)&&O(H.dataMax)){var U=H.toPixels(H.dataMin),E=H.toPixels(H.dataMax);k=(H.toPixels(k[H.coll==="xAxis"?"x":"y"]||0)-U)/(E-U)}else k=0;S.updatePosition(k-A/2,k+A/2),G(S,"changed",{from:S.from,to:S.to,trigger:"scrollbar",DOMEvent:null})}}}}),i(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o){const{doc:u}=r,{removeElement:h}=o;class s{constructor(){this.elements=[]}createElement(){const I=u.createElement.apply(u,arguments);return this.elements.push(I),I}destroyCreatedElements(){this.elements.forEach(function(I){h(I)}),this.elements=[]}}return s}),i(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:u}=o;class h{constructor(){this.eventRemovers=[]}addEvent(){const v=u.apply(r,arguments);return this.eventRemovers.push(v),v}removeAddedEvents(){this.eventRemovers.forEach(v=>v()),this.eventRemovers=[]}}return h}),i(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,u,h,s){const{fireEventOnWrappedOrUnwrappedElement:v}=r,{getFakeMouseEvent:I}=h;({extend:r}=s);class J{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(B,W){this.chart=B,this.eventProvider=new u,this.domElementProvider=new o,this.proxyProvider=W,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(B,W,O,L){return this.eventProvider.addEvent(B,W,O,L)}createElement(B,W){return this.domElementProvider.createElement(B,W)}fakeClickEvent(B){const W=I("click");v(B,W)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return r(J.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),J}),i(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(r){const{find:o}=r;class u{constructor(s,v){this.chart=s,this.keyCodeMap=v.keyCodeMap||[],this.validate=v.validate,this.init=v.init,this.terminate=v.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(s){const v=s.which||s.keyCode;let I=this.response.noHandler;const J=o(this.keyCodeMap,function(M){return-1<M[0].indexOf(v)});return J?I=J[1].call(this,v,s):v===9&&(I=this.response[s.shiftKey?"prev":"next"]),I}}return u}),i(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,u,h,s){const{unhideChartElementFromAT:v,getChartTitle:I}=u,{doc:J}=h,{stripHTMLTagsFromString:M}=s;class B extends r{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const O=this.chart,L="highcharts-title-"+O.index,G=M(O.langFormat("accessibility.svgContainerTitle",{chartTitle:I(O)}));if(G.length){const k=this.svgTitleElement=this.svgTitleElement||J.createElementNS("http://www.w3.org/2000/svg","title");k.textContent=G,k.id=L,O.renderTo.insertBefore(k,O.renderTo.firstChild)}}setSVGContainerLabel(){const O=this.chart,L=O.langFormat("accessibility.svgContainerLabel",{chartTitle:I(O)});O.renderer.box&&L.length&&O.renderer.box.setAttribute("aria-label",L)}setGraphicContainerAttrs(){const O=this.chart,L=O.langFormat("accessibility.graphicContainerLabel",{chartTitle:I(O)});L.length&&O.container.setAttribute("aria-label",L)}setRenderToAttrs(){const O=this.chart,L=O.options.accessibility.landmarkVerbosity!=="disabled",G=O.langFormat("accessibility.chartContainerLabel",{title:I(O),chart:O});G&&(O.renderTo.setAttribute("role",L?"region":"group"),O.renderTo.setAttribute("aria-label",G))}makeCreditsAccessible(){const O=this.chart,L=O.credits;L&&(L.textStr&&L.element.setAttribute("aria-label",O.langFormat("accessibility.credits",{creditsStr:M(L.textStr)})),v(O,L.element))}getKeyboardNavigation(){const O=this.chart;return new o(O,{keyCodeMap:[],validate:function(){return!0},init:function(){const L=O.accessibility;L&&L.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return B}),i(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:u,pick:h}=o;var s;return function(v){function I(){const S=this.focusElement,A=this.options.accessibility.keyboardNavigation.focusBorder;S&&(S.removeFocusBorder(),A.enabled&&S.addFocusBorder(A.margin,{stroke:A.style.color,strokeWidth:A.style.lineWidth,r:A.style.borderRadius}))}function J(S,A){const H=this.options.accessibility.keyboardNavigation.focusBorder;(A=A||S.element)&&A.focus&&(A.hcEvents&&A.hcEvents.focusin||u(A,"focusin",function(){}),A.focus(),H.hideBrowserFocusOutline&&(A.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=S,this.renderFocusBorder()}function M(S){if(!S.focusBorderDestroyHook){var A=S.destroy;S.destroy=function(){return S.focusBorder&&S.focusBorder.destroy&&S.focusBorder.destroy(),A.apply(S,arguments)},S.focusBorderDestroyHook=A}}function B(S,A){this.focusBorder&&this.removeFocusBorder();const H=this.getBBox(),U=h(S,3),E=this.parentGroup;var ie=this.scaleX||E&&E.scaleX,ee=this.scaleY||E&&E.scaleY;ie=(ie?!ee:ee)?Math.abs(ie||ee||1):(Math.abs(ie||1)+Math.abs(ee||1))/2,H.x+=this.translateX?this.translateX:0,H.y+=this.translateY?this.translateY:0,ee=H.x-U;let $=H.y-U,V=H.width+2*U,j=H.height+2*U;var w=this instanceof r;if(this.element.nodeName==="text"||w){const g=!!this.rotation;if(w)var D={x:g?1:0,y:0};else{var m=D=0;this.attr("text-anchor")==="middle"?D=m=.5:this.rotation?D=.25:m=.75,D={x:D,y:m}}m=+this.attr("x");const x=+this.attr("y");isNaN(m)||(ee=m-H.width*D.x-U),isNaN(x)||($=x-H.height*D.y-U),w&&g&&(w=V,V=j,j=w,isNaN(m)||(ee=m-H.height*D.x-U),isNaN(x)||($=x-H.width*D.y-U))}this.focusBorder=this.renderer.rect(ee,$,V,j,parseInt((A&&A.r||0).toString(),10)/ie).addClass("highcharts-focus-border").attr({zIndex:99}).add(E),this.renderer.styledMode||this.focusBorder.attr({stroke:A&&A.stroke,"stroke-width":(A&&A.strokeWidth||0)/ie}),W(this,S,A),M(this)}function W(S,...A){S.focusBorderUpdateHooks||(S.focusBorderUpdateHooks={},k.forEach(H=>{H+="Setter";const U=S[H]||S._defaultSetter;S.focusBorderUpdateHooks[H]=U,S[H]=function(){const E=U.apply(S,arguments);return S.addFocusBorder.apply(S,A),E}}))}function O(){L(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function L(S){S.focusBorderUpdateHooks&&(Object.keys(S.focusBorderUpdateHooks).forEach(A=>{const H=S.focusBorderUpdateHooks[A];H===S._defaultSetter?delete S[A]:S[A]=H}),delete S.focusBorderUpdateHooks)}const G=[],k="x y transform width height r d stroke-width".split(" ");v.compose=function(S,A){o.pushUnique(G,S)&&(S=S.prototype,S.renderFocusBorder=I,S.setFocusToElement=J),o.pushUnique(G,A)&&(A=A.prototype,A.addFocusBorder=B,A.removeFocusBorder=O)}}(s||(s={})),s}),i(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,u,h,s){const{doc:v}=u,{addClass:I,visuallyHideElement:J}=h,{attr:M}=s;class B{constructor(O,L){this.chart=O,this.domElementProvider=new o,this.announceRegion=this.addAnnounceRegion(L)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(O){r.setElementHTML(this.announceRegion,O),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=r.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(O){const L=this.chart.announcerContainer||this.createAnnouncerContainer(),G=this.domElementProvider.createElement("div");return M(G,{"aria-hidden":!1,"aria-live":O}),this.chart.styledMode?I(G,"highcharts-visually-hidden"):J(G),L.appendChild(G),G}createAnnouncerContainer(){const O=this.chart,L=v.createElement("div");return M(L,{"aria-hidden":!1,class:"highcharts-announcer-container"}),L.style.position="relative",O.renderTo.insertBefore(L,O.renderTo.firstChild),O.announcerContainer=L}}return B}),i(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(r){function o(J){return(J.annotations||[]).reduce((M,B)=>(B.options&&B.options.visible!==!1&&(M=M.concat(B.labels)),M),[])}function u(J){return J.options&&J.options.accessibility&&J.options.accessibility.description||J.graphic&&J.graphic.text&&J.graphic.text.textStr||""}function h(J){var M=J.options&&J.options.accessibility&&J.options.accessibility.description;if(M)return M;M=J.chart;const B=u(J),W=J.points.filter(G=>!!G.graphic).map(G=>{const k=G.accessibility&&G.accessibility.valueDescription||G.graphic&&G.graphic.element&&G.graphic.element.getAttribute("aria-label")||"";return G=G&&G.series.name||"",(G?G+", ":"")+"data point "+k}).filter(G=>!!G),O=W.length,L="accessibility.screenReaderSection.annotations.description"+(1<O?"MultiplePoints":O?"SinglePoint":"NoPoints");return J={annotationText:B,annotation:J,numPoints:O,annotationPoint:W[0],additionalAnnotationPoints:W.slice(1)},M.langFormat(L,J)}function s(J){return o(J).map(M=>(M=v(I(h(M))))?`<li>${M}</li>`:"")}const{escapeStringForHTML:v,stripHTMLTagsFromString:I}=r;return{getAnnotationsInfoHTML:function(J){const M=J.annotations;return M&&M.length?`<ul style="list-style-type: none">${s(J).join(" ")}</ul>`:""},getAnnotationLabelDescription:h,getAnnotationListItems:s,getPointAnnotationTexts:function(J){const M=o(J.series.chart).filter(B=>-1<B.points.indexOf(J));return M.length?M.map(B=>`${u(B)}`):[]}}}),i(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v,I,J,M,B){function W(D,m){var g=m[0],x=D.series&&D.series[0]||{};if(x={numSeries:D.series.length,numPoints:x.points&&x.points.length,chart:D,mapTitle:D.mapView&&D.mapView.geoMap&&D.mapView.geoMap.title},!g)return D.langFormat("accessibility.chartTypes.emptyChart",x);if(g==="map")return x.mapTitle?D.langFormat("accessibility.chartTypes.mapTypeDescription",x):D.langFormat("accessibility.chartTypes.unknownMap",x);if(1<D.types.length)return D.langFormat("accessibility.chartTypes.combinationChart",x);{m=m[0],g=D.langFormat("accessibility.seriesTypeDescriptions."+m,x);const P=D.series&&2>D.series.length?"Single":"Multiple";D=(D.langFormat("accessibility.chartTypes."+m+P,x)||D.langFormat("accessibility.chartTypes.default"+P,x))+(g?" "+g:"")}return D}const{getAnnotationsInfoHTML:O}=h,{getAxisDescription:L,getAxisRangeDescription:G,getChartTitle:k,unhideChartElementFromAT:S}=v,{format:A}=I,{doc:H}=J,{addClass:U,getElement:E,getHeadingTagNameForElement:ie,stripHTMLTagsFromString:ee,visuallyHideElement:$}=M,{attr:V,pick:j}=B;class w extends o{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const m=this.chart,g=this;this.initRegionsDefinitions(),this.addEvent(m,"aftergetTableAST",function(x){g.onDataTableCreated(x)}),this.addEvent(m,"afterViewData",function(x){x.wasHidden&&(g.dataTableDiv=x.element,setTimeout(function(){g.focusDataTable()},300))}),this.announcer=new u(m,"assertive")}initRegionsDefinitions(){const m=this;this.screenReaderSections={before:{element:null,buildContent:function(g){const x=g.options.accessibility.screenReaderSection.beforeChartFormatter;return x?x(g):m.defaultBeforeChartFormatter(g)},insertIntoDOM:function(g,x){x.renderTo.insertBefore(g,x.renderTo.firstChild)},afterInserted:function(){typeof m.sonifyButtonId<"u"&&m.initSonifyButton(m.sonifyButtonId),typeof m.dataTableButtonId<"u"&&m.initDataTableButton(m.dataTableButtonId)}},after:{element:null,buildContent:function(g){const x=g.options.accessibility.screenReaderSection.afterChartFormatter;return x?x(g):m.defaultAfterChartFormatter()},insertIntoDOM:function(g,x){x.renderTo.insertBefore(g,x.container.nextSibling)},afterInserted:function(){m.chart.accessibility&&m.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const m=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(g){m.updateScreenReaderSection(g)})}getLinkedDescriptionElement(){var m=this.chart.options.accessibility.linkedDescription;if(m){if(typeof m!="string")return m;if(m=A(m,this.chart),m=H.querySelectorAll(m),m.length===1)return m[0]}}setLinkedDescriptionAttrs(){const m=this.linkedDescriptionElement;m&&(m.setAttribute("aria-hidden","true"),U(m,"highcharts-linked-description"))}updateScreenReaderSection(m){const g=this.chart,x=this.screenReaderSections[m],P=x.buildContent(g),X=x.element=x.element||this.createElement("div"),Y=X.firstChild||this.createElement("div");P?(this.setScreenReaderSectionAttribs(X,m),s.setElementHTML(Y,P),X.appendChild(Y),x.insertIntoDOM(X,g),g.styledMode?U(Y,"highcharts-visually-hidden"):$(Y),S(g,Y),x.afterInserted&&x.afterInserted()):(X.parentNode&&X.parentNode.removeChild(X),x.element=null)}setScreenReaderSectionAttribs(m,g){const x=this.chart,P=x.langFormat("accessibility.screenReaderSection."+g+"RegionLabel",{chart:x,chartTitle:k(x)});V(m,{id:`highcharts-screen-reader-region-${g}-${x.index}`,"aria-label":P||void 0}),m.style.position="relative",P&&m.setAttribute("role",x.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var m=this.chart;const g=m.options.accessibility.screenReaderSection.beforeChartFormat;if(!g)return"";var x=this.getAxesDescription();const P=m.sonify&&m.options.sonification&&m.options.sonification.enabled,X="highcharts-a11y-sonify-data-btn-"+m.index,Y="hc-linkto-highcharts-data-table-"+m.index,K=O(m),le=m.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:m});return x={headingTagName:ie(m.renderTo),chartTitle:k(m),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:x.xAxis,yAxisDescription:x.yAxis,playAsSoundButton:P?this.getSonifyButtonText(X):"",viewTableButton:m.getCSV?this.getDataTableButtonText(Y):"",annotationsTitle:K?le:"",annotationsList:K},m=r.i18nFormat(g,x,m),this.dataTableButtonId=Y,this.sonifyButtonId=X,m.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){const m=this.chart,g=m.options.accessibility.screenReaderSection.afterChartFormat;if(!g)return"";const x={endOfChartMarker:this.getEndOfChartMarkerText()};return r.i18nFormat(g,x,m).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){const m=this.linkedDescriptionElement;return ee(m&&m.innerHTML||"")}getLongdescText(){const m=this.chart.options;var g=m.caption;g=g&&g.text;const x=this.getLinkedDescription();return m.accessibility.description||x||g||""}getTypeDescriptionText(){const m=this.chart;return m.types?m.options.accessibility.typeDescription||W(m,m.types):""}getDataTableButtonText(m){var g=this.chart;return g=g.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:g,chartTitle:k(g)}),'<button id="'+m+'">'+g+"</button>"}getSonifyButtonText(m){var g=this.chart;return g.options.sonification&&g.options.sonification.enabled===!1?"":(g=g.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:g,chartTitle:k(g)}),'<button id="'+m+'">'+g+"</button>")}getSubtitleText(){const m=this.chart.options.subtitle;return ee(m&&m.text||"")}getEndOfChartMarkerText(){const m=this.chart,g=m.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:m});return'<div id="highcharts-end-of-chart-marker-'+m.index+'">'+g+"</div>"}onDataTableCreated(m){const g=this.chart;if(g.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const x=m.tree.attributes||{};x.tabindex=-1,x.summary=g.langFormat("accessibility.table.tableSummary",{chart:g}),m.tree.attributes=x}}focusDataTable(){var m=this.dataTableDiv;(m=m&&m.getElementsByTagName("table")[0])&&m.focus&&m.focus()}initSonifyButton(m){const g=this.sonifyButton=E(m),x=this.chart,P=X=>{g&&(g.setAttribute("aria-hidden","true"),g.setAttribute("aria-label","")),X.preventDefault(),X.stopPropagation(),X=x.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:x}),this.announcer.announce(X),setTimeout(()=>{g&&(g.removeAttribute("aria-hidden"),g.removeAttribute("aria-label")),x.sonify&&x.sonify()},1e3)};g&&x&&(g.setAttribute("tabindex",-1),g.onclick=function(X){(x.options.accessibility&&x.options.accessibility.screenReaderSection.onPlayAsSoundClick||P).call(this,X,x)})}initDataTableButton(m){const g=this.viewDataTableButton=E(m),x=this.chart;m=m.replace("hc-linkto-",""),g&&(V(g,{tabindex:-1,"aria-expanded":!!E(m)}),g.onclick=x.options.accessibility.screenReaderSection.onViewDataTableClick||function(){x.viewData()})}getAxesDescription(){const m=this.chart;var g=function(Y,K){return Y=m[Y],1<Y.length||Y[0]&&j(Y[0].options.accessibility&&Y[0].options.accessibility.enabled,K)},x=!!m.types&&0>m.types.indexOf("map")&&0>m.types.indexOf("treemap")&&0>m.types.indexOf("tilemap");const P=!!m.hasCartesianSeries,X=g("xAxis",!m.angular&&P&&x);return g=g("yAxis",P&&x),x={},X&&(x.xAxis=this.getAxisDescriptionText("xAxis")),g&&(x.yAxis=this.getAxisDescriptionText("yAxis")),x}getAxisDescriptionText(m){const g=this.chart,x=g[m];return g.langFormat("accessibility.axis."+m+"Description"+(1<x.length?"Plural":"Singular"),{chart:g,names:x.map(function(P){return L(P)}),ranges:x.map(function(P){return G(P)}),numAxes:x.length})}destroy(){this.announcer&&this.announcer.destroy()}}return w}),i(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,u,h,s,v){const{attr:I}=o,{getChartTitle:J,unhideChartElementFromAT:M}=s,{getFakeMouseEvent:B}=v;class W extends u{init(){const L=this.chart,G=this;this.addEvent(L,"exportMenuShown",function(){G.onMenuShown()}),this.addEvent(L,"exportMenuHidden",function(){G.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const L=this.chart.exportContextMenu;L&&L.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const L=this.chart,G=L.exportContextMenu;G&&(this.addAccessibleContextMenuAttribs(),M(L,G)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(L){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",L)}onChartRender(){const L=this.chart,G=L.focusElement,k=L.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&G&&G===L.exportingGroup&&(G.focusBorder?L.setFocusToElement(G,this.exportButtonProxy.buttonElement):k&&k.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const L=this.chart,G=this.proxyProvider,k=L.exportSVGElements&&L.exportSVGElements[0];{var S=L.options.exporting;const A=L.exportSVGElements&&L.exportSVGElements[0];S=!!(S&&S.enabled!==!1&&S.accessibility&&S.accessibility.enabled&&A&&A.element)}S&&k&&(this.exportButtonProxy=G.addProxyElement("chartMenu",{click:k},{"aria-label":L.langFormat("accessibility.exporting.menuButtonLabel",{chart:L,chartTitle:J(L)}),"aria-expanded":!1,title:L.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const L=this.chart;var G=L.exportDivElements;G&&G.length&&(G.forEach(k=>{k&&(k.tagName!=="LI"||k.children&&k.children.length?k.setAttribute("aria-hidden","true"):k.setAttribute("tabindex",-1))}),(G=G[0]&&G[0].parentNode)&&I(G,{"aria-hidden":void 0,"aria-label":L.langFormat("accessibility.exporting.chartMenuLabel",{chart:L}),role:"list"}))}getKeyboardNavigation(){const L=this.keyCodes,G=this.chart,k=this;return new h(G,{keyCodeMap:[[[L.left,L.up],function(){return k.onKbdPrevious(this)}],[[L.right,L.down],function(){return k.onKbdNext(this)}],[[L.enter,L.space],function(){return k.onKbdClick(this)}]],validate:function(){return!!G.exporting&&G.options.exporting.enabled!==!1&&G.options.exporting.accessibility.enabled!==!1},init:function(){const S=k.exportButtonProxy,A=k.chart.exportingGroup;S&&A&&G.setFocusToElement(A,S.buttonElement)},terminate:function(){G.hideExportMenu()}})}onKbdPrevious(L){const G=this.chart,k=G.options.accessibility;L=L.response;let S=G.highlightedExportItemIx||0;for(;S--;)if(G.highlightExportItem(S))return L.success;return k.keyboardNavigation.wrapAround?(G.highlightLastExportItem(),L.success):L.prev}onKbdNext(L){const G=this.chart,k=G.options.accessibility;L=L.response;for(let S=(G.highlightedExportItemIx||0)+1;S<G.exportDivElements.length;++S)if(G.highlightExportItem(S))return L.success;return k.keyboardNavigation.wrapAround?(G.highlightExportItem(0),L.success):L.next}onKbdClick(L){const G=this.chart,k=G.exportDivElements[G.highlightedExportItemIx],S=(G.exportSVGElements&&G.exportSVGElements[0]).element;return G.openMenu?this.fakeClickEvent(k):(this.fakeClickEvent(S),G.highlightExportItem(0)),L.response.success}}return function(O){function L(){var H=this.exportSVGElements&&this.exportSVGElements[0];H&&(H=H.element,H.onclick)&&H.onclick(B("click"))}function G(){const H=this.exportDivElements;H&&this.exportContextMenu&&this.openMenu&&(H.forEach(U=>{U&&U.className==="highcharts-menu-item"&&U.onmouseout&&U.onmouseout(B("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function k(H){const U=this.exportDivElements&&this.exportDivElements[H],E=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(U&&U.tagName==="LI"&&(!U.children||!U.children.length)){const ie=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return U.focus&&ie&&U.focus(),E&&E.onmouseout&&E.onmouseout(B("mouseout")),U.onmouseover&&U.onmouseover(B("mouseover")),this.highlightedExportItemIx=H,!0}return!1}function S(){if(this.exportDivElements){let H=this.exportDivElements.length;for(;H--;)if(this.highlightExportItem(H))return!0}return!1}const A=[];O.compose=function(H){o.pushUnique(A,H)&&(H=r.prototype,H.hideExportMenu=G,H.highlightExportItem=k,H.highlightLastExportItem=S,H.showExportMenu=L)}}(W||(W={})),W}),i(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,u,h,s){const{doc:v,win:I}=r,{addEvent:J,fireEvent:M}=u,{getElement:B,simulatedEventTarget:W}=s;class O{constructor(G,k){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(G,k)}init(G,k){const S=this.eventProvider=new h;this.chart=G,this.components=k,this.modules=[],this.currentModuleIx=0,this.update(),S.addEvent(this.tabindexContainer,"keydown",A=>this.onKeydown(A)),S.addEvent(this.tabindexContainer,"focus",A=>this.onFocus(A)),["mouseup","touchend"].forEach(A=>S.addEvent(v,A,H=>this.onMouseUp(H))),["mousedown","touchstart"].forEach(A=>S.addEvent(G.renderTo,A,()=>{this.isClickingChart=!0}))}update(G){var k=this.chart.options.accessibility;k=k&&k.keyboardNavigation;const S=this.components;this.updateContainerTabindex(),k&&k.enabled&&G&&G.length?(this.modules=G.reduce(function(A,H){return H=S[H].getKeyboardNavigation(),A.concat(H)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const G=B(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),G?(this.makeElementAnExitAnchor(G),this.exitAnchor=G):this.createExitAnchor()}move(G){var k=this.modules&&this.modules[this.currentModuleIx];if(k&&k.terminate&&k.terminate(G),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=G,k=this.modules&&this.modules[this.currentModuleIx]){if(k.validate&&!k.validate())return this.move(G);if(k.init)return k.init(G),!0}return this.currentModuleIx=0,this.exiting=!0,0<G?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(G){var k=this.chart;G=G.relatedTarget&&k.container.contains(G.relatedTarget),!(k=(k=k.options.accessibility)&&k.keyboardNavigation)||!k.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||G||(G=this.getFirstValidModuleIx(),G!==null&&(this.currentModuleIx=G,this.modules[G].init(1))),this.exiting=!1}onMouseUp(G){if(delete this.isClickingChart,!this.keyboardReset&&G.relatedTarget!==W){const k=this.chart;G.target&&k.container.contains(G.target)||((G=this.modules&&this.modules[this.currentModuleIx||0])&&G.terminate&&G.terminate(),this.currentModuleIx=0),k.focusElement&&(k.focusElement.removeFocusBorder(),delete k.focusElement),this.keyboardReset=!0}}onKeydown(G){G=G||I.event;const k=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let S;if(this.exiting=this.keyboardReset=!1,k){const A=k.run(G);A===k.response.success?S=!0:A===k.response.prev?S=this.move(-1):A===k.response.next&&(S=this.move(1)),S&&(G.preventDefault(),G.stopPropagation())}}updateContainerTabindex(){var G=this.chart.options.accessibility;G=G&&G.keyboardNavigation,G=!(G&&G.enabled===!1);const k=this.chart;var S=k.container;k.renderTo.hasAttribute("tabindex")&&(S.removeAttribute("tabindex"),S=k.renderTo),this.tabindexContainer=S;const A=S.getAttribute("tabindex");G&&!A?S.setAttribute("tabindex","0"):G||k.container.removeAttribute("tabindex")}createExitAnchor(){const G=this.chart,k=this.exitAnchor=v.createElement("div");G.renderTo.appendChild(k),this.makeElementAnExitAnchor(k)}makeElementAnExitAnchor(G){const k=this.tabindexContainer.getAttribute("tabindex")||0;G.setAttribute("class","highcharts-exit-anchor"),G.setAttribute("tabindex",k),G.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(G)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(G){const k=this.chart,S=this;this.eventProvider.addEvent(G,"focus",function(A){A=A||I.event;const H=!(A.relatedTarget&&k.container.contains(A.relatedTarget)||S.exiting);k.focusElement&&delete k.focusElement,H?(S.tabbingInBackwards=!0,S.tabindexContainer.focus(),delete S.tabbingInBackwards,A.preventDefault(),S.modules&&S.modules.length&&(S.currentModuleIx=S.modules.length-1,(A=S.modules[S.currentModuleIx])&&A.validate&&!A.validate()?S.move(-1):A&&A.init(-1))):S.exiting=!1})}getFirstValidModuleIx(){const G=this.modules.length;for(let k=0;k<G;++k){const S=this.modules[k];if(!S.validate||S.validate())return k}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(L){function G(){const A=this;M(this,"dismissPopupContent",{},function(){A.tooltip&&A.tooltip.hide(0),A.hideExportMenu()})}function k(A){(A.which||A.keyCode)===27&&r.charts&&r.charts.forEach(H=>{H&&H.dismissPopupContent&&H.dismissPopupContent()})}const S=[];L.compose=function(A){return o.compose(A),u.pushUnique(S,A)&&(A.prototype.dismissPopupContent=G),u.pushUnique(S,v)&&J(v,"keydown",k),A}}(O||(O={})),O}),i(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,u,h,s,v,I,J){function M($){const V=$.legend&&$.legend.allItems,j=$.options.legend.accessibility||{};return $=$.colorAxis&&$.colorAxis.some(w=>!w.dataClasses||!w.dataClasses.length),!(!V||!V.length||$||j.enabled===!1)}function B($,V){const j=V.legendItem||{};V.setState($?"hover":"",!0);for(const w of["group","label","symbol"])(V=(V=j[w])&&V.element||V)&&G(V,$?"mouseover":"mouseout")}const{animObject:W}=r,{doc:O}=o,{addEvent:L,fireEvent:G,isNumber:k,pick:S,syncTimeout:A}=h,{getChartTitle:H}=I,{stripHTMLTagsFromString:U,addClass:E,removeClass:ie}=J;class ee extends s{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const V=this;this.recreateProxies(),this.addEvent(u,"afterScroll",function(){this.chart===V.chart&&(V.proxyProvider.updateGroupProxyElementPositions("legend"),V.updateLegendItemProxyVisibility(),-1<V.highlightedLegendItemIx&&this.chart.highlightLegendItem(V.highlightedLegendItemIx))}),this.addEvent(u,"afterPositionItem",function(j){this.chart===V.chart&&this.chart.renderer&&V.updateProxyPositionForItem(j.item)}),this.addEvent(u,"afterRender",function(){this.chart===V.chart&&this.chart.renderer&&V.recreateProxies()&&A(()=>V.proxyProvider.updateGroupProxyElementPositions("legend"),W(S(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const V=this.chart,j=V.legend,w=j.currentPage||1,D=j.clipHeight||0;let m;(j.allItems||[]).forEach(g=>{if(g.a11yProxyElement){var x=j.pages&&j.pages.length;const X=g.a11yProxyElement.element;var P=!1;m=g.legendItem||{},x&&(g=m.pageIx||0,x=m.y||0,P=m.label?Math.round(m.label.getBBox().height):0,P=x+P-j.pages[g]>D||g!==w-1),P?V.styledMode?E(X,"highcharts-a11y-invisible"):X.style.visibility="hidden":(ie(X,"highcharts-a11y-invisible"),X.style.visibility="")}})}onChartRender(){M(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(V){const j=this.chart;var w=j.legend;V=(w.currentPage||1)+V;var D=w.pages||[];if(0<V&&V<=D.length){D=0;for(const m of w.allItems)((m.legendItem||{}).pageIx||0)+1===V&&(w=j.highlightLegendItem(D))&&(this.highlightedLegendItemIx=D),++D}}updateProxyPositionForItem(V){V.a11yProxyElement&&V.a11yProxyElement.refreshPosition()}recreateProxies(){var V=O.activeElement;const j=this.proxyGroup;return V=V&&j&&j.contains(V),this.removeProxies(),M(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),V&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0):!1}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var V=this.chart;const j=U((V.legend&&V.legend.options.title&&V.legend.options.title.text||"").replace(/<br ?\/?>/g," "));V=V.langFormat("accessibility.legend.legendLabel"+(j?"":"NoTitle"),{chart:V,legendTitle:j,chartTitle:H(V)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":V})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null})}proxyLegendItems(){const V=this;let j;((this.chart.legend||{}).allItems||[]).forEach(w=>{j=w.legendItem||{},j.label&&j.label.element&&V.proxyLegendItem(w)})}proxyLegendItem(V){const j=V.legendItem||{};if(j.label&&j.group){var w=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:U(V.name),item:V});V.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:j.label,visual:(j.group.div?j.label:j.group).element},{tabindex:-1,"aria-pressed":V.visible,"aria-label":w})}}getKeyboardNavigation(){const V=this.keyCodes,j=this,w=this.chart;return new v(w,{keyCodeMap:[[[V.left,V.right,V.up,V.down],function(D){return j.onKbdArrowKey(this,D)}],[[V.enter,V.space],function(){return j.onKbdClick(this)}],[[V.pageDown,V.pageUp],function(D){return j.highlightAdjacentLegendPage(D===V.pageDown?1:-1),this.response.success}]],validate:function(){return j.shouldHaveLegendNavigation()},init:function(){w.highlightLegendItem(0),j.highlightedLegendItemIx=0},terminate:function(){j.highlightedLegendItemIx=-1,w.legend.allItems.forEach(D=>B(!1,D))}})}onKbdArrowKey(V,j){const w=this.keyCodes,D=V.response,m=this.chart,g=m.options.accessibility,x=m.legend.allItems.length;return j=j===w.left||j===w.up?-1:1,m.highlightLegendItem(this.highlightedLegendItemIx+j)?(this.highlightedLegendItemIx+=j,D.success):(1<x&&g.keyboardNavigation.wrapAround&&V.init(j),D.success)}onKbdClick(V){const j=this.chart.legend.allItems[this.highlightedLegendItemIx];return j&&j.a11yProxyElement&&j.a11yProxyElement.click(),V.response.success}shouldHaveLegendNavigation(){if(!M(this.chart))return!1;const V=this.chart,j=(V.options.legend||{}).accessibility||{};return!!(V.legend.display&&j.keyboardNavigation&&j.keyboardNavigation.enabled)}}return function($){function V(D){var m=this.legend.allItems,g=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const x=m[D];var P=x.legendItem||{};return x?(k(g)&&m[g]&&B(!1,m[g]),m=this.legend,D=(m.allItems[D].legendItem||{}).pageIx,g=m.currentPage,typeof D<"u"&&D+1!==g&&m.scroll(1+D-g),P=P.label,D=x.a11yProxyElement&&x.a11yProxyElement.buttonElement,P&&P.element&&D&&this.setFocusToElement(P,D),B(!0,x),!0):!1}function j(D){const m=D.item;this.chart.options.accessibility.enabled&&m&&m.a11yProxyElement&&m.a11yProxyElement.buttonElement.setAttribute("aria-pressed",D.visible?"true":"false")}const w=[];$.compose=function(D,m){h.pushUnique(w,D)&&(D.prototype.highlightLegendItem=V),h.pushUnique(w,m)&&L(m,"afterColorizeItem",j)}}(ee||(ee={})),ee}),i(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,u,h,s){function v(x){const P=x.index;return x.series&&x.series.data&&g(P)&&w(x.series.data,function(X){return!!(X&&typeof X.index<"u"&&X.index>P&&X.graphic&&X.graphic.element)})||null}function I(x){const P=x.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(P!==!1&&x.points&&x.points.length>=P)}function J(x){const P=x.options.accessibility||{};return!I(x)&&!P.exposeAsGroupOnly}function M(x){const P=x.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!x.points||!(x.points.length<P.pointNavigationEnabledThreshold||P.pointNavigationEnabledThreshold===!1))}function B(x,P){var X=x.series,Y=X.chart;x=Y.options.accessibility.point||{};const K=X.options.accessibility&&X.options.accessibility.point||{};return X=X.tooltipOptions||{},Y=Y.options.lang,D(P)?$(P,K.valueDecimals||x.valueDecimals||X.valueDecimals||-1,Y.decimalPoint,Y.accessibility.thousandsSep||Y.thousandsSep):P}function W(x){const P=(x.options.accessibility||{}).description;return P&&x.chart.langFormat("accessibility.series.description",{description:P,series:x})||""}function O(x,P){return x.chart.langFormat("accessibility.series."+P+"Description",{name:H(x[P]),series:x})}function L(x,P,X){const Y=P||"",K=X||"";return x.series.pointArrayMap.reduce(function(le,pe){{const fe=B(x,m(x[pe],x.options[pe]));pe=fe!==void 0?pe+": "+Y+fe+K:fe}return pe?le+(le.length?", ":"")+pe:le},"")}function G(x){var P=x.series,X=1<P.chart.series.length||P.options.name,Y=x.series,K=Y.chart,le=Y.options.accessibility;if(le=le&&le.point&&le.point.valueDescriptionFormat||K.options.accessibility.point.valueDescriptionFormat,Y=m(Y.xAxis&&Y.xAxis.options.accessibility&&Y.xAxis.options.accessibility.enabled,!K.angular&&Y.type!=="flowmap"),Y){var pe=x.series,fe=pe.chart,z=pe.options.accessibility&&pe.options.accessibility.point||{},Q=fe.options.accessibility.point||{};(pe=pe.xAxis&&pe.xAxis.dateTime)?(pe=pe.getXDateFormat(x.x||0,fe.options.tooltip.dateTimeLabelFormats),z=z.dateFormatter&&z.dateFormatter(x)||Q.dateFormatter&&Q.dateFormatter(x)||z.dateFormat||Q.dateFormat||pe,fe=fe.time.dateFormat(z,x.x||0,void 0)):fe=void 0,z=(x.series.xAxis||{}).categories&&g(x.category)&&(""+x.category).replace("<br/>"," "),Q=g(x.id)&&0>(""+x.id).indexOf("highcharts-"),pe="x, "+x.x,fe=x.name||fe||z||(Q?x.id:pe)}else fe="";z=fe,fe=g(x.index)?x.index+1:"";{Q=x.series;var se=Q.chart.options.accessibility.point||{},de=Q.chart.options.accessibility&&Q.chart.options.accessibility.point||{};const Ce=Q.tooltipOptions||{};pe=de.valuePrefix||se.valuePrefix||Ce.valuePrefix||"",se=de.valueSuffix||se.valueSuffix||Ce.valueSuffix||"",de=B(x,x[typeof x.value<"u"?"value":"y"]),Q=x.isNull?Q.chart.langFormat("accessibility.series.nullPointValue",{point:x}):Q.pointArrayMap?L(x,pe,se):pe+de+se}return K=ee(le,{point:x,index:fe,xDescription:z,value:Q,separator:Y?", ":""},K),le=(le=x.options&&x.options.accessibility&&x.options.accessibility.description)?" "+le:"",P=X?" "+P.name+".":"",X=x.series.chart,Y=A(x),fe={point:x,annotations:Y},X=Y.length?X.langFormat("accessibility.series.pointAnnotationsDescription",fe):"",x.accessibility=x.accessibility||{},x.accessibility.valueDescription=K,K+le+P+(X?" "+X:"")}function k(x){const P=J(x),X=M(x),Y=x.chart.options.accessibility.point.describeNull;(P||X)&&x.points.forEach(K=>{var le;if(!(le=K.graphic&&K.graphic.element)){var pe=K.series;if(le=pe&&pe.chart,pe=pe&&pe.is("sunburst"),le=le&&le.options.accessibility.point.describeNull,le=K.isNull&&!pe&&le){pe=K.series;var fe=v(K);pe=(le=fe&&fe.graphic)?le.parentGroup:pe.graph||pe.group,fe=fe?{x:m(K.plotX,fe.plotX,0),y:m(K.plotY,fe.plotY,0)}:{x:m(K.plotX,0),y:m(K.plotY,0)},fe=K.series.chart.renderer.rect(fe.x,fe.y,1,1),fe.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),pe&&pe.element?(K.graphic=fe,K.hasMockGraphic=!0,fe.add(pe),pe.element.insertBefore(fe.element,le?le.element:null),le=fe.element):le=void 0}}pe=K.options&&K.options.accessibility&&K.options.accessibility.enabled===!1,le&&(K.isNull&&!Y?le.setAttribute("aria-hidden",!0):(le.setAttribute("tabindex","-1"),x.chart.styledMode||(le.style.outline="none"),P&&!pe?(fe=K.series,pe=fe.chart.options.accessibility.point||{},fe=fe.options.accessibility&&fe.options.accessibility.point||{},K=j(fe.descriptionFormatter&&fe.descriptionFormatter(K)||pe.descriptionFormatter&&pe.descriptionFormatter(K)||G(K)),le.setAttribute("role","img"),le.setAttribute("aria-label",K)):le.setAttribute("aria-hidden",!0)))})}function S(x){const P=x.chart;var X=P.types||[];const Y=W(x);var K=function(Q){return P[Q]&&1<P[Q].length&&x[Q]};const le=x.index+1;var pe=O(x,"xAxis");const fe=O(x,"yAxis");var z={seriesNumber:le,series:x,chart:P};return X=1<X.length?"Combination":"",z=P.langFormat("accessibility.series.summary."+x.type+X,z)||P.langFormat("accessibility.series.summary.default"+X,z),K=(K("yAxis")?" "+fe+".":"")+(K("xAxis")?" "+pe+".":""),pe=m(x.options.accessibility&&x.options.accessibility.descriptionFormat,P.options.accessibility.series.descriptionFormat,""),ee(pe,{seriesDescription:z,authorDescription:Y?" "+Y:"",axisDescription:K,series:x,chart:P,seriesNumber:le},void 0)}const{getPointAnnotationTexts:A}=r,{getAxisDescription:H,getSeriesFirstPointElement:U,getSeriesA11yElement:E,unhideChartElementFromAT:ie}=o,{format:ee,numberFormat:$}=u,{reverseChildNodes:V,stripHTMLTagsFromString:j}=h,{find:w,isNumber:D,pick:m,defined:g}=s;return{defaultPointDescriptionFormatter:G,defaultSeriesDescriptionFormatter:S,describeSeries:function(x){var P=x.chart,X=U(x);const Y=E(x);var K=P.is3d&&P.is3d();if(Y){Y.lastChild!==X||K||V(Y),k(x),ie(P,Y);{K=x.chart,P=K.options.chart,X=1<K.series.length,K=K.options.accessibility.series.describeSingleSeries;const le=(x.options.accessibility||{}).exposeAsGroupOnly;P=!(P.options3d&&P.options3d.enabled&&X)&&(X||K||le||I(x))}P?(P=x.chart.options.accessibility,X=P.landmarkVerbosity,(x.options.accessibility||{}).exposeAsGroupOnly?Y.setAttribute("role","img"):X==="all"?Y.setAttribute("role","region"):Y.setAttribute("role","group"),Y.setAttribute("tabindex","-1"),x.chart.styledMode||(Y.style.outline="none"),Y.setAttribute("aria-label",j(P.series.descriptionFormatter&&P.series.descriptionFormatter(x)||S(x)))):Y.removeAttribute("aria-label")}}}}),i(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,o,u,h,s,v){function I(k){const S=k.series.data.filter(A=>k.x===A.x&&k.y===A.y);return S.length===1?S[0]:k}function J(k,S){const A=(k||[]).concat(S||[]).reduce((H,U)=>(H[U.name+U.index]=U,H),{});return Object.keys(A).map(H=>A[H])}const{addEvent:M,defined:B}=o,{getChartTitle:W}=h,{defaultPointDescriptionFormatter:O,defaultSeriesDescriptionFormatter:L}=v;class G{constructor(S){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=S}init(){const S=this.chart,A=S.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new s,this.announcer=new u(S,A),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const S=this,A=this.chart,H=this.eventProvider;H.addEvent(A,"afterApplyDrilldown",function(){S.lastAnnouncementTime=0}),H.addEvent(A,"afterAddSeries",function(U){S.onSeriesAdded(U.series)}),H.addEvent(A,"redraw",function(){S.announceDirtyData()})}onSeriesAdded(S){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[S.name+S.index]=S,this.dirty.newSeries=B(this.dirty.newSeries)?void 0:S)}announceDirtyData(){const S=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let A=this.dirty.newPoint;A&&(A=I(A)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(H=>S.dirty.allSeries[H]),this.dirty.newSeries,A),this.dirty={allSeries:{}}}}queueAnnouncement(S,A,H){var U=this.chart.options.accessibility.announceNewData;if(U.enabled){const E=+new Date;U=Math.max(0,U.minAnnounceInterval-(E-this.lastAnnouncementTime)),S=J(this.queuedAnnouncement&&this.queuedAnnouncement.series,S),(A=this.buildAnnouncementMessage(S,A,H))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:E,message:A,series:S},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},U))}}buildAnnouncementMessage(S,A,H){const U=this.chart;var E=U.options.accessibility.announceNewData;return E.announcementFormatter&&(S=E.announcementFormatter(S,A,H),S!==!1)?S.length?S:null:(S=r.charts&&1<r.charts.length?"Multiple":"Single",S=A?"newSeriesAnnounce"+S:H?"newPointAnnounce"+S:"newDataAnnounce",E=W(U),U.langFormat("accessibility.announceNewData."+S,{chartTitle:E,seriesDesc:A?L(A):null,pointDesc:H?O(H):null,point:H,series:A}))}}return function(k){function S(H){const U=this.chart,E=this.newDataAnnouncer;E&&E.chart===U&&U.options.accessibility.announceNewData.enabled&&(E.dirty.newPoint=B(E.dirty.newPoint)?void 0:H.point)}function A(){const H=this.chart,U=this.newDataAnnouncer;U&&U.chart===H&&H.options.accessibility.announceNewData.enabled&&(U.dirty.hasDirty=!0,U.dirty.allSeries[this.name+this.index]=this)}k.composedMembers=[],k.compose=function(H){o.pushUnique(k.composedMembers,H)&&(M(H,"addPoint",S),M(H,"updatedData",A))}}(G||(G={})),G}),i(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,u,h,s){const{doc:v}=r,{attr:I,css:J,merge:M}=o,{fireEventOnWrappedOrUnwrappedElement:B}=h,{cloneMouseEvent:W,cloneTouchEvent:O,getFakeMouseEvent:L,removeElement:G}=s;class k{constructor(A,H,U,E){this.chart=A,this.target=H,this.groupType=U,U=U==="ul",this.eventProvider=new u;const ie=U?v.createElement("li"):null,ee=this.buttonElement=v.createElement("button");A.styledMode||this.hideButtonVisually(ee),ie?(U&&!A.styledMode&&(ie.style.listStyle="none"),ie.appendChild(ee),this.element=ie):this.element=ee,this.updateTarget(H,E)}click(){var A=this.getTargetPosition();A.x+=A.width/2,A.y+=A.height/2,A=L("click",A),B(this.target.click,A)}updateTarget(A,H){this.target=A,this.updateCSSClassName();const U=H||{};Object.keys(U).forEach(E=>{U[E]===null&&delete U[E]}),I(this.buttonElement,M({"aria-label":this.getTargetAttr(A.click,"aria-label")},U)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,A.click),this.refreshPosition()}refreshPosition(){const A=this.getTargetPosition();J(this.buttonElement,{width:(A.width||1)+"px",height:(A.height||1)+"px",left:(Math.round(A.x)||0)+"px",top:(Math.round(A.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),G(this.element)}updateCSSClassName(){var A=this.chart.legend;A=A.group&&A.group.div,A=-1<(A&&A.className||"").indexOf("highcharts-no-tooltip");const H=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=A||H?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(A,H){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(U=>{const E=U.indexOf("touch")===0;this.eventProvider.addEvent(A,U,ie=>{const ee=E?O(ie):W(ie);H&&B(H,ee),ie.stopPropagation(),E||ie.preventDefault()},{passive:!1})})}hideButtonVisually(A){J(A,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var A=this.target.click;if(A=A.element?A.element:A,A=this.target.visual||A,this.chart.renderTo&&A&&A.getBoundingClientRect){A=A.getBoundingClientRect();const H=this.chart.pointer.getChartPosition();return{x:(A.left-H.left)/H.scaleX,y:(A.top-H.top)/H.scaleY,width:A.right/H.scaleX-A.left/H.scaleX,height:A.bottom/H.scaleY-A.top/H.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(A,H){return A.element?A.element.getAttribute(H):A.getAttribute(H)}}return k}),i(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(r,o,u,h,s,v){const{doc:I}=r,{attr:J,css:M}=o,{unhideChartElementFromAT:B}=u,{removeElement:W,removeChildNodes:O}=s;class L{constructor(k){this.chart=k,this.domElementProvider=new h,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(k,S,A){const H=this.groups[k];if(!H)throw Error("ProxyProvider.addProxyElement: Invalid group key "+k);return k=new v(this.chart,S,H.type,A),H.proxyContainerElement.appendChild(k.element),H.proxyElements.push(k),k}addGroup(k,S,A){var H=this.groups[k];if(H)return H.groupElement;H=this.domElementProvider.createElement(S);let U;return A&&A.role&&S!=="div"?(U=this.domElementProvider.createElement("div"),U.appendChild(H)):U=H,U.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+k.replace(/\W/g,"-"),this.groups[k]={proxyContainerElement:H,groupElement:U,type:S,proxyElements:[]},J(U,A||{}),S==="ul"&&H.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(U),this.updateGroupOrder(this.groupOrder),U}updateGroupAttrs(k,S){const A=this.groups[k];if(!A)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+k);J(A.groupElement,S)}updateGroupOrder(k){if(this.groupOrder=k.slice(),!this.isDOMOrderGroupOrder()){var S=k.indexOf("series"),A=-1<S?k.slice(0,S):k,H=-1<S?k.slice(S+1):[];k=I.activeElement,["before","after"].forEach(U=>{const E=this[U==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];U=U==="before"?A:H,O(E),U.forEach(ie=>{(ie=this.groups[ie])&&E.appendChild(ie.groupElement)})}),(this.beforeChartProxyPosContainer.contains(k)||this.afterChartProxyPosContainer.contains(k))&&k&&k.focus&&k.focus()}}clearGroup(k){const S=this.groups[k];if(!S)throw Error("ProxyProvider.clearGroup: Invalid group key "+k);O(S.proxyContainerElement)}removeGroup(k){const S=this.groups[k];S&&(W(S.groupElement),delete this.groups[k])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(k){(k=this.groups[k])&&k.proxyElements.forEach(S=>S.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(k){const S=this.domElementProvider.createElement("div");return S.setAttribute("aria-hidden","false"),S.className="highcharts-a11y-proxy-container"+(k?"-"+k:""),M(S,{top:"0",left:"0"}),this.chart.styledMode||(S.style.whiteSpace="nowrap",S.style.position="absolute"),S}getCurrentGroupOrderInDOM(){const k=H=>{const U=Object.keys(this.groups);let E=U.length;for(;E--;){const ie=U[E],ee=this.groups[ie];if(ee&&H===ee.groupElement)return ie}};var S=H=>{const U=[];H=H.children;for(let E=0;E<H.length;++E){const ie=k(H[E]);ie&&U.push(ie)}return U};const A=S(this.beforeChartProxyPosContainer);return S=S(this.afterChartProxyPosContainer),A.push("series"),A.concat(S)}isDOMOrderGroupOrder(){const k=this.getCurrentGroupOrderInDOM(),S=this.groupOrder.filter(H=>H==="series"||!!this.groups[H]);let A=k.length;if(A!==S.length)return!1;for(;A--;)if(k[A]!==S[A])return!1;return!0}updatePosContainerPositions(){const k=this.chart;if(!k.renderer.forExport){var S=k.renderer.box;k.container.insertBefore(this.afterChartProxyPosContainer,S.nextSibling),k.container.insertBefore(this.beforeChartProxyPosContainer,S),B(this.chart,this.afterChartProxyPosContainer),B(this.chart,this.beforeChartProxyPosContainer)}}}return L}),i(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),i(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(r,o,u){function h(){const V=this.range,j=V.type,w=this.max,D=this.chart.time,m=function(X,Y){const K=j==="year"?"FullYear":"Month",le=new D.Date(X),pe=D.get(K,le);return D.set(K,le,pe+Y),pe===D.get(K,le)&&D.set("Date",le,0),le.getTime()-X};let g,x;H(V)?(g=w-V,x=V):V&&(g=w+m(w,-(V.count||1)),this.chart&&(this.chart.fixedRange=w-g));const P=E(this.dataMin,Number.MIN_VALUE);return H(g)||(g=P),g<=P&&(g=P,typeof x>"u"&&(x=m(g,V.count)),this.newMax=Math.min(g+x,E(this.dataMax,Number.MAX_VALUE))),H(w)?!H(V)&&V&&V._offsetMin&&(g+=V._offsetMin):g=void 0,g}function s(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new $(this))}function v(){var V=this.axes;const j=this.rangeSelector;j&&(H(j.deferredYTDClick)&&(j.clickButton(j.deferredYTDClick),delete j.deferredYTDClick),V.forEach(w=>{w.updateNames(),w.setScale()}),this.getAxisMargins(),j.render(),V=j.options.verticalAlign,j.options.floating||(V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0)))}function I(V){let j,w,D,m;const g=V.rangeSelector,x=()=>{g&&(j=V.xAxis[0].getExtremes(),w=V.legend,m=g&&g.options.verticalAlign,H(j.min)&&g.render(j.min,j.max),w.display&&m==="top"&&m===w.options.verticalAlign&&(D=U(V.spacingBox),D.y=w.options.layout==="vertical"?V.plotTop:D.y+g.getHeight(),w.group.placed=!1,w.align(D)))};g&&(A(ie,P=>P[0]===V)||ie.push([V,[G(V.xAxis[0],"afterSetExtremes",function(P){g&&g.render(P.min,P.max)}),G(V,"redraw",x)]]),x())}function J(){for(let V=0,j=ie.length;V<j;++V){const w=ie[V];if(w[0]===this){w[1].forEach(D=>D()),ie.splice(V,1);break}}}function M(){var V=this.rangeSelector;V&&(V=V.getHeight(),this.extraTopMargin&&(this.plotTop+=V),this.extraBottomMargin&&(this.marginBottom+=V))}function B(){var V=this.rangeSelector;V&&!V.options.floating&&(V.render(),V=V.options.verticalAlign,V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0))}function W(V){var j=V.options.rangeSelector;V=this.extraBottomMargin;const w=this.extraTopMargin;let D=this.rangeSelector;j&&j.enabled&&!k(D)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=D=new $(this)),this.extraTopMargin=this.extraBottomMargin=!1,D&&(I(this),j=j&&j.verticalAlign||D.options&&D.options.verticalAlign,D.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==V||this.extraTopMargin!==w)&&(this.isDirtyBox=!0)}const{defaultOptions:O,setOptions:L}=r,{addEvent:G,defined:k,extend:S,find:A,isNumber:H,merge:U,pick:E}=u,ie=[],ee=[];let $;return{compose:function(V,j,w){$=w,u.pushUnique(ee,V)&&(V.prototype.minFromRange=h),u.pushUnique(ee,j)&&(G(j,"afterGetContainer",s),G(j,"beforeRender",v),G(j,"destroy",J),G(j,"getMargins",M),G(j,"render",B),G(j,"update",W),j.prototype.callbacks.push(I)),u.pushUnique(ee,L)&&(S(O,{rangeSelector:o.rangeSelector}),S(O.lang,o.lang))}}}),i(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v){function I(j){if(j.indexOf("%L")!==-1)return"text";const w="aAdewbBmoyY".split("").some(m=>j.indexOf("%"+m)!==-1),D="HkIlMS".split("").some(m=>j.indexOf("%"+m)!==-1);return w&&D?"datetime-local":w?"date":D?"time":"text"}const{defaultOptions:J}=o,{addEvent:M,createElement:B,css:W,defined:O,destroyObjectProperties:L,discardElement:G,extend:k,fireEvent:S,isNumber:A,merge:H,objectEach:U,pad:E,pick:ie,pInt:ee,splat:$}=v;class V{static compose(w,D){h.compose(w,D,V)}constructor(w){this.buttons=void 0,this.buttonOptions=V.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=w,this.init(w)}clickButton(w,D){const m=this.chart,g=this.buttonOptions[w],x=m.xAxis[0];var P=m.scroller&&m.scroller.getUnionExtremes()||x||{},X=g.type;const Y=g.dataGrouping;let K=P.dataMin,le=P.dataMax,pe,fe=x&&Math.round(Math.min(x.max,ie(le,x.max))),z;P=g._range;let Q,se,de,Ce=!0;if(K!==null&&le!==null){if(m.fixedRange=P,this.setSelected(w),Y&&(this.forcedDataGrouping=!0,r.prototype.setDataGrouping.call(x||{chart:this.chart},Y,!1),this.frozenStates=g.preserveDataGrouping),X==="month"||X==="year")x?(X={range:g,max:fe,chart:m,dataMin:K,dataMax:le},pe=x.minFromRange.call(X),A(X.newMax)&&(fe=X.newMax),Ce=!1):P=g;else if(P)pe=Math.max(fe-P,K),fe=Math.min(pe+P,le),Ce=!1;else if(X==="ytd")if(x)(typeof le>"u"||typeof K>"u")&&(K=Number.MAX_VALUE,le=Number.MIN_VALUE,m.series.forEach(ne=>{(ne=ne.xData)&&(K=Math.min(ne[0],K),le=Math.max(ne[ne.length-1],le))}),D=!1),X=this.getYTDExtremes(le,K,m.time.useUTC),pe=Q=X.min,fe=X.max;else{this.deferredYTDClick=w;return}else X==="all"&&x&&(m.navigator&&m.navigator.baseSeries[0]&&(m.navigator.baseSeries[0].xAxis.options.range=void 0),pe=K,fe=le);Ce&&g._offsetMin&&O(pe)&&(pe+=g._offsetMin),g._offsetMax&&O(fe)&&(fe+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=w+1),x?x.setExtremes(pe,fe,ie(D,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(z=$(m.options.xAxis)[0],de=z.range,z.range=P,se=z.min,z.min=Q,M(m,"load",function(){z.range=de,z.min=se})),S(this,"afterBtnClick")}}setSelected(w){this.selected=this.options.selected=w}init(w){const D=this,m=w.options.rangeSelector,g=m.buttons||D.defaultButtons.slice(),x=m.selected,P=function(){const X=D.minInput,Y=D.maxInput;X&&X.blur&&S(X,"blur"),Y&&Y.blur&&S(Y,"blur")};D.chart=w,D.options=m,D.buttons=[],D.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(M(w.container,"mousedown",P)),this.eventsToUnbind.push(M(w,"resize",P)),g.forEach(D.computeButtonRange),typeof x<"u"&&g[x]&&this.clickButton(x,!1),this.eventsToUnbind.push(M(w,"load",function(){w.xAxis&&w.xAxis[0]&&M(w.xAxis[0],"setExtremes",function(X){this.max-this.min!==w.fixedRange&&X.trigger!=="rangeSelectorButton"&&X.trigger!=="updatedData"&&D.forcedDataGrouping&&!D.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const w=this;var D=this.chart;const m=this.dropdown,g=D.xAxis[0],x=Math.round(g.max-g.min),P=!g.hasVisibleSeries,X=D.scroller&&D.scroller.getUnionExtremes()||g,Y=X.dataMin,K=X.dataMax;D=w.getYTDExtremes(K,Y,D.time.useUTC);const le=D.min,pe=D.max,fe=w.selected,z=w.options.allButtonsEnabled,Q=w.buttons;let se=A(fe);w.buttonOptions.forEach((de,Ce)=>{var ne=de._range,ve=de.type,_e=de.count||1;const oe=Q[Ce],ge=de._offsetMax-de._offsetMin,Te=Ce===fe,Re=ne>K-Y,Le=ne<g.minRange;de=0;let $e=!1,nt=!1;ne=ne===x,(ve==="month"||ve==="year")&&x+36e5>=864e5*{month:28,year:365}[ve]*_e-ge&&x-36e5<=864e5*{month:31,year:366}[ve]*_e+ge?ne=!0:ve==="ytd"?(ne=pe-le+ge===x,$e=!Te):ve==="all"&&(ne=g.max-g.min>=K-Y,nt=!Te&&se&&ne),ve=!z&&(Re||Le||nt||P),_e=Te&&ne||ne&&!se&&!$e||Te&&w.frozenStates,ve?de=3:_e&&(se=!0,de=2),oe.state!==de&&(oe.setState(de),m&&(m.options[Ce+1].disabled=ve,de===2&&(m.selectedIndex=Ce+1)),de===0&&fe===Ce&&w.setSelected())})}computeButtonRange(w){const D=w.type,m=w.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[D]?w._range=g[D]*m:(D==="month"||D==="year")&&(w._range=864e5*{month:30,year:365}[D]*m),w._offsetMin=ie(w.offsetMin,0),w._offsetMax=ie(w.offsetMax,0),w._range+=w._offsetMax-w._offsetMin}getInputValue(w){w=w==="min"?this.minInput:this.maxInput;const D=this.chart.options.rangeSelector,m=this.chart.time;return w?(w.type==="text"&&D.inputDateParser||this.defaultInputDateParser)(w.value,m.useUTC,m):0}setInputValue(w,D){const m=this.options,g=this.chart.time,x=w==="min"?this.minInput:this.maxInput;if(w=w==="min"?this.minDateBox:this.maxDateBox,x){var P=x.getAttribute("data-hc-time");P=O(P)?Number(P):void 0,O(D)&&(O(P)&&x.setAttribute("data-hc-time-previous",P),x.setAttribute("data-hc-time",D),P=D),x.value=g.dateFormat(this.inputTypeFormats[x.type]||m.inputEditDateFormat,P),w&&w.attr({text:g.dateFormat(m.inputDateFormat,P)})}}setInputExtremes(w,D,m){if(w=w==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[w.type],x=this.chart.time;g&&(D=x.dateFormat(g,D),w.min!==D&&(w.min=D),m=x.dateFormat(g,m),w.max!==m&&(w.max=m))}}showInput(w){const D=w==="min"?this.minDateBox:this.maxDateBox;if((w=w==="min"?this.minInput:this.maxInput)&&D&&this.inputGroup){const m=w.type==="text",{translateX:g,translateY:x}=this.inputGroup,{inputBoxWidth:P}=this.options;W(w,{width:m?D.width+(P?-2:20)+"px":"auto",height:D.height-2+"px",border:"2px solid silver"}),m&&P?W(w,{left:g+D.x+"px",top:x+"px"}):W(w,{left:Math.min(Math.round(D.x+g-(w.offsetWidth-D.width)/2),this.chart.chartWidth-w.offsetWidth)+"px",top:x-(w.offsetHeight-D.height)/2+"px"})}}hideInput(w){(w=w==="min"?this.minInput:this.maxInput)&&W(w,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(w,D,m){var g=w.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),D)g+="Z";else{var x;(x=u.isSafari)&&(x=g,x=!(6<x.length&&(x.lastIndexOf("-")===x.length-6||x.lastIndexOf("+")===x.length-6))),x&&(x=new Date(g).getTimezoneOffset()/60,g+=0>=x?`+${E(-x)}:00`:`-${E(x)}:00`)}return g=Date.parse(g),A(g)||(w=w.split("-"),g=Date.UTC(ee(w[0]),ee(w[1])-1,ee(w[2]))),m&&D&&A(g)&&(g+=m.getTimezoneOffset(g)),g}drawInput(w){function D(){const{maxInput:Q,minInput:se}=P,de=m.xAxis[0];var Ce=m.scroller&&m.scroller.xAxis?m.scroller.xAxis:de;const ne=Ce.dataMin;Ce=Ce.dataMax;let ve=P.getInputValue(w);ve!==Number(fe.getAttribute("data-hc-time-previous"))&&A(ve)&&(fe.setAttribute("data-hc-time-previous",ve),le&&Q&&A(ne)?ve>Number(Q.getAttribute("data-hc-time"))?ve=void 0:ve<ne&&(ve=ne):se&&A(Ce)&&(ve<Number(se.getAttribute("data-hc-time"))?ve=void 0:ve>Ce&&(ve=Ce)),typeof ve<"u"&&de.setExtremes(le?ve:de.min,le?de.max:ve,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:m,div:g,inputGroup:x}=this,P=this,X=m.renderer.style||{};var Y=m.renderer;const K=m.options.rangeSelector,le=w==="min";var pe=J.lang[le?"rangeSelectorFrom":"rangeSelectorTo"]||"";pe=Y.label(pe,0).addClass("highcharts-range-label").attr({padding:pe?2:0,height:pe?K.inputBoxHeight:0}).add(x),Y=Y.label("",0).addClass("highcharts-range-input").attr({padding:2,width:K.inputBoxWidth,height:K.inputBoxHeight,"text-align":"center"}).on("click",function(){P.showInput(w),P[w+"Input"].focus()}),m.styledMode||Y.attr({stroke:K.inputBoxBorderColor,"stroke-width":1}),Y.add(x);const fe=B("input",{name:w,className:"highcharts-range-selector"},void 0,g);fe.setAttribute("type",I(K.inputDateFormat||"%e %b %Y")),m.styledMode||(pe.css(H(X,K.labelStyle)),Y.css(H({color:"#333333"},X,K.inputStyle)),W(fe,k({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:X.fontSize,fontFamily:X.fontFamily,top:"-9999em"},K.inputStyle))),fe.onfocus=()=>{P.showInput(w)},fe.onblur=()=>{fe===u.doc.activeElement&&D(),P.hideInput(w),P.setInputValue(w),fe.blur()};let z=!1;return fe.onchange=()=>{z||(D(),P.hideInput(w),fe.blur())},fe.onkeypress=Q=>{Q.keyCode===13&&D()},fe.onkeydown=Q=>{z=!0,Q.keyCode!==38&&Q.keyCode!==40||D()},fe.onkeyup=()=>{z=!1},{dateBox:Y,input:fe,label:pe}}getPosition(){var w=this.chart;const D=w.options.rangeSelector;return w=D.verticalAlign==="top"?w.plotTop-w.axisOffset[0]:0,{buttonTop:w+D.buttonPosition.y,inputTop:w+D.inputPosition.y-10}}getYTDExtremes(w,D,m){const g=this.chart.time;var x=new g.Date(w);const P=g.get("FullYear",x);return m=m?g.Date.UTC(P,0,1):+new g.Date(P,0,1),D=Math.max(D,m),x=x.getTime(),{max:Math.min(w||x,x),min:D}}render(w,D){var m=this.chart,g=m.renderer;const x=m.container;var P=m.options;const X=P.rangeSelector,Y=ie(P.chart.style&&P.chart.style.zIndex,0)+1;if(P=X.inputEnabled,X.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=B("div",void 0,{position:"relative",height:0,zIndex:Y}),this.buttonOptions.length&&this.renderButtons(),x.parentNode&&x.parentNode.insertBefore(this.div,x),P&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),P&&(this.setInputValue("min",w),this.setInputValue("max",D),w=m.scroller&&m.scroller.getUnionExtremes()||m.xAxis[0]||{},O(w.dataMin)&&O(w.dataMax)&&(m=m.xAxis[0].minRange||0,this.setInputExtremes("min",w.dataMin,Math.min(w.dataMax,this.getInputValue("max"))-m),this.setInputExtremes("max",Math.max(w.dataMin,this.getInputValue("min"))+m,w.dataMax)),this.inputGroup)){let K=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(le=>{if(le){const{width:pe}=le.getBBox();pe&&(le.attr({x:K}),K+=pe+X.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:w,chart:D,options:m}=this,g=J.lang,x=D.renderer,P=H(m.buttonTheme),X=P&&P.states,Y=P.width||28;delete P.width,delete P.states,this.buttonGroup=x.g("range-selector-buttons").add(this.group);const K=this.dropdown=B("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);M(K,"touchstart",()=>{K.style.fontSize="16px"}),[[u.isMS?"mouseover":"mouseenter"],[u.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([le,pe])=>{M(K,le,()=>{const fe=w[this.currentButtonIndex()];fe&&S(fe.element,pe||le)})}),this.zoomText=x.label(g&&g.rangeSelectorZoom||"",0).attr({padding:m.buttonTheme.padding,height:m.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(m.labelStyle),P["stroke-width"]=ie(P["stroke-width"],0)),B("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,K),this.buttonOptions.forEach((le,pe)=>{B("option",{textContent:le.title||le.text},void 0,K),w[pe]=x.button(le.text,0,0,fe=>{const z=le.events&&le.events.click;let Q;z&&(Q=z.call(le,fe)),Q!==!1&&this.clickButton(pe),this.isActive=!0},P,X&&X.hover,X&&X.select,X&&X.disabled).attr({"text-align":"center",width:Y}).add(this.buttonGroup),le.title&&w[pe].attr("title",le.title)})}alignElements(){const{buttonGroup:w,buttons:D,chart:m,group:g,inputGroup:x,options:P,zoomText:X}=this;var Y=m.options;const K=Y.exporting&&Y.exporting.enabled!==!1&&Y.navigation&&Y.navigation.buttonOptions,{buttonPosition:le,inputPosition:pe,verticalAlign:fe}=P;Y=(de,Ce)=>K&&this.titleCollision(m)&&fe==="top"&&Ce.align==="right"&&Ce.y-de.getBBox().height-12<(K.y||0)+(K.height||0)+m.spacing[0]?-40:0;var z=m.plotLeft;if(g&&le&&pe){var Q=le.x-m.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){let ve=0;X&&(ve+=X.getBBox().width+5),D.forEach((_e,oe)=>{ve+=_e.width,oe!==D.length-1&&(ve+=P.buttonSpacing)}),this.initialButtonGroupWidth=ve}z-=m.spacing[3],this.updateButtonStates();var se=Y(w,le);this.alignButtonGroup(se),g.placed=w.placed=m.hasLoaded}se=0,x&&(se=Y(x,pe),pe.align==="left"?Q=z:pe.align==="right"&&(Q=-Math.max(m.axisOffset[1],-se)),x.align({y:pe.y,width:x.getBBox().width,align:pe.align,x:pe.x+Q-2},!0,m.spacingBox),x.placed=m.hasLoaded),this.handleCollision(se),g.align({verticalAlign:fe},!0,m.spacingBox),Y=g.alignAttr.translateY,z=g.getBBox().height+20,Q=0,fe==="bottom"&&(Q=(Q=m.legend&&m.legend.options)&&Q.verticalAlign==="bottom"&&Q.enabled&&!Q.floating?m.legend.legendHeight+ie(Q.margin,10):0,z=z+Q-20,Q=Y-z-(P.floating?0:P.y)-(m.titleOffset?m.titleOffset[2]:0)-10),fe==="top"?(P.floating&&(Q=0),m.titleOffset&&m.titleOffset[0]&&(Q=m.titleOffset[0]),Q+=m.margin[0]-m.spacing[0]||0):fe==="middle"&&(pe.y===le.y?Q=Y:(pe.y||le.y)&&(Q=0>pe.y||0>le.y?Q-Math.min(pe.y,le.y):Y-z)),g.translate(P.x,P.y+Math.floor(Q));const{minInput:de,maxInput:Ce,dropdown:ne}=this;P.inputEnabled&&de&&Ce&&(de.style.marginTop=g.translateY+"px",Ce.style.marginTop=g.translateY+"px"),ne&&(ne.style.marginTop=g.translateY+"px")}}alignButtonGroup(w,D){const{chart:m,options:g,buttonGroup:x}=this,{buttonPosition:P}=g,X=m.plotLeft-m.spacing[3];let Y=P.x-m.spacing[3];P.align==="right"?Y+=w-X:P.align==="center"&&(Y-=X/2),x&&x.align({y:P.y,width:ie(D,this.initialButtonGroupWidth),align:P.align,x:Y},!0,m.spacingBox)}positionButtons(){const{buttons:w,chart:D,options:m,zoomText:g}=this,x=D.hasLoaded?"animate":"attr",{buttonPosition:P}=m,X=D.plotLeft;let Y=X;g&&g.visibility!=="hidden"&&(g[x]({x:ie(X+P.x,X)}),Y+=P.x+g.getBBox().width+5);for(let K=0,le=this.buttonOptions.length;K<le;++K)w[K].visibility!=="hidden"?(w[K][x]({x:Y}),Y+=w[K].width+m.buttonSpacing):w[K][x]({x:X})}handleCollision(w){const{chart:D,buttonGroup:m,inputGroup:g}=this,{buttonPosition:x,dropdown:P,inputPosition:X}=this.options,Y=()=>{let pe=0;return this.buttons.forEach(fe=>{fe=fe.getBBox(),fe.width>pe&&(pe=fe.width)}),pe},K=pe=>{if(g&&m){const fe=g.alignAttr.translateX+g.alignOptions.x-w+g.getBBox().x+2,z=g.alignOptions.width,Q=m.alignAttr.translateX+m.getBBox().x;return Q+pe>fe&&fe+z>Q&&x.y<X.y+g.getBBox().height}return!1},le=()=>{g&&m&&g.attr({translateX:g.alignAttr.translateX+(D.axisOffset[1]>=-w?0:-w),translateY:g.alignAttr.translateY+m.getBBox().height+10})};if(m){if(P==="always"){this.collapseButtons(w),K(Y())&&le();return}P==="never"&&this.expandButtons()}g&&m?X.align===x.align||K(this.initialButtonGroupWidth+20)?P==="responsive"?(this.collapseButtons(w),K(Y())&&le()):le():P==="responsive"&&this.expandButtons():m&&P==="responsive"&&(this.initialButtonGroupWidth>D.plotWidth?this.collapseButtons(w):this.expandButtons())}collapseButtons(w){const{buttons:D,buttonOptions:m,chart:g,dropdown:x,options:P,zoomText:X}=this,Y=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},K=fe=>({text:fe?`${fe} ▾`:"▾",width:"auto",paddingLeft:ie(P.buttonTheme.paddingLeft,Y.padding,8),paddingRight:ie(P.buttonTheme.paddingRight,Y.padding,8)});X&&X.hide();let le=!1;m.forEach((fe,z)=>{z=D[z],z.state!==2?z.hide():(z.show(),z.attr(K(fe.text)),le=!0)}),le||(x&&(x.selectedIndex=0),D[0].show(),D[0].attr(K(this.zoomText&&this.zoomText.textStr)));const{align:pe}=P.buttonPosition;this.positionButtons(),pe!=="right"&&pe!=="center"||this.alignButtonGroup(w,D[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:w,buttonOptions:D,options:m,zoomText:g}=this;this.hideDropdown(),g&&g.show(),D.forEach((x,P)=>{P=w[P],P.show(),P.attr({text:x.text,width:m.buttonTheme.width||28,paddingLeft:ie(m.buttonTheme.paddingLeft,"unset"),paddingRight:ie(m.buttonTheme.paddingRight,"unset")}),2>P.state&&P.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:w}=this;return w&&0<w.selectedIndex?w.selectedIndex-1:0}showDropdown(){const{buttonGroup:w,buttons:D,chart:m,dropdown:g}=this;if(w&&g){const{translateX:x,translateY:P}=w,X=D[this.currentButtonIndex()].getBBox();W(g,{left:m.plotLeft+x+"px",top:P+.5+"px",width:X.width+"px",height:X.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:w}=this;w&&(W(w,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var w=this.options,D=this.group;const m=w.y,g=w.buttonPosition.y,x=w.inputPosition.y;return w.height?w.height:(this.alignElements(),w=D?D.getBBox(!0).height+13+m:0,D=Math.min(x,g),(0>x&&0>g||0<x&&0<g)&&(w+=Math.abs(D)),w)}titleCollision(w){return!(w.options.title.text||w.options.subtitle.text)}update(w){const D=this.chart;H(!0,D.options.rangeSelector,w),this.destroy(),this.init(D),this.render()}destroy(){const w=this,D=w.minInput,m=w.maxInput;w.eventsToUnbind&&(w.eventsToUnbind.forEach(g=>g()),w.eventsToUnbind=void 0),L(w.buttons),D&&(D.onfocus=D.onblur=D.onchange=null),m&&(m.onfocus=m.onblur=m.onchange=null),U(w,function(g,x){g&&x!=="chart"&&(g instanceof s?g.destroy():g instanceof window.HTMLElement&&G(g)),g!==V.prototype[x]&&(w[x]=null)},this)}}return k(V.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),V}),i(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v){const{unhideChartElementFromAT:I,getAxisRangeDescription:J}=u,{addEvent:M,attr:B}=v;class W extends o{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new h(this.chart,"polite")}onChartUpdate(){const L=this.chart,G=this,k=L.rangeSelector;k&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),k.buttons&&k.buttons.length&&k.buttons.forEach(S=>{G.setRangeButtonAttrs(S)}),k.maxInput&&k.minInput&&["minInput","maxInput"].forEach(function(S,A){(S=k[S])&&(I(L,S),G.setRangeInputAttrs(S,"accessibility.rangeSelector."+(A?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const L=this.chart,G=L.rangeSelector,k=G&&G.dropdown,S=G&&G.buttons||[];G&&G.hasVisibleDropdown&&k?(I(L,k),S.forEach(A=>A.element.setAttribute("aria-hidden",!0))):(k&&k.setAttribute("aria-hidden",!0),S.forEach(A=>I(L,A.element)))}setDropdownAttrs(){var L=this.chart;const G=L.rangeSelector&&L.rangeSelector.dropdown;G&&(L=L.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:L.options.lang.rangeSelectorZoom}),G.setAttribute("aria-label",L),G.setAttribute("tabindex",-1))}setRangeButtonAttrs(L){B(L.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(L,G){const k=this.chart;B(L,{tabindex:-1,"aria-label":k.langFormat(G,{chart:k})})}onButtonNavKbdArrowKey(L,G){const k=L.response,S=this.keyCodes,A=this.chart,H=A.options.accessibility.keyboardNavigation.wrapAround;return G=G===S.left||G===S.up?-1:1,A.highlightRangeSelectorButton(A.highlightedRangeSelectorItemIx+G)?k.success:H?(L.init(G),k.success):k[0<G?"next":"prev"]}onButtonNavKbdClick(L){L=L.response;const G=this.chart;return G.oldRangeSelectorItemState!==3&&this.fakeClickEvent(G.rangeSelector.buttons[G.highlightedRangeSelectorItemIx].element),L.success}onAfterBtnClick(){var L=this.chart;const G=J(L.xAxis[0]);(L=L.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:L,axisRangeDescription:G}))&&this.announcer.announce(L)}onInputKbdMove(L){const G=this.chart;var k=G.rangeSelector;const S=G.highlightedInputRangeIx=(G.highlightedInputRangeIx||0)+L;if(1<S||0>S){if(G.accessibility)return G.accessibility.keyboardNavigation.exiting=!0,G.accessibility.keyboardNavigation.tabindexContainer.focus(),G.accessibility.keyboardNavigation.move(L)}else k&&(L=k[S?"maxDateBox":"minDateBox"],k=k[S?"maxInput":"minInput"],L&&k&&G.setFocusToElement(L,k));return!0}onInputNavInit(L){const G=this;var k=this.chart;const S=0<L?0:1;var A=k.rangeSelector;const H=A&&A[S?"maxDateBox":"minDateBox"];if(L=A&&A.minInput,A=A&&A.maxInput,k.highlightedInputRangeIx=S,H&&L&&A){k.setFocusToElement(H,S?A:L),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),k=ie=>{(ie.which||ie.keyCode)===this.keyCodes.tab&&G.onInputKbdMove(ie.shiftKey?-1:1)&&(ie.preventDefault(),ie.stopPropagation())};const U=M(L,"keydown",k),E=M(A,"keydown",k);this.removeInputKeydownHandler=()=>{U(),E()}}}onInputNavTerminate(){const L=this.chart.rangeSelector||{};L.maxInput&&L.hideInput("max"),L.minInput&&L.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const L=this.chart,G=L.rangeSelector,k=G&&G.dropdown;G&&k&&(L.setFocusToElement(G.buttonGroup,k),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=M(k,"keydown",S=>{const A=L.accessibility;(S.which||S.keyCode)===this.keyCodes.tab&&(S.preventDefault(),S.stopPropagation(),A&&(A.keyboardNavigation.tabindexContainer.focus(),A.keyboardNavigation.move(S.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const L=this.chart,G=this.keyCodes,k=this;return new s(L,{keyCodeMap:[[[G.left,G.right,G.up,G.down],function(S){return k.onButtonNavKbdArrowKey(this,S)}],[[G.enter,G.space],function(){return k.onButtonNavKbdClick(this)}]],validate:function(){return!!(L.rangeSelector&&L.rangeSelector.buttons&&L.rangeSelector.buttons.length)},init:function(S){var A=L.rangeSelector;A&&A.hasVisibleDropdown?k.initDropdownNav():A&&(A=A.buttons.length-1,L.highlightRangeSelectorButton(0<S?0:A))},terminate:function(){k.removeDropdownKeydownHandler&&(k.removeDropdownKeydownHandler(),delete k.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const L=this.chart,G=this;return new s(L,{keyCodeMap:[],validate:function(){return!!(L.rangeSelector&&L.rangeSelector.inputGroup&&L.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&L.options.rangeSelector.inputEnabled!==!1&&L.rangeSelector.minInput&&L.rangeSelector.maxInput)},init:function(k){G.onInputNavInit(k)},terminate:function(){G.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(O){function L(S){const A=this.rangeSelector&&this.rangeSelector.buttons||[],H=this.highlightedRangeSelectorItemIx,U=this.rangeSelector&&this.rangeSelector.selected;return typeof H<"u"&&A[H]&&H!==U&&A[H].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=S,A[S]?(this.setFocusToElement(A[S].box,A[S].element),S!==U&&(this.oldRangeSelectorItemState=A[S].state,A[S].setState(1)),!0):!1}function G(){const S=this.chart.accessibility;if(S&&S.components.rangeSelector)return S.components.rangeSelector.onAfterBtnClick()}const k=[];O.compose=function(S,A){v.pushUnique(k,S)&&(S.prototype.highlightRangeSelectorButton=L),v.pushUnique(k,A)&&M(r,"afterBtnClick",G)}}(W||(W={})),W}),i(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(r){const{addEvent:o,merge:u}=r;var h;return function(s){function v(O){u(!0,O,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function I(O){return O.marker.states&&O.marker.states.normal&&O.marker.states.normal.opacity}function J(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(O=>{O.graphic&&(O.graphic[O.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),O.graphic[O.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function M(O){this.resetA11yMarkerOptions=u(O.options.marker||{},this.userOptions.marker||{})}function B(){var O=this.options,L=(this.options.accessibility&&this.options.accessibility.enabled)!==!1;if((L=this.chart.options.accessibility.enabled&&L)&&(L=this.chart.options.accessibility,L=this.points.length<L.series.pointDescriptionEnabledThreshold||L.series.pointDescriptionEnabledThreshold===!1),L){if(O.marker&&O.marker.enabled===!1&&(this.a11yMarkersForced=!0,v(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(O=this.points.length;O--;){L=this.points[O];const k=L.options;var G=L.hasForcedA11yMarker;delete L.hasForcedA11yMarker,k.marker&&(G=G&&I(k)===0,k.marker.enabled&&!G?(u(!0,k.marker,{states:{normal:{opacity:I(k)||1}}}),L.hasForcedA11yMarker=!1):k.marker.enabled===!1&&(v(k),L.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(O=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:O.enabled,states:{normal:{opacity:O.states&&O.states.normal&&O.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const W=[];s.compose=function(O){r.pushUnique(W,O)&&(o(O,"afterSetOptions",M),o(O,"render",B),o(O,"afterRender",J))}}(h||(h={})),h}),i(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(r,o,u,h,s,v,I,J){function M($){const V=$.index,j=$.series.points;let w=j.length;if(j[V]!==$){for(;w--;)if(j[w]===$)return w}else return V}function B($){const V=$.chart.options.accessibility.keyboardNavigation.seriesNavigation,j=$.options.accessibility||{},w=j.keyboardNavigation;return w&&w.enabled===!1||j.enabled===!1||$.options.enableMouseTracking===!1||!$.visible||V.pointNavigationEnabledThreshold&&V.pointNavigationEnabledThreshold<=$.points.length}function W($){const V=$.series.chart.options.accessibility,j=$.options.accessibility&&$.options.accessibility.enabled===!1;return $.isNull&&V.keyboardNavigation.seriesNavigation.skipNullPoints||$.visible===!1||$.isInside===!1||j||B($.series)}function O($){$=$.series||[];const V=$.length;for(let w=0;w<V;++w)if(!B($[w])){e:{var j=$[w].points||[];const D=j.length;for(let m=0;m<D;++m)if(!W(j[m])){j=j[m];break e}j=null}if(j)return j}return null}function L($){let V=$.series.length,j=!1;for(;V--&&($.highlightedPoint=$.series[V].points[$.series[V].points.length-1],!(j=$.series[V].highlightNextValidPoint())););return j}function G($){return delete $.highlightedPoint,($=O($))?$.highlight():!1}const{seriesTypes:k}=u,{doc:S}=h,{defined:A,fireEvent:H}=s,{getPointFromXY:U,getSeriesFromName:E,scrollToPoint:ie}=J;class ee{constructor(V,j){this.keyCodes=j,this.chart=V}init(){const V=this,j=this.chart,w=this.eventProvider=new I;w.addEvent(o,"destroy",function(){return V.onSeriesDestroy(this)}),w.addEvent(j,"afterApplyDrilldown",function(){{const D=O(this);D&&D.highlight(!1)}}),w.addEvent(j,"drilldown",function(D){D=D.point;const m=D.series;V.lastDrilledDownPoint={x:D.x,y:D.y,seriesName:m?m.name:""}}),w.addEvent(j,"drillupall",function(){setTimeout(function(){V.onDrillupAll()},10)}),w.addEvent(r,"afterSetState",function(){const D=this.graphic&&this.graphic.element,m=S.activeElement;var g=m&&m.getAttribute("class");g=g&&-1<g.indexOf("highcharts-a11y-proxy-button"),j.highlightedPoint===this&&m!==D&&!g&&D&&D.focus&&D.focus()})}onDrillupAll(){const V=this.lastDrilledDownPoint,j=this.chart,w=V&&E(j,V.seriesName);let D;V&&w&&A(V.x)&&A(V.y)&&(D=U(w,V.x,V.y)),D=D||O(j),j.container&&j.container.focus(),D&&D.highlight&&D.highlight(!1)}getKeyboardNavigationHandler(){const V=this,j=this.keyCodes,w=this.chart,D=w.inverted;return new v(w,{keyCodeMap:[[D?[j.up,j.down]:[j.left,j.right],function(m){return V.onKbdSideways(this,m)}],[D?[j.left,j.right]:[j.up,j.down],function(m){return V.onKbdVertical(this,m)}],[[j.enter,j.space],function(m,g){return(m=w.highlightedPoint)&&(g.point=m,H(m.series,"click",g),m.firePointEvent("click")),this.response.success}],[[j.home],function(){return G(w),this.response.success}],[[j.end],function(){return L(w),this.response.success}],[[j.pageDown,j.pageUp],function(m){return w.highlightAdjacentSeries(m===j.pageDown),this.response.success}]],init:function(){return V.onHandlerInit(this)},validate:function(){return!!O(w)},terminate:function(){return V.onHandlerTerminate()}})}onKbdSideways(V,j){const w=this.keyCodes;return this.attemptHighlightAdjacentPoint(V,j===w.right||j===w.down)}onHandlerInit(V){const j=this.chart;return j.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&j.highlightedPoint?j.highlightedPoint.highlight():G(j),V.response.success}onKbdVertical(V,j){const w=this.chart;var D=this.keyCodes;return j=j===D.down||j===D.right,D=w.options.accessibility.keyboardNavigation.seriesNavigation,D.mode&&D.mode==="serialize"?this.attemptHighlightAdjacentPoint(V,j):(w[w.highlightedPoint&&w.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](j),V.response.success)}onHandlerTerminate(){const V=this.chart,j=V.options.accessibility.keyboardNavigation;V.tooltip&&V.tooltip.hide(0);const w=V.highlightedPoint&&V.highlightedPoint.series;w&&w.onMouseOut&&w.onMouseOut(),V.highlightedPoint&&V.highlightedPoint.onMouseOut&&V.highlightedPoint.onMouseOut(),j.seriesNavigation.rememberPointFocus||delete V.highlightedPoint}attemptHighlightAdjacentPoint(V,j){const w=this.chart,D=w.options.accessibility.keyboardNavigation.wrapAround;return w.highlightAdjacentPoint(j)||D&&(j?G(w):L(w))?V.response.success:V.response[j?"next":"prev"]}onSeriesDestroy(V){const j=this.chart;j.highlightedPoint&&j.highlightedPoint.series===V&&(delete j.highlightedPoint,j.focusElement&&j.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function($){function V(P){var X=this.series;const Y=this.highlightedPoint;var K=Y&&M(Y)||0;const le=Y&&Y.series.points||[];var pe=this.series&&this.series[this.series.length-1];if(pe=pe&&pe.points&&pe.points[pe.points.length-1],!X[0]||!X[0].points)return!1;if(Y){if(X=X[Y.series.index+(P?1:-1)],K=le[K+(P?1:-1)],!K&&X&&(K=X.points[P?0:X.points.length-1]),!K)return!1}else K=P?X[0].points[0]:pe;return W(K)?(X=K.series,B(X)?this.highlightedPoint=P?X.points[X.points.length-1]:X.points[0]:this.highlightedPoint=K,this.highlightAdjacentPoint(P)):K.highlight()}function j(P){const X=this.highlightedPoint;let Y=1/0,K;return!A(X.plotX)||!A(X.plotY)?!1:(this.series.forEach(le=>{B(le)||le.points.forEach(pe=>{if(A(pe.plotY)&&A(pe.plotX)&&pe!==X){var fe=pe.plotY-X.plotY,z=Math.abs(pe.plotX-X.plotX);z=Math.abs(fe)*Math.abs(fe)+z*z*4,le.yAxis&&le.yAxis.reversed&&(fe*=-1),!(0>=fe&&P||0<=fe&&!P||5>z||W(pe))&&z<Y&&(Y=z,K=pe)}})}),K?K.highlight():!1)}function w(P){const X=this.highlightedPoint;var Y=this.series&&this.series[this.series.length-1],K=Y&&Y.points&&Y.points[Y.points.length-1];return this.highlightedPoint?(Y=this.series[X.series.index+(P?-1:1)],!Y||(K=D(X,Y,4),!K)?!1:B(Y)?(K.highlight(),P=this.highlightAdjacentSeries(P),P||(X.highlight(),!1)):(K.highlight(),K.series.highlightNextValidPoint())):(Y=P?this.series&&this.series[0]:Y,(K=P?Y&&Y.points&&Y.points[0]:K)?K.highlight():!1)}function D(P,X,Y,K){let le=1/0,pe,fe=X.points.length;const z=se=>!(A(se.plotX)&&A(se.plotY));if(!z(P)){for(;fe--;){var Q=X.points[fe];z(Q)||(Q=(P.plotX-Q.plotX)*(P.plotX-Q.plotX)*(Y||1)+(P.plotY-Q.plotY)*(P.plotY-Q.plotY)*(K||1),Q<le&&(le=Q,pe=fe))}return A(pe)?X.points[pe]:void 0}}function m(P=!0){const X=this.series.chart;return!this.isNull&&P?this.onMouseOver():X.tooltip&&X.tooltip.hide(0),ie(this),this.graphic&&(X.setFocusToElement(this.graphic),!P&&X.focusElement&&X.focusElement.removeFocusBorder()),X.highlightedPoint=this,this}function g(){var P=this.chart.highlightedPoint,X=(P&&P.series)===this?M(P):0;P=this.points;const Y=P.length;if(P&&Y){for(let K=X;K<Y;++K)if(!W(P[K]))return P[K].highlight();for(;0<=X;--X)if(!W(P[X]))return P[X].highlight()}return!1}const x=[];$.compose=function(P,X,Y){s.pushUnique(x,P)&&(P=P.prototype,P.highlightAdjacentPoint=V,P.highlightAdjacentPointVertical=j,P.highlightAdjacentSeries=w),s.pushUnique(x,X)&&(X.prototype.highlight=m),s.pushUnique(x,Y)&&(X=Y.prototype,X.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(K=>{k[K]&&(k[K].prototype.keyboardMoveVertical=!1)}),X.highlightNextValidPoint=g)}}(ee||(ee={})),ee}),i(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(r,o,u,h,s,v){const{hideSeriesFromAT:I}=o,{describeSeries:J}=s;class M extends r{static compose(W,O,L){h.compose(L),u.compose(L),v.compose(W,O,L)}init(){this.newDataAnnouncer=new h(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new v(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const W=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===W.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(W){W.labelBySeries&&W.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(W){(W.options.accessibility&&W.options.accessibility.enabled)!==!1&&W.visible?J(W):I(W)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return M}),i(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,o,u,h,s){const{unhideChartElementFromAT:v}=o,{getFakeMouseEvent:I}=u,{attr:J,pick:M}=s;class B extends r{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const O=this,L=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(G=>{O.addEvent(L,G,function(){O.updateProxyOverlays()})})}onChartUpdate(){const O=this.chart,L=this;O.mapNavigation&&O.mapNavigation.navButtons.forEach((G,k)=>{v(O,G.element),L.setMapNavButtonAttrs(G.element,"accessibility.zoom.mapZoom"+(k?"Out":"In"))})}setMapNavButtonAttrs(O,L){const G=this.chart;L=G.langFormat(L,{chart:G}),J(O,{tabindex:-1,role:"button","aria-label":L})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const O=this.chart;this.proxyProvider.clearGroup("zoom"),O.resetZoomButton&&this.createZoomProxyButton(O.resetZoomButton,"resetZoomProxyButton",O.langFormat("accessibility.zoom.resetZoomButton",{chart:O})),O.drillUpButton&&O.breadcrumbs&&O.breadcrumbs.list&&this.createZoomProxyButton(O.drillUpButton,"drillUpProxyButton",O.langFormat("accessibility.drillUpButton",{chart:O,buttonText:O.breadcrumbs.getButtonText(O.breadcrumbs.list[O.breadcrumbs.list.length-1])}))}createZoomProxyButton(O,L,G){this[L]=this.proxyProvider.addProxyElement("zoom",{click:O},{"aria-label":G,tabindex:-1})}getMapZoomNavigation(){const O=this.keyCodes,L=this.chart,G=this;return new h(L,{keyCodeMap:[[[O.up,O.down,O.left,O.right],function(k){return G.onMapKbdArrow(this,k)}],[[O.tab],function(k,S){return G.onMapKbdTab(this,S)}],[[O.space,O.enter],function(){return G.onMapKbdClick(this)}]],validate:function(){return!!(L.mapView&&L.mapNavigation&&L.mapNavigation.navButtons.length)},init:function(k){return G.onMapNavInit(k)}})}onMapKbdArrow(O,L){var G=this.chart,k=this.keyCodes;const S=G.container;var A=L===k.up||L===k.down;return L=(A?G.plotHeight:G.plotWidth)/10*(L===k.left||L===k.up?1:-1),k=10*Math.random(),G={x:S.offsetLeft+G.plotLeft+G.plotWidth/2+k,y:S.offsetTop+G.plotTop+G.plotHeight/2+k},A=A?{x:G.x,y:G.y+L}:{x:G.x+L,y:G.y},[I("mousedown",G),I("mousemove",A),I("mouseup",A)].forEach(H=>S.dispatchEvent(H)),O.response.success}onMapKbdTab(O,L){const G=this.chart;O=O.response;const k=(L=L.shiftKey)&&!this.focusedMapNavButtonIx||!L&&this.focusedMapNavButtonIx;return G.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),k?(G.mapView&&G.mapView.zoomBy(),O[L?"prev":"next"]):(this.focusedMapNavButtonIx+=L?-1:1,L=G.mapNavigation.navButtons[this.focusedMapNavButtonIx],G.setFocusToElement(L.box,L.element),L.setState(2),O.success)}onMapKbdClick(O){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),O.response.success}onMapNavInit(O){const L=this.chart;var G=L.mapNavigation.navButtons[0];const k=L.mapNavigation.navButtons[1];G=0<O?G:k,L.setFocusToElement(G.box,G.element),G.setState(2),this.focusedMapNavButtonIx=0<O?0:1}simpleButtonNavigation(O,L,G){const k=this.keyCodes,S=this,A=this.chart;return new h(A,{keyCodeMap:[[[k.tab,k.up,k.down,k.left,k.right],function(H,U){return this.response[H===k.tab&&U.shiftKey||H===k.left||H===k.up?"prev":"next"]}],[[k.space,k.enter],function(){const H=G(this,A);return M(H,this.response.success)}]],validate:function(){return A[O]&&A[O].box&&S[L].buttonElement},init:function(){A.setFocusToElement(A[O].box,S[L].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(O,L){L.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(O,L){return L.drillUp(),O.response.prev}),this.getMapZoomNavigation()]}}return B}),i(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(r){const{doc:o,isMS:u,win:h}=r;return{isHighContrastModeActive:function(){var s=/(Edg)/.test(h.navigator.userAgent);if(h.matchMedia&&s)return h.matchMedia("(-ms-high-contrast: active)").matches;if(u&&h.getComputedStyle){s=o.createElement("div"),s.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",o.body.appendChild(s);const v=(s.currentStyle||h.getComputedStyle(s)).backgroundImage;return o.body.removeChild(s),v==="none"}return h.matchMedia&&h.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(s){s.highContrastModeActive=!0;const v=s.options.accessibility.highContrastTheme;s.update(v,!1),s.series.forEach(function(I){const J=v.plotOptions[I.type]||{};I.update({color:J.color||"windowText",colors:[J.color||"windowText"],borderColor:J.borderColor||"window"}),I.points.forEach(function(M){M.options&&M.options.color&&M.update({color:J.color||"windowText",borderColor:J.borderColor||"window"},!1)})}),s.redraw()}}}),i(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),i(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),i(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),i(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(r){function o(M,B,W){let O,L=0;for(;L<B.length-1;++L)O=B[L],M=M[O]=J(M[O],{});M[B[B.length-1]]=W}function u(M,B,W,O){function L(S,A){return A.reduce(function(H,U){return H[U]},S)}const G=L(M.options,B),k=L(M.options,W);Object.keys(O).forEach(function(S){const A=G[S];typeof A<"u"&&(o(k,O[S],A),I(32,!1,M,{[B.join(".")+"."+S]:W.join(".")+"."+O[S].join(".")}))})}function h(M){const B=M.options.chart,W=M.options.accessibility||{};["description","typeDescription"].forEach(function(O){B[O]&&(W[O]=B[O],I(32,!1,M,{[`chart.${O}`]:`use accessibility.${O}`}))})}function s(M){M.axes.forEach(function(B){(B=B.options)&&B.description&&(B.accessibility=B.accessibility||{},B.accessibility.description=B.description,I(32,!1,M,{"axis.description":"use axis.accessibility.description"}))})}function v(M){const B={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};M.series.forEach(function(W){Object.keys(B).forEach(function(O){let L=W.options[O];O==="accessibility.pointDescriptionFormatter"&&(L=W.options.accessibility&&W.options.accessibility.pointDescriptionFormatter),typeof L<"u"&&(o(W.options,B[O],O==="skipKeyboardNavigation"?!L:L),I(32,!1,M,{[`series.${O}`]:"series."+B[O].join(".")}))})})}const{error:I,pick:J}=r;return function(M){h(M),s(M),M.series&&v(M),u(M,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),u(M,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),u(M,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),i(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(r,o,u,h,s,v,I,J,M,B,W,O,L,G,k,S,A,H,U,E,ie){({defaultOptions:r}=r);const{doc:ee}=o,{addEvent:$,extend:V,fireEvent:j,merge:w}=u,{removeElement:D}=h;class m{constructor(x){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(x)}init(x){this.chart=x,ee.addEventListener?(ie(x),this.proxyProvider=new L(this.chart),this.initComponents(),this.keyboardNavigation=new M(x,this.components)):(this.zombie=!0,this.components={},x.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const x=this.chart,P=this.proxyProvider,X=x.options.accessibility;this.components={container:new v,infoRegions:new J,legend:new B,chartMenu:new W,rangeSelector:new G,series:new k,zoom:new S},X.customComponents&&V(this.components,X.customComponents);const Y=this.components;this.getComponentOrder().forEach(function(K){Y[K].initBase(x,P),Y[K].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const x=Object.keys(this.components).filter(P=>P!=="series");return["series"].concat(x)}update(){const x=this.components,P=this.chart;var X=P.options.accessibility;j(P,"beforeA11yUpdate"),P.types=this.getChartTypes(),X=X.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(X),this.getComponentOrder().forEach(function(Y){x[Y].onChartUpdate(),j(P,"afterA11yComponentUpdate",{name:Y,component:x[Y]})}),this.keyboardNavigation.update(X),!P.highContrastModeActive&&A.isHighContrastModeActive()&&A.setHighContrastTheme(P),j(P,"afterA11yUpdate",{accessibility:this})}destroy(){const x=this.chart||{},P=this.components;Object.keys(P).forEach(function(X){P[X].destroy(),P[X].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),x.announcerContainer&&D(x.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),x.renderTo&&x.renderTo.setAttribute("aria-hidden",!0),x.focusElement&&x.focusElement.removeFocusBorder()}getChartTypes(){const x={};return this.chart.series.forEach(function(P){x[P.type]=1}),Object.keys(x)}}return function(g){function x(){this.accessibility&&this.accessibility.destroy()}function P(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const pe=this.accessibility;pe&&!pe.zombie&&(pe.proxyProvider.updateProxyElementPositions(),pe.getComponentOrder().forEach(function(fe){pe.components[fe].onChartRender()}))}function X(pe){(pe=pe.options.accessibility)&&(pe.customComponents&&(this.options.accessibility.customComponents=pe.customComponents,delete pe.customComponents),w(!0,this.options.accessibility,pe),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function Y(){let pe=this.accessibility;const fe=this.options.accessibility;fe&&fe.enabled?pe&&!pe.zombie?pe.update():(this.accessibility=pe=new g(this),!pe.zombie&&pe.update()):pe?(pe.destroy&&pe.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function K(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const le=[];g.i18nFormat=s.i18nFormat,g.compose=function(pe,fe,z,Q,se,de){M.compose(pe),O.compose(Q),B.compose(pe,fe),W.compose(pe),k.compose(pe,z,Q),s.compose(pe),I.compose(pe,se),de&&G.compose(pe,de),u.pushUnique(le,pe)&&(pe.prototype.updateA11yEnabled=Y,$(pe,"destroy",x),$(pe,"render",P),$(pe,"update",X),["addSeries","init"].forEach(Ce=>{$(pe,Ce,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(Ce=>{$(pe,Ce,function(){const ne=this.accessibility;ne&&!ne.zombie&&ne.update()})})),u.pushUnique(le,z)&&$(z,"update",K),u.pushUnique(le,Q)&&["update","updatedData","remove"].forEach(Ce=>{$(Q,Ce,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(m||(m={})),w(!0,r,U,{accessibility:{highContrastTheme:H},lang:E}),m}),i(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,o,u,h,s,v,I){r.i18nFormat=o.i18nFormat,r.A11yChartUtilities=h,r.A11yHTMLUtilities=s,r.AccessibilityComponent=u,r.KeyboardNavigationHandler=v,r.SeriesAccessibilityDescriber=I,o.compose(r.Chart,r.Legend,r.Point,r.Series,r.SVGElement,r.RangeSelector)})})})(qP);var mJ=qP.exports;const YC=rd(mJ);YC(yc);const gJ={name:"spline",components:{Chart:cm.Chart},data(){return{chartOptions:{chart:{type:"spline",scrollablePlotArea:{minWidth:600,scrollPositionX:1}},title:{text:"Wind speed during two days",align:"left"},subtitle:{text:"13th & 14th of June, 2022 at two locations in Vik i Sogn, Norway",align:"left"},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{title:{text:"Wind speed (m/s)"},minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:.3,to:1.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Light air",style:{color:"#606060"}}},{from:1.5,to:3.3,color:"rgba(0, 0, 0, 0)",label:{text:"Light breeze",style:{color:"#606060"}}},{from:3.3,to:5.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Gentle breeze",style:{color:"#606060"}}},{from:5.5,to:8,color:"rgba(0, 0, 0, 0)",label:{text:"Moderate breeze",style:{color:"#606060"}}},{from:8,to:11,color:"rgba(68, 170, 213, 0.1)",label:{text:"Fresh breeze",style:{color:"#606060"}}},{from:11,to:14,color:"rgba(0, 0, 0, 0)",label:{text:"Strong breeze",style:{color:"#606060"}}},{from:14,to:15,color:"rgba(68, 170, 213, 0.1)",label:{text:"High wind",style:{color:"#606060"}}}]},tooltip:{valueSuffix:" m/s"},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1},pointInterval:36e5,pointStart:Date.UTC(2022,5,13,0,0,0)}},series:[{name:"Hestavollane",data:[4.5,5.1,4.4,3.7,4.2,3.7,4.3,4,5,4.9,4.8,4.6,3.9,3.8,2.7,3.1,2.6,3.3,3.8,4.1,1,1.9,3.2,3.8,4.2]},{name:"Vik",data:[.1,.1,.1,.2,.4,.4,.3,.4,.1,0,.2,.3,0,0,0,0,0,.1,.1,.1,0,.1,0,0,0]}],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function yJ(e,t,i,r,o,u){const h=dr("Chart");return pt(),mr(h,{options:o.chartOptions,constructorType:"stockChart"},null,8,["options"])}const _J=Pr(gJ,[["render",yJ]]);WP(yc);const vJ={components:{highcharts:cm.Chart},props:{min:{type:Number,default:0},max:{type:Number,default:32},value:{type:Number,default:0},title:String},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:this.min,max:this.max,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:this.title,y:150},plotBands:[{from:0,to:this.max/8,color:"#576D7E",thickness:40},{from:this.max/8,to:this.max/8*2,color:"#34485C",thickness:40},{from:this.max/8*2,to:this.max/8*3,color:"#60C5B8",thickness:40},{from:this.max/8*3,to:this.max/8*4,color:"#25B39E",thickness:40},{from:this.max/8*4,to:this.max/8*5,color:"#FCD062",thickness:40},{from:this.max/8*5,to:this.max/8*6,color:"#F8B84E",thickness:40},{from:this.max/8*6,to:this.max/8*7,color:"#F17F53",thickness:40},{from:this.max/8*7,to:this.max/8*8,color:"#F05542",thickness:40}]}],series:[{name:this.title,data:[this.value],tooltip:{valueSuffix:" "}}]}}},methods:{},watch:{value:function(e,t){this.options.series[0].data=[e]}}};function xJ(e,t,i,r,o,u){const h=dr("highcharts");return pt(),St("div",null,[sn(h,{options:o.options},null,8,["options"])])}const bJ=Pr(vJ,[["render",xJ]]),wJ={props:{value:Number,title:String},components:{highcharts:cm.Chart},watch:{value:function(e,t){this.options.series[0].data=[e]}},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:0,endAngle:360,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{title:{text:this.title},min:1,max:360,lineColor:"#333",offset:-20,tickInterval:30,labels:{step:1,distance:5,rotation:"auto"}}],series:[{name:this.title,yAxis:0,data:[this.value],dial:{radius:"88%",baseWidth:10,baseLength:"0%",rearLength:0,borderWidth:1,borderColor:"#9A0000",backgroundColor:"#CC0000"},tooltip:{valueSuffix:"°"}}]}}}};function TJ(e,t,i,r,o,u){const h=dr("highcharts");return pt(),St("div",null,[sn(h,{options:o.options},null,8,["options"])])}const XP=Pr(wJ,[["render",TJ]]),SJ={props:{url:String,fleet:Object},components:{SpeedoMeter:bJ,Compass:XP},methods:{scaleBeafort(e){let t="";return e<=1?t="Calm":e>1&&e<3.9?t="Light Air":e>4&&e<6.9?t="Light Breeze":e>7&&e<10.9?t="Gentle breeze":e>11&&e<16.9?t="Moderate breeze":e>17&&e<21.9?t="Fresh breeze":e>22&&e<27.9?t="Strong breeze":e>28&&e<33.9?t="High wind":e>34&&e<40.9?t="Gale":e>41&&e<47.9?t="Strong/severe gale":e>48&&e<55.9?t="Storm":e>56&&e<63.9?t="Violent storm":t="Hurricane force",t}}},CJ={class:"row"},EJ={class:"col-3"},MJ={class:"col-3"},kJ={class:"col-3"},AJ={class:"col-3"};function PJ(e,t,i,r,o,u){const h=dr("speedo-meter"),s=dr("compass");return pt(),St("div",CJ,[je("div",EJ,[sn(h,{value:i.fleet.navigation.sog,max:32,title:"Speed (knot)"},null,8,["value"])]),je("div",MJ,[sn(s,{value:i.fleet.navigation.cog,title:"Course (°)"},null,8,["value"])]),je("div",kJ,[sn(h,{value:i.fleet.navigation.wind_speed,max:80,title:u.scaleBeafort(i.fleet.navigation.wind_speed)},null,8,["value","title"])]),je("div",AJ,[sn(s,{value:i.fleet.navigation.wind_direction,title:"Wind Direction"},null,8,["value"])])])}const DJ=Pr(SJ,[["render",PJ]]),IJ={components:{FleetSpeedometer:DJ},props:{url:String},data(){return{fleet:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(e=>e.data)}}},LJ={key:0},OJ={class:"p-3"},RJ={class:"row"},BJ={class:"col-12"},NJ=je("div",{class:"table-title"},[je("h6",null,"Navigation information")],-1),zJ={class:"table table-sm"},FJ=je("th",{scope:"row"},"•",-1),jJ=je("td",null,"Updated at",-1),UJ={class:"text-end"},$J=je("th",{scope:"row"},"•",-1),VJ=je("td",null,"Coordinate",-1),GJ={class:"text-end"},HJ=je("th",{scope:"row"},"•",-1),WJ=je("td",null,"Heading",-1),YJ={class:"text-end"},qJ=je("th",{scope:"row"},"•",-1),XJ=je("td",null,"Course / COG",-1),ZJ={class:"text-end"},KJ=je("th",{scope:"row"},"•",-1),JJ=je("td",null,"Speed / SOG",-1),QJ={class:"text-end"},eQ=je("th",{scope:"row"},"•",-1),tQ=je("td",null,"Depth",-1),iQ={class:"text-end"},nQ=je("th",{scope:"row"},"•",-1),rQ=je("td",null,"Wind Speed",-1),sQ={class:"text-end"},oQ=je("th",{scope:"row"},"•",-1),aQ=je("td",null,"Wind Direction",-1),lQ={class:"text-end"},cQ=je("th",{scope:"row"},"•",-1),uQ=je("td",null,"Travel Distance",-1),dQ={class:"text-end"},hQ=je("th",{scope:"row"},"•",-1),pQ=je("td",null,"Total Travel Distance",-1),fQ={class:"text-end"};function mQ(e,t,i,r,o,u){const h=dr("fleet-speedometer");return o.fleet?(pt(),St("div",LJ,[sn(h,{fleet:o.fleet},null,8,["fleet"]),je("div",OJ,[je("div",RJ,[je("div",BJ,[NJ,je("table",zJ,[je("tbody",null,[je("tr",null,[FJ,jJ,je("td",UJ,$i(o.fleet.last_connection),1)]),je("tr",null,[$J,VJ,je("td",GJ,$i(o.fleet.navigation.lat.toFixed(5))+" "+$i(o.fleet.navigation.lat_dir)+", "+$i(o.fleet.navigation.lng.toFixed(5))+" "+$i(o.fleet.navigation.lng_dir),1)]),je("tr",null,[HJ,WJ,je("td",YJ,$i(o.fleet.navigation.heading)+" °",1)]),je("tr",null,[qJ,XJ,je("td",ZJ,$i(o.fleet.navigation.cog)+" °",1)]),je("tr",null,[KJ,JJ,je("td",QJ,$i(o.fleet.navigation.sog)+" knot",1)]),je("tr",null,[eQ,tQ,je("td",iQ,$i(o.fleet.navigation.depth)+" meter",1)]),je("tr",null,[nQ,rQ,je("td",sQ,$i(o.fleet.navigation.wind_speed)+" knot",1)]),je("tr",null,[oQ,aQ,je("td",lQ,$i(o.fleet.navigation.wind_direction)+" °",1)]),je("tr",null,[cQ,uQ,je("td",dQ,$i(o.fleet.navigation.distance)+" NM",1)]),je("tr",null,[hQ,pQ,je("td",fQ,$i(o.fleet.navigation.total_distance)+" NM",1)])])])])])])])):hi("",!0)}const gQ=Pr(IJ,[["render",mQ]]),yQ={props:{min:Number,max:Number,value:Number,normal:Number,danger:Number},data(){return{}},computed:{percentage(){return this.value/this.max*100},color(){let e="bg-success",t=this.value/this.max*100;return t>this.normal&&t<this.danger?e="bg-warning":t>this.danger&&(e="bg-danger"),e}}},_Q={class:"progress"};function vQ(e,t,i,r,o,u){return pt(),St("div",_Q,[je("div",{class:kn(["progress-bar",u.color]),style:ea({width:`${u.percentage}%`}),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,6)])}const xQ=Pr(yQ,[["render",vQ]]),bQ={components:{"progress-bar":xQ},props:{fleet:Object,display:Boolean},data(){return{}},methods:{toggleText(){this.display=!this.display}}},wQ={class:"voyage-section"},TQ={key:0,class:"card voyage-card"},SQ={class:"card-header justify-content-between"},CQ=["src"],EQ=je("h5",{class:"fw-normal m-0"},"Fleet Information",-1),MQ={class:"card-body"},kQ=je("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-left active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),AQ={class:"tab-content",id:"pills-tabContent"},PQ={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},DQ={class:"m12"},IQ=je("div",{class:"st21"},"Name",-1),LQ={class:"st22"},OQ=["href"],RQ=je("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),BQ={class:"m12"},NQ=je("div",{class:"st21"},"IMO Number",-1),zQ={class:"st22"},FQ={class:"m12"},jQ=je("div",{class:"st21"},"Last Update",-1),UQ={class:"st22"},$Q={class:"m12"},VQ=je("div",{class:"st21"},"Last Coordinates",-1),GQ={class:"st22"},HQ=["href"],WQ=je("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),YQ={class:"m12"},qQ=je("div",{class:"st21"},"Status",-1),XQ={class:"st22"},ZQ={key:0,class:"m12"},KQ=je("div",{class:"st21"},"At Port",-1),JQ={class:"st22"},QQ=sd('<div class="m12"><div class="st21">Origin</div><div class="st22"></div></div><div class="m12"><div class="st21">Destination</div><div class="st22"></div></div><div class="m12"><div class="st21">ETA</div><div class="st22"></div></div><br>',4),eee=je("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-left active",id:"pills-main-engine-tab","data-bs-toggle":"pill","data-bs-target":"#pills-main-engine",type:"button",role:"tab","aria-controls":"pills-main-engine","aria-selected":"true"},"Main Engine")]),je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-center",id:"pills-pump-tab","data-bs-toggle":"pill","data-bs-target":"#pills-pump",type:"button",role:"tab","aria-controls":"pills-pump","aria-selected":"false"},"Pump Status")])],-1),tee={class:"tab-content",id:"pills-tabContent"},iee={class:"tab-pane fade show active",id:"pills-main-engine",role:"tabpanel","aria-labelledby":"pills-main-engine-tab"},nee=je("div",{class:"tt01"},"Main Engine Latest Status",-1),ree={class:"st21"},see={key:0},oee=["innerHTML"],aee={key:1},lee={class:"st22"},cee={class:"tab-pane",id:"pills-pump",role:"tabpanel","aria-labelledby":"pills-pump-tab"},uee=je("div",{class:"tt01"},"Cargo/Ballast/Stripping/Vacuum Pump",-1),dee={class:"st21"},hee={key:0},pee=["innerHTML"],fee={key:1},mee={class:"st22"};function gee(e,t,i,r,o,u){const h=dr("progress-bar");return pt(),St("div",wQ,[i.display?(pt(),St("div",TQ,[je("div",SQ,[je("button",{onClick:t[0]||(t[0]=s=>e.$emit("close",!0)),class:"btn btn-link bg-transparent p-0"},[je("img",{src:"/img/icons/close-fill.png",alt:""},null,8,CQ)]),EQ]),je("div",MQ,[kQ,je("div",AQ,[je("div",PQ,[je("div",DQ,[IQ,je("div",LQ,[je("a",{href:`/fleet/${i.fleet.id}`,class:"d-flex align-items-center"},[Yr($i(i.fleet.name)+" ",1),RQ],8,OQ)])]),je("div",BQ,[NQ,je("div",zQ,$i(i.fleet.imo_number),1)]),je("div",FQ,[jQ,je("div",UQ,$i(e.$filters.dateformat(i.fleet.last_connection))+" WIB",1)]),je("div",$Q,[VQ,je("div",GQ,[je("a",{href:`/fleet/${i.fleet.id}/track`,class:"d-flex align-items-center"},[Yr($i(i.fleet.navigation.lat.toFixed(4))+" "+$i(i.fleet.navigation.lat_dir)+", "+$i(i.fleet.navigation.lng.toFixed(4))+" "+$i(i.fleet.navigation.lng_dir)+" ",1),WQ],8,HQ)])]),je("div",YQ,[qQ,je("div",XQ,$i(i.fleet.fleet_status.replace("_"," ").toUpperCase()),1)]),i.fleet.fleet_status=="at_port"?(pt(),St("div",ZQ,[KQ,je("div",JQ,$i(i.fleet.last_port),1)])):hi("",!0),QQ,eee,je("div",tee,[je("div",iee,[nee,(pt(!0),St(Qi,null,ar(i.fleet.engine_info,(s,v)=>(pt(),St("div",{class:"m13",key:v},[je("div",ree,[Yr($i(s.title)+" ",1),s.value>0?(pt(),St("span",see,[Yr($i(e.$filters.number(s.value))+" ",1),je("span",{innerHTML:s.unit},null,8,oee)])):hi("",!0),Yr(),s.value==0?(pt(),St("span",aee,"OFF")):hi("",!0)]),je("div",lee,[sn(h,{min:s.min,warning:s.warning,danger:s.danger,max:s.max,value:s.value},null,8,["min","warning","danger","max","value"])])]))),128))]),je("div",cee,[uee,(pt(!0),St(Qi,null,ar(i.fleet.cargo_pump_info,(s,v)=>(pt(),St("div",{class:"m13",key:v},[je("div",dee,[Yr($i(s.title)+" ",1),s.value>0?(pt(),St("span",hee,[Yr($i(e.$filters.number(s.value))+" ",1),je("span",{innerHTML:s.unit},null,8,pee)])):hi("",!0),Yr(),s.value==0?(pt(),St("span",fee,"OFF")):hi("",!0)]),je("div",mee,[sn(h,{min:s.min,normal:s.normal,danger:s.danger,max:s.max,value:s.value},null,8,["min","normal","danger","max","value"])])]))),128))])])])])])])):hi("",!0)])}const yee=Pr(bQ,[["render",gee]]),_ee={name:"ChartSvg",props:{path:String,svgData:Object,height:Number},data(){return{scadavis:null,tags:[]}},async mounted(){await this.init(),Object.keys(this.svgData).forEach(e=>{this.setValue(e,this.svgData[e])})},created(){window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},watch:{svgData:function(e,t){let i=this;Object.keys(e).forEach(r=>{i.setValue(r,e[r])})}},methods:{async init(){this.scadavis=await scadavisInit({container:"scada-svg",svgurl:this.path}),this.scadavis.enableTools(!1,!0),this.scadavis.hideWatermark(),this.tags=this.scadavis.getTagsList().split(","),this.tags.forEach(e=>{this.scadavis.setValue(e,0)}),this.resize()},resize(){this.scadavis.zoomToOriginal();let e=this.$refs.cnsvg;this.scadavis.zoomTo(1*(e.clientWidth<e.clientHeight?e.clientWidth/600:e.clientHeight/600))},setValue(e,t){this.scadavis&&this.scadavis.setValue(e,t)}}};function vee(e,t,i,r,o,u){return pt(),St("div",null,[je("div",{id:"scada-svg",class:"scada",ref:"cnsvg",style:ea({height:this.height+"px"})},null,4)])}const P_=Pr(_ee,[["render",vee]]),xee={props:{url:String},components:{ChartSvg:P_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)})}}}},bee={key:0},wee={class:"container"},Tee={class:"row"},See={class:"col-12"};function Cee(e,t,i,r,o,u){const h=dr("chart-svg");return o.fleet?(pt(),St("div",bee,[je("div",wee,[je("div",Tee,[je("div",See,[sn(h,{path:"/svg/cargo_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):hi("",!0)}const Eee=Pr(xee,[["render",Cee]]),Mee={props:{url:String},components:{ChartSvg:P_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}},kee={key:0},Aee={class:"container"},Pee={class:"row"},Dee={class:"col-12"};function Iee(e,t,i,r,o,u){const h=dr("chart-svg");return o.fleet?(pt(),St("div",kee,[je("div",Aee,[je("div",Pee,[je("div",Dee,[sn(h,{path:"/svg/bunker_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):hi("",!0)}const Lee=Pr(Mee,[["render",Iee]]),Oee={props:{url:String},components:{ChartSvg:P_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}},Ree={key:0},Bee={class:"container"},Nee={class:"row"},zee={class:"col-12"};function Fee(e,t,i,r,o,u){const h=dr("chart-svg");return o.fleet?(pt(),St("div",Ree,[je("div",Bee,[je("div",Nee,[je("div",zee,[sn(h,{path:"/svg/water_ballast_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):hi("",!0)}const jee=Pr(Oee,[["render",Fee]]),Uee={props:{url:String},components:{ChartSvg:P_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.engine;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=e[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function $ee(e,t,i,r,o,u){const h=dr("chart-svg");return pt(),St("div",null,[sn(h,{path:"/svg/engine-2.svg",svgData:o.data,height:550},null,8,["svgData"])])}const Vee=Pr(Uee,[["render",$ee]]),Gee={name:"UserPermission",props:{url:String},data(){return{permissions:[],checked:[],user_id:null}},mounted(){this.loadRole(),this.loadData()},methods:{async loadData(){let{data:e}=await axios.get(this.url);this.user_id=e.data.id,this.checked=e.data.permissions},async loadRole(){let{data:e}=await axios.get("/master/permission/json");this.permissions=e.data},async assignTo(){this.user_id&&(await axios.post(`/master/user/${this.user_id}/update-permission`,{permission:this.checked}),window.$vmapp.$refs.vuetable.getData())}}},Hee={class:"form-group mb-3"},Wee=je("label",null,"Permissions",-1),Yee={class:"checkbox"},qee={class:"ui-check"},Xee=["value"],Zee=je("i",{class:"dark-white"},null,-1),Kee={class:"float-end"};function Jee(e,t,i,r,o,u){return pt(),St("div",null,[je("div",Hee,[Wee,(pt(!0),St(Qi,null,ar(o.permissions,h=>(pt(),St("div",Yee,[je("label",qee,[Ks(je("input",{type:"checkbox",value:h.name,"onUpdate:modelValue":t[0]||(t[0]=s=>o.checked=s)},null,8,Xee),[[ff,o.checked]]),Zee,Yr(" "+$i(h.name),1)])]))),256))]),je("div",Kee,[je("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...h)=>u.assignTo&&u.assignTo(...h))},"Assign Permissions")])])}const Qee=Pr(Gee,[["render",Jee]]),ete={props:{title:String,url:String,fields:Array,show:Boolean,fleet:Object},data(){return{data:{}}},mounted(){this.fields.forEach(e=>{this.data[e.field]=null}),this.fleet&&(this.data.fleet_id=this.fleet.fleetId,this.data.group=this.fleet.group)},methods:{async save(){let e=await axios.post(this.url,this.data).then(t=>t.data);e.error?this.$emit("saved",!1):this.$emit("saved",e)}}},tte={class:"modal-dialog modal-dialog-centered",role:"document"},ite={class:"modal-content"},nte={class:"modal-header"},rte={class:"modal-title"},ste={class:"modal-body"},ote={key:0,class:"mb-2"},ate={class:"form-label"},lte=["onUpdate:modelValue"],cte=["value"],ute={key:1,class:"mb-2"},dte={class:"form-label"},hte=["onUpdate:modelValue"],pte={class:"modal-footer"};function fte(e,t,i,r,o,u){return pt(),St("div",{class:kn(["modal modal-blur fade",{show:i.show}]),style:ea({display:i.show?"block":"none"}),id:"modal-team",tabindex:"-1",role:"dialog","aria-hidden":"true"},[je("div",tte,[je("div",ite,[je("div",nte,[je("h5",rte,$i(i.title),1),je("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=h=>i.show=!1)})]),je("div",ste,[(pt(!0),St(Qi,null,ar(i.fields,(h,s)=>(pt(),St(Qi,{key:s},[h.editType=="select"?(pt(),St("div",ote,[je("label",ate,$i(h.name),1),Ks(je("select",{"onUpdate:modelValue":v=>o.data[h.field]=v,class:"form-select"},[(pt(!0),St(Qi,null,ar(h.options,(v,I)=>(pt(),St("option",{value:v,key:I},$i(v),9,cte))),128))],8,lte),[[Ed,o.data[h.field]]])])):(pt(),St("div",ute,[je("label",dte,$i(h.name),1),Ks(je("input",{type:"text",class:"form-control","onUpdate:modelValue":v=>o.data[h.field]=v},null,8,hte),[[Yc,o.data[h.field]]])]))],64))),128))]),je("div",pte,[je("button",{onClick:t[1]||(t[1]=h=>i.show=!1),type:"button",class:"btn me-auto","data-bs-dismiss":"modal"},"Close"),je("button",{onClick:t[2]||(t[2]=(...h)=>u.save&&u.save(...h)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Add")])])])],6)}const mte=Pr(ete,[["render",fte]]),gte={components:{FormModal:mte},props:{columns:Array,data:Array,editUrl:String,delUrl:String,fleet:Object},data(){return{formShow:!1,items:[]}},mounted(){this.data.forEach(e=>this.items.push(e)),this.items=this.items.map(e=>({...e,isEdit:!1}))},methods:{saved(e){e.isEdit=!1,this.items.push(e),this.formShow=!1},editRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit},async saveRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit,await axios.post(this.editUrl,e)},isFieldSlot(e){return!!this.$slots[e]},del(e,t){let i=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&(axios.delete(i.delUrl+"/"+e.id),i.items.splice(t,1),i.$swal("Deleted!","Your file has been deleted.","success"))})}}},yte={class:"action-edit"},_te={class:"table-responsive"},vte={class:"table table-vcenter card-table"},xte=je("th",null,"No",-1),bte=je("th",null,null,-1),wte=["onUpdate:modelValue"],Tte=["value"],Ste=["onUpdate:modelValue"],Cte=["innerHTML"],Ete={key:1},Mte=["onClick"],kte=["onClick"],Ate=["onClick"];function Pte(e,t,i,r,o,u){const h=dr("form-modal");return pt(),St(Qi,null,[sn(h,{fields:i.columns,title:"Add Data",url:i.editUrl,show:o.formShow,fleet:i.fleet,onSaved:u.saved},null,8,["fields","url","show","fleet","onSaved"]),je("div",yte,[je("button",{type:"button",class:"btn btn-info",onClick:t[0]||(t[0]=s=>o.formShow=!0)},"Add Data")]),je("div",_te,[je("table",vte,[je("thead",null,[je("tr",null,[xte,(pt(!0),St(Qi,null,ar(i.columns,(s,v)=>(pt(),St("th",{key:v},$i(s.name),1))),128)),bte])]),je("tbody",null,[(pt(!0),St(Qi,null,ar(o.items,(s,v)=>(pt(),St("tr",{key:s.id},[je("td",null,$i(1+v),1),(pt(!0),St(Qi,null,ar(i.columns,(I,J)=>(pt(),St("td",{key:J},[u.isFieldSlot(I.field)?dn(e.$slots,I.field,{key:0,rowData:s,rowIndex:v,rowField:I}):I.editType=="select"&&s.isEdit?Ks((pt(),St("select",{key:1,"onUpdate:modelValue":M=>o.items[v][I.field]=M,class:"form-select"},[(pt(!0),St(Qi,null,ar(I.options,(M,B)=>(pt(),St("option",{value:M,key:B},$i(M),9,Tte))),128))],8,wte)),[[Ed,o.items[v][I.field]]]):s.isEdit?Ks((pt(),St("input",{key:2,type:"text",class:"form-control","onUpdate:modelValue":M=>o.items[v][I.field]=M},null,8,Ste)),[[Yc,o.items[v][I.field]]]):(pt(),St(Qi,{key:3},[I.isHtml?(pt(),St("span",{key:0,innerHTML:s[I.field]},null,8,Cte)):(pt(),St("span",Ete,$i(s[I.field]),1))],64))]))),128)),je("td",null,[s.isEdit?hi("",!0):(pt(),St("a",{key:0,href:"#",onClick:I=>u.editRowHandler(s,v)},"Edit",8,Mte)),s.isEdit?(pt(),St("a",{key:1,href:"#",onClick:I=>u.saveRowHandler(s,v)},"Done",8,kte)):hi("",!0),Yr(" | "),je("a",{href:"#",onClick:I=>u.del(s,v)},"Delete",8,Ate)])]))),128))])])])],64)}const Dte=Pr(gte,[["render",Pte]]);var ZP={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function i(r,o,u,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,u),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},i(t,"Core/Chart/ChartNavigationComposition.js",[],function(){var r;return function(o){o.compose=function(h){return h.navigation||(h.navigation=new u(h)),h};class u{constructor(s){this.updates=[],this.chart=s}addUpdate(s){this.chart.navigation.updates.push(s)}update(s,v){this.updates.forEach(I=>{I.call(this.chart,s,v)})}}o.Additions=u}(r||(r={})),r}),i(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],function(r){return{isTouchDevice:r}=r,{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:r?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}}),i(t,"Extensions/Exporting/ExportingSymbols.js",[],function(){var r;return function(o){function u(v,I,J,M){return[["M",v,I+2.5],["L",v+J,I+2.5],["M",v,I+M/2+.5],["L",v+J,I+M/2+.5],["M",v,I+M-1.5],["L",v+J,I+M-1.5]]}function h(v,I,J,M){return v=M/3-2,M=[],M=M.concat(this.circle(J-v,I,v,v),this.circle(J-v,I+v+4,v,v),this.circle(J-v,I+2*(v+4),v,v))}const s=[];o.compose=function(v){s.indexOf(v)===-1&&(s.push(v),v=v.prototype.symbols,v.menu=u,v.menuball=h.bind(v))}}(r||(r={})),r}),i(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],function(r,o){function u(){this.fullscreen=new I(this)}const{addEvent:h,fireEvent:s}=o,v=[];class I{static compose(M){o.pushUnique(v,M)&&h(M,"beforeRender",u)}constructor(M){this.chart=M,this.isOpen=!1,M=M.renderTo,this.browserProps||(typeof M.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:M.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:M.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:M.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const M=this,B=M.chart,W=B.options.chart;s(B,"fullscreenClose",null,function(){M.isOpen&&M.browserProps&&B.container.ownerDocument instanceof Document&&B.container.ownerDocument[M.browserProps.exitFullscreen](),M.unbindFullscreenEvent&&(M.unbindFullscreenEvent=M.unbindFullscreenEvent()),B.setSize(M.origWidth,M.origHeight,!1),M.origWidth=void 0,M.origHeight=void 0,W.width=M.origWidthOption,W.height=M.origHeightOption,M.origWidthOption=void 0,M.origHeightOption=void 0,M.isOpen=!1,M.setButtonText()})}open(){const M=this,B=M.chart,W=B.options.chart;s(B,"fullscreenOpen",null,function(){if(W&&(M.origWidthOption=W.width,M.origHeightOption=W.height),M.origWidth=B.chartWidth,M.origHeight=B.chartHeight,M.browserProps){const O=h(B.container.ownerDocument,M.browserProps.fullscreenChange,function(){M.isOpen?(M.isOpen=!1,M.close()):(B.setSize(null,null,!1),M.isOpen=!0,M.setButtonText())}),L=h(B,"destroy",O);M.unbindFullscreenEvent=()=>{O(),L()};const G=B.renderTo[M.browserProps.requestFullscreen]();G&&G.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var M=this.chart,B=M.exportDivElements;const W=M.options.exporting,O=W&&W.buttons&&W.buttons.contextButton.menuItems;M=M.options.lang,W&&W.menuItemDefinitions&&M&&M.exitFullscreen&&M.viewFullscreen&&O&&B&&(B=B[O.indexOf("viewFullscreen")])&&r.setElementHTML(B,this.isOpen?M.exitFullscreen:W.menuItemDefinitions.viewFullscreen.text||M.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return I}),i(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){const{doc:u}=r,{createElement:h,discardElement:s,merge:v,objectEach:I}=o,J={ajax:function(M){const B={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},W=new XMLHttpRequest;if(!M.url)return!1;W.open((M.type||"get").toUpperCase(),M.url,!0),M.headers&&M.headers["Content-Type"]||W.setRequestHeader("Content-Type",B[M.dataType||"json"]||B.text),I(M.headers,function(O,L){W.setRequestHeader(L,O)}),M.responseType&&(W.responseType=M.responseType),W.onreadystatechange=function(){let O;if(W.readyState===4){if(W.status===200){if(M.responseType!=="blob"&&(O=W.responseText,M.dataType==="json"))try{O=JSON.parse(O)}catch(L){if(L instanceof Error){M.error&&M.error(W,L);return}}return M.success&&M.success(O,W)}M.error&&M.error(W,W.responseText)}},M.data&&typeof M.data!="string"&&(M.data=JSON.stringify(M.data)),W.send(M.data)},getJSON:function(M,B){J.ajax({url:M,success:B,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(M,B,W){const O=h("form",v({method:"post",action:M,enctype:"multipart/form-data"},W),{display:"none"},u.body);I(B,function(L,G){h("input",{type:"hidden",name:G,value:L},void 0,O)}),O.submit(),s(O)}};return J}),i(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],function(r,o,u,h,s,v,I,J,M,B){const{defaultOptions:W,setOptions:O}=h,{doc:L,SVG_NS:G,win:k}=J,{addEvent:S,css:A,createElement:H,discardElement:U,extend:E,find:ie,fireEvent:ee,isObject:$,merge:V,objectEach:j,pick:w,removeEvent:D,uniqueKey:m}=B;var g;return function(x){function P(We){const xe=this,Ie=xe.renderer,Be=V(xe.options.navigation.buttonOptions,We),Xe=Be.onclick,Ze=Be.menuItems,ft=Be.symbolSize||12;let Ct;if(xe.btnCount||(xe.btnCount=0),xe.exportDivElements||(xe.exportDivElements=[],xe.exportSVGElements=[]),Be.enabled!==!1&&Be.theme){var Nt=Be.theme,pi;xe.styledMode||(Nt.fill=w(Nt.fill,"#ffffff"),Nt.stroke=w(Nt.stroke,"none")),Xe?pi=function(fi){fi&&fi.stopPropagation(),Xe.call(xe,fi)}:Ze&&(pi=function(fi){fi&&fi.stopPropagation(),xe.contextMenu(qt.menuClassName,Ze,qt.translateX,qt.translateY,qt.width,qt.height,qt),qt.setState(2)}),Be.text&&Be.symbol?Nt.paddingLeft=w(Nt.paddingLeft,30):Be.text||E(Nt,{width:Be.width,height:Be.height,padding:0}),xe.styledMode||(Nt["stroke-linecap"]="round",Nt.fill=w(Nt.fill,"#ffffff"),Nt.stroke=w(Nt.stroke,"none"));var qt=Ie.button(Be.text,0,0,pi,Nt,void 0,void 0,void 0,void 0,Be.useHTML).addClass(We.className).attr({title:w(xe.options.lang[Be._titleKey||Be.titleKey],"")});qt.menuClassName=We.menuClassName||"highcharts-menu-"+xe.btnCount++,Be.symbol&&(Ct=Ie.symbol(Be.symbol,Be.symbolX-ft/2,Be.symbolY-ft/2,ft,ft,{width:ft,height:ft}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(qt),xe.styledMode||Ct.attr({stroke:Be.symbolStroke,fill:Be.symbolFill,"stroke-width":Be.symbolStrokeWidth||1})),qt.add(xe.exportingGroup).align(E(Be,{width:qt.width,x:w(Be.x,xe.buttonOffset)}),!0,"spacingBox"),xe.buttonOffset+=(qt.width+Be.buttonSpacing)*(Be.align==="right"?-1:1),xe.exportSVGElements.push(qt,Ct)}}function X(){if(this.printReverseInfo){var{childNodes:We,origDisplay:xe,resetParams:Ie}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(We,function(Be,Xe){Be.nodeType===1&&(Be.style.display=xe[Xe]||"")}),this.isPrinting=!1,Ie&&this.setSize.apply(this,Ie),delete this.printReverseInfo,Qe=void 0,ee(this,"afterPrint")}}function Y(){const We=L.body,xe=this.options.exporting.printMaxWidth,Ie={childNodes:We.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),ee(this,"beforePrint"),xe&&this.chartWidth>xe&&(Ie.resetParams=[this.options.chart.width,void 0,!1],this.setSize(xe,void 0,!1)),[].forEach.call(Ie.childNodes,function(Be,Xe){Be.nodeType===1&&(Ie.origDisplay[Xe]=Be.style.display,Be.style.display="none")}),this.moveContainers(We),this.printReverseInfo=Ie}function K(We){We.renderExporting(),S(We,"redraw",We.renderExporting),S(We,"destroy",We.destroyExport)}function le(We,xe,Ie,Be,Xe,Ze,ft){const Ct=this,Nt=Ct.options.navigation,pi=Ct.chartWidth,qt=Ct.chartHeight,fi="cache-"+We,Gi=Math.max(Xe,Ze);let dt,Lt=Ct[fi];Lt||(Ct.exportContextMenu=Ct[fi]=Lt=H("div",{className:We},{position:"absolute",zIndex:1e3,padding:Gi+"px",pointerEvents:"auto"},Ct.fixedDiv||Ct.container),dt=H("ul",{className:"highcharts-menu"},Ct.styledMode?{}:{listStyle:"none",margin:0,padding:0},Lt),Ct.styledMode||A(dt,E({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},Nt.menuStyle)),Lt.hideMenu=function(){A(Lt,{display:"none"}),ft&&ft.setState(0),Ct.openMenu=!1,A(Ct.renderTo,{overflow:"hidden"}),A(Ct.container,{overflow:"hidden"}),B.clearTimeout(Lt.hideTimer),ee(Ct,"exportMenuHidden")},Ct.exportEvents.push(S(Lt,"mouseleave",function(){Lt.hideTimer=k.setTimeout(Lt.hideMenu,500)}),S(Lt,"mouseenter",function(){B.clearTimeout(Lt.hideTimer)}),S(L,"mouseup",function(ei){Ct.pointer.inClass(ei.target,We)||Lt.hideMenu()}),S(Lt,"click",function(){Ct.openMenu&&Lt.hideMenu()})),xe.forEach(function(ei){if(typeof ei=="string"&&(ei=Ct.options.exporting.menuItemDefinitions[ei]),$(ei,!0)){let ki;ei.separator?ki=H("hr",void 0,void 0,dt):(ei.textKey==="viewData"&&Ct.isDataTableVisible&&(ei.textKey="hideData"),ki=H("li",{className:"highcharts-menu-item",onclick:function(on){on&&on.stopPropagation(),Lt.hideMenu(),ei.onclick&&ei.onclick.apply(Ct,arguments)}},void 0,dt),r.setElementHTML(ki,ei.text||Ct.options.lang[ei.textKey]),Ct.styledMode||(ki.onmouseover=function(){A(this,Nt.menuItemHoverStyle)},ki.onmouseout=function(){A(this,Nt.menuItemStyle)},A(ki,E({cursor:"pointer"},Nt.menuItemStyle||{})))),Ct.exportDivElements.push(ki)}}),Ct.exportDivElements.push(dt,Lt),Ct.exportMenuWidth=Lt.offsetWidth,Ct.exportMenuHeight=Lt.offsetHeight),xe={display:"block"},Ie+Ct.exportMenuWidth>pi?xe.right=pi-Ie-Xe-Gi+"px":xe.left=Ie-Gi+"px",Be+Ze+Ct.exportMenuHeight>qt&&ft.alignOptions.verticalAlign!=="top"?xe.bottom=qt-Be-Gi+"px":xe.top=Be+Ze-Gi+"px",A(Lt,xe),A(Ct.renderTo,{overflow:""}),A(Ct.container,{overflow:""}),Ct.openMenu=!0,ee(Ct,"exportMenuShown")}function pe(We){const xe=We?We.target:this,Ie=xe.exportSVGElements,Be=xe.exportDivElements;We=xe.exportEvents;let Xe;Ie&&(Ie.forEach((Ze,ft)=>{Ze&&(Ze.onclick=Ze.ontouchstart=null,Xe="cache-"+Ze.menuClassName,xe[Xe]&&delete xe[Xe],Ie[ft]=Ze.destroy())}),Ie.length=0),xe.exportingGroup&&(xe.exportingGroup.destroy(),delete xe.exportingGroup),Be&&(Be.forEach(function(Ze,ft){Ze&&(B.clearTimeout(Ze.hideTimer),D(Ze,"mouseleave"),Be[ft]=Ze.onmouseout=Ze.onmouseover=Ze.ontouchstart=Ze.onclick=null,U(Ze))}),Be.length=0),We&&(We.forEach(function(Ze){Ze()}),We.length=0)}function fe(We,xe){xe=this.getSVGForExport(We,xe),We=V(this.options.exporting,We),M.post(We.url,{filename:We.filename?We.filename.replace(/\//g,"-"):this.getFilename(),type:We.type,width:We.width,scale:We.scale,svg:xe},We.formAttributes)}function z(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function Q(){const We=this.userOptions.title&&this.userOptions.title.text;let xe=this.options.exporting.filename;return xe?xe.replace(/\//g,"-"):(typeof We=="string"&&(xe=We.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!xe||5>xe.length)&&(xe="chart"),xe)}function se(We){let xe,Ie=V(this.options,We);Ie.plotOptions=V(this.userOptions.plotOptions,We&&We.plotOptions),Ie.time=V(this.userOptions.time,We&&We.time);const Be=H("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},L.body);var Xe=this.renderTo.style.width,Ze=this.renderTo.style.height;Xe=Ie.exporting.sourceWidth||Ie.chart.width||/px$/.test(Xe)&&parseInt(Xe,10)||(Ie.isGantt?800:600),Ze=Ie.exporting.sourceHeight||Ie.chart.height||/px$/.test(Ze)&&parseInt(Ze,10)||400,E(Ie.chart,{animation:!1,renderTo:Be,forExport:!0,renderer:"SVGRenderer",width:Xe,height:Ze}),Ie.exporting.enabled=!1,delete Ie.data,Ie.series=[],this.series.forEach(function(Nt){xe=V(Nt.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Nt.visible}),xe.isInternal||Ie.series.push(xe)});const ft={};this.axes.forEach(function(Nt){Nt.userOptions.internalKey||(Nt.userOptions.internalKey=m()),Nt.options.isInternal||(ft[Nt.coll]||(ft[Nt.coll]=!0,Ie[Nt.coll]=[]),Ie[Nt.coll].push(V(Nt.userOptions,{visible:Nt.visible})))});const Ct=new this.constructor(Ie,this.callback);return We&&["xAxis","yAxis","series"].forEach(function(Nt){const pi={};We[Nt]&&(pi[Nt]=We[Nt],Ct.update(pi))}),this.axes.forEach(function(Nt){const pi=ie(Ct.axes,function(Gi){return Gi.options.internalKey===Nt.userOptions.internalKey});var qt=Nt.getExtremes();const fi=qt.userMin;qt=qt.userMax,pi&&(typeof fi<"u"&&fi!==pi.min||typeof qt<"u"&&qt!==pi.max)&&pi.setExtremes(fi,qt,!0,!1)}),Ze=Ct.getChartHTML(),ee(this,"getSVG",{chartCopy:Ct}),Ze=this.sanitizeSVG(Ze,Ie),Ie=null,Ct.destroy(),U(Be),Ze}function de(We,xe){const Ie=this.options.exporting;return this.getSVG(V({chart:{borderRadius:0}},Ie.chartOptions,xe,{exporting:{sourceWidth:We&&We.sourceWidth||Ie.sourceWidth,sourceHeight:We&&We.sourceHeight||Ie.sourceHeight}}))}function Ce(We){return We.replace(/([A-Z])/g,function(xe,Ie){return"-"+Ie.toLowerCase()})}function ne(){function We(Ct){const Nt={};let pi,qt;if(ft&&Ct.nodeType===1&&nt.indexOf(Ct.nodeName)===-1){if(pi=k.getComputedStyle(Ct,null),qt=Ct.nodeName==="svg"?{}:k.getComputedStyle(Ct.parentNode,null),!Be[Ct.nodeName]){Xe=ft.getElementsByTagName("svg")[0];var fi=ft.createElementNS(Ct.namespaceURI,Ct.nodeName);Xe.appendChild(fi);var Gi=k.getComputedStyle(fi,null),dt={};for(var Lt in Gi)typeof Gi[Lt]!="string"||/^[0-9]+$/.test(Lt)||(dt[Lt]=Gi[Lt]);Be[Ct.nodeName]=dt,Ct.nodeName==="text"&&delete Be.text.fill,Xe.removeChild(fi)}for(const ki in pi)if(J.isFirefox||J.isMS||J.isSafari||Object.hasOwnProperty.call(pi,ki)){Lt=pi[ki];var ei=ki;if(fi=Gi=!1,Ie.length){for(dt=Ie.length;dt--&&!Gi;)Gi=Ie[dt].test(ei);fi=!Gi}for(ei==="transform"&&Lt==="none"&&(fi=!0),dt=xe.length;dt--&&!fi;)fi=xe[dt].test(ei)||typeof Lt=="function";fi||qt[ei]===Lt&&Ct.nodeName!=="svg"||Be[Ct.nodeName][ei]===Lt||($e&&$e.indexOf(ei)===-1?Nt[ei]=Lt:Lt&&Ct.setAttribute(Ce(ei),Lt))}A(Ct,Nt),Ct.nodeName==="svg"&&Ct.setAttribute("stroke-width","1px"),Ct.nodeName!=="text"&&[].forEach.call(Ct.children||Ct.childNodes,We)}}const xe=Le,Ie=x.inlineAllowlist,Be={};let Xe;const Ze=L.createElement("iframe");A(Ze,{width:"1px",height:"1px",visibility:"hidden"}),L.body.appendChild(Ze);const ft=Ze.contentWindow&&Ze.contentWindow.document;ft&&ft.body.appendChild(ft.createElementNS(G,"svg")),We(this.container.querySelector("svg")),Xe.parentNode.removeChild(Xe),Ze.parentNode.removeChild(Ze)}function ve(We){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(xe){We.appendChild(xe)})}function _e(){const We=this;We.exporting={update:function(xe,Ie){We.isDirtyExporting=!0,V(!0,We.options.exporting,xe),w(Ie,!0)&&We.redraw()}},u.compose(We).navigation.addUpdate((xe,Ie)=>{We.isDirtyExporting=!0,V(!0,We.options.navigation,xe),w(Ie,!0)&&We.redraw()})}function oe(){const We=this;We.isPrinting||(Qe=We,J.isSafari||We.beforePrint(),setTimeout(()=>{k.focus(),k.print(),J.isSafari||setTimeout(()=>{We.afterPrint()},1e3)},1))}function ge(){const We=this,xe=We.options.exporting,Ie=xe.buttons,Be=We.isDirtyExporting||!We.exportSVGElements;We.buttonOffset=0,We.isDirtyExporting&&We.destroyExport(),Be&&xe.enabled!==!1&&(We.exportEvents=[],We.exportingGroup=We.exportingGroup||We.renderer.g("exporting-group").attr({zIndex:3}).add(),j(Ie,function(Xe){We.addButton(Xe)}),We.isDirtyExporting=!1)}function Te(We,xe){const Ie=We.indexOf("</svg>")+6;let Be=We.substr(Ie);return We=We.substr(0,Ie),xe&&xe.exporting&&xe.exporting.allowHTML&&Be&&(Be='<foreignObject x="0" y="0" width="'+xe.chart.width+'" height="'+xe.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Be.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",We=We.replace("</svg>",Be+"</svg>")),We=We.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}const Re=[],Le=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],$e="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");x.inlineAllowlist=[];const nt=["clipPath","defs","desc"];let Qe;x.compose=function(We,xe){v.compose(xe),I.compose(We),B.pushUnique(Re,We)&&(xe=We.prototype,xe.afterPrint=X,xe.exportChart=fe,xe.inlineStyles=ne,xe.print=oe,xe.sanitizeSVG=Te,xe.getChartHTML=z,xe.getSVG=se,xe.getSVGForExport=de,xe.getFilename=Q,xe.moveContainers=ve,xe.beforePrint=Y,xe.contextMenu=le,xe.addButton=P,xe.destroyExport=pe,xe.renderExporting=ge,xe.callbacks.push(K),S(We,"init",_e),J.isSafari&&J.win.matchMedia("print").addListener(function(Ie){Qe&&(Ie.matches?Qe.beforePrint():Qe.afterPrint())})),B.pushUnique(Re,O)&&(W.exporting=V(s.exporting,W.exporting),W.lang=V(s.lang,W.lang),W.navigation=V(s.navigation,W.navigation))}}(g||(g={})),g}),i(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],function(r,o,u){r.HttpUtilities=u,r.ajax=u.ajax,r.getJSON=u.getJSON,r.post=u.post,o.compose(r.Chart,r.Renderer)})})})(ZP);var Ite=ZP.exports;const KP=rd(Ite),JP=["#2f7ed8","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#0d233a"];var QP={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(ja,function(){var i="__v-click-outside",r=typeof window<"u",o=typeof navigator<"u",u=r&&("ontouchstart"in window||o&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],h=function(J){var M=J.event,B=J.handler;(0,J.middleware)(M)&&B(M)},s=function(J,M){var B=function(S){var A=typeof S=="function";if(!A&&typeof S!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:A?S:S.handler,middleware:S.middleware||function(H){return H},events:S.events||u,isActive:S.isActive!==!1,detectIframe:S.detectIframe!==!1,capture:!!S.capture}}(M.value),W=B.handler,O=B.middleware,L=B.detectIframe,G=B.capture;if(B.isActive){if(J[i]=B.events.map(function(S){return{event:S,srcTarget:document.documentElement,handler:function(A){return function(H){var U=H.el,E=H.event,ie=H.handler,ee=H.middleware,$=E.path||E.composedPath&&E.composedPath();($?$.indexOf(U)<0:!U.contains(E.target))&&h({event:E,handler:ie,middleware:ee})}({el:J,event:A,handler:W,middleware:O})},capture:G}}),L){var k={event:"blur",srcTarget:window,handler:function(S){return function(A){var H=A.el,U=A.event,E=A.handler,ie=A.middleware;setTimeout(function(){var ee=document.activeElement;ee&&ee.tagName==="IFRAME"&&!H.contains(ee)&&h({event:U,handler:E,middleware:ie})},0)}({el:J,event:S,handler:W,middleware:O})},capture:G};J[i]=[].concat(J[i],[k])}J[i].forEach(function(S){var A=S.event,H=S.srcTarget,U=S.handler;return setTimeout(function(){J[i]&&H.addEventListener(A,U,G)},0)})}},v=function(J){(J[i]||[]).forEach(function(M){return M.srcTarget.removeEventListener(M.event,M.handler,M.capture)}),delete J[i]},I=r?{beforeMount:s,updated:function(J,M){var B=M.value,W=M.oldValue;JSON.stringify(B)!==JSON.stringify(W)&&(v(J),s(J,{value:B}))},unmounted:v}:{};return{install:function(J){J.directive("click-outside",I)},directive:I}})})(QP);var Lte=QP.exports;const Ote=rd(Lte),Rte={props:{options:Array,type:{type:String,default:"select"},default:{type:Array,default:()=>[]}},data(){return{show:!1,selected:[]}},methods:{showDropdown(){this.show=!this.show},hide(){this.show=!1},groupBy(e,t){return e.reduce((i,r,o)=>{var u;return(i[u=t(r,o,e)]||(i[u]=[])).push(r),i},{})}},computed:{groups(){return this.options.length>0&&this.options[0].hasOwnProperty("group")?this.groupBy(this.options,e=>e.group):this.options},selectAll:{get(){return this.options?this.selected.length==this.options.length:!1},set(e){e?this.selected=this.options:this.selected=[]}}},watch:{selected(e){this.$emit("checked",e)},default(e){this.selected=e}},directives:{clickOutside:Ote.directive}},Bte={class:"dd"},Nte={id:"list1",class:"dropdown-check-list",tabindex:"100"},zte=sd('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-adjustments-horizontal" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 6l8 0"></path><path d="M16 6l4 0"></path><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 12l2 0"></path><path d="M10 12l10 0"></path><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 18l11 0"></path><path d="M19 18l1 0"></path></svg>',1),Fte=[zte],jte={key:2,class:"items"},Ute={class:"bb"},$te={for:"check-all"},Vte={key:0},Gte=["id","value"],Hte=["for"],Wte={key:1},Yte=["id","value"],qte=["for"];function Xte(e,t,i,r,o,u){const h=Gb("click-outside");return Ks((pt(),St("div",Bte,[je("div",Nte,[i.type=="select"?(pt(),St("span",{key:0,class:"anchor form-control",onClick:t[0]||(t[0]=(...s)=>u.showDropdown&&u.showDropdown(...s))}," Select Parameter ")):hi("",!0),i.type=="icon"?(pt(),St("span",{key:1,class:"icon",onClick:t[1]||(t[1]=(...s)=>u.showDropdown&&u.showDropdown(...s))},Fte)):hi("",!0),o.show?(pt(),St("ul",jte,[je("li",Ute,[je("div",null,[Ks(je("input",{id:"check-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=s=>u.selectAll=s)},null,512),[[ff,u.selectAll]]),je("label",$te,[u.selectAll?(pt(),St(Qi,{key:1},[Yr("Uncheck All")],64)):(pt(),St(Qi,{key:0},[Yr("Check All")],64))])])]),(pt(!0),St(Qi,null,ar(u.groups,(s,v)=>(pt(),St("li",{key:v},[Array.isArray(s)?(pt(),St("div",Vte,[je("span",null,$i(v),1),(pt(!0),St(Qi,null,ar(s,(I,J)=>(pt(),St("div",{key:J},[Ks(je("input",{type:"checkbox",id:J,value:I,"onUpdate:modelValue":t[3]||(t[3]=M=>o.selected=M)},null,8,Gte),[[ff,o.selected]]),je("label",{for:J},$i(I.text),9,Hte)]))),128))])):hi("",!0),Array.isArray(s)?hi("",!0):(pt(),St("div",Wte,[Ks(je("input",{type:"checkbox",id:v,value:s,"onUpdate:modelValue":t[4]||(t[4]=I=>o.selected=I)},null,8,Yte),[[ff,o.selected]]),je("label",{for:v},$i(s.text),9,qte)]))]))),128))])):hi("",!0)])])),[[h,u.hide]])}const e6=Pr(Rte,[["render",Xte]]),za=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g;return function(r,o,u,h){if(arguments.length===1&&Kte(r)==="string"&&!/\d/.test(r)&&(o=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");o=String(za.masks[o]||o||za.masks.default);var s=o.slice(0,4);(s==="UTC:"||s==="GMT:")&&(o=o.slice(4),u=!0,s==="GMT:"&&(h=!0));var v=u?"getUTC":"get",I=r[v+"Date"](),J=r[v+"Day"](),M=r[v+"Month"](),B=r[v+"FullYear"](),W=r[v+"Hours"](),O=r[v+"Minutes"](),L=r[v+"Seconds"](),G=r[v+"Milliseconds"](),k=u?0:r.getTimezoneOffset(),S=t6(r),A=Zte(r),H={d:I,dd:qh(I),ddd:za.i18n.dayNames[J],dddd:za.i18n.dayNames[J+7],m:M+1,mm:qh(M+1),mmm:za.i18n.monthNames[M],mmmm:za.i18n.monthNames[M+12],yy:String(B).slice(2),yyyy:B,h:W%12||12,hh:qh(W%12||12),H:W,HH:qh(W),M:O,MM:qh(O),s:L,ss:qh(L),l:qh(G,3),L:qh(Math.round(G/10)),t:W<12?za.i18n.timeNames[0]:za.i18n.timeNames[1],tt:W<12?za.i18n.timeNames[2]:za.i18n.timeNames[3],T:W<12?za.i18n.timeNames[4]:za.i18n.timeNames[5],TT:W<12?za.i18n.timeNames[6]:za.i18n.timeNames[7],Z:h?"GMT":u?"UTC":(String(r).match(t)||[""]).pop().replace(i,""),o:(k>0?"-":"+")+qh(Math.floor(Math.abs(k)/60)*100+Math.abs(k)%60,4),S:["th","st","nd","rd"][I%10>3?0:(I%100-I%10!=10)*I%10],W:S,N:A};return o.replace(e,function(U){return U in H?H[U]:U.slice(1,U.length-1)})}}();za.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};za.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function qh(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function t6(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var i=new Date(t.getFullYear(),0,4);i.setDate(i.getDate()-(i.getDay()+6)%7+3);var r=t.getTimezoneOffset()-i.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-i)/(864e5*7);return 1+Math.floor(o)}function Zte(e){var t=e.getDay();return t===0&&(t=7),t}function Kte(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}const i6={isSame:(e,t,i)=>{let r=new Date(e),o=new Date(t);return i==="date"&&(r.setHours(0,0,0,0),o.setHours(0,0,0,0)),r.getTime()===o.getTime()},daysInMonth:(e,t)=>new Date(e,t,0).getDate(),weekNumber:e=>t6(e),format:(e,t)=>za(e,t),nextMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t},prevMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()-1),t},validateDateRange:(e,t,i)=>{let r=new Date(i),o=new Date(t);return i&&e.getTime()>r.getTime()?r:t&&e.getTime()<o.getTime()?o:e},localeData:e=>({...{direction:"ltr",format:"mm/dd/yyyy",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:za.i18n.dayNames.slice(0,7).map(i=>i.substring(0,2)),monthNames:za.i18n.monthNames.slice(0,12),firstDay:0},...e}),yearMonth:e=>{let t=e.getMonth()+1;return e.getFullYear()+(t<10?"0":"")+t},isValidDate:e=>e instanceof Date&&!isNaN(e)},qC={props:{dateUtil:{type:[Object,String],default:"native"}},created(){this.$dateUtil=i6}},Jte={mixins:[qC],name:"calendar",props:{monthDate:Date,localeData:Object,start:Date,end:Date,minDate:Date,maxDate:Date,showDropdowns:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},dateFormat:{type:Function,default:null}},data(){let e=this.monthDate||this.start||new Date;return{currentMonthDate:e,year_text:e.getFullYear()}},methods:{prevMonthClick(){this.changeMonthDate(this.$dateUtil.prevMonth(this.currentMonthDate))},nextMonthClick(){this.changeMonthDate(this.$dateUtil.nextMonth(this.currentMonthDate))},changeMonthDate(e,t=!0){let i=this.$dateUtil.yearMonth(this.currentMonthDate);this.currentMonthDate=this.$dateUtil.validateDateRange(e,this.minDate,this.maxDate),t&&i!==this.$dateUtil.yearMonth(this.currentMonthDate)&&this.$emit("change-month",{month:this.currentMonthDate.getMonth()+1,year:this.currentMonthDate.getFullYear()}),this.checkYear()},dayClass(e){let t=new Date(e);t.setHours(0,0,0,0);let i=new Date(this.start);i.setHours(0,0,0,0);let r=new Date(this.end);r.setHours(0,0,0,0);let o={off:e.getMonth()+1!==this.month,weekend:e.getDay()===6||e.getDay()===0,today:t.setHours(0,0,0,0)==new Date().setHours(0,0,0,0),active:t.setHours(0,0,0,0)==new Date(this.start).setHours(0,0,0,0)||t.setHours(0,0,0,0)==new Date(this.end).setHours(0,0,0,0),"in-range":t>=i&&t<=r,"start-date":t.getTime()===i.getTime(),"end-date":t.getTime()===r.getTime(),disabled:this.minDate&&t.getTime()<this.minDate.getTime()||this.maxDate&&t.getTime()>this.maxDate.getTime()};return this.dateFormat?this.dateFormat(o,e):o},checkYear(){this.$refs.yearSelect!==document.activeElement&&this.$nextTick(()=>{this.year_text=this.monthDate.getFullYear()})}},computed:{monthName(){return this.locale.monthNames[this.currentMonthDate.getMonth()]},year:{get(){return this.year_text},set(e){this.year_text=e;let t=this.$dateUtil.validateDateRange(new Date(e,this.month,1),this.minDate,this.maxDate);this.$dateUtil.isValidDate(t)&&this.$emit("change-month",{month:t.getMonth(),year:t.getFullYear()})}},month:{get(){return this.currentMonthDate.getMonth()+1},set(e){let t=this.$dateUtil.validateDateRange(new Date(this.year,e-1,1),this.minDate,this.maxDate);this.$emit("change-month",{month:t.getMonth()+1,year:t.getFullYear()})}},calendar(){let e=this.month,t=this.currentMonthDate.getFullYear(),i=new Date(t,e-1,1),r=this.$dateUtil.prevMonth(i).getMonth()+1,o=this.$dateUtil.prevMonth(i).getFullYear(),u=new Date(o,e-1,0).getDate(),h=i.getDay(),s=[];for(let J=0;J<6;J++)s[J]=[];let v=u-h+this.locale.firstDay+1;v>u&&(v-=7),h===this.locale.firstDay&&(v=u-6);let I=new Date(o,r-1,v,12,0,0);for(let J=0,M=0,B=0;J<6*7;J++,M++,I.setDate(I.getDate()+1))J>0&&M%7===0&&(M=0,B++),s[B][M]=new Date(I.getTime());return s},months(){let e=this.locale.monthNames.map((t,i)=>({label:t,value:i}));if(this.maxDate&&this.minDate){let t=this.maxDate.getFullYear()-this.minDate.getFullYear();if(t<2){let i=[];if(t<1)for(let r=this.minDate.getMonth();r<=this.maxDate.getMonth();r++)i.push(r);else{for(let r=0;r<=this.maxDate.getMonth();r++)i.push(r);for(let r=this.minDate.getMonth();r<12;r++)i.push(r)}if(i.length>0)return e.filter(r=>i.find(o=>r.value===o)>-1)}}return e},locale(){return this.$dateUtil.localeData(this.localeData)}},watch:{monthDate(e){this.currentMonthDate.getTime()!==e.getTime()&&this.changeMonthDate(e,!1)}}},n6=e=>(Xc("data-v-66e2a2e7"),e=e(),Zc(),e),Qte={class:"table-condensed"},eie=n6(()=>je("span",null,null,-1)),tie=[eie],iie=["colspan"],nie={class:"row mx-1"},rie=["value"],sie=["colspan"],oie=n6(()=>je("span",null,null,-1)),aie=[oie],lie={key:0,class:"week"},cie={key:0,class:"week"},uie=["onClick","onMouseover"];function die(e,t,i,r,o,u){return pt(),St("table",Qte,[je("thead",null,[je("tr",null,[je("th",{class:"prev available",onClick:t[0]||(t[0]=(...h)=>u.prevMonthClick&&u.prevMonthClick(...h)),tabindex:"0"},tie),i.showDropdowns?(pt(),St("th",{key:0,colspan:i.showWeekNumbers?6:5,class:"month"},[je("div",nie,[Ks(je("select",{"onUpdate:modelValue":t[1]||(t[1]=h=>u.month=h),class:"monthselect col"},[(pt(!0),St(Qi,null,ar(u.months,h=>(pt(),St("option",{key:h.value,value:h.value+1},$i(h.label),9,rie))),128))],512),[[Ed,u.month]]),Ks(je("input",{ref:"yearSelect",type:"number","onUpdate:modelValue":t[2]||(t[2]=h=>u.year=h),onBlur:t[3]||(t[3]=(...h)=>u.checkYear&&u.checkYear(...h)),class:"yearselect col"},null,544),[[Yc,u.year]])])],8,iie)):(pt(),St("th",{key:1,colspan:i.showWeekNumbers?6:5,class:"month"},$i(u.monthName)+" "+$i(u.year),9,sie)),je("th",{class:"next available",onClick:t[4]||(t[4]=(...h)=>u.nextMonthClick&&u.nextMonthClick(...h)),tabindex:"0"},aie)])]),je("tbody",null,[je("tr",null,[i.showWeekNumbers?(pt(),St("th",lie,$i(u.locale.weekLabel),1)):hi("",!0),(pt(!0),St(Qi,null,ar(u.locale.daysOfWeek,h=>(pt(),St("th",{key:h},$i(h),1))),128))]),(pt(!0),St(Qi,null,ar(u.calendar,(h,s)=>(pt(),St("tr",{key:s},[i.showWeekNumbers&&(s%7||s===0)?(pt(),St("td",cie,$i(e.$dateUtil.weekNumber(h[0])),1)):hi("",!0),(pt(!0),St(Qi,null,ar(h,(v,I)=>(pt(),St("td",{class:kn(u.dayClass(v)),onClick:J=>e.$emit("dateClick",v),onMouseover:J=>e.$emit("hoverDate",v),key:I},[dn(e.$slots,"date-slot",{date:v},()=>[Yr($i(v.getDate()),1)],!0)],42,uie))),128))]))),128))])])}const hie=Pr(Jte,[["render",die],["__scopeId","data-v-66e2a2e7"]]),pie={props:{miniuteIncrement:{type:Number,default:5},hour24:{type:Boolean,default:!0},secondPicker:{type:Boolean,default:!1},currentTime:{default(){return new Date}},readonly:{type:Boolean,default:!1}},data(){let e=this.currentTime?this.currentTime:new Date,t=e.getHours();return{hour:this.hour24?t:t%12||12,minute:e.getMinutes()-e.getMinutes()%this.miniuteIncrement,second:e.getSeconds(),ampm:t<12?"AM":"PM"}},computed:{hours(){let e=[],t=this.hour24?24:12;for(let i=0;i<t;i++)e.push(this.hour24?i:i+1);return e},minutes(){let e=[],t=60;for(let i=0;i<t;i=i+this.miniuteIncrement)e.push(i);return e}},watch:{hour(){this.onChange()},minute(){this.onChange()},second(){this.onChange()},ampm(){this.onChange()}},methods:{formatNumber:e=>e<10?"0"+e.toString():e.toString(),getHour(){return this.hour24?this.hour:this.hour===12?this.ampm==="AM"?0:12:this.hour+(this.ampm==="PM"?12:0)},onChange(){this.$emit("update",{hours:this.getHour(),minutes:this.minute,seconds:this.second})}}},fie={class:"calendar-time"},mie=["disabled"],gie=["value"],yie=["disabled"],_ie=["value"],vie=["disabled"],xie=["value"],bie=["disabled"],wie=je("option",{value:"AM"},"AM",-1),Tie=je("option",{value:"PM"},"PM",-1),Sie=[wie,Tie];function Cie(e,t,i,r,o,u){return pt(),St("div",fie,[Ks(je("select",{"onUpdate:modelValue":t[0]||(t[0]=h=>o.hour=h),class:"hourselect form-control mr-1",disabled:i.readonly},[(pt(!0),St(Qi,null,ar(u.hours,h=>(pt(),St("option",{key:h,value:h},$i(u.formatNumber(h)),9,gie))),128))],8,mie),[[Ed,o.hour]]),Yr(" :"),Ks(je("select",{"onUpdate:modelValue":t[1]||(t[1]=h=>o.minute=h),class:"minuteselect form-control ml-1",disabled:i.readonly},[(pt(!0),St(Qi,null,ar(u.minutes,h=>(pt(),St("option",{key:h,value:h},$i(u.formatNumber(h)),9,_ie))),128))],8,yie),[[Ed,o.minute]]),i.secondPicker?(pt(),St(Qi,{key:0},[Yr(" :"),Ks(je("select",{"onUpdate:modelValue":t[2]||(t[2]=h=>o.second=h),class:"secondselect form-control ml-1",disabled:i.readonly},[(pt(),St(Qi,null,ar(60,h=>je("option",{key:h-1,value:h-1},$i(u.formatNumber(h-1)),9,xie)),64))],8,vie),[[Ed,o.second]])],64)):hi("",!0),i.hour24?hi("",!0):Ks((pt(),St("select",{key:1,"onUpdate:modelValue":t[3]||(t[3]=h=>o.ampm=h),class:"ampmselect",disabled:i.readonly},Sie,8,bie)),[[Ed,o.ampm]])])}const Eie=Pr(pie,[["render",Cie]]),Mie={mixins:[qC],props:{ranges:Object,selected:Object,localeData:Object,alwaysShowCalendars:Boolean},data(){return{customRangeActive:!1}},methods:{clickRange(e){this.customRangeActive=!1,this.$emit("clickRange",e)},clickCustomRange(){this.customRangeActive=!0,this.$emit("showCustomRange")},range_class(e){return{active:e.selected===!0}}},computed:{listedRanges(){return this.ranges?Object.keys(this.ranges).map(e=>({label:e,value:this.ranges[e],selected:this.$dateUtil.isSame(this.selected.startDate,this.ranges[e][0])&&this.$dateUtil.isSame(this.selected.endDate,this.ranges[e][1])})):!1},selectedRange(){return this.listedRanges.find(e=>e.selected===!0)},showCustomRangeLabel(){return!this.alwaysShowCalendars}}},kie={class:"ranges"},Aie={key:0},Pie=["onClick","data-range-key"];function Die(e,t,i,r,o,u){return pt(),St("div",kie,[i.ranges?(pt(),St("ul",Aie,[(pt(!0),St(Qi,null,ar(u.listedRanges,h=>(pt(),St("li",{onClick:s=>u.clickRange(h.value),"data-range-key":h.label,key:h.label,class:kn(u.range_class(h)),tabindex:"0"},$i(h.label),11,Pie))),128)),u.showCustomRangeLabel?(pt(),St("li",{key:0,class:kn({active:o.customRangeActive||!u.selectedRange}),onClick:t[0]||(t[0]=(...h)=>u.clickCustomRange&&u.clickCustomRange(...h)),tabindex:"0"},$i(i.localeData.customRangeLabel),3)):hi("",!0)])):hi("",!0)])}const Iie=Pr(Mie,[["render",Die]]),Lie={mounted(e,{instance:t}){if(t.appendToBody){const{height:i,top:r,left:o,width:u,right:h}=t.$refs.toggle.getBoundingClientRect();e.unbindPosition=t.calculatePosition(e,t,{width:u,top:window.scrollY+r+i,left:window.scrollX+o,right:h}),document.body.appendChild(e)}else t.$el.appendChild(e)},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},Oie={inheritAttrs:!1,components:{Calendar:hie,CalendarTime:Eie,CalendarRanges:Iie},mixins:[qC],directives:{appendToBody:Lie},emits:["update:modelValue","toggle","hoverDate","startSelection","select","change-month","finishSelection"],props:{modelValue:{type:Object},minDate:{type:[String,Date],default(){return null}},maxDate:{type:[String,Date],default(){return null}},showWeekNumbers:{type:Boolean,default:!1},linkedCalendars:{type:Boolean,default:!0},singleDatePicker:{type:[Boolean,String],default:!1},showDropdowns:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},timePickerIncrement:{type:Number,default:5},timePicker24Hour:{type:Boolean,default:!0},timePickerSeconds:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},localeData:{type:Object,default(){return{}}},dateRange:{type:[Object],default:null,required:!0},ranges:{type:[Object,Boolean],default(){let e=new Date;e.setHours(0,0,0,0);let t=new Date;t.setHours(11,59,59,999);let i=new Date;i.setDate(e.getDate()-1),i.setHours(0,0,0,0);let r=new Date;r.setDate(e.getDate()-1),r.setHours(11,59,59,999);let o=new Date(e.getFullYear(),e.getMonth(),1),u=new Date(e.getFullYear(),e.getMonth()+1,0,11,59,59,999);return{Today:[e,t],Yesterday:[i,r],"This month":[o,u],"This year":[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31,11,59,59,999)],"Last month":[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0,11,59,59,999)]}}},opens:{type:String,default:"center"},dateFormat:Function,alwaysShowCalendars:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},controlContainerClass:{type:[Object,String],default:"form-control reportrange-text"},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:i,top:r,left:o,right:u}){t.opens==="center"?e.style.left=o+i/2+"px":t.opens==="left"?e.style.right=window.innerWidth-u+"px":t.opens==="right"&&(e.style.left=o+"px"),e.style.top=r+"px"}},closeOnEsc:{type:Boolean,default:!0},readonly:{type:Boolean}},data(){const e=i6;let t={locale:e.localeData({...this.localeData})},i=this.dateRange.startDate||null,r=this.dateRange.endDate||null;if(t.monthDate=i?new Date(i):new Date,t.nextMonthDate=e.nextMonth(t.monthDate),t.start=i?new Date(i):null,this.singleDatePicker&&this.singleDatePicker!=="range"?t.end=t.start:t.end=r?new Date(r):null,t.in_selection=!1,t.open=!1,t.showCustomRangeCalendars=!1,t.locale.firstDay!==0){let o=t.locale.firstDay,u=[...t.locale.daysOfWeek];for(;o>0;)u.push(u.shift()),o--;t.locale.daysOfWeek=u}return t},methods:{dateFormatFn(e,t){let i=new Date(t);i.setHours(0,0,0,0);let r=new Date(this.start);r.setHours(0,0,0,0);let o=new Date(this.end);return o.setHours(0,0,0,0),e["in-range"]=i>=r&&i<=o,this.dateFormat?this.dateFormat(e,t):e},changeLeftMonth(e){let t=new Date(e.year,e.month-1,1);this.monthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.monthDate)>=this.$dateUtil.yearMonth(this.nextMonthDate))&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(t),this.minDate,this.maxDate),(!this.singleDatePicker||this.singleDatePicker==="range")&&this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(this.monthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,0)},changeRightMonth(e){let t=new Date(e.year,e.month-1,1);this.nextMonthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.nextMonthDate)<=this.$dateUtil.yearMonth(this.monthDate))&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(t),this.minDate,this.maxDate),this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(this.nextMonthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,1)},normalizeDatetime(e,t){let i=new Date(e);return this.timePicker&&t&&(i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),i.setSeconds(t.getSeconds()),i.setMilliseconds(t.getMilliseconds())),i},dateClick(e){if(this.readonly)return!1;this.in_selection?(this.in_selection=!1,this.end=this.normalizeDatetime(e,this.end),this.end<this.start&&(this.in_selection=!0,this.start=this.normalizeDatetime(e,this.start),this.$emit("startSelection",this.start)),this.in_selection||(this.$emit("finishSelection",this.end),this.onSelect(),this.autoApply&&this.clickedApply())):(this.start=this.normalizeDatetime(e,this.start),this.end=this.normalizeDatetime(e,this.end),!this.singleDatePicker||this.singleDatePicker==="range"?(this.in_selection=!0,this.$emit("startSelection",this.start)):(this.onSelect(),this.autoApply&&this.clickedApply()))},hoverDate(e){if(this.readonly)return!1;let t=this.normalizeDatetime(e,this.end);this.in_selection&&t>=this.start&&(this.end=t),this.$emit("hoverDate",e)},onClickPicker(){this.disabled||this.togglePicker(null,!0)},togglePicker(e,t){typeof e=="boolean"?this.open=e:this.open=!this.open,t===!0&&this.$emit("toggle",this.open,this.togglePicker)},clickedApply(){this.togglePicker(!1,!0),this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},clickCancel(){if(this.open){let e=this.dateRange.startDate,t=this.dateRange.endDate;this.start=e?new Date(e):null,this.end=t?new Date(t):null,this.in_selection=!1,this.togglePicker(!1,!0)}},onSelect(){this.$emit("select",{startDate:this.start,endDate:this.end})},clickAway(e){e&&e.target&&!this.$el.contains(e.target)&&this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&this.clickCancel()},clickRange(e){this.in_selection=!1,this.$dateUtil.isValidDate(e[0])&&this.$dateUtil.isValidDate(e[1])?(this.start=this.$dateUtil.validateDateRange(new Date(e[0]),this.minDate,this.maxDate),this.end=this.$dateUtil.validateDateRange(new Date(e[1]),this.minDate,this.maxDate),this.changeLeftMonth({month:this.start.getMonth()+1,year:this.start.getFullYear()}),this.linkedCalendars===!1&&this.changeRightMonth({month:this.end.getMonth()+1,year:this.end.getFullYear()})):(this.start=null,this.end=null),this.onSelect(),this.autoApply&&this.clickedApply()},onUpdateStartTime(e){let t=new Date(this.start);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.start=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},onUpdateEndTime(e){let t=new Date(this.end);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.end=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.end})},handleEscape(e){this.open&&e.keyCode===27&&this.closeOnEsc&&this.clickCancel()}},computed:{showRanges(){return this.ranges!==!1&&!this.readonly},showCalendars(){return this.alwaysShowCalendars||this.showCustomRangeCalendars},startText(){return this.start===null?"":this.$dateUtil.format(this.start,this.locale.format)},endText(){return this.end===null?"":this.$dateUtil.format(this.end,this.locale.format)},rangeText(){let e=this.startText;return(!this.singleDatePicker||this.singleDatePicker==="range")&&(e+=this.locale.separator+this.endText),e},min(){return this.minDate?new Date(this.minDate):null},max(){return this.maxDate?new Date(this.maxDate):null},pickerStyles(){return{"show-calendar":this.open||this.opens==="inline","show-ranges":this.showRanges,"show-weeknumbers":this.showWeekNumbers,single:this.singleDatePicker,["opens"+this.opens]:!0,linked:this.linkedCalendars,"hide-calendars":!this.showCalendars}},isClear(){return!this.dateRange.startDate||!this.dateRange.endDate},isDirty(){let e=new Date(this.dateRange.startDate),t=new Date(this.dateRange.endDate);return!this.isClear&&(this.start.getTime()!==e.getTime()||this.end.getTime()!==t.getTime())}},watch:{minDate(){let e=this.$dateUtil.validateDateRange(this.monthDate,this.minDate||new Date,this.maxDate);this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},maxDate(){let e=this.$dateUtil.validateDateRange(this.nextMonthDate,this.minDate,this.maxDate||new Date);this.changeRightMonth({year:e.getFullYear(),month:e.getMonth()+1})},"dateRange.startDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.start=e&&!this.isClear&&this.$dateUtil.isValidDate(new Date(e))?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},"dateRange.endDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.end=e&&!this.isClear?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},open:{handler(e){typeof document=="object"&&this.$nextTick(()=>{e?document.body.addEventListener("click",this.clickAway):document.body.removeEventListener("click",this.clickAway),e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape),!this.alwaysShowCalendars&&this.ranges&&(this.showCustomRangeCalendars=!Object.keys(this.ranges).find(t=>this.$dateUtil.isSame(this.start,this.ranges[t][0],"date")&&this.$dateUtil.isSame(this.end,this.ranges[t][1],"date")))})},immediate:!0}}},r6=e=>(Xc("data-v-577c3804"),e=e(),Zc(),e),Rie=r6(()=>je("i",{class:"glyphicon glyphicon-calendar fa fa-calendar"},null,-1)),Bie=r6(()=>je("b",{class:"caret"},null,-1)),Nie={class:"calendars"},zie={key:1,class:"calendars-container"},Fie={class:"calendar-table"},jie={key:0,class:"drp-calendar col right"},Uie={class:"calendar-table"},$ie={key:0,class:"drp-buttons"},Vie={key:0,class:"drp-selected"},Gie=["disabled"];function Hie(e,t,i,r,o,u){const h=dr("calendar-ranges"),s=dr("calendar"),v=dr("calendar-time"),I=Gb("append-to-body");return pt(),St("div",{class:kn(["vue-daterange-picker",{inline:i.opens==="inline"}])},[je("div",{class:kn(i.controlContainerClass),onClick:t[0]||(t[0]=(...J)=>u.onClickPicker&&u.onClickPicker(...J)),ref:"toggle"},[dn(e.$slots,"input",{startDate:e.start,endDate:e.end,ranges:i.ranges,rangeText:u.rangeText},()=>[Rie,Yr("  "),je("span",null,$i(u.rangeText),1),Bie],!0)],2),sn(Ld,{name:"slide-fade",mode:"out-in"},{default:Hn(()=>[e.open||i.opens==="inline"?Ks((pt(),St("div",{key:0,class:kn(["daterangepicker ltr",u.pickerStyles]),ref:"dropdown"},[dn(e.$slots,"header",{rangeText:u.rangeText,locale:e.locale,clickCancel:u.clickCancel,clickApply:u.clickedApply,in_selection:e.in_selection,autoApply:i.autoApply},void 0,!0),je("div",Nie,[u.showRanges?dn(e.$slots,"ranges",{key:0,startDate:e.start,endDate:e.end,ranges:i.ranges,clickRange:u.clickRange},()=>[sn(h,{onClickRange:u.clickRange,onShowCustomRange:t[1]||(t[1]=J=>e.showCustomRangeCalendars=!0),"always-show-calendars":i.alwaysShowCalendars,"locale-data":e.locale,ranges:i.ranges,selected:{startDate:e.start,endDate:e.end}},null,8,["onClickRange","always-show-calendars","locale-data","ranges","selected"])],!0):hi("",!0),u.showCalendars?(pt(),St("div",zie,[je("div",{class:kn(["drp-calendar col left",{single:i.singleDatePicker}])},[hi("",!0),je("div",Fie,[sn(s,{monthDate:e.monthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:u.min,maxDate:u.max,"show-dropdowns":i.showDropdowns,onChangeMonth:u.changeLeftMonth,"date-format":u.dateFormatFn,onDateClick:u.dateClick,onHoverDate:u.hoverDate,showWeekNumbers:i.showWeekNumbers},{default:Hn(()=>[dn(e.$slots,"date",Is(Fa(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),i.timePicker&&e.start?(pt(),mr(v,{key:1,onUpdate:u.onUpdateStartTime,"miniute-increment":i.timePickerIncrement,hour24:i.timePicker24Hour,"second-picker":i.timePickerSeconds,"current-time":e.start,readonly:i.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):hi("",!0)],2),i.singleDatePicker?hi("",!0):(pt(),St("div",jie,[hi("",!0),je("div",Uie,[sn(s,{monthDate:e.nextMonthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:u.min,maxDate:u.max,"show-dropdowns":i.showDropdowns,onChangeMonth:u.changeRightMonth,"date-format":u.dateFormatFn,onDateClick:u.dateClick,onHoverDate:u.hoverDate,showWeekNumbers:i.showWeekNumbers},{default:Hn(()=>[dn(e.$slots,"date",Is(Fa(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),i.timePicker&&e.end?(pt(),mr(v,{key:1,onUpdate:u.onUpdateEndTime,"miniute-increment":i.timePickerIncrement,hour24:i.timePicker24Hour,"second-picker":i.timePickerSeconds,"current-time":e.end,readonly:i.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):hi("",!0)]))])):hi("",!0)]),dn(e.$slots,"footer",{rangeText:u.rangeText,locale:e.locale,clickCancel:u.clickCancel,clickApply:u.clickedApply,in_selection:e.in_selection,autoApply:i.autoApply},()=>[i.autoApply?hi("",!0):(pt(),St("div",$ie,[u.showCalendars?(pt(),St("span",Vie,$i(u.rangeText),1)):hi("",!0),i.readonly?hi("",!0):(pt(),St("button",{key:1,class:"cancelBtn btn btn-sm btn-secondary",type:"button",onClick:t[2]||(t[2]=(...J)=>u.clickCancel&&u.clickCancel(...J))},$i(e.locale.cancelLabel),1)),i.readonly?hi("",!0):(pt(),St("button",{key:2,class:"applyBtn btn btn-sm btn-success",disabled:e.in_selection,type:"button",onClick:t[3]||(t[3]=(...J)=>u.clickedApply&&u.clickedApply(...J))},$i(e.locale.applyLabel),9,Gie))]))],!0)],2)),[[I]]):hi("",!0)]),_:3})],2)}const Wie=Pr(Oie,[["render",Hie],["__scopeId","data-v-577c3804"]]),Yie={name:"DateRange",components:{DateRangePicker:Wie},data(){return{dateRange:{startDate:new Date,endDate:new Date},locale:{direction:"ltr",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:wn.weekdaysMin(),monthNames:wn.monthsShort(),firstDay:1}}},methods:{updatePicker(e){this.$emit("selected",e)}}};function qie(e,t,i,r,o,u){const h=dr("date-range-picker");return pt(),mr(h,{ref:"picker",modelValue:o.dateRange,"onUpdate:modelValue":t[0]||(t[0]=s=>o.dateRange=s),dateRange:o.dateRange,"locale-data":o.locale,timePicker:"",timePicker24Hour:"",onUpdate:u.updatePicker,onSelect:u.updatePicker},{input:Hn(s=>[Yr($i(e.$filters.dateformat(s.startDate))+" - "+$i(e.$filters.dateformat(s.endDate)),1)]),_:1},8,["modelValue","dateRange","locale-data","onUpdate","onSelect"])}const s6=Pr(Yie,[["render",qie]]);YC(yc);KP(yc);const Xie={components:{Chart:cm.Chart,DateRange:s6,DropdownSelect:e6},props:{url:String,title:String,columns:Array},data(){return{params:{from:new Date(new Date().setDate(new Date().getDate()-1)),to:new Date,interval:60},defColumns:[],items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},mounted(){this.defColumns=vb.sampleSize(this.columns,5)},methods:{selected(e){this.items=e,this.showChart()},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],i=[];this.items.forEach((o,u)=>{let h=JP[u];t[u]={title:{text:o.text,style:{color:h,fontSize:"10px"}},lineColor:h,labels:{style:{color:h},align:"left",x:14},lineWidth:1,opposite:!0},o.range&&(t[u].min=o.range[0],t[u].max=o.range[1]),e[u]={id:o.data,row:o.data,yAxis:u,type:o.type?o.type:"spline",name:o.text,color:h,lineWidth:1,data:[]},i[u]=o.data}),this.options.series=e,this.options.yAxis=t,this.params.select=i,(await axios.get(this.url,{params:this.params}).then(o=>o.data)).forEach(o=>{let u=o.unix_time;this.options.series.forEach((h,s)=>{let v=o[h.row];this.options.series[s].data.push([u,v])})}),this.$refs.chart.chart.hideLoading()}}},Zie={class:"row"},Kie={class:"col-12"},Jie={class:"table-title mb-4 mt-2"},Qie={class:"row justify-content-end"},ene={class:"col-6"},tne={class:"col-6"},ine={class:"d-flex align-items-center justify-content-end gap-1"},nne=je("option",{value:"5"},"5m",-1),rne=je("option",{value:"30"},"30m",-1),sne=je("option",{value:"60"},"1 H",-1),one=je("option",{value:"1440"},"1 D",-1),ane=[nne,rne,sne,one];function lne(e,t,i,r,o,u){const h=dr("dropdown-select"),s=dr("VueDatePicker"),v=dr("Chart");return pt(),St("div",Zie,[je("div",Kie,[je("div",Jie,[je("h6",null,$i(i.title),1)]),je("div",Qie,[je("div",ene,[sn(h,{options:i.columns,onChecked:u.selected,default:o.defColumns},null,8,["options","onChecked","default"])]),je("div",tne,[je("div",ine,[sn(s,{modelValue:o.params.from,"onUpdate:modelValue":t[0]||(t[0]=I=>o.params.from=I)},null,8,["modelValue"]),sn(s,{modelValue:o.params.to,"onUpdate:modelValue":t[1]||(t[1]=I=>o.params.to=I)},null,8,["modelValue"]),Ks(je("select",{class:"form-control w-5 bordered","onUpdate:modelValue":t[2]||(t[2]=I=>o.params.interval=I)},ane,512),[[Ed,o.params.interval]]),je("button",{onClick:t[3]||(t[3]=(...I)=>u.showChart&&u.showChart(...I)),class:"btn btn-primary"},"SHOW")])])]),sn(v,{ref:"chart",options:o.options,constructorType:"stockChart"},null,8,["options"])])])}const cne=Pr(Xie,[["render",lne]]);YC(yc);KP(yc);const une={components:{Chart:cm.Chart,DateRange:s6,DropdownSelect:e6},props:{url:String,title:String,columns:Array,socketConfig:Object,fleet:Object},data(){return{socket:null,connected:!1,defColumns:[],params:{},items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},async mounted(){this.socket=io(this.socketConfig.url,{transports:["websocket"]}),this.socket.on("connect",()=>this.connected=!0),this.socket.on("disconnect",()=>this.connected=!1),this.socket.emit("subscribe",`fleet-${this.fleet.id}`),this.socket.on(this.socketConfig.event,this.onMessage),this.defColumns=await vb.sampleSize(this.columns,3),await this.showChart()},methods:{selected(e){this.items=e,this.showChart()},onMessage(e){let t=JSON.parse(e.toString()),i=parseInt(new Date(t.terminal_time).getTime().toFixed(0));this.options.series.forEach((r,o)=>{this.options.series[o].data.shift();let u=t[r.row];this.options.series[o].data.push([i,u])})},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],i=[];this.items.forEach((o,u)=>{let h=JP[u];t[u]={title:{text:o.text,style:{color:h,fontSize:"10px"}},lineColor:h,labels:{style:{color:h},align:"left",x:14},lineWidth:1,opposite:!0},o.range&&(t[u].min=o.range[0],t[u].max=o.range[1]),e[u]={id:o.data,row:o.data,yAxis:u,type:o.type?o.type:"spline",name:o.text,color:h,lineWidth:1,data:[]},i[u]=o.data}),this.options.series=e,this.options.yAxis=t,this.params.select=i,(await axios.get(this.url).then(o=>o.data)).forEach(o=>{let u=parseInt(new Date(o.terminal_time).getTime().toFixed(0));this.options.series.forEach((h,s)=>{let v=parseFloat(o.data[h.row]);this.options.series[s].data.push([u,v])})}),this.$refs.chart.chart.hideLoading()}}},dne={class:"row"},hne={class:"col-12"},pne={class:"table-title mb-4 mt-2"},fne={class:"row justify-content-end"},mne={class:"col-12"};function gne(e,t,i,r,o,u){const h=dr("dropdown-select"),s=dr("Chart");return pt(),St("div",dne,[je("div",hne,[je("div",pne,[je("h6",null,$i(i.title),1)]),je("div",fne,[je("div",mne,[sn(h,{options:i.columns,onChecked:u.selected,default:o.defColumns},null,8,["options","onChecked","default"])])]),sn(s,{ref:"chart",options:o.options,constructorType:"stockChart"},null,8,["options"])])])}const yne=Pr(une,[["render",gne]]),_ne={props:{title:String,fleet:Object,sensors:Array},data(){return{}}},vne={class:"row"},xne={class:"col-12"},bne={class:"table-title"},wne={class:"table table-sm"},Tne=je("th",{scope:"row"},"•",-1),Sne={class:"text-end"};function Cne(e,t,i,r,o,u){return pt(),St("div",vne,[je("div",xne,[je("div",bne,[je("h6",null,$i(i.title),1)]),je("table",wne,[je("tbody",null,[(pt(!0),St(Qi,null,ar(i.sensors,(h,s)=>(pt(),St("tr",null,[Tne,je("td",null,$i(h.name),1),je("td",Sne,$i(h.value)+" "+$i(h.unit),1)]))),256))])])])])}const Ene=Pr(_ne,[["render",Cne]]),Mne={props:{svgPath:String,url:String,group:String},components:{ChartSvg:P_},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet[this.group];if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(i=>{t.includes(i)||(this.data[i+"_bar"]=engine[i]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function kne(e,t,i,r,o,u){const h=dr("chart-svg");return pt(),St("div",null,[sn(h,{path:i.svgPath,svgData:o.data,height:550},null,8,["path","svgData"])])}const Ane=Pr(Mne,[["render",kne]]),Pne={props:{url:String,mapping:Array},data(){return{data:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.data=await axios.get(this.url).then(e=>e.data)}}},Dne={class:"row"},Ine={class:"col-12"},Lne=je("div",{class:"table-title"},[je("h6",null,"Data Information")],-1),One={key:0,class:"table table-sm"},Rne=je("th",{scope:"row"},"•",-1),Bne=je("td",null,"Updated at",-1),Nne={class:"text-end"},zne=je("th",{scope:"row"},"•",-1),Fne={class:"text-end"},jne=["innerHTML"];function Une(e,t,i,r,o,u){return pt(),St("div",Dne,[je("div",Ine,[Lne,o.data?(pt(),St("table",One,[je("tbody",null,[je("tr",null,[Rne,Bne,je("td",Nne,$i(o.data.terminal_time),1)]),(pt(!0),St(Qi,null,ar(i.mapping,h=>(pt(),St("tr",{key:h.data},[zne,je("td",null,$i(h.text),1),je("td",Fne,[Yr($i(o.data[h.data])+" ",1),je("span",{innerHTML:h.unit},null,8,jne)])]))),128))])])):hi("",!0)])])}const $ne=Pr(Pne,[["render",Une]]),Vne={components:{MapboxMap:k_,MapboxNavigationControl:A_},props:{lat:String,lng:String,style:Object},data(){return{map:null,location:{lat:0,lng:0},marker:null}},methods:{loaded(){this.location={lat:this.lat,lng:this.lng},this.marker=new Vl.Marker,this.marker.setLngLat(this.location).addTo(this.map),this.map.on("click",this.addMarker.bind(this))},addMarker(e){this.location=e.lngLat,this.marker.setLngLat(this.location).addTo(this.map)}}},Gne={class:"col-12"},Hne={class:"mapbox-pinned"},Wne={class:"col-12"},Yne={class:"form-group mb-3"},qne=je("label",null,"Latitude",-1),Xne={class:"col-12"},Zne={class:"form-group mb-3"},Kne=je("label",null,"Longitude",-1);function Jne(e,t,i,r,o,u){const h=dr("MapboxNavigationControl"),s=dr("MapboxMap");return pt(),St(Qi,null,[je("div",Gne,[je("div",Hne,[sn(s,{onMbCreated:t[0]||(t[0]=v=>o.map=v),onMbLoad:u.loaded,style:ea(i.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[o.location.lng,o.location.lat],zoom:7},{default:Hn(()=>[sn(h,{position:"bottom-right"})]),_:1},8,["onMbLoad","style","center"])])]),je("div",Wne,[je("div",Yne,[qne,Ks(je("input",{name:"lat",type:"text","onUpdate:modelValue":t[1]||(t[1]=v=>o.location.lat=v),class:"form-control"},null,512),[[Yc,o.location.lat]])])]),je("div",Xne,[je("div",Zne,[Kne,Ks(je("input",{name:"lng",type:"text","onUpdate:modelValue":t[2]||(t[2]=v=>o.location.lng=v),class:"form-control"},null,512),[[Yc,o.location.lng]])])])],64)}const Qne=Pr(Vne,[["render",Jne]]),js=VS({});js.use(P$);js.use(GN);js.component("VueDatePicker",zC);js.component("EasyDataTable",F4);js.component("map-dashboard",Jq);js.component("map-history",pX);js.component("map-default",_X);js.component("map-voyage",$X);js.component("map-bridge",JX);js.component("slider-submenu",$K);js.component("charts-fuel",cJ);js.component("charts-graph",fJ);js.component("charts-spline",_J);js.component("fleet-information",gQ);js.component("fleet-side-info",yee);js.component("fleet-cargo",Eee);js.component("fleet-bunker",Lee);js.component("fleet-ballast",jee);js.component("compass",XP);js.component("engine-type-s",Vee);js.component("user-permission",Qee);js.component("table-editable",Dte);js.component("trend-view",cne);js.component("trend-live",yne);js.component("sensor-info",Ene);js.component("mimic-svg",Ane);js.component("data-info",$ne);js.component("map-pinned",Qne);js.config.globalProperties.$filters={dateformat(e,t="DD/MM/YYYY HH:mm"){return wn(e,"YYYY-MM-DD HH:mm:ss").format(t)},str_limit(e,t=7){return e.toString().substring(0,t)},textFormat(e){return e.toLowerCase().capitalize()},number(e){let t=Number.parseFloat(e).toFixed(2);return Number.parseFloat(t).toLocaleString()}};js.mount("#app")});export default ere();
