var A4=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);import"./toast-fd51308c.js";import"./popper-b924b727.js";var eG=A4((sG,qy)=>{var Ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PS(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function l(){if(this instanceof l){var h=[null];h.push.apply(h,arguments);var u=Function.bind.apply(i,h);return new u}return i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var h=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(s,l,h.get?h:{enumerable:!0,get:function(){return e[l]}})}),s}var Zy={},P4={get exports(){return Zy},set exports(e){Zy=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,i){(function(){var s,l="4.17.21",h=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",y="Expected a function",n="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",z=500,ie="__lodash_placeholder__",G=1,q=2,Z=4,F=1,U=2,re=1,R=2,D=4,N=8,$=16,j=32,S=64,te=128,Y=256,I=512,V=30,X="...",P=800,L=16,_=1,v=2,M=3,O=1/0,ee=9007199254740991,ae=17976931348623157e292,K=0/0,pe=4294967295,Me=pe-1,Pe=pe>>>1,W=[["ary",te],["bind",re],["bindKey",R],["curry",N],["curryRight",$],["flip",I],["partial",j],["partialRight",S],["rearg",Y]],le="[object Arguments]",ue="[object Array]",xe="[object AsyncFunction]",Le="[object Boolean]",oe="[object Date]",ve="[object DOMException]",_e="[object Error]",se="[object Function]",fe="[object GeneratorFunction]",ye="[object Map]",Ie="[object Number]",ke="[object Null]",Ue="[object Object]",st="[object Promise]",it="[object Proxy]",ht="[object RegExp]",Ae="[object Set]",ze="[object String]",je="[object Symbol]",$e="[object Undefined]",nt="[object WeakMap]",bt="[object WeakSet]",jt="[object ArrayBuffer]",Gt="[object DataView]",yi="[object Float32Array]",ri="[object Float64Array]",Ci="[object Int8Array]",Gi="[object Int16Array]",zi="[object Int32Array]",Xi="[object Uint8Array]",Li="[object Uint8ClampedArray]",gn="[object Uint16Array]",bn="[object Uint32Array]",$n=/\b__p \+= '';/g,bs=/\b(__p \+=) '' \+/g,hr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cr=/&(?:amp|lt|gt|quot|#39);/g,Ar=/[&<>"']/g,Ia=RegExp(Cr.source),cc=RegExp(Ar.source),wl=/<%-([\s\S]+?)%>/g,Ya=/<%([\s\S]+?)%>/g,Js=/<%=([\s\S]+?)%>/g,qa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uc=/^\w*$/,at=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/[\\^$.*+?()[\]{}|]/g,Ve=RegExp(Oe.source),ot=/^\s+/,ut=/\s/,St=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lt=/\{\n\/\* \[wrapped with (.+)\] \*/,Rt=/,? & /,Mt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nt=/[()=,{}\[\]\/\s]/,li=/\\(\\)?/g,Oi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_i=/\w*$/,rn=/^[-+]0x[0-9a-f]+$/i,en=/^0b[01]+$/i,$i=/^\[object .+?Constructor\]$/,ln=/^0o[0-7]+$/i,Bn=/^(?:0|[1-9]\d*)$/,Qn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zi=/($^)/,vr=/['\n\r\u2028\u2029\\]/g,or="\\ud800-\\udfff",ua="\\u0300-\\u036f",Za="\\ufe20-\\ufe2f",vo="\\u20d0-\\u20ff",ni=ua+Za+vo,Bo="\\u2700-\\u27bf",ns="a-z\\xdf-\\xf6\\xf8-\\xff",rs="\\xac\\xb1\\xd7\\xf7",hc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xs="\\u2000-\\u206f",gh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nd="A-Z\\xc0-\\xd6\\xd8-\\xde",Ds="\\ufe0e\\ufe0f",Ii=rs+hc+Xs+gh,zn="['’]",Fn="["+or+"]",Fo="["+Ii+"]",pa="["+ni+"]",_n="\\d+",dc="["+Bo+"]",Qo="["+ns+"]",La="[^"+or+Ii+_n+Bo+ns+nd+"]",ws="\\ud83c[\\udffb-\\udfff]",_r="(?:"+pa+"|"+ws+")",Ns="[^"+or+"]",Oa="(?:\\ud83c[\\udde6-\\uddff]){2}",Tl="[\\ud800-\\udbff][\\udc00-\\udfff]",ea="["+nd+"]",Sl="\\u200d",Ka="(?:"+Qo+"|"+La+")",Ra="(?:"+ea+"|"+La+")",Ja="(?:"+zn+"(?:d|ll|m|re|s|t|ve))?",Gc="(?:"+zn+"(?:D|LL|M|RE|S|T|VE))?",Vc=_r+"?",Qs="["+Ds+"]?",Jr="(?:"+Sl+"(?:"+[Ns,Oa,Tl].join("|")+")"+Qs+Vc+")*",El="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Is=Qs+Vc+Jr,No="(?:"+[dc,Oa,Tl].join("|")+")"+Is,iu="(?:"+[Ns+pa+"?",pa,Oa,Tl,Fn].join("|")+")",_h=RegExp(zn,"g"),ms=RegExp(pa,"g"),Ml=RegExp(ws+"(?="+ws+")|"+iu+Is,"g"),yh=RegExp([ea+"?"+Qo+"+"+Ja+"(?="+[Fo,ea,"$"].join("|")+")",Ra+"+"+Gc+"(?="+[Fo,ea+Ka,"$"].join("|")+")",ea+"?"+Ka+"+"+Ja,ea+"+"+Gc,rd,El,_n,No].join("|"),"g"),Cl=RegExp("["+Sl+or+ni+Ds+"]"),Ts=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xh=-1,ir={};ir[yi]=ir[ri]=ir[Ci]=ir[Gi]=ir[zi]=ir[Xi]=ir[Li]=ir[gn]=ir[bn]=!0,ir[le]=ir[ue]=ir[jt]=ir[Le]=ir[Gt]=ir[oe]=ir[_e]=ir[se]=ir[ye]=ir[Ie]=ir[Ue]=ir[ht]=ir[Ae]=ir[ze]=ir[nt]=!1;var dr={};dr[le]=dr[ue]=dr[jt]=dr[Gt]=dr[Le]=dr[oe]=dr[yi]=dr[ri]=dr[Ci]=dr[Gi]=dr[zi]=dr[ye]=dr[Ie]=dr[Ue]=dr[ht]=dr[Ae]=dr[ze]=dr[je]=dr[Xi]=dr[Li]=dr[gn]=dr[bn]=!0,dr[_e]=dr[se]=dr[nt]=!1;var vh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},pp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ta={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wc=parseFloat,bh=parseInt,Al=typeof Ko=="object"&&Ko&&Ko.Object===Object&&Ko,el=typeof self=="object"&&self&&self.Object===Object&&self,gs=Al||el||Function("return this")(),k=i&&!i.nodeType&&i,ne=k&&!0&&e&&!e.nodeType&&e,me=ne&&ne.exports===k,we=me&&Al.process,Be=function(){try{var Dt=ne&&ne.require&&ne.require("util").types;return Dt||we&&we.binding&&we.binding("util")}catch{}}(),Ne=Be&&Be.isArrayBuffer,He=Be&&Be.isDate,Et=Be&&Be.isMap,yt=Be&&Be.isRegExp,Ut=Be&&Be.isSet,ii=Be&&Be.isTypedArray;function fi(Dt,ci,ti){switch(ti.length){case 0:return Dt.call(ci);case 1:return Dt.call(ci,ti[0]);case 2:return Dt.call(ci,ti[0],ti[1]);case 3:return Dt.call(ci,ti[0],ti[1],ti[2])}return Dt.apply(ci,ti)}function Kt(Dt,ci,ti,Yi){for(var Dn=-1,ar=Dt==null?0:Dt.length;++Dn<ar;){var cs=Dt[Dn];ci(Yi,cs,ti(cs),Dt)}return Yi}function ei(Dt,ci){for(var ti=-1,Yi=Dt==null?0:Dt.length;++ti<Yi&&ci(Dt[ti],ti,Dt)!==!1;);return Dt}function ki(Dt,ci){for(var ti=Dt==null?0:Dt.length;ti--&&ci(Dt[ti],ti,Dt)!==!1;);return Dt}function Ln(Dt,ci){for(var ti=-1,Yi=Dt==null?0:Dt.length;++ti<Yi;)if(!ci(Dt[ti],ti,Dt))return!1;return!0}function Ki(Dt,ci){for(var ti=-1,Yi=Dt==null?0:Dt.length,Dn=0,ar=[];++ti<Yi;){var cs=Dt[ti];ci(cs,ti,Dt)&&(ar[Dn++]=cs)}return ar}function qr(Dt,ci){var ti=Dt==null?0:Dt.length;return!!ti&&Pn(Dt,ci,0)>-1}function Lr(Dt,ci,ti){for(var Yi=-1,Dn=Dt==null?0:Dt.length;++Yi<Dn;)if(ti(ci,Dt[Yi]))return!0;return!1}function Gn(Dt,ci){for(var ti=-1,Yi=Dt==null?0:Dt.length,Dn=Array(Yi);++ti<Yi;)Dn[ti]=ci(Dt[ti],ti,Dt);return Dn}function Vn(Dt,ci){for(var ti=-1,Yi=ci.length,Dn=Dt.length;++ti<Yi;)Dt[Dn+ti]=ci[ti];return Dt}function Tn(Dt,ci,ti,Yi){var Dn=-1,ar=Dt==null?0:Dt.length;for(Yi&&ar&&(ti=Dt[++Dn]);++Dn<ar;)ti=ci(ti,Dt[Dn],Dn,Dt);return ti}function Ys(Dt,ci,ti,Yi){var Dn=Dt==null?0:Dt.length;for(Yi&&Dn&&(ti=Dt[--Dn]);Dn--;)ti=ci(ti,Dt[Dn],Dn,Dt);return ti}function Xn(Dt,ci){for(var ti=-1,Yi=Dt==null?0:Dt.length;++ti<Yi;)if(ci(Dt[ti],ti,Dt))return!0;return!1}var Tr=jo("length");function fa(Dt){return Dt.split("")}function kl(Dt){return Dt.match(Mt)||[]}function Ls(Dt,ci,ti){var Yi;return ti(Dt,function(Dn,ar,cs){if(ci(Dn,ar,cs))return Yi=ar,!1}),Yi}function bo(Dt,ci,ti,Yi){for(var Dn=Dt.length,ar=ti+(Yi?1:-1);Yi?ar--:++ar<Dn;)if(ci(Dt[ar],ar,Dt))return ar;return-1}function Pn(Dt,ci,ti){return ci===ci?$c(Dt,ci,ti):bo(Dt,ia,ti)}function js(Dt,ci,ti,Yi){for(var Dn=ti-1,ar=Dt.length;++Dn<ar;)if(Yi(Dt[Dn],ci))return Dn;return-1}function ia(Dt){return Dt!==Dt}function lo(Dt,ci){var ti=Dt==null?0:Dt.length;return ti?ur(Dt,ci)/ti:K}function jo(Dt){return function(ci){return ci==null?s:ci[Dt]}}function Pl(Dt){return function(ci){return Dt==null?s:Dt[ci]}}function za(Dt,ci,ti,Yi,Dn){return Dn(Dt,function(ar,cs,pr){ti=Yi?(Yi=!1,ar):ci(ti,ar,cs,pr)}),ti}function wh(Dt,ci){var ti=Dt.length;for(Dt.sort(ci);ti--;)Dt[ti]=Dt[ti].value;return Dt}function ur(Dt,ci){for(var ti,Yi=-1,Dn=Dt.length;++Yi<Dn;){var ar=ci(Dt[Yi]);ar!==s&&(ti=ti===s?ar:ti+ar)}return ti}function Uo(Dt,ci){for(var ti=-1,Yi=Array(Dt);++ti<Dt;)Yi[ti]=ci(ti);return Yi}function Hc(Dt,ci){return Gn(ci,function(ti){return[ti,Dt[ti]]})}function uc(Dt){return Dt&&Dt.slice(0,Gs(Dt)+1).replace(ot,"")}function eo(Dt){return function(ci){return Dt(ci)}}function Dl(Dt,ci){return Gn(ci,function(ti){return Dt[ti]})}function pc(Dt,ci){return Dt.has(ci)}function od(Dt,ci){for(var ti=-1,Yi=Dt.length;++ti<Yi&&Pn(ci,Dt[ti],0)>-1;);return ti}function fc(Dt,ci){for(var ti=Dt.length;ti--&&Pn(ci,Dt[ti],0)>-1;);return ti}function mc(Dt,ci){for(var ti=Dt.length,Yi=0;ti--;)Dt[ti]===ci&&++Yi;return Yi}var nu=Pl(vh),Il=Pl(pp);function ad(Dt){return"\\"+ta[Dt]}function ma(Dt,ci){return Dt==null?s:Dt[ci]}function Ba(Dt){return Cl.test(Dt)}function Ll(Dt){return Ts.test(Dt)}function Th(Dt){for(var ci,ti=[];!(ci=Dt.next()).done;)ti.push(ci.value);return ti}function gc(Dt){var ci=-1,ti=Array(Dt.size);return Dt.forEach(function(Yi,Dn){ti[++ci]=[Dn,Yi]}),ti}function Go(Dt,ci){return function(ti){return Dt(ci(ti))}}function Us(Dt,ci){for(var ti=-1,Yi=Dt.length,Dn=0,ar=[];++ti<Yi;){var cs=Dt[ti];(cs===ci||cs===ie)&&(Dt[ti]=ie,ar[Dn++]=ti)}return ar}function tl(Dt){var ci=-1,ti=Array(Dt.size);return Dt.forEach(function(Yi){ti[++ci]=Yi}),ti}function ld(Dt){var ci=-1,ti=Array(Dt.size);return Dt.forEach(function(Yi){ti[++ci]=[Yi,Yi]}),ti}function $c(Dt,ci,ti){for(var Yi=ti-1,Dn=Dt.length;++Yi<Dn;)if(Dt[Yi]===ci)return Yi;return-1}function fp(Dt,ci,ti){for(var Yi=ti+1;Yi--;)if(Dt[Yi]===ci)return Yi;return Yi}function nr(Dt){return Ba(Dt)?Ol(Dt):Tr(Dt)}function co(Dt){return Ba(Dt)?ru(Dt):fa(Dt)}function Gs(Dt){for(var ci=Dt.length;ci--&&ut.test(Dt.charAt(ci)););return ci}var wo=Pl(sd);function Ol(Dt){for(var ci=Ml.lastIndex=0;Ml.test(Dt);)++ci;return ci}function ru(Dt){return Dt.match(Ml)||[]}function su(Dt){return Dt.match(yh)||[]}var ou=function Dt(ci){ci=ci==null?gs:To.defaults(gs.Object(),ci,To.pick(gs,Qa));var ti=ci.Array,Yi=ci.Date,Dn=ci.Error,ar=ci.Function,cs=ci.Math,pr=ci.Object,_c=ci.RegExp,Sh=ci.String,ho=ci.TypeError,Ke=ti.prototype,xt=ar.prototype,kt=pr.prototype,hi=ci["__core-js_shared__"],It=xt.toString,Qt=kt.hasOwnProperty,Si=0,Fi=function(){var f=/[^.]+$/.exec(hi&&hi.keys&&hi.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),bi=kt.toString,un=It.call(pr),yn=gs._,vn=_c("^"+It.call(Qt).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),On=me?ci.Buffer:s,Kn=ci.Symbol,pn=ci.Uint8Array,ss=On?On.allocUnsafe:s,hs=Go(pr.getPrototypeOf,pr),Vs=pr.create,Sr=kt.propertyIsEnumerable,to=Ke.splice,So=Kn?Kn.isConcatSpreadable:s,_s=Kn?Kn.iterator:s,Rl=Kn?Kn.toStringTag:s,zl=function(){try{var f=vd(pr,"defineProperty");return f({},"",{}),f}catch{}}(),cd=ci.clearTimeout!==gs.clearTimeout&&ci.clearTimeout,ji=Yi&&Yi.now!==gs.Date.now&&Yi.now,ga=ci.setTimeout!==gs.setTimeout&&ci.setTimeout,yc=cs.ceil,hd=cs.floor,au=pr.getOwnPropertySymbols,Eh=On?On.isBuffer:s,mp=ci.isFinite,lu=Ke.join,Mh=Go(pr.keys,pr),Qr=cs.max,Or=cs.min,dd=Yi.now,Ch=ci.parseInt,Nf=cs.random,Cm=Ke.reverse,cu=vd(ci,"DataView"),il=vd(ci,"Map"),ud=vd(ci,"Promise"),Bl=vd(ci,"Set"),Ah=vd(ci,"WeakMap"),xc=vd(pr,"create"),vc=Ah&&new Ah,Xc={},gp=Hl(cu),_p=Hl(il),jf=Hl(ud),hu=Hl(Bl),Fl=Hl(Ah),kh=Kn?Kn.prototype:s,Ph=kh?kh.valueOf:s,yp=kh?kh.toString:s;function qe(f){if(Ms(f)&&!jn(f)&&!(f instanceof En)){if(f instanceof na)return f;if(Qt.call(f,"__wrapped__"))return Tu(f)}return new na(f)}var Nl=function(){function f(){}return function(T){if(!us(T))return{};if(Vs)return Vs(T);f.prototype=T;var Q=new f;return f.prototype=s,Q}}();function pd(){}function na(f,T){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!T,this.__index__=0,this.__values__=s}qe.templateSettings={escape:wl,evaluate:Ya,interpolate:Js,variable:"",imports:{_:qe}},qe.prototype=pd.prototype,qe.prototype.constructor=qe,na.prototype=Nl(pd.prototype),na.prototype.constructor=na;function En(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function Am(){var f=new En(this.__wrapped__);return f.__actions__=Os(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Os(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Os(this.__views__),f}function xp(){if(this.__filtered__){var f=new En(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function km(){var f=this.__wrapped__.value(),T=this.__dir__,Q=jn(f),Se=T<0,Ge=Q?f.length:0,Je=Hm(0,Ge,this.__views__),gt=Je.start,Ct=Je.end,zt=Ct-gt,mi=Se?Ct:gt-1,vi=this.__iteratees__,Ai=vi.length,Hi=0,cn=Or(zt,this.__takeCount__);if(!Q||!Se&&Ge==zt&&cn==zt)return gd(f,this.__actions__);var An=[];e:for(;zt--&&Hi<cn;){mi+=T;for(var Jn=-1,In=f[mi];++Jn<Ai;){var sr=vi[Jn],fr=sr.iteratee,wa=sr.type,Zo=fr(In);if(wa==v)In=Zo;else if(!Zo){if(wa==_)continue e;break e}}An[Hi++]=In}return An}En.prototype=Nl(pd.prototype),En.prototype.constructor=En;function Yc(f){var T=-1,Q=f==null?0:f.length;for(this.clear();++T<Q;){var Se=f[T];this.set(Se[0],Se[1])}}function jl(){this.__data__=xc?xc(null):{},this.size=0}function Uf(f){var T=this.has(f)&&delete this.__data__[f];return this.size-=T?1:0,T}function Dh(f){var T=this.__data__;if(xc){var Q=T[f];return Q===w?s:Q}return Qt.call(T,f)?T[f]:s}function nl(f){var T=this.__data__;return xc?T[f]!==s:Qt.call(T,f)}function du(f,T){var Q=this.__data__;return this.size+=this.has(f)?0:1,Q[f]=xc&&T===s?w:T,this}Yc.prototype.clear=jl,Yc.prototype.delete=Uf,Yc.prototype.get=Dh,Yc.prototype.has=nl,Yc.prototype.set=du;function Ri(f){var T=-1,Q=f==null?0:f.length;for(this.clear();++T<Q;){var Se=f[T];this.set(Se[0],Se[1])}}function Gf(){this.__data__=[],this.size=0}function Vf(f){var T=this.__data__,Q=a(T,f);if(Q<0)return!1;var Se=T.length-1;return Q==Se?T.pop():to.call(T,Q,1),--this.size,!0}function bc(f){var T=this.__data__,Q=a(T,f);return Q<0?s:T[Q][1]}function fd(f){return a(this.__data__,f)>-1}function vp(f,T){var Q=this.__data__,Se=a(Q,f);return Se<0?(++this.size,Q.push([f,T])):Q[Se][1]=T,this}Ri.prototype.clear=Gf,Ri.prototype.delete=Vf,Ri.prototype.get=bc,Ri.prototype.has=fd,Ri.prototype.set=vp;function rl(f){var T=-1,Q=f==null?0:f.length;for(this.clear();++T<Q;){var Se=f[T];this.set(Se[0],Se[1])}}function bp(){this.size=0,this.__data__={hash:new Yc,map:new(il||Ri),string:new Yc}}function wp(f){var T=_u(this,f).delete(f);return this.size-=T?1:0,T}function Tp(f){return _u(this,f).get(f)}function Sp(f){return _u(this,f).has(f)}function Ih(f,T){var Q=_u(this,f),Se=Q.size;return Q.set(f,T),this.size+=Q.size==Se?0:1,this}rl.prototype.clear=bp,rl.prototype.delete=wp,rl.prototype.get=Tp,rl.prototype.has=Sp,rl.prototype.set=Ih;function Fa(f){var T=-1,Q=f==null?0:f.length;for(this.__data__=new rl;++T<Q;)this.add(f[T])}function uu(f){return this.__data__.set(f,w),this}function Wf(f){return this.__data__.has(f)}Fa.prototype.add=Fa.prototype.push=uu,Fa.prototype.has=Wf;function ra(f){var T=this.__data__=new Ri(f);this.size=T.size}function Hf(){this.__data__=new Ri,this.size=0}function $f(f){var T=this.__data__,Q=T.delete(f);return this.size=T.size,Q}function Xf(f){return this.__data__.get(f)}function Yf(f){return this.__data__.has(f)}function qf(f,T){var Q=this.__data__;if(Q instanceof Ri){var Se=Q.__data__;if(!il||Se.length<h-1)return Se.push([f,T]),this.size=++Q.size,this;Q=this.__data__=new rl(Se)}return Q.set(f,T),this.size=Q.size,this}ra.prototype.clear=Hf,ra.prototype.delete=$f,ra.prototype.get=Xf,ra.prototype.has=Yf,ra.prototype.set=qf;function pu(f,T){var Q=jn(f),Se=!Q&&Cd(f),Ge=!Q&&!Se&&Yl(f),Je=!Q&&!Se&&!Ge&&ql(f),gt=Q||Se||Ge||Je,Ct=gt?Uo(f.length,Sh):[],zt=Ct.length;for(var mi in f)(T||Qt.call(f,mi))&&!(gt&&(mi=="length"||Ge&&(mi=="offset"||mi=="parent")||Je&&(mi=="buffer"||mi=="byteLength"||mi=="byteOffset")||Mc(mi,zt)))&&Ct.push(mi);return Ct}function Ep(f){var T=f.length;return T?f[Wo(0,T-1)]:s}function Zf(f,T){return wu(Os(f),ce(T,0,f.length))}function Mp(f){return wu(Os(f))}function qc(f,T,Q){(Q!==s&&!Xl(f[T],Q)||Q===s&&!(T in f))&&A(f,T,Q)}function m(f,T,Q){var Se=f[T];(!(Qt.call(f,T)&&Xl(Se,Q))||Q===s&&!(T in f))&&A(f,T,Q)}function a(f,T){for(var Q=f.length;Q--;)if(Xl(f[Q][0],T))return Q;return-1}function d(f,T,Q,Se){return Qe(f,function(Ge,Je,gt){T(Se,Ge,Q(Ge),gt)}),Se}function x(f,T){return f&&qs(T,Cs(T),f)}function E(f,T){return f&&qs(T,aa(T),f)}function A(f,T,Q){T=="__proto__"&&zl?zl(f,T,{configurable:!0,enumerable:!0,value:Q,writable:!0}):f[T]=Q}function J(f,T){for(var Q=-1,Se=T.length,Ge=ti(Se),Je=f==null;++Q<Se;)Ge[Q]=Je?s:C0(f,T[Q]);return Ge}function ce(f,T,Q){return f===f&&(Q!==s&&(f=f<=Q?f:Q),T!==s&&(f=f>=T?f:T)),f}function de(f,T,Q,Se,Ge,Je){var gt,Ct=T&G,zt=T&q,mi=T&Z;if(Q&&(gt=Ge?Q(f,Se,Ge,Je):Q(f)),gt!==s)return gt;if(!us(f))return f;var vi=jn(f);if(vi){if(gt=bd(f),!Ct)return Os(f,gt)}else{var Ai=Ho(f),Hi=Ai==se||Ai==fe;if(Yl(f))return Tc(f,Ct);if(Ai==Ue||Ai==le||Hi&&!Ge){if(gt=zt||Hi?{}:Xm(f),!Ct)return zt?Rh(f,E(gt,f)):Oh(f,x(gt,f))}else{if(!dr[Ai])return Ge?f:{};gt=Av(f,Ai,Ct)}}Je||(Je=new ra);var cn=Je.get(f);if(cn)return cn;Je.set(f,gt),U_(f)?f.forEach(function(In){gt.add(de(In,T,Q,In,f,Je))}):wg(f)&&f.forEach(function(In,sr){gt.set(sr,de(In,T,Q,sr,f,Je))});var An=mi?zt?Vm:i0:zt?aa:Cs,Jn=vi?s:An(f);return ei(Jn||f,function(In,sr){Jn&&(sr=In,In=f[sr]),m(gt,sr,de(In,T,Q,sr,f,Je))}),gt}function Ee(f){var T=Cs(f);return function(Q){return Te(Q,f,T)}}function Te(f,T,Q){var Se=Q.length;if(f==null)return!Se;for(f=pr(f);Se--;){var Ge=Q[Se],Je=T[Ge],gt=f[Ge];if(gt===s&&!(Ge in f)||!Je(gt))return!1}return!0}function Re(f,T,Q){if(typeof f!="function")throw new ho(y);return bu(function(){f.apply(s,Q)},T)}function We(f,T,Q,Se){var Ge=-1,Je=qr,gt=!0,Ct=f.length,zt=[],mi=T.length;if(!Ct)return zt;Q&&(T=Gn(T,eo(Q))),Se?(Je=Lr,gt=!1):T.length>=h&&(Je=pc,gt=!1,T=new Fa(T));e:for(;++Ge<Ct;){var vi=f[Ge],Ai=Q==null?vi:Q(vi);if(vi=Se||vi!==0?vi:0,gt&&Ai===Ai){for(var Hi=mi;Hi--;)if(T[Hi]===Ai)continue e;zt.push(vi)}else Je(T,Ai,Se)||zt.push(vi)}return zt}var Qe=n_(mt),et=n_(At,!0);function rt(f,T){var Q=!0;return Qe(f,function(Se,Ge,Je){return Q=!!T(Se,Ge,Je),Q}),Q}function Xe(f,T,Q){for(var Se=-1,Ge=f.length;++Se<Ge;){var Je=f[Se],gt=T(Je);if(gt!=null&&(Ct===s?gt===gt&&!qo(gt):Q(gt,Ct)))var Ct=gt,zt=Je}return zt}function Ze(f,T,Q,Se){var Ge=f.length;for(Q=Mn(Q),Q<0&&(Q=-Q>Ge?0:Ge+Q),Se=Se===s||Se>Ge?Ge:Mn(Se),Se<0&&(Se+=Ge),Se=Q>Se?0:Pu(Se);Q<Se;)f[Q++]=T;return f}function lt(f,T){var Q=[];return Qe(f,function(Se,Ge,Je){T(Se,Ge,Je)&&Q.push(Se)}),Q}function tt(f,T,Q,Se,Ge){var Je=-1,gt=f.length;for(Q||(Q=s0),Ge||(Ge=[]);++Je<gt;){var Ct=f[Je];T>0&&Q(Ct)?T>1?tt(Ct,T-1,Q,Se,Ge):Vn(Ge,Ct):Se||(Ge[Ge.length]=Ct)}return Ge}var pt=r_(),wt=r_(!0);function mt(f,T){return f&&pt(f,T,Cs)}function At(f,T){return f&&wt(f,T,Cs)}function $t(f,T){return Ki(T,function(Q){return Ac(f[Q])})}function Ft(f,T){T=Ul(T,f);for(var Q=0,Se=T.length;f!=null&&Q<Se;)f=f[va(T[Q++])];return Q&&Q==Se?f:s}function Pt(f,T,Q){var Se=T(f);return jn(f)?Se:Vn(Se,Q(f))}function pi(f){return f==null?f===s?$e:ke:Rl&&Rl in pr(f)?o_(f):qm(f)}function Bt(f,T){return f>T}function si(f,T){return f!=null&&Qt.call(f,T)}function Yt(f,T){return f!=null&&T in pr(f)}function xi(f,T,Q){return f>=Or(T,Q)&&f<Qr(T,Q)}function qt(f,T,Q){for(var Se=Q?Lr:qr,Ge=f[0].length,Je=f.length,gt=Je,Ct=ti(Je),zt=1/0,mi=[];gt--;){var vi=f[gt];gt&&T&&(vi=Gn(vi,eo(T))),zt=Or(vi.length,zt),Ct[gt]=!Q&&(T||Ge>=120&&vi.length>=120)?new Fa(gt&&vi):s}vi=f[0];var Ai=-1,Hi=Ct[0];e:for(;++Ai<Ge&&mi.length<zt;){var cn=vi[Ai],An=T?T(cn):cn;if(cn=Q||cn!==0?cn:0,!(Hi?pc(Hi,An):Se(mi,An,Q))){for(gt=Je;--gt;){var Jn=Ct[gt];if(!(Jn?pc(Jn,An):Se(f[gt],An,Q)))continue e}Hi&&Hi.push(An),mi.push(cn)}}return mi}function di(f,T,Q,Se){return mt(f,function(Ge,Je,gt){T(Se,Q(Ge),Je,gt)}),Se}function wi(f,T,Q){T=Ul(T,f),f=Zm(f,T);var Se=f==null?f:f[va(cl(T))];return Se==null?s:fi(Se,f,Q)}function Ot(f){return Ms(f)&&pi(f)==le}function Xt(f){return Ms(f)&&pi(f)==jt}function Vi(f){return Ms(f)&&pi(f)==oe}function Qi(f,T,Q,Se,Ge){return f===T?!0:f==null||T==null||!Ms(f)&&!Ms(T)?f!==f&&T!==T:Wi(f,T,Q,Se,Qi,Ge)}function Wi(f,T,Q,Se,Ge,Je){var gt=jn(f),Ct=jn(T),zt=gt?ue:Ho(f),mi=Ct?ue:Ho(T);zt=zt==le?Ue:zt,mi=mi==le?Ue:mi;var vi=zt==Ue,Ai=mi==Ue,Hi=zt==mi;if(Hi&&Yl(f)){if(!Yl(T))return!1;gt=!0,vi=!1}if(Hi&&!vi)return Je||(Je=new ra),gt||ql(f)?Um(f,T,Q,Se,Ge,Je):Gm(f,T,zt,Q,Se,Ge,Je);if(!(Q&F)){var cn=vi&&Qt.call(f,"__wrapped__"),An=Ai&&Qt.call(T,"__wrapped__");if(cn||An){var Jn=cn?f.value():f,In=An?T.value():T;return Je||(Je=new ra),Ge(Jn,In,Q,Se,Je)}}return Hi?(Je||(Je=new ra),Cv(f,T,Q,Se,Ge,Je)):!1}function dn(f){return Ms(f)&&Ho(f)==ye}function Rn(f,T,Q,Se){var Ge=Q.length,Je=Ge,gt=!Se;if(f==null)return!Je;for(f=pr(f);Ge--;){var Ct=Q[Ge];if(gt&&Ct[2]?Ct[1]!==f[Ct[0]]:!(Ct[0]in f))return!1}for(;++Ge<Je;){Ct=Q[Ge];var zt=Ct[0],mi=f[zt],vi=Ct[1];if(gt&&Ct[2]){if(mi===s&&!(zt in f))return!1}else{var Ai=new ra;if(Se)var Hi=Se(mi,vi,zt,f,T,Ai);if(!(Hi===s?Qi(vi,mi,F|U,Se,Ai):Hi))return!1}}return!0}function tn(f){if(!us(f)||xa(f))return!1;var T=Ac(f)?vn:$i;return T.test(Hl(f))}function Ui(f){return Ms(f)&&pi(f)==ht}function br(f){return Ms(f)&&Ho(f)==Ae}function lr(f){return Ms(f)&&wr(f.length)&&!!ir[pi(f)]}function Er(f){return typeof f=="function"?f:f==null?Ws:typeof f=="object"?jn(f)?Rr(f[0],f[1]):Na(f):Vg(f)}function yr(f){if(!vu(f))return Mh(f);var T=[];for(var Q in pr(f))Qt.call(f,Q)&&Q!="constructor"&&T.push(Q);return T}function Vo(f){if(!us(f))return Td(f);var T=vu(f),Q=[];for(var Se in f)Se=="constructor"&&(T||!Qt.call(f,Se))||Q.push(Se);return Q}function Eo(f,T){return f<T}function uo(f,T){var Q=-1,Se=Br(f)?ti(f.length):[];return Qe(f,function(Ge,Je,gt){Se[++Q]=T(Ge,Je,gt)}),Se}function Na(f){var T=n0(f);return T.length==1&&T[0][2]?o0(T[0][0],T[0][1]):function(Q){return Q===f||Rn(Q,f,T)}}function Rr(f,T){return Ym(f)&&al(T)?o0(va(f),T):function(Q){var Se=C0(Q,f);return Se===s&&Se===T?Ad(Q,f):Qi(T,Se,F|U)}}function xr(f,T,Q,Se,Ge){f!==T&&pt(T,function(Je,gt){if(Ge||(Ge=new ra),us(Je))rr(f,T,gt,Q,xr,Se,Ge);else{var Ct=Se?Se(Km(f,gt),Je,gt+"",f,T,Ge):s;Ct===s&&(Ct=Je),qc(f,gt,Ct)}},aa)}function rr(f,T,Q,Se,Ge,Je,gt){var Ct=Km(f,Q),zt=Km(T,Q),mi=gt.get(zt);if(mi){qc(f,Q,mi);return}var vi=Je?Je(Ct,zt,Q+"",f,T,gt):s,Ai=vi===s;if(Ai){var Hi=jn(zt),cn=!Hi&&Yl(zt),An=!Hi&&!cn&&ql(zt);vi=zt,Hi||cn||An?jn(Ct)?vi=Ct:Gr(Ct)?vi=Os(Ct):cn?(Ai=!1,vi=Tc(zt,!0)):An?(Ai=!1,vi=t_(zt,!0)):vi=[]:Hp(zt)||Cd(zt)?(vi=Ct,Cd(Ct)?vi=S0(Ct):(!us(Ct)||Ac(Ct))&&(vi=Xm(zt))):Ai=!1}Ai&&(gt.set(zt,vi),Ge(vi,zt,Se,Je,gt),gt.delete(zt)),qc(f,Q,vi)}function ds(f,T){var Q=f.length;if(Q)return T+=T<0?Q:0,Mc(T,Q)?f[T]:s}function io(f,T,Q){T.length?T=Gn(T,function(Je){return jn(Je)?function(gt){return Ft(gt,Je.length===1?Je[0]:Je)}:Je}):T=[Ws];var Se=-1;T=Gn(T,eo(Sn()));var Ge=uo(f,function(Je,gt,Ct){var zt=Gn(T,function(mi){return mi(Je)});return{criteria:zt,index:++Se,value:Je}});return wh(Ge,function(Je,gt){return Rm(Je,gt,Q)})}function zr(f,T){return po(f,T,function(Q,Se){return Ad(f,Se)})}function po(f,T,Q){for(var Se=-1,Ge=T.length,Je={};++Se<Ge;){var gt=T[Se],Ct=Ft(f,gt);Q(Ct,gt)&&Zc(Je,Ul(gt,f),Ct)}return Je}function md(f){return function(T){return Ft(T,f)}}function ja(f,T,Q,Se){var Ge=Se?js:Pn,Je=-1,gt=T.length,Ct=f;for(f===T&&(T=Os(T)),Q&&(Ct=Gn(f,eo(Q)));++Je<gt;)for(var zt=0,mi=T[Je],vi=Q?Q(mi):mi;(zt=Ge(Ct,vi,zt,Se))>-1;)Ct!==f&&to.call(Ct,zt,1),to.call(f,zt,1);return f}function no(f,T){for(var Q=f?T.length:0,Se=Q-1;Q--;){var Ge=T[Q];if(Q==Se||Ge!==Je){var Je=Ge;Mc(Ge)?to.call(f,Ge,1):Jf(f,Ge)}}return f}function Wo(f,T){return f+hd(Nf()*(T-f+1))}function sl(f,T,Q,Se){for(var Ge=-1,Je=Qr(yc((T-f)/(Q||1)),0),gt=ti(Je);Je--;)gt[Se?Je:++Ge]=f,f+=Q;return gt}function _a(f,T){var Q="";if(!f||T<1||T>ee)return Q;do T%2&&(Q+=f),T=hd(T/2),T&&(f+=f);while(T);return Q}function Nn(f,T){return Sd(Ip(f,T,Ws),f+"")}function Lh(f){return Ep(kd(f))}function ol(f,T){var Q=kd(f);return wu(Q,ce(T,0,Q.length))}function Zc(f,T,Q,Se){if(!us(f))return f;T=Ul(T,f);for(var Ge=-1,Je=T.length,gt=Je-1,Ct=f;Ct!=null&&++Ge<Je;){var zt=va(T[Ge]),mi=Q;if(zt==="__proto__"||zt==="constructor"||zt==="prototype")return f;if(Ge!=gt){var vi=Ct[zt];mi=Se?Se(vi,zt,Ct):s,mi===s&&(mi=us(vi)?vi:Mc(T[Ge+1])?[]:{})}m(Ct,zt,mi),Ct=Ct[zt]}return f}var Cp=vc?function(f,T){return vc.set(f,T),f}:Ws,q1=zl?function(f,T){return zl(f,"toString",{configurable:!0,enumerable:!1,value:jg(T),writable:!0})}:Ws;function Pm(f){return wu(kd(f))}function Ua(f,T,Q){var Se=-1,Ge=f.length;T<0&&(T=-T>Ge?0:Ge+T),Q=Q>Ge?Ge:Q,Q<0&&(Q+=Ge),Ge=T>Q?0:Q-T>>>0,T>>>=0;for(var Je=ti(Ge);++Se<Ge;)Je[Se]=f[Se+T];return Je}function Z1(f,T){var Q;return Qe(f,function(Se,Ge,Je){return Q=T(Se,Ge,Je),!Q}),!!Q}function Ap(f,T,Q){var Se=0,Ge=f==null?Se:f.length;if(typeof T=="number"&&T===T&&Ge<=Pe){for(;Se<Ge;){var Je=Se+Ge>>>1,gt=f[Je];gt!==null&&!qo(gt)&&(Q?gt<=T:gt<T)?Se=Je+1:Ge=Je}return Ge}return Kf(f,T,Ws,Q)}function Kf(f,T,Q,Se){var Ge=0,Je=f==null?0:f.length;if(Je===0)return 0;T=Q(T);for(var gt=T!==T,Ct=T===null,zt=qo(T),mi=T===s;Ge<Je;){var vi=hd((Ge+Je)/2),Ai=Q(f[vi]),Hi=Ai!==s,cn=Ai===null,An=Ai===Ai,Jn=qo(Ai);if(gt)var In=Se||An;else mi?In=An&&(Se||Hi):Ct?In=An&&Hi&&(Se||!cn):zt?In=An&&Hi&&!cn&&(Se||!Jn):cn||Jn?In=!1:In=Se?Ai<=T:Ai<T;In?Ge=vi+1:Je=vi}return Or(Je,Me)}function Dm(f,T){for(var Q=-1,Se=f.length,Ge=0,Je=[];++Q<Se;){var gt=f[Q],Ct=T?T(gt):gt;if(!Q||!Xl(Ct,zt)){var zt=Ct;Je[Ge++]=gt===0?0:gt}}return Je}function Im(f){return typeof f=="number"?f:qo(f)?K:+f}function ya(f){if(typeof f=="string")return f;if(jn(f))return Gn(f,ya)+"";if(qo(f))return yp?yp.call(f):"";var T=f+"";return T=="0"&&1/f==-O?"-0":T}function Kc(f,T,Q){var Se=-1,Ge=qr,Je=f.length,gt=!0,Ct=[],zt=Ct;if(Q)gt=!1,Ge=Lr;else if(Je>=h){var mi=T?null:fo(f);if(mi)return tl(mi);gt=!1,Ge=pc,zt=new Fa}else zt=T?[]:Ct;e:for(;++Se<Je;){var vi=f[Se],Ai=T?T(vi):vi;if(vi=Q||vi!==0?vi:0,gt&&Ai===Ai){for(var Hi=zt.length;Hi--;)if(zt[Hi]===Ai)continue e;T&&zt.push(Ai),Ct.push(vi)}else Ge(zt,Ai,Q)||(zt!==Ct&&zt.push(Ai),Ct.push(vi))}return Ct}function Jf(f,T){return T=Ul(T,f),f=Zm(f,T),f==null||delete f[va(cl(T))]}function K1(f,T,Q,Se){return Zc(f,T,Q(Ft(f,T)),Se)}function Qf(f,T,Q,Se){for(var Ge=f.length,Je=Se?Ge:-1;(Se?Je--:++Je<Ge)&&T(f[Je],Je,f););return Q?Ua(f,Se?0:Je,Se?Je+1:Ge):Ua(f,Se?Je+1:0,Se?Ge:Je)}function gd(f,T){var Q=f;return Q instanceof En&&(Q=Q.value()),Tn(T,function(Se,Ge){return Ge.func.apply(Ge.thisArg,Vn([Se],Ge.args))},Q)}function e0(f,T,Q){var Se=f.length;if(Se<2)return Se?Kc(f[0]):[];for(var Ge=-1,Je=ti(Se);++Ge<Se;)for(var gt=f[Ge],Ct=-1;++Ct<Se;)Ct!=Ge&&(Je[Ge]=We(Je[Ge]||gt,f[Ct],T,Q));return Kc(tt(Je,1),T,Q)}function Lm(f,T,Q){for(var Se=-1,Ge=f.length,Je=T.length,gt={};++Se<Ge;){var Ct=Se<Je?T[Se]:s;Q(gt,f[Se],Ct)}return gt}function t0(f){return Gr(f)?f:[]}function Om(f){return typeof f=="function"?f:Ws}function Ul(f,T){return jn(f)?f:Ym(f,T)?[f]:Jm(Vr(f))}var J1=Nn;function wc(f,T,Q){var Se=f.length;return Q=Q===s?Se:Q,!T&&Q>=Se?f:Ua(f,T,Q)}var kp=cd||function(f){return gs.clearTimeout(f)};function Tc(f,T){if(T)return f.slice();var Q=f.length,Se=ss?ss(Q):new f.constructor(Q);return f.copy(Se),Se}function fu(f){var T=new f.constructor(f.byteLength);return new pn(T).set(new pn(f)),T}function Q1(f,T){var Q=T?fu(f.buffer):f.buffer;return new f.constructor(Q,f.byteOffset,f.byteLength)}function e_(f){var T=new f.constructor(f.source,_i.exec(f));return T.lastIndex=f.lastIndex,T}function Sv(f){return Ph?pr(Ph.call(f)):{}}function t_(f,T){var Q=T?fu(f.buffer):f.buffer;return new f.constructor(Q,f.byteOffset,f.length)}function i_(f,T){if(f!==T){var Q=f!==s,Se=f===null,Ge=f===f,Je=qo(f),gt=T!==s,Ct=T===null,zt=T===T,mi=qo(T);if(!Ct&&!mi&&!Je&&f>T||Je&&gt&&zt&&!Ct&&!mi||Se&&gt&&zt||!Q&&zt||!Ge)return 1;if(!Se&&!Je&&!mi&&f<T||mi&&Q&&Ge&&!Se&&!Je||Ct&&Q&&Ge||!gt&&Ge||!zt)return-1}return 0}function Rm(f,T,Q){for(var Se=-1,Ge=f.criteria,Je=T.criteria,gt=Ge.length,Ct=Q.length;++Se<gt;){var zt=i_(Ge[Se],Je[Se]);if(zt){if(Se>=Ct)return zt;var mi=Q[Se];return zt*(mi=="desc"?-1:1)}}return f.index-T.index}function mu(f,T,Q,Se){for(var Ge=-1,Je=f.length,gt=Q.length,Ct=-1,zt=T.length,mi=Qr(Je-gt,0),vi=ti(zt+mi),Ai=!Se;++Ct<zt;)vi[Ct]=T[Ct];for(;++Ge<gt;)(Ai||Ge<Je)&&(vi[Q[Ge]]=f[Ge]);for(;mi--;)vi[Ct++]=f[Ge++];return vi}function _d(f,T,Q,Se){for(var Ge=-1,Je=f.length,gt=-1,Ct=Q.length,zt=-1,mi=T.length,vi=Qr(Je-Ct,0),Ai=ti(vi+mi),Hi=!Se;++Ge<vi;)Ai[Ge]=f[Ge];for(var cn=Ge;++zt<mi;)Ai[cn+zt]=T[zt];for(;++gt<Ct;)(Hi||Ge<Je)&&(Ai[cn+Q[gt]]=f[Ge++]);return Ai}function Os(f,T){var Q=-1,Se=f.length;for(T||(T=ti(Se));++Q<Se;)T[Q]=f[Q];return T}function qs(f,T,Q,Se){var Ge=!Q;Q||(Q={});for(var Je=-1,gt=T.length;++Je<gt;){var Ct=T[Je],zt=Se?Se(Q[Ct],f[Ct],Ct,Q,f):s;zt===s&&(zt=f[Ct]),Ge?A(Q,Ct,zt):m(Q,Ct,zt)}return Q}function Oh(f,T){return qs(f,Wm(f),T)}function Rh(f,T){return qs(f,r0(f),T)}function Sc(f,T){return function(Q,Se){var Ge=jn(Q)?Kt:d,Je=T?T():{};return Ge(Q,f,Sn(Se,2),Je)}}function gu(f){return Nn(function(T,Q){var Se=-1,Ge=Q.length,Je=Ge>1?Q[Ge-1]:s,gt=Ge>2?Q[2]:s;for(Je=f.length>3&&typeof Je=="function"?(Ge--,Je):s,gt&&$o(Q[0],Q[1],gt)&&(Je=Ge<3?s:Je,Ge=1),T=pr(T);++Se<Ge;){var Ct=Q[Se];Ct&&f(T,Ct,Se,Je)}return T})}function n_(f,T){return function(Q,Se){if(Q==null)return Q;if(!Br(Q))return f(Q,Se);for(var Ge=Q.length,Je=T?Ge:-1,gt=pr(Q);(T?Je--:++Je<Ge)&&Se(gt[Je],Je,gt)!==!1;);return Q}}function r_(f){return function(T,Q,Se){for(var Ge=-1,Je=pr(T),gt=Se(T),Ct=gt.length;Ct--;){var zt=gt[f?Ct:++Ge];if(Q(Je[zt],zt,Je)===!1)break}return T}}function Ev(f,T,Q){var Se=T&re,Ge=sa(f);function Je(){var gt=this&&this!==gs&&this instanceof Je?Ge:f;return gt.apply(Se?Q:this,arguments)}return Je}function zm(f){return function(T){T=Vr(T);var Q=Ba(T)?co(T):s,Se=Q?Q[0]:T.charAt(0),Ge=Q?wc(Q,1).join(""):T.slice(1);return Se[f]()+Ge}}function Jc(f){return function(T){return Tn(Dd(Lg(T).replace(_h,"")),f,"")}}function sa(f){return function(){var T=arguments;switch(T.length){case 0:return new f;case 1:return new f(T[0]);case 2:return new f(T[0],T[1]);case 3:return new f(T[0],T[1],T[2]);case 4:return new f(T[0],T[1],T[2],T[3]);case 5:return new f(T[0],T[1],T[2],T[3],T[4]);case 6:return new f(T[0],T[1],T[2],T[3],T[4],T[5]);case 7:return new f(T[0],T[1],T[2],T[3],T[4],T[5],T[6])}var Q=Nl(f.prototype),Se=f.apply(Q,T);return us(Se)?Se:Q}}function Mv(f,T,Q){var Se=sa(f);function Ge(){for(var Je=arguments.length,gt=ti(Je),Ct=Je,zt=eh(Ge);Ct--;)gt[Ct]=arguments[Ct];var mi=Je<3&&gt[0]!==zt&&gt[Je-1]!==zt?[]:Us(gt,zt);if(Je-=mi.length,Je<Q)return Va(f,T,an,Ge.placeholder,s,gt,mi,s,s,Q-Je);var vi=this&&this!==gs&&this instanceof Ge?Se:f;return fi(vi,this,gt)}return Ge}function s_(f){return function(T,Q,Se){var Ge=pr(T);if(!Br(T)){var Je=Sn(Q,3);T=Cs(T),Q=function(Ct){return Je(Ge[Ct],Ct,Ge)}}var gt=f(T,Q,Se);return gt>-1?Ge[Je?T[gt]:gt]:s}}function Ss(f){return Vl(function(T){var Q=T.length,Se=Q,Ge=na.prototype.thru;for(f&&T.reverse();Se--;){var Je=T[Se];if(typeof Je!="function")throw new ho(y);if(Ge&&!gt&&Ec(Je)=="wrapper")var gt=new na([],!0)}for(Se=gt?Se:Q;++Se<Q;){Je=T[Se];var Ct=Ec(Je),zt=Ct=="wrapper"?Wl(Je):s;zt&&xu(zt[0])&&zt[1]==(te|N|j|Y)&&!zt[4].length&&zt[9]==1?gt=gt[Ec(zt[0])].apply(gt,zt[3]):gt=Je.length==1&&xu(Je)?gt[Ct]():gt.thru(Je)}return function(){var mi=arguments,vi=mi[0];if(gt&&mi.length==1&&jn(vi))return gt.plant(vi).value();for(var Ai=0,Hi=Q?T[Ai].apply(this,mi):vi;++Ai<Q;)Hi=T[Ai].call(this,Hi);return Hi}})}function an(f,T,Q,Se,Ge,Je,gt,Ct,zt,mi){var vi=T&te,Ai=T&re,Hi=T&R,cn=T&(N|$),An=T&I,Jn=Hi?s:sa(f);function In(){for(var sr=arguments.length,fr=ti(sr),wa=sr;wa--;)fr[wa]=arguments[wa];if(cn)var Zo=eh(In),Ta=mc(fr,Zo);if(Se&&(fr=mu(fr,Se,Ge,cn)),Je&&(fr=_d(fr,Je,gt,cn)),sr-=Ta,cn&&sr<mi){var Rs=Us(fr,Zo);return Va(f,T,an,In.placeholder,Q,fr,Rs,Ct,zt,mi-sr)}var go=Ai?Q:this,Dc=Hi?go[f]:f;return sr=fr.length,Ct?fr=c_(fr,Ct):An&&sr>1&&fr.reverse(),vi&&zt<sr&&(fr.length=zt),this&&this!==gs&&this instanceof In&&(Dc=Jn||sa(Dc)),Dc.apply(go,fr)}return In}function Qc(f,T){return function(Q,Se){return di(Q,f,T(Se),{})}}function yd(f,T){return function(Q,Se){var Ge;if(Q===s&&Se===s)return T;if(Q!==s&&(Ge=Q),Se!==s){if(Ge===s)return Se;typeof Q=="string"||typeof Se=="string"?(Q=ya(Q),Se=ya(Se)):(Q=Im(Q),Se=Im(Se)),Ge=f(Q,Se)}return Ge}}function Zn(f){return Vl(function(T){return T=Gn(T,eo(Sn())),Nn(function(Q){var Se=this;return f(T,function(Ge){return fi(Ge,Se,Q)})})})}function Pp(f,T){T=T===s?" ":ya(T);var Q=T.length;if(Q<2)return Q?_a(T,f):T;var Se=_a(T,yc(f/nr(T)));return Ba(T)?wc(co(Se),0,f).join(""):Se.slice(0,f)}function Bm(f,T,Q,Se){var Ge=T&re,Je=sa(f);function gt(){for(var Ct=-1,zt=arguments.length,mi=-1,vi=Se.length,Ai=ti(vi+zt),Hi=this&&this!==gs&&this instanceof gt?Je:f;++mi<vi;)Ai[mi]=Se[mi];for(;zt--;)Ai[mi++]=arguments[++Ct];return fi(Hi,Ge?Q:this,Ai)}return gt}function Gl(f){return function(T,Q,Se){return Se&&typeof Se!="number"&&$o(T,Q,Se)&&(Q=Se=s),T=kc(T),Q===s?(Q=T,T=0):Q=kc(Q),Se=Se===s?T<Q?1:-1:kc(Se),sl(T,Q,Se,f)}}function Ga(f){return function(T,Q){return typeof T=="string"&&typeof Q=="string"||(T=Mo(T),Q=Mo(Q)),f(T,Q)}}function Va(f,T,Q,Se,Ge,Je,gt,Ct,zt,mi){var vi=T&N,Ai=vi?gt:s,Hi=vi?s:gt,cn=vi?Je:s,An=vi?s:Je;T|=vi?j:S,T&=~(vi?S:j),T&D||(T&=~(re|R));var Jn=[f,T,Ge,cn,Ai,An,Hi,Ct,zt,mi],In=Q.apply(s,Jn);return xu(f)&&a0(In,Jn),In.placeholder=Se,Ed(In,f,T)}function oa(f){var T=cs[f];return function(Q,Se){if(Q=Mo(Q),Se=Se==null?0:Or(Mn(Se),292),Se&&mp(Q)){var Ge=(Vr(Q)+"e").split("e"),Je=T(Ge[0]+"e"+(+Ge[1]+Se));return Ge=(Vr(Je)+"e").split("e"),+(Ge[0]+"e"+(+Ge[1]-Se))}return T(Q)}}var fo=Bl&&1/tl(new Bl([,-0]))[1]==O?function(f){return new Bl(f)}:Gg;function Fm(f){return function(T){var Q=Ho(T);return Q==ye?gc(T):Q==Ae?ld(T):Hc(T,f(T))}}function mo(f,T,Q,Se,Ge,Je,gt,Ct){var zt=T&R;if(!zt&&typeof f!="function")throw new ho(y);var mi=Se?Se.length:0;if(mi||(T&=~(j|S),Se=Ge=s),gt=gt===s?gt:Qr(Mn(gt),0),Ct=Ct===s?Ct:Mn(Ct),mi-=Ge?Ge.length:0,T&S){var vi=Se,Ai=Ge;Se=Ge=s}var Hi=zt?s:Wl(f),cn=[f,T,Q,Se,Ge,vi,Ai,Je,gt,Ct];if(Hi&&Dp(cn,Hi),f=cn[0],T=cn[1],Q=cn[2],Se=cn[3],Ge=cn[4],Ct=cn[9]=cn[9]===s?zt?0:f.length:Qr(cn[9]-mi,0),!Ct&&T&(N|$)&&(T&=~(N|$)),!T||T==re)var An=Ev(f,T,Q);else T==N||T==$?An=Mv(f,T,Ct):(T==j||T==(re|j))&&!Ge.length?An=Bm(f,T,Q,Se):An=an.apply(s,cn);var Jn=Hi?Cp:a0;return Ed(Jn(An,cn),f,T)}function Nm(f,T,Q,Se){return f===s||Xl(f,kt[Q])&&!Qt.call(Se,Q)?T:f}function xd(f,T,Q,Se,Ge,Je){return us(f)&&us(T)&&(Je.set(T,f),xr(f,T,s,xd,Je),Je.delete(T)),f}function jm(f){return Hp(f)?s:f}function Um(f,T,Q,Se,Ge,Je){var gt=Q&F,Ct=f.length,zt=T.length;if(Ct!=zt&&!(gt&&zt>Ct))return!1;var mi=Je.get(f),vi=Je.get(T);if(mi&&vi)return mi==T&&vi==f;var Ai=-1,Hi=!0,cn=Q&U?new Fa:s;for(Je.set(f,T),Je.set(T,f);++Ai<Ct;){var An=f[Ai],Jn=T[Ai];if(Se)var In=gt?Se(Jn,An,Ai,T,f,Je):Se(An,Jn,Ai,f,T,Je);if(In!==s){if(In)continue;Hi=!1;break}if(cn){if(!Xn(T,function(sr,fr){if(!pc(cn,fr)&&(An===sr||Ge(An,sr,Q,Se,Je)))return cn.push(fr)})){Hi=!1;break}}else if(!(An===Jn||Ge(An,Jn,Q,Se,Je))){Hi=!1;break}}return Je.delete(f),Je.delete(T),Hi}function Gm(f,T,Q,Se,Ge,Je,gt){switch(Q){case Gt:if(f.byteLength!=T.byteLength||f.byteOffset!=T.byteOffset)return!1;f=f.buffer,T=T.buffer;case jt:return!(f.byteLength!=T.byteLength||!Je(new pn(f),new pn(T)));case Le:case oe:case Ie:return Xl(+f,+T);case _e:return f.name==T.name&&f.message==T.message;case ht:case ze:return f==T+"";case ye:var Ct=gc;case Ae:var zt=Se&F;if(Ct||(Ct=tl),f.size!=T.size&&!zt)return!1;var mi=gt.get(f);if(mi)return mi==T;Se|=U,gt.set(f,T);var vi=Um(Ct(f),Ct(T),Se,Ge,Je,gt);return gt.delete(f),vi;case je:if(Ph)return Ph.call(f)==Ph.call(T)}return!1}function Cv(f,T,Q,Se,Ge,Je){var gt=Q&F,Ct=i0(f),zt=Ct.length,mi=i0(T),vi=mi.length;if(zt!=vi&&!gt)return!1;for(var Ai=zt;Ai--;){var Hi=Ct[Ai];if(!(gt?Hi in T:Qt.call(T,Hi)))return!1}var cn=Je.get(f),An=Je.get(T);if(cn&&An)return cn==T&&An==f;var Jn=!0;Je.set(f,T),Je.set(T,f);for(var In=gt;++Ai<zt;){Hi=Ct[Ai];var sr=f[Hi],fr=T[Hi];if(Se)var wa=gt?Se(fr,sr,Hi,T,f,Je):Se(sr,fr,Hi,f,T,Je);if(!(wa===s?sr===fr||Ge(sr,fr,Q,Se,Je):wa)){Jn=!1;break}In||(In=Hi=="constructor")}if(Jn&&!In){var Zo=f.constructor,Ta=T.constructor;Zo!=Ta&&"constructor"in f&&"constructor"in T&&!(typeof Zo=="function"&&Zo instanceof Zo&&typeof Ta=="function"&&Ta instanceof Ta)&&(Jn=!1)}return Je.delete(f),Je.delete(T),Jn}function Vl(f){return Sd(Ip(f,s,tg),f+"")}function i0(f){return Pt(f,Cs,Wm)}function Vm(f){return Pt(f,aa,r0)}var Wl=vc?function(f){return vc.get(f)}:Gg;function Ec(f){for(var T=f.name+"",Q=Xc[T],Se=Qt.call(Xc,T)?Q.length:0;Se--;){var Ge=Q[Se],Je=Ge.func;if(Je==null||Je==f)return Ge.name}return T}function eh(f){var T=Qt.call(qe,"placeholder")?qe:f;return T.placeholder}function Sn(){var f=qe.iteratee||Ug;return f=f===Ug?Er:f,arguments.length?f(arguments[0],arguments[1]):f}function _u(f,T){var Q=f.__data__;return kv(T)?Q[typeof T=="string"?"string":"hash"]:Q.map}function n0(f){for(var T=Cs(f),Q=T.length;Q--;){var Se=T[Q],Ge=f[Se];T[Q]=[Se,Ge,al(Ge)]}return T}function vd(f,T){var Q=ma(f,T);return tn(Q)?Q:s}function o_(f){var T=Qt.call(f,Rl),Q=f[Rl];try{f[Rl]=s;var Se=!0}catch{}var Ge=bi.call(f);return Se&&(T?f[Rl]=Q:delete f[Rl]),Ge}var Wm=au?function(f){return f==null?[]:(f=pr(f),Ki(au(f),function(T){return Sr.call(f,T)}))}:R0,r0=au?function(f){for(var T=[];f;)Vn(T,Wm(f)),f=hs(f);return T}:R0,Ho=pi;(cu&&Ho(new cu(new ArrayBuffer(1)))!=Gt||il&&Ho(new il)!=ye||ud&&Ho(ud.resolve())!=st||Bl&&Ho(new Bl)!=Ae||Ah&&Ho(new Ah)!=nt)&&(Ho=function(f){var T=pi(f),Q=T==Ue?f.constructor:s,Se=Q?Hl(Q):"";if(Se)switch(Se){case gp:return Gt;case _p:return ye;case jf:return st;case hu:return Ae;case Fl:return nt}return T});function Hm(f,T,Q){for(var Se=-1,Ge=Q.length;++Se<Ge;){var Je=Q[Se],gt=Je.size;switch(Je.type){case"drop":f+=gt;break;case"dropRight":T-=gt;break;case"take":T=Or(T,f+gt);break;case"takeRight":f=Qr(f,T-gt);break}}return{start:f,end:T}}function a_(f){var T=f.match(Lt);return T?T[1].split(Rt):[]}function $m(f,T,Q){T=Ul(T,f);for(var Se=-1,Ge=T.length,Je=!1;++Se<Ge;){var gt=va(T[Se]);if(!(Je=f!=null&&Q(f,gt)))break;f=f[gt]}return Je||++Se!=Ge?Je:(Ge=f==null?0:f.length,!!Ge&&wr(Ge)&&Mc(gt,Ge)&&(jn(f)||Cd(f)))}function bd(f){var T=f.length,Q=new f.constructor(T);return T&&typeof f[0]=="string"&&Qt.call(f,"index")&&(Q.index=f.index,Q.input=f.input),Q}function Xm(f){return typeof f.constructor=="function"&&!vu(f)?Nl(hs(f)):{}}function Av(f,T,Q){var Se=f.constructor;switch(T){case jt:return fu(f);case Le:case oe:return new Se(+f);case Gt:return Q1(f,Q);case yi:case ri:case Ci:case Gi:case zi:case Xi:case Li:case gn:case bn:return t_(f,Q);case ye:return new Se;case Ie:case ze:return new Se(f);case ht:return e_(f);case Ae:return new Se;case je:return Sv(f)}}function yu(f,T){var Q=T.length;if(!Q)return f;var Se=Q-1;return T[Se]=(Q>1?"& ":"")+T[Se],T=T.join(Q>2?", ":" "),f.replace(St,`{
/* [wrapped with `+T+`] */
`)}function s0(f){return jn(f)||Cd(f)||!!(So&&f&&f[So])}function Mc(f,T){var Q=typeof f;return T=T??ee,!!T&&(Q=="number"||Q!="symbol"&&Bn.test(f))&&f>-1&&f%1==0&&f<T}function $o(f,T,Q){if(!us(Q))return!1;var Se=typeof T;return(Se=="number"?Br(Q)&&Mc(T,Q.length):Se=="string"&&T in Q)?Xl(Q[T],f):!1}function Ym(f,T){if(jn(f))return!1;var Q=typeof f;return Q=="number"||Q=="symbol"||Q=="boolean"||f==null||qo(f)?!0:Uc.test(f)||!qa.test(f)||T!=null&&f in pr(T)}function kv(f){var T=typeof f;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?f!=="__proto__":f===null}function xu(f){var T=Ec(f),Q=qe[T];if(typeof Q!="function"||!(T in En.prototype))return!1;if(f===Q)return!0;var Se=Wl(Q);return!!Se&&f===Se[0]}function xa(f){return!!Fi&&Fi in f}var l_=hi?Ac:Wg;function vu(f){var T=f&&f.constructor,Q=typeof T=="function"&&T.prototype||kt;return f===Q}function al(f){return f===f&&!us(f)}function o0(f,T){return function(Q){return Q==null?!1:Q[f]===T&&(T!==s||f in pr(Q))}}function wd(f){var T=ro(f,function(Se){return Q.size===z&&Q.clear(),Se}),Q=T.cache;return T}function Dp(f,T){var Q=f[1],Se=T[1],Ge=Q|Se,Je=Ge<(re|R|te),gt=Se==te&&Q==N||Se==te&&Q==Y&&f[7].length<=T[8]||Se==(te|Y)&&T[7].length<=T[8]&&Q==N;if(!(Je||gt))return f;Se&re&&(f[2]=T[2],Ge|=Q&re?0:D);var Ct=T[3];if(Ct){var zt=f[3];f[3]=zt?mu(zt,Ct,T[4]):Ct,f[4]=zt?Us(f[3],ie):T[4]}return Ct=T[5],Ct&&(zt=f[5],f[5]=zt?_d(zt,Ct,T[6]):Ct,f[6]=zt?Us(f[5],ie):T[6]),Ct=T[7],Ct&&(f[7]=Ct),Se&te&&(f[8]=f[8]==null?T[8]:Or(f[8],T[8])),f[9]==null&&(f[9]=T[9]),f[0]=T[0],f[1]=Ge,f}function Td(f){var T=[];if(f!=null)for(var Q in pr(f))T.push(Q);return T}function qm(f){return bi.call(f)}function Ip(f,T,Q){return T=Qr(T===s?f.length-1:T,0),function(){for(var Se=arguments,Ge=-1,Je=Qr(Se.length-T,0),gt=ti(Je);++Ge<Je;)gt[Ge]=Se[T+Ge];Ge=-1;for(var Ct=ti(T+1);++Ge<T;)Ct[Ge]=Se[Ge];return Ct[T]=Q(gt),fi(f,this,Ct)}}function Zm(f,T){return T.length<2?f:Ft(f,Ua(T,0,-1))}function c_(f,T){for(var Q=f.length,Se=Or(T.length,Q),Ge=Os(f);Se--;){var Je=T[Se];f[Se]=Mc(Je,Q)?Ge[Je]:s}return f}function Km(f,T){if(!(T==="constructor"&&typeof f[T]=="function")&&T!="__proto__")return f[T]}var a0=Cc(Cp),bu=ga||function(f,T){return gs.setTimeout(f,T)},Sd=Cc(q1);function Ed(f,T,Q){var Se=T+"";return Sd(f,yu(Se,Wa(a_(Se),Q)))}function Cc(f){var T=0,Q=0;return function(){var Se=dd(),Ge=L-(Se-Q);if(Q=Se,Ge>0){if(++T>=P)return arguments[0]}else T=0;return f.apply(s,arguments)}}function wu(f,T){var Q=-1,Se=f.length,Ge=Se-1;for(T=T===s?Se:T;++Q<T;){var Je=Wo(Q,Ge),gt=f[Je];f[Je]=f[Q],f[Q]=gt}return f.length=T,f}var Jm=wd(function(f){var T=[];return f.charCodeAt(0)===46&&T.push(""),f.replace(at,function(Q,Se,Ge,Je){T.push(Ge?Je.replace(li,"$1"):Se||Q)}),T});function va(f){if(typeof f=="string"||qo(f))return f;var T=f+"";return T=="0"&&1/f==-O?"-0":T}function Hl(f){if(f!=null){try{return It.call(f)}catch{}try{return f+""}catch{}}return""}function Wa(f,T){return ei(W,function(Q){var Se="_."+Q[0];T&Q[1]&&!qr(f,Se)&&f.push(Se)}),f.sort()}function Tu(f){if(f instanceof En)return f.clone();var T=new na(f.__wrapped__,f.__chain__);return T.__actions__=Os(f.__actions__),T.__index__=f.__index__,T.__values__=f.__values__,T}function Xo(f,T,Q){(Q?$o(f,T,Q):T===s)?T=1:T=Qr(Mn(T),0);var Se=f==null?0:f.length;if(!Se||T<1)return[];for(var Ge=0,Je=0,gt=ti(yc(Se/T));Ge<Se;)gt[Je++]=Ua(f,Ge,Ge+=T);return gt}function ll(f){for(var T=-1,Q=f==null?0:f.length,Se=0,Ge=[];++T<Q;){var Je=f[T];Je&&(Ge[Se++]=Je)}return Ge}function Qm(){var f=arguments.length;if(!f)return[];for(var T=ti(f-1),Q=arguments[0],Se=f;Se--;)T[Se-1]=arguments[Se];return Vn(jn(Q)?Os(Q):[Q],tt(T,1))}var ys=Nn(function(f,T){return Gr(f)?We(f,tt(T,1,Gr,!0)):[]}),h_=Nn(function(f,T){var Q=cl(T);return Gr(Q)&&(Q=s),Gr(f)?We(f,tt(T,1,Gr,!0),Sn(Q,2)):[]}),Lp=Nn(function(f,T){var Q=cl(T);return Gr(Q)&&(Q=s),Gr(f)?We(f,tt(T,1,Gr,!0),s,Q):[]});function $l(f,T,Q){var Se=f==null?0:f.length;return Se?(T=Q||T===s?1:Mn(T),Ua(f,T<0?0:T,Se)):[]}function Pv(f,T,Q){var Se=f==null?0:f.length;return Se?(T=Q||T===s?1:Mn(T),T=Se-T,Ua(f,0,T<0?0:T)):[]}function Dv(f,T){return f&&f.length?Qf(f,Sn(T,3),!0,!0):[]}function d_(f,T){return f&&f.length?Qf(f,Sn(T,3),!0):[]}function u_(f,T,Q,Se){var Ge=f==null?0:f.length;return Ge?(Q&&typeof Q!="number"&&$o(f,T,Q)&&(Q=0,Se=Ge),Ze(f,T,Q,Se)):[]}function zh(f,T,Q){var Se=f==null?0:f.length;if(!Se)return-1;var Ge=Q==null?0:Mn(Q);return Ge<0&&(Ge=Qr(Se+Ge,0)),bo(f,Sn(T,3),Ge)}function eg(f,T,Q){var Se=f==null?0:f.length;if(!Se)return-1;var Ge=Se-1;return Q!==s&&(Ge=Mn(Q),Ge=Q<0?Qr(Se+Ge,0):Or(Ge,Se-1)),bo(f,Sn(T,3),Ge,!0)}function tg(f){var T=f==null?0:f.length;return T?tt(f,1):[]}function p_(f){var T=f==null?0:f.length;return T?tt(f,O):[]}function f_(f,T){var Q=f==null?0:f.length;return Q?(T=T===s?1:Mn(T),tt(f,T)):[]}function Iv(f){for(var T=-1,Q=f==null?0:f.length,Se={};++T<Q;){var Ge=f[T];Se[Ge[0]]=Ge[1]}return Se}function l0(f){return f&&f.length?f[0]:s}function ig(f,T,Q){var Se=f==null?0:f.length;if(!Se)return-1;var Ge=Q==null?0:Mn(Q);return Ge<0&&(Ge=Qr(Se+Ge,0)),Pn(f,T,Ge)}function ng(f){var T=f==null?0:f.length;return T?Ua(f,0,-1):[]}var Yo=Nn(function(f){var T=Gn(f,t0);return T.length&&T[0]===f[0]?qt(T):[]}),m_=Nn(function(f){var T=cl(f),Q=Gn(f,t0);return T===cl(Q)?T=s:Q.pop(),Q.length&&Q[0]===f[0]?qt(Q,Sn(T,2)):[]}),Lv=Nn(function(f){var T=cl(f),Q=Gn(f,t0);return T=typeof T=="function"?T:s,T&&Q.pop(),Q.length&&Q[0]===f[0]?qt(Q,s,T):[]});function g_(f,T){return f==null?"":lu.call(f,T)}function cl(f){var T=f==null?0:f.length;return T?f[T-1]:s}function Ov(f,T,Q){var Se=f==null?0:f.length;if(!Se)return-1;var Ge=Se;return Q!==s&&(Ge=Mn(Q),Ge=Ge<0?Qr(Se+Ge,0):Or(Ge,Se-1)),T===T?fp(f,T,Ge):bo(f,ia,Ge,!0)}function __(f,T){return f&&f.length?ds(f,Mn(T)):s}var y_=Nn(rg);function rg(f,T){return f&&f.length&&T&&T.length?ja(f,T):f}function sg(f,T,Q){return f&&f.length&&T&&T.length?ja(f,T,Sn(Q,2)):f}function th(f,T,Q){return f&&f.length&&T&&T.length?ja(f,T,s,Q):f}var ba=Vl(function(f,T){var Q=f==null?0:f.length,Se=J(f,T);return no(f,Gn(T,function(Ge){return Mc(Ge,Q)?+Ge:Ge}).sort(i_)),Se});function Rv(f,T){var Q=[];if(!(f&&f.length))return Q;var Se=-1,Ge=[],Je=f.length;for(T=Sn(T,3);++Se<Je;){var gt=f[Se];T(gt,Se,f)&&(Q.push(gt),Ge.push(Se))}return no(f,Ge),Q}function Op(f){return f==null?f:Cm.call(f)}function zv(f,T,Q){var Se=f==null?0:f.length;return Se?(Q&&typeof Q!="number"&&$o(f,T,Q)?(T=0,Q=Se):(T=T==null?0:Mn(T),Q=Q===s?Se:Mn(Q)),Ua(f,T,Q)):[]}function Bv(f,T){return Ap(f,T)}function Fv(f,T,Q){return Kf(f,T,Sn(Q,2))}function Rp(f,T){var Q=f==null?0:f.length;if(Q){var Se=Ap(f,T);if(Se<Q&&Xl(f[Se],T))return Se}return-1}function c0(f,T){return Ap(f,T,!0)}function x_(f,T,Q){return Kf(f,T,Sn(Q,2),!0)}function Md(f,T){var Q=f==null?0:f.length;if(Q){var Se=Ap(f,T,!0)-1;if(Xl(f[Se],T))return Se}return-1}function zp(f){return f&&f.length?Dm(f):[]}function Nv(f,T){return f&&f.length?Dm(f,Sn(T,2)):[]}function jv(f){var T=f==null?0:f.length;return T?Ua(f,1,T):[]}function Uv(f,T,Q){return f&&f.length?(T=Q||T===s?1:Mn(T),Ua(f,0,T<0?0:T)):[]}function Gv(f,T,Q){var Se=f==null?0:f.length;return Se?(T=Q||T===s?1:Mn(T),T=Se-T,Ua(f,T<0?0:T,Se)):[]}function Vv(f,T){return f&&f.length?Qf(f,Sn(T,3),!1,!0):[]}function Wv(f,T){return f&&f.length?Qf(f,Sn(T,3)):[]}var Hv=Nn(function(f){return Kc(tt(f,1,Gr,!0))}),og=Nn(function(f){var T=cl(f);return Gr(T)&&(T=s),Kc(tt(f,1,Gr,!0),Sn(T,2))}),$v=Nn(function(f){var T=cl(f);return T=typeof T=="function"?T:s,Kc(tt(f,1,Gr,!0),s,T)});function Su(f){return f&&f.length?Kc(f):[]}function Xv(f,T){return f&&f.length?Kc(f,Sn(T,2)):[]}function Es(f,T){return T=typeof T=="function"?T:s,f&&f.length?Kc(f,s,T):[]}function Eu(f){if(!(f&&f.length))return[];var T=0;return f=Ki(f,function(Q){if(Gr(Q))return T=Qr(Q.length,T),!0}),Uo(T,function(Q){return Gn(f,jo(Q))})}function ag(f,T){if(!(f&&f.length))return[];var Q=Eu(f);return T==null?Q:Gn(Q,function(Se){return fi(T,s,Se)})}var h0=Nn(function(f,T){return Gr(f)?We(f,T):[]}),d0=Nn(function(f){return e0(Ki(f,Gr))}),Bp=Nn(function(f){var T=cl(f);return Gr(T)&&(T=s),e0(Ki(f,Gr),Sn(T,2))}),v_=Nn(function(f){var T=cl(f);return T=typeof T=="function"?T:s,e0(Ki(f,Gr),s,T)}),b_=Nn(Eu);function Fp(f,T){return Lm(f||[],T||[],m)}function lg(f,T){return Lm(f||[],T||[],Zc)}var cg=Nn(function(f){var T=f.length,Q=T>1?f[T-1]:s;return Q=typeof Q=="function"?(f.pop(),Q):s,ag(f,Q)});function w_(f){var T=qe(f);return T.__chain__=!0,T}function T_(f,T){return T(f),f}function Bh(f,T){return T(f)}var Yv=Vl(function(f){var T=f.length,Q=T?f[0]:0,Se=this.__wrapped__,Ge=function(Je){return J(Je,f)};return T>1||this.__actions__.length||!(Se instanceof En)||!Mc(Q)?this.thru(Ge):(Se=Se.slice(Q,+Q+(T?1:0)),Se.__actions__.push({func:Bh,args:[Ge],thisArg:s}),new na(Se,this.__chain__).thru(function(Je){return T&&!Je.length&&Je.push(s),Je}))});function hg(){return w_(this)}function qv(){return new na(this.value(),this.__chain__)}function dg(){this.__values__===s&&(this.__values__=T0(this.value()));var f=this.__index__>=this.__values__.length,T=f?s:this.__values__[this.__index__++];return{done:f,value:T}}function ug(){return this}function u0(f){for(var T,Q=this;Q instanceof pd;){var Se=Tu(Q);Se.__index__=0,Se.__values__=s,T?Ge.__wrapped__=Se:T=Se;var Ge=Se;Q=Q.__wrapped__}return Ge.__wrapped__=f,T}function Zv(){var f=this.__wrapped__;if(f instanceof En){var T=f;return this.__actions__.length&&(T=new En(this)),T=T.reverse(),T.__actions__.push({func:Bh,args:[Op],thisArg:s}),new na(T,this.__chain__)}return this.thru(Op)}function Kv(){return gd(this.__wrapped__,this.__actions__)}var Jv=Sc(function(f,T,Q){Qt.call(f,Q)?++f[Q]:A(f,Q,1)});function Qv(f,T,Q){var Se=jn(f)?Ln:rt;return Q&&$o(f,T,Q)&&(T=s),Se(f,Sn(T,3))}function e2(f,T){var Q=jn(f)?Ki:lt;return Q(f,Sn(T,3))}var t2=s_(zh),p0=s_(eg);function i2(f,T){return tt(f0(f,T),1)}function S_(f,T){return tt(f0(f,T),O)}function Mu(f,T,Q){return Q=Q===s?1:Mn(Q),tt(f0(f,T),Q)}function E_(f,T){var Q=jn(f)?ei:Qe;return Q(f,Sn(T,3))}function M_(f,T){var Q=jn(f)?ki:et;return Q(f,Sn(T,3))}var n2=Sc(function(f,T,Q){Qt.call(f,Q)?f[Q].push(T):A(f,Q,[T])});function C_(f,T,Q,Se){f=Br(f)?f:kd(f),Q=Q&&!Se?Mn(Q):0;var Ge=f.length;return Q<0&&(Q=Qr(Ge+Q,0)),w0(f)?Q<=Ge&&f.indexOf(T,Q)>-1:!!Ge&&Pn(f,T,Q)>-1}var A_=Nn(function(f,T,Q){var Se=-1,Ge=typeof T=="function",Je=Br(f)?ti(f.length):[];return Qe(f,function(gt){Je[++Se]=Ge?fi(T,gt,Q):wi(gt,T,Q)}),Je}),r2=Sc(function(f,T,Q){A(f,Q,T)});function f0(f,T){var Q=jn(f)?Gn:uo;return Q(f,Sn(T,3))}function s2(f,T,Q,Se){return f==null?[]:(jn(T)||(T=T==null?[]:[T]),Q=Se?s:Q,jn(Q)||(Q=Q==null?[]:[Q]),io(f,T,Q))}var pg=Sc(function(f,T,Q){f[Q?0:1].push(T)},function(){return[[],[]]});function m0(f,T,Q){var Se=jn(f)?Tn:za,Ge=arguments.length<3;return Se(f,Sn(T,4),Q,Ge,Qe)}function g0(f,T,Q){var Se=jn(f)?Ys:za,Ge=arguments.length<3;return Se(f,Sn(T,4),Q,Ge,et)}function o2(f,T){var Q=jn(f)?Ki:lt;return Q(f,Fh(Sn(T,3)))}function a2(f){var T=jn(f)?Ep:Lh;return T(f)}function Np(f,T,Q){(Q?$o(f,T,Q):T===s)?T=1:T=Mn(T);var Se=jn(f)?Zf:ol;return Se(f,T)}function jp(f){var T=jn(f)?Mp:Pm;return T(f)}function k_(f){if(f==null)return 0;if(Br(f))return w0(f)?nr(f):f.length;var T=Ho(f);return T==ye||T==Ae?f.size:yr(f).length}function Up(f,T,Q){var Se=jn(f)?Xn:Z1;return Q&&$o(f,T,Q)&&(T=s),Se(f,Sn(T,3))}var P_=Nn(function(f,T){if(f==null)return[];var Q=T.length;return Q>1&&$o(f,T[0],T[1])?T=[]:Q>2&&$o(T[0],T[1],T[2])&&(T=[T[0]]),io(f,tt(T,1),[])}),_0=ji||function(){return gs.Date.now()};function D_(f,T){if(typeof T!="function")throw new ho(y);return f=Mn(f),function(){if(--f<1)return T.apply(this,arguments)}}function fg(f,T,Q){return T=Q?s:T,T=f&&T==null?f.length:T,mo(f,te,s,s,s,s,T)}function mg(f,T){var Q;if(typeof T!="function")throw new ho(y);return f=Mn(f),function(){return--f>0&&(Q=T.apply(this,arguments)),f<=1&&(T=s),Q}}var y0=Nn(function(f,T,Q){var Se=re;if(Q.length){var Ge=Us(Q,eh(y0));Se|=j}return mo(f,Se,T,Q,Ge)}),gg=Nn(function(f,T,Q){var Se=re|R;if(Q.length){var Ge=Us(Q,eh(gg));Se|=j}return mo(T,Se,f,Q,Ge)});function _g(f,T,Q){T=Q?s:T;var Se=mo(f,N,s,s,s,s,s,T);return Se.placeholder=_g.placeholder,Se}function I_(f,T,Q){T=Q?s:T;var Se=mo(f,$,s,s,s,s,s,T);return Se.placeholder=I_.placeholder,Se}function L_(f,T,Q){var Se,Ge,Je,gt,Ct,zt,mi=0,vi=!1,Ai=!1,Hi=!0;if(typeof f!="function")throw new ho(y);T=Mo(T)||0,us(Q)&&(vi=!!Q.leading,Ai="maxWait"in Q,Je=Ai?Qr(Mo(Q.maxWait)||0,T):Je,Hi="trailing"in Q?!!Q.trailing:Hi);function cn(Rs){var go=Se,Dc=Ge;return Se=Ge=s,mi=Rs,gt=f.apply(Dc,go),gt}function An(Rs){return mi=Rs,Ct=bu(sr,T),vi?cn(Rs):gt}function Jn(Rs){var go=Rs-zt,Dc=Rs-mi,nf=T-go;return Ai?Or(nf,Je-Dc):nf}function In(Rs){var go=Rs-zt,Dc=Rs-mi;return zt===s||go>=T||go<0||Ai&&Dc>=Je}function sr(){var Rs=_0();if(In(Rs))return fr(Rs);Ct=bu(sr,Jn(Rs))}function fr(Rs){return Ct=s,Hi&&Se?cn(Rs):(Se=Ge=s,gt)}function wa(){Ct!==s&&kp(Ct),mi=0,Se=zt=Ge=Ct=s}function Zo(){return Ct===s?gt:fr(_0())}function Ta(){var Rs=_0(),go=In(Rs);if(Se=arguments,Ge=this,zt=Rs,go){if(Ct===s)return An(zt);if(Ai)return kp(Ct),Ct=bu(sr,T),cn(zt)}return Ct===s&&(Ct=bu(sr,T)),gt}return Ta.cancel=wa,Ta.flush=Zo,Ta}var O_=Nn(function(f,T){return Re(f,1,T)}),x0=Nn(function(f,T,Q){return Re(f,Mo(T)||0,Q)});function R_(f){return mo(f,I)}function ro(f,T){if(typeof f!="function"||T!=null&&typeof T!="function")throw new ho(y);var Q=function(){var Se=arguments,Ge=T?T.apply(this,Se):Se[0],Je=Q.cache;if(Je.has(Ge))return Je.get(Ge);var gt=f.apply(this,Se);return Q.cache=Je.set(Ge,gt)||Je,gt};return Q.cache=new(ro.Cache||rl),Q}ro.Cache=rl;function Fh(f){if(typeof f!="function")throw new ho(y);return function(){var T=arguments;switch(T.length){case 0:return!f.call(this);case 1:return!f.call(this,T[0]);case 2:return!f.call(this,T[0],T[1]);case 3:return!f.call(this,T[0],T[1],T[2])}return!f.apply(this,T)}}function Cu(f){return mg(2,f)}var Gp=J1(function(f,T){T=T.length==1&&jn(T[0])?Gn(T[0],eo(Sn())):Gn(tt(T,1),eo(Sn()));var Q=T.length;return Nn(function(Se){for(var Ge=-1,Je=Or(Se.length,Q);++Ge<Je;)Se[Ge]=T[Ge].call(this,Se[Ge]);return fi(f,this,Se)})}),v0=Nn(function(f,T){var Q=Us(T,eh(v0));return mo(f,j,s,T,Q)}),yg=Nn(function(f,T){var Q=Us(T,eh(yg));return mo(f,S,s,T,Q)}),l2=Vl(function(f,T){return mo(f,Y,s,s,s,T)});function c2(f,T){if(typeof f!="function")throw new ho(y);return T=T===s?T:Mn(T),Nn(f,T)}function h2(f,T){if(typeof f!="function")throw new ho(y);return T=T==null?0:Qr(Mn(T),0),Nn(function(Q){var Se=Q[T],Ge=wc(Q,0,T);return Se&&Vn(Ge,Se),fi(f,this,Ge)})}function d2(f,T,Q){var Se=!0,Ge=!0;if(typeof f!="function")throw new ho(y);return us(Q)&&(Se="leading"in Q?!!Q.leading:Se,Ge="trailing"in Q?!!Q.trailing:Ge),L_(f,T,{leading:Se,maxWait:T,trailing:Ge})}function u2(f){return fg(f,1)}function p2(f,T){return v0(Om(T),f)}function b0(){if(!arguments.length)return[];var f=arguments[0];return jn(f)?f:[f]}function f2(f){return de(f,Z)}function z_(f,T){return T=typeof T=="function"?T:s,de(f,Z,T)}function B_(f){return de(f,G|Z)}function F_(f,T){return T=typeof T=="function"?T:s,de(f,G|Z,T)}function m2(f,T){return T==null||Te(f,T,Cs(T))}function Xl(f,T){return f===T||f!==f&&T!==T}var g2=Ga(Bt),_2=Ga(function(f,T){return f>=T}),Cd=Ot(function(){return arguments}())?Ot:function(f){return Ms(f)&&Qt.call(f,"callee")&&!Sr.call(f,"callee")},jn=ti.isArray,y2=Ne?eo(Ne):Xt;function Br(f){return f!=null&&wr(f.length)&&!Ac(f)}function Gr(f){return Ms(f)&&Br(f)}function xg(f){return f===!0||f===!1||Ms(f)&&pi(f)==Le}var Yl=Eh||Wg,Au=He?eo(He):Vi;function x2(f){return Ms(f)&&f.nodeType===1&&!Hp(f)}function v2(f){if(f==null)return!0;if(Br(f)&&(jn(f)||typeof f=="string"||typeof f.splice=="function"||Yl(f)||ql(f)||Cd(f)))return!f.length;var T=Ho(f);if(T==ye||T==Ae)return!f.size;if(vu(f))return!yr(f).length;for(var Q in f)if(Qt.call(f,Q))return!1;return!0}function Vp(f,T){return Qi(f,T)}function b2(f,T,Q){Q=typeof Q=="function"?Q:s;var Se=Q?Q(f,T):s;return Se===s?Qi(f,T,s,Q):!!Se}function vg(f){if(!Ms(f))return!1;var T=pi(f);return T==_e||T==ve||typeof f.message=="string"&&typeof f.name=="string"&&!Hp(f)}function Wp(f){return typeof f=="number"&&mp(f)}function Ac(f){if(!us(f))return!1;var T=pi(f);return T==se||T==fe||T==xe||T==it}function bg(f){return typeof f=="number"&&f==Mn(f)}function wr(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=ee}function us(f){var T=typeof f;return f!=null&&(T=="object"||T=="function")}function Ms(f){return f!=null&&typeof f=="object"}var wg=Et?eo(Et):dn;function ih(f,T){return f===T||Rn(f,T,n0(T))}function ku(f,T,Q){return Q=typeof Q=="function"?Q:s,Rn(f,T,n0(T),Q)}function N_(f){return j_(f)&&f!=+f}function w2(f){if(l_(f))throw new Dn(u);return tn(f)}function T2(f){return f===null}function S2(f){return f==null}function j_(f){return typeof f=="number"||Ms(f)&&pi(f)==Ie}function Hp(f){if(!Ms(f)||pi(f)!=Ue)return!1;var T=hs(f);if(T===null)return!0;var Q=Qt.call(T,"constructor")&&T.constructor;return typeof Q=="function"&&Q instanceof Q&&It.call(Q)==un}var Tg=yt?eo(yt):Ui;function E2(f){return bg(f)&&f>=-ee&&f<=ee}var U_=Ut?eo(Ut):br;function w0(f){return typeof f=="string"||!jn(f)&&Ms(f)&&pi(f)==ze}function qo(f){return typeof f=="symbol"||Ms(f)&&pi(f)==je}var ql=ii?eo(ii):lr;function G_(f){return f===s}function M2(f){return Ms(f)&&Ho(f)==nt}function C2(f){return Ms(f)&&pi(f)==bt}var A2=Ga(Eo),Sg=Ga(function(f,T){return f<=T});function T0(f){if(!f)return[];if(Br(f))return w0(f)?co(f):Os(f);if(_s&&f[_s])return Th(f[_s]());var T=Ho(f),Q=T==ye?gc:T==Ae?tl:kd;return Q(f)}function kc(f){if(!f)return f===0?f:0;if(f=Mo(f),f===O||f===-O){var T=f<0?-1:1;return T*ae}return f===f?f:0}function Mn(f){var T=kc(f),Q=T%1;return T===T?Q?T-Q:T:0}function Pu(f){return f?ce(Mn(f),0,pe):0}function Mo(f){if(typeof f=="number")return f;if(qo(f))return K;if(us(f)){var T=typeof f.valueOf=="function"?f.valueOf():f;f=us(T)?T+"":T}if(typeof f!="string")return f===0?f:+f;f=uc(f);var Q=en.test(f);return Q||ln.test(f)?bh(f.slice(2),Q?2:8):rn.test(f)?K:+f}function S0(f){return qs(f,aa(f))}function E0(f){return f?ce(Mn(f),-ee,ee):f===0?f:0}function Vr(f){return f==null?"":ya(f)}var V_=gu(function(f,T){if(vu(T)||Br(T)){qs(T,Cs(T),f);return}for(var Q in T)Qt.call(T,Q)&&m(f,Q,T[Q])}),Eg=gu(function(f,T){qs(T,aa(T),f)}),M0=gu(function(f,T,Q,Se){qs(T,aa(T),f,Se)}),W_=gu(function(f,T,Q,Se){qs(T,Cs(T),f,Se)}),H_=Vl(J);function Mg(f,T){var Q=Nl(f);return T==null?Q:x(Q,T)}var $_=Nn(function(f,T){f=pr(f);var Q=-1,Se=T.length,Ge=Se>2?T[2]:s;for(Ge&&$o(T[0],T[1],Ge)&&(Se=1);++Q<Se;)for(var Je=T[Q],gt=aa(Je),Ct=-1,zt=gt.length;++Ct<zt;){var mi=gt[Ct],vi=f[mi];(vi===s||Xl(vi,kt[mi])&&!Qt.call(f,mi))&&(f[mi]=Je[mi])}return f}),k2=Nn(function(f){return f.push(s,xd),fi($p,s,f)});function X_(f,T){return Ls(f,Sn(T,3),mt)}function nh(f,T){return Ls(f,Sn(T,3),At)}function Y_(f,T){return f==null?f:pt(f,Sn(T,3),aa)}function q_(f,T){return f==null?f:wt(f,Sn(T,3),aa)}function Z_(f,T){return f&&mt(f,Sn(T,3))}function K_(f,T){return f&&At(f,Sn(T,3))}function P2(f){return f==null?[]:$t(f,Cs(f))}function D2(f){return f==null?[]:$t(f,aa(f))}function C0(f,T,Q){var Se=f==null?s:Ft(f,T);return Se===s?Q:Se}function J_(f,T){return f!=null&&$m(f,T,si)}function Ad(f,T){return f!=null&&$m(f,T,Yt)}var Q_=Qc(function(f,T,Q){T!=null&&typeof T.toString!="function"&&(T=bi.call(T)),f[T]=Q},jg(Ws)),ey=Qc(function(f,T,Q){T!=null&&typeof T.toString!="function"&&(T=bi.call(T)),Qt.call(f,T)?f[T].push(Q):f[T]=[Q]},Sn),Cg=Nn(wi);function Cs(f){return Br(f)?pu(f):yr(f)}function aa(f){return Br(f)?pu(f,!0):Vo(f)}function A0(f,T){var Q={};return T=Sn(T,3),mt(f,function(Se,Ge,Je){A(Q,T(Se,Ge,Je),Se)}),Q}function ty(f,T){var Q={};return T=Sn(T,3),mt(f,function(Se,Ge,Je){A(Q,Ge,T(Se,Ge,Je))}),Q}var k0=gu(function(f,T,Q){xr(f,T,Q)}),$p=gu(function(f,T,Q,Se){xr(f,T,Q,Se)}),I2=Vl(function(f,T){var Q={};if(f==null)return Q;var Se=!1;T=Gn(T,function(Je){return Je=Ul(Je,f),Se||(Se=Je.length>1),Je}),qs(f,Vm(f),Q),Se&&(Q=de(Q,G|q|Z,jm));for(var Ge=T.length;Ge--;)Jf(Q,T[Ge]);return Q});function L2(f,T){return iy(f,Fh(Sn(T)))}var O2=Vl(function(f,T){return f==null?{}:zr(f,T)});function iy(f,T){if(f==null)return{};var Q=Gn(Vm(f),function(Se){return[Se]});return T=Sn(T),po(f,Q,function(Se,Ge){return T(Se,Ge[0])})}function R2(f,T,Q){T=Ul(T,f);var Se=-1,Ge=T.length;for(Ge||(Ge=1,f=s);++Se<Ge;){var Je=f==null?s:f[va(T[Se])];Je===s&&(Se=Ge,Je=Q),f=Ac(Je)?Je.call(f):Je}return f}function Du(f,T,Q){return f==null?f:Zc(f,T,Q)}function Ag(f,T,Q,Se){return Se=typeof Se=="function"?Se:s,f==null?f:Zc(f,T,Q,Se)}var ny=Fm(Cs),kg=Fm(aa);function z2(f,T,Q){var Se=jn(f),Ge=Se||Yl(f)||ql(f);if(T=Sn(T,4),Q==null){var Je=f&&f.constructor;Ge?Q=Se?new Je:[]:us(f)?Q=Ac(Je)?Nl(hs(f)):{}:Q={}}return(Ge?ei:mt)(f,function(gt,Ct,zt){return T(Q,gt,Ct,zt)}),Q}function Pg(f,T){return f==null?!0:Jf(f,T)}function B2(f,T,Q){return f==null?f:K1(f,T,Om(Q))}function Nh(f,T,Q,Se){return Se=typeof Se=="function"?Se:s,f==null?f:K1(f,T,Om(Q),Se)}function kd(f){return f==null?[]:Dl(f,Cs(f))}function ry(f){return f==null?[]:Dl(f,aa(f))}function P0(f,T,Q){return Q===s&&(Q=T,T=s),Q!==s&&(Q=Mo(Q),Q=Q===Q?Q:0),T!==s&&(T=Mo(T),T=T===T?T:0),ce(Mo(f),T,Q)}function Dg(f,T,Q){return T=kc(T),Q===s?(Q=T,T=0):Q=kc(Q),f=Mo(f),xi(f,T,Q)}function F2(f,T,Q){if(Q&&typeof Q!="boolean"&&$o(f,T,Q)&&(T=Q=s),Q===s&&(typeof T=="boolean"?(Q=T,T=s):typeof f=="boolean"&&(Q=f,f=s)),f===s&&T===s?(f=0,T=1):(f=kc(f),T===s?(T=f,f=0):T=kc(T)),f>T){var Se=f;f=T,T=Se}if(Q||f%1||T%1){var Ge=Nf();return Or(f+Ge*(T-f+Wc("1e-"+((Ge+"").length-1))),T)}return Wo(f,T)}var N2=Jc(function(f,T,Q){return T=T.toLowerCase(),f+(Q?Ig(T):T)});function Ig(f){return L0(Vr(f).toLowerCase())}function Lg(f){return f=Vr(f),f&&f.replace(Qn,nu).replace(ms,"")}function Xp(f,T,Q){f=Vr(f),T=ya(T);var Se=f.length;Q=Q===s?Se:ce(Mn(Q),0,Se);var Ge=Q;return Q-=T.length,Q>=0&&f.slice(Q,Ge)==T}function rh(f){return f=Vr(f),f&&cc.test(f)?f.replace(Ar,Il):f}function Og(f){return f=Vr(f),f&&Ve.test(f)?f.replace(Oe,"\\$&"):f}var Iu=Jc(function(f,T,Q){return f+(Q?"-":"")+T.toLowerCase()}),Lu=Jc(function(f,T,Q){return f+(Q?" ":"")+T.toLowerCase()}),hl=zm("toLowerCase");function dl(f,T,Q){f=Vr(f),T=Mn(T);var Se=T?nr(f):0;if(!T||Se>=T)return f;var Ge=(T-Se)/2;return Pp(hd(Ge),Q)+f+Pp(yc(Ge),Q)}function j2(f,T,Q){f=Vr(f),T=Mn(T);var Se=T?nr(f):0;return T&&Se<T?f+Pp(T-Se,Q):f}function sy(f,T,Q){f=Vr(f),T=Mn(T);var Se=T?nr(f):0;return T&&Se<T?Pp(T-Se,Q)+f:f}function U2(f,T,Q){return Q||T==null?T=0:T&&(T=+T),Ch(Vr(f).replace(ot,""),T||0)}function Rg(f,T,Q){return(Q?$o(f,T,Q):T===s)?T=1:T=Mn(T),_a(Vr(f),T)}function Pc(){var f=arguments,T=Vr(f[0]);return f.length<3?T:T.replace(f[1],f[2])}var Pd=Jc(function(f,T,Q){return f+(Q?"_":"")+T.toLowerCase()});function oy(f,T,Q){return Q&&typeof Q!="number"&&$o(f,T,Q)&&(T=Q=s),Q=Q===s?pe:Q>>>0,Q?(f=Vr(f),f&&(typeof T=="string"||T!=null&&!Tg(T))&&(T=ya(T),!T&&Ba(f))?wc(co(f),0,Q):f.split(T,Q)):[]}var ay=Jc(function(f,T,Q){return f+(Q?" ":"")+L0(T)});function G2(f,T,Q){return f=Vr(f),Q=Q==null?0:ce(Mn(Q),0,f.length),T=ya(T),f.slice(Q,Q+T.length)==T}function D0(f,T,Q){var Se=qe.templateSettings;Q&&$o(f,T,Q)&&(T=s),f=Vr(f),T=M0({},T,Se,Nm);var Ge=M0({},T.imports,Se.imports,Nm),Je=Cs(Ge),gt=Dl(Ge,Je),Ct,zt,mi=0,vi=T.interpolate||Zi,Ai="__p += '",Hi=_c((T.escape||Zi).source+"|"+vi.source+"|"+(vi===Js?Oi:Zi).source+"|"+(T.evaluate||Zi).source+"|$","g"),cn="//# sourceURL="+(Qt.call(T,"sourceURL")?(T.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xh+"]")+`
`;f.replace(Hi,function(In,sr,fr,wa,Zo,Ta){return fr||(fr=wa),Ai+=f.slice(mi,Ta).replace(vr,ad),sr&&(Ct=!0,Ai+=`' +
__e(`+sr+`) +
'`),Zo&&(zt=!0,Ai+=`';
`+Zo+`;
__p += '`),fr&&(Ai+=`' +
((__t = (`+fr+`)) == null ? '' : __t) +
'`),mi=Ta+In.length,In}),Ai+=`';
`;var An=Qt.call(T,"variable")&&T.variable;if(!An)Ai=`with (obj) {
`+Ai+`
}
`;else if(Nt.test(An))throw new Dn(n);Ai=(zt?Ai.replace($n,""):Ai).replace(bs,"$1").replace(hr,"$1;"),Ai="function("+(An||"obj")+`) {
`+(An?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ct?", __e = _.escape":"")+(zt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ai+`return __p
}`;var Jn=Fg(function(){return ar(Je,cn+"return "+Ai).apply(s,gt)});if(Jn.source=Ai,vg(Jn))throw Jn;return Jn}function zg(f){return Vr(f).toLowerCase()}function Ou(f){return Vr(f).toUpperCase()}function Yp(f,T,Q){if(f=Vr(f),f&&(Q||T===s))return uc(f);if(!f||!(T=ya(T)))return f;var Se=co(f),Ge=co(T),Je=od(Se,Ge),gt=fc(Se,Ge)+1;return wc(Se,Je,gt).join("")}function qp(f,T,Q){if(f=Vr(f),f&&(Q||T===s))return f.slice(0,Gs(f)+1);if(!f||!(T=ya(T)))return f;var Se=co(f),Ge=fc(Se,co(T))+1;return wc(Se,0,Ge).join("")}function I0(f,T,Q){if(f=Vr(f),f&&(Q||T===s))return f.replace(ot,"");if(!f||!(T=ya(T)))return f;var Se=co(f),Ge=od(Se,co(T));return wc(Se,Ge).join("")}function ly(f,T){var Q=V,Se=X;if(us(T)){var Ge="separator"in T?T.separator:Ge;Q="length"in T?Mn(T.length):Q,Se="omission"in T?ya(T.omission):Se}f=Vr(f);var Je=f.length;if(Ba(f)){var gt=co(f);Je=gt.length}if(Q>=Je)return f;var Ct=Q-nr(Se);if(Ct<1)return Se;var zt=gt?wc(gt,0,Ct).join(""):f.slice(0,Ct);if(Ge===s)return zt+Se;if(gt&&(Ct+=zt.length-Ct),Tg(Ge)){if(f.slice(Ct).search(Ge)){var mi,vi=zt;for(Ge.global||(Ge=_c(Ge.source,Vr(_i.exec(Ge))+"g")),Ge.lastIndex=0;mi=Ge.exec(vi);)var Ai=mi.index;zt=zt.slice(0,Ai===s?Ct:Ai)}}else if(f.indexOf(ya(Ge),Ct)!=Ct){var Hi=zt.lastIndexOf(Ge);Hi>-1&&(zt=zt.slice(0,Hi))}return zt+Se}function Zp(f){return f=Vr(f),f&&Ia.test(f)?f.replace(Cr,wo):f}var Bg=Jc(function(f,T,Q){return f+(Q?" ":"")+T.toUpperCase()}),L0=zm("toUpperCase");function Dd(f,T,Q){return f=Vr(f),T=Q?s:T,T===s?Ll(f)?su(f):kl(f):f.match(T)||[]}var Fg=Nn(function(f,T){try{return fi(f,s,T)}catch(Q){return vg(Q)?Q:new Dn(Q)}}),Ng=Vl(function(f,T){return ei(T,function(Q){Q=va(Q),A(f,Q,y0(f[Q],f))}),f});function cy(f){var T=f==null?0:f.length,Q=Sn();return f=T?Gn(f,function(Se){if(typeof Se[1]!="function")throw new ho(y);return[Q(Se[0]),Se[1]]}):[],Nn(function(Se){for(var Ge=-1;++Ge<T;){var Je=f[Ge];if(fi(Je[0],this,Se))return fi(Je[1],this,Se)}})}function V2(f){return Ee(de(f,G))}function jg(f){return function(){return f}}function hy(f,T){return f==null||f!==f?T:f}var Id=Ss(),W2=Ss(!0);function Ws(f){return f}function Ug(f){return Er(typeof f=="function"?f:de(f,G))}function Kp(f){return Na(de(f,G))}function Jp(f,T){return Rr(f,de(T,G))}var Qp=Nn(function(f,T){return function(Q){return wi(Q,f,T)}}),ef=Nn(function(f,T){return function(Q){return wi(f,Q,T)}});function Ru(f,T,Q){var Se=Cs(T),Ge=$t(T,Se);Q==null&&!(us(T)&&(Ge.length||!Se.length))&&(Q=T,T=f,f=this,Ge=$t(T,Cs(T)));var Je=!(us(Q)&&"chain"in Q)||!!Q.chain,gt=Ac(f);return ei(Ge,function(Ct){var zt=T[Ct];f[Ct]=zt,gt&&(f.prototype[Ct]=function(){var mi=this.__chain__;if(Je||mi){var vi=f(this.__wrapped__),Ai=vi.__actions__=Os(this.__actions__);return Ai.push({func:zt,args:arguments,thisArg:f}),vi.__chain__=mi,vi}return zt.apply(f,Vn([this.value()],arguments))})}),f}function H2(){return gs._===this&&(gs._=yn),this}function Gg(){}function zu(f){return f=Mn(f),Nn(function(T){return ds(T,f)})}var O0=Zn(Gn),$2=Zn(Ln),dy=Zn(Xn);function Vg(f){return Ym(f)?jo(va(f)):md(f)}function X2(f){return function(T){return f==null?s:Ft(f,T)}}var uy=Gl(),Y2=Gl(!0);function R0(){return[]}function Wg(){return!1}function py(){return{}}function q2(){return""}function Z2(){return!0}function z0(f,T){if(f=Mn(f),f<1||f>ee)return[];var Q=pe,Se=Or(f,pe);T=Sn(T),f-=pe;for(var Ge=Uo(Se,T);++Q<f;)T(Q);return Ge}function B0(f){return jn(f)?Gn(f,va):qo(f)?[f]:Os(Jm(Vr(f)))}function F0(f){var T=++Si;return Vr(f)+T}var K2=yd(function(f,T){return f+T},0),Hg=oa("ceil"),$g=yd(function(f,T){return f/T},1),jh=oa("floor");function J2(f){return f&&f.length?Xe(f,Ws,Bt):s}function Xg(f,T){return f&&f.length?Xe(f,Sn(T,2),Bt):s}function fy(f){return lo(f,Ws)}function N0(f,T){return lo(f,Sn(T,2))}function Q2(f){return f&&f.length?Xe(f,Ws,Eo):s}function eb(f,T){return f&&f.length?Xe(f,Sn(T,2),Eo):s}var tb=yd(function(f,T){return f*T},1),ib=oa("round"),Yg=yd(function(f,T){return f-T},0);function nb(f){return f&&f.length?ur(f,Ws):0}function tf(f,T){return f&&f.length?ur(f,Sn(T,2)):0}return qe.after=D_,qe.ary=fg,qe.assign=V_,qe.assignIn=Eg,qe.assignInWith=M0,qe.assignWith=W_,qe.at=H_,qe.before=mg,qe.bind=y0,qe.bindAll=Ng,qe.bindKey=gg,qe.castArray=b0,qe.chain=w_,qe.chunk=Xo,qe.compact=ll,qe.concat=Qm,qe.cond=cy,qe.conforms=V2,qe.constant=jg,qe.countBy=Jv,qe.create=Mg,qe.curry=_g,qe.curryRight=I_,qe.debounce=L_,qe.defaults=$_,qe.defaultsDeep=k2,qe.defer=O_,qe.delay=x0,qe.difference=ys,qe.differenceBy=h_,qe.differenceWith=Lp,qe.drop=$l,qe.dropRight=Pv,qe.dropRightWhile=Dv,qe.dropWhile=d_,qe.fill=u_,qe.filter=e2,qe.flatMap=i2,qe.flatMapDeep=S_,qe.flatMapDepth=Mu,qe.flatten=tg,qe.flattenDeep=p_,qe.flattenDepth=f_,qe.flip=R_,qe.flow=Id,qe.flowRight=W2,qe.fromPairs=Iv,qe.functions=P2,qe.functionsIn=D2,qe.groupBy=n2,qe.initial=ng,qe.intersection=Yo,qe.intersectionBy=m_,qe.intersectionWith=Lv,qe.invert=Q_,qe.invertBy=ey,qe.invokeMap=A_,qe.iteratee=Ug,qe.keyBy=r2,qe.keys=Cs,qe.keysIn=aa,qe.map=f0,qe.mapKeys=A0,qe.mapValues=ty,qe.matches=Kp,qe.matchesProperty=Jp,qe.memoize=ro,qe.merge=k0,qe.mergeWith=$p,qe.method=Qp,qe.methodOf=ef,qe.mixin=Ru,qe.negate=Fh,qe.nthArg=zu,qe.omit=I2,qe.omitBy=L2,qe.once=Cu,qe.orderBy=s2,qe.over=O0,qe.overArgs=Gp,qe.overEvery=$2,qe.overSome=dy,qe.partial=v0,qe.partialRight=yg,qe.partition=pg,qe.pick=O2,qe.pickBy=iy,qe.property=Vg,qe.propertyOf=X2,qe.pull=y_,qe.pullAll=rg,qe.pullAllBy=sg,qe.pullAllWith=th,qe.pullAt=ba,qe.range=uy,qe.rangeRight=Y2,qe.rearg=l2,qe.reject=o2,qe.remove=Rv,qe.rest=c2,qe.reverse=Op,qe.sampleSize=Np,qe.set=Du,qe.setWith=Ag,qe.shuffle=jp,qe.slice=zv,qe.sortBy=P_,qe.sortedUniq=zp,qe.sortedUniqBy=Nv,qe.split=oy,qe.spread=h2,qe.tail=jv,qe.take=Uv,qe.takeRight=Gv,qe.takeRightWhile=Vv,qe.takeWhile=Wv,qe.tap=T_,qe.throttle=d2,qe.thru=Bh,qe.toArray=T0,qe.toPairs=ny,qe.toPairsIn=kg,qe.toPath=B0,qe.toPlainObject=S0,qe.transform=z2,qe.unary=u2,qe.union=Hv,qe.unionBy=og,qe.unionWith=$v,qe.uniq=Su,qe.uniqBy=Xv,qe.uniqWith=Es,qe.unset=Pg,qe.unzip=Eu,qe.unzipWith=ag,qe.update=B2,qe.updateWith=Nh,qe.values=kd,qe.valuesIn=ry,qe.without=h0,qe.words=Dd,qe.wrap=p2,qe.xor=d0,qe.xorBy=Bp,qe.xorWith=v_,qe.zip=b_,qe.zipObject=Fp,qe.zipObjectDeep=lg,qe.zipWith=cg,qe.entries=ny,qe.entriesIn=kg,qe.extend=Eg,qe.extendWith=M0,Ru(qe,qe),qe.add=K2,qe.attempt=Fg,qe.camelCase=N2,qe.capitalize=Ig,qe.ceil=Hg,qe.clamp=P0,qe.clone=f2,qe.cloneDeep=B_,qe.cloneDeepWith=F_,qe.cloneWith=z_,qe.conformsTo=m2,qe.deburr=Lg,qe.defaultTo=hy,qe.divide=$g,qe.endsWith=Xp,qe.eq=Xl,qe.escape=rh,qe.escapeRegExp=Og,qe.every=Qv,qe.find=t2,qe.findIndex=zh,qe.findKey=X_,qe.findLast=p0,qe.findLastIndex=eg,qe.findLastKey=nh,qe.floor=jh,qe.forEach=E_,qe.forEachRight=M_,qe.forIn=Y_,qe.forInRight=q_,qe.forOwn=Z_,qe.forOwnRight=K_,qe.get=C0,qe.gt=g2,qe.gte=_2,qe.has=J_,qe.hasIn=Ad,qe.head=l0,qe.identity=Ws,qe.includes=C_,qe.indexOf=ig,qe.inRange=Dg,qe.invoke=Cg,qe.isArguments=Cd,qe.isArray=jn,qe.isArrayBuffer=y2,qe.isArrayLike=Br,qe.isArrayLikeObject=Gr,qe.isBoolean=xg,qe.isBuffer=Yl,qe.isDate=Au,qe.isElement=x2,qe.isEmpty=v2,qe.isEqual=Vp,qe.isEqualWith=b2,qe.isError=vg,qe.isFinite=Wp,qe.isFunction=Ac,qe.isInteger=bg,qe.isLength=wr,qe.isMap=wg,qe.isMatch=ih,qe.isMatchWith=ku,qe.isNaN=N_,qe.isNative=w2,qe.isNil=S2,qe.isNull=T2,qe.isNumber=j_,qe.isObject=us,qe.isObjectLike=Ms,qe.isPlainObject=Hp,qe.isRegExp=Tg,qe.isSafeInteger=E2,qe.isSet=U_,qe.isString=w0,qe.isSymbol=qo,qe.isTypedArray=ql,qe.isUndefined=G_,qe.isWeakMap=M2,qe.isWeakSet=C2,qe.join=g_,qe.kebabCase=Iu,qe.last=cl,qe.lastIndexOf=Ov,qe.lowerCase=Lu,qe.lowerFirst=hl,qe.lt=A2,qe.lte=Sg,qe.max=J2,qe.maxBy=Xg,qe.mean=fy,qe.meanBy=N0,qe.min=Q2,qe.minBy=eb,qe.stubArray=R0,qe.stubFalse=Wg,qe.stubObject=py,qe.stubString=q2,qe.stubTrue=Z2,qe.multiply=tb,qe.nth=__,qe.noConflict=H2,qe.noop=Gg,qe.now=_0,qe.pad=dl,qe.padEnd=j2,qe.padStart=sy,qe.parseInt=U2,qe.random=F2,qe.reduce=m0,qe.reduceRight=g0,qe.repeat=Rg,qe.replace=Pc,qe.result=R2,qe.round=ib,qe.runInContext=Dt,qe.sample=a2,qe.size=k_,qe.snakeCase=Pd,qe.some=Up,qe.sortedIndex=Bv,qe.sortedIndexBy=Fv,qe.sortedIndexOf=Rp,qe.sortedLastIndex=c0,qe.sortedLastIndexBy=x_,qe.sortedLastIndexOf=Md,qe.startCase=ay,qe.startsWith=G2,qe.subtract=Yg,qe.sum=nb,qe.sumBy=tf,qe.template=D0,qe.times=z0,qe.toFinite=kc,qe.toInteger=Mn,qe.toLength=Pu,qe.toLower=zg,qe.toNumber=Mo,qe.toSafeInteger=E0,qe.toString=Vr,qe.toUpper=Ou,qe.trim=Yp,qe.trimEnd=qp,qe.trimStart=I0,qe.truncate=ly,qe.unescape=Zp,qe.uniqueId=F0,qe.upperCase=Bg,qe.upperFirst=L0,qe.each=E_,qe.eachRight=M_,qe.first=l0,Ru(qe,function(){var f={};return mt(qe,function(T,Q){Qt.call(qe.prototype,Q)||(f[Q]=T)}),f}(),{chain:!1}),qe.VERSION=l,ei(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){qe[f].placeholder=qe}),ei(["drop","take"],function(f,T){En.prototype[f]=function(Q){Q=Q===s?1:Qr(Mn(Q),0);var Se=this.__filtered__&&!T?new En(this):this.clone();return Se.__filtered__?Se.__takeCount__=Or(Q,Se.__takeCount__):Se.__views__.push({size:Or(Q,pe),type:f+(Se.__dir__<0?"Right":"")}),Se},En.prototype[f+"Right"]=function(Q){return this.reverse()[f](Q).reverse()}}),ei(["filter","map","takeWhile"],function(f,T){var Q=T+1,Se=Q==_||Q==M;En.prototype[f]=function(Ge){var Je=this.clone();return Je.__iteratees__.push({iteratee:Sn(Ge,3),type:Q}),Je.__filtered__=Je.__filtered__||Se,Je}}),ei(["head","last"],function(f,T){var Q="take"+(T?"Right":"");En.prototype[f]=function(){return this[Q](1).value()[0]}}),ei(["initial","tail"],function(f,T){var Q="drop"+(T?"":"Right");En.prototype[f]=function(){return this.__filtered__?new En(this):this[Q](1)}}),En.prototype.compact=function(){return this.filter(Ws)},En.prototype.find=function(f){return this.filter(f).head()},En.prototype.findLast=function(f){return this.reverse().find(f)},En.prototype.invokeMap=Nn(function(f,T){return typeof f=="function"?new En(this):this.map(function(Q){return wi(Q,f,T)})}),En.prototype.reject=function(f){return this.filter(Fh(Sn(f)))},En.prototype.slice=function(f,T){f=Mn(f);var Q=this;return Q.__filtered__&&(f>0||T<0)?new En(Q):(f<0?Q=Q.takeRight(-f):f&&(Q=Q.drop(f)),T!==s&&(T=Mn(T),Q=T<0?Q.dropRight(-T):Q.take(T-f)),Q)},En.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},En.prototype.toArray=function(){return this.take(pe)},mt(En.prototype,function(f,T){var Q=/^(?:filter|find|map|reject)|While$/.test(T),Se=/^(?:head|last)$/.test(T),Ge=qe[Se?"take"+(T=="last"?"Right":""):T],Je=Se||/^find/.test(T);Ge&&(qe.prototype[T]=function(){var gt=this.__wrapped__,Ct=Se?[1]:arguments,zt=gt instanceof En,mi=Ct[0],vi=zt||jn(gt),Ai=function(sr){var fr=Ge.apply(qe,Vn([sr],Ct));return Se&&Hi?fr[0]:fr};vi&&Q&&typeof mi=="function"&&mi.length!=1&&(zt=vi=!1);var Hi=this.__chain__,cn=!!this.__actions__.length,An=Je&&!Hi,Jn=zt&&!cn;if(!Je&&vi){gt=Jn?gt:new En(this);var In=f.apply(gt,Ct);return In.__actions__.push({func:Bh,args:[Ai],thisArg:s}),new na(In,Hi)}return An&&Jn?f.apply(this,Ct):(In=this.thru(Ai),An?Se?In.value()[0]:In.value():In)})}),ei(["pop","push","shift","sort","splice","unshift"],function(f){var T=Ke[f],Q=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",Se=/^(?:pop|shift)$/.test(f);qe.prototype[f]=function(){var Ge=arguments;if(Se&&!this.__chain__){var Je=this.value();return T.apply(jn(Je)?Je:[],Ge)}return this[Q](function(gt){return T.apply(jn(gt)?gt:[],Ge)})}}),mt(En.prototype,function(f,T){var Q=qe[T];if(Q){var Se=Q.name+"";Qt.call(Xc,Se)||(Xc[Se]=[]),Xc[Se].push({name:T,func:Q})}}),Xc[an(s,R).name]=[{name:"wrapper",func:s}],En.prototype.clone=Am,En.prototype.reverse=xp,En.prototype.value=km,qe.prototype.at=Yv,qe.prototype.chain=hg,qe.prototype.commit=qv,qe.prototype.next=dg,qe.prototype.plant=u0,qe.prototype.reverse=Zv,qe.prototype.toJSON=qe.prototype.valueOf=qe.prototype.value=Kv,qe.prototype.first=qe.prototype.head,_s&&(qe.prototype[_s]=ug),qe},To=ou();ne?((ne.exports=To)._=To,k._=To):gs._=To}).call(Ko)})(P4,Zy);const D4=Zy;var $b={},I4={get exports(){return $b},set exports(e){$b=e}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(i,s){e.exports=i.document?s(i,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return s(l)}})(typeof window<"u"?window:Ko,function(i,s){var l=[],h=Object.getPrototypeOf,u=l.slice,y=l.flat?function(k){return l.flat.call(k)}:function(k){return l.concat.apply([],k)},n=l.push,w=l.indexOf,z={},ie=z.toString,G=z.hasOwnProperty,q=G.toString,Z=q.call(Object),F={},U=function(ne){return typeof ne=="function"&&typeof ne.nodeType!="number"&&typeof ne.item!="function"},re=function(ne){return ne!=null&&ne===ne.window},R=i.document,D={type:!0,src:!0,nonce:!0,noModule:!0};function N(k,ne,me){me=me||R;var we,Be,Ne=me.createElement("script");if(Ne.text=k,ne)for(we in D)Be=ne[we]||ne.getAttribute&&ne.getAttribute(we),Be&&Ne.setAttribute(we,Be);me.head.appendChild(Ne).parentNode.removeChild(Ne)}function $(k){return k==null?k+"":typeof k=="object"||typeof k=="function"?z[ie.call(k)]||"object":typeof k}var j="3.6.3",S=function(k,ne){return new S.fn.init(k,ne)};S.fn=S.prototype={jquery:j,constructor:S,length:0,toArray:function(){return u.call(this)},get:function(k){return k==null?u.call(this):k<0?this[k+this.length]:this[k]},pushStack:function(k){var ne=S.merge(this.constructor(),k);return ne.prevObject=this,ne},each:function(k){return S.each(this,k)},map:function(k){return this.pushStack(S.map(this,function(ne,me){return k.call(ne,me,ne)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(k,ne){return(ne+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(k,ne){return ne%2}))},eq:function(k){var ne=this.length,me=+k+(k<0?ne:0);return this.pushStack(me>=0&&me<ne?[this[me]]:[])},end:function(){return this.prevObject||this.constructor()},push:n,sort:l.sort,splice:l.splice},S.extend=S.fn.extend=function(){var k,ne,me,we,Be,Ne,He=arguments[0]||{},Et=1,yt=arguments.length,Ut=!1;for(typeof He=="boolean"&&(Ut=He,He=arguments[Et]||{},Et++),typeof He!="object"&&!U(He)&&(He={}),Et===yt&&(He=this,Et--);Et<yt;Et++)if((k=arguments[Et])!=null)for(ne in k)we=k[ne],!(ne==="__proto__"||He===we)&&(Ut&&we&&(S.isPlainObject(we)||(Be=Array.isArray(we)))?(me=He[ne],Be&&!Array.isArray(me)?Ne=[]:!Be&&!S.isPlainObject(me)?Ne={}:Ne=me,Be=!1,He[ne]=S.extend(Ut,Ne,we)):we!==void 0&&(He[ne]=we));return He},S.extend({expando:"jQuery"+(j+Math.random()).replace(/\D/g,""),isReady:!0,error:function(k){throw new Error(k)},noop:function(){},isPlainObject:function(k){var ne,me;return!k||ie.call(k)!=="[object Object]"?!1:(ne=h(k),ne?(me=G.call(ne,"constructor")&&ne.constructor,typeof me=="function"&&q.call(me)===Z):!0)},isEmptyObject:function(k){var ne;for(ne in k)return!1;return!0},globalEval:function(k,ne,me){N(k,{nonce:ne&&ne.nonce},me)},each:function(k,ne){var me,we=0;if(te(k))for(me=k.length;we<me&&ne.call(k[we],we,k[we])!==!1;we++);else for(we in k)if(ne.call(k[we],we,k[we])===!1)break;return k},makeArray:function(k,ne){var me=ne||[];return k!=null&&(te(Object(k))?S.merge(me,typeof k=="string"?[k]:k):n.call(me,k)),me},inArray:function(k,ne,me){return ne==null?-1:w.call(ne,k,me)},merge:function(k,ne){for(var me=+ne.length,we=0,Be=k.length;we<me;we++)k[Be++]=ne[we];return k.length=Be,k},grep:function(k,ne,me){for(var we,Be=[],Ne=0,He=k.length,Et=!me;Ne<He;Ne++)we=!ne(k[Ne],Ne),we!==Et&&Be.push(k[Ne]);return Be},map:function(k,ne,me){var we,Be,Ne=0,He=[];if(te(k))for(we=k.length;Ne<we;Ne++)Be=ne(k[Ne],Ne,me),Be!=null&&He.push(Be);else for(Ne in k)Be=ne(k[Ne],Ne,me),Be!=null&&He.push(Be);return y(He)},guid:1,support:F}),typeof Symbol=="function"&&(S.fn[Symbol.iterator]=l[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(k,ne){z["[object "+ne+"]"]=ne.toLowerCase()});function te(k){var ne=!!k&&"length"in k&&k.length,me=$(k);return U(k)||re(k)?!1:me==="array"||ne===0||typeof ne=="number"&&ne>0&&ne-1 in k}var Y=function(k){var ne,me,we,Be,Ne,He,Et,yt,Ut,ii,fi,Kt,ei,ki,Ln,Ki,qr,Lr,Gn,Vn="sizzle"+1*new Date,Tn=k.document,Ys=0,Xn=0,Tr=co(),fa=co(),kl=co(),Ls=co(),bo=function(Ke,xt){return Ke===xt&&(fi=!0),0},Pn={}.hasOwnProperty,js=[],ia=js.pop,lo=js.push,jo=js.push,Pl=js.slice,za=function(Ke,xt){for(var kt=0,hi=Ke.length;kt<hi;kt++)if(Ke[kt]===xt)return kt;return-1},wh="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ur="[\\x20\\t\\r\\n\\f]",Uo="(?:\\\\[\\da-fA-F]{1,6}"+ur+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Hc="\\["+ur+"*("+Uo+")(?:"+ur+"*([*^$|!~]?=)"+ur+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Uo+"))|)"+ur+"*\\]",uc=":("+Uo+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Hc+")*)|.*)\\)|)",eo=new RegExp(ur+"+","g"),Dl=new RegExp("^"+ur+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ur+"+$","g"),pc=new RegExp("^"+ur+"*,"+ur+"*"),od=new RegExp("^"+ur+"*([>+~]|"+ur+")"+ur+"*"),fc=new RegExp(ur+"|>"),mc=new RegExp(uc),nu=new RegExp("^"+Uo+"$"),Il={ID:new RegExp("^#("+Uo+")"),CLASS:new RegExp("^\\.("+Uo+")"),TAG:new RegExp("^("+Uo+"|[*])"),ATTR:new RegExp("^"+Hc),PSEUDO:new RegExp("^"+uc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ur+"*(even|odd|(([+-]|)(\\d*)n|)"+ur+"*(?:([+-]|)"+ur+"*(\\d+)|))"+ur+"*\\)|)","i"),bool:new RegExp("^(?:"+wh+")$","i"),needsContext:new RegExp("^"+ur+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ur+"*((?:-\\d)?\\d*)"+ur+"*\\)|)(?=[^-]|$)","i")},ad=/HTML$/i,ma=/^(?:input|select|textarea|button)$/i,Ba=/^h\d$/i,Ll=/^[^{]+\{\s*\[native \w/,Th=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gc=/[+~]/,Go=new RegExp("\\\\[\\da-fA-F]{1,6}"+ur+"?|\\\\([^\\r\\n\\f])","g"),Us=function(Ke,xt){var kt="0x"+Ke.slice(1)-65536;return xt||(kt<0?String.fromCharCode(kt+65536):String.fromCharCode(kt>>10|55296,kt&1023|56320))},tl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ld=function(Ke,xt){return xt?Ke==="\0"?"�":Ke.slice(0,-1)+"\\"+Ke.charCodeAt(Ke.length-1).toString(16)+" ":"\\"+Ke},$c=function(){Kt()},fp=Dn(function(Ke){return Ke.disabled===!0&&Ke.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{jo.apply(js=Pl.call(Tn.childNodes),Tn.childNodes),js[Tn.childNodes.length].nodeType}catch{jo={apply:js.length?function(xt,kt){lo.apply(xt,Pl.call(kt))}:function(xt,kt){for(var hi=xt.length,It=0;xt[hi++]=kt[It++];);xt.length=hi-1}}}function nr(Ke,xt,kt,hi){var It,Qt,Si,Fi,bi,un,yn,vn=xt&&xt.ownerDocument,On=xt?xt.nodeType:9;if(kt=kt||[],typeof Ke!="string"||!Ke||On!==1&&On!==9&&On!==11)return kt;if(!hi&&(Kt(xt),xt=xt||ei,Ln)){if(On!==11&&(bi=Th.exec(Ke)))if(It=bi[1]){if(On===9)if(Si=xt.getElementById(It)){if(Si.id===It)return kt.push(Si),kt}else return kt;else if(vn&&(Si=vn.getElementById(It))&&Gn(xt,Si)&&Si.id===It)return kt.push(Si),kt}else{if(bi[2])return jo.apply(kt,xt.getElementsByTagName(Ke)),kt;if((It=bi[3])&&me.getElementsByClassName&&xt.getElementsByClassName)return jo.apply(kt,xt.getElementsByClassName(It)),kt}if(me.qsa&&!Ls[Ke+" "]&&(!Ki||!Ki.test(Ke))&&(On!==1||xt.nodeName.toLowerCase()!=="object")){if(yn=Ke,vn=xt,On===1&&(fc.test(Ke)||od.test(Ke))){for(vn=gc.test(Ke)&&ci(xt.parentNode)||xt,(vn!==xt||!me.scope)&&((Fi=xt.getAttribute("id"))?Fi=Fi.replace(tl,ld):xt.setAttribute("id",Fi=Vn)),un=He(Ke),Qt=un.length;Qt--;)un[Qt]=(Fi?"#"+Fi:":scope")+" "+Yi(un[Qt]);yn=un.join(",")}try{if(me.cssSupportsSelector&&!CSS.supports("selector(:is("+yn+"))"))throw new Error;return jo.apply(kt,vn.querySelectorAll(yn)),kt}catch{Ls(Ke,!0)}finally{Fi===Vn&&xt.removeAttribute("id")}}}return yt(Ke.replace(Dl,"$1"),xt,kt,hi)}function co(){var Ke=[];function xt(kt,hi){return Ke.push(kt+" ")>we.cacheLength&&delete xt[Ke.shift()],xt[kt+" "]=hi}return xt}function Gs(Ke){return Ke[Vn]=!0,Ke}function wo(Ke){var xt=ei.createElement("fieldset");try{return!!Ke(xt)}catch{return!1}finally{xt.parentNode&&xt.parentNode.removeChild(xt),xt=null}}function Ol(Ke,xt){for(var kt=Ke.split("|"),hi=kt.length;hi--;)we.attrHandle[kt[hi]]=xt}function ru(Ke,xt){var kt=xt&&Ke,hi=kt&&Ke.nodeType===1&&xt.nodeType===1&&Ke.sourceIndex-xt.sourceIndex;if(hi)return hi;if(kt){for(;kt=kt.nextSibling;)if(kt===xt)return-1}return Ke?1:-1}function su(Ke){return function(xt){var kt=xt.nodeName.toLowerCase();return kt==="input"&&xt.type===Ke}}function ou(Ke){return function(xt){var kt=xt.nodeName.toLowerCase();return(kt==="input"||kt==="button")&&xt.type===Ke}}function To(Ke){return function(xt){return"form"in xt?xt.parentNode&&xt.disabled===!1?"label"in xt?"label"in xt.parentNode?xt.parentNode.disabled===Ke:xt.disabled===Ke:xt.isDisabled===Ke||xt.isDisabled!==!Ke&&fp(xt)===Ke:xt.disabled===Ke:"label"in xt?xt.disabled===Ke:!1}}function Dt(Ke){return Gs(function(xt){return xt=+xt,Gs(function(kt,hi){for(var It,Qt=Ke([],kt.length,xt),Si=Qt.length;Si--;)kt[It=Qt[Si]]&&(kt[It]=!(hi[It]=kt[It]))})})}function ci(Ke){return Ke&&typeof Ke.getElementsByTagName<"u"&&Ke}me=nr.support={},Ne=nr.isXML=function(Ke){var xt=Ke&&Ke.namespaceURI,kt=Ke&&(Ke.ownerDocument||Ke).documentElement;return!ad.test(xt||kt&&kt.nodeName||"HTML")},Kt=nr.setDocument=function(Ke){var xt,kt,hi=Ke?Ke.ownerDocument||Ke:Tn;return hi==ei||hi.nodeType!==9||!hi.documentElement||(ei=hi,ki=ei.documentElement,Ln=!Ne(ei),Tn!=ei&&(kt=ei.defaultView)&&kt.top!==kt&&(kt.addEventListener?kt.addEventListener("unload",$c,!1):kt.attachEvent&&kt.attachEvent("onunload",$c)),me.scope=wo(function(It){return ki.appendChild(It).appendChild(ei.createElement("div")),typeof It.querySelectorAll<"u"&&!It.querySelectorAll(":scope fieldset div").length}),me.cssSupportsSelector=wo(function(){return CSS.supports("selector(*)")&&ei.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),me.attributes=wo(function(It){return It.className="i",!It.getAttribute("className")}),me.getElementsByTagName=wo(function(It){return It.appendChild(ei.createComment("")),!It.getElementsByTagName("*").length}),me.getElementsByClassName=Ll.test(ei.getElementsByClassName),me.getById=wo(function(It){return ki.appendChild(It).id=Vn,!ei.getElementsByName||!ei.getElementsByName(Vn).length}),me.getById?(we.filter.ID=function(It){var Qt=It.replace(Go,Us);return function(Si){return Si.getAttribute("id")===Qt}},we.find.ID=function(It,Qt){if(typeof Qt.getElementById<"u"&&Ln){var Si=Qt.getElementById(It);return Si?[Si]:[]}}):(we.filter.ID=function(It){var Qt=It.replace(Go,Us);return function(Si){var Fi=typeof Si.getAttributeNode<"u"&&Si.getAttributeNode("id");return Fi&&Fi.value===Qt}},we.find.ID=function(It,Qt){if(typeof Qt.getElementById<"u"&&Ln){var Si,Fi,bi,un=Qt.getElementById(It);if(un){if(Si=un.getAttributeNode("id"),Si&&Si.value===It)return[un];for(bi=Qt.getElementsByName(It),Fi=0;un=bi[Fi++];)if(Si=un.getAttributeNode("id"),Si&&Si.value===It)return[un]}return[]}}),we.find.TAG=me.getElementsByTagName?function(It,Qt){if(typeof Qt.getElementsByTagName<"u")return Qt.getElementsByTagName(It);if(me.qsa)return Qt.querySelectorAll(It)}:function(It,Qt){var Si,Fi=[],bi=0,un=Qt.getElementsByTagName(It);if(It==="*"){for(;Si=un[bi++];)Si.nodeType===1&&Fi.push(Si);return Fi}return un},we.find.CLASS=me.getElementsByClassName&&function(It,Qt){if(typeof Qt.getElementsByClassName<"u"&&Ln)return Qt.getElementsByClassName(It)},qr=[],Ki=[],(me.qsa=Ll.test(ei.querySelectorAll))&&(wo(function(It){var Qt;ki.appendChild(It).innerHTML="<a id='"+Vn+"'></a><select id='"+Vn+"-\r\\' msallowcapture=''><option selected=''></option></select>",It.querySelectorAll("[msallowcapture^='']").length&&Ki.push("[*^$]="+ur+`*(?:''|"")`),It.querySelectorAll("[selected]").length||Ki.push("\\["+ur+"*(?:value|"+wh+")"),It.querySelectorAll("[id~="+Vn+"-]").length||Ki.push("~="),Qt=ei.createElement("input"),Qt.setAttribute("name",""),It.appendChild(Qt),It.querySelectorAll("[name='']").length||Ki.push("\\["+ur+"*name"+ur+"*="+ur+`*(?:''|"")`),It.querySelectorAll(":checked").length||Ki.push(":checked"),It.querySelectorAll("a#"+Vn+"+*").length||Ki.push(".#.+[+~]"),It.querySelectorAll("\\\f"),Ki.push("[\\r\\n\\f]")}),wo(function(It){It.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Qt=ei.createElement("input");Qt.setAttribute("type","hidden"),It.appendChild(Qt).setAttribute("name","D"),It.querySelectorAll("[name=d]").length&&Ki.push("name"+ur+"*[*^$|!~]?="),It.querySelectorAll(":enabled").length!==2&&Ki.push(":enabled",":disabled"),ki.appendChild(It).disabled=!0,It.querySelectorAll(":disabled").length!==2&&Ki.push(":enabled",":disabled"),It.querySelectorAll("*,:x"),Ki.push(",.*:")})),(me.matchesSelector=Ll.test(Lr=ki.matches||ki.webkitMatchesSelector||ki.mozMatchesSelector||ki.oMatchesSelector||ki.msMatchesSelector))&&wo(function(It){me.disconnectedMatch=Lr.call(It,"*"),Lr.call(It,"[s!='']:x"),qr.push("!=",uc)}),me.cssSupportsSelector||Ki.push(":has"),Ki=Ki.length&&new RegExp(Ki.join("|")),qr=qr.length&&new RegExp(qr.join("|")),xt=Ll.test(ki.compareDocumentPosition),Gn=xt||Ll.test(ki.contains)?function(It,Qt){var Si=It.nodeType===9&&It.documentElement||It,Fi=Qt&&Qt.parentNode;return It===Fi||!!(Fi&&Fi.nodeType===1&&(Si.contains?Si.contains(Fi):It.compareDocumentPosition&&It.compareDocumentPosition(Fi)&16))}:function(It,Qt){if(Qt){for(;Qt=Qt.parentNode;)if(Qt===It)return!0}return!1},bo=xt?function(It,Qt){if(It===Qt)return fi=!0,0;var Si=!It.compareDocumentPosition-!Qt.compareDocumentPosition;return Si||(Si=(It.ownerDocument||It)==(Qt.ownerDocument||Qt)?It.compareDocumentPosition(Qt):1,Si&1||!me.sortDetached&&Qt.compareDocumentPosition(It)===Si?It==ei||It.ownerDocument==Tn&&Gn(Tn,It)?-1:Qt==ei||Qt.ownerDocument==Tn&&Gn(Tn,Qt)?1:ii?za(ii,It)-za(ii,Qt):0:Si&4?-1:1)}:function(It,Qt){if(It===Qt)return fi=!0,0;var Si,Fi=0,bi=It.parentNode,un=Qt.parentNode,yn=[It],vn=[Qt];if(!bi||!un)return It==ei?-1:Qt==ei?1:bi?-1:un?1:ii?za(ii,It)-za(ii,Qt):0;if(bi===un)return ru(It,Qt);for(Si=It;Si=Si.parentNode;)yn.unshift(Si);for(Si=Qt;Si=Si.parentNode;)vn.unshift(Si);for(;yn[Fi]===vn[Fi];)Fi++;return Fi?ru(yn[Fi],vn[Fi]):yn[Fi]==Tn?-1:vn[Fi]==Tn?1:0}),ei},nr.matches=function(Ke,xt){return nr(Ke,null,null,xt)},nr.matchesSelector=function(Ke,xt){if(Kt(Ke),me.matchesSelector&&Ln&&!Ls[xt+" "]&&(!qr||!qr.test(xt))&&(!Ki||!Ki.test(xt)))try{var kt=Lr.call(Ke,xt);if(kt||me.disconnectedMatch||Ke.document&&Ke.document.nodeType!==11)return kt}catch{Ls(xt,!0)}return nr(xt,ei,null,[Ke]).length>0},nr.contains=function(Ke,xt){return(Ke.ownerDocument||Ke)!=ei&&Kt(Ke),Gn(Ke,xt)},nr.attr=function(Ke,xt){(Ke.ownerDocument||Ke)!=ei&&Kt(Ke);var kt=we.attrHandle[xt.toLowerCase()],hi=kt&&Pn.call(we.attrHandle,xt.toLowerCase())?kt(Ke,xt,!Ln):void 0;return hi!==void 0?hi:me.attributes||!Ln?Ke.getAttribute(xt):(hi=Ke.getAttributeNode(xt))&&hi.specified?hi.value:null},nr.escape=function(Ke){return(Ke+"").replace(tl,ld)},nr.error=function(Ke){throw new Error("Syntax error, unrecognized expression: "+Ke)},nr.uniqueSort=function(Ke){var xt,kt=[],hi=0,It=0;if(fi=!me.detectDuplicates,ii=!me.sortStable&&Ke.slice(0),Ke.sort(bo),fi){for(;xt=Ke[It++];)xt===Ke[It]&&(hi=kt.push(It));for(;hi--;)Ke.splice(kt[hi],1)}return ii=null,Ke},Be=nr.getText=function(Ke){var xt,kt="",hi=0,It=Ke.nodeType;if(It){if(It===1||It===9||It===11){if(typeof Ke.textContent=="string")return Ke.textContent;for(Ke=Ke.firstChild;Ke;Ke=Ke.nextSibling)kt+=Be(Ke)}else if(It===3||It===4)return Ke.nodeValue}else for(;xt=Ke[hi++];)kt+=Be(xt);return kt},we=nr.selectors={cacheLength:50,createPseudo:Gs,match:Il,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ke){return Ke[1]=Ke[1].replace(Go,Us),Ke[3]=(Ke[3]||Ke[4]||Ke[5]||"").replace(Go,Us),Ke[2]==="~="&&(Ke[3]=" "+Ke[3]+" "),Ke.slice(0,4)},CHILD:function(Ke){return Ke[1]=Ke[1].toLowerCase(),Ke[1].slice(0,3)==="nth"?(Ke[3]||nr.error(Ke[0]),Ke[4]=+(Ke[4]?Ke[5]+(Ke[6]||1):2*(Ke[3]==="even"||Ke[3]==="odd")),Ke[5]=+(Ke[7]+Ke[8]||Ke[3]==="odd")):Ke[3]&&nr.error(Ke[0]),Ke},PSEUDO:function(Ke){var xt,kt=!Ke[6]&&Ke[2];return Il.CHILD.test(Ke[0])?null:(Ke[3]?Ke[2]=Ke[4]||Ke[5]||"":kt&&mc.test(kt)&&(xt=He(kt,!0))&&(xt=kt.indexOf(")",kt.length-xt)-kt.length)&&(Ke[0]=Ke[0].slice(0,xt),Ke[2]=kt.slice(0,xt)),Ke.slice(0,3))}},filter:{TAG:function(Ke){var xt=Ke.replace(Go,Us).toLowerCase();return Ke==="*"?function(){return!0}:function(kt){return kt.nodeName&&kt.nodeName.toLowerCase()===xt}},CLASS:function(Ke){var xt=Tr[Ke+" "];return xt||(xt=new RegExp("(^|"+ur+")"+Ke+"("+ur+"|$)"))&&Tr(Ke,function(kt){return xt.test(typeof kt.className=="string"&&kt.className||typeof kt.getAttribute<"u"&&kt.getAttribute("class")||"")})},ATTR:function(Ke,xt,kt){return function(hi){var It=nr.attr(hi,Ke);return It==null?xt==="!=":xt?(It+="",xt==="="?It===kt:xt==="!="?It!==kt:xt==="^="?kt&&It.indexOf(kt)===0:xt==="*="?kt&&It.indexOf(kt)>-1:xt==="$="?kt&&It.slice(-kt.length)===kt:xt==="~="?(" "+It.replace(eo," ")+" ").indexOf(kt)>-1:xt==="|="?It===kt||It.slice(0,kt.length+1)===kt+"-":!1):!0}},CHILD:function(Ke,xt,kt,hi,It){var Qt=Ke.slice(0,3)!=="nth",Si=Ke.slice(-4)!=="last",Fi=xt==="of-type";return hi===1&&It===0?function(bi){return!!bi.parentNode}:function(bi,un,yn){var vn,On,Kn,pn,ss,hs,Vs=Qt!==Si?"nextSibling":"previousSibling",Sr=bi.parentNode,to=Fi&&bi.nodeName.toLowerCase(),So=!yn&&!Fi,_s=!1;if(Sr){if(Qt){for(;Vs;){for(pn=bi;pn=pn[Vs];)if(Fi?pn.nodeName.toLowerCase()===to:pn.nodeType===1)return!1;hs=Vs=Ke==="only"&&!hs&&"nextSibling"}return!0}if(hs=[Si?Sr.firstChild:Sr.lastChild],Si&&So){for(pn=Sr,Kn=pn[Vn]||(pn[Vn]={}),On=Kn[pn.uniqueID]||(Kn[pn.uniqueID]={}),vn=On[Ke]||[],ss=vn[0]===Ys&&vn[1],_s=ss&&vn[2],pn=ss&&Sr.childNodes[ss];pn=++ss&&pn&&pn[Vs]||(_s=ss=0)||hs.pop();)if(pn.nodeType===1&&++_s&&pn===bi){On[Ke]=[Ys,ss,_s];break}}else if(So&&(pn=bi,Kn=pn[Vn]||(pn[Vn]={}),On=Kn[pn.uniqueID]||(Kn[pn.uniqueID]={}),vn=On[Ke]||[],ss=vn[0]===Ys&&vn[1],_s=ss),_s===!1)for(;(pn=++ss&&pn&&pn[Vs]||(_s=ss=0)||hs.pop())&&!((Fi?pn.nodeName.toLowerCase()===to:pn.nodeType===1)&&++_s&&(So&&(Kn=pn[Vn]||(pn[Vn]={}),On=Kn[pn.uniqueID]||(Kn[pn.uniqueID]={}),On[Ke]=[Ys,_s]),pn===bi)););return _s-=It,_s===hi||_s%hi===0&&_s/hi>=0}}},PSEUDO:function(Ke,xt){var kt,hi=we.pseudos[Ke]||we.setFilters[Ke.toLowerCase()]||nr.error("unsupported pseudo: "+Ke);return hi[Vn]?hi(xt):hi.length>1?(kt=[Ke,Ke,"",xt],we.setFilters.hasOwnProperty(Ke.toLowerCase())?Gs(function(It,Qt){for(var Si,Fi=hi(It,xt),bi=Fi.length;bi--;)Si=za(It,Fi[bi]),It[Si]=!(Qt[Si]=Fi[bi])}):function(It){return hi(It,0,kt)}):hi}},pseudos:{not:Gs(function(Ke){var xt=[],kt=[],hi=Et(Ke.replace(Dl,"$1"));return hi[Vn]?Gs(function(It,Qt,Si,Fi){for(var bi,un=hi(It,null,Fi,[]),yn=It.length;yn--;)(bi=un[yn])&&(It[yn]=!(Qt[yn]=bi))}):function(It,Qt,Si){return xt[0]=It,hi(xt,null,Si,kt),xt[0]=null,!kt.pop()}}),has:Gs(function(Ke){return function(xt){return nr(Ke,xt).length>0}}),contains:Gs(function(Ke){return Ke=Ke.replace(Go,Us),function(xt){return(xt.textContent||Be(xt)).indexOf(Ke)>-1}}),lang:Gs(function(Ke){return nu.test(Ke||"")||nr.error("unsupported lang: "+Ke),Ke=Ke.replace(Go,Us).toLowerCase(),function(xt){var kt;do if(kt=Ln?xt.lang:xt.getAttribute("xml:lang")||xt.getAttribute("lang"))return kt=kt.toLowerCase(),kt===Ke||kt.indexOf(Ke+"-")===0;while((xt=xt.parentNode)&&xt.nodeType===1);return!1}}),target:function(Ke){var xt=k.location&&k.location.hash;return xt&&xt.slice(1)===Ke.id},root:function(Ke){return Ke===ki},focus:function(Ke){return Ke===ei.activeElement&&(!ei.hasFocus||ei.hasFocus())&&!!(Ke.type||Ke.href||~Ke.tabIndex)},enabled:To(!1),disabled:To(!0),checked:function(Ke){var xt=Ke.nodeName.toLowerCase();return xt==="input"&&!!Ke.checked||xt==="option"&&!!Ke.selected},selected:function(Ke){return Ke.parentNode&&Ke.parentNode.selectedIndex,Ke.selected===!0},empty:function(Ke){for(Ke=Ke.firstChild;Ke;Ke=Ke.nextSibling)if(Ke.nodeType<6)return!1;return!0},parent:function(Ke){return!we.pseudos.empty(Ke)},header:function(Ke){return Ba.test(Ke.nodeName)},input:function(Ke){return ma.test(Ke.nodeName)},button:function(Ke){var xt=Ke.nodeName.toLowerCase();return xt==="input"&&Ke.type==="button"||xt==="button"},text:function(Ke){var xt;return Ke.nodeName.toLowerCase()==="input"&&Ke.type==="text"&&((xt=Ke.getAttribute("type"))==null||xt.toLowerCase()==="text")},first:Dt(function(){return[0]}),last:Dt(function(Ke,xt){return[xt-1]}),eq:Dt(function(Ke,xt,kt){return[kt<0?kt+xt:kt]}),even:Dt(function(Ke,xt){for(var kt=0;kt<xt;kt+=2)Ke.push(kt);return Ke}),odd:Dt(function(Ke,xt){for(var kt=1;kt<xt;kt+=2)Ke.push(kt);return Ke}),lt:Dt(function(Ke,xt,kt){for(var hi=kt<0?kt+xt:kt>xt?xt:kt;--hi>=0;)Ke.push(hi);return Ke}),gt:Dt(function(Ke,xt,kt){for(var hi=kt<0?kt+xt:kt;++hi<xt;)Ke.push(hi);return Ke})}},we.pseudos.nth=we.pseudos.eq;for(ne in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})we.pseudos[ne]=su(ne);for(ne in{submit:!0,reset:!0})we.pseudos[ne]=ou(ne);function ti(){}ti.prototype=we.filters=we.pseudos,we.setFilters=new ti,He=nr.tokenize=function(Ke,xt){var kt,hi,It,Qt,Si,Fi,bi,un=fa[Ke+" "];if(un)return xt?0:un.slice(0);for(Si=Ke,Fi=[],bi=we.preFilter;Si;){(!kt||(hi=pc.exec(Si)))&&(hi&&(Si=Si.slice(hi[0].length)||Si),Fi.push(It=[])),kt=!1,(hi=od.exec(Si))&&(kt=hi.shift(),It.push({value:kt,type:hi[0].replace(Dl," ")}),Si=Si.slice(kt.length));for(Qt in we.filter)(hi=Il[Qt].exec(Si))&&(!bi[Qt]||(hi=bi[Qt](hi)))&&(kt=hi.shift(),It.push({value:kt,type:Qt,matches:hi}),Si=Si.slice(kt.length));if(!kt)break}return xt?Si.length:Si?nr.error(Ke):fa(Ke,Fi).slice(0)};function Yi(Ke){for(var xt=0,kt=Ke.length,hi="";xt<kt;xt++)hi+=Ke[xt].value;return hi}function Dn(Ke,xt,kt){var hi=xt.dir,It=xt.next,Qt=It||hi,Si=kt&&Qt==="parentNode",Fi=Xn++;return xt.first?function(bi,un,yn){for(;bi=bi[hi];)if(bi.nodeType===1||Si)return Ke(bi,un,yn);return!1}:function(bi,un,yn){var vn,On,Kn,pn=[Ys,Fi];if(yn){for(;bi=bi[hi];)if((bi.nodeType===1||Si)&&Ke(bi,un,yn))return!0}else for(;bi=bi[hi];)if(bi.nodeType===1||Si)if(Kn=bi[Vn]||(bi[Vn]={}),On=Kn[bi.uniqueID]||(Kn[bi.uniqueID]={}),It&&It===bi.nodeName.toLowerCase())bi=bi[hi]||bi;else{if((vn=On[Qt])&&vn[0]===Ys&&vn[1]===Fi)return pn[2]=vn[2];if(On[Qt]=pn,pn[2]=Ke(bi,un,yn))return!0}return!1}}function ar(Ke){return Ke.length>1?function(xt,kt,hi){for(var It=Ke.length;It--;)if(!Ke[It](xt,kt,hi))return!1;return!0}:Ke[0]}function cs(Ke,xt,kt){for(var hi=0,It=xt.length;hi<It;hi++)nr(Ke,xt[hi],kt);return kt}function pr(Ke,xt,kt,hi,It){for(var Qt,Si=[],Fi=0,bi=Ke.length,un=xt!=null;Fi<bi;Fi++)(Qt=Ke[Fi])&&(!kt||kt(Qt,hi,It))&&(Si.push(Qt),un&&xt.push(Fi));return Si}function _c(Ke,xt,kt,hi,It,Qt){return hi&&!hi[Vn]&&(hi=_c(hi)),It&&!It[Vn]&&(It=_c(It,Qt)),Gs(function(Si,Fi,bi,un){var yn,vn,On,Kn=[],pn=[],ss=Fi.length,hs=Si||cs(xt||"*",bi.nodeType?[bi]:bi,[]),Vs=Ke&&(Si||!xt)?pr(hs,Kn,Ke,bi,un):hs,Sr=kt?It||(Si?Ke:ss||hi)?[]:Fi:Vs;if(kt&&kt(Vs,Sr,bi,un),hi)for(yn=pr(Sr,pn),hi(yn,[],bi,un),vn=yn.length;vn--;)(On=yn[vn])&&(Sr[pn[vn]]=!(Vs[pn[vn]]=On));if(Si){if(It||Ke){if(It){for(yn=[],vn=Sr.length;vn--;)(On=Sr[vn])&&yn.push(Vs[vn]=On);It(null,Sr=[],yn,un)}for(vn=Sr.length;vn--;)(On=Sr[vn])&&(yn=It?za(Si,On):Kn[vn])>-1&&(Si[yn]=!(Fi[yn]=On))}}else Sr=pr(Sr===Fi?Sr.splice(ss,Sr.length):Sr),It?It(null,Fi,Sr,un):jo.apply(Fi,Sr)})}function Sh(Ke){for(var xt,kt,hi,It=Ke.length,Qt=we.relative[Ke[0].type],Si=Qt||we.relative[" "],Fi=Qt?1:0,bi=Dn(function(vn){return vn===xt},Si,!0),un=Dn(function(vn){return za(xt,vn)>-1},Si,!0),yn=[function(vn,On,Kn){var pn=!Qt&&(Kn||On!==Ut)||((xt=On).nodeType?bi(vn,On,Kn):un(vn,On,Kn));return xt=null,pn}];Fi<It;Fi++)if(kt=we.relative[Ke[Fi].type])yn=[Dn(ar(yn),kt)];else{if(kt=we.filter[Ke[Fi].type].apply(null,Ke[Fi].matches),kt[Vn]){for(hi=++Fi;hi<It&&!we.relative[Ke[hi].type];hi++);return _c(Fi>1&&ar(yn),Fi>1&&Yi(Ke.slice(0,Fi-1).concat({value:Ke[Fi-2].type===" "?"*":""})).replace(Dl,"$1"),kt,Fi<hi&&Sh(Ke.slice(Fi,hi)),hi<It&&Sh(Ke=Ke.slice(hi)),hi<It&&Yi(Ke))}yn.push(kt)}return ar(yn)}function ho(Ke,xt){var kt=xt.length>0,hi=Ke.length>0,It=function(Qt,Si,Fi,bi,un){var yn,vn,On,Kn=0,pn="0",ss=Qt&&[],hs=[],Vs=Ut,Sr=Qt||hi&&we.find.TAG("*",un),to=Ys+=Vs==null?1:Math.random()||.1,So=Sr.length;for(un&&(Ut=Si==ei||Si||un);pn!==So&&(yn=Sr[pn])!=null;pn++){if(hi&&yn){for(vn=0,!Si&&yn.ownerDocument!=ei&&(Kt(yn),Fi=!Ln);On=Ke[vn++];)if(On(yn,Si||ei,Fi)){bi.push(yn);break}un&&(Ys=to)}kt&&((yn=!On&&yn)&&Kn--,Qt&&ss.push(yn))}if(Kn+=pn,kt&&pn!==Kn){for(vn=0;On=xt[vn++];)On(ss,hs,Si,Fi);if(Qt){if(Kn>0)for(;pn--;)ss[pn]||hs[pn]||(hs[pn]=ia.call(bi));hs=pr(hs)}jo.apply(bi,hs),un&&!Qt&&hs.length>0&&Kn+xt.length>1&&nr.uniqueSort(bi)}return un&&(Ys=to,Ut=Vs),ss};return kt?Gs(It):It}return Et=nr.compile=function(Ke,xt){var kt,hi=[],It=[],Qt=kl[Ke+" "];if(!Qt){for(xt||(xt=He(Ke)),kt=xt.length;kt--;)Qt=Sh(xt[kt]),Qt[Vn]?hi.push(Qt):It.push(Qt);Qt=kl(Ke,ho(It,hi)),Qt.selector=Ke}return Qt},yt=nr.select=function(Ke,xt,kt,hi){var It,Qt,Si,Fi,bi,un=typeof Ke=="function"&&Ke,yn=!hi&&He(Ke=un.selector||Ke);if(kt=kt||[],yn.length===1){if(Qt=yn[0]=yn[0].slice(0),Qt.length>2&&(Si=Qt[0]).type==="ID"&&xt.nodeType===9&&Ln&&we.relative[Qt[1].type]){if(xt=(we.find.ID(Si.matches[0].replace(Go,Us),xt)||[])[0],xt)un&&(xt=xt.parentNode);else return kt;Ke=Ke.slice(Qt.shift().value.length)}for(It=Il.needsContext.test(Ke)?0:Qt.length;It--&&(Si=Qt[It],!we.relative[Fi=Si.type]);)if((bi=we.find[Fi])&&(hi=bi(Si.matches[0].replace(Go,Us),gc.test(Qt[0].type)&&ci(xt.parentNode)||xt))){if(Qt.splice(It,1),Ke=hi.length&&Yi(Qt),!Ke)return jo.apply(kt,hi),kt;break}}return(un||Et(Ke,yn))(hi,xt,!Ln,kt,!xt||gc.test(Ke)&&ci(xt.parentNode)||xt),kt},me.sortStable=Vn.split("").sort(bo).join("")===Vn,me.detectDuplicates=!!fi,Kt(),me.sortDetached=wo(function(Ke){return Ke.compareDocumentPosition(ei.createElement("fieldset"))&1}),wo(function(Ke){return Ke.innerHTML="<a href='#'></a>",Ke.firstChild.getAttribute("href")==="#"})||Ol("type|href|height|width",function(Ke,xt,kt){if(!kt)return Ke.getAttribute(xt,xt.toLowerCase()==="type"?1:2)}),(!me.attributes||!wo(function(Ke){return Ke.innerHTML="<input/>",Ke.firstChild.setAttribute("value",""),Ke.firstChild.getAttribute("value")===""}))&&Ol("value",function(Ke,xt,kt){if(!kt&&Ke.nodeName.toLowerCase()==="input")return Ke.defaultValue}),wo(function(Ke){return Ke.getAttribute("disabled")==null})||Ol(wh,function(Ke,xt,kt){var hi;if(!kt)return Ke[xt]===!0?xt.toLowerCase():(hi=Ke.getAttributeNode(xt))&&hi.specified?hi.value:null}),nr}(i);S.find=Y,S.expr=Y.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=Y.uniqueSort,S.text=Y.getText,S.isXMLDoc=Y.isXML,S.contains=Y.contains,S.escapeSelector=Y.escape;var I=function(k,ne,me){for(var we=[],Be=me!==void 0;(k=k[ne])&&k.nodeType!==9;)if(k.nodeType===1){if(Be&&S(k).is(me))break;we.push(k)}return we},V=function(k,ne){for(var me=[];k;k=k.nextSibling)k.nodeType===1&&k!==ne&&me.push(k);return me},X=S.expr.match.needsContext;function P(k,ne){return k.nodeName&&k.nodeName.toLowerCase()===ne.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _(k,ne,me){return U(ne)?S.grep(k,function(we,Be){return!!ne.call(we,Be,we)!==me}):ne.nodeType?S.grep(k,function(we){return we===ne!==me}):typeof ne!="string"?S.grep(k,function(we){return w.call(ne,we)>-1!==me}):S.filter(ne,k,me)}S.filter=function(k,ne,me){var we=ne[0];return me&&(k=":not("+k+")"),ne.length===1&&we.nodeType===1?S.find.matchesSelector(we,k)?[we]:[]:S.find.matches(k,S.grep(ne,function(Be){return Be.nodeType===1}))},S.fn.extend({find:function(k){var ne,me,we=this.length,Be=this;if(typeof k!="string")return this.pushStack(S(k).filter(function(){for(ne=0;ne<we;ne++)if(S.contains(Be[ne],this))return!0}));for(me=this.pushStack([]),ne=0;ne<we;ne++)S.find(k,Be[ne],me);return we>1?S.uniqueSort(me):me},filter:function(k){return this.pushStack(_(this,k||[],!1))},not:function(k){return this.pushStack(_(this,k||[],!0))},is:function(k){return!!_(this,typeof k=="string"&&X.test(k)?S(k):k||[],!1).length}});var v,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,O=S.fn.init=function(k,ne,me){var we,Be;if(!k)return this;if(me=me||v,typeof k=="string")if(k[0]==="<"&&k[k.length-1]===">"&&k.length>=3?we=[null,k,null]:we=M.exec(k),we&&(we[1]||!ne))if(we[1]){if(ne=ne instanceof S?ne[0]:ne,S.merge(this,S.parseHTML(we[1],ne&&ne.nodeType?ne.ownerDocument||ne:R,!0)),L.test(we[1])&&S.isPlainObject(ne))for(we in ne)U(this[we])?this[we](ne[we]):this.attr(we,ne[we]);return this}else return Be=R.getElementById(we[2]),Be&&(this[0]=Be,this.length=1),this;else return!ne||ne.jquery?(ne||me).find(k):this.constructor(ne).find(k);else{if(k.nodeType)return this[0]=k,this.length=1,this;if(U(k))return me.ready!==void 0?me.ready(k):k(S)}return S.makeArray(k,this)};O.prototype=S.fn,v=S(R);var ee=/^(?:parents|prev(?:Until|All))/,ae={children:!0,contents:!0,next:!0,prev:!0};S.fn.extend({has:function(k){var ne=S(k,this),me=ne.length;return this.filter(function(){for(var we=0;we<me;we++)if(S.contains(this,ne[we]))return!0})},closest:function(k,ne){var me,we=0,Be=this.length,Ne=[],He=typeof k!="string"&&S(k);if(!X.test(k)){for(;we<Be;we++)for(me=this[we];me&&me!==ne;me=me.parentNode)if(me.nodeType<11&&(He?He.index(me)>-1:me.nodeType===1&&S.find.matchesSelector(me,k))){Ne.push(me);break}}return this.pushStack(Ne.length>1?S.uniqueSort(Ne):Ne)},index:function(k){return k?typeof k=="string"?w.call(S(k),this[0]):w.call(this,k.jquery?k[0]:k):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(k,ne){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(k,ne))))},addBack:function(k){return this.add(k==null?this.prevObject:this.prevObject.filter(k))}});function K(k,ne){for(;(k=k[ne])&&k.nodeType!==1;);return k}S.each({parent:function(k){var ne=k.parentNode;return ne&&ne.nodeType!==11?ne:null},parents:function(k){return I(k,"parentNode")},parentsUntil:function(k,ne,me){return I(k,"parentNode",me)},next:function(k){return K(k,"nextSibling")},prev:function(k){return K(k,"previousSibling")},nextAll:function(k){return I(k,"nextSibling")},prevAll:function(k){return I(k,"previousSibling")},nextUntil:function(k,ne,me){return I(k,"nextSibling",me)},prevUntil:function(k,ne,me){return I(k,"previousSibling",me)},siblings:function(k){return V((k.parentNode||{}).firstChild,k)},children:function(k){return V(k.firstChild)},contents:function(k){return k.contentDocument!=null&&h(k.contentDocument)?k.contentDocument:(P(k,"template")&&(k=k.content||k),S.merge([],k.childNodes))}},function(k,ne){S.fn[k]=function(me,we){var Be=S.map(this,ne,me);return k.slice(-5)!=="Until"&&(we=me),we&&typeof we=="string"&&(Be=S.filter(we,Be)),this.length>1&&(ae[k]||S.uniqueSort(Be),ee.test(k)&&Be.reverse()),this.pushStack(Be)}});var pe=/[^\x20\t\r\n\f]+/g;function Me(k){var ne={};return S.each(k.match(pe)||[],function(me,we){ne[we]=!0}),ne}S.Callbacks=function(k){k=typeof k=="string"?Me(k):S.extend({},k);var ne,me,we,Be,Ne=[],He=[],Et=-1,yt=function(){for(Be=Be||k.once,we=ne=!0;He.length;Et=-1)for(me=He.shift();++Et<Ne.length;)Ne[Et].apply(me[0],me[1])===!1&&k.stopOnFalse&&(Et=Ne.length,me=!1);k.memory||(me=!1),ne=!1,Be&&(me?Ne=[]:Ne="")},Ut={add:function(){return Ne&&(me&&!ne&&(Et=Ne.length-1,He.push(me)),function ii(fi){S.each(fi,function(Kt,ei){U(ei)?(!k.unique||!Ut.has(ei))&&Ne.push(ei):ei&&ei.length&&$(ei)!=="string"&&ii(ei)})}(arguments),me&&!ne&&yt()),this},remove:function(){return S.each(arguments,function(ii,fi){for(var Kt;(Kt=S.inArray(fi,Ne,Kt))>-1;)Ne.splice(Kt,1),Kt<=Et&&Et--}),this},has:function(ii){return ii?S.inArray(ii,Ne)>-1:Ne.length>0},empty:function(){return Ne&&(Ne=[]),this},disable:function(){return Be=He=[],Ne=me="",this},disabled:function(){return!Ne},lock:function(){return Be=He=[],!me&&!ne&&(Ne=me=""),this},locked:function(){return!!Be},fireWith:function(ii,fi){return Be||(fi=fi||[],fi=[ii,fi.slice?fi.slice():fi],He.push(fi),ne||yt()),this},fire:function(){return Ut.fireWith(this,arguments),this},fired:function(){return!!we}};return Ut};function Pe(k){return k}function W(k){throw k}function le(k,ne,me,we){var Be;try{k&&U(Be=k.promise)?Be.call(k).done(ne).fail(me):k&&U(Be=k.then)?Be.call(k,ne,me):ne.apply(void 0,[k].slice(we))}catch(Ne){me.apply(void 0,[Ne])}}S.extend({Deferred:function(k){var ne=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],me="pending",we={state:function(){return me},always:function(){return Be.done(arguments).fail(arguments),this},catch:function(Ne){return we.then(null,Ne)},pipe:function(){var Ne=arguments;return S.Deferred(function(He){S.each(ne,function(Et,yt){var Ut=U(Ne[yt[4]])&&Ne[yt[4]];Be[yt[1]](function(){var ii=Ut&&Ut.apply(this,arguments);ii&&U(ii.promise)?ii.promise().progress(He.notify).done(He.resolve).fail(He.reject):He[yt[0]+"With"](this,Ut?[ii]:arguments)})}),Ne=null}).promise()},then:function(Ne,He,Et){var yt=0;function Ut(ii,fi,Kt,ei){return function(){var ki=this,Ln=arguments,Ki=function(){var Lr,Gn;if(!(ii<yt)){if(Lr=Kt.apply(ki,Ln),Lr===fi.promise())throw new TypeError("Thenable self-resolution");Gn=Lr&&(typeof Lr=="object"||typeof Lr=="function")&&Lr.then,U(Gn)?ei?Gn.call(Lr,Ut(yt,fi,Pe,ei),Ut(yt,fi,W,ei)):(yt++,Gn.call(Lr,Ut(yt,fi,Pe,ei),Ut(yt,fi,W,ei),Ut(yt,fi,Pe,fi.notifyWith))):(Kt!==Pe&&(ki=void 0,Ln=[Lr]),(ei||fi.resolveWith)(ki,Ln))}},qr=ei?Ki:function(){try{Ki()}catch(Lr){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(Lr,qr.stackTrace),ii+1>=yt&&(Kt!==W&&(ki=void 0,Ln=[Lr]),fi.rejectWith(ki,Ln))}};ii?qr():(S.Deferred.getStackHook&&(qr.stackTrace=S.Deferred.getStackHook()),i.setTimeout(qr))}}return S.Deferred(function(ii){ne[0][3].add(Ut(0,ii,U(Et)?Et:Pe,ii.notifyWith)),ne[1][3].add(Ut(0,ii,U(Ne)?Ne:Pe)),ne[2][3].add(Ut(0,ii,U(He)?He:W))}).promise()},promise:function(Ne){return Ne!=null?S.extend(Ne,we):we}},Be={};return S.each(ne,function(Ne,He){var Et=He[2],yt=He[5];we[He[1]]=Et.add,yt&&Et.add(function(){me=yt},ne[3-Ne][2].disable,ne[3-Ne][3].disable,ne[0][2].lock,ne[0][3].lock),Et.add(He[3].fire),Be[He[0]]=function(){return Be[He[0]+"With"](this===Be?void 0:this,arguments),this},Be[He[0]+"With"]=Et.fireWith}),we.promise(Be),k&&k.call(Be,Be),Be},when:function(k){var ne=arguments.length,me=ne,we=Array(me),Be=u.call(arguments),Ne=S.Deferred(),He=function(Et){return function(yt){we[Et]=this,Be[Et]=arguments.length>1?u.call(arguments):yt,--ne||Ne.resolveWith(we,Be)}};if(ne<=1&&(le(k,Ne.done(He(me)).resolve,Ne.reject,!ne),Ne.state()==="pending"||U(Be[me]&&Be[me].then)))return Ne.then();for(;me--;)le(Be[me],He(me),Ne.reject);return Ne.promise()}});var ue=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(k,ne){i.console&&i.console.warn&&k&&ue.test(k.name)&&i.console.warn("jQuery.Deferred exception: "+k.message,k.stack,ne)},S.readyException=function(k){i.setTimeout(function(){throw k})};var xe=S.Deferred();S.fn.ready=function(k){return xe.then(k).catch(function(ne){S.readyException(ne)}),this},S.extend({isReady:!1,readyWait:1,ready:function(k){(k===!0?--S.readyWait:S.isReady)||(S.isReady=!0,!(k!==!0&&--S.readyWait>0)&&xe.resolveWith(R,[S]))}}),S.ready.then=xe.then;function Le(){R.removeEventListener("DOMContentLoaded",Le),i.removeEventListener("load",Le),S.ready()}R.readyState==="complete"||R.readyState!=="loading"&&!R.documentElement.doScroll?i.setTimeout(S.ready):(R.addEventListener("DOMContentLoaded",Le),i.addEventListener("load",Le));var oe=function(k,ne,me,we,Be,Ne,He){var Et=0,yt=k.length,Ut=me==null;if($(me)==="object"){Be=!0;for(Et in me)oe(k,ne,Et,me[Et],!0,Ne,He)}else if(we!==void 0&&(Be=!0,U(we)||(He=!0),Ut&&(He?(ne.call(k,we),ne=null):(Ut=ne,ne=function(ii,fi,Kt){return Ut.call(S(ii),Kt)})),ne))for(;Et<yt;Et++)ne(k[Et],me,He?we:we.call(k[Et],Et,ne(k[Et],me)));return Be?k:Ut?ne.call(k):yt?ne(k[0],me):Ne},ve=/^-ms-/,_e=/-([a-z])/g;function se(k,ne){return ne.toUpperCase()}function fe(k){return k.replace(ve,"ms-").replace(_e,se)}var ye=function(k){return k.nodeType===1||k.nodeType===9||!+k.nodeType};function Ie(){this.expando=S.expando+Ie.uid++}Ie.uid=1,Ie.prototype={cache:function(k){var ne=k[this.expando];return ne||(ne={},ye(k)&&(k.nodeType?k[this.expando]=ne:Object.defineProperty(k,this.expando,{value:ne,configurable:!0}))),ne},set:function(k,ne,me){var we,Be=this.cache(k);if(typeof ne=="string")Be[fe(ne)]=me;else for(we in ne)Be[fe(we)]=ne[we];return Be},get:function(k,ne){return ne===void 0?this.cache(k):k[this.expando]&&k[this.expando][fe(ne)]},access:function(k,ne,me){return ne===void 0||ne&&typeof ne=="string"&&me===void 0?this.get(k,ne):(this.set(k,ne,me),me!==void 0?me:ne)},remove:function(k,ne){var me,we=k[this.expando];if(we!==void 0){if(ne!==void 0)for(Array.isArray(ne)?ne=ne.map(fe):(ne=fe(ne),ne=ne in we?[ne]:ne.match(pe)||[]),me=ne.length;me--;)delete we[ne[me]];(ne===void 0||S.isEmptyObject(we))&&(k.nodeType?k[this.expando]=void 0:delete k[this.expando])}},hasData:function(k){var ne=k[this.expando];return ne!==void 0&&!S.isEmptyObject(ne)}};var ke=new Ie,Ue=new Ie,st=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,it=/[A-Z]/g;function ht(k){return k==="true"?!0:k==="false"?!1:k==="null"?null:k===+k+""?+k:st.test(k)?JSON.parse(k):k}function Ae(k,ne,me){var we;if(me===void 0&&k.nodeType===1)if(we="data-"+ne.replace(it,"-$&").toLowerCase(),me=k.getAttribute(we),typeof me=="string"){try{me=ht(me)}catch{}Ue.set(k,ne,me)}else me=void 0;return me}S.extend({hasData:function(k){return Ue.hasData(k)||ke.hasData(k)},data:function(k,ne,me){return Ue.access(k,ne,me)},removeData:function(k,ne){Ue.remove(k,ne)},_data:function(k,ne,me){return ke.access(k,ne,me)},_removeData:function(k,ne){ke.remove(k,ne)}}),S.fn.extend({data:function(k,ne){var me,we,Be,Ne=this[0],He=Ne&&Ne.attributes;if(k===void 0){if(this.length&&(Be=Ue.get(Ne),Ne.nodeType===1&&!ke.get(Ne,"hasDataAttrs"))){for(me=He.length;me--;)He[me]&&(we=He[me].name,we.indexOf("data-")===0&&(we=fe(we.slice(5)),Ae(Ne,we,Be[we])));ke.set(Ne,"hasDataAttrs",!0)}return Be}return typeof k=="object"?this.each(function(){Ue.set(this,k)}):oe(this,function(Et){var yt;if(Ne&&Et===void 0)return yt=Ue.get(Ne,k),yt!==void 0||(yt=Ae(Ne,k),yt!==void 0)?yt:void 0;this.each(function(){Ue.set(this,k,Et)})},null,ne,arguments.length>1,null,!0)},removeData:function(k){return this.each(function(){Ue.remove(this,k)})}}),S.extend({queue:function(k,ne,me){var we;if(k)return ne=(ne||"fx")+"queue",we=ke.get(k,ne),me&&(!we||Array.isArray(me)?we=ke.access(k,ne,S.makeArray(me)):we.push(me)),we||[]},dequeue:function(k,ne){ne=ne||"fx";var me=S.queue(k,ne),we=me.length,Be=me.shift(),Ne=S._queueHooks(k,ne),He=function(){S.dequeue(k,ne)};Be==="inprogress"&&(Be=me.shift(),we--),Be&&(ne==="fx"&&me.unshift("inprogress"),delete Ne.stop,Be.call(k,He,Ne)),!we&&Ne&&Ne.empty.fire()},_queueHooks:function(k,ne){var me=ne+"queueHooks";return ke.get(k,me)||ke.access(k,me,{empty:S.Callbacks("once memory").add(function(){ke.remove(k,[ne+"queue",me])})})}}),S.fn.extend({queue:function(k,ne){var me=2;return typeof k!="string"&&(ne=k,k="fx",me--),arguments.length<me?S.queue(this[0],k):ne===void 0?this:this.each(function(){var we=S.queue(this,k,ne);S._queueHooks(this,k),k==="fx"&&we[0]!=="inprogress"&&S.dequeue(this,k)})},dequeue:function(k){return this.each(function(){S.dequeue(this,k)})},clearQueue:function(k){return this.queue(k||"fx",[])},promise:function(k,ne){var me,we=1,Be=S.Deferred(),Ne=this,He=this.length,Et=function(){--we||Be.resolveWith(Ne,[Ne])};for(typeof k!="string"&&(ne=k,k=void 0),k=k||"fx";He--;)me=ke.get(Ne[He],k+"queueHooks"),me&&me.empty&&(we++,me.empty.add(Et));return Et(),Be.promise(ne)}});var ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+ze+")([a-z%]*)$","i"),$e=["Top","Right","Bottom","Left"],nt=R.documentElement,bt=function(k){return S.contains(k.ownerDocument,k)},jt={composed:!0};nt.getRootNode&&(bt=function(k){return S.contains(k.ownerDocument,k)||k.getRootNode(jt)===k.ownerDocument});var Gt=function(k,ne){return k=ne||k,k.style.display==="none"||k.style.display===""&&bt(k)&&S.css(k,"display")==="none"};function yi(k,ne,me,we){var Be,Ne,He=20,Et=we?function(){return we.cur()}:function(){return S.css(k,ne,"")},yt=Et(),Ut=me&&me[3]||(S.cssNumber[ne]?"":"px"),ii=k.nodeType&&(S.cssNumber[ne]||Ut!=="px"&&+yt)&&je.exec(S.css(k,ne));if(ii&&ii[3]!==Ut){for(yt=yt/2,Ut=Ut||ii[3],ii=+yt||1;He--;)S.style(k,ne,ii+Ut),(1-Ne)*(1-(Ne=Et()/yt||.5))<=0&&(He=0),ii=ii/Ne;ii=ii*2,S.style(k,ne,ii+Ut),me=me||[]}return me&&(ii=+ii||+yt||0,Be=me[1]?ii+(me[1]+1)*me[2]:+me[2],we&&(we.unit=Ut,we.start=ii,we.end=Be)),Be}var ri={};function Ci(k){var ne,me=k.ownerDocument,we=k.nodeName,Be=ri[we];return Be||(ne=me.body.appendChild(me.createElement(we)),Be=S.css(ne,"display"),ne.parentNode.removeChild(ne),Be==="none"&&(Be="block"),ri[we]=Be,Be)}function Gi(k,ne){for(var me,we,Be=[],Ne=0,He=k.length;Ne<He;Ne++)we=k[Ne],we.style&&(me=we.style.display,ne?(me==="none"&&(Be[Ne]=ke.get(we,"display")||null,Be[Ne]||(we.style.display="")),we.style.display===""&&Gt(we)&&(Be[Ne]=Ci(we))):me!=="none"&&(Be[Ne]="none",ke.set(we,"display",me)));for(Ne=0;Ne<He;Ne++)Be[Ne]!=null&&(k[Ne].style.display=Be[Ne]);return k}S.fn.extend({show:function(){return Gi(this,!0)},hide:function(){return Gi(this)},toggle:function(k){return typeof k=="boolean"?k?this.show():this.hide():this.each(function(){Gt(this)?S(this).show():S(this).hide()})}});var zi=/^(?:checkbox|radio)$/i,Xi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Li=/^$|^module$|\/(?:java|ecma)script/i;(function(){var k=R.createDocumentFragment(),ne=k.appendChild(R.createElement("div")),me=R.createElement("input");me.setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),ne.appendChild(me),F.checkClone=ne.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.innerHTML="<textarea>x</textarea>",F.noCloneChecked=!!ne.cloneNode(!0).lastChild.defaultValue,ne.innerHTML="<option></option>",F.option=!!ne.lastChild})();var gn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};gn.tbody=gn.tfoot=gn.colgroup=gn.caption=gn.thead,gn.th=gn.td,F.option||(gn.optgroup=gn.option=[1,"<select multiple='multiple'>","</select>"]);function bn(k,ne){var me;return typeof k.getElementsByTagName<"u"?me=k.getElementsByTagName(ne||"*"):typeof k.querySelectorAll<"u"?me=k.querySelectorAll(ne||"*"):me=[],ne===void 0||ne&&P(k,ne)?S.merge([k],me):me}function $n(k,ne){for(var me=0,we=k.length;me<we;me++)ke.set(k[me],"globalEval",!ne||ke.get(ne[me],"globalEval"))}var bs=/<|&#?\w+;/;function hr(k,ne,me,we,Be){for(var Ne,He,Et,yt,Ut,ii,fi=ne.createDocumentFragment(),Kt=[],ei=0,ki=k.length;ei<ki;ei++)if(Ne=k[ei],Ne||Ne===0)if($(Ne)==="object")S.merge(Kt,Ne.nodeType?[Ne]:Ne);else if(!bs.test(Ne))Kt.push(ne.createTextNode(Ne));else{for(He=He||fi.appendChild(ne.createElement("div")),Et=(Xi.exec(Ne)||["",""])[1].toLowerCase(),yt=gn[Et]||gn._default,He.innerHTML=yt[1]+S.htmlPrefilter(Ne)+yt[2],ii=yt[0];ii--;)He=He.lastChild;S.merge(Kt,He.childNodes),He=fi.firstChild,He.textContent=""}for(fi.textContent="",ei=0;Ne=Kt[ei++];){if(we&&S.inArray(Ne,we)>-1){Be&&Be.push(Ne);continue}if(Ut=bt(Ne),He=bn(fi.appendChild(Ne),"script"),Ut&&$n(He),me)for(ii=0;Ne=He[ii++];)Li.test(Ne.type||"")&&me.push(Ne)}return fi}var Cr=/^([^.]*)(?:\.(.+)|)/;function Ar(){return!0}function Ia(){return!1}function cc(k,ne){return k===wl()==(ne==="focus")}function wl(){try{return R.activeElement}catch{}}function Ya(k,ne,me,we,Be,Ne){var He,Et;if(typeof ne=="object"){typeof me!="string"&&(we=we||me,me=void 0);for(Et in ne)Ya(k,Et,me,we,ne[Et],Ne);return k}if(we==null&&Be==null?(Be=me,we=me=void 0):Be==null&&(typeof me=="string"?(Be=we,we=void 0):(Be=we,we=me,me=void 0)),Be===!1)Be=Ia;else if(!Be)return k;return Ne===1&&(He=Be,Be=function(yt){return S().off(yt),He.apply(this,arguments)},Be.guid=He.guid||(He.guid=S.guid++)),k.each(function(){S.event.add(this,ne,Be,we,me)})}S.event={global:{},add:function(k,ne,me,we,Be){var Ne,He,Et,yt,Ut,ii,fi,Kt,ei,ki,Ln,Ki=ke.get(k);if(ye(k))for(me.handler&&(Ne=me,me=Ne.handler,Be=Ne.selector),Be&&S.find.matchesSelector(nt,Be),me.guid||(me.guid=S.guid++),(yt=Ki.events)||(yt=Ki.events=Object.create(null)),(He=Ki.handle)||(He=Ki.handle=function(qr){return typeof S<"u"&&S.event.triggered!==qr.type?S.event.dispatch.apply(k,arguments):void 0}),ne=(ne||"").match(pe)||[""],Ut=ne.length;Ut--;)Et=Cr.exec(ne[Ut])||[],ei=Ln=Et[1],ki=(Et[2]||"").split(".").sort(),ei&&(fi=S.event.special[ei]||{},ei=(Be?fi.delegateType:fi.bindType)||ei,fi=S.event.special[ei]||{},ii=S.extend({type:ei,origType:Ln,data:we,handler:me,guid:me.guid,selector:Be,needsContext:Be&&S.expr.match.needsContext.test(Be),namespace:ki.join(".")},Ne),(Kt=yt[ei])||(Kt=yt[ei]=[],Kt.delegateCount=0,(!fi.setup||fi.setup.call(k,we,ki,He)===!1)&&k.addEventListener&&k.addEventListener(ei,He)),fi.add&&(fi.add.call(k,ii),ii.handler.guid||(ii.handler.guid=me.guid)),Be?Kt.splice(Kt.delegateCount++,0,ii):Kt.push(ii),S.event.global[ei]=!0)},remove:function(k,ne,me,we,Be){var Ne,He,Et,yt,Ut,ii,fi,Kt,ei,ki,Ln,Ki=ke.hasData(k)&&ke.get(k);if(!(!Ki||!(yt=Ki.events))){for(ne=(ne||"").match(pe)||[""],Ut=ne.length;Ut--;){if(Et=Cr.exec(ne[Ut])||[],ei=Ln=Et[1],ki=(Et[2]||"").split(".").sort(),!ei){for(ei in yt)S.event.remove(k,ei+ne[Ut],me,we,!0);continue}for(fi=S.event.special[ei]||{},ei=(we?fi.delegateType:fi.bindType)||ei,Kt=yt[ei]||[],Et=Et[2]&&new RegExp("(^|\\.)"+ki.join("\\.(?:.*\\.|)")+"(\\.|$)"),He=Ne=Kt.length;Ne--;)ii=Kt[Ne],(Be||Ln===ii.origType)&&(!me||me.guid===ii.guid)&&(!Et||Et.test(ii.namespace))&&(!we||we===ii.selector||we==="**"&&ii.selector)&&(Kt.splice(Ne,1),ii.selector&&Kt.delegateCount--,fi.remove&&fi.remove.call(k,ii));He&&!Kt.length&&((!fi.teardown||fi.teardown.call(k,ki,Ki.handle)===!1)&&S.removeEvent(k,ei,Ki.handle),delete yt[ei])}S.isEmptyObject(yt)&&ke.remove(k,"handle events")}},dispatch:function(k){var ne,me,we,Be,Ne,He,Et=new Array(arguments.length),yt=S.event.fix(k),Ut=(ke.get(this,"events")||Object.create(null))[yt.type]||[],ii=S.event.special[yt.type]||{};for(Et[0]=yt,ne=1;ne<arguments.length;ne++)Et[ne]=arguments[ne];if(yt.delegateTarget=this,!(ii.preDispatch&&ii.preDispatch.call(this,yt)===!1)){for(He=S.event.handlers.call(this,yt,Ut),ne=0;(Be=He[ne++])&&!yt.isPropagationStopped();)for(yt.currentTarget=Be.elem,me=0;(Ne=Be.handlers[me++])&&!yt.isImmediatePropagationStopped();)(!yt.rnamespace||Ne.namespace===!1||yt.rnamespace.test(Ne.namespace))&&(yt.handleObj=Ne,yt.data=Ne.data,we=((S.event.special[Ne.origType]||{}).handle||Ne.handler).apply(Be.elem,Et),we!==void 0&&(yt.result=we)===!1&&(yt.preventDefault(),yt.stopPropagation()));return ii.postDispatch&&ii.postDispatch.call(this,yt),yt.result}},handlers:function(k,ne){var me,we,Be,Ne,He,Et=[],yt=ne.delegateCount,Ut=k.target;if(yt&&Ut.nodeType&&!(k.type==="click"&&k.button>=1)){for(;Ut!==this;Ut=Ut.parentNode||this)if(Ut.nodeType===1&&!(k.type==="click"&&Ut.disabled===!0)){for(Ne=[],He={},me=0;me<yt;me++)we=ne[me],Be=we.selector+" ",He[Be]===void 0&&(He[Be]=we.needsContext?S(Be,this).index(Ut)>-1:S.find(Be,this,null,[Ut]).length),He[Be]&&Ne.push(we);Ne.length&&Et.push({elem:Ut,handlers:Ne})}}return Ut=this,yt<ne.length&&Et.push({elem:Ut,handlers:ne.slice(yt)}),Et},addProp:function(k,ne){Object.defineProperty(S.Event.prototype,k,{enumerable:!0,configurable:!0,get:U(ne)?function(){if(this.originalEvent)return ne(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[k]},set:function(me){Object.defineProperty(this,k,{enumerable:!0,configurable:!0,writable:!0,value:me})}})},fix:function(k){return k[S.expando]?k:new S.Event(k)},special:{load:{noBubble:!0},click:{setup:function(k){var ne=this||k;return zi.test(ne.type)&&ne.click&&P(ne,"input")&&Js(ne,"click",Ar),!1},trigger:function(k){var ne=this||k;return zi.test(ne.type)&&ne.click&&P(ne,"input")&&Js(ne,"click"),!0},_default:function(k){var ne=k.target;return zi.test(ne.type)&&ne.click&&P(ne,"input")&&ke.get(ne,"click")||P(ne,"a")}},beforeunload:{postDispatch:function(k){k.result!==void 0&&k.originalEvent&&(k.originalEvent.returnValue=k.result)}}}};function Js(k,ne,me){if(!me){ke.get(k,ne)===void 0&&S.event.add(k,ne,Ar);return}ke.set(k,ne,!1),S.event.add(k,ne,{namespace:!1,handler:function(we){var Be,Ne,He=ke.get(this,ne);if(we.isTrigger&1&&this[ne]){if(He.length)(S.event.special[ne]||{}).delegateType&&we.stopPropagation();else if(He=u.call(arguments),ke.set(this,ne,He),Be=me(this,ne),this[ne](),Ne=ke.get(this,ne),He!==Ne||Be?ke.set(this,ne,!1):Ne={},He!==Ne)return we.stopImmediatePropagation(),we.preventDefault(),Ne&&Ne.value}else He.length&&(ke.set(this,ne,{value:S.event.trigger(S.extend(He[0],S.Event.prototype),He.slice(1),this)}),we.stopImmediatePropagation())}})}S.removeEvent=function(k,ne,me){k.removeEventListener&&k.removeEventListener(ne,me)},S.Event=function(k,ne){if(!(this instanceof S.Event))return new S.Event(k,ne);k&&k.type?(this.originalEvent=k,this.type=k.type,this.isDefaultPrevented=k.defaultPrevented||k.defaultPrevented===void 0&&k.returnValue===!1?Ar:Ia,this.target=k.target&&k.target.nodeType===3?k.target.parentNode:k.target,this.currentTarget=k.currentTarget,this.relatedTarget=k.relatedTarget):this.type=k,ne&&S.extend(this,ne),this.timeStamp=k&&k.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ia,isPropagationStopped:Ia,isImmediatePropagationStopped:Ia,isSimulated:!1,preventDefault:function(){var k=this.originalEvent;this.isDefaultPrevented=Ar,k&&!this.isSimulated&&k.preventDefault()},stopPropagation:function(){var k=this.originalEvent;this.isPropagationStopped=Ar,k&&!this.isSimulated&&k.stopPropagation()},stopImmediatePropagation:function(){var k=this.originalEvent;this.isImmediatePropagationStopped=Ar,k&&!this.isSimulated&&k.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(k,ne){S.event.special[k]={setup:function(){return Js(this,k,cc),!1},trigger:function(){return Js(this,k),!0},_default:function(me){return ke.get(me.target,k)},delegateType:ne}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(k,ne){S.event.special[k]={delegateType:ne,bindType:ne,handle:function(me){var we,Be=this,Ne=me.relatedTarget,He=me.handleObj;return(!Ne||Ne!==Be&&!S.contains(Be,Ne))&&(me.type=He.origType,we=He.handler.apply(this,arguments),me.type=ne),we}}}),S.fn.extend({on:function(k,ne,me,we){return Ya(this,k,ne,me,we)},one:function(k,ne,me,we){return Ya(this,k,ne,me,we,1)},off:function(k,ne,me){var we,Be;if(k&&k.preventDefault&&k.handleObj)return we=k.handleObj,S(k.delegateTarget).off(we.namespace?we.origType+"."+we.namespace:we.origType,we.selector,we.handler),this;if(typeof k=="object"){for(Be in k)this.off(Be,ne,k[Be]);return this}return(ne===!1||typeof ne=="function")&&(me=ne,ne=void 0),me===!1&&(me=Ia),this.each(function(){S.event.remove(this,k,me,ne)})}});var qa=/<script|<style|<link/i,Uc=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Oe(k,ne){return P(k,"table")&&P(ne.nodeType!==11?ne:ne.firstChild,"tr")&&S(k).children("tbody")[0]||k}function Ve(k){return k.type=(k.getAttribute("type")!==null)+"/"+k.type,k}function ot(k){return(k.type||"").slice(0,5)==="true/"?k.type=k.type.slice(5):k.removeAttribute("type"),k}function ut(k,ne){var me,we,Be,Ne,He,Et,yt;if(ne.nodeType===1){if(ke.hasData(k)&&(Ne=ke.get(k),yt=Ne.events,yt)){ke.remove(ne,"handle events");for(Be in yt)for(me=0,we=yt[Be].length;me<we;me++)S.event.add(ne,Be,yt[Be][me])}Ue.hasData(k)&&(He=Ue.access(k),Et=S.extend({},He),Ue.set(ne,Et))}}function St(k,ne){var me=ne.nodeName.toLowerCase();me==="input"&&zi.test(k.type)?ne.checked=k.checked:(me==="input"||me==="textarea")&&(ne.defaultValue=k.defaultValue)}function Lt(k,ne,me,we){ne=y(ne);var Be,Ne,He,Et,yt,Ut,ii=0,fi=k.length,Kt=fi-1,ei=ne[0],ki=U(ei);if(ki||fi>1&&typeof ei=="string"&&!F.checkClone&&Uc.test(ei))return k.each(function(Ln){var Ki=k.eq(Ln);ki&&(ne[0]=ei.call(this,Ln,Ki.html())),Lt(Ki,ne,me,we)});if(fi&&(Be=hr(ne,k[0].ownerDocument,!1,k,we),Ne=Be.firstChild,Be.childNodes.length===1&&(Be=Ne),Ne||we)){for(He=S.map(bn(Be,"script"),Ve),Et=He.length;ii<fi;ii++)yt=Be,ii!==Kt&&(yt=S.clone(yt,!0,!0),Et&&S.merge(He,bn(yt,"script"))),me.call(k[ii],yt,ii);if(Et)for(Ut=He[He.length-1].ownerDocument,S.map(He,ot),ii=0;ii<Et;ii++)yt=He[ii],Li.test(yt.type||"")&&!ke.access(yt,"globalEval")&&S.contains(Ut,yt)&&(yt.src&&(yt.type||"").toLowerCase()!=="module"?S._evalUrl&&!yt.noModule&&S._evalUrl(yt.src,{nonce:yt.nonce||yt.getAttribute("nonce")},Ut):N(yt.textContent.replace(at,""),yt,Ut))}return k}function Rt(k,ne,me){for(var we,Be=ne?S.filter(ne,k):k,Ne=0;(we=Be[Ne])!=null;Ne++)!me&&we.nodeType===1&&S.cleanData(bn(we)),we.parentNode&&(me&&bt(we)&&$n(bn(we,"script")),we.parentNode.removeChild(we));return k}S.extend({htmlPrefilter:function(k){return k},clone:function(k,ne,me){var we,Be,Ne,He,Et=k.cloneNode(!0),yt=bt(k);if(!F.noCloneChecked&&(k.nodeType===1||k.nodeType===11)&&!S.isXMLDoc(k))for(He=bn(Et),Ne=bn(k),we=0,Be=Ne.length;we<Be;we++)St(Ne[we],He[we]);if(ne)if(me)for(Ne=Ne||bn(k),He=He||bn(Et),we=0,Be=Ne.length;we<Be;we++)ut(Ne[we],He[we]);else ut(k,Et);return He=bn(Et,"script"),He.length>0&&$n(He,!yt&&bn(k,"script")),Et},cleanData:function(k){for(var ne,me,we,Be=S.event.special,Ne=0;(me=k[Ne])!==void 0;Ne++)if(ye(me)){if(ne=me[ke.expando]){if(ne.events)for(we in ne.events)Be[we]?S.event.remove(me,we):S.removeEvent(me,we,ne.handle);me[ke.expando]=void 0}me[Ue.expando]&&(me[Ue.expando]=void 0)}}}),S.fn.extend({detach:function(k){return Rt(this,k,!0)},remove:function(k){return Rt(this,k)},text:function(k){return oe(this,function(ne){return ne===void 0?S.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=ne)})},null,k,arguments.length)},append:function(){return Lt(this,arguments,function(k){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var ne=Oe(this,k);ne.appendChild(k)}})},prepend:function(){return Lt(this,arguments,function(k){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var ne=Oe(this,k);ne.insertBefore(k,ne.firstChild)}})},before:function(){return Lt(this,arguments,function(k){this.parentNode&&this.parentNode.insertBefore(k,this)})},after:function(){return Lt(this,arguments,function(k){this.parentNode&&this.parentNode.insertBefore(k,this.nextSibling)})},empty:function(){for(var k,ne=0;(k=this[ne])!=null;ne++)k.nodeType===1&&(S.cleanData(bn(k,!1)),k.textContent="");return this},clone:function(k,ne){return k=k??!1,ne=ne??k,this.map(function(){return S.clone(this,k,ne)})},html:function(k){return oe(this,function(ne){var me=this[0]||{},we=0,Be=this.length;if(ne===void 0&&me.nodeType===1)return me.innerHTML;if(typeof ne=="string"&&!qa.test(ne)&&!gn[(Xi.exec(ne)||["",""])[1].toLowerCase()]){ne=S.htmlPrefilter(ne);try{for(;we<Be;we++)me=this[we]||{},me.nodeType===1&&(S.cleanData(bn(me,!1)),me.innerHTML=ne);me=0}catch{}}me&&this.empty().append(ne)},null,k,arguments.length)},replaceWith:function(){var k=[];return Lt(this,arguments,function(ne){var me=this.parentNode;S.inArray(this,k)<0&&(S.cleanData(bn(this)),me&&me.replaceChild(ne,this))},k)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(k,ne){S.fn[k]=function(me){for(var we,Be=[],Ne=S(me),He=Ne.length-1,Et=0;Et<=He;Et++)we=Et===He?this:this.clone(!0),S(Ne[Et])[ne](we),n.apply(Be,we.get());return this.pushStack(Be)}});var Mt=new RegExp("^("+ze+")(?!px)[a-z%]+$","i"),Nt=/^--/,li=function(k){var ne=k.ownerDocument.defaultView;return(!ne||!ne.opener)&&(ne=i),ne.getComputedStyle(k)},Oi=function(k,ne,me){var we,Be,Ne={};for(Be in ne)Ne[Be]=k.style[Be],k.style[Be]=ne[Be];we=me.call(k);for(Be in ne)k.style[Be]=Ne[Be];return we},_i=new RegExp($e.join("|"),"i"),rn="[\\x20\\t\\r\\n\\f]",en=new RegExp("^"+rn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rn+"+$","g");(function(){function k(){if(Ut){yt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ut.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(yt).appendChild(Ut);var ii=i.getComputedStyle(Ut);me=ii.top!=="1%",Et=ne(ii.marginLeft)===12,Ut.style.right="60%",Ne=ne(ii.right)===36,we=ne(ii.width)===36,Ut.style.position="absolute",Be=ne(Ut.offsetWidth/3)===12,nt.removeChild(yt),Ut=null}}function ne(ii){return Math.round(parseFloat(ii))}var me,we,Be,Ne,He,Et,yt=R.createElement("div"),Ut=R.createElement("div");Ut.style&&(Ut.style.backgroundClip="content-box",Ut.cloneNode(!0).style.backgroundClip="",F.clearCloneStyle=Ut.style.backgroundClip==="content-box",S.extend(F,{boxSizingReliable:function(){return k(),we},pixelBoxStyles:function(){return k(),Ne},pixelPosition:function(){return k(),me},reliableMarginLeft:function(){return k(),Et},scrollboxSize:function(){return k(),Be},reliableTrDimensions:function(){var ii,fi,Kt,ei;return He==null&&(ii=R.createElement("table"),fi=R.createElement("tr"),Kt=R.createElement("div"),ii.style.cssText="position:absolute;left:-11111px;border-collapse:separate",fi.style.cssText="border:1px solid",fi.style.height="1px",Kt.style.height="9px",Kt.style.display="block",nt.appendChild(ii).appendChild(fi).appendChild(Kt),ei=i.getComputedStyle(fi),He=parseInt(ei.height,10)+parseInt(ei.borderTopWidth,10)+parseInt(ei.borderBottomWidth,10)===fi.offsetHeight,nt.removeChild(ii)),He}}))})();function $i(k,ne,me){var we,Be,Ne,He,Et=Nt.test(ne),yt=k.style;return me=me||li(k),me&&(He=me.getPropertyValue(ne)||me[ne],Et&&He&&(He=He.replace(en,"$1")||void 0),He===""&&!bt(k)&&(He=S.style(k,ne)),!F.pixelBoxStyles()&&Mt.test(He)&&_i.test(ne)&&(we=yt.width,Be=yt.minWidth,Ne=yt.maxWidth,yt.minWidth=yt.maxWidth=yt.width=He,He=me.width,yt.width=we,yt.minWidth=Be,yt.maxWidth=Ne)),He!==void 0?He+"":He}function ln(k,ne){return{get:function(){if(k()){delete this.get;return}return(this.get=ne).apply(this,arguments)}}}var Bn=["Webkit","Moz","ms"],Qn=R.createElement("div").style,Zi={};function vr(k){for(var ne=k[0].toUpperCase()+k.slice(1),me=Bn.length;me--;)if(k=Bn[me]+ne,k in Qn)return k}function or(k){var ne=S.cssProps[k]||Zi[k];return ne||(k in Qn?k:Zi[k]=vr(k)||k)}var ua=/^(none|table(?!-c[ea]).+)/,Za={position:"absolute",visibility:"hidden",display:"block"},vo={letterSpacing:"0",fontWeight:"400"};function ni(k,ne,me){var we=je.exec(ne);return we?Math.max(0,we[2]-(me||0))+(we[3]||"px"):ne}function Bo(k,ne,me,we,Be,Ne){var He=ne==="width"?1:0,Et=0,yt=0;if(me===(we?"border":"content"))return 0;for(;He<4;He+=2)me==="margin"&&(yt+=S.css(k,me+$e[He],!0,Be)),we?(me==="content"&&(yt-=S.css(k,"padding"+$e[He],!0,Be)),me!=="margin"&&(yt-=S.css(k,"border"+$e[He]+"Width",!0,Be))):(yt+=S.css(k,"padding"+$e[He],!0,Be),me!=="padding"?yt+=S.css(k,"border"+$e[He]+"Width",!0,Be):Et+=S.css(k,"border"+$e[He]+"Width",!0,Be));return!we&&Ne>=0&&(yt+=Math.max(0,Math.ceil(k["offset"+ne[0].toUpperCase()+ne.slice(1)]-Ne-yt-Et-.5))||0),yt}function ns(k,ne,me){var we=li(k),Be=!F.boxSizingReliable()||me,Ne=Be&&S.css(k,"boxSizing",!1,we)==="border-box",He=Ne,Et=$i(k,ne,we),yt="offset"+ne[0].toUpperCase()+ne.slice(1);if(Mt.test(Et)){if(!me)return Et;Et="auto"}return(!F.boxSizingReliable()&&Ne||!F.reliableTrDimensions()&&P(k,"tr")||Et==="auto"||!parseFloat(Et)&&S.css(k,"display",!1,we)==="inline")&&k.getClientRects().length&&(Ne=S.css(k,"boxSizing",!1,we)==="border-box",He=yt in k,He&&(Et=k[yt])),Et=parseFloat(Et)||0,Et+Bo(k,ne,me||(Ne?"border":"content"),He,we,Et)+"px"}S.extend({cssHooks:{opacity:{get:function(k,ne){if(ne){var me=$i(k,"opacity");return me===""?"1":me}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(k,ne,me,we){if(!(!k||k.nodeType===3||k.nodeType===8||!k.style)){var Be,Ne,He,Et=fe(ne),yt=Nt.test(ne),Ut=k.style;if(yt||(ne=or(Et)),He=S.cssHooks[ne]||S.cssHooks[Et],me!==void 0){if(Ne=typeof me,Ne==="string"&&(Be=je.exec(me))&&Be[1]&&(me=yi(k,ne,Be),Ne="number"),me==null||me!==me)return;Ne==="number"&&!yt&&(me+=Be&&Be[3]||(S.cssNumber[Et]?"":"px")),!F.clearCloneStyle&&me===""&&ne.indexOf("background")===0&&(Ut[ne]="inherit"),(!He||!("set"in He)||(me=He.set(k,me,we))!==void 0)&&(yt?Ut.setProperty(ne,me):Ut[ne]=me)}else return He&&"get"in He&&(Be=He.get(k,!1,we))!==void 0?Be:Ut[ne]}},css:function(k,ne,me,we){var Be,Ne,He,Et=fe(ne),yt=Nt.test(ne);return yt||(ne=or(Et)),He=S.cssHooks[ne]||S.cssHooks[Et],He&&"get"in He&&(Be=He.get(k,!0,me)),Be===void 0&&(Be=$i(k,ne,we)),Be==="normal"&&ne in vo&&(Be=vo[ne]),me===""||me?(Ne=parseFloat(Be),me===!0||isFinite(Ne)?Ne||0:Be):Be}}),S.each(["height","width"],function(k,ne){S.cssHooks[ne]={get:function(me,we,Be){if(we)return ua.test(S.css(me,"display"))&&(!me.getClientRects().length||!me.getBoundingClientRect().width)?Oi(me,Za,function(){return ns(me,ne,Be)}):ns(me,ne,Be)},set:function(me,we,Be){var Ne,He=li(me),Et=!F.scrollboxSize()&&He.position==="absolute",yt=Et||Be,Ut=yt&&S.css(me,"boxSizing",!1,He)==="border-box",ii=Be?Bo(me,ne,Be,Ut,He):0;return Ut&&Et&&(ii-=Math.ceil(me["offset"+ne[0].toUpperCase()+ne.slice(1)]-parseFloat(He[ne])-Bo(me,ne,"border",!1,He)-.5)),ii&&(Ne=je.exec(we))&&(Ne[3]||"px")!=="px"&&(me.style[ne]=we,we=S.css(me,ne)),ni(me,we,ii)}}}),S.cssHooks.marginLeft=ln(F.reliableMarginLeft,function(k,ne){if(ne)return(parseFloat($i(k,"marginLeft"))||k.getBoundingClientRect().left-Oi(k,{marginLeft:0},function(){return k.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(k,ne){S.cssHooks[k+ne]={expand:function(me){for(var we=0,Be={},Ne=typeof me=="string"?me.split(" "):[me];we<4;we++)Be[k+$e[we]+ne]=Ne[we]||Ne[we-2]||Ne[0];return Be}},k!=="margin"&&(S.cssHooks[k+ne].set=ni)}),S.fn.extend({css:function(k,ne){return oe(this,function(me,we,Be){var Ne,He,Et={},yt=0;if(Array.isArray(we)){for(Ne=li(me),He=we.length;yt<He;yt++)Et[we[yt]]=S.css(me,we[yt],!1,Ne);return Et}return Be!==void 0?S.style(me,we,Be):S.css(me,we)},k,ne,arguments.length>1)}});function rs(k,ne,me,we,Be){return new rs.prototype.init(k,ne,me,we,Be)}S.Tween=rs,rs.prototype={constructor:rs,init:function(k,ne,me,we,Be,Ne){this.elem=k,this.prop=me,this.easing=Be||S.easing._default,this.options=ne,this.start=this.now=this.cur(),this.end=we,this.unit=Ne||(S.cssNumber[me]?"":"px")},cur:function(){var k=rs.propHooks[this.prop];return k&&k.get?k.get(this):rs.propHooks._default.get(this)},run:function(k){var ne,me=rs.propHooks[this.prop];return this.options.duration?this.pos=ne=S.easing[this.easing](k,this.options.duration*k,0,1,this.options.duration):this.pos=ne=k,this.now=(this.end-this.start)*ne+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),me&&me.set?me.set(this):rs.propHooks._default.set(this),this}},rs.prototype.init.prototype=rs.prototype,rs.propHooks={_default:{get:function(k){var ne;return k.elem.nodeType!==1||k.elem[k.prop]!=null&&k.elem.style[k.prop]==null?k.elem[k.prop]:(ne=S.css(k.elem,k.prop,""),!ne||ne==="auto"?0:ne)},set:function(k){S.fx.step[k.prop]?S.fx.step[k.prop](k):k.elem.nodeType===1&&(S.cssHooks[k.prop]||k.elem.style[or(k.prop)]!=null)?S.style(k.elem,k.prop,k.now+k.unit):k.elem[k.prop]=k.now}}},rs.propHooks.scrollTop=rs.propHooks.scrollLeft={set:function(k){k.elem.nodeType&&k.elem.parentNode&&(k.elem[k.prop]=k.now)}},S.easing={linear:function(k){return k},swing:function(k){return .5-Math.cos(k*Math.PI)/2},_default:"swing"},S.fx=rs.prototype.init,S.fx.step={};var hc,Xs,gh=/^(?:toggle|show|hide)$/,nd=/queueHooks$/;function Ds(){Xs&&(R.hidden===!1&&i.requestAnimationFrame?i.requestAnimationFrame(Ds):i.setTimeout(Ds,S.fx.interval),S.fx.tick())}function Ii(){return i.setTimeout(function(){hc=void 0}),hc=Date.now()}function zn(k,ne){var me,we=0,Be={height:k};for(ne=ne?1:0;we<4;we+=2-ne)me=$e[we],Be["margin"+me]=Be["padding"+me]=k;return ne&&(Be.opacity=Be.width=k),Be}function Fn(k,ne,me){for(var we,Be=(_n.tweeners[ne]||[]).concat(_n.tweeners["*"]),Ne=0,He=Be.length;Ne<He;Ne++)if(we=Be[Ne].call(me,ne,k))return we}function Fo(k,ne,me){var we,Be,Ne,He,Et,yt,Ut,ii,fi="width"in ne||"height"in ne,Kt=this,ei={},ki=k.style,Ln=k.nodeType&&Gt(k),Ki=ke.get(k,"fxshow");me.queue||(He=S._queueHooks(k,"fx"),He.unqueued==null&&(He.unqueued=0,Et=He.empty.fire,He.empty.fire=function(){He.unqueued||Et()}),He.unqueued++,Kt.always(function(){Kt.always(function(){He.unqueued--,S.queue(k,"fx").length||He.empty.fire()})}));for(we in ne)if(Be=ne[we],gh.test(Be)){if(delete ne[we],Ne=Ne||Be==="toggle",Be===(Ln?"hide":"show"))if(Be==="show"&&Ki&&Ki[we]!==void 0)Ln=!0;else continue;ei[we]=Ki&&Ki[we]||S.style(k,we)}if(yt=!S.isEmptyObject(ne),!(!yt&&S.isEmptyObject(ei))){fi&&k.nodeType===1&&(me.overflow=[ki.overflow,ki.overflowX,ki.overflowY],Ut=Ki&&Ki.display,Ut==null&&(Ut=ke.get(k,"display")),ii=S.css(k,"display"),ii==="none"&&(Ut?ii=Ut:(Gi([k],!0),Ut=k.style.display||Ut,ii=S.css(k,"display"),Gi([k]))),(ii==="inline"||ii==="inline-block"&&Ut!=null)&&S.css(k,"float")==="none"&&(yt||(Kt.done(function(){ki.display=Ut}),Ut==null&&(ii=ki.display,Ut=ii==="none"?"":ii)),ki.display="inline-block")),me.overflow&&(ki.overflow="hidden",Kt.always(function(){ki.overflow=me.overflow[0],ki.overflowX=me.overflow[1],ki.overflowY=me.overflow[2]})),yt=!1;for(we in ei)yt||(Ki?"hidden"in Ki&&(Ln=Ki.hidden):Ki=ke.access(k,"fxshow",{display:Ut}),Ne&&(Ki.hidden=!Ln),Ln&&Gi([k],!0),Kt.done(function(){Ln||Gi([k]),ke.remove(k,"fxshow");for(we in ei)S.style(k,we,ei[we])})),yt=Fn(Ln?Ki[we]:0,we,Kt),we in Ki||(Ki[we]=yt.start,Ln&&(yt.end=yt.start,yt.start=0))}}function pa(k,ne){var me,we,Be,Ne,He;for(me in k)if(we=fe(me),Be=ne[we],Ne=k[me],Array.isArray(Ne)&&(Be=Ne[1],Ne=k[me]=Ne[0]),me!==we&&(k[we]=Ne,delete k[me]),He=S.cssHooks[we],He&&"expand"in He){Ne=He.expand(Ne),delete k[we];for(me in Ne)me in k||(k[me]=Ne[me],ne[me]=Be)}else ne[we]=Be}function _n(k,ne,me){var we,Be,Ne=0,He=_n.prefilters.length,Et=S.Deferred().always(function(){delete yt.elem}),yt=function(){if(Be)return!1;for(var fi=hc||Ii(),Kt=Math.max(0,Ut.startTime+Ut.duration-fi),ei=Kt/Ut.duration||0,ki=1-ei,Ln=0,Ki=Ut.tweens.length;Ln<Ki;Ln++)Ut.tweens[Ln].run(ki);return Et.notifyWith(k,[Ut,ki,Kt]),ki<1&&Ki?Kt:(Ki||Et.notifyWith(k,[Ut,1,0]),Et.resolveWith(k,[Ut]),!1)},Ut=Et.promise({elem:k,props:S.extend({},ne),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},me),originalProperties:ne,originalOptions:me,startTime:hc||Ii(),duration:me.duration,tweens:[],createTween:function(fi,Kt){var ei=S.Tween(k,Ut.opts,fi,Kt,Ut.opts.specialEasing[fi]||Ut.opts.easing);return Ut.tweens.push(ei),ei},stop:function(fi){var Kt=0,ei=fi?Ut.tweens.length:0;if(Be)return this;for(Be=!0;Kt<ei;Kt++)Ut.tweens[Kt].run(1);return fi?(Et.notifyWith(k,[Ut,1,0]),Et.resolveWith(k,[Ut,fi])):Et.rejectWith(k,[Ut,fi]),this}}),ii=Ut.props;for(pa(ii,Ut.opts.specialEasing);Ne<He;Ne++)if(we=_n.prefilters[Ne].call(Ut,k,ii,Ut.opts),we)return U(we.stop)&&(S._queueHooks(Ut.elem,Ut.opts.queue).stop=we.stop.bind(we)),we;return S.map(ii,Fn,Ut),U(Ut.opts.start)&&Ut.opts.start.call(k,Ut),Ut.progress(Ut.opts.progress).done(Ut.opts.done,Ut.opts.complete).fail(Ut.opts.fail).always(Ut.opts.always),S.fx.timer(S.extend(yt,{elem:k,anim:Ut,queue:Ut.opts.queue})),Ut}S.Animation=S.extend(_n,{tweeners:{"*":[function(k,ne){var me=this.createTween(k,ne);return yi(me.elem,k,je.exec(ne),me),me}]},tweener:function(k,ne){U(k)?(ne=k,k=["*"]):k=k.match(pe);for(var me,we=0,Be=k.length;we<Be;we++)me=k[we],_n.tweeners[me]=_n.tweeners[me]||[],_n.tweeners[me].unshift(ne)},prefilters:[Fo],prefilter:function(k,ne){ne?_n.prefilters.unshift(k):_n.prefilters.push(k)}}),S.speed=function(k,ne,me){var we=k&&typeof k=="object"?S.extend({},k):{complete:me||!me&&ne||U(k)&&k,duration:k,easing:me&&ne||ne&&!U(ne)&&ne};return S.fx.off?we.duration=0:typeof we.duration!="number"&&(we.duration in S.fx.speeds?we.duration=S.fx.speeds[we.duration]:we.duration=S.fx.speeds._default),(we.queue==null||we.queue===!0)&&(we.queue="fx"),we.old=we.complete,we.complete=function(){U(we.old)&&we.old.call(this),we.queue&&S.dequeue(this,we.queue)},we},S.fn.extend({fadeTo:function(k,ne,me,we){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:ne},k,me,we)},animate:function(k,ne,me,we){var Be=S.isEmptyObject(k),Ne=S.speed(ne,me,we),He=function(){var Et=_n(this,S.extend({},k),Ne);(Be||ke.get(this,"finish"))&&Et.stop(!0)};return He.finish=He,Be||Ne.queue===!1?this.each(He):this.queue(Ne.queue,He)},stop:function(k,ne,me){var we=function(Be){var Ne=Be.stop;delete Be.stop,Ne(me)};return typeof k!="string"&&(me=ne,ne=k,k=void 0),ne&&this.queue(k||"fx",[]),this.each(function(){var Be=!0,Ne=k!=null&&k+"queueHooks",He=S.timers,Et=ke.get(this);if(Ne)Et[Ne]&&Et[Ne].stop&&we(Et[Ne]);else for(Ne in Et)Et[Ne]&&Et[Ne].stop&&nd.test(Ne)&&we(Et[Ne]);for(Ne=He.length;Ne--;)He[Ne].elem===this&&(k==null||He[Ne].queue===k)&&(He[Ne].anim.stop(me),Be=!1,He.splice(Ne,1));(Be||!me)&&S.dequeue(this,k)})},finish:function(k){return k!==!1&&(k=k||"fx"),this.each(function(){var ne,me=ke.get(this),we=me[k+"queue"],Be=me[k+"queueHooks"],Ne=S.timers,He=we?we.length:0;for(me.finish=!0,S.queue(this,k,[]),Be&&Be.stop&&Be.stop.call(this,!0),ne=Ne.length;ne--;)Ne[ne].elem===this&&Ne[ne].queue===k&&(Ne[ne].anim.stop(!0),Ne.splice(ne,1));for(ne=0;ne<He;ne++)we[ne]&&we[ne].finish&&we[ne].finish.call(this);delete me.finish})}}),S.each(["toggle","show","hide"],function(k,ne){var me=S.fn[ne];S.fn[ne]=function(we,Be,Ne){return we==null||typeof we=="boolean"?me.apply(this,arguments):this.animate(zn(ne,!0),we,Be,Ne)}}),S.each({slideDown:zn("show"),slideUp:zn("hide"),slideToggle:zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(k,ne){S.fn[k]=function(me,we,Be){return this.animate(ne,me,we,Be)}}),S.timers=[],S.fx.tick=function(){var k,ne=0,me=S.timers;for(hc=Date.now();ne<me.length;ne++)k=me[ne],!k()&&me[ne]===k&&me.splice(ne--,1);me.length||S.fx.stop(),hc=void 0},S.fx.timer=function(k){S.timers.push(k),S.fx.start()},S.fx.interval=13,S.fx.start=function(){Xs||(Xs=!0,Ds())},S.fx.stop=function(){Xs=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(k,ne){return k=S.fx&&S.fx.speeds[k]||k,ne=ne||"fx",this.queue(ne,function(me,we){var Be=i.setTimeout(me,k);we.stop=function(){i.clearTimeout(Be)}})},function(){var k=R.createElement("input"),ne=R.createElement("select"),me=ne.appendChild(R.createElement("option"));k.type="checkbox",F.checkOn=k.value!=="",F.optSelected=me.selected,k=R.createElement("input"),k.value="t",k.type="radio",F.radioValue=k.value==="t"}();var dc,Qo=S.expr.attrHandle;S.fn.extend({attr:function(k,ne){return oe(this,S.attr,k,ne,arguments.length>1)},removeAttr:function(k){return this.each(function(){S.removeAttr(this,k)})}}),S.extend({attr:function(k,ne,me){var we,Be,Ne=k.nodeType;if(!(Ne===3||Ne===8||Ne===2)){if(typeof k.getAttribute>"u")return S.prop(k,ne,me);if((Ne!==1||!S.isXMLDoc(k))&&(Be=S.attrHooks[ne.toLowerCase()]||(S.expr.match.bool.test(ne)?dc:void 0)),me!==void 0){if(me===null){S.removeAttr(k,ne);return}return Be&&"set"in Be&&(we=Be.set(k,me,ne))!==void 0?we:(k.setAttribute(ne,me+""),me)}return Be&&"get"in Be&&(we=Be.get(k,ne))!==null?we:(we=S.find.attr(k,ne),we??void 0)}},attrHooks:{type:{set:function(k,ne){if(!F.radioValue&&ne==="radio"&&P(k,"input")){var me=k.value;return k.setAttribute("type",ne),me&&(k.value=me),ne}}}},removeAttr:function(k,ne){var me,we=0,Be=ne&&ne.match(pe);if(Be&&k.nodeType===1)for(;me=Be[we++];)k.removeAttribute(me)}}),dc={set:function(k,ne,me){return ne===!1?S.removeAttr(k,me):k.setAttribute(me,me),me}},S.each(S.expr.match.bool.source.match(/\w+/g),function(k,ne){var me=Qo[ne]||S.find.attr;Qo[ne]=function(we,Be,Ne){var He,Et,yt=Be.toLowerCase();return Ne||(Et=Qo[yt],Qo[yt]=He,He=me(we,Be,Ne)!=null?yt:null,Qo[yt]=Et),He}});var La=/^(?:input|select|textarea|button)$/i,ws=/^(?:a|area)$/i;S.fn.extend({prop:function(k,ne){return oe(this,S.prop,k,ne,arguments.length>1)},removeProp:function(k){return this.each(function(){delete this[S.propFix[k]||k]})}}),S.extend({prop:function(k,ne,me){var we,Be,Ne=k.nodeType;if(!(Ne===3||Ne===8||Ne===2))return(Ne!==1||!S.isXMLDoc(k))&&(ne=S.propFix[ne]||ne,Be=S.propHooks[ne]),me!==void 0?Be&&"set"in Be&&(we=Be.set(k,me,ne))!==void 0?we:k[ne]=me:Be&&"get"in Be&&(we=Be.get(k,ne))!==null?we:k[ne]},propHooks:{tabIndex:{get:function(k){var ne=S.find.attr(k,"tabindex");return ne?parseInt(ne,10):La.test(k.nodeName)||ws.test(k.nodeName)&&k.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),F.optSelected||(S.propHooks.selected={get:function(k){var ne=k.parentNode;return ne&&ne.parentNode&&ne.parentNode.selectedIndex,null},set:function(k){var ne=k.parentNode;ne&&(ne.selectedIndex,ne.parentNode&&ne.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this});function _r(k){var ne=k.match(pe)||[];return ne.join(" ")}function Ns(k){return k.getAttribute&&k.getAttribute("class")||""}function Oa(k){return Array.isArray(k)?k:typeof k=="string"?k.match(pe)||[]:[]}S.fn.extend({addClass:function(k){var ne,me,we,Be,Ne,He;return U(k)?this.each(function(Et){S(this).addClass(k.call(this,Et,Ns(this)))}):(ne=Oa(k),ne.length?this.each(function(){if(we=Ns(this),me=this.nodeType===1&&" "+_r(we)+" ",me){for(Ne=0;Ne<ne.length;Ne++)Be=ne[Ne],me.indexOf(" "+Be+" ")<0&&(me+=Be+" ");He=_r(me),we!==He&&this.setAttribute("class",He)}}):this)},removeClass:function(k){var ne,me,we,Be,Ne,He;return U(k)?this.each(function(Et){S(this).removeClass(k.call(this,Et,Ns(this)))}):arguments.length?(ne=Oa(k),ne.length?this.each(function(){if(we=Ns(this),me=this.nodeType===1&&" "+_r(we)+" ",me){for(Ne=0;Ne<ne.length;Ne++)for(Be=ne[Ne];me.indexOf(" "+Be+" ")>-1;)me=me.replace(" "+Be+" "," ");He=_r(me),we!==He&&this.setAttribute("class",He)}}):this):this.attr("class","")},toggleClass:function(k,ne){var me,we,Be,Ne,He=typeof k,Et=He==="string"||Array.isArray(k);return U(k)?this.each(function(yt){S(this).toggleClass(k.call(this,yt,Ns(this),ne),ne)}):typeof ne=="boolean"&&Et?ne?this.addClass(k):this.removeClass(k):(me=Oa(k),this.each(function(){if(Et)for(Ne=S(this),Be=0;Be<me.length;Be++)we=me[Be],Ne.hasClass(we)?Ne.removeClass(we):Ne.addClass(we);else(k===void 0||He==="boolean")&&(we=Ns(this),we&&ke.set(this,"__className__",we),this.setAttribute&&this.setAttribute("class",we||k===!1?"":ke.get(this,"__className__")||""))}))},hasClass:function(k){var ne,me,we=0;for(ne=" "+k+" ";me=this[we++];)if(me.nodeType===1&&(" "+_r(Ns(me))+" ").indexOf(ne)>-1)return!0;return!1}});var Tl=/\r/g;S.fn.extend({val:function(k){var ne,me,we,Be=this[0];return arguments.length?(we=U(k),this.each(function(Ne){var He;this.nodeType===1&&(we?He=k.call(this,Ne,S(this).val()):He=k,He==null?He="":typeof He=="number"?He+="":Array.isArray(He)&&(He=S.map(He,function(Et){return Et==null?"":Et+""})),ne=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()],(!ne||!("set"in ne)||ne.set(this,He,"value")===void 0)&&(this.value=He))})):Be?(ne=S.valHooks[Be.type]||S.valHooks[Be.nodeName.toLowerCase()],ne&&"get"in ne&&(me=ne.get(Be,"value"))!==void 0?me:(me=Be.value,typeof me=="string"?me.replace(Tl,""):me??"")):void 0}}),S.extend({valHooks:{option:{get:function(k){var ne=S.find.attr(k,"value");return ne??_r(S.text(k))}},select:{get:function(k){var ne,me,we,Be=k.options,Ne=k.selectedIndex,He=k.type==="select-one",Et=He?null:[],yt=He?Ne+1:Be.length;for(Ne<0?we=yt:we=He?Ne:0;we<yt;we++)if(me=Be[we],(me.selected||we===Ne)&&!me.disabled&&(!me.parentNode.disabled||!P(me.parentNode,"optgroup"))){if(ne=S(me).val(),He)return ne;Et.push(ne)}return Et},set:function(k,ne){for(var me,we,Be=k.options,Ne=S.makeArray(ne),He=Be.length;He--;)we=Be[He],(we.selected=S.inArray(S.valHooks.option.get(we),Ne)>-1)&&(me=!0);return me||(k.selectedIndex=-1),Ne}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(k,ne){if(Array.isArray(ne))return k.checked=S.inArray(S(k).val(),ne)>-1}},F.checkOn||(S.valHooks[this].get=function(k){return k.getAttribute("value")===null?"on":k.value})}),F.focusin="onfocusin"in i;var ea=/^(?:focusinfocus|focusoutblur)$/,Sl=function(k){k.stopPropagation()};S.extend(S.event,{trigger:function(k,ne,me,we){var Be,Ne,He,Et,yt,Ut,ii,fi,Kt=[me||R],ei=G.call(k,"type")?k.type:k,ki=G.call(k,"namespace")?k.namespace.split("."):[];if(Ne=fi=He=me=me||R,!(me.nodeType===3||me.nodeType===8)&&!ea.test(ei+S.event.triggered)&&(ei.indexOf(".")>-1&&(ki=ei.split("."),ei=ki.shift(),ki.sort()),yt=ei.indexOf(":")<0&&"on"+ei,k=k[S.expando]?k:new S.Event(ei,typeof k=="object"&&k),k.isTrigger=we?2:3,k.namespace=ki.join("."),k.rnamespace=k.namespace?new RegExp("(^|\\.)"+ki.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,k.result=void 0,k.target||(k.target=me),ne=ne==null?[k]:S.makeArray(ne,[k]),ii=S.event.special[ei]||{},!(!we&&ii.trigger&&ii.trigger.apply(me,ne)===!1))){if(!we&&!ii.noBubble&&!re(me)){for(Et=ii.delegateType||ei,ea.test(Et+ei)||(Ne=Ne.parentNode);Ne;Ne=Ne.parentNode)Kt.push(Ne),He=Ne;He===(me.ownerDocument||R)&&Kt.push(He.defaultView||He.parentWindow||i)}for(Be=0;(Ne=Kt[Be++])&&!k.isPropagationStopped();)fi=Ne,k.type=Be>1?Et:ii.bindType||ei,Ut=(ke.get(Ne,"events")||Object.create(null))[k.type]&&ke.get(Ne,"handle"),Ut&&Ut.apply(Ne,ne),Ut=yt&&Ne[yt],Ut&&Ut.apply&&ye(Ne)&&(k.result=Ut.apply(Ne,ne),k.result===!1&&k.preventDefault());return k.type=ei,!we&&!k.isDefaultPrevented()&&(!ii._default||ii._default.apply(Kt.pop(),ne)===!1)&&ye(me)&&yt&&U(me[ei])&&!re(me)&&(He=me[yt],He&&(me[yt]=null),S.event.triggered=ei,k.isPropagationStopped()&&fi.addEventListener(ei,Sl),me[ei](),k.isPropagationStopped()&&fi.removeEventListener(ei,Sl),S.event.triggered=void 0,He&&(me[yt]=He)),k.result}},simulate:function(k,ne,me){var we=S.extend(new S.Event,me,{type:k,isSimulated:!0});S.event.trigger(we,null,ne)}}),S.fn.extend({trigger:function(k,ne){return this.each(function(){S.event.trigger(k,ne,this)})},triggerHandler:function(k,ne){var me=this[0];if(me)return S.event.trigger(k,ne,me,!0)}}),F.focusin||S.each({focus:"focusin",blur:"focusout"},function(k,ne){var me=function(we){S.event.simulate(ne,we.target,S.event.fix(we))};S.event.special[ne]={setup:function(){var we=this.ownerDocument||this.document||this,Be=ke.access(we,ne);Be||we.addEventListener(k,me,!0),ke.access(we,ne,(Be||0)+1)},teardown:function(){var we=this.ownerDocument||this.document||this,Be=ke.access(we,ne)-1;Be?ke.access(we,ne,Be):(we.removeEventListener(k,me,!0),ke.remove(we,ne))}}});var Ka=i.location,Ra={guid:Date.now()},Ja=/\?/;S.parseXML=function(k){var ne,me;if(!k||typeof k!="string")return null;try{ne=new i.DOMParser().parseFromString(k,"text/xml")}catch{}return me=ne&&ne.getElementsByTagName("parsererror")[0],(!ne||me)&&S.error("Invalid XML: "+(me?S.map(me.childNodes,function(we){return we.textContent}).join(`
`):k)),ne};var Gc=/\[\]$/,Vc=/\r?\n/g,Qs=/^(?:submit|button|image|reset|file)$/i,Jr=/^(?:input|select|textarea|keygen)/i;function El(k,ne,me,we){var Be;if(Array.isArray(ne))S.each(ne,function(Ne,He){me||Gc.test(k)?we(k,He):El(k+"["+(typeof He=="object"&&He!=null?Ne:"")+"]",He,me,we)});else if(!me&&$(ne)==="object")for(Be in ne)El(k+"["+Be+"]",ne[Be],me,we);else we(k,ne)}S.param=function(k,ne){var me,we=[],Be=function(Ne,He){var Et=U(He)?He():He;we[we.length]=encodeURIComponent(Ne)+"="+encodeURIComponent(Et??"")};if(k==null)return"";if(Array.isArray(k)||k.jquery&&!S.isPlainObject(k))S.each(k,function(){Be(this.name,this.value)});else for(me in k)El(me,k[me],ne,Be);return we.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var k=S.prop(this,"elements");return k?S.makeArray(k):this}).filter(function(){var k=this.type;return this.name&&!S(this).is(":disabled")&&Jr.test(this.nodeName)&&!Qs.test(k)&&(this.checked||!zi.test(k))}).map(function(k,ne){var me=S(this).val();return me==null?null:Array.isArray(me)?S.map(me,function(we){return{name:ne.name,value:we.replace(Vc,`\r
`)}}):{name:ne.name,value:me.replace(Vc,`\r
`)}}).get()}});var rd=/%20/g,Is=/#.*$/,No=/([?&])_=[^&]*/,iu=/^(.*?):[ \t]*([^\r\n]*)$/mg,_h=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ms=/^(?:GET|HEAD)$/,Ml=/^\/\//,yh={},Cl={},Ts="*/".concat("*"),Qa=R.createElement("a");Qa.href=Ka.href;function xh(k){return function(ne,me){typeof ne!="string"&&(me=ne,ne="*");var we,Be=0,Ne=ne.toLowerCase().match(pe)||[];if(U(me))for(;we=Ne[Be++];)we[0]==="+"?(we=we.slice(1)||"*",(k[we]=k[we]||[]).unshift(me)):(k[we]=k[we]||[]).push(me)}}function ir(k,ne,me,we){var Be={},Ne=k===Cl;function He(Et){var yt;return Be[Et]=!0,S.each(k[Et]||[],function(Ut,ii){var fi=ii(ne,me,we);if(typeof fi=="string"&&!Ne&&!Be[fi])return ne.dataTypes.unshift(fi),He(fi),!1;if(Ne)return!(yt=fi)}),yt}return He(ne.dataTypes[0])||!Be["*"]&&He("*")}function dr(k,ne){var me,we,Be=S.ajaxSettings.flatOptions||{};for(me in ne)ne[me]!==void 0&&((Be[me]?k:we||(we={}))[me]=ne[me]);return we&&S.extend(!0,k,we),k}function vh(k,ne,me){for(var we,Be,Ne,He,Et=k.contents,yt=k.dataTypes;yt[0]==="*";)yt.shift(),we===void 0&&(we=k.mimeType||ne.getResponseHeader("Content-Type"));if(we){for(Be in Et)if(Et[Be]&&Et[Be].test(we)){yt.unshift(Be);break}}if(yt[0]in me)Ne=yt[0];else{for(Be in me){if(!yt[0]||k.converters[Be+" "+yt[0]]){Ne=Be;break}He||(He=Be)}Ne=Ne||He}if(Ne)return Ne!==yt[0]&&yt.unshift(Ne),me[Ne]}function pp(k,ne,me,we){var Be,Ne,He,Et,yt,Ut={},ii=k.dataTypes.slice();if(ii[1])for(He in k.converters)Ut[He.toLowerCase()]=k.converters[He];for(Ne=ii.shift();Ne;)if(k.responseFields[Ne]&&(me[k.responseFields[Ne]]=ne),!yt&&we&&k.dataFilter&&(ne=k.dataFilter(ne,k.dataType)),yt=Ne,Ne=ii.shift(),Ne){if(Ne==="*")Ne=yt;else if(yt!=="*"&&yt!==Ne){if(He=Ut[yt+" "+Ne]||Ut["* "+Ne],!He){for(Be in Ut)if(Et=Be.split(" "),Et[1]===Ne&&(He=Ut[yt+" "+Et[0]]||Ut["* "+Et[0]],He)){He===!0?He=Ut[Be]:Ut[Be]!==!0&&(Ne=Et[0],ii.unshift(Et[1]));break}}if(He!==!0)if(He&&k.throws)ne=He(ne);else try{ne=He(ne)}catch(fi){return{state:"parsererror",error:He?fi:"No conversion from "+yt+" to "+Ne}}}}return{state:"success",data:ne}}S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ka.href,type:"GET",isLocal:_h.test(Ka.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ts,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(k,ne){return ne?dr(dr(k,S.ajaxSettings),ne):dr(S.ajaxSettings,k)},ajaxPrefilter:xh(yh),ajaxTransport:xh(Cl),ajax:function(k,ne){typeof k=="object"&&(ne=k,k=void 0),ne=ne||{};var me,we,Be,Ne,He,Et,yt,Ut,ii,fi,Kt=S.ajaxSetup({},ne),ei=Kt.context||Kt,ki=Kt.context&&(ei.nodeType||ei.jquery)?S(ei):S.event,Ln=S.Deferred(),Ki=S.Callbacks("once memory"),qr=Kt.statusCode||{},Lr={},Gn={},Vn="canceled",Tn={readyState:0,getResponseHeader:function(Xn){var Tr;if(yt){if(!Ne)for(Ne={};Tr=iu.exec(Be);)Ne[Tr[1].toLowerCase()+" "]=(Ne[Tr[1].toLowerCase()+" "]||[]).concat(Tr[2]);Tr=Ne[Xn.toLowerCase()+" "]}return Tr==null?null:Tr.join(", ")},getAllResponseHeaders:function(){return yt?Be:null},setRequestHeader:function(Xn,Tr){return yt==null&&(Xn=Gn[Xn.toLowerCase()]=Gn[Xn.toLowerCase()]||Xn,Lr[Xn]=Tr),this},overrideMimeType:function(Xn){return yt==null&&(Kt.mimeType=Xn),this},statusCode:function(Xn){var Tr;if(Xn)if(yt)Tn.always(Xn[Tn.status]);else for(Tr in Xn)qr[Tr]=[qr[Tr],Xn[Tr]];return this},abort:function(Xn){var Tr=Xn||Vn;return me&&me.abort(Tr),Ys(0,Tr),this}};if(Ln.promise(Tn),Kt.url=((k||Kt.url||Ka.href)+"").replace(Ml,Ka.protocol+"//"),Kt.type=ne.method||ne.type||Kt.method||Kt.type,Kt.dataTypes=(Kt.dataType||"*").toLowerCase().match(pe)||[""],Kt.crossDomain==null){Et=R.createElement("a");try{Et.href=Kt.url,Et.href=Et.href,Kt.crossDomain=Qa.protocol+"//"+Qa.host!=Et.protocol+"//"+Et.host}catch{Kt.crossDomain=!0}}if(Kt.data&&Kt.processData&&typeof Kt.data!="string"&&(Kt.data=S.param(Kt.data,Kt.traditional)),ir(yh,Kt,ne,Tn),yt)return Tn;Ut=S.event&&Kt.global,Ut&&S.active++===0&&S.event.trigger("ajaxStart"),Kt.type=Kt.type.toUpperCase(),Kt.hasContent=!ms.test(Kt.type),we=Kt.url.replace(Is,""),Kt.hasContent?Kt.data&&Kt.processData&&(Kt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Kt.data=Kt.data.replace(rd,"+")):(fi=Kt.url.slice(we.length),Kt.data&&(Kt.processData||typeof Kt.data=="string")&&(we+=(Ja.test(we)?"&":"?")+Kt.data,delete Kt.data),Kt.cache===!1&&(we=we.replace(No,"$1"),fi=(Ja.test(we)?"&":"?")+"_="+Ra.guid+++fi),Kt.url=we+fi),Kt.ifModified&&(S.lastModified[we]&&Tn.setRequestHeader("If-Modified-Since",S.lastModified[we]),S.etag[we]&&Tn.setRequestHeader("If-None-Match",S.etag[we])),(Kt.data&&Kt.hasContent&&Kt.contentType!==!1||ne.contentType)&&Tn.setRequestHeader("Content-Type",Kt.contentType),Tn.setRequestHeader("Accept",Kt.dataTypes[0]&&Kt.accepts[Kt.dataTypes[0]]?Kt.accepts[Kt.dataTypes[0]]+(Kt.dataTypes[0]!=="*"?", "+Ts+"; q=0.01":""):Kt.accepts["*"]);for(ii in Kt.headers)Tn.setRequestHeader(ii,Kt.headers[ii]);if(Kt.beforeSend&&(Kt.beforeSend.call(ei,Tn,Kt)===!1||yt))return Tn.abort();if(Vn="abort",Ki.add(Kt.complete),Tn.done(Kt.success),Tn.fail(Kt.error),me=ir(Cl,Kt,ne,Tn),!me)Ys(-1,"No Transport");else{if(Tn.readyState=1,Ut&&ki.trigger("ajaxSend",[Tn,Kt]),yt)return Tn;Kt.async&&Kt.timeout>0&&(He=i.setTimeout(function(){Tn.abort("timeout")},Kt.timeout));try{yt=!1,me.send(Lr,Ys)}catch(Xn){if(yt)throw Xn;Ys(-1,Xn)}}function Ys(Xn,Tr,fa,kl){var Ls,bo,Pn,js,ia,lo=Tr;yt||(yt=!0,He&&i.clearTimeout(He),me=void 0,Be=kl||"",Tn.readyState=Xn>0?4:0,Ls=Xn>=200&&Xn<300||Xn===304,fa&&(js=vh(Kt,Tn,fa)),!Ls&&S.inArray("script",Kt.dataTypes)>-1&&S.inArray("json",Kt.dataTypes)<0&&(Kt.converters["text script"]=function(){}),js=pp(Kt,js,Tn,Ls),Ls?(Kt.ifModified&&(ia=Tn.getResponseHeader("Last-Modified"),ia&&(S.lastModified[we]=ia),ia=Tn.getResponseHeader("etag"),ia&&(S.etag[we]=ia)),Xn===204||Kt.type==="HEAD"?lo="nocontent":Xn===304?lo="notmodified":(lo=js.state,bo=js.data,Pn=js.error,Ls=!Pn)):(Pn=lo,(Xn||!lo)&&(lo="error",Xn<0&&(Xn=0))),Tn.status=Xn,Tn.statusText=(Tr||lo)+"",Ls?Ln.resolveWith(ei,[bo,lo,Tn]):Ln.rejectWith(ei,[Tn,lo,Pn]),Tn.statusCode(qr),qr=void 0,Ut&&ki.trigger(Ls?"ajaxSuccess":"ajaxError",[Tn,Kt,Ls?bo:Pn]),Ki.fireWith(ei,[Tn,lo]),Ut&&(ki.trigger("ajaxComplete",[Tn,Kt]),--S.active||S.event.trigger("ajaxStop")))}return Tn},getJSON:function(k,ne,me){return S.get(k,ne,me,"json")},getScript:function(k,ne){return S.get(k,void 0,ne,"script")}}),S.each(["get","post"],function(k,ne){S[ne]=function(me,we,Be,Ne){return U(we)&&(Ne=Ne||Be,Be=we,we=void 0),S.ajax(S.extend({url:me,type:ne,dataType:Ne,data:we,success:Be},S.isPlainObject(me)&&me))}}),S.ajaxPrefilter(function(k){var ne;for(ne in k.headers)ne.toLowerCase()==="content-type"&&(k.contentType=k.headers[ne]||"")}),S._evalUrl=function(k,ne,me){return S.ajax({url:k,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(we){S.globalEval(we,ne,me)}})},S.fn.extend({wrapAll:function(k){var ne;return this[0]&&(U(k)&&(k=k.call(this[0])),ne=S(k,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&ne.insertBefore(this[0]),ne.map(function(){for(var me=this;me.firstElementChild;)me=me.firstElementChild;return me}).append(this)),this},wrapInner:function(k){return U(k)?this.each(function(ne){S(this).wrapInner(k.call(this,ne))}):this.each(function(){var ne=S(this),me=ne.contents();me.length?me.wrapAll(k):ne.append(k)})},wrap:function(k){var ne=U(k);return this.each(function(me){S(this).wrapAll(ne?k.call(this,me):k)})},unwrap:function(k){return this.parent(k).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(k){return!S.expr.pseudos.visible(k)},S.expr.pseudos.visible=function(k){return!!(k.offsetWidth||k.offsetHeight||k.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch{}};var sd={0:200,1223:204},ta=S.ajaxSettings.xhr();F.cors=!!ta&&"withCredentials"in ta,F.ajax=ta=!!ta,S.ajaxTransport(function(k){var ne,me;if(F.cors||ta&&!k.crossDomain)return{send:function(we,Be){var Ne,He=k.xhr();if(He.open(k.type,k.url,k.async,k.username,k.password),k.xhrFields)for(Ne in k.xhrFields)He[Ne]=k.xhrFields[Ne];k.mimeType&&He.overrideMimeType&&He.overrideMimeType(k.mimeType),!k.crossDomain&&!we["X-Requested-With"]&&(we["X-Requested-With"]="XMLHttpRequest");for(Ne in we)He.setRequestHeader(Ne,we[Ne]);ne=function(Et){return function(){ne&&(ne=me=He.onload=He.onerror=He.onabort=He.ontimeout=He.onreadystatechange=null,Et==="abort"?He.abort():Et==="error"?typeof He.status!="number"?Be(0,"error"):Be(He.status,He.statusText):Be(sd[He.status]||He.status,He.statusText,(He.responseType||"text")!=="text"||typeof He.responseText!="string"?{binary:He.response}:{text:He.responseText},He.getAllResponseHeaders()))}},He.onload=ne(),me=He.onerror=He.ontimeout=ne("error"),He.onabort!==void 0?He.onabort=me:He.onreadystatechange=function(){He.readyState===4&&i.setTimeout(function(){ne&&me()})},ne=ne("abort");try{He.send(k.hasContent&&k.data||null)}catch(Et){if(ne)throw Et}},abort:function(){ne&&ne()}}}),S.ajaxPrefilter(function(k){k.crossDomain&&(k.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(k){return S.globalEval(k),k}}}),S.ajaxPrefilter("script",function(k){k.cache===void 0&&(k.cache=!1),k.crossDomain&&(k.type="GET")}),S.ajaxTransport("script",function(k){if(k.crossDomain||k.scriptAttrs){var ne,me;return{send:function(we,Be){ne=S("<script>").attr(k.scriptAttrs||{}).prop({charset:k.scriptCharset,src:k.url}).on("load error",me=function(Ne){ne.remove(),me=null,Ne&&Be(Ne.type==="error"?404:200,Ne.type)}),R.head.appendChild(ne[0])},abort:function(){me&&me()}}}});var Wc=[],bh=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var k=Wc.pop()||S.expando+"_"+Ra.guid++;return this[k]=!0,k}}),S.ajaxPrefilter("json jsonp",function(k,ne,me){var we,Be,Ne,He=k.jsonp!==!1&&(bh.test(k.url)?"url":typeof k.data=="string"&&(k.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&bh.test(k.data)&&"data");if(He||k.dataTypes[0]==="jsonp")return we=k.jsonpCallback=U(k.jsonpCallback)?k.jsonpCallback():k.jsonpCallback,He?k[He]=k[He].replace(bh,"$1"+we):k.jsonp!==!1&&(k.url+=(Ja.test(k.url)?"&":"?")+k.jsonp+"="+we),k.converters["script json"]=function(){return Ne||S.error(we+" was not called"),Ne[0]},k.dataTypes[0]="json",Be=i[we],i[we]=function(){Ne=arguments},me.always(function(){Be===void 0?S(i).removeProp(we):i[we]=Be,k[we]&&(k.jsonpCallback=ne.jsonpCallback,Wc.push(we)),Ne&&U(Be)&&Be(Ne[0]),Ne=Be=void 0}),"script"}),F.createHTMLDocument=function(){var k=R.implementation.createHTMLDocument("").body;return k.innerHTML="<form></form><form></form>",k.childNodes.length===2}(),S.parseHTML=function(k,ne,me){if(typeof k!="string")return[];typeof ne=="boolean"&&(me=ne,ne=!1);var we,Be,Ne;return ne||(F.createHTMLDocument?(ne=R.implementation.createHTMLDocument(""),we=ne.createElement("base"),we.href=R.location.href,ne.head.appendChild(we)):ne=R),Be=L.exec(k),Ne=!me&&[],Be?[ne.createElement(Be[1])]:(Be=hr([k],ne,Ne),Ne&&Ne.length&&S(Ne).remove(),S.merge([],Be.childNodes))},S.fn.load=function(k,ne,me){var we,Be,Ne,He=this,Et=k.indexOf(" ");return Et>-1&&(we=_r(k.slice(Et)),k=k.slice(0,Et)),U(ne)?(me=ne,ne=void 0):ne&&typeof ne=="object"&&(Be="POST"),He.length>0&&S.ajax({url:k,type:Be||"GET",dataType:"html",data:ne}).done(function(yt){Ne=arguments,He.html(we?S("<div>").append(S.parseHTML(yt)).find(we):yt)}).always(me&&function(yt,Ut){He.each(function(){me.apply(this,Ne||[yt.responseText,Ut,yt])})}),this},S.expr.pseudos.animated=function(k){return S.grep(S.timers,function(ne){return k===ne.elem}).length},S.offset={setOffset:function(k,ne,me){var we,Be,Ne,He,Et,yt,Ut,ii=S.css(k,"position"),fi=S(k),Kt={};ii==="static"&&(k.style.position="relative"),Et=fi.offset(),Ne=S.css(k,"top"),yt=S.css(k,"left"),Ut=(ii==="absolute"||ii==="fixed")&&(Ne+yt).indexOf("auto")>-1,Ut?(we=fi.position(),He=we.top,Be=we.left):(He=parseFloat(Ne)||0,Be=parseFloat(yt)||0),U(ne)&&(ne=ne.call(k,me,S.extend({},Et))),ne.top!=null&&(Kt.top=ne.top-Et.top+He),ne.left!=null&&(Kt.left=ne.left-Et.left+Be),"using"in ne?ne.using.call(k,Kt):fi.css(Kt)}},S.fn.extend({offset:function(k){if(arguments.length)return k===void 0?this:this.each(function(Be){S.offset.setOffset(this,k,Be)});var ne,me,we=this[0];if(we)return we.getClientRects().length?(ne=we.getBoundingClientRect(),me=we.ownerDocument.defaultView,{top:ne.top+me.pageYOffset,left:ne.left+me.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var k,ne,me,we=this[0],Be={top:0,left:0};if(S.css(we,"position")==="fixed")ne=we.getBoundingClientRect();else{for(ne=this.offset(),me=we.ownerDocument,k=we.offsetParent||me.documentElement;k&&(k===me.body||k===me.documentElement)&&S.css(k,"position")==="static";)k=k.parentNode;k&&k!==we&&k.nodeType===1&&(Be=S(k).offset(),Be.top+=S.css(k,"borderTopWidth",!0),Be.left+=S.css(k,"borderLeftWidth",!0))}return{top:ne.top-Be.top-S.css(we,"marginTop",!0),left:ne.left-Be.left-S.css(we,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var k=this.offsetParent;k&&S.css(k,"position")==="static";)k=k.offsetParent;return k||nt})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(k,ne){var me=ne==="pageYOffset";S.fn[k]=function(we){return oe(this,function(Be,Ne,He){var Et;if(re(Be)?Et=Be:Be.nodeType===9&&(Et=Be.defaultView),He===void 0)return Et?Et[ne]:Be[Ne];Et?Et.scrollTo(me?Et.pageXOffset:He,me?He:Et.pageYOffset):Be[Ne]=He},k,we,arguments.length)}}),S.each(["top","left"],function(k,ne){S.cssHooks[ne]=ln(F.pixelPosition,function(me,we){if(we)return we=$i(me,ne),Mt.test(we)?S(me).position()[ne]+"px":we})}),S.each({Height:"height",Width:"width"},function(k,ne){S.each({padding:"inner"+k,content:ne,"":"outer"+k},function(me,we){S.fn[we]=function(Be,Ne){var He=arguments.length&&(me||typeof Be!="boolean"),Et=me||(Be===!0||Ne===!0?"margin":"border");return oe(this,function(yt,Ut,ii){var fi;return re(yt)?we.indexOf("outer")===0?yt["inner"+k]:yt.document.documentElement["client"+k]:yt.nodeType===9?(fi=yt.documentElement,Math.max(yt.body["scroll"+k],fi["scroll"+k],yt.body["offset"+k],fi["offset"+k],fi["client"+k])):ii===void 0?S.css(yt,Ut,Et):S.style(yt,Ut,ii,Et)},ne,He?Be:void 0,He)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(k,ne){S.fn[ne]=function(me){return this.on(ne,me)}}),S.fn.extend({bind:function(k,ne,me){return this.on(k,null,ne,me)},unbind:function(k,ne){return this.off(k,null,ne)},delegate:function(k,ne,me,we){return this.on(ne,k,me,we)},undelegate:function(k,ne,me){return arguments.length===1?this.off(k,"**"):this.off(ne,k||"**",me)},hover:function(k,ne){return this.mouseenter(k).mouseleave(ne||k)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(k,ne){S.fn[ne]=function(me,we){return arguments.length>0?this.on(ne,null,me,we):this.trigger(ne)}});var Al=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;S.proxy=function(k,ne){var me,we,Be;if(typeof ne=="string"&&(me=k[ne],ne=k,k=me),!!U(k))return we=u.call(arguments,2),Be=function(){return k.apply(ne||this,we.concat(u.call(arguments)))},Be.guid=k.guid=k.guid||S.guid++,Be},S.holdReady=function(k){k?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=P,S.isFunction=U,S.isWindow=re,S.camelCase=fe,S.type=$,S.now=Date.now,S.isNumeric=function(k){var ne=S.type(k);return(ne==="number"||ne==="string")&&!isNaN(k-parseFloat(k))},S.trim=function(k){return k==null?"":(k+"").replace(Al,"$1")};var el=i.jQuery,gs=i.$;return S.noConflict=function(k){return i.$===S&&(i.$=gs),k&&i.jQuery===S&&(i.jQuery=el),S},typeof s>"u"&&(i.jQuery=i.$=S),S})})(I4);const L4=$b;function DS(e,i){return function(){return e.apply(i,arguments)}}const{toString:IS}=Object.prototype,{getPrototypeOf:Uw}=Object,Gw=(e=>i=>{const s=IS.call(i);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Kd=e=>(e=e.toLowerCase(),i=>Gw(i)===e),Ax=e=>i=>typeof i===e,{isArray:pm}=Array,m1=Ax("undefined");function O4(e){return e!==null&&!m1(e)&&e.constructor!==null&&!m1(e.constructor)&&Mf(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const LS=Kd("ArrayBuffer");function R4(e){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(e):i=e&&e.buffer&&LS(e.buffer),i}const z4=Ax("string"),Mf=Ax("function"),OS=Ax("number"),Vw=e=>e!==null&&typeof e=="object",B4=e=>e===!0||e===!1,Ry=e=>{if(Gw(e)!=="object")return!1;const i=Uw(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},F4=Kd("Date"),N4=Kd("File"),j4=Kd("Blob"),U4=Kd("FileList"),G4=e=>Vw(e)&&Mf(e.pipe),V4=e=>{const i="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||IS.call(e)===i||Mf(e.toString)&&e.toString()===i)},W4=Kd("URLSearchParams"),H4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function I1(e,i,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,h;if(typeof e!="object"&&(e=[e]),pm(e))for(l=0,h=e.length;l<h;l++)i.call(null,e[l],l,e);else{const u=s?Object.getOwnPropertyNames(e):Object.keys(e),y=u.length;let n;for(l=0;l<y;l++)n=u[l],i.call(null,e[n],n,e)}}function RS(e,i){i=i.toLowerCase();const s=Object.keys(e);let l=s.length,h;for(;l-- >0;)if(h=s[l],i===h.toLowerCase())return h;return null}const zS=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),BS=e=>!m1(e)&&e!==zS;function Xb(){const{caseless:e}=BS(this)&&this||{},i={},s=(l,h)=>{const u=e&&RS(i,h)||h;Ry(i[u])&&Ry(l)?i[u]=Xb(i[u],l):Ry(l)?i[u]=Xb({},l):pm(l)?i[u]=l.slice():i[u]=l};for(let l=0,h=arguments.length;l<h;l++)arguments[l]&&I1(arguments[l],s);return i}const $4=(e,i,s,{allOwnKeys:l}={})=>(I1(i,(h,u)=>{s&&Mf(h)?e[u]=DS(h,s):e[u]=h},{allOwnKeys:l}),e),X4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Y4=(e,i,s,l)=>{e.prototype=Object.create(i.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:i.prototype}),s&&Object.assign(e.prototype,s)},q4=(e,i,s,l)=>{let h,u,y;const n={};if(i=i||{},e==null)return i;do{for(h=Object.getOwnPropertyNames(e),u=h.length;u-- >0;)y=h[u],(!l||l(y,e,i))&&!n[y]&&(i[y]=e[y],n[y]=!0);e=s!==!1&&Uw(e)}while(e&&(!s||s(e,i))&&e!==Object.prototype);return i},Z4=(e,i,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=i.length;const l=e.indexOf(i,s);return l!==-1&&l===s},K4=e=>{if(!e)return null;if(pm(e))return e;let i=e.length;if(!OS(i))return null;const s=new Array(i);for(;i-- >0;)s[i]=e[i];return s},J4=(e=>i=>e&&i instanceof e)(typeof Uint8Array<"u"&&Uw(Uint8Array)),Q4=(e,i)=>{const l=(e&&e[Symbol.iterator]).call(e);let h;for(;(h=l.next())&&!h.done;){const u=h.value;i.call(e,u[0],u[1])}},e6=(e,i)=>{let s;const l=[];for(;(s=e.exec(i))!==null;)l.push(s);return l},t6=Kd("HTMLFormElement"),i6=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(s,l,h){return l.toUpperCase()+h}),W5=(({hasOwnProperty:e})=>(i,s)=>e.call(i,s))(Object.prototype),n6=Kd("RegExp"),FS=(e,i)=>{const s=Object.getOwnPropertyDescriptors(e),l={};I1(s,(h,u)=>{i(h,u,e)!==!1&&(l[u]=h)}),Object.defineProperties(e,l)},r6=e=>{FS(e,(i,s)=>{if(Mf(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(Mf(l)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},s6=(e,i)=>{const s={},l=h=>{h.forEach(u=>{s[u]=!0})};return pm(e)?l(e):l(String(e).split(i)),s},o6=()=>{},a6=(e,i)=>(e=+e,Number.isFinite(e)?e:i),l6=e=>{const i=new Array(10),s=(l,h)=>{if(Vw(l)){if(i.indexOf(l)>=0)return;if(!("toJSON"in l)){i[h]=l;const u=pm(l)?[]:{};return I1(l,(y,n)=>{const w=s(y,h+1);!m1(w)&&(u[n]=w)}),i[h]=void 0,u}}return l};return s(e,0)},Ti={isArray:pm,isArrayBuffer:LS,isBuffer:O4,isFormData:V4,isArrayBufferView:R4,isString:z4,isNumber:OS,isBoolean:B4,isObject:Vw,isPlainObject:Ry,isUndefined:m1,isDate:F4,isFile:N4,isBlob:j4,isRegExp:n6,isFunction:Mf,isStream:G4,isURLSearchParams:W4,isTypedArray:J4,isFileList:U4,forEach:I1,merge:Xb,extend:$4,trim:H4,stripBOM:X4,inherits:Y4,toFlatObject:q4,kindOf:Gw,kindOfTest:Kd,endsWith:Z4,toArray:K4,forEachEntry:Q4,matchAll:e6,isHTMLForm:t6,hasOwnProperty:W5,hasOwnProp:W5,reduceDescriptors:FS,freezeMethods:r6,toObjectSet:s6,toCamelCase:i6,noop:o6,toFiniteNumber:a6,findKey:RS,global:zS,isContextDefined:BS,toJSONObject:l6};function Ur(e,i,s,l,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",i&&(this.code=i),s&&(this.config=s),l&&(this.request=l),h&&(this.response=h)}Ti.inherits(Ur,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ti.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const NS=Ur.prototype,jS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jS[e]={value:e}});Object.defineProperties(Ur,jS);Object.defineProperty(NS,"isAxiosError",{value:!0});Ur.from=(e,i,s,l,h,u)=>{const y=Object.create(NS);return Ti.toFlatObject(e,y,function(w){return w!==Error.prototype},n=>n!=="isAxiosError"),Ur.call(y,e.message,i,s,l,h),y.cause=e,y.name=e.name,u&&Object.assign(y,u),y};var c6=typeof self=="object"?self.FormData:window.FormData;const h6=c6;function Yb(e){return Ti.isPlainObject(e)||Ti.isArray(e)}function US(e){return Ti.endsWith(e,"[]")?e.slice(0,-2):e}function H5(e,i,s){return e?e.concat(i).map(function(h,u){return h=US(h),!s&&u?"["+h+"]":h}).join(s?".":""):i}function d6(e){return Ti.isArray(e)&&!e.some(Yb)}const u6=Ti.toFlatObject(Ti,{},null,function(i){return/^is[A-Z]/.test(i)});function p6(e){return e&&Ti.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function kx(e,i,s){if(!Ti.isObject(e))throw new TypeError("target must be an object");i=i||new(h6||FormData),s=Ti.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,re){return!Ti.isUndefined(re[U])});const l=s.metaTokens,h=s.visitor||ie,u=s.dots,y=s.indexes,w=(s.Blob||typeof Blob<"u"&&Blob)&&p6(i);if(!Ti.isFunction(h))throw new TypeError("visitor must be a function");function z(F){if(F===null)return"";if(Ti.isDate(F))return F.toISOString();if(!w&&Ti.isBlob(F))throw new Ur("Blob is not supported. Use a Buffer instead.");return Ti.isArrayBuffer(F)||Ti.isTypedArray(F)?w&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function ie(F,U,re){let R=F;if(F&&!re&&typeof F=="object"){if(Ti.endsWith(U,"{}"))U=l?U:U.slice(0,-2),F=JSON.stringify(F);else if(Ti.isArray(F)&&d6(F)||Ti.isFileList(F)||Ti.endsWith(U,"[]")&&(R=Ti.toArray(F)))return U=US(U),R.forEach(function(N,$){!(Ti.isUndefined(N)||N===null)&&i.append(y===!0?H5([U],$,u):y===null?U:U+"[]",z(N))}),!1}return Yb(F)?!0:(i.append(H5(re,U,u),z(F)),!1)}const G=[],q=Object.assign(u6,{defaultVisitor:ie,convertValue:z,isVisitable:Yb});function Z(F,U){if(!Ti.isUndefined(F)){if(G.indexOf(F)!==-1)throw Error("Circular reference detected in "+U.join("."));G.push(F),Ti.forEach(F,function(R,D){(!(Ti.isUndefined(R)||R===null)&&h.call(i,R,Ti.isString(D)?D.trim():D,U,q))===!0&&Z(R,U?U.concat(D):[D])}),G.pop()}}if(!Ti.isObject(e))throw new TypeError("data must be an object");return Z(e),i}function $5(e){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return i[l]})}function Ww(e,i){this._pairs=[],e&&kx(e,this,i)}const GS=Ww.prototype;GS.append=function(i,s){this._pairs.push([i,s])};GS.toString=function(i){const s=i?function(l){return i.call(this,l,$5)}:$5;return this._pairs.map(function(h){return s(h[0])+"="+s(h[1])},"").join("&")};function f6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VS(e,i,s){if(!i)return e;const l=s&&s.encode||f6,h=s&&s.serialize;let u;if(h?u=h(i,s):u=Ti.isURLSearchParams(i)?i.toString():new Ww(i,s).toString(l),u){const y=e.indexOf("#");y!==-1&&(e=e.slice(0,y)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class m6{constructor(){this.handlers=[]}use(i,s,l){return this.handlers.push({fulfilled:i,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){Ti.forEach(this.handlers,function(l){l!==null&&i(l)})}}const X5=m6,WS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g6=typeof URLSearchParams<"u"?URLSearchParams:Ww,_6=FormData,y6=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),x6=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Yh={isBrowser:!0,classes:{URLSearchParams:g6,FormData:_6,Blob},isStandardBrowserEnv:y6,isStandardBrowserWebWorkerEnv:x6,protocols:["http","https","file","blob","url","data"]};function v6(e,i){return kx(e,new Yh.classes.URLSearchParams,Object.assign({visitor:function(s,l,h,u){return Yh.isNode&&Ti.isBuffer(s)?(this.append(l,s.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},i))}function b6(e){return Ti.matchAll(/\w+|\[(\w*)]/g,e).map(i=>i[0]==="[]"?"":i[1]||i[0])}function w6(e){const i={},s=Object.keys(e);let l;const h=s.length;let u;for(l=0;l<h;l++)u=s[l],i[u]=e[u];return i}function HS(e){function i(s,l,h,u){let y=s[u++];const n=Number.isFinite(+y),w=u>=s.length;return y=!y&&Ti.isArray(h)?h.length:y,w?(Ti.hasOwnProp(h,y)?h[y]=[h[y],l]:h[y]=l,!n):((!h[y]||!Ti.isObject(h[y]))&&(h[y]=[]),i(s,l,h[y],u)&&Ti.isArray(h[y])&&(h[y]=w6(h[y])),!n)}if(Ti.isFormData(e)&&Ti.isFunction(e.entries)){const s={};return Ti.forEachEntry(e,(l,h)=>{i(b6(l),h,s,0)}),s}return null}const T6={"Content-Type":void 0};function S6(e,i,s){if(Ti.isString(e))try{return(i||JSON.parse)(e),Ti.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Px={transitional:WS,adapter:["xhr","http"],transformRequest:[function(i,s){const l=s.getContentType()||"",h=l.indexOf("application/json")>-1,u=Ti.isObject(i);if(u&&Ti.isHTMLForm(i)&&(i=new FormData(i)),Ti.isFormData(i))return h&&h?JSON.stringify(HS(i)):i;if(Ti.isArrayBuffer(i)||Ti.isBuffer(i)||Ti.isStream(i)||Ti.isFile(i)||Ti.isBlob(i))return i;if(Ti.isArrayBufferView(i))return i.buffer;if(Ti.isURLSearchParams(i))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let n;if(u){if(l.indexOf("application/x-www-form-urlencoded")>-1)return v6(i,this.formSerializer).toString();if((n=Ti.isFileList(i))||l.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return kx(n?{"files[]":i}:i,w&&new w,this.formSerializer)}}return u||h?(s.setContentType("application/json",!1),S6(i)):i}],transformResponse:[function(i){const s=this.transitional||Px.transitional,l=s&&s.forcedJSONParsing,h=this.responseType==="json";if(i&&Ti.isString(i)&&(l&&!this.responseType||h)){const y=!(s&&s.silentJSONParsing)&&h;try{return JSON.parse(i)}catch(n){if(y)throw n.name==="SyntaxError"?Ur.from(n,Ur.ERR_BAD_RESPONSE,this,null,this.response):n}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yh.classes.FormData,Blob:Yh.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ti.forEach(["delete","get","head"],function(i){Px.headers[i]={}});Ti.forEach(["post","put","patch"],function(i){Px.headers[i]=Ti.merge(T6)});const Hw=Px,E6=Ti.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),M6=e=>{const i={};let s,l,h;return e&&e.split(`
`).forEach(function(y){h=y.indexOf(":"),s=y.substring(0,h).trim().toLowerCase(),l=y.substring(h+1).trim(),!(!s||i[s]&&E6[s])&&(s==="set-cookie"?i[s]?i[s].push(l):i[s]=[l]:i[s]=i[s]?i[s]+", "+l:l)}),i},Y5=Symbol("internals");function Qg(e){return e&&String(e).trim().toLowerCase()}function zy(e){return e===!1||e==null?e:Ti.isArray(e)?e.map(zy):String(e)}function C6(e){const i=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)i[l[1]]=l[2];return i}function A6(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function q5(e,i,s,l){if(Ti.isFunction(l))return l.call(this,i,s);if(Ti.isString(i)){if(Ti.isString(l))return i.indexOf(l)!==-1;if(Ti.isRegExp(l))return l.test(i)}}function k6(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,s,l)=>s.toUpperCase()+l)}function P6(e,i){const s=Ti.toCamelCase(" "+i);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(h,u,y){return this[l].call(this,i,h,u,y)},configurable:!0})})}class Dx{constructor(i){i&&this.set(i)}set(i,s,l){const h=this;function u(n,w,z){const ie=Qg(w);if(!ie)throw new Error("header name must be a non-empty string");const G=Ti.findKey(h,ie);(!G||h[G]===void 0||z===!0||z===void 0&&h[G]!==!1)&&(h[G||w]=zy(n))}const y=(n,w)=>Ti.forEach(n,(z,ie)=>u(z,ie,w));return Ti.isPlainObject(i)||i instanceof this.constructor?y(i,s):Ti.isString(i)&&(i=i.trim())&&!A6(i)?y(M6(i),s):i!=null&&u(s,i,l),this}get(i,s){if(i=Qg(i),i){const l=Ti.findKey(this,i);if(l){const h=this[l];if(!s)return h;if(s===!0)return C6(h);if(Ti.isFunction(s))return s.call(this,h,l);if(Ti.isRegExp(s))return s.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,s){if(i=Qg(i),i){const l=Ti.findKey(this,i);return!!(l&&(!s||q5(this,this[l],l,s)))}return!1}delete(i,s){const l=this;let h=!1;function u(y){if(y=Qg(y),y){const n=Ti.findKey(l,y);n&&(!s||q5(l,l[n],n,s))&&(delete l[n],h=!0)}}return Ti.isArray(i)?i.forEach(u):u(i),h}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(i){const s=this,l={};return Ti.forEach(this,(h,u)=>{const y=Ti.findKey(l,u);if(y){s[y]=zy(h),delete s[u];return}const n=i?k6(u):String(u).trim();n!==u&&delete s[u],s[n]=zy(h),l[n]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const s=Object.create(null);return Ti.forEach(this,(l,h)=>{l!=null&&l!==!1&&(s[h]=i&&Ti.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,s])=>i+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...s){const l=new this(i);return s.forEach(h=>l.set(h)),l}static accessor(i){const l=(this[Y5]=this[Y5]={accessors:{}}).accessors,h=this.prototype;function u(y){const n=Qg(y);l[n]||(P6(h,y),l[n]=!0)}return Ti.isArray(i)?i.forEach(u):u(i),this}}Dx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Ti.freezeMethods(Dx.prototype);Ti.freezeMethods(Dx);const Gd=Dx;function mb(e,i){const s=this||Hw,l=i||s,h=Gd.from(l.headers);let u=l.data;return Ti.forEach(e,function(n){u=n.call(s,u,h.normalize(),i?i.status:void 0)}),h.normalize(),u}function $S(e){return!!(e&&e.__CANCEL__)}function L1(e,i,s){Ur.call(this,e??"canceled",Ur.ERR_CANCELED,i,s),this.name="CanceledError"}Ti.inherits(L1,Ur,{__CANCEL__:!0});const D6=null;function I6(e,i,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):i(new Ur("Request failed with status code "+s.status,[Ur.ERR_BAD_REQUEST,Ur.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const L6=Yh.isStandardBrowserEnv?function(){return{write:function(s,l,h,u,y,n){const w=[];w.push(s+"="+encodeURIComponent(l)),Ti.isNumber(h)&&w.push("expires="+new Date(h).toGMTString()),Ti.isString(u)&&w.push("path="+u),Ti.isString(y)&&w.push("domain="+y),n===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(s){const l=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function O6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function R6(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e}function XS(e,i){return e&&!O6(i)?R6(e,i):i}const z6=Yh.isStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let l;function h(u){let y=u;return i&&(s.setAttribute("href",y),y=s.href),s.setAttribute("href",y),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return l=h(window.location.href),function(y){const n=Ti.isString(y)?h(y):y;return n.protocol===l.protocol&&n.host===l.host}}():function(){return function(){return!0}}();function B6(e){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""}function F6(e,i){e=e||10;const s=new Array(e),l=new Array(e);let h=0,u=0,y;return i=i!==void 0?i:1e3,function(w){const z=Date.now(),ie=l[u];y||(y=z),s[h]=w,l[h]=z;let G=u,q=0;for(;G!==h;)q+=s[G++],G=G%e;if(h=(h+1)%e,h===u&&(u=(u+1)%e),z-y<i)return;const Z=ie&&z-ie;return Z?Math.round(q*1e3/Z):void 0}}function Z5(e,i){let s=0;const l=F6(50,250);return h=>{const u=h.loaded,y=h.lengthComputable?h.total:void 0,n=u-s,w=l(n),z=u<=y;s=u;const ie={loaded:u,total:y,progress:y?u/y:void 0,bytes:n,rate:w||void 0,estimated:w&&y&&z?(y-u)/w:void 0,event:h};ie[i?"download":"upload"]=!0,e(ie)}}const N6=typeof XMLHttpRequest<"u",j6=N6&&function(e){return new Promise(function(s,l){let h=e.data;const u=Gd.from(e.headers).normalize(),y=e.responseType;let n;function w(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}Ti.isFormData(h)&&(Yh.isStandardBrowserEnv||Yh.isStandardBrowserWebWorkerEnv)&&u.setContentType(!1);let z=new XMLHttpRequest;if(e.auth){const Z=e.auth.username||"",F=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.set("Authorization","Basic "+btoa(Z+":"+F))}const ie=XS(e.baseURL,e.url);z.open(e.method.toUpperCase(),VS(ie,e.params,e.paramsSerializer),!0),z.timeout=e.timeout;function G(){if(!z)return;const Z=Gd.from("getAllResponseHeaders"in z&&z.getAllResponseHeaders()),U={data:!y||y==="text"||y==="json"?z.responseText:z.response,status:z.status,statusText:z.statusText,headers:Z,config:e,request:z};I6(function(R){s(R),w()},function(R){l(R),w()},U),z=null}if("onloadend"in z?z.onloadend=G:z.onreadystatechange=function(){!z||z.readyState!==4||z.status===0&&!(z.responseURL&&z.responseURL.indexOf("file:")===0)||setTimeout(G)},z.onabort=function(){z&&(l(new Ur("Request aborted",Ur.ECONNABORTED,e,z)),z=null)},z.onerror=function(){l(new Ur("Network Error",Ur.ERR_NETWORK,e,z)),z=null},z.ontimeout=function(){let F=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const U=e.transitional||WS;e.timeoutErrorMessage&&(F=e.timeoutErrorMessage),l(new Ur(F,U.clarifyTimeoutError?Ur.ETIMEDOUT:Ur.ECONNABORTED,e,z)),z=null},Yh.isStandardBrowserEnv){const Z=(e.withCredentials||z6(ie))&&e.xsrfCookieName&&L6.read(e.xsrfCookieName);Z&&u.set(e.xsrfHeaderName,Z)}h===void 0&&u.setContentType(null),"setRequestHeader"in z&&Ti.forEach(u.toJSON(),function(F,U){z.setRequestHeader(U,F)}),Ti.isUndefined(e.withCredentials)||(z.withCredentials=!!e.withCredentials),y&&y!=="json"&&(z.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&z.addEventListener("progress",Z5(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&z.upload&&z.upload.addEventListener("progress",Z5(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=Z=>{z&&(l(!Z||Z.type?new L1(null,e,z):Z),z.abort(),z=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));const q=B6(ie);if(q&&Yh.protocols.indexOf(q)===-1){l(new Ur("Unsupported protocol "+q+":",Ur.ERR_BAD_REQUEST,e));return}z.send(h||null)})},By={http:D6,xhr:j6};Ti.forEach(By,(e,i)=>{if(e){try{Object.defineProperty(e,"name",{value:i})}catch{}Object.defineProperty(e,"adapterName",{value:i})}});const U6={getAdapter:e=>{e=Ti.isArray(e)?e:[e];const{length:i}=e;let s,l;for(let h=0;h<i&&(s=e[h],!(l=Ti.isString(s)?By[s.toLowerCase()]:s));h++);if(!l)throw l===!1?new Ur(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ti.hasOwnProp(By,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!Ti.isFunction(l))throw new TypeError("adapter is not a function");return l},adapters:By};function gb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new L1(null,e)}function K5(e){return gb(e),e.headers=Gd.from(e.headers),e.data=mb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),U6.getAdapter(e.adapter||Hw.adapter)(e).then(function(l){return gb(e),l.data=mb.call(e,e.transformResponse,l),l.headers=Gd.from(l.headers),l},function(l){return $S(l)||(gb(e),l&&l.response&&(l.response.data=mb.call(e,e.transformResponse,l.response),l.response.headers=Gd.from(l.response.headers))),Promise.reject(l)})}const J5=e=>e instanceof Gd?e.toJSON():e;function nm(e,i){i=i||{};const s={};function l(z,ie,G){return Ti.isPlainObject(z)&&Ti.isPlainObject(ie)?Ti.merge.call({caseless:G},z,ie):Ti.isPlainObject(ie)?Ti.merge({},ie):Ti.isArray(ie)?ie.slice():ie}function h(z,ie,G){if(Ti.isUndefined(ie)){if(!Ti.isUndefined(z))return l(void 0,z,G)}else return l(z,ie,G)}function u(z,ie){if(!Ti.isUndefined(ie))return l(void 0,ie)}function y(z,ie){if(Ti.isUndefined(ie)){if(!Ti.isUndefined(z))return l(void 0,z)}else return l(void 0,ie)}function n(z,ie,G){if(G in i)return l(z,ie);if(G in e)return l(void 0,z)}const w={url:u,method:u,data:u,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:n,headers:(z,ie)=>h(J5(z),J5(ie),!0)};return Ti.forEach(Object.keys(e).concat(Object.keys(i)),function(ie){const G=w[ie]||h,q=G(e[ie],i[ie],ie);Ti.isUndefined(q)&&G!==n||(s[ie]=q)}),s}const YS="1.2.2",$w={};["object","boolean","number","function","string","symbol"].forEach((e,i)=>{$w[e]=function(l){return typeof l===e||"a"+(i<1?"n ":" ")+e}});const Q5={};$w.transitional=function(i,s,l){function h(u,y){return"[Axios v"+YS+"] Transitional option '"+u+"'"+y+(l?". "+l:"")}return(u,y,n)=>{if(i===!1)throw new Ur(h(y," has been removed"+(s?" in "+s:"")),Ur.ERR_DEPRECATED);return s&&!Q5[y]&&(Q5[y]=!0,console.warn(h(y," has been deprecated since v"+s+" and will be removed in the near future"))),i?i(u,y,n):!0}};function G6(e,i,s){if(typeof e!="object")throw new Ur("options must be an object",Ur.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let h=l.length;for(;h-- >0;){const u=l[h],y=i[u];if(y){const n=e[u],w=n===void 0||y(n,u,e);if(w!==!0)throw new Ur("option "+u+" must be "+w,Ur.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ur("Unknown option "+u,Ur.ERR_BAD_OPTION)}}const qb={assertOptions:G6,validators:$w},Fu=qb.validators;class Ky{constructor(i){this.defaults=i,this.interceptors={request:new X5,response:new X5}}request(i,s){typeof i=="string"?(s=s||{},s.url=i):s=i||{},s=nm(this.defaults,s);const{transitional:l,paramsSerializer:h,headers:u}=s;l!==void 0&&qb.assertOptions(l,{silentJSONParsing:Fu.transitional(Fu.boolean),forcedJSONParsing:Fu.transitional(Fu.boolean),clarifyTimeoutError:Fu.transitional(Fu.boolean)},!1),h!==void 0&&qb.assertOptions(h,{encode:Fu.function,serialize:Fu.function},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let y;y=u&&Ti.merge(u.common,u[s.method]),y&&Ti.forEach(["delete","get","head","post","put","patch","common"],F=>{delete u[F]}),s.headers=Gd.concat(y,u);const n=[];let w=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(s)===!1||(w=w&&U.synchronous,n.unshift(U.fulfilled,U.rejected))});const z=[];this.interceptors.response.forEach(function(U){z.push(U.fulfilled,U.rejected)});let ie,G=0,q;if(!w){const F=[K5.bind(this),void 0];for(F.unshift.apply(F,n),F.push.apply(F,z),q=F.length,ie=Promise.resolve(s);G<q;)ie=ie.then(F[G++],F[G++]);return ie}q=n.length;let Z=s;for(G=0;G<q;){const F=n[G++],U=n[G++];try{Z=F(Z)}catch(re){U.call(this,re);break}}try{ie=K5.call(this,Z)}catch(F){return Promise.reject(F)}for(G=0,q=z.length;G<q;)ie=ie.then(z[G++],z[G++]);return ie}getUri(i){i=nm(this.defaults,i);const s=XS(i.baseURL,i.url);return VS(s,i.params,i.paramsSerializer)}}Ti.forEach(["delete","get","head","options"],function(i){Ky.prototype[i]=function(s,l){return this.request(nm(l||{},{method:i,url:s,data:(l||{}).data}))}});Ti.forEach(["post","put","patch"],function(i){function s(l){return function(u,y,n){return this.request(nm(n||{},{method:i,headers:l?{"Content-Type":"multipart/form-data"}:{},url:u,data:y}))}}Ky.prototype[i]=s(),Ky.prototype[i+"Form"]=s(!0)});const Fy=Ky;class Xw{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(u){s=u});const l=this;this.promise.then(h=>{if(!l._listeners)return;let u=l._listeners.length;for(;u-- >0;)l._listeners[u](h);l._listeners=null}),this.promise.then=h=>{let u;const y=new Promise(n=>{l.subscribe(n),u=n}).then(h);return y.cancel=function(){l.unsubscribe(u)},y},i(function(u,y,n){l.reason||(l.reason=new L1(u,y,n),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}static source(){let i;return{token:new Xw(function(h){i=h}),cancel:i}}}const V6=Xw;function W6(e){return function(s){return e.apply(null,s)}}function H6(e){return Ti.isObject(e)&&e.isAxiosError===!0}const Zb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zb).forEach(([e,i])=>{Zb[i]=e});const $6=Zb;function qS(e){const i=new Fy(e),s=DS(Fy.prototype.request,i);return Ti.extend(s,Fy.prototype,i,{allOwnKeys:!0}),Ti.extend(s,i,null,{allOwnKeys:!0}),s.create=function(h){return qS(nm(e,h))},s}const zo=qS(Hw);zo.Axios=Fy;zo.CanceledError=L1;zo.CancelToken=V6;zo.isCancel=$S;zo.VERSION=YS;zo.toFormData=kx;zo.AxiosError=Ur;zo.Cancel=zo.CanceledError;zo.all=function(i){return Promise.all(i)};zo.spread=W6;zo.isAxiosError=H6;zo.mergeConfig=nm;zo.AxiosHeaders=Gd;zo.formToJSON=e=>HS(Ti.isHTMLForm(e)?new FormData(e):e);zo.HttpStatusCode=$6;zo.default=zo;const X6=zo;window._=D4;window.$=L4;window.axios=X6;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function vl(e,i){const s=Object.create(null),l=e.split(",");for(let h=0;h<l.length;h++)s[l[h]]=!0;return i?h=>!!s[h.toLowerCase()]:h=>!!s[h]}const Y6="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",q6=vl(Y6);function fm(e){if(sn(e)){const i={};for(let s=0;s<e.length;s++){const l=e[s],h=tr(l)?ZS(l):fm(l);if(h)for(const u in h)i[u]=h[u]}return i}else{if(tr(e))return e;if(os(e))return e}}const Z6=/;(?![^(]*\))/g,K6=/:([^]+)/,J6=/\/\*.*?\*\//gs;function ZS(e){const i={};return e.replace(J6,"").split(Z6).forEach(s=>{if(s){const l=s.split(K6);l.length>1&&(i[l[0].trim()]=l[1].trim())}}),i}function ic(e){let i="";if(tr(e))i=e;else if(sn(e))for(let s=0;s<e.length;s++){const l=ic(e[s]);l&&(i+=l+" ")}else if(os(e))for(const s in e)e[s]&&(i+=s+" ");return i.trim()}function Jy(e){if(!e)return null;let{class:i,style:s}=e;return i&&!tr(i)&&(e.class=ic(i)),s&&(e.style=fm(s)),e}const Q6="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",eA="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",tA="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",iA=vl(Q6),nA=vl(eA),rA=vl(tA),sA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oA=vl(sA);function KS(e){return!!e||e===""}function aA(e,i){if(e.length!==i.length)return!1;let s=!0;for(let l=0;s&&l<e.length;l++)s=tp(e[l],i[l]);return s}function tp(e,i){if(e===i)return!0;let s=eT(e),l=eT(i);if(s||l)return s&&l?e.getTime()===i.getTime():!1;if(s=ip(e),l=ip(i),s||l)return e===i;if(s=sn(e),l=sn(i),s||l)return s&&l?aA(e,i):!1;if(s=os(e),l=os(i),s||l){if(!s||!l)return!1;const h=Object.keys(e).length,u=Object.keys(i).length;if(h!==u)return!1;for(const y in e){const n=e.hasOwnProperty(y),w=i.hasOwnProperty(y);if(n&&!w||!n&&w||!tp(e[y],i[y]))return!1}}return String(e)===String(i)}function Ix(e,i){return e.findIndex(s=>tp(s,i))}const xs=e=>tr(e)?e:e==null?"":sn(e)||os(e)&&(e.toString===QS||!Hn(e.toString))?JSON.stringify(e,JS,2):String(e),JS=(e,i)=>i&&i.__v_isRef?JS(e,i.value):Y0(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((s,[l,h])=>(s[`${l} =>`]=h,s),{})}:Lf(i)?{[`Set(${i.size})`]:[...i.values()]}:os(i)&&!sn(i)&&!eE(i)?String(i):i,is={},X0=[],$a=()=>{},Ny=()=>!1,lA=/^on[^a-z]/,If=e=>lA.test(e),Yw=e=>e.startsWith("onUpdate:"),Yr=Object.assign,qw=(e,i)=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)},cA=Object.prototype.hasOwnProperty,jr=(e,i)=>cA.call(e,i),sn=Array.isArray,Y0=e=>O1(e)==="[object Map]",Lf=e=>O1(e)==="[object Set]",eT=e=>O1(e)==="[object Date]",Hn=e=>typeof e=="function",tr=e=>typeof e=="string",ip=e=>typeof e=="symbol",os=e=>e!==null&&typeof e=="object",Zw=e=>os(e)&&Hn(e.then)&&Hn(e.catch),QS=Object.prototype.toString,O1=e=>QS.call(e),hA=e=>O1(e).slice(8,-1),eE=e=>O1(e)==="[object Object]",Kw=e=>tr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xf=vl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dA=vl("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Lx=e=>{const i=Object.create(null);return s=>i[s]||(i[s]=e(s))},uA=/-(\w)/g,Jo=Lx(e=>e.replace(uA,(i,s)=>s?s.toUpperCase():"")),pA=/\B([A-Z])/g,tc=Lx(e=>e.replace(pA,"-$1").toLowerCase()),dp=Lx(e=>e.charAt(0).toUpperCase()+e.slice(1)),vf=Lx(e=>e?`on${dp(e)}`:""),rm=(e,i)=>!Object.is(e,i),q0=(e,i)=>{for(let s=0;s<e.length;s++)e[s](i)},Qy=(e,i,s)=>{Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value:s})},Hd=e=>{const i=parseFloat(e);return isNaN(i)?e:i};let tT;const fA=()=>tT||(tT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Zl;class Ox{constructor(i=!1){this.detached=i,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Zl,!i&&Zl&&(this.index=(Zl.scopes||(Zl.scopes=[])).push(this)-1)}run(i){if(this.active){const s=Zl;try{return Zl=this,i()}finally{Zl=s}}}on(){Zl=this}off(){Zl=this.parent}stop(i){if(this.active){let s,l;for(s=0,l=this.effects.length;s<l;s++)this.effects[s].stop();for(s=0,l=this.cleanups.length;s<l;s++)this.cleanups[s]();if(this.scopes)for(s=0,l=this.scopes.length;s<l;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!i){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0,this.active=!1}}}function tE(e){return new Ox(e)}function iE(e,i=Zl){i&&i.active&&i.effects.push(e)}function nE(){return Zl}function rE(e){Zl&&Zl.cleanups.push(e)}const Jw=e=>{const i=new Set(e);return i.w=0,i.n=0,i},sE=e=>(e.w&np)>0,oE=e=>(e.n&np)>0,mA=({deps:e})=>{if(e.length)for(let i=0;i<e.length;i++)e[i].w|=np},gA=e=>{const{deps:i}=e;if(i.length){let s=0;for(let l=0;l<i.length;l++){const h=i[l];sE(h)&&!oE(h)?h.delete(e):i[s++]=h,h.w&=~np,h.n&=~np}i.length=s}},Kb=new WeakMap;let s1=0,np=1;const Jb=30;let ah;const bf=Symbol(""),Qb=Symbol("");class mm{constructor(i,s=null,l){this.fn=i,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,iE(this,l)}run(){if(!this.active)return this.fn();let i=ah,s=Zu;for(;i;){if(i===this)return;i=i.parent}try{return this.parent=ah,ah=this,Zu=!0,np=1<<++s1,s1<=Jb?mA(this):iT(this),this.fn()}finally{s1<=Jb&&gA(this),np=1<<--s1,ah=this.parent,Zu=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ah===this?this.deferStop=!0:this.active&&(iT(this),this.onStop&&this.onStop(),this.active=!1)}}function iT(e){const{deps:i}=e;if(i.length){for(let s=0;s<i.length;s++)i[s].delete(e);i.length=0}}function aE(e,i){e.effect&&(e=e.effect.fn);const s=new mm(e);i&&(Yr(s,i),i.scope&&iE(s,i.scope)),(!i||!i.lazy)&&s.run();const l=s.run.bind(s);return l.effect=s,l}function lE(e){e.effect.stop()}let Zu=!0;const cE=[];function gm(){cE.push(Zu),Zu=!1}function _m(){const e=cE.pop();Zu=e===void 0?!0:e}function sc(e,i,s){if(Zu&&ah){let l=Kb.get(e);l||Kb.set(e,l=new Map);let h=l.get(s);h||l.set(s,h=Jw()),hE(h)}}function hE(e,i){let s=!1;s1<=Jb?oE(e)||(e.n|=np,s=!sE(e)):s=!e.has(ah),s&&(e.add(ah),ah.deps.push(e))}function $d(e,i,s,l,h,u){const y=Kb.get(e);if(!y)return;let n=[];if(i==="clear")n=[...y.values()];else if(s==="length"&&sn(e)){const w=Hd(l);y.forEach((z,ie)=>{(ie==="length"||ie>=w)&&n.push(z)})}else switch(s!==void 0&&n.push(y.get(s)),i){case"add":sn(e)?Kw(s)&&n.push(y.get("length")):(n.push(y.get(bf)),Y0(e)&&n.push(y.get(Qb)));break;case"delete":sn(e)||(n.push(y.get(bf)),Y0(e)&&n.push(y.get(Qb)));break;case"set":Y0(e)&&n.push(y.get(bf));break}if(n.length===1)n[0]&&ew(n[0]);else{const w=[];for(const z of n)z&&w.push(...z);ew(Jw(w))}}function ew(e,i){const s=sn(e)?e:[...e];for(const l of s)l.computed&&nT(l);for(const l of s)l.computed||nT(l)}function nT(e,i){(e!==ah||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const _A=vl("__proto__,__v_isRef,__isVue"),dE=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ip)),yA=Rx(),xA=Rx(!1,!0),vA=Rx(!0),bA=Rx(!0,!0),rT=wA();function wA(){const e={};return["includes","indexOf","lastIndexOf"].forEach(i=>{e[i]=function(...s){const l=Dr(this);for(let u=0,y=this.length;u<y;u++)sc(l,"get",u+"");const h=l[i](...s);return h===-1||h===!1?l[i](...s.map(Dr)):h}}),["push","pop","shift","unshift","splice"].forEach(i=>{e[i]=function(...s){gm();const l=Dr(this)[i].apply(this,s);return _m(),l}}),e}function Rx(e=!1,i=!1){return function(l,h,u){if(h==="__v_isReactive")return!e;if(h==="__v_isReadonly")return e;if(h==="__v_isShallow")return i;if(h==="__v_raw"&&u===(e?i?yE:_E:i?gE:mE).get(l))return l;const y=sn(l);if(!e&&y&&jr(rT,h))return Reflect.get(rT,h,u);const n=Reflect.get(l,h,u);return(ip(h)?dE.has(h):_A(h))||(e||sc(l,"get",h),i)?n:Lo(n)?y&&Kw(h)?n:n.value:os(n)?e?Fx(n):R1(n):n}}const TA=uE(),SA=uE(!0);function uE(e=!1){return function(s,l,h,u){let y=s[l];if(rp(y)&&Lo(y)&&!Lo(h))return!1;if(!e&&(!sm(h)&&!rp(h)&&(y=Dr(y),h=Dr(h)),!sn(s)&&Lo(y)&&!Lo(h)))return y.value=h,!0;const n=sn(s)&&Kw(l)?Number(l)<s.length:jr(s,l),w=Reflect.set(s,l,h,u);return s===Dr(u)&&(n?rm(h,y)&&$d(s,"set",l,h):$d(s,"add",l,h)),w}}function EA(e,i){const s=jr(e,i);e[i];const l=Reflect.deleteProperty(e,i);return l&&s&&$d(e,"delete",i,void 0),l}function MA(e,i){const s=Reflect.has(e,i);return(!ip(i)||!dE.has(i))&&sc(e,"has",i),s}function CA(e){return sc(e,"iterate",sn(e)?"length":bf),Reflect.ownKeys(e)}const pE={get:yA,set:TA,deleteProperty:EA,has:MA,ownKeys:CA},fE={get:vA,set(e,i){return!0},deleteProperty(e,i){return!0}},AA=Yr({},pE,{get:xA,set:SA}),kA=Yr({},fE,{get:bA}),Qw=e=>e,zx=e=>Reflect.getPrototypeOf(e);function gy(e,i,s=!1,l=!1){e=e.__v_raw;const h=Dr(e),u=Dr(i);s||(i!==u&&sc(h,"get",i),sc(h,"get",u));const{has:y}=zx(h),n=l?Qw:s?t3:g1;if(y.call(h,i))return n(e.get(i));if(y.call(h,u))return n(e.get(u));e!==h&&e.get(i)}function _y(e,i=!1){const s=this.__v_raw,l=Dr(s),h=Dr(e);return i||(e!==h&&sc(l,"has",e),sc(l,"has",h)),e===h?s.has(e):s.has(e)||s.has(h)}function yy(e,i=!1){return e=e.__v_raw,!i&&sc(Dr(e),"iterate",bf),Reflect.get(e,"size",e)}function sT(e){e=Dr(e);const i=Dr(this);return zx(i).has.call(i,e)||(i.add(e),$d(i,"add",e,e)),this}function oT(e,i){i=Dr(i);const s=Dr(this),{has:l,get:h}=zx(s);let u=l.call(s,e);u||(e=Dr(e),u=l.call(s,e));const y=h.call(s,e);return s.set(e,i),u?rm(i,y)&&$d(s,"set",e,i):$d(s,"add",e,i),this}function aT(e){const i=Dr(this),{has:s,get:l}=zx(i);let h=s.call(i,e);h||(e=Dr(e),h=s.call(i,e)),l&&l.call(i,e);const u=i.delete(e);return h&&$d(i,"delete",e,void 0),u}function lT(){const e=Dr(this),i=e.size!==0,s=e.clear();return i&&$d(e,"clear",void 0,void 0),s}function xy(e,i){return function(l,h){const u=this,y=u.__v_raw,n=Dr(y),w=i?Qw:e?t3:g1;return!e&&sc(n,"iterate",bf),y.forEach((z,ie)=>l.call(h,w(z),w(ie),u))}}function vy(e,i,s){return function(...l){const h=this.__v_raw,u=Dr(h),y=Y0(u),n=e==="entries"||e===Symbol.iterator&&y,w=e==="keys"&&y,z=h[e](...l),ie=s?Qw:i?t3:g1;return!i&&sc(u,"iterate",w?Qb:bf),{next(){const{value:G,done:q}=z.next();return q?{value:G,done:q}:{value:n?[ie(G[0]),ie(G[1])]:ie(G),done:q}},[Symbol.iterator](){return this}}}}function Nu(e){return function(...i){return e==="delete"?!1:this}}function PA(){const e={get(u){return gy(this,u)},get size(){return yy(this)},has:_y,add:sT,set:oT,delete:aT,clear:lT,forEach:xy(!1,!1)},i={get(u){return gy(this,u,!1,!0)},get size(){return yy(this)},has:_y,add:sT,set:oT,delete:aT,clear:lT,forEach:xy(!1,!0)},s={get(u){return gy(this,u,!0)},get size(){return yy(this,!0)},has(u){return _y.call(this,u,!0)},add:Nu("add"),set:Nu("set"),delete:Nu("delete"),clear:Nu("clear"),forEach:xy(!0,!1)},l={get(u){return gy(this,u,!0,!0)},get size(){return yy(this,!0)},has(u){return _y.call(this,u,!0)},add:Nu("add"),set:Nu("set"),delete:Nu("delete"),clear:Nu("clear"),forEach:xy(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=vy(u,!1,!1),s[u]=vy(u,!0,!1),i[u]=vy(u,!1,!0),l[u]=vy(u,!0,!0)}),[e,s,i,l]}const[DA,IA,LA,OA]=PA();function Bx(e,i){const s=i?e?OA:LA:e?IA:DA;return(l,h,u)=>h==="__v_isReactive"?!e:h==="__v_isReadonly"?e:h==="__v_raw"?l:Reflect.get(jr(s,h)&&h in l?s:l,h,u)}const RA={get:Bx(!1,!1)},zA={get:Bx(!1,!0)},BA={get:Bx(!0,!1)},FA={get:Bx(!0,!0)},mE=new WeakMap,gE=new WeakMap,_E=new WeakMap,yE=new WeakMap;function NA(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jA(e){return e.__v_skip||!Object.isExtensible(e)?0:NA(hA(e))}function R1(e){return rp(e)?e:Nx(e,!1,pE,RA,mE)}function e3(e){return Nx(e,!1,AA,zA,gE)}function Fx(e){return Nx(e,!0,fE,BA,_E)}function xE(e){return Nx(e,!0,kA,FA,yE)}function Nx(e,i,s,l,h){if(!os(e)||e.__v_raw&&!(i&&e.__v_isReactive))return e;const u=h.get(e);if(u)return u;const y=jA(e);if(y===0)return e;const n=new Proxy(e,y===2?l:s);return h.set(e,n),n}function Ku(e){return rp(e)?Ku(e.__v_raw):!!(e&&e.__v_isReactive)}function rp(e){return!!(e&&e.__v_isReadonly)}function sm(e){return!!(e&&e.__v_isShallow)}function jx(e){return Ku(e)||rp(e)}function Dr(e){const i=e&&e.__v_raw;return i?Dr(i):e}function Ux(e){return Qy(e,"__v_skip",!0),e}const g1=e=>os(e)?R1(e):e,t3=e=>os(e)?Fx(e):e;function i3(e){Zu&&ah&&(e=Dr(e),hE(e.dep||(e.dep=Jw())))}function Gx(e,i){e=Dr(e),e.dep&&ew(e.dep)}function Lo(e){return!!(e&&e.__v_isRef===!0)}function $s(e){return bE(e,!1)}function vE(e){return bE(e,!0)}function bE(e,i){return Lo(e)?e:new UA(e,i)}class UA{constructor(i,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?i:Dr(i),this._value=s?i:g1(i)}get value(){return i3(this),this._value}set value(i){const s=this.__v_isShallow||sm(i)||rp(i);i=s?i:Dr(i),rm(i,this._rawValue)&&(this._rawValue=i,this._value=s?i:g1(i),Gx(this))}}function wE(e){Gx(e)}function _o(e){return Lo(e)?e.value:e}const GA={get:(e,i,s)=>_o(Reflect.get(e,i,s)),set:(e,i,s,l)=>{const h=e[i];return Lo(h)&&!Lo(s)?(h.value=s,!0):Reflect.set(e,i,s,l)}};function Vx(e){return Ku(e)?e:new Proxy(e,GA)}class VA{constructor(i){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:l}=i(()=>i3(this),()=>Gx(this));this._get=s,this._set=l}get value(){return this._get()}set value(i){this._set(i)}}function TE(e){return new VA(e)}function SE(e){const i=sn(e)?new Array(e.length):{};for(const s in e)i[s]=n3(e,s);return i}class WA{constructor(i,s,l){this._object=i,this._key=s,this._defaultValue=l,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}}function n3(e,i,s){const l=e[i];return Lo(l)?l:new WA(e,i,s)}var EE;class HA{constructor(i,s,l,h){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[EE]=!1,this._dirty=!0,this.effect=new mm(i,()=>{this._dirty||(this._dirty=!0,Gx(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!h,this.__v_isReadonly=l}get value(){const i=Dr(this);return i3(i),(i._dirty||!i._cacheable)&&(i._dirty=!1,i._value=i.effect.run()),i._value}set value(i){this._setter(i)}}EE="__v_isReadonly";function $A(e,i,s=!1){let l,h;const u=Hn(e);return u?(l=e,h=$a):(l=e.get,h=e.set),new HA(l,h,u||!h,s)}function ME(e,...i){}function Kh(e,i,s,l){let h;try{h=l?e(...l):e()}catch(u){up(u,i,s)}return h}function xl(e,i,s,l){if(Hn(e)){const u=Kh(e,i,s,l);return u&&Zw(u)&&u.catch(y=>{up(y,i,s)}),u}const h=[];for(let u=0;u<e.length;u++)h.push(xl(e[u],i,s,l));return h}function up(e,i,s,l=!0){const h=i?i.vnode:null;if(i){let u=i.parent;const y=i.proxy,n=s;for(;u;){const z=u.ec;if(z){for(let ie=0;ie<z.length;ie++)if(z[ie](e,y,n)===!1)return}u=u.parent}const w=i.appContext.config.errorHandler;if(w){Kh(w,null,10,[e,y,n]);return}}XA(e,s,h,l)}function XA(e,i,s,l=!0){console.error(e)}let _1=!1,tw=!1;const Ea=[];let Hh=0;const Z0=[];let Bd=null,pf=0;const CE=Promise.resolve();let r3=null;function ym(e){const i=r3||CE;return e?i.then(this?e.bind(this):e):i}function YA(e){let i=Hh+1,s=Ea.length;for(;i<s;){const l=i+s>>>1;y1(Ea[l])<e?i=l+1:s=l}return i}function Wx(e){(!Ea.length||!Ea.includes(e,_1&&e.allowRecurse?Hh+1:Hh))&&(e.id==null?Ea.push(e):Ea.splice(YA(e.id),0,e),AE())}function AE(){!_1&&!tw&&(tw=!0,r3=CE.then(kE))}function qA(e){const i=Ea.indexOf(e);i>Hh&&Ea.splice(i,1)}function Hx(e){sn(e)?Z0.push(...e):(!Bd||!Bd.includes(e,e.allowRecurse?pf+1:pf))&&Z0.push(e),AE()}function cT(e,i=_1?Hh+1:0){for(;i<Ea.length;i++){const s=Ea[i];s&&s.pre&&(Ea.splice(i,1),i--,s())}}function ex(e){if(Z0.length){const i=[...new Set(Z0)];if(Z0.length=0,Bd){Bd.push(...i);return}for(Bd=i,Bd.sort((s,l)=>y1(s)-y1(l)),pf=0;pf<Bd.length;pf++)Bd[pf]();Bd=null,pf=0}}const y1=e=>e.id==null?1/0:e.id,ZA=(e,i)=>{const s=y1(e)-y1(i);if(s===0){if(e.pre&&!i.pre)return-1;if(i.pre&&!e.pre)return 1}return s};function kE(e){tw=!1,_1=!0,Ea.sort(ZA);const i=$a;try{for(Hh=0;Hh<Ea.length;Hh++){const s=Ea[Hh];s&&s.active!==!1&&Kh(s,null,14)}}finally{Hh=0,Ea.length=0,ex(),_1=!1,r3=null,(Ea.length||Z0.length)&&kE()}}let ff,by=[];function s3(e,i){var s,l;ff=e,ff?(ff.enabled=!0,by.forEach(({event:h,args:u})=>ff.emit(h,...u)),by=[]):typeof window<"u"&&window.HTMLElement&&!(!((l=(s=window.navigator)===null||s===void 0?void 0:s.userAgent)===null||l===void 0)&&l.includes("jsdom"))?((i.__VUE_DEVTOOLS_HOOK_REPLAY__=i.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(u=>{s3(u,i)}),setTimeout(()=>{ff||(i.__VUE_DEVTOOLS_HOOK_REPLAY__=null,by=[])},3e3)):by=[]}function KA(e,i,...s){if(e.isUnmounted)return;const l=e.vnode.props||is;let h=s;const u=i.startsWith("update:"),y=u&&i.slice(7);if(y&&y in l){const ie=`${y==="modelValue"?"model":y}Modifiers`,{number:G,trim:q}=l[ie]||is;q&&(h=s.map(Z=>tr(Z)?Z.trim():Z)),G&&(h=s.map(Hd))}let n,w=l[n=vf(i)]||l[n=vf(Jo(i))];!w&&u&&(w=l[n=vf(tc(i))]),w&&xl(w,e,6,h);const z=l[n+"Once"];if(z){if(!e.emitted)e.emitted={};else if(e.emitted[n])return;e.emitted[n]=!0,xl(z,e,6,h)}}function PE(e,i,s=!1){const l=i.emitsCache,h=l.get(e);if(h!==void 0)return h;const u=e.emits;let y={},n=!1;if(!Hn(e)){const w=z=>{const ie=PE(z,i,!0);ie&&(n=!0,Yr(y,ie))};!s&&i.mixins.length&&i.mixins.forEach(w),e.extends&&w(e.extends),e.mixins&&e.mixins.forEach(w)}return!u&&!n?(os(e)&&l.set(e,null),null):(sn(u)?u.forEach(w=>y[w]=null):Yr(y,u),os(e)&&l.set(e,y),y)}function $x(e,i){return!e||!If(i)?!1:(i=i.slice(2).replace(/Once$/,""),jr(e,i[0].toLowerCase()+i.slice(1))||jr(e,tc(i))||jr(e,i))}let ha=null,Xx=null;function x1(e){const i=ha;return ha=e,Xx=e&&e.type.__scopeId||null,i}function xm(e){Xx=e}function vm(){Xx=null}const DE=e=>ao;function ao(e,i=ha,s){if(!i||e._n)return e;const l=(...h)=>{l._d&&nx(-1);const u=x1(i);let y;try{y=e(...h)}finally{x1(u),l._d&&nx(1)}return y};return l._n=!0,l._c=!0,l._d=!0,l}function jy(e){const{type:i,vnode:s,proxy:l,withProxy:h,props:u,propsOptions:[y],slots:n,attrs:w,emit:z,render:ie,renderCache:G,data:q,setupState:Z,ctx:F,inheritAttrs:U}=e;let re,R;const D=x1(e);try{if(s.shapeFlag&4){const $=h||l;re=Ql(ie.call($,$,G,u,Z,q,F)),R=w}else{const $=i;re=Ql($.length>1?$(u,{attrs:w,slots:n,emit:z}):$(u,null)),R=i.props?w:QA(w)}}catch($){c1.length=0,up($,e,1),re=wn(da)}let N=re;if(R&&U!==!1){const $=Object.keys(R),{shapeFlag:j}=N;$.length&&j&7&&(y&&$.some(Yw)&&(R=ek(R,y)),N=hh(N,R))}return s.dirs&&(N=hh(N),N.dirs=N.dirs?N.dirs.concat(s.dirs):s.dirs),s.transition&&(N.transition=s.transition),re=N,x1(D),re}function JA(e){let i;for(let s=0;s<e.length;s++){const l=e[s];if(Yd(l)){if(l.type!==da||l.children==="v-if"){if(i)return;i=l}}else return}return i}const QA=e=>{let i;for(const s in e)(s==="class"||s==="style"||If(s))&&((i||(i={}))[s]=e[s]);return i},ek=(e,i)=>{const s={};for(const l in e)(!Yw(l)||!(l.slice(9)in i))&&(s[l]=e[l]);return s};function tk(e,i,s){const{props:l,children:h,component:u}=e,{props:y,children:n,patchFlag:w}=i,z=u.emitsOptions;if(i.dirs||i.transition)return!0;if(s&&w>=0){if(w&1024)return!0;if(w&16)return l?hT(l,y,z):!!y;if(w&8){const ie=i.dynamicProps;for(let G=0;G<ie.length;G++){const q=ie[G];if(y[q]!==l[q]&&!$x(z,q))return!0}}}else return(h||n)&&(!n||!n.$stable)?!0:l===y?!1:l?y?hT(l,y,z):!0:!!y;return!1}function hT(e,i,s){const l=Object.keys(i);if(l.length!==Object.keys(e).length)return!0;for(let h=0;h<l.length;h++){const u=l[h];if(i[u]!==e[u]&&!$x(s,u))return!0}return!1}function o3({vnode:e,parent:i},s){for(;i&&i.subTree===e;)(e=i.vnode).el=s,i=i.parent}const IE=e=>e.__isSuspense,ik={name:"Suspense",__isSuspense:!0,process(e,i,s,l,h,u,y,n,w,z){e==null?nk(i,s,l,h,u,y,n,w,z):rk(e,i,s,l,h,y,n,w,z)},hydrate:sk,create:a3,normalize:ok},LE=ik;function v1(e,i){const s=e.props&&e.props[i];Hn(s)&&s()}function nk(e,i,s,l,h,u,y,n,w){const{p:z,o:{createElement:ie}}=w,G=ie("div"),q=e.suspense=a3(e,h,l,i,G,s,u,y,n,w);z(null,q.pendingBranch=e.ssContent,G,null,l,q,u,y),q.deps>0?(v1(e,"onPending"),v1(e,"onFallback"),z(null,e.ssFallback,i,s,l,null,u,y),K0(q,e.ssFallback)):q.resolve()}function rk(e,i,s,l,h,u,y,n,{p:w,um:z,o:{createElement:ie}}){const G=i.suspense=e.suspense;G.vnode=i,i.el=e.el;const q=i.ssContent,Z=i.ssFallback,{activeBranch:F,pendingBranch:U,isInFallback:re,isHydrating:R}=G;if(U)G.pendingBranch=q,$h(q,U)?(w(U,q,G.hiddenContainer,null,h,G,u,y,n),G.deps<=0?G.resolve():re&&(w(F,Z,s,l,h,null,u,y,n),K0(G,Z))):(G.pendingId++,R?(G.isHydrating=!1,G.activeBranch=U):z(U,h,G),G.deps=0,G.effects.length=0,G.hiddenContainer=ie("div"),re?(w(null,q,G.hiddenContainer,null,h,G,u,y,n),G.deps<=0?G.resolve():(w(F,Z,s,l,h,null,u,y,n),K0(G,Z))):F&&$h(q,F)?(w(F,q,s,l,h,G,u,y,n),G.resolve(!0)):(w(null,q,G.hiddenContainer,null,h,G,u,y,n),G.deps<=0&&G.resolve()));else if(F&&$h(q,F))w(F,q,s,l,h,G,u,y,n),K0(G,q);else if(v1(i,"onPending"),G.pendingBranch=q,G.pendingId++,w(null,q,G.hiddenContainer,null,h,G,u,y,n),G.deps<=0)G.resolve();else{const{timeout:D,pendingId:N}=G;D>0?setTimeout(()=>{G.pendingId===N&&G.fallback(Z)},D):D===0&&G.fallback(Z)}}function a3(e,i,s,l,h,u,y,n,w,z,ie=!1){const{p:G,m:q,um:Z,n:F,o:{parentNode:U,remove:re}}=z,R=Hd(e.props&&e.props.timeout),D={vnode:e,parent:i,parentComponent:s,isSVG:y,container:l,hiddenContainer:h,anchor:u,deps:0,pendingId:0,timeout:typeof R=="number"?R:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:ie,isUnmounted:!1,effects:[],resolve(N=!1){const{vnode:$,activeBranch:j,pendingBranch:S,pendingId:te,effects:Y,parentComponent:I,container:V}=D;if(D.isHydrating)D.isHydrating=!1;else if(!N){const L=j&&S.transition&&S.transition.mode==="out-in";L&&(j.transition.afterLeave=()=>{te===D.pendingId&&q(S,V,_,0)});let{anchor:_}=D;j&&(_=F(j),Z(j,I,D,!0)),L||q(S,V,_,0)}K0(D,S),D.pendingBranch=null,D.isInFallback=!1;let X=D.parent,P=!1;for(;X;){if(X.pendingBranch){X.effects.push(...Y),P=!0;break}X=X.parent}P||Hx(Y),D.effects=[],v1($,"onResolve")},fallback(N){if(!D.pendingBranch)return;const{vnode:$,activeBranch:j,parentComponent:S,container:te,isSVG:Y}=D;v1($,"onFallback");const I=F(j),V=()=>{D.isInFallback&&(G(null,N,te,I,S,null,Y,n,w),K0(D,N))},X=N.transition&&N.transition.mode==="out-in";X&&(j.transition.afterLeave=V),D.isInFallback=!0,Z(j,S,null,!0),X||V()},move(N,$,j){D.activeBranch&&q(D.activeBranch,N,$,j),D.container=N},next(){return D.activeBranch&&F(D.activeBranch)},registerDep(N,$){const j=!!D.pendingBranch;j&&D.deps++;const S=N.vnode.el;N.asyncDep.catch(te=>{up(te,N,0)}).then(te=>{if(N.isUnmounted||D.isUnmounted||D.pendingId!==N.suspenseId)return;N.asyncResolved=!0;const{vnode:Y}=N;lw(N,te,!1),S&&(Y.el=S);const I=!S&&N.subTree.el;$(N,Y,U(S||N.subTree.el),S?null:F(N.subTree),D,y,w),I&&re(I),o3(N,Y.el),j&&--D.deps===0&&D.resolve()})},unmount(N,$){D.isUnmounted=!0,D.activeBranch&&Z(D.activeBranch,s,N,$),D.pendingBranch&&Z(D.pendingBranch,s,N,$)}};return D}function sk(e,i,s,l,h,u,y,n,w){const z=i.suspense=a3(i,l,s,e.parentNode,document.createElement("div"),null,h,u,y,n,!0),ie=w(e,z.pendingBranch=i.ssContent,s,z,u,y);return z.deps===0&&z.resolve(),ie}function ok(e){const{shapeFlag:i,children:s}=e,l=i&32;e.ssContent=dT(l?s.default:s),e.ssFallback=l?dT(s.fallback):wn(da)}function dT(e){let i;if(Hn(e)){const s=Af&&e._c;s&&(e._d=!1,nn()),e=e(),s&&(e._d=!0,i=_l,n8())}return sn(e)&&(e=JA(e)),e=Ql(e),i&&!e.dynamicChildren&&(e.dynamicChildren=i.filter(s=>s!==e)),e}function OE(e,i){i&&i.pendingBranch?sn(e)?i.effects.push(...e):i.effects.push(e):Hx(e)}function K0(e,i){e.activeBranch=i;const{vnode:s,parentComponent:l}=e,h=s.el=i.el;l&&l.subTree===s&&(l.vnode.el=h,o3(l,h))}function bm(e,i){if(Io){let s=Io.provides;const l=Io.parent&&Io.parent.provides;l===s&&(s=Io.provides=Object.create(l)),s[e]=i}}function wf(e,i,s=!1){const l=Io||ha;if(l){const h=l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides;if(h&&e in h)return h[e];if(arguments.length>1)return s&&Hn(i)?i.call(l.proxy):i}}function RE(e,i){return z1(e,null,i)}function l3(e,i){return z1(e,null,{flush:"post"})}function zE(e,i){return z1(e,null,{flush:"sync"})}const wy={};function Bc(e,i,s){return z1(e,i,s)}function z1(e,i,{immediate:s,deep:l,flush:h,onTrack:u,onTrigger:y}=is){const n=Io;let w,z=!1,ie=!1;if(Lo(e)?(w=()=>e.value,z=sm(e)):Ku(e)?(w=()=>e,l=!0):sn(e)?(ie=!0,z=e.some(N=>Ku(N)||sm(N)),w=()=>e.map(N=>{if(Lo(N))return N.value;if(Ku(N))return gf(N);if(Hn(N))return Kh(N,n,2)})):Hn(e)?i?w=()=>Kh(e,n,2):w=()=>{if(!(n&&n.isUnmounted))return G&&G(),xl(e,n,3,[q])}:w=$a,i&&l){const N=w;w=()=>gf(N())}let G,q=N=>{G=R.onStop=()=>{Kh(N,n,4)}},Z;if(om)if(q=$a,i?s&&xl(i,n,3,[w(),ie?[]:void 0,q]):w(),h==="sync"){const N=A3();Z=N.__watcherHandles||(N.__watcherHandles=[])}else return $a;let F=ie?new Array(e.length).fill(wy):wy;const U=()=>{if(R.active)if(i){const N=R.run();(l||z||(ie?N.some(($,j)=>rm($,F[j])):rm(N,F)))&&(G&&G(),xl(i,n,3,[N,F===wy?void 0:ie&&F[0]===wy?[]:F,q]),F=N)}else R.run()};U.allowRecurse=!!i;let re;h==="sync"?re=U:h==="post"?re=()=>ca(U,n&&n.suspense):(U.pre=!0,n&&(U.id=n.uid),re=()=>Wx(U));const R=new mm(w,re);i?s?U():F=R.run():h==="post"?ca(R.run.bind(R),n&&n.suspense):R.run();const D=()=>{R.stop(),n&&n.scope&&qw(n.scope.effects,R)};return Z&&Z.push(D),D}function ak(e,i,s){const l=this.proxy,h=tr(e)?e.includes(".")?BE(l,e):()=>l[e]:e.bind(l,l);let u;Hn(i)?u=i:(u=i.handler,s=i);const y=Io;ap(this);const n=z1(h,u.bind(l),s);return y?ap(y):Qu(),n}function BE(e,i){const s=i.split(".");return()=>{let l=e;for(let h=0;h<s.length&&l;h++)l=l[s[h]];return l}}function gf(e,i){if(!os(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),Lo(e))gf(e.value,i);else if(sn(e))for(let s=0;s<e.length;s++)gf(e[s],i);else if(Lf(e)||Y0(e))e.forEach(s=>{gf(s,i)});else if(eE(e))for(const s in e)gf(e[s],i);return e}function Yx(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qh(()=>{e.isMounted=!0}),Rf(()=>{e.isUnmounting=!0}),e}const Ic=[Function,Array],lk={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ic,onEnter:Ic,onAfterEnter:Ic,onEnterCancelled:Ic,onBeforeLeave:Ic,onLeave:Ic,onAfterLeave:Ic,onLeaveCancelled:Ic,onBeforeAppear:Ic,onAppear:Ic,onAfterAppear:Ic,onAppearCancelled:Ic},setup(e,{slots:i}){const s=Qd(),l=Yx();let h;return()=>{const u=i.default&&B1(i.default(),!0);if(!u||!u.length)return;let y=u[0];if(u.length>1){for(const U of u)if(U.type!==da){y=U;break}}const n=Dr(e),{mode:w}=n;if(l.isLeaving)return _b(y);const z=uT(y);if(!z)return _b(y);const ie=Cf(z,n,l,s);sp(z,ie);const G=s.subTree,q=G&&uT(G);let Z=!1;const{getTransitionKey:F}=z.type;if(F){const U=F();h===void 0?h=U:U!==h&&(h=U,Z=!0)}if(q&&q.type!==da&&(!$h(z,q)||Z)){const U=Cf(q,n,l,s);if(sp(q,U),w==="out-in")return l.isLeaving=!0,U.afterLeave=()=>{l.isLeaving=!1,s.update.active!==!1&&s.update()},_b(y);w==="in-out"&&z.type!==da&&(U.delayLeave=(re,R,D)=>{const N=FE(l,q);N[String(q.key)]=q,re._leaveCb=()=>{R(),re._leaveCb=void 0,delete ie.delayedLeave},ie.delayedLeave=D})}return y}}},qx=lk;function FE(e,i){const{leavingVNodes:s}=e;let l=s.get(i.type);return l||(l=Object.create(null),s.set(i.type,l)),l}function Cf(e,i,s,l){const{appear:h,mode:u,persisted:y=!1,onBeforeEnter:n,onEnter:w,onAfterEnter:z,onEnterCancelled:ie,onBeforeLeave:G,onLeave:q,onAfterLeave:Z,onLeaveCancelled:F,onBeforeAppear:U,onAppear:re,onAfterAppear:R,onAppearCancelled:D}=i,N=String(e.key),$=FE(s,e),j=(Y,I)=>{Y&&xl(Y,l,9,I)},S=(Y,I)=>{const V=I[1];j(Y,I),sn(Y)?Y.every(X=>X.length<=1)&&V():Y.length<=1&&V()},te={mode:u,persisted:y,beforeEnter(Y){let I=n;if(!s.isMounted)if(h)I=U||n;else return;Y._leaveCb&&Y._leaveCb(!0);const V=$[N];V&&$h(e,V)&&V.el._leaveCb&&V.el._leaveCb(),j(I,[Y])},enter(Y){let I=w,V=z,X=ie;if(!s.isMounted)if(h)I=re||w,V=R||z,X=D||ie;else return;let P=!1;const L=Y._enterCb=_=>{P||(P=!0,_?j(X,[Y]):j(V,[Y]),te.delayedLeave&&te.delayedLeave(),Y._enterCb=void 0)};I?S(I,[Y,L]):L()},leave(Y,I){const V=String(e.key);if(Y._enterCb&&Y._enterCb(!0),s.isUnmounting)return I();j(G,[Y]);let X=!1;const P=Y._leaveCb=L=>{X||(X=!0,I(),L?j(F,[Y]):j(Z,[Y]),Y._leaveCb=void 0,$[V]===e&&delete $[V])};$[V]=e,q?S(q,[Y,P]):P()},clone(Y){return Cf(Y,i,s,l)}};return te}function _b(e){if(F1(e))return e=hh(e),e.children=null,e}function uT(e){return F1(e)?e.children?e.children[0]:void 0:e}function sp(e,i){e.shapeFlag&6&&e.component?sp(e.component.subTree,i):e.shapeFlag&128?(e.ssContent.transition=i.clone(e.ssContent),e.ssFallback.transition=i.clone(e.ssFallback)):e.transition=i}function B1(e,i=!1,s){let l=[],h=0;for(let u=0;u<e.length;u++){let y=e[u];const n=s==null?y.key:String(s)+String(y.key!=null?y.key:u);y.type===Xr?(y.patchFlag&128&&h++,l=l.concat(B1(y.children,i,n))):(i||y.type!==da)&&l.push(n!=null?hh(y,{key:n}):y)}if(h>1)for(let u=0;u<l.length;u++)l[u].patchFlag=-2;return l}function Zx(e){return Hn(e)?{setup:e,name:e.name}:e}const Tf=e=>!!e.type.__asyncLoader;function NE(e){Hn(e)&&(e={loader:e});const{loader:i,loadingComponent:s,errorComponent:l,delay:h=200,timeout:u,suspensible:y=!0,onError:n}=e;let w=null,z,ie=0;const G=()=>(ie++,w=null,q()),q=()=>{let Z;return w||(Z=w=i().catch(F=>{if(F=F instanceof Error?F:new Error(String(F)),n)return new Promise((U,re)=>{n(F,()=>U(G()),()=>re(F),ie+1)});throw F}).then(F=>Z!==w&&w?w:(F&&(F.__esModule||F[Symbol.toStringTag]==="Module")&&(F=F.default),z=F,F)))};return Zx({name:"AsyncComponentWrapper",__asyncLoader:q,get __asyncResolved(){return z},setup(){const Z=Io;if(z)return()=>yb(z,Z);const F=D=>{w=null,up(D,Z,13,!l)};if(y&&Z.suspense||om)return q().then(D=>()=>yb(D,Z)).catch(D=>(F(D),()=>l?wn(l,{error:D}):null));const U=$s(!1),re=$s(),R=$s(!!h);return h&&setTimeout(()=>{R.value=!1},h),u!=null&&setTimeout(()=>{if(!U.value&&!re.value){const D=new Error(`Async component timed out after ${u}ms.`);F(D),re.value=D}},u),q().then(()=>{U.value=!0,Z.parent&&F1(Z.parent.vnode)&&Wx(Z.parent.update)}).catch(D=>{F(D),re.value=D}),()=>{if(U.value&&z)return yb(z,Z);if(re.value&&l)return wn(l,{error:re.value});if(s&&!R.value)return wn(s)}}})}function yb(e,i){const{ref:s,props:l,children:h,ce:u}=i.vnode,y=wn(e,l,h);return y.ref=s,y.ce=u,delete i.vnode.ce,y}const F1=e=>e.type.__isKeepAlive,ck={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:i}){const s=Qd(),l=s.ctx;if(!l.renderer)return()=>{const D=i.default&&i.default();return D&&D.length===1?D[0]:D};const h=new Map,u=new Set;let y=null;const n=s.suspense,{renderer:{p:w,m:z,um:ie,o:{createElement:G}}}=l,q=G("div");l.activate=(D,N,$,j,S)=>{const te=D.component;z(D,N,$,0,n),w(te.vnode,D,N,$,te,n,j,D.slotScopeIds,S),ca(()=>{te.isDeactivated=!1,te.a&&q0(te.a);const Y=D.props&&D.props.onVnodeMounted;Y&&ml(Y,te.parent,D)},n)},l.deactivate=D=>{const N=D.component;z(D,q,null,1,n),ca(()=>{N.da&&q0(N.da);const $=D.props&&D.props.onVnodeUnmounted;$&&ml($,N.parent,D),N.isDeactivated=!0},n)};function Z(D){xb(D),ie(D,s,n,!0)}function F(D){h.forEach((N,$)=>{const j=hw(N.type);j&&(!D||!D(j))&&U($)})}function U(D){const N=h.get(D);!y||N.type!==y.type?Z(N):y&&xb(y),h.delete(D),u.delete(D)}Bc(()=>[e.include,e.exclude],([D,N])=>{D&&F($=>o1(D,$)),N&&F($=>!o1(N,$))},{flush:"post",deep:!0});let re=null;const R=()=>{re!=null&&h.set(re,vb(s.subTree))};return Qh(R),Of(R),Rf(()=>{h.forEach(D=>{const{subTree:N,suspense:$}=s,j=vb(N);if(D.type===j.type){xb(j);const S=j.component.da;S&&ca(S,$);return}Z(D)})}),()=>{if(re=null,!i.default)return null;const D=i.default(),N=D[0];if(D.length>1)return y=null,D;if(!Yd(N)||!(N.shapeFlag&4)&&!(N.shapeFlag&128))return y=null,N;let $=vb(N);const j=$.type,S=hw(Tf($)?$.type.__asyncResolved||{}:j),{include:te,exclude:Y,max:I}=e;if(te&&(!S||!o1(te,S))||Y&&S&&o1(Y,S))return y=$,N;const V=$.key==null?j:$.key,X=h.get(V);return $.el&&($=hh($),N.shapeFlag&128&&(N.ssContent=$)),re=V,X?($.el=X.el,$.component=X.component,$.transition&&sp($,$.transition),$.shapeFlag|=512,u.delete(V),u.add(V)):(u.add(V),I&&u.size>parseInt(I,10)&&U(u.values().next().value)),$.shapeFlag|=256,y=$,IE(N.type)?N:$}}},jE=ck;function o1(e,i){return sn(e)?e.some(s=>o1(s,i)):tr(e)?e.split(",").includes(i):e.test?e.test(i):!1}function c3(e,i){UE(e,"a",i)}function h3(e,i){UE(e,"da",i)}function UE(e,i,s=Io){const l=e.__wdc||(e.__wdc=()=>{let h=s;for(;h;){if(h.isDeactivated)return;h=h.parent}return e()});if(Kx(i,l,s),s){let h=s.parent;for(;h&&h.parent;)F1(h.parent.vnode)&&hk(l,i,s,h),h=h.parent}}function hk(e,i,s,l){const h=Kx(i,e,l,!0);zf(()=>{qw(l[i],h)},s)}function xb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function vb(e){return e.shapeFlag&128?e.ssContent:e}function Kx(e,i,s=Io,l=!1){if(s){const h=s[e]||(s[e]=[]),u=i.__weh||(i.__weh=(...y)=>{if(s.isUnmounted)return;gm(),ap(s);const n=xl(i,s,e,y);return Qu(),_m(),n});return l?h.unshift(u):h.push(u),u}}const Jd=e=>(i,s=Io)=>(!om||e==="sp")&&Kx(e,(...l)=>i(...l),s),d3=Jd("bm"),Qh=Jd("m"),Jx=Jd("bu"),Of=Jd("u"),Rf=Jd("bum"),zf=Jd("um"),u3=Jd("sp"),p3=Jd("rtg"),f3=Jd("rtc");function m3(e,i=Io){Kx("ec",e,i)}function qh(e,i){const s=ha;if(s===null)return e;const l=tv(s)||s.proxy,h=e.dirs||(e.dirs=[]);for(let u=0;u<i.length;u++){let[y,n,w,z=is]=i[u];y&&(Hn(y)&&(y={mounted:y,updated:y}),y.deep&&gf(n),h.push({dir:y,instance:l,value:n,oldValue:void 0,arg:w,modifiers:z}))}return e}function Vh(e,i,s,l){const h=e.dirs,u=i&&i.dirs;for(let y=0;y<h.length;y++){const n=h[y];u&&(n.oldValue=u[y].value);let w=n.dir[l];w&&(gm(),xl(w,s,8,[e.el,n,e,i]),_m())}}const g3="components",dk="directives";function xo(e,i){return y3(g3,e,!0,i)||e}const GE=Symbol();function VE(e){return tr(e)?y3(g3,e,!1)||e:e||GE}function _3(e){return y3(dk,e)}function y3(e,i,s=!0,l=!1){const h=ha||Io;if(h){const u=h.type;if(e===g3){const n=hw(u,!1);if(n&&(n===i||n===Jo(i)||n===dp(Jo(i))))return u}const y=pT(h[e]||u[e],i)||pT(h.appContext[e],i);return!y&&l?u:y}}function pT(e,i){return e&&(e[i]||e[Jo(i)]||e[dp(Jo(i))])}function nc(e,i,s,l){let h;const u=s&&s[l];if(sn(e)||tr(e)){h=new Array(e.length);for(let y=0,n=e.length;y<n;y++)h[y]=i(e[y],y,void 0,u&&u[y])}else if(typeof e=="number"){h=new Array(e);for(let y=0;y<e;y++)h[y]=i(y+1,y,void 0,u&&u[y])}else if(os(e))if(e[Symbol.iterator])h=Array.from(e,(y,n)=>i(y,n,void 0,u&&u[n]));else{const y=Object.keys(e);h=new Array(y.length);for(let n=0,w=y.length;n<w;n++){const z=y[n];h[n]=i(e[z],z,n,u&&u[n])}}else h=[];return s&&(s[l]=h),h}function WE(e,i){for(let s=0;s<i.length;s++){const l=i[s];if(sn(l))for(let h=0;h<l.length;h++)e[l[h].name]=l[h].fn;else l&&(e[l.name]=l.key?(...h)=>{const u=l.fn(...h);return u&&(u.key=l.key),u}:l.fn)}return e}function oh(e,i,s={},l,h){if(ha.isCE||ha.parent&&Tf(ha.parent)&&ha.parent.isCE)return i!=="default"&&(s.name=i),wn("slot",s,l&&l());let u=e[i];u&&u._c&&(u._d=!1),nn();const y=u&&HE(u(s)),n=Xd(Xr,{key:s.key||y&&y.key||`_${i}`},y||(l?l():[]),y&&e._===1?64:-2);return!h&&n.scopeId&&(n.slotScopeIds=[n.scopeId+"-s"]),u&&u._c&&(u._d=!0),n}function HE(e){return e.some(i=>Yd(i)?!(i.type===da||i.type===Xr&&!HE(i.children)):!0)?e:null}function $E(e,i){const s={};for(const l in e)s[i&&/[A-Z]/.test(l)?`on:${l}`:vf(l)]=e[l];return s}const iw=e=>e?l8(e)?tv(e)||e.proxy:iw(e.parent):null,a1=Yr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>iw(e.parent),$root:e=>iw(e.root),$emit:e=>e.emit,$options:e=>x3(e),$forceUpdate:e=>e.f||(e.f=()=>Wx(e.update)),$nextTick:e=>e.n||(e.n=ym.bind(e.proxy)),$watch:e=>ak.bind(e)}),bb=(e,i)=>e!==is&&!e.__isScriptSetup&&jr(e,i),nw={get({_:e},i){const{ctx:s,setupState:l,data:h,props:u,accessCache:y,type:n,appContext:w}=e;let z;if(i[0]!=="$"){const Z=y[i];if(Z!==void 0)switch(Z){case 1:return l[i];case 2:return h[i];case 4:return s[i];case 3:return u[i]}else{if(bb(l,i))return y[i]=1,l[i];if(h!==is&&jr(h,i))return y[i]=2,h[i];if((z=e.propsOptions[0])&&jr(z,i))return y[i]=3,u[i];if(s!==is&&jr(s,i))return y[i]=4,s[i];rw&&(y[i]=0)}}const ie=a1[i];let G,q;if(ie)return i==="$attrs"&&sc(e,"get",i),ie(e);if((G=n.__cssModules)&&(G=G[i]))return G;if(s!==is&&jr(s,i))return y[i]=4,s[i];if(q=w.config.globalProperties,jr(q,i))return q[i]},set({_:e},i,s){const{data:l,setupState:h,ctx:u}=e;return bb(h,i)?(h[i]=s,!0):l!==is&&jr(l,i)?(l[i]=s,!0):jr(e.props,i)||i[0]==="$"&&i.slice(1)in e?!1:(u[i]=s,!0)},has({_:{data:e,setupState:i,accessCache:s,ctx:l,appContext:h,propsOptions:u}},y){let n;return!!s[y]||e!==is&&jr(e,y)||bb(i,y)||(n=u[0])&&jr(n,y)||jr(l,y)||jr(a1,y)||jr(h.config.globalProperties,y)},defineProperty(e,i,s){return s.get!=null?e._.accessCache[i]=0:jr(s,"value")&&this.set(e,i,s.value,null),Reflect.defineProperty(e,i,s)}},uk=Yr({},nw,{get(e,i){if(i!==Symbol.unscopables)return nw.get(e,i,e)},has(e,i){return i[0]!=="_"&&!q6(i)}});let rw=!0;function pk(e){const i=x3(e),s=e.proxy,l=e.ctx;rw=!1,i.beforeCreate&&fT(i.beforeCreate,e,"bc");const{data:h,computed:u,methods:y,watch:n,provide:w,inject:z,created:ie,beforeMount:G,mounted:q,beforeUpdate:Z,updated:F,activated:U,deactivated:re,beforeDestroy:R,beforeUnmount:D,destroyed:N,unmounted:$,render:j,renderTracked:S,renderTriggered:te,errorCaptured:Y,serverPrefetch:I,expose:V,inheritAttrs:X,components:P,directives:L,filters:_}=i;if(z&&fk(z,l,null,e.appContext.config.unwrapInjectedRef),y)for(const O in y){const ee=y[O];Hn(ee)&&(l[O]=ee.bind(s))}if(h){const O=h.call(s,s);os(O)&&(e.data=R1(O))}if(rw=!0,u)for(const O in u){const ee=u[O],ae=Hn(ee)?ee.bind(s,s):Hn(ee.get)?ee.get.bind(s,s):$a,K=!Hn(ee)&&Hn(ee.set)?ee.set.bind(s):$a,pe=Tm({get:ae,set:K});Object.defineProperty(l,O,{enumerable:!0,configurable:!0,get:()=>pe.value,set:Me=>pe.value=Me})}if(n)for(const O in n)XE(n[O],l,s,O);if(w){const O=Hn(w)?w.call(s):w;Reflect.ownKeys(O).forEach(ee=>{bm(ee,O[ee])})}ie&&fT(ie,e,"c");function M(O,ee){sn(ee)?ee.forEach(ae=>O(ae.bind(s))):ee&&O(ee.bind(s))}if(M(d3,G),M(Qh,q),M(Jx,Z),M(Of,F),M(c3,U),M(h3,re),M(m3,Y),M(f3,S),M(p3,te),M(Rf,D),M(zf,$),M(u3,I),sn(V))if(V.length){const O=e.exposed||(e.exposed={});V.forEach(ee=>{Object.defineProperty(O,ee,{get:()=>s[ee],set:ae=>s[ee]=ae})})}else e.exposed||(e.exposed={});j&&e.render===$a&&(e.render=j),X!=null&&(e.inheritAttrs=X),P&&(e.components=P),L&&(e.directives=L)}function fk(e,i,s=$a,l=!1){sn(e)&&(e=sw(e));for(const h in e){const u=e[h];let y;os(u)?"default"in u?y=wf(u.from||h,u.default,!0):y=wf(u.from||h):y=wf(u),Lo(y)&&l?Object.defineProperty(i,h,{enumerable:!0,configurable:!0,get:()=>y.value,set:n=>y.value=n}):i[h]=y}}function fT(e,i,s){xl(sn(e)?e.map(l=>l.bind(i.proxy)):e.bind(i.proxy),i,s)}function XE(e,i,s,l){const h=l.includes(".")?BE(s,l):()=>s[l];if(tr(e)){const u=i[e];Hn(u)&&Bc(h,u)}else if(Hn(e))Bc(h,e.bind(s));else if(os(e))if(sn(e))e.forEach(u=>XE(u,i,s,l));else{const u=Hn(e.handler)?e.handler.bind(s):i[e.handler];Hn(u)&&Bc(h,u,e)}}function x3(e){const i=e.type,{mixins:s,extends:l}=i,{mixins:h,optionsCache:u,config:{optionMergeStrategies:y}}=e.appContext,n=u.get(i);let w;return n?w=n:!h.length&&!s&&!l?w=i:(w={},h.length&&h.forEach(z=>tx(w,z,y,!0)),tx(w,i,y)),os(i)&&u.set(i,w),w}function tx(e,i,s,l=!1){const{mixins:h,extends:u}=i;u&&tx(e,u,s,!0),h&&h.forEach(y=>tx(e,y,s,!0));for(const y in i)if(!(l&&y==="expose")){const n=mk[y]||s&&s[y];e[y]=n?n(e[y],i[y]):i[y]}return e}const mk={data:mT,props:df,emits:df,methods:df,computed:df,beforeCreate:Ha,created:Ha,beforeMount:Ha,mounted:Ha,beforeUpdate:Ha,updated:Ha,beforeDestroy:Ha,beforeUnmount:Ha,destroyed:Ha,unmounted:Ha,activated:Ha,deactivated:Ha,errorCaptured:Ha,serverPrefetch:Ha,components:df,directives:df,watch:_k,provide:mT,inject:gk};function mT(e,i){return i?e?function(){return Yr(Hn(e)?e.call(this,this):e,Hn(i)?i.call(this,this):i)}:i:e}function gk(e,i){return df(sw(e),sw(i))}function sw(e){if(sn(e)){const i={};for(let s=0;s<e.length;s++)i[e[s]]=e[s];return i}return e}function Ha(e,i){return e?[...new Set([].concat(e,i))]:i}function df(e,i){return e?Yr(Yr(Object.create(null),e),i):i}function _k(e,i){if(!e)return i;if(!i)return e;const s=Yr(Object.create(null),e);for(const l in i)s[l]=Ha(e[l],i[l]);return s}function yk(e,i,s,l=!1){const h={},u={};Qy(u,Qx,1),e.propsDefaults=Object.create(null),YE(e,i,h,u);for(const y in e.propsOptions[0])y in h||(h[y]=void 0);s?e.props=l?h:e3(h):e.type.props?e.props=h:e.props=u,e.attrs=u}function xk(e,i,s,l){const{props:h,attrs:u,vnode:{patchFlag:y}}=e,n=Dr(h),[w]=e.propsOptions;let z=!1;if((l||y>0)&&!(y&16)){if(y&8){const ie=e.vnode.dynamicProps;for(let G=0;G<ie.length;G++){let q=ie[G];if($x(e.emitsOptions,q))continue;const Z=i[q];if(w)if(jr(u,q))Z!==u[q]&&(u[q]=Z,z=!0);else{const F=Jo(q);h[F]=ow(w,n,F,Z,e,!1)}else Z!==u[q]&&(u[q]=Z,z=!0)}}}else{YE(e,i,h,u)&&(z=!0);let ie;for(const G in n)(!i||!jr(i,G)&&((ie=tc(G))===G||!jr(i,ie)))&&(w?s&&(s[G]!==void 0||s[ie]!==void 0)&&(h[G]=ow(w,n,G,void 0,e,!0)):delete h[G]);if(u!==n)for(const G in u)(!i||!jr(i,G))&&(delete u[G],z=!0)}z&&$d(e,"set","$attrs")}function YE(e,i,s,l){const[h,u]=e.propsOptions;let y=!1,n;if(i)for(let w in i){if(xf(w))continue;const z=i[w];let ie;h&&jr(h,ie=Jo(w))?!u||!u.includes(ie)?s[ie]=z:(n||(n={}))[ie]=z:$x(e.emitsOptions,w)||(!(w in l)||z!==l[w])&&(l[w]=z,y=!0)}if(u){const w=Dr(s),z=n||is;for(let ie=0;ie<u.length;ie++){const G=u[ie];s[G]=ow(h,w,G,z[G],e,!jr(z,G))}}return y}function ow(e,i,s,l,h,u){const y=e[s];if(y!=null){const n=jr(y,"default");if(n&&l===void 0){const w=y.default;if(y.type!==Function&&Hn(w)){const{propsDefaults:z}=h;s in z?l=z[s]:(ap(h),l=z[s]=w.call(null,i),Qu())}else l=w}y[0]&&(u&&!n?l=!1:y[1]&&(l===""||l===tc(s))&&(l=!0))}return l}function qE(e,i,s=!1){const l=i.propsCache,h=l.get(e);if(h)return h;const u=e.props,y={},n=[];let w=!1;if(!Hn(e)){const ie=G=>{w=!0;const[q,Z]=qE(G,i,!0);Yr(y,q),Z&&n.push(...Z)};!s&&i.mixins.length&&i.mixins.forEach(ie),e.extends&&ie(e.extends),e.mixins&&e.mixins.forEach(ie)}if(!u&&!w)return os(e)&&l.set(e,X0),X0;if(sn(u))for(let ie=0;ie<u.length;ie++){const G=Jo(u[ie]);gT(G)&&(y[G]=is)}else if(u)for(const ie in u){const G=Jo(ie);if(gT(G)){const q=u[ie],Z=y[G]=sn(q)||Hn(q)?{type:q}:Object.assign({},q);if(Z){const F=xT(Boolean,Z.type),U=xT(String,Z.type);Z[0]=F>-1,Z[1]=U<0||F<U,(F>-1||jr(Z,"default"))&&n.push(G)}}}const z=[y,n];return os(e)&&l.set(e,z),z}function gT(e){return e[0]!=="$"}function _T(e){const i=e&&e.toString().match(/^\s*function (\w+)/);return i?i[1]:e===null?"null":""}function yT(e,i){return _T(e)===_T(i)}function xT(e,i){return sn(i)?i.findIndex(s=>yT(s,e)):Hn(i)&&yT(i,e)?0:-1}const ZE=e=>e[0]==="_"||e==="$stable",v3=e=>sn(e)?e.map(Ql):[Ql(e)],vk=(e,i,s)=>{if(i._n)return i;const l=ao((...h)=>v3(i(...h)),s);return l._c=!1,l},KE=(e,i,s)=>{const l=e._ctx;for(const h in e){if(ZE(h))continue;const u=e[h];if(Hn(u))i[h]=vk(h,u,l);else if(u!=null){const y=v3(u);i[h]=()=>y}}},JE=(e,i)=>{const s=v3(i);e.slots.default=()=>s},bk=(e,i)=>{if(e.vnode.shapeFlag&32){const s=i._;s?(e.slots=Dr(i),Qy(i,"_",s)):KE(i,e.slots={})}else e.slots={},i&&JE(e,i);Qy(e.slots,Qx,1)},wk=(e,i,s)=>{const{vnode:l,slots:h}=e;let u=!0,y=is;if(l.shapeFlag&32){const n=i._;n?s&&n===1?u=!1:(Yr(h,i),!s&&n===1&&delete h._):(u=!i.$stable,KE(i,h)),y=i}else i&&(JE(e,i),y={default:1});if(u)for(const n in h)!ZE(n)&&!(n in y)&&delete h[n]};function QE(){return{app:null,config:{isNativeTag:Ny,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tk=0;function Sk(e,i){return function(l,h=null){Hn(l)||(l=Object.assign({},l)),h!=null&&!os(h)&&(h=null);const u=QE(),y=new Set;let n=!1;const w=u.app={_uid:Tk++,_component:l,_props:h,_container:null,_context:u,_instance:null,version:P3,get config(){return u.config},set config(z){},use(z,...ie){return y.has(z)||(z&&Hn(z.install)?(y.add(z),z.install(w,...ie)):Hn(z)&&(y.add(z),z(w,...ie))),w},mixin(z){return u.mixins.includes(z)||u.mixins.push(z),w},component(z,ie){return ie?(u.components[z]=ie,w):u.components[z]},directive(z,ie){return ie?(u.directives[z]=ie,w):u.directives[z]},mount(z,ie,G){if(!n){const q=wn(l,h);return q.appContext=u,ie&&i?i(q,z):e(q,z,G),n=!0,w._container=z,z.__vue_app__=w,tv(q.component)||q.component.proxy}},unmount(){n&&(e(null,w._container),delete w._container.__vue_app__)},provide(z,ie){return u.provides[z]=ie,w}};return w}}function ix(e,i,s,l,h=!1){if(sn(e)){e.forEach((q,Z)=>ix(q,i&&(sn(i)?i[Z]:i),s,l,h));return}if(Tf(l)&&!h)return;const u=l.shapeFlag&4?tv(l.component)||l.component.proxy:l.el,y=h?null:u,{i:n,r:w}=e,z=i&&i.r,ie=n.refs===is?n.refs={}:n.refs,G=n.setupState;if(z!=null&&z!==w&&(tr(z)?(ie[z]=null,jr(G,z)&&(G[z]=null)):Lo(z)&&(z.value=null)),Hn(w))Kh(w,n,12,[y,ie]);else{const q=tr(w),Z=Lo(w);if(q||Z){const F=()=>{if(e.f){const U=q?jr(G,w)?G[w]:ie[w]:w.value;h?sn(U)&&qw(U,u):sn(U)?U.includes(u)||U.push(u):q?(ie[w]=[u],jr(G,w)&&(G[w]=ie[w])):(w.value=[u],e.k&&(ie[e.k]=w.value))}else q?(ie[w]=y,jr(G,w)&&(G[w]=y)):Z&&(w.value=y,e.k&&(ie[e.k]=y))};y?(F.id=-1,ca(F,s)):F()}}}let ju=!1;const Ty=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Sy=e=>e.nodeType===8;function Ek(e){const{mt:i,p:s,o:{patchProp:l,createText:h,nextSibling:u,parentNode:y,remove:n,insert:w,createComment:z}}=e,ie=(R,D)=>{if(!D.hasChildNodes()){s(null,R,D),ex(),D._vnode=R;return}ju=!1,G(D.firstChild,R,null,null,null),ex(),D._vnode=R,ju&&console.error("Hydration completed but contains mismatches.")},G=(R,D,N,$,j,S=!1)=>{const te=Sy(R)&&R.data==="[",Y=()=>U(R,D,N,$,j,te),{type:I,ref:V,shapeFlag:X,patchFlag:P}=D;let L=R.nodeType;D.el=R,P===-2&&(S=!1,D.dynamicChildren=null);let _=null;switch(I){case op:L!==3?D.children===""?(w(D.el=h(""),y(R),R),_=R):_=Y():(R.data!==D.children&&(ju=!0,R.data=D.children),_=u(R));break;case da:L!==8||te?_=Y():_=u(R);break;case Ju:if(te&&(R=u(R),L=R.nodeType),L===1||L===3){_=R;const v=!D.children.length;for(let M=0;M<D.staticCount;M++)v&&(D.children+=_.nodeType===1?_.outerHTML:_.data),M===D.staticCount-1&&(D.anchor=_),_=u(_);return te?u(_):_}else Y();break;case Xr:te?_=F(R,D,N,$,j,S):_=Y();break;default:if(X&1)L!==1||D.type.toLowerCase()!==R.tagName.toLowerCase()?_=Y():_=q(R,D,N,$,j,S);else if(X&6){D.slotScopeIds=j;const v=y(R);if(i(D,v,null,N,$,Ty(v),S),_=te?re(R):u(R),_&&Sy(_)&&_.data==="teleport end"&&(_=u(_)),Tf(D)){let M;te?(M=wn(Xr),M.anchor=_?_.previousSibling:v.lastChild):M=R.nodeType===3?qd(""):wn("div"),M.el=R,D.component.subTree=M}}else X&64?L!==8?_=Y():_=D.type.hydrate(R,D,N,$,j,S,e,Z):X&128&&(_=D.type.hydrate(R,D,N,$,Ty(y(R)),j,S,e,G))}return V!=null&&ix(V,null,$,D),_},q=(R,D,N,$,j,S)=>{S=S||!!D.dynamicChildren;const{type:te,props:Y,patchFlag:I,shapeFlag:V,dirs:X}=D,P=te==="input"&&X||te==="option";if(P||I!==-1){if(X&&Vh(D,null,N,"created"),Y)if(P||!S||I&48)for(const _ in Y)(P&&_.endsWith("value")||If(_)&&!xf(_))&&l(R,_,null,Y[_],!1,void 0,N);else Y.onClick&&l(R,"onClick",null,Y.onClick,!1,void 0,N);let L;if((L=Y&&Y.onVnodeBeforeMount)&&ml(L,N,D),X&&Vh(D,null,N,"beforeMount"),((L=Y&&Y.onVnodeMounted)||X)&&OE(()=>{L&&ml(L,N,D),X&&Vh(D,null,N,"mounted")},$),V&16&&!(Y&&(Y.innerHTML||Y.textContent))){let _=Z(R.firstChild,D,R,N,$,j,S);for(;_;){ju=!0;const v=_;_=_.nextSibling,n(v)}}else V&8&&R.textContent!==D.children&&(ju=!0,R.textContent=D.children)}return R.nextSibling},Z=(R,D,N,$,j,S,te)=>{te=te||!!D.dynamicChildren;const Y=D.children,I=Y.length;for(let V=0;V<I;V++){const X=te?Y[V]:Y[V]=Ql(Y[V]);if(R)R=G(R,X,$,j,S,te);else{if(X.type===op&&!X.children)continue;ju=!0,s(null,X,N,null,$,j,Ty(N),S)}}return R},F=(R,D,N,$,j,S)=>{const{slotScopeIds:te}=D;te&&(j=j?j.concat(te):te);const Y=y(R),I=Z(u(R),D,Y,N,$,j,S);return I&&Sy(I)&&I.data==="]"?u(D.anchor=I):(ju=!0,w(D.anchor=z("]"),Y,I),I)},U=(R,D,N,$,j,S)=>{if(ju=!0,D.el=null,S){const I=re(R);for(;;){const V=u(R);if(V&&V!==I)n(V);else break}}const te=u(R),Y=y(R);return n(R),s(null,D,Y,te,N,$,Ty(Y),j),te},re=R=>{let D=0;for(;R;)if(R=u(R),R&&Sy(R)&&(R.data==="["&&D++,R.data==="]")){if(D===0)return u(R);D--}return R};return[ie,G]}const ca=OE;function b3(e){return e8(e)}function w3(e){return e8(e,Ek)}function e8(e,i){const s=fA();s.__VUE__=!0;const{insert:l,remove:h,patchProp:u,createElement:y,createText:n,createComment:w,setText:z,setElementText:ie,parentNode:G,nextSibling:q,setScopeId:Z=$a,insertStaticContent:F}=e,U=(se,fe,ye,Ie=null,ke=null,Ue=null,st=!1,it=null,ht=!!fe.dynamicChildren)=>{if(se===fe)return;se&&!$h(se,fe)&&(Ie=xe(se),Me(se,ke,Ue,!0),se=null),fe.patchFlag===-2&&(ht=!1,fe.dynamicChildren=null);const{type:Ae,ref:ze,shapeFlag:je}=fe;switch(Ae){case op:re(se,fe,ye,Ie);break;case da:R(se,fe,ye,Ie);break;case Ju:se==null&&D(fe,ye,Ie,st);break;case Xr:P(se,fe,ye,Ie,ke,Ue,st,it,ht);break;default:je&1?j(se,fe,ye,Ie,ke,Ue,st,it,ht):je&6?L(se,fe,ye,Ie,ke,Ue,st,it,ht):(je&64||je&128)&&Ae.process(se,fe,ye,Ie,ke,Ue,st,it,ht,oe)}ze!=null&&ke&&ix(ze,se&&se.ref,Ue,fe||se,!fe)},re=(se,fe,ye,Ie)=>{if(se==null)l(fe.el=n(fe.children),ye,Ie);else{const ke=fe.el=se.el;fe.children!==se.children&&z(ke,fe.children)}},R=(se,fe,ye,Ie)=>{se==null?l(fe.el=w(fe.children||""),ye,Ie):fe.el=se.el},D=(se,fe,ye,Ie)=>{[se.el,se.anchor]=F(se.children,fe,ye,Ie,se.el,se.anchor)},N=({el:se,anchor:fe},ye,Ie)=>{let ke;for(;se&&se!==fe;)ke=q(se),l(se,ye,Ie),se=ke;l(fe,ye,Ie)},$=({el:se,anchor:fe})=>{let ye;for(;se&&se!==fe;)ye=q(se),h(se),se=ye;h(fe)},j=(se,fe,ye,Ie,ke,Ue,st,it,ht)=>{st=st||fe.type==="svg",se==null?S(fe,ye,Ie,ke,Ue,st,it,ht):I(se,fe,ke,Ue,st,it,ht)},S=(se,fe,ye,Ie,ke,Ue,st,it)=>{let ht,Ae;const{type:ze,props:je,shapeFlag:$e,transition:nt,dirs:bt}=se;if(ht=se.el=y(se.type,Ue,je&&je.is,je),$e&8?ie(ht,se.children):$e&16&&Y(se.children,ht,null,Ie,ke,Ue&&ze!=="foreignObject",st,it),bt&&Vh(se,null,Ie,"created"),je){for(const Gt in je)Gt!=="value"&&!xf(Gt)&&u(ht,Gt,null,je[Gt],Ue,se.children,Ie,ke,ue);"value"in je&&u(ht,"value",null,je.value),(Ae=je.onVnodeBeforeMount)&&ml(Ae,Ie,se)}te(ht,se,se.scopeId,st,Ie),bt&&Vh(se,null,Ie,"beforeMount");const jt=(!ke||ke&&!ke.pendingBranch)&&nt&&!nt.persisted;jt&&nt.beforeEnter(ht),l(ht,fe,ye),((Ae=je&&je.onVnodeMounted)||jt||bt)&&ca(()=>{Ae&&ml(Ae,Ie,se),jt&&nt.enter(ht),bt&&Vh(se,null,Ie,"mounted")},ke)},te=(se,fe,ye,Ie,ke)=>{if(ye&&Z(se,ye),Ie)for(let Ue=0;Ue<Ie.length;Ue++)Z(se,Ie[Ue]);if(ke){let Ue=ke.subTree;if(fe===Ue){const st=ke.vnode;te(se,st,st.scopeId,st.slotScopeIds,ke.parent)}}},Y=(se,fe,ye,Ie,ke,Ue,st,it,ht=0)=>{for(let Ae=ht;Ae<se.length;Ae++){const ze=se[Ae]=it?Wu(se[Ae]):Ql(se[Ae]);U(null,ze,fe,ye,Ie,ke,Ue,st,it)}},I=(se,fe,ye,Ie,ke,Ue,st)=>{const it=fe.el=se.el;let{patchFlag:ht,dynamicChildren:Ae,dirs:ze}=fe;ht|=se.patchFlag&16;const je=se.props||is,$e=fe.props||is;let nt;ye&&af(ye,!1),(nt=$e.onVnodeBeforeUpdate)&&ml(nt,ye,fe,se),ze&&Vh(fe,se,ye,"beforeUpdate"),ye&&af(ye,!0);const bt=ke&&fe.type!=="foreignObject";if(Ae?V(se.dynamicChildren,Ae,it,ye,Ie,bt,Ue):st||ee(se,fe,it,null,ye,Ie,bt,Ue,!1),ht>0){if(ht&16)X(it,fe,je,$e,ye,Ie,ke);else if(ht&2&&je.class!==$e.class&&u(it,"class",null,$e.class,ke),ht&4&&u(it,"style",je.style,$e.style,ke),ht&8){const jt=fe.dynamicProps;for(let Gt=0;Gt<jt.length;Gt++){const yi=jt[Gt],ri=je[yi],Ci=$e[yi];(Ci!==ri||yi==="value")&&u(it,yi,ri,Ci,ke,se.children,ye,Ie,ue)}}ht&1&&se.children!==fe.children&&ie(it,fe.children)}else!st&&Ae==null&&X(it,fe,je,$e,ye,Ie,ke);((nt=$e.onVnodeUpdated)||ze)&&ca(()=>{nt&&ml(nt,ye,fe,se),ze&&Vh(fe,se,ye,"updated")},Ie)},V=(se,fe,ye,Ie,ke,Ue,st)=>{for(let it=0;it<fe.length;it++){const ht=se[it],Ae=fe[it],ze=ht.el&&(ht.type===Xr||!$h(ht,Ae)||ht.shapeFlag&70)?G(ht.el):ye;U(ht,Ae,ze,null,Ie,ke,Ue,st,!0)}},X=(se,fe,ye,Ie,ke,Ue,st)=>{if(ye!==Ie){if(ye!==is)for(const it in ye)!xf(it)&&!(it in Ie)&&u(se,it,ye[it],null,st,fe.children,ke,Ue,ue);for(const it in Ie){if(xf(it))continue;const ht=Ie[it],Ae=ye[it];ht!==Ae&&it!=="value"&&u(se,it,Ae,ht,st,fe.children,ke,Ue,ue)}"value"in Ie&&u(se,"value",ye.value,Ie.value)}},P=(se,fe,ye,Ie,ke,Ue,st,it,ht)=>{const Ae=fe.el=se?se.el:n(""),ze=fe.anchor=se?se.anchor:n("");let{patchFlag:je,dynamicChildren:$e,slotScopeIds:nt}=fe;nt&&(it=it?it.concat(nt):nt),se==null?(l(Ae,ye,Ie),l(ze,ye,Ie),Y(fe.children,ye,ze,ke,Ue,st,it,ht)):je>0&&je&64&&$e&&se.dynamicChildren?(V(se.dynamicChildren,$e,ye,ke,Ue,st,it),(fe.key!=null||ke&&fe===ke.subTree)&&T3(se,fe,!0)):ee(se,fe,ye,ze,ke,Ue,st,it,ht)},L=(se,fe,ye,Ie,ke,Ue,st,it,ht)=>{fe.slotScopeIds=it,se==null?fe.shapeFlag&512?ke.ctx.activate(fe,ye,Ie,st,ht):_(fe,ye,Ie,ke,Ue,st,ht):v(se,fe,ht)},_=(se,fe,ye,Ie,ke,Ue,st)=>{const it=se.component=a8(se,Ie,ke);if(F1(se)&&(it.ctx.renderer=oe),c8(it),it.asyncDep){if(ke&&ke.registerDep(it,M),!se.el){const ht=it.subTree=wn(da);R(null,ht,fe,ye)}return}M(it,se,fe,ye,ke,Ue,st)},v=(se,fe,ye)=>{const Ie=fe.component=se.component;if(tk(se,fe,ye))if(Ie.asyncDep&&!Ie.asyncResolved){O(Ie,fe,ye);return}else Ie.next=fe,qA(Ie.update),Ie.update();else fe.el=se.el,Ie.vnode=fe},M=(se,fe,ye,Ie,ke,Ue,st)=>{const it=()=>{if(se.isMounted){let{next:ze,bu:je,u:$e,parent:nt,vnode:bt}=se,jt=ze,Gt;af(se,!1),ze?(ze.el=bt.el,O(se,ze,st)):ze=bt,je&&q0(je),(Gt=ze.props&&ze.props.onVnodeBeforeUpdate)&&ml(Gt,nt,ze,bt),af(se,!0);const yi=jy(se),ri=se.subTree;se.subTree=yi,U(ri,yi,G(ri.el),xe(ri),se,ke,Ue),ze.el=yi.el,jt===null&&o3(se,yi.el),$e&&ca($e,ke),(Gt=ze.props&&ze.props.onVnodeUpdated)&&ca(()=>ml(Gt,nt,ze,bt),ke)}else{let ze;const{el:je,props:$e}=fe,{bm:nt,m:bt,parent:jt}=se,Gt=Tf(fe);if(af(se,!1),nt&&q0(nt),!Gt&&(ze=$e&&$e.onVnodeBeforeMount)&&ml(ze,jt,fe),af(se,!0),je&&_e){const yi=()=>{se.subTree=jy(se),_e(je,se.subTree,se,ke,null)};Gt?fe.type.__asyncLoader().then(()=>!se.isUnmounted&&yi()):yi()}else{const yi=se.subTree=jy(se);U(null,yi,ye,Ie,se,ke,Ue),fe.el=yi.el}if(bt&&ca(bt,ke),!Gt&&(ze=$e&&$e.onVnodeMounted)){const yi=fe;ca(()=>ml(ze,jt,yi),ke)}(fe.shapeFlag&256||jt&&Tf(jt.vnode)&&jt.vnode.shapeFlag&256)&&se.a&&ca(se.a,ke),se.isMounted=!0,fe=ye=Ie=null}},ht=se.effect=new mm(it,()=>Wx(Ae),se.scope),Ae=se.update=()=>ht.run();Ae.id=se.uid,af(se,!0),Ae()},O=(se,fe,ye)=>{fe.component=se;const Ie=se.vnode.props;se.vnode=fe,se.next=null,xk(se,fe.props,Ie,ye),wk(se,fe.children,ye),gm(),cT(),_m()},ee=(se,fe,ye,Ie,ke,Ue,st,it,ht=!1)=>{const Ae=se&&se.children,ze=se?se.shapeFlag:0,je=fe.children,{patchFlag:$e,shapeFlag:nt}=fe;if($e>0){if($e&128){K(Ae,je,ye,Ie,ke,Ue,st,it,ht);return}else if($e&256){ae(Ae,je,ye,Ie,ke,Ue,st,it,ht);return}}nt&8?(ze&16&&ue(Ae,ke,Ue),je!==Ae&&ie(ye,je)):ze&16?nt&16?K(Ae,je,ye,Ie,ke,Ue,st,it,ht):ue(Ae,ke,Ue,!0):(ze&8&&ie(ye,""),nt&16&&Y(je,ye,Ie,ke,Ue,st,it,ht))},ae=(se,fe,ye,Ie,ke,Ue,st,it,ht)=>{se=se||X0,fe=fe||X0;const Ae=se.length,ze=fe.length,je=Math.min(Ae,ze);let $e;for($e=0;$e<je;$e++){const nt=fe[$e]=ht?Wu(fe[$e]):Ql(fe[$e]);U(se[$e],nt,ye,null,ke,Ue,st,it,ht)}Ae>ze?ue(se,ke,Ue,!0,!1,je):Y(fe,ye,Ie,ke,Ue,st,it,ht,je)},K=(se,fe,ye,Ie,ke,Ue,st,it,ht)=>{let Ae=0;const ze=fe.length;let je=se.length-1,$e=ze-1;for(;Ae<=je&&Ae<=$e;){const nt=se[Ae],bt=fe[Ae]=ht?Wu(fe[Ae]):Ql(fe[Ae]);if($h(nt,bt))U(nt,bt,ye,null,ke,Ue,st,it,ht);else break;Ae++}for(;Ae<=je&&Ae<=$e;){const nt=se[je],bt=fe[$e]=ht?Wu(fe[$e]):Ql(fe[$e]);if($h(nt,bt))U(nt,bt,ye,null,ke,Ue,st,it,ht);else break;je--,$e--}if(Ae>je){if(Ae<=$e){const nt=$e+1,bt=nt<ze?fe[nt].el:Ie;for(;Ae<=$e;)U(null,fe[Ae]=ht?Wu(fe[Ae]):Ql(fe[Ae]),ye,bt,ke,Ue,st,it,ht),Ae++}}else if(Ae>$e)for(;Ae<=je;)Me(se[Ae],ke,Ue,!0),Ae++;else{const nt=Ae,bt=Ae,jt=new Map;for(Ae=bt;Ae<=$e;Ae++){const Li=fe[Ae]=ht?Wu(fe[Ae]):Ql(fe[Ae]);Li.key!=null&&jt.set(Li.key,Ae)}let Gt,yi=0;const ri=$e-bt+1;let Ci=!1,Gi=0;const zi=new Array(ri);for(Ae=0;Ae<ri;Ae++)zi[Ae]=0;for(Ae=nt;Ae<=je;Ae++){const Li=se[Ae];if(yi>=ri){Me(Li,ke,Ue,!0);continue}let gn;if(Li.key!=null)gn=jt.get(Li.key);else for(Gt=bt;Gt<=$e;Gt++)if(zi[Gt-bt]===0&&$h(Li,fe[Gt])){gn=Gt;break}gn===void 0?Me(Li,ke,Ue,!0):(zi[gn-bt]=Ae+1,gn>=Gi?Gi=gn:Ci=!0,U(Li,fe[gn],ye,null,ke,Ue,st,it,ht),yi++)}const Xi=Ci?Mk(zi):X0;for(Gt=Xi.length-1,Ae=ri-1;Ae>=0;Ae--){const Li=bt+Ae,gn=fe[Li],bn=Li+1<ze?fe[Li+1].el:Ie;zi[Ae]===0?U(null,gn,ye,bn,ke,Ue,st,it,ht):Ci&&(Gt<0||Ae!==Xi[Gt]?pe(gn,ye,bn,2):Gt--)}}},pe=(se,fe,ye,Ie,ke=null)=>{const{el:Ue,type:st,transition:it,children:ht,shapeFlag:Ae}=se;if(Ae&6){pe(se.component.subTree,fe,ye,Ie);return}if(Ae&128){se.suspense.move(fe,ye,Ie);return}if(Ae&64){st.move(se,fe,ye,oe);return}if(st===Xr){l(Ue,fe,ye);for(let je=0;je<ht.length;je++)pe(ht[je],fe,ye,Ie);l(se.anchor,fe,ye);return}if(st===Ju){N(se,fe,ye);return}if(Ie!==2&&Ae&1&&it)if(Ie===0)it.beforeEnter(Ue),l(Ue,fe,ye),ca(()=>it.enter(Ue),ke);else{const{leave:je,delayLeave:$e,afterLeave:nt}=it,bt=()=>l(Ue,fe,ye),jt=()=>{je(Ue,()=>{bt(),nt&&nt()})};$e?$e(Ue,bt,jt):jt()}else l(Ue,fe,ye)},Me=(se,fe,ye,Ie=!1,ke=!1)=>{const{type:Ue,props:st,ref:it,children:ht,dynamicChildren:Ae,shapeFlag:ze,patchFlag:je,dirs:$e}=se;if(it!=null&&ix(it,null,ye,se,!0),ze&256){fe.ctx.deactivate(se);return}const nt=ze&1&&$e,bt=!Tf(se);let jt;if(bt&&(jt=st&&st.onVnodeBeforeUnmount)&&ml(jt,fe,se),ze&6)le(se.component,ye,Ie);else{if(ze&128){se.suspense.unmount(ye,Ie);return}nt&&Vh(se,null,fe,"beforeUnmount"),ze&64?se.type.remove(se,fe,ye,ke,oe,Ie):Ae&&(Ue!==Xr||je>0&&je&64)?ue(Ae,fe,ye,!1,!0):(Ue===Xr&&je&384||!ke&&ze&16)&&ue(ht,fe,ye),Ie&&Pe(se)}(bt&&(jt=st&&st.onVnodeUnmounted)||nt)&&ca(()=>{jt&&ml(jt,fe,se),nt&&Vh(se,null,fe,"unmounted")},ye)},Pe=se=>{const{type:fe,el:ye,anchor:Ie,transition:ke}=se;if(fe===Xr){W(ye,Ie);return}if(fe===Ju){$(se);return}const Ue=()=>{h(ye),ke&&!ke.persisted&&ke.afterLeave&&ke.afterLeave()};if(se.shapeFlag&1&&ke&&!ke.persisted){const{leave:st,delayLeave:it}=ke,ht=()=>st(ye,Ue);it?it(se.el,Ue,ht):ht()}else Ue()},W=(se,fe)=>{let ye;for(;se!==fe;)ye=q(se),h(se),se=ye;h(fe)},le=(se,fe,ye)=>{const{bum:Ie,scope:ke,update:Ue,subTree:st,um:it}=se;Ie&&q0(Ie),ke.stop(),Ue&&(Ue.active=!1,Me(st,se,fe,ye)),it&&ca(it,fe),ca(()=>{se.isUnmounted=!0},fe),fe&&fe.pendingBranch&&!fe.isUnmounted&&se.asyncDep&&!se.asyncResolved&&se.suspenseId===fe.pendingId&&(fe.deps--,fe.deps===0&&fe.resolve())},ue=(se,fe,ye,Ie=!1,ke=!1,Ue=0)=>{for(let st=Ue;st<se.length;st++)Me(se[st],fe,ye,Ie,ke)},xe=se=>se.shapeFlag&6?xe(se.component.subTree):se.shapeFlag&128?se.suspense.next():q(se.anchor||se.el),Le=(se,fe,ye)=>{se==null?fe._vnode&&Me(fe._vnode,null,null,!0):U(fe._vnode||null,se,fe,null,null,null,ye),cT(),ex(),fe._vnode=se},oe={p:U,um:Me,m:pe,r:Pe,mt:_,mc:Y,pc:ee,pbc:V,n:xe,o:e};let ve,_e;return i&&([ve,_e]=i(oe)),{render:Le,hydrate:ve,createApp:Sk(Le,ve)}}function af({effect:e,update:i},s){e.allowRecurse=i.allowRecurse=s}function T3(e,i,s=!1){const l=e.children,h=i.children;if(sn(l)&&sn(h))for(let u=0;u<l.length;u++){const y=l[u];let n=h[u];n.shapeFlag&1&&!n.dynamicChildren&&((n.patchFlag<=0||n.patchFlag===32)&&(n=h[u]=Wu(h[u]),n.el=y.el),s||T3(y,n)),n.type===op&&(n.el=y.el)}}function Mk(e){const i=e.slice(),s=[0];let l,h,u,y,n;const w=e.length;for(l=0;l<w;l++){const z=e[l];if(z!==0){if(h=s[s.length-1],e[h]<z){i[l]=h,s.push(l);continue}for(u=0,y=s.length-1;u<y;)n=u+y>>1,e[s[n]]<z?u=n+1:y=n;z<e[s[u]]&&(u>0&&(i[l]=s[u-1]),s[u]=l)}}for(u=s.length,y=s[u-1];u-- >0;)s[u]=y,y=i[y];return s}const Ck=e=>e.__isTeleport,l1=e=>e&&(e.disabled||e.disabled===""),vT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,aw=(e,i)=>{const s=e&&e.to;return tr(s)?i?i(s):null:s},Ak={__isTeleport:!0,process(e,i,s,l,h,u,y,n,w,z){const{mc:ie,pc:G,pbc:q,o:{insert:Z,querySelector:F,createText:U,createComment:re}}=z,R=l1(i.props);let{shapeFlag:D,children:N,dynamicChildren:$}=i;if(e==null){const j=i.el=U(""),S=i.anchor=U("");Z(j,s,l),Z(S,s,l);const te=i.target=aw(i.props,F),Y=i.targetAnchor=U("");te&&(Z(Y,te),y=y||vT(te));const I=(V,X)=>{D&16&&ie(N,V,X,h,u,y,n,w)};R?I(s,S):te&&I(te,Y)}else{i.el=e.el;const j=i.anchor=e.anchor,S=i.target=e.target,te=i.targetAnchor=e.targetAnchor,Y=l1(e.props),I=Y?s:S,V=Y?j:te;if(y=y||vT(S),$?(q(e.dynamicChildren,$,I,h,u,y,n),T3(e,i,!0)):w||G(e,i,I,V,h,u,y,n,!1),R)Y||Ey(i,s,j,z,1);else if((i.props&&i.props.to)!==(e.props&&e.props.to)){const X=i.target=aw(i.props,F);X&&Ey(i,X,null,z,0)}else Y&&Ey(i,S,te,z,1)}i8(i)},remove(e,i,s,l,{um:h,o:{remove:u}},y){const{shapeFlag:n,children:w,anchor:z,targetAnchor:ie,target:G,props:q}=e;if(G&&u(ie),(y||!l1(q))&&(u(z),n&16))for(let Z=0;Z<w.length;Z++){const F=w[Z];h(F,i,s,!0,!!F.dynamicChildren)}},move:Ey,hydrate:kk};function Ey(e,i,s,{o:{insert:l},m:h},u=2){u===0&&l(e.targetAnchor,i,s);const{el:y,anchor:n,shapeFlag:w,children:z,props:ie}=e,G=u===2;if(G&&l(y,i,s),(!G||l1(ie))&&w&16)for(let q=0;q<z.length;q++)h(z[q],i,s,2);G&&l(n,i,s)}function kk(e,i,s,l,h,u,{o:{nextSibling:y,parentNode:n,querySelector:w}},z){const ie=i.target=aw(i.props,w);if(ie){const G=ie._lpa||ie.firstChild;if(i.shapeFlag&16)if(l1(i.props))i.anchor=z(y(e),i,n(e),s,l,h,u),i.targetAnchor=G;else{i.anchor=y(e);let q=G;for(;q;)if(q=y(q),q&&q.nodeType===8&&q.data==="teleport anchor"){i.targetAnchor=q,ie._lpa=i.targetAnchor&&y(i.targetAnchor);break}z(G,i,ie,s,l,h,u)}i8(i)}return i.anchor&&y(i.anchor)}const t8=Ak;function i8(e){const i=e.ctx;if(i&&i.ut){let s=e.children[0].el;for(;s!==e.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",i.uid),s=s.nextSibling;i.ut()}}const Xr=Symbol(void 0),op=Symbol(void 0),da=Symbol(void 0),Ju=Symbol(void 0),c1=[];let _l=null;function nn(e=!1){c1.push(_l=e?null:[])}function n8(){c1.pop(),_l=c1[c1.length-1]||null}let Af=1;function nx(e){Af+=e}function r8(e){return e.dynamicChildren=Af>0?_l||X0:null,n8(),Af>0&&_l&&_l.push(e),e}function mn(e,i,s,l,h,u){return r8(Vt(e,i,s,l,h,u,!0))}function Xd(e,i,s,l,h){return r8(wn(e,i,s,l,h,!0))}function Yd(e){return e?e.__v_isVNode===!0:!1}function $h(e,i){return e.type===i.type&&e.key===i.key}function s8(e){}const Qx="__vInternal",o8=({key:e})=>e??null,Uy=({ref:e,ref_key:i,ref_for:s})=>e!=null?tr(e)||Lo(e)||Hn(e)?{i:ha,r:e,k:i,f:!!s}:e:null;function Vt(e,i=null,s=null,l=0,h=null,u=e===Xr?0:1,y=!1,n=!1){const w={__v_isVNode:!0,__v_skip:!0,type:e,props:i,key:i&&o8(i),ref:i&&Uy(i),scopeId:Xx,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:l,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:ha};return n?(S3(w,s),u&128&&e.normalize(w)):s&&(w.shapeFlag|=tr(s)?8:16),Af>0&&!y&&_l&&(w.patchFlag>0||u&6)&&w.patchFlag!==32&&_l.push(w),w}const wn=Pk;function Pk(e,i=null,s=null,l=0,h=null,u=!1){if((!e||e===GE)&&(e=da),Yd(e)){const n=hh(e,i,!0);return s&&S3(n,s),Af>0&&!u&&_l&&(n.shapeFlag&6?_l[_l.indexOf(e)]=n:_l.push(n)),n.patchFlag|=-2,n}if(Rk(e)&&(e=e.__vccOpts),i){i=b1(i);let{class:n,style:w}=i;n&&!tr(n)&&(i.class=ic(n)),os(w)&&(jx(w)&&!sn(w)&&(w=Yr({},w)),i.style=fm(w))}const y=tr(e)?1:IE(e)?128:Ck(e)?64:os(e)?4:Hn(e)?2:0;return Vt(e,i,s,l,h,y,u,!0)}function b1(e){return e?jx(e)||Qx in e?Yr({},e):e:null}function hh(e,i,s=!1){const{props:l,ref:h,patchFlag:u,children:y}=e,n=i?ev(l||{},i):l;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:n,key:n&&o8(n),ref:i&&i.ref?s&&h?sn(h)?h.concat(Uy(i)):[h,Uy(i)]:Uy(i):h,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:y,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:i&&e.type!==Xr?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hh(e.ssContent),ssFallback:e.ssFallback&&hh(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function qd(e=" ",i=0){return wn(op,null,e,i)}function wm(e,i){const s=wn(Ju,null,e);return s.staticCount=i,s}function fs(e="",i=!1){return i?(nn(),Xd(da,null,e)):wn(da,null,e)}function Ql(e){return e==null||typeof e=="boolean"?wn(da):sn(e)?wn(Xr,null,e.slice()):typeof e=="object"?Wu(e):wn(op,null,String(e))}function Wu(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:hh(e)}function S3(e,i){let s=0;const{shapeFlag:l}=e;if(i==null)i=null;else if(sn(i))s=16;else if(typeof i=="object")if(l&65){const h=i.default;h&&(h._c&&(h._d=!1),S3(e,h()),h._c&&(h._d=!0));return}else{s=32;const h=i._;!h&&!(Qx in i)?i._ctx=ha:h===3&&ha&&(ha.slots._===1?i._=1:(i._=2,e.patchFlag|=1024))}else Hn(i)?(i={default:i,_ctx:ha},s=32):(i=String(i),l&64?(s=16,i=[qd(i)]):s=8);e.children=i,e.shapeFlag|=s}function ev(...e){const i={};for(let s=0;s<e.length;s++){const l=e[s];for(const h in l)if(h==="class")i.class!==l.class&&(i.class=ic([i.class,l.class]));else if(h==="style")i.style=fm([i.style,l.style]);else if(If(h)){const u=i[h],y=l[h];y&&u!==y&&!(sn(u)&&u.includes(y))&&(i[h]=u?[].concat(u,y):y)}else h!==""&&(i[h]=l[h])}return i}function ml(e,i,s,l=null){xl(e,i,7,[s,l])}const Dk=QE();let Ik=0;function a8(e,i,s){const l=e.type,h=(i?i.appContext:e.appContext)||Dk,u={uid:Ik++,vnode:e,type:l,parent:i,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ox(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(h.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qE(l,h),emitsOptions:PE(l,h),emit:null,emitted:null,propsDefaults:is,inheritAttrs:l.inheritAttrs,ctx:is,data:is,props:is,attrs:is,slots:is,refs:is,setupState:is,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=i?i.root:u,u.emit=KA.bind(null,u),e.ce&&e.ce(u),u}let Io=null;const Qd=()=>Io||ha,ap=e=>{Io=e,e.scope.on()},Qu=()=>{Io&&Io.scope.off(),Io=null};function l8(e){return e.vnode.shapeFlag&4}let om=!1;function c8(e,i=!1){om=i;const{props:s,children:l}=e.vnode,h=l8(e);yk(e,s,h,i),bk(e,l);const u=h?Lk(e,i):void 0;return om=!1,u}function Lk(e,i){const s=e.type;e.accessCache=Object.create(null),e.proxy=Ux(new Proxy(e.ctx,nw));const{setup:l}=s;if(l){const h=e.setupContext=l.length>1?u8(e):null;ap(e),gm();const u=Kh(l,e,0,[e.props,h]);if(_m(),Qu(),Zw(u)){if(u.then(Qu,Qu),i)return u.then(y=>{lw(e,y,i)}).catch(y=>{up(y,e,0)});e.asyncDep=u}else lw(e,u,i)}else d8(e,i)}function lw(e,i,s){Hn(i)?e.type.__ssrInlineRender?e.ssrRender=i:e.render=i:os(i)&&(e.setupState=Vx(i)),d8(e,s)}let rx,cw;function E3(e){rx=e,cw=i=>{i.render._rc&&(i.withProxy=new Proxy(i.ctx,uk))}}const h8=()=>!rx;function d8(e,i,s){const l=e.type;if(!e.render){if(!i&&rx&&!l.render){const h=l.template||x3(e).template;if(h){const{isCustomElement:u,compilerOptions:y}=e.appContext.config,{delimiters:n,compilerOptions:w}=l,z=Yr(Yr({isCustomElement:u,delimiters:n},y),w);l.render=rx(h,z)}}e.render=l.render||$a,cw&&cw(e)}ap(e),gm(),pk(e),_m(),Qu()}function Ok(e){return new Proxy(e.attrs,{get(i,s){return sc(e,"get","$attrs"),i[s]}})}function u8(e){const i=l=>{e.exposed=l||{}};let s;return{get attrs(){return s||(s=Ok(e))},slots:e.slots,emit:e.emit,expose:i}}function tv(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Vx(Ux(e.exposed)),{get(i,s){if(s in i)return i[s];if(s in a1)return a1[s](e)},has(i,s){return s in i||s in a1}}))}function hw(e,i=!0){return Hn(e)?e.displayName||e.name:e.name||i&&e.__name}function Rk(e){return Hn(e)&&"__vccOpts"in e}const Tm=(e,i)=>$A(e,i,om);function p8(){return null}function f8(){return null}function m8(e){}function g8(e,i){return null}function _8(){return y8().slots}function M3(){return y8().attrs}function y8(){const e=Qd();return e.setupContext||(e.setupContext=u8(e))}function x8(e,i){const s=sn(e)?e.reduce((l,h)=>(l[h]={},l),{}):e;for(const l in i){const h=s[l];h?sn(h)||Hn(h)?s[l]={type:h,default:i[l]}:h.default=i[l]:h===null&&(s[l]={default:i[l]})}return s}function v8(e,i){const s={};for(const l in e)i.includes(l)||Object.defineProperty(s,l,{enumerable:!0,get:()=>e[l]});return s}function b8(e){const i=Qd();let s=e();return Qu(),Zw(s)&&(s=s.catch(l=>{throw ap(i),l})),[s,()=>ap(i)]}function gl(e,i,s){const l=arguments.length;return l===2?os(i)&&!sn(i)?Yd(i)?wn(e,null,[i]):wn(e,i):wn(e,null,i):(l>3?s=Array.prototype.slice.call(arguments,2):l===3&&Yd(s)&&(s=[s]),wn(e,i,s))}const C3=Symbol(""),A3=()=>wf(C3);function w8(){}function T8(e,i,s,l){const h=s[l];if(h&&k3(h,e))return h;const u=i();return u.memo=e.slice(),s[l]=u}function k3(e,i){const s=e.memo;if(s.length!=i.length)return!1;for(let l=0;l<s.length;l++)if(rm(s[l],i[l]))return!1;return Af>0&&_l&&_l.push(e),!0}const P3="3.2.45",zk={createComponentInstance:a8,setupComponent:c8,renderComponentRoot:jy,setCurrentRenderingInstance:x1,isVNode:Yd,normalizeVNode:Ql},S8=zk,E8=null,M8=null,Bk="http://www.w3.org/2000/svg",mf=typeof document<"u"?document:null,bT=mf&&mf.createElement("template"),Fk={insert:(e,i,s)=>{i.insertBefore(e,s||null)},remove:e=>{const i=e.parentNode;i&&i.removeChild(e)},createElement:(e,i,s,l)=>{const h=i?mf.createElementNS(Bk,e):mf.createElement(e,s?{is:s}:void 0);return e==="select"&&l&&l.multiple!=null&&h.setAttribute("multiple",l.multiple),h},createText:e=>mf.createTextNode(e),createComment:e=>mf.createComment(e),setText:(e,i)=>{e.nodeValue=i},setElementText:(e,i)=>{e.textContent=i},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mf.querySelector(e),setScopeId(e,i){e.setAttribute(i,"")},insertStaticContent(e,i,s,l,h,u){const y=s?s.previousSibling:i.lastChild;if(h&&(h===u||h.nextSibling))for(;i.insertBefore(h.cloneNode(!0),s),!(h===u||!(h=h.nextSibling)););else{bT.innerHTML=l?`<svg>${e}</svg>`:e;const n=bT.content;if(l){const w=n.firstChild;for(;w.firstChild;)n.appendChild(w.firstChild);n.removeChild(w)}i.insertBefore(n,s)}return[y?y.nextSibling:i.firstChild,s?s.previousSibling:i.lastChild]}};function Nk(e,i,s){const l=e._vtc;l&&(i=(i?[i,...l]:[...l]).join(" ")),i==null?e.removeAttribute("class"):s?e.setAttribute("class",i):e.className=i}function jk(e,i,s){const l=e.style,h=tr(s);if(s&&!h){for(const u in s)dw(l,u,s[u]);if(i&&!tr(i))for(const u in i)s[u]==null&&dw(l,u,"")}else{const u=l.display;h?i!==s&&(l.cssText=s):i&&e.removeAttribute("style"),"_vod"in e&&(l.display=u)}}const wT=/\s*!important$/;function dw(e,i,s){if(sn(s))s.forEach(l=>dw(e,i,l));else if(s==null&&(s=""),i.startsWith("--"))e.setProperty(i,s);else{const l=Uk(e,i);wT.test(s)?e.setProperty(tc(l),s.replace(wT,""),"important"):e[l]=s}}const TT=["Webkit","Moz","ms"],wb={};function Uk(e,i){const s=wb[i];if(s)return s;let l=Jo(i);if(l!=="filter"&&l in e)return wb[i]=l;l=dp(l);for(let h=0;h<TT.length;h++){const u=TT[h]+l;if(u in e)return wb[i]=u}return i}const ST="http://www.w3.org/1999/xlink";function Gk(e,i,s,l,h){if(l&&i.startsWith("xlink:"))s==null?e.removeAttributeNS(ST,i.slice(6,i.length)):e.setAttributeNS(ST,i,s);else{const u=oA(i);s==null||u&&!KS(s)?e.removeAttribute(i):e.setAttribute(i,u?"":s)}}function Vk(e,i,s,l,h,u,y){if(i==="innerHTML"||i==="textContent"){l&&y(l,h,u),e[i]=s??"";return}if(i==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const w=s??"";(e.value!==w||e.tagName==="OPTION")&&(e.value=w),s==null&&e.removeAttribute(i);return}let n=!1;if(s===""||s==null){const w=typeof e[i];w==="boolean"?s=KS(s):s==null&&w==="string"?(s="",n=!0):w==="number"&&(s=0,n=!0)}try{e[i]=s}catch{}n&&e.removeAttribute(i)}function Nd(e,i,s,l){e.addEventListener(i,s,l)}function Wk(e,i,s,l){e.removeEventListener(i,s,l)}function Hk(e,i,s,l,h=null){const u=e._vei||(e._vei={}),y=u[i];if(l&&y)y.value=l;else{const[n,w]=$k(i);if(l){const z=u[i]=qk(l,h);Nd(e,n,z,w)}else y&&(Wk(e,n,y,w),u[i]=void 0)}}const ET=/(?:Once|Passive|Capture)$/;function $k(e){let i;if(ET.test(e)){i={};let l;for(;l=e.match(ET);)e=e.slice(0,e.length-l[0].length),i[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):tc(e.slice(2)),i]}let Tb=0;const Xk=Promise.resolve(),Yk=()=>Tb||(Xk.then(()=>Tb=0),Tb=Date.now());function qk(e,i){const s=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=s.attached)return;xl(Zk(l,s.value),i,5,[l])};return s.value=e,s.attached=Yk(),s}function Zk(e,i){if(sn(i)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},i.map(l=>h=>!h._stopped&&l&&l(h))}else return i}const MT=/^on[a-z]/,Kk=(e,i,s,l,h=!1,u,y,n,w)=>{i==="class"?Nk(e,l,h):i==="style"?jk(e,s,l):If(i)?Yw(i)||Hk(e,i,s,l,y):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):Jk(e,i,l,h))?Vk(e,i,l,u,y,n,w):(i==="true-value"?e._trueValue=l:i==="false-value"&&(e._falseValue=l),Gk(e,i,l,h))};function Jk(e,i,s,l){return l?!!(i==="innerHTML"||i==="textContent"||i in e&&MT.test(i)&&Hn(s)):i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&e.tagName==="INPUT"||i==="type"&&e.tagName==="TEXTAREA"||MT.test(i)&&tr(s)?!1:i in e}function D3(e,i){const s=Zx(e);class l extends N1{constructor(u){super(s,u,i)}}return l.def=s,l}const C8=e=>D3(e,O3),Qk=typeof HTMLElement<"u"?HTMLElement:class{};class N1 extends Qk{constructor(i,s={},l){super(),this._def=i,this._props=s,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&l?l(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,ym(()=>{this._connected||(sx(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let l=0;l<this.attributes.length;l++)this._setAttr(this.attributes[l].name);new MutationObserver(l=>{for(const h of l)this._setAttr(h.attributeName)}).observe(this,{attributes:!0});const i=(l,h=!1)=>{const{props:u,styles:y}=l;let n;if(u&&!sn(u))for(const w in u){const z=u[w];(z===Number||z&&z.type===Number)&&(w in this._props&&(this._props[w]=Hd(this._props[w])),(n||(n=Object.create(null)))[Jo(w)]=!0)}this._numberProps=n,h&&this._resolveProps(l),this._applyStyles(y),this._update()},s=this._def.__asyncLoader;s?s().then(l=>i(l,!0)):i(this._def)}_resolveProps(i){const{props:s}=i,l=sn(s)?s:Object.keys(s||{});for(const h of Object.keys(this))h[0]!=="_"&&l.includes(h)&&this._setProp(h,this[h],!0,!1);for(const h of l.map(Jo))Object.defineProperty(this,h,{get(){return this._getProp(h)},set(u){this._setProp(h,u)}})}_setAttr(i){let s=this.getAttribute(i);const l=Jo(i);this._numberProps&&this._numberProps[l]&&(s=Hd(s)),this._setProp(l,s,!1)}_getProp(i){return this._props[i]}_setProp(i,s,l=!0,h=!0){s!==this._props[i]&&(this._props[i]=s,h&&this._instance&&this._update(),l&&(s===!0?this.setAttribute(tc(i),""):typeof s=="string"||typeof s=="number"?this.setAttribute(tc(i),s+""):s||this.removeAttribute(tc(i))))}_update(){sx(this._createVNode(),this.shadowRoot)}_createVNode(){const i=wn(this._def,Yr({},this._props));return this._instance||(i.ce=s=>{this._instance=s,s.isCE=!0;const l=(u,y)=>{this.dispatchEvent(new CustomEvent(u,{detail:y}))};s.emit=(u,...y)=>{l(u,y),tc(u)!==u&&l(tc(u),y)};let h=this;for(;h=h&&(h.parentNode||h.host);)if(h instanceof N1){s.parent=h._instance,s.provides=h._instance.provides;break}}),i}_applyStyles(i){i&&i.forEach(s=>{const l=document.createElement("style");l.textContent=s,this.shadowRoot.appendChild(l)})}}function A8(e="$style"){{const i=Qd();if(!i)return is;const s=i.type.__cssModules;if(!s)return is;const l=s[e];return l||is}}function k8(e){const i=Qd();if(!i)return;const s=i.ut=(h=e(i.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${i.uid}"]`)).forEach(u=>pw(u,h))},l=()=>{const h=e(i.proxy);uw(i.subTree,h),s(h)};l3(l),Qh(()=>{const h=new MutationObserver(l);h.observe(i.subTree.el.parentNode,{childList:!0}),zf(()=>h.disconnect())})}function uw(e,i){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{uw(s.activeBranch,i)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)pw(e.el,i);else if(e.type===Xr)e.children.forEach(s=>uw(s,i));else if(e.type===Ju){let{el:s,anchor:l}=e;for(;s&&(pw(s,i),s!==l);)s=s.nextSibling}}function pw(e,i){if(e.nodeType===1){const s=e.style;for(const l in i)s.setProperty(`--${l}`,i[l])}}const Uu="transition",e1="animation",j1=(e,{slots:i})=>gl(qx,D8(e),i);j1.displayName="Transition";const P8={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},eP=j1.props=Yr({},qx.props,P8),lf=(e,i=[])=>{sn(e)?e.forEach(s=>s(...i)):e&&e(...i)},CT=e=>e?sn(e)?e.some(i=>i.length>1):e.length>1:!1;function D8(e){const i={};for(const P in e)P in P8||(i[P]=e[P]);if(e.css===!1)return i;const{name:s="v",type:l,duration:h,enterFromClass:u=`${s}-enter-from`,enterActiveClass:y=`${s}-enter-active`,enterToClass:n=`${s}-enter-to`,appearFromClass:w=u,appearActiveClass:z=y,appearToClass:ie=n,leaveFromClass:G=`${s}-leave-from`,leaveActiveClass:q=`${s}-leave-active`,leaveToClass:Z=`${s}-leave-to`}=e,F=tP(h),U=F&&F[0],re=F&&F[1],{onBeforeEnter:R,onEnter:D,onEnterCancelled:N,onLeave:$,onLeaveCancelled:j,onBeforeAppear:S=R,onAppear:te=D,onAppearCancelled:Y=N}=i,I=(P,L,_)=>{Vu(P,L?ie:n),Vu(P,L?z:y),_&&_()},V=(P,L)=>{P._isLeaving=!1,Vu(P,G),Vu(P,Z),Vu(P,q),L&&L()},X=P=>(L,_)=>{const v=P?te:D,M=()=>I(L,P,_);lf(v,[L,M]),AT(()=>{Vu(L,P?w:u),zd(L,P?ie:n),CT(v)||kT(L,l,U,M)})};return Yr(i,{onBeforeEnter(P){lf(R,[P]),zd(P,u),zd(P,y)},onBeforeAppear(P){lf(S,[P]),zd(P,w),zd(P,z)},onEnter:X(!1),onAppear:X(!0),onLeave(P,L){P._isLeaving=!0;const _=()=>V(P,L);zd(P,G),L8(),zd(P,q),AT(()=>{P._isLeaving&&(Vu(P,G),zd(P,Z),CT($)||kT(P,l,re,_))}),lf($,[P,_])},onEnterCancelled(P){I(P,!1),lf(N,[P])},onAppearCancelled(P){I(P,!0),lf(Y,[P])},onLeaveCancelled(P){V(P),lf(j,[P])}})}function tP(e){if(e==null)return null;if(os(e))return[Sb(e.enter),Sb(e.leave)];{const i=Sb(e);return[i,i]}}function Sb(e){return Hd(e)}function zd(e,i){i.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(i)}function Vu(e,i){i.split(/\s+/).forEach(l=>l&&e.classList.remove(l));const{_vtc:s}=e;s&&(s.delete(i),s.size||(e._vtc=void 0))}function AT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let iP=0;function kT(e,i,s,l){const h=e._endId=++iP,u=()=>{h===e._endId&&l()};if(s)return setTimeout(u,s);const{type:y,timeout:n,propCount:w}=I8(e,i);if(!y)return l();const z=y+"end";let ie=0;const G=()=>{e.removeEventListener(z,q),u()},q=Z=>{Z.target===e&&++ie>=w&&G()};setTimeout(()=>{ie<w&&G()},n+1),e.addEventListener(z,q)}function I8(e,i){const s=window.getComputedStyle(e),l=F=>(s[F]||"").split(", "),h=l(`${Uu}Delay`),u=l(`${Uu}Duration`),y=PT(h,u),n=l(`${e1}Delay`),w=l(`${e1}Duration`),z=PT(n,w);let ie=null,G=0,q=0;i===Uu?y>0&&(ie=Uu,G=y,q=u.length):i===e1?z>0&&(ie=e1,G=z,q=w.length):(G=Math.max(y,z),ie=G>0?y>z?Uu:e1:null,q=ie?ie===Uu?u.length:w.length:0);const Z=ie===Uu&&/\b(transform|all)(,|$)/.test(l(`${Uu}Property`).toString());return{type:ie,timeout:G,propCount:q,hasTransform:Z}}function PT(e,i){for(;e.length<i.length;)e=e.concat(e);return Math.max(...i.map((s,l)=>DT(s)+DT(e[l])))}function DT(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function L8(){return document.body.offsetHeight}const O8=new WeakMap,R8=new WeakMap,nP={name:"TransitionGroup",props:Yr({},eP,{tag:String,moveClass:String}),setup(e,{slots:i}){const s=Qd(),l=Yx();let h,u;return Of(()=>{if(!h.length)return;const y=e.moveClass||`${e.name||"v"}-move`;if(!aP(h[0].el,s.vnode.el,y))return;h.forEach(rP),h.forEach(sP);const n=h.filter(oP);L8(),n.forEach(w=>{const z=w.el,ie=z.style;zd(z,y),ie.transform=ie.webkitTransform=ie.transitionDuration="";const G=z._moveCb=q=>{q&&q.target!==z||(!q||/transform$/.test(q.propertyName))&&(z.removeEventListener("transitionend",G),z._moveCb=null,Vu(z,y))};z.addEventListener("transitionend",G)})}),()=>{const y=Dr(e),n=D8(y);let w=y.tag||Xr;h=u,u=i.default?B1(i.default()):[];for(let z=0;z<u.length;z++){const ie=u[z];ie.key!=null&&sp(ie,Cf(ie,n,l,s))}if(h)for(let z=0;z<h.length;z++){const ie=h[z];sp(ie,Cf(ie,n,l,s)),O8.set(ie,ie.el.getBoundingClientRect())}return wn(w,null,u)}}},z8=nP;function rP(e){const i=e.el;i._moveCb&&i._moveCb(),i._enterCb&&i._enterCb()}function sP(e){R8.set(e,e.el.getBoundingClientRect())}function oP(e){const i=O8.get(e),s=R8.get(e),l=i.left-s.left,h=i.top-s.top;if(l||h){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${l}px,${h}px)`,u.transitionDuration="0s",e}}function aP(e,i,s){const l=e.cloneNode();e._vtc&&e._vtc.forEach(y=>{y.split(/\s+/).forEach(n=>n&&l.classList.remove(n))}),s.split(/\s+/).forEach(y=>y&&l.classList.add(y)),l.style.display="none";const h=i.nodeType===1?i:i.parentNode;h.appendChild(l);const{hasTransform:u}=I8(l);return h.removeChild(l),u}const lp=e=>{const i=e.props["onUpdate:modelValue"]||!1;return sn(i)?s=>q0(i,s):i};function lP(e){e.target.composing=!0}function IT(e){const i=e.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const kf={created(e,{modifiers:{lazy:i,trim:s,number:l}},h){e._assign=lp(h);const u=l||h.props&&h.props.type==="number";Nd(e,i?"change":"input",y=>{if(y.target.composing)return;let n=e.value;s&&(n=n.trim()),u&&(n=Hd(n)),e._assign(n)}),s&&Nd(e,"change",()=>{e.value=e.value.trim()}),i||(Nd(e,"compositionstart",lP),Nd(e,"compositionend",IT),Nd(e,"change",IT))},mounted(e,{value:i}){e.value=i??""},beforeUpdate(e,{value:i,modifiers:{lazy:s,trim:l,number:h}},u){if(e._assign=lp(u),e.composing||document.activeElement===e&&e.type!=="range"&&(s||l&&e.value.trim()===i||(h||e.type==="number")&&Hd(e.value)===i))return;const y=i??"";e.value!==y&&(e.value=y)}},iv={deep:!0,created(e,i,s){e._assign=lp(s),Nd(e,"change",()=>{const l=e._modelValue,h=am(e),u=e.checked,y=e._assign;if(sn(l)){const n=Ix(l,h),w=n!==-1;if(u&&!w)y(l.concat(h));else if(!u&&w){const z=[...l];z.splice(n,1),y(z)}}else if(Lf(l)){const n=new Set(l);u?n.add(h):n.delete(h),y(n)}else y(B8(e,u))})},mounted:LT,beforeUpdate(e,i,s){e._assign=lp(s),LT(e,i,s)}};function LT(e,{value:i,oldValue:s},l){e._modelValue=i,sn(i)?e.checked=Ix(i,l.props.value)>-1:Lf(i)?e.checked=i.has(l.props.value):i!==s&&(e.checked=tp(i,B8(e,!0)))}const nv={created(e,{value:i},s){e.checked=tp(i,s.props.value),e._assign=lp(s),Nd(e,"change",()=>{e._assign(am(e))})},beforeUpdate(e,{value:i,oldValue:s},l){e._assign=lp(l),i!==s&&(e.checked=tp(i,l.props.value))}},Hu={deep:!0,created(e,{value:i,modifiers:{number:s}},l){const h=Lf(i);Nd(e,"change",()=>{const u=Array.prototype.filter.call(e.options,y=>y.selected).map(y=>s?Hd(am(y)):am(y));e._assign(e.multiple?h?new Set(u):u:u[0])}),e._assign=lp(l)},mounted(e,{value:i}){OT(e,i)},beforeUpdate(e,i,s){e._assign=lp(s)},updated(e,{value:i}){OT(e,i)}};function OT(e,i){const s=e.multiple;if(!(s&&!sn(i)&&!Lf(i))){for(let l=0,h=e.options.length;l<h;l++){const u=e.options[l],y=am(u);if(s)sn(i)?u.selected=Ix(i,y)>-1:u.selected=i.has(y);else if(tp(am(u),i)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function am(e){return"_value"in e?e._value:e.value}function B8(e,i){const s=i?"_trueValue":"_falseValue";return s in e?e[s]:i}const I3={created(e,i,s){My(e,i,s,null,"created")},mounted(e,i,s){My(e,i,s,null,"mounted")},beforeUpdate(e,i,s,l){My(e,i,s,l,"beforeUpdate")},updated(e,i,s,l){My(e,i,s,l,"updated")}};function F8(e,i){switch(e){case"SELECT":return Hu;case"TEXTAREA":return kf;default:switch(i){case"checkbox":return iv;case"radio":return nv;default:return kf}}}function My(e,i,s,l,h){const y=F8(e.tagName,s.props&&s.props.type)[h];y&&y(e,i,s,l)}function cP(){kf.getSSRProps=({value:e})=>({value:e}),nv.getSSRProps=({value:e},i)=>{if(i.props&&tp(i.props.value,e))return{checked:!0}},iv.getSSRProps=({value:e},i)=>{if(sn(e)){if(i.props&&Ix(e,i.props.value)>-1)return{checked:!0}}else if(Lf(e)){if(i.props&&e.has(i.props.value))return{checked:!0}}else if(e)return{checked:!0}},I3.getSSRProps=(e,i)=>{if(typeof i.type!="string")return;const s=F8(i.type.toUpperCase(),i.props&&i.props.type);if(s.getSSRProps)return s.getSSRProps(e,i)}}const hP=["ctrl","shift","alt","meta"],dP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,i)=>hP.some(s=>e[`${s}Key`]&&!i.includes(s))},N8=(e,i)=>(s,...l)=>{for(let h=0;h<i.length;h++){const u=dP[i[h]];if(u&&u(s,i))return}return e(s,...l)},uP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},j8=(e,i)=>s=>{if(!("key"in s))return;const l=tc(s.key);if(i.some(h=>h===l||uP[h]===l))return e(s)},L3={beforeMount(e,{value:i},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&i?s.beforeEnter(e):t1(e,i)},mounted(e,{value:i},{transition:s}){s&&i&&s.enter(e)},updated(e,{value:i,oldValue:s},{transition:l}){!i!=!s&&(l?i?(l.beforeEnter(e),t1(e,!0),l.enter(e)):l.leave(e,()=>{t1(e,!1)}):t1(e,i))},beforeUnmount(e,{value:i}){t1(e,i)}};function t1(e,i){e.style.display=i?e._vod:"none"}function pP(){L3.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const U8=Yr({patchProp:Kk},Fk);let h1,RT=!1;function G8(){return h1||(h1=b3(U8))}function V8(){return h1=RT?h1:w3(U8),RT=!0,h1}const sx=(...e)=>{G8().render(...e)},O3=(...e)=>{V8().hydrate(...e)},R3=(...e)=>{const i=G8().createApp(...e),{mount:s}=i;return i.mount=l=>{const h=H8(l);if(!h)return;const u=i._component;!Hn(u)&&!u.render&&!u.template&&(u.template=h.innerHTML),h.innerHTML="";const y=s(h,!1,h instanceof SVGElement);return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),y},i},W8=(...e)=>{const i=V8().createApp(...e),{mount:s}=i;return i.mount=l=>{const h=H8(l);if(h)return s(h,!0,h instanceof SVGElement)},i};function H8(e){return tr(e)?document.querySelector(e):e}let zT=!1;const $8=()=>{zT||(zT=!0,cP(),pP())},fP=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:qx,Comment:da,EffectScope:Ox,Fragment:Xr,KeepAlive:jE,ReactiveEffect:mm,Static:Ju,Suspense:LE,Teleport:t8,Text:op,Transition:j1,TransitionGroup:z8,VueElement:N1,callWithAsyncErrorHandling:xl,callWithErrorHandling:Kh,camelize:Jo,capitalize:dp,cloneVNode:hh,compatUtils:M8,computed:Tm,createApp:R3,createBlock:Xd,createCommentVNode:fs,createElementBlock:mn,createElementVNode:Vt,createHydrationRenderer:w3,createPropsRestProxy:v8,createRenderer:b3,createSSRApp:W8,createSlots:WE,createStaticVNode:wm,createTextVNode:qd,createVNode:wn,customRef:TE,defineAsyncComponent:NE,defineComponent:Zx,defineCustomElement:D3,defineEmits:f8,defineExpose:m8,defineProps:p8,defineSSRCustomElement:C8,get devtools(){return ff},effect:aE,effectScope:tE,getCurrentInstance:Qd,getCurrentScope:nE,getTransitionRawChildren:B1,guardReactiveProps:b1,h:gl,handleError:up,hydrate:O3,initCustomFormatter:w8,initDirectivesForSSR:$8,inject:wf,isMemoSame:k3,isProxy:jx,isReactive:Ku,isReadonly:rp,isRef:Lo,isRuntimeOnly:h8,isShallow:sm,isVNode:Yd,markRaw:Ux,mergeDefaults:x8,mergeProps:ev,nextTick:ym,normalizeClass:ic,normalizeProps:Jy,normalizeStyle:fm,onActivated:c3,onBeforeMount:d3,onBeforeUnmount:Rf,onBeforeUpdate:Jx,onDeactivated:h3,onErrorCaptured:m3,onMounted:Qh,onRenderTracked:f3,onRenderTriggered:p3,onScopeDispose:rE,onServerPrefetch:u3,onUnmounted:zf,onUpdated:Of,openBlock:nn,popScopeId:vm,provide:bm,proxyRefs:Vx,pushScopeId:xm,queuePostFlushCb:Hx,reactive:R1,readonly:Fx,ref:$s,registerRuntimeCompiler:E3,render:sx,renderList:nc,renderSlot:oh,resolveComponent:xo,resolveDirective:_3,resolveDynamicComponent:VE,resolveFilter:E8,resolveTransitionHooks:Cf,setBlockTracking:nx,setDevtoolsHook:s3,setTransitionHooks:sp,shallowReactive:e3,shallowReadonly:xE,shallowRef:vE,ssrContextKey:C3,ssrUtils:S8,stop:lE,toDisplayString:xs,toHandlerKey:vf,toHandlers:$E,toRaw:Dr,toRef:n3,toRefs:SE,transformVNodeArgs:s8,triggerRef:wE,unref:_o,useAttrs:M3,useCssModule:A8,useCssVars:k8,useSSRContext:A3,useSlots:_8,useTransitionState:Yx,vModelCheckbox:iv,vModelDynamic:I3,vModelRadio:nv,vModelSelect:Hu,vModelText:kf,vShow:L3,version:P3,warn:ME,watch:Bc,watchEffect:RE,watchPostEffect:l3,watchSyncEffect:zE,withAsyncContext:b8,withCtx:ao,withDefaults:g8,withDirectives:qh,withKeys:j8,withMemo:T8,withModifiers:N8,withScopeId:DE},Symbol.toStringTag,{value:"Module"}));function z3(e){throw e}function X8(e){}function Fs(e,i,s,l){const h=e,u=new SyntaxError(String(h));return u.code=e,u.loc=i,u}const w1=Symbol(""),d1=Symbol(""),B3=Symbol(""),ox=Symbol(""),Y8=Symbol(""),Pf=Symbol(""),q8=Symbol(""),Z8=Symbol(""),F3=Symbol(""),N3=Symbol(""),U1=Symbol(""),j3=Symbol(""),K8=Symbol(""),U3=Symbol(""),ax=Symbol(""),G3=Symbol(""),V3=Symbol(""),W3=Symbol(""),H3=Symbol(""),J8=Symbol(""),Q8=Symbol(""),rv=Symbol(""),lx=Symbol(""),$3=Symbol(""),X3=Symbol(""),T1=Symbol(""),G1=Symbol(""),Y3=Symbol(""),fw=Symbol(""),mP=Symbol(""),mw=Symbol(""),cx=Symbol(""),gP=Symbol(""),_P=Symbol(""),q3=Symbol(""),yP=Symbol(""),xP=Symbol(""),Z3=Symbol(""),eM=Symbol(""),lm={[w1]:"Fragment",[d1]:"Teleport",[B3]:"Suspense",[ox]:"KeepAlive",[Y8]:"BaseTransition",[Pf]:"openBlock",[q8]:"createBlock",[Z8]:"createElementBlock",[F3]:"createVNode",[N3]:"createElementVNode",[U1]:"createCommentVNode",[j3]:"createTextVNode",[K8]:"createStaticVNode",[U3]:"resolveComponent",[ax]:"resolveDynamicComponent",[G3]:"resolveDirective",[V3]:"resolveFilter",[W3]:"withDirectives",[H3]:"renderList",[J8]:"renderSlot",[Q8]:"createSlots",[rv]:"toDisplayString",[lx]:"mergeProps",[$3]:"normalizeClass",[X3]:"normalizeStyle",[T1]:"normalizeProps",[G1]:"guardReactiveProps",[Y3]:"toHandlers",[fw]:"camelize",[mP]:"capitalize",[mw]:"toHandlerKey",[cx]:"setBlockTracking",[gP]:"pushScopeId",[_P]:"popScopeId",[q3]:"withCtx",[yP]:"unref",[xP]:"isRef",[Z3]:"withMemo",[eM]:"isMemoSame"};function vP(e){Object.getOwnPropertySymbols(e).forEach(i=>{lm[i]=e[i]})}const oc={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function bP(e,i=oc){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:i}}function S1(e,i,s,l,h,u,y,n=!1,w=!1,z=!1,ie=oc){return e&&(n?(e.helper(Pf),e.helper(dm(e.inSSR,z))):e.helper(hm(e.inSSR,z)),y&&e.helper(W3)),{type:13,tag:i,props:s,children:l,patchFlag:h,dynamicProps:u,directives:y,isBlock:n,disableTracking:w,isComponent:z,loc:ie}}function V1(e,i=oc){return{type:17,loc:i,elements:e}}function Rc(e,i=oc){return{type:15,loc:i,properties:e}}function Ks(e,i){return{type:16,loc:oc,key:tr(e)?cr(e,!0):e,value:i}}function cr(e,i=!1,s=oc,l=0){return{type:4,loc:s,content:e,isStatic:i,constType:i?3:l}}function ch(e,i=oc){return{type:8,loc:i,children:e}}function yo(e,i=[],s=oc){return{type:14,loc:s,callee:e,arguments:i}}function cm(e,i=void 0,s=!1,l=!1,h=oc){return{type:18,params:e,returns:i,newline:s,isSlot:l,loc:h}}function gw(e,i,s,l=!0){return{type:19,test:e,consequent:i,alternate:s,newline:l,loc:oc}}function wP(e,i,s=!1){return{type:20,index:e,value:i,isVNode:s,loc:oc}}function TP(e){return{type:21,body:e,loc:oc}}const yl=e=>e.type===4&&e.isStatic,H0=(e,i)=>e===i||e===tc(i);function tM(e){if(H0(e,"Teleport"))return d1;if(H0(e,"Suspense"))return B3;if(H0(e,"KeepAlive"))return ox;if(H0(e,"BaseTransition"))return Y8}const SP=/^\d|[^\$\w]/,K3=e=>!SP.test(e),EP=/[A-Za-z_$\xA0-\uFFFF]/,MP=/[\.\?\w$\xA0-\uFFFF]/,CP=/\s+[.[]\s*|\s*[.[]\s+/g,AP=e=>{e=e.trim().replace(CP,y=>y.trim());let i=0,s=[],l=0,h=0,u=null;for(let y=0;y<e.length;y++){const n=e.charAt(y);switch(i){case 0:if(n==="[")s.push(i),i=1,l++;else if(n==="(")s.push(i),i=2,h++;else if(!(y===0?EP:MP).test(n))return!1;break;case 1:n==="'"||n==='"'||n==="`"?(s.push(i),i=3,u=n):n==="["?l++:n==="]"&&(--l||(i=s.pop()));break;case 2:if(n==="'"||n==='"'||n==="`")s.push(i),i=3,u=n;else if(n==="(")h++;else if(n===")"){if(y===e.length-1)return!1;--h||(i=s.pop())}break;case 3:n===u&&(i=s.pop(),u=null);break}}return!l&&!h},iM=AP;function nM(e,i,s){const h={source:e.source.slice(i,i+s),start:hx(e.start,e.source,i),end:e.end};return s!=null&&(h.end=hx(e.start,e.source,i+s)),h}function hx(e,i,s=i.length){return dx(Yr({},e),i,s)}function dx(e,i,s=i.length){let l=0,h=-1;for(let u=0;u<s;u++)i.charCodeAt(u)===10&&(l++,h=u);return e.offset+=s,e.line+=l,e.column=h===-1?e.column+s:s-h,e}function Lc(e,i,s=!1){for(let l=0;l<e.props.length;l++){const h=e.props[l];if(h.type===7&&(s||h.exp)&&(tr(i)?h.name===i:i.test(h.name)))return h}}function sv(e,i,s=!1,l=!1){for(let h=0;h<e.props.length;h++){const u=e.props[h];if(u.type===6){if(s)continue;if(u.name===i&&(u.value||l))return u}else if(u.name==="bind"&&(u.exp||l)&&_f(u.arg,i))return u}}function _f(e,i){return!!(e&&yl(e)&&e.content===i)}function kP(e){return e.props.some(i=>i.type===7&&i.name==="bind"&&(!i.arg||i.arg.type!==4||!i.arg.isStatic))}function Eb(e){return e.type===5||e.type===2}function PP(e){return e.type===7&&e.name==="slot"}function ux(e){return e.type===1&&e.tagType===3}function px(e){return e.type===1&&e.tagType===2}function hm(e,i){return e||i?F3:N3}function dm(e,i){return e||i?q8:Z8}const DP=new Set([T1,G1]);function rM(e,i=[]){if(e&&!tr(e)&&e.type===14){const s=e.callee;if(!tr(s)&&DP.has(s))return rM(e.arguments[0],i.concat(e))}return[e,i]}function fx(e,i,s){let l,h=e.type===13?e.props:e.arguments[2],u=[],y;if(h&&!tr(h)&&h.type===14){const n=rM(h);h=n[0],u=n[1],y=u[u.length-1]}if(h==null||tr(h))l=Rc([i]);else if(h.type===14){const n=h.arguments[0];!tr(n)&&n.type===15?BT(i,n)||n.properties.unshift(i):h.callee===Y3?l=yo(s.helper(lx),[Rc([i]),h]):h.arguments.unshift(Rc([i])),!l&&(l=h)}else h.type===15?(BT(i,h)||h.properties.unshift(i),l=h):(l=yo(s.helper(lx),[Rc([i]),h]),y&&y.callee===G1&&(y=u[u.length-2]));e.type===13?y?y.arguments[0]=l:e.props=l:y?y.arguments[0]=l:e.arguments[2]=l}function BT(e,i){let s=!1;if(e.key.type===4){const l=e.key.content;s=i.properties.some(h=>h.key.type===4&&h.key.content===l)}return s}function E1(e,i){return`_${i}_${e.replace(/[^\w]/g,(s,l)=>s==="-"?"_":e.charCodeAt(l).toString())}`}function IP(e){return e.type===14&&e.callee===Z3?e.arguments[1].returns:e}function J3(e,{helper:i,removeHelper:s,inSSR:l}){e.isBlock||(e.isBlock=!0,s(hm(l,e.isComponent)),i(Pf),i(dm(l,e.isComponent)))}function FT(e,i){const s=i.options?i.options.compatConfig:i.compatConfig,l=s&&s[e];return e==="MODE"?l||3:l}function Sf(e,i){const s=FT("MODE",i),l=FT(e,i);return s===3?l===!0:l!==!1}function M1(e,i,s,...l){return Sf(e,i)}const LP=/&(gt|lt|amp|apos|quot);/g,OP={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},NT={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Ny,isPreTag:Ny,isCustomElement:Ny,decodeEntities:e=>e.replace(LP,(i,s)=>OP[s]),onError:z3,onWarn:X8,comments:!1};function RP(e,i={}){const s=zP(e,i),l=rc(s);return bP(Q3(s,0,[]),Fc(s,l))}function zP(e,i){const s=Yr({},NT);let l;for(l in i)s[l]=i[l]===void 0?NT[l]:i[l];return{options:s,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:s.onWarn}}function Q3(e,i,s){const l=ov(s),h=l?l.ns:0,u=[];for(;!HP(e,i,s);){const n=e.source;let w;if(i===0||i===1){if(!e.inVPre&&Ma(n,e.options.delimiters[0]))w=VP(e,i);else if(i===0&&n[0]==="<")if(n.length===1)ts(e,5,1);else if(n[1]==="!")Ma(n,"<!--")?w=FP(e):Ma(n,"<!DOCTYPE")?w=i1(e):Ma(n,"<![CDATA[")?h!==0?w=BP(e,s):(ts(e,1),w=i1(e)):(ts(e,11),w=i1(e));else if(n[1]==="/")if(n.length===2)ts(e,5,2);else if(n[2]===">"){ts(e,14,2),Ro(e,3);continue}else if(/[a-z]/i.test(n[2])){ts(e,23),_w(e,1,l);continue}else ts(e,12,2),w=i1(e);else/[a-z]/i.test(n[1])?(w=NP(e,s),Sf("COMPILER_NATIVE_TEMPLATE",e)&&w&&w.tag==="template"&&!w.props.some(z=>z.type===7&&sM(z.name))&&(w=w.children)):n[1]==="?"?(ts(e,21,1),w=i1(e)):ts(e,12,1)}if(w||(w=WP(e,i)),sn(w))for(let z=0;z<w.length;z++)jT(u,w[z]);else jT(u,w)}let y=!1;if(i!==2&&i!==1){const n=e.options.whitespace!=="preserve";for(let w=0;w<u.length;w++){const z=u[w];if(z.type===2)if(e.inPre)z.content=z.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(z.content))n&&(z.content=z.content.replace(/[\t\r\n\f ]+/g," "));else{const ie=u[w-1],G=u[w+1];!ie||!G||n&&(ie.type===3&&G.type===3||ie.type===3&&G.type===1||ie.type===1&&G.type===3||ie.type===1&&G.type===1&&/[\r\n]/.test(z.content))?(y=!0,u[w]=null):z.content=" "}else z.type===3&&!e.options.comments&&(y=!0,u[w]=null)}if(e.inPre&&l&&e.options.isPreTag(l.tag)){const w=u[0];w&&w.type===2&&(w.content=w.content.replace(/^\r?\n/,""))}}return y?u.filter(Boolean):u}function jT(e,i){if(i.type===2){const s=ov(e);if(s&&s.type===2&&s.loc.end.offset===i.loc.start.offset){s.content+=i.content,s.loc.end=i.loc.end,s.loc.source+=i.loc.source;return}}e.push(i)}function BP(e,i){Ro(e,9);const s=Q3(e,3,i);return e.source.length===0?ts(e,6):Ro(e,3),s}function FP(e){const i=rc(e);let s;const l=/--(\!)?>/.exec(e.source);if(!l)s=e.source.slice(4),Ro(e,e.source.length),ts(e,7);else{l.index<=3&&ts(e,0),l[1]&&ts(e,10),s=e.source.slice(4,l.index);const h=e.source.slice(0,l.index);let u=1,y=0;for(;(y=h.indexOf("<!--",u))!==-1;)Ro(e,y-u+1),y+4<h.length&&ts(e,16),u=y+1;Ro(e,l.index+l[0].length-u+1)}return{type:3,content:s,loc:Fc(e,i)}}function i1(e){const i=rc(e),s=e.source[1]==="?"?1:2;let l;const h=e.source.indexOf(">");return h===-1?(l=e.source.slice(s),Ro(e,e.source.length)):(l=e.source.slice(s,h),Ro(e,h+1)),{type:3,content:l,loc:Fc(e,i)}}function NP(e,i){const s=e.inPre,l=e.inVPre,h=ov(i),u=_w(e,0,h),y=e.inPre&&!s,n=e.inVPre&&!l;if(u.isSelfClosing||e.options.isVoidTag(u.tag))return y&&(e.inPre=!1),n&&(e.inVPre=!1),u;i.push(u);const w=e.options.getTextMode(u,h),z=Q3(e,w,i);i.pop();{const ie=u.props.find(G=>G.type===6&&G.name==="inline-template");if(ie&&M1("COMPILER_INLINE_TEMPLATE",e,ie.loc)){const G=Fc(e,u.loc.end);ie.value={type:2,content:G.source,loc:G}}}if(u.children=z,yw(e.source,u.tag))_w(e,1,h);else if(ts(e,24,0,u.loc.start),e.source.length===0&&u.tag.toLowerCase()==="script"){const ie=z[0];ie&&Ma(ie.loc.source,"<!--")&&ts(e,8)}return u.loc=Fc(e,u.loc.start),y&&(e.inPre=!1),n&&(e.inVPre=!1),u}const sM=vl("if,else,else-if,for,slot");function _w(e,i,s){const l=rc(e),h=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),u=h[1],y=e.options.getNamespace(u,s);Ro(e,h[0].length),C1(e);const n=rc(e),w=e.source;e.options.isPreTag(u)&&(e.inPre=!0);let z=UT(e,i);i===0&&!e.inVPre&&z.some(q=>q.type===7&&q.name==="pre")&&(e.inVPre=!0,Yr(e,n),e.source=w,z=UT(e,i).filter(q=>q.name!=="v-pre"));let ie=!1;if(e.source.length===0?ts(e,9):(ie=Ma(e.source,"/>"),i===1&&ie&&ts(e,4),Ro(e,ie?2:1)),i===1)return;let G=0;return e.inVPre||(u==="slot"?G=2:u==="template"?z.some(q=>q.type===7&&sM(q.name))&&(G=3):jP(u,z,e)&&(G=1)),{type:1,ns:y,tag:u,tagType:G,props:z,isSelfClosing:ie,children:[],loc:Fc(e,l),codegenNode:void 0}}function jP(e,i,s){const l=s.options;if(l.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||tM(e)||l.isBuiltInComponent&&l.isBuiltInComponent(e)||l.isNativeTag&&!l.isNativeTag(e))return!0;for(let h=0;h<i.length;h++){const u=i[h];if(u.type===6){if(u.name==="is"&&u.value){if(u.value.content.startsWith("vue:"))return!0;if(M1("COMPILER_IS_ON_ELEMENT",s,u.loc))return!0}}else{if(u.name==="is")return!0;if(u.name==="bind"&&_f(u.arg,"is")&&M1("COMPILER_IS_ON_ELEMENT",s,u.loc))return!0}}}function UT(e,i){const s=[],l=new Set;for(;e.source.length>0&&!Ma(e.source,">")&&!Ma(e.source,"/>");){if(Ma(e.source,"/")){ts(e,22),Ro(e,1),C1(e);continue}i===1&&ts(e,3);const h=UP(e,l);h.type===6&&h.value&&h.name==="class"&&(h.value.content=h.value.content.replace(/\s+/g," ").trim()),i===0&&s.push(h),/^[^\t\r\n\f />]/.test(e.source)&&ts(e,15),C1(e)}return s}function UP(e,i){const s=rc(e),h=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];i.has(h)&&ts(e,2),i.add(h),h[0]==="="&&ts(e,19);{const n=/["'<]/g;let w;for(;w=n.exec(h);)ts(e,17,w.index)}Ro(e,h.length);let u;/^[\t\r\n\f ]*=/.test(e.source)&&(C1(e),Ro(e,1),C1(e),u=GP(e),u||ts(e,13));const y=Fc(e,s);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(h)){const n=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(h);let w=Ma(h,"."),z=n[1]||(w||Ma(h,":")?"bind":Ma(h,"@")?"on":"slot"),ie;if(n[2]){const q=z==="slot",Z=h.lastIndexOf(n[2]),F=Fc(e,GT(e,s,Z),GT(e,s,Z+n[2].length+(q&&n[3]||"").length));let U=n[2],re=!0;U.startsWith("[")?(re=!1,U.endsWith("]")?U=U.slice(1,U.length-1):(ts(e,27),U=U.slice(1))):q&&(U+=n[3]||""),ie={type:4,content:U,isStatic:re,constType:re?3:0,loc:F}}if(u&&u.isQuoted){const q=u.loc;q.start.offset++,q.start.column++,q.end=hx(q.start,u.content),q.source=q.source.slice(1,-1)}const G=n[3]?n[3].slice(1).split("."):[];return w&&G.push("prop"),z==="bind"&&ie&&G.includes("sync")&&M1("COMPILER_V_BIND_SYNC",e,y,ie.loc.source)&&(z="model",G.splice(G.indexOf("sync"),1)),{type:7,name:z,exp:u&&{type:4,content:u.content,isStatic:!1,constType:0,loc:u.loc},arg:ie,modifiers:G,loc:y}}return!e.inVPre&&Ma(h,"v-")&&ts(e,26),{type:6,name:h,value:u&&{type:2,content:u.content,loc:u.loc},loc:y}}function GP(e){const i=rc(e);let s;const l=e.source[0],h=l==='"'||l==="'";if(h){Ro(e,1);const u=e.source.indexOf(l);u===-1?s=u1(e,e.source.length,4):(s=u1(e,u,4),Ro(e,1))}else{const u=/^[^\t\r\n\f >]+/.exec(e.source);if(!u)return;const y=/["'<=`]/g;let n;for(;n=y.exec(u[0]);)ts(e,18,n.index);s=u1(e,u[0].length,4)}return{content:s,isQuoted:h,loc:Fc(e,i)}}function VP(e,i){const[s,l]=e.options.delimiters,h=e.source.indexOf(l,s.length);if(h===-1){ts(e,25);return}const u=rc(e);Ro(e,s.length);const y=rc(e),n=rc(e),w=h-s.length,z=e.source.slice(0,w),ie=u1(e,w,i),G=ie.trim(),q=ie.indexOf(G);q>0&&dx(y,z,q);const Z=w-(ie.length-G.length-q);return dx(n,z,Z),Ro(e,l.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:G,loc:Fc(e,y,n)},loc:Fc(e,u)}}function WP(e,i){const s=i===3?["]]>"]:["<",e.options.delimiters[0]];let l=e.source.length;for(let y=0;y<s.length;y++){const n=e.source.indexOf(s[y],1);n!==-1&&l>n&&(l=n)}const h=rc(e);return{type:2,content:u1(e,l,i),loc:Fc(e,h)}}function u1(e,i,s){const l=e.source.slice(0,i);return Ro(e,i),s===2||s===3||!l.includes("&")?l:e.options.decodeEntities(l,s===4)}function rc(e){const{column:i,line:s,offset:l}=e;return{column:i,line:s,offset:l}}function Fc(e,i,s){return s=s||rc(e),{start:i,end:s,source:e.originalSource.slice(i.offset,s.offset)}}function ov(e){return e[e.length-1]}function Ma(e,i){return e.startsWith(i)}function Ro(e,i){const{source:s}=e;dx(e,s,i),e.source=s.slice(i)}function C1(e){const i=/^[\t\r\n\f ]+/.exec(e.source);i&&Ro(e,i[0].length)}function GT(e,i,s){return hx(i,e.originalSource.slice(i.offset,s),s)}function ts(e,i,s,l=rc(e)){s&&(l.offset+=s,l.column+=s),e.options.onError(Fs(i,{start:l,end:l,source:""}))}function HP(e,i,s){const l=e.source;switch(i){case 0:if(Ma(l,"</")){for(let h=s.length-1;h>=0;--h)if(yw(l,s[h].tag))return!0}break;case 1:case 2:{const h=ov(s);if(h&&yw(l,h.tag))return!0;break}case 3:if(Ma(l,"]]>"))return!0;break}return!l}function yw(e,i){return Ma(e,"</")&&e.slice(2,2+i.length).toLowerCase()===i.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+i.length]||">")}function $P(e,i){Gy(e,i,oM(e,e.children[0]))}function oM(e,i){const{children:s}=e;return s.length===1&&i.type===1&&!px(i)}function Gy(e,i,s=!1){const{children:l}=e,h=l.length;let u=0;for(let y=0;y<l.length;y++){const n=l[y];if(n.type===1&&n.tagType===0){const w=s?0:zc(n,i);if(w>0){if(w>=2){n.codegenNode.patchFlag=-1+"",n.codegenNode=i.hoist(n.codegenNode),u++;continue}}else{const z=n.codegenNode;if(z.type===13){const ie=hM(z);if((!ie||ie===512||ie===1)&&lM(n,i)>=2){const G=cM(n);G&&(z.props=i.hoist(G))}z.dynamicProps&&(z.dynamicProps=i.hoist(z.dynamicProps))}}}if(n.type===1){const w=n.tagType===1;w&&i.scopes.vSlot++,Gy(n,i),w&&i.scopes.vSlot--}else if(n.type===11)Gy(n,i,n.children.length===1);else if(n.type===9)for(let w=0;w<n.branches.length;w++)Gy(n.branches[w],i,n.branches[w].children.length===1)}u&&i.transformHoist&&i.transformHoist(l,i,e),u&&u===h&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&sn(e.codegenNode.children)&&(e.codegenNode.children=i.hoist(V1(e.codegenNode.children)))}function zc(e,i){const{constantCache:s}=i;switch(e.type){case 1:if(e.tagType!==0)return 0;const l=s.get(e);if(l!==void 0)return l;const h=e.codegenNode;if(h.type!==13||h.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(hM(h))return s.set(e,0),0;{let n=3;const w=lM(e,i);if(w===0)return s.set(e,0),0;w<n&&(n=w);for(let z=0;z<e.children.length;z++){const ie=zc(e.children[z],i);if(ie===0)return s.set(e,0),0;ie<n&&(n=ie)}if(n>1)for(let z=0;z<e.props.length;z++){const ie=e.props[z];if(ie.type===7&&ie.name==="bind"&&ie.exp){const G=zc(ie.exp,i);if(G===0)return s.set(e,0),0;G<n&&(n=G)}}if(h.isBlock){for(let z=0;z<e.props.length;z++)if(e.props[z].type===7)return s.set(e,0),0;i.removeHelper(Pf),i.removeHelper(dm(i.inSSR,h.isComponent)),h.isBlock=!1,i.helper(hm(i.inSSR,h.isComponent))}return s.set(e,n),n}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return zc(e.content,i);case 4:return e.constType;case 8:let y=3;for(let n=0;n<e.children.length;n++){const w=e.children[n];if(tr(w)||ip(w))continue;const z=zc(w,i);if(z===0)return 0;z<y&&(y=z)}return y;default:return 0}}const XP=new Set([$3,X3,T1,G1]);function aM(e,i){if(e.type===14&&!tr(e.callee)&&XP.has(e.callee)){const s=e.arguments[0];if(s.type===4)return zc(s,i);if(s.type===14)return aM(s,i)}return 0}function lM(e,i){let s=3;const l=cM(e);if(l&&l.type===15){const{properties:h}=l;for(let u=0;u<h.length;u++){const{key:y,value:n}=h[u],w=zc(y,i);if(w===0)return w;w<s&&(s=w);let z;if(n.type===4?z=zc(n,i):n.type===14?z=aM(n,i):z=0,z===0)return z;z<s&&(s=z)}}return s}function cM(e){const i=e.codegenNode;if(i.type===13)return i.props}function hM(e){const i=e.patchFlag;return i?parseInt(i,10):void 0}function YP(e,{filename:i="",prefixIdentifiers:s=!1,hoistStatic:l=!1,cacheHandlers:h=!1,nodeTransforms:u=[],directiveTransforms:y={},transformHoist:n=null,isBuiltInComponent:w=$a,isCustomElement:z=$a,expressionPlugins:ie=[],scopeId:G=null,slotted:q=!0,ssr:Z=!1,inSSR:F=!1,ssrCssVars:U="",bindingMetadata:re=is,inline:R=!1,isTS:D=!1,onError:N=z3,onWarn:$=X8,compatConfig:j}){const S=i.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),te={selfName:S&&dp(Jo(S[1])),prefixIdentifiers:s,hoistStatic:l,cacheHandlers:h,nodeTransforms:u,directiveTransforms:y,transformHoist:n,isBuiltInComponent:w,isCustomElement:z,expressionPlugins:ie,scopeId:G,slotted:q,ssr:Z,inSSR:F,ssrCssVars:U,bindingMetadata:re,inline:R,isTS:D,onError:N,onWarn:$,compatConfig:j,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(Y){const I=te.helpers.get(Y)||0;return te.helpers.set(Y,I+1),Y},removeHelper(Y){const I=te.helpers.get(Y);if(I){const V=I-1;V?te.helpers.set(Y,V):te.helpers.delete(Y)}},helperString(Y){return`_${lm[te.helper(Y)]}`},replaceNode(Y){te.parent.children[te.childIndex]=te.currentNode=Y},removeNode(Y){const I=te.parent.children,V=Y?I.indexOf(Y):te.currentNode?te.childIndex:-1;!Y||Y===te.currentNode?(te.currentNode=null,te.onNodeRemoved()):te.childIndex>V&&(te.childIndex--,te.onNodeRemoved()),te.parent.children.splice(V,1)},onNodeRemoved:()=>{},addIdentifiers(Y){},removeIdentifiers(Y){},hoist(Y){tr(Y)&&(Y=cr(Y)),te.hoists.push(Y);const I=cr(`_hoisted_${te.hoists.length}`,!1,Y.loc,2);return I.hoisted=Y,I},cache(Y,I=!1){return wP(te.cached++,Y,I)}};return te.filters=new Set,te}function qP(e,i){const s=YP(e,i);av(e,s),i.hoistStatic&&$P(e,s),i.ssr||ZP(e,s),e.helpers=[...s.helpers.keys()],e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.filters=[...s.filters]}function ZP(e,i){const{helper:s}=i,{children:l}=e;if(l.length===1){const h=l[0];if(oM(e,h)&&h.codegenNode){const u=h.codegenNode;u.type===13&&J3(u,i),e.codegenNode=u}else e.codegenNode=h}else if(l.length>1){let h=64;e.codegenNode=S1(i,s(w1),void 0,e.children,h+"",void 0,void 0,!0,void 0,!1)}}function KP(e,i){let s=0;const l=()=>{s--};for(;s<e.children.length;s++){const h=e.children[s];tr(h)||(i.parent=e,i.childIndex=s,i.onNodeRemoved=l,av(h,i))}}function av(e,i){i.currentNode=e;const{nodeTransforms:s}=i,l=[];for(let u=0;u<s.length;u++){const y=s[u](e,i);if(y&&(sn(y)?l.push(...y):l.push(y)),i.currentNode)e=i.currentNode;else return}switch(e.type){case 3:i.ssr||i.helper(U1);break;case 5:i.ssr||i.helper(rv);break;case 9:for(let u=0;u<e.branches.length;u++)av(e.branches[u],i);break;case 10:case 11:case 1:case 0:KP(e,i);break}i.currentNode=e;let h=l.length;for(;h--;)l[h]()}function dM(e,i){const s=tr(e)?l=>l===e:l=>e.test(l);return(l,h)=>{if(l.type===1){const{props:u}=l;if(l.tagType===3&&u.some(PP))return;const y=[];for(let n=0;n<u.length;n++){const w=u[n];if(w.type===7&&s(w.name)){u.splice(n,1),n--;const z=i(l,w,h);z&&y.push(z)}}return y}}}const lv="/*#__PURE__*/",uM=e=>`${lm[e]}: _${lm[e]}`;function JP(e,{mode:i="function",prefixIdentifiers:s=i==="module",sourceMap:l=!1,filename:h="template.vue.html",scopeId:u=null,optimizeImports:y=!1,runtimeGlobalName:n="Vue",runtimeModuleName:w="vue",ssrRuntimeModuleName:z="vue/server-renderer",ssr:ie=!1,isTS:G=!1,inSSR:q=!1}){const Z={mode:i,prefixIdentifiers:s,sourceMap:l,filename:h,scopeId:u,optimizeImports:y,runtimeGlobalName:n,runtimeModuleName:w,ssrRuntimeModuleName:z,ssr:ie,isTS:G,inSSR:q,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(U){return`_${lm[U]}`},push(U,re){Z.code+=U},indent(){F(++Z.indentLevel)},deindent(U=!1){U?--Z.indentLevel:F(--Z.indentLevel)},newline(){F(Z.indentLevel)}};function F(U){Z.push(`
`+"  ".repeat(U))}return Z}function QP(e,i={}){const s=JP(e,i);i.onContextCreated&&i.onContextCreated(s);const{mode:l,push:h,prefixIdentifiers:u,indent:y,deindent:n,newline:w,scopeId:z,ssr:ie}=s,G=e.helpers.length>0,q=!u&&l!=="module";eD(e,s);const F=ie?"ssrRender":"render",re=(ie?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(h(`function ${F}(${re}) {`),y(),q&&(h("with (_ctx) {"),y(),G&&(h(`const { ${e.helpers.map(uM).join(", ")} } = _Vue`),h(`
`),w())),e.components.length&&(Mb(e.components,"component",s),(e.directives.length||e.temps>0)&&w()),e.directives.length&&(Mb(e.directives,"directive",s),e.temps>0&&w()),e.filters&&e.filters.length&&(w(),Mb(e.filters,"filter",s),w()),e.temps>0){h("let ");for(let R=0;R<e.temps;R++)h(`${R>0?", ":""}_temp${R}`)}return(e.components.length||e.directives.length||e.temps)&&(h(`
`),w()),ie||h("return "),e.codegenNode?Ca(e.codegenNode,s):h("null"),q&&(n(),h("}")),n(),h("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function eD(e,i){const{ssr:s,prefixIdentifiers:l,push:h,newline:u,runtimeModuleName:y,runtimeGlobalName:n,ssrRuntimeModuleName:w}=i,z=n;if(e.helpers.length>0&&(h(`const _Vue = ${z}
`),e.hoists.length)){const ie=[F3,N3,U1,j3,K8].filter(G=>e.helpers.includes(G)).map(uM).join(", ");h(`const { ${ie} } = _Vue
`)}tD(e.hoists,i),u(),h("return ")}function Mb(e,i,{helper:s,push:l,newline:h,isTS:u}){const y=s(i==="filter"?V3:i==="component"?U3:G3);for(let n=0;n<e.length;n++){let w=e[n];const z=w.endsWith("__self");z&&(w=w.slice(0,-6)),l(`const ${E1(w,i)} = ${y}(${JSON.stringify(w)}${z?", true":""})${u?"!":""}`),n<e.length-1&&h()}}function tD(e,i){if(!e.length)return;i.pure=!0;const{push:s,newline:l,helper:h,scopeId:u,mode:y}=i;l();for(let n=0;n<e.length;n++){const w=e[n];w&&(s(`const _hoisted_${n+1} = `),Ca(w,i),l())}i.pure=!1}function e5(e,i){const s=e.length>3||!1;i.push("["),s&&i.indent(),W1(e,i,s),s&&i.deindent(),i.push("]")}function W1(e,i,s=!1,l=!0){const{push:h,newline:u}=i;for(let y=0;y<e.length;y++){const n=e[y];tr(n)?h(n):sn(n)?e5(n,i):Ca(n,i),y<e.length-1&&(s?(l&&h(","),u()):l&&h(", "))}}function Ca(e,i){if(tr(e)){i.push(e);return}if(ip(e)){i.push(i.helper(e));return}switch(e.type){case 1:case 9:case 11:Ca(e.codegenNode,i);break;case 2:iD(e,i);break;case 4:pM(e,i);break;case 5:nD(e,i);break;case 12:Ca(e.codegenNode,i);break;case 8:fM(e,i);break;case 3:sD(e,i);break;case 13:oD(e,i);break;case 14:lD(e,i);break;case 15:cD(e,i);break;case 17:hD(e,i);break;case 18:dD(e,i);break;case 19:uD(e,i);break;case 20:pD(e,i);break;case 21:W1(e.body,i,!0,!1);break}}function iD(e,i){i.push(JSON.stringify(e.content),e)}function pM(e,i){const{content:s,isStatic:l}=e;i.push(l?JSON.stringify(s):s,e)}function nD(e,i){const{push:s,helper:l,pure:h}=i;h&&s(lv),s(`${l(rv)}(`),Ca(e.content,i),s(")")}function fM(e,i){for(let s=0;s<e.children.length;s++){const l=e.children[s];tr(l)?i.push(l):Ca(l,i)}}function rD(e,i){const{push:s}=i;if(e.type===8)s("["),fM(e,i),s("]");else if(e.isStatic){const l=K3(e.content)?e.content:JSON.stringify(e.content);s(l,e)}else s(`[${e.content}]`,e)}function sD(e,i){const{push:s,helper:l,pure:h}=i;h&&s(lv),s(`${l(U1)}(${JSON.stringify(e.content)})`,e)}function oD(e,i){const{push:s,helper:l,pure:h}=i,{tag:u,props:y,children:n,patchFlag:w,dynamicProps:z,directives:ie,isBlock:G,disableTracking:q,isComponent:Z}=e;ie&&s(l(W3)+"("),G&&s(`(${l(Pf)}(${q?"true":""}), `),h&&s(lv);const F=G?dm(i.inSSR,Z):hm(i.inSSR,Z);s(l(F)+"(",e),W1(aD([u,y,n,w,z]),i),s(")"),G&&s(")"),ie&&(s(", "),Ca(ie,i),s(")"))}function aD(e){let i=e.length;for(;i--&&e[i]==null;);return e.slice(0,i+1).map(s=>s||"null")}function lD(e,i){const{push:s,helper:l,pure:h}=i,u=tr(e.callee)?e.callee:l(e.callee);h&&s(lv),s(u+"(",e),W1(e.arguments,i),s(")")}function cD(e,i){const{push:s,indent:l,deindent:h,newline:u}=i,{properties:y}=e;if(!y.length){s("{}",e);return}const n=y.length>1||!1;s(n?"{":"{ "),n&&l();for(let w=0;w<y.length;w++){const{key:z,value:ie}=y[w];rD(z,i),s(": "),Ca(ie,i),w<y.length-1&&(s(","),u())}n&&h(),s(n?"}":" }")}function hD(e,i){e5(e.elements,i)}function dD(e,i){const{push:s,indent:l,deindent:h}=i,{params:u,returns:y,body:n,newline:w,isSlot:z}=e;z&&s(`_${lm[q3]}(`),s("(",e),sn(u)?W1(u,i):u&&Ca(u,i),s(") => "),(w||n)&&(s("{"),l()),y?(w&&s("return "),sn(y)?e5(y,i):Ca(y,i)):n&&Ca(n,i),(w||n)&&(h(),s("}")),z&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function uD(e,i){const{test:s,consequent:l,alternate:h,newline:u}=e,{push:y,indent:n,deindent:w,newline:z}=i;if(s.type===4){const G=!K3(s.content);G&&y("("),pM(s,i),G&&y(")")}else y("("),Ca(s,i),y(")");u&&n(),i.indentLevel++,u||y(" "),y("? "),Ca(l,i),i.indentLevel--,u&&z(),u||y(" "),y(": ");const ie=h.type===19;ie||i.indentLevel++,Ca(h,i),ie||i.indentLevel--,u&&w(!0)}function pD(e,i){const{push:s,helper:l,indent:h,deindent:u,newline:y}=i;s(`_cache[${e.index}] || (`),e.isVNode&&(h(),s(`${l(cx)}(-1),`),y()),s(`_cache[${e.index}] = `),Ca(e.value,i),e.isVNode&&(s(","),y(),s(`${l(cx)}(1),`),y(),s(`_cache[${e.index}]`),u()),s(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const fD=dM(/^(if|else|else-if)$/,(e,i,s)=>mD(e,i,s,(l,h,u)=>{const y=s.parent.children;let n=y.indexOf(l),w=0;for(;n-->=0;){const z=y[n];z&&z.type===9&&(w+=z.branches.length)}return()=>{if(u)l.codegenNode=WT(h,w,s);else{const z=gD(l.codegenNode);z.alternate=WT(h,w+l.branches.length-1,s)}}}));function mD(e,i,s,l){if(i.name!=="else"&&(!i.exp||!i.exp.content.trim())){const h=i.exp?i.exp.loc:e.loc;s.onError(Fs(28,i.loc)),i.exp=cr("true",!1,h)}if(i.name==="if"){const h=VT(e,i),u={type:9,loc:e.loc,branches:[h]};if(s.replaceNode(u),l)return l(u,h,!0)}else{const h=s.parent.children;let u=h.indexOf(e);for(;u-->=-1;){const y=h[u];if(y&&y.type===3){s.removeNode(y);continue}if(y&&y.type===2&&!y.content.trim().length){s.removeNode(y);continue}if(y&&y.type===9){i.name==="else-if"&&y.branches[y.branches.length-1].condition===void 0&&s.onError(Fs(30,e.loc)),s.removeNode();const n=VT(e,i);y.branches.push(n);const w=l&&l(y,n,!1);av(n,s),w&&w(),s.currentNode=null}else s.onError(Fs(30,e.loc));break}}}function VT(e,i){const s=e.tagType===3;return{type:10,loc:e.loc,condition:i.name==="else"?void 0:i.exp,children:s&&!Lc(e,"for")?e.children:[e],userKey:sv(e,"key"),isTemplateIf:s}}function WT(e,i,s){return e.condition?gw(e.condition,HT(e,i,s),yo(s.helper(U1),['""',"true"])):HT(e,i,s)}function HT(e,i,s){const{helper:l}=s,h=Ks("key",cr(`${i}`,!1,oc,2)),{children:u}=e,y=u[0];if(u.length!==1||y.type!==1)if(u.length===1&&y.type===11){const w=y.codegenNode;return fx(w,h,s),w}else{let w=64;return S1(s,l(w1),Rc([h]),u,w+"",void 0,void 0,!0,!1,!1,e.loc)}else{const w=y.codegenNode,z=IP(w);return z.type===13&&J3(z,s),fx(z,h,s),w}}function gD(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const _D=dM("for",(e,i,s)=>{const{helper:l,removeHelper:h}=s;return yD(e,i,s,u=>{const y=yo(l(H3),[u.source]),n=ux(e),w=Lc(e,"memo"),z=sv(e,"key"),ie=z&&(z.type===6?cr(z.value.content,!0):z.exp),G=z?Ks("key",ie):null,q=u.source.type===4&&u.source.constType>0,Z=q?64:z?128:256;return u.codegenNode=S1(s,l(w1),void 0,y,Z+"",void 0,void 0,!0,!q,!1,e.loc),()=>{let F;const{children:U}=u,re=U.length!==1||U[0].type!==1,R=px(e)?e:n&&e.children.length===1&&px(e.children[0])?e.children[0]:null;if(R?(F=R.codegenNode,n&&G&&fx(F,G,s)):re?F=S1(s,l(w1),G?Rc([G]):void 0,e.children,64+"",void 0,void 0,!0,void 0,!1):(F=U[0].codegenNode,n&&G&&fx(F,G,s),F.isBlock!==!q&&(F.isBlock?(h(Pf),h(dm(s.inSSR,F.isComponent))):h(hm(s.inSSR,F.isComponent))),F.isBlock=!q,F.isBlock?(l(Pf),l(dm(s.inSSR,F.isComponent))):l(hm(s.inSSR,F.isComponent))),w){const D=cm(xw(u.parseResult,[cr("_cached")]));D.body=TP([ch(["const _memo = (",w.exp,")"]),ch(["if (_cached",...ie?[" && _cached.key === ",ie]:[],` && ${s.helperString(eM)}(_cached, _memo)) return _cached`]),ch(["const _item = ",F]),cr("_item.memo = _memo"),cr("return _item")]),y.arguments.push(D,cr("_cache"),cr(String(s.cached++)))}else y.arguments.push(cm(xw(u.parseResult),F,!0))}})});function yD(e,i,s,l){if(!i.exp){s.onError(Fs(31,i.loc));return}const h=mM(i.exp);if(!h){s.onError(Fs(32,i.loc));return}const{addIdentifiers:u,removeIdentifiers:y,scopes:n}=s,{source:w,value:z,key:ie,index:G}=h,q={type:11,loc:i.loc,source:w,valueAlias:z,keyAlias:ie,objectIndexAlias:G,parseResult:h,children:ux(e)?e.children:[e]};s.replaceNode(q),n.vFor++;const Z=l&&l(q);return()=>{n.vFor--,Z&&Z()}}const xD=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,$T=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,vD=/^\(|\)$/g;function mM(e,i){const s=e.loc,l=e.content,h=l.match(xD);if(!h)return;const[,u,y]=h,n={source:Cy(s,y.trim(),l.indexOf(y,u.length)),value:void 0,key:void 0,index:void 0};let w=u.trim().replace(vD,"").trim();const z=u.indexOf(w),ie=w.match($T);if(ie){w=w.replace($T,"").trim();const G=ie[1].trim();let q;if(G&&(q=l.indexOf(G,z+w.length),n.key=Cy(s,G,q)),ie[2]){const Z=ie[2].trim();Z&&(n.index=Cy(s,Z,l.indexOf(Z,n.key?q+G.length:z+w.length)))}}return w&&(n.value=Cy(s,w,z)),n}function Cy(e,i,s){return cr(i,!1,nM(e,s,i.length))}function xw({value:e,key:i,index:s},l=[]){return bD([e,i,s,...l])}function bD(e){let i=e.length;for(;i--&&!e[i];);return e.slice(0,i+1).map((s,l)=>s||cr("_".repeat(l+1),!1))}const XT=cr("undefined",!1),wD=(e,i)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=Lc(e,"slot");if(s)return s.exp,i.scopes.vSlot++,()=>{i.scopes.vSlot--}}},TD=(e,i,s)=>cm(e,i,!1,!0,i.length?i[0].loc:s);function SD(e,i,s=TD){i.helper(q3);const{children:l,loc:h}=e,u=[],y=[];let n=i.scopes.vSlot>0||i.scopes.vFor>0;const w=Lc(e,"slot",!0);if(w){const{arg:re,exp:R}=w;re&&!yl(re)&&(n=!0),u.push(Ks(re||cr("default",!0),s(R,l,h)))}let z=!1,ie=!1;const G=[],q=new Set;let Z=0;for(let re=0;re<l.length;re++){const R=l[re];let D;if(!ux(R)||!(D=Lc(R,"slot",!0))){R.type!==3&&G.push(R);continue}if(w){i.onError(Fs(37,D.loc));break}z=!0;const{children:N,loc:$}=R,{arg:j=cr("default",!0),exp:S,loc:te}=D;let Y;yl(j)?Y=j?j.content:"default":n=!0;const I=s(S,N,$);let V,X,P;if(V=Lc(R,"if"))n=!0,y.push(gw(V.exp,Ay(j,I,Z++),XT));else if(X=Lc(R,/^else(-if)?$/,!0)){let L=re,_;for(;L--&&(_=l[L],_.type===3););if(_&&ux(_)&&Lc(_,"if")){l.splice(re,1),re--;let v=y[y.length-1];for(;v.alternate.type===19;)v=v.alternate;v.alternate=X.exp?gw(X.exp,Ay(j,I,Z++),XT):Ay(j,I,Z++)}else i.onError(Fs(30,X.loc))}else if(P=Lc(R,"for")){n=!0;const L=P.parseResult||mM(P.exp);L?y.push(yo(i.helper(H3),[L.source,cm(xw(L),Ay(j,I),!0)])):i.onError(Fs(32,P.loc))}else{if(Y){if(q.has(Y)){i.onError(Fs(38,te));continue}q.add(Y),Y==="default"&&(ie=!0)}u.push(Ks(j,I))}}if(!w){const re=(R,D)=>{const N=s(R,D,h);return i.compatConfig&&(N.isNonScopedSlot=!0),Ks("default",N)};z?G.length&&G.some(R=>gM(R))&&(ie?i.onError(Fs(39,G[0].loc)):u.push(re(void 0,G))):u.push(re(void 0,l))}const F=n?2:Vy(e.children)?3:1;let U=Rc(u.concat(Ks("_",cr(F+"",!1))),h);return y.length&&(U=yo(i.helper(Q8),[U,V1(y)])),{slots:U,hasDynamicSlots:n}}function Ay(e,i,s){const l=[Ks("name",e),Ks("fn",i)];return s!=null&&l.push(Ks("key",cr(String(s),!0))),Rc(l)}function Vy(e){for(let i=0;i<e.length;i++){const s=e[i];switch(s.type){case 1:if(s.tagType===2||Vy(s.children))return!0;break;case 9:if(Vy(s.branches))return!0;break;case 10:case 11:if(Vy(s.children))return!0;break}}return!1}function gM(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():gM(e.content)}const _M=new WeakMap,ED=(e,i)=>function(){if(e=i.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:l,props:h}=e,u=e.tagType===1;let y=u?MD(e,i):`"${l}"`;const n=os(y)&&y.callee===ax;let w,z,ie,G=0,q,Z,F,U=n||y===d1||y===B3||!u&&(l==="svg"||l==="foreignObject");if(h.length>0){const re=yM(e,i,void 0,u,n);w=re.props,G=re.patchFlag,Z=re.dynamicPropNames;const R=re.directives;F=R&&R.length?V1(R.map(D=>AD(D,i))):void 0,re.shouldUseBlock&&(U=!0)}if(e.children.length>0)if(y===ox&&(U=!0,G|=1024),u&&y!==d1&&y!==ox){const{slots:R,hasDynamicSlots:D}=SD(e,i);z=R,D&&(G|=1024)}else if(e.children.length===1&&y!==d1){const R=e.children[0],D=R.type,N=D===5||D===8;N&&zc(R,i)===0&&(G|=1),N||D===2?z=R:z=e.children}else z=e.children;G!==0&&(ie=String(G),Z&&Z.length&&(q=kD(Z))),e.codegenNode=S1(i,y,w,z,ie,q,F,!!U,!1,u,e.loc)};function MD(e,i,s=!1){let{tag:l}=e;const h=vw(l),u=sv(e,"is");if(u)if(h||Sf("COMPILER_IS_ON_ELEMENT",i)){const w=u.type===6?u.value&&cr(u.value.content,!0):u.exp;if(w)return yo(i.helper(ax),[w])}else u.type===6&&u.value.content.startsWith("vue:")&&(l=u.value.content.slice(4));const y=!h&&Lc(e,"is");if(y&&y.exp)return yo(i.helper(ax),[y.exp]);const n=tM(l)||i.isBuiltInComponent(l);return n?(s||i.helper(n),n):(i.helper(U3),i.components.add(l),E1(l,"component"))}function yM(e,i,s=e.props,l,h,u=!1){const{tag:y,loc:n,children:w}=e;let z=[];const ie=[],G=[],q=w.length>0;let Z=!1,F=0,U=!1,re=!1,R=!1,D=!1,N=!1,$=!1;const j=[],S=I=>{z.length&&(ie.push(Rc(YT(z),n)),z=[]),I&&ie.push(I)},te=({key:I,value:V})=>{if(yl(I)){const X=I.content,P=If(X);if(P&&(!l||h)&&X.toLowerCase()!=="onclick"&&X!=="onUpdate:modelValue"&&!xf(X)&&(D=!0),P&&xf(X)&&($=!0),V.type===20||(V.type===4||V.type===8)&&zc(V,i)>0)return;X==="ref"?U=!0:X==="class"?re=!0:X==="style"?R=!0:X!=="key"&&!j.includes(X)&&j.push(X),l&&(X==="class"||X==="style")&&!j.includes(X)&&j.push(X)}else N=!0};for(let I=0;I<s.length;I++){const V=s[I];if(V.type===6){const{loc:X,name:P,value:L}=V;let _=!0;if(P==="ref"&&(U=!0,i.scopes.vFor>0&&z.push(Ks(cr("ref_for",!0),cr("true")))),P==="is"&&(vw(y)||L&&L.content.startsWith("vue:")||Sf("COMPILER_IS_ON_ELEMENT",i)))continue;z.push(Ks(cr(P,!0,nM(X,0,P.length)),cr(L?L.content:"",_,L?L.loc:X)))}else{const{name:X,arg:P,exp:L,loc:_}=V,v=X==="bind",M=X==="on";if(X==="slot"){l||i.onError(Fs(40,_));continue}if(X==="once"||X==="memo"||X==="is"||v&&_f(P,"is")&&(vw(y)||Sf("COMPILER_IS_ON_ELEMENT",i))||M&&u)continue;if((v&&_f(P,"key")||M&&q&&_f(P,"vue:before-update"))&&(Z=!0),v&&_f(P,"ref")&&i.scopes.vFor>0&&z.push(Ks(cr("ref_for",!0),cr("true"))),!P&&(v||M)){if(N=!0,L)if(v){if(S(),Sf("COMPILER_V_BIND_OBJECT_ORDER",i)){ie.unshift(L);continue}ie.push(L)}else S({type:14,loc:_,callee:i.helper(Y3),arguments:l?[L]:[L,"true"]});else i.onError(Fs(v?34:35,_));continue}const O=i.directiveTransforms[X];if(O){const{props:ee,needRuntime:ae}=O(V,e,i);!u&&ee.forEach(te),M&&P&&!yl(P)?S(Rc(ee,n)):z.push(...ee),ae&&(G.push(V),ip(ae)&&_M.set(V,ae))}else dA(X)||(G.push(V),q&&(Z=!0))}}let Y;if(ie.length?(S(),ie.length>1?Y=yo(i.helper(lx),ie,n):Y=ie[0]):z.length&&(Y=Rc(YT(z),n)),N?F|=16:(re&&!l&&(F|=2),R&&!l&&(F|=4),j.length&&(F|=8),D&&(F|=32)),!Z&&(F===0||F===32)&&(U||$||G.length>0)&&(F|=512),!i.inSSR&&Y)switch(Y.type){case 15:let I=-1,V=-1,X=!1;for(let _=0;_<Y.properties.length;_++){const v=Y.properties[_].key;yl(v)?v.content==="class"?I=_:v.content==="style"&&(V=_):v.isHandlerKey||(X=!0)}const P=Y.properties[I],L=Y.properties[V];X?Y=yo(i.helper(T1),[Y]):(P&&!yl(P.value)&&(P.value=yo(i.helper($3),[P.value])),L&&(R||L.value.type===4&&L.value.content.trim()[0]==="["||L.value.type===17)&&(L.value=yo(i.helper(X3),[L.value])));break;case 14:break;default:Y=yo(i.helper(T1),[yo(i.helper(G1),[Y])]);break}return{props:Y,directives:G,patchFlag:F,dynamicPropNames:j,shouldUseBlock:Z}}function YT(e){const i=new Map,s=[];for(let l=0;l<e.length;l++){const h=e[l];if(h.key.type===8||!h.key.isStatic){s.push(h);continue}const u=h.key.content,y=i.get(u);y?(u==="style"||u==="class"||If(u))&&CD(y,h):(i.set(u,h),s.push(h))}return s}function CD(e,i){e.value.type===17?e.value.elements.push(i.value):e.value=V1([e.value,i.value],e.loc)}function AD(e,i){const s=[],l=_M.get(e);l?s.push(i.helperString(l)):(i.helper(G3),i.directives.add(e.name),s.push(E1(e.name,"directive")));const{loc:h}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const u=cr("true",!1,h);s.push(Rc(e.modifiers.map(y=>Ks(y,u)),h))}return V1(s,e.loc)}function kD(e){let i="[";for(let s=0,l=e.length;s<l;s++)i+=JSON.stringify(e[s]),s<l-1&&(i+=", ");return i+"]"}function vw(e){return e==="component"||e==="Component"}const PD=e=>{const i=Object.create(null);return s=>i[s]||(i[s]=e(s))},DD=/-(\w)/g,qT=PD(e=>e.replace(DD,(i,s)=>s?s.toUpperCase():"")),ID=(e,i)=>{if(px(e)){const{children:s,loc:l}=e,{slotName:h,slotProps:u}=LD(e,i),y=[i.prefixIdentifiers?"_ctx.$slots":"$slots",h,"{}","undefined","true"];let n=2;u&&(y[2]=u,n=3),s.length&&(y[3]=cm([],s,!1,!1,l),n=4),i.scopeId&&!i.slotted&&(n=5),y.splice(n),e.codegenNode=yo(i.helper(J8),y,l)}};function LD(e,i){let s='"default"',l;const h=[];for(let u=0;u<e.props.length;u++){const y=e.props[u];y.type===6?y.value&&(y.name==="name"?s=JSON.stringify(y.value.content):(y.name=qT(y.name),h.push(y))):y.name==="bind"&&_f(y.arg,"name")?y.exp&&(s=y.exp):(y.name==="bind"&&y.arg&&yl(y.arg)&&(y.arg.content=qT(y.arg.content)),h.push(y))}if(h.length>0){const{props:u,directives:y}=yM(e,i,h,!1,!1);l=u,y.length&&i.onError(Fs(36,y[0].loc))}return{slotName:s,slotProps:l}}const OD=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,xM=(e,i,s,l)=>{const{loc:h,modifiers:u,arg:y}=e;!e.exp&&!u.length&&s.onError(Fs(35,h));let n;if(y.type===4)if(y.isStatic){let G=y.content;G.startsWith("vue:")&&(G=`vnode-${G.slice(4)}`);const q=i.tagType!==0||G.startsWith("vnode")||!/[A-Z]/.test(G)?vf(Jo(G)):`on:${G}`;n=cr(q,!0,y.loc)}else n=ch([`${s.helperString(mw)}(`,y,")"]);else n=y,n.children.unshift(`${s.helperString(mw)}(`),n.children.push(")");let w=e.exp;w&&!w.content.trim()&&(w=void 0);let z=s.cacheHandlers&&!w&&!s.inVOnce;if(w){const G=iM(w.content),q=!(G||OD.test(w.content)),Z=w.content.includes(";");(q||z&&G)&&(w=ch([`${q?"$event":"(...args)"} => ${Z?"{":"("}`,w,Z?"}":")"]))}let ie={props:[Ks(n,w||cr("() => {}",!1,h))]};return l&&(ie=l(ie)),z&&(ie.props[0].value=s.cache(ie.props[0].value)),ie.props.forEach(G=>G.key.isHandlerKey=!0),ie},RD=(e,i,s)=>{const{exp:l,modifiers:h,loc:u}=e,y=e.arg;return y.type!==4?(y.children.unshift("("),y.children.push(') || ""')):y.isStatic||(y.content=`${y.content} || ""`),h.includes("camel")&&(y.type===4?y.isStatic?y.content=Jo(y.content):y.content=`${s.helperString(fw)}(${y.content})`:(y.children.unshift(`${s.helperString(fw)}(`),y.children.push(")"))),s.inSSR||(h.includes("prop")&&ZT(y,"."),h.includes("attr")&&ZT(y,"^")),!l||l.type===4&&!l.content.trim()?(s.onError(Fs(34,u)),{props:[Ks(y,cr("",!0,u))]}):{props:[Ks(y,l)]}},ZT=(e,i)=>{e.type===4?e.isStatic?e.content=i+e.content:e.content=`\`${i}\${${e.content}}\``:(e.children.unshift(`'${i}' + (`),e.children.push(")"))},zD=(e,i)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let l,h=!1;for(let u=0;u<s.length;u++){const y=s[u];if(Eb(y)){h=!0;for(let n=u+1;n<s.length;n++){const w=s[n];if(Eb(w))l||(l=s[u]=ch([y],y.loc)),l.children.push(" + ",w),s.splice(n,1),n--;else{l=void 0;break}}}}if(!(!h||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(u=>u.type===7&&!i.directiveTransforms[u.name])&&e.tag!=="template")))for(let u=0;u<s.length;u++){const y=s[u];if(Eb(y)||y.type===8){const n=[];(y.type!==2||y.content!==" ")&&n.push(y),!i.ssr&&zc(y,i)===0&&n.push(1+""),s[u]={type:12,content:y,loc:y.loc,codegenNode:yo(i.helper(j3),n)}}}}},KT=new WeakSet,BD=(e,i)=>{if(e.type===1&&Lc(e,"once",!0))return KT.has(e)||i.inVOnce?void 0:(KT.add(e),i.inVOnce=!0,i.helper(cx),()=>{i.inVOnce=!1;const s=i.currentNode;s.codegenNode&&(s.codegenNode=i.cache(s.codegenNode,!0))})},vM=(e,i,s)=>{const{exp:l,arg:h}=e;if(!l)return s.onError(Fs(41,e.loc)),ky();const u=l.loc.source,y=l.type===4?l.content:u,n=s.bindingMetadata[u];if(n==="props"||n==="props-aliased")return s.onError(Fs(44,l.loc)),ky();const w=!1;if(!y.trim()||!iM(y)&&!w)return s.onError(Fs(42,l.loc)),ky();const z=h||cr("modelValue",!0),ie=h?yl(h)?`onUpdate:${h.content}`:ch(['"onUpdate:" + ',h]):"onUpdate:modelValue";let G;const q=s.isTS?"($event: any)":"$event";G=ch([`${q} => ((`,l,") = $event)"]);const Z=[Ks(z,e.exp),Ks(ie,G)];if(e.modifiers.length&&i.tagType===1){const F=e.modifiers.map(re=>(K3(re)?re:JSON.stringify(re))+": true").join(", "),U=h?yl(h)?`${h.content}Modifiers`:ch([h,' + "Modifiers"']):"modelModifiers";Z.push(Ks(U,cr(`{ ${F} }`,!1,e.loc,2)))}return ky(Z)};function ky(e=[]){return{props:e}}const FD=/[\w).+\-_$\]]/,ND=(e,i)=>{Sf("COMPILER_FILTER",i)&&(e.type===5&&mx(e.content,i),e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&mx(s.exp,i)}))};function mx(e,i){if(e.type===4)JT(e,i);else for(let s=0;s<e.children.length;s++){const l=e.children[s];typeof l=="object"&&(l.type===4?JT(l,i):l.type===8?mx(e,i):l.type===5&&mx(l.content,i))}}function JT(e,i){const s=e.content;let l=!1,h=!1,u=!1,y=!1,n=0,w=0,z=0,ie=0,G,q,Z,F,U=[];for(Z=0;Z<s.length;Z++)if(q=G,G=s.charCodeAt(Z),l)G===39&&q!==92&&(l=!1);else if(h)G===34&&q!==92&&(h=!1);else if(u)G===96&&q!==92&&(u=!1);else if(y)G===47&&q!==92&&(y=!1);else if(G===124&&s.charCodeAt(Z+1)!==124&&s.charCodeAt(Z-1)!==124&&!n&&!w&&!z)F===void 0?(ie=Z+1,F=s.slice(0,Z).trim()):re();else{switch(G){case 34:h=!0;break;case 39:l=!0;break;case 96:u=!0;break;case 40:z++;break;case 41:z--;break;case 91:w++;break;case 93:w--;break;case 123:n++;break;case 125:n--;break}if(G===47){let R=Z-1,D;for(;R>=0&&(D=s.charAt(R),D===" ");R--);(!D||!FD.test(D))&&(y=!0)}}F===void 0?F=s.slice(0,Z).trim():ie!==0&&re();function re(){U.push(s.slice(ie,Z).trim()),ie=Z+1}if(U.length){for(Z=0;Z<U.length;Z++)F=jD(F,U[Z],i);e.content=F}}function jD(e,i,s){s.helper(V3);const l=i.indexOf("(");if(l<0)return s.filters.add(i),`${E1(i,"filter")}(${e})`;{const h=i.slice(0,l),u=i.slice(l+1);return s.filters.add(h),`${E1(h,"filter")}(${e}${u!==")"?","+u:u}`}}const QT=new WeakSet,UD=(e,i)=>{if(e.type===1){const s=Lc(e,"memo");return!s||QT.has(e)?void 0:(QT.add(e),()=>{const l=e.codegenNode||i.currentNode.codegenNode;l&&l.type===13&&(e.tagType!==1&&J3(l,i),e.codegenNode=yo(i.helper(Z3),[s.exp,cm(void 0,l),"_cache",String(i.cached++)]))})}};function GD(e){return[[BD,fD,UD,_D,ND,ID,ED,wD,zD],{on:xM,bind:RD,model:vM}]}function VD(e,i={}){const s=i.onError||z3,l=i.mode==="module";i.prefixIdentifiers===!0?s(Fs(47)):l&&s(Fs(48));const h=!1;i.cacheHandlers&&s(Fs(49)),i.scopeId&&!l&&s(Fs(50));const u=tr(e)?RP(e,i):e,[y,n]=GD();return qP(u,Yr({},i,{prefixIdentifiers:h,nodeTransforms:[...y,...i.nodeTransforms||[]],directiveTransforms:Yr({},n,i.directiveTransforms||{})})),QP(u,Yr({},i,{prefixIdentifiers:h}))}const WD=()=>({props:[]}),bM=Symbol(""),wM=Symbol(""),TM=Symbol(""),SM=Symbol(""),bw=Symbol(""),EM=Symbol(""),MM=Symbol(""),CM=Symbol(""),AM=Symbol(""),kM=Symbol("");vP({[bM]:"vModelRadio",[wM]:"vModelCheckbox",[TM]:"vModelText",[SM]:"vModelSelect",[bw]:"vModelDynamic",[EM]:"withModifiers",[MM]:"withKeys",[CM]:"vShow",[AM]:"Transition",[kM]:"TransitionGroup"});let G0;function HD(e,i=!1){return G0||(G0=document.createElement("div")),i?(G0.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,G0.children[0].getAttribute("foo")):(G0.innerHTML=e,G0.textContent)}const $D=vl("style,iframe,script,noscript",!0),XD={isVoidTag:rA,isNativeTag:e=>iA(e)||nA(e),isPreTag:e=>e==="pre",decodeEntities:HD,isBuiltInComponent:e=>{if(H0(e,"Transition"))return AM;if(H0(e,"TransitionGroup"))return kM},getNamespace(e,i){let s=i?i.ns:0;if(i&&s===2)if(i.tag==="annotation-xml"){if(e==="svg")return 1;i.props.some(l=>l.type===6&&l.name==="encoding"&&l.value!=null&&(l.value.content==="text/html"||l.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(i.tag)&&e!=="mglyph"&&e!=="malignmark"&&(s=0);else i&&s===1&&(i.tag==="foreignObject"||i.tag==="desc"||i.tag==="title")&&(s=0);if(s===0){if(e==="svg")return 1;if(e==="math")return 2}return s},getTextMode({tag:e,ns:i}){if(i===0){if(e==="textarea"||e==="title")return 1;if($D(e))return 2}return 0}},YD=e=>{e.type===1&&e.props.forEach((i,s)=>{i.type===6&&i.name==="style"&&i.value&&(e.props[s]={type:7,name:"bind",arg:cr("style",!0,i.loc),exp:qD(i.value.content,i.loc),modifiers:[],loc:i.loc})})},qD=(e,i)=>{const s=ZS(e);return cr(JSON.stringify(s),!1,i,3)};function Vd(e,i){return Fs(e,i)}const ZD=(e,i,s)=>{const{exp:l,loc:h}=e;return l||s.onError(Vd(51,h)),i.children.length&&(s.onError(Vd(52,h)),i.children.length=0),{props:[Ks(cr("innerHTML",!0,h),l||cr("",!0))]}},KD=(e,i,s)=>{const{exp:l,loc:h}=e;return l||s.onError(Vd(53,h)),i.children.length&&(s.onError(Vd(54,h)),i.children.length=0),{props:[Ks(cr("textContent",!0),l?zc(l,s)>0?l:yo(s.helperString(rv),[l],h):cr("",!0))]}},JD=(e,i,s)=>{const l=vM(e,i,s);if(!l.props.length||i.tagType===1)return l;e.arg&&s.onError(Vd(56,e.arg.loc));const{tag:h}=i,u=s.isCustomElement(h);if(h==="input"||h==="textarea"||h==="select"||u){let y=TM,n=!1;if(h==="input"||u){const w=sv(i,"type");if(w){if(w.type===7)y=bw;else if(w.value)switch(w.value.content){case"radio":y=bM;break;case"checkbox":y=wM;break;case"file":n=!0,s.onError(Vd(57,e.loc));break}}else kP(i)&&(y=bw)}else h==="select"&&(y=SM);n||(l.needRuntime=s.helper(y))}else s.onError(Vd(55,e.loc));return l.props=l.props.filter(y=>!(y.key.type===4&&y.key.content==="modelValue")),l},QD=vl("passive,once,capture"),eI=vl("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),tI=vl("left,right"),PM=vl("onkeyup,onkeydown,onkeypress",!0),iI=(e,i,s,l)=>{const h=[],u=[],y=[];for(let n=0;n<i.length;n++){const w=i[n];w==="native"&&M1("COMPILER_V_ON_NATIVE",s)||QD(w)?y.push(w):tI(w)?yl(e)?PM(e.content)?h.push(w):u.push(w):(h.push(w),u.push(w)):eI(w)?u.push(w):h.push(w)}return{keyModifiers:h,nonKeyModifiers:u,eventOptionModifiers:y}},eS=(e,i)=>yl(e)&&e.content.toLowerCase()==="onclick"?cr(i,!0):e.type!==4?ch(["(",e,`) === "onClick" ? "${i}" : (`,e,")"]):e,nI=(e,i,s)=>xM(e,i,s,l=>{const{modifiers:h}=e;if(!h.length)return l;let{key:u,value:y}=l.props[0];const{keyModifiers:n,nonKeyModifiers:w,eventOptionModifiers:z}=iI(u,h,s,e.loc);if(w.includes("right")&&(u=eS(u,"onContextmenu")),w.includes("middle")&&(u=eS(u,"onMouseup")),w.length&&(y=yo(s.helper(EM),[y,JSON.stringify(w)])),n.length&&(!yl(u)||PM(u.content))&&(y=yo(s.helper(MM),[y,JSON.stringify(n)])),z.length){const ie=z.map(dp).join("");u=yl(u)?cr(`${u.content}${ie}`,!0):ch(["(",u,`) + "${ie}"`])}return{props:[Ks(u,y)]}}),rI=(e,i,s)=>{const{exp:l,loc:h}=e;return l||s.onError(Vd(59,h)),{props:[],needRuntime:s.helper(CM)}},sI=(e,i)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(i.onError(Vd(61,e.loc)),i.removeNode())},oI=[YD],aI={cloak:WD,html:ZD,text:KD,model:JD,on:nI,show:rI};function lI(e,i={}){return VD(e,Yr({},XD,i,{nodeTransforms:[sI,...oI,...i.nodeTransforms||[]],directiveTransforms:Yr({},aI,i.directiveTransforms||{}),transformHoist:null}))}const tS=Object.create(null);function DM(e,i){if(!tr(e))if(e.nodeType)e=e.innerHTML;else return $a;const s=e,l=tS[s];if(l)return l;if(e[0]==="#"){const n=document.querySelector(e);e=n?n.innerHTML:""}const h=Yr({hoistStatic:!0,onError:void 0,onWarn:$a},i);!h.isCustomElement&&typeof customElements<"u"&&(h.isCustomElement=n=>!!customElements.get(n));const{code:u}=lI(e,h),y=new Function("Vue",u)(fP);return y._rc=!0,tS[s]=y}E3(DM);const cI=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:qx,Comment:da,EffectScope:Ox,Fragment:Xr,KeepAlive:jE,ReactiveEffect:mm,Static:Ju,Suspense:LE,Teleport:t8,Text:op,Transition:j1,TransitionGroup:z8,VueElement:N1,callWithAsyncErrorHandling:xl,callWithErrorHandling:Kh,camelize:Jo,capitalize:dp,cloneVNode:hh,compatUtils:M8,compile:DM,computed:Tm,createApp:R3,createBlock:Xd,createCommentVNode:fs,createElementBlock:mn,createElementVNode:Vt,createHydrationRenderer:w3,createPropsRestProxy:v8,createRenderer:b3,createSSRApp:W8,createSlots:WE,createStaticVNode:wm,createTextVNode:qd,createVNode:wn,customRef:TE,defineAsyncComponent:NE,defineComponent:Zx,defineCustomElement:D3,defineEmits:f8,defineExpose:m8,defineProps:p8,defineSSRCustomElement:C8,get devtools(){return ff},effect:aE,effectScope:tE,getCurrentInstance:Qd,getCurrentScope:nE,getTransitionRawChildren:B1,guardReactiveProps:b1,h:gl,handleError:up,hydrate:O3,initCustomFormatter:w8,initDirectivesForSSR:$8,inject:wf,isMemoSame:k3,isProxy:jx,isReactive:Ku,isReadonly:rp,isRef:Lo,isRuntimeOnly:h8,isShallow:sm,isVNode:Yd,markRaw:Ux,mergeDefaults:x8,mergeProps:ev,nextTick:ym,normalizeClass:ic,normalizeProps:Jy,normalizeStyle:fm,onActivated:c3,onBeforeMount:d3,onBeforeUnmount:Rf,onBeforeUpdate:Jx,onDeactivated:h3,onErrorCaptured:m3,onMounted:Qh,onRenderTracked:f3,onRenderTriggered:p3,onScopeDispose:rE,onServerPrefetch:u3,onUnmounted:zf,onUpdated:Of,openBlock:nn,popScopeId:vm,provide:bm,proxyRefs:Vx,pushScopeId:xm,queuePostFlushCb:Hx,reactive:R1,readonly:Fx,ref:$s,registerRuntimeCompiler:E3,render:sx,renderList:nc,renderSlot:oh,resolveComponent:xo,resolveDirective:_3,resolveDynamicComponent:VE,resolveFilter:E8,resolveTransitionHooks:Cf,setBlockTracking:nx,setDevtoolsHook:s3,setTransitionHooks:sp,shallowReactive:e3,shallowReadonly:xE,shallowRef:vE,ssrContextKey:C3,ssrUtils:S8,stop:lE,toDisplayString:xs,toHandlerKey:vf,toHandlers:$E,toRaw:Dr,toRef:n3,toRefs:SE,transformVNodeArgs:s8,triggerRef:wE,unref:_o,useAttrs:M3,useCssModule:A8,useCssVars:k8,useSSRContext:A3,useSlots:_8,useTransitionState:Yx,vModelCheckbox:iv,vModelDynamic:I3,vModelRadio:nv,vModelSelect:Hu,vModelText:kf,vShow:L3,version:P3,warn:ME,watch:Bc,watchEffect:RE,watchPostEffect:l3,watchSyncEffect:zE,withAsyncContext:b8,withCtx:ao,withDefaults:g8,withDirectives:qh,withKeys:j8,withMemo:T8,withModifiers:N8,withScopeId:DE},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var IM;function Ji(){return IM.apply(null,arguments)}function hI(e){IM=e}function dh(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ef(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Wr(e,i){return Object.prototype.hasOwnProperty.call(e,i)}function t5(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var i;for(i in e)if(Wr(e,i))return!1;return!0}function fl(e){return e===void 0}function Zd(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function H1(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function LM(e,i){var s=[],l,h=e.length;for(l=0;l<h;++l)s.push(i(e[l],l));return s}function $u(e,i){for(var s in i)Wr(i,s)&&(e[s]=i[s]);return Wr(i,"toString")&&(e.toString=i.toString),Wr(i,"valueOf")&&(e.valueOf=i.valueOf),e}function ed(e,i,s,l){return nC(e,i,s,l,!0).utc()}function dI(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function er(e){return e._pf==null&&(e._pf=dI()),e._pf}var ww;Array.prototype.some?ww=Array.prototype.some:ww=function(e){var i=Object(this),s=i.length>>>0,l;for(l=0;l<s;l++)if(l in i&&e.call(this,i[l],l,i))return!0;return!1};function i5(e){if(e._isValid==null){var i=er(e),s=ww.call(i.parsedDateParts,function(h){return h!=null}),l=!isNaN(e._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidEra&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&s);if(e._strict&&(l=l&&i.charsLeftOver===0&&i.unusedTokens.length===0&&i.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=l;else return l}return e._isValid}function cv(e){var i=ed(NaN);return e!=null?$u(er(i),e):er(i).userInvalidated=!0,i}var iS=Ji.momentProperties=[],Cb=!1;function n5(e,i){var s,l,h,u=iS.length;if(fl(i._isAMomentObject)||(e._isAMomentObject=i._isAMomentObject),fl(i._i)||(e._i=i._i),fl(i._f)||(e._f=i._f),fl(i._l)||(e._l=i._l),fl(i._strict)||(e._strict=i._strict),fl(i._tzm)||(e._tzm=i._tzm),fl(i._isUTC)||(e._isUTC=i._isUTC),fl(i._offset)||(e._offset=i._offset),fl(i._pf)||(e._pf=er(i)),fl(i._locale)||(e._locale=i._locale),u>0)for(s=0;s<u;s++)l=iS[s],h=i[l],fl(h)||(e[l]=h);return e}function $1(e){n5(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Cb===!1&&(Cb=!0,Ji.updateOffset(this),Cb=!1)}function uh(e){return e instanceof $1||e!=null&&e._isAMomentObject!=null}function OM(e){Ji.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Nc(e,i){var s=!0;return $u(function(){if(Ji.deprecationHandler!=null&&Ji.deprecationHandler(null,e),s){var l=[],h,u,y,n=arguments.length;for(u=0;u<n;u++){if(h="",typeof arguments[u]=="object"){h+=`
[`+u+"] ";for(y in arguments[0])Wr(arguments[0],y)&&(h+=y+": "+arguments[0][y]+", ");h=h.slice(0,-2)}else h=arguments[u];l.push(h)}OM(e+`
Arguments: `+Array.prototype.slice.call(l).join("")+`
`+new Error().stack),s=!1}return i.apply(this,arguments)},i)}var nS={};function RM(e,i){Ji.deprecationHandler!=null&&Ji.deprecationHandler(e,i),nS[e]||(OM(i),nS[e]=!0)}Ji.suppressDeprecationWarnings=!1;Ji.deprecationHandler=null;function td(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function uI(e){var i,s;for(s in e)Wr(e,s)&&(i=e[s],td(i)?this[s]=i:this["_"+s]=i);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Tw(e,i){var s=$u({},e),l;for(l in i)Wr(i,l)&&(Ef(e[l])&&Ef(i[l])?(s[l]={},$u(s[l],e[l]),$u(s[l],i[l])):i[l]!=null?s[l]=i[l]:delete s[l]);for(l in e)Wr(e,l)&&!Wr(i,l)&&Ef(e[l])&&(s[l]=$u({},s[l]));return s}function r5(e){e!=null&&this.set(e)}var Sw;Object.keys?Sw=Object.keys:Sw=function(e){var i,s=[];for(i in e)Wr(e,i)&&s.push(i);return s};var pI={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function fI(e,i,s){var l=this._calendar[e]||this._calendar.sameElse;return td(l)?l.call(i,s):l}function Jh(e,i,s){var l=""+Math.abs(e),h=i-l.length,u=e>=0;return(u?s?"+":"":"-")+Math.pow(10,Math.max(0,h)).toString().substr(1)+l}var s5=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Py=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ab={},J0={};function Cn(e,i,s,l){var h=l;typeof l=="string"&&(h=function(){return this[l]()}),e&&(J0[e]=h),i&&(J0[i[0]]=function(){return Jh(h.apply(this,arguments),i[1],i[2])}),s&&(J0[s]=function(){return this.localeData().ordinal(h.apply(this,arguments),e)})}function mI(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function gI(e){var i=e.match(s5),s,l;for(s=0,l=i.length;s<l;s++)J0[i[s]]?i[s]=J0[i[s]]:i[s]=mI(i[s]);return function(h){var u="",y;for(y=0;y<l;y++)u+=td(i[y])?i[y].call(h,e):i[y];return u}}function Wy(e,i){return e.isValid()?(i=zM(i,e.localeData()),Ab[i]=Ab[i]||gI(i),Ab[i](e)):e.localeData().invalidDate()}function zM(e,i){var s=5;function l(h){return i.longDateFormat(h)||h}for(Py.lastIndex=0;s>=0&&Py.test(e);)e=e.replace(Py,l),Py.lastIndex=0,s-=1;return e}var _I={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function yI(e){var i=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return i||!s?i:(this._longDateFormat[e]=s.match(s5).map(function(l){return l==="MMMM"||l==="MM"||l==="DD"||l==="dddd"?l.slice(1):l}).join(""),this._longDateFormat[e])}var xI="Invalid date";function vI(){return this._invalidDate}var bI="%d",wI=/\d{1,2}/;function TI(e){return this._ordinal.replace("%d",e)}var SI={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function EI(e,i,s,l){var h=this._relativeTime[s];return td(h)?h(e,i,s,l):h.replace(/%d/i,e)}function MI(e,i){var s=this._relativeTime[e>0?"future":"past"];return td(s)?s(i):s.replace(/%s/i,i)}var p1={};function ka(e,i){var s=e.toLowerCase();p1[s]=p1[s+"s"]=p1[i]=e}function jc(e){return typeof e=="string"?p1[e]||p1[e.toLowerCase()]:void 0}function o5(e){var i={},s,l;for(l in e)Wr(e,l)&&(s=jc(l),s&&(i[s]=e[l]));return i}var BM={};function Pa(e,i){BM[e]=i}function CI(e){var i=[],s;for(s in e)Wr(e,s)&&i.push({unit:s,priority:BM[s]});return i.sort(function(l,h){return l.priority-h.priority}),i}function hv(e){return e%4===0&&e%100!==0||e%400===0}function Oc(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function gr(e){var i=+e,s=0;return i!==0&&isFinite(i)&&(s=Oc(i)),s}function Sm(e,i){return function(s){return s!=null?(FM(this,e,s),Ji.updateOffset(this,i),this):gx(this,e)}}function gx(e,i){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+i]():NaN}function FM(e,i,s){e.isValid()&&!isNaN(s)&&(i==="FullYear"&&hv(e.year())&&e.month()===1&&e.date()===29?(s=gr(s),e._d["set"+(e._isUTC?"UTC":"")+i](s,e.month(),gv(s,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+i](s))}function AI(e){return e=jc(e),td(this[e])?this[e]():this}function kI(e,i){if(typeof e=="object"){e=o5(e);var s=CI(e),l,h=s.length;for(l=0;l<h;l++)this[s[l].unit](e[s[l].unit])}else if(e=jc(e),td(this[e]))return this[e](i);return this}var NM=/\d/,ac=/\d\d/,jM=/\d{3}/,a5=/\d{4}/,dv=/[+-]?\d{6}/,Ps=/\d\d?/,UM=/\d\d\d\d?/,GM=/\d\d\d\d\d\d?/,uv=/\d{1,3}/,l5=/\d{1,4}/,pv=/[+-]?\d{1,6}/,Em=/\d+/,fv=/[+-]?\d+/,PI=/Z|[+-]\d\d:?\d\d/gi,mv=/Z|[+-]\d\d(?::?\d\d)?/gi,DI=/[+-]?\d+(\.\d{1,3})?/,X1=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,_x;_x={};function on(e,i,s){_x[e]=td(i)?i:function(l,h){return l&&s?s:i}}function II(e,i){return Wr(_x,e)?_x[e](i._strict,i._locale):new RegExp(LI(e))}function LI(e){return ec(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(i,s,l,h,u){return s||l||h||u}))}function ec(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ew={};function ls(e,i){var s,l=i,h;for(typeof e=="string"&&(e=[e]),Zd(i)&&(l=function(u,y){y[i]=gr(u)}),h=e.length,s=0;s<h;s++)Ew[e[s]]=l}function Y1(e,i){ls(e,function(s,l,h,u){h._w=h._w||{},i(s,h._w,h,u)})}function OI(e,i,s){i!=null&&Wr(Ew,e)&&Ew[e](i,s._a,s,e)}var Aa=0,jd=1,Xh=2,Oo=3,lh=4,Ud=5,yf=6,RI=7,zI=8;function BI(e,i){return(e%i+i)%i}var oo;Array.prototype.indexOf?oo=Array.prototype.indexOf:oo=function(e){var i;for(i=0;i<this.length;++i)if(this[i]===e)return i;return-1};function gv(e,i){if(isNaN(e)||isNaN(i))return NaN;var s=BI(i,12);return e+=(i-s)/12,s===1?hv(e)?29:28:31-s%7%2}Cn("M",["MM",2],"Mo",function(){return this.month()+1});Cn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Cn("MMMM",0,0,function(e){return this.localeData().months(this,e)});ka("month","M");Pa("month",8);on("M",Ps);on("MM",Ps,ac);on("MMM",function(e,i){return i.monthsShortRegex(e)});on("MMMM",function(e,i){return i.monthsRegex(e)});ls(["M","MM"],function(e,i){i[jd]=gr(e)-1});ls(["MMM","MMMM"],function(e,i,s,l){var h=s._locale.monthsParse(e,l,s._strict);h!=null?i[jd]=h:er(s).invalidMonth=e});var FI="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),VM="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),WM=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,NI=X1,jI=X1;function UI(e,i){return e?dh(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||WM).test(i)?"format":"standalone"][e.month()]:dh(this._months)?this._months:this._months.standalone}function GI(e,i){return e?dh(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[WM.test(i)?"format":"standalone"][e.month()]:dh(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function VI(e,i,s){var l,h,u,y=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],l=0;l<12;++l)u=ed([2e3,l]),this._shortMonthsParse[l]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[l]=this.months(u,"").toLocaleLowerCase();return s?i==="MMM"?(h=oo.call(this._shortMonthsParse,y),h!==-1?h:null):(h=oo.call(this._longMonthsParse,y),h!==-1?h:null):i==="MMM"?(h=oo.call(this._shortMonthsParse,y),h!==-1?h:(h=oo.call(this._longMonthsParse,y),h!==-1?h:null)):(h=oo.call(this._longMonthsParse,y),h!==-1?h:(h=oo.call(this._shortMonthsParse,y),h!==-1?h:null))}function WI(e,i,s){var l,h,u;if(this._monthsParseExact)return VI.call(this,e,i,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),l=0;l<12;l++){if(h=ed([2e3,l]),s&&!this._longMonthsParse[l]&&(this._longMonthsParse[l]=new RegExp("^"+this.months(h,"").replace(".","")+"$","i"),this._shortMonthsParse[l]=new RegExp("^"+this.monthsShort(h,"").replace(".","")+"$","i")),!s&&!this._monthsParse[l]&&(u="^"+this.months(h,"")+"|^"+this.monthsShort(h,""),this._monthsParse[l]=new RegExp(u.replace(".",""),"i")),s&&i==="MMMM"&&this._longMonthsParse[l].test(e))return l;if(s&&i==="MMM"&&this._shortMonthsParse[l].test(e))return l;if(!s&&this._monthsParse[l].test(e))return l}}function HM(e,i){var s;if(!e.isValid())return e;if(typeof i=="string"){if(/^\d+$/.test(i))i=gr(i);else if(i=e.localeData().monthsParse(i),!Zd(i))return e}return s=Math.min(e.date(),gv(e.year(),i)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](i,s),e}function $M(e){return e!=null?(HM(this,e),Ji.updateOffset(this,!0),this):gx(this,"Month")}function HI(){return gv(this.year(),this.month())}function $I(e){return this._monthsParseExact?(Wr(this,"_monthsRegex")||XM.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Wr(this,"_monthsShortRegex")||(this._monthsShortRegex=NI),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function XI(e){return this._monthsParseExact?(Wr(this,"_monthsRegex")||XM.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Wr(this,"_monthsRegex")||(this._monthsRegex=jI),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function XM(){function e(y,n){return n.length-y.length}var i=[],s=[],l=[],h,u;for(h=0;h<12;h++)u=ed([2e3,h]),i.push(this.monthsShort(u,"")),s.push(this.months(u,"")),l.push(this.months(u,"")),l.push(this.monthsShort(u,""));for(i.sort(e),s.sort(e),l.sort(e),h=0;h<12;h++)i[h]=ec(i[h]),s[h]=ec(s[h]);for(h=0;h<24;h++)l[h]=ec(l[h]);this._monthsRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}Cn("Y",0,0,function(){var e=this.year();return e<=9999?Jh(e,4):"+"+e});Cn(0,["YY",2],0,function(){return this.year()%100});Cn(0,["YYYY",4],0,"year");Cn(0,["YYYYY",5],0,"year");Cn(0,["YYYYYY",6,!0],0,"year");ka("year","y");Pa("year",1);on("Y",fv);on("YY",Ps,ac);on("YYYY",l5,a5);on("YYYYY",pv,dv);on("YYYYYY",pv,dv);ls(["YYYYY","YYYYYY"],Aa);ls("YYYY",function(e,i){i[Aa]=e.length===2?Ji.parseTwoDigitYear(e):gr(e)});ls("YY",function(e,i){i[Aa]=Ji.parseTwoDigitYear(e)});ls("Y",function(e,i){i[Aa]=parseInt(e,10)});function f1(e){return hv(e)?366:365}Ji.parseTwoDigitYear=function(e){return gr(e)+(gr(e)>68?1900:2e3)};var YM=Sm("FullYear",!0);function YI(){return hv(this.year())}function qI(e,i,s,l,h,u,y){var n;return e<100&&e>=0?(n=new Date(e+400,i,s,l,h,u,y),isFinite(n.getFullYear())&&n.setFullYear(e)):n=new Date(e,i,s,l,h,u,y),n}function A1(e){var i,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,i=new Date(Date.UTC.apply(null,s)),isFinite(i.getUTCFullYear())&&i.setUTCFullYear(e)):i=new Date(Date.UTC.apply(null,arguments)),i}function yx(e,i,s){var l=7+i-s,h=(7+A1(e,0,l).getUTCDay()-i)%7;return-h+l-1}function qM(e,i,s,l,h){var u=(7+s-l)%7,y=yx(e,l,h),n=1+7*(i-1)+u+y,w,z;return n<=0?(w=e-1,z=f1(w)+n):n>f1(e)?(w=e+1,z=n-f1(e)):(w=e,z=n),{year:w,dayOfYear:z}}function k1(e,i,s){var l=yx(e.year(),i,s),h=Math.floor((e.dayOfYear()-l-1)/7)+1,u,y;return h<1?(y=e.year()-1,u=h+Wd(y,i,s)):h>Wd(e.year(),i,s)?(u=h-Wd(e.year(),i,s),y=e.year()+1):(y=e.year(),u=h),{week:u,year:y}}function Wd(e,i,s){var l=yx(e,i,s),h=yx(e+1,i,s);return(f1(e)-l+h)/7}Cn("w",["ww",2],"wo","week");Cn("W",["WW",2],"Wo","isoWeek");ka("week","w");ka("isoWeek","W");Pa("week",5);Pa("isoWeek",5);on("w",Ps);on("ww",Ps,ac);on("W",Ps);on("WW",Ps,ac);Y1(["w","ww","W","WW"],function(e,i,s,l){i[l.substr(0,1)]=gr(e)});function ZI(e){return k1(e,this._week.dow,this._week.doy).week}var KI={dow:0,doy:6};function JI(){return this._week.dow}function QI(){return this._week.doy}function eL(e){var i=this.localeData().week(this);return e==null?i:this.add((e-i)*7,"d")}function tL(e){var i=k1(this,1,4).week;return e==null?i:this.add((e-i)*7,"d")}Cn("d",0,"do","day");Cn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Cn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Cn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Cn("e",0,0,"weekday");Cn("E",0,0,"isoWeekday");ka("day","d");ka("weekday","e");ka("isoWeekday","E");Pa("day",11);Pa("weekday",11);Pa("isoWeekday",11);on("d",Ps);on("e",Ps);on("E",Ps);on("dd",function(e,i){return i.weekdaysMinRegex(e)});on("ddd",function(e,i){return i.weekdaysShortRegex(e)});on("dddd",function(e,i){return i.weekdaysRegex(e)});Y1(["dd","ddd","dddd"],function(e,i,s,l){var h=s._locale.weekdaysParse(e,l,s._strict);h!=null?i.d=h:er(s).invalidWeekday=e});Y1(["d","e","E"],function(e,i,s,l){i[l]=gr(e)});function iL(e,i){return typeof e!="string"?e:isNaN(e)?(e=i.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function nL(e,i){return typeof e=="string"?i.weekdaysParse(e)%7||7:isNaN(e)?null:e}function c5(e,i){return e.slice(i,7).concat(e.slice(0,i))}var rL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ZM="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),sL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),oL=X1,aL=X1,lL=X1;function cL(e,i){var s=dh(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(i)?"format":"standalone"];return e===!0?c5(s,this._week.dow):e?s[e.day()]:s}function hL(e){return e===!0?c5(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function dL(e){return e===!0?c5(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function uL(e,i,s){var l,h,u,y=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],l=0;l<7;++l)u=ed([2e3,1]).day(l),this._minWeekdaysParse[l]=this.weekdaysMin(u,"").toLocaleLowerCase(),this._shortWeekdaysParse[l]=this.weekdaysShort(u,"").toLocaleLowerCase(),this._weekdaysParse[l]=this.weekdays(u,"").toLocaleLowerCase();return s?i==="dddd"?(h=oo.call(this._weekdaysParse,y),h!==-1?h:null):i==="ddd"?(h=oo.call(this._shortWeekdaysParse,y),h!==-1?h:null):(h=oo.call(this._minWeekdaysParse,y),h!==-1?h:null):i==="dddd"?(h=oo.call(this._weekdaysParse,y),h!==-1||(h=oo.call(this._shortWeekdaysParse,y),h!==-1)?h:(h=oo.call(this._minWeekdaysParse,y),h!==-1?h:null)):i==="ddd"?(h=oo.call(this._shortWeekdaysParse,y),h!==-1||(h=oo.call(this._weekdaysParse,y),h!==-1)?h:(h=oo.call(this._minWeekdaysParse,y),h!==-1?h:null)):(h=oo.call(this._minWeekdaysParse,y),h!==-1||(h=oo.call(this._weekdaysParse,y),h!==-1)?h:(h=oo.call(this._shortWeekdaysParse,y),h!==-1?h:null))}function pL(e,i,s){var l,h,u;if(this._weekdaysParseExact)return uL.call(this,e,i,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),l=0;l<7;l++){if(h=ed([2e3,1]).day(l),s&&!this._fullWeekdaysParse[l]&&(this._fullWeekdaysParse[l]=new RegExp("^"+this.weekdays(h,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[l]=new RegExp("^"+this.weekdaysShort(h,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[l]=new RegExp("^"+this.weekdaysMin(h,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[l]||(u="^"+this.weekdays(h,"")+"|^"+this.weekdaysShort(h,"")+"|^"+this.weekdaysMin(h,""),this._weekdaysParse[l]=new RegExp(u.replace(".",""),"i")),s&&i==="dddd"&&this._fullWeekdaysParse[l].test(e))return l;if(s&&i==="ddd"&&this._shortWeekdaysParse[l].test(e))return l;if(s&&i==="dd"&&this._minWeekdaysParse[l].test(e))return l;if(!s&&this._weekdaysParse[l].test(e))return l}}function fL(e){if(!this.isValid())return e!=null?this:NaN;var i=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=iL(e,this.localeData()),this.add(e-i,"d")):i}function mL(e){if(!this.isValid())return e!=null?this:NaN;var i=(this.day()+7-this.localeData()._week.dow)%7;return e==null?i:this.add(e-i,"d")}function gL(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var i=nL(e,this.localeData());return this.day(this.day()%7?i:i-7)}else return this.day()||7}function _L(e){return this._weekdaysParseExact?(Wr(this,"_weekdaysRegex")||h5.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Wr(this,"_weekdaysRegex")||(this._weekdaysRegex=oL),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function yL(e){return this._weekdaysParseExact?(Wr(this,"_weekdaysRegex")||h5.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Wr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=aL),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function xL(e){return this._weekdaysParseExact?(Wr(this,"_weekdaysRegex")||h5.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Wr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=lL),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function h5(){function e(ie,G){return G.length-ie.length}var i=[],s=[],l=[],h=[],u,y,n,w,z;for(u=0;u<7;u++)y=ed([2e3,1]).day(u),n=ec(this.weekdaysMin(y,"")),w=ec(this.weekdaysShort(y,"")),z=ec(this.weekdays(y,"")),i.push(n),s.push(w),l.push(z),h.push(n),h.push(w),h.push(z);i.sort(e),s.sort(e),l.sort(e),h.sort(e),this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function d5(){return this.hours()%12||12}function vL(){return this.hours()||24}Cn("H",["HH",2],0,"hour");Cn("h",["hh",2],0,d5);Cn("k",["kk",2],0,vL);Cn("hmm",0,0,function(){return""+d5.apply(this)+Jh(this.minutes(),2)});Cn("hmmss",0,0,function(){return""+d5.apply(this)+Jh(this.minutes(),2)+Jh(this.seconds(),2)});Cn("Hmm",0,0,function(){return""+this.hours()+Jh(this.minutes(),2)});Cn("Hmmss",0,0,function(){return""+this.hours()+Jh(this.minutes(),2)+Jh(this.seconds(),2)});function KM(e,i){Cn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),i)})}KM("a",!0);KM("A",!1);ka("hour","h");Pa("hour",13);function JM(e,i){return i._meridiemParse}on("a",JM);on("A",JM);on("H",Ps);on("h",Ps);on("k",Ps);on("HH",Ps,ac);on("hh",Ps,ac);on("kk",Ps,ac);on("hmm",UM);on("hmmss",GM);on("Hmm",UM);on("Hmmss",GM);ls(["H","HH"],Oo);ls(["k","kk"],function(e,i,s){var l=gr(e);i[Oo]=l===24?0:l});ls(["a","A"],function(e,i,s){s._isPm=s._locale.isPM(e),s._meridiem=e});ls(["h","hh"],function(e,i,s){i[Oo]=gr(e),er(s).bigHour=!0});ls("hmm",function(e,i,s){var l=e.length-2;i[Oo]=gr(e.substr(0,l)),i[lh]=gr(e.substr(l)),er(s).bigHour=!0});ls("hmmss",function(e,i,s){var l=e.length-4,h=e.length-2;i[Oo]=gr(e.substr(0,l)),i[lh]=gr(e.substr(l,2)),i[Ud]=gr(e.substr(h)),er(s).bigHour=!0});ls("Hmm",function(e,i,s){var l=e.length-2;i[Oo]=gr(e.substr(0,l)),i[lh]=gr(e.substr(l))});ls("Hmmss",function(e,i,s){var l=e.length-4,h=e.length-2;i[Oo]=gr(e.substr(0,l)),i[lh]=gr(e.substr(l,2)),i[Ud]=gr(e.substr(h))});function bL(e){return(e+"").toLowerCase().charAt(0)==="p"}var wL=/[ap]\.?m?\.?/i,TL=Sm("Hours",!0);function SL(e,i,s){return e>11?s?"pm":"PM":s?"am":"AM"}var QM={calendar:pI,longDateFormat:_I,invalidDate:xI,ordinal:bI,dayOfMonthOrdinalParse:wI,relativeTime:SI,months:FI,monthsShort:VM,week:KI,weekdays:rL,weekdaysMin:sL,weekdaysShort:ZM,meridiemParse:wL},Bs={},n1={},P1;function EL(e,i){var s,l=Math.min(e.length,i.length);for(s=0;s<l;s+=1)if(e[s]!==i[s])return s;return l}function rS(e){return e&&e.toLowerCase().replace("_","-")}function ML(e){for(var i=0,s,l,h,u;i<e.length;){for(u=rS(e[i]).split("-"),s=u.length,l=rS(e[i+1]),l=l?l.split("-"):null;s>0;){if(h=_v(u.slice(0,s).join("-")),h)return h;if(l&&l.length>=s&&EL(u,l)>=s-1)break;s--}i++}return P1}function CL(e){return e.match("^[^/\\\\]*$")!=null}function _v(e){var i=null,s;if(Bs[e]===void 0&&typeof qy<"u"&&qy&&qy.exports&&CL(e))try{i=P1._abbr,s=require,s("./locale/"+e),ep(i)}catch{Bs[e]=null}return Bs[e]}function ep(e,i){var s;return e&&(fl(i)?s=eu(e):s=u5(e,i),s?P1=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),P1._abbr}function u5(e,i){if(i!==null){var s,l=QM;if(i.abbr=e,Bs[e]!=null)RM("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),l=Bs[e]._config;else if(i.parentLocale!=null)if(Bs[i.parentLocale]!=null)l=Bs[i.parentLocale]._config;else if(s=_v(i.parentLocale),s!=null)l=s._config;else return n1[i.parentLocale]||(n1[i.parentLocale]=[]),n1[i.parentLocale].push({name:e,config:i}),null;return Bs[e]=new r5(Tw(l,i)),n1[e]&&n1[e].forEach(function(h){u5(h.name,h.config)}),ep(e),Bs[e]}else return delete Bs[e],null}function AL(e,i){if(i!=null){var s,l,h=QM;Bs[e]!=null&&Bs[e].parentLocale!=null?Bs[e].set(Tw(Bs[e]._config,i)):(l=_v(e),l!=null&&(h=l._config),i=Tw(h,i),l==null&&(i.abbr=e),s=new r5(i),s.parentLocale=Bs[e],Bs[e]=s),ep(e)}else Bs[e]!=null&&(Bs[e].parentLocale!=null?(Bs[e]=Bs[e].parentLocale,e===ep()&&ep(e)):Bs[e]!=null&&delete Bs[e]);return Bs[e]}function eu(e){var i;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return P1;if(!dh(e)){if(i=_v(e),i)return i;e=[e]}return ML(e)}function kL(){return Sw(Bs)}function p5(e){var i,s=e._a;return s&&er(e).overflow===-2&&(i=s[jd]<0||s[jd]>11?jd:s[Xh]<1||s[Xh]>gv(s[Aa],s[jd])?Xh:s[Oo]<0||s[Oo]>24||s[Oo]===24&&(s[lh]!==0||s[Ud]!==0||s[yf]!==0)?Oo:s[lh]<0||s[lh]>59?lh:s[Ud]<0||s[Ud]>59?Ud:s[yf]<0||s[yf]>999?yf:-1,er(e)._overflowDayOfYear&&(i<Aa||i>Xh)&&(i=Xh),er(e)._overflowWeeks&&i===-1&&(i=RI),er(e)._overflowWeekday&&i===-1&&(i=zI),er(e).overflow=i),e}var PL=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,DL=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IL=/Z|[+-]\d\d(?::?\d\d)?/,Dy=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],LL=/^\/?Date\((-?\d+)/i,OL=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,RL={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function eC(e){var i,s,l=e._i,h=PL.exec(l)||DL.exec(l),u,y,n,w,z=Dy.length,ie=kb.length;if(h){for(er(e).iso=!0,i=0,s=z;i<s;i++)if(Dy[i][1].exec(h[1])){y=Dy[i][0],u=Dy[i][2]!==!1;break}if(y==null){e._isValid=!1;return}if(h[3]){for(i=0,s=ie;i<s;i++)if(kb[i][1].exec(h[3])){n=(h[2]||" ")+kb[i][0];break}if(n==null){e._isValid=!1;return}}if(!u&&n!=null){e._isValid=!1;return}if(h[4])if(IL.exec(h[4]))w="Z";else{e._isValid=!1;return}e._f=y+(n||"")+(w||""),m5(e)}else e._isValid=!1}function zL(e,i,s,l,h,u){var y=[BL(e),VM.indexOf(i),parseInt(s,10),parseInt(l,10),parseInt(h,10)];return u&&y.push(parseInt(u,10)),y}function BL(e){var i=parseInt(e,10);return i<=49?2e3+i:i<=999?1900+i:i}function FL(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function NL(e,i,s){if(e){var l=ZM.indexOf(e),h=new Date(i[0],i[1],i[2]).getDay();if(l!==h)return er(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function jL(e,i,s){if(e)return RL[e];if(i)return 0;var l=parseInt(s,10),h=l%100,u=(l-h)/100;return u*60+h}function tC(e){var i=OL.exec(FL(e._i)),s;if(i){if(s=zL(i[4],i[3],i[2],i[5],i[6],i[7]),!NL(i[1],s,e))return;e._a=s,e._tzm=jL(i[8],i[9],i[10]),e._d=A1.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),er(e).rfc2822=!0}else e._isValid=!1}function UL(e){var i=LL.exec(e._i);if(i!==null){e._d=new Date(+i[1]);return}if(eC(e),e._isValid===!1)delete e._isValid;else return;if(tC(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Ji.createFromInputFallback(e)}Ji.createFromInputFallback=Nc("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function W0(e,i,s){return e??i??s}function GL(e){var i=new Date(Ji.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function f5(e){var i,s,l=[],h,u,y;if(!e._d){for(h=GL(e),e._w&&e._a[Xh]==null&&e._a[jd]==null&&VL(e),e._dayOfYear!=null&&(y=W0(e._a[Aa],h[Aa]),(e._dayOfYear>f1(y)||e._dayOfYear===0)&&(er(e)._overflowDayOfYear=!0),s=A1(y,0,e._dayOfYear),e._a[jd]=s.getUTCMonth(),e._a[Xh]=s.getUTCDate()),i=0;i<3&&e._a[i]==null;++i)e._a[i]=l[i]=h[i];for(;i<7;i++)e._a[i]=l[i]=e._a[i]==null?i===2?1:0:e._a[i];e._a[Oo]===24&&e._a[lh]===0&&e._a[Ud]===0&&e._a[yf]===0&&(e._nextDay=!0,e._a[Oo]=0),e._d=(e._useUTC?A1:qI).apply(null,l),u=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Oo]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==u&&(er(e).weekdayMismatch=!0)}}function VL(e){var i,s,l,h,u,y,n,w,z;i=e._w,i.GG!=null||i.W!=null||i.E!=null?(u=1,y=4,s=W0(i.GG,e._a[Aa],k1(ks(),1,4).year),l=W0(i.W,1),h=W0(i.E,1),(h<1||h>7)&&(w=!0)):(u=e._locale._week.dow,y=e._locale._week.doy,z=k1(ks(),u,y),s=W0(i.gg,e._a[Aa],z.year),l=W0(i.w,z.week),i.d!=null?(h=i.d,(h<0||h>6)&&(w=!0)):i.e!=null?(h=i.e+u,(i.e<0||i.e>6)&&(w=!0)):h=u),l<1||l>Wd(s,u,y)?er(e)._overflowWeeks=!0:w!=null?er(e)._overflowWeekday=!0:(n=qM(s,l,h,u,y),e._a[Aa]=n.year,e._dayOfYear=n.dayOfYear)}Ji.ISO_8601=function(){};Ji.RFC_2822=function(){};function m5(e){if(e._f===Ji.ISO_8601){eC(e);return}if(e._f===Ji.RFC_2822){tC(e);return}e._a=[],er(e).empty=!0;var i=""+e._i,s,l,h,u,y,n=i.length,w=0,z,ie;for(h=zM(e._f,e._locale).match(s5)||[],ie=h.length,s=0;s<ie;s++)u=h[s],l=(i.match(II(u,e))||[])[0],l&&(y=i.substr(0,i.indexOf(l)),y.length>0&&er(e).unusedInput.push(y),i=i.slice(i.indexOf(l)+l.length),w+=l.length),J0[u]?(l?er(e).empty=!1:er(e).unusedTokens.push(u),OI(u,l,e)):e._strict&&!l&&er(e).unusedTokens.push(u);er(e).charsLeftOver=n-w,i.length>0&&er(e).unusedInput.push(i),e._a[Oo]<=12&&er(e).bigHour===!0&&e._a[Oo]>0&&(er(e).bigHour=void 0),er(e).parsedDateParts=e._a.slice(0),er(e).meridiem=e._meridiem,e._a[Oo]=WL(e._locale,e._a[Oo],e._meridiem),z=er(e).era,z!==null&&(e._a[Aa]=e._locale.erasConvertYear(z,e._a[Aa])),f5(e),p5(e)}function WL(e,i,s){var l;return s==null?i:e.meridiemHour!=null?e.meridiemHour(i,s):(e.isPM!=null&&(l=e.isPM(s),l&&i<12&&(i+=12),!l&&i===12&&(i=0)),i)}function HL(e){var i,s,l,h,u,y,n=!1,w=e._f.length;if(w===0){er(e).invalidFormat=!0,e._d=new Date(NaN);return}for(h=0;h<w;h++)u=0,y=!1,i=n5({},e),e._useUTC!=null&&(i._useUTC=e._useUTC),i._f=e._f[h],m5(i),i5(i)&&(y=!0),u+=er(i).charsLeftOver,u+=er(i).unusedTokens.length*10,er(i).score=u,n?u<l&&(l=u,s=i):(l==null||u<l||y)&&(l=u,s=i,y&&(n=!0));$u(e,s||i)}function $L(e){if(!e._d){var i=o5(e._i),s=i.day===void 0?i.date:i.day;e._a=LM([i.year,i.month,s,i.hour,i.minute,i.second,i.millisecond],function(l){return l&&parseInt(l,10)}),f5(e)}}function XL(e){var i=new $1(p5(iC(e)));return i._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function iC(e){var i=e._i,s=e._f;return e._locale=e._locale||eu(e._l),i===null||s===void 0&&i===""?cv({nullInput:!0}):(typeof i=="string"&&(e._i=i=e._locale.preparse(i)),uh(i)?new $1(p5(i)):(H1(i)?e._d=i:dh(s)?HL(e):s?m5(e):YL(e),i5(e)||(e._d=null),e))}function YL(e){var i=e._i;fl(i)?e._d=new Date(Ji.now()):H1(i)?e._d=new Date(i.valueOf()):typeof i=="string"?UL(e):dh(i)?(e._a=LM(i.slice(0),function(s){return parseInt(s,10)}),f5(e)):Ef(i)?$L(e):Zd(i)?e._d=new Date(i):Ji.createFromInputFallback(e)}function nC(e,i,s,l,h){var u={};return(i===!0||i===!1)&&(l=i,i=void 0),(s===!0||s===!1)&&(l=s,s=void 0),(Ef(e)&&t5(e)||dh(e)&&e.length===0)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=h,u._l=s,u._i=e,u._f=i,u._strict=l,XL(u)}function ks(e,i,s,l){return nC(e,i,s,l,!1)}var qL=Nc("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ks.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:cv()}),ZL=Nc("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ks.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:cv()});function rC(e,i){var s,l;if(i.length===1&&dh(i[0])&&(i=i[0]),!i.length)return ks();for(s=i[0],l=1;l<i.length;++l)(!i[l].isValid()||i[l][e](s))&&(s=i[l]);return s}function KL(){var e=[].slice.call(arguments,0);return rC("isBefore",e)}function JL(){var e=[].slice.call(arguments,0);return rC("isAfter",e)}var QL=function(){return Date.now?Date.now():+new Date},r1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function e9(e){var i,s=!1,l,h=r1.length;for(i in e)if(Wr(e,i)&&!(oo.call(r1,i)!==-1&&(e[i]==null||!isNaN(e[i]))))return!1;for(l=0;l<h;++l)if(e[r1[l]]){if(s)return!1;parseFloat(e[r1[l]])!==gr(e[r1[l]])&&(s=!0)}return!0}function t9(){return this._isValid}function i9(){return fh(NaN)}function yv(e){var i=o5(e),s=i.year||0,l=i.quarter||0,h=i.month||0,u=i.week||i.isoWeek||0,y=i.day||0,n=i.hour||0,w=i.minute||0,z=i.second||0,ie=i.millisecond||0;this._isValid=e9(i),this._milliseconds=+ie+z*1e3+w*6e4+n*1e3*60*60,this._days=+y+u*7,this._months=+h+l*3+s*12,this._data={},this._locale=eu(),this._bubble()}function Hy(e){return e instanceof yv}function Mw(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function n9(e,i,s){var l=Math.min(e.length,i.length),h=Math.abs(e.length-i.length),u=0,y;for(y=0;y<l;y++)(s&&e[y]!==i[y]||!s&&gr(e[y])!==gr(i[y]))&&u++;return u+h}function sC(e,i){Cn(e,0,0,function(){var s=this.utcOffset(),l="+";return s<0&&(s=-s,l="-"),l+Jh(~~(s/60),2)+i+Jh(~~s%60,2)})}sC("Z",":");sC("ZZ","");on("Z",mv);on("ZZ",mv);ls(["Z","ZZ"],function(e,i,s){s._useUTC=!0,s._tzm=g5(mv,e)});var r9=/([\+\-]|\d\d)/gi;function g5(e,i){var s=(i||"").match(e),l,h,u;return s===null?null:(l=s[s.length-1]||[],h=(l+"").match(r9)||["-",0,0],u=+(h[1]*60)+gr(h[2]),u===0?0:h[0]==="+"?u:-u)}function _5(e,i){var s,l;return i._isUTC?(s=i.clone(),l=(uh(e)||H1(e)?e.valueOf():ks(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+l),Ji.updateOffset(s,!1),s):ks(e).local()}function Cw(e){return-Math.round(e._d.getTimezoneOffset())}Ji.updateOffset=function(){};function s9(e,i,s){var l=this._offset||0,h;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=g5(mv,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&i&&(h=Cw(this)),this._offset=e,this._isUTC=!0,h!=null&&this.add(h,"m"),l!==e&&(!i||this._changeInProgress?lC(this,fh(e-l,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ji.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?l:Cw(this)}function o9(e,i){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,i),this):-this.utcOffset()}function a9(e){return this.utcOffset(0,e)}function l9(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Cw(this),"m")),this}function c9(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=g5(PI,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function h9(e){return this.isValid()?(e=e?ks(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function d9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function u9(){if(!fl(this._isDSTShifted))return this._isDSTShifted;var e={},i;return n5(e,this),e=iC(e),e._a?(i=e._isUTC?ed(e._a):ks(e._a),this._isDSTShifted=this.isValid()&&n9(e._a,i.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function p9(){return this.isValid()?!this._isUTC:!1}function f9(){return this.isValid()?this._isUTC:!1}function oC(){return this.isValid()?this._isUTC&&this._offset===0:!1}var m9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,g9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function fh(e,i){var s=e,l=null,h,u,y;return Hy(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:Zd(e)||!isNaN(+e)?(s={},i?s[i]=+e:s.milliseconds=+e):(l=m9.exec(e))?(h=l[1]==="-"?-1:1,s={y:0,d:gr(l[Xh])*h,h:gr(l[Oo])*h,m:gr(l[lh])*h,s:gr(l[Ud])*h,ms:gr(Mw(l[yf]*1e3))*h}):(l=g9.exec(e))?(h=l[1]==="-"?-1:1,s={y:cf(l[2],h),M:cf(l[3],h),w:cf(l[4],h),d:cf(l[5],h),h:cf(l[6],h),m:cf(l[7],h),s:cf(l[8],h)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(y=_9(ks(s.from),ks(s.to)),s={},s.ms=y.milliseconds,s.M=y.months),u=new yv(s),Hy(e)&&Wr(e,"_locale")&&(u._locale=e._locale),Hy(e)&&Wr(e,"_isValid")&&(u._isValid=e._isValid),u}fh.fn=yv.prototype;fh.invalid=i9;function cf(e,i){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*i}function sS(e,i){var s={};return s.months=i.month()-e.month()+(i.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(i)&&--s.months,s.milliseconds=+i-+e.clone().add(s.months,"M"),s}function _9(e,i){var s;return e.isValid()&&i.isValid()?(i=_5(i,e),e.isBefore(i)?s=sS(e,i):(s=sS(i,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function aC(e,i){return function(s,l){var h,u;return l!==null&&!isNaN(+l)&&(RM(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=s,s=l,l=u),h=fh(s,l),lC(this,h,e),this}}function lC(e,i,s,l){var h=i._milliseconds,u=Mw(i._days),y=Mw(i._months);e.isValid()&&(l=l??!0,y&&HM(e,gx(e,"Month")+y*s),u&&FM(e,"Date",gx(e,"Date")+u*s),h&&e._d.setTime(e._d.valueOf()+h*s),l&&Ji.updateOffset(e,u||y))}var y9=aC(1,"add"),x9=aC(-1,"subtract");function cC(e){return typeof e=="string"||e instanceof String}function v9(e){return uh(e)||H1(e)||cC(e)||Zd(e)||w9(e)||b9(e)||e===null||e===void 0}function b9(e){var i=Ef(e)&&!t5(e),s=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],h,u,y=l.length;for(h=0;h<y;h+=1)u=l[h],s=s||Wr(e,u);return i&&s}function w9(e){var i=dh(e),s=!1;return i&&(s=e.filter(function(l){return!Zd(l)&&cC(e)}).length===0),i&&s}function T9(e){var i=Ef(e)&&!t5(e),s=!1,l=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],h,u;for(h=0;h<l.length;h+=1)u=l[h],s=s||Wr(e,u);return i&&s}function S9(e,i){var s=e.diff(i,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function E9(e,i){arguments.length===1&&(arguments[0]?v9(arguments[0])?(e=arguments[0],i=void 0):T9(arguments[0])&&(i=arguments[0],e=void 0):(e=void 0,i=void 0));var s=e||ks(),l=_5(s,this).startOf("day"),h=Ji.calendarFormat(this,l)||"sameElse",u=i&&(td(i[h])?i[h].call(this,s):i[h]);return this.format(u||this.localeData().calendar(h,this,ks(s)))}function M9(){return new $1(this)}function C9(e,i){var s=uh(e)?e:ks(e);return this.isValid()&&s.isValid()?(i=jc(i)||"millisecond",i==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(i).valueOf()):!1}function A9(e,i){var s=uh(e)?e:ks(e);return this.isValid()&&s.isValid()?(i=jc(i)||"millisecond",i==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(i).valueOf()<s.valueOf()):!1}function k9(e,i,s,l){var h=uh(e)?e:ks(e),u=uh(i)?i:ks(i);return this.isValid()&&h.isValid()&&u.isValid()?(l=l||"()",(l[0]==="("?this.isAfter(h,s):!this.isBefore(h,s))&&(l[1]===")"?this.isBefore(u,s):!this.isAfter(u,s))):!1}function P9(e,i){var s=uh(e)?e:ks(e),l;return this.isValid()&&s.isValid()?(i=jc(i)||"millisecond",i==="millisecond"?this.valueOf()===s.valueOf():(l=s.valueOf(),this.clone().startOf(i).valueOf()<=l&&l<=this.clone().endOf(i).valueOf())):!1}function D9(e,i){return this.isSame(e,i)||this.isAfter(e,i)}function I9(e,i){return this.isSame(e,i)||this.isBefore(e,i)}function L9(e,i,s){var l,h,u;if(!this.isValid())return NaN;if(l=_5(e,this),!l.isValid())return NaN;switch(h=(l.utcOffset()-this.utcOffset())*6e4,i=jc(i),i){case"year":u=$y(this,l)/12;break;case"month":u=$y(this,l);break;case"quarter":u=$y(this,l)/3;break;case"second":u=(this-l)/1e3;break;case"minute":u=(this-l)/6e4;break;case"hour":u=(this-l)/36e5;break;case"day":u=(this-l-h)/864e5;break;case"week":u=(this-l-h)/6048e5;break;default:u=this-l}return s?u:Oc(u)}function $y(e,i){if(e.date()<i.date())return-$y(i,e);var s=(i.year()-e.year())*12+(i.month()-e.month()),l=e.clone().add(s,"months"),h,u;return i-l<0?(h=e.clone().add(s-1,"months"),u=(i-l)/(l-h)):(h=e.clone().add(s+1,"months"),u=(i-l)/(h-l)),-(s+u)||0}Ji.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ji.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function O9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function R9(e){if(!this.isValid())return null;var i=e!==!0,s=i?this.clone().utc():this;return s.year()<0||s.year()>9999?Wy(s,i?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):td(Date.prototype.toISOString)?i?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Wy(s,"Z")):Wy(s,i?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function z9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",i="",s,l,h,u;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",i="Z"),s="["+e+'("]',l=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",h="-MM-DD[T]HH:mm:ss.SSS",u=i+'[")]',this.format(s+l+h+u)}function B9(e){e||(e=this.isUtc()?Ji.defaultFormatUtc:Ji.defaultFormat);var i=Wy(this,e);return this.localeData().postformat(i)}function F9(e,i){return this.isValid()&&(uh(e)&&e.isValid()||ks(e).isValid())?fh({to:this,from:e}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()}function N9(e){return this.from(ks(),e)}function j9(e,i){return this.isValid()&&(uh(e)&&e.isValid()||ks(e).isValid())?fh({from:this,to:e}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()}function U9(e){return this.to(ks(),e)}function hC(e){var i;return e===void 0?this._locale._abbr:(i=eu(e),i!=null&&(this._locale=i),this)}var dC=Nc("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function uC(){return this._locale}var xx=1e3,Q0=60*xx,vx=60*Q0,pC=(365*400+97)*24*vx;function em(e,i){return(e%i+i)%i}function fC(e,i,s){return e<100&&e>=0?new Date(e+400,i,s)-pC:new Date(e,i,s).valueOf()}function mC(e,i,s){return e<100&&e>=0?Date.UTC(e+400,i,s)-pC:Date.UTC(e,i,s)}function G9(e){var i,s;if(e=jc(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?mC:fC,e){case"year":i=s(this.year(),0,1);break;case"quarter":i=s(this.year(),this.month()-this.month()%3,1);break;case"month":i=s(this.year(),this.month(),1);break;case"week":i=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=s(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf(),i-=em(i+(this._isUTC?0:this.utcOffset()*Q0),vx);break;case"minute":i=this._d.valueOf(),i-=em(i,Q0);break;case"second":i=this._d.valueOf(),i-=em(i,xx);break}return this._d.setTime(i),Ji.updateOffset(this,!0),this}function V9(e){var i,s;if(e=jc(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?mC:fC,e){case"year":i=s(this.year()+1,0,1)-1;break;case"quarter":i=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=s(this.year(),this.month()+1,1)-1;break;case"week":i=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf(),i+=vx-em(i+(this._isUTC?0:this.utcOffset()*Q0),vx)-1;break;case"minute":i=this._d.valueOf(),i+=Q0-em(i,Q0)-1;break;case"second":i=this._d.valueOf(),i+=xx-em(i,xx)-1;break}return this._d.setTime(i),Ji.updateOffset(this,!0),this}function W9(){return this._d.valueOf()-(this._offset||0)*6e4}function H9(){return Math.floor(this.valueOf()/1e3)}function $9(){return new Date(this.valueOf())}function X9(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Y9(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function q9(){return this.isValid()?this.toISOString():null}function Z9(){return i5(this)}function K9(){return $u({},er(this))}function J9(){return er(this).overflow}function Q9(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Cn("N",0,0,"eraAbbr");Cn("NN",0,0,"eraAbbr");Cn("NNN",0,0,"eraAbbr");Cn("NNNN",0,0,"eraName");Cn("NNNNN",0,0,"eraNarrow");Cn("y",["y",1],"yo","eraYear");Cn("y",["yy",2],0,"eraYear");Cn("y",["yyy",3],0,"eraYear");Cn("y",["yyyy",4],0,"eraYear");on("N",y5);on("NN",y5);on("NNN",y5);on("NNNN",h7);on("NNNNN",d7);ls(["N","NN","NNN","NNNN","NNNNN"],function(e,i,s,l){var h=s._locale.erasParse(e,l,s._strict);h?er(s).era=h:er(s).invalidEra=e});on("y",Em);on("yy",Em);on("yyy",Em);on("yyyy",Em);on("yo",u7);ls(["y","yy","yyy","yyyy"],Aa);ls(["yo"],function(e,i,s,l){var h;s._locale._eraYearOrdinalRegex&&(h=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?i[Aa]=s._locale.eraYearOrdinalParse(e,h):i[Aa]=parseInt(e,10)});function e7(e,i){var s,l,h,u=this._eras||eu("en")._eras;for(s=0,l=u.length;s<l;++s){switch(typeof u[s].since){case"string":h=Ji(u[s].since).startOf("day"),u[s].since=h.valueOf();break}switch(typeof u[s].until){case"undefined":u[s].until=1/0;break;case"string":h=Ji(u[s].until).startOf("day").valueOf(),u[s].until=h.valueOf();break}}return u}function t7(e,i,s){var l,h,u=this.eras(),y,n,w;for(e=e.toUpperCase(),l=0,h=u.length;l<h;++l)if(y=u[l].name.toUpperCase(),n=u[l].abbr.toUpperCase(),w=u[l].narrow.toUpperCase(),s)switch(i){case"N":case"NN":case"NNN":if(n===e)return u[l];break;case"NNNN":if(y===e)return u[l];break;case"NNNNN":if(w===e)return u[l];break}else if([y,n,w].indexOf(e)>=0)return u[l]}function i7(e,i){var s=e.since<=e.until?1:-1;return i===void 0?Ji(e.since).year():Ji(e.since).year()+(i-e.offset)*s}function n7(){var e,i,s,l=this.localeData().eras();for(e=0,i=l.length;e<i;++e)if(s=this.clone().startOf("day").valueOf(),l[e].since<=s&&s<=l[e].until||l[e].until<=s&&s<=l[e].since)return l[e].name;return""}function r7(){var e,i,s,l=this.localeData().eras();for(e=0,i=l.length;e<i;++e)if(s=this.clone().startOf("day").valueOf(),l[e].since<=s&&s<=l[e].until||l[e].until<=s&&s<=l[e].since)return l[e].narrow;return""}function s7(){var e,i,s,l=this.localeData().eras();for(e=0,i=l.length;e<i;++e)if(s=this.clone().startOf("day").valueOf(),l[e].since<=s&&s<=l[e].until||l[e].until<=s&&s<=l[e].since)return l[e].abbr;return""}function o7(){var e,i,s,l,h=this.localeData().eras();for(e=0,i=h.length;e<i;++e)if(s=h[e].since<=h[e].until?1:-1,l=this.clone().startOf("day").valueOf(),h[e].since<=l&&l<=h[e].until||h[e].until<=l&&l<=h[e].since)return(this.year()-Ji(h[e].since).year())*s+h[e].offset;return this.year()}function a7(e){return Wr(this,"_erasNameRegex")||x5.call(this),e?this._erasNameRegex:this._erasRegex}function l7(e){return Wr(this,"_erasAbbrRegex")||x5.call(this),e?this._erasAbbrRegex:this._erasRegex}function c7(e){return Wr(this,"_erasNarrowRegex")||x5.call(this),e?this._erasNarrowRegex:this._erasRegex}function y5(e,i){return i.erasAbbrRegex(e)}function h7(e,i){return i.erasNameRegex(e)}function d7(e,i){return i.erasNarrowRegex(e)}function u7(e,i){return i._eraYearOrdinalRegex||Em}function x5(){var e=[],i=[],s=[],l=[],h,u,y=this.eras();for(h=0,u=y.length;h<u;++h)i.push(ec(y[h].name)),e.push(ec(y[h].abbr)),s.push(ec(y[h].narrow)),l.push(ec(y[h].name)),l.push(ec(y[h].abbr)),l.push(ec(y[h].narrow));this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}Cn(0,["gg",2],0,function(){return this.weekYear()%100});Cn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function xv(e,i){Cn(0,[e,e.length],0,i)}xv("gggg","weekYear");xv("ggggg","weekYear");xv("GGGG","isoWeekYear");xv("GGGGG","isoWeekYear");ka("weekYear","gg");ka("isoWeekYear","GG");Pa("weekYear",1);Pa("isoWeekYear",1);on("G",fv);on("g",fv);on("GG",Ps,ac);on("gg",Ps,ac);on("GGGG",l5,a5);on("gggg",l5,a5);on("GGGGG",pv,dv);on("ggggg",pv,dv);Y1(["gggg","ggggg","GGGG","GGGGG"],function(e,i,s,l){i[l.substr(0,2)]=gr(e)});Y1(["gg","GG"],function(e,i,s,l){i[l]=Ji.parseTwoDigitYear(e)});function p7(e){return gC.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function f7(e){return gC.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function m7(){return Wd(this.year(),1,4)}function g7(){return Wd(this.isoWeekYear(),1,4)}function _7(){var e=this.localeData()._week;return Wd(this.year(),e.dow,e.doy)}function y7(){var e=this.localeData()._week;return Wd(this.weekYear(),e.dow,e.doy)}function gC(e,i,s,l,h){var u;return e==null?k1(this,l,h).year:(u=Wd(e,l,h),i>u&&(i=u),x7.call(this,e,i,s,l,h))}function x7(e,i,s,l,h){var u=qM(e,i,s,l,h),y=A1(u.year,0,u.dayOfYear);return this.year(y.getUTCFullYear()),this.month(y.getUTCMonth()),this.date(y.getUTCDate()),this}Cn("Q",0,"Qo","quarter");ka("quarter","Q");Pa("quarter",7);on("Q",NM);ls("Q",function(e,i){i[jd]=(gr(e)-1)*3});function v7(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Cn("D",["DD",2],"Do","date");ka("date","D");Pa("date",9);on("D",Ps);on("DD",Ps,ac);on("Do",function(e,i){return e?i._dayOfMonthOrdinalParse||i._ordinalParse:i._dayOfMonthOrdinalParseLenient});ls(["D","DD"],Xh);ls("Do",function(e,i){i[Xh]=gr(e.match(Ps)[0])});var _C=Sm("Date",!0);Cn("DDD",["DDDD",3],"DDDo","dayOfYear");ka("dayOfYear","DDD");Pa("dayOfYear",4);on("DDD",uv);on("DDDD",jM);ls(["DDD","DDDD"],function(e,i,s){s._dayOfYear=gr(e)});function b7(e){var i=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?i:this.add(e-i,"d")}Cn("m",["mm",2],0,"minute");ka("minute","m");Pa("minute",14);on("m",Ps);on("mm",Ps,ac);ls(["m","mm"],lh);var w7=Sm("Minutes",!1);Cn("s",["ss",2],0,"second");ka("second","s");Pa("second",15);on("s",Ps);on("ss",Ps,ac);ls(["s","ss"],Ud);var T7=Sm("Seconds",!1);Cn("S",0,0,function(){return~~(this.millisecond()/100)});Cn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Cn(0,["SSS",3],0,"millisecond");Cn(0,["SSSS",4],0,function(){return this.millisecond()*10});Cn(0,["SSSSS",5],0,function(){return this.millisecond()*100});Cn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Cn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Cn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Cn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ka("millisecond","ms");Pa("millisecond",16);on("S",uv,NM);on("SS",uv,ac);on("SSS",uv,jM);var Xu,yC;for(Xu="SSSS";Xu.length<=9;Xu+="S")on(Xu,Em);function S7(e,i){i[yf]=gr(("0."+e)*1e3)}for(Xu="S";Xu.length<=9;Xu+="S")ls(Xu,S7);yC=Sm("Milliseconds",!1);Cn("z",0,0,"zoneAbbr");Cn("zz",0,0,"zoneName");function E7(){return this._isUTC?"UTC":""}function M7(){return this._isUTC?"Coordinated Universal Time":""}var Bi=$1.prototype;Bi.add=y9;Bi.calendar=E9;Bi.clone=M9;Bi.diff=L9;Bi.endOf=V9;Bi.format=B9;Bi.from=F9;Bi.fromNow=N9;Bi.to=j9;Bi.toNow=U9;Bi.get=AI;Bi.invalidAt=J9;Bi.isAfter=C9;Bi.isBefore=A9;Bi.isBetween=k9;Bi.isSame=P9;Bi.isSameOrAfter=D9;Bi.isSameOrBefore=I9;Bi.isValid=Z9;Bi.lang=dC;Bi.locale=hC;Bi.localeData=uC;Bi.max=ZL;Bi.min=qL;Bi.parsingFlags=K9;Bi.set=kI;Bi.startOf=G9;Bi.subtract=x9;Bi.toArray=X9;Bi.toObject=Y9;Bi.toDate=$9;Bi.toISOString=R9;Bi.inspect=z9;typeof Symbol<"u"&&Symbol.for!=null&&(Bi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Bi.toJSON=q9;Bi.toString=O9;Bi.unix=H9;Bi.valueOf=W9;Bi.creationData=Q9;Bi.eraName=n7;Bi.eraNarrow=r7;Bi.eraAbbr=s7;Bi.eraYear=o7;Bi.year=YM;Bi.isLeapYear=YI;Bi.weekYear=p7;Bi.isoWeekYear=f7;Bi.quarter=Bi.quarters=v7;Bi.month=$M;Bi.daysInMonth=HI;Bi.week=Bi.weeks=eL;Bi.isoWeek=Bi.isoWeeks=tL;Bi.weeksInYear=_7;Bi.weeksInWeekYear=y7;Bi.isoWeeksInYear=m7;Bi.isoWeeksInISOWeekYear=g7;Bi.date=_C;Bi.day=Bi.days=fL;Bi.weekday=mL;Bi.isoWeekday=gL;Bi.dayOfYear=b7;Bi.hour=Bi.hours=TL;Bi.minute=Bi.minutes=w7;Bi.second=Bi.seconds=T7;Bi.millisecond=Bi.milliseconds=yC;Bi.utcOffset=s9;Bi.utc=a9;Bi.local=l9;Bi.parseZone=c9;Bi.hasAlignedHourOffset=h9;Bi.isDST=d9;Bi.isLocal=p9;Bi.isUtcOffset=f9;Bi.isUtc=oC;Bi.isUTC=oC;Bi.zoneAbbr=E7;Bi.zoneName=M7;Bi.dates=Nc("dates accessor is deprecated. Use date instead.",_C);Bi.months=Nc("months accessor is deprecated. Use month instead",$M);Bi.years=Nc("years accessor is deprecated. Use year instead",YM);Bi.zone=Nc("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",o9);Bi.isDSTShifted=Nc("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",u9);function C7(e){return ks(e*1e3)}function A7(){return ks.apply(null,arguments).parseZone()}function xC(e){return e}var Hr=r5.prototype;Hr.calendar=fI;Hr.longDateFormat=yI;Hr.invalidDate=vI;Hr.ordinal=TI;Hr.preparse=xC;Hr.postformat=xC;Hr.relativeTime=EI;Hr.pastFuture=MI;Hr.set=uI;Hr.eras=e7;Hr.erasParse=t7;Hr.erasConvertYear=i7;Hr.erasAbbrRegex=l7;Hr.erasNameRegex=a7;Hr.erasNarrowRegex=c7;Hr.months=UI;Hr.monthsShort=GI;Hr.monthsParse=WI;Hr.monthsRegex=XI;Hr.monthsShortRegex=$I;Hr.week=ZI;Hr.firstDayOfYear=QI;Hr.firstDayOfWeek=JI;Hr.weekdays=cL;Hr.weekdaysMin=dL;Hr.weekdaysShort=hL;Hr.weekdaysParse=pL;Hr.weekdaysRegex=_L;Hr.weekdaysShortRegex=yL;Hr.weekdaysMinRegex=xL;Hr.isPM=bL;Hr.meridiem=SL;function bx(e,i,s,l){var h=eu(),u=ed().set(l,i);return h[s](u,e)}function vC(e,i,s){if(Zd(e)&&(i=e,e=void 0),e=e||"",i!=null)return bx(e,i,s,"month");var l,h=[];for(l=0;l<12;l++)h[l]=bx(e,l,s,"month");return h}function v5(e,i,s,l){typeof e=="boolean"?(Zd(i)&&(s=i,i=void 0),i=i||""):(i=e,s=i,e=!1,Zd(i)&&(s=i,i=void 0),i=i||"");var h=eu(),u=e?h._week.dow:0,y,n=[];if(s!=null)return bx(i,(s+u)%7,l,"day");for(y=0;y<7;y++)n[y]=bx(i,(y+u)%7,l,"day");return n}function k7(e,i){return vC(e,i,"months")}function P7(e,i){return vC(e,i,"monthsShort")}function D7(e,i,s){return v5(e,i,s,"weekdays")}function I7(e,i,s){return v5(e,i,s,"weekdaysShort")}function L7(e,i,s){return v5(e,i,s,"weekdaysMin")}ep("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var i=e%10,s=gr(e%100/10)===1?"th":i===1?"st":i===2?"nd":i===3?"rd":"th";return e+s}});Ji.lang=Nc("moment.lang is deprecated. Use moment.locale instead.",ep);Ji.langData=Nc("moment.langData is deprecated. Use moment.localeData instead.",eu);var Od=Math.abs;function O7(){var e=this._data;return this._milliseconds=Od(this._milliseconds),this._days=Od(this._days),this._months=Od(this._months),e.milliseconds=Od(e.milliseconds),e.seconds=Od(e.seconds),e.minutes=Od(e.minutes),e.hours=Od(e.hours),e.months=Od(e.months),e.years=Od(e.years),this}function bC(e,i,s,l){var h=fh(i,s);return e._milliseconds+=l*h._milliseconds,e._days+=l*h._days,e._months+=l*h._months,e._bubble()}function R7(e,i){return bC(this,e,i,1)}function z7(e,i){return bC(this,e,i,-1)}function oS(e){return e<0?Math.floor(e):Math.ceil(e)}function B7(){var e=this._milliseconds,i=this._days,s=this._months,l=this._data,h,u,y,n,w;return e>=0&&i>=0&&s>=0||e<=0&&i<=0&&s<=0||(e+=oS(Aw(s)+i)*864e5,i=0,s=0),l.milliseconds=e%1e3,h=Oc(e/1e3),l.seconds=h%60,u=Oc(h/60),l.minutes=u%60,y=Oc(u/60),l.hours=y%24,i+=Oc(y/24),w=Oc(wC(i)),s+=w,i-=oS(Aw(w)),n=Oc(s/12),s%=12,l.days=i,l.months=s,l.years=n,this}function wC(e){return e*4800/146097}function Aw(e){return e*146097/4800}function F7(e){if(!this.isValid())return NaN;var i,s,l=this._milliseconds;if(e=jc(e),e==="month"||e==="quarter"||e==="year")switch(i=this._days+l/864e5,s=this._months+wC(i),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(i=this._days+Math.round(Aw(this._months)),e){case"week":return i/7+l/6048e5;case"day":return i+l/864e5;case"hour":return i*24+l/36e5;case"minute":return i*1440+l/6e4;case"second":return i*86400+l/1e3;case"millisecond":return Math.floor(i*864e5)+l;default:throw new Error("Unknown unit "+e)}}function N7(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+gr(this._months/12)*31536e6:NaN}function tu(e){return function(){return this.as(e)}}var j7=tu("ms"),U7=tu("s"),G7=tu("m"),V7=tu("h"),W7=tu("d"),H7=tu("w"),$7=tu("M"),X7=tu("Q"),Y7=tu("y");function q7(){return fh(this)}function Z7(e){return e=jc(e),this.isValid()?this[e+"s"]():NaN}function Bf(e){return function(){return this.isValid()?this._data[e]:NaN}}var K7=Bf("milliseconds"),J7=Bf("seconds"),Q7=Bf("minutes"),eO=Bf("hours"),tO=Bf("days"),iO=Bf("months"),nO=Bf("years");function rO(){return Oc(this.days()/7)}var Fd=Math.round,$0={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function sO(e,i,s,l,h){return h.relativeTime(i||1,!!s,e,l)}function oO(e,i,s,l){var h=fh(e).abs(),u=Fd(h.as("s")),y=Fd(h.as("m")),n=Fd(h.as("h")),w=Fd(h.as("d")),z=Fd(h.as("M")),ie=Fd(h.as("w")),G=Fd(h.as("y")),q=u<=s.ss&&["s",u]||u<s.s&&["ss",u]||y<=1&&["m"]||y<s.m&&["mm",y]||n<=1&&["h"]||n<s.h&&["hh",n]||w<=1&&["d"]||w<s.d&&["dd",w];return s.w!=null&&(q=q||ie<=1&&["w"]||ie<s.w&&["ww",ie]),q=q||z<=1&&["M"]||z<s.M&&["MM",z]||G<=1&&["y"]||["yy",G],q[2]=i,q[3]=+e>0,q[4]=l,sO.apply(null,q)}function aO(e){return e===void 0?Fd:typeof e=="function"?(Fd=e,!0):!1}function lO(e,i){return $0[e]===void 0?!1:i===void 0?$0[e]:($0[e]=i,e==="s"&&($0.ss=i-1),!0)}function cO(e,i){if(!this.isValid())return this.localeData().invalidDate();var s=!1,l=$0,h,u;return typeof e=="object"&&(i=e,e=!1),typeof e=="boolean"&&(s=e),typeof i=="object"&&(l=Object.assign({},$0,i),i.s!=null&&i.ss==null&&(l.ss=i.s-1)),h=this.localeData(),u=oO(this,!s,l,h),s&&(u=h.pastFuture(+this,u)),h.postformat(u)}var Pb=Math.abs;function V0(e){return(e>0)-(e<0)||+e}function vv(){if(!this.isValid())return this.localeData().invalidDate();var e=Pb(this._milliseconds)/1e3,i=Pb(this._days),s=Pb(this._months),l,h,u,y,n=this.asSeconds(),w,z,ie,G;return n?(l=Oc(e/60),h=Oc(l/60),e%=60,l%=60,u=Oc(s/12),s%=12,y=e?e.toFixed(3).replace(/\.?0+$/,""):"",w=n<0?"-":"",z=V0(this._months)!==V0(n)?"-":"",ie=V0(this._days)!==V0(n)?"-":"",G=V0(this._milliseconds)!==V0(n)?"-":"",w+"P"+(u?z+u+"Y":"")+(s?z+s+"M":"")+(i?ie+i+"D":"")+(h||l||e?"T":"")+(h?G+h+"H":"")+(l?G+l+"M":"")+(e?G+y+"S":"")):"P0D"}var Ir=yv.prototype;Ir.isValid=t9;Ir.abs=O7;Ir.add=R7;Ir.subtract=z7;Ir.as=F7;Ir.asMilliseconds=j7;Ir.asSeconds=U7;Ir.asMinutes=G7;Ir.asHours=V7;Ir.asDays=W7;Ir.asWeeks=H7;Ir.asMonths=$7;Ir.asQuarters=X7;Ir.asYears=Y7;Ir.valueOf=N7;Ir._bubble=B7;Ir.clone=q7;Ir.get=Z7;Ir.milliseconds=K7;Ir.seconds=J7;Ir.minutes=Q7;Ir.hours=eO;Ir.days=tO;Ir.weeks=rO;Ir.months=iO;Ir.years=nO;Ir.humanize=cO;Ir.toISOString=vv;Ir.toString=vv;Ir.toJSON=vv;Ir.locale=hC;Ir.localeData=uC;Ir.toIsoString=Nc("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vv);Ir.lang=dC;Cn("X",0,0,"unix");Cn("x",0,0,"valueOf");on("x",fv);on("X",DI);ls("X",function(e,i,s){s._d=new Date(parseFloat(e)*1e3)});ls("x",function(e,i,s){s._d=new Date(gr(e))});//! moment.js
Ji.version="2.29.4";hI(ks);Ji.fn=Bi;Ji.min=KL;Ji.max=JL;Ji.now=QL;Ji.utc=ed;Ji.unix=C7;Ji.months=k7;Ji.isDate=H1;Ji.locale=ep;Ji.invalid=cv;Ji.duration=fh;Ji.isMoment=uh;Ji.weekdays=D7;Ji.parseZone=A7;Ji.localeData=eu;Ji.isDuration=Hy;Ji.monthsShort=P7;Ji.weekdaysMin=L7;Ji.defineLocale=u5;Ji.updateLocale=AL;Ji.locales=kL;Ji.weekdaysShort=I7;Ji.normalizeUnits=jc;Ji.relativeTimeRounding=aO;Ji.relativeTimeThreshold=lO;Ji.calendarFormat=S9;Ji.prototype=Bi;Ji.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var kw={},hO={get exports(){return kw},set exports(e){kw=e}};(function(e,i){(function(s,l){e.exports=l()})(Ko,function(){var s,l,h;function u(n,w){if(!s)s=w;else if(!l)l=w;else{var z="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+s+")(sharedChunk); ("+l+")(sharedChunk); self.onerror = null;",ie={};s(ie),h=w(ie),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(h.workerUrl=window.URL.createObjectURL(new Blob([z],{type:"text/javascript"})))}}u(["exports"],function(n){var w=typeof self<"u"?self:{},z="2.12.0";let ie;const G={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(ie==null){const r=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ie={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):r}catch{ie=r}}return ie},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},q={supported:!1,testSupport:function(r){!U&&F&&(re?R(r):Z=r)}};let Z,F,U=!1,re=!1;function R(r){const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,F),r.isContextLost())return;q.supported=!0}catch{}r.deleteTexture(t),U=!0}w.document&&(F=w.document.createElement("img"),F.onload=function(){Z&&R(Z),Z=null,re=!0},F.onerror=function(){U=!0,Z=null},F.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const D="01";var N=$;function $(r,t,o,c){this.cx=3*r,this.bx=3*(o-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(c-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=t,this.p2x=o,this.p2y=c}$.prototype={sampleCurveX:function(r){return((this.ax*r+this.bx)*r+this.cx)*r},sampleCurveY:function(r){return((this.ay*r+this.by)*r+this.cy)*r},sampleCurveDerivativeX:function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},solveCurveX:function(r,t){if(t===void 0&&(t=1e-6),r<0)return 0;if(r>1)return 1;for(var o=r,c=0;c<8;c++){var p=this.sampleCurveX(o)-r;if(Math.abs(p)<t)return o;var g=this.sampleCurveDerivativeX(o);if(Math.abs(g)<1e-6)break;o-=p/g}var b=0,C=1;for(o=r,c=0;c<20&&(p=this.sampleCurveX(o),!(Math.abs(p-r)<t));c++)r>p?b=o:C=o,o=.5*(C-b)+b;return o},solve:function(r,t){return this.sampleCurveY(this.solveCurveX(r,t))}};var j=S;function S(r,t){this.x=r,this.y=t}S.prototype={clone:function(){return new S(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,t){return this.clone()._rotateAround(r,t)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var t=r.x-this.x,o=r.y-this.y;return t*t+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,t){return Math.atan2(this.x*t-this.y*r,this.x*r+this.y*t)},_matMult:function(r){var t=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=t,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var t=Math.cos(r),o=Math.sin(r),c=o*this.x+t*this.y;return this.x=t*this.x-o*this.y,this.y=c,this},_rotateAround:function(r,t){var o=Math.cos(r),c=Math.sin(r),p=t.y+c*(this.x-t.x)+o*(this.y-t.y);return this.x=t.x+o*(this.x-t.x)-c*(this.y-t.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},S.convert=function(r){return r instanceof S?r:Array.isArray(r)?new S(r[0],r[1]):r};const te=Math.PI/180,Y=180/Math.PI;function I(r){return r*te}function V(r){return r*Y}const X=[[0,0],[1,0],[1,1],[0,1]];function P(r){if(r<=0)return 0;if(r>=1)return 1;const t=r*r,o=t*r;return 4*(r<.5?o:3*(r-t)+o-.75)}function L(r,t,o,c){const p=new N(r,t,o,c);return function(g){return p.solve(g)}}const _=L(.25,.1,.25,1);function v(r,t,o){return Math.min(o,Math.max(t,r))}function M(r,t,o){return(o=v((o-r)/(t-r),0,1))*o*(3-2*o)}function O(r,t,o){const c=o-t,p=((r-t)%c+c)%c+t;return p===t?o:p}function ee(r,t,o){if(!r.length)return o(null,[]);let c=r.length;const p=new Array(r.length);let g=null;r.forEach((b,C)=>{t(b,(B,H)=>{B&&(g=B),p[C]=H,--c==0&&o(g,p)})})}function ae(r){const t=[];for(const o in r)t.push(r[o]);return t}function K(r,...t){for(const o of t)for(const c in o)r[c]=o[c];return r}let pe=1;function Me(){return pe++}function Pe(){return function r(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,r)}()}function W(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function le(r){return!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)}function ue(r,t){r.forEach(o=>{t[o]&&(t[o]=t[o].bind(t))})}function xe(r,t){return r.indexOf(t,r.length-t.length)!==-1}function Le(r,t,o){const c={};for(const p in r)c[p]=t.call(o||this,r[p],p,r);return c}function oe(r,t,o){const c={};for(const p in r)t.call(o||this,r[p],p,r)&&(c[p]=r[p]);return c}function ve(r){return Array.isArray(r)?r.map(ve):typeof r=="object"&&r?Le(r,ve):r}const _e={};function se(r){_e[r]||(typeof console<"u"&&console.warn(r),_e[r]=!0)}function fe(r,t,o){return(o.y-r.y)*(t.x-r.x)>(t.y-r.y)*(o.x-r.x)}function ye(r){let t=0;for(let o,c,p=0,g=r.length,b=g-1;p<g;b=p++)o=r[p],c=r[b],t+=(c.x-o.x)*(o.y+c.y);return t}function Ie(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ke(r){const t={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(o,c,p,g)=>{const b=p||g;return t[c]=!b||b.toLowerCase(),""}),t["max-age"]){const o=parseInt(t["max-age"],10);isNaN(o)?delete t["max-age"]:t["max-age"]=o}return t}let Ue=null;function st(r){if(Ue==null){const t=r.navigator?r.navigator.userAgent:null;Ue=!!r.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return Ue}function it(r){try{const t=w[r];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch{return!1}}function ht(r,t){return[r[4*t],r[4*t+1],r[4*t+2],r[4*t+3]]}const Ae="mapbox-tiles";let ze,je,$e=500,nt=50;function bt(){try{return w.caches}catch{}}function jt(){bt()&&!ze&&(ze=w.caches.open(Ae))}function Gt(r){const t=r.indexOf("?");if(t<0)return r;const o=function(p){const g=p.indexOf("?");return g>0?p.slice(g+1).split("&"):[]}(r),c=o.filter(p=>{const g=p.split("=");return g[0]==="language"||g[0]==="worldview"});return c.length?`${r.slice(0,t)}?${c.join("&")}`:r.slice(0,t)}let yi=1/0;const ri={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ri);class Ci extends Error{constructor(t,o,c){o===401&&Ar(c)&&(t+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(t),this.status=o,this.url=c}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Gi=Ie()?()=>self.worker&&self.worker.referrer:()=>(w.location.protocol==="blob:"?w.parent:w).location.href,zi=function(r,t){if(!(/^file:/.test(o=r.url)||/^file:/.test(Gi())&&!/^\w+:/.test(o))){if(w.fetch&&w.Request&&w.AbortController&&w.Request.prototype.hasOwnProperty("signal"))return function(c,p){const g=new w.AbortController,b=new w.Request(c.url,{method:c.method||"GET",body:c.body,credentials:c.credentials,headers:c.headers,referrer:Gi(),signal:g.signal});let C=!1,B=!1;const H=(he=b.url).indexOf("sku=")>0&&Ar(he);var he;c.type==="json"&&b.headers.set("Accept","application/json");const ge=(Ce,De,Fe)=>{if(B)return;if(Ce&&Ce.message!=="SecurityError"&&se(Ce),De&&Fe)return be(De);const Ye=Date.now();w.fetch(b).then(dt=>{if(dt.ok){const _t=H?dt.clone():null;return be(dt,_t,Ye)}return p(new Ci(dt.statusText,dt.status,c.url))}).catch(dt=>{dt.code!==20&&p(new Error(dt.message))})},be=(Ce,De,Fe)=>{(c.type==="arrayBuffer"?Ce.arrayBuffer():c.type==="json"?Ce.json():Ce.text()).then(Ye=>{B||(De&&Fe&&function(dt,_t,ct){if(jt(),!ze)return;const ft={status:_t.status,statusText:_t.statusText,headers:new w.Headers};_t.headers.forEach((Ht,Wt)=>ft.headers.set(Wt,Ht));const Tt=ke(_t.headers.get("Cache-Control")||"");if(Tt["no-store"])return;Tt["max-age"]&&ft.headers.set("Expires",new Date(ct+1e3*Tt["max-age"]).toUTCString());const vt=ft.headers.get("Expires");vt&&(new Date(vt).getTime()-ct<42e4||function(Ht,Wt){if(je===void 0)try{new Response(new ReadableStream),je=!0}catch{je=!1}je?Wt(Ht.body):Ht.blob().then(Wt)}(_t,Ht=>{const Wt=new w.Response(Ht,ft);jt(),ze&&ze.then(oi=>oi.put(Gt(dt.url),Wt)).catch(oi=>se(oi.message))}))}(b,De,Fe),C=!0,p(null,Ye,Ce.headers.get("Cache-Control"),Ce.headers.get("Expires")))}).catch(Ye=>{B||p(new Error(Ye.message))})};return H?function(Ce,De){if(jt(),!ze)return De(null);const Fe=Gt(Ce.url);ze.then(Ye=>{Ye.match(Fe).then(dt=>{const _t=function(ct){if(!ct)return!1;const ft=new Date(ct.headers.get("Expires")||0),Tt=ke(ct.headers.get("Cache-Control")||"");return ft>Date.now()&&!Tt["no-cache"]}(dt);Ye.delete(Fe),_t&&Ye.put(Fe,dt.clone()),De(null,dt,_t)}).catch(De)}).catch(De)}(b,ge):ge(null,null),{cancel:()=>{B=!0,C||g.abort()}}}(r,t);if(Ie()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,t,void 0,!0)}var o;return function(c,p){const g=new w.XMLHttpRequest;g.open(c.method||"GET",c.url,!0),c.type==="arrayBuffer"&&(g.responseType="arraybuffer");for(const b in c.headers)g.setRequestHeader(b,c.headers[b]);return c.type==="json"&&(g.responseType="text",g.setRequestHeader("Accept","application/json")),g.withCredentials=c.credentials==="include",g.onerror=()=>{p(new Error(g.statusText))},g.onload=()=>{if((g.status>=200&&g.status<300||g.status===0)&&g.response!==null){let b=g.response;if(c.type==="json")try{b=JSON.parse(g.response)}catch(C){return p(C)}p(null,b,g.getResponseHeader("Cache-Control"),g.getResponseHeader("Expires"))}else p(new Ci(g.statusText,g.status,c.url))},g.send(c.body),{cancel:()=>g.abort()}}(r,t)},Xi=function(r,t){return zi(K(r,{type:"arrayBuffer"}),t)};function Li(r){const t=w.document.createElement("a");return t.href=r,t.protocol===w.document.location.protocol&&t.host===w.document.location.host}const gn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let bn,$n;bn=[],$n=0;const bs=function(r,t){if(q.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),$n>=G.MAX_PARALLEL_IMAGE_REQUESTS){const g={requestParameters:r,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return bn.push(g),g}$n++;let o=!1;const c=()=>{if(!o)for(o=!0,$n--;bn.length&&$n<G.MAX_PARALLEL_IMAGE_REQUESTS;){const g=bn.shift(),{requestParameters:b,callback:C,cancelled:B}=g;B||(g.cancel=bs(b,C).cancel)}},p=Xi(r,(g,b,C,B)=>{c(),g?t(g):b&&(w.createImageBitmap?function(H,he){const ge=new w.Blob([new Uint8Array(H)],{type:"image/png"});w.createImageBitmap(ge).then(be=>{he(null,be)}).catch(be=>{he(new Error(`Could not load image because of ${be.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(b,(H,he)=>t(H,he,C,B)):function(H,he){const ge=new w.Image,be=w.URL;ge.onload=()=>{he(null,ge),be.revokeObjectURL(ge.src),ge.onload=null,w.requestAnimationFrame(()=>{ge.src=gn})},ge.onerror=()=>he(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Ce=new w.Blob([new Uint8Array(H)],{type:"image/png"});ge.src=H.byteLength?be.createObjectURL(Ce):gn}(b,(H,he)=>t(H,he,C,B)))});return{cancel:()=>{p.cancel(),c()}}},hr="NO_ACCESS_TOKEN";function Cr(r){return r.indexOf("mapbox:")===0}function Ar(r){return G.API_URL_REGEX.test(r)}function Ia(r){return G.API_CDN_URL_REGEX.test(r)}function cc(r){return G.API_STYLE_REGEX.test(r)&&!wl(r)}function wl(r){return G.API_SPRITE_REGEX.test(r)}const Ya=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Js(r){const t=r.match(Ya);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function qa(r){const t=r.params.length?`?${r.params.join("&")}`:"";return`${r.protocol}://${r.authority}${r.path}${t}`}function Uc(r){if(!r)return null;const t=r.split(".");if(!t||t.length!==3)return null;try{return JSON.parse(decodeURIComponent(w.atob(t[1]).split("").map(o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class at{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(t){const o=Uc(G.ACCESS_TOKEN);let c="";return c=o&&o.u?w.btoa(encodeURIComponent(o.u).replace(/%([0-9A-F]{2})/g,(p,g)=>String.fromCharCode(Number("0x"+g)))):G.ACCESS_TOKEN||"",t?`mapbox.eventData.${t}:${c}`:`mapbox.eventData:${c}`}fetchEventData(){const t=it("localStorage"),o=this.getStorageKey(),c=this.getStorageKey("uuid");if(t)try{const p=w.localStorage.getItem(o);p&&(this.eventData=JSON.parse(p));const g=w.localStorage.getItem(c);g&&(this.anonId=g)}catch{se("Unable to read from LocalStorage")}}saveEventData(){const t=it("localStorage"),o=this.getStorageKey(),c=this.getStorageKey("uuid");if(t)try{w.localStorage.setItem(c,this.anonId),Object.keys(this.eventData).length>=1&&w.localStorage.setItem(o,JSON.stringify(this.eventData))}catch{se("Unable to write to LocalStorage")}}processRequests(t){}postEvent(t,o,c,p){if(!G.EVENTS_URL)return;const g=Js(G.EVENTS_URL);g.params.push(`access_token=${p||G.ACCESS_TOKEN||""}`);const b={event:this.type,created:new Date(t).toISOString()},C=o?K(b,o):b,B={url:qa(g),headers:{"Content-Type":"text/plain"},body:JSON.stringify([C])};this.pendingRequest=function(H,he){return zi(K(H,{method:"POST"}),he)}(B,H=>{this.pendingRequest=null,c(H),this.saveEventData(),this.processRequests(p)})}queueRequest(t,o){this.queue.push(t),this.processRequests(o)}}const Oe=new class extends at{constructor(r){super("appUserTurnstile"),this._customAccessToken=r}postTurnstileEvent(r,t){G.EVENTS_URL&&G.ACCESS_TOKEN&&Array.isArray(r)&&r.some(o=>Cr(o)||Ar(o))&&this.queueRequest(Date.now(),t)}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Uc(G.ACCESS_TOKEN),o=t?t.u:G.ACCESS_TOKEN;let c=o!==this.eventData.tokenU;le(this.anonId)||(this.anonId=Pe(),c=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const g=new Date(this.eventData.lastSuccess),b=new Date(p),C=(p-this.eventData.lastSuccess)/864e5;c=c||C>=1||C<-1||g.getDate()!==b.getDate()}else c=!0;c?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:z,skuId:D,"enabled.telemetry":!1,userId:this.anonId},g=>{g||(this.eventData.lastSuccess=p,this.eventData.tokenU=o)},r):this.processRequests()}},Ve=Oe.postTurnstileEvent.bind(Oe),ot=new class extends at{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(r,t,o,c){this.skuToken=t,this.errorCb=c,G.EVENTS_URL&&(o||G.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(hr)))}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{id:t,timestamp:o}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),le(this.anonId)||(this.anonId=Pe()),this.postEvent(o,{sdkIdentifier:"mapbox-gl-js",sdkVersion:z,skuId:D,skuToken:this.skuToken,userId:this.anonId},c=>{c?this.errorCb(c):t&&(this.success[t]=!0)},r))}},ut=ot.postMapLoadEvent.bind(ot),St=new class extends at{constructor(){super("gljs.performance")}postPerformanceEvent(r,t){G.EVENTS_URL&&(r||G.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},r)}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:t,performanceData:o}=this.queue.shift(),c=function(p){const g=w.performance.getEntriesByType("resource"),b=w.performance.getEntriesByType("mark"),C=function(be){const Ce={};if(be){for(const De in be)if(De!=="other")for(const Fe of be[De]){const Ye=`${De}ResolveRangeMin`,dt=`${De}ResolveRangeMax`,_t=`${De}RequestCount`,ct=`${De}RequestCachedCount`;Ce[Ye]=Math.min(Ce[Ye]||1/0,Fe.startTime),Ce[dt]=Math.max(Ce[dt]||-1/0,Fe.responseEnd);const ft=Tt=>{Ce[Tt]===void 0&&(Ce[Tt]=0),++Ce[Tt]};Fe.transferSize!==void 0&&Fe.transferSize===0&&ft(ct),ft(_t)}}return Ce}(function(be,Ce){const De={};if(be)for(const Fe of be){const Ye=Ce(Fe);De[Ye]===void 0&&(De[Ye]=[]),De[Ye].push(Fe)}return De}(g,_i)),B=w.devicePixelRatio,H=w.navigator.connection||w.navigator.mozConnection||w.navigator.webkitConnection,he={counters:[],metadata:[],attributes:[]},ge=(be,Ce,De)=>{De!=null&&be.push({name:Ce,value:De.toString()})};for(const be in C)ge(he.counters,be,C[be]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(ge(he.counters,"interactionRangeMin",p.interactionRange[0]),ge(he.counters,"interactionRangeMax",p.interactionRange[1])),b)for(const be of Object.keys(li)){const Ce=li[be],De=b.find(Fe=>Fe.name===Ce);De&&ge(he.counters,Ce,De.startTime)}return ge(he.counters,"visibilityHidden",p.visibilityHidden),ge(he.attributes,"style",function(be){if(be)for(const Ce of be){const De=Ce.name.split("?")[0];if(cc(De)){const Fe=De.split("/").slice(-2);if(Fe.length===2)return`mapbox://styles/${Fe[0]}/${Fe[1]}`}}}(g)),ge(he.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),ge(he.attributes,"fogEnabled",p.fogEnabled?"true":"false"),ge(he.attributes,"projection",p.projection),ge(he.attributes,"zoom",p.zoom),ge(he.metadata,"devicePixelRatio",B),ge(he.metadata,"connectionEffectiveType",H?H.effectiveType:void 0),ge(he.metadata,"navigatorUserAgent",w.navigator.userAgent),ge(he.metadata,"screenWidth",w.screen.width),ge(he.metadata,"screenHeight",w.screen.height),ge(he.metadata,"windowWidth",w.innerWidth),ge(he.metadata,"windowHeight",w.innerHeight),ge(he.metadata,"mapWidth",p.width/B),ge(he.metadata,"mapHeight",p.height/B),ge(he.metadata,"webglRenderer",p.renderer),ge(he.metadata,"webglVendor",p.vendor),ge(he.metadata,"sdkVersion",z),ge(he.metadata,"sdkIdentifier","mapbox-gl-js"),he}(o);for(const p of c.metadata);for(const p of c.counters);for(const p of c.attributes);this.postEvent(t,c,()=>{},r)}},Lt=St.postPerformanceEvent.bind(St),Rt=new class extends at{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(r,t,o,c){if(!G.API_URL||!G.SESSION_PATH)return;const p=Js(G.API_URL+G.SESSION_PATH);p.params.push(`sku=${t||""}`),p.params.push(`access_token=${c||G.ACCESS_TOKEN||""}`);const g={url:qa(p),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(b,C){return zi(K(b,{method:"GET"}),C)}(g,b=>{this.pendingRequest=null,o(b),this.saveEventData(),this.processRequests(c)})}getSessionAPI(r,t,o,c){this.skuToken=t,this.errorCb=c,G.SESSION_PATH&&G.API_URL&&(o||G.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(hr)))}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{id:t,timestamp:o}=this.queue.shift();t&&this.success[t]||this.getSession(o,this.skuToken,c=>{c?this.errorCb(c):t&&(this.success[t]=!0)},r)}},Mt=Rt.getSessionAPI.bind(Rt),Nt=new Set,li={create:"create",load:"load",fullLoad:"fullLoad"},Oi={mark(r){w.performance.mark(r)},measure(r,t,o){w.performance.measure(r,t,o)}};function _i(r){const t=r.name.split("?")[0];return Ia(t)&&t.includes("mapbox-gl.js")?"javascript":Ia(t)&&t.includes("mapbox-gl.css")?"css":function(o){return G.API_FONTS_REGEX.test(o)}(t)?"fontRange":wl(t)?"sprite":cc(t)?"style":function(o){return G.API_TILEJSON_REGEX.test(o)}(t)?"tilejson":"other"}const rn=w.performance;function en(r){const t=r?r.url.toString():void 0;return rn.getEntriesByName(t)}let $i,ln,Bn,Qn;const Zi={now:()=>Bn!==void 0?Bn:w.performance.now(),setNow(r){Bn=r},restoreNow(){Bn=void 0},frame(r){const t=w.requestAnimationFrame(r);return{cancel:()=>w.cancelAnimationFrame(t)}},getImageData(r,t=0){const{width:o,height:c}=r;Qn||(Qn=w.document.createElement("canvas"));const p=Qn.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(o>Qn.width||c>Qn.height)&&(Qn.width=o,Qn.height=c),p.clearRect(-t,-t,o+2*t,c+2*t),p.drawImage(r,0,0,o,c),p.getImageData(-t,-t,o+2*t,c+2*t)},resolveURL:r=>($i||($i=w.document.createElement("a")),$i.href=r,$i.href),get devicePixelRatio(){return w.devicePixelRatio},get prefersReducedMotion(){return!!w.matchMedia&&(ln==null&&(ln=w.matchMedia("(prefers-reduced-motion: reduce)")),ln.matches)}};function vr(r,t,o){o[r]&&o[r].indexOf(t)!==-1||(o[r]=o[r]||[],o[r].push(t))}function or(r,t,o){if(o&&o[r]){const c=o[r].indexOf(t);c!==-1&&o[r].splice(c,1)}}class ua{constructor(t,o={}){K(this,o),this.type=t}}class Za extends ua{constructor(t,o={}){super("error",K({error:t},o))}}class vo{on(t,o){return this._listeners=this._listeners||{},vr(t,o,this._listeners),this}off(t,o){return or(t,o,this._listeners),or(t,o,this._oneTimeListeners),this}once(t,o){return o?(this._oneTimeListeners=this._oneTimeListeners||{},vr(t,o,this._oneTimeListeners),this):new Promise(c=>this.once(t,c))}fire(t,o){typeof t=="string"&&(t=new ua(t,o||{}));const c=t.type;if(this.listens(c)){t.target=this;const p=this._listeners&&this._listeners[c]?this._listeners[c].slice():[];for(const C of p)C.call(this,t);const g=this._oneTimeListeners&&this._oneTimeListeners[c]?this._oneTimeListeners[c].slice():[];for(const C of g)or(c,C,this._oneTimeListeners),C.call(this,t);const b=this._eventedParent;b&&(K(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),b.fire(t))}else t instanceof Za&&console.error(t.error);return this}listens(t){return!!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,o){return this._eventedParent=t,this._eventedParentData=o,this}}var ni=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Bo(r,...t){for(const o of t)for(const c in o)r[c]=o[c];return r}function ns(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function rs(r){if(Array.isArray(r))return r.map(rs);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const t={};for(const o in r)t[o]=rs(r[o]);return t}return ns(r)}class hc extends Error{constructor(t,o){super(o),this.message=o,this.key=t}}var Xs=hc;class gh{constructor(t,o=[]){this.parent=t,this.bindings={};for(const[c,p]of o)this.bindings[c]=p}concat(t){return new gh(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var nd=gh;const Ds={kind:"null"},Ii={kind:"number"},zn={kind:"string"},Fn={kind:"boolean"},Fo={kind:"color"},pa={kind:"object"},_n={kind:"value"},dc={kind:"collator"},Qo={kind:"formatted"},La={kind:"resolvedImage"};function ws(r,t){return{kind:"array",itemType:r,N:t}}function _r(r){if(r.kind==="array"){const t=_r(r.itemType);return typeof r.N=="number"?`array<${t}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${t}>`}return r.kind}const Ns=[Ds,Ii,zn,Fn,Fo,Qo,pa,ws(_n),La];function Oa(r,t){if(t.kind==="error")return null;if(r.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!Oa(r.itemType,t.itemType))&&(typeof r.N!="number"||r.N===t.N))return null}else{if(r.kind===t.kind)return null;if(r.kind==="value"){for(const o of Ns)if(!Oa(o,t))return null}}return`Expected ${_r(r)} but found ${_r(t)} instead.`}function Tl(r,t){return t.some(o=>o.kind===r.kind)}function ea(r,t){return t.some(o=>o==="null"?r===null:o==="array"?Array.isArray(r):o==="object"?r&&!Array.isArray(r)&&typeof r=="object":o===typeof r)}var Sl,Ka={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ra(r){return(r=Math.round(r))<0?0:r>255?255:r}function Ja(r){return Ra(r[r.length-1]==="%"?parseFloat(r)/100*255:parseInt(r))}function Gc(r){return(t=r[r.length-1]==="%"?parseFloat(r)/100:parseFloat(r))<0?0:t>1?1:t;var t}function Vc(r,t,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?r+(t-r)*o*6:2*o<1?t:3*o<2?r+(t-r)*(2/3-o)*6:r}try{Sl={}.parseCSSColor=function(r){var t,o=r.replace(/ /g,"").toLowerCase();if(o in Ka)return Ka[o].slice();if(o[0]==="#")return o.length===4?(t=parseInt(o.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:o.length===7&&(t=parseInt(o.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var c=o.indexOf("("),p=o.indexOf(")");if(c!==-1&&p+1===o.length){var g=o.substr(0,c),b=o.substr(c+1,p-(c+1)).split(","),C=1;switch(g){case"rgba":if(b.length!==4)return null;C=Gc(b.pop());case"rgb":return b.length!==3?null:[Ja(b[0]),Ja(b[1]),Ja(b[2]),C];case"hsla":if(b.length!==4)return null;C=Gc(b.pop());case"hsl":if(b.length!==3)return null;var B=(parseFloat(b[0])%360+360)%360/360,H=Gc(b[1]),he=Gc(b[2]),ge=he<=.5?he*(H+1):he+H-he*H,be=2*he-ge;return[Ra(255*Vc(be,ge,B+1/3)),Ra(255*Vc(be,ge,B)),Ra(255*Vc(be,ge,B-1/3)),C];default:return null}}return null}}catch{}class Qs{constructor(t,o,c,p=1){this.r=t,this.g=o,this.b=c,this.a=p}static parse(t){if(!t)return;if(t instanceof Qs)return t;if(typeof t!="string")return;const o=Sl(t);return o?new Qs(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3]):void 0}toString(){const[t,o,c,p]=this.toArray();return`rgba(${Math.round(t)},${Math.round(o)},${Math.round(c)},${p})`}toArray(){const{r:t,g:o,b:c,a:p}=this;return p===0?[0,0,0,0]:[255*t/p,255*o/p,255*c/p,p]}toArray01(){const{r:t,g:o,b:c,a:p}=this;return p===0?[0,0,0,0]:[t/p,o/p,c/p,p]}toArray01PremultipliedAlpha(){const{r:t,g:o,b:c,a:p}=this;return[t,o,c,p]}}Qs.black=new Qs(0,0,0,1),Qs.white=new Qs(1,1,1,1),Qs.transparent=new Qs(0,0,0,0),Qs.red=new Qs(1,0,0,1),Qs.blue=new Qs(0,0,1,1);var Jr=Qs;class El{constructor(t,o,c){this.sensitivity=t?o?"variant":"case":o?"accent":"base",this.locale=c,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,o){return this.collator.compare(t,o)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class rd{constructor(t,o,c,p,g){this.text=t.normalize?t.normalize():t,this.image=o,this.scale=c,this.fontStack=p,this.textColor=g}}class Is{constructor(t){this.sections=t}static fromString(t){return new Is([new rd(t,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof Is?t:Is.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const o of this.sections){if(o.image){t.push(["image",o.image.name]);continue}t.push(o.text);const c={};o.fontStack&&(c["text-font"]=["literal",o.fontStack.split(",")]),o.scale&&(c["font-scale"]=o.scale),o.textColor&&(c["text-color"]=["rgba"].concat(o.textColor.toArray())),t.push(c)}return t}}class No{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new No({name:t,available:!1}):null}serialize(){return["image",this.name]}}function iu(r,t,o,c){return typeof r=="number"&&r>=0&&r<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof o=="number"&&o>=0&&o<=255?c===void 0||typeof c=="number"&&c>=0&&c<=1?null:`Invalid rgba value [${[r,t,o,c].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof c=="number"?[r,t,o,c]:[r,t,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function _h(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof Jr||r instanceof El||r instanceof Is||r instanceof No)return!0;if(Array.isArray(r)){for(const t of r)if(!_h(t))return!1;return!0}if(typeof r=="object"){for(const t in r)if(!_h(r[t]))return!1;return!0}return!1}function ms(r){if(r===null)return Ds;if(typeof r=="string")return zn;if(typeof r=="boolean")return Fn;if(typeof r=="number")return Ii;if(r instanceof Jr)return Fo;if(r instanceof El)return dc;if(r instanceof Is)return Qo;if(r instanceof No)return La;if(Array.isArray(r)){const t=r.length;let o;for(const c of r){const p=ms(c);if(o){if(o===p)continue;o=_n;break}o=p}return ws(o||_n,t)}return pa}function Ml(r){const t=typeof r;return r===null?"":t==="string"||t==="number"||t==="boolean"?String(r):r instanceof Jr||r instanceof Is||r instanceof No?r.toString():JSON.stringify(r)}class yh{constructor(t,o){this.type=t,this.value=o}static parse(t,o){if(t.length!==2)return o.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!_h(t[1]))return o.error("invalid value");const c=t[1];let p=ms(c);const g=o.expectedType;return p.kind!=="array"||p.N!==0||!g||g.kind!=="array"||typeof g.N=="number"&&g.N!==0||(p=g),new yh(p,c)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Jr?["rgba"].concat(this.value.toArray()):this.value instanceof Is?this.value.serialize():this.value}}var Cl=yh,Ts=class{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}};const Qa={string:zn,number:Ii,boolean:Fn,object:pa};class xh{constructor(t,o){this.type=t,this.args=o}static parse(t,o){if(t.length<2)return o.error("Expected at least one argument.");let c,p=1;const g=t[0];if(g==="array"){let C,B;if(t.length>2){const H=t[1];if(typeof H!="string"||!(H in Qa)||H==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);C=Qa[H],p++}else C=_n;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return o.error('The length argument to "array" must be a positive integer literal',2);B=t[2],p++}c=ws(C,B)}else c=Qa[g];const b=[];for(;p<t.length;p++){const C=o.parse(t[p],p,_n);if(!C)return null;b.push(C)}return new xh(c,b)}evaluate(t){for(let o=0;o<this.args.length;o++){const c=this.args[o].evaluate(t);if(!Oa(this.type,ms(c)))return c;if(o===this.args.length-1)throw new Ts(`Expected value to be of type ${_r(this.type)}, but found ${_r(ms(c))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,o=[t.kind];if(t.kind==="array"){const c=t.itemType;if(c.kind==="string"||c.kind==="number"||c.kind==="boolean"){o.push(c.kind);const p=t.N;(typeof p=="number"||this.args.length>1)&&o.push(p)}}return o.concat(this.args.map(c=>c.serialize()))}}var ir=xh;class dr{constructor(t){this.type=Qo,this.sections=t}static parse(t,o){if(t.length<2)return o.error("Expected at least one argument.");const c=t[1];if(!Array.isArray(c)&&typeof c=="object")return o.error("First argument must be an image or text section.");const p=[];let g=!1;for(let b=1;b<=t.length-1;++b){const C=t[b];if(g&&typeof C=="object"&&!Array.isArray(C)){g=!1;let B=null;if(C["font-scale"]&&(B=o.parse(C["font-scale"],1,Ii),!B))return null;let H=null;if(C["text-font"]&&(H=o.parse(C["text-font"],1,ws(zn)),!H))return null;let he=null;if(C["text-color"]&&(he=o.parse(C["text-color"],1,Fo),!he))return null;const ge=p[p.length-1];ge.scale=B,ge.font=H,ge.textColor=he}else{const B=o.parse(t[b],1,_n);if(!B)return null;const H=B.type.kind;if(H!=="string"&&H!=="value"&&H!=="null"&&H!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");g=!0,p.push({content:B,scale:null,font:null,textColor:null})}}return new dr(p)}evaluate(t){return new Is(this.sections.map(o=>{const c=o.content.evaluate(t);return ms(c)===La?new rd("",c,null,null,null):new rd(Ml(c),null,o.scale?o.scale.evaluate(t):null,o.font?o.font.evaluate(t).join(","):null,o.textColor?o.textColor.evaluate(t):null)}))}eachChild(t){for(const o of this.sections)t(o.content),o.scale&&t(o.scale),o.font&&t(o.font),o.textColor&&t(o.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const o of this.sections){t.push(o.content.serialize());const c={};o.scale&&(c["font-scale"]=o.scale.serialize()),o.font&&(c["text-font"]=o.font.serialize()),o.textColor&&(c["text-color"]=o.textColor.serialize()),t.push(c)}return t}}class vh{constructor(t){this.type=La,this.input=t}static parse(t,o){if(t.length!==2)return o.error("Expected two arguments.");const c=o.parse(t[1],1,zn);return c?new vh(c):o.error("No image name provided.")}evaluate(t){const o=this.input.evaluate(t),c=No.fromString(o);return c&&t.availableImages&&(c.available=t.availableImages.indexOf(o)>-1),c}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const pp={"to-boolean":Fn,"to-color":Fo,"to-number":Ii,"to-string":zn};class sd{constructor(t,o){this.type=t,this.args=o}static parse(t,o){if(t.length<2)return o.error("Expected at least one argument.");const c=t[0];if((c==="to-boolean"||c==="to-string")&&t.length!==2)return o.error("Expected one argument.");const p=pp[c],g=[];for(let b=1;b<t.length;b++){const C=o.parse(t[b],b,_n);if(!C)return null;g.push(C)}return new sd(p,g)}evaluate(t){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(t));if(this.type.kind==="color"){let o,c;for(const p of this.args){if(o=p.evaluate(t),c=null,o instanceof Jr)return o;if(typeof o=="string"){const g=t.parseColor(o);if(g)return g}else if(Array.isArray(o)&&(c=o.length<3||o.length>4?`Invalid rbga value ${JSON.stringify(o)}: expected an array containing either three or four numeric values.`:iu(o[0],o[1],o[2],o[3]),!c))return new Jr(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new Ts(c||`Could not parse color from value '${typeof o=="string"?o:String(JSON.stringify(o))}'`)}if(this.type.kind==="number"){let o=null;for(const c of this.args){if(o=c.evaluate(t),o===null)return 0;const p=Number(o);if(!isNaN(p))return p}throw new Ts(`Could not convert ${JSON.stringify(o)} to number.`)}return this.type.kind==="formatted"?Is.fromString(Ml(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?No.fromString(Ml(this.args[0].evaluate(t))):Ml(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if(this.type.kind==="formatted")return new dr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new vh(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild(o=>{t.push(o.serialize())}),t}}var ta=sd;const Wc=["Unknown","Point","LineString","Polygon"];var bh=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Wc[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const r=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:o,y:c}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(o*t-r[0])+this.featureDistanceData.bearing[1]*(c*t-r[1])}return 0}parseColor(r){let t=this._parseColorCache[r];return t||(t=this._parseColorCache[r]=Jr.parse(r)),t}};class Al{constructor(t,o,c,p){this.name=t,this.type=o,this._evaluate=c,this.args=p}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,o){const c=t[0],p=Al.definitions[c];if(!p)return o.error(`Unknown expression "${c}". If you wanted a literal array, use ["literal", [...]].`,0);const g=Array.isArray(p)?p[0]:p.type,b=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,C=b.filter(([H])=>!Array.isArray(H)||H.length===t.length-1);let B=null;for(const[H,he]of C){B=new Tr(o.registry,o.path,null,o.scope);const ge=[];let be=!1;for(let Ce=1;Ce<t.length;Ce++){const De=t[Ce],Fe=Array.isArray(H)?H[Ce-1]:H.type,Ye=B.parse(De,1+ge.length,Fe);if(!Ye){be=!0;break}ge.push(Ye)}if(!be)if(Array.isArray(H)&&H.length!==ge.length)B.error(`Expected ${H.length} arguments, but found ${ge.length} instead.`);else{for(let Ce=0;Ce<ge.length;Ce++){const De=Array.isArray(H)?H[Ce]:H.type,Fe=ge[Ce];B.concat(Ce+1).checkSubtype(De,Fe.type)}if(B.errors.length===0)return new Al(c,g,he,ge)}}if(C.length===1)o.errors.push(...B.errors);else{const H=(C.length?C:b).map(([ge])=>{return be=ge,Array.isArray(be)?`(${be.map(_r).join(", ")})`:`(${_r(be.type)}...)`;var be}).join(" | "),he=[];for(let ge=1;ge<t.length;ge++){const be=o.parse(t[ge],1+he.length);if(!be)return null;he.push(_r(be.type))}o.error(`Expected arguments of type ${H}, but found (${he.join(", ")}) instead.`)}return null}static register(t,o){Al.definitions=o;for(const c in o)t[c]=Al}}var el=Al;class gs{constructor(t,o,c){this.type=dc,this.locale=c,this.caseSensitive=t,this.diacriticSensitive=o}static parse(t,o){if(t.length!==2)return o.error("Expected one argument.");const c=t[1];if(typeof c!="object"||Array.isArray(c))return o.error("Collator options argument must be an object.");const p=o.parse(c["case-sensitive"]!==void 0&&c["case-sensitive"],1,Fn);if(!p)return null;const g=o.parse(c["diacritic-sensitive"]!==void 0&&c["diacritic-sensitive"],1,Fn);if(!g)return null;let b=null;return c.locale&&(b=o.parse(c.locale,1,zn),!b)?null:new gs(p,g,b)}evaluate(t){return new El(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const k=8192;function ne(r,t){r[0]=Math.min(r[0],t[0]),r[1]=Math.min(r[1],t[1]),r[2]=Math.max(r[2],t[0]),r[3]=Math.max(r[3],t[1])}function me(r,t){return!(r[0]<=t[0]||r[2]>=t[2]||r[1]<=t[1]||r[3]>=t[3])}function we(r,t){const o=(180+r[0])/360,c=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,p=Math.pow(2,t.z);return[Math.round(o*p*k),Math.round(c*p*k)]}function Be(r,t,o){const c=r[0]-t[0],p=r[1]-t[1],g=r[0]-o[0],b=r[1]-o[1];return c*b-g*p==0&&c*g<=0&&p*b<=0}function Ne(r,t){let o=!1;for(let b=0,C=t.length;b<C;b++){const B=t[b];for(let H=0,he=B.length;H<he-1;H++){if(Be(r,B[H],B[H+1]))return!1;(p=B[H])[1]>(c=r)[1]!=(g=B[H+1])[1]>c[1]&&c[0]<(g[0]-p[0])*(c[1]-p[1])/(g[1]-p[1])+p[0]&&(o=!o)}}var c,p,g;return o}function He(r,t){for(let o=0;o<t.length;o++)if(Ne(r,t[o]))return!0;return!1}function Et(r,t,o,c){const p=c[0]-o[0],g=c[1]-o[1],b=(r[0]-o[0])*g-p*(r[1]-o[1]),C=(t[0]-o[0])*g-p*(t[1]-o[1]);return b>0&&C<0||b<0&&C>0}function yt(r,t,o){for(const H of o)for(let he=0;he<H.length-1;++he)if((C=[(b=H[he+1])[0]-(g=H[he])[0],b[1]-g[1]])[0]*(B=[(p=t)[0]-(c=r)[0],p[1]-c[1]])[1]-C[1]*B[0]!=0&&Et(c,p,g,b)&&Et(g,b,c,p))return!0;var c,p,g,b,C,B;return!1}function Ut(r,t){for(let o=0;o<r.length;++o)if(!Ne(r[o],t))return!1;for(let o=0;o<r.length-1;++o)if(yt(r[o],r[o+1],t))return!1;return!0}function ii(r,t){for(let o=0;o<t.length;o++)if(Ut(r,t[o]))return!0;return!1}function fi(r,t,o){const c=[];for(let p=0;p<r.length;p++){const g=[];for(let b=0;b<r[p].length;b++){const C=we(r[p][b],o);ne(t,C),g.push(C)}c.push(g)}return c}function Kt(r,t,o){const c=[];for(let p=0;p<r.length;p++){const g=fi(r[p],t,o);c.push(g)}return c}function ei(r,t,o,c){if(r[0]<o[0]||r[0]>o[2]){const p=.5*c;let g=r[0]-o[0]>p?-c:o[0]-r[0]>p?c:0;g===0&&(g=r[0]-o[2]>p?-c:o[2]-r[0]>p?c:0),r[0]+=g}ne(t,r)}function ki(r,t,o,c){const p=Math.pow(2,c.z)*k,g=[c.x*k,c.y*k],b=[];if(!r)return b;for(const C of r)for(const B of C){const H=[B.x+g[0],B.y+g[1]];ei(H,t,o,p),b.push(H)}return b}function Ln(r,t,o,c){const p=Math.pow(2,c.z)*k,g=[c.x*k,c.y*k],b=[];if(!r)return b;for(const B of r){const H=[];for(const he of B){const ge=[he.x+g[0],he.y+g[1]];ne(t,ge),H.push(ge)}b.push(H)}if(t[2]-t[0]<=p/2){(C=t)[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(const B of b)for(const H of B)ei(H,t,o,p)}var C;return b}class Ki{constructor(t,o){this.type=Fn,this.geojson=t,this.geometries=o}static parse(t,o){if(t.length!==2)return o.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(_h(t[1])){const c=t[1];if(c.type==="FeatureCollection")for(let p=0;p<c.features.length;++p){const g=c.features[p].geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Ki(c,c.features[p].geometry)}else if(c.type==="Feature"){const p=c.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new Ki(c,c.geometry)}else if(c.type==="Polygon"||c.type==="MultiPolygon")return new Ki(c,c)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(o,c){const p=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],b=o.canonicalID();if(!b)return!1;if(c.type==="Polygon"){const C=fi(c.coordinates,g,b),B=ki(o.geometry(),p,g,b);if(!me(p,g))return!1;for(const H of B)if(!Ne(H,C))return!1}if(c.type==="MultiPolygon"){const C=Kt(c.coordinates,g,b),B=ki(o.geometry(),p,g,b);if(!me(p,g))return!1;for(const H of B)if(!He(H,C))return!1}return!0}(t,this.geometries);if(t.geometryType()==="LineString")return function(o,c){const p=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],b=o.canonicalID();if(!b)return!1;if(c.type==="Polygon"){const C=fi(c.coordinates,g,b),B=Ln(o.geometry(),p,g,b);if(!me(p,g))return!1;for(const H of B)if(!Ut(H,C))return!1}if(c.type==="MultiPolygon"){const C=Kt(c.coordinates,g,b),B=Ln(o.geometry(),p,g,b);if(!me(p,g))return!1;for(const H of B)if(!ii(H,C))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var qr=Ki;function Lr(r){if(r instanceof el&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof qr)return!1;let t=!0;return r.eachChild(o=>{t&&!Lr(o)&&(t=!1)}),t}function Gn(r){if(r instanceof el&&r.name==="feature-state")return!1;let t=!0;return r.eachChild(o=>{t&&!Gn(o)&&(t=!1)}),t}function Vn(r,t){if(r instanceof el&&t.indexOf(r.name)>=0)return!1;let o=!0;return r.eachChild(c=>{o&&!Vn(c,t)&&(o=!1)}),o}class Tn{constructor(t,o){this.type=o.type,this.name=t,this.boundExpression=o}static parse(t,o){if(t.length!==2||typeof t[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");const c=t[1];return o.scope.has(c)?new Tn(c,o.scope.get(c)):o.error(`Unknown variable "${c}". Make sure "${c}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Ys=Tn;class Xn{constructor(t,o=[],c,p=new nd,g=[]){this.registry=t,this.path=o,this.key=o.map(b=>`[${b}]`).join(""),this.scope=p,this.errors=g,this.expectedType=c}parse(t,o,c,p,g={}){return o?this.concat(o,c,p)._parse(t,g):this._parse(t,g)}_parse(t,o){function c(p,g,b){return b==="assert"?new ir(g,[p]):b==="coerce"?new ta(g,[p]):p}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=t[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const g=this.registry[p];if(g){let b=g.parse(t,this);if(!b)return null;if(this.expectedType){const C=this.expectedType,B=b.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||B.kind!=="value")if(C.kind!=="color"&&C.kind!=="formatted"&&C.kind!=="resolvedImage"||B.kind!=="value"&&B.kind!=="string"){if(this.checkSubtype(C,B))return null}else b=c(b,C,o.typeAnnotation||"coerce");else b=c(b,C,o.typeAnnotation||"assert")}if(!(b instanceof Cl)&&b.type.kind!=="resolvedImage"&&fa(b)){const C=new bh;try{b=new Cl(b.type,b.evaluate(C))}catch(B){return this.error(B.message),null}}return b}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,o,c){const p=typeof t=="number"?this.path.concat(t):this.path,g=c?this.scope.concat(c):this.scope;return new Xn(this.registry,p,o||null,g,this.errors)}error(t,...o){const c=`${this.key}${o.map(p=>`[${p}]`).join("")}`;this.errors.push(new Xs(c,t))}checkSubtype(t,o){const c=Oa(t,o);return c&&this.error(c),c}}var Tr=Xn;function fa(r){if(r instanceof Ys)return fa(r.boundExpression);if(r instanceof el&&r.name==="error"||r instanceof gs||r instanceof qr)return!1;const t=r instanceof ta||r instanceof ir;let o=!0;return r.eachChild(c=>{o=t?o&&fa(c):o&&c instanceof Cl}),!!o&&Lr(r)&&Vn(r,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function kl(r,t){const o=r.length-1;let c,p,g=0,b=o,C=0;for(;g<=b;)if(C=Math.floor((g+b)/2),c=r[C],p=r[C+1],c<=t){if(C===o||t<p)return C;g=C+1}else{if(!(c>t))throw new Ts("Input is not a number.");b=C-1}return 0}class Ls{constructor(t,o,c){this.type=t,this.input=o,this.labels=[],this.outputs=[];for(const[p,g]of c)this.labels.push(p),this.outputs.push(g)}static parse(t,o){if(t.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return o.error("Expected an even number of arguments.");const c=o.parse(t[1],1,Ii);if(!c)return null;const p=[];let g=null;o.expectedType&&o.expectedType.kind!=="value"&&(g=o.expectedType);for(let b=1;b<t.length;b+=2){const C=b===1?-1/0:t[b],B=t[b+1],H=b,he=b+1;if(typeof C!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',H);if(p.length&&p[p.length-1][0]>=C)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',H);const ge=o.parse(B,he,g);if(!ge)return null;g=g||ge.type,p.push([C,ge])}return new Ls(g,c,p)}evaluate(t){const o=this.labels,c=this.outputs;if(o.length===1)return c[0].evaluate(t);const p=this.input.evaluate(t);if(p<=o[0])return c[0].evaluate(t);const g=o.length;return p>=o[g-1]?c[g-1].evaluate(t):c[kl(o,p)].evaluate(t)}eachChild(t){t(this.input);for(const o of this.outputs)t(o)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let o=0;o<this.labels.length;o++)o>0&&t.push(this.labels[o]),t.push(this.outputs[o].serialize());return t}}var bo=Ls;function Pn(r,t,o){return r*(1-o)+t*o}var js=Object.freeze({__proto__:null,number:Pn,color:function(r,t,o){return new Jr(Pn(r.r,t.r,o),Pn(r.g,t.g,o),Pn(r.b,t.b,o),Pn(r.a,t.a,o))},array:function(r,t,o){return r.map((c,p)=>Pn(c,t[p],o))}});const ia=.95047,lo=1.08883,jo=4/29,Pl=6/29,za=3*Pl*Pl,wh=Math.PI/180,ur=180/Math.PI;function Uo(r){return r>.008856451679035631?Math.pow(r,1/3):r/za+jo}function Hc(r){return r>Pl?r*r*r:za*(r-jo)}function uc(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function eo(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Dl(r){const t=eo(r.r),o=eo(r.g),c=eo(r.b),p=Uo((.4124564*t+.3575761*o+.1804375*c)/ia),g=Uo((.2126729*t+.7151522*o+.072175*c)/1);return{l:116*g-16,a:500*(p-g),b:200*(g-Uo((.0193339*t+.119192*o+.9503041*c)/lo)),alpha:r.a}}function pc(r){let t=(r.l+16)/116,o=isNaN(r.a)?t:t+r.a/500,c=isNaN(r.b)?t:t-r.b/200;return t=1*Hc(t),o=ia*Hc(o),c=lo*Hc(c),new Jr(uc(3.2404542*o-1.5371385*t-.4985314*c),uc(-.969266*o+1.8760108*t+.041556*c),uc(.0556434*o-.2040259*t+1.0572252*c),r.alpha)}function od(r,t,o){const c=t-r;return r+o*(c>180||c<-180?c-360*Math.round(c/360):c)}const fc={forward:Dl,reverse:pc,interpolate:function(r,t,o){return{l:Pn(r.l,t.l,o),a:Pn(r.a,t.a,o),b:Pn(r.b,t.b,o),alpha:Pn(r.alpha,t.alpha,o)}}},mc={forward:function(r){const{l:t,a:o,b:c}=Dl(r),p=Math.atan2(c,o)*ur;return{h:p<0?p+360:p,c:Math.sqrt(o*o+c*c),l:t,alpha:r.a}},reverse:function(r){const t=r.h*wh,o=r.c;return pc({l:r.l,a:Math.cos(t)*o,b:Math.sin(t)*o,alpha:r.alpha})},interpolate:function(r,t,o){return{h:od(r.h,t.h,o),c:Pn(r.c,t.c,o),l:Pn(r.l,t.l,o),alpha:Pn(r.alpha,t.alpha,o)}}};var nu=Object.freeze({__proto__:null,lab:fc,hcl:mc});class Il{constructor(t,o,c,p,g){this.type=t,this.operator=o,this.interpolation=c,this.input=p,this.labels=[],this.outputs=[];for(const[b,C]of g)this.labels.push(b),this.outputs.push(C)}static interpolationFactor(t,o,c,p){let g=0;if(t.name==="exponential")g=ad(o,t.base,c,p);else if(t.name==="linear")g=ad(o,1,c,p);else if(t.name==="cubic-bezier"){const b=t.controlPoints;g=new N(b[0],b[1],b[2],b[3]).solve(ad(o,1,c,p))}return g}static parse(t,o){let[c,p,g,...b]=t;if(!Array.isArray(p)||p.length===0)return o.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const H=p[1];if(typeof H!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:H}}else{if(p[0]!=="cubic-bezier")return o.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const H=p.slice(1);if(H.length!==4||H.some(he=>typeof he!="number"||he<0||he>1))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:H}}}if(t.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(g=o.parse(g,2,Ii),!g)return null;const C=[];let B=null;c==="interpolate-hcl"||c==="interpolate-lab"?B=Fo:o.expectedType&&o.expectedType.kind!=="value"&&(B=o.expectedType);for(let H=0;H<b.length;H+=2){const he=b[H],ge=b[H+1],be=H+3,Ce=H+4;if(typeof he!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',be);if(C.length&&C[C.length-1][0]>=he)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',be);const De=o.parse(ge,Ce,B);if(!De)return null;B=B||De.type,C.push([he,De])}return B.kind==="number"||B.kind==="color"||B.kind==="array"&&B.itemType.kind==="number"&&typeof B.N=="number"?new Il(B,c,p,g,C):o.error(`Type ${_r(B)} is not interpolatable.`)}evaluate(t){const o=this.labels,c=this.outputs;if(o.length===1)return c[0].evaluate(t);const p=this.input.evaluate(t);if(p<=o[0])return c[0].evaluate(t);const g=o.length;if(p>=o[g-1])return c[g-1].evaluate(t);const b=kl(o,p),C=Il.interpolationFactor(this.interpolation,p,o[b],o[b+1]),B=c[b].evaluate(t),H=c[b+1].evaluate(t);return this.operator==="interpolate"?js[this.type.kind.toLowerCase()](B,H,C):this.operator==="interpolate-hcl"?mc.reverse(mc.interpolate(mc.forward(B),mc.forward(H),C)):fc.reverse(fc.interpolate(fc.forward(B),fc.forward(H),C))}eachChild(t){t(this.input);for(const o of this.outputs)t(o)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;t=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const o=[this.operator,t,this.input.serialize()];for(let c=0;c<this.labels.length;c++)o.push(this.labels[c],this.outputs[c].serialize());return o}}function ad(r,t,o,c){const p=c-o,g=r-o;return p===0?0:t===1?g/p:(Math.pow(t,g)-1)/(Math.pow(t,p)-1)}var ma=Il;class Ba{constructor(t,o){this.type=t,this.args=o}static parse(t,o){if(t.length<2)return o.error("Expectected at least one argument.");let c=null;const p=o.expectedType;p&&p.kind!=="value"&&(c=p);const g=[];for(const C of t.slice(1)){const B=o.parse(C,1+g.length,c,void 0,{typeAnnotation:"omit"});if(!B)return null;c=c||B.type,g.push(B)}const b=p&&g.some(C=>Oa(p,C.type));return new Ba(b?_n:c,g)}evaluate(t){let o,c=null,p=0;for(const g of this.args){if(p++,c=g.evaluate(t),c&&c instanceof No&&!c.available&&(o||(o=c),c=null,p===this.args.length))return o;if(c!==null)break}return c}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(o=>{t.push(o.serialize())}),t}}var Ll=Ba;class Th{constructor(t,o){this.type=o.type,this.bindings=[].concat(t),this.result=o}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const o of this.bindings)t(o[1]);t(this.result)}static parse(t,o){if(t.length<4)return o.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const c=[];for(let g=1;g<t.length-1;g+=2){const b=t[g];if(typeof b!="string")return o.error(`Expected string, but found ${typeof b} instead.`,g);if(/[^a-zA-Z0-9_]/.test(b))return o.error("Variable names must contain only alphanumeric characters or '_'.",g);const C=o.parse(t[g+1],g+1);if(!C)return null;c.push([b,C])}const p=o.parse(t[t.length-1],t.length-1,o.expectedType,c);return p?new Th(c,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[o,c]of this.bindings)t.push(o,c.serialize());return t.push(this.result.serialize()),t}}var gc=Th;class Go{constructor(t,o,c){this.type=t,this.index=o,this.input=c}static parse(t,o){if(t.length!==3)return o.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const c=o.parse(t[1],1,Ii),p=o.parse(t[2],2,ws(o.expectedType||_n));return c&&p?new Go(p.type.itemType,c,p):null}evaluate(t){const o=this.index.evaluate(t),c=this.input.evaluate(t);if(o<0)throw new Ts(`Array index out of bounds: ${o} < 0.`);if(o>=c.length)throw new Ts(`Array index out of bounds: ${o} > ${c.length-1}.`);if(o!==Math.floor(o))throw new Ts(`Array index must be an integer, but found ${o} instead.`);return c[o]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Us=Go;class tl{constructor(t,o){this.type=Fn,this.needle=t,this.haystack=o}static parse(t,o){if(t.length!==3)return o.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const c=o.parse(t[1],1,_n),p=o.parse(t[2],2,_n);return c&&p?Tl(c.type,[Fn,zn,Ii,Ds,_n])?new tl(c,p):o.error(`Expected first argument to be of type boolean, string, number or null, but found ${_r(c.type)} instead`):null}evaluate(t){const o=this.needle.evaluate(t),c=this.haystack.evaluate(t);if(c==null)return!1;if(!ea(o,["boolean","string","number","null"]))throw new Ts(`Expected first argument to be of type boolean, string, number or null, but found ${_r(ms(o))} instead.`);if(!ea(c,["string","array"]))throw new Ts(`Expected second argument to be of type array or string, but found ${_r(ms(c))} instead.`);return c.indexOf(o)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var ld=tl;class $c{constructor(t,o,c){this.type=Ii,this.needle=t,this.haystack=o,this.fromIndex=c}static parse(t,o){if(t.length<=2||t.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const c=o.parse(t[1],1,_n),p=o.parse(t[2],2,_n);if(!c||!p)return null;if(!Tl(c.type,[Fn,zn,Ii,Ds,_n]))return o.error(`Expected first argument to be of type boolean, string, number or null, but found ${_r(c.type)} instead`);if(t.length===4){const g=o.parse(t[3],3,Ii);return g?new $c(c,p,g):null}return new $c(c,p)}evaluate(t){const o=this.needle.evaluate(t),c=this.haystack.evaluate(t);if(!ea(o,["boolean","string","number","null"]))throw new Ts(`Expected first argument to be of type boolean, string, number or null, but found ${_r(ms(o))} instead.`);if(!ea(c,["string","array"]))throw new Ts(`Expected second argument to be of type array or string, but found ${_r(ms(c))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(t);return c.indexOf(o,p)}return c.indexOf(o)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var fp=$c;class nr{constructor(t,o,c,p,g,b){this.inputType=t,this.type=o,this.input=c,this.cases=p,this.outputs=g,this.otherwise=b}static parse(t,o){if(t.length<5)return o.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return o.error("Expected an even number of arguments.");let c,p;o.expectedType&&o.expectedType.kind!=="value"&&(p=o.expectedType);const g={},b=[];for(let H=2;H<t.length-1;H+=2){let he=t[H];const ge=t[H+1];Array.isArray(he)||(he=[he]);const be=o.concat(H);if(he.length===0)return be.error("Expected at least one branch label.");for(const De of he){if(typeof De!="number"&&typeof De!="string")return be.error("Branch labels must be numbers or strings.");if(typeof De=="number"&&Math.abs(De)>Number.MAX_SAFE_INTEGER)return be.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof De=="number"&&Math.floor(De)!==De)return be.error("Numeric branch labels must be integer values.");if(c){if(be.checkSubtype(c,ms(De)))return null}else c=ms(De);if(g[String(De)]!==void 0)return be.error("Branch labels must be unique.");g[String(De)]=b.length}const Ce=o.parse(ge,H,p);if(!Ce)return null;p=p||Ce.type,b.push(Ce)}const C=o.parse(t[1],1,_n);if(!C)return null;const B=o.parse(t[t.length-1],t.length-1,p);return B?C.type.kind!=="value"&&o.concat(1).checkSubtype(c,C.type)?null:new nr(c,p,C,g,b,B):null}evaluate(t){const o=this.input.evaluate(t);return(ms(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],o=Object.keys(this.cases).sort(),c=[],p={};for(const b of o){const C=p[this.cases[b]];C===void 0?(p[this.cases[b]]=c.length,c.push([this.cases[b],[b]])):c[C][1].push(b)}const g=b=>this.inputType.kind==="number"?Number(b):b;for(const[b,C]of c)t.push(C.length===1?g(C[0]):C.map(g)),t.push(this.outputs[b].serialize());return t.push(this.otherwise.serialize()),t}}var co=nr;class Gs{constructor(t,o,c){this.type=t,this.branches=o,this.otherwise=c}static parse(t,o){if(t.length<4)return o.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return o.error("Expected an odd number of arguments.");let c;o.expectedType&&o.expectedType.kind!=="value"&&(c=o.expectedType);const p=[];for(let b=1;b<t.length-1;b+=2){const C=o.parse(t[b],b,Fn);if(!C)return null;const B=o.parse(t[b+1],b+1,c);if(!B)return null;p.push([C,B]),c=c||B.type}const g=o.parse(t[t.length-1],t.length-1,c);return g?new Gs(c,p,g):null}evaluate(t){for(const[o,c]of this.branches)if(o.evaluate(t))return c.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[o,c]of this.branches)t(o),t(c);t(this.otherwise)}outputDefined(){return this.branches.every(([t,o])=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(o=>{t.push(o.serialize())}),t}}var wo=Gs;class Ol{constructor(t,o,c,p){this.type=t,this.input=o,this.beginIndex=c,this.endIndex=p}static parse(t,o){if(t.length<=2||t.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const c=o.parse(t[1],1,_n),p=o.parse(t[2],2,Ii);if(!c||!p)return null;if(!Tl(c.type,[ws(_n),zn,_n]))return o.error(`Expected first argument to be of type array or string, but found ${_r(c.type)} instead`);if(t.length===4){const g=o.parse(t[3],3,Ii);return g?new Ol(c.type,c,p,g):null}return new Ol(c.type,c,p)}evaluate(t){const o=this.input.evaluate(t),c=this.beginIndex.evaluate(t);if(!ea(o,["string","array"]))throw new Ts(`Expected first argument to be of type array or string, but found ${_r(ms(o))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(t);return o.slice(c,p)}return o.slice(c)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var ru=Ol;function su(r,t){return r==="=="||r==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function ou(r,t,o,c){return c.compare(t,o)===0}function To(r,t,o){const c=r!=="=="&&r!=="!=";return class TC{constructor(g,b,C){this.type=Fn,this.lhs=g,this.rhs=b,this.collator=C,this.hasUntypedArgument=g.type.kind==="value"||b.type.kind==="value"}static parse(g,b){if(g.length!==3&&g.length!==4)return b.error("Expected two or three arguments.");const C=g[0];let B=b.parse(g[1],1,_n);if(!B)return null;if(!su(C,B.type))return b.concat(1).error(`"${C}" comparisons are not supported for type '${_r(B.type)}'.`);let H=b.parse(g[2],2,_n);if(!H)return null;if(!su(C,H.type))return b.concat(2).error(`"${C}" comparisons are not supported for type '${_r(H.type)}'.`);if(B.type.kind!==H.type.kind&&B.type.kind!=="value"&&H.type.kind!=="value")return b.error(`Cannot compare types '${_r(B.type)}' and '${_r(H.type)}'.`);c&&(B.type.kind==="value"&&H.type.kind!=="value"?B=new ir(H.type,[B]):B.type.kind!=="value"&&H.type.kind==="value"&&(H=new ir(B.type,[H])));let he=null;if(g.length===4){if(B.type.kind!=="string"&&H.type.kind!=="string"&&B.type.kind!=="value"&&H.type.kind!=="value")return b.error("Cannot use collator to compare non-string types.");if(he=b.parse(g[3],3,dc),!he)return null}return new TC(B,H,he)}evaluate(g){const b=this.lhs.evaluate(g),C=this.rhs.evaluate(g);if(c&&this.hasUntypedArgument){const B=ms(b),H=ms(C);if(B.kind!==H.kind||B.kind!=="string"&&B.kind!=="number")throw new Ts(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${B.kind}, ${H.kind}) instead.`)}if(this.collator&&!c&&this.hasUntypedArgument){const B=ms(b),H=ms(C);if(B.kind!=="string"||H.kind!=="string")return t(g,b,C)}return this.collator?o(g,b,C,this.collator.evaluate(g)):t(g,b,C)}eachChild(g){g(this.lhs),g(this.rhs),this.collator&&g(this.collator)}outputDefined(){return!0}serialize(){const g=[r];return this.eachChild(b=>{g.push(b.serialize())}),g}}}const Dt=To("==",function(r,t,o){return t===o},ou),ci=To("!=",function(r,t,o){return t!==o},function(r,t,o,c){return!ou(0,t,o,c)}),ti=To("<",function(r,t,o){return t<o},function(r,t,o,c){return c.compare(t,o)<0}),Yi=To(">",function(r,t,o){return t>o},function(r,t,o,c){return c.compare(t,o)>0}),Dn=To("<=",function(r,t,o){return t<=o},function(r,t,o,c){return c.compare(t,o)<=0}),ar=To(">=",function(r,t,o){return t>=o},function(r,t,o,c){return c.compare(t,o)>=0});class cs{constructor(t,o,c,p,g,b){this.type=zn,this.number=t,this.locale=o,this.currency=c,this.unit=p,this.minFractionDigits=g,this.maxFractionDigits=b}static parse(t,o){if(t.length!==3)return o.error("Expected two arguments.");const c=o.parse(t[1],1,Ii);if(!c)return null;const p=t[2];if(typeof p!="object"||Array.isArray(p))return o.error("NumberFormat options argument must be an object.");let g=null;if(p.locale&&(g=o.parse(p.locale,1,zn),!g))return null;let b=null;if(p.currency&&(b=o.parse(p.currency,1,zn),!b))return null;let C=null;if(p.unit&&(C=o.parse(p.unit,1,zn),!C))return null;let B=null;if(p["min-fraction-digits"]&&(B=o.parse(p["min-fraction-digits"],1,Ii),!B))return null;let H=null;return p["max-fraction-digits"]&&(H=o.parse(p["max-fraction-digits"],1,Ii),!H)?null:new cs(c,g,b,C,B,H)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class pr{constructor(t){this.type=Ii,this.input=t}static parse(t,o){if(t.length!==2)return o.error(`Expected 1 argument, but found ${t.length-1} instead.`);const c=o.parse(t[1],1);return c?c.type.kind!=="array"&&c.type.kind!=="string"&&c.type.kind!=="value"?o.error(`Expected argument of type string or array, but found ${_r(c.type)} instead.`):new pr(c):null}evaluate(t){const o=this.input.evaluate(t);if(typeof o=="string"||Array.isArray(o))return o.length;throw new Ts(`Expected value to be of type string or array, but found ${_r(ms(o))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(o=>{t.push(o.serialize())}),t}}const _c={"==":Dt,"!=":ci,">":Yi,"<":ti,">=":ar,"<=":Dn,array:ir,at:Us,boolean:ir,case:wo,coalesce:Ll,collator:gs,format:dr,image:vh,in:ld,"index-of":fp,interpolate:ma,"interpolate-hcl":ma,"interpolate-lab":ma,length:pr,let:gc,literal:Cl,match:co,number:ir,"number-format":cs,object:ir,slice:ru,step:bo,string:ir,"to-boolean":ta,"to-color":ta,"to-number":ta,"to-string":ta,var:Ys,within:qr};function Sh(r,[t,o,c,p]){t=t.evaluate(r),o=o.evaluate(r),c=c.evaluate(r);const g=p?p.evaluate(r):1,b=iu(t,o,c,g);if(b)throw new Ts(b);return new Jr(t/255*g,o/255*g,c/255*g,g)}function ho(r,t){return r in t}function Ke(r,t){const o=t[r];return o===void 0?null:o}function xt(r){return{type:r}}el.register(_c,{error:[{kind:"error"},[zn],(r,[t])=>{throw new Ts(t.evaluate(r))}],typeof:[zn,[_n],(r,[t])=>_r(ms(t.evaluate(r)))],"to-rgba":[ws(Ii,4),[Fo],(r,[t])=>t.evaluate(r).toArray()],rgb:[Fo,[Ii,Ii,Ii],Sh],rgba:[Fo,[Ii,Ii,Ii,Ii],Sh],has:{type:Fn,overloads:[[[zn],(r,[t])=>ho(t.evaluate(r),r.properties())],[[zn,pa],(r,[t,o])=>ho(t.evaluate(r),o.evaluate(r))]]},get:{type:_n,overloads:[[[zn],(r,[t])=>Ke(t.evaluate(r),r.properties())],[[zn,pa],(r,[t,o])=>Ke(t.evaluate(r),o.evaluate(r))]]},"feature-state":[_n,[zn],(r,[t])=>Ke(t.evaluate(r),r.featureState||{})],properties:[pa,[],r=>r.properties()],"geometry-type":[zn,[],r=>r.geometryType()],id:[_n,[],r=>r.id()],zoom:[Ii,[],r=>r.globals.zoom],pitch:[Ii,[],r=>r.globals.pitch||0],"distance-from-center":[Ii,[],r=>r.distanceFromCenter()],"heatmap-density":[Ii,[],r=>r.globals.heatmapDensity||0],"line-progress":[Ii,[],r=>r.globals.lineProgress||0],"sky-radial-progress":[Ii,[],r=>r.globals.skyRadialProgress||0],accumulated:[_n,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[Ii,xt(Ii),(r,t)=>{let o=0;for(const c of t)o+=c.evaluate(r);return o}],"*":[Ii,xt(Ii),(r,t)=>{let o=1;for(const c of t)o*=c.evaluate(r);return o}],"-":{type:Ii,overloads:[[[Ii,Ii],(r,[t,o])=>t.evaluate(r)-o.evaluate(r)],[[Ii],(r,[t])=>-t.evaluate(r)]]},"/":[Ii,[Ii,Ii],(r,[t,o])=>t.evaluate(r)/o.evaluate(r)],"%":[Ii,[Ii,Ii],(r,[t,o])=>t.evaluate(r)%o.evaluate(r)],ln2:[Ii,[],()=>Math.LN2],pi:[Ii,[],()=>Math.PI],e:[Ii,[],()=>Math.E],"^":[Ii,[Ii,Ii],(r,[t,o])=>Math.pow(t.evaluate(r),o.evaluate(r))],sqrt:[Ii,[Ii],(r,[t])=>Math.sqrt(t.evaluate(r))],log10:[Ii,[Ii],(r,[t])=>Math.log(t.evaluate(r))/Math.LN10],ln:[Ii,[Ii],(r,[t])=>Math.log(t.evaluate(r))],log2:[Ii,[Ii],(r,[t])=>Math.log(t.evaluate(r))/Math.LN2],sin:[Ii,[Ii],(r,[t])=>Math.sin(t.evaluate(r))],cos:[Ii,[Ii],(r,[t])=>Math.cos(t.evaluate(r))],tan:[Ii,[Ii],(r,[t])=>Math.tan(t.evaluate(r))],asin:[Ii,[Ii],(r,[t])=>Math.asin(t.evaluate(r))],acos:[Ii,[Ii],(r,[t])=>Math.acos(t.evaluate(r))],atan:[Ii,[Ii],(r,[t])=>Math.atan(t.evaluate(r))],min:[Ii,xt(Ii),(r,t)=>Math.min(...t.map(o=>o.evaluate(r)))],max:[Ii,xt(Ii),(r,t)=>Math.max(...t.map(o=>o.evaluate(r)))],abs:[Ii,[Ii],(r,[t])=>Math.abs(t.evaluate(r))],round:[Ii,[Ii],(r,[t])=>{const o=t.evaluate(r);return o<0?-Math.round(-o):Math.round(o)}],floor:[Ii,[Ii],(r,[t])=>Math.floor(t.evaluate(r))],ceil:[Ii,[Ii],(r,[t])=>Math.ceil(t.evaluate(r))],"filter-==":[Fn,[zn,_n],(r,[t,o])=>r.properties()[t.value]===o.value],"filter-id-==":[Fn,[_n],(r,[t])=>r.id()===t.value],"filter-type-==":[Fn,[zn],(r,[t])=>r.geometryType()===t.value],"filter-<":[Fn,[zn,_n],(r,[t,o])=>{const c=r.properties()[t.value],p=o.value;return typeof c==typeof p&&c<p}],"filter-id-<":[Fn,[_n],(r,[t])=>{const o=r.id(),c=t.value;return typeof o==typeof c&&o<c}],"filter->":[Fn,[zn,_n],(r,[t,o])=>{const c=r.properties()[t.value],p=o.value;return typeof c==typeof p&&c>p}],"filter-id->":[Fn,[_n],(r,[t])=>{const o=r.id(),c=t.value;return typeof o==typeof c&&o>c}],"filter-<=":[Fn,[zn,_n],(r,[t,o])=>{const c=r.properties()[t.value],p=o.value;return typeof c==typeof p&&c<=p}],"filter-id-<=":[Fn,[_n],(r,[t])=>{const o=r.id(),c=t.value;return typeof o==typeof c&&o<=c}],"filter->=":[Fn,[zn,_n],(r,[t,o])=>{const c=r.properties()[t.value],p=o.value;return typeof c==typeof p&&c>=p}],"filter-id->=":[Fn,[_n],(r,[t])=>{const o=r.id(),c=t.value;return typeof o==typeof c&&o>=c}],"filter-has":[Fn,[_n],(r,[t])=>t.value in r.properties()],"filter-has-id":[Fn,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Fn,[ws(zn)],(r,[t])=>t.value.indexOf(r.geometryType())>=0],"filter-id-in":[Fn,[ws(_n)],(r,[t])=>t.value.indexOf(r.id())>=0],"filter-in-small":[Fn,[zn,ws(_n)],(r,[t,o])=>o.value.indexOf(r.properties()[t.value])>=0],"filter-in-large":[Fn,[zn,ws(_n)],(r,[t,o])=>function(c,p,g,b){for(;g<=b;){const C=g+b>>1;if(p[C]===c)return!0;p[C]>c?b=C-1:g=C+1}return!1}(r.properties()[t.value],o.value,0,o.value.length-1)],all:{type:Fn,overloads:[[[Fn,Fn],(r,[t,o])=>t.evaluate(r)&&o.evaluate(r)],[xt(Fn),(r,t)=>{for(const o of t)if(!o.evaluate(r))return!1;return!0}]]},any:{type:Fn,overloads:[[[Fn,Fn],(r,[t,o])=>t.evaluate(r)||o.evaluate(r)],[xt(Fn),(r,t)=>{for(const o of t)if(o.evaluate(r))return!0;return!1}]]},"!":[Fn,[Fn],(r,[t])=>!t.evaluate(r)],"is-supported-script":[Fn,[zn],(r,[t])=>{const o=r.globals&&r.globals.isSupportedScript;return!o||o(t.evaluate(r))}],upcase:[zn,[zn],(r,[t])=>t.evaluate(r).toUpperCase()],downcase:[zn,[zn],(r,[t])=>t.evaluate(r).toLowerCase()],concat:[zn,xt(_n),(r,t)=>t.map(o=>Ml(o.evaluate(r))).join("")],"resolved-locale":[zn,[dc],(r,[t])=>t.evaluate(r).resolvedLocale()]});var kt=_c;function hi(r){return{result:"success",value:r}}function It(r){return{result:"error",value:r}}function Qt(r){return r["property-type"]==="data-driven"}function Si(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function Fi(r){return!!r.expression&&r.expression.interpolated}function bi(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function un(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function yn(r){return r}function vn(r,t){const o=t.type==="color",c=r.stops&&typeof r.stops[0][0]=="object",p=c||!(c||r.property!==void 0),g=r.type||(Fi(t)?"exponential":"interval");if(o&&((r=Bo({},r)).stops&&(r.stops=r.stops.map(H=>[H[0],Jr.parse(H[1])])),r.default=Jr.parse(r.default?r.default:t.default)),r.colorSpace&&r.colorSpace!=="rgb"&&!nu[r.colorSpace])throw new Error(`Unknown color space: ${r.colorSpace}`);let b,C,B;if(g==="exponential")b=ss;else if(g==="interval")b=pn;else if(g==="categorical"){b=Kn,C=Object.create(null);for(const H of r.stops)C[H[0]]=H[1];B=typeof r.stops[0][0]}else{if(g!=="identity")throw new Error(`Unknown function type "${g}"`);b=hs}if(c){const H={},he=[];for(let Ce=0;Ce<r.stops.length;Ce++){const De=r.stops[Ce],Fe=De[0].zoom;H[Fe]===void 0&&(H[Fe]={zoom:Fe,type:r.type,property:r.property,default:r.default,stops:[]},he.push(Fe)),H[Fe].stops.push([De[0].value,De[1]])}const ge=[];for(const Ce of he)ge.push([H[Ce].zoom,vn(H[Ce],t)]);const be={name:"linear"};return{kind:"composite",interpolationType:be,interpolationFactor:ma.interpolationFactor.bind(void 0,be),zoomStops:ge.map(Ce=>Ce[0]),evaluate:({zoom:Ce},De)=>ss({stops:ge,base:r.base},t,Ce).evaluate(Ce,De)}}if(p){const H=g==="exponential"?{name:"exponential",base:r.base!==void 0?r.base:1}:null;return{kind:"camera",interpolationType:H,interpolationFactor:ma.interpolationFactor.bind(void 0,H),zoomStops:r.stops.map(he=>he[0]),evaluate:({zoom:he})=>b(r,t,he,C,B)}}return{kind:"source",evaluate(H,he){const ge=he&&he.properties?he.properties[r.property]:void 0;return ge===void 0?On(r.default,t.default):b(r,t,ge,C,B)}}}function On(r,t,o){return r!==void 0?r:t!==void 0?t:o!==void 0?o:void 0}function Kn(r,t,o,c,p){return On(typeof o===p?c[o]:void 0,r.default,t.default)}function pn(r,t,o){if(bi(o)!=="number")return On(r.default,t.default);const c=r.stops.length;if(c===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[c-1][0])return r.stops[c-1][1];const p=kl(r.stops.map(g=>g[0]),o);return r.stops[p][1]}function ss(r,t,o){const c=r.base!==void 0?r.base:1;if(bi(o)!=="number")return On(r.default,t.default);const p=r.stops.length;if(p===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[p-1][0])return r.stops[p-1][1];const g=kl(r.stops.map(he=>he[0]),o),b=function(he,ge,be,Ce){const De=Ce-be,Fe=he-be;return De===0?0:ge===1?Fe/De:(Math.pow(ge,Fe)-1)/(Math.pow(ge,De)-1)}(o,c,r.stops[g][0],r.stops[g+1][0]),C=r.stops[g][1],B=r.stops[g+1][1];let H=js[t.type]||yn;if(r.colorSpace&&r.colorSpace!=="rgb"){const he=nu[r.colorSpace];H=(ge,be)=>he.reverse(he.interpolate(he.forward(ge),he.forward(be),b))}return typeof C.evaluate=="function"?{evaluate(...he){const ge=C.evaluate.apply(void 0,he),be=B.evaluate.apply(void 0,he);if(ge!==void 0&&be!==void 0)return H(ge,be,b)}}:H(C,B,b)}function hs(r,t,o){return t.type==="color"?o=Jr.parse(o):t.type==="formatted"?o=Is.fromString(o.toString()):t.type==="resolvedImage"?o=No.fromString(o.toString()):bi(o)===t.type||t.type==="enum"&&t.values[o]||(o=void 0),On(o,r.default,t.default)}class Vs{constructor(t,o){this.expression=t,this._warningHistory={},this._evaluator=new bh,this._defaultValue=o?function(c){return c.type==="color"&&(un(c.default)||Array.isArray(c.default))?new Jr(0,0,0,0):c.type==="color"?Jr.parse(c.default)||null:c.default===void 0?null:c.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null}evaluateWithoutErrorHandling(t,o,c,p,g,b,C,B){return this._evaluator.globals=t,this._evaluator.feature=o,this._evaluator.featureState=c,this._evaluator.canonical=p||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=b,this._evaluator.featureTileCoord=C||null,this._evaluator.featureDistanceData=B||null,this.expression.evaluate(this._evaluator)}evaluate(t,o,c,p,g,b,C,B){this._evaluator.globals=t,this._evaluator.feature=o||null,this._evaluator.featureState=c||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=b||null,this._evaluator.featureTileCoord=C||null,this._evaluator.featureDistanceData=B||null;try{const H=this.expression.evaluate(this._evaluator);if(H==null||typeof H=="number"&&H!=H)return this._defaultValue;if(this._enumValues&&!(H in this._enumValues))throw new Ts(`Expected value to be one of ${Object.keys(this._enumValues).map(he=>JSON.stringify(he)).join(", ")}, but found ${JSON.stringify(H)} instead.`);return H}catch(H){return this._warningHistory[H.message]||(this._warningHistory[H.message]=!0,typeof console<"u"&&console.warn(H.message)),this._defaultValue}}}function Sr(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in kt}function to(r,t){const o=new Tr(kt,[],t?function(p){const g={color:Fo,string:zn,number:Ii,enum:zn,boolean:Fn,formatted:Qo,resolvedImage:La};return p.type==="array"?ws(g[p.value]||_n,p.length):g[p.type]}(t):void 0),c=o.parse(r,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return c?hi(new Vs(c,t)):It(o.errors)}class So{constructor(t,o){this.kind=t,this._styleExpression=o,this.isStateDependent=t!=="constant"&&!Gn(o.expression)}evaluateWithoutErrorHandling(t,o,c,p,g,b){return this._styleExpression.evaluateWithoutErrorHandling(t,o,c,p,g,b)}evaluate(t,o,c,p,g,b){return this._styleExpression.evaluate(t,o,c,p,g,b)}}class _s{constructor(t,o,c,p){this.kind=t,this.zoomStops=c,this._styleExpression=o,this.isStateDependent=t!=="camera"&&!Gn(o.expression),this.interpolationType=p}evaluateWithoutErrorHandling(t,o,c,p,g,b){return this._styleExpression.evaluateWithoutErrorHandling(t,o,c,p,g,b)}evaluate(t,o,c,p,g,b){return this._styleExpression.evaluate(t,o,c,p,g,b)}interpolationFactor(t,o,c){return this.interpolationType?ma.interpolationFactor(this.interpolationType,t,o,c):0}}function Rl(r,t){if((r=to(r,t)).result==="error")return r;const o=r.value.expression,c=Lr(o);if(!c&&!Qt(t))return It([new Xs("","data expressions not supported")]);const p=Vn(o,["zoom","pitch","distance-from-center"]);if(!p&&!Si(t))return It([new Xs("","zoom expressions not supported")]);const g=cd(o);return g||p?g instanceof Xs?It([g]):g instanceof ma&&!Fi(t)?It([new Xs("",'"interpolate" expressions cannot be used with this property')]):hi(g?new _s(c?"camera":"composite",r.value,g.labels,g instanceof ma?g.interpolation:void 0):new So(c?"constant":"source",r.value)):It([new Xs("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class zl{constructor(t,o){this._parameters=t,this._specification=o,Bo(this,vn(this._parameters,this._specification))}static deserialize(t){return new zl(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function cd(r){let t=null;if(r instanceof gc)t=cd(r.result);else if(r instanceof Ll){for(const o of r.args)if(t=cd(o),t)break}else(r instanceof bo||r instanceof ma)&&r.input instanceof el&&r.input.name==="zoom"&&(t=r);return t instanceof Xs||r.eachChild(o=>{const c=cd(o);c instanceof Xs?t=c:!t&&c?t=new Xs("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&c&&t!==c&&(t=new Xs("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}class ji{constructor(t,o,c,p){this.message=(t?`${t}: `:"")+c,p&&(this.identifier=p),o!=null&&o.__line__&&(this.line=o.__line__)}}function ga(r){const t=r.key,o=r.value,c=r.valueSpec||{},p=r.objectElementValidators||{},g=r.style,b=r.styleSpec;let C=[];const B=bi(o);if(B!=="object")return[new ji(t,o,`object expected, ${B} found`)];for(const H in o){const he=H.split(".")[0],ge=c[he]||c["*"];let be;p[he]?be=p[he]:c[he]?be=En:p["*"]?be=p["*"]:c["*"]&&(be=En),be?C=C.concat(be({key:(t&&`${t}.`)+H,value:o[H],valueSpec:ge,style:g,styleSpec:b,object:o,objectKey:H},o)):C.push(new ji(t,o[H],`unknown property "${H}"`))}for(const H in c)p[H]||c[H].required&&c[H].default===void 0&&o[H]===void 0&&C.push(new ji(t,o,`missing required property "${H}"`));return C}function yc(r){const t=r.value,o=r.valueSpec,c=r.style,p=r.styleSpec,g=r.key,b=r.arrayElementValidator||En;if(bi(t)!=="array")return[new ji(g,t,`array expected, ${bi(t)} found`)];if(o.length&&t.length!==o.length)return[new ji(g,t,`array length ${o.length} expected, length ${t.length} found`)];if(o["min-length"]&&t.length<o["min-length"])return[new ji(g,t,`array length at least ${o["min-length"]} expected, length ${t.length} found`)];let C={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum,function:void 0};p.$version<7&&(C.function=o.function),bi(o.value)==="object"&&(C=o.value);let B=[];for(let H=0;H<t.length;H++)B=B.concat(b({array:t,arrayIndex:H,value:t[H],valueSpec:C,style:c,styleSpec:p,key:`${g}[${H}]`}));return B}function hd(r){const t=r.key,o=r.value,c=r.valueSpec;let p=bi(o);if(p==="number"&&o!=o&&(p="NaN"),p!=="number")return[new ji(t,o,`number expected, ${p} found`)];if("minimum"in c){let g=c.minimum;if(bi(c.minimum)==="array"&&(g=c.minimum[r.arrayIndex]),o<g)return[new ji(t,o,`${o} is less than the minimum value ${g}`)]}if("maximum"in c){let g=c.maximum;if(bi(c.maximum)==="array"&&(g=c.maximum[r.arrayIndex]),o>g)return[new ji(t,o,`${o} is greater than the maximum value ${g}`)]}return[]}function au(r){const t=r.valueSpec,o=ns(r.value.type);let c,p,g,b={};const C=o!=="categorical"&&r.value.property===void 0,B=!C,H=bi(r.value.stops)==="array"&&bi(r.value.stops[0])==="array"&&bi(r.value.stops[0][0])==="object",he=ga({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(Ce){if(o==="identity")return[new ji(Ce.key,Ce.value,'identity function may not have a "stops" property')];let De=[];const Fe=Ce.value;return De=De.concat(yc({key:Ce.key,value:Fe,valueSpec:Ce.valueSpec,style:Ce.style,styleSpec:Ce.styleSpec,arrayElementValidator:ge})),bi(Fe)==="array"&&Fe.length===0&&De.push(new ji(Ce.key,Fe,"array must have at least one stop")),De},default:function(Ce){return En({key:Ce.key,value:Ce.value,valueSpec:t,style:Ce.style,styleSpec:Ce.styleSpec})}}});return o==="identity"&&C&&he.push(new ji(r.key,r.value,'missing required property "property"')),o==="identity"||r.value.stops||he.push(new ji(r.key,r.value,'missing required property "stops"')),o==="exponential"&&r.valueSpec.expression&&!Fi(r.valueSpec)&&he.push(new ji(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(B&&!Qt(r.valueSpec)?he.push(new ji(r.key,r.value,"property functions not supported")):C&&!Si(r.valueSpec)&&he.push(new ji(r.key,r.value,"zoom functions not supported"))),o!=="categorical"&&!H||r.value.property!==void 0||he.push(new ji(r.key,r.value,'"property" property is required')),he;function ge(Ce){let De=[];const Fe=Ce.value,Ye=Ce.key;if(bi(Fe)!=="array")return[new ji(Ye,Fe,`array expected, ${bi(Fe)} found`)];if(Fe.length!==2)return[new ji(Ye,Fe,`array length 2 expected, length ${Fe.length} found`)];if(H){if(bi(Fe[0])!=="object")return[new ji(Ye,Fe,`object expected, ${bi(Fe[0])} found`)];if(Fe[0].zoom===void 0)return[new ji(Ye,Fe,"object stop key must have zoom")];if(Fe[0].value===void 0)return[new ji(Ye,Fe,"object stop key must have value")];const dt=ns(Fe[0].zoom);if(typeof dt!="number")return[new ji(Ye,Fe[0].zoom,"stop zoom values must be numbers")];if(g&&g>dt)return[new ji(Ye,Fe[0].zoom,"stop zoom values must appear in ascending order")];dt!==g&&(g=dt,p=void 0,b={}),De=De.concat(ga({key:`${Ye}[0]`,value:Fe[0],valueSpec:{zoom:{}},style:Ce.style,styleSpec:Ce.styleSpec,objectElementValidators:{zoom:hd,value:be}}))}else De=De.concat(be({key:`${Ye}[0]`,value:Fe[0],valueSpec:{},style:Ce.style,styleSpec:Ce.styleSpec},Fe));return Sr(rs(Fe[1]))?De.concat([new ji(`${Ye}[1]`,Fe[1],"expressions are not allowed in function stops.")]):De.concat(En({key:`${Ye}[1]`,value:Fe[1],valueSpec:t,style:Ce.style,styleSpec:Ce.styleSpec}))}function be(Ce,De){const Fe=bi(Ce.value),Ye=ns(Ce.value),dt=Ce.value!==null?Ce.value:De;if(c){if(Fe!==c)return[new ji(Ce.key,dt,`${Fe} stop domain type must match previous stop domain type ${c}`)]}else c=Fe;if(Fe!=="number"&&Fe!=="string"&&Fe!=="boolean"&&typeof Ye!="number"&&typeof Ye!="string"&&typeof Ye!="boolean")return[new ji(Ce.key,dt,"stop domain value must be a number, string, or boolean")];if(Fe!=="number"&&o!=="categorical"){let _t=`number expected, ${Fe} found`;return Qt(t)&&o===void 0&&(_t+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ji(Ce.key,dt,_t)]}return o!=="categorical"||Fe!=="number"||typeof Ye=="number"&&isFinite(Ye)&&Math.floor(Ye)===Ye?o!=="categorical"&&Fe==="number"&&typeof Ye=="number"&&typeof p=="number"&&p!==void 0&&Ye<p?[new ji(Ce.key,dt,"stop domain values must appear in ascending order")]:(p=Ye,o==="categorical"&&Ye in b?[new ji(Ce.key,dt,"stop domain values must be unique")]:(b[Ye]=!0,[])):[new ji(Ce.key,dt,`integer expected, found ${String(Ye)}`)]}}function Eh(r){const t=(r.expressionContext==="property"?Rl:to)(rs(r.value),r.valueSpec);if(t.result==="error")return t.value.map(c=>new ji(`${r.key}${c.key}`,r.value,c.message));const o=t.value.expression||t.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!o.outputDefined())return[new ji(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!Gn(o))return[new ji(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter")return mp(o,r);if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!Vn(o,["zoom","feature-state"]))return[new ji(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!Lr(o))return[new ji(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function mp(r,t){const o=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression)for(const p of t.valueSpec.expression.parameters)o.delete(p);if(o.size===0)return[];const c=[];return r instanceof el&&o.has(r.name)?[new ji(t.key,t.value,`["${r.name}"] expression is not supported in a filter for a ${t.object.type} layer with id: ${t.object.id}`)]:(r.eachChild(p=>{c.push(...mp(p,t))}),c)}function lu(r){const t=r.key,o=r.value,c=r.valueSpec,p=[];return Array.isArray(c.values)?c.values.indexOf(ns(o))===-1&&p.push(new ji(t,o,`expected one of [${c.values.join(", ")}], ${JSON.stringify(o)} found`)):Object.keys(c.values).indexOf(ns(o))===-1&&p.push(new ji(t,o,`expected one of [${Object.keys(c.values).join(", ")}], ${JSON.stringify(o)} found`)),p}function Mh(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const t of r.slice(1))if(!Mh(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function Qr(r,t="fill"){if(r==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Mh(r)||(r=il(r));const o=r;let c=!0;try{c=function(H){if(!Ch(H))return H;let he=rs(H);return dd(he),he=Or(he),he}(o)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(o,null,2)}
        `)}const p=ni[`filter_${t}`],g=to(c,p);let b=null;if(g.result==="error")throw new Error(g.value.map(H=>`${H.key}: ${H.message}`).join(", "));b=(H,he,ge)=>g.value.evaluate(H,he,{},ge);let C=null,B=null;if(c!==o){const H=to(o,p);if(H.result==="error")throw new Error(H.value.map(he=>`${he.key}: ${he.message}`).join(", "));C=(he,ge,be,Ce,De)=>H.value.evaluate(he,ge,{},be,void 0,void 0,Ce,De),B=!Lr(H.value.expression)}return{filter:b,dynamicFilter:C||void 0,needGeometry:cu(c),needFeature:!!B}}function Or(r){if(!Array.isArray(r))return r;const t=function(o){if(Nf.has(o[0])){for(let c=1;c<o.length;c++)if(Ch(o[c]))return!0}return o}(r);return t===!0?t:t.map(o=>Or(o))}function dd(r){let t=!1;const o=[];if(r[0]==="case"){for(let c=1;c<r.length-1;c+=2)t=t||Ch(r[c]),o.push(r[c+1]);o.push(r[r.length-1])}else if(r[0]==="match"){t=t||Ch(r[1]);for(let c=2;c<r.length-1;c+=2)o.push(r[c+1]);o.push(r[r.length-1])}else if(r[0]==="step"){t=t||Ch(r[1]);for(let c=1;c<r.length-1;c+=2)o.push(r[c+1])}t&&(r.length=0,r.push("any",...o));for(let c=1;c<r.length;c++)dd(r[c])}function Ch(r){if(!Array.isArray(r))return!1;if((t=r[0])==="pitch"||t==="distance-from-center")return!0;var t;for(let o=1;o<r.length;o++)if(Ch(r[o]))return!0;return!1}const Nf=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Cm(r,t){return r<t?-1:r>t?1:0}function cu(r){if(!Array.isArray(r))return!1;if(r[0]==="within")return!0;for(let t=1;t<r.length;t++)if(cu(r[t]))return!0;return!1}function il(r){if(!r)return!0;const t=r[0];return r.length<=1?t!=="any":t==="=="?ud(r[1],r[2],"=="):t==="!="?xc(ud(r[1],r[2],"==")):t==="<"||t===">"||t==="<="||t===">="?ud(r[1],r[2],t):t==="any"?(o=r.slice(1),["any"].concat(o.map(il))):t==="all"?["all"].concat(r.slice(1).map(il)):t==="none"?["all"].concat(r.slice(1).map(il).map(xc)):t==="in"?Bl(r[1],r.slice(2)):t==="!in"?xc(Bl(r[1],r.slice(2))):t==="has"?Ah(r[1]):t==="!has"?xc(Ah(r[1])):t!=="within"||r;var o}function ud(r,t,o){switch(r){case"$type":return[`filter-type-${o}`,t];case"$id":return[`filter-id-${o}`,t];default:return[`filter-${o}`,r,t]}}function Bl(r,t){if(t.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(o=>typeof o!=typeof t[0])?["filter-in-large",r,["literal",t.sort(Cm)]]:["filter-in-small",r,["literal",t]]}}function Ah(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function xc(r){return["!",r]}function vc(r){return Mh(rs(r.value))?Eh(Bo({},r,{expressionContext:"filter",valueSpec:r.styleSpec[`filter_${r.layerType||"fill"}`]})):Xc(r)}function Xc(r){const t=r.value,o=r.key;if(bi(t)!=="array")return[new ji(o,t,`array expected, ${bi(t)} found`)];const c=r.styleSpec;let p,g=[];if(t.length<1)return[new ji(o,t,"filter array must have at least 1 element")];switch(g=g.concat(lu({key:`${o}[0]`,value:t[0],valueSpec:c.filter_operator,style:r.style,styleSpec:r.styleSpec})),ns(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&ns(t[1])==="$type"&&g.push(new ji(o,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&g.push(new ji(o,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(p=bi(t[1]),p!=="string"&&g.push(new ji(`${o}[1]`,t[1],`string expected, ${p} found`)));for(let b=2;b<t.length;b++)p=bi(t[b]),ns(t[1])==="$type"?g=g.concat(lu({key:`${o}[${b}]`,value:t[b],valueSpec:c.geometry_type,style:r.style,styleSpec:r.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&g.push(new ji(`${o}[${b}]`,t[b],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let b=1;b<t.length;b++)g=g.concat(Xc({key:`${o}[${b}]`,value:t[b],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":p=bi(t[1]),t.length!==2?g.push(new ji(o,t,`filter array for "${t[0]}" operator must have 2 elements`)):p!=="string"&&g.push(new ji(`${o}[1]`,t[1],`string expected, ${p} found`));break;case"within":p=bi(t[1]),t.length!==2?g.push(new ji(o,t,`filter array for "${t[0]}" operator must have 2 elements`)):p!=="object"&&g.push(new ji(`${o}[1]`,t[1],`object expected, ${p} found`))}return g}function gp(r,t){const o=r.key,c=r.style,p=r.styleSpec,g=r.value,b=r.objectKey,C=p[`${t}_${r.layerType}`];if(!C)return[];const B=b.match(/^(.*)-transition$/);if(t==="paint"&&B&&C[B[1]]&&C[B[1]].transition)return En({key:o,value:g,valueSpec:p.transition,style:c,styleSpec:p});const H=r.valueSpec||C[b];if(!H)return[new ji(o,g,`unknown property "${b}"`)];let he;if(bi(g)==="string"&&Qt(H)&&!H.tokens&&(he=/^{([^}]+)}$/.exec(g)))return[new ji(o,g,`"${b}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(he[1])} }\`.`)];const ge=[];return r.layerType==="symbol"&&(b==="text-field"&&c&&!c.glyphs&&ge.push(new ji(o,g,'use of "text-field" requires a style "glyphs" property')),b==="text-font"&&un(rs(g))&&ns(g.type)==="identity"&&ge.push(new ji(o,g,'"text-font" does not support identity functions'))),ge.concat(En({key:r.key,value:g,valueSpec:H,style:c,styleSpec:p,expressionContext:"property",propertyType:t,propertyKey:b}))}function _p(r){return gp(r,"paint")}function jf(r){return gp(r,"layout")}function hu(r){let t=[];const o=r.value,c=r.key,p=r.style,g=r.styleSpec;o.type||o.ref||t.push(new ji(c,o,'either "type" or "ref" is required'));let b=ns(o.type);const C=ns(o.ref);if(o.id){const B=ns(o.id);for(let H=0;H<r.arrayIndex;H++){const he=p.layers[H];ns(he.id)===B&&t.push(new ji(c,o.id,`duplicate layer id "${o.id}", previously used at line ${he.id.__line__}`))}}if("ref"in o){let B;["type","source","source-layer","filter","layout"].forEach(H=>{H in o&&t.push(new ji(c,o[H],`"${H}" is prohibited for ref layers`))}),p.layers.forEach(H=>{ns(H.id)===C&&(B=H)}),B?B.ref?t.push(new ji(c,o.ref,"ref cannot reference another ref layer")):b=ns(B.type):typeof C=="string"&&t.push(new ji(c,o.ref,`ref layer "${C}" not found`))}else if(b!=="background"&&b!=="sky")if(o.source){const B=p.sources&&p.sources[o.source],H=B&&ns(B.type);B?H==="vector"&&b==="raster"?t.push(new ji(c,o.source,`layer "${o.id}" requires a raster source`)):H==="raster"&&b!=="raster"?t.push(new ji(c,o.source,`layer "${o.id}" requires a vector source`)):H!=="vector"||o["source-layer"]?H==="raster-dem"&&b!=="hillshade"?t.push(new ji(c,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):b!=="line"||!o.paint||!o.paint["line-gradient"]&&!o.paint["line-trim-offset"]||H==="geojson"&&B.lineMetrics||t.push(new ji(c,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new ji(c,o,`layer "${o.id}" must specify a "source-layer"`)):t.push(new ji(c,o.source,`source "${o.source}" not found`))}else t.push(new ji(c,o,'missing required property "source"'));return t=t.concat(ga({key:c,value:o,valueSpec:g.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":()=>[],type:()=>En({key:`${c}.type`,value:o.type,valueSpec:g.layer.type,style:r.style,styleSpec:r.styleSpec,object:o,objectKey:"type"}),filter:B=>vc(Bo({layerType:b},B)),layout:B=>ga({layer:o,key:B.key,value:B.value,valueSpec:{},style:B.style,styleSpec:B.styleSpec,objectElementValidators:{"*":H=>jf(Bo({layerType:b},H))}}),paint:B=>ga({layer:o,key:B.key,value:B.value,valueSpec:{},style:B.style,styleSpec:B.styleSpec,objectElementValidators:{"*":H=>_p(Bo({layerType:b},H))}})}})),t}function Fl(r){const t=r.value,o=r.key,c=bi(t);return c!=="string"?[new ji(o,t,`string expected, ${c} found`)]:[]}const kh={promoteId:function({key:r,value:t}){if(bi(t)==="string")return Fl({key:r,value:t});{const o=[];for(const c in t)o.push(...Fl({key:`${r}.${c}`,value:t[c]}));return o}}};function Ph(r){const t=r.value,o=r.key,c=r.styleSpec,p=r.style;if(!t.type)return[new ji(o,t,'"type" is required')];const g=ns(t.type);let b;switch(g){case"vector":case"raster":case"raster-dem":return b=ga({key:o,value:t,valueSpec:c[`source_${g.replace("-","_")}`],style:r.style,styleSpec:c,objectElementValidators:kh}),b;case"geojson":if(b=ga({key:o,value:t,valueSpec:c.source_geojson,style:p,styleSpec:c,objectElementValidators:kh}),t.cluster)for(const C in t.clusterProperties){const[B,H]=t.clusterProperties[C],he=typeof B=="string"?[B,["accumulated"],["get",C]]:B;b.push(...Eh({key:`${o}.${C}.map`,value:H,expressionContext:"cluster-map"})),b.push(...Eh({key:`${o}.${C}.reduce`,value:he,expressionContext:"cluster-reduce"}))}return b;case"video":return ga({key:o,value:t,valueSpec:c.source_video,style:p,styleSpec:c});case"image":return ga({key:o,value:t,valueSpec:c.source_image,style:p,styleSpec:c});case"canvas":return[new ji(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return lu({key:`${o}.type`,value:t.type,valueSpec:{values:yp(c)},style:p,styleSpec:c})}}function yp(r){return r.source.reduce((t,o)=>{const c=r[o];return c.type.type==="enum"&&(t=t.concat(Object.keys(c.type.values))),t},[])}function qe(r){const t=r.value,o=r.styleSpec,c=o.light,p=r.style;let g=[];const b=bi(t);if(t===void 0)return g;if(b!=="object")return g=g.concat([new ji("light",t,`object expected, ${b} found`)]),g;for(const C in t){const B=C.match(/^(.*)-transition$/);g=g.concat(B&&c[B[1]]&&c[B[1]].transition?En({key:C,value:t[C],valueSpec:o.transition,style:p,styleSpec:o}):c[C]?En({key:C,value:t[C],valueSpec:c[C],style:p,styleSpec:o}):[new ji(C,t[C],`unknown property "${C}"`)])}return g}function Nl(r){const t=r.value,o=r.key,c=r.style,p=r.styleSpec,g=p.terrain;let b=[];const C=bi(t);if(t===void 0)return b;if(C!=="object")return b=b.concat([new ji("terrain",t,`object expected, ${C} found`)]),b;for(const B in t){const H=B.match(/^(.*)-transition$/);b=b.concat(H&&g[H[1]]&&g[H[1]].transition?En({key:B,value:t[B],valueSpec:p.transition,style:c,styleSpec:p}):g[B]?En({key:B,value:t[B],valueSpec:g[B],style:c,styleSpec:p}):[new ji(B,t[B],`unknown property "${B}"`)])}if(t.source){const B=c.sources&&c.sources[t.source],H=B&&ns(B.type);B?H!=="raster-dem"&&b.push(new ji(o,t.source,`terrain cannot be used with a source of type ${String(H)}, it only be used with a "raster-dem" source type`)):b.push(new ji(o,t.source,`source "${t.source}" not found`))}else b.push(new ji(o,t,'terrain is missing required property "source"'));return b}function pd(r){const t=r.value,o=r.style,c=r.styleSpec,p=c.fog;let g=[];const b=bi(t);if(t===void 0)return g;if(b!=="object")return g=g.concat([new ji("fog",t,`object expected, ${b} found`)]),g;for(const C in t){const B=C.match(/^(.*)-transition$/);g=g.concat(B&&p[B[1]]&&p[B[1]].transition?En({key:C,value:t[C],valueSpec:c.transition,style:o,styleSpec:c}):p[C]?En({key:C,value:t[C],valueSpec:p[C],style:o,styleSpec:c}):[new ji(C,t[C],`unknown property "${C}"`)])}return g}const na={"*":()=>[],array:yc,boolean:function(r){const t=r.value,o=r.key,c=bi(t);return c!=="boolean"?[new ji(o,t,`boolean expected, ${c} found`)]:[]},number:hd,color:function(r){const t=r.key,o=r.value,c=bi(o);return c!=="string"?[new ji(t,o,`color expected, ${c} found`)]:Sl(o)===null?[new ji(t,o,`color expected, "${o}" found`)]:[]},enum:lu,filter:vc,function:au,layer:hu,object:ga,source:Ph,light:qe,terrain:Nl,fog:pd,string:Fl,formatted:function(r){return Fl(r).length===0?[]:Eh(r)},resolvedImage:function(r){return Fl(r).length===0?[]:Eh(r)},projection:function(r){const t=r.value,o=r.styleSpec,c=o.projection,p=r.style;let g=[];const b=bi(t);if(b==="object")for(const C in t)g=g.concat(En({key:C,value:t[C],valueSpec:c[C],style:p,styleSpec:o}));else b!=="string"&&(g=g.concat([new ji("projection",t,`object or string expected, ${b} found`)]));return g}};function En(r){const t=r.value,o=r.valueSpec,c=r.styleSpec;return o.expression&&un(ns(t))?au(r):o.expression&&Sr(rs(t))?Eh(r):o.type&&na[o.type]?na[o.type](r):ga(Bo({},r,{valueSpec:o.type?c[o.type]:o}))}function Am(r){const t=r.value,o=r.key,c=Fl(r);return c.length||(t.indexOf("{fontstack}")===-1&&c.push(new ji(o,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&c.push(new ji(o,t,'"glyphs" url must include a "{range}" token'))),c}function xp(r,t=ni){return jl(En({key:"",value:r,valueSpec:t.$root,styleSpec:t,style:r,objectElementValidators:{glyphs:Am,"*":()=>[]}}))}const km=r=>jl(_p(r)),Yc=r=>jl(jf(r));function jl(r){return r.slice().sort((t,o)=>t.line&&o.line?t.line-o.line:0)}function Uf(r,t){let o=!1;if(t&&t.length)for(const c of t)r.fire(new Za(new Error(c.message))),o=!0;return o}var Dh=nl;function nl(r,t,o){var c=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;var p=new Int32Array(this.arrayBuffer);r=p[0],this.d=(t=p[1])+2*(o=p[2]);for(var g=0;g<this.d*this.d;g++){var b=p[3+g],C=p[3+g+1];c.push(b===C?null:p.subarray(b,C))}var B=p[3+c.length+1];this.keys=p.subarray(p[3+c.length],B),this.bboxes=p.subarray(B),this.insert=this._insertReadonly}else{this.d=t+2*o;for(var H=0;H<this.d*this.d;H++)c.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=r,this.padding=o,this.scale=t/r,this.uid=0;var he=o/t*r;this.min=-he,this.max=r+he}nl.prototype.insert=function(r,t,o,c,p){this._forEachCell(t,o,c,p,this._insertCell,this.uid++),this.keys.push(r),this.bboxes.push(t),this.bboxes.push(o),this.bboxes.push(c),this.bboxes.push(p)},nl.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},nl.prototype._insertCell=function(r,t,o,c,p,g){this.cells[p].push(g)},nl.prototype.query=function(r,t,o,c,p){var g=this.min,b=this.max;if(r<=g&&t<=g&&b<=o&&b<=c&&!p)return Array.prototype.slice.call(this.keys);var C=[];return this._forEachCell(r,t,o,c,this._queryCell,C,{},p),C},nl.prototype._queryCell=function(r,t,o,c,p,g,b,C){var B=this.cells[p];if(B!==null)for(var H=this.keys,he=this.bboxes,ge=0;ge<B.length;ge++){var be=B[ge];if(b[be]===void 0){var Ce=4*be;(C?C(he[Ce+0],he[Ce+1],he[Ce+2],he[Ce+3]):r<=he[Ce+2]&&t<=he[Ce+3]&&o>=he[Ce+0]&&c>=he[Ce+1])?(b[be]=!0,g.push(H[be])):b[be]=!1}}},nl.prototype._forEachCell=function(r,t,o,c,p,g,b,C){for(var B=this._convertToCellCoord(r),H=this._convertToCellCoord(t),he=this._convertToCellCoord(o),ge=this._convertToCellCoord(c),be=B;be<=he;be++)for(var Ce=H;Ce<=ge;Ce++){var De=this.d*Ce+be;if((!C||C(this._convertFromCellCoord(be),this._convertFromCellCoord(Ce),this._convertFromCellCoord(be+1),this._convertFromCellCoord(Ce+1)))&&p.call(this,r,t,o,c,De,g,b,C))return}},nl.prototype._convertFromCellCoord=function(r){return(r-this.padding)/this.scale},nl.prototype._convertToCellCoord=function(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))},nl.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var r=this.cells,t=3+this.cells.length+1+1,o=0,c=0;c<this.cells.length;c++)o+=this.cells[c].length;var p=new Int32Array(t+o+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var g=t,b=0;b<r.length;b++){var C=r[b];p[3+b]=g,p.set(C,g),g+=C.length}return p[3+r.length]=g,p.set(this.keys,g),p[3+r.length+1]=g+=this.keys.length,p.set(this.bboxes,g),g+=this.bboxes.length,p.buffer};const du={};function Ri(r,t,o={}){Object.defineProperty(r,"_classRegistryKey",{value:t,writeable:!1}),du[t]={klass:r,omit:o.omit||[]}}Ri(Object,"Object"),Dh.serialize=function(r,t){const o=r.toArrayBuffer();return t&&t.push(o),{buffer:o}},Dh.deserialize=function(r){return new Dh(r.buffer)},Object.defineProperty(Dh,"name",{value:"Grid"}),Ri(Dh,"Grid"),Ri(Jr,"Color"),Ri(Error,"Error"),Ri(Ci,"AJAXError"),Ri(No,"ResolvedImage"),Ri(zl,"StylePropertyFunction"),Ri(Vs,"StyleExpression",{omit:["_evaluator"]}),Ri(_s,"ZoomDependentExpression"),Ri(So,"ZoomConstantExpression"),Ri(el,"CompoundExpression",{omit:["_evaluate"]});for(const r in kt)du[kt[r]._classRegistryKey]||Ri(kt[r],`Expression${r}`);function Gf(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function Vf(r){return w.ImageBitmap&&r instanceof w.ImageBitmap}function bc(r,t){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp)return r;if(Gf(r)||Vf(r))return t&&t.push(r),r;if(ArrayBuffer.isView(r)){const o=r;return t&&t.push(o.buffer),o}if(r instanceof w.ImageData)return t&&t.push(r.data.buffer),r;if(Array.isArray(r)){const o=[];for(const c of r)o.push(bc(c,t));return o}if(typeof r=="object"){const o=r.constructor,c=o._classRegistryKey;if(!c)throw new Error(`can't serialize object of unregistered class ${c}`);const p=o.serialize?o.serialize(r,t):{};if(!o.serialize){for(const g in r)r.hasOwnProperty(g)&&(du[c].omit.indexOf(g)>=0||(p[g]=bc(r[g],t)));r instanceof Error&&(p.message=r.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(p.$name=c),p}throw new Error("can't serialize object of type "+typeof r)}function fd(r){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||Gf(r)||Vf(r)||ArrayBuffer.isView(r)||r instanceof w.ImageData)return r;if(Array.isArray(r))return r.map(fd);if(typeof r=="object"){const t=r.$name||"Object",{klass:o}=du[t];if(!o)throw new Error(`can't deserialize unregistered class ${t}`);if(o.deserialize)return o.deserialize(r);const c=Object.create(o.prototype);for(const p of Object.keys(r))p!=="$name"&&(c[p]=fd(r[p]));return c}throw new Error("can't deserialize object of type "+typeof r)}const vp=r=>r>=1536&&r<=1791,rl=r=>r>=1872&&r<=1919,bp=r=>r>=2208&&r<=2303,wp=r=>r>=11904&&r<=12031,Tp=r=>r>=12032&&r<=12255,Sp=r=>r>=12272&&r<=12287,Ih=r=>r>=12288&&r<=12351,Fa=r=>r>=12352&&r<=12447,uu=r=>r>=12448&&r<=12543,Wf=r=>r>=12544&&r<=12591,ra=r=>r>=12704&&r<=12735,Hf=r=>r>=12736&&r<=12783,$f=r=>r>=12784&&r<=12799,Xf=r=>r>=12800&&r<=13055,Yf=r=>r>=13056&&r<=13311,qf=r=>r>=13312&&r<=19903,pu=r=>r>=19968&&r<=40959,Ep=r=>r>=40960&&r<=42127,Zf=r=>r>=42128&&r<=42191,Mp=r=>r>=44032&&r<=55215,qc=r=>r>=63744&&r<=64255,m=r=>r>=64336&&r<=65023,a=r=>r>=65040&&r<=65055,d=r=>r>=65072&&r<=65103,x=r=>r>=65104&&r<=65135,E=r=>r>=65136&&r<=65279,A=r=>r>=65280&&r<=65519;function J(r){for(const t of r)if(Ee(t.charCodeAt(0)))return!0;return!1}function ce(r){for(const t of r)if(!de(t.charCodeAt(0)))return!1;return!0}function de(r){return!(vp(r)||rl(r)||bp(r)||m(r)||E(r))}function Ee(r){return!(r!==746&&r!==747&&(r<4352||!(ra(r)||Wf(r)||d(r)&&!(r>=65097&&r<=65103)||qc(r)||Yf(r)||wp(r)||Hf(r)||!(!Ih(r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||qf(r)||pu(r)||Xf(r)||(t=>t>=12592&&t<=12687)(r)||(t=>t>=43360&&t<=43391)(r)||(t=>t>=55216&&t<=55295)(r)||(t=>t>=4352&&t<=4607)(r)||Mp(r)||Fa(r)||Sp(r)||(t=>t>=12688&&t<=12703)(r)||Tp(r)||$f(r)||uu(r)&&r!==12540||!(!A(r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!x(r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||(t=>t>=5120&&t<=5759)(r)||(t=>t>=6320&&t<=6399)(r)||a(r)||(t=>t>=19904&&t<=19967)(r)||Ep(r)||Zf(r))))}function Te(r){return!(Ee(r)||function(t){return!!((o=>o>=128&&o<=255)(t)&&(t===167||t===169||t===174||t===177||t===188||t===189||t===190||t===215||t===247)||(o=>o>=8192&&o<=8303)(t)&&(t===8214||t===8224||t===8225||t===8240||t===8241||t===8251||t===8252||t===8258||t===8263||t===8264||t===8265||t===8273)||(o=>o>=8448&&o<=8527)(t)||(o=>o>=8528&&o<=8591)(t)||(o=>o>=8960&&o<=9215)(t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||t===9003||t>=9085&&t<=9114||t>=9150&&t<=9165||t===9167||t>=9169&&t<=9179||t>=9186&&t<=9215)||(o=>o>=9216&&o<=9279)(t)&&t!==9251||(o=>o>=9280&&o<=9311)(t)||(o=>o>=9312&&o<=9471)(t)||(o=>o>=9632&&o<=9727)(t)||(o=>o>=9728&&o<=9983)(t)&&!(t>=9754&&t<=9759)||(o=>o>=11008&&o<=11263)(t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Ih(t)||uu(t)||(o=>o>=57344&&o<=63743)(t)||d(t)||x(t)||A(t)||t===8734||t===8756||t===8757||t>=9984&&t<=10087||t>=10102&&t<=10131||t===65532||t===65533)}(r))}function Re(r){return r>=1424&&r<=2303||m(r)||E(r)}function We(r,t){return!(!t&&Re(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||(o=>o>=6016&&o<=6143)(r))}function Qe(r){for(const t of r)if(Re(t.charCodeAt(0)))return!0;return!1}const et="deferred",rt="loading",Xe="loaded";let Ze=null,lt="unavailable",tt=null;const pt=function(r){r&&typeof r=="string"&&r.indexOf("NetworkError")>-1&&(lt="error"),Ze&&Ze(r)};function wt(){mt.fire(new ua("pluginStateChange",{pluginStatus:lt,pluginURL:tt}))}const mt=new vo,At=function(){return lt},$t=function(){if(lt!==et||!tt)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");lt=rt,wt(),tt&&Xi({url:tt},r=>{r?pt(r):(lt=Xe,wt())})},Ft={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>lt===Xe||Ft.applyArabicShaping!=null,isLoading:()=>lt===rt,setState(r){lt=r.pluginStatus,tt=r.pluginURL},isParsed:()=>Ft.applyArabicShaping!=null&&Ft.processBidirectionalText!=null&&Ft.processStyledBidirectionalText!=null,getPluginURL:()=>tt};class Pt{constructor(t,o){this.zoom=t,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.transition=o.transition,this.pitch=o.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(t){return function(o,c){for(const p of o)if(!We(p.charCodeAt(0),c))return!1;return!0}(t,Ft.isLoaded())}}class pi{constructor(t,o){this.property=t,this.value=o,this.expression=function(c,p){if(un(c))return new zl(c,p);if(Sr(c)){const g=Rl(c,p);if(g.result==="error")throw new Error(g.value.map(b=>`${b.key}: ${b.message}`).join(", "));return g.value}{let g=c;return typeof c=="string"&&p.type==="color"&&(g=Jr.parse(c)),{kind:"constant",evaluate:()=>g}}}(o===void 0?t.specification.default:o,t.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(t,o,c){return this.property.possiblyEvaluate(this,t,o,c)}}class Bt{constructor(t){this.property=t,this.value=new pi(t,void 0)}transitioned(t,o){return new Yt(this.property,this.value,o,K({},t.transition,this.transition),t.now)}untransitioned(){return new Yt(this.property,this.value,null,{},0)}}class si{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return ve(this._values[t].value.value)}setValue(t,o){this._values.hasOwnProperty(t)||(this._values[t]=new Bt(this._values[t].property)),this._values[t].value=new pi(this._values[t].property,o===null?void 0:ve(o))}getTransition(t){return ve(this._values[t].transition)}setTransition(t,o){this._values.hasOwnProperty(t)||(this._values[t]=new Bt(this._values[t].property)),this._values[t].transition=ve(o)||void 0}serialize(){const t={};for(const o of Object.keys(this._values)){const c=this.getValue(o);c!==void 0&&(t[o]=c);const p=this.getTransition(o);p!==void 0&&(t[`${o}-transition`]=p)}return t}transitioned(t,o){const c=new xi(this._properties);for(const p of Object.keys(this._values))c._values[p]=this._values[p].transitioned(t,o._values[p]);return c}untransitioned(){const t=new xi(this._properties);for(const o of Object.keys(this._values))t._values[o]=this._values[o].untransitioned();return t}}class Yt{constructor(t,o,c,p,g){const b=p.delay||0,C=p.duration||0;g=g||0,this.property=t,this.value=o,this.begin=g+b,this.end=this.begin+C,t.specification.transition&&(p.delay||p.duration)&&(this.prior=c)}possiblyEvaluate(t,o,c){const p=t.now||0,g=this.value.possiblyEvaluate(t,o,c),b=this.prior;if(b){if(p>this.end)return this.prior=null,g;if(this.value.isDataDriven())return this.prior=null,g;if(p<this.begin)return b.possiblyEvaluate(t,o,c);{const C=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(b.possiblyEvaluate(t,o,c),g,P(C))}}return g}}class xi{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,o,c){const p=new wi(this._properties);for(const g of Object.keys(this._values))p._values[g]=this._values[g].possiblyEvaluate(t,o,c);return p}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class qt{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}getValue(t){return ve(this._values[t].value)}setValue(t,o){this._values[t]=new pi(this._values[t].property,o===null?void 0:ve(o))}serialize(){const t={};for(const o of Object.keys(this._values)){const c=this.getValue(o);c!==void 0&&(t[o]=c)}return t}possiblyEvaluate(t,o,c){const p=new wi(this._properties);for(const g of Object.keys(this._values))p._values[g]=this._values[g].possiblyEvaluate(t,o,c);return p}}class di{constructor(t,o,c){this.property=t,this.value=o,this.parameters=c}isConstant(){return this.value.kind==="constant"}constantOr(t){return this.value.kind==="constant"?this.value.value:t}evaluate(t,o,c,p){return this.property.evaluate(this.value,this.parameters,t,o,c,p)}}class wi{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class Ot{constructor(t){this.specification=t}possiblyEvaluate(t,o){return t.expression.evaluate(o)}interpolate(t,o,c){const p=js[this.specification.type];return p?p(t,o,c):t}}class Xt{constructor(t,o){this.specification=t,this.overrides=o}possiblyEvaluate(t,o,c,p){return new di(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(o,null,{},c,p)}:t.expression,o)}interpolate(t,o,c){if(t.value.kind!=="constant"||o.value.kind!=="constant")return t;if(t.value.value===void 0||o.value.value===void 0)return new di(this,{kind:"constant",value:void 0},t.parameters);const p=js[this.specification.type];return p?new di(this,{kind:"constant",value:p(t.value.value,o.value.value,c)},t.parameters):t}evaluate(t,o,c,p,g,b){return t.kind==="constant"?t.value:t.evaluate(o,c,p,g,b)}}class Vi{constructor(t){this.specification=t}possiblyEvaluate(t,o,c,p){return!!t.expression.evaluate(o,null,{},c,p)}interpolate(){return!1}}class Qi{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const o=new Pt(0,{});for(const c in t){const p=t[c];p.specification.overridable&&this.overridableProperties.push(c);const g=this.defaultPropertyValues[c]=new pi(p,void 0),b=this.defaultTransitionablePropertyValues[c]=new Bt(p);this.defaultTransitioningPropertyValues[c]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=g.possiblyEvaluate(o)}}}function Wi(r,t){return 256*(r=v(Math.floor(r),0,255))+v(Math.floor(t),0,255)}Ri(Xt,"DataDrivenProperty"),Ri(Ot,"DataConstantProperty"),Ri(Vi,"ColorRampProperty");const dn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Rn{constructor(t,o){this._structArray=t,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class tn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,o){return t._trim(),o&&(t.isTransferred=!0,o.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const o=Object.create(this.prototype);return o.arrayBuffer=t.arrayBuffer,o.length=t.length,o.capacity=t.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ui(r,t=1){let o=0,c=0;return{members:r.map(p=>{const g=dn[p.type].BYTES_PER_ELEMENT,b=o=br(o,Math.max(t,g)),C=p.components||1;return c=Math.max(c,g),o+=g*C,{name:p.name,type:p.type,components:C,offset:b}}),size:br(o,Math.max(c,t)),alignment:t}}function br(r,t){return Math.ceil(r/t)*t}class lr extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o){const c=this.length;return this.resize(c+1),this.emplace(c,t,o)}emplace(t,o,c){const p=2*t;return this.int16[p+0]=o,this.int16[p+1]=c,t}}lr.prototype.bytesPerElement=4,Ri(lr,"StructArrayLayout2i4");class Er extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o,c){const p=this.length;return this.resize(p+1),this.emplace(p,t,o,c)}emplace(t,o,c,p){const g=3*t;return this.int16[g+0]=o,this.int16[g+1]=c,this.int16[g+2]=p,t}}Er.prototype.bytesPerElement=6,Ri(Er,"StructArrayLayout3i6");class yr extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o,c,p){const g=this.length;return this.resize(g+1),this.emplace(g,t,o,c,p)}emplace(t,o,c,p,g){const b=4*t;return this.int16[b+0]=o,this.int16[b+1]=c,this.int16[b+2]=p,this.int16[b+3]=g,t}}yr.prototype.bytesPerElement=8,Ri(yr,"StructArrayLayout4i8");class Vo extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g,b,C){const B=this.length;return this.resize(B+1),this.emplace(B,t,o,c,p,g,b,C)}emplace(t,o,c,p,g,b,C,B){const H=6*t,he=12*t,ge=3*t;return this.int16[H+0]=o,this.int16[H+1]=c,this.uint8[he+4]=p,this.uint8[he+5]=g,this.uint8[he+6]=b,this.uint8[he+7]=C,this.float32[ge+2]=B,t}}Vo.prototype.bytesPerElement=12,Ri(Vo,"StructArrayLayout2i4ub1f12");class Eo extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,c,p){const g=this.length;return this.resize(g+1),this.emplace(g,t,o,c,p)}emplace(t,o,c,p,g){const b=4*t;return this.float32[b+0]=o,this.float32[b+1]=c,this.float32[b+2]=p,this.float32[b+3]=g,t}}Eo.prototype.bytesPerElement=16,Ri(Eo,"StructArrayLayout4f16");class uo extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g){const b=this.length;return this.resize(b+1),this.emplace(b,t,o,c,p,g)}emplace(t,o,c,p,g,b){const C=6*t,B=3*t;return this.uint16[C+0]=o,this.uint16[C+1]=c,this.uint16[C+2]=p,this.uint16[C+3]=g,this.float32[B+2]=b,t}}uo.prototype.bytesPerElement=12,Ri(uo,"StructArrayLayout4ui1f12");class Na extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o,c,p){const g=this.length;return this.resize(g+1),this.emplace(g,t,o,c,p)}emplace(t,o,c,p,g){const b=4*t;return this.uint16[b+0]=o,this.uint16[b+1]=c,this.uint16[b+2]=p,this.uint16[b+3]=g,t}}Na.prototype.bytesPerElement=8,Ri(Na,"StructArrayLayout4ui8");class Rr extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g,b){const C=this.length;return this.resize(C+1),this.emplace(C,t,o,c,p,g,b)}emplace(t,o,c,p,g,b,C){const B=6*t;return this.int16[B+0]=o,this.int16[B+1]=c,this.int16[B+2]=p,this.int16[B+3]=g,this.int16[B+4]=b,this.int16[B+5]=C,t}}Rr.prototype.bytesPerElement=12,Ri(Rr,"StructArrayLayout6i12");class xr extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g,b,C,B,H,he,ge,be){const Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,t,o,c,p,g,b,C,B,H,he,ge,be)}emplace(t,o,c,p,g,b,C,B,H,he,ge,be,Ce){const De=12*t;return this.int16[De+0]=o,this.int16[De+1]=c,this.int16[De+2]=p,this.int16[De+3]=g,this.uint16[De+4]=b,this.uint16[De+5]=C,this.uint16[De+6]=B,this.uint16[De+7]=H,this.int16[De+8]=he,this.int16[De+9]=ge,this.int16[De+10]=be,this.int16[De+11]=Ce,t}}xr.prototype.bytesPerElement=24,Ri(xr,"StructArrayLayout4i4ui4i24");class rr extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g,b){const C=this.length;return this.resize(C+1),this.emplace(C,t,o,c,p,g,b)}emplace(t,o,c,p,g,b,C){const B=10*t,H=5*t;return this.int16[B+0]=o,this.int16[B+1]=c,this.int16[B+2]=p,this.float32[H+2]=g,this.float32[H+3]=b,this.float32[H+4]=C,t}}rr.prototype.bytesPerElement=20,Ri(rr,"StructArrayLayout3i3f20");class ds extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const o=this.length;return this.resize(o+1),this.emplace(o,t)}emplace(t,o){return this.uint32[1*t+0]=o,t}}ds.prototype.bytesPerElement=4,Ri(ds,"StructArrayLayout1ul4");class io extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g,b,C,B,H,he,ge,be,Ce){const De=this.length;return this.resize(De+1),this.emplace(De,t,o,c,p,g,b,C,B,H,he,ge,be,Ce)}emplace(t,o,c,p,g,b,C,B,H,he,ge,be,Ce,De){const Fe=20*t,Ye=10*t;return this.int16[Fe+0]=o,this.int16[Fe+1]=c,this.int16[Fe+2]=p,this.int16[Fe+3]=g,this.int16[Fe+4]=b,this.float32[Ye+3]=C,this.float32[Ye+4]=B,this.float32[Ye+5]=H,this.float32[Ye+6]=he,this.int16[Fe+14]=ge,this.uint32[Ye+8]=be,this.uint16[Fe+18]=Ce,this.uint16[Fe+19]=De,t}}io.prototype.bytesPerElement=40,Ri(io,"StructArrayLayout5i4f1i1ul2ui40");class zr extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g,b,C){const B=this.length;return this.resize(B+1),this.emplace(B,t,o,c,p,g,b,C)}emplace(t,o,c,p,g,b,C,B){const H=8*t;return this.int16[H+0]=o,this.int16[H+1]=c,this.int16[H+2]=p,this.int16[H+4]=g,this.int16[H+5]=b,this.int16[H+6]=C,this.int16[H+7]=B,t}}zr.prototype.bytesPerElement=16,Ri(zr,"StructArrayLayout3i2i2i16");class po extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g){const b=this.length;return this.resize(b+1),this.emplace(b,t,o,c,p,g)}emplace(t,o,c,p,g,b){const C=4*t,B=8*t;return this.float32[C+0]=o,this.float32[C+1]=c,this.float32[C+2]=p,this.int16[B+6]=g,this.int16[B+7]=b,t}}po.prototype.bytesPerElement=16,Ri(po,"StructArrayLayout2f1f2i16");class md extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,c,p){const g=this.length;return this.resize(g+1),this.emplace(g,t,o,c,p)}emplace(t,o,c,p,g){const b=12*t,C=3*t;return this.uint8[b+0]=o,this.uint8[b+1]=c,this.float32[C+1]=p,this.float32[C+2]=g,t}}md.prototype.bytesPerElement=12,Ri(md,"StructArrayLayout2ub2f12");class ja extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,c){const p=this.length;return this.resize(p+1),this.emplace(p,t,o,c)}emplace(t,o,c,p){const g=3*t;return this.float32[g+0]=o,this.float32[g+1]=c,this.float32[g+2]=p,t}}ja.prototype.bytesPerElement=12,Ri(ja,"StructArrayLayout3f12");class no extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o,c){const p=this.length;return this.resize(p+1),this.emplace(p,t,o,c)}emplace(t,o,c,p){const g=3*t;return this.uint16[g+0]=o,this.uint16[g+1]=c,this.uint16[g+2]=p,t}}no.prototype.bytesPerElement=6,Ri(no,"StructArrayLayout3ui6");class Wo extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g,b,C,B,H,he,ge,be,Ce,De,Fe,Ye,dt,_t,ct,ft,Tt){const vt=this.length;return this.resize(vt+1),this.emplace(vt,t,o,c,p,g,b,C,B,H,he,ge,be,Ce,De,Fe,Ye,dt,_t,ct,ft,Tt)}emplace(t,o,c,p,g,b,C,B,H,he,ge,be,Ce,De,Fe,Ye,dt,_t,ct,ft,Tt,vt){const Ht=30*t,Wt=15*t,oi=60*t;return this.int16[Ht+0]=o,this.int16[Ht+1]=c,this.int16[Ht+2]=p,this.float32[Wt+2]=g,this.float32[Wt+3]=b,this.uint16[Ht+8]=C,this.uint16[Ht+9]=B,this.uint32[Wt+5]=H,this.uint32[Wt+6]=he,this.uint32[Wt+7]=ge,this.uint16[Ht+16]=be,this.uint16[Ht+17]=Ce,this.uint16[Ht+18]=De,this.float32[Wt+10]=Fe,this.float32[Wt+11]=Ye,this.uint8[oi+48]=dt,this.uint8[oi+49]=_t,this.uint8[oi+50]=ct,this.uint32[Wt+13]=ft,this.int16[Ht+28]=Tt,this.uint8[oi+58]=vt,t}}Wo.prototype.bytesPerElement=60,Ri(Wo,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class sl extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g,b,C,B,H,he,ge,be,Ce,De,Fe,Ye,dt,_t,ct,ft,Tt,vt,Ht,Wt,oi,Ei,Zt,ai,ui,gi){const Mi=this.length;return this.resize(Mi+1),this.emplace(Mi,t,o,c,p,g,b,C,B,H,he,ge,be,Ce,De,Fe,Ye,dt,_t,ct,ft,Tt,vt,Ht,Wt,oi,Ei,Zt,ai,ui,gi)}emplace(t,o,c,p,g,b,C,B,H,he,ge,be,Ce,De,Fe,Ye,dt,_t,ct,ft,Tt,vt,Ht,Wt,oi,Ei,Zt,ai,ui,gi,Mi){const Jt=38*t,Pi=19*t;return this.int16[Jt+0]=o,this.int16[Jt+1]=c,this.int16[Jt+2]=p,this.float32[Pi+2]=g,this.float32[Pi+3]=b,this.int16[Jt+8]=C,this.int16[Jt+9]=B,this.int16[Jt+10]=H,this.int16[Jt+11]=he,this.int16[Jt+12]=ge,this.int16[Jt+13]=be,this.uint16[Jt+14]=Ce,this.uint16[Jt+15]=De,this.uint16[Jt+16]=Fe,this.uint16[Jt+17]=Ye,this.uint16[Jt+18]=dt,this.uint16[Jt+19]=_t,this.uint16[Jt+20]=ct,this.uint16[Jt+21]=ft,this.uint16[Jt+22]=Tt,this.uint16[Jt+23]=vt,this.uint16[Jt+24]=Ht,this.uint16[Jt+25]=Wt,this.uint16[Jt+26]=oi,this.uint16[Jt+27]=Ei,this.uint16[Jt+28]=Zt,this.uint32[Pi+15]=ai,this.float32[Pi+16]=ui,this.float32[Pi+17]=gi,this.float32[Pi+18]=Mi,t}}sl.prototype.bytesPerElement=76,Ri(sl,"StructArrayLayout3i2f6i15ui1ul3f76");class _a extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const o=this.length;return this.resize(o+1),this.emplace(o,t)}emplace(t,o){return this.float32[1*t+0]=o,t}}_a.prototype.bytesPerElement=4,Ri(_a,"StructArrayLayout1f4");class Nn extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,c,p,g){const b=this.length;return this.resize(b+1),this.emplace(b,t,o,c,p,g)}emplace(t,o,c,p,g,b){const C=5*t;return this.float32[C+0]=o,this.float32[C+1]=c,this.float32[C+2]=p,this.float32[C+3]=g,this.float32[C+4]=b,t}}Nn.prototype.bytesPerElement=20,Ri(Nn,"StructArrayLayout5f20");class Lh extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o,c,p){const g=this.length;return this.resize(g+1),this.emplace(g,t,o,c,p)}emplace(t,o,c,p,g){const b=6*t;return this.uint32[3*t+0]=o,this.uint16[b+2]=c,this.uint16[b+3]=p,this.uint16[b+4]=g,t}}Lh.prototype.bytesPerElement=12,Ri(Lh,"StructArrayLayout1ul3ui12");class ol extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o){const c=this.length;return this.resize(c+1),this.emplace(c,t,o)}emplace(t,o,c){const p=2*t;return this.uint16[p+0]=o,this.uint16[p+1]=c,t}}ol.prototype.bytesPerElement=4,Ri(ol,"StructArrayLayout2ui4");class Zc extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const o=this.length;return this.resize(o+1),this.emplace(o,t)}emplace(t,o){return this.uint16[1*t+0]=o,t}}Zc.prototype.bytesPerElement=2,Ri(Zc,"StructArrayLayout1ui2");class Cp extends tn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o){const c=this.length;return this.resize(c+1),this.emplace(c,t,o)}emplace(t,o,c){const p=2*t;return this.float32[p+0]=o,this.float32[p+1]=c,t}}Cp.prototype.bytesPerElement=8,Ri(Cp,"StructArrayLayout2f8");class q1 extends Rn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}q1.prototype.size=40;class Pm extends io{get(t){return new q1(this,t)}}Ri(Pm,"CollisionBoxArray");class Ua extends Rn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(t){this._structArray.uint8[this._pos1+49]=t}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(t){this._structArray.uint8[this._pos1+50]=t}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(t){this._structArray.uint8[this._pos1+58]=t}}Ua.prototype.size=60;class Z1 extends Wo{get(t){return new Ua(this,t)}}Ri(Z1,"PlacedSymbolArray");class Ap extends Rn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(t){this._structArray.uint32[this._pos4+15]=t}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Ap.prototype.size=76;class Kf extends sl{get(t){return new Ap(this,t)}}Ri(Kf,"SymbolInstanceArray");class Dm extends _a{getoffsetX(t){return this.float32[1*t+0]}}Ri(Dm,"GlyphOffsetArray");class Im extends lr{getx(t){return this.int16[2*t+0]}gety(t){return this.int16[2*t+1]}}Ri(Im,"SymbolLineVertexArray");class ya extends Rn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}ya.prototype.size=12;class Kc extends Lh{get(t){return new ya(this,t)}}Ri(Kc,"FeatureIndexArray");class Jf extends ol{geta_centroid_pos0(t){return this.uint16[2*t+0]}geta_centroid_pos1(t){return this.uint16[2*t+1]}}Ri(Jf,"FillExtrusionCentroidArray");const K1=Ui([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Qf=Ui([{name:"a_dash",components:4,type:"Uint16"}]);var gd={exports:{}},e0={exports:{}};e0.exports=function(r,t){var o,c,p,g,b,C,B,H;for(c=r.length-(o=3&r.length),p=t,b=3432918353,C=461845907,H=0;H<c;)B=255&r.charCodeAt(H)|(255&r.charCodeAt(++H))<<8|(255&r.charCodeAt(++H))<<16|(255&r.charCodeAt(++H))<<24,++H,p=27492+(65535&(g=5*(65535&(p=(p^=B=(65535&(B=(B=(65535&B)*b+(((B>>>16)*b&65535)<<16)&4294967295)<<15|B>>>17))*C+(((B>>>16)*C&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(g>>>16)&65535)<<16);switch(B=0,o){case 3:B^=(255&r.charCodeAt(H+2))<<16;case 2:B^=(255&r.charCodeAt(H+1))<<8;case 1:p^=B=(65535&(B=(B=(65535&(B^=255&r.charCodeAt(H)))*b+(((B>>>16)*b&65535)<<16)&4294967295)<<15|B>>>17))*C+(((B>>>16)*C&65535)<<16)&4294967295}return p^=r.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var Lm={exports:{}};Lm.exports=function(r,t){for(var o,c=r.length,p=t^c,g=0;c>=4;)o=1540483477*(65535&(o=255&r.charCodeAt(g)|(255&r.charCodeAt(++g))<<8|(255&r.charCodeAt(++g))<<16|(255&r.charCodeAt(++g))<<24))+((1540483477*(o>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),c-=4,++g;switch(c){case 3:p^=(255&r.charCodeAt(g+2))<<16;case 2:p^=(255&r.charCodeAt(g+1))<<8;case 1:p=1540483477*(65535&(p^=255&r.charCodeAt(g)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var t0=e0.exports,Om=Lm.exports;gd.exports=t0,gd.exports.murmur3=t0,gd.exports.murmur2=Om;class Ul{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,o,c,p){this.ids.push(J1(t)),this.positions.push(o,c,p)}getPositions(t){const o=J1(t);let c=0,p=this.ids.length-1;for(;c<p;){const b=c+p>>1;this.ids[b]>=o?p=b:c=b+1}const g=[];for(;this.ids[c]===o;)g.push({index:this.positions[3*c],start:this.positions[3*c+1],end:this.positions[3*c+2]}),c++;return g}static serialize(t,o){const c=new Float64Array(t.ids),p=new Uint32Array(t.positions);return wc(c,p,0,c.length-1),o&&o.push(c.buffer,p.buffer),{ids:c,positions:p}}static deserialize(t){const o=new Ul;return o.ids=t.ids,o.positions=t.positions,o.indexed=!0,o}}function J1(r){const t=+r;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:gd.exports(String(r))}function wc(r,t,o,c){for(;o<c;){const p=r[o+c>>1];let g=o-1,b=c+1;for(;;){do g++;while(r[g]<p);do b--;while(r[b]>p);if(g>=b)break;kp(r,g,b),kp(t,3*g,3*b),kp(t,3*g+1,3*b+1),kp(t,3*g+2,3*b+2)}b-o<c-b?(wc(r,t,o,b),o=b+1):(wc(r,t,b+1,c),c=b)}}function kp(r,t,o){const c=r[t];r[t]=r[o],r[o]=c}Ri(Ul,"FeaturePositionMap");class Tc{constructor(t){this.gl=t.gl,this.initialized=!1}fetchUniformLocation(t,o){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(t,o),this.initialized=!0),!!this.location}}class fu extends Tc{constructor(t){super(t),this.current=0}set(t,o,c){this.fetchUniformLocation(t,o)&&this.current!==c&&(this.current=c,this.gl.uniform1f(this.location,c))}}class Q1 extends Tc{constructor(t){super(t),this.current=[0,0,0,0]}set(t,o,c){this.fetchUniformLocation(t,o)&&(c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]&&c[3]===this.current[3]||(this.current=c,this.gl.uniform4f(this.location,c[0],c[1],c[2],c[3])))}}class e_ extends Tc{constructor(t){super(t),this.current=Jr.transparent}set(t,o,c){this.fetchUniformLocation(t,o)&&(c.r===this.current.r&&c.g===this.current.g&&c.b===this.current.b&&c.a===this.current.a||(this.current=c,this.gl.uniform4f(this.location,c.r,c.g,c.b,c.a)))}}const Sv=new Float32Array(16),t_=new Float32Array(9),i_=new Float32Array(4);function Rm(r){return[Wi(255*r.r,255*r.g),Wi(255*r.b,255*r.a)]}class mu{constructor(t,o,c){this.value=t,this.uniformNames=o.map(p=>`u_${p}`),this.type=c}setUniform(t,o,c,p,g){o.set(t,g,p.constantOr(this.value))}getBinding(t,o){return this.type==="color"?new e_(t):new fu(t)}}class _d{constructor(t,o){this.uniformNames=o.map(c=>`u_${c}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(t){this.pixelRatio=t.pixelRatio||1,this.pattern=t.tl.concat(t.br)}setUniform(t,o,c,p,g){const b=g==="u_pattern"||g==="u_dash"?this.pattern:g==="u_pixel_ratio"?this.pixelRatio:null;b&&o.set(t,g,b)}getBinding(t,o){return o==="u_pattern"||o==="u_dash"?new Q1(t):new fu(t)}}class Os{constructor(t,o,c,p){this.expression=t,this.type=c,this.maxValue=0,this.paintVertexAttributes=o.map(g=>({name:`a_${g}`,type:"Float32",components:c==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(t,o,c,p,g,b){const C=this.paintVertexArray.length,B=this.expression.evaluate(new Pt(0),o,{},g,p,b);this.paintVertexArray.resize(t),this._setPaintValue(C,t,B)}updatePaintArray(t,o,c,p,g){const b=this.expression.evaluate({zoom:0},c,p,void 0,g);this._setPaintValue(t,o,b)}_setPaintValue(t,o,c){if(this.type==="color"){const p=Rm(c);for(let g=t;g<o;g++)this.paintVertexArray.emplace(g,p[0],p[1])}else{for(let p=t;p<o;p++)this.paintVertexArray.emplace(p,c);this.maxValue=Math.max(this.maxValue,Math.abs(c))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class qs{constructor(t,o,c,p,g,b){this.expression=t,this.uniformNames=o.map(C=>`u_${C}_t`),this.type=c,this.useIntegerZoom=p,this.zoom=g,this.maxValue=0,this.paintVertexAttributes=o.map(C=>({name:`a_${C}`,type:"Float32",components:c==="color"?4:2,offset:0})),this.paintVertexArray=new b}populatePaintArray(t,o,c,p,g,b){const C=this.expression.evaluate(new Pt(this.zoom),o,{},g,p,b),B=this.expression.evaluate(new Pt(this.zoom+1),o,{},g,p,b),H=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(H,t,C,B)}updatePaintArray(t,o,c,p,g){const b=this.expression.evaluate({zoom:this.zoom},c,p,void 0,g),C=this.expression.evaluate({zoom:this.zoom+1},c,p,void 0,g);this._setPaintValue(t,o,b,C)}_setPaintValue(t,o,c,p){if(this.type==="color"){const g=Rm(c),b=Rm(p);for(let C=t;C<o;C++)this.paintVertexArray.emplace(C,g[0],g[1],b[0],b[1])}else{for(let g=t;g<o;g++)this.paintVertexArray.emplace(g,c,p);this.maxValue=Math.max(this.maxValue,Math.abs(c),Math.abs(p))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,o,c,p,g){const b=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,C=v(this.expression.interpolationFactor(b,this.zoom,this.zoom+1),0,1);o.set(t,g,C)}getBinding(t,o){return new fu(t)}}class Oh{constructor(t,o,c,p,g){this.expression=t,this.layerId=g,this.paintVertexAttributes=(c==="array"?Qf:K1).members;for(let b=0;b<o.length;++b);this.paintVertexArray=new p}populatePaintArray(t,o,c){const p=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValues(p,t,o.patterns&&o.patterns[this.layerId],c)}updatePaintArray(t,o,c,p,g,b){this._setPaintValues(t,o,c.patterns&&c.patterns[this.layerId],b)}_setPaintValues(t,o,c,p){if(!p||!c)return;const g=p[c];if(!g)return;const{tl:b,br:C,pixelRatio:B}=g;for(let H=t;H<o;H++)this.paintVertexArray.emplace(H,b[0],b[1],C[0],C[1],B)}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Rh{constructor(t,o,c=()=>!0){this.binders={},this._buffers=[];const p=[];for(const g in t.paint._values){if(!c(g))continue;const b=t.paint.get(g);if(!(b instanceof di&&Qt(b.property.specification)))continue;const C=n_(g,t.type),B=b.value,H=b.property.specification.type,he=b.property.useIntegerZoom,ge=g==="line-dasharray"||g.endsWith("pattern"),be=g==="line-dasharray"&&t.layout.get("line-cap").value.kind!=="constant";if(B.kind!=="constant"||be)if(B.kind==="source"||be||ge){const Ce=zm(g,H,"source");this.binders[g]=ge?new Oh(B,C,H,Ce,t.id):new Os(B,C,H,Ce),p.push(`/a_${g}`)}else{const Ce=zm(g,H,"composite");this.binders[g]=new qs(B,C,H,he,o,Ce),p.push(`/z_${g}`)}else this.binders[g]=ge?new _d(B.value,C):new mu(B.value,C,H),p.push(`/u_${g}`)}this.cacheKey=p.sort().join("")}getMaxValue(t){const o=this.binders[t];return o instanceof Os||o instanceof qs?o.maxValue:0}populatePaintArrays(t,o,c,p,g,b){for(const C in this.binders){const B=this.binders[C];(B instanceof Os||B instanceof qs||B instanceof Oh)&&B.populatePaintArray(t,o,c,p,g,b)}}setConstantPatternPositions(t){for(const o in this.binders){const c=this.binders[o];c instanceof _d&&c.setConstantPatternPositions(t)}}updatePaintArrays(t,o,c,p,g,b){let C=!1;for(const B in t){const H=o.getPositions(B);for(const he of H){const ge=c.feature(he.index);for(const be in this.binders){const Ce=this.binders[be];if((Ce instanceof Os||Ce instanceof qs||Ce instanceof Oh)&&Ce.expression.isStateDependent===!0){const De=p.paint.get(be);Ce.expression=De.value,Ce.updatePaintArray(he.start,he.end,ge,t[B],g,b),C=!0}}}}return C}defines(){const t=[];for(const o in this.binders){const c=this.binders[o];(c instanceof mu||c instanceof _d)&&t.push(...c.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return t}getBinderAttributes(){const t=[];for(const o in this.binders){const c=this.binders[o];if(c instanceof Os||c instanceof qs||c instanceof Oh)for(let p=0;p<c.paintVertexAttributes.length;p++)t.push(c.paintVertexAttributes[p].name)}return t}getBinderUniforms(){const t=[];for(const o in this.binders){const c=this.binders[o];if(c instanceof mu||c instanceof _d||c instanceof qs)for(const p of c.uniformNames)t.push(p)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t){const o=[];for(const c in this.binders){const p=this.binders[c];if(p instanceof mu||p instanceof _d||p instanceof qs)for(const g of p.uniformNames)o.push({name:g,property:c,binding:p.getBinding(t,g)})}return o}setUniforms(t,o,c,p,g){for(const{name:b,property:C,binding:B}of c)this.binders[C].setUniform(t,B,g,p.get(C),b)}updatePaintBuffers(){this._buffers=[];for(const t in this.binders){const o=this.binders[t];(o instanceof Os||o instanceof qs||o instanceof Oh)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}}upload(t){for(const o in this.binders){const c=this.binders[o];(c instanceof Os||c instanceof qs||c instanceof Oh)&&c.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const o=this.binders[t];(o instanceof Os||o instanceof qs||o instanceof Oh)&&o.destroy()}}}class Sc{constructor(t,o,c=()=>!0){this.programConfigurations={};for(const p of t)this.programConfigurations[p.id]=new Rh(p,o,c);this.needsUpload=!1,this._featureMap=new Ul,this._bufferOffset=0}populatePaintArrays(t,o,c,p,g,b,C){for(const B in this.programConfigurations)this.programConfigurations[B].populatePaintArrays(t,o,p,g,b,C);o.id!==void 0&&this._featureMap.add(o.id,c,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,o,c,p,g){for(const b of c)this.needsUpload=this.programConfigurations[b.id].updatePaintArrays(t,this._featureMap,o,b,p,g)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const o in this.programConfigurations)this.programConfigurations[o].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}const gu={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function n_(r,t){return gu[r]||[r.replace(`${t}-`,"").replace(/-/g,"_")]}const r_={"line-pattern":{source:uo,composite:uo},"fill-pattern":{source:uo,composite:uo},"fill-extrusion-pattern":{source:uo,composite:uo},"line-dasharray":{source:Na,composite:Na}},Ev={color:{source:Cp,composite:Eo},number:{source:_a,composite:Cp}};function zm(r,t,o){const c=r_[r];return c&&c[o]||Ev[t][o]}Ri(mu,"ConstantBinder"),Ri(_d,"PatternConstantBinder"),Ri(Os,"SourceExpressionBinder"),Ri(Oh,"PatternCompositeBinder"),Ri(qs,"CompositeExpressionBinder"),Ri(Rh,"ProgramConfiguration",{omit:["_buffers"]}),Ri(Sc,"ProgramConfigurationSet");const Jc="-transition";class sa extends vo{constructor(t,o){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,t.type!=="custom"&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!=="background"&&t.type!=="sky"&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),o.layout&&(this._unevaluatedLayout=new qt(o.layout)),o.paint)){this._transitionablePaint=new si(o.paint);for(const c in t.paint)this.setPaintProperty(c,t.paint[c],{validate:!1});for(const c in t.layout)this.setLayoutProperty(c,t.layout[c],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new wi(o.paint)}}getLayoutProperty(t){return t==="visibility"?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,o,c={}){o!=null&&this._validate(Yc,`layers.${this.id}.layout.${t}`,t,o,c)||(t!=="visibility"?this._unevaluatedLayout.setValue(t,o):this.visibility=o)}getPaintProperty(t){return xe(t,Jc)?this._transitionablePaint.getTransition(t.slice(0,-Jc.length)):this._transitionablePaint.getValue(t)}setPaintProperty(t,o,c={}){if(o!=null&&this._validate(km,`layers.${this.id}.paint.${t}`,t,o,c))return!1;if(xe(t,Jc))return this._transitionablePaint.setTransition(t.slice(0,-Jc.length),o||void 0),!1;{const p=this._transitionablePaint._values[t],g=p.value.isDataDriven(),b=p.value;this._transitionablePaint.setValue(t,o),this._handleSpecialPaintPropertyUpdate(t);const C=this._transitionablePaint._values[t].value,B=C.isDataDriven(),H=xe(t,"pattern")||t==="line-dasharray";return B||g||H||this._handleOverridablePaintPropertyUpdate(t,b,C)}}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getProgramConfiguration(t){return null}_handleOverridablePaintPropertyUpdate(t,o,c){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||this.visibility==="none"}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,o){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,o)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,o)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),oe(t,(o,c)=>!(o===void 0||c==="layout"&&!Object.keys(o).length||c==="paint"&&!Object.keys(o).length))}_validate(t,o,c,p,g={}){return(!g||g.validate!==!1)&&Uf(this,t.call(xp,{key:o,layerType:this.type,objectKey:c,value:p,styleSpec:ni,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const o=this.paint.get(t);if(o instanceof di&&Qt(o.property.specification)&&(o.value.kind==="source"||o.value.kind==="composite")&&o.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Qr(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Mv=Ui([{name:"a_pos",components:2,type:"Int16"}],4),s_=Ui([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Ss{constructor(t=[]){this.segments=t}prepareSegment(t,o,c,p){let g=this.segments[this.segments.length-1];return t>Ss.MAX_VERTEX_ARRAY_LENGTH&&se(`Max vertices per segment is ${Ss.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!g||g.vertexLength+t>Ss.MAX_VERTEX_ARRAY_LENGTH||g.sortKey!==p)&&(g={vertexOffset:o.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0},p!==void 0&&(g.sortKey=p),this.segments.push(g)),g}get(){return this.segments}destroy(){for(const t of this.segments)for(const o in t.vaos)t.vaos[o].destroy()}static simpleSegment(t,o,c,p){return new Ss([{vertexOffset:t,primitiveOffset:o,vertexLength:c,primitiveLength:p,vaos:{},sortKey:0}])}}Ss.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ri(Ss,"SegmentVector");var an=8192;class Qc{constructor(t,o){t&&(o?this.setSouthWest(t).setNorthEast(o):t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}setNorthEast(t){return this._ne=t instanceof Zn?new Zn(t.lng,t.lat):Zn.convert(t),this}setSouthWest(t){return this._sw=t instanceof Zn?new Zn(t.lng,t.lat):Zn.convert(t),this}extend(t){const o=this._sw,c=this._ne;let p,g;if(t instanceof Zn)p=t,g=t;else{if(!(t instanceof Qc))return Array.isArray(t)?t.length===4||t.every(Array.isArray)?this.extend(Qc.convert(t)):this.extend(Zn.convert(t)):typeof t=="object"&&t!==null&&t.hasOwnProperty("lat")&&t.hasOwnProperty("lon")?this.extend(Zn.convert(t)):this;if(p=t._sw,g=t._ne,!p||!g)return this}return o||c?(o.lng=Math.min(p.lng,o.lng),o.lat=Math.min(p.lat,o.lat),c.lng=Math.max(g.lng,c.lng),c.lat=Math.max(g.lat,c.lat)):(this._sw=new Zn(p.lng,p.lat),this._ne=new Zn(g.lng,g.lat)),this}getCenter(){return new Zn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Zn(this.getWest(),this.getNorth())}getSouthEast(){return new Zn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:o,lat:c}=Zn.convert(t);let p=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=c&&c<=this._ne.lat&&p}static convert(t){return!t||t instanceof Qc?t:new Qc(t)}}const yd=63710088e-1;class Zn{constructor(t,o){if(isNaN(t)||isNaN(o))throw new Error(`Invalid LngLat object: (${t}, ${o})`);if(this.lng=+t,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Zn(O(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const o=Math.PI/180,c=this.lat*o,p=t.lat*o,g=Math.sin(c)*Math.sin(p)+Math.cos(c)*Math.cos(p)*Math.cos((t.lng-this.lng)*o);return yd*Math.acos(Math.min(g,1))}toBounds(t=0){const o=360*t/40075017,c=o/Math.cos(Math.PI/180*this.lat);return new Qc(new Zn(this.lng-c,this.lat-o),new Zn(this.lng+c,this.lat+o))}static convert(t){if(t instanceof Zn)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new Zn(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new Zn(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Pp=2*Math.PI*yd;function Bm(r){return Pp*Math.cos(r*Math.PI/180)}function Gl(r){return(180+r)/360}function Ga(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function Va(r,t){return r/Bm(t)}function oa(r){return 360*r-180}function fo(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}function Fm(r,t){return r*Bm(fo(t))}const mo=85.051129;function Nm(r){return 1/Math.cos(r*Math.PI/180)}class xd{constructor(t,o,c=0){this.x=+t,this.y=+o,this.z=+c}static fromLngLat(t,o=0){const c=Zn.convert(t);return new xd(Gl(c.lng),Ga(c.lat),Va(o,c.lat))}toLngLat(){return new Zn(oa(this.x),fo(this.y))}toAltitude(){return Fm(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Pp*Nm(fo(this.y))}}function jm(r,t,o,c,p,g,b,C,B){const H=(t+c)/2,he=(o+p)/2,ge=new j(H,he);C(ge),function(be,Ce,De,Fe,Ye,dt){const _t=De-Ye,ct=Fe-dt;return Math.abs((Fe-Ce)*_t-(De-be)*ct)/Math.hypot(_t,ct)}(ge.x,ge.y,g.x,g.y,b.x,b.y)>=B?(jm(r,t,o,H,he,g,ge,C,B),jm(r,H,he,c,p,ge,b,C,B)):r.push(b)}function Um(r,t,o){let c=r[0],p=c.x,g=c.y;t(c);const b=[c];for(let C=1;C<r.length;C++){const B=r[C],{x:H,y:he}=B;t(B),jm(b,p,g,H,he,c,B,t,o),p=H,g=he,c=B}return b}function Gm(r,t,o,c){if(c(t,o)){const p=t.add(o)._mult(.5);Gm(r,t,p,c),Gm(r,p,o,c)}else r.push(o)}function Cv(r,t){let o=r[0];const c=[o];for(let p=1;p<r.length;p++){const g=r[p];Gm(c,o,g,t),o=g}return c}const Vl=Math.pow(2,14)-1,i0=-Vl-1;function Vm(r,t){const o=Math.round(r.x*t),c=Math.round(r.y*t);return r.x=v(o,i0,Vl),r.y=v(c,i0,Vl),(o<r.x||o>r.x+1||c<r.y||c>r.y+1)&&se("Geometry exceeds allowed extent, reduce your vector tile buffer size"),r}function Wl(r,t,o){const c=r.loadGeometry(),p=r.extent,g=an/p;if(t&&o&&o.projection.isReprojectedInTileSpace){const b=1<<t.z,{scale:C,x:B,y:H,projection:he}=o,ge=be=>{const Ce=oa((t.x+be.x/p)/b),De=fo((t.y+be.y/p)/b),Fe=he.project(Ce,De);be.x=(Fe.x*C-B)*p,be.y=(Fe.y*C-H)*p};for(let be=0;be<c.length;be++)if(r.type!==1)c[be]=Um(c[be],ge,1);else{const Ce=[];for(const De of c[be])De.x<0||De.x>=p||De.y<0||De.y>=p||(ge(De),Ce.push(De));c[be]=Ce}}for(const b of c)for(const C of b)Vm(C,g);return c}function Ec(r,t){return{type:r.type,id:r.id,properties:r.properties,geometry:t?Wl(r):[]}}function eh(r,t,o,c,p){r.emplaceBack(2*t+(c+1)/2,2*o+(p+1)/2)}function Sn(r,t,o){r.emplaceBack(t.x,t.y,t.z,o[0]*16384,o[1]*16384,o[2]*16384)}class _u{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(o=>o.id),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new lr,this.indexArray=new no,this.segments=new Ss,this.programConfigurations=new Sc(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(t,o,c,p){const g=this.layers[0],b=[];let C=null;g.type==="circle"&&(C=g.layout.get("circle-sort-key"));for(const{feature:H,id:he,index:ge,sourceLayerIndex:be}of t){const Ce=this.layers[0]._featureFilter.needGeometry,De=Ec(H,Ce);if(!this.layers[0]._featureFilter.filter(new Pt(this.zoom),De,c))continue;const Fe=C?C.evaluate(De,{},c):void 0,Ye={id:he,properties:H.properties,type:H.type,sourceLayerIndex:be,index:ge,geometry:Ce?De.geometry:Wl(H,c,p),patterns:{},sortKey:Fe};b.push(Ye)}C&&b.sort((H,he)=>H.sortKey-he.sortKey);let B=null;p.projection.name==="globe"&&(this.globeExtVertexArray=new Rr,B=p.projection);for(const H of b){const{geometry:he,index:ge,sourceLayerIndex:be}=H,Ce=t[ge].feature;this.addFeature(H,he,ge,o.availableImages,c,B),o.featureIndex.insert(Ce,he,ge,be,this.index)}}update(t,o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,o,this.stateDependentLayers,c,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Mv.members),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,s_.members))),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(t,o,c,p,g,b){for(const C of o)for(const B of C){const H=B.x,he=B.y;if(H<0||H>=an||he<0||he>=an)continue;if(b){const Ce=b.projectTilePoint(H,he,g),De=b.upVector(g,H,he),Fe=this.globeExtVertexArray;Sn(Fe,Ce,De),Sn(Fe,Ce,De),Sn(Fe,Ce,De),Sn(Fe,Ce,De)}const ge=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),be=ge.vertexLength;eh(this.layoutVertexArray,H,he,-1,-1),eh(this.layoutVertexArray,H,he,1,-1),eh(this.layoutVertexArray,H,he,1,1),eh(this.layoutVertexArray,H,he,-1,1),this.indexArray.emplaceBack(be,be+1,be+2),this.indexArray.emplaceBack(be,be+2,be+3),ge.vertexLength+=4,ge.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,c,{},p,g)}}function n0(r,t){for(let o=0;o<r.length;o++)if(bd(t,r[o]))return!0;for(let o=0;o<t.length;o++)if(bd(r,t[o]))return!0;return!!r0(r,t)}function vd(r,t,o){return!!bd(r,t)||!!Hm(t,r,o)}function o_(r,t){if(r.length===1)return $m(t,r[0]);for(let o=0;o<t.length;o++){const c=t[o];for(let p=0;p<c.length;p++)if(bd(r,c[p]))return!0}for(let o=0;o<r.length;o++)if($m(t,r[o]))return!0;for(let o=0;o<t.length;o++)if(r0(r,t[o]))return!0;return!1}function Wm(r,t,o){if(r.length>1){if(r0(r,t))return!0;for(let c=0;c<t.length;c++)if(Hm(t[c],r,o))return!0}for(let c=0;c<r.length;c++)if(Hm(r[c],t,o))return!0;return!1}function r0(r,t){if(r.length===0||t.length===0)return!1;for(let o=0;o<r.length-1;o++){const c=r[o],p=r[o+1];for(let g=0;g<t.length-1;g++)if(Ho(c,p,t[g],t[g+1]))return!0}return!1}function Ho(r,t,o,c){return fe(r,o,c)!==fe(t,o,c)&&fe(r,t,o)!==fe(r,t,c)}function Hm(r,t,o){const c=o*o;if(t.length===1)return r.distSqr(t[0])<c;for(let p=1;p<t.length;p++)if(a_(r,t[p-1],t[p])<c)return!0;return!1}function a_(r,t,o){const c=t.distSqr(o);if(c===0)return r.distSqr(t);const p=((r.x-t.x)*(o.x-t.x)+(r.y-t.y)*(o.y-t.y))/c;return r.distSqr(p<0?t:p>1?o:o.sub(t)._mult(p)._add(t))}function $m(r,t){let o,c,p,g=!1;for(let b=0;b<r.length;b++){o=r[b];for(let C=0,B=o.length-1;C<o.length;B=C++)c=o[C],p=o[B],c.y>t.y!=p.y>t.y&&t.x<(p.x-c.x)*(t.y-c.y)/(p.y-c.y)+c.x&&(g=!g)}return g}function bd(r,t){let o=!1;for(let c=0,p=r.length-1;c<r.length;p=c++){const g=r[c],b=r[p];g.y>t.y!=b.y>t.y&&t.x<(b.x-g.x)*(t.y-g.y)/(b.y-g.y)+g.x&&(o=!o)}return o}function Xm(r,t,o,c,p){for(const b of r)if(t<=b.x&&o<=b.y&&c>=b.x&&p>=b.y)return!0;const g=[new j(t,o),new j(t,p),new j(c,p),new j(c,o)];if(r.length>2){for(const b of g)if(bd(r,b))return!0}for(let b=0;b<r.length-1;b++)if(Av(r[b],r[b+1],g))return!0;return!1}function Av(r,t,o){const c=o[0],p=o[2];if(r.x<c.x&&t.x<c.x||r.x>p.x&&t.x>p.x||r.y<c.y&&t.y<c.y||r.y>p.y&&t.y>p.y)return!1;const g=fe(r,t,o[0]);return g!==fe(r,t,o[1])||g!==fe(r,t,o[2])||g!==fe(r,t,o[3])}function yu(r,t,o){const c=t.paint.get(r).value;return c.kind==="constant"?c.value:o.programConfigurations.get(t.id).getMaxValue(r)}function s0(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Mc(r,t,o,c,p){if(!t[0]&&!t[1])return r;const g=j.convert(t)._mult(p);o==="viewport"&&g._rotate(-c);const b=[];for(let C=0;C<r.length;C++)b.push(r[C].sub(g));return b}function $o(r,t,o,c){const p=j.convert(r)._mult(c);return t==="viewport"&&p._rotate(-o),p}Ri(_u,"CircleBucket",{omit:["layers"]});const Ym=new Qi({"circle-sort-key":new Xt(ni.layout_circle["circle-sort-key"])});var kv={paint:new Qi({"circle-radius":new Xt(ni.paint_circle["circle-radius"]),"circle-color":new Xt(ni.paint_circle["circle-color"]),"circle-blur":new Xt(ni.paint_circle["circle-blur"]),"circle-opacity":new Xt(ni.paint_circle["circle-opacity"]),"circle-translate":new Ot(ni.paint_circle["circle-translate"]),"circle-translate-anchor":new Ot(ni.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ot(ni.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ot(ni.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Xt(ni.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Xt(ni.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Xt(ni.paint_circle["circle-stroke-opacity"])}),layout:Ym},xu=1e-6,xa=typeof Float32Array<"u"?Float32Array:Array;function l_(){var r=new xa(9);return xa!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function vu(r,t,o){var c=t[0],p=t[1],g=t[2],b=t[3],C=t[4],B=t[5],H=t[6],he=t[7],ge=t[8],be=o[0],Ce=o[1],De=o[2],Fe=o[3],Ye=o[4],dt=o[5],_t=o[6],ct=o[7],ft=o[8];return r[0]=be*c+Ce*b+De*H,r[1]=be*p+Ce*C+De*he,r[2]=be*g+Ce*B+De*ge,r[3]=Fe*c+Ye*b+dt*H,r[4]=Fe*p+Ye*C+dt*he,r[5]=Fe*g+Ye*B+dt*ge,r[6]=_t*c+ct*b+ft*H,r[7]=_t*p+ct*C+ft*he,r[8]=_t*g+ct*B+ft*ge,r}function al(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function o0(r,t){var o=t[0],c=t[1],p=t[2],g=t[3],b=t[4],C=t[5],B=t[6],H=t[7],he=t[8],ge=t[9],be=t[10],Ce=t[11],De=t[12],Fe=t[13],Ye=t[14],dt=t[15],_t=o*C-c*b,ct=o*B-p*b,ft=o*H-g*b,Tt=c*B-p*C,vt=c*H-g*C,Ht=p*H-g*B,Wt=he*Fe-ge*De,oi=he*Ye-be*De,Ei=he*dt-Ce*De,Zt=ge*Ye-be*Fe,ai=ge*dt-Ce*Fe,ui=be*dt-Ce*Ye,gi=_t*ui-ct*ai+ft*Zt+Tt*Ei-vt*oi+Ht*Wt;return gi?(r[0]=(C*ui-B*ai+H*Zt)*(gi=1/gi),r[1]=(p*ai-c*ui-g*Zt)*gi,r[2]=(Fe*Ht-Ye*vt+dt*Tt)*gi,r[3]=(be*vt-ge*Ht-Ce*Tt)*gi,r[4]=(B*Ei-b*ui-H*oi)*gi,r[5]=(o*ui-p*Ei+g*oi)*gi,r[6]=(Ye*ft-De*Ht-dt*ct)*gi,r[7]=(he*Ht-be*ft+Ce*ct)*gi,r[8]=(b*ai-C*Ei+H*Wt)*gi,r[9]=(c*Ei-o*ai-g*Wt)*gi,r[10]=(De*vt-Fe*ft+dt*_t)*gi,r[11]=(ge*ft-he*vt-Ce*_t)*gi,r[12]=(C*oi-b*Zt-B*Wt)*gi,r[13]=(o*Zt-c*oi+p*Wt)*gi,r[14]=(Fe*ct-De*Tt-Ye*_t)*gi,r[15]=(he*Tt-ge*ct+be*_t)*gi,r):null}function wd(r,t,o){var c=t[0],p=t[1],g=t[2],b=t[3],C=t[4],B=t[5],H=t[6],he=t[7],ge=t[8],be=t[9],Ce=t[10],De=t[11],Fe=t[12],Ye=t[13],dt=t[14],_t=t[15],ct=o[0],ft=o[1],Tt=o[2],vt=o[3];return r[0]=ct*c+ft*C+Tt*ge+vt*Fe,r[1]=ct*p+ft*B+Tt*be+vt*Ye,r[2]=ct*g+ft*H+Tt*Ce+vt*dt,r[3]=ct*b+ft*he+Tt*De+vt*_t,r[4]=(ct=o[4])*c+(ft=o[5])*C+(Tt=o[6])*ge+(vt=o[7])*Fe,r[5]=ct*p+ft*B+Tt*be+vt*Ye,r[6]=ct*g+ft*H+Tt*Ce+vt*dt,r[7]=ct*b+ft*he+Tt*De+vt*_t,r[8]=(ct=o[8])*c+(ft=o[9])*C+(Tt=o[10])*ge+(vt=o[11])*Fe,r[9]=ct*p+ft*B+Tt*be+vt*Ye,r[10]=ct*g+ft*H+Tt*Ce+vt*dt,r[11]=ct*b+ft*he+Tt*De+vt*_t,r[12]=(ct=o[12])*c+(ft=o[13])*C+(Tt=o[14])*ge+(vt=o[15])*Fe,r[13]=ct*p+ft*B+Tt*be+vt*Ye,r[14]=ct*g+ft*H+Tt*Ce+vt*dt,r[15]=ct*b+ft*he+Tt*De+vt*_t,r}function Dp(r,t,o){var c,p,g,b,C,B,H,he,ge,be,Ce,De,Fe=o[0],Ye=o[1],dt=o[2];return t===r?(r[12]=t[0]*Fe+t[4]*Ye+t[8]*dt+t[12],r[13]=t[1]*Fe+t[5]*Ye+t[9]*dt+t[13],r[14]=t[2]*Fe+t[6]*Ye+t[10]*dt+t[14],r[15]=t[3]*Fe+t[7]*Ye+t[11]*dt+t[15]):(p=t[1],g=t[2],b=t[3],C=t[4],B=t[5],H=t[6],he=t[7],ge=t[8],be=t[9],Ce=t[10],De=t[11],r[0]=c=t[0],r[1]=p,r[2]=g,r[3]=b,r[4]=C,r[5]=B,r[6]=H,r[7]=he,r[8]=ge,r[9]=be,r[10]=Ce,r[11]=De,r[12]=c*Fe+C*Ye+ge*dt+t[12],r[13]=p*Fe+B*Ye+be*dt+t[13],r[14]=g*Fe+H*Ye+Ce*dt+t[14],r[15]=b*Fe+he*Ye+De*dt+t[15]),r}function Td(r,t,o){var c=o[0],p=o[1],g=o[2];return r[0]=t[0]*c,r[1]=t[1]*c,r[2]=t[2]*c,r[3]=t[3]*c,r[4]=t[4]*p,r[5]=t[5]*p,r[6]=t[6]*p,r[7]=t[7]*p,r[8]=t[8]*g,r[9]=t[9]*g,r[10]=t[10]*g,r[11]=t[11]*g,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function qm(r,t,o){var c=Math.sin(o),p=Math.cos(o),g=t[4],b=t[5],C=t[6],B=t[7],H=t[8],he=t[9],ge=t[10],be=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=g*p+H*c,r[5]=b*p+he*c,r[6]=C*p+ge*c,r[7]=B*p+be*c,r[8]=H*p-g*c,r[9]=he*p-b*c,r[10]=ge*p-C*c,r[11]=be*p-B*c,r}function Ip(r,t,o){var c=Math.sin(o),p=Math.cos(o),g=t[0],b=t[1],C=t[2],B=t[3],H=t[8],he=t[9],ge=t[10],be=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=g*p-H*c,r[1]=b*p-he*c,r[2]=C*p-ge*c,r[3]=B*p-be*c,r[8]=g*c+H*p,r[9]=b*c+he*p,r[10]=C*c+ge*p,r[11]=B*c+be*p,r}function Zm(r,t){return r[0]=t[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=t[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function c_(r,t,o){var c,p,g,b=o[0],C=o[1],B=o[2],H=Math.hypot(b,C,B);return H<xu?null:(b*=H=1/H,C*=H,B*=H,c=Math.sin(t),p=Math.cos(t),r[0]=b*b*(g=1-p)+p,r[1]=C*b*g+B*c,r[2]=B*b*g-C*c,r[3]=0,r[4]=b*C*g-B*c,r[5]=C*C*g+p,r[6]=B*C*g+b*c,r[7]=0,r[8]=b*B*g+C*c,r[9]=C*B*g-b*c,r[10]=B*B*g+p,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}Math.hypot||(Math.hypot=function(){for(var r=0,t=arguments.length;t--;)r+=arguments[t]*arguments[t];return Math.sqrt(r)});var Km=wd;function a0(){var r=new xa(3);return xa!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function bu(r){var t=new xa(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function Sd(r){return Math.hypot(r[0],r[1],r[2])}function Ed(r,t,o){var c=new xa(3);return c[0]=r,c[1]=t,c[2]=o,c}function Cc(r,t,o){return r[0]=t[0]+o[0],r[1]=t[1]+o[1],r[2]=t[2]+o[2],r}function wu(r,t,o){return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],r}function Jm(r,t,o){return r[0]=t[0]*o[0],r[1]=t[1]*o[1],r[2]=t[2]*o[2],r}function va(r,t,o){return r[0]=Math.min(t[0],o[0]),r[1]=Math.min(t[1],o[1]),r[2]=Math.min(t[2],o[2]),r}function Hl(r,t,o){return r[0]=Math.max(t[0],o[0]),r[1]=Math.max(t[1],o[1]),r[2]=Math.max(t[2],o[2]),r}function Wa(r,t,o){return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r}function Tu(r,t,o,c){return r[0]=t[0]+o[0]*c,r[1]=t[1]+o[1]*c,r[2]=t[2]+o[2]*c,r}function Xo(r,t){var o=t[0],c=t[1],p=t[2],g=o*o+c*c+p*p;return g>0&&(g=1/Math.sqrt(g)),r[0]=t[0]*g,r[1]=t[1]*g,r[2]=t[2]*g,r}function ll(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}function Qm(r,t,o){var c=t[0],p=t[1],g=t[2],b=o[0],C=o[1],B=o[2];return r[0]=p*B-g*C,r[1]=g*b-c*B,r[2]=c*C-p*b,r}function ys(r,t,o){var c=t[0],p=t[1],g=t[2],b=o[3]*c+o[7]*p+o[11]*g+o[15];return r[0]=(o[0]*c+o[4]*p+o[8]*g+o[12])/(b=b||1),r[1]=(o[1]*c+o[5]*p+o[9]*g+o[13])/b,r[2]=(o[2]*c+o[6]*p+o[10]*g+o[14])/b,r}function h_(r,t,o){var c=o[0],p=o[1],g=o[2],b=t[0],C=t[1],B=t[2],H=p*B-g*C,he=g*b-c*B,ge=c*C-p*b,be=p*ge-g*he,Ce=g*H-c*ge,De=c*he-p*H,Fe=2*o[3];return he*=Fe,ge*=Fe,Ce*=2,De*=2,r[0]=b+(H*=Fe)+(be*=2),r[1]=C+he+Ce,r[2]=B+ge+De,r}var Lp,$l=wu,Pv=Jm,Dv=Sd;function d_(r,t,o){return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r[3]=t[3]*o,r}function u_(r,t){var o=t[0],c=t[1],p=t[2],g=t[3],b=o*o+c*c+p*p+g*g;return b>0&&(b=1/Math.sqrt(b)),r[0]=o*b,r[1]=c*b,r[2]=p*b,r[3]=g*b,r}function zh(r,t,o){var c=t[0],p=t[1],g=t[2],b=t[3];return r[0]=o[0]*c+o[4]*p+o[8]*g+o[12]*b,r[1]=o[1]*c+o[5]*p+o[9]*g+o[13]*b,r[2]=o[2]*c+o[6]*p+o[10]*g+o[14]*b,r[3]=o[3]*c+o[7]*p+o[11]*g+o[15]*b,r}function eg(){var r=new xa(4);return xa!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function tg(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function p_(r,t,o){o*=.5;var c=t[0],p=t[1],g=t[2],b=t[3],C=Math.sin(o),B=Math.cos(o);return r[0]=c*B+b*C,r[1]=p*B+g*C,r[2]=g*B-p*C,r[3]=b*B-c*C,r}function f_(r,t,o){o*=.5;var c=t[0],p=t[1],g=t[2],b=t[3],C=Math.sin(o),B=Math.cos(o);return r[0]=c*B-g*C,r[1]=p*B+b*C,r[2]=g*B+c*C,r[3]=b*B-p*C,r}a0(),Lp=new xa(4),xa!=Float32Array&&(Lp[0]=0,Lp[1]=0,Lp[2]=0,Lp[3]=0);var Iv=u_;a0(),Ed(1,0,0),Ed(0,1,0),eg(),eg(),l_();class l0{constructor(t,o){this.pos=t,this.dir=o}intersectsPlane(t,o,c){const p=ll(o,this.dir);if(Math.abs(p)<1e-6)return!1;const g=((t[0]-this.pos[0])*o[0]+(t[1]-this.pos[1])*o[1]+(t[2]-this.pos[2])*o[2])/p;return c[0]=this.pos[0]+this.dir[0]*g,c[1]=this.pos[1]+this.dir[1]*g,c[2]=this.pos[2]+this.dir[2]*g,!0}closestPointOnSphere(t,o,c){if(function(Ce,De){var Fe=Ce[0],Ye=Ce[1],dt=Ce[2],_t=De[0],ct=De[1],ft=De[2];return Math.abs(Fe-_t)<=xu*Math.max(1,Math.abs(Fe),Math.abs(_t))&&Math.abs(Ye-ct)<=xu*Math.max(1,Math.abs(Ye),Math.abs(ct))&&Math.abs(dt-ft)<=xu*Math.max(1,Math.abs(dt),Math.abs(ft))}(this.pos,t)||o===0)return c[0]=c[1]=c[2]=0,!1;const[p,g,b]=this.dir,C=this.pos[0]-t[0],B=this.pos[1]-t[1],H=this.pos[2]-t[2],he=p*p+g*g+b*b,ge=2*(C*p+B*g+H*b),be=ge*ge-4*he*(C*C+B*B+H*H-o*o);if(be<0){const Ce=Math.max(-ge/2,0),De=C+p*Ce,Fe=B+g*Ce,Ye=H+b*Ce,dt=Math.hypot(De,Fe,Ye);return c[0]=De*o/dt,c[1]=Fe*o/dt,c[2]=Ye*o/dt,!1}{const Ce=(-ge-Math.sqrt(be))/(2*he);if(Ce<0){const De=Math.hypot(C,B,H);return c[0]=C*o/De,c[1]=B*o/De,c[2]=H*o/De,!1}return c[0]=C+p*Ce,c[1]=B+g*Ce,c[2]=H+b*Ce,!0}}}class ig{constructor(t,o,c,p,g){this.TL=t,this.TR=o,this.BR=c,this.BL=p,this.horizon=g}static fromInvProjectionMatrix(t,o,c){const p=[-1,1,1],g=[1,1,1],b=[1,-1,1],C=[-1,-1,1],B=ys(p,p,t),H=ys(g,g,t),he=ys(b,b,t),ge=ys(C,C,t);return new ig(B,H,he,ge,o/c)}}class ng{constructor(t,o){this.points=t,this.planes=o}static fromInvProjectionMatrix(t,o,c,p){const g=Math.pow(2,c),b=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(B=>{const H=zh([],B,t),he=1/H[3]/o*g;return function(ge,be,Ce){return ge[0]=be[0]*Ce[0],ge[1]=be[1]*Ce[1],ge[2]=be[2]*Ce[2],ge[3]=be[3]*Ce[3],ge}(H,H,[he,he,p?1/H[3]:he,he])}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(B=>{const H=Xo([],Qm([],$l([],b[B[0]],b[B[1]]),$l([],b[B[2]],b[B[1]]))),he=-ll(H,b[B[1]]);return H.concat(he)});return new ng(b,C)}}class Yo{static fromPoints(t){const o=[1/0,1/0,1/0],c=[-1/0,-1/0,-1/0];for(const p of t)va(o,o,p),Hl(c,c,p);return new Yo(o,c)}static applyTransform(t,o){const c=t.getCorners();for(let p=0;p<c.length;++p)ys(c[p],c[p],o);return Yo.fromPoints(c)}constructor(t,o){this.min=t,this.max=o,this.center=Wa([],Cc([],this.min,this.max),.5)}quadrant(t){const o=[t%2==0,t<2],c=bu(this.min),p=bu(this.max);for(let g=0;g<o.length;g++)c[g]=o[g]?this.min[g]:this.center[g],p[g]=o[g]?this.center[g]:this.max[g];return p[2]=this.max[2],new Yo(c,p)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}getCorners(){const t=this.min,o=this.max;return[[t[0],t[1],t[2]],[o[0],t[1],t[2]],[o[0],o[1],t[2]],[t[0],o[1],t[2]],[t[0],t[1],o[2]],[o[0],t[1],o[2]],[o[0],o[1],o[2]],[t[0],o[1],o[2]]]}intersects(t){const o=this.getCorners();let c=!0;for(let p=0;p<t.planes.length;p++){const g=t.planes[p];let b=0;for(let C=0;C<o.length;C++)b+=ll(g,o[C])+g[3]>=0;if(b===0)return 0;b!==o.length&&(c=!1)}if(c)return 2;for(let p=0;p<3;p++){let g=Number.MAX_VALUE,b=-Number.MAX_VALUE;for(let C=0;C<t.points.length;C++){const B=t.points[C][p]-this.min[p];g=Math.min(g,B),b=Math.max(b,B)}if(b<0||g>this.max[p]-this.min[p])return 0}return 1}}function m_(r,t,o,c,p,g,b,C,B){if(g&&r.queryGeometry.isAboveHorizon)return!1;g&&(B*=r.pixelToTileUnitsFactor);const H=r.tileID.canonical,he=o.projection.upVectorScale(H,o.center.lat,o.worldSize).metersToTile;for(const ge of t)for(const be of ge){const Ce=be.add(C),De=p&&o.elevation?o.elevation.exaggeration()*p.getElevationAt(Ce.x,Ce.y,!0):0,Fe=o.projection.projectTilePoint(Ce.x,Ce.y,H);if(De>0){const ct=o.projection.upVector(H,Ce.x,Ce.y);Fe.x+=ct[0]*he*De,Fe.y+=ct[1]*he*De,Fe.z+=ct[2]*he*De}const Ye=g?Ce:Lv(Fe.x,Fe.y,Fe.z,c),dt=g?r.tilespaceRays.map(ct=>Ov(ct,De)):r.queryGeometry.screenGeometry,_t=zh([],[Fe.x,Fe.y,Fe.z,1],c);if(!b&&g?B*=_t[3]/o.cameraToCenterDistance:b&&!g&&(B*=o.cameraToCenterDistance/_t[3]),g){const ct=fo((be.y/an+H.y)/(1<<H.z));B/=o.projection.pixelsPerMeter(ct,1)/Va(1,ct)}if(vd(dt,Ye,B))return!0}return!1}function Lv(r,t,o,c){const p=zh([],[r,t,o,1],c);return new j(p[0]/p[3],p[1]/p[3])}const g_=Ed(0,0,0),cl=Ed(0,0,1);function Ov(r,t){const o=a0();return g_[2]=t,r.intersectsPlane(g_,cl,o),new j(o[0],o[1])}class __ extends _u{}function y_(r,{width:t,height:o},c,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==t*o*c)throw new RangeError("mismatched image size")}else p=new Uint8Array(t*o*c);return r.width=t,r.height=o,r.data=p,r}function rg(r,t,o){const{width:c,height:p}=t;c===r.width&&p===r.height||(sg(r,t,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,c),height:Math.min(r.height,p)},o),r.width=c,r.height=p,r.data=t.data)}function sg(r,t,o,c,p,g){if(p.width===0||p.height===0)return t;if(p.width>r.width||p.height>r.height||o.x>r.width-p.width||o.y>r.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>t.width||p.height>t.height||c.x>t.width-p.width||c.y>t.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const b=r.data,C=t.data;for(let B=0;B<p.height;B++){const H=((o.y+B)*r.width+o.x)*g,he=((c.y+B)*t.width+c.x)*g;for(let ge=0;ge<p.width*g;ge++)C[he+ge]=b[H+ge]}return t}Ri(__,"HeatmapBucket",{omit:["layers"]});class th{constructor(t,o){y_(this,t,1,o)}resize(t){rg(this,new th(t),1)}clone(){return new th({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,o,c,p,g){sg(t,o,c,p,g,1)}}class ba{constructor(t,o){y_(this,t,4,o)}resize(t){rg(this,new ba(t),4)}replace(t,o){o?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new ba({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,o,c,p,g){sg(t,o,c,p,g,4)}}Ri(th,"AlphaImage"),Ri(ba,"RGBAImage");var Rv={paint:new Qi({"heatmap-radius":new Xt(ni.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Xt(ni.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ot(ni.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Vi(ni.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ot(ni.paint_heatmap["heatmap-opacity"])})};function Op(r){const t={},o=r.resolution||256,c=r.clips?r.clips.length:1,p=r.image||new ba({width:o,height:c}),g=(b,C,B)=>{t[r.evaluationKey]=B;const H=r.expression.evaluate(t);p.data[b+C+0]=Math.floor(255*H.r/H.a),p.data[b+C+1]=Math.floor(255*H.g/H.a),p.data[b+C+2]=Math.floor(255*H.b/H.a),p.data[b+C+3]=Math.floor(255*H.a)};if(r.clips)for(let b=0,C=0;b<c;++b,C+=4*o)for(let B=0,H=0;B<o;B++,H+=4){const he=B/(o-1),{start:ge,end:be}=r.clips[b];g(C,H,ge*(1-he)+be*he)}else for(let b=0,C=0;b<o;b++,C+=4)g(0,C,b/(o-1));return p}var zv={paint:new Qi({"hillshade-illumination-direction":new Ot(ni.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ot(ni.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ot(ni.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ot(ni.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ot(ni.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ot(ni.paint_hillshade["hillshade-accent-color"])})};const Bv=Ui([{name:"a_pos",components:2,type:"Int16"}],4),{members:Fv}=Bv;var Rp={exports:{}};function c0(r,t,o){o=o||2;var c,p,g,b,C,B,H,he=t&&t.length,ge=he?t[0]*o:r.length,be=x_(r,0,ge,o,!0),Ce=[];if(!be||be.next===be.prev)return Ce;if(he&&(be=function(Fe,Ye,dt,_t){var ct,ft,Tt,vt=[];for(ct=0,ft=Ye.length;ct<ft;ct++)(Tt=x_(Fe,Ye[ct]*_t,ct<ft-1?Ye[ct+1]*_t:Fe.length,_t,!1))===Tt.next&&(Tt.steiner=!0),vt.push($v(Tt));for(vt.sort(Vv),ct=0;ct<vt.length;ct++)dt=Wv(vt[ct],dt);return dt}(r,t,be,o)),r.length>80*o){c=g=r[0],p=b=r[1];for(var De=o;De<ge;De+=o)(C=r[De])<c&&(c=C),(B=r[De+1])<p&&(p=B),C>g&&(g=C),B>b&&(b=B);H=(H=Math.max(g-c,b-p))!==0?32767/H:0}return zp(be,Ce,o,c,p,H,0),Ce}function x_(r,t,o,c,p){var g,b;if(p===cg(r,t,o,c)>0)for(g=t;g<o;g+=c)b=b_(g,r[g],r[g+1],b);else for(g=o-c;g>=t;g-=c)b=b_(g,r[g],r[g+1],b);return b&&Eu(b,b.next)&&(Fp(b),b=b.next),b}function Md(r,t){if(!r)return r;t||(t=r);var o,c=r;do if(o=!1,c.steiner||!Eu(c,c.next)&&Es(c.prev,c,c.next)!==0)c=c.next;else{if(Fp(c),(c=t=c.prev)===c.next)break;o=!0}while(o||c!==t);return t}function zp(r,t,o,c,p,g,b){if(r){!b&&g&&function(he,ge,be,Ce){var De=he;do De.z===0&&(De.z=og(De.x,De.y,ge,be,Ce)),De.prevZ=De.prev,De.nextZ=De.next,De=De.next;while(De!==he);De.prevZ.nextZ=null,De.prevZ=null,function(Fe){var Ye,dt,_t,ct,ft,Tt,vt,Ht,Wt=1;do{for(dt=Fe,Fe=null,ft=null,Tt=0;dt;){for(Tt++,_t=dt,vt=0,Ye=0;Ye<Wt&&(vt++,_t=_t.nextZ);Ye++);for(Ht=Wt;vt>0||Ht>0&&_t;)vt!==0&&(Ht===0||!_t||dt.z<=_t.z)?(ct=dt,dt=dt.nextZ,vt--):(ct=_t,_t=_t.nextZ,Ht--),ft?ft.nextZ=ct:Fe=ct,ct.prevZ=ft,ft=ct;dt=_t}ft.nextZ=null,Wt*=2}while(Tt>1)}(De)}(r,c,p,g);for(var C,B,H=r;r.prev!==r.next;)if(C=r.prev,B=r.next,g?jv(r,c,p,g):Nv(r))t.push(C.i/o|0),t.push(r.i/o|0),t.push(B.i/o|0),Fp(r),r=B.next,H=B.next;else if((r=B)===H){b?b===1?zp(r=Uv(Md(r),t,o),t,o,c,p,g,2):b===2&&Gv(r,t,o,c,p,g):zp(Md(r),t,o,c,p,g,1);break}}}function Nv(r){var t=r.prev,o=r,c=r.next;if(Es(t,o,c)>=0)return!1;for(var p=t.x,g=o.x,b=c.x,C=t.y,B=o.y,H=c.y,he=p<g?p<b?p:b:g<b?g:b,ge=C<B?C<H?C:H:B<H?B:H,be=p>g?p>b?p:b:g>b?g:b,Ce=C>B?C>H?C:H:B>H?B:H,De=c.next;De!==t;){if(De.x>=he&&De.x<=be&&De.y>=ge&&De.y<=Ce&&Su(p,C,g,B,b,H,De.x,De.y)&&Es(De.prev,De,De.next)>=0)return!1;De=De.next}return!0}function jv(r,t,o,c){var p=r.prev,g=r,b=r.next;if(Es(p,g,b)>=0)return!1;for(var C=p.x,B=g.x,H=b.x,he=p.y,ge=g.y,be=b.y,Ce=C<B?C<H?C:H:B<H?B:H,De=he<ge?he<be?he:be:ge<be?ge:be,Fe=C>B?C>H?C:H:B>H?B:H,Ye=he>ge?he>be?he:be:ge>be?ge:be,dt=og(Ce,De,t,o,c),_t=og(Fe,Ye,t,o,c),ct=r.prevZ,ft=r.nextZ;ct&&ct.z>=dt&&ft&&ft.z<=_t;){if(ct.x>=Ce&&ct.x<=Fe&&ct.y>=De&&ct.y<=Ye&&ct!==p&&ct!==b&&Su(C,he,B,ge,H,be,ct.x,ct.y)&&Es(ct.prev,ct,ct.next)>=0||(ct=ct.prevZ,ft.x>=Ce&&ft.x<=Fe&&ft.y>=De&&ft.y<=Ye&&ft!==p&&ft!==b&&Su(C,he,B,ge,H,be,ft.x,ft.y)&&Es(ft.prev,ft,ft.next)>=0))return!1;ft=ft.nextZ}for(;ct&&ct.z>=dt;){if(ct.x>=Ce&&ct.x<=Fe&&ct.y>=De&&ct.y<=Ye&&ct!==p&&ct!==b&&Su(C,he,B,ge,H,be,ct.x,ct.y)&&Es(ct.prev,ct,ct.next)>=0)return!1;ct=ct.prevZ}for(;ft&&ft.z<=_t;){if(ft.x>=Ce&&ft.x<=Fe&&ft.y>=De&&ft.y<=Ye&&ft!==p&&ft!==b&&Su(C,he,B,ge,H,be,ft.x,ft.y)&&Es(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}return!0}function Uv(r,t,o){var c=r;do{var p=c.prev,g=c.next.next;!Eu(p,g)&&ag(p,c,c.next,g)&&Bp(p,g)&&Bp(g,p)&&(t.push(p.i/o|0),t.push(c.i/o|0),t.push(g.i/o|0),Fp(c),Fp(c.next),c=r=g),c=c.next}while(c!==r);return Md(c)}function Gv(r,t,o,c,p,g){var b=r;do{for(var C=b.next.next;C!==b.prev;){if(b.i!==C.i&&Xv(b,C)){var B=v_(b,C);return b=Md(b,b.next),B=Md(B,B.next),zp(b,t,o,c,p,g,0),void zp(B,t,o,c,p,g,0)}C=C.next}b=b.next}while(b!==r)}function Vv(r,t){return r.x-t.x}function Wv(r,t){var o=function(p,g){var b,C=g,B=p.x,H=p.y,he=-1/0;do{if(H<=C.y&&H>=C.next.y&&C.next.y!==C.y){var ge=C.x+(H-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(ge<=B&&ge>he&&(he=ge,b=C.x<C.next.x?C:C.next,ge===B))return b}C=C.next}while(C!==g);if(!b)return null;var be,Ce=b,De=b.x,Fe=b.y,Ye=1/0;C=b;do B>=C.x&&C.x>=De&&B!==C.x&&Su(H<Fe?B:he,H,De,Fe,H<Fe?he:B,H,C.x,C.y)&&(be=Math.abs(H-C.y)/(B-C.x),Bp(C,p)&&(be<Ye||be===Ye&&(C.x>b.x||C.x===b.x&&Hv(b,C)))&&(b=C,Ye=be)),C=C.next;while(C!==Ce);return b}(r,t);if(!o)return t;var c=v_(o,r);return Md(c,c.next),Md(o,o.next)}function Hv(r,t){return Es(r.prev,r,t.prev)<0&&Es(t.next,r,r.next)<0}function og(r,t,o,c,p){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-o)*p|0)|r<<8))|r<<4))|r<<2))|r<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-c)*p|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function $v(r){var t=r,o=r;do(t.x<o.x||t.x===o.x&&t.y<o.y)&&(o=t),t=t.next;while(t!==r);return o}function Su(r,t,o,c,p,g,b,C){return(p-b)*(t-C)>=(r-b)*(g-C)&&(r-b)*(c-C)>=(o-b)*(t-C)&&(o-b)*(g-C)>=(p-b)*(c-C)}function Xv(r,t){return r.next.i!==t.i&&r.prev.i!==t.i&&!function(o,c){var p=o;do{if(p.i!==o.i&&p.next.i!==o.i&&p.i!==c.i&&p.next.i!==c.i&&ag(p,p.next,o,c))return!0;p=p.next}while(p!==o);return!1}(r,t)&&(Bp(r,t)&&Bp(t,r)&&function(o,c){var p=o,g=!1,b=(o.x+c.x)/2,C=(o.y+c.y)/2;do p.y>C!=p.next.y>C&&p.next.y!==p.y&&b<(p.next.x-p.x)*(C-p.y)/(p.next.y-p.y)+p.x&&(g=!g),p=p.next;while(p!==o);return g}(r,t)&&(Es(r.prev,r,t.prev)||Es(r,t.prev,t))||Eu(r,t)&&Es(r.prev,r,r.next)>0&&Es(t.prev,t,t.next)>0)}function Es(r,t,o){return(t.y-r.y)*(o.x-t.x)-(t.x-r.x)*(o.y-t.y)}function Eu(r,t){return r.x===t.x&&r.y===t.y}function ag(r,t,o,c){var p=d0(Es(r,t,o)),g=d0(Es(r,t,c)),b=d0(Es(o,c,r)),C=d0(Es(o,c,t));return p!==g&&b!==C||!(p!==0||!h0(r,o,t))||!(g!==0||!h0(r,c,t))||!(b!==0||!h0(o,r,c))||!(C!==0||!h0(o,t,c))}function h0(r,t,o){return t.x<=Math.max(r.x,o.x)&&t.x>=Math.min(r.x,o.x)&&t.y<=Math.max(r.y,o.y)&&t.y>=Math.min(r.y,o.y)}function d0(r){return r>0?1:r<0?-1:0}function Bp(r,t){return Es(r.prev,r,r.next)<0?Es(r,t,r.next)>=0&&Es(r,r.prev,t)>=0:Es(r,t,r.prev)<0||Es(r,r.next,t)<0}function v_(r,t){var o=new lg(r.i,r.x,r.y),c=new lg(t.i,t.x,t.y),p=r.next,g=t.prev;return r.next=t,t.prev=r,o.next=p,p.prev=o,c.next=o,o.prev=c,g.next=c,c.prev=g,c}function b_(r,t,o,c){var p=new lg(r,t,o);return c?(p.next=c.next,p.prev=c,c.next.prev=p,c.next=p):(p.prev=p,p.next=p),p}function Fp(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function lg(r,t,o){this.i=r,this.x=t,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function cg(r,t,o,c){for(var p=0,g=t,b=o-c;g<o;g+=c)p+=(r[b]-r[g])*(r[g+1]+r[b+1]),b=g;return p}function w_(r,t,o,c,p){T_(r,t,o||0,c||r.length-1,p||Yv)}function T_(r,t,o,c,p){for(;c>o;){if(c-o>600){var g=c-o+1,b=t-o+1,C=Math.log(g),B=.5*Math.exp(2*C/3),H=.5*Math.sqrt(C*B*(g-B)/g)*(b-g/2<0?-1:1);T_(r,t,Math.max(o,Math.floor(t-b*B/g+H)),Math.min(c,Math.floor(t+(g-b)*B/g+H)),p)}var he=r[t],ge=o,be=c;for(Bh(r,o,t),p(r[c],he)>0&&Bh(r,o,c);ge<be;){for(Bh(r,ge,be),ge++,be--;p(r[ge],he)<0;)ge++;for(;p(r[be],he)>0;)be--}p(r[o],he)===0?Bh(r,o,be):Bh(r,++be,c),be<=t&&(o=be+1),t<=be&&(c=be-1)}}function Bh(r,t,o){var c=r[t];r[t]=r[o],r[o]=c}function Yv(r,t){return r<t?-1:r>t?1:0}function hg(r,t){const o=r.length;if(o<=1)return[r];const c=[];let p,g;for(let b=0;b<o;b++){const C=ye(r[b]);C!==0&&(r[b].area=Math.abs(C),g===void 0&&(g=C<0),g===C<0?(p&&c.push(p),p=[r[b]]):p.push(r[b]))}if(p&&c.push(p),t>1)for(let b=0;b<c.length;b++)c[b].length<=t||(w_(c[b],t,1,c[b].length-1,qv),c[b]=c[b].slice(0,t));return c}function qv(r,t){return t.area-r.area}function dg(r,t,o){const c=o.patternDependencies;let p=!1;for(const g of t){const b=g.paint.get(`${r}-pattern`);b.isConstant()||(p=!0);const C=b.constantOr(null);C&&(p=!0,c[C]=!0)}return p}function ug(r,t,o,c,p){const g=p.patternDependencies;for(const b of t){const C=b.paint.get(`${r}-pattern`).value;if(C.kind!=="constant"){let B=C.evaluate({zoom:c},o,{},p.availableImages);B=B&&B.name?B.name:B,g[B]=!0,o.patterns[b.id]=B}}return o}Rp.exports=c0,Rp.exports.default=c0,c0.deviation=function(r,t,o,c){var p=t&&t.length,g=Math.abs(cg(r,0,p?t[0]*o:r.length,o));if(p)for(var b=0,C=t.length;b<C;b++)g-=Math.abs(cg(r,t[b]*o,b<C-1?t[b+1]*o:r.length,o));var B=0;for(b=0;b<c.length;b+=3){var H=c[b]*o,he=c[b+1]*o,ge=c[b+2]*o;B+=Math.abs((r[H]-r[ge])*(r[he+1]-r[H+1])-(r[H]-r[he])*(r[ge+1]-r[H+1]))}return g===0&&B===0?0:Math.abs((B-g)/g)},c0.flatten=function(r){for(var t=r[0][0].length,o={vertices:[],holes:[],dimensions:t},c=0,p=0;p<r.length;p++){for(var g=0;g<r[p].length;g++)for(var b=0;b<t;b++)o.vertices.push(r[p][g][b]);p>0&&o.holes.push(c+=r[p-1].length)}return o};class u0{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(o=>o.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new lr,this.indexArray=new no,this.indexArray2=new ol,this.programConfigurations=new Sc(t.layers,t.zoom),this.segments=new Ss,this.segments2=new Ss,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.projection=t.projection}populate(t,o,c,p){this.hasPattern=dg("fill",this.layers,o);const g=this.layers[0].layout.get("fill-sort-key"),b=[];for(const{feature:C,id:B,index:H,sourceLayerIndex:he}of t){const ge=this.layers[0]._featureFilter.needGeometry,be=Ec(C,ge);if(!this.layers[0]._featureFilter.filter(new Pt(this.zoom),be,c))continue;const Ce=g?g.evaluate(be,{},c,o.availableImages):void 0,De={id:B,properties:C.properties,type:C.type,sourceLayerIndex:he,index:H,geometry:ge?be.geometry:Wl(C,c,p),patterns:{},sortKey:Ce};b.push(De)}g&&b.sort((C,B)=>C.sortKey-B.sortKey);for(const C of b){const{geometry:B,index:H,sourceLayerIndex:he}=C;if(this.hasPattern){const ge=ug("fill",this.layers,C,this.zoom,o);this.patternFeatures.push(ge)}else this.addFeature(C,B,H,c,{},o.availableImages);o.featureIndex.insert(t[H].feature,B,H,he,this.index)}}update(t,o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,o,this.stateDependentLayers,c,p)}addFeatures(t,o,c,p,g){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,o,c,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Fv),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,o,c,p,g,b=[]){for(const C of hg(o,500)){let B=0;for(const De of C)B+=De.length;const H=this.segments.prepareSegment(B,this.layoutVertexArray,this.indexArray),he=H.vertexLength,ge=[],be=[];for(const De of C){if(De.length===0)continue;De!==C[0]&&be.push(ge.length/2);const Fe=this.segments2.prepareSegment(De.length,this.layoutVertexArray,this.indexArray2),Ye=Fe.vertexLength;this.layoutVertexArray.emplaceBack(De[0].x,De[0].y),this.indexArray2.emplaceBack(Ye+De.length-1,Ye),ge.push(De[0].x),ge.push(De[0].y);for(let dt=1;dt<De.length;dt++)this.layoutVertexArray.emplaceBack(De[dt].x,De[dt].y),this.indexArray2.emplaceBack(Ye+dt-1,Ye+dt),ge.push(De[dt].x),ge.push(De[dt].y);Fe.vertexLength+=De.length,Fe.primitiveLength+=De.length}const Ce=Rp.exports(ge,be);for(let De=0;De<Ce.length;De+=3)this.indexArray.emplaceBack(he+Ce[De],he+Ce[De+1],he+Ce[De+2]);H.vertexLength+=B,H.primitiveLength+=Ce.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,c,g,b,p)}}Ri(u0,"FillBucket",{omit:["layers","patternFeatures"]});const Zv=new Qi({"fill-sort-key":new Xt(ni.layout_fill["fill-sort-key"])});var Kv={paint:new Qi({"fill-antialias":new Ot(ni.paint_fill["fill-antialias"]),"fill-opacity":new Xt(ni.paint_fill["fill-opacity"]),"fill-color":new Xt(ni.paint_fill["fill-color"]),"fill-outline-color":new Xt(ni.paint_fill["fill-outline-color"]),"fill-translate":new Ot(ni.paint_fill["fill-translate"]),"fill-translate-anchor":new Ot(ni.paint_fill["fill-translate-anchor"]),"fill-pattern":new Xt(ni.paint_fill["fill-pattern"])}),layout:Zv};const Jv=Ui([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Qv=Ui([{name:"a_centroid_pos",components:2,type:"Uint16"}]),e2=Ui([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:t2}=Jv;var p0={},i2=j,S_=Mu;function Mu(r,t,o,c,p){this.properties={},this.extent=o,this.type=0,this._pbf=r,this._geometry=-1,this._keys=c,this._values=p,r.readFields(E_,this,t)}function E_(r,t,o){r==1?t.id=o.readVarint():r==2?function(c,p){for(var g=c.readVarint()+c.pos;c.pos<g;){var b=p._keys[c.readVarint()],C=p._values[c.readVarint()];p.properties[b]=C}}(o,t):r==3?t.type=o.readVarint():r==4&&(t._geometry=o.pos)}function M_(r){for(var t,o,c=0,p=0,g=r.length,b=g-1;p<g;b=p++)c+=((o=r[b]).x-(t=r[p]).x)*(t.y+o.y);return c}Mu.types=["Unknown","Point","LineString","Polygon"],Mu.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var t,o=r.readVarint()+r.pos,c=1,p=0,g=0,b=0,C=[];r.pos<o;){if(p<=0){var B=r.readVarint();c=7&B,p=B>>3}if(p--,c===1||c===2)g+=r.readSVarint(),b+=r.readSVarint(),c===1&&(t&&C.push(t),t=[]),t.push(new i2(g,b));else{if(c!==7)throw new Error("unknown command "+c);t&&t.push(t[0].clone())}}return t&&C.push(t),C},Mu.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var t=r.readVarint()+r.pos,o=1,c=0,p=0,g=0,b=1/0,C=-1/0,B=1/0,H=-1/0;r.pos<t;){if(c<=0){var he=r.readVarint();o=7&he,c=he>>3}if(c--,o===1||o===2)(p+=r.readSVarint())<b&&(b=p),p>C&&(C=p),(g+=r.readSVarint())<B&&(B=g),g>H&&(H=g);else if(o!==7)throw new Error("unknown command "+o)}return[b,B,C,H]},Mu.prototype.toGeoJSON=function(r,t,o){var c,p,g=this.extent*Math.pow(2,o),b=this.extent*r,C=this.extent*t,B=this.loadGeometry(),H=Mu.types[this.type];function he(Ce){for(var De=0;De<Ce.length;De++){var Fe=Ce[De];Ce[De]=[360*(Fe.x+b)/g-180,360/Math.PI*Math.atan(Math.exp((180-360*(Fe.y+C)/g)*Math.PI/180))-90]}}switch(this.type){case 1:var ge=[];for(c=0;c<B.length;c++)ge[c]=B[c][0];he(B=ge);break;case 2:for(c=0;c<B.length;c++)he(B[c]);break;case 3:for(B=function(Ce){var De=Ce.length;if(De<=1)return[Ce];for(var Fe,Ye,dt=[],_t=0;_t<De;_t++){var ct=M_(Ce[_t]);ct!==0&&(Ye===void 0&&(Ye=ct<0),Ye===ct<0?(Fe&&dt.push(Fe),Fe=[Ce[_t]]):Fe.push(Ce[_t]))}return Fe&&dt.push(Fe),dt}(B),c=0;c<B.length;c++)for(p=0;p<B[c].length;p++)he(B[c][p])}B.length===1?B=B[0]:H="Multi"+H;var be={type:"Feature",geometry:{type:H,coordinates:B},properties:this.properties};return"id"in this&&(be.id=this.id),be};var n2=S_,C_=A_;function A_(r,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(r2,this,t),this.length=this._features.length}function r2(r,t,o){r===15?t.version=o.readVarint():r===1?t.name=o.readString():r===5?t.extent=o.readVarint():r===2?t._features.push(o.pos):r===3?t._keys.push(o.readString()):r===4&&t._values.push(function(c){for(var p=null,g=c.readVarint()+c.pos;c.pos<g;){var b=c.readVarint()>>3;p=b===1?c.readString():b===2?c.readFloat():b===3?c.readDouble():b===4?c.readVarint64():b===5?c.readVarint():b===6?c.readSVarint():b===7?c.readBoolean():null}return p}(o))}A_.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var t=this._pbf.readVarint()+this._pbf.pos;return new n2(this._pbf,t,this.extent,this._keys,this._values)};var f0=C_;function s2(r,t,o){if(r===3){var c=new f0(o,o.readVarint()+o.pos);c.length&&(t[c.name]=c)}}var pg=p0.VectorTile=function(r,t){this.layers=r.readFields(s2,{},t)},m0=p0.VectorTileFeature=S_;function g0(r,t,o,c){const p=[],g=c===0?(b,C,B,H,he,ge)=>{b.push(new j(ge,B+(ge-C)/(H-C)*(he-B)))}:(b,C,B,H,he,ge)=>{b.push(new j(C+(ge-B)/(he-B)*(H-C),ge))};for(const b of r){const C=[];for(const B of b){if(B.length<=2)continue;const H=[];for(let be=0;be<B.length-1;be++){const Ce=B[be].x,De=B[be].y,Fe=B[be+1].x,Ye=B[be+1].y,dt=c===0?Ce:De,_t=c===0?Fe:Ye;dt<t?_t>t&&g(H,Ce,De,Fe,Ye,t):dt>o?_t<o&&g(H,Ce,De,Fe,Ye,o):H.push(B[be]),_t<t&&dt>=t&&g(H,Ce,De,Fe,Ye,t),_t>o&&dt<=o&&g(H,Ce,De,Fe,Ye,o)}let he=B[B.length-1];const ge=c===0?he.x:he.y;ge>=t&&ge<=o&&H.push(he),H.length&&(he=H[H.length-1],H[0].x===he.x&&H[0].y===he.y||H.push(H[0]),C.push(H))}C.length&&p.push(C)}return p}p0.VectorTileLayer=C_;const o2=m0.types,a2=Math.pow(2,13);function Np(r,t,o,c,p,g,b,C){r.emplaceBack((t<<1)+b,(o<<1)+g,(Math.floor(c*a2)<<1)+p,Math.round(C))}function jp(r,t,o){r.emplaceBack(t.x,t.y,t.z,o[0]*16384,o[1]*16384,o[2]*16384)}class k_{constructor(){this.acc=new j(0,0),this.polyCount=[]}startRing(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new j(t.x,t.y),this.max=new j(t.x,t.y))}append(t,o){this.currentPolyCount.edges++,this.acc._add(t);const c=this.min,p=this.max;t.x<c.x?c.x=t.x:t.x>p.x&&(p.x=t.x),t.y<c.y?c.y=t.y:t.y>p.y&&(p.y=t.y),((t.x===0||t.x===an)&&t.x===o.x)!=((t.y===0||t.y===an)&&t.y===o.y)&&this.processBorderOverlap(t,o),o.x<0!=t.x<0&&this.addBorderIntersection(0,Pn(o.y,t.y,(0-o.x)/(t.x-o.x))),o.x>an!=t.x>an&&this.addBorderIntersection(1,Pn(o.y,t.y,(an-o.x)/(t.x-o.x))),o.y<0!=t.y<0&&this.addBorderIntersection(2,Pn(o.x,t.x,(0-o.y)/(t.y-o.y))),o.y>an!=t.y>an&&this.addBorderIntersection(3,Pn(o.x,t.x,(an-o.y)/(t.y-o.y)))}addBorderIntersection(t,o){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const c=this.borders[t];o<c[0]&&(c[0]=o),o>c[1]&&(c[1]=o)}processBorderOverlap(t,o){if(t.x===o.x){if(t.y===o.y)return;const c=t.x===0?0:1;this.addBorderIntersection(c,o.y),this.addBorderIntersection(c,t.y)}else{const c=t.y===0?2:3;this.addBorderIntersection(c,o.x),this.addBorderIntersection(c,t.x)}}centroid(){const t=this.polyCount.reduce((o,c)=>o+c.edges,0);return t!==0?this.acc.div(t)._round():new j(0,0)}span(){return new j(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((t,o)=>t+ +(o[0]!==Number.MAX_VALUE),0)}}class Up{constructor(t){this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(o=>o.id),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.layoutVertexArray=new yr,this.centroidVertexArray=new Jf,this.indexArray=new no,this.programConfigurations=new Sc(t.layers,t.zoom),this.segments=new Ss,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.enableTerrain=t.enableTerrain}populate(t,o,c,p){this.features=[],this.hasPattern=dg("fill-extrusion",this.layers,o),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(g){const b=Math.exp(Math.PI*(1-g.y/(1<<g.z)*2));return 80150034*b/(b*b+1)/an/(1<<g.z)}(c),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:g,id:b,index:C,sourceLayerIndex:B}of t){const H=this.layers[0]._featureFilter.needGeometry,he=Ec(g,H);if(!this.layers[0]._featureFilter.filter(new Pt(this.zoom),he,c))continue;const ge={id:b,sourceLayerIndex:B,index:C,geometry:H?he.geometry:Wl(g,c,p),properties:g.properties,type:g.type,patterns:{}},be=this.layoutVertexArray.length;this.hasPattern?this.features.push(ug("fill-extrusion",this.layers,ge,this.zoom,o)):this.addFeature(ge,ge.geometry,C,c,{},o.availableImages,p),o.featureIndex.insert(g,ge.geometry,C,B,this.index,be)}this.sortBorders()}addFeatures(t,o,c,p,g){for(const b of this.features){const{geometry:C}=b;this.addFeature(b,C,b.index,o,c,p,g)}this.sortBorders()}update(t,o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,o,this.stateDependentLayers,c,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,t2),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=t.createVertexBuffer(this.layoutVertexExtArray,e2.members,!0))),this.programConfigurations.upload(t),this.uploaded=!0}uploadCentroid(t){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,Qv.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,o,c,p,g,b,C){const B=[new j(0,0),new j(an,an)],H=C.projection,he=H.name==="globe",ge=this.enableTerrain&&!he?new k_:null,be=o2[t.type]==="Polygon";he&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Rr);const Ce=hg(o,500);for(let dt=Ce.length-1;dt>=0;dt--){const _t=Ce[dt];(_t.length===0||(De=_t[0]).every(ct=>ct.x<=0)||De.every(ct=>ct.x>=an)||De.every(ct=>ct.y<=0)||De.every(ct=>ct.y>=an))&&Ce.splice(dt,1)}var De;let Fe;if(he)Fe=_g(Ce,B,p);else{Fe=[];for(const dt of Ce)Fe.push({polygon:dt,bounds:B})}const Ye=be?this.edgeRadius:0;for(const{polygon:dt,bounds:_t}of Fe){let ct=0,ft=0;for(const vt of dt)be&&!vt[0].equals(vt[vt.length-1])&&vt.push(vt[0]),ft+=be?vt.length-1:vt.length;const Tt=this.segments.prepareSegment((be?5:4)*ft,this.layoutVertexArray,this.indexArray);if(be){const vt=[],Ht=[];ct=Tt.vertexLength;for(const oi of dt){let Ei,Zt;oi.length&&oi!==dt[0]&&Ht.push(vt.length/2),Ei=oi[1].sub(oi[0])._perp()._unit();for(let ai=1;ai<oi.length;ai++){const ui=oi[ai],gi=oi[ai===oi.length-1?1:ai+1];let{x:Mi,y:Jt}=ui;if(Ye){Zt=gi.sub(ui)._perp()._unit();const Pi=Ei.add(Zt)._unit(),hn=Ye*Math.min(4,1/(Ei.x*Pi.x+Ei.y*Pi.y));Mi+=hn*Pi.x,Jt+=hn*Pi.y,Ei=Zt}Np(this.layoutVertexArray,Mi,Jt,0,0,1,1,0),Tt.vertexLength++,vt.push(ui.x,ui.y),he&&jp(this.layoutVertexExtArray,H.projectTilePoint(Mi,Jt,p),H.upVector(p,Mi,Jt))}}const Wt=Rp.exports(vt,Ht);for(let oi=0;oi<Wt.length;oi+=3)this.indexArray.emplaceBack(ct+Wt[oi],ct+Wt[oi+2],ct+Wt[oi+1]),Tt.primitiveLength++}for(const vt of dt){ge&&vt.length&&ge.startRing(vt[0]);let Ht,Wt,oi,Ei=vt.length>4&&mg(vt[vt.length-2],vt[0],vt[1]),Zt=Ye?_0(vt[vt.length-2],vt[0],vt[1],Ye):0;Wt=vt[1].sub(vt[0])._perp()._unit();let ai=!0;for(let ui=1,gi=0;ui<vt.length;ui++){let Mi=vt[ui-1],Jt=vt[ui];const Pi=vt[ui===vt.length-1?1:ui+1];if(ge&&be&&ge.currentPolyCount.top++,fg(Jt,Mi,_t)){Ye&&(Wt=Pi.sub(Jt)._perp()._unit(),ai=!ai);continue}ge&&ge.append(Jt,Mi);const hn=Jt.sub(Mi)._perp(),Ni=hn.x/(Math.abs(hn.x)+Math.abs(hn.y)),qi=hn.y>0?1:0,Di=Mi.dist(Jt);if(gi+Di>32768&&(gi=0),Ye){oi=Pi.sub(Jt)._perp()._unit();let Un=D_(Mi,Jt,Pi,P_(Wt,oi),Ye);isNaN(Un)&&(Un=0);const xn=Jt.sub(Mi)._unit();Mi=Mi.add(xn.mult(Zt))._round(),Jt=Jt.add(xn.mult(-Un))._round(),Zt=Un,Wt=oi}const fn=Tt.vertexLength,Yn=vt.length>4&&mg(Mi,Jt,Pi);let Wn=y0(gi,Ei,ai);if(Np(this.layoutVertexArray,Mi.x,Mi.y,Ni,qi,0,0,Wn),Np(this.layoutVertexArray,Mi.x,Mi.y,Ni,qi,0,1,Wn),gi+=Di,Wn=y0(gi,Yn,!ai),Ei=Yn,Np(this.layoutVertexArray,Jt.x,Jt.y,Ni,qi,0,0,Wn),Np(this.layoutVertexArray,Jt.x,Jt.y,Ni,qi,0,1,Wn),Tt.vertexLength+=4,this.indexArray.emplaceBack(fn+0,fn+1,fn+2),this.indexArray.emplaceBack(fn+1,fn+3,fn+2),Tt.primitiveLength+=2,Ye){const Un=ct+(ui===1?vt.length-2:ui-2),xn=ui===1?ct:Un+1;if(this.indexArray.emplaceBack(fn+1,Un,fn+3),this.indexArray.emplaceBack(Un,xn,fn+3),Tt.primitiveLength+=2,Ht===void 0&&(Ht=fn),!fg(Pi,vt[ui],_t)){const kr=ui===vt.length-1?Ht:Tt.vertexLength;this.indexArray.emplaceBack(fn+2,fn+3,kr),this.indexArray.emplaceBack(fn+3,kr+1,kr),this.indexArray.emplaceBack(fn+3,xn,kr+1),Tt.primitiveLength+=3}ai=!ai}if(he){const Un=this.layoutVertexExtArray,xn=H.projectTilePoint(Mi.x,Mi.y,p),kr=H.projectTilePoint(Jt.x,Jt.y,p),kn=H.upVector(p,Mi.x,Mi.y),qn=H.upVector(p,Jt.x,Jt.y);jp(Un,xn,kn),jp(Un,xn,kn),jp(Un,kr,qn),jp(Un,kr,qn)}}be&&(ct+=vt.length-1)}}if(ge&&ge.polyCount.length>0){if(ge.borders){ge.vertexArrayOffset=this.centroidVertexArray.length;const dt=ge.borders,_t=this.featuresOnBorder.push(ge)-1;for(let ct=0;ct<4;ct++)dt[ct][0]!==Number.MAX_VALUE&&this.borders[ct].push(_t)}this.encodeCentroid(ge.borders?void 0:ge.centroid(),ge)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,c,g,b,p)}sortBorders(){for(let t=0;t<4;t++)this.borders[t].sort((o,c)=>this.featuresOnBorder[o].borders[t][0]-this.featuresOnBorder[c].borders[t][0])}encodeCentroid(t,o,c=!0){let p,g;if(t)if(t.y!==0){const C=o.span()._mult(this.tileToMeter);p=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(C.x/10)),g=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(C.y/10))}else p=Math.ceil(7*(t.x+450)),g=0;else p=0,g=+c;let b=c?this.centroidVertexArray.length:o.vertexArrayOffset;for(const C of o.polyCount){c&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*C.edges+C.top);for(let B=0;B<C.top;B++)this.centroidVertexArray.emplace(b++,p,g);for(let B=0;B<2*C.edges;B++)this.centroidVertexArray.emplace(b++,0,g),this.centroidVertexArray.emplace(b++,p,g)}}}function P_(r,t){const o=r.add(t)._unit();return r.x*o.x+r.y*o.y}function _0(r,t,o,c){const p=t.sub(r)._perp()._unit(),g=o.sub(t)._perp()._unit();return D_(r,t,o,P_(p,g),c)}function D_(r,t,o,c,p){const g=Math.sqrt(1-c*c);return Math.min(r.dist(t)/3,t.dist(o)/3,p*g/c)}function fg(r,t,o){return r.x<o[0].x&&t.x<o[0].x||r.x>o[1].x&&t.x>o[1].x||r.y<o[0].y&&t.y<o[0].y||r.y>o[1].y&&t.y>o[1].y}function mg(r,t,o){if(r.x<0||r.x>=an||t.x<0||t.x>=an||o.x<0||o.x>=an)return!1;const c=o.sub(t),p=c.perp(),g=r.sub(t);return(c.x*g.x+c.y*g.y)/Math.sqrt((c.x*c.x+c.y*c.y)*(g.x*g.x+g.y*g.y))>-.866&&p.x*g.x+p.y*g.y<0}function y0(r,t,o){const c=t?2|r:-3&r;return o?1|c:-2&c}function gg(){const r=Math.PI/32,t=Math.tan(r),o=yd;return o*Math.sqrt(1+2*t*t)-o}function _g(r,t,o){const c=1<<o.z,p=oa(o.x/c),g=oa((o.x+1)/c),b=fo(o.y/c),C=fo((o.y+1)/c);return function(B,H,he,ge,be=0,Ce){const De=[];if(!B.length||!he||!ge)return De;const Fe=(vt,Ht)=>{for(const Wt of vt)De.push({polygon:Wt,bounds:Ht})},Ye=Math.ceil(Math.log2(he)),dt=Math.ceil(Math.log2(ge)),_t=Ye-dt,ct=[];for(let vt=0;vt<Math.abs(_t);vt++)ct.push(_t>0?0:1);for(let vt=0;vt<Math.min(Ye,dt);vt++)ct.push(0),ct.push(1);let ft=B;if(ft=g0(ft,H[0].y-be,H[1].y+be,1),ft=g0(ft,H[0].x-be,H[1].x+be,0),!ft.length)return De;const Tt=[];for(ct.length?Tt.push({polygons:ft,bounds:H,depth:0}):Fe(ft,H);Tt.length;){const vt=Tt.pop(),Ht=vt.depth,Wt=ct[Ht],oi=vt.bounds[0],Ei=vt.bounds[1],Zt=Wt===0?oi.x:oi.y,ai=Wt===0?Ei.x:Ei.y,ui=Ce?Ce(Wt,Zt,ai):.5*(Zt+ai),gi=g0(vt.polygons,Zt-be,ui+be,Wt),Mi=g0(vt.polygons,ui-be,ai+be,Wt);if(gi.length){const Jt=[oi,new j(Wt===0?ui:Ei.x,Wt===1?ui:Ei.y)];ct.length>Ht+1?Tt.push({polygons:gi,bounds:Jt,depth:Ht+1}):Fe(gi,Jt)}if(Mi.length){const Jt=[new j(Wt===0?ui:oi.x,Wt===1?ui:oi.y),Ei];ct.length>Ht+1?Tt.push({polygons:Mi,bounds:Jt,depth:Ht+1}):Fe(Mi,Jt)}}return De}(r,t,Math.ceil((g-p)/11.25),Math.ceil((b-C)/11.25),1,(B,H,he)=>{if(B===0)return .5*(H+he);{const ge=fo((o.y+H/an)/c);return(Ga(.5*(fo((o.y+he/an)/c)+ge))*c-o.y)*an}})}Ri(Up,"FillExtrusionBucket",{omit:["layers","features"]}),Ri(k_,"PartMetadata");const I_=new Qi({"fill-extrusion-edge-radius":new Ot(ni["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var L_={paint:new Qi({"fill-extrusion-opacity":new Ot(ni["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Xt(ni["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ot(ni["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ot(ni["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Xt(ni["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Xt(ni["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Xt(ni["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ot(ni["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Ot(ni["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Ot(ni["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:I_};function O_(r,t,o){var c=2*Math.PI*6378137/256/Math.pow(2,o);return[r*c-2*Math.PI*6378137/2,t*c-2*Math.PI*6378137/2]}class x0{constructor(t,o,c){this.z=t,this.x=o,this.y=c,this.key=Fh(0,t,t,o,c)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,o){const c=function(g,b,C){var B=O_(256*g,256*(b=Math.pow(2,C)-b-1),C),H=O_(256*(g+1),256*(b+1),C);return B[0]+","+B[1]+","+H[0]+","+H[1]}(this.x,this.y,this.z),p=function(g,b,C){let B,H="";for(let he=g;he>0;he--)B=1<<he-1,H+=(b&B?1:0)+(C&B?2:0);return H}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(o==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",c)}toString(){return`${this.z}/${this.x}/${this.y}`}}class R_{constructor(t,o){this.wrap=t,this.canonical=o,this.key=Fh(t,o.z,o.z,o.x,o.y)}}class ro{constructor(t,o,c,p,g){this.overscaledZ=t,this.wrap=o,this.canonical=new x0(c,+p,+g),this.key=o===0&&t===c?this.canonical.key:Fh(o,t,c,p,g)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const o=this.canonical.z-t;return t>this.canonical.z?new ro(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ro(t,this.wrap,t,this.canonical.x>>o,this.canonical.y>>o)}calculateScaledKey(t,o=!0){if(this.overscaledZ===t&&o)return this.key;if(t>this.canonical.z)return Fh(this.wrap*+o,t,this.canonical.z,this.canonical.x,this.canonical.y);{const c=this.canonical.z-t;return Fh(this.wrap*+o,t,t,this.canonical.x>>c,this.canonical.y>>c)}}isChildOf(t){if(t.wrap!==this.wrap)return!1;const o=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>o&&t.canonical.y===this.canonical.y>>o}children(t){if(this.overscaledZ>=t)return[new ro(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const o=this.canonical.z+1,c=2*this.canonical.x,p=2*this.canonical.y;return[new ro(o,this.wrap,o,c,p),new ro(o,this.wrap,o,c+1,p),new ro(o,this.wrap,o,c,p+1),new ro(o,this.wrap,o,c+1,p+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new ro(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new ro(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new R_(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Fh(r,t,o,c,p){const g=1<<Math.min(o,22);let b=g*(p%g)+c%g;return r&&o<22&&(b+=g*g*((r<0?-2*r-1:2*r)%(1<<2*(22-o)))),16*(32*b+o)+(t-o)}Ri(x0,"CanonicalTileID"),Ri(ro,"OverscaledTileID",{omit:["projMatrix"]});class Cu extends j{constructor(t,o,c){super(t,o),this.z=c}}function Gp(r,t){return r.x*t.x+r.y*t.y}function v0(r,t){if(r.length===1){let o=0;const c=t[o++];let p;for(;!p||c.equals(p);)if(p=t[o++],!p)return 1/0;for(;o<t.length;o++){const g=t[o],b=r[0],C=p.sub(c),B=g.sub(c),H=b.sub(c),he=Gp(C,C),ge=Gp(C,B),be=Gp(B,B),Ce=Gp(H,C),De=Gp(H,B),Fe=he*be-ge*ge,Ye=(be*Ce-ge*De)/Fe,dt=(he*De-ge*Ce)/Fe,_t=c.z*(1-Ye-dt)+p.z*Ye+g.z*dt;if(isFinite(_t))return _t}return 1/0}{let o=1/0;for(const c of t)o=Math.min(o,c.z);return o}}function yg(r,t,o,c,p,g,b,C){const B=b*p.getElevationAt(r,t,!0,!0),H=g[0]!==0,he=H?g[1]===0?b*(g[0]/7-450):b*function(ge,be,Ce){const De=Math.floor(be[0]/8),Fe=Math.floor(be[1]/8),Ye=10*(be[0]-8*De),dt=10*(be[1]-8*Fe),_t=ge.getElevationAt(De,Fe,!0,!0),ct=ge.getMeterToDEM(Ce),ft=Math.floor(.5*(Ye*ct-1)),Tt=Math.floor(.5*(dt*ct-1)),vt=ge.tileCoordToPixel(De,Fe),Ht=2*ft+1,Wt=2*Tt+1,oi=function(Mi,Jt,Pi,hn,Ni){return[Mi.getElevationAtPixel(Jt,Pi,!0),Mi.getElevationAtPixel(Jt+Ni,Pi,!0),Mi.getElevationAtPixel(Jt,Pi+Ni,!0),Mi.getElevationAtPixel(Jt+hn,Pi+Ni,!0)]}(ge,vt.x-ft,vt.y-Tt,Ht,Wt),Ei=Math.abs(oi[0]-oi[1]),Zt=Math.abs(oi[2]-oi[3]),ai=Math.abs(oi[0]-oi[2])+Math.abs(oi[1]-oi[3]),ui=Math.min(.25,.5*ct*(Ei+Zt)/Ht),gi=Math.min(.25,.5*ct*ai/Wt);return _t+Math.max(ui*Ye,gi*dt)}(p,g,C):B;return{base:B+(o===0)?-1:o,top:H?Math.max(he+c,B+o+2):B+c}}const l2=Ui([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:c2}=l2,h2=Ui([{name:"a_packed",components:4,type:"Float32"}]),{members:d2}=h2,u2=m0.types,p2=Math.cos(Math.PI/180*37.5);class b0{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(o=>o.id),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(o=>{this.gradients[o.id]={}}),this.layoutVertexArray=new Vo,this.layoutVertexArray2=new Eo,this.indexArray=new no,this.programConfigurations=new Sc(t.layers,t.zoom),this.segments=new Ss,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(t,o,c,p){this.hasPattern=dg("line",this.layers,o);const g=this.layers[0].layout.get("line-sort-key"),b=[];for(const{feature:he,id:ge,index:be,sourceLayerIndex:Ce}of t){const De=this.layers[0]._featureFilter.needGeometry,Fe=Ec(he,De);if(!this.layers[0]._featureFilter.filter(new Pt(this.zoom),Fe,c))continue;const Ye=g?g.evaluate(Fe,{},c):void 0,dt={id:ge,properties:he.properties,type:he.type,sourceLayerIndex:Ce,index:be,geometry:De?Fe.geometry:Wl(he,c,p),patterns:{},sortKey:Ye};b.push(dt)}g&&b.sort((he,ge)=>he.sortKey-ge.sortKey);const{lineAtlas:C,featureIndex:B}=o,H=this.addConstantDashes(C);for(const he of b){const{geometry:ge,index:be,sourceLayerIndex:Ce}=he;if(H&&this.addFeatureDashes(he,C),this.hasPattern){const De=ug("line",this.layers,he,this.zoom,o);this.patternFeatures.push(De)}else this.addFeature(he,ge,be,c,C.positions,o.availableImages);B.insert(t[be].feature,ge,be,Ce,this.index)}}addConstantDashes(t){let o=!1;for(const c of this.layers){const p=c.paint.get("line-dasharray").value,g=c.layout.get("line-cap").value;if(p.kind!=="constant"||g.kind!=="constant")o=!0;else{const b=g.value,C=p.value;if(!C)continue;t.addDash(C,b)}}return o}addFeatureDashes(t,o){const c=this.zoom;for(const p of this.layers){const g=p.paint.get("line-dasharray").value,b=p.layout.get("line-cap").value;if(g.kind==="constant"&&b.kind==="constant")continue;let C,B;if(g.kind==="constant"){if(C=g.value,!C)continue}else C=g.evaluate({zoom:c},t);B=b.kind==="constant"?b.value:b.evaluate({zoom:c},t),o.addDash(C,B),t.patterns[p.id]=o.getKey(C,B)}}update(t,o,c,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,o,this.stateDependentLayers,c,p)}addFeatures(t,o,c,p,g){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,o,c,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,d2)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,c2),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,o,c,p,g,b){const C=this.layers[0].layout,B=C.get("line-join").evaluate(t,{}),H=C.get("line-cap").evaluate(t,{}),he=C.get("line-miter-limit"),ge=C.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const be of o)this.addLine(be,t,B,H,he,ge);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,c,g,b,p)}addLine(t,o,c,p,g,b){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let dt=0;dt<t.length-1;dt++)this.totalDistance+=t[dt].dist(t[dt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const C=u2[o.type]==="Polygon";let B=t.length;for(;B>=2&&t[B-1].equals(t[B-2]);)B--;let H=0;for(;H<B-1&&t[H].equals(t[H+1]);)H++;if(B<(C?3:2))return;c==="bevel"&&(g=1.05);const he=this.overscaling<=16?122880/(512*this.overscaling):0,ge=this.segments.prepareSegment(10*B,this.layoutVertexArray,this.indexArray);let be,Ce,De,Fe,Ye;this.e1=this.e2=-1,C&&(be=t[B-2],Ye=t[H].sub(be)._unit()._perp());for(let dt=H;dt<B;dt++){if(De=dt===B-1?C?t[H+1]:void 0:t[dt+1],De&&t[dt].equals(De))continue;Ye&&(Fe=Ye),be&&(Ce=be),be=t[dt],Ye=De?De.sub(be)._unit()._perp():Fe,Fe=Fe||Ye;let _t=Fe.add(Ye);_t.x===0&&_t.y===0||_t._unit();const ct=Fe.x*Ye.x+Fe.y*Ye.y,ft=_t.x*Ye.x+_t.y*Ye.y,Tt=ft!==0?1/ft:1/0,vt=2*Math.sqrt(2-2*ft),Ht=ft<p2&&Ce&&De,Wt=Fe.x*Ye.y-Fe.y*Ye.x>0;if(Ht&&dt>H){const Zt=be.dist(Ce);if(Zt>2*he){const ai=be.sub(be.sub(Ce)._mult(he/Zt)._round());this.updateDistance(Ce,ai),this.addCurrentVertex(ai,Fe,0,0,ge),Ce=ai}}const oi=Ce&&De;let Ei=oi?c:C?"butt":p;if(oi&&Ei==="round"&&(Tt<b?Ei="miter":Tt<=2&&(Ei="fakeround")),Ei==="miter"&&Tt>g&&(Ei="bevel"),Ei==="bevel"&&(Tt>2&&(Ei="flipbevel"),Tt<g&&(Ei="miter")),Ce&&this.updateDistance(Ce,be),Ei==="miter")_t._mult(Tt),this.addCurrentVertex(be,_t,0,0,ge);else if(Ei==="flipbevel"){if(Tt>100)_t=Ye.mult(-1);else{const Zt=Tt*Fe.add(Ye).mag()/Fe.sub(Ye).mag();_t._perp()._mult(Zt*(Wt?-1:1))}this.addCurrentVertex(be,_t,0,0,ge),this.addCurrentVertex(be,_t.mult(-1),0,0,ge)}else if(Ei==="bevel"||Ei==="fakeround"){const Zt=-Math.sqrt(Tt*Tt-1),ai=Wt?Zt:0,ui=Wt?0:Zt;if(Ce&&this.addCurrentVertex(be,Fe,ai,ui,ge),Ei==="fakeround"){const gi=Math.round(180*vt/Math.PI/20);for(let Mi=1;Mi<gi;Mi++){let Jt=Mi/gi;if(Jt!==.5){const hn=Jt-.5;Jt+=Jt*hn*(Jt-1)*((1.0904+ct*(ct*(3.55645-1.43519*ct)-3.2452))*hn*hn+(.848013+ct*(.215638*ct-1.06021)))}const Pi=Ye.sub(Fe)._mult(Jt)._add(Fe)._unit()._mult(Wt?-1:1);this.addHalfVertex(be,Pi.x,Pi.y,!1,Wt,0,ge)}}De&&this.addCurrentVertex(be,Ye,-ai,-ui,ge)}else if(Ei==="butt")this.addCurrentVertex(be,_t,0,0,ge);else if(Ei==="square"){const Zt=Ce?1:-1;Ce||this.addCurrentVertex(be,_t,Zt,Zt,ge),this.addCurrentVertex(be,_t,0,0,ge),Ce&&this.addCurrentVertex(be,_t,Zt,Zt,ge)}else Ei==="round"&&(Ce&&(this.addCurrentVertex(be,Fe,0,0,ge),this.addCurrentVertex(be,Fe,1,1,ge,!0)),De&&(this.addCurrentVertex(be,Ye,-1,-1,ge,!0),this.addCurrentVertex(be,Ye,0,0,ge)));if(Ht&&dt<B-1){const Zt=be.dist(De);if(Zt>2*he){const ai=be.add(De.sub(be)._mult(he/Zt)._round());this.updateDistance(be,ai),this.addCurrentVertex(ai,Ye,0,0,ge),be=ai}}}}addCurrentVertex(t,o,c,p,g,b=!1){const C=o.y*p-o.x,B=-o.y-o.x*p;this.addHalfVertex(t,o.x+o.y*c,o.y-o.x*c,b,!1,c,g),this.addHalfVertex(t,C,B,b,!0,-p,g)}addHalfVertex({x:t,y:o},c,p,g,b,C,B){this.layoutVertexArray.emplaceBack((t<<1)+(g?1:0),(o<<1)+(b?1:0),Math.round(63*c)+128,Math.round(63*p)+128,1+(C===0?0:C<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const H=B.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,H),B.primitiveLength++),b?this.e2=H:this.e1=H}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(t,o){this.distance+=t.dist(o),this.updateScaledDistance()}}Ri(b0,"LineBucket",{omit:["layers","patternFeatures"]});const f2=new Qi({"line-cap":new Xt(ni.layout_line["line-cap"]),"line-join":new Xt(ni.layout_line["line-join"]),"line-miter-limit":new Ot(ni.layout_line["line-miter-limit"]),"line-round-limit":new Ot(ni.layout_line["line-round-limit"]),"line-sort-key":new Xt(ni.layout_line["line-sort-key"])});var z_={paint:new Qi({"line-opacity":new Xt(ni.paint_line["line-opacity"]),"line-color":new Xt(ni.paint_line["line-color"]),"line-translate":new Ot(ni.paint_line["line-translate"]),"line-translate-anchor":new Ot(ni.paint_line["line-translate-anchor"]),"line-width":new Xt(ni.paint_line["line-width"]),"line-gap-width":new Xt(ni.paint_line["line-gap-width"]),"line-offset":new Xt(ni.paint_line["line-offset"]),"line-blur":new Xt(ni.paint_line["line-blur"]),"line-dasharray":new Xt(ni.paint_line["line-dasharray"]),"line-pattern":new Xt(ni.paint_line["line-pattern"]),"line-gradient":new Vi(ni.paint_line["line-gradient"]),"line-trim-offset":new Ot(ni.paint_line["line-trim-offset"])}),layout:f2};const B_=new class extends Xt{possiblyEvaluate(r,t){return t=new Pt(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(r,t)}evaluate(r,t,o,c){return t=K({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(r,t,o,c)}}(z_.paint.properties["line-width"].specification);function F_(r,t){return t>0?t+2*r:r}B_.useIntegerZoom=!0;const m2=Ui([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Xl=Ui([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),g2=Ui([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ui([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const _2=Ui([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Cd=Ui([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Ui([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const jn=Ui([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),y2=Ui([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ui([{name:"triangle",components:3,type:"Uint16"}]),Ui([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ui([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ui([{type:"Float32",name:"offsetX"}]),Ui([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Br=24;const Gr=128;function xg(r,t){const{expression:o}=t;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new Pt(r+1))};if(o.kind==="source")return{kind:"source"};{const{zoomStops:c,interpolationType:p}=o;let g=0;for(;g<c.length&&c[g]<=r;)g++;g=Math.max(0,g-1);let b=g;for(;b<c.length&&c[b]<r+1;)b++;b=Math.min(c.length-1,b);const C=c[g],B=c[b];return o.kind==="composite"?{kind:"composite",minZoom:C,maxZoom:B,interpolationType:p}:{kind:"camera",minZoom:C,maxZoom:B,minSize:o.evaluate(new Pt(C)),maxSize:o.evaluate(new Pt(B)),interpolationType:p}}}function Yl(r,{uSize:t,uSizeT:o},{lowerSize:c,upperSize:p}){return r.kind==="source"?c/Gr:r.kind==="composite"?Pn(c/Gr,p/Gr,o):t}function Au(r,t){let o=0,c=0;if(r.kind==="constant")c=r.layoutSize;else if(r.kind!=="source"){const{interpolationType:p,minZoom:g,maxZoom:b}=r,C=p?v(ma.interpolationFactor(p,t,g,b),0,1):0;r.kind==="camera"?c=Pn(r.minSize,r.maxSize,C):o=C}return{uSizeT:o,uSize:c}}var x2=Object.freeze({__proto__:null,getSizeData:xg,evaluateSizeForFeature:Yl,evaluateSizeForZoom:Au,SIZE_PACK_FACTOR:Gr});function v2(r,t,o){return r.sections.forEach(c=>{c.text=function(p,g,b){const C=g.layout.get("text-transform").evaluate(b,{});return C==="uppercase"?p=p.toLocaleUpperCase():C==="lowercase"&&(p=p.toLocaleLowerCase()),Ft.applyArabicShaping&&(p=Ft.applyArabicShaping(p)),p}(c.text,t,o)}),r}const Vp={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function b2(r){return r==="︶"||r==="﹈"||r==="︸"||r==="﹄"||r==="﹂"||r==="︾"||r==="︼"||r==="︺"||r==="︘"||r==="﹀"||r==="︐"||r==="︓"||r==="︔"||r==="｀"||r==="￣"||r==="︑"||r==="︒"}function vg(r){return r==="︵"||r==="﹇"||r==="︷"||r==="﹃"||r==="﹁"||r==="︽"||r==="︻"||r==="︹"||r==="︗"||r==="︿"}var Wp=wr,Ac=function(r,t,o,c,p){var g,b,C=8*p-c-1,B=(1<<C)-1,H=B>>1,he=-7,ge=o?p-1:0,be=o?-1:1,Ce=r[t+ge];for(ge+=be,g=Ce&(1<<-he)-1,Ce>>=-he,he+=C;he>0;g=256*g+r[t+ge],ge+=be,he-=8);for(b=g&(1<<-he)-1,g>>=-he,he+=c;he>0;b=256*b+r[t+ge],ge+=be,he-=8);if(g===0)g=1-H;else{if(g===B)return b?NaN:1/0*(Ce?-1:1);b+=Math.pow(2,c),g-=H}return(Ce?-1:1)*b*Math.pow(2,g-c)},bg=function(r,t,o,c,p,g){var b,C,B,H=8*g-p-1,he=(1<<H)-1,ge=he>>1,be=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ce=c?0:g-1,De=c?1:-1,Fe=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(C=isNaN(t)?1:0,b=he):(b=Math.floor(Math.log(t)/Math.LN2),t*(B=Math.pow(2,-b))<1&&(b--,B*=2),(t+=b+ge>=1?be/B:be*Math.pow(2,1-ge))*B>=2&&(b++,B/=2),b+ge>=he?(C=0,b=he):b+ge>=1?(C=(t*B-1)*Math.pow(2,p),b+=ge):(C=t*Math.pow(2,ge-1)*Math.pow(2,p),b=0));p>=8;r[o+Ce]=255&C,Ce+=De,C/=256,p-=8);for(b=b<<p|C,H+=p;H>0;r[o+Ce]=255&b,Ce+=De,b/=256,H-=8);r[o+Ce-De]|=128*Fe};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function wr(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}wr.Varint=0,wr.Fixed64=1,wr.Bytes=2,wr.Fixed32=5;var us=4294967296,Ms=1/us,wg=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function ih(r){return r.type===wr.Bytes?r.readVarint()+r.pos:r.pos+1}function ku(r,t,o){return o?4294967296*t+(r>>>0):4294967296*(t>>>0)+(r>>>0)}function N_(r,t,o){var c=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));o.realloc(c);for(var p=o.pos-1;p>=r;p--)o.buf[p+c]=o.buf[p]}function w2(r,t){for(var o=0;o<r.length;o++)t.writeVarint(r[o])}function T2(r,t){for(var o=0;o<r.length;o++)t.writeSVarint(r[o])}function S2(r,t){for(var o=0;o<r.length;o++)t.writeFloat(r[o])}function j_(r,t){for(var o=0;o<r.length;o++)t.writeDouble(r[o])}function Hp(r,t){for(var o=0;o<r.length;o++)t.writeBoolean(r[o])}function Tg(r,t){for(var o=0;o<r.length;o++)t.writeFixed32(r[o])}function E2(r,t){for(var o=0;o<r.length;o++)t.writeSFixed32(r[o])}function U_(r,t){for(var o=0;o<r.length;o++)t.writeFixed64(r[o])}function w0(r,t){for(var o=0;o<r.length;o++)t.writeSFixed64(r[o])}function qo(r,t){return(r[t]|r[t+1]<<8|r[t+2]<<16)+16777216*r[t+3]}function ql(r,t,o){r[o]=t,r[o+1]=t>>>8,r[o+2]=t>>>16,r[o+3]=t>>>24}function G_(r,t){return(r[t]|r[t+1]<<8|r[t+2]<<16)+(r[t+3]<<24)}function M2(r,t,o){t.glyphs=[],r===1&&o.readMessage(C2,t)}function C2(r,t,o){if(r===3){const{id:c,bitmap:p,width:g,height:b,left:C,top:B,advance:H}=o.readMessage(A2,{});t.glyphs.push({id:c,bitmap:new th({width:g+6,height:b+6},p),metrics:{width:g,height:b,left:C,top:B,advance:H}})}else r===4?t.ascender=o.readSVarint():r===5&&(t.descender=o.readSVarint())}function A2(r,t,o){r===1?t.id=o.readVarint():r===2?t.bitmap=o.readBytes():r===3?t.width=o.readVarint():r===4?t.height=o.readVarint():r===5?t.left=o.readSVarint():r===6?t.top=o.readSVarint():r===7&&(t.advance=o.readVarint())}function Sg(r){let t=0,o=0;for(const b of r)t+=b.w*b.h,o=Math.max(o,b.w);r.sort((b,C)=>C.h-b.h);const c=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),o),h:1/0}];let p=0,g=0;for(const b of r)for(let C=c.length-1;C>=0;C--){const B=c[C];if(!(b.w>B.w||b.h>B.h)){if(b.x=B.x,b.y=B.y,g=Math.max(g,b.y+b.h),p=Math.max(p,b.x+b.w),b.w===B.w&&b.h===B.h){const H=c.pop();C<c.length&&(c[C]=H)}else b.h===B.h?(B.x+=b.w,B.w-=b.w):b.w===B.w?(B.y+=b.h,B.h-=b.h):(c.push({x:B.x+b.w,y:B.y,w:B.w-b.w,h:b.h}),B.y+=b.h,B.h-=b.h);break}}return{w:p,h:g,fill:t/(p*g)||0}}wr.prototype={destroy:function(){this.buf=null},readFields:function(r,t,o){for(o=o||this.length;this.pos<o;){var c=this.readVarint(),p=c>>3,g=this.pos;this.type=7&c,r(p,t,this),this.pos===g&&this.skip(c)}return t},readMessage:function(r,t){return this.readFields(r,t,this.readVarint()+this.pos)},readFixed32:function(){var r=qo(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=G_(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=qo(this.buf,this.pos)+qo(this.buf,this.pos+4)*us;return this.pos+=8,r},readSFixed64:function(){var r=qo(this.buf,this.pos)+G_(this.buf,this.pos+4)*us;return this.pos+=8,r},readFloat:function(){var r=Ac(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=Ac(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var t,o,c=this.buf;return t=127&(o=c[this.pos++]),o<128?t:(t|=(127&(o=c[this.pos++]))<<7,o<128?t:(t|=(127&(o=c[this.pos++]))<<14,o<128?t:(t|=(127&(o=c[this.pos++]))<<21,o<128?t:function(p,g,b){var C,B,H=b.buf;if(C=(112&(B=H[b.pos++]))>>4,B<128||(C|=(127&(B=H[b.pos++]))<<3,B<128)||(C|=(127&(B=H[b.pos++]))<<10,B<128)||(C|=(127&(B=H[b.pos++]))<<17,B<128)||(C|=(127&(B=H[b.pos++]))<<24,B<128)||(C|=(1&(B=H[b.pos++]))<<31,B<128))return ku(p,C,g);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(o=c[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var r=this.readVarint()+this.pos,t=this.pos;return this.pos=r,r-t>=12&&wg?function(o,c,p){return wg.decode(o.subarray(c,p))}(this.buf,t,r):function(o,c,p){for(var g="",b=c;b<p;){var C,B,H,he=o[b],ge=null,be=he>239?4:he>223?3:he>191?2:1;if(b+be>p)break;be===1?he<128&&(ge=he):be===2?(192&(C=o[b+1]))==128&&(ge=(31&he)<<6|63&C)<=127&&(ge=null):be===3?(B=o[b+2],(192&(C=o[b+1]))==128&&(192&B)==128&&((ge=(15&he)<<12|(63&C)<<6|63&B)<=2047||ge>=55296&&ge<=57343)&&(ge=null)):be===4&&(B=o[b+2],H=o[b+3],(192&(C=o[b+1]))==128&&(192&B)==128&&(192&H)==128&&((ge=(15&he)<<18|(63&C)<<12|(63&B)<<6|63&H)<=65535||ge>=1114112)&&(ge=null)),ge===null?(ge=65533,be=1):ge>65535&&(ge-=65536,g+=String.fromCharCode(ge>>>10&1023|55296),ge=56320|1023&ge),g+=String.fromCharCode(ge),b+=be}return g}(this.buf,t,r)},readBytes:function(){var r=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,r);return this.pos=r,t},readPackedVarint:function(r,t){if(this.type!==wr.Bytes)return r.push(this.readVarint(t));var o=ih(this);for(r=r||[];this.pos<o;)r.push(this.readVarint(t));return r},readPackedSVarint:function(r){if(this.type!==wr.Bytes)return r.push(this.readSVarint());var t=ih(this);for(r=r||[];this.pos<t;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==wr.Bytes)return r.push(this.readBoolean());var t=ih(this);for(r=r||[];this.pos<t;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==wr.Bytes)return r.push(this.readFloat());var t=ih(this);for(r=r||[];this.pos<t;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==wr.Bytes)return r.push(this.readDouble());var t=ih(this);for(r=r||[];this.pos<t;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==wr.Bytes)return r.push(this.readFixed32());var t=ih(this);for(r=r||[];this.pos<t;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==wr.Bytes)return r.push(this.readSFixed32());var t=ih(this);for(r=r||[];this.pos<t;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==wr.Bytes)return r.push(this.readFixed64());var t=ih(this);for(r=r||[];this.pos<t;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==wr.Bytes)return r.push(this.readSFixed64());var t=ih(this);for(r=r||[];this.pos<t;)r.push(this.readSFixed64());return r},skip:function(r){var t=7&r;if(t===wr.Varint)for(;this.buf[this.pos++]>127;);else if(t===wr.Bytes)this.pos=this.readVarint()+this.pos;else if(t===wr.Fixed32)this.pos+=4;else{if(t!==wr.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(r,t){this.writeVarint(r<<3|t)},realloc:function(r){for(var t=this.length||16;t<this.pos+r;)t*=2;if(t!==this.length){var o=new Uint8Array(t);o.set(this.buf),this.buf=o,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),ql(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),ql(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),ql(this.buf,-1&r,this.pos),ql(this.buf,Math.floor(r*Ms),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),ql(this.buf,-1&r,this.pos),ql(this.buf,Math.floor(r*Ms),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(t,o){var c,p;if(t>=0?(c=t%4294967296|0,p=t/4294967296|0):(p=~(-t/4294967296),4294967295^(c=~(-t%4294967296))?c=c+1|0:(c=0,p=p+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),function(g,b,C){C.buf[C.pos++]=127&g|128,g>>>=7,C.buf[C.pos++]=127&g|128,g>>>=7,C.buf[C.pos++]=127&g|128,g>>>=7,C.buf[C.pos++]=127&g|128,C.buf[C.pos]=127&(g>>>=7)}(c,0,o),function(g,b){var C=(7&g)<<4;b.buf[b.pos++]|=C|((g>>>=3)?128:0),g&&(b.buf[b.pos++]=127&g|((g>>>=7)?128:0),g&&(b.buf[b.pos++]=127&g|((g>>>=7)?128:0),g&&(b.buf[b.pos++]=127&g|((g>>>=7)?128:0),g&&(b.buf[b.pos++]=127&g|((g>>>=7)?128:0),g&&(b.buf[b.pos++]=127&g)))))}(p,o)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(Boolean(r))},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var t=this.pos;this.pos=function(c,p,g){for(var b,C,B=0;B<p.length;B++){if((b=p.charCodeAt(B))>55295&&b<57344){if(!C){b>56319||B+1===p.length?(c[g++]=239,c[g++]=191,c[g++]=189):C=b;continue}if(b<56320){c[g++]=239,c[g++]=191,c[g++]=189,C=b;continue}b=C-55296<<10|b-56320|65536,C=null}else C&&(c[g++]=239,c[g++]=191,c[g++]=189,C=null);b<128?c[g++]=b:(b<2048?c[g++]=b>>6|192:(b<65536?c[g++]=b>>12|224:(c[g++]=b>>18|240,c[g++]=b>>12&63|128),c[g++]=b>>6&63|128),c[g++]=63&b|128)}return g}(this.buf,r,this.pos);var o=this.pos-t;o>=128&&N_(t,o,this),this.pos=t-1,this.writeVarint(o),this.pos+=o},writeFloat:function(r){this.realloc(4),bg(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),bg(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var t=r.length;this.writeVarint(t),this.realloc(t);for(var o=0;o<t;o++)this.buf[this.pos++]=r[o]},writeRawMessage:function(r,t){this.pos++;var o=this.pos;r(t,this);var c=this.pos-o;c>=128&&N_(o,c,this),this.pos=o-1,this.writeVarint(c),this.pos+=c},writeMessage:function(r,t,o){this.writeTag(r,wr.Bytes),this.writeRawMessage(t,o)},writePackedVarint:function(r,t){t.length&&this.writeMessage(r,w2,t)},writePackedSVarint:function(r,t){t.length&&this.writeMessage(r,T2,t)},writePackedBoolean:function(r,t){t.length&&this.writeMessage(r,Hp,t)},writePackedFloat:function(r,t){t.length&&this.writeMessage(r,S2,t)},writePackedDouble:function(r,t){t.length&&this.writeMessage(r,j_,t)},writePackedFixed32:function(r,t){t.length&&this.writeMessage(r,Tg,t)},writePackedSFixed32:function(r,t){t.length&&this.writeMessage(r,E2,t)},writePackedFixed64:function(r,t){t.length&&this.writeMessage(r,U_,t)},writePackedSFixed64:function(r,t){t.length&&this.writeMessage(r,w0,t)},writeBytesField:function(r,t){this.writeTag(r,wr.Bytes),this.writeBytes(t)},writeFixed32Field:function(r,t){this.writeTag(r,wr.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(r,t){this.writeTag(r,wr.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(r,t){this.writeTag(r,wr.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(r,t){this.writeTag(r,wr.Fixed64),this.writeSFixed64(t)},writeVarintField:function(r,t){this.writeTag(r,wr.Varint),this.writeVarint(t)},writeSVarintField:function(r,t){this.writeTag(r,wr.Varint),this.writeSVarint(t)},writeStringField:function(r,t){this.writeTag(r,wr.Bytes),this.writeString(t)},writeFloatField:function(r,t){this.writeTag(r,wr.Fixed32),this.writeFloat(t)},writeDoubleField:function(r,t){this.writeTag(r,wr.Fixed64),this.writeDouble(t)},writeBooleanField:function(r,t){this.writeVarintField(r,Boolean(t))}};class T0{constructor(t,{pixelRatio:o,version:c,stretchX:p,stretchY:g,content:b}){this.paddedRect=t,this.pixelRatio=o,this.stretchX=p,this.stretchY=g,this.content=b,this.version=c}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class kc{constructor(t,o){const c={},p={};this.haveRenderCallbacks=[];const g=[];this.addImages(t,c,g),this.addImages(o,p,g);const{w:b,h:C}=Sg(g),B=new ba({width:b||1,height:C||1});for(const H in t){const he=t[H],ge=c[H].paddedRect;ba.copy(he.data,B,{x:0,y:0},{x:ge.x+1,y:ge.y+1},he.data)}for(const H in o){const he=o[H],ge=p[H].paddedRect,be=ge.x+1,Ce=ge.y+1,De=he.data.width,Fe=he.data.height;ba.copy(he.data,B,{x:0,y:0},{x:be,y:Ce},he.data),ba.copy(he.data,B,{x:0,y:Fe-1},{x:be,y:Ce-1},{width:De,height:1}),ba.copy(he.data,B,{x:0,y:0},{x:be,y:Ce+Fe},{width:De,height:1}),ba.copy(he.data,B,{x:De-1,y:0},{x:be-1,y:Ce},{width:1,height:Fe}),ba.copy(he.data,B,{x:0,y:0},{x:be+De,y:Ce},{width:1,height:Fe})}this.image=B,this.iconPositions=c,this.patternPositions=p}addImages(t,o,c){for(const p in t){const g=t[p],b={x:0,y:0,w:g.data.width+2,h:g.data.height+2};c.push(b),o[p]=new T0(b,g),g.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(t,o){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(c=>t.hasImage(c)),t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const c in t.updatedImages)this.patchUpdatedImage(this.iconPositions[c],t.getImage(c),o),this.patchUpdatedImage(this.patternPositions[c],t.getImage(c),o)}patchUpdatedImage(t,o,c){if(!t||!o||t.version===o.version)return;t.version=o.version;const[p,g]=t.tl;c.update(o.data,void 0,{x:p,y:g})}}Ri(T0,"ImagePosition"),Ri(kc,"ImageAtlas");const Mn={horizontal:1,vertical:2,horizontalOnly:3};class Pu{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,o){const c=new Pu;return c.scale=t||1,c.fontStack=o,c}static forImage(t){const o=new Pu;return o.imageName=t,o}}class Mo{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,o){const c=new Mo;for(let p=0;p<t.sections.length;p++){const g=t.sections[p];g.image?c.addImageSection(g):c.addTextSection(g,o)}return c}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(t){this.text=function(o,c){let p="";for(let g=0;g<o.length;g++){const b=o.charCodeAt(g+1)||null,C=o.charCodeAt(g-1)||null;p+=!c&&(b&&Te(b)&&!Vp[o[g+1]]||C&&Te(C)&&!Vp[o[g-1]])||!Vp[o[g]]?o[g]:Vp[o[g]]}return p}(this.text,t)}trim(){let t=0;for(let c=0;c<this.text.length&&E0[this.text.charCodeAt(c)];c++)t++;let o=this.text.length;for(let c=this.text.length-1;c>=0&&c>=t&&E0[this.text.charCodeAt(c)];c--)o--;this.text=this.text.substring(t,o),this.sectionIndex=this.sectionIndex.slice(t,o)}substring(t,o){const c=new Mo;return c.text=this.text.substring(t,o),c.sectionIndex=this.sectionIndex.slice(t,o),c.sections=this.sections,c}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,o)=>Math.max(t,this.sections[o].scale),0)}addTextSection(t,o){this.text+=t.text,this.sections.push(Pu.forText(t.scale,t.fontStack||o));const c=this.sections.length-1;for(let p=0;p<t.text.length;++p)this.sectionIndex.push(c)}addImageSection(t){const o=t.image?t.image.name:"";if(o.length===0)return void se("Can't add FormattedSection with an empty image.");const c=this.getNextImageSectionCharCode();c?(this.text+=String.fromCharCode(c),this.sections.push(Pu.forImage(o)),this.sectionIndex.push(this.sections.length-1)):se("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function S0(r,t,o,c,p,g,b,C,B,H,he,ge,be,Ce,De){const Fe=Mo.fromFeature(r,p);ge===Mn.vertical&&Fe.verticalizePunctuation(be);let Ye=[];const dt=function(vt,Ht,Wt,oi,Ei,Zt){if(!vt)return[];const ai=[],ui=function(Pi,hn,Ni,qi,Di,fn){let Yn=0;for(let Wn=0;Wn<Pi.length();Wn++){const Un=Pi.getSection(Wn);Yn+=V_(Pi.getCharCode(Wn),Un,qi,Di,hn,fn)}return Yn/Math.max(1,Math.ceil(Yn/Ni))}(vt,Ht,Wt,oi,Ei,Zt),gi=vt.text.indexOf("​")>=0;let Mi=0;for(let Pi=0;Pi<vt.length();Pi++){const hn=vt.getSection(Pi),Ni=vt.getCharCode(Pi);if(E0[Ni]||(Mi+=V_(Ni,hn,oi,Ei,Ht,Zt)),Pi<vt.length()-1){const qi=!((Jt=Ni)<11904||!(ra(Jt)||Wf(Jt)||d(Jt)||qc(Jt)||Yf(Jt)||wp(Jt)||Hf(Jt)||Ih(Jt)||qf(Jt)||pu(Jt)||Xf(Jt)||A(Jt)||Fa(Jt)||Sp(Jt)||Tp(Jt)||$f(Jt)||uu(Jt)||a(Jt)||Zf(Jt)||Ep(Jt)));(Vr[Ni]||qi||hn.imageName)&&ai.push(W_(Pi+1,Mi,ui,ai,M0(Ni,vt.getCharCode(Pi+1),qi&&gi),!1))}}var Jt;return H_(W_(vt.length(),Mi,ui,ai,0,!0))}(Fe,H,g,t,c,Ce),{processBidirectionalText:_t,processStyledBidirectionalText:ct}=Ft;if(_t&&Fe.sections.length===1){const vt=_t(Fe.toString(),dt);for(const Ht of vt){const Wt=new Mo;Wt.text=Ht,Wt.sections=Fe.sections;for(let oi=0;oi<Ht.length;oi++)Wt.sectionIndex.push(0);Ye.push(Wt)}}else if(ct){const vt=ct(Fe.text,Fe.sectionIndex,dt);for(const Ht of vt){const Wt=new Mo;Wt.text=Ht[0],Wt.sectionIndex=Ht[1],Wt.sections=Fe.sections,Ye.push(Wt)}}else Ye=function(vt,Ht){const Wt=[],oi=vt.text;let Ei=0;for(const Zt of Ht)Wt.push(vt.substring(Ei,Zt)),Ei=Zt;return Ei<oi.length&&Wt.push(vt.substring(Ei,oi.length)),Wt}(Fe,dt);const ft=[],Tt={positionedLines:ft,text:Fe.toString(),top:he[1],bottom:he[1],left:he[0],right:he[0],writingMode:ge,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(vt,Ht,Wt,oi,Ei,Zt,ai,ui,gi,Mi,Jt,Pi){let hn=0,Ni=0,qi=0;const Di=ui==="right"?1:ui==="left"?0:.5;let fn=!1;for(const kn of Ei){const qn=kn.getSections();for(const Fr of qn){if(Fr.imageName)continue;const Zr=Ht[Fr.fontStack];if(Zr&&(fn=Zr.ascender!==void 0&&Zr.descender!==void 0,!fn))break}if(!fn)break}let Yn=0;for(const kn of Ei){kn.trim();const qn=kn.getMaxScale(),Fr=(qn-1)*Br,Zr={positionedGlyphs:[],lineOffset:0};vt.positionedLines[Yn]=Zr;const $r=Zr.positionedGlyphs;let Kr=0;if(!kn.length()){Ni+=Zt,++Yn;continue}let es=0,As=0;for(let Pr=0;Pr<kn.length();Pr++){const Zs=kn.getSection(Pr),Hs=kn.getSectionIndex(Pr),mr=kn.getCharCode(Pr);let ps=Zs.scale,so=null,Nr=null,zs=null,la=Br,Ao=0;const ko=!(gi===Mn.horizontal||!Jt&&!Ee(mr)||Jt&&(E0[mr]||(Wn=mr,vp(Wn)||rl(Wn)||bp(Wn)||m(Wn)||E(Wn))));if(Zs.imageName){const Sa=oi[Zs.imageName];if(!Sa)continue;zs=Zs.imageName,vt.iconsInText=vt.iconsInText||!0,Nr=Sa.paddedRect;const Po=Sa.displaySize;ps=ps*Br/Pi,so={width:Po[0],height:Po[1],left:1,top:-3,advance:ko?Po[1]:Po[0],localGlyph:!1},Ao=fn?-so.height*ps:qn*Br-17-Po[1]*ps,la=so.advance;const Ld=(ko?Po[0]:Po[1])*ps-Br*qn;Ld>0&&Ld>Kr&&(Kr=Ld)}else{const Sa=Wt[Zs.fontStack];if(!Sa)continue;Sa[mr]&&(Nr=Sa[mr]);const Po=Ht[Zs.fontStack];if(!Po)continue;const Ld=Po.glyphs[mr];if(!Ld)continue;if(so=Ld.metrics,la=mr!==8203?Br:0,fn){const U0=Po.ascender!==void 0?Math.abs(Po.ascender):0,Zg=Po.descender!==void 0?Math.abs(Po.descender):0,Kg=(U0+Zg)*ps;es<Kg&&(es=Kg,As=(U0-Zg)/2*ps),Ao=-U0*ps}else Ao=(qn-ps)*Br-17}ko?(vt.verticalizable=!0,$r.push({glyph:mr,imageName:zs,x:hn,y:Ni+Ao,vertical:ko,scale:ps,localGlyph:so.localGlyph,fontStack:Zs.fontStack,sectionIndex:Hs,metrics:so,rect:Nr}),hn+=la*ps+Mi):($r.push({glyph:mr,imageName:zs,x:hn,y:Ni+Ao,vertical:ko,scale:ps,localGlyph:so.localGlyph,fontStack:Zs.fontStack,sectionIndex:Hs,metrics:so,rect:Nr}),hn+=so.advance*ps+Mi)}$r.length!==0&&(qi=Math.max(hn-Mi,qi),fn?$_($r,Di,Kr,As,Zt*qn/2):$_($r,Di,Kr,0,Zt/2)),hn=0;const Co=Zt*qn+Kr;Zr.lineOffset=Math.max(Kr,Fr),Ni+=Co,++Yn}var Wn;const Un=Ni,{horizontalAlign:xn,verticalAlign:kr}=Mg(ai);(function(kn,qn,Fr,Zr,$r,Kr){const es=(qn-Fr)*$r,As=-Kr*Zr;for(const Co of kn)for(const Pr of Co.positionedGlyphs)Pr.x+=es,Pr.y+=As})(vt.positionedLines,Di,xn,kr,qi,Un),vt.top+=-kr*Un,vt.bottom=vt.top+Un,vt.left+=-xn*qi,vt.right=vt.left+qi,vt.hasBaseline=fn}(Tt,t,o,c,Ye,b,C,B,ge,H,be,De),!function(vt){for(const Ht of vt)if(Ht.positionedGlyphs.length!==0)return!1;return!0}(ft)&&Tt}const E0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Vr={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function V_(r,t,o,c,p,g){if(t.imageName){const b=c[t.imageName];return b?b.displaySize[0]*t.scale*Br/g+p:0}{const b=o[t.fontStack],C=b&&b.glyphs[r];return C?C.metrics.advance*t.scale+p:0}}function Eg(r,t,o,c){const p=Math.pow(r-t,2);return c?r<t?p/2:2*p:p+Math.abs(o)*o}function M0(r,t,o){let c=0;return r===10&&(c-=1e4),o&&(c+=150),r!==40&&r!==65288||(c+=50),t!==41&&t!==65289||(c+=50),c}function W_(r,t,o,c,p,g){let b=null,C=Eg(t,o,p,g);for(const B of c){const H=Eg(t-B.x,o,p,g)+B.badness;H<=C&&(b=B,C=H)}return{index:r,x:t,priorBreak:b,badness:C}}function H_(r){return r?H_(r.priorBreak).concat(r.index):[]}function Mg(r){let t=.5,o=.5;switch(r){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:t,verticalAlign:o}}function $_(r,t,o,c,p){if(!(t||o||c||p))return;const g=r.length-1,b=r[g],C=(b.x+b.metrics.advance*b.scale)*t;for(let B=0;B<=g;B++)r[B].x-=C,r[B].y+=o+c+p}function k2(r,t,o){const{horizontalAlign:c,verticalAlign:p}=Mg(o),g=t[0]-r.displaySize[0]*c,b=t[1]-r.displaySize[1]*p;return{image:r,top:b,bottom:b+r.displaySize[1],left:g,right:g+r.displaySize[0]}}function X_(r,t,o,c,p,g){const b=r.image;let C;if(b.content){const Ye=b.content,dt=b.pixelRatio||1;C=[Ye[0]/dt,Ye[1]/dt,b.displaySize[0]-Ye[2]/dt,b.displaySize[1]-Ye[3]/dt]}const B=t.left*g,H=t.right*g;let he,ge,be,Ce;o==="width"||o==="both"?(Ce=p[0]+B-c[3],ge=p[0]+H+c[1]):(Ce=p[0]+(B+H-b.displaySize[0])/2,ge=Ce+b.displaySize[0]);const De=t.top*g,Fe=t.bottom*g;return o==="height"||o==="both"?(he=p[1]+De-c[0],be=p[1]+Fe+c[2]):(he=p[1]+(De+Fe-b.displaySize[1])/2,be=he+b.displaySize[1]),{image:b,top:he,right:ge,bottom:be,left:Ce,collisionPadding:C}}class nh extends j{constructor(t,o,c,p,g){super(t,o),this.angle=p,this.z=c,g!==void 0&&(this.segment=g)}clone(){return new nh(this.x,this.y,this.z,this.angle,this.segment)}}function Y_(r,t,o,c,p){if(t.segment===void 0)return!0;let g=t,b=t.segment+1,C=0;for(;C>-o/2;){if(b--,b<0)return!1;C-=r[b].dist(g),g=r[b]}C+=r[b].dist(r[b+1]),b++;const B=[];let H=0;for(;C<o/2;){const he=r[b],ge=r[b+1];if(!ge)return!1;let be=r[b-1].angleTo(he)-he.angleTo(ge);for(be=Math.abs((be+3*Math.PI)%(2*Math.PI)-Math.PI),B.push({distance:C,angleDelta:be}),H+=be;C-B[0].distance>c;)H-=B.shift().angleDelta;if(H>p)return!1;b++,C+=he.dist(ge)}return!0}function q_(r){let t=0;for(let o=0;o<r.length-1;o++)t+=r[o].dist(r[o+1]);return t}function Z_(r,t,o){return r?.6*t*o:0}function K_(r,t){return Math.max(r?r.right-r.left:0,t?t.right-t.left:0)}function P2(r,t,o,c,p,g){const b=Z_(o,p,g),C=K_(o,c)*g;let B=0;const H=q_(r)/2;for(let he=0;he<r.length-1;he++){const ge=r[he],be=r[he+1],Ce=ge.dist(be);if(B+Ce>H){const De=(H-B)/Ce,Fe=Pn(ge.x,be.x,De),Ye=Pn(ge.y,be.y,De),dt=new nh(Fe,Ye,0,be.angleTo(ge),he);return!b||Y_(r,dt,C,b,t)?dt:void 0}B+=Ce}}function D2(r,t,o,c,p,g,b,C,B){const H=Z_(c,g,b),he=K_(c,p),ge=he*b,be=r[0].x===0||r[0].x===B||r[0].y===0||r[0].y===B;return t-ge<t/4&&(t=ge+t/4),C0(r,be?t/2*C%t:(he/2+2*g)*b*C%t,t,H,o,ge,be,!1,B)}function C0(r,t,o,c,p,g,b,C,B){const H=g/2,he=q_(r);let ge=0,be=t-o,Ce=[];for(let De=0;De<r.length-1;De++){const Fe=r[De],Ye=r[De+1],dt=Fe.dist(Ye),_t=Ye.angleTo(Fe);for(;be+o<ge+dt;){be+=o;const ct=(be-ge)/dt,ft=Pn(Fe.x,Ye.x,ct),Tt=Pn(Fe.y,Ye.y,ct);if(ft>=0&&ft<B&&Tt>=0&&Tt<B&&be-H>=0&&be+H<=he){const vt=new nh(ft,Tt,0,_t,De);vt._round(),c&&!Y_(r,vt,g,c,p)||Ce.push(vt)}}ge+=dt}return C||Ce.length||b||(Ce=C0(r,ge/2,o,c,p,g,b,!0,B)),Ce}function J_(r,t,o,c,p){const g=[];for(let b=0;b<r.length;b++){const C=r[b];let B;for(let H=0;H<C.length-1;H++){let he=C[H],ge=C[H+1];he.x<t&&ge.x<t||(he.x<t?he=new j(t,he.y+(t-he.x)/(ge.x-he.x)*(ge.y-he.y))._round():ge.x<t&&(ge=new j(t,he.y+(t-he.x)/(ge.x-he.x)*(ge.y-he.y))._round()),he.y<o&&ge.y<o||(he.y<o?he=new j(he.x+(o-he.y)/(ge.y-he.y)*(ge.x-he.x),o)._round():ge.y<o&&(ge=new j(he.x+(o-he.y)/(ge.y-he.y)*(ge.x-he.x),o)._round()),he.x>=c&&ge.x>=c||(he.x>=c?he=new j(c,he.y+(c-he.x)/(ge.x-he.x)*(ge.y-he.y))._round():ge.x>=c&&(ge=new j(c,he.y+(c-he.x)/(ge.x-he.x)*(ge.y-he.y))._round()),he.y>=p&&ge.y>=p||(he.y>=p?he=new j(he.x+(p-he.y)/(ge.y-he.y)*(ge.x-he.x),p)._round():ge.y>=p&&(ge=new j(he.x+(p-he.y)/(ge.y-he.y)*(ge.x-he.x),p)._round()),B&&he.equals(B[B.length-1])||(B=[he],g.push(B)),B.push(ge)))))}}return g}Ri(nh,"Anchor");const Ad=1e20;function Q_(r,t,o,c,p,g,b,C,B){for(let H=t;H<t+c;H++)ey(r,o*g+H,g,p,b,C,B);for(let H=o;H<o+p;H++)ey(r,H*g+t,1,c,b,C,B)}function ey(r,t,o,c,p,g,b){g[0]=0,b[0]=-Ad,b[1]=Ad,p[0]=r[t];for(let C=1,B=0,H=0;C<c;C++){p[C]=r[t+C*o];const he=C*C;do{const ge=g[B];H=(p[C]-p[ge]+he-ge*ge)/(C-ge)/2}while(H<=b[B]&&--B>-1);B++,g[B]=C,b[B]=H,b[B+1]=Ad}for(let C=0,B=0;C<c;C++){for(;b[B+1]<C;)B++;const H=g[B],he=C-H;r[t+C*o]=p[H]+he*he}}const Cg={none:0,ideographs:1,all:2};class Cs{constructor(t,o,c){this.requestManager=t,this.localGlyphMode=o,this.localFontFamily=c,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(t){this.url=t}getGlyphs(t,o){const c=[];for(const p in t)for(const g of t[p])c.push({stack:p,id:g});ee(c,({stack:p,id:g},b)=>{let C=this.entries[p];C||(C=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let B=C.glyphs[g];if(B!==void 0)return void b(null,{stack:p,id:g,glyph:B});if(B=this._tinySDF(C,p,g),B)return C.glyphs[g]=B,void b(null,{stack:p,id:g,glyph:B});const H=Math.floor(g/256);if(256*H>65535)return void b(new Error("glyphs > 65535 not supported"));if(C.ranges[H])return void b(null,{stack:p,id:g,glyph:B});let he=C.requests[H];he||(he=C.requests[H]=[],Cs.loadGlyphRange(p,H,this.url,this.requestManager,(ge,be)=>{if(be){C.ascender=be.ascender,C.descender=be.descender;for(const Ce in be.glyphs)this._doesCharSupportLocalGlyph(+Ce)||(C.glyphs[+Ce]=be.glyphs[+Ce]);C.ranges[H]=!0}for(const Ce of he)Ce(ge,be);delete C.requests[H]})),he.push((ge,be)=>{ge?b(ge):be&&b(null,{stack:p,id:g,glyph:be.glyphs[g]||null})})},(p,g)=>{if(p)o(p);else if(g){const b={};for(const{stack:C,id:B,glyph:H}of g)b[C]===void 0&&(b[C]={}),b[C].glyphs===void 0&&(b[C].glyphs={}),b[C].glyphs[B]=H&&{id:H.id,bitmap:H.bitmap.clone(),metrics:H.metrics},b[C].ascender=this.entries[C].ascender,b[C].descender=this.entries[C].descender;o(null,b)}})}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==Cg.none&&(this.localGlyphMode===Cg.all?!!this.localFontFamily:!!this.localFontFamily&&(pu(t)||Mp(t)||Fa(t)||uu(t)||Ih(t)))}_tinySDF(t,o,c){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(c))return;let g=t.tinySDF;if(!g){let Fe="400";/bold/i.test(o)?Fe="900":/medium/i.test(o)?Fe="500":/light/i.test(o)&&(Fe="200"),g=t.tinySDF=new Cs.TinySDF({fontFamily:p,fontWeight:Fe,fontSize:48,buffer:6,radius:16}),g.fontWeight=Fe}if(this.localGlyphs[g.fontWeight][c])return this.localGlyphs[g.fontWeight][c];const b=String.fromCharCode(c),{data:C,width:B,height:H,glyphWidth:he,glyphHeight:ge,glyphLeft:be,glyphTop:Ce,glyphAdvance:De}=g.draw(b);return this.localGlyphs[g.fontWeight][c]={id:c,bitmap:new th({width:B,height:H},C),metrics:{width:he/2,height:ge/2,left:be/2,top:Ce/2-27,advance:De/2,localGlyph:!0}}}}function aa(r,t,o,c){const p=[],g=r.image,b=g.pixelRatio,C=g.paddedRect.w-2,B=g.paddedRect.h-2,H=r.right-r.left,he=r.bottom-r.top,ge=g.stretchX||[[0,C]],be=g.stretchY||[[0,B]],Ce=(Zt,ai)=>Zt+ai[1]-ai[0],De=ge.reduce(Ce,0),Fe=be.reduce(Ce,0),Ye=C-De,dt=B-Fe;let _t=0,ct=De,ft=0,Tt=Fe,vt=0,Ht=Ye,Wt=0,oi=dt;if(g.content&&c){const Zt=g.content;_t=A0(ge,0,Zt[0]),ft=A0(be,0,Zt[1]),ct=A0(ge,Zt[0],Zt[2]),Tt=A0(be,Zt[1],Zt[3]),vt=Zt[0]-_t,Wt=Zt[1]-ft,Ht=Zt[2]-Zt[0]-ct,oi=Zt[3]-Zt[1]-Tt}const Ei=(Zt,ai,ui,gi)=>{const Mi=k0(Zt.stretch-_t,ct,H,r.left),Jt=$p(Zt.fixed-vt,Ht,Zt.stretch,De),Pi=k0(ai.stretch-ft,Tt,he,r.top),hn=$p(ai.fixed-Wt,oi,ai.stretch,Fe),Ni=k0(ui.stretch-_t,ct,H,r.left),qi=$p(ui.fixed-vt,Ht,ui.stretch,De),Di=k0(gi.stretch-ft,Tt,he,r.top),fn=$p(gi.fixed-Wt,oi,gi.stretch,Fe),Yn=new j(Mi,Pi),Wn=new j(Ni,Pi),Un=new j(Ni,Di),xn=new j(Mi,Di),kr=new j(Jt/b,hn/b),kn=new j(qi/b,fn/b),qn=t*Math.PI/180;if(qn){const $r=Math.sin(qn),Kr=Math.cos(qn),es=[Kr,-$r,$r,Kr];Yn._matMult(es),Wn._matMult(es),xn._matMult(es),Un._matMult(es)}const Fr=Zt.stretch+Zt.fixed,Zr=ai.stretch+ai.fixed;return{tl:Yn,tr:Wn,bl:xn,br:Un,tex:{x:g.paddedRect.x+1+Fr,y:g.paddedRect.y+1+Zr,w:ui.stretch+ui.fixed-Fr,h:gi.stretch+gi.fixed-Zr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:kr,pixelOffsetBR:kn,minFontScaleX:Ht/b/H,minFontScaleY:oi/b/he,isSDF:o}};if(c&&(g.stretchX||g.stretchY)){const Zt=ty(ge,Ye,De),ai=ty(be,dt,Fe);for(let ui=0;ui<Zt.length-1;ui++){const gi=Zt[ui],Mi=Zt[ui+1];for(let Jt=0;Jt<ai.length-1;Jt++)p.push(Ei(gi,ai[Jt],Mi,ai[Jt+1]))}}else p.push(Ei({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:B+1}));return p}function A0(r,t,o){let c=0;for(const p of r)c+=Math.max(t,Math.min(o,p[1]))-Math.max(t,Math.min(o,p[0]));return c}function ty(r,t,o){const c=[{fixed:-1,stretch:0}];for(const[p,g]of r){const b=c[c.length-1];c.push({fixed:p-b.stretch,stretch:b.stretch}),c.push({fixed:p-b.stretch,stretch:b.stretch+(g-p)})}return c.push({fixed:t+1,stretch:o}),c}function k0(r,t,o,c){return r/t*o+c}function $p(r,t,o,c){return r-t*o/c}function I2(r,t,o,c){const p=t+r.positionedLines[c].lineOffset;return c===0?o+p/2:o+(p+(t+r.positionedLines[c-1].lineOffset))/2}Cs.loadGlyphRange=function(r,t,o,c,p){const g=256*t,b=g+255,C=c.transformRequest(c.normalizeGlyphsURL(o).replace("{fontstack}",r).replace("{range}",`${g}-${b}`),ri.Glyphs);Xi(C,(B,H)=>{if(B)p(B);else if(H){const he={},ge=function(be){return new Wp(be).readFields(M2,{})}(H);for(const be of ge.glyphs)he[be.id]=be;p(null,{glyphs:he,ascender:ge.ascender,descender:ge.descender})}})},Cs.TinySDF=class{constructor({fontSize:r=24,buffer:t=3,radius:o=8,cutoff:c=.25,fontFamily:p="sans-serif",fontWeight:g="normal",fontStyle:b="normal"}={}){this.buffer=t,this.cutoff=c,this.radius=o;const C=this.size=r+4*t,B=this._createCanvas(C),H=this.ctx=B.getContext("2d",{willReadFrequently:!0});H.font=`${b} ${g} ${r}px ${p}`,H.textBaseline="alphabetic",H.textAlign="left",H.fillStyle="black",this.gridOuter=new Float64Array(C*C),this.gridInner=new Float64Array(C*C),this.f=new Float64Array(C),this.z=new Float64Array(C+1),this.v=new Uint16Array(C)}_createCanvas(r){const t=document.createElement("canvas");return t.width=t.height=r,t}draw(r){const{width:t,actualBoundingBoxAscent:o,actualBoundingBoxDescent:c,actualBoundingBoxLeft:p,actualBoundingBoxRight:g}=this.ctx.measureText(r),b=Math.ceil(o),C=Math.min(this.size-this.buffer,Math.ceil(g-p)),B=Math.min(this.size-this.buffer,b+Math.ceil(c)),H=C+2*this.buffer,he=B+2*this.buffer,ge=Math.max(H*he,0),be=new Uint8ClampedArray(ge),Ce={data:be,width:H,height:he,glyphWidth:C,glyphHeight:B,glyphTop:b,glyphLeft:0,glyphAdvance:t};if(C===0||B===0)return Ce;const{ctx:De,buffer:Fe,gridInner:Ye,gridOuter:dt}=this;De.clearRect(Fe,Fe,C,B),De.fillText(r,Fe,Fe+b);const _t=De.getImageData(Fe,Fe,C,B);dt.fill(Ad,0,ge),Ye.fill(0,0,ge);for(let ct=0;ct<B;ct++)for(let ft=0;ft<C;ft++){const Tt=_t.data[4*(ct*C+ft)+3]/255;if(Tt===0)continue;const vt=(ct+Fe)*H+ft+Fe;if(Tt===1)dt[vt]=0,Ye[vt]=Ad;else{const Ht=.5-Tt;dt[vt]=Ht>0?Ht*Ht:0,Ye[vt]=Ht<0?Ht*Ht:0}}Q_(dt,0,0,H,he,H,this.f,this.v,this.z),Q_(Ye,Fe,Fe,C,B,H,this.f,this.v,this.z);for(let ct=0;ct<ge;ct++){const ft=Math.sqrt(dt[ct])-Math.sqrt(Ye[ct]);be[ct]=Math.round(255-255*(ft/this.radius+this.cutoff))}return Ce}};class L2{constructor(t=[],o=O2){if(this.data=t,this.length=this.data.length,this.compare=o,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:o,compare:c}=this,p=o[t];for(;t>0;){const g=t-1>>1,b=o[g];if(c(p,b)>=0)break;o[t]=b,t=g}o[t]=p}_down(t){const{data:o,compare:c}=this,p=this.length>>1,g=o[t];for(;t<p;){let b=1+(t<<1),C=o[b];const B=b+1;if(B<this.length&&c(o[B],C)<0&&(b=B,C=o[B]),c(C,g)>=0)break;o[t]=C,t=b}o[t]=g}}function O2(r,t){return r<t?-1:r>t?1:0}function iy(r,t=1,o=!1){let c=1/0,p=1/0,g=-1/0,b=-1/0;const C=r[0];for(let Ce=0;Ce<C.length;Ce++){const De=C[Ce];(!Ce||De.x<c)&&(c=De.x),(!Ce||De.y<p)&&(p=De.y),(!Ce||De.x>g)&&(g=De.x),(!Ce||De.y>b)&&(b=De.y)}const B=Math.min(g-c,b-p);let H=B/2;const he=new L2([],R2);if(B===0)return new j(c,p);for(let Ce=c;Ce<g;Ce+=B)for(let De=p;De<b;De+=B)he.push(new Du(Ce+H,De+H,H,r));let ge=function(Ce){let De=0,Fe=0,Ye=0;const dt=Ce[0];for(let _t=0,ct=dt.length,ft=ct-1;_t<ct;ft=_t++){const Tt=dt[_t],vt=dt[ft],Ht=Tt.x*vt.y-vt.x*Tt.y;Fe+=(Tt.x+vt.x)*Ht,Ye+=(Tt.y+vt.y)*Ht,De+=3*Ht}return new Du(Fe/De,Ye/De,0,Ce)}(r),be=he.length;for(;he.length;){const Ce=he.pop();(Ce.d>ge.d||!ge.d)&&(ge=Ce,o&&console.log("found best %d after %d probes",Math.round(1e4*Ce.d)/1e4,be)),Ce.max-ge.d<=t||(H=Ce.h/2,he.push(new Du(Ce.p.x-H,Ce.p.y-H,H,r)),he.push(new Du(Ce.p.x+H,Ce.p.y-H,H,r)),he.push(new Du(Ce.p.x-H,Ce.p.y+H,H,r)),he.push(new Du(Ce.p.x+H,Ce.p.y+H,H,r)),be+=4)}return o&&(console.log(`num probes: ${be}`),console.log(`best distance: ${ge.d}`)),ge.p}function R2(r,t){return t.max-r.max}function Du(r,t,o,c){this.p=new j(r,t),this.h=o,this.d=function(p,g){let b=!1,C=1/0;for(let B=0;B<g.length;B++){const H=g[B];for(let he=0,ge=H.length,be=ge-1;he<ge;be=he++){const Ce=H[he],De=H[be];Ce.y>p.y!=De.y>p.y&&p.x<(De.x-Ce.x)*(p.y-Ce.y)/(De.y-Ce.y)+Ce.x&&(b=!b),C=Math.min(C,a_(p,Ce,De))}}return(b?1:-1)*Math.sqrt(C)}(this.p,c),this.max=this.d+this.h*Math.SQRT2}const Ag=Number.POSITIVE_INFINITY,ny=Math.sqrt(2);function kg(r,[t,o]){let c=0,p=0;if(o===Ag){t<0&&(t=0);const g=t/ny;switch(r){case"top-right":case"top-left":p=g-7;break;case"bottom-right":case"bottom-left":p=7-g;break;case"bottom":p=7-t;break;case"top":p=t-7}switch(r){case"top-right":case"bottom-right":c=-g;break;case"top-left":case"bottom-left":c=g;break;case"left":c=t;break;case"right":c=-t}}else{switch(t=Math.abs(t),o=Math.abs(o),r){case"top-right":case"top-left":case"top":p=o-7;break;case"bottom-right":case"bottom-left":case"bottom":p=7-o}switch(r){case"top-right":case"bottom-right":case"right":c=-t;break;case"top-left":case"bottom-left":case"left":c=t}}return[c,p]}function z2(r,t,o,c,p,g,b,C,B,H){r.createArrays(),r.tilePixelRatio=an/(512*r.overscaling),r.compareText={},r.iconsNeedLinear=!1;const he=r.layers[0].layout,ge=r.layers[0]._unevaluatedLayout._values,be={};if(r.textSizeData.kind==="composite"){const{minZoom:Fe,maxZoom:Ye}=r.textSizeData;be.compositeTextSizes=[ge["text-size"].possiblyEvaluate(new Pt(Fe),C),ge["text-size"].possiblyEvaluate(new Pt(Ye),C)]}if(r.iconSizeData.kind==="composite"){const{minZoom:Fe,maxZoom:Ye}=r.iconSizeData;be.compositeIconSizes=[ge["icon-size"].possiblyEvaluate(new Pt(Fe),C),ge["icon-size"].possiblyEvaluate(new Pt(Ye),C)]}be.layoutTextSize=ge["text-size"].possiblyEvaluate(new Pt(B+1),C),be.layoutIconSize=ge["icon-size"].possiblyEvaluate(new Pt(B+1),C),be.textMaxSize=ge["text-size"].possiblyEvaluate(new Pt(18),C);const Ce=he.get("text-rotation-alignment")==="map"&&he.get("symbol-placement")!=="point",De=he.get("text-size");for(const Fe of r.features){const Ye=he.get("text-font").evaluate(Fe,{},C).join(","),dt=De.evaluate(Fe,{},C),_t=be.layoutTextSize.evaluate(Fe,{},C),ct=(be.layoutIconSize.evaluate(Fe,{},C),{horizontal:{},vertical:void 0}),ft=Fe.text;let Tt,vt=[0,0];if(ft){const oi=ft.toString(),Ei=he.get("text-letter-spacing").evaluate(Fe,{},C)*Br,Zt=he.get("text-line-height").evaluate(Fe,{},C)*Br,ai=ce(oi)?Ei:0,ui=he.get("text-anchor").evaluate(Fe,{},C),gi=he.get("text-variable-anchor");if(!gi){const Ni=he.get("text-radial-offset").evaluate(Fe,{},C);vt=Ni?kg(ui,[Ni*Br,Ag]):he.get("text-offset").evaluate(Fe,{},C).map(qi=>qi*Br)}let Mi=Ce?"center":he.get("text-justify").evaluate(Fe,{},C);const Jt=he.get("symbol-placement")==="point",Pi=Jt?he.get("text-max-width").evaluate(Fe,{},C)*Br:1/0,hn=Ni=>{r.allowVerticalPlacement&&J(oi)&&(ct.vertical=S0(ft,t,o,p,Ye,Pi,Zt,ui,Ni,ai,vt,Mn.vertical,!0,_t,dt))};if(!Ce&&gi){const Ni=Mi==="auto"?gi.map(Di=>Pg(Di)):[Mi];let qi=!1;for(let Di=0;Di<Ni.length;Di++){const fn=Ni[Di];if(!ct.horizontal[fn])if(qi)ct.horizontal[fn]=ct.horizontal[0];else{const Yn=S0(ft,t,o,p,Ye,Pi,Zt,"center",fn,ai,vt,Mn.horizontal,!1,_t,dt);Yn&&(ct.horizontal[fn]=Yn,qi=Yn.positionedLines.length===1)}}hn("left")}else{if(Mi==="auto"&&(Mi=Pg(ui)),Jt||he.get("text-writing-mode").indexOf("horizontal")>=0||!J(oi)){const Ni=S0(ft,t,o,p,Ye,Pi,Zt,ui,Mi,ai,vt,Mn.horizontal,!1,_t,dt);Ni&&(ct.horizontal[Mi]=Ni)}hn(Jt?"left":Mi)}}let Ht=!1;if(Fe.icon&&Fe.icon.name){const oi=c[Fe.icon.name];oi&&(Tt=k2(p[Fe.icon.name],he.get("icon-offset").evaluate(Fe,{},C),he.get("icon-anchor").evaluate(Fe,{},C)),Ht=oi.sdf,r.sdfIcons===void 0?r.sdfIcons=oi.sdf:r.sdfIcons!==oi.sdf&&se("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(oi.pixelRatio!==r.pixelRatio||he.get("icon-rotate").constantOr(1)!==0)&&(r.iconsNeedLinear=!0))}const Wt=ry(ct.horizontal)||ct.vertical;r.iconsInText||(r.iconsInText=!!Wt&&Wt.iconsInText),(Wt||Tt)&&B2(r,Fe,ct,Tt,c,be,_t,0,vt,Ht,b,C,H)}g&&r.generateCollisionDebugBuffers(B,r.collisionBoxArray)}function Pg(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function B2(r,t,o,c,p,g,b,C,B,H,he,ge,be){let Ce=g.textMaxSize.evaluate(t,{},ge);Ce===void 0&&(Ce=b);const De=r.layers[0].layout,Fe=De.get("icon-offset").evaluate(t,{},ge),Ye=ry(o.horizontal)||o.vertical,dt=be.name==="globe",_t=b/24,ct=r.tilePixelRatio*Ce/24,ft=(ai=r.overscaling,r.zoom>18&&ai>2&&(ai>>=1),Math.max(an/(512*ai),1)*De.get("symbol-spacing")),Tt=De.get("text-padding")*r.tilePixelRatio,vt=De.get("icon-padding")*r.tilePixelRatio,Ht=I(De.get("text-max-angle")),Wt=De.get("text-rotation-alignment")==="map"&&De.get("symbol-placement")!=="point",oi=De.get("icon-rotation-alignment")==="map"&&De.get("symbol-placement")!=="point",Ei=De.get("symbol-placement"),Zt=ft/2;var ai;const ui=De.get("icon-text-fit");let gi;c&&ui!=="none"&&(r.allowVerticalPlacement&&o.vertical&&(gi=X_(c,o.vertical,ui,De.get("icon-text-fit-padding"),Fe,_t)),Ye&&(c=X_(c,Ye,ui,De.get("icon-text-fit-padding"),Fe,_t)));const Mi=(Jt,Pi,hn)=>{if(Pi.x<0||Pi.x>=an||Pi.y<0||Pi.y>=an)return;let Ni=null;if(dt){const{x:qi,y:Di,z:fn}=be.projectTilePoint(Pi.x,Pi.y,hn);Ni={anchor:new nh(qi,Di,fn,0,void 0),up:be.upVector(hn,Pi.x,Pi.y)}}(function(qi,Di,fn,Yn,Wn,Un,xn,kr,kn,qn,Fr,Zr,$r,Kr,es,As,Co,Pr,Zs,Hs,mr,ps,so,Nr,zs){const la=qi.addToLineVertexArray(Di,Yn);let Ao,ko,Sa,Po,Ld,U0,Zg,Kg=0,N5=0,j5=0,U5=0,cb=-1,hb=-1;const Gh={};let G5=gd.exports("");const sf=fn?fn.anchor:Di;let db=0,ub=0;if(kn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[db,ub]=kn.layout.get("text-offset").evaluate(mr,{},zs).map(ul=>ul*Br):(db=kn.layout.get("text-radial-offset").evaluate(mr,{},zs)*Br,ub=Ag),qi.allowVerticalPlacement&&Wn.vertical){const ul=Wn.vertical;if(es)U0=Dg(ul),kr&&(Zg=Dg(kr));else{const pl=kn.layout.get("text-rotate").evaluate(mr,{},zs)+90;Sa=P0(qn,sf,Di,Fr,Zr,$r,ul,Kr,pl,As),kr&&(Po=P0(qn,sf,Di,Fr,Zr,$r,kr,Pr,pl))}}if(Un){const ul=kn.layout.get("icon-rotate").evaluate(mr,{},zs),pl=kn.layout.get("icon-text-fit")!=="none",Jg=aa(Un,ul,so,pl),fb=kr?aa(kr,ul,so,pl):void 0;ko=P0(qn,sf,Di,Fr,Zr,$r,Un,Pr,ul),Kg=4*Jg.length;const V5=qi.iconSizeData;let of=null;V5.kind==="source"?(of=[Gr*kn.layout.get("icon-size").evaluate(mr,{},zs)],of[0]>Nh&&se(`${qi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):V5.kind==="composite"&&(of=[Gr*ps.compositeIconSizes[0].evaluate(mr,{},zs),Gr*ps.compositeIconSizes[1].evaluate(mr,{},zs)],(of[0]>Nh||of[1]>Nh)&&se(`${qi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),qi.addSymbols(qi.icon,Jg,of,Hs,Zs,mr,!1,fn,Di,la.lineStartIndex,la.lineLength,-1,Nr,zs),cb=qi.icon.placedSymbolArray.length-1,fb&&(N5=4*fb.length,qi.addSymbols(qi.icon,fb,of,Hs,Zs,mr,Mn.vertical,fn,Di,la.lineStartIndex,la.lineLength,-1,Nr,zs),hb=qi.icon.placedSymbolArray.length-1)}for(const ul in Wn.horizontal){const pl=Wn.horizontal[ul];Ao||(G5=gd.exports(pl.text),es?Ld=Dg(pl):Ao=P0(qn,sf,Di,Fr,Zr,$r,pl,Kr,kn.layout.get("text-rotate").evaluate(mr,{},zs),As));const Jg=pl.positionedLines.length===1;if(j5+=kd(qi,fn,Di,pl,xn,kn,es,mr,As,la,Wn.vertical?Mn.horizontal:Mn.horizontalOnly,Jg?Object.keys(Wn.horizontal):[ul],Gh,cb,ps,Nr,zs),Jg)break}Wn.vertical&&(U5+=kd(qi,fn,Di,Wn.vertical,xn,kn,es,mr,As,la,Mn.vertical,["vertical"],Gh,hb,ps,Nr,zs));let Bu=-1;const pb=(ul,pl)=>ul?Math.max(ul,pl):pl;Bu=pb(Ld,Bu),Bu=pb(U0,Bu),Bu=pb(Zg,Bu);const C4=Bu>-1?1:0;qi.glyphOffsetArray.length>=jh.MAX_GLYPHS&&se("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),mr.sortKey!==void 0&&qi.addToSortKeyRanges(qi.symbolInstances.length,mr.sortKey),qi.symbolInstances.emplaceBack(sf.x,sf.y,sf.z,Di.x,Di.y,Gh.right>=0?Gh.right:-1,Gh.center>=0?Gh.center:-1,Gh.left>=0?Gh.left:-1,Gh.vertical>=0?Gh.vertical:-1,cb,hb,G5,Ao!==void 0?Ao:qi.collisionBoxArray.length,Ao!==void 0?Ao+1:qi.collisionBoxArray.length,Sa!==void 0?Sa:qi.collisionBoxArray.length,Sa!==void 0?Sa+1:qi.collisionBoxArray.length,ko!==void 0?ko:qi.collisionBoxArray.length,ko!==void 0?ko+1:qi.collisionBoxArray.length,Po||qi.collisionBoxArray.length,Po?Po+1:qi.collisionBoxArray.length,Fr,j5,U5,Kg,N5,C4,0,db,ub,Bu)})(r,Pi,Ni,Jt,o,c,p,gi,r.layers[0],r.collisionBoxArray,t.index,t.sourceLayerIndex,r.index,Tt,Wt,B,0,vt,oi,Fe,t,g,H,he,ge)};if(Ei==="line")for(const Jt of J_(t.geometry,0,0,an,an)){const Pi=D2(Jt,ft,Ht,o.vertical||Ye,c,24,ct,r.overscaling,an);for(const hn of Pi){const Ni=Ye;Ni&&F2(r,Ni.text,Zt,hn)||Mi(Jt,hn,ge)}}else if(Ei==="line-center"){for(const Jt of t.geometry)if(Jt.length>1){const Pi=P2(Jt,Ht,o.vertical||Ye,c,24,ct);Pi&&Mi(Jt,Pi,ge)}}else if(t.type==="Polygon")for(const Jt of hg(t.geometry,0)){const Pi=iy(Jt,16);Mi(Jt[0],new nh(Pi.x,Pi.y,0,0,void 0),ge)}else if(t.type==="LineString")for(const Jt of t.geometry)Mi(Jt,new nh(Jt[0].x,Jt[0].y,0,0,void 0),ge);else if(t.type==="Point")for(const Jt of t.geometry)for(const Pi of Jt)Mi([Pi],new nh(Pi.x,Pi.y,0,0,void 0),ge)}const Nh=32640;function kd(r,t,o,c,p,g,b,C,B,H,he,ge,be,Ce,De,Fe,Ye){const dt=function(ft,Tt,vt,Ht,Wt,oi,Ei,Zt){const ai=[];if(Tt.positionedLines.length===0)return ai;const ui=Ht.layout.get("text-rotate").evaluate(oi,{})*Math.PI/180,gi=function(Ni){const qi=Ni[0],Di=Ni[1],fn=qi*Di;return fn>0?[qi,-Di]:fn<0?[-qi,Di]:qi===0?[Di,qi]:[Di,-qi]}(vt);let Mi=Math.abs(Tt.top-Tt.bottom);for(const Ni of Tt.positionedLines)Mi-=Ni.lineOffset;const Jt=Tt.positionedLines.length,Pi=Mi/Jt;let hn=Tt.top-vt[1];for(let Ni=0;Ni<Jt;++Ni){const qi=Tt.positionedLines[Ni];hn=I2(Tt,Pi,hn,Ni);for(const Di of qi.positionedGlyphs){if(!Di.rect)continue;const fn=Di.rect||{};let Yn=4,Wn=!0,Un=1,xn=0;if(Di.imageName){const Nr=Ei[Di.imageName];if(!Nr)continue;if(Nr.sdf){se("SDF images are not supported in formatted text and will be ignored.");continue}Wn=!1,Un=Nr.pixelRatio,Yn=1/Un}const kr=(Wt||Zt)&&Di.vertical,kn=Di.metrics.advance*Di.scale/2,qn=Di.metrics,Fr=Di.rect;if(Fr===null)continue;Zt&&Tt.verticalizable&&(xn=Di.imageName?kn-Di.metrics.width*Di.scale/2:0);const Zr=Wt?[Di.x+kn,Di.y]:[0,0];let $r=[0,0],Kr=[0,0],es=!1;Wt||(kr?(Kr=[Di.x+kn+gi[0],Di.y+gi[1]-xn],es=!0):$r=[Di.x+kn+vt[0],Di.y+vt[1]-xn]);const As=Fr.w*Di.scale/(Un*(Di.localGlyph?2:1)),Co=Fr.h*Di.scale/(Un*(Di.localGlyph?2:1));let Pr,Zs,Hs,mr;if(kr){const Nr=Di.y-hn,zs=new j(-kn,kn-Nr),la=-Math.PI/2,Ao=new j(...Kr);Pr=new j(-kn+$r[0],$r[1]),Pr._rotateAround(la,zs)._add(Ao),Pr.x+=-Nr+kn,Pr.y-=(qn.left-Yn)*Di.scale;const ko=Di.imageName?qn.advance*Di.scale:Br*Di.scale,Sa=String.fromCharCode(Di.glyph);b2(Sa)?Pr.x+=(1-Yn)*Di.scale:vg(Sa)?Pr.x+=ko-qn.height*Di.scale+(-Yn-1)*Di.scale:Pr.x+=Di.imageName||qn.width+2*Yn===Fr.w&&qn.height+2*Yn===Fr.h?(ko-Co)/2:(ko-(qn.height+2*Yn)*Di.scale)/2,Zs=new j(Pr.x,Pr.y-As),Hs=new j(Pr.x+Co,Pr.y),mr=new j(Pr.x+Co,Pr.y-As)}else{const Nr=(qn.left-Yn)*Di.scale-kn+$r[0],zs=(-qn.top-Yn)*Di.scale+$r[1],la=Nr+As,Ao=zs+Co;Pr=new j(Nr,zs),Zs=new j(la,zs),Hs=new j(Nr,Ao),mr=new j(la,Ao)}if(ui){let Nr;Nr=Wt?new j(0,0):es?new j(gi[0],gi[1]):new j(vt[0],vt[1]),Pr._rotateAround(ui,Nr),Zs._rotateAround(ui,Nr),Hs._rotateAround(ui,Nr),mr._rotateAround(ui,Nr)}const ps=new j(0,0),so=new j(0,0);ai.push({tl:Pr,tr:Zs,bl:Hs,br:mr,tex:fn,writingMode:Tt.writingMode,glyphOffset:Zr,sectionIndex:Di.sectionIndex,isSDF:Wn,pixelOffsetTL:ps,pixelOffsetBR:so,minFontScaleX:0,minFontScaleY:0})}}return ai}(0,c,B,g,b,C,p,r.allowVerticalPlacement),_t=r.textSizeData;let ct=null;_t.kind==="source"?(ct=[Gr*g.layout.get("text-size").evaluate(C,{},Ye)],ct[0]>Nh&&se(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):_t.kind==="composite"&&(ct=[Gr*De.compositeTextSizes[0].evaluate(C,{},Ye),Gr*De.compositeTextSizes[1].evaluate(C,{},Ye)],(ct[0]>Nh||ct[1]>Nh)&&se(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),r.addSymbols(r.text,dt,ct,B,b,C,he,t,o,H.lineStartIndex,H.lineLength,Ce,Fe,Ye);for(const ft of ge)be[ft]=r.text.placedSymbolArray.length-1;return 4*dt.length}function ry(r){for(const t in r)return r[t];return null}function P0(r,t,o,c,p,g,b,C,B,H){let he=b.top,ge=b.bottom,be=b.left,Ce=b.right;const De=b.collisionPadding;if(De&&(be-=De[0],he-=De[1],Ce+=De[2],ge+=De[3]),B){const Fe=new j(be,he),Ye=new j(Ce,he),dt=new j(be,ge),_t=new j(Ce,ge),ct=I(B);let ft=new j(0,0);H&&(ft=new j(H[0],H[1])),Fe._rotateAround(ct,ft),Ye._rotateAround(ct,ft),dt._rotateAround(ct,ft),_t._rotateAround(ct,ft),be=Math.min(Fe.x,Ye.x,dt.x,_t.x),Ce=Math.max(Fe.x,Ye.x,dt.x,_t.x),he=Math.min(Fe.y,Ye.y,dt.y,_t.y),ge=Math.max(Fe.y,Ye.y,dt.y,_t.y)}return r.emplaceBack(t.x,t.y,t.z,o.x,o.y,be,he,Ce,ge,C,c,p,g),r.length-1}function Dg(r){r.collisionPadding&&(r.top-=r.collisionPadding[1],r.bottom+=r.collisionPadding[3]);const t=r.bottom-r.top;return t>0?Math.max(10,t):null}function F2(r,t,o,c){const p=r.compareText;if(t in p){const g=p[t];for(let b=g.length-1;b>=0;b--)if(c.dist(g[b])<o)return!0}else p[t]=[];return p[t].push(c),!1}const N2=Ui([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Ig}=N2,Lg=Ui([{name:"a_pos_3",components:3,type:"Int16"}]);var Xp=Ui([{name:"a_pos",type:"Int16",components:2}]);const rh=an/Math.PI/2,Og=2*Va(1,0)*rh*Math.PI,Iu=64,Lu=[Iu,32,16],hl=-rh,dl=rh,j2=[new Yo([hl,hl,hl],[dl,dl,dl]),new Yo([hl,hl,hl],[0,0,dl]),new Yo([0,hl,hl],[dl,0,dl]),new Yo([hl,0,hl],[0,dl,dl]),new Yo([0,0,hl],[dl,dl,dl])];function sy(r,t,o,c=!0){const p=Wa([],r._camera.position,r.worldSize),g=[t,o,1,1];zh(g,g,r.pixelMatrixInverse),d_(g,g,1/g[3]);const b=Xo([],$l([],g,p)),C=r.globeMatrix,B=[C[12],C[13],C[14]],H=$l([],B,p),he=Sd(H),ge=Xo([],H),be=r.worldSize/(2*Math.PI),Ce=ll(ge,b),De=Math.asin(be/he);if(De<Math.acos(Ce)){if(!c)return null;const Ei=[],Zt=[];Wa(Ei,b,he/Ce),Xo(Zt,$l(Zt,Ei,H)),Xo(b,Cc(b,H,Wa(b,Zt,Math.tan(De)*he)))}const Fe=[];new l0(p,b).closestPointOnSphere(B,be,Fe);const Ye=Xo([],ht(C,0)),dt=Xo([],ht(C,1)),_t=Xo([],ht(C,2)),ct=ll(Ye,Fe),ft=ll(dt,Fe),Tt=ll(_t,Fe),vt=V(Math.asin(-ft/be));let Ht=V(Math.atan2(ct,Tt));Ht=r.center.lng+function(Ei,Zt){const ai=(Zt-Ei+180)%360-180;return ai<-180?ai+360:ai}(r.center.lng,Ht);const Wt=Gl(Ht),oi=v(Ga(vt),0,1);return new xd(Wt,oi)}class U2{constructor(t,o,c){this.a=$l([],t,c),this.b=$l([],o,c),this.center=c;const p=Xo([],this.a),g=Xo([],this.b);this.angle=Math.acos(ll(p,g))}}function Rg(r,t){if(r.angle===0)return null;let o;return o=r.a[t]===0?1/r.angle*.5*Math.PI:1/r.angle*Math.atan(r.b[t]/r.a[t]/Math.sin(r.angle)-1/Math.tan(r.angle)),o<0||o>1?null:function(c,p,g,b){const C=Math.sin(g);return c*(Math.sin((1-b)*g)/C)+p*(Math.sin(b*g)/C)}(r.a[t],r.b[t],r.angle,v(o,0,1))+r.center[t]}function Pc(r){if(r.z<=1)return j2[r.z+2*r.y+r.x];const t=zg(D0(r));return Yo.fromPoints(t)}function Pd(r,t,o){return Wa(r,r,1-o),Tu(r,r,t,o)}function oy(r,t){const o=Dd(t.zoom);if(o===0)return Pc(r);const c=D0(r),p=zg(c),g=Gl(c.getWest())*t.worldSize,b=Gl(c.getEast())*t.worldSize,C=Ga(c.getNorth())*t.worldSize,B=Ga(c.getSouth())*t.worldSize,H=[g,C,0],he=[b,C,0],ge=[g,B,0],be=[b,B,0],Ce=o0([],t.globeMatrix);return ys(H,H,Ce),ys(he,he,Ce),ys(ge,ge,Ce),ys(be,be,Ce),p[0]=Pd(p[0],ge,o),p[1]=Pd(p[1],be,o),p[2]=Pd(p[2],he,o),p[3]=Pd(p[3],H,o),Yo.fromPoints(p)}function ay(r,t,o){for(const c of r)ys(c,c,t),Wa(c,c,o)}function G2(r,t,o){const c=t/r.worldSize,p=r.globeMatrix;if(o.z<=1){const Wt=Pc(o).getCorners();return ay(Wt,p,c),Yo.fromPoints(Wt)}const g=D0(o),b=zg(g);ay(b,p,c);const C=Number.MAX_VALUE,B=[-C,-C,-C],H=[C,C,C];if(g.contains(r.center)){for(const Ei of b)va(H,H,Ei),Hl(B,B,Ei);B[2]=0;const Wt=r.point,oi=[Wt.x*c,Wt.y*c,0];return va(H,H,oi),Hl(B,B,oi),new Yo(H,B)}const he=[p[12]*c,p[13]*c,p[14]*c],ge=g.getCenter(),be=v(r.center.lat,-85.051129,mo),Ce=v(ge.lat,-85.051129,mo),De=Gl(r.center.lng),Fe=Ga(be);let Ye=De-Gl(ge.lng);const dt=Fe-Ga(Ce);Ye>.5?Ye-=1:Ye<-.5&&(Ye+=1);let _t=0;Math.abs(Ye)>Math.abs(dt)?_t=Ye>=0?1:3:(_t=dt>=0?0:2,Tu(he,he,[p[4]*c,p[5]*c,p[6]*c],-Math.sin(I(dt>=0?g.getSouth():g.getNorth()))*rh));const ct=b[_t],ft=b[(_t+1)%4],Tt=new U2(ct,ft,he),vt=[Rg(Tt,0)||ct[0],Rg(Tt,1)||ct[1],Rg(Tt,2)||ct[2]],Ht=Dd(r.zoom);if(Ht>0){const Wt=function({x:Ei,y:Zt,z:ai},ui,gi,Mi,Jt){const Pi=1/(1<<ai);let hn=Ei*Pi,Ni=hn+Pi,qi=Zt*Pi,Di=qi+Pi,fn=0;const Yn=(hn+Ni)/2-Mi;return Yn>.5?fn=-1:Yn<-.5&&(fn=1),hn=((hn+fn)*ui-(Mi*=ui))*gi+Mi,Ni=((Ni+fn)*ui-Mi)*gi+Mi,qi=(qi*ui-(Jt*=ui))*gi+Jt,Di=(Di*ui-Jt)*gi+Jt,[[hn,Di,0],[Ni,Di,0],[Ni,qi,0],[hn,qi,0]]}(o,t,r._pixelsPerMercatorPixel,De,Fe);for(let Ei=0;Ei<b.length;Ei++)Pd(b[Ei],Wt[Ei],Ht);const oi=Cc([],Wt[_t],Wt[(_t+1)%4]);Wa(oi,oi,.5),Pd(vt,oi,Ht)}for(const Wt of b)va(H,H,Wt),Hl(B,B,Wt);return H[2]=Math.min(ct[2],ft[2]),va(H,H,vt),Hl(B,B,vt),new Yo(H,B)}function D0({x:r,y:t,z:o}){const c=1/(1<<o),p=new Zn(oa(r*c),fo((t+1)*c)),g=new Zn(oa((r+1)*c),fo(t*c));return new Qc(p,g)}function zg(r){const t=I(r.getNorth()),o=I(r.getSouth()),c=Math.cos(t),p=Math.cos(o),g=Math.sin(t),b=Math.sin(o),C=r.getWest(),B=r.getEast();return[Ou(p,b,C),Ou(p,b,B),Ou(c,g,B),Ou(c,g,C)]}function Ou(r,t,o,c=rh){return o=I(o),[r*Math.sin(o)*c,-t*c,r*Math.cos(o)*c]}function Yp(r,t,o){return Ou(Math.cos(I(r)),Math.sin(I(r)),t,o)}function qp(r,t,o,c){const p=1<<o.z,g=(r/an+o.x)/p;return Yp(fo((t/an+o.y)/p),oa(g),c)}function I0({min:r,max:t}){return 16383/Math.max(t[0]-r[0],t[1]-r[1],t[2]-r[2])}const ly=new Float64Array(16);function Zp(r){const t=I0(r),o=Zm(ly,[t,t,t]);return Dp(o,o,((c=[])[0]=-(p=r.min)[0],c[1]=-p[1],c[2]=-p[2],c));var c,p}function Bg(r){const t=(c=r.min,(o=ly)[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=c[0],o[13]=c[1],o[14]=c[2],o[15]=1,o);var o,c;const p=1/I0(r);return Td(t,t,[p,p,p])}function L0(r,t,o,c,p){const g=function(B){const H=an/(2*Math.PI);return B/(2*Math.PI)/H}(o),b=[r,t,-o/(2*Math.PI)],C=al(new Float64Array(16));return Dp(C,C,b),Td(C,C,[g,g,g]),qm(C,C,I(-p)),Ip(C,C,I(-c)),C}function Dd(r){return M(5,6,r)}function Fg(r,t){const o=Yp(t.lat,t.lng),c=function(De){const Fe=Yp(De._center.lat,De._center.lng);let Ye=Qm([],Ed(0,1,0),Fe);const dt=c_([],-De.angle,Fe);Ye=ys(Ye,Ye,dt),c_(dt,-De._pitch,Ye);const _t=Xo([],Fe);return Wa(_t,_t,De.cameraToCenterDistance/De.pixelsPerMeter*Og),ys(_t,_t,dt),Cc([],Fe,_t)}(r);return b=(p=wu([],c,o))[0],C=p[1],B=p[2],H=(g=o)[0],he=g[1],ge=g[2],Ce=(be=Math.sqrt(b*b+C*C+B*B)*Math.sqrt(H*H+he*he+ge*ge))&&ll(p,g)/be,Math.acos(Math.min(Math.max(Ce,-1),1));var p,g,b,C,B,H,he,ge,be,Ce}function Ng(r,t){return Fg(r,t)>Math.PI/2*1.01}const cy=I(85),V2=Math.cos(cy),jg=Math.sin(cy);function hy(r,t){const o=r.fovAboveCenter,c=r.elevation?r.elevation.getMinElevationBelowMSL()*t:0,p=(r._camera.position[2]*r.worldSize-c)/Math.cos(r._pitch),g=Math.sin(o)*p/Math.sin(Math.max(Math.PI/2-r._pitch-o,.01)),b=Math.sin(r._pitch)*g+p;return Math.min(1.01*b,p*(1/r._horizonShift))}function Id(r,t){if(!t.isReprojectedInTileSpace)return{scale:1<<r.z,x:r.x,y:r.y,x2:r.x+1,y2:r.y+1,projection:t};const o=Math.pow(2,-r.z),c=r.x*o,p=(r.x+1)*o,g=r.y*o,b=(r.y+1)*o,C=oa(c),B=oa(p),H=fo(g),he=fo(b),ge=t.project(C,H),be=t.project(B,H),Ce=t.project(B,he),De=t.project(C,he);let Fe=Math.min(ge.x,be.x,Ce.x,De.x),Ye=Math.min(ge.y,be.y,Ce.y,De.y),dt=Math.max(ge.x,be.x,Ce.x,De.x),_t=Math.max(ge.y,be.y,Ce.y,De.y);const ct=o/16;function ft(vt,Ht,Wt,oi,Ei,Zt){const ai=(Wt+Ei)/2,ui=(oi+Zt)/2,gi=t.project(oa(ai),fo(ui)),Mi=Math.max(0,Fe-gi.x,Ye-gi.y,gi.x-dt,gi.y-_t);Fe=Math.min(Fe,gi.x),dt=Math.max(dt,gi.x),Ye=Math.min(Ye,gi.y),_t=Math.max(_t,gi.y),Mi>ct&&(ft(vt,gi,Wt,oi,ai,ui),ft(gi,Ht,ai,ui,Ei,Zt))}ft(ge,be,c,g,p,g),ft(be,Ce,p,g,p,b),ft(Ce,De,p,b,c,b),ft(De,ge,c,b,c,g),Fe-=ct,Ye-=ct,dt+=ct,_t+=ct;const Tt=1/Math.max(dt-Fe,_t-Ye);return{scale:Tt,x:Fe*Tt,y:Ye*Tt,x2:dt*Tt,y2:_t*Tt,projection:t}}const W2=al(new Float32Array(16));class Ws{constructor(t){this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(t,o){return{x:0,y:0,z:0}}unproject(t,o){return new Zn(0,0)}projectTilePoint(t,o,c){return{x:t,y:o,z:0}}locationPoint(t,o,c=!0){return t._coordinatePoint(t.locationCoordinate(o),c)}pixelsPerMeter(t,o){return Va(1,t)*o}pixelSpaceConversion(t,o,c){return 1}farthestPixelDistance(t){return hy(t,t.pixelsPerMeter)}pointCoordinate(t,o,c,p){const g=t.horizonLineFromTop(!1),b=new j(o,Math.max(g,c));return t.rayIntersectionCoordinate(t.pointRayIntersection(b,p))}pointCoordinate3D(t,o,c){const p=new j(o,c);if(t.elevation)return t.elevation.pointCoordinate(p);{const g=this.pointCoordinate(t,p.x,p.y,0);return[g.x,g.y,g.z]}}isPointAboveHorizon(t,o){if(t.elevation)return!this.pointCoordinate3D(t,o.x,o.y);const c=t.horizonLineFromTop();return o.y<c}createInversionMatrix(t,o){return W2}createTileMatrix(t,o,c){let p,g,b;const C=c.canonical,B=al(new Float64Array(16));if(this.isReprojectedInTileSpace){const H=Id(C,this);p=1,g=H.x+c.wrap*H.scale,b=H.y,Td(B,B,[p/H.scale,p/H.scale,t.pixelsPerMeter/o])}else p=o/t.zoomScale(C.z),g=(C.x+Math.pow(2,C.z)*c.wrap)*p,b=C.y*p;return Dp(B,B,[g,b,0]),Td(B,B,[p/an,p/an,1]),B}upVector(t,o,c){return[0,0,1]}upVectorScale(t,o,c){return{metersToTile:1}}}class Ug extends Ws{constructor(t){super(t),this.range=[4,7],this.center=t.center||[-96,37.5];const[o,c]=this.parallels=t.parallels||[29.5,45.5],p=Math.sin(I(o));this.n=(p+Math.sin(I(c)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(t,o){const{n:c,c:p,r0:g}=this,b=I(t-this.center[0]),C=I(o),B=Math.sqrt(p-2*c*Math.sin(C))/c;return{x:B*Math.sin(b*c),y:B*Math.cos(b*c)-g,z:0}}unproject(t,o){const{n:c,c:p,r0:g}=this,b=g+o;let C=Math.atan2(t,Math.abs(b))*Math.sign(b);b*c<0&&(C-=Math.PI*Math.sign(t)*Math.sign(b));const B=I(this.center[0])*c;C=O(C,-Math.PI-B,Math.PI-B);const H=v(V(C/c)+this.center[0],-180,180),he=Math.asin(v((p-(t*t+b*b)*c*c)/(2*c),-1,1)),ge=v(V(he),-85.051129,mo);return new Zn(H,ge)}}const Kp=1.340264,Jp=-.081106,Qp=893e-6,ef=.003796,Ru=Math.sqrt(3)/2;class H2 extends Ws{project(t,o){o=o/180*Math.PI,t=t/180*Math.PI;const c=Math.asin(Ru*Math.sin(o)),p=c*c,g=p*p*p;return{x:.5*(t*Math.cos(c)/(Ru*(Kp+3*Jp*p+g*(7*Qp+9*ef*p)))/Math.PI+.5),y:1-.5*(c*(Kp+Jp*p+g*(Qp+ef*p))/Math.PI+1),z:0}}unproject(t,o){t=(2*t-.5)*Math.PI;let c=o=(2*(1-o)-1)*Math.PI,p=c*c,g=p*p*p;for(let he,ge,be,Ce=0;Ce<12&&(ge=c*(Kp+Jp*p+g*(Qp+ef*p))-o,be=Kp+3*Jp*p+g*(7*Qp+9*ef*p),he=ge/be,c=v(c-he,-Math.PI/3,Math.PI/3),p=c*c,g=p*p*p,!(Math.abs(he)<1e-12));++Ce);const b=Ru*t*(Kp+3*Jp*p+g*(7*Qp+9*ef*p))/Math.cos(c),C=Math.asin(Math.sin(c)/Ru),B=v(180*b/Math.PI,-180,180),H=v(180*C/Math.PI,-85.051129,mo);return new Zn(B,H)}}class Gg extends Ws{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0}project(t,o){return{x:.5+t/360,y:.5-o/360,z:0}}unproject(t,o){const c=360*(t-.5),p=v(360*(.5-o),-85.051129,mo);return new Zn(c,p)}}const zu=Math.PI/2;function O0(r){return Math.tan((zu+r)/2)}class $2 extends Ws{constructor(t){super(t),this.center=t.center||[0,30];const[o,c]=this.parallels=t.parallels||[30,30];let p=I(o),g=I(c);this.southernCenter=p+g<0,this.southernCenter&&(p=-p,g=-g);const b=Math.cos(p),C=O0(p);this.n=p===g?Math.sin(p):Math.log(b/Math.cos(g))/Math.log(O0(g)/C),this.f=b*Math.pow(O0(p),this.n)/this.n}project(t,o){o=I(o),this.southernCenter&&(o=-o),t=I(t-this.center[0]);const c=1e-6,{n:p,f:g}=this;g>0?o<-zu+c&&(o=-zu+c):o>zu-c&&(o=zu-c);const b=g/Math.pow(O0(o),p);let C=b*Math.sin(p*t),B=g-b*Math.cos(p*t);return C=.5*(C/Math.PI+.5),B=.5*(B/Math.PI+.5),{x:C,y:this.southernCenter?B:1-B,z:0}}unproject(t,o){t=(2*t-.5)*Math.PI,this.southernCenter&&(o=1-o),o=(2*(1-o)-.5)*Math.PI;const{n:c,f:p}=this,g=p-o,b=Math.sign(g),C=Math.sign(c)*Math.sqrt(t*t+g*g);let B=Math.atan2(t,Math.abs(g))*b;g*c<0&&(B-=Math.PI*Math.sign(t)*b);const H=v(V(B/c)+this.center[0],-180,180),he=v(V(2*Math.atan(Math.pow(p/C,1/c))-zu),-85.051129,mo);return new Zn(H,this.southernCenter?-he:he)}}class dy extends Ws{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(t,o){return{x:Gl(t),y:Ga(o),z:0}}unproject(t,o){const c=oa(t),p=fo(o);return new Zn(c,p)}}const Vg=I(mo);class X2 extends Ws{project(t,o){const c=(o=I(o))*o,p=c*c;return{x:.5*((t=I(t))*(.8707-.131979*c+p*(p*(.003971*c-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(o*(1.007226+c*(.015085+p*(.028874*c-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(t,o){t=(2*t-.5)*Math.PI;let c=o=(2*(1-o)-1)*Math.PI,p=25,g=0,b=c*c;do{b=c*c;const H=b*b;g=(c*(1.007226+b*(.015085+H*(.028874*b-.044475-.005916*H)))-o)/(1.007226+b*(.045255+H*(.259866*b-.311325-.005916*11*H))),c=v(c-g,-Vg,Vg)}while(Math.abs(g)>1e-6&&--p>0);b=c*c;const C=v(V(t/(.8707+b*(b*(b*b*b*(.003971-.001529*b)-.013791)-.131979))),-180,180),B=V(c);return new Zn(C,B)}}const uy=I(mo);class Y2 extends Ws{project(t,o){o=I(o),t=I(t);const c=Math.cos(o),p=2/Math.PI,g=Math.acos(c*Math.cos(t/2)),b=Math.sin(g)/g,C=.5*(t*p+2*c*Math.sin(t/2)/b)||0,B=.5*(o+Math.sin(o)/b)||0;return{x:.5*(C/Math.PI+.5),y:1-.5*(B/Math.PI+1),z:0}}unproject(t,o){let c=t=(2*t-.5)*Math.PI,p=o=(2*(1-o)-1)*Math.PI,g=25;const b=1e-6;let C=0,B=0;do{const H=Math.cos(p),he=Math.sin(p),ge=2*he*H,be=he*he,Ce=H*H,De=Math.cos(c/2),Fe=Math.sin(c/2),Ye=2*De*Fe,dt=Fe*Fe,_t=1-Ce*De*De,ct=_t?1/_t:0,ft=_t?Math.acos(H*De)*Math.sqrt(1/_t):0,Tt=.5*(2*ft*H*Fe+2*c/Math.PI)-t,vt=.5*(ft*he+p)-o,Ht=.5*ct*(Ce*dt+ft*H*De*be)+1/Math.PI,Wt=ct*(Ye*ge/4-ft*he*Fe),oi=.125*ct*(ge*Fe-ft*he*Ce*Ye),Ei=.5*ct*(be*De+ft*dt*H)+.5,Zt=Wt*oi-Ei*Ht;C=(vt*Wt-Tt*Ei)/Zt,B=(Tt*oi-vt*Ht)/Zt,c=v(c-C,-Math.PI,Math.PI),p=v(p-B,-uy,uy)}while((Math.abs(C)>b||Math.abs(B)>b)&&--g>0);return new Zn(V(c),V(p))}}class R0 extends Ws{constructor(t){super(t),this.center=t.center||[0,0],this.parallels=t.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(I(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(t,o){const{scale:c,cosPhi:p}=this;return{x:I(t)*p*c+.5,y:-Math.sin(I(o))/p*c+.5,z:0}}unproject(t,o){const{scale:c,cosPhi:p}=this,g=-(o-.5)/c,b=v(V((t-.5)/c)/p,-180,180),C=Math.asin(v(g*p,-1,1)),B=v(V(C),-85.051129,mo);return new Zn(b,B)}}class Wg extends dy{constructor(t){super(t),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(t,o,c){const p=qp(t,o,c);return ys(p,p,Zp(Pc(c))),{x:p[0],y:p[1],z:p[2]}}locationPoint(t,o){const c=Yp(o.lat,o.lng),p=Xo([],c),g=t.elevation?t.elevation.getAtPointOrZero(t.locationCoordinate(o),t._centerAltitude):t._centerAltitude;Tu(c,c,p,Va(1,0)*an*g);const b=al(new Float64Array(16));return wd(b,t.pixelMatrix,t.globeMatrix),ys(c,c,b),new j(c[0],c[1])}pixelsPerMeter(t,o){return Va(1,0)*o}pixelSpaceConversion(t,o,c){const p=Va(1,t)*o,g=Pn(Va(1,45)*o,p,c);return this.pixelsPerMeter(t,o)/g}createTileMatrix(t,o,c){const p=Bg(Pc(c.canonical));return wd(new Float64Array(16),t.globeMatrix,p)}createInversionMatrix(t,o){const{center:c}=t,p=Zp(Pc(o));return Ip(p,p,I(c.lng)),qm(p,p,I(c.lat)),Td(p,p,[t._pixelsPerMercatorPixel,t._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(t,o,c,p){return sy(t,o,c,!0)||new xd(0,0)}pointCoordinate3D(t,o,c){const p=this.pointCoordinate(t,o,c,0);return[p.x,p.y,p.z]}isPointAboveHorizon(t,o){return!sy(t,o.x,o.y,!1)}farthestPixelDistance(t){const o=function(p,g){const b=p.cameraToCenterDistance,C=p._centerAltitude*g,B=p._camera,H=p._camera.forward(),he=Cc([],Wa([],H,-b),[0,0,C]),ge=p.worldSize/(2*Math.PI),be=[0,0,-ge],Ce=p.width/p.height,De=Math.tan(p.fovAboveCenter),Fe=Wa([],B.up(),De),Ye=Wa([],B.right(),De*Ce),dt=Xo([],Cc([],Cc([],H,Fe),Ye)),_t=[];let ct;if(new l0(he,dt).closestPointOnSphere(be,ge,_t)){const ft=Cc([],_t,be),Tt=$l([],ft,he);ct=Math.cos(p.fovAboveCenter)*Sd(Tt)}else{const ft=$l([],he,be),Tt=$l([],be,he);Xo(Tt,Tt);const vt=Sd(ft)-ge;ct=Math.sqrt(vt*(vt+2*ge));const Ht=Math.acos(ct/(ge+vt))-Math.acos(ll(H,Tt));ct*=Math.cos(Ht)}return 1.01*ct}(t,this.pixelsPerMeter(t.center.lat,t.worldSize)),c=Dd(t.zoom);if(c>0){const p=hy(t,Va(1,t.center.lat)*t.worldSize),g=t.worldSize/(2*Math.PI),b=Math.max(t.width,t.height)/t.worldSize*Math.PI;return Pn(o,p+g*(1-Math.cos(b)),Math.pow(c,10))}return o}upVector(t,o,c){return qp(o,c,t,1)}upVectorScale(t){return{metersToTile:Og*I0(Pc(t))}}}function py(r){const t=r.parallels,o=!!t&&Math.abs(t[0]+t[1])<.01;switch(r.name){case"mercator":return new dy(r);case"equirectangular":return new Gg(r);case"naturalEarth":return new X2(r);case"equalEarth":return new H2(r);case"winkelTripel":return new Y2(r);case"albers":return o?new R0(r):new Ug(r);case"lambertConformalConic":return o?new R0(r):new $2(r);case"globe":return new Wg(r)}throw new Error(`Invalid projection name: ${r.name}`)}const q2=m0.types,Z2=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function z0(r,t,o,c,p,g,b,C,B,H,he,ge,be){const Ce=C?Math.min(Nh,Math.round(C[0])):0,De=C?Math.min(Nh,Math.round(C[1])):0;r.emplaceBack(t,o,Math.round(32*c),Math.round(32*p),g,b,(Ce<<1)+(B?1:0),De,16*H,16*he,256*ge,256*be)}function B0(r,t,o,c,p,g,b){r.emplaceBack(t,o,c,p,g,b)}function F0(r,t,o,c,p){r.emplaceBack(t,o,c,p),r.emplaceBack(t,o,c,p),r.emplaceBack(t,o,c,p),r.emplaceBack(t,o,c,p)}function K2(r){for(const t of r.sections)if(Qe(t.text))return!0;return!1}class Hg{constructor(t){this.layoutVertexArray=new xr,this.indexArray=new no,this.programConfigurations=t,this.segments=new Ss,this.dynamicLayoutVertexArray=new Eo,this.opacityVertexArray=new ds,this.placedSymbolArray=new Z1,this.globeExtVertexArray=new rr}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(t,o,c,p){this.isEmpty()||(c&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,m2.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,g2.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Z2,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,Xl.members,!0)),this.opacityVertexBuffer.itemSize=1),(c||p)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Ri(Hg,"SymbolBuffers");class $g{constructor(t,o,c){this.layoutVertexArray=new t,this.layoutAttributes=o,this.indexArray=new c,this.segments=new Ss,this.collisionVertexArray=new md,this.collisionVertexArrayExt=new ja}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,_2.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,Cd.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Ri($g,"CollisionBuffers");class jh{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(b=>b.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=al([]),this.placementViewportMatrix=al([]);const o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=xg(this.zoom,o["text-size"]),this.iconSizeData=xg(this.zoom,o["icon-size"]);const c=this.layers[0].layout,p=c.get("symbol-sort-key"),g=c.get("symbol-z-order");this.canOverlap=c.get("text-allow-overlap")||c.get("icon-allow-overlap")||c.get("text-ignore-placement")||c.get("icon-ignore-placement"),this.sortFeaturesByKey=g!=="viewport-y"&&p.constantOr(1)!==void 0,this.sortFeaturesByY=(g==="viewport-y"||g==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=c.get("text-writing-mode").map(b=>Mn[b]),this.stateDependentLayerIds=this.layers.filter(b=>b.isStateDependent()).map(b=>b.id),this.sourceID=t.sourceID,this.projection=t.projection}createArrays(){this.text=new Hg(new Sc(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new Hg(new Sc(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new Dm,this.lineVertexArray=new Im,this.symbolInstances=new Kf}calculateGlyphDependencies(t,o,c,p,g){for(let b=0;b<t.length;b++)if(o[t.charCodeAt(b)]=!0,p&&g){const C=Vp[t.charAt(b)];C&&(o[C.charCodeAt(0)]=!0)}}populate(t,o,c,p){const g=this.layers[0],b=g.layout,C=this.projection.name==="globe",B=b.get("text-font"),H=b.get("text-field"),he=b.get("icon-image"),ge=(H.value.kind!=="constant"||H.value.value instanceof Is&&!H.value.value.isEmpty()||H.value.value.toString().length>0)&&(B.value.kind!=="constant"||B.value.value.length>0),be=he.value.kind!=="constant"||!!he.value.value||Object.keys(he.parameters).length>0,Ce=b.get("symbol-sort-key");if(this.features=[],!ge&&!be)return;const De=o.iconDependencies,Fe=o.glyphDependencies,Ye=o.availableImages,dt=new Pt(this.zoom);for(const{feature:_t,id:ct,index:ft,sourceLayerIndex:Tt}of t){const vt=g._featureFilter.needGeometry,Ht=Ec(_t,vt);if(!g._featureFilter.filter(dt,Ht,c))continue;if(vt||(Ht.geometry=Wl(_t,c,p)),C&&_t.type!==1&&c.z<=5){const Zt=Ht.geometry,ai=.98078528056,ui=(gi,Mi)=>ll(qp(gi.x,gi.y,c,1),qp(Mi.x,Mi.y,c,1))<ai;for(let gi=0;gi<Zt.length;gi++)Zt[gi]=Cv(Zt[gi],ui)}let Wt,oi;if(ge){const Zt=g.getValueAndResolveTokens("text-field",Ht,c,Ye),ai=Is.factory(Zt);K2(ai)&&(this.hasRTLText=!0),(!this.hasRTLText||At()==="unavailable"||this.hasRTLText&&Ft.isParsed())&&(Wt=v2(ai,g,Ht))}if(be){const Zt=g.getValueAndResolveTokens("icon-image",Ht,c,Ye);oi=Zt instanceof No?Zt:No.fromString(Zt)}if(!Wt&&!oi)continue;const Ei=this.sortFeaturesByKey?Ce.evaluate(Ht,{},c):void 0;if(this.features.push({id:ct,text:Wt,icon:oi,index:ft,sourceLayerIndex:Tt,geometry:Ht.geometry,properties:_t.properties,type:q2[_t.type],sortKey:Ei}),oi&&(De[oi.name]=!0),Wt){const Zt=B.evaluate(Ht,{},c).join(","),ai=b.get("text-rotation-alignment")==="map"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Mn.vertical)>=0;for(const ui of Wt.sections)if(ui.image)De[ui.image.name]=!0;else{const gi=J(Wt.toString()),Mi=ui.fontStack||Zt,Jt=Fe[Mi]=Fe[Mi]||{};this.calculateGlyphDependencies(ui.text,Jt,ai,this.allowVerticalPlacement,gi)}}}b.get("symbol-placement")==="line"&&(this.features=function(_t){const ct={},ft={},Tt=[];let vt=0;function Ht(Zt){Tt.push(_t[Zt]),vt++}function Wt(Zt,ai,ui){const gi=ft[Zt];return delete ft[Zt],ft[ai]=gi,Tt[gi].geometry[0].pop(),Tt[gi].geometry[0]=Tt[gi].geometry[0].concat(ui[0]),gi}function oi(Zt,ai,ui){const gi=ct[ai];return delete ct[ai],ct[Zt]=gi,Tt[gi].geometry[0].shift(),Tt[gi].geometry[0]=ui[0].concat(Tt[gi].geometry[0]),gi}function Ei(Zt,ai,ui){const gi=ui?ai[0][ai[0].length-1]:ai[0][0];return`${Zt}:${gi.x}:${gi.y}`}for(let Zt=0;Zt<_t.length;Zt++){const ai=_t[Zt],ui=ai.geometry,gi=ai.text?ai.text.toString():null;if(!gi){Ht(Zt);continue}const Mi=Ei(gi,ui),Jt=Ei(gi,ui,!0);if(Mi in ft&&Jt in ct&&ft[Mi]!==ct[Jt]){const Pi=oi(Mi,Jt,ui),hn=Wt(Mi,Jt,Tt[Pi].geometry);delete ct[Mi],delete ft[Jt],ft[Ei(gi,Tt[hn].geometry,!0)]=hn,Tt[Pi].geometry=null}else Mi in ft?Wt(Mi,Jt,ui):Jt in ct?oi(Mi,Jt,ui):(Ht(Zt),ct[Mi]=vt-1,ft[Jt]=vt-1)}return Tt.filter(Zt=>Zt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((_t,ct)=>_t.sortKey-ct.sortKey)}update(t,o,c,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,o,this.layers,c,p),this.icon.programConfigurations.updatePaintArrays(t,o,this.layers,c,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=py(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,o){const c=this.lineVertexArray.length;if(t.segment!==void 0)for(const{x:p,y:g}of o)this.lineVertexArray.emplaceBack(p,g);return{lineStartIndex:c,lineLength:this.lineVertexArray.length-c}}addSymbols(t,o,c,p,g,b,C,B,H,he,ge,be,Ce,De){const Fe=t.indexArray,Ye=t.layoutVertexArray,dt=t.globeExtVertexArray,_t=t.segments.prepareSegment(4*o.length,Ye,Fe,this.canOverlap?b.sortKey:void 0),ct=this.glyphOffsetArray.length,ft=_t.vertexLength,Tt=this.allowVerticalPlacement&&C===Mn.vertical?Math.PI/2:0,vt=b.text&&b.text.sections;for(let Wt=0;Wt<o.length;Wt++){const{tl:oi,tr:Ei,bl:Zt,br:ai,tex:ui,pixelOffsetTL:gi,pixelOffsetBR:Mi,minFontScaleX:Jt,minFontScaleY:Pi,glyphOffset:hn,isSDF:Ni,sectionIndex:qi}=o[Wt],Di=_t.vertexLength,fn=hn[1];if(z0(Ye,H.x,H.y,oi.x,fn+oi.y,ui.x,ui.y,c,Ni,gi.x,gi.y,Jt,Pi),z0(Ye,H.x,H.y,Ei.x,fn+Ei.y,ui.x+ui.w,ui.y,c,Ni,Mi.x,gi.y,Jt,Pi),z0(Ye,H.x,H.y,Zt.x,fn+Zt.y,ui.x,ui.y+ui.h,c,Ni,gi.x,Mi.y,Jt,Pi),z0(Ye,H.x,H.y,ai.x,fn+ai.y,ui.x+ui.w,ui.y+ui.h,c,Ni,Mi.x,Mi.y,Jt,Pi),B){const{x:Yn,y:Wn,z:Un}=B.anchor,[xn,kr,kn]=B.up;B0(dt,Yn,Wn,Un,xn,kr,kn),B0(dt,Yn,Wn,Un,xn,kr,kn),B0(dt,Yn,Wn,Un,xn,kr,kn),B0(dt,Yn,Wn,Un,xn,kr,kn),F0(t.dynamicLayoutVertexArray,Yn,Wn,Un,Tt)}else F0(t.dynamicLayoutVertexArray,H.x,H.y,H.z,Tt);Fe.emplaceBack(Di,Di+1,Di+2),Fe.emplaceBack(Di+1,Di+2,Di+3),_t.vertexLength+=4,_t.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(hn[0]),Wt!==o.length-1&&qi===o[Wt+1].sectionIndex||t.programConfigurations.populatePaintArrays(Ye.length,b,b.index,{},Ce,De,vt&&vt[qi])}const Ht=B?B.anchor:H;t.placedSymbolArray.emplaceBack(Ht.x,Ht.y,Ht.z,H.x,H.y,ct,this.glyphOffsetArray.length-ct,ft,he,ge,H.segment,c?c[0]:0,c?c[1]:0,p[0],p[1],C,0,!1,0,be,0)}_commitLayoutVertex(t,o,c,p,g,b,C){t.emplaceBack(o,c,p,g,b,Math.round(C.x),Math.round(C.y))}_addCollisionDebugVertices(t,o,c,p,g,b,C){const B=c.segments.prepareSegment(4,c.layoutVertexArray,c.indexArray),H=B.vertexLength,he=C.tileAnchorX,ge=C.tileAnchorY;for(let Ce=0;Ce<4;Ce++)c.collisionVertexArray.emplaceBack(0,0,0,0);c.collisionVertexArrayExt.emplaceBack(o,-t.padding,-t.padding),c.collisionVertexArrayExt.emplaceBack(o,t.padding,-t.padding),c.collisionVertexArrayExt.emplaceBack(o,t.padding,t.padding),c.collisionVertexArrayExt.emplaceBack(o,-t.padding,t.padding),this._commitLayoutVertex(c.layoutVertexArray,p,g,b,he,ge,new j(t.x1,t.y1)),this._commitLayoutVertex(c.layoutVertexArray,p,g,b,he,ge,new j(t.x2,t.y1)),this._commitLayoutVertex(c.layoutVertexArray,p,g,b,he,ge,new j(t.x2,t.y2)),this._commitLayoutVertex(c.layoutVertexArray,p,g,b,he,ge,new j(t.x1,t.y2)),B.vertexLength+=4;const be=c.indexArray;be.emplaceBack(H,H+1),be.emplaceBack(H+1,H+2),be.emplaceBack(H+2,H+3),be.emplaceBack(H+3,H),B.primitiveLength+=4}_addTextDebugCollisionBoxes(t,o,c,p,g,b){for(let C=p;C<g;C++){const B=c.get(C),H=this.getSymbolInstanceTextSize(t,b,o,C);this._addCollisionDebugVertices(B,H,this.textCollisionBox,B.projectedAnchorX,B.projectedAnchorY,B.projectedAnchorZ,b)}}_addIconDebugCollisionBoxes(t,o,c,p,g,b){for(let C=p;C<g;C++){const B=c.get(C),H=this.getSymbolInstanceIconSize(t,o,b.placedIconSymbolIndex);this._addCollisionDebugVertices(B,H,this.iconCollisionBox,B.projectedAnchorX,B.projectedAnchorY,B.projectedAnchorZ,b)}}generateCollisionDebugBuffers(t,o){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new $g(zr,jn.members,ol),this.iconCollisionBox=new $g(zr,jn.members,ol);const c=Au(this.iconSizeData,t),p=Au(this.textSizeData,t);for(let g=0;g<this.symbolInstances.length;g++){const b=this.symbolInstances.get(g);this._addTextDebugCollisionBoxes(p,t,o,b.textBoxStartIndex,b.textBoxEndIndex,b),this._addTextDebugCollisionBoxes(p,t,o,b.verticalTextBoxStartIndex,b.verticalTextBoxEndIndex,b),this._addIconDebugCollisionBoxes(c,t,o,b.iconBoxStartIndex,b.iconBoxEndIndex,b),this._addIconDebugCollisionBoxes(c,t,o,b.verticalIconBoxStartIndex,b.verticalIconBoxEndIndex,b)}}getSymbolInstanceTextSize(t,o,c,p){const g=this.text.placedSymbolArray.get(o.rightJustifiedTextSymbolIndex>=0?o.rightJustifiedTextSymbolIndex:o.centerJustifiedTextSymbolIndex>=0?o.centerJustifiedTextSymbolIndex:o.leftJustifiedTextSymbolIndex>=0?o.leftJustifiedTextSymbolIndex:o.verticalPlacedTextSymbolIndex>=0?o.verticalPlacedTextSymbolIndex:p),b=Yl(this.textSizeData,t,g)/Br;return this.tilePixelRatio*b}getSymbolInstanceIconSize(t,o,c){const p=this.icon.placedSymbolArray.get(c),g=Yl(this.iconSizeData,t,p);return this.tilePixelRatio*g}_commitDebugCollisionVertexUpdate(t,o,c){t.emplaceBack(o,-c,-c),t.emplaceBack(o,c,-c),t.emplaceBack(o,c,c),t.emplaceBack(o,-c,c)}_updateTextDebugCollisionBoxes(t,o,c,p,g,b){for(let C=p;C<g;C++){const B=c.get(C),H=this.getSymbolInstanceTextSize(t,b,o,C);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,H,B.padding)}}_updateIconDebugCollisionBoxes(t,o,c,p,g,b){for(let C=p;C<g;C++){const B=c.get(C),H=this.getSymbolInstanceIconSize(t,o,b);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,H,B.padding)}}updateCollisionDebugBuffers(t,o){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const c=Au(this.iconSizeData,t),p=Au(this.textSizeData,t);for(let g=0;g<this.symbolInstances.length;g++){const b=this.symbolInstances.get(g);this._updateTextDebugCollisionBoxes(p,t,o,b.textBoxStartIndex,b.textBoxEndIndex,b),this._updateTextDebugCollisionBoxes(p,t,o,b.verticalTextBoxStartIndex,b.verticalTextBoxEndIndex,b),this._updateIconDebugCollisionBoxes(c,t,o,b.iconBoxStartIndex,b.iconBoxEndIndex,b.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(c,t,o,b.verticalIconBoxStartIndex,b.verticalIconBoxEndIndex,b.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(t,o,c,p,g,b,C,B,H){const he={};if(o<c){const{x1:ge,y1:be,x2:Ce,y2:De,padding:Fe,projectedAnchorX:Ye,projectedAnchorY:dt,projectedAnchorZ:_t,tileAnchorX:ct,tileAnchorY:ft,featureIndex:Tt}=t.get(o);he.textBox={x1:ge,y1:be,x2:Ce,y2:De,padding:Fe,projectedAnchorX:Ye,projectedAnchorY:dt,projectedAnchorZ:_t,tileAnchorX:ct,tileAnchorY:ft},he.textFeatureIndex=Tt}if(p<g){const{x1:ge,y1:be,x2:Ce,y2:De,padding:Fe,projectedAnchorX:Ye,projectedAnchorY:dt,projectedAnchorZ:_t,tileAnchorX:ct,tileAnchorY:ft,featureIndex:Tt}=t.get(p);he.verticalTextBox={x1:ge,y1:be,x2:Ce,y2:De,padding:Fe,projectedAnchorX:Ye,projectedAnchorY:dt,projectedAnchorZ:_t,tileAnchorX:ct,tileAnchorY:ft},he.verticalTextFeatureIndex=Tt}if(b<C){const{x1:ge,y1:be,x2:Ce,y2:De,padding:Fe,projectedAnchorX:Ye,projectedAnchorY:dt,projectedAnchorZ:_t,tileAnchorX:ct,tileAnchorY:ft,featureIndex:Tt}=t.get(b);he.iconBox={x1:ge,y1:be,x2:Ce,y2:De,padding:Fe,projectedAnchorX:Ye,projectedAnchorY:dt,projectedAnchorZ:_t,tileAnchorX:ct,tileAnchorY:ft},he.iconFeatureIndex=Tt}if(B<H){const{x1:ge,y1:be,x2:Ce,y2:De,padding:Fe,projectedAnchorX:Ye,projectedAnchorY:dt,projectedAnchorZ:_t,tileAnchorX:ct,tileAnchorY:ft,featureIndex:Tt}=t.get(B);he.verticalIconBox={x1:ge,y1:be,x2:Ce,y2:De,padding:Fe,projectedAnchorX:Ye,projectedAnchorY:dt,projectedAnchorZ:_t,tileAnchorX:ct,tileAnchorY:ft},he.verticalIconFeatureIndex=Tt}return he}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let o=0;o<this.symbolInstances.length;o++){const c=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,c.textBoxStartIndex,c.textBoxEndIndex,c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c.iconBoxStartIndex,c.iconBoxEndIndex,c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,o){const c=t.placedSymbolArray.get(o),p=c.vertexStartIndex+4*c.numGlyphs;for(let g=c.vertexStartIndex;g<p;g+=4)t.indexArray.emplaceBack(g,g+1,g+2),t.indexArray.emplaceBack(g+1,g+2,g+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const o=Math.sin(t),c=Math.cos(t),p=[],g=[],b=[];for(let C=0;C<this.symbolInstances.length;++C){b.push(C);const B=this.symbolInstances.get(C);p.push(0|Math.round(o*B.tileAnchorX+c*B.tileAnchorY)),g.push(B.featureIndex)}return b.sort((C,B)=>p[C]-p[B]||g[B]-g[C]),b}addToSortKeyRanges(t,o){const c=this.sortKeyRanges[this.sortKeyRanges.length-1];c&&c.sortKey===o?c.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const o of this.symbolInstanceIndexes){const c=this.symbolInstances.get(o);this.featureSortOrder.push(c.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:g,leftJustifiedTextSymbolIndex:b,verticalPlacedTextSymbolIndex:C,placedIconSymbolIndex:B,verticalPlacedIconSymbolIndex:H}=c;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),g>=0&&g!==p&&this.addIndicesForPlacedSymbol(this.text,g),b>=0&&b!==g&&b!==p&&this.addIndicesForPlacedSymbol(this.text,b),C>=0&&this.addIndicesForPlacedSymbol(this.text,C),B>=0&&this.addIndicesForPlacedSymbol(this.icon,B),H>=0&&this.addIndicesForPlacedSymbol(this.icon,H)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Ri(jh,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),jh.MAX_GLYPHS=65535,jh.addDynamicAttributes=F0;const J2=new Qi({"symbol-placement":new Ot(ni.layout_symbol["symbol-placement"]),"symbol-spacing":new Ot(ni.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ot(ni.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Xt(ni.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ot(ni.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ot(ni.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ot(ni.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ot(ni.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ot(ni.layout_symbol["icon-rotation-alignment"]),"icon-size":new Xt(ni.layout_symbol["icon-size"]),"icon-text-fit":new Ot(ni.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ot(ni.layout_symbol["icon-text-fit-padding"]),"icon-image":new Xt(ni.layout_symbol["icon-image"]),"icon-rotate":new Xt(ni.layout_symbol["icon-rotate"]),"icon-padding":new Ot(ni.layout_symbol["icon-padding"]),"icon-keep-upright":new Ot(ni.layout_symbol["icon-keep-upright"]),"icon-offset":new Xt(ni.layout_symbol["icon-offset"]),"icon-anchor":new Xt(ni.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ot(ni.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ot(ni.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ot(ni.layout_symbol["text-rotation-alignment"]),"text-field":new Xt(ni.layout_symbol["text-field"]),"text-font":new Xt(ni.layout_symbol["text-font"]),"text-size":new Xt(ni.layout_symbol["text-size"]),"text-max-width":new Xt(ni.layout_symbol["text-max-width"]),"text-line-height":new Xt(ni.layout_symbol["text-line-height"]),"text-letter-spacing":new Xt(ni.layout_symbol["text-letter-spacing"]),"text-justify":new Xt(ni.layout_symbol["text-justify"]),"text-radial-offset":new Xt(ni.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ot(ni.layout_symbol["text-variable-anchor"]),"text-anchor":new Xt(ni.layout_symbol["text-anchor"]),"text-max-angle":new Ot(ni.layout_symbol["text-max-angle"]),"text-writing-mode":new Ot(ni.layout_symbol["text-writing-mode"]),"text-rotate":new Xt(ni.layout_symbol["text-rotate"]),"text-padding":new Ot(ni.layout_symbol["text-padding"]),"text-keep-upright":new Ot(ni.layout_symbol["text-keep-upright"]),"text-transform":new Xt(ni.layout_symbol["text-transform"]),"text-offset":new Xt(ni.layout_symbol["text-offset"]),"text-allow-overlap":new Ot(ni.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ot(ni.layout_symbol["text-ignore-placement"]),"text-optional":new Ot(ni.layout_symbol["text-optional"])});var Xg={paint:new Qi({"icon-opacity":new Xt(ni.paint_symbol["icon-opacity"]),"icon-color":new Xt(ni.paint_symbol["icon-color"]),"icon-halo-color":new Xt(ni.paint_symbol["icon-halo-color"]),"icon-halo-width":new Xt(ni.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Xt(ni.paint_symbol["icon-halo-blur"]),"icon-translate":new Ot(ni.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ot(ni.paint_symbol["icon-translate-anchor"]),"text-opacity":new Xt(ni.paint_symbol["text-opacity"]),"text-color":new Xt(ni.paint_symbol["text-color"],{runtimeType:Fo,getOverride:r=>r.textColor,hasOverride:r=>!!r.textColor}),"text-halo-color":new Xt(ni.paint_symbol["text-halo-color"]),"text-halo-width":new Xt(ni.paint_symbol["text-halo-width"]),"text-halo-blur":new Xt(ni.paint_symbol["text-halo-blur"]),"text-translate":new Ot(ni.paint_symbol["text-translate"]),"text-translate-anchor":new Ot(ni.paint_symbol["text-translate-anchor"])}),layout:J2};class fy{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Ds,this.defaultValue=t}evaluate(t){if(t.formattedSection){const o=this.defaultValue.property.overrides;if(o&&o.hasOverride(t.formattedSection))return o.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ri(fy,"FormatSectionOverride",{omit:["defaultValue"]});class N0 extends sa{constructor(t){super(t,Xg)}recalculate(t,o){super.recalculate(t,o),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const c=this.layout.get("text-writing-mode");if(c){const p=[];for(const g of c)p.indexOf(g)<0&&p.push(g);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(t,o,c,p){const g=this.layout.get(t).evaluate(o,{},c,p),b=this._unevaluatedLayout._values[t];return b.isDataDriven()||Sr(b.value)||!g?g:function(C,B){return B.replace(/{([^{}]+)}/g,(H,he)=>he in C?String(C[he]):"")}(o.properties,g)}createBucket(t){return new jh(t)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const t of Xg.paint.overridableProperties){if(!N0.hasPaintOverride(this.layout,t))continue;const o=this.paint.get(t),c=new fy(o),p=new Vs(c,o.property.specification);let g=null;g=o.value.kind==="constant"||o.value.kind==="source"?new So("source",p):new _s("composite",p,o.value.zoomStops,o.value._interpolationType),this.paint._values[t]=new di(o.property,g,o.parameters)}}_handleOverridablePaintPropertyUpdate(t,o,c){return!(!this.layout||o.isDataDriven()||c.isDataDriven())&&N0.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,o){const c=t.get("text-field"),p=Xg.paint.properties[o];let g=!1;const b=C=>{for(const B of C)if(p.overrides&&p.overrides.hasOverride(B))return void(g=!0)};if(c.value.kind==="constant"&&c.value.value instanceof Is)b(c.value.value.sections);else if(c.value.kind==="source"){const C=H=>{g||(H instanceof Cl&&ms(H.value)===Qo?b(H.value.sections):H instanceof dr?b(H.sections):H.eachChild(C))},B=c.value;B._styleExpression&&C(B._styleExpression.expression)}return g}getProgramConfiguration(t){return new Rh(this,t)}}var Q2={paint:new Qi({"background-color":new Ot(ni.paint_background["background-color"]),"background-pattern":new Ot(ni.paint_background["background-pattern"]),"background-opacity":new Ot(ni.paint_background["background-opacity"])})},eb={paint:new Qi({"raster-opacity":new Ot(ni.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ot(ni.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ot(ni.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ot(ni.paint_raster["raster-brightness-max"]),"raster-saturation":new Ot(ni.paint_raster["raster-saturation"]),"raster-contrast":new Ot(ni.paint_raster["raster-contrast"]),"raster-resampling":new Ot(ni.paint_raster["raster-resampling"]),"raster-fade-duration":new Ot(ni.paint_raster["raster-fade-duration"])})};class tb extends sa{constructor(t){super(t,{}),this.implementation=t}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)}}var ib={paint:new Qi({"sky-type":new Ot(ni.paint_sky["sky-type"]),"sky-atmosphere-sun":new Ot(ni.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Ot(ni.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Ot(ni.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Ot(ni.paint_sky["sky-gradient-radius"]),"sky-gradient":new Vi(ni.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Ot(ni.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Ot(ni.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Ot(ni.paint_sky["sky-opacity"])})};function Yg(r,t,o){const c=[0,0,1],p=tg([]);return f_(p,p,o?-I(r)+Math.PI:I(r)),p_(p,p,-I(t)),h_(c,c,p),Xo(c,c)}const nb={circle:class extends sa{constructor(r){super(r,kv)}createBucket(r){return new _u(r)}queryRadius(r){const t=r;return yu("circle-radius",this,t)+yu("circle-stroke-width",this,t)+s0(this.paint.get("circle-translate"))}queryIntersectsFeature(r,t,o,c,p,g,b,C){const B=$o(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),g.angle,r.pixelToTileUnitsFactor),H=this.paint.get("circle-radius").evaluate(t,o)+this.paint.get("circle-stroke-width").evaluate(t,o);return m_(r,c,g,b,C,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",B,H)}getProgramIds(){return["circle"]}getProgramConfiguration(r){return new Rh(this,r)}},heatmap:class extends sa{createBucket(r){return new __(r)}constructor(r){super(r,Rv),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Op({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(r){return yu("heatmap-radius",this,r)}queryIntersectsFeature(r,t,o,c,p,g,b,C){const B=this.paint.get("heatmap-radius").evaluate(t,o);return m_(r,c,g,b,C,!0,!0,new j(0,0),B)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(r){return new Rh(this,r)}},hillshade:class extends sa{constructor(r){super(r,zv)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends sa{constructor(r){super(r,Kv)}getProgramIds(){const r=this.paint.get("fill-pattern"),t=r&&r.constantOr(1),o=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&o.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),o}getProgramConfiguration(r){return new Rh(this,r)}recalculate(r,t){super.recalculate(r,t);const o=this.paint._values["fill-outline-color"];o.value.kind==="constant"&&o.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new u0(r)}queryRadius(){return s0(this.paint.get("fill-translate"))}queryIntersectsFeature(r,t,o,c,p,g){return!r.queryGeometry.isAboveHorizon&&o_(Mc(r.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),g.angle,r.pixelToTileUnitsFactor),c)}isTileClipped(){return!0}},"fill-extrusion":class extends sa{constructor(r){super(r,L_)}createBucket(r){return new Up(r)}queryRadius(){return s0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(r){return new Rh(this,r)}queryIntersectsFeature(r,t,o,c,p,g,b,C,B){const H=$o(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),g.angle,r.pixelToTileUnitsFactor),he=this.paint.get("fill-extrusion-height").evaluate(t,o),ge=this.paint.get("fill-extrusion-base").evaluate(t,o),be=[0,0],Ce=C&&g.elevation,De=g.elevation?g.elevation.exaggeration():1,Fe=r.tile.getBucket(this);if(Ce&&Fe instanceof Up){const ft=Fe.centroidVertexArray,Tt=B+1;Tt<ft.length&&(be[0]=ft.geta_centroid_pos0(Tt),be[1]=ft.geta_centroid_pos1(Tt))}if(be[0]===0&&be[1]===1)return!1;g.projection.name==="globe"&&(c=_g([c],[new j(0,0),new j(an,an)],r.tileID.canonical).map(ft=>ft.polygon).flat());const Ye=Ce?C:null,[dt,_t]=function(ft,Tt,vt,Ht,Wt,oi,Ei,Zt,ai,ui,gi){return ft.projection.name==="globe"?function(Mi,Jt,Pi,hn,Ni,qi,Di,fn,Yn,Wn,Un){const xn=[],kr=[],kn=Mi.projection.upVectorScale(Un,Mi.center.lat,Mi.worldSize).metersToTile,qn=[0,0,0,1],Fr=[0,0,0,1],Zr=(Kr,es,As,Co)=>{Kr[0]=es,Kr[1]=As,Kr[2]=Co,Kr[3]=1},$r=gg();Pi>0&&(Pi+=$r),hn+=$r;for(const Kr of Jt){const es=[],As=[];for(const Co of Kr){const Pr=Co.x+Ni.x,Zs=Co.y+Ni.y,Hs=Mi.projection.projectTilePoint(Pr,Zs,Un),mr=Mi.projection.upVector(Un,Co.x,Co.y);let ps=Pi,so=hn;if(Di){const Nr=yg(Pr,Zs,Pi,hn,Di,fn,Yn,Wn);ps+=Nr.base,so+=Nr.top}Pi!==0?Zr(qn,Hs.x+mr[0]*kn*ps,Hs.y+mr[1]*kn*ps,Hs.z+mr[2]*kn*ps):Zr(qn,Hs.x,Hs.y,Hs.z),Zr(Fr,Hs.x+mr[0]*kn*so,Hs.y+mr[1]*kn*so,Hs.z+mr[2]*kn*so),ys(qn,qn,qi),ys(Fr,Fr,qi),es.push(new Cu(qn[0],qn[1],qn[2])),As.push(new Cu(Fr[0],Fr[1],Fr[2]))}xn.push(es),kr.push(As)}return[xn,kr]}(ft,Tt,vt,Ht,Wt,oi,Ei,Zt,ai,ui,gi):Ei?function(Mi,Jt,Pi,hn,Ni,qi,Di,fn,Yn){const Wn=[],Un=[],xn=[0,0,0,1];for(const kr of Mi){const kn=[],qn=[];for(const Fr of kr){const Zr=Fr.x+hn.x,$r=Fr.y+hn.y,Kr=yg(Zr,$r,Jt,Pi,qi,Di,fn,Yn);xn[0]=Zr,xn[1]=$r,xn[2]=Kr.base,xn[3]=1,zh(xn,xn,Ni),xn[3]=Math.max(xn[3],1e-5);const es=new Cu(xn[0]/xn[3],xn[1]/xn[3],xn[2]/xn[3]);xn[0]=Zr,xn[1]=$r,xn[2]=Kr.top,xn[3]=1,zh(xn,xn,Ni),xn[3]=Math.max(xn[3],1e-5);const As=new Cu(xn[0]/xn[3],xn[1]/xn[3],xn[2]/xn[3]);kn.push(es),qn.push(As)}Wn.push(kn),Un.push(qn)}return[Wn,Un]}(Tt,vt,Ht,Wt,oi,Ei,Zt,ai,ui):function(Mi,Jt,Pi,hn,Ni){const qi=[],Di=[],fn=Ni[8]*Jt,Yn=Ni[9]*Jt,Wn=Ni[10]*Jt,Un=Ni[11]*Jt,xn=Ni[8]*Pi,kr=Ni[9]*Pi,kn=Ni[10]*Pi,qn=Ni[11]*Pi;for(const Fr of Mi){const Zr=[],$r=[];for(const Kr of Fr){const es=Kr.x+hn.x,As=Kr.y+hn.y,Co=Ni[0]*es+Ni[4]*As+Ni[12],Pr=Ni[1]*es+Ni[5]*As+Ni[13],Zs=Ni[2]*es+Ni[6]*As+Ni[14],Hs=Ni[3]*es+Ni[7]*As+Ni[15],mr=Co+fn,ps=Pr+Yn,so=Zs+Wn,Nr=Math.max(Hs+Un,1e-5),zs=Co+xn,la=Pr+kr,Ao=Zs+kn,ko=Math.max(Hs+qn,1e-5);Zr.push(new Cu(mr/Nr,ps/Nr,so/Nr)),$r.push(new Cu(zs/ko,la/ko,Ao/ko))}qi.push(Zr),Di.push($r)}return[qi,Di]}(Tt,vt,Ht,Wt,oi)}(g,c,ge,he,H,b,Ye,be,De,g.center.lat,r.tileID.canonical),ct=r.queryGeometry;return function(ft,Tt,vt){let Ht=1/0;o_(vt,Tt)&&(Ht=v0(vt,Tt[0]));for(let Wt=0;Wt<Tt.length;Wt++){const oi=Tt[Wt],Ei=ft[Wt];for(let Zt=0;Zt<oi.length-1;Zt++){const ai=oi[Zt],ui=[ai,oi[Zt+1],Ei[Zt+1],Ei[Zt],ai];n0(vt,ui)&&(Ht=Math.min(Ht,v0(vt,ui)))}}return Ht!==1/0&&Ht}(dt,_t,ct.isPointQuery()?ct.screenBounds:ct.screenGeometry)}},line:class extends sa{constructor(r){super(r,z_),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(r){if(r==="line-gradient"){const t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof bo,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,t){super.recalculate(r,t),this.paint._values["line-floorwidth"]=B_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new b0(r)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(r){return new Rh(this,r)}queryRadius(r){const t=r,o=F_(yu("line-width",this,t),yu("line-gap-width",this,t)),c=yu("line-offset",this,t);return o/2+Math.abs(c)+s0(this.paint.get("line-translate"))}queryIntersectsFeature(r,t,o,c,p,g){if(r.queryGeometry.isAboveHorizon)return!1;const b=Mc(r.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),g.angle,r.pixelToTileUnitsFactor),C=r.pixelToTileUnitsFactor/2*F_(this.paint.get("line-width").evaluate(t,o),this.paint.get("line-gap-width").evaluate(t,o)),B=this.paint.get("line-offset").evaluate(t,o);return B&&(c=function(H,he){const ge=[],be=new j(0,0);for(let Ce=0;Ce<H.length;Ce++){const De=H[Ce],Fe=[];for(let Ye=0;Ye<De.length;Ye++){const dt=De[Ye-1],_t=De[Ye],ct=De[Ye+1],ft=Ye===0?be:_t.sub(dt)._unit()._perp(),Tt=Ye===De.length-1?be:ct.sub(_t)._unit()._perp(),vt=ft._add(Tt)._unit();vt._mult(1/(vt.x*Tt.x+vt.y*Tt.y)),Fe.push(vt._mult(he)._add(_t))}ge.push(Fe)}return ge}(c,B*r.pixelToTileUnitsFactor)),function(H,he,ge){for(let be=0;be<he.length;be++){const Ce=he[be];if(H.length>=3){for(let De=0;De<Ce.length;De++)if(bd(H,Ce[De]))return!0}if(Wm(H,Ce,ge))return!0}return!1}(b,c,C)}isTileClipped(){return!0}},symbol:N0,background:class extends sa{constructor(r){super(r,Q2)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends sa{constructor(r){super(r,eb)}getProgramIds(){return["raster"]}},sky:class extends sa{constructor(r){super(r,ib),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="sky-gradient"?this._updateColorRamp():r!=="sky-atmosphere-sun"&&r!=="sky-atmosphere-halo-color"&&r!=="sky-atmosphere-color"&&r!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Op({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(r){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=r.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(r,t){if(this.paint.get("sky-type")==="atmosphere"){const c=this.paint.get("sky-atmosphere-sun"),p=!c,g=r.style.light,b=g.properties.get("position");return p&&g.properties.get("anchor")==="viewport"&&se("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?Yg(b.azimuthal,90-b.polar,t):Yg(c[0],90-c[1],t)}const o=this.paint.get("sky-gradient-center");return Yg(o[0],90-o[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(r){this._skyboxInvalidated=!1,this._lightPosition=r.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const r=this.paint.get("sky-type");return r==="atmosphere"?["skyboxCapture","skybox"]:r==="gradient"?["skyboxGradient"]:null}}};class tf{constructor(t,o,c,p){this.context=t,this.format=c,this.texture=t.gl.createTexture(),this.update(o,p)}update(t,o,c){const{width:p,height:g}=t,{context:b}=this,{gl:C}=b,{HTMLImageElement:B,HTMLCanvasElement:H,HTMLVideoElement:he,ImageData:ge,ImageBitmap:be}=w;if(C.bindTexture(C.TEXTURE_2D,this.texture),b.pixelStoreUnpackFlipY.set(!1),b.pixelStoreUnpack.set(1),b.pixelStoreUnpackPremultiplyAlpha.set(this.format===C.RGBA&&(!o||o.premultiply!==!1)),c||this.size&&this.size[0]===p&&this.size[1]===g){const{x:Ce,y:De}=c||{x:0,y:0};t instanceof B||t instanceof H||t instanceof he||t instanceof ge||be&&t instanceof be?C.texSubImage2D(C.TEXTURE_2D,0,Ce,De,C.RGBA,C.UNSIGNED_BYTE,t):C.texSubImage2D(C.TEXTURE_2D,0,Ce,De,p,g,C.RGBA,C.UNSIGNED_BYTE,t.data)}else this.size=[p,g],t instanceof B||t instanceof H||t instanceof he||t instanceof ge||be&&t instanceof be?C.texImage2D(C.TEXTURE_2D,0,this.format,this.format,C.UNSIGNED_BYTE,t):C.texImage2D(C.TEXTURE_2D,0,this.format,p,g,0,this.format,C.UNSIGNED_BYTE,t.data);this.useMipmap=Boolean(o&&o.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&C.generateMipmap(C.TEXTURE_2D)}bind(t,o){const{context:c}=this,{gl:p}=c;p.bindTexture(p.TEXTURE_2D,this.texture),t!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,t),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?t===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:t),this.filter=t),o!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,o),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}class f{constructor(t){this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class T{constructor(){this.tasks={},this.taskQueue=[],ue(["process"],this),this.invoker=new f(this.process),this.nextId=0}add(t,o){const c=this.nextId++,p=function({type:g,isSymbolTile:b,zoom:C}){return C=C||0,g==="message"?0:g!=="maybePrepare"||b?g!=="parseTile"||b?g==="parseTile"&&b?300-C:g==="maybePrepare"&&b?400-C:500:200-C:100-C}(o);if(p===0){Ie();try{t()}finally{}return{cancel:()=>{}}}return this.tasks[c]={fn:t,metadata:o,priority:p,id:c},this.taskQueue.push(c),this.invoker.trigger(),{cancel:()=>{delete this.tasks[c]}}}process(){Ie();try{if(this.taskQueue=this.taskQueue.filter(c=>!!this.tasks[c]),!this.taskQueue.length)return;const t=this.pick();if(t===null)return;const o=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!o)return;o.fn()}finally{}}pick(){let t=null,o=1/0;for(let p=0;p<this.taskQueue.length;p++){const g=this.tasks[this.taskQueue[p]];g.priority<o&&(o=g.priority,t=p)}if(t===null)return null;const c=this.taskQueue[t];return this.taskQueue.splice(t,1),c}remove(){this.invoker.remove()}}class Q{constructor(t){this._stringToNumber={},this._numberToString=[];for(let o=0;o<t.length;o++){const c=t[o];this._stringToNumber[c]=o,this._numberToString[o]=c}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}const Se=["tile","layer","source","sourceLayer","state"];class Ge{constructor(t,o,c,p,g){this.type="Feature",this._vectorTileFeature=t,this._z=o,this._x=c,this._y=p,this.properties=t.properties,this.id=g}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(t.id=this.id);for(const o of Se)this[o]!==void 0&&(t[o]=this[o]);return t}}const Je=32,gt=33,Ct=new Uint16Array(8184);for(let r=0;r<2046;r++){let t=r+2,o=0,c=0,p=0,g=0,b=0,C=0;for(1&t?p=g=b=Je:o=c=C=Je;(t>>=1)>1;){const H=o+p>>1,he=c+g>>1;1&t?(p=o,g=c,o=b,c=C):(o=p,c=g,p=b,g=C),b=H,C=he}const B=4*r;Ct[B+0]=o,Ct[B+1]=c,Ct[B+2]=p,Ct[B+3]=g}const zt=new Uint16Array(2178),mi=new Uint8Array(1089),vi=new Uint16Array(1089);function Ai(r){return r===0?-.03125:r===32?.03125:0}var Hi=Ui([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const cn={type:2,extent:an,loadGeometry:()=>[[new j(0,0),new j(8193,0),new j(8193,8193),new j(0,8193),new j(0,0)]]};class An{constructor(t,o,c,p,g){this.tileID=t,this.uid=Me(),this.uses=0,this.tileSize=o,this.tileZoom=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=g,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(t){const o=t+this.timeAdded;o<Zi.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Id(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(t,o,c){if(this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(p,g){const b={};if(!g)return b;for(const C of p){const B=C.layerIds.map(H=>g.getLayer(H)).filter(Boolean);if(B.length!==0){C.layers=B,C.stateDependentLayerIds&&(C.stateDependentLayers=C.stateDependentLayerIds.map(H=>B.filter(he=>he.id===H)[0]));for(const H of B)b[H.id]=C}}return b}(t.buckets,o.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const g=this.buckets[p];if(g instanceof jh){if(this.hasSymbolBuckets=!0,!c)break;g.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const g=this.buckets[p];if(g instanceof jh&&g.hasRTLText){this.hasRTLText=!0,Ft.isLoading()||Ft.isLoaded()||At()!=="deferred"||$t();break}}this.queryPadding=0;for(const p in this.buckets){const g=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(p).queryRadius(g))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas)}else this.collisionBoxArray=new Pm}unloadVectorData(){if(this.hasData()){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(t){return this.buckets[t.id]}upload(t){for(const c in this.buckets){const p=this.buckets[c];p.uploadPending()&&p.upload(t)}const o=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new tf(t,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new tf(t,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new tf(t,this.lineAtlas.image,o.ALPHA),this.lineAtlas.uploaded=!0)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,o,c,p,g,b,C,B){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:C,transform:b,params:g,tileTransform:this.tileTransform},t,o,c):{}}querySourceFeatures(t,o){const c=this.latestFeatureIndex;if(!c||!c.rawTileData)return;const p=c.loadVTLayers(),g=o?o.sourceLayer:"",b=p._geojsonTileLayer||p[g];if(!b)return;const C=Qr(o&&o.filter),{z:B,x:H,y:he}=this.tileID.canonical,ge={z:B,x:H,y:he};for(let be=0;be<b.length;be++){const Ce=b.feature(be);if(C.needGeometry){const Ye=Ec(Ce,!0);if(!C.filter(new Pt(this.tileID.overscaledZ),Ye,this.tileID.canonical))continue}else if(!C.filter(new Pt(this.tileID.overscaledZ),Ce))continue;const De=c.getId(Ce,g),Fe=new Ge(Ce,B,H,he,De);Fe.tile=ge,t.push(Fe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const o=this.expirationTime;if(t.cacheControl){const c=ke(t.cacheControl);c["max-age"]&&(this.expirationTime=Date.now()+1e3*c["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const c=Date.now();let p=!1;if(this.expirationTime>c)p=!1;else if(o)if(this.expirationTime<o)p=!0;else{const g=this.expirationTime-o;g?this.expirationTime=c+Math.max(g,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(t,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(t).length===0||!o)return;const c=this.latestFeatureIndex.loadVTLayers(),p=o.style.listImages();for(const g in this.buckets){if(!o.style.hasLayer(g))continue;const b=this.buckets[g],C=b.layers[0].sourceLayer||"_geojsonTileLayer",B=c[C],H=t[C];if(!B||!H||Object.keys(H).length===0)continue;if(b.update(H,B,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),b instanceof b0||b instanceof u0){const ge=o.style._getSourceCache(b.layers[0].source);o._terrain&&o._terrain.enabled&&ge&&b.programConfigurations.needsUpload&&o._terrain._clearRenderCacheForTile(ge.id,this.tileID)}const he=o&&o.style&&o.style.getLayer(g);he&&(this.queryPadding=Math.max(this.queryPadding,he.queryRadius(b)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Zi.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=Zi.now()+t}setTexture(t,o){const c=o.context,p=c.gl;this.texture=this.texture||o.getTileTexture(t.width),this.texture?this.texture.update(t,{useMipmap:!0}):(this.texture=new tf(c,t,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),c.extTextureFilterAnisotropic&&p.texParameterf(p.TEXTURE_2D,c.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c.extTextureFilterAnisotropicMax))}setDependencies(t,o){const c={};for(const p of o)c[p]=!0;this.dependencies[t]=c}hasDependency(t,o){for(const c of t){const p=this.dependencies[c];if(p){for(const g of o)if(p[g])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(t,o){if(!o||o.name==="mercator"||this._tileDebugBuffer)return;const c=Wl(cn,this.tileID.canonical,this.tileTransform)[0],p=new lr,g=new Zc;for(let b=0;b<c.length;b++){const{x:C,y:B}=c[b];p.emplaceBack(C,B),g.emplaceBack(b)}g.emplaceBack(0),this._tileDebugIndexBuffer=t.createIndexBuffer(g),this._tileDebugBuffer=t.createVertexBuffer(p,Xp.members),this._tileDebugSegments=Ss.simpleSegment(0,0,p.length,g.length)}_makeTileBoundsBuffers(t,o){if(this._tileBoundsBuffer||!o||o.name==="mercator")return;const c=Wl(cn,this.tileID.canonical,this.tileTransform)[0];let p,g;if(this.isRaster){const b=function(C,B){const H=Id(C,B),he=Math.pow(2,C.z);for(let Ye=0;Ye<gt;Ye++)for(let dt=0;dt<gt;dt++){const _t=oa((C.x+(dt+Ai(dt))/Je)/he),ct=fo((C.y+(Ye+Ai(Ye))/Je)/he),ft=B.project(_t,ct),Tt=Ye*gt+dt;zt[2*Tt+0]=Math.round((ft.x*H.scale-H.x)*an),zt[2*Tt+1]=Math.round((ft.y*H.scale-H.y)*an)}mi.fill(0),vi.fill(0);for(let Ye=2045;Ye>=0;Ye--){const dt=4*Ye,_t=Ct[dt+0],ct=Ct[dt+1],ft=Ct[dt+2],Tt=Ct[dt+3],vt=_t+ft>>1,Ht=ct+Tt>>1,Wt=vt+Ht-ct,oi=Ht+_t-vt,Ei=ct*gt+_t,Zt=Tt*gt+ft,ai=Ht*gt+vt,ui=Math.hypot((zt[2*Ei+0]+zt[2*Zt+0])/2-zt[2*ai+0],(zt[2*Ei+1]+zt[2*Zt+1])/2-zt[2*ai+1])>=16;if(mi[ai]=mi[ai]||(ui?1:0),Ye<1022){const gi=(ct+oi>>1)*gt+(_t+Wt>>1),Mi=(Tt+oi>>1)*gt+(ft+Wt>>1);mi[ai]=mi[ai]||mi[gi]||mi[Mi]}}const ge=new yr,be=new no;let Ce=0;function De(Ye,dt){const _t=dt*gt+Ye;return vi[_t]===0&&(ge.emplaceBack(zt[2*_t+0],zt[2*_t+1],Ye*an/Je,dt*an/Je),vi[_t]=++Ce),vi[_t]-1}function Fe(Ye,dt,_t,ct,ft,Tt){const vt=Ye+_t>>1,Ht=dt+ct>>1;if(Math.abs(Ye-ft)+Math.abs(dt-Tt)>1&&mi[Ht*gt+vt])Fe(ft,Tt,Ye,dt,vt,Ht),Fe(_t,ct,ft,Tt,vt,Ht);else{const Wt=De(Ye,dt),oi=De(_t,ct),Ei=De(ft,Tt);be.emplaceBack(Wt,oi,Ei)}}return Fe(0,0,Je,Je,Je,0),Fe(Je,Je,0,0,0,Je),{vertices:ge,indices:be}}(this.tileID.canonical,o);p=b.vertices,g=b.indices}else{p=new yr,g=new no;for(const{x:C,y:B}of c)p.emplaceBack(C,B,0,0);const b=Rp.exports(p.int16,void 0,4);for(let C=0;C<b.length;C+=3)g.emplaceBack(b[C],b[C+1],b[C+2])}this._tileBoundsBuffer=t.createVertexBuffer(p,Hi.members),this._tileBoundsIndexBuffer=t.createIndexBuffer(g),this._tileBoundsSegments=Ss.simpleSegment(0,0,p.length,g.length)}_makeGlobeTileDebugBuffers(t,o){const c=o.projection;if(!c||c.name!=="globe"||o.freezeTileCoverage)return;const p=this.tileID.canonical,g=Zp(oy(p,o)),b=Dd(o.zoom);let C;b>0&&(C=o0(new Float64Array(16),o.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(t,p,o,g,C,b),this._makeGlobeTileDebugTextBuffer(t,p,o,g,C,b)}_globePoint(t,o,c,p,g,b,C){let B=qp(t,o,c);if(b){const H=1<<c.z,he=Gl(p.center.lng),ge=Ga(p.center.lat),be=(c.x+.5)/H-he;let Ce=0;be>.5?Ce=-1:be<-.5&&(Ce=1);let De=(t/an+c.x)/H+Ce,Fe=(o/an+c.y)/H;De=(De-he)*p._pixelsPerMercatorPixel+he,Fe=(Fe-ge)*p._pixelsPerMercatorPixel+ge;const Ye=[De*p.worldSize,Fe*p.worldSize,0];ys(Ye,Ye,b),B=Pd(B,Ye,C)}return ys(B,B,g)}_makeGlobeTileDebugBorderBuffer(t,o,c,p,g,b){const C=new lr,B=new Zc,H=new Er,he=(be,Ce,De,Fe,Ye)=>{const dt=(De-be)/(Ye-1),_t=(Fe-Ce)/(Ye-1),ct=C.length;for(let ft=0;ft<Ye;ft++){const Tt=be+ft*dt,vt=Ce+ft*_t;C.emplaceBack(Tt,vt);const Ht=this._globePoint(Tt,vt,o,c,p,g,b);H.emplaceBack(Ht[0],Ht[1],Ht[2]),B.emplaceBack(ct+ft)}},ge=an;he(0,0,ge,0,16),he(ge,0,ge,ge,16),he(ge,ge,0,ge,16),he(0,ge,0,0,16),this._tileDebugIndexBuffer=t.createIndexBuffer(B),this._tileDebugBuffer=t.createVertexBuffer(C,Xp.members),this._globeTileDebugBorderBuffer=t.createVertexBuffer(H,Lg.members),this._tileDebugSegments=Ss.simpleSegment(0,0,C.length,B.length)}_makeGlobeTileDebugTextBuffer(t,o,c,p,g,b){const C=new lr,B=new no,H=new Er,he=25;B.reserve(32),C.reserve(he),H.reserve(he);const ge=(be,Ce)=>he*be+Ce;for(let be=0;be<he;be++){const Ce=2048*be;for(let De=0;De<he;De++){const Fe=2048*De;C.emplaceBack(Fe,Ce);const Ye=this._globePoint(Fe,Ce,o,c,p,g,b);H.emplaceBack(Ye[0],Ye[1],Ye[2])}}for(let be=0;be<4;be++)for(let Ce=0;Ce<4;Ce++){const De=ge(be,Ce),Fe=ge(be,Ce+1),Ye=ge(be+1,Ce),dt=ge(be+1,Ce+1);B.emplaceBack(De,Fe,Ye),B.emplaceBack(Ye,Fe,dt)}this._tileDebugTextIndexBuffer=t.createIndexBuffer(B),this._tileDebugTextBuffer=t.createVertexBuffer(C,Xp.members),this._globeTileDebugTextBuffer=t.createVertexBuffer(H,Lg.members),this._tileDebugTextSegments=Ss.simpleSegment(0,0,he,32)}}class Jn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,o,c){const p=String(o);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][p]=this.stateChanges[t][p]||{},K(this.stateChanges[t][p],c),this.deletedStates[t]===null){this.deletedStates[t]={};for(const g in this.state[t])g!==p&&(this.deletedStates[t][g]=null)}else if(this.deletedStates[t]&&this.deletedStates[t][p]===null){this.deletedStates[t][p]={};for(const g in this.state[t][p])c[g]||(this.deletedStates[t][p][g]=null)}else for(const g in c)this.deletedStates[t]&&this.deletedStates[t][p]&&this.deletedStates[t][p][g]===null&&delete this.deletedStates[t][p][g]}removeFeatureState(t,o,c){if(this.deletedStates[t]===null)return;const p=String(o);if(this.deletedStates[t]=this.deletedStates[t]||{},c&&o!==void 0)this.deletedStates[t][p]!==null&&(this.deletedStates[t][p]=this.deletedStates[t][p]||{},this.deletedStates[t][p][c]=null);else if(o!==void 0)if(this.stateChanges[t]&&this.stateChanges[t][p])for(c in this.deletedStates[t][p]={},this.stateChanges[t][p])this.deletedStates[t][p][c]=null;else this.deletedStates[t][p]=null;else this.deletedStates[t]=null}getState(t,o){const c=String(o),p=K({},(this.state[t]||{})[c],(this.stateChanges[t]||{})[c]);if(this.deletedStates[t]===null)return{};if(this.deletedStates[t]){const g=this.deletedStates[t][o];if(g===null)return{};for(const b in g)delete p[b]}return p}initializeTileState(t,o){t.setFeatureState(this.state,o)}coalesceChanges(t,o){const c={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const g={};for(const b in this.stateChanges[p])this.state[p][b]||(this.state[p][b]={}),K(this.state[p][b],this.stateChanges[p][b]),g[b]=this.state[p][b];c[p]=g}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const g={};if(this.deletedStates[p]===null)for(const b in this.state[p])g[b]={},this.state[p][b]={};else for(const b in this.deletedStates[p]){if(this.deletedStates[p][b]===null)this.state[p][b]={};else for(const C of Object.keys(this.deletedStates[p][b]))delete this.state[p][b][C];g[b]=this.state[p][b]}c[p]=c[p]||{},K(c[p],g)}if(this.stateChanges={},this.deletedStates={},Object.keys(c).length!==0)for(const p in t)t[p].setFeatureState(c,o)}}class In{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(t,o){const c=this.toIdx(t,o);return{min:this.minimums[c],max:this.maximums[c]}}isLeaf(t,o){return this.leaves[this.toIdx(t,o)]}toIdx(t,o){return o*this.size+t}}function sr(r,t,o,c){let p=0,g=Number.MAX_VALUE;for(let b=0;b<3;b++)if(Math.abs(c[b])<1e-15){if(o[b]<r[b]||o[b]>t[b])return null}else{const C=1/c[b];let B=(r[b]-o[b])*C,H=(t[b]-o[b])*C;if(B>H){const he=B;B=H,H=he}if(B>p&&(p=B),H<g&&(g=H),p>g)return null}return p}function fr(r,t,o,c,p,g,b,C,B,H,he){const ge=c-r,be=p-t,Ce=g-o,De=b-r,Fe=C-t,Ye=B-o,dt=he[1]*Ye-he[2]*Fe,_t=he[2]*De-he[0]*Ye,ct=he[0]*Fe-he[1]*De,ft=ge*dt+be*_t+Ce*ct;if(Math.abs(ft)<1e-15)return null;const Tt=1/ft,vt=H[0]-r,Ht=H[1]-t,Wt=H[2]-o,oi=(vt*dt+Ht*_t+Wt*ct)*Tt;if(oi<0||oi>1)return null;const Ei=Ht*Ce-Wt*be,Zt=Wt*ge-vt*Ce,ai=vt*be-Ht*ge,ui=(he[0]*Ei+he[1]*Zt+he[2]*ai)*Tt;return ui<0||oi+ui>1?null:(De*Ei+Fe*Zt+Ye*ai)*Tt}function wa(r,t,o){return(r-t)/(o-t)}function Zo(r,t,o,c,p,g,b,C,B){const H=1<<o,he=g-c,ge=b-p,be=(r+1)/H*he+c,Ce=(t+0)/H*ge+p,De=(t+1)/H*ge+p;C[0]=(r+0)/H*he+c,C[1]=Ce,B[0]=be,B[1]=De}class Ta{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const o=function(g){const b=Math.ceil(Math.log2(g.dim/8)),C=[];let B=Math.ceil(Math.pow(2,b));const H=1/B,he=(Ce,De,Fe,Ye,dt)=>{const _t=Ye?1:0,ct=(Ce+1)*Fe-_t,ft=De*Fe,Tt=(De+1)*Fe-_t;dt[0]=Ce*Fe,dt[1]=ft,dt[2]=ct,dt[3]=Tt};let ge=new In(B);const be=[];for(let Ce=0;Ce<B*B;Ce++){he(Ce%B,Math.floor(Ce/B),H,!1,be);const De=go(be[0],be[1],g),Fe=go(be[2],be[1],g),Ye=go(be[2],be[3],g),dt=go(be[0],be[3],g);ge.minimums.push(Math.min(De,Fe,Ye,dt)),ge.maximums.push(Math.max(De,Fe,Ye,dt)),ge.leaves.push(1)}for(C.push(ge),B/=2;B>=1;B/=2){const Ce=C[C.length-1];ge=new In(B);for(let De=0;De<B*B;De++){he(De%B,Math.floor(De/B),2,!0,be);const Fe=Ce.getElevation(be[0],be[1]),Ye=Ce.getElevation(be[2],be[1]),dt=Ce.getElevation(be[2],be[3]),_t=Ce.getElevation(be[0],be[3]),ct=Ce.isLeaf(be[0],be[1]),ft=Ce.isLeaf(be[2],be[1]),Tt=Ce.isLeaf(be[2],be[3]),vt=Ce.isLeaf(be[0],be[3]),Ht=Math.min(Fe.min,Ye.min,dt.min,_t.min),Wt=Math.max(Fe.max,Ye.max,dt.max,_t.max),oi=ct&&ft&&Tt&&vt;ge.maximums.push(Wt),ge.minimums.push(Ht),ge.leaves.push(Wt-Ht<=5&&oi?1:0)}C.push(ge)}return C}(this.dem),c=o.length-1,p=o[c];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(o,0,0,c,0)}raycastRoot(t,o,c,p,g,b,C=1){return sr([t,o,-100],[c,p,this.maximums[0]*C],g,b)}raycast(t,o,c,p,g,b,C=1){if(!this.nodeCount)return null;const B=this.raycastRoot(t,o,c,p,g,b,C);if(B==null)return null;const H=[],he=[],ge=[],be=[],Ce=[{idx:0,t:B,nodex:0,nodey:0,depth:0}];for(;Ce.length>0;){const{idx:De,t:Fe,nodex:Ye,nodey:dt,depth:_t}=Ce.pop();if(this.leaves[De]){Zo(Ye,dt,_t,t,o,c,p,ge,be);const ft=1<<_t,Tt=(Ye+0)/ft,vt=(Ye+1)/ft,Ht=(dt+0)/ft,Wt=(dt+1)/ft,oi=go(Tt,Ht,this.dem)*C,Ei=go(vt,Ht,this.dem)*C,Zt=go(vt,Wt,this.dem)*C,ai=go(Tt,Wt,this.dem)*C,ui=fr(ge[0],ge[1],oi,be[0],ge[1],Ei,be[0],be[1],Zt,g,b),gi=fr(be[0],be[1],Zt,ge[0],be[1],ai,ge[0],ge[1],oi,g,b),Mi=Math.min(ui!==null?ui:Number.MAX_VALUE,gi!==null?gi:Number.MAX_VALUE);if(Mi!==Number.MAX_VALUE)return Mi;{const Jt=Tu([],g,b,Fe);if(Rs(oi,Ei,ai,Zt,wa(Jt[0],ge[0],be[0]),wa(Jt[1],ge[1],be[1]))>=Jt[2])return Fe}continue}let ct=0;for(let ft=0;ft<this._siblingOffset.length;ft++){Zo((Ye<<1)+this._siblingOffset[ft][0],(dt<<1)+this._siblingOffset[ft][1],_t+1,t,o,c,p,ge,be),ge[2]=-100,be[2]=this.maximums[this.childOffsets[De]+ft]*C;const Tt=sr(ge,be,g,b);if(Tt!=null){const vt=Tt;H[ft]=vt;let Ht=!1;for(let Wt=0;Wt<ct&&!Ht;Wt++)vt>=H[he[Wt]]&&(he.splice(Wt,0,ft),Ht=!0);Ht||(he[ct]=ft),ct++}}for(let ft=0;ft<ct;ft++){const Tt=he[ft];Ce.push({idx:this.childOffsets[De]+Tt,t:H[Tt],nodex:(Ye<<1)+this._siblingOffset[Tt][0],nodey:(dt<<1)+this._siblingOffset[Tt][1],depth:_t+1})}}return null}_addNode(t,o,c){return this.minimums.push(t),this.maximums.push(o),this.leaves.push(c),this.childOffsets.push(0),this.nodeCount++}_construct(t,o,c,p,g){if(t[p].isLeaf(o,c)===1)return;this.childOffsets[g]||(this.childOffsets[g]=this.nodeCount);const b=p-1,C=t[b];let B=0,H=0;for(let he=0;he<this._siblingOffset.length;he++){const ge=2*o+this._siblingOffset[he][0],be=2*c+this._siblingOffset[he][1],Ce=C.getElevation(ge,be),De=C.isLeaf(ge,be),Fe=this._addNode(Ce.min,Ce.max,De);De&&(B|=1<<he),H||(H=Fe)}for(let he=0;he<this._siblingOffset.length;he++)B&1<<he||this._construct(t,2*o+this._siblingOffset[he][0],2*c+this._siblingOffset[he][1],b,H+he)}}function Rs(r,t,o,c,p,g){return Pn(Pn(r,o,g),Pn(t,c,g),p)}function go(r,t,o){const c=o.dim,p=v(r*c-.5,0,c-1),g=v(t*c-.5,0,c-1),b=Math.floor(p),C=Math.floor(g),B=Math.min(b+1,c-1),H=Math.min(C+1,c-1);return Rs(o.get(b,C),o.get(B,C),o.get(b,H),o.get(B,H),p-b,g-C)}const Dc={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class nf{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,o,c,p=!1,g=!1){if(this.uid=t,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(c&&c!=="mapbox"&&c!=="terrarium")return se(`"${c}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=o.height;const b=this.dim=o.height-2,C=new Uint32Array(o.data.buffer);if(this.pixels=new Uint8Array(o.data.buffer),this.encoding=c||"mapbox",this.borderReady=p,!p){for(let B=0;B<b;B++)C[this._idx(-1,B)]=C[this._idx(0,B)],C[this._idx(b,B)]=C[this._idx(b-1,B)],C[this._idx(B,-1)]=C[this._idx(B,0)],C[this._idx(B,b)]=C[this._idx(B,b-1)];C[this._idx(-1,-1)]=C[this._idx(0,0)],C[this._idx(b,-1)]=C[this._idx(b-1,0)],C[this._idx(-1,b)]=C[this._idx(0,b-1)],C[this._idx(b,b)]=C[this._idx(b-1,b-1)],g&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Ta(this)}get(t,o,c=!1){c&&(t=v(t,-1,this.dim),o=v(o,-1,this.dim));const p=4*this._idx(t,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(t){return Dc[t]}get unpackVector(){return Dc[this.encoding]}_idx(t,o){if(t<-1||t>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(t+1)}_unpackMapbox(t,o,c){return(256*t*256+256*o+c)/10-1e4}_unpackTerrarium(t,o,c){return 256*t+o+c/256-32768}static pack(t,o){const c=[0,0,0,0],p=nf.getUnpackVector(o);let g=Math.floor((t+p[3])/p[2]);return c[2]=g%256,g=Math.floor(g/256),c[1]=g%256,g=Math.floor(g/256),c[0]=g,c}getPixels(){return new ba({width:this.stride,height:this.stride},this.pixels)}backfillBorder(t,o,c){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let p=o*this.dim,g=o*this.dim+this.dim,b=c*this.dim,C=c*this.dim+this.dim;switch(o){case-1:p=g-1;break;case 1:g=p+1}switch(c){case-1:b=C-1;break;case 1:C=b+1}const B=-o*this.dim,H=-c*this.dim;for(let he=b;he<C;he++)for(let ge=p;ge<g;ge++){const be=4*this._idx(ge,he),Ce=4*this._idx(ge+B,he+H);this.pixels[be+0]=t.pixels[Ce+0],this.pixels[be+1]=t.pixels[Ce+1],this.pixels[be+2]=t.pixels[Ce+2],this.pixels[be+3]=t.pixels[Ce+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Ri(nf,"DEMData"),Ri(Ta,"DemMinMaxQuadTree",{omit:["dem"]});class S4{constructor(t,o){this.max=t,this.onRemove=o,this.reset()}reset(){for(const t in this.data)for(const o of this.data[t])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(t,o,c){const p=t.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const g={value:o,timeout:void 0};if(c!==void 0&&(g.timeout=setTimeout(()=>{this.remove(t,g)},c)),this.data[p].push(g),this.order.push(p),this.order.length>this.max){const b=this._getAndRemoveByKey(this.order[0]);b&&this.onRemove(b)}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const o=this.data[t].shift();return o.timeout&&clearTimeout(o.timeout),this.data[t].length===0&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),o.value}getByKey(t){const o=this.data[t];return o?o[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,o){if(!this.has(t))return this;const c=t.wrapped().key,p=o===void 0?0:this.data[c].indexOf(o),g=this.data[c][p];return this.data[c].splice(p,1),g.timeout&&clearTimeout(g.timeout),this.data[c].length===0&&delete this.data[c],this.onRemove(g.value),this.order.splice(this.order.indexOf(c),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(t){const o=[];for(const c in this.data)for(const p of this.data[c])t(p.value)||o.push(p);for(const c of o)this.remove(c.value.tileID,c)}}class j0{constructor(t,o,c){this.func=t,this.mask=o,this.range=c}}j0.ReadOnly=!1,j0.ReadWrite=!0,j0.disabled=new j0(519,j0.ReadOnly,[0,1]);const rb=7680;class sb{constructor(t,o,c,p,g,b){this.test=t,this.ref=o,this.mask=c,this.fail=p,this.depthFail=g,this.pass=b}}sb.disabled=new sb({func:519,mask:0},0,0,rb,rb,rb);class Uh{constructor(t,o,c){this.blendFunction=t,this.blendColor=o,this.mask=c}}Uh.Replace=[1,0],Uh.disabled=new Uh(Uh.Replace,Jr.transparent,[!1,!1,!1,!1]),Uh.unblended=new Uh(Uh.Replace,Jr.transparent,[!0,!0,!0,!0]),Uh.alphaBlended=new Uh([1,771],Jr.transparent,[!0,!0,!0,!0]);const ob=1029,ab=2305;class sh{constructor(t,o,c){this.enable=t,this.mode=o,this.frontFace=c}}sh.disabled=new sh(!1,ob,ab),sh.backCCW=new sh(!0,ob,ab),sh.backCW=new sh(!0,ob,2304),sh.frontCW=new sh(!0,1028,2304),sh.frontCCW=new sh(!0,1028,ab);class rf extends vo{constructor(t,o,c){super(),this.id=t,this._onlySymbols=c,o.on("data",p=>{p.dataType==="source"&&p.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&p.dataType==="source"&&p.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),o.on("error",()=>{this._sourceErrored=!0}),this._source=o,this._tiles={},this._cache=new S4(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=o.minTileCacheSize,this._maxTileCacheSize=o.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Jn,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(t){this.map=t,this._minTileCacheSize=this._minTileCacheSize===void 0&&t?t._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&t?t._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const t in this._tiles){const o=this._tiles[t];if(o.state!=="loaded"&&o.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(t,o){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,o)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,()=>{})}_abortTile(t){if(this._source.abortTile)return this._source.abortTile(t,()=>{})}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const c=this._tiles[o];c.upload(t),c.prepare(this.map.style.imageManager)}}getIds(){return ae(this._tiles).map(t=>t.tileID).sort(D5).map(t=>t.key)}getRenderableIds(t){const o=[];for(const c in this._tiles)this._isIdRenderable(+c,t)&&o.push(this._tiles[c]);return t?o.sort((c,p)=>{const g=c.tileID,b=p.tileID,C=new j(g.canonical.x,g.canonical.y)._rotate(this.transform.angle),B=new j(b.canonical.x,b.canonical.y)._rotate(this.transform.angle);return g.overscaledZ-b.overscaledZ||B.y-C.y||B.x-C.x}).map(c=>c.tileID.key):o.map(c=>c.tileID).sort(D5).map(c=>c.key)}hasRenderableParent(t){const o=this.findLoadedParent(t,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(t,o){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(o||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t in this._tiles)this._tiles[t].state!=="errored"&&this._reloadTile(+t,"reloading")}}_reloadTile(t,o){const c=this._tiles[t];c&&(c.state!=="loading"&&(c.state=o),this._loadTile(c,this._tileLoaded.bind(this,c,t,o)))}_tileLoaded(t,o,c,p){if(p)if(t.state="errored",p.status!==404)this._source.fire(new Za(p,{tile:t}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const g=this.map.painter.terrain;this.update(this.transform,g.getScaledDemTileSize(),!0),g.resetTileLookupCache(this.id)}else this.update(this.transform);else t.timeAdded=Zi.now(),c==="expired"&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(o,t),this._source.type==="raster-dem"&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new ua("data",{dataType:"source",tile:t,coord:t.tileID,sourceCacheId:this.id}))}_backfillDEM(t){const o=this.getRenderableIds();for(let p=0;p<o.length;p++){const g=o[p];if(t.neighboringTiles&&t.neighboringTiles[g]){const b=this.getTileByID(g);c(t,b),c(b,t)}}function c(p,g){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let b=g.tileID.canonical.x-p.tileID.canonical.x;const C=g.tileID.canonical.y-p.tileID.canonical.y,B=Math.pow(2,p.tileID.canonical.z),H=g.tileID.key;b===0&&C===0||Math.abs(C)>1||(Math.abs(b)>1&&(Math.abs(b+B)===1?b+=B:Math.abs(b-B)===1&&(b-=B)),g.dem&&p.dem&&(p.dem.backfillBorder(g.dem,b,C),p.neighboringTiles&&p.neighboringTiles[H]&&(p.neighboringTiles[H].backfilled=!0)))}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,o,c,p){for(const g in this._tiles){let b=this._tiles[g];if(p[g]||!b.hasData()||b.tileID.overscaledZ<=o||b.tileID.overscaledZ>c)continue;let C=b.tileID;for(;b&&b.tileID.overscaledZ>o+1;){const H=b.tileID.scaledTo(b.tileID.overscaledZ-1);b=this._tiles[H.key],b&&b.hasData()&&(C=H)}let B=C;for(;B.overscaledZ>o;)if(B=B.scaledTo(B.overscaledZ-1),t[B.key]){p[C.key]=C;break}}}findLoadedParent(t,o){if(t.key in this._loadedParentTiles){const c=this._loadedParentTiles[t.key];return c&&c.tileID.overscaledZ>=o?c:null}for(let c=t.overscaledZ-1;c>=o;c--){const p=t.scaledTo(c),g=this._getLoadedTile(p);if(g)return g}}_getLoadedTile(t){const o=this._tiles[t.key];return o&&o.hasData()?o:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}updateCacheSize(t,o){o=o||this._source.tileSize;const c=Math.ceil(t.width/o)+1,p=Math.ceil(t.height/o)+1,g=Math.floor(c*p*5),b=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,g):g,C=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,b):b;this._cache.setMaxSize(C)}handleWrapJump(t){const o=Math.round((t-(this._prevLng===void 0?t:this._prevLng))/360);if(this._prevLng=t,o){const c={};for(const p in this._tiles){const g=this._tiles[p];g.tileID=g.tileID.unwrapTo(g.tileID.wrap+o),c[g.tileID.key]=g}this._tiles=c;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(t,o,c){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!c)return;let p;this.updateCacheSize(t,o),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(C=>new ro(C.canonical.z,C.wrap,C.canonical.z,C.canonical.x,C.canonical.y)):(p=t.coveringTiles({tileSize:o||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!c,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(C=>this._source.hasTile(C)))):p=[];const g=this._updateRetainedTiles(p);if(I5(this._source.type)&&p.length!==0){const C={},B={},H=Object.keys(g);for(const ge of H){const be=g[ge],Ce=this._tiles[ge];if(!Ce||Ce.fadeEndTime&&Ce.fadeEndTime<=Zi.now())continue;const De=this.findLoadedParent(be,Math.max(be.overscaledZ-rf.maxOverzooming,this._source.minzoom));De&&(this._addTile(De.tileID),C[De.tileID.key]=De.tileID),B[ge]=be}const he=p[p.length-1].overscaledZ;for(const ge in this._tiles){const be=this._tiles[ge];if(g[ge]||!be.hasData())continue;let Ce=be.tileID;for(;Ce.overscaledZ>he;){Ce=Ce.scaledTo(Ce.overscaledZ-1);const De=this._tiles[Ce.key];if(De&&De.hasData()&&B[Ce.key]){g[ge]=be.tileID;break}}}for(const ge in C)g[ge]||(this._coveredTiles[ge]=!0,g[ge]=C[ge])}for(const C in g)this._tiles[C].clearFadeHold();const b=function(C,B){const H=[];for(const he in C)he in B||H.push(he);return H}(this._tiles,g);for(const C of b){const B=this._tiles[C];B.hasSymbolBuckets&&!B.holdingForFade()?B.setHoldDuration(this.map._fadeDuration):B.hasSymbolBuckets&&!B.symbolFadeFinished()||this._removeTile(+C)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t)}_updateRetainedTiles(t){const o={};if(t.length===0)return o;const c={},p=t.reduce((H,he)=>Math.min(H,he.overscaledZ),1/0),g=t[0].overscaledZ,b=Math.max(g-rf.maxOverzooming,this._source.minzoom),C=Math.max(g+rf.maxUnderzooming,this._source.minzoom),B={};for(const H of t){const he=this._addTile(H);o[H.key]=H,he.hasData()||p<this._source.maxzoom&&(B[H.key]=H)}this._retainLoadedChildren(B,p,C,o);for(const H of t){let he=this._tiles[H.key];if(he.hasData())continue;if(H.canonical.z>=this._source.maxzoom){const be=H.children(this._source.maxzoom)[0],Ce=this.getTile(be);if(Ce&&Ce.hasData()){o[be.key]=be;continue}}else{const be=H.children(this._source.maxzoom);if(o[be[0].key]&&o[be[1].key]&&o[be[2].key]&&o[be[3].key])continue}let ge=he.wasRequested();for(let be=H.overscaledZ-1;be>=b;--be){const Ce=H.scaledTo(be);if(c[Ce.key]||(c[Ce.key]=!0,he=this.getTile(Ce),!he&&ge&&(he=this._addTile(Ce)),he&&(o[Ce.key]=Ce,ge=he.wasRequested(),he.hasData())))break}}return o}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const o=[];let c,p=this._tiles[t].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){c=this._loadedParentTiles[p.key];break}o.push(p.key);const g=p.scaledTo(p.overscaledZ-1);if(c=this._getLoadedTile(g),c)break;p=g}for(const g of o)this._loadedParentTiles[g]=c}}_addTile(t){let o=this._tiles[t.key];if(o)return o;o=this._cache.getAndRemove(t),o&&(this._setTileReloadTimer(t.key,o),o.tileID=t,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,o)));const c=Boolean(o);if(!c){const p=this.map?this.map.painter:null;o=new An(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(o,this._tileLoaded.bind(this,o,t.key,o.state))}return o?(o.uses++,this._tiles[t.key]=o,c||this._source.fire(new ua("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o):null}_setTileReloadTimer(t,o){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const c=o.getExpiryTimeout();c&&(this._timers[t]=setTimeout(()=>{this._reloadTile(t,"expired"),delete this._timers[t]},c))}_removeTile(t){const o=this._tiles[t];o&&(o.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),o.uses>0||(o.hasData()&&o.state!=="reloading"?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(+t);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(t,o,c){const p=[],g=this.transform;if(!g)return p;const b=g.projection.name==="globe",C=Gl(g.center.lng);for(const B in this._tiles){const H=this._tiles[B];if(c&&H.clearQueryDebugViz(),H.holdingForFade())continue;let he;if(b){const ge=H.tileID.canonical;if(ge.z===0){const be=[Math.abs(v(C,...qg(ge,-1))-C),Math.abs(v(C,...qg(ge,1))-C)];he=[0,2*be.indexOf(Math.min(...be))-1]}else{const be=[Math.abs(v(C,...qg(ge,-1))-C),Math.abs(v(C,...qg(ge,0))-C),Math.abs(v(C,...qg(ge,1))-C)];he=[be.indexOf(Math.min(...be))-1]}}else he=[0];for(const ge of he){const be=t.containsTile(H,g,o,ge);be&&p.push(be)}}return p}getVisibleCoordinates(t){const o=this.getRenderableIds(t).map(c=>this._tiles[c].tileID);for(const c of o)c.projMatrix=this.transform.calculateProjMatrix(c.toUnwrapped());return o}hasTransition(){if(this._source.hasTransition())return!0;if(I5(this._source.type))for(const t in this._tiles){const o=this._tiles[t];if(o.fadeEndTime!==void 0&&o.fadeEndTime>=Zi.now())return!0}return!1}setFeatureState(t,o,c){this._state.updateState(t=t||"_geojsonTileLayer",o,c)}removeFeatureState(t,o,c){this._state.removeFeatureState(t=t||"_geojsonTileLayer",o,c)}getFeatureState(t,o){return this._state.getState(t=t||"_geojsonTileLayer",o)}setDependencies(t,o,c){const p=this._tiles[t];p&&p.setDependencies(o,c)}reloadTilesForDependencies(t,o){for(const c in this._tiles)this._tiles[c].hasDependency(t,o)&&this._reloadTile(+c,"reloading");this._cache.filter(c=>!c.hasDependency(t,o))}_preloadTiles(t,o){const c=new Map,p=Array.isArray(t)?t:[t],g=this.map.painter.terrain,b=this.usedForTerrain&&g?g.getScaledDemTileSize():this._source.tileSize;for(const C of p){const B=C.coveringTiles({tileSize:b,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const H of B)c.set(H.key,H);this.usedForTerrain&&C.updateElevation(!1)}ee(Array.from(c.values()),(C,B)=>{const H=new An(C,this._source.tileSize*C.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(H,he=>{this._source.type==="raster-dem"&&H.dem&&this._backfillDEM(H),B(he,H)})},o)}}function D5(r,t){const o=Math.abs(2*r.wrap)-+(r.wrap<0),c=Math.abs(2*t.wrap)-+(t.wrap<0);return r.overscaledZ-t.overscaledZ||c-o||t.canonical.y-r.canonical.y||t.canonical.x-r.canonical.x}function I5(r){return r==="raster"||r==="image"||r==="video"||r==="custom"}function qg(r,t){const o=1<<r.z;return[r.x/o+t,(r.x+1)/o+t]}rf.maxOverzooming=10,rf.maxUnderzooming=3;class my{constructor(t,o,c){this._demTile=t,this._dem=this._demTile.dem,this._scale=o,this._offset=c}static create(t,o,c){const p=c||t.findDEMTileFor(o);if(!p||!p.dem)return;const g=p.dem,b=p.tileID,C=1<<o.canonical.z-b.canonical.z;return new my(p,p.tileSize/an/C,[(o.canonical.x/C-b.canonical.x)*g.dim,(o.canonical.y/C-b.canonical.y)*g.dim])}tileCoordToPixel(t,o){const c=o*this._scale+this._offset[1],p=Math.floor(t*this._scale+this._offset[0]),g=Math.floor(c);return new j(p,g)}getElevationAt(t,o,c,p){const g=t*this._scale+this._offset[0],b=o*this._scale+this._offset[1],C=Math.floor(g),B=Math.floor(b),H=this._dem;return p=!!p,c?Pn(Pn(H.get(C,B,p),H.get(C,B+1,p),b-B),Pn(H.get(C+1,B,p),H.get(C+1,B+1,p),b-B),g-C):H.get(C,B,p)}getElevationAtPixel(t,o,c){return this._dem.get(t,o,!!c)}getMeterToDEM(t){return(1<<this._demTile.tileID.canonical.z)*Va(1,t)*this._dem.stride}}class L5{constructor(t,o){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Dh(an,16,0),this.featureIndexArray=new Kc,this.promoteId=o}insert(t,o,c,p,g,b=0){const C=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(c,p,g,b);const B=this.grid;for(let H=0;H<o.length;H++){const he=o[H],ge=[1/0,1/0,-1/0,-1/0];for(let be=0;be<he.length;be++){const Ce=he[be];ge[0]=Math.min(ge[0],Ce.x),ge[1]=Math.min(ge[1],Ce.y),ge[2]=Math.max(ge[2],Ce.x),ge[3]=Math.max(ge[3],Ce.y)}ge[0]<an&&ge[1]<an&&ge[2]>=0&&ge[3]>=0&&B.insert(C,ge[0],ge[1],ge[2],ge[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new pg(new Wp(this.rawTileData)).layers,this.sourceLayerCoder=new Q(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const t in this.vtLayers)this.vtFeatures[t]=[]}return this.vtLayers}query(t,o,c,p){this.loadVTLayers();const g=t.params||{},b=Qr(g.filter),C=t.tileResult,B=t.transform,H=C.bufferedTilespaceBounds,he=this.grid.query(H.min.x,H.min.y,H.max.x,H.max.y,(De,Fe,Ye,dt)=>Xm(C.bufferedTilespaceGeometry,De,Fe,Ye,dt));he.sort(E4);let ge=null;B.elevation&&he.length>0&&(ge=my.create(B.elevation,this.tileID));const be={};let Ce;for(let De=0;De<he.length;De++){const Fe=he[De];if(Fe===Ce)continue;Ce=Fe;const Ye=this.featureIndexArray.get(Fe);let dt=null;this.loadMatchingFeature(be,Ye,b,g.layers,g.availableImages,o,c,p,(_t,ct,ft,Tt=0)=>(dt||(dt=Wl(_t,this.tileID.canonical,t.tileTransform)),ct.queryIntersectsFeature(C,_t,ft,dt,this.z,t.transform,t.pixelPosMatrix,ge,Tt)))}return be}loadMatchingFeature(t,o,c,p,g,b,C,B,H){const{featureIndex:he,bucketIndex:ge,sourceLayerIndex:be,layoutVertexArrayOffset:Ce}=o,De=this.bucketLayerIDs[ge];if(p&&!function(_t,ct){for(let ft=0;ft<_t.length;ft++)if(ct.indexOf(_t[ft])>=0)return!0;return!1}(p,De))return;const Fe=this.sourceLayerCoder.decode(be),Ye=this.vtLayers[Fe].feature(he);if(c.needGeometry){const _t=Ec(Ye,!0);if(!c.filter(new Pt(this.tileID.overscaledZ),_t,this.tileID.canonical))return}else if(!c.filter(new Pt(this.tileID.overscaledZ),Ye))return;const dt=this.getId(Ye,Fe);for(let _t=0;_t<De.length;_t++){const ct=De[_t];if(p&&p.indexOf(ct)<0)continue;const ft=b[ct];if(!ft)continue;let Tt={};dt!==void 0&&B&&(Tt=B.getState(ft.sourceLayer||"_geojsonTileLayer",dt));const vt=K({},C[ct]);vt.paint=O5(vt.paint,ft.paint,Ye,Tt,g),vt.layout=O5(vt.layout,ft.layout,Ye,Tt,g);const Ht=!H||H(Ye,ft,Tt,Ce);if(!Ht)continue;const Wt=new Ge(Ye,this.z,this.x,this.y,dt);Wt.layer=vt;let oi=t[ct];oi===void 0&&(oi=t[ct]=[]),oi.push({featureIndex:he,feature:Wt,intersectionZ:Ht})}}lookupSymbolFeatures(t,o,c,p,g,b,C,B){const H={};this.loadVTLayers();const he=Qr(g);for(const ge of t)this.loadMatchingFeature(H,{bucketIndex:c,sourceLayerIndex:p,featureIndex:ge,layoutVertexArrayOffset:0},he,b,C,B,o);return H}loadFeature(t){const{featureIndex:o,sourceLayerIndex:c}=t;this.loadVTLayers();const p=this.sourceLayerCoder.decode(c),g=this.vtFeatures[p];if(g[o])return g[o];const b=this.vtLayers[p].feature(o);return g[o]=b,b}hasLayer(t){for(const o of this.bucketLayerIDs)for(const c of o)if(t===c)return!0;return!1}getId(t,o){let c=t.id;if(this.promoteId){const p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[o];p!=null&&(c=t.properties[p]),typeof c=="boolean"&&(c=Number(c))}return c}}function O5(r,t,o,c,p){return Le(r,(g,b)=>{const C=t instanceof wi?t.get(b):null;return C&&C.evaluate?C.evaluate(o,c,p):C})}function E4(r,t){return t-r}Ri(L5,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class R5{constructor(t,o){this.width=t,this.height=o,this.nextRow=0,this.image=new th({width:t,height:o}),this.positions={},this.uploaded=!1}getDash(t,o){const c=this.getKey(t,o);return this.positions[c]}trim(){const t=this.width,o=this.height=W(this.nextRow);this.image.resize({width:t,height:o})}getKey(t,o){return t.join(",")+o}getDashRanges(t,o,c){const p=[];let g=t.length%2==1?-t[t.length-1]*c:0,b=t[0]*c,C=!0;p.push({left:g,right:b,isDash:C,zeroLength:t[0]===0});let B=t[0];for(let H=1;H<t.length;H++){C=!C;const he=t[H];g=B*c,B+=he,b=B*c,p.push({left:g,right:b,isDash:C,zeroLength:he===0})}return p}addRoundDash(t,o,c){const p=o/2;for(let g=-c;g<=c;g++){const b=this.width*(this.nextRow+c+g);let C=0,B=t[C];for(let H=0;H<this.width;H++){H/B.right>1&&(B=t[++C]);const he=Math.abs(H-B.left),ge=Math.abs(H-B.right),be=Math.min(he,ge);let Ce;const De=g/c*(p+1);if(B.isDash){const Fe=p-Math.abs(De);Ce=Math.sqrt(be*be+Fe*Fe)}else Ce=p-Math.sqrt(be*be+De*De);this.image.data[b+H]=Math.max(0,Math.min(255,Ce+128))}}}addRegularDash(t,o){for(let B=t.length-1;B>=0;--B){const H=t[B],he=t[B+1];H.zeroLength?t.splice(B,1):he&&he.isDash===H.isDash&&(he.left=H.left,t.splice(B,1))}const c=t[0],p=t[t.length-1];c.isDash===p.isDash&&(c.left=p.left-this.width,p.right=c.right+this.width);const g=this.width*this.nextRow;let b=0,C=t[b];for(let B=0;B<this.width;B++){B/C.right>1&&(C=t[++b]);const H=Math.abs(B-C.left),he=Math.abs(B-C.right),ge=Math.min(H,he);this.image.data[g+B]=Math.max(0,Math.min(255,(C.isDash?ge:-ge)+o+128))}}addDash(t,o){const c=this.getKey(t,o);if(this.positions[c])return this.positions[c];const p=o==="round",g=p?7:0,b=2*g+1;if(this.nextRow+b>this.height)return se("LineAtlas out of space"),null;t.length===0&&t.push(1);let C=0;for(let he=0;he<t.length;he++)t[he]<0&&(se("Negative value is found in line dasharray, replacing values with 0"),t[he]=0),C+=t[he];if(C!==0){const he=this.width/C,ge=this.getDashRanges(t,this.width,he);p?this.addRoundDash(ge,he,g):this.addRegularDash(ge,o==="square"?.5*he:0)}const B=this.nextRow+g;this.nextRow+=b;const H={tl:[B,g],br:[C,0]};return this.positions[c]=H,H}}Ri(R5,"LineAtlas");class z5{constructor(t){const o={},c=[];for(const C in t){const B=t[C],H=o[C]={};for(const he in B.glyphs){const ge=B.glyphs[+he];if(!ge||ge.bitmap.width===0||ge.bitmap.height===0)continue;const be=ge.metrics.localGlyph?2:1,Ce={x:0,y:0,w:ge.bitmap.width+2*be,h:ge.bitmap.height+2*be};c.push(Ce),H[he]=Ce}}const{w:p,h:g}=Sg(c),b=new th({width:p||1,height:g||1});for(const C in t){const B=t[C];for(const H in B.glyphs){const he=B.glyphs[+H];if(!he||he.bitmap.width===0||he.bitmap.height===0)continue;const ge=o[C][H],be=he.metrics.localGlyph?2:1;th.copy(he.bitmap,b,{x:0,y:0},{x:ge.x+be,y:ge.y+be},he.bitmap)}}this.image=b,this.positions=o}}Ri(z5,"GlyphAtlas");class M4{constructor(t){this.tileID=new ro(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=Id(t.tileID.canonical,t.projection),this.projection=t.projection}parse(t,o,c,p,g){this.status="parsing",this.data=t,this.collisionBoxArray=new Pm;const b=new Q(Object.keys(t.layers).sort()),C=new L5(this.tileID,this.promoteId);C.bucketLayerIDs=[];const B={},H=new R5(256,256),he={featureIndex:C,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:H,availableImages:c},ge=o.familiesBySource[this.source];for(const Tt in ge){const vt=t.layers[Tt];if(!vt)continue;let Ht=!1,Wt=!1;for(const Zt of ge[Tt])Zt[0].type==="symbol"?Ht=!0:Wt=!0;if(this.isSymbolTile===!0&&!Ht||this.isSymbolTile===!1&&!Wt)continue;vt.version===1&&se(`Vector tile source "${this.source}" layer "${Tt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const oi=b.encode(Tt),Ei=[];for(let Zt=0;Zt<vt.length;Zt++){const ai=vt.feature(Zt),ui=C.getId(ai,Tt);Ei.push({feature:ai,id:ui,index:Zt,sourceLayerIndex:oi})}for(const Zt of ge[Tt]){const ai=Zt[0];this.isSymbolTile!==void 0&&ai.type==="symbol"!==this.isSymbolTile||ai.minzoom&&this.zoom<Math.floor(ai.minzoom)||ai.maxzoom&&this.zoom>=ai.maxzoom||ai.visibility!=="none"&&(lb(Zt,this.zoom,c),(B[ai.id]=ai.createBucket({index:C.bucketLayerIDs.length,layers:Zt,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:oi,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:c})).populate(Ei,he,this.tileID.canonical,this.tileTransform),C.bucketLayerIDs.push(Zt.map(ui=>ui.id)))}}let be,Ce,De,Fe;H.trim();const Ye={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},dt=Le(he.glyphDependencies,Tt=>Object.keys(Tt).map(Number));Object.keys(dt).length?p.send("getGlyphs",{uid:this.uid,stacks:dt},(Tt,vt)=>{be||(be=Tt,Ce=vt,ft.call(this))},void 0,!1,Ye):Ce={};const _t=Object.keys(he.iconDependencies);_t.length?p.send("getImages",{icons:_t,source:this.source,tileID:this.tileID,type:"icons"},(Tt,vt)=>{be||(be=Tt,De=vt,ft.call(this))},void 0,!1,Ye):De={};const ct=Object.keys(he.patternDependencies);function ft(){if(be)return g(be);if(Ce&&De&&Fe){const Tt=new z5(Ce),vt=new kc(De,Fe);for(const Ht in B){const Wt=B[Ht];Wt instanceof jh?(lb(Wt.layers,this.zoom,c),z2(Wt,Ce,Tt.positions,De,vt.iconPositions,this.showCollisionBoxes,c,this.tileID.canonical,this.tileZoom,this.projection)):Wt.hasPattern&&(Wt instanceof b0||Wt instanceof u0||Wt instanceof Up)&&(lb(Wt.layers,this.zoom,c),Wt.addFeatures(he,this.tileID.canonical,vt.patternPositions,c,this.tileTransform))}this.status="done",g(null,{buckets:ae(B).filter(Ht=>!Ht.isEmpty()),featureIndex:C,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tt.image,lineAtlas:H,imageAtlas:vt,glyphMap:this.returnDependencies?Ce:null,iconMap:this.returnDependencies?De:null,glyphPositions:this.returnDependencies?Tt.positions:null})}}ct.length?p.send("getImages",{icons:ct,source:this.source,tileID:this.tileID,type:"patterns"},(Tt,vt)=>{be||(be=Tt,Fe=vt,ft.call(this))},void 0,!1,Ye):Fe={},ft.call(this)}}function lb(r,t,o){const c=new Pt(t);for(const p of r)p.recalculate(c,o)}class B5{constructor(t){this.entries={},this.scheduler=t}request(t,o,c,p){const g=this.entries[t]=this.entries[t]||{callbacks:[]};if(g.result){const[b,C]=g.result;return this.scheduler?this.scheduler.add(()=>{p(b,C)},o):p(b,C),()=>{}}return g.callbacks.push(p),g.cancel||(g.cancel=c((b,C)=>{g.result=[b,C];for(const B of g.callbacks)this.scheduler?this.scheduler.add(()=>{B(b,C)},o):B(b,C);setTimeout(()=>delete this.entries[t],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(b=>b!==p),g.callbacks.length||(g.cancel(),delete this.entries[t]))}}}function F5(r,t,o){const c=JSON.stringify(r.request);return r.data&&(this.deduped.entries[c]={result:[null,r.data]}),this.deduped.request(c,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom},p=>{const g=Xi(r.request,(b,C,B,H)=>{b?p(b):C&&p(null,{vectorTile:o?void 0:new pg(new Wp(C)),rawData:C,cacheControl:B,expires:H})});return()=>{g.cancel(),p()}},t)}n.ARRAY_TYPE=xa,n.AUTH_ERR_MSG=hr,n.Aabb=Yo,n.Actor=class{constructor(r,t,o){this.target=r,this.parent=t,this.mapId=o,this.callbacks={},this.cancelCallbacks={},ue(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ie()?r:w,this.scheduler=new T}send(r,t,o,c,p=!1,g){const b=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(o.metadata=g,this.callbacks[b]=o);const C=st(this.globalScope)?void 0:[];return this.target.postMessage({id:b,type:r,hasCallback:!!o,targetMapId:c,mustQueue:p,sourceMapId:this.mapId,data:bc(t,C)},C),{cancel:()=>{o&&delete this.callbacks[b],this.target.postMessage({id:b,type:"<cancel>",targetMapId:c,sourceMapId:this.mapId})}}}receive(r){const t=r.data,o=t.id;if(o&&(!t.targetMapId||this.mapId===t.targetMapId))if(t.type==="<cancel>"){const c=this.cancelCallbacks[o];delete this.cancelCallbacks[o],c&&c.cancel()}else if(t.mustQueue||Ie()){const c=this.callbacks[o];this.cancelCallbacks[o]=this.scheduler.add(()=>this.processTask(o,t),c&&c.metadata||{type:"message"})}else this.processTask(o,t)}processTask(r,t){if(t.type==="<response>"){const o=this.callbacks[r];delete this.callbacks[r],o&&(t.error?o(fd(t.error)):o(null,fd(t.data)))}else{const o=st(this.globalScope)?void 0:[],c=t.hasCallback?(g,b)=>{delete this.cancelCallbacks[r],this.target.postMessage({id:r,type:"<response>",sourceMapId:this.mapId,error:g?bc(g):null,data:bc(b,o)},o)}:g=>{},p=fd(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,p,c);else if(this.parent.getWorkerSource){const g=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,g[0],p.source)[g[1]](p,c)}else c(new Error(`Could not find function ${t.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},n.CanonicalTileID=x0,n.Color=Jr,n.ColorMode=Uh,n.CullFaceMode=sh,n.DEMData=nf,n.DataConstantProperty=Ot,n.DedupedRequest=B5,n.DepthMode=j0,n.EXTENT=an,n.Elevation=class{isDataAvailableAtPoint(r){const t=this._source();if(this.isUsingMockSource()||!t||r.y<0||r.y>1)return!1;const o=t.getSource().maxzoom,c=1<<o,p=Math.floor(r.x),g=Math.floor((r.x-p)*c),b=Math.floor(r.y*c),C=this.findDEMTileFor(new ro(o,p,o,g,b));return!(!C||!C.dem)}getAtPointOrZero(r,t=0){return this.getAtPoint(r,t)||0}getAtPoint(r,t,o=!0){if(this.isUsingMockSource())return null;t==null&&(t=null);const c=this._source();if(!c||r.y<0||r.y>1)return t;const p=c.getSource().maxzoom,g=1<<p,b=Math.floor(r.x),C=r.x-b,B=new ro(p,b,p,Math.floor(C*g),Math.floor(r.y*g)),H=this.findDEMTileFor(B);if(!H||!H.dem)return t;const he=H.dem,ge=1<<H.tileID.canonical.z,be=(C*ge-H.tileID.canonical.x)*he.dim,Ce=(r.y*ge-H.tileID.canonical.y)*he.dim,De=Math.floor(be),Fe=Math.floor(Ce);return(o?this.exaggeration():1)*Pn(Pn(he.get(De,Fe),he.get(De,Fe+1),Ce-Fe),Pn(he.get(De+1,Fe),he.get(De+1,Fe+1),Ce-Fe),be-De)}getAtTileOffset(r,t,o){const c=1<<r.canonical.z;return this.getAtPointOrZero(new xd(r.wrap+(r.canonical.x+t/an)/c,(r.canonical.y+o/an)/c))}getAtTileOffsetFunc(r,t,o,c){return p=>{const g=this.getAtTileOffset(r,p.x,p.y),b=c.upVector(r.canonical,p.x,p.y);return Wa(b,b,g*c.upVectorScale(r.canonical,t,o).metersToTile),b}}getForTilePoints(r,t,o,c){if(this.isUsingMockSource())return!1;const p=my.create(this,r,c);return!!p&&(t.forEach(g=>{g[2]=this.exaggeration()*p.getElevationAt(g[0],g[1],o)}),!0)}getMinMaxForTile(r){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(r);if(!t||!t.dem)return null;const o=t.dem.tree,c=t.tileID,p=1<<r.canonical.z-c.canonical.z;let g=r.canonical.x/p-c.canonical.x,b=r.canonical.y/p-c.canonical.y,C=0;for(let B=0;B<r.canonical.z-c.canonical.z&&!o.leaves[C];B++){g*=2,b*=2;const H=2*Math.floor(b)+Math.floor(g);C=o.childOffsets[C]+H,g%=1,b%=1}return{min:this.exaggeration()*o.minimums[C],max:this.exaggeration()*o.maximums[C]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(r,t,o){throw new Error("Pure virtual method called.")}pointCoordinate(r){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(r){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},n.ErrorEvent=Za,n.EvaluationParameters=Pt,n.Event=ua,n.Evented=vo,n.FillExtrusionBucket=Up,n.Frustum=ng,n.FrustumCorners=ig,n.GLOBE_METERS_TO_ECEF=Og,n.GLOBE_RADIUS=rh,n.GLOBE_SCALE_MATCH_LATITUDE=45,n.GLOBE_ZOOM_THRESHOLD_MAX=6,n.GLOBE_ZOOM_THRESHOLD_MIN=5,n.GlobeSharedBuffers=class{constructor(r){this._createGrid(r),this._createPoles(r)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const r of this._poleSegments)r.destroy();for(const r of this._gridSegments)r.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const r of this._wireframeSegments)r.destroy()}}_createGrid(r){const t=new lr,o=new no,c=65;for(let p=0;p<c;p++)for(let g=0;g<c;g++)t.emplaceBack(g,p);this._gridSegments=[];for(let p=0,g=0;p<Lu.length;p++){const b=Lu[p];for(let B=0;B<b;B++)for(let H=0;H<64;H++){const he=B*c+H;o.emplaceBack(he+1,he,he+c),o.emplaceBack(he+c,he+c+1,he+1)}const C=64*b*2;this._gridSegments.push(Ss.simpleSegment(0,g,(b+1)*c,C)),g+=C}this._gridBuffer=r.createVertexBuffer(t,Xp.members),this._gridIndexBuffer=r.createIndexBuffer(o,!0)}_createPoles(r){const t=new no;for(let p=0;p<=Iu;p++)t.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=r.createIndexBuffer(t,!0);const o=new Nn,c=new Nn;this._poleSegments=[];for(let p=0,g=0;p<5;p++){const b=360/(1<<p);o.emplaceBack(0,-rh,0,.5,0),c.emplaceBack(0,-rh,0,.5,1);for(let C=0;C<=Iu;C++){const B=C/Iu,H=Pn(0,b,B),[he,ge,be]=Ou(V2,jg,H,rh);o.emplaceBack(he,ge,be,B,0),c.emplaceBack(he,ge,be,B,1)}this._poleSegments.push(Ss.simpleSegment(g,0,66,64)),g+=66}this._poleNorthVertexBuffer=r.createVertexBuffer(o,Ig,!1),this._poleSouthVertexBuffer=r.createVertexBuffer(c,Ig,!1)}getGridBuffers(r){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[r]]}getPoleBuffers(r){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[r]]}getWirefameBuffers(r,t){if(!this._wireframeSegments){const o=new ol,c=Iu,p=c+1;this._wireframeSegments=[];for(let g=0,b=0;g<Lu.length;g++){const C=Lu[g];for(let H=0;H<C;H++)for(let he=0;he<c;he++){const ge=H*p+he;o.emplaceBack(ge,ge+1),o.emplaceBack(ge,ge+p),o.emplaceBack(ge,ge+p+1)}const B=C*c*3;this._wireframeSegments.push(Ss.simpleSegment(0,b,(C+1)*p,B)),b+=B}this._wireframeIndexBuffer=r.createIndexBuffer(o)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},n.GlyphManager=Cs,n.ImagePosition=T0,n.LivePerformanceUtils=Oi,n.LngLat=Zn,n.LngLatBounds=Qc,n.LocalGlyphMode=Cg,n.MAX_MERCATOR_LATITUDE=mo,n.MercatorCoordinate=xd,n.ONE_EM=Br,n.OverscaledTileID=ro,n.PerformanceMarkers=li,n.Properties=Qi,n.RGBAImage=ba,n.Ray=l0,n.RequestManager=class{constructor(r,t,o){this._transformRequestFn=r,this._customAccessToken=t,this._silenceAuthErrors=!!o,this._createSkuToken()}_createSkuToken(){const r=function(){let t="";for(let o=0;o<10;o++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",D,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,t){return this._transformRequestFn&&this._transformRequestFn(r,t)||{url:r}}normalizeStyleURL(r,t){if(!Cr(r))return r;const o=Js(r);return o.path=`/styles/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||t)}normalizeGlyphsURL(r,t){if(!Cr(r))return r;const o=Js(r);return o.path=`/fonts/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||t)}normalizeSourceURL(r,t,o,c){if(!Cr(r))return r;const p=Js(r);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),o&&p.params.push(`language=${o}`),c&&p.params.push(`worldview=${c}`),this._makeAPIURL(p,this._customAccessToken||t)}normalizeSpriteURL(r,t,o,c){const p=Js(r);return Cr(r)?(p.path=`/styles/v1${p.path}/sprite${t}${o}`,this._makeAPIURL(p,this._customAccessToken||c)):(p.path+=`${t}${o}`,qa(p))}normalizeTileURL(r,t,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!Cr(r))return r;const c=Js(r);c.path=c.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||o&&c.authority!=="raster"&&o===512?"@2x":""}${q.supported?".webp":"$1"}`),c.authority==="raster"?c.path=`/${G.RASTER_URL_PREFIX}${c.path}`:(c.path=c.path.replace(/^.+\/v4\//,"/"),c.path=`/${G.TILE_URL_VERSION}${c.path}`);const p=this._customAccessToken||function(g){for(const b of g){const C=b.match(/^access_token=(.*)$/);if(C)return C[1]}return null}(c.params)||G.ACCESS_TOKEN;return G.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&c.params.push(`sku=${this._skuToken}`),this._makeAPIURL(c,p)}canonicalizeTileURL(r,t){const o=Js(r);if(!o.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!o.path.match(/\.[\w]+$/))return r;let c="mapbox://";o.path.match(/^\/raster\/v1\//)?c+=`raster/${o.path.replace(`/${G.RASTER_URL_PREFIX}/`,"")}`:c+=`tiles/${o.path.replace(`/${G.TILE_URL_VERSION}/`,"")}`;let p=o.params;return t&&(p=p.filter(g=>!g.match(/^access_token=/))),p.length&&(c+=`?${p.join("&")}`),c}canonicalizeTileset(r,t){const o=!!t&&Cr(t),c=[];for(const p of r.tiles||[])Ar(p)?c.push(this.canonicalizeTileURL(p,o)):c.push(p);return c}_makeAPIURL(r,t){const o="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",c=Js(G.API_URL);if(r.protocol=c.protocol,r.authority=c.authority,r.protocol==="http"){const p=r.params.indexOf("secure");p>=0&&r.params.splice(p,1)}if(c.path!=="/"&&(r.path=`${c.path}${r.path}`),!G.REQUIRE_ACCESS_TOKEN)return qa(r);if(t=t||G.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error(`An API access token is required to use Mapbox GL. ${o}`);if(t[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${o}`)}return r.params=r.params.filter(p=>p.indexOf("access_token")===-1),r.params.push(`access_token=${t||""}`),qa(r)}},n.ResourceType=ri,n.SegmentVector=Ss,n.SourceCache=rf,n.StencilMode=sb,n.StructArrayLayout1ui2=Zc,n.StructArrayLayout2f1f2i16=po,n.StructArrayLayout2i4=lr,n.StructArrayLayout2ui4=ol,n.StructArrayLayout3f12=ja,n.StructArrayLayout3ui6=no,n.StructArrayLayout4i8=yr,n.StructArrayLayout5f20=Nn,n.Texture=tf,n.Tile=An,n.Transitionable=si,n.Uniform1f=fu,n.Uniform1i=class extends Tc{constructor(r){super(r),this.current=0}set(r,t,o){this.fetchUniformLocation(r,t)&&this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},n.Uniform2f=class extends Tc{constructor(r){super(r),this.current=[0,0]}set(r,t,o){this.fetchUniformLocation(r,t)&&(o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1])))}},n.Uniform3f=class extends Tc{constructor(r){super(r),this.current=[0,0,0]}set(r,t,o){this.fetchUniformLocation(r,t)&&(o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2])))}},n.Uniform4f=Q1,n.UniformColor=e_,n.UniformMatrix2f=class extends Tc{constructor(r){super(r),this.current=i_}set(r,t,o){if(this.fetchUniformLocation(r,t)){for(let c=0;c<4;c++)if(o[c]!==this.current[c]){this.current=o,this.gl.uniformMatrix2fv(this.location,!1,o);break}}}},n.UniformMatrix3f=class extends Tc{constructor(r){super(r),this.current=t_}set(r,t,o){if(this.fetchUniformLocation(r,t)){for(let c=0;c<9;c++)if(o[c]!==this.current[c]){this.current=o,this.gl.uniformMatrix3fv(this.location,!1,o);break}}}},n.UniformMatrix4f=class extends Tc{constructor(r){super(r),this.current=Sv}set(r,t,o){if(this.fetchUniformLocation(r,t)){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let c=1;c<16;c++)if(o[c]!==this.current[c]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}}},n.UnwrappedTileID=R_,n.ValidationError=ji,n.VectorTileFeature=m0,n.VectorTileWorkerSource=class extends vo{constructor(r,t,o,c,p){super(),this.actor=r,this.layerIndex=t,this.availableImages=o,this.loadVectorData=p||F5,this.loading={},this.loaded={},this.deduped=new B5(r.scheduler),this.isSpriteLoaded=c,this.scheduler=r.scheduler}loadTile(r,t){const o=r.uid,c=r&&r.request,p=c&&c.collectResourceTiming,g=this.loading[o]=new M4(r);g.abort=this.loadVectorData(r,(b,C)=>{const B=!this.loading[o];if(delete this.loading[o],B||b||!C)return g.status="done",B||(this.loaded[o]=g),t(b);const H=C.rawData,he={};C.expires&&(he.expires=C.expires),C.cacheControl&&(he.cacheControl=C.cacheControl),g.vectorTile=C.vectorTile||new pg(new Wp(H));const ge=()=>{g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,(be,Ce)=>{if(be||!Ce)return t(be);const De={};if(p){const Fe=en(c);Fe.length>0&&(De.resourceTiming=JSON.parse(JSON.stringify(Fe)))}t(null,K({rawTileData:H.slice(0)},Ce,he,De))})};this.isSpriteLoaded?ge():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(ge,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom}):ge()}),this.loaded=this.loaded||{},this.loaded[o]=g})}reloadTile(r,t){const o=this.loaded,c=r.uid,p=this;if(o&&o[c]){const g=o[c];g.showCollisionBoxes=r.showCollisionBoxes,g.enableTerrain=!!r.enableTerrain,g.projection=r.projection,g.tileTransform=Id(r.tileID.canonical,r.projection);const b=(C,B)=>{const H=g.reloadCallback;H&&(delete g.reloadCallback,g.parse(g.vectorTile,p.layerIndex,this.availableImages,p.actor,H)),t(C,B)};g.status==="parsing"?g.reloadCallback=b:g.status==="done"&&(g.vectorTile?g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,b):b())}}abortTile(r,t){const o=r.uid,c=this.loading[o];c&&(c.abort&&c.abort(),delete this.loading[o]),t()}removeTile(r,t){const o=this.loaded,c=r.uid;o&&o[c]&&delete o[c],t()}},n.WritingMode=Mn,n.add=Cc,n.addDynamicAttributes=F0,n.adjoint=function(r,t){var o=t[0],c=t[1],p=t[2],g=t[3],b=t[4],C=t[5],B=t[6],H=t[7],he=t[8];return r[0]=b*he-C*H,r[1]=p*H-c*he,r[2]=c*C-p*b,r[3]=C*B-g*he,r[4]=o*he-p*B,r[5]=p*g-o*C,r[6]=g*H-b*B,r[7]=c*B-o*H,r[8]=o*b-c*g,r},n.asyncAll=ee,n.bezier=L,n.bindAll=ue,n.boundsAttributes=Hi,n.bufferConvexPolygon=function(r,t){const o=[];for(let c=0;c<r.length;c++){const p=O(c-1,-1,r.length-1),g=O(c+1,-1,r.length-1),b=r[c],C=r[g],B=r[p].sub(b).unit(),H=C.sub(b).unit(),he=H.angleWithSep(B.x,B.y),ge=B.add(H).unit().mult(-1*t/Math.sin(he/2));o.push(b.add(ge))}return o},n.cacheEntryPossiblyAdded=function(r){yi++,yi>nt&&(r.getActor().send("enforceCacheSizeLimit",$e),yi=0)},n.calculateGlobeLabelMatrix=function(r,t){const{x:o,y:c}=r.point,p=L0(o,c,r.worldSize/r._pixelsPerMercatorPixel,0,0);return wd(p,p,Bg(Pc(t)))},n.calculateGlobeMatrix=function(r){const{x:t,y:o}=r.point,{lng:c,lat:p}=r._center;return L0(t,o,r.worldSize,c,p)},n.calculateGlobeMercatorMatrix=function(r){const t=r.pixelsPerMeter,o=t/Va(1,r.center.lat),c=al(new Float64Array(16));return Dp(c,c,[r.point.x,r.point.y,0]),Td(c,c,[o,o,t]),Float32Array.from(c)},n.circumferenceAtLatitude=Bm,n.clamp=v,n.clearTileCache=function(r){if(!bt())return;const t=w.caches.delete(Ae);r&&t.catch(r).then(()=>r())},n.clipLine=J_,n.clone=function(r){var t=new xa(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},n.clone$1=ve,n.collisionCircleLayout=y2,n.config=G,n.conjugate=function(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=t[3],r},n.create=function(){var r=new xa(16);return xa!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},n.create$1=l_,n.createExpression=to,n.createLayout=Ui,n.createStyleLayer=function(r){return r.type==="custom"?new tb(r):new nb[r.type](r)},n.cross=Qm,n.degToRad=I,n.distance=function(r,t){return Math.hypot(t[0]-r[0],t[1]-r[1],t[2]-r[2])},n.div=function(r,t,o){return r[0]=t[0]/o[0],r[1]=t[1]/o[1],r[2]=t[2]/o[2],r},n.dot=ll,n.earthRadius=yd,n.ease=_,n.easeCubicInOut=P,n.ecefToLatLng=function([r,t,o]){const c=Math.hypot(r,t,o),p=Math.atan2(r,o),g=.5*Math.PI-Math.acos(-t/c);return new Zn(V(p),V(g))},n.emitValidationErrors=Uf,n.endsWith=xe,n.enforceCacheSizeLimit=function(r){jt(),ze&&ze.then(t=>{t.keys().then(o=>{for(let c=0;c<o.length-r;c++)t.delete(o[c])})})},n.evaluateSizeForFeature=Yl,n.evaluateSizeForZoom=Au,n.evaluateVariableOffset=kg,n.evented=mt,n.exactEquals=function(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]&&r[3]===t[3]},n.exactEquals$1=function(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]},n.exported=Zi,n.exported$1=q,n.extend=K,n.extend$1=Bo,n.fillExtrusionHeightLift=gg,n.filterObject=oe,n.fromMat4=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[4],r[4]=t[5],r[5]=t[6],r[6]=t[8],r[7]=t[9],r[8]=t[10],r},n.fromQuat=function(r,t){var o=t[0],c=t[1],p=t[2],g=t[3],b=o+o,C=c+c,B=p+p,H=o*b,he=c*b,ge=c*C,be=p*b,Ce=p*C,De=p*B,Fe=g*b,Ye=g*C,dt=g*B;return r[0]=1-ge-De,r[1]=he+dt,r[2]=be-Ye,r[3]=0,r[4]=he-dt,r[5]=1-H-De,r[6]=Ce+Fe,r[7]=0,r[8]=be+Ye,r[9]=Ce-Fe,r[10]=1-H-ge,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},n.fromRotation=function(r,t){var o=Math.sin(t),c=Math.cos(t);return r[0]=c,r[1]=o,r[2]=0,r[3]=-o,r[4]=c,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},n.fromScaling=Zm,n.furthestTileCorner=function(r){const t=Math.round((r+45+360)%360/90)%4;return X[t]},n.getAABBPointSquareDist=function(r,t,o){let c=0;for(let p=0;p<2;++p){const g=o?o[p]:0;r[p]>g&&(c+=(r[p]-g)*(r[p]-g)),t[p]<g&&(c+=(g-t[p])*(g-t[p]))}return c},n.getAnchorAlignment=Mg,n.getAnchorJustification=Pg,n.getBounds=function(r){let t=1/0,o=1/0,c=-1/0,p=-1/0;for(const g of r)t=Math.min(t,g.x),o=Math.min(o,g.y),c=Math.max(c,g.x),p=Math.max(p,g.y);return{min:new j(t,o),max:new j(c,p)}},n.getColumn=ht,n.getGridMatrix=function(r,t,o,c){const p=t.getNorth(),g=t.getSouth(),b=t.getWest(),C=t.getEast(),B=1<<r.z,H=C-b,he=p-g,ge=H/Iu,be=-he/Lu[o],Ce=[0,ge,0,be,0,0,p,b,0];if(r.z>0){const De=180/c;vu(Ce,Ce,[De/H+1,0,0,0,De/he+1,0,-.5*De/ge,.5*De/be,1])}return Ce[2]=B,Ce[5]=r.x,Ce[8]=r.y,Ce},n.getImage=bs,n.getJSON=function(r,t){return zi(K(r,{type:"json"}),t)},n.getLatitudinalLod=function(r){const t=80.051129;r=v(r,-80.051129,t)/t*90;const o=Math.pow(Math.abs(Math.sin(I(r))),3);return Math.round(o*(Lu.length-1))},n.getMapSessionAPI=Mt,n.getPerformanceMeasurement=en,n.getProjection=py,n.getRTLTextPluginStatus=At,n.getReferrer=Gi,n.getTilePoint=function(r,{x:t,y:o},c=0){return new j(((t-c)*r.scale-r.x)*an,(o*r.scale-r.y)*an)},n.getTileVec3=function(r,t,o=0){return Ed(((t.x-o)*r.scale-r.x)*an,(t.y*r.scale-r.y)*an,Fm(t.z,t.y))},n.getVideo=function(r,t){const o=w.document.createElement("video");o.muted=!0,o.onloadstart=function(){t(null,o)};for(let c=0;c<r.length;c++){const p=w.document.createElement("source");Li(r[c])||(o.crossOrigin="Anonymous"),p.src=r[c],o.appendChild(p)}return{cancel:()=>{}}},n.globeCenterToScreenPoint=function(r){const t=[0,0,0],o=al(new Float64Array(16));return wd(o,r.pixelMatrix,r.globeMatrix),ys(t,t,o),new j(t[0],t[1])},n.globeDenormalizeECEF=Bg,n.globeECEFOrigin=function(r,t){const o=[0,0,0];return ys(o,o,Zp(Pc(t.canonical))),ys(o,o,r),o},n.globeNormalizeECEF=Zp,n.globePixelsToTileUnits=function(r,t){return an/(512*Math.pow(2,r))*I0(Pc(t))},n.globePoleMatrixForTile=function(r,t,o){const c=al(new Float64Array(16)),p=(t/(1<<r)-.5)*Math.PI*2;return Ip(c,o.globeMatrix,p),Float32Array.from(c)},n.globeTileBounds=Pc,n.globeTiltAtLngLat=Fg,n.globeToMercatorTransition=Dd,n.globeUseCustomAntiAliasing=function(r,t,o){const c=Dd(o.zoom),p=r.style.map._antialias,g=!!t.extStandardDerivatives,b=t.extStandardDerivativesForceOff||r.terrain&&r.terrain.exaggeration()>0;return c===0&&!p&&!b&&g},n.identity=al,n.identity$1=tg,n.invert=o0,n.isFullscreen=function(){return!!w.document.fullscreenElement||!!w.document.webkitFullscreenElement},n.isLngLatBehindGlobe=Ng,n.isMapAuthenticated=function(r){return Nt.has(r)},n.isMapboxURL=Cr,n.isSafariWithAntialiasingBug=function(r){const t=r.navigator?r.navigator.userAgent:null;return!!st(r)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},n.latFromMercatorY=fo,n.latLngToECEF=Yp,n.len=Dv,n.length=Sd,n.length$1=function(r){return Math.hypot(r[0],r[1],r[2],r[3])},n.lngFromMercatorX=oa,n.loadVectorTile=F5,n.makeRequest=zi,n.mapValue=function(r,t,o,c,p){return v((r-t)/(o-t)*(p-c)+c,c,p)},n.mercatorScale=Nm,n.mercatorXfromLng=Gl,n.mercatorYfromLat=Ga,n.mercatorZfromAltitude=Va,n.mul=Km,n.mul$1=Pv,n.multiply=wd,n.multiply$1=vu,n.multiply$2=Jm,n.nextPowerOfTwo=W,n.normalize=Xo,n.normalize$1=Iv,n.normalize$2=u_,n.number=Pn,n.ortho=function(r,t,o,c,p,g,b){var C=1/(t-o),B=1/(c-p),H=1/(g-b);return r[0]=-2*C,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*B,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*H,r[11]=0,r[12]=(t+o)*C,r[13]=(p+c)*B,r[14]=(b+g)*H,r[15]=1,r},n.pbf=Wp,n.perspective=function(r,t,o,c,p){var g,b=1/Math.tan(t/2);return r[0]=b/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=b,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,p!=null&&p!==1/0?(r[10]=(p+c)*(g=1/(c-p)),r[14]=2*p*c*g):(r[10]=-1,r[14]=-2*c),r},n.pick=function(r,t){const o={};for(let c=0;c<t.length;c++){const p=t[c];p in r&&(o[p]=r[p])}return o},n.plugin=Ft,n.pointGeometry=j,n.polesInViewport=function(r){const t=al(new Float64Array(16));wd(t,r.pixelMatrix,r.globeMatrix);const o=[0,hl,0],c=[0,dl,0];return ys(o,o,t),ys(c,c,t),[o[0]>0&&o[0]<=r.width&&o[1]>0&&o[1]<=r.height&&!Ng(r,new Zn(r.center.lat,90)),c[0]>0&&c[0]<=r.width&&c[1]>0&&c[1]<=r.height&&!Ng(r,new Zn(r.center.lat,-90))]},n.polygonContainsPoint=bd,n.polygonIntersectsBox=Xm,n.polygonIntersectsPolygon=n0,n.polygonizeBounds=function(r,t,o=0,c=!0){const p=new j(o,o),g=r.sub(p),b=t.add(p),C=[g,new j(b.x,g.y),b,new j(g.x,b.y)];return c&&C.push(g.clone()),C},n.posAttributes=Xp,n.postMapLoadEvent=ut,n.postPerformanceEvent=Lt,n.postTurnstileEvent=Ve,n.potpack=Sg,n.prevPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.floor(Math.log(r)/Math.LN2))},n.radToDeg=V,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.registerForPluginStateChange=function(r){return r({pluginStatus:lt,pluginURL:tt}),mt.on("pluginStateChange",r),r},n.removeAuthState=function(r){Nt.delete(r)},n.renderColorRamp=Op,n.resample=Um,n.rotateX=qm,n.rotateX$1=p_,n.rotateY=Ip,n.rotateY$1=f_,n.rotateZ=function(r,t,o){var c=Math.sin(o),p=Math.cos(o),g=t[0],b=t[1],C=t[2],B=t[3],H=t[4],he=t[5],ge=t[6],be=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=g*p+H*c,r[1]=b*p+he*c,r[2]=C*p+ge*c,r[3]=B*p+be*c,r[4]=H*p-g*c,r[5]=he*p-b*c,r[6]=ge*p-C*c,r[7]=be*p-B*c,r},n.rotateZ$1=function(r,t,o){o*=.5;var c=t[0],p=t[1],g=t[2],b=t[3],C=Math.sin(o),B=Math.cos(o);return r[0]=c*B+p*C,r[1]=p*B-c*C,r[2]=g*B+b*C,r[3]=b*B-g*C,r},n.scale=Td,n.scale$1=d_,n.scale$2=Wa,n.scaleAndAdd=Tu,n.set=function(r,t,o,c){return r[0]=t,r[1]=o,r[2]=c,r},n.setCacheLimits=function(r,t){$e=r,nt=t},n.setColumn=function(r,t,o){r[4*t+0]=o[0],r[4*t+1]=o[1],r[4*t+2]=o[2],r[4*t+3]=o[3]},n.setRTLTextPlugin=function(r,t,o=!1){if(lt===et||lt===rt||lt===Xe)throw new Error("setRTLTextPlugin cannot be called multiple times.");tt=Zi.resolveURL(r),lt=et,Ze=t,wt(),o||$t()},n.smoothstep=M,n.spec=ni,n.squaredLength=function(r){var t=r[0],o=r[1],c=r[2];return t*t+o*o+c*c},n.storeAuthState=function(r,t){t?Nt.add(r):Nt.delete(r)},n.sub=$l,n.subtract=wu,n.symbolSize=x2,n.tileAABB=function(r,t,o,c,p,g,b,C,B){if(B.name==="globe")return G2(r,t,new x0(o,c,p));const H=Id({z:o,x:c,y:p},B);return new Yo([(g+H.x/H.scale)*t,t*(H.y/H.scale),b],[(g+H.x2/H.scale)*t,t*(H.y2/H.scale),C])},n.tileCornersToBounds=D0,n.tileTransform=Id,n.transformMat3=function(r,t,o){var c=t[0],p=t[1],g=t[2];return r[0]=c*o[0]+p*o[3]+g*o[6],r[1]=c*o[1]+p*o[4]+g*o[7],r[2]=c*o[2]+p*o[5]+g*o[8],r},n.transformMat4=ys,n.transformMat4$1=zh,n.transformQuat=h_,n.transitionTileAABBinECEF=oy,n.translate=Dp,n.transpose=function(r,t){if(r===t){var o=t[1],c=t[2],p=t[5];r[1]=t[3],r[2]=t[6],r[3]=o,r[5]=t[7],r[6]=c,r[7]=p}else r[0]=t[0],r[1]=t[3],r[2]=t[6],r[3]=t[1],r[4]=t[4],r[5]=t[7],r[6]=t[2],r[7]=t[5],r[8]=t[8];return r},n.triggerPluginCompletionEvent=pt,n.uniqueId=Me,n.updateGlobeVertexNormal=function(r,t,o,c,p){const g=5*t+2;r.float32[g+0]=o,r.float32[g+1]=c,r.float32[g+2]=p},n.validateCustomStyleLayer=function(r){const t=[],o=r.id;return o===void 0&&t.push({message:`layers.${o}: missing required property "id"`}),r.render===void 0&&t.push({message:`layers.${o}: missing required method "render"`}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&t.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),t},n.validateFilter=r=>jl(vc(r)),n.validateFog=r=>jl(pd(r)),n.validateLayer=r=>jl(hu(r)),n.validateLight=r=>jl(qe(r)),n.validateSource=r=>jl(Ph(r)),n.validateStyle=xp,n.validateTerrain=r=>jl(Nl(r)),n.values=ae,n.vectorTile=p0,n.version=z,n.warnOnce=se,n.window=w,n.wrap=O}),u(["./shared"],function(n){function w(at){if(typeof at=="number"||typeof at=="boolean"||typeof at=="string"||at==null)return JSON.stringify(at);if(Array.isArray(at)){let Ve="[";for(const ot of at)Ve+=`${w(ot)},`;return`${Ve}]`}let Oe="{";for(const Ve of Object.keys(at).sort())Oe+=`${Ve}:${w(at[Ve])},`;return`${Oe}}`}function z(at){let Oe="";for(const Ve of n.refProperties)Oe+=`/${w(at[Ve])}`;return Oe}class ie{constructor(Oe){this.keyCache={},Oe&&this.replace(Oe)}replace(Oe){this._layerConfigs={},this._layers={},this.update(Oe,[])}update(Oe,Ve){for(const ut of Oe)this._layerConfigs[ut.id]=ut,(this._layers[ut.id]=n.createStyleLayer(ut)).compileFilter(),this.keyCache[ut.id]&&delete this.keyCache[ut.id];for(const ut of Ve)delete this.keyCache[ut],delete this._layerConfigs[ut],delete this._layers[ut];this.familiesBySource={};const ot=function(ut,St){const Lt={};for(let Mt=0;Mt<ut.length;Mt++){const Nt=St&&St[ut[Mt].id]||z(ut[Mt]);St&&(St[ut[Mt].id]=Nt);let li=Lt[Nt];li||(li=Lt[Nt]=[]),li.push(ut[Mt])}const Rt=[];for(const Mt in Lt)Rt.push(Lt[Mt]);return Rt}(n.values(this._layerConfigs),this.keyCache);for(const ut of ot){const St=ut.map(Oi=>this._layers[Oi.id]),Lt=St[0];if(Lt.visibility==="none")continue;const Rt=Lt.source||"";let Mt=this.familiesBySource[Rt];Mt||(Mt=this.familiesBySource[Rt]={});const Nt=Lt.sourceLayer||"_geojsonTileLayer";let li=Mt[Nt];li||(li=Mt[Nt]=[]),li.push(St)}}}class G{loadTile(Oe,Ve){const{uid:ot,encoding:ut,rawImageData:St,padding:Lt,buildQuadTree:Rt}=Oe,Mt=n.window.ImageBitmap&&St instanceof n.window.ImageBitmap?this.getImageData(St,Lt):St;Ve(null,new n.DEMData(ot,Mt,ut,Lt<1,Rt))}getImageData(Oe,Ve){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Oe.width,Oe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Oe.width,this.offscreenCanvas.height=Oe.height,this.offscreenCanvasContext.drawImage(Oe,0,0,Oe.width,Oe.height);const ot=this.offscreenCanvasContext.getImageData(-Ve,-Ve,Oe.width+2*Ve,Oe.height+2*Ve);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ot}}var q=function at(Oe,Ve){var ot,ut=Oe&&Oe.type;if(ut==="FeatureCollection")for(ot=0;ot<Oe.features.length;ot++)at(Oe.features[ot],Ve);else if(ut==="GeometryCollection")for(ot=0;ot<Oe.geometries.length;ot++)at(Oe.geometries[ot],Ve);else if(ut==="Feature")at(Oe.geometry,Ve);else if(ut==="Polygon")Z(Oe.coordinates,Ve);else if(ut==="MultiPolygon")for(ot=0;ot<Oe.coordinates.length;ot++)Z(Oe.coordinates[ot],Ve);return Oe};function Z(at,Oe){if(at.length!==0){F(at[0],Oe);for(var Ve=1;Ve<at.length;Ve++)F(at[Ve],!Oe)}}function F(at,Oe){for(var Ve=0,ot=0,ut=0,St=at.length,Lt=St-1;ut<St;Lt=ut++){var Rt=(at[ut][0]-at[Lt][0])*(at[Lt][1]+at[ut][1]),Mt=Ve+Rt;ot+=Math.abs(Ve)>=Math.abs(Rt)?Ve-Mt+Rt:Rt-Mt+Ve,Ve=Mt}Ve+ot>=0!=!!Oe&&at.reverse()}const U=n.VectorTileFeature.prototype.toGeoJSON;class re{constructor(Oe){this._feature=Oe,this.extent=n.EXTENT,this.type=Oe.type,this.properties=Oe.tags,"id"in Oe&&!isNaN(Oe.id)&&(this.id=parseInt(Oe.id,10))}loadGeometry(){if(this._feature.type===1){const Oe=[];for(const Ve of this._feature.geometry)Oe.push([new n.pointGeometry(Ve[0],Ve[1])]);return Oe}{const Oe=[];for(const Ve of this._feature.geometry){const ot=[];for(const ut of Ve)ot.push(new n.pointGeometry(ut[0],ut[1]));Oe.push(ot)}return Oe}}toGeoJSON(Oe,Ve,ot){return U.call(this,Oe,Ve,ot)}}class R{constructor(Oe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=Oe.length,this._features=Oe}feature(Oe){return new re(this._features[Oe])}}var D={exports:{}},N=n.pointGeometry,$=n.vectorTile.VectorTileFeature,j=S;function S(at,Oe){this.options=Oe||{},this.features=at,this.length=at.length}function te(at,Oe){this.id=typeof at.id=="number"?at.id:void 0,this.type=at.type,this.rawGeometry=at.type===1?[at.geometry]:at.geometry,this.properties=at.tags,this.extent=Oe||4096}S.prototype.feature=function(at){return new te(this.features[at],this.options.extent)},te.prototype.loadGeometry=function(){var at=this.rawGeometry;this.geometry=[];for(var Oe=0;Oe<at.length;Oe++){for(var Ve=at[Oe],ot=[],ut=0;ut<Ve.length;ut++)ot.push(new N(Ve[ut][0],Ve[ut][1]));this.geometry.push(ot)}return this.geometry},te.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var at=this.geometry,Oe=1/0,Ve=-1/0,ot=1/0,ut=-1/0,St=0;St<at.length;St++)for(var Lt=at[St],Rt=0;Rt<Lt.length;Rt++){var Mt=Lt[Rt];Oe=Math.min(Oe,Mt.x),Ve=Math.max(Ve,Mt.x),ot=Math.min(ot,Mt.y),ut=Math.max(ut,Mt.y)}return[Oe,ot,Ve,ut]},te.prototype.toGeoJSON=$.prototype.toGeoJSON;var Y=n.pbf,I=j;function V(at){var Oe=new Y;return function(Ve,ot){for(var ut in Ve.layers)ot.writeMessage(3,X,Ve.layers[ut])}(at,Oe),Oe.finish()}function X(at,Oe){var Ve;Oe.writeVarintField(15,at.version||1),Oe.writeStringField(1,at.name||""),Oe.writeVarintField(5,at.extent||4096);var ot={keys:[],values:[],keycache:{},valuecache:{}};for(Ve=0;Ve<at.length;Ve++)ot.feature=at.feature(Ve),Oe.writeMessage(2,P,ot);var ut=ot.keys;for(Ve=0;Ve<ut.length;Ve++)Oe.writeStringField(3,ut[Ve]);var St=ot.values;for(Ve=0;Ve<St.length;Ve++)Oe.writeMessage(4,O,St[Ve])}function P(at,Oe){var Ve=at.feature;Ve.id!==void 0&&Oe.writeVarintField(1,Ve.id),Oe.writeMessage(2,L,at),Oe.writeVarintField(3,Ve.type),Oe.writeMessage(4,M,Ve)}function L(at,Oe){var Ve=at.feature,ot=at.keys,ut=at.values,St=at.keycache,Lt=at.valuecache;for(var Rt in Ve.properties){var Mt=Ve.properties[Rt],Nt=St[Rt];if(Mt!==null){Nt===void 0&&(ot.push(Rt),St[Rt]=Nt=ot.length-1),Oe.writeVarint(Nt);var li=typeof Mt;li!=="string"&&li!=="boolean"&&li!=="number"&&(Mt=JSON.stringify(Mt));var Oi=li+":"+Mt,_i=Lt[Oi];_i===void 0&&(ut.push(Mt),Lt[Oi]=_i=ut.length-1),Oe.writeVarint(_i)}}}function _(at,Oe){return(Oe<<3)+(7&at)}function v(at){return at<<1^at>>31}function M(at,Oe){for(var Ve=at.loadGeometry(),ot=at.type,ut=0,St=0,Lt=Ve.length,Rt=0;Rt<Lt;Rt++){var Mt=Ve[Rt],Nt=1;ot===1&&(Nt=Mt.length),Oe.writeVarint(_(1,Nt));for(var li=ot===3?Mt.length-1:Mt.length,Oi=0;Oi<li;Oi++){Oi===1&&ot!==1&&Oe.writeVarint(_(2,li-1));var _i=Mt[Oi].x-ut,rn=Mt[Oi].y-St;Oe.writeVarint(v(_i)),Oe.writeVarint(v(rn)),ut+=_i,St+=rn}ot===3&&Oe.writeVarint(_(7,1))}}function O(at,Oe){var Ve=typeof at;Ve==="string"?Oe.writeStringField(1,at):Ve==="boolean"?Oe.writeBooleanField(7,at):Ve==="number"&&(at%1!=0?Oe.writeDoubleField(3,at):at<0?Oe.writeSVarintField(6,at):Oe.writeVarintField(5,at))}function ee(at,Oe,Ve,ot,ut,St){if(ut-ot<=Ve)return;const Lt=ot+ut>>1;ae(at,Oe,Lt,ot,ut,St%2),ee(at,Oe,Ve,ot,Lt-1,St+1),ee(at,Oe,Ve,Lt+1,ut,St+1)}function ae(at,Oe,Ve,ot,ut,St){for(;ut>ot;){if(ut-ot>600){const Nt=ut-ot+1,li=Ve-ot+1,Oi=Math.log(Nt),_i=.5*Math.exp(2*Oi/3),rn=.5*Math.sqrt(Oi*_i*(Nt-_i)/Nt)*(li-Nt/2<0?-1:1);ae(at,Oe,Ve,Math.max(ot,Math.floor(Ve-li*_i/Nt+rn)),Math.min(ut,Math.floor(Ve+(Nt-li)*_i/Nt+rn)),St)}const Lt=Oe[2*Ve+St];let Rt=ot,Mt=ut;for(K(at,Oe,ot,Ve),Oe[2*ut+St]>Lt&&K(at,Oe,ot,ut);Rt<Mt;){for(K(at,Oe,Rt,Mt),Rt++,Mt--;Oe[2*Rt+St]<Lt;)Rt++;for(;Oe[2*Mt+St]>Lt;)Mt--}Oe[2*ot+St]===Lt?K(at,Oe,ot,Mt):(Mt++,K(at,Oe,Mt,ut)),Mt<=Ve&&(ot=Mt+1),Ve<=Mt&&(ut=Mt-1)}}function K(at,Oe,Ve,ot){pe(at,Ve,ot),pe(Oe,2*Ve,2*ot),pe(Oe,2*Ve+1,2*ot+1)}function pe(at,Oe,Ve){const ot=at[Oe];at[Oe]=at[Ve],at[Ve]=ot}function Me(at,Oe,Ve,ot){const ut=at-Ve,St=Oe-ot;return ut*ut+St*St}D.exports=V,D.exports.fromVectorTileJs=V,D.exports.fromGeojsonVt=function(at,Oe){Oe=Oe||{};var Ve={};for(var ot in at)Ve[ot]=new I(at[ot].features,Oe),Ve[ot].name=ot,Ve[ot].version=Oe.version,Ve[ot].extent=Oe.extent;return V({layers:Ve})},D.exports.GeoJSONWrapper=I;const Pe=at=>at[0],W=at=>at[1];class le{constructor(Oe,Ve=Pe,ot=W,ut=64,St=Float64Array){this.nodeSize=ut,this.points=Oe;const Lt=Oe.length<65536?Uint16Array:Uint32Array,Rt=this.ids=new Lt(Oe.length),Mt=this.coords=new St(2*Oe.length);for(let Nt=0;Nt<Oe.length;Nt++)Rt[Nt]=Nt,Mt[2*Nt]=Ve(Oe[Nt]),Mt[2*Nt+1]=ot(Oe[Nt]);ee(Rt,Mt,ut,0,Rt.length-1,0)}range(Oe,Ve,ot,ut){return function(St,Lt,Rt,Mt,Nt,li,Oi){const _i=[0,St.length-1,0],rn=[];let en,$i;for(;_i.length;){const ln=_i.pop(),Bn=_i.pop(),Qn=_i.pop();if(Bn-Qn<=Oi){for(let or=Qn;or<=Bn;or++)en=Lt[2*or],$i=Lt[2*or+1],en>=Rt&&en<=Nt&&$i>=Mt&&$i<=li&&rn.push(St[or]);continue}const Zi=Math.floor((Qn+Bn)/2);en=Lt[2*Zi],$i=Lt[2*Zi+1],en>=Rt&&en<=Nt&&$i>=Mt&&$i<=li&&rn.push(St[Zi]);const vr=(ln+1)%2;(ln===0?Rt<=en:Mt<=$i)&&(_i.push(Qn),_i.push(Zi-1),_i.push(vr)),(ln===0?Nt>=en:li>=$i)&&(_i.push(Zi+1),_i.push(Bn),_i.push(vr))}return rn}(this.ids,this.coords,Oe,Ve,ot,ut,this.nodeSize)}within(Oe,Ve,ot){return function(ut,St,Lt,Rt,Mt,Nt){const li=[0,ut.length-1,0],Oi=[],_i=Mt*Mt;for(;li.length;){const rn=li.pop(),en=li.pop(),$i=li.pop();if(en-$i<=Nt){for(let vr=$i;vr<=en;vr++)Me(St[2*vr],St[2*vr+1],Lt,Rt)<=_i&&Oi.push(ut[vr]);continue}const ln=Math.floor(($i+en)/2),Bn=St[2*ln],Qn=St[2*ln+1];Me(Bn,Qn,Lt,Rt)<=_i&&Oi.push(ut[ln]);const Zi=(rn+1)%2;(rn===0?Lt-Mt<=Bn:Rt-Mt<=Qn)&&(li.push($i),li.push(ln-1),li.push(Zi)),(rn===0?Lt+Mt>=Bn:Rt+Mt>=Qn)&&(li.push(ln+1),li.push(en),li.push(Zi))}return Oi}(this.ids,this.coords,Oe,Ve,ot,this.nodeSize)}}const ue={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:at=>at},xe=Math.fround||(Le=new Float32Array(1),at=>(Le[0]=+at,Le[0]));var Le;class oe{constructor(Oe){this.options=Ue(Object.create(ue),Oe),this.trees=new Array(this.options.maxZoom+1)}load(Oe){const{log:Ve,minZoom:ot,maxZoom:ut,nodeSize:St}=this.options;Ve&&console.time("total time");const Lt=`prepare ${Oe.length} points`;Ve&&console.time(Lt),this.points=Oe;let Rt=[];for(let Mt=0;Mt<Oe.length;Mt++)Oe[Mt].geometry&&Rt.push(_e(Oe[Mt],Mt));this.trees[ut+1]=new le(Rt,st,it,St,Float32Array),Ve&&console.timeEnd(Lt);for(let Mt=ut;Mt>=ot;Mt--){const Nt=+Date.now();Rt=this._cluster(Rt,Mt),this.trees[Mt]=new le(Rt,st,it,St,Float32Array),Ve&&console.log("z%d: %d clusters in %dms",Mt,Rt.length,+Date.now()-Nt)}return Ve&&console.timeEnd("total time"),this}getClusters(Oe,Ve){let ot=((Oe[0]+180)%360+360)%360-180;const ut=Math.max(-90,Math.min(90,Oe[1]));let St=Oe[2]===180?180:((Oe[2]+180)%360+360)%360-180;const Lt=Math.max(-90,Math.min(90,Oe[3]));if(Oe[2]-Oe[0]>=360)ot=-180,St=180;else if(ot>St){const li=this.getClusters([ot,ut,180,Lt],Ve),Oi=this.getClusters([-180,ut,St,Lt],Ve);return li.concat(Oi)}const Rt=this.trees[this._limitZoom(Ve)],Mt=Rt.range(ye(ot),Ie(Lt),ye(St),Ie(ut)),Nt=[];for(const li of Mt){const Oi=Rt.points[li];Nt.push(Oi.numPoints?se(Oi):this.points[Oi.index])}return Nt}getChildren(Oe){const Ve=this._getOriginId(Oe),ot=this._getOriginZoom(Oe),ut="No cluster with the specified id.",St=this.trees[ot];if(!St)throw new Error(ut);const Lt=St.points[Ve];if(!Lt)throw new Error(ut);const Rt=this.options.radius/(this.options.extent*Math.pow(2,ot-1)),Mt=St.within(Lt.x,Lt.y,Rt),Nt=[];for(const li of Mt){const Oi=St.points[li];Oi.parentId===Oe&&Nt.push(Oi.numPoints?se(Oi):this.points[Oi.index])}if(Nt.length===0)throw new Error(ut);return Nt}getLeaves(Oe,Ve,ot){const ut=[];return this._appendLeaves(ut,Oe,Ve=Ve||10,ot=ot||0,0),ut}getTile(Oe,Ve,ot){const ut=this.trees[this._limitZoom(Oe)],St=Math.pow(2,Oe),{extent:Lt,radius:Rt}=this.options,Mt=Rt/Lt,Nt=(ot-Mt)/St,li=(ot+1+Mt)/St,Oi={features:[]};return this._addTileFeatures(ut.range((Ve-Mt)/St,Nt,(Ve+1+Mt)/St,li),ut.points,Ve,ot,St,Oi),Ve===0&&this._addTileFeatures(ut.range(1-Mt/St,Nt,1,li),ut.points,St,ot,St,Oi),Ve===St-1&&this._addTileFeatures(ut.range(0,Nt,Mt/St,li),ut.points,-1,ot,St,Oi),Oi.features.length?Oi:null}getClusterExpansionZoom(Oe){let Ve=this._getOriginZoom(Oe)-1;for(;Ve<=this.options.maxZoom;){const ot=this.getChildren(Oe);if(Ve++,ot.length!==1)break;Oe=ot[0].properties.cluster_id}return Ve}_appendLeaves(Oe,Ve,ot,ut,St){const Lt=this.getChildren(Ve);for(const Rt of Lt){const Mt=Rt.properties;if(Mt&&Mt.cluster?St+Mt.point_count<=ut?St+=Mt.point_count:St=this._appendLeaves(Oe,Mt.cluster_id,ot,ut,St):St<ut?St++:Oe.push(Rt),Oe.length===ot)break}return St}_addTileFeatures(Oe,Ve,ot,ut,St,Lt){for(const Rt of Oe){const Mt=Ve[Rt],Nt=Mt.numPoints;let li,Oi,_i;if(Nt)li=fe(Mt),Oi=Mt.x,_i=Mt.y;else{const $i=this.points[Mt.index];li=$i.properties,Oi=ye($i.geometry.coordinates[0]),_i=Ie($i.geometry.coordinates[1])}const rn={type:1,geometry:[[Math.round(this.options.extent*(Oi*St-ot)),Math.round(this.options.extent*(_i*St-ut))]],tags:li};let en;Nt?en=Mt.id:this.options.generateId?en=Mt.index:this.points[Mt.index].id&&(en=this.points[Mt.index].id),en!==void 0&&(rn.id=en),Lt.features.push(rn)}}_limitZoom(Oe){return Math.max(this.options.minZoom,Math.min(Math.floor(+Oe),this.options.maxZoom+1))}_cluster(Oe,Ve){const ot=[],{radius:ut,extent:St,reduce:Lt,minPoints:Rt}=this.options,Mt=ut/(St*Math.pow(2,Ve));for(let Nt=0;Nt<Oe.length;Nt++){const li=Oe[Nt];if(li.zoom<=Ve)continue;li.zoom=Ve;const Oi=this.trees[Ve+1],_i=Oi.within(li.x,li.y,Mt),rn=li.numPoints||1;let en=rn;for(const $i of _i){const ln=Oi.points[$i];ln.zoom>Ve&&(en+=ln.numPoints||1)}if(en>rn&&en>=Rt){let $i=li.x*rn,ln=li.y*rn,Bn=Lt&&rn>1?this._map(li,!0):null;const Qn=(Nt<<5)+(Ve+1)+this.points.length;for(const Zi of _i){const vr=Oi.points[Zi];if(vr.zoom<=Ve)continue;vr.zoom=Ve;const or=vr.numPoints||1;$i+=vr.x*or,ln+=vr.y*or,vr.parentId=Qn,Lt&&(Bn||(Bn=this._map(li,!0)),Lt(Bn,this._map(vr)))}li.parentId=Qn,ot.push(ve($i/en,ln/en,Qn,en,Bn))}else if(ot.push(li),en>1)for(const $i of _i){const ln=Oi.points[$i];ln.zoom<=Ve||(ln.zoom=Ve,ot.push(ln))}}return ot}_getOriginId(Oe){return Oe-this.points.length>>5}_getOriginZoom(Oe){return(Oe-this.points.length)%32}_map(Oe,Ve){if(Oe.numPoints)return Ve?Ue({},Oe.properties):Oe.properties;const ot=this.points[Oe.index].properties,ut=this.options.map(ot);return Ve&&ut===ot?Ue({},ut):ut}}function ve(at,Oe,Ve,ot,ut){return{x:xe(at),y:xe(Oe),zoom:1/0,id:Ve,parentId:-1,numPoints:ot,properties:ut}}function _e(at,Oe){const[Ve,ot]=at.geometry.coordinates;return{x:xe(ye(Ve)),y:xe(Ie(ot)),zoom:1/0,index:Oe,parentId:-1}}function se(at){return{type:"Feature",id:at.id,properties:fe(at),geometry:{type:"Point",coordinates:[(Oe=at.x,360*(Oe-.5)),ke(at.y)]}};var Oe}function fe(at){const Oe=at.numPoints,Ve=Oe>=1e4?`${Math.round(Oe/1e3)}k`:Oe>=1e3?Math.round(Oe/100)/10+"k":Oe;return Ue(Ue({},at.properties),{cluster:!0,cluster_id:at.id,point_count:Oe,point_count_abbreviated:Ve})}function ye(at){return at/360+.5}function Ie(at){const Oe=Math.sin(at*Math.PI/180),Ve=.5-.25*Math.log((1+Oe)/(1-Oe))/Math.PI;return Ve<0?0:Ve>1?1:Ve}function ke(at){const Oe=(180-360*at)*Math.PI/180;return 360*Math.atan(Math.exp(Oe))/Math.PI-90}function Ue(at,Oe){for(const Ve in Oe)at[Ve]=Oe[Ve];return at}function st(at){return at.x}function it(at){return at.y}function ht(at,Oe,Ve,ot){for(var ut,St=ot,Lt=Ve-Oe>>1,Rt=Ve-Oe,Mt=at[Oe],Nt=at[Oe+1],li=at[Ve],Oi=at[Ve+1],_i=Oe+3;_i<Ve;_i+=3){var rn=Ae(at[_i],at[_i+1],Mt,Nt,li,Oi);if(rn>St)ut=_i,St=rn;else if(rn===St){var en=Math.abs(_i-Lt);en<Rt&&(ut=_i,Rt=en)}}St>ot&&(ut-Oe>3&&ht(at,Oe,ut,ot),at[ut+2]=St,Ve-ut>3&&ht(at,ut,Ve,ot))}function Ae(at,Oe,Ve,ot,ut,St){var Lt=ut-Ve,Rt=St-ot;if(Lt!==0||Rt!==0){var Mt=((at-Ve)*Lt+(Oe-ot)*Rt)/(Lt*Lt+Rt*Rt);Mt>1?(Ve=ut,ot=St):Mt>0&&(Ve+=Lt*Mt,ot+=Rt*Mt)}return(Lt=at-Ve)*Lt+(Rt=Oe-ot)*Rt}function ze(at,Oe,Ve,ot){var ut={id:at===void 0?null:at,type:Oe,geometry:Ve,tags:ot,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(St){var Lt=St.geometry,Rt=St.type;if(Rt==="Point"||Rt==="MultiPoint"||Rt==="LineString")je(St,Lt);else if(Rt==="Polygon"||Rt==="MultiLineString")for(var Mt=0;Mt<Lt.length;Mt++)je(St,Lt[Mt]);else if(Rt==="MultiPolygon")for(Mt=0;Mt<Lt.length;Mt++)for(var Nt=0;Nt<Lt[Mt].length;Nt++)je(St,Lt[Mt][Nt])}(ut),ut}function je(at,Oe){for(var Ve=0;Ve<Oe.length;Ve+=3)at.minX=Math.min(at.minX,Oe[Ve]),at.minY=Math.min(at.minY,Oe[Ve+1]),at.maxX=Math.max(at.maxX,Oe[Ve]),at.maxY=Math.max(at.maxY,Oe[Ve+1])}function $e(at,Oe,Ve,ot){if(Oe.geometry){var ut=Oe.geometry.coordinates,St=Oe.geometry.type,Lt=Math.pow(Ve.tolerance/((1<<Ve.maxZoom)*Ve.extent),2),Rt=[],Mt=Oe.id;if(Ve.promoteId?Mt=Oe.properties[Ve.promoteId]:Ve.generateId&&(Mt=ot||0),St==="Point")nt(ut,Rt);else if(St==="MultiPoint")for(var Nt=0;Nt<ut.length;Nt++)nt(ut[Nt],Rt);else if(St==="LineString")bt(ut,Rt,Lt,!1);else if(St==="MultiLineString"){if(Ve.lineMetrics){for(Nt=0;Nt<ut.length;Nt++)bt(ut[Nt],Rt=[],Lt,!1),at.push(ze(Mt,"LineString",Rt,Oe.properties));return}jt(ut,Rt,Lt,!1)}else if(St==="Polygon")jt(ut,Rt,Lt,!0);else{if(St!=="MultiPolygon"){if(St==="GeometryCollection"){for(Nt=0;Nt<Oe.geometry.geometries.length;Nt++)$e(at,{id:Mt,geometry:Oe.geometry.geometries[Nt],properties:Oe.properties},Ve,ot);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Nt=0;Nt<ut.length;Nt++){var li=[];jt(ut[Nt],li,Lt,!0),Rt.push(li)}}at.push(ze(Mt,St,Rt,Oe.properties))}}function nt(at,Oe){Oe.push(Gt(at[0])),Oe.push(yi(at[1])),Oe.push(0)}function bt(at,Oe,Ve,ot){for(var ut,St,Lt=0,Rt=0;Rt<at.length;Rt++){var Mt=Gt(at[Rt][0]),Nt=yi(at[Rt][1]);Oe.push(Mt),Oe.push(Nt),Oe.push(0),Rt>0&&(Lt+=ot?(ut*Nt-Mt*St)/2:Math.sqrt(Math.pow(Mt-ut,2)+Math.pow(Nt-St,2))),ut=Mt,St=Nt}var li=Oe.length-3;Oe[2]=1,ht(Oe,0,li,Ve),Oe[li+2]=1,Oe.size=Math.abs(Lt),Oe.start=0,Oe.end=Oe.size}function jt(at,Oe,Ve,ot){for(var ut=0;ut<at.length;ut++){var St=[];bt(at[ut],St,Ve,ot),Oe.push(St)}}function Gt(at){return at/360+.5}function yi(at){var Oe=Math.sin(at*Math.PI/180),Ve=.5-.25*Math.log((1+Oe)/(1-Oe))/Math.PI;return Ve<0?0:Ve>1?1:Ve}function ri(at,Oe,Ve,ot,ut,St,Lt,Rt){if(ot/=Oe,St>=(Ve/=Oe)&&Lt<ot)return at;if(Lt<Ve||St>=ot)return null;for(var Mt=[],Nt=0;Nt<at.length;Nt++){var li=at[Nt],Oi=li.geometry,_i=li.type,rn=ut===0?li.minX:li.minY,en=ut===0?li.maxX:li.maxY;if(rn>=Ve&&en<ot)Mt.push(li);else if(!(en<Ve||rn>=ot)){var $i=[];if(_i==="Point"||_i==="MultiPoint")Ci(Oi,$i,Ve,ot,ut);else if(_i==="LineString")Gi(Oi,$i,Ve,ot,ut,!1,Rt.lineMetrics);else if(_i==="MultiLineString")Xi(Oi,$i,Ve,ot,ut,!1);else if(_i==="Polygon")Xi(Oi,$i,Ve,ot,ut,!0);else if(_i==="MultiPolygon")for(var ln=0;ln<Oi.length;ln++){var Bn=[];Xi(Oi[ln],Bn,Ve,ot,ut,!0),Bn.length&&$i.push(Bn)}if($i.length){if(Rt.lineMetrics&&_i==="LineString"){for(ln=0;ln<$i.length;ln++)Mt.push(ze(li.id,_i,$i[ln],li.tags));continue}_i!=="LineString"&&_i!=="MultiLineString"||($i.length===1?(_i="LineString",$i=$i[0]):_i="MultiLineString"),_i!=="Point"&&_i!=="MultiPoint"||(_i=$i.length===3?"Point":"MultiPoint"),Mt.push(ze(li.id,_i,$i,li.tags))}}}return Mt.length?Mt:null}function Ci(at,Oe,Ve,ot,ut){for(var St=0;St<at.length;St+=3){var Lt=at[St+ut];Lt>=Ve&&Lt<=ot&&(Oe.push(at[St]),Oe.push(at[St+1]),Oe.push(at[St+2]))}}function Gi(at,Oe,Ve,ot,ut,St,Lt){for(var Rt,Mt,Nt=zi(at),li=ut===0?gn:bn,Oi=at.start,_i=0;_i<at.length-3;_i+=3){var rn=at[_i],en=at[_i+1],$i=at[_i+2],ln=at[_i+3],Bn=at[_i+4],Qn=ut===0?rn:en,Zi=ut===0?ln:Bn,vr=!1;Lt&&(Rt=Math.sqrt(Math.pow(rn-ln,2)+Math.pow(en-Bn,2))),Qn<Ve?Zi>Ve&&(Mt=li(Nt,rn,en,ln,Bn,Ve),Lt&&(Nt.start=Oi+Rt*Mt)):Qn>ot?Zi<ot&&(Mt=li(Nt,rn,en,ln,Bn,ot),Lt&&(Nt.start=Oi+Rt*Mt)):Li(Nt,rn,en,$i),Zi<Ve&&Qn>=Ve&&(Mt=li(Nt,rn,en,ln,Bn,Ve),vr=!0),Zi>ot&&Qn<=ot&&(Mt=li(Nt,rn,en,ln,Bn,ot),vr=!0),!St&&vr&&(Lt&&(Nt.end=Oi+Rt*Mt),Oe.push(Nt),Nt=zi(at)),Lt&&(Oi+=Rt)}var or=at.length-3;rn=at[or],en=at[or+1],$i=at[or+2],(Qn=ut===0?rn:en)>=Ve&&Qn<=ot&&Li(Nt,rn,en,$i),or=Nt.length-3,St&&or>=3&&(Nt[or]!==Nt[0]||Nt[or+1]!==Nt[1])&&Li(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&Oe.push(Nt)}function zi(at){var Oe=[];return Oe.size=at.size,Oe.start=at.start,Oe.end=at.end,Oe}function Xi(at,Oe,Ve,ot,ut,St){for(var Lt=0;Lt<at.length;Lt++)Gi(at[Lt],Oe,Ve,ot,ut,St,!1)}function Li(at,Oe,Ve,ot){at.push(Oe),at.push(Ve),at.push(ot)}function gn(at,Oe,Ve,ot,ut,St){var Lt=(St-Oe)/(ot-Oe);return at.push(St),at.push(Ve+(ut-Ve)*Lt),at.push(1),Lt}function bn(at,Oe,Ve,ot,ut,St){var Lt=(St-Ve)/(ut-Ve);return at.push(Oe+(ot-Oe)*Lt),at.push(St),at.push(1),Lt}function $n(at,Oe){for(var Ve=[],ot=0;ot<at.length;ot++){var ut,St=at[ot],Lt=St.type;if(Lt==="Point"||Lt==="MultiPoint"||Lt==="LineString")ut=bs(St.geometry,Oe);else if(Lt==="MultiLineString"||Lt==="Polygon"){ut=[];for(var Rt=0;Rt<St.geometry.length;Rt++)ut.push(bs(St.geometry[Rt],Oe))}else if(Lt==="MultiPolygon")for(ut=[],Rt=0;Rt<St.geometry.length;Rt++){for(var Mt=[],Nt=0;Nt<St.geometry[Rt].length;Nt++)Mt.push(bs(St.geometry[Rt][Nt],Oe));ut.push(Mt)}Ve.push(ze(St.id,Lt,ut,St.tags))}return Ve}function bs(at,Oe){var Ve=[];Ve.size=at.size,at.start!==void 0&&(Ve.start=at.start,Ve.end=at.end);for(var ot=0;ot<at.length;ot+=3)Ve.push(at[ot]+Oe,at[ot+1],at[ot+2]);return Ve}function hr(at,Oe){if(at.transformed)return at;var Ve,ot,ut,St=1<<at.z,Lt=at.x,Rt=at.y;for(Ve=0;Ve<at.features.length;Ve++){var Mt=at.features[Ve],Nt=Mt.geometry,li=Mt.type;if(Mt.geometry=[],li===1)for(ot=0;ot<Nt.length;ot+=2)Mt.geometry.push(Cr(Nt[ot],Nt[ot+1],Oe,St,Lt,Rt));else for(ot=0;ot<Nt.length;ot++){var Oi=[];for(ut=0;ut<Nt[ot].length;ut+=2)Oi.push(Cr(Nt[ot][ut],Nt[ot][ut+1],Oe,St,Lt,Rt));Mt.geometry.push(Oi)}}return at.transformed=!0,at}function Cr(at,Oe,Ve,ot,ut,St){return[Math.round(Ve*(at*ot-ut)),Math.round(Ve*(Oe*ot-St))]}function Ar(at,Oe,Ve,ot,ut){for(var St=Oe===ut.maxZoom?0:ut.tolerance/((1<<Oe)*ut.extent),Lt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ve,y:ot,z:Oe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Rt=0;Rt<at.length;Rt++){Lt.numFeatures++,Ia(Lt,at[Rt],St,ut);var Mt=at[Rt].minX,Nt=at[Rt].minY,li=at[Rt].maxX,Oi=at[Rt].maxY;Mt<Lt.minX&&(Lt.minX=Mt),Nt<Lt.minY&&(Lt.minY=Nt),li>Lt.maxX&&(Lt.maxX=li),Oi>Lt.maxY&&(Lt.maxY=Oi)}return Lt}function Ia(at,Oe,Ve,ot){var ut=Oe.geometry,St=Oe.type,Lt=[];if(St==="Point"||St==="MultiPoint")for(var Rt=0;Rt<ut.length;Rt+=3)Lt.push(ut[Rt]),Lt.push(ut[Rt+1]),at.numPoints++,at.numSimplified++;else if(St==="LineString")cc(Lt,ut,at,Ve,!1,!1);else if(St==="MultiLineString"||St==="Polygon")for(Rt=0;Rt<ut.length;Rt++)cc(Lt,ut[Rt],at,Ve,St==="Polygon",Rt===0);else if(St==="MultiPolygon")for(var Mt=0;Mt<ut.length;Mt++){var Nt=ut[Mt];for(Rt=0;Rt<Nt.length;Rt++)cc(Lt,Nt[Rt],at,Ve,!0,Rt===0)}if(Lt.length){var li=Oe.tags||null;if(St==="LineString"&&ot.lineMetrics){for(var Oi in li={},Oe.tags)li[Oi]=Oe.tags[Oi];li.mapbox_clip_start=ut.start/ut.size,li.mapbox_clip_end=ut.end/ut.size}var _i={geometry:Lt,type:St==="Polygon"||St==="MultiPolygon"?3:St==="LineString"||St==="MultiLineString"?2:1,tags:li};Oe.id!==null&&(_i.id=Oe.id),at.features.push(_i)}}function cc(at,Oe,Ve,ot,ut,St){var Lt=ot*ot;if(ot>0&&Oe.size<(ut?Lt:ot))Ve.numPoints+=Oe.length/3;else{for(var Rt=[],Mt=0;Mt<Oe.length;Mt+=3)(ot===0||Oe[Mt+2]>Lt)&&(Ve.numSimplified++,Rt.push(Oe[Mt]),Rt.push(Oe[Mt+1])),Ve.numPoints++;ut&&function(Nt,li){for(var Oi=0,_i=0,rn=Nt.length,en=rn-2;_i<rn;en=_i,_i+=2)Oi+=(Nt[_i]-Nt[en])*(Nt[_i+1]+Nt[en+1]);if(Oi>0===li)for(_i=0,rn=Nt.length;_i<rn/2;_i+=2){var $i=Nt[_i],ln=Nt[_i+1];Nt[_i]=Nt[rn-2-_i],Nt[_i+1]=Nt[rn-1-_i],Nt[rn-2-_i]=$i,Nt[rn-1-_i]=ln}}(Rt,St),at.push(Rt)}}function wl(at,Oe){var Ve=(Oe=this.options=function(ut,St){for(var Lt in St)ut[Lt]=St[Lt];return ut}(Object.create(this.options),Oe)).debug;if(Ve&&console.time("preprocess data"),Oe.maxZoom<0||Oe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Oe.promoteId&&Oe.generateId)throw new Error("promoteId and generateId cannot be used together.");var ot=function(ut,St){var Lt=[];if(ut.type==="FeatureCollection")for(var Rt=0;Rt<ut.features.length;Rt++)$e(Lt,ut.features[Rt],St,Rt);else $e(Lt,ut.type==="Feature"?ut:{geometry:ut},St);return Lt}(at,Oe);this.tiles={},this.tileCoords=[],Ve&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Oe.indexMaxZoom,Oe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ot=function(ut,St){var Lt=St.buffer/St.extent,Rt=ut,Mt=ri(ut,1,-1-Lt,Lt,0,-1,2,St),Nt=ri(ut,1,1-Lt,2+Lt,0,-1,2,St);return(Mt||Nt)&&(Rt=ri(ut,1,-Lt,1+Lt,0,-1,2,St)||[],Mt&&(Rt=$n(Mt,1).concat(Rt)),Nt&&(Rt=Rt.concat($n(Nt,-1)))),Rt}(ot,Oe),ot.length&&this.splitTile(ot,0,0,0),Ve&&(ot.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ya(at,Oe,Ve){return 32*((1<<at)*Ve+Oe)+at}function Js(at,Oe){const Ve=at.tileID.canonical;if(!this._geoJSONIndex)return Oe(null,null);const ot=this._geoJSONIndex.getTile(Ve.z,Ve.x,Ve.y);if(!ot)return Oe(null,null);const ut=new R(ot.features);let St=D.exports(ut);St.byteOffset===0&&St.byteLength===St.buffer.byteLength||(St=new Uint8Array(St)),Oe(null,{vectorTile:ut,rawData:St.buffer})}wl.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},wl.prototype.splitTile=function(at,Oe,Ve,ot,ut,St,Lt){for(var Rt=[at,Oe,Ve,ot],Mt=this.options,Nt=Mt.debug;Rt.length;){ot=Rt.pop(),Ve=Rt.pop(),Oe=Rt.pop(),at=Rt.pop();var li=1<<Oe,Oi=Ya(Oe,Ve,ot),_i=this.tiles[Oi];if(!_i&&(Nt>1&&console.time("creation"),_i=this.tiles[Oi]=Ar(at,Oe,Ve,ot,Mt),this.tileCoords.push({z:Oe,x:Ve,y:ot}),Nt)){Nt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Oe,Ve,ot,_i.numFeatures,_i.numPoints,_i.numSimplified),console.timeEnd("creation"));var rn="z"+Oe;this.stats[rn]=(this.stats[rn]||0)+1,this.total++}if(_i.source=at,ut){if(Oe===Mt.maxZoom||Oe===ut)continue;var en=1<<ut-Oe;if(Ve!==Math.floor(St/en)||ot!==Math.floor(Lt/en))continue}else if(Oe===Mt.indexMaxZoom||_i.numPoints<=Mt.indexMaxPoints)continue;if(_i.source=null,at.length!==0){Nt>1&&console.time("clipping");var $i,ln,Bn,Qn,Zi,vr,or=.5*Mt.buffer/Mt.extent,ua=.5-or,Za=.5+or,vo=1+or;$i=ln=Bn=Qn=null,Zi=ri(at,li,Ve-or,Ve+Za,0,_i.minX,_i.maxX,Mt),vr=ri(at,li,Ve+ua,Ve+vo,0,_i.minX,_i.maxX,Mt),at=null,Zi&&($i=ri(Zi,li,ot-or,ot+Za,1,_i.minY,_i.maxY,Mt),ln=ri(Zi,li,ot+ua,ot+vo,1,_i.minY,_i.maxY,Mt),Zi=null),vr&&(Bn=ri(vr,li,ot-or,ot+Za,1,_i.minY,_i.maxY,Mt),Qn=ri(vr,li,ot+ua,ot+vo,1,_i.minY,_i.maxY,Mt),vr=null),Nt>1&&console.timeEnd("clipping"),Rt.push($i||[],Oe+1,2*Ve,2*ot),Rt.push(ln||[],Oe+1,2*Ve,2*ot+1),Rt.push(Bn||[],Oe+1,2*Ve+1,2*ot),Rt.push(Qn||[],Oe+1,2*Ve+1,2*ot+1)}}},wl.prototype.getTile=function(at,Oe,Ve){var ot=this.options,ut=ot.extent,St=ot.debug;if(at<0||at>24)return null;var Lt=1<<at,Rt=Ya(at,Oe=(Oe%Lt+Lt)%Lt,Ve);if(this.tiles[Rt])return hr(this.tiles[Rt],ut);St>1&&console.log("drilling down to z%d-%d-%d",at,Oe,Ve);for(var Mt,Nt=at,li=Oe,Oi=Ve;!Mt&&Nt>0;)Nt--,li=Math.floor(li/2),Oi=Math.floor(Oi/2),Mt=this.tiles[Ya(Nt,li,Oi)];return Mt&&Mt.source?(St>1&&console.log("found parent tile z%d-%d-%d",Nt,li,Oi),St>1&&console.time("drilling down"),this.splitTile(Mt.source,Nt,li,Oi,at,Oe,Ve),St>1&&console.timeEnd("drilling down"),this.tiles[Rt]?hr(this.tiles[Rt],ut):null):null};class qa extends n.VectorTileWorkerSource{constructor(Oe,Ve,ot,ut,St){super(Oe,Ve,ot,ut,Js),St&&(this.loadGeoJSON=St)}loadData(Oe,Ve){const ot=Oe&&Oe.request,ut=ot&&ot.collectResourceTiming;this.loadGeoJSON(Oe,(St,Lt)=>{if(St||!Lt)return Ve(St);if(typeof Lt!="object")return Ve(new Error(`Input data given to '${Oe.source}' is not a valid GeoJSON object.`));{q(Lt,!0);try{if(Oe.filter){const Mt=n.createExpression(Oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Mt.result==="error")throw new Error(Mt.value.map(li=>`${li.key}: ${li.message}`).join(", "));Lt={type:"FeatureCollection",features:Lt.features.filter(li=>Mt.value.evaluate({zoom:0},li))}}this._geoJSONIndex=Oe.cluster?new oe(function({superclusterOptions:Mt,clusterProperties:Nt}){if(!Nt||!Mt)return Mt;const li={},Oi={},_i={accumulated:null,zoom:0},rn={properties:null},en=Object.keys(Nt);for(const $i of en){const[ln,Bn]=Nt[$i],Qn=n.createExpression(Bn),Zi=n.createExpression(typeof ln=="string"?[ln,["accumulated"],["get",$i]]:ln);li[$i]=Qn.value,Oi[$i]=Zi.value}return Mt.map=$i=>{rn.properties=$i;const ln={};for(const Bn of en)ln[Bn]=li[Bn].evaluate(_i,rn);return ln},Mt.reduce=($i,ln)=>{rn.properties=ln;for(const Bn of en)_i.accumulated=$i[Bn],$i[Bn]=Oi[Bn].evaluate(_i,rn)},Mt}(Oe)).load(Lt.features):function(Mt,Nt){return new wl(Mt,Nt)}(Lt,Oe.geojsonVtOptions)}catch(Mt){return Ve(Mt)}this.loaded={};const Rt={};if(ut){const Mt=n.getPerformanceMeasurement(ot);Mt&&(Rt.resourceTiming={},Rt.resourceTiming[Oe.source]=JSON.parse(JSON.stringify(Mt)))}Ve(null,Rt)}})}reloadTile(Oe,Ve){const ot=this.loaded;return ot&&ot[Oe.uid]?super.reloadTile(Oe,Ve):this.loadTile(Oe,Ve)}loadGeoJSON(Oe,Ve){if(Oe.request)n.getJSON(Oe.request,Ve);else{if(typeof Oe.data!="string")return Ve(new Error(`Input data given to '${Oe.source}' is not a valid GeoJSON object.`));try{return Ve(null,JSON.parse(Oe.data))}catch{return Ve(new Error(`Input data given to '${Oe.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Oe,Ve){try{Ve(null,this._geoJSONIndex.getClusterExpansionZoom(Oe.clusterId))}catch(ot){Ve(ot)}}getClusterChildren(Oe,Ve){try{Ve(null,this._geoJSONIndex.getChildren(Oe.clusterId))}catch(ot){Ve(ot)}}getClusterLeaves(Oe,Ve){try{Ve(null,this._geoJSONIndex.getLeaves(Oe.clusterId,Oe.limit,Oe.offset))}catch(ot){Ve(ot)}}}class Uc{constructor(Oe){this.self=Oe,this.actor=new n.Actor(Oe,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=n.getProjection({name:"mercator"}),this.workerSourceTypes={vector:n.VectorTileWorkerSource,geojson:qa},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Ve,ot)=>{if(this.workerSourceTypes[Ve])throw new Error(`Worker source with name "${Ve}" already registered.`);this.workerSourceTypes[Ve]=ot},this.self.registerRTLTextPlugin=Ve=>{if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=Ve.applyArabicShaping,n.plugin.processBidirectionalText=Ve.processBidirectionalText,n.plugin.processStyledBidirectionalText=Ve.processStyledBidirectionalText}}clearCaches(Oe,Ve,ot){delete this.layerIndexes[Oe],delete this.availableImages[Oe],delete this.workerSources[Oe],delete this.demWorkerSources[Oe],ot()}checkIfReady(Oe,Ve,ot){ot()}setReferrer(Oe,Ve){this.referrer=Ve}spriteLoaded(Oe,Ve){this.isSpriteLoaded[Oe]=Ve;for(const ot in this.workerSources[Oe]){const ut=this.workerSources[Oe][ot];for(const St in ut)ut[St]instanceof n.VectorTileWorkerSource&&(ut[St].isSpriteLoaded=Ve,ut[St].fire(new n.Event("isSpriteLoaded")))}}setImages(Oe,Ve,ot){this.availableImages[Oe]=Ve;for(const ut in this.workerSources[Oe]){const St=this.workerSources[Oe][ut];for(const Lt in St)St[Lt].availableImages=Ve}ot()}enableTerrain(Oe,Ve,ot){this.terrain=Ve,ot()}setProjection(Oe,Ve){this.projections[Oe]=n.getProjection(Ve)}setLayers(Oe,Ve,ot){this.getLayerIndex(Oe).replace(Ve),ot()}updateLayers(Oe,Ve,ot){this.getLayerIndex(Oe).update(Ve.layers,Ve.removedIds),ot()}loadTile(Oe,Ve,ot){const ut=this.enableTerrain?n.extend({enableTerrain:this.terrain},Ve):Ve;ut.projection=this.projections[Oe]||this.defaultProjection,this.getWorkerSource(Oe,Ve.type,Ve.source).loadTile(ut,ot)}loadDEMTile(Oe,Ve,ot){const ut=this.enableTerrain?n.extend({buildQuadTree:this.terrain},Ve):Ve;this.getDEMWorkerSource(Oe,Ve.source).loadTile(ut,ot)}reloadTile(Oe,Ve,ot){const ut=this.enableTerrain?n.extend({enableTerrain:this.terrain},Ve):Ve;ut.projection=this.projections[Oe]||this.defaultProjection,this.getWorkerSource(Oe,Ve.type,Ve.source).reloadTile(ut,ot)}abortTile(Oe,Ve,ot){this.getWorkerSource(Oe,Ve.type,Ve.source).abortTile(Ve,ot)}removeTile(Oe,Ve,ot){this.getWorkerSource(Oe,Ve.type,Ve.source).removeTile(Ve,ot)}removeSource(Oe,Ve,ot){if(!this.workerSources[Oe]||!this.workerSources[Oe][Ve.type]||!this.workerSources[Oe][Ve.type][Ve.source])return;const ut=this.workerSources[Oe][Ve.type][Ve.source];delete this.workerSources[Oe][Ve.type][Ve.source],ut.removeSource!==void 0?ut.removeSource(Ve,ot):ot()}loadWorkerSource(Oe,Ve,ot){try{this.self.importScripts(Ve.url),ot()}catch(ut){ot(ut.toString())}}syncRTLPluginState(Oe,Ve,ot){try{n.plugin.setState(Ve);const ut=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&ut!=null){this.self.importScripts(ut);const St=n.plugin.isParsed();ot(St?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ut}`),St)}}catch(ut){ot(ut.toString())}}getAvailableImages(Oe){let Ve=this.availableImages[Oe];return Ve||(Ve=[]),Ve}getLayerIndex(Oe){let Ve=this.layerIndexes[Oe];return Ve||(Ve=this.layerIndexes[Oe]=new ie),Ve}getWorkerSource(Oe,Ve,ot){if(this.workerSources[Oe]||(this.workerSources[Oe]={}),this.workerSources[Oe][Ve]||(this.workerSources[Oe][Ve]={}),!this.workerSources[Oe][Ve][ot]){const ut={send:(St,Lt,Rt,Mt,Nt,li)=>{this.actor.send(St,Lt,Rt,Oe,Nt,li)},scheduler:this.actor.scheduler};this.workerSources[Oe][Ve][ot]=new this.workerSourceTypes[Ve](ut,this.getLayerIndex(Oe),this.getAvailableImages(Oe),this.isSpriteLoaded[Oe])}return this.workerSources[Oe][Ve][ot]}getDEMWorkerSource(Oe,Ve){return this.demWorkerSources[Oe]||(this.demWorkerSources[Oe]={}),this.demWorkerSources[Oe][Ve]||(this.demWorkerSources[Oe][Ve]=new G),this.demWorkerSources[Oe][Ve]}enforceCacheSizeLimit(Oe,Ve){n.enforceCacheSizeLimit(Ve)}getWorkerPerformanceMetrics(Oe,Ve,ot){ot(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Uc(self)),Uc}),u(["./shared"],function(n){function w(m,a){if(Array.isArray(m)){if(!Array.isArray(a)||m.length!==a.length)return!1;for(let d=0;d<m.length;d++)if(!w(m[d],a[d]))return!1;return!0}if(typeof m=="object"&&m!==null&&a!==null){if(typeof a!="object"||Object.keys(m).length!==Object.keys(a).length)return!1;for(const d in m)if(!w(m[d],a[d]))return!1;return!0}return m===a}var z=ie;function ie(m){return!function(a){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var x,E,A=new Blob([""],{type:"text/javascript"}),J=URL.createObjectURL(A);try{E=new Worker(J),x=!0}catch{x=!1}return E&&E.terminate(),URL.revokeObjectURL(J),x}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var x=document.createElement("canvas");x.width=x.height=1;var E=x.getContext("2d");if(!E)return!1;var A=E.getImageData(0,0,1,1);return A&&A.width===x.width}()?(G[d=a&&a.failIfMajorPerformanceCaveat]===void 0&&(G[d]=function(x){var E,A=function(J){var ce=document.createElement("canvas"),de=Object.create(ie.webGLContextAttributes);return de.failIfMajorPerformanceCaveat=J,ce.getContext("webgl",de)||ce.getContext("experimental-webgl",de)}(x);if(!A)return!1;try{E=A.createShader(A.VERTEX_SHADER)}catch{return!1}return!(!E||A.isContextLost())&&(A.shaderSource(E,"void main() {}"),A.compileShader(E),A.getShaderParameter(E,A.COMPILE_STATUS)===!0)}(d)),G[d]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var d}(m)}var G={};function q(m,a,d){const x=n.window.document.createElement(m);return a!==void 0&&(x.className=a),d&&d.appendChild(x),x}function Z(m,a,d){const x=n.window.document.createElementNS("http://www.w3.org/2000/svg",m);for(const E of Object.keys(a))x.setAttributeNS(null,E,a[E]);return d&&d.appendChild(x),x}ie.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const F=n.window.document&&n.window.document.documentElement.style,U=F&&F.userSelect!==void 0?"userSelect":"WebkitUserSelect";let re;function R(){F&&U&&(re=F[U],F[U]="none")}function D(){F&&U&&(F[U]=re)}function N(m){m.preventDefault(),m.stopPropagation(),n.window.removeEventListener("click",N,!0)}function $(){n.window.addEventListener("click",N,!0),n.window.setTimeout(()=>{n.window.removeEventListener("click",N,!0)},0)}function j(m,a){const d=m.getBoundingClientRect();return Y(m,d,a)}function S(m,a){const d=m.getBoundingClientRect(),x=[];for(let E=0;E<a.length;E++)x.push(Y(m,d,a[E]));return x}function te(m){return n.window.InstallTrigger!==void 0&&m.button===2&&m.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:m.button}function Y(m,a,d){const x=m.offsetWidth===a.width?1:m.offsetWidth/a.width;return new n.pointGeometry((d.clientX-a.left)*x,(d.clientY-a.top)*x)}function I(m,a){var d=a[0],x=a[1],E=a[2],A=a[3],J=d*A-E*x;return J?(m[0]=A*(J=1/J),m[1]=-x*J,m[2]=-E*J,m[3]=d*J,m):null}function V(m){const{userImage:a}=m;return!!(a&&a.render&&a.render())&&(m.data.replace(new Uint8Array(a.data.buffer)),!0)}class X extends n.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:d,callback:x}of this.requestors)this._notify(d,x);this.requestors=[]}}hasImage(a){return!!this.getImage(a)}getImage(a){return this.images[a]}addImage(a,d){this._validate(a,d)&&(this.images[a]=d)}_validate(a,d){let x=!0;return this._validateStretch(d.stretchX,d.data&&d.data.width)||(this.fire(new n.ErrorEvent(new Error(`Image "${a}" has invalid "stretchX" value`))),x=!1),this._validateStretch(d.stretchY,d.data&&d.data.height)||(this.fire(new n.ErrorEvent(new Error(`Image "${a}" has invalid "stretchY" value`))),x=!1),this._validateContent(d.content,d)||(this.fire(new n.ErrorEvent(new Error(`Image "${a}" has invalid "content" value`))),x=!1),x}_validateStretch(a,d){if(!a)return!0;let x=0;for(const E of a){if(E[0]<x||E[1]<E[0]||d<E[1])return!1;x=E[1]}return!0}_validateContent(a,d){return!(a&&(a.length!==4||a[0]<0||d.data.width<a[0]||a[1]<0||d.data.height<a[1]||a[2]<0||d.data.width<a[2]||a[3]<0||d.data.height<a[3]||a[2]<a[0]||a[3]<a[1]))}updateImage(a,d){d.version=this.images[a].version+1,this.images[a]=d,this.updatedImages[a]=!0}removeImage(a){const d=this.images[a];delete this.images[a],delete this.patterns[a],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,d){let x=!0;if(!this.isLoaded())for(const E of a)this.images[E]||(x=!1);this.isLoaded()||x?this._notify(a,d):this.requestors.push({ids:a,callback:d})}_notify(a,d){const x={};for(const E of a){this.images[E]||this.fire(new n.Event("styleimagemissing",{id:E}));const A=this.images[E];A?x[E]={data:A.data.clone(),pixelRatio:A.pixelRatio,sdf:A.sdf,version:A.version,stretchX:A.stretchX,stretchY:A.stretchY,content:A.content,hasRenderCallback:Boolean(A.userImage&&A.userImage.render)}:n.warnOnce(`Image "${E}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,x)}getPixelSize(){const{width:a,height:d}=this.atlasImage;return{width:a,height:d}}getPattern(a){const d=this.patterns[a],x=this.getImage(a);if(!x)return null;if(d&&d.position.version===x.version)return d.position;if(d)d.position.version=x.version;else{const E={w:x.data.width+2,h:x.data.height+2,x:0,y:0},A=new n.ImagePosition(E,x);this.patterns[a]={bin:E,position:A}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const d=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(a,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const A in this.patterns)a.push(this.patterns[A].bin);const{w:d,h:x}=n.potpack(a),E=this.atlasImage;E.resize({width:d||1,height:x||1});for(const A in this.patterns){const{bin:J}=this.patterns[A],ce=J.x+1,de=J.y+1,Ee=this.images[A].data,Te=Ee.width,Re=Ee.height;n.RGBAImage.copy(Ee,E,{x:0,y:0},{x:ce,y:de},{width:Te,height:Re}),n.RGBAImage.copy(Ee,E,{x:0,y:Re-1},{x:ce,y:de-1},{width:Te,height:1}),n.RGBAImage.copy(Ee,E,{x:0,y:0},{x:ce,y:de+Re},{width:Te,height:1}),n.RGBAImage.copy(Ee,E,{x:Te-1,y:0},{x:ce-1,y:de},{width:1,height:Re}),n.RGBAImage.copy(Ee,E,{x:0,y:0},{x:ce+Te,y:de},{width:1,height:Re})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const d of a){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const x=this.images[d];V(x)&&this.updateImage(d,x)}}}const P=new n.Properties({anchor:new n.DataConstantProperty(n.spec.light.anchor),position:new class{constructor(){this.specification=n.spec.light.position}possiblyEvaluate(m,a){return function([d,x,E]){const A=n.degToRad(x+90),J=n.degToRad(E);return{x:d*Math.cos(A)*Math.sin(J),y:d*Math.sin(A)*Math.sin(J),z:d*Math.cos(J),azimuthal:x,polar:E}}(m.expression.evaluate(a))}interpolate(m,a,d){return{x:n.number(m.x,a.x,d),y:n.number(m.y,a.y,d),z:n.number(m.z,a.z,d),azimuthal:n.number(m.azimuthal,a.azimuthal,d),polar:n.number(m.polar,a.polar,d)}}},color:new n.DataConstantProperty(n.spec.light.color),intensity:new n.DataConstantProperty(n.spec.light.intensity)}),L="-transition";class _ extends n.Evented{constructor(a){super(),this._transitionable=new n.Transitionable(P),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,d={}){if(!this._validate(n.validateLight,a,d))for(const x in a){const E=a[x];n.endsWith(x,L)?this._transitionable.setTransition(x.slice(0,-L.length),E):this._transitionable.setValue(x,E)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,x){return(!x||x.validate!==!1)&&n.emitValidationErrors(this,a.call(n.validateStyle,n.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}const v=new n.Properties({source:new n.DataConstantProperty(n.spec.terrain.source),exaggeration:new n.DataConstantProperty(n.spec.terrain.exaggeration)}),M="-transition";class O extends n.Evented{constructor(a,d){super(),this._transitionable=new n.Transitionable(v),this.set(a),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=d}get(){return this._transitionable.serialize()}set(a){for(const d in a){const x=a[d];n.endsWith(d,M)?this._transitionable.setTransition(d.slice(0,-M.length),x):this._transitionable.setValue(d,x)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}}function ee(m,a,d,x){const E=n.smoothstep(45,65,d),[A,J]=ae(m,x),ce=n.length(a);let de=1-Math.min(1,Math.exp((ce-A)/(J-A)*-6));return de*=de*de,de=Math.min(1,1.00747*de),de*E*m.alpha}function ae(m,a){const d=.5/Math.tan(.5*a);return[m.range[0]+d,m.range[1]+d]}const K=new n.Properties({range:new n.DataConstantProperty(n.spec.fog.range),color:new n.DataConstantProperty(n.spec.fog.color),"high-color":new n.DataConstantProperty(n.spec.fog["high-color"]),"space-color":new n.DataConstantProperty(n.spec.fog["space-color"]),"horizon-blend":new n.DataConstantProperty(n.spec.fog["horizon-blend"]),"star-intensity":new n.DataConstantProperty(n.spec.fog["star-intensity"])}),pe="-transition";class Me extends n.Evented{constructor(a,d){super(),this._transitionable=new n.Transitionable(K),this.set(a),this._transitioning=this._transitionable.untransitioned(),this._transform=d}get state(){const a=this._transform,d=a.projection.name==="globe",x=n.globeToMercatorTransition(a.zoom),E=this.properties.get("range"),A=[.5,3];return{range:d?[n.number(A[0],E[0],x),n.number(A[1],E[1],x)]:E,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(a,d={}){if(!this._validate(n.validateFog,a,d)){for(const x of Object.keys(n.spec.fog))a&&a[x]===void 0&&(a[x]=n.spec.fog[x].default);for(const x in a){const E=a[x];n.endsWith(x,pe)?this._transitionable.setTransition(x.slice(0,-pe.length),E):this._transitionable.setValue(x,E)}}}getOpacity(a){if(!this._transform.projection.supportsFog)return 0;const d=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:n.smoothstep(45,65,a))*d.a}getOpacityAtLatLng(a,d){return this._transform.projection.supportsFog?function(x,E,A){const J=n.MercatorCoordinate.fromLngLat(E),ce=A.elevation?A.elevation.getAtPointOrZero(J):0,de=[J.x,J.y,ce];return n.transformMat4(de,de,A.mercatorFogMatrix),ee(x,de,A.pitch,A._fov)}(this.state,a,d):0}getFovAdjustedRange(a){return this._transform.projection.supportsFog?ae(this.state,a):[0,1]}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,x){return(!x||x.validate!==!1)&&n.emitValidationErrors(this,a.call(n.validateStyle,n.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}class Pe{constructor(a,d){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=n.uniqueId();const x=this.workerPool.acquire(this.id);for(let E=0;E<x.length;E++){const A=new Pe.Actor(x[E],d,this.id);A.name=`Worker ${E}`,this.actors.push(A)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(a,d,x){n.asyncAll(this.actors,(E,A)=>{E.send(a,d,A)},x=x||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(a=>{a.remove()}),this.actors=[],this.workerPool.release(this.id)}}function W(m,a,d){return a*(n.EXTENT/(m.tileSize*Math.pow(2,d-m.tileID.overscaledZ)))}Pe.Actor=n.Actor;class le{constructor(a,d,x,E){this.screenBounds=a,this.cameraPoint=d,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=x,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,E)}static createFromScreenPoints(a,d){let x,E;if(a instanceof n.pointGeometry||typeof a[0]=="number"){const A=n.pointGeometry.convert(a);x=[A],E=d.isPointAboveHorizon(A)}else{const A=n.pointGeometry.convert(a[0]),J=n.pointGeometry.convert(a[1]);x=[A,J],E=n.polygonizeBounds(A,J).every(ce=>d.isPointAboveHorizon(ce))}return new le(x,d.getCameraPoint(),E,d)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(a){return n.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],a)}bufferedCameraGeometry(a){const d=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],E=n.polygonizeBounds(d,x,0,!1);return this.cameraPoint.y>x.y&&(this.cameraPoint.x>d.x&&this.cameraPoint.x<x.x?E.splice(3,0,this.cameraPoint):this.cameraPoint.x>=x.x?E[2]=this.cameraPoint:this.cameraPoint.x<=d.x&&(E[3]=this.cameraPoint)),n.bufferConvexPolygon(E,a)}bufferedCameraGeometryGlobe(a){const d=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],E=n.polygonizeBounds(d,x,a),A=this.cameraPoint.clone();switch(3*((A.y>d.y)+(A.y>x.y))+((A.x>d.x)+(A.x>x.x))){case 0:E[0]=A,E[4]=A.clone();break;case 1:E.splice(1,0,A);break;case 2:E[1]=A;break;case 3:E.splice(4,0,A);break;case 5:E.splice(2,0,A);break;case 6:E[3]=A;break;case 7:E.splice(3,0,A);break;case 8:E[2]=A}return E}containsTile(a,d,x,E=0){const A=a.queryPadding/d._pixelsPerMercatorPixel+1,J=x?this._bufferedCameraMercator(A,d):this._bufferedScreenMercator(A,d);let ce=a.tileID.wrap+(J.unwrapped?E:0);const de=J.polygon.map(Xe=>n.getTilePoint(a.tileTransform,Xe,ce));if(!n.polygonIntersectsBox(de,0,0,n.EXTENT,n.EXTENT))return;ce=a.tileID.wrap+(this.screenGeometryMercator.unwrapped?E:0);const Ee=this.screenGeometryMercator.polygon.map(Xe=>n.getTileVec3(a.tileTransform,Xe,ce)),Te=Ee.map(Xe=>new n.pointGeometry(Xe[0],Xe[1])),Re=d.getFreeCameraOptions().position||new n.MercatorCoordinate(0,0,0),We=n.getTileVec3(a.tileTransform,Re,ce),Qe=Ee.map(Xe=>{const Ze=n.sub(Xe,Xe,We);return n.normalize(Ze,Ze),new n.Ray(We,Ze)}),et=W(a,1,d.zoom)*d._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Te,tilespaceRays:Qe,bufferedTilespaceGeometry:de,bufferedTilespaceBounds:(rt=n.getBounds(de),rt.min.x=n.clamp(rt.min.x,0,n.EXTENT),rt.min.y=n.clamp(rt.min.y,0,n.EXTENT),rt.max.x=n.clamp(rt.max.x,0,n.EXTENT),rt.max.y=n.clamp(rt.max.y,0,n.EXTENT),rt),tile:a,tileID:a.tileID,pixelToTileUnitsFactor:et};var rt}_bufferedScreenMercator(a,d){const x=Le(a);if(this._screenRaycastCache[x])return this._screenRaycastCache[x];{let E;return E=d.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(a),d):{polygon:this.bufferedScreenGeometry(a).map(A=>d.pointCoordinate3D(A)),unwrapped:!0},this._screenRaycastCache[x]=E,E}}_bufferedCameraMercator(a,d){const x=Le(a);if(this._cameraRaycastCache[x])return this._cameraRaycastCache[x];{let E;return E=d.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(a),d):{polygon:this.bufferedCameraGeometry(a).map(A=>d.pointCoordinate3D(A)),unwrapped:!0},this._cameraRaycastCache[x]=E,E}}_projectAndResample(a,d){const x=function(A,J){const ce=n.multiply([],J.pixelMatrix,J.globeMatrix),de=[0,-n.GLOBE_RADIUS,0,1],Ee=[0,n.GLOBE_RADIUS,0,1],Te=[0,0,0,1];n.transformMat4$1(de,de,ce),n.transformMat4$1(Ee,Ee,ce),n.transformMat4$1(Te,Te,ce);const Re=new n.pointGeometry(de[0]/de[3],de[1]/de[3]),We=new n.pointGeometry(Ee[0]/Ee[3],Ee[1]/Ee[3]),Qe=n.polygonContainsPoint(A,Re)&&de[3]<Te[3],et=n.polygonContainsPoint(A,We)&&Ee[3]<Te[3];if(!Qe&&!et)return null;const rt=function(At,$t,Ft){for(let Pt=1;Pt<At.length;Pt++){const pi=xe($t.pointCoordinate3D(At[Pt-1]).x),Bt=xe($t.pointCoordinate3D(At[Pt]).x);if(Ft<0){if(pi<Bt)return{idx:Pt,t:-pi/(Bt-1-pi)}}else if(Bt<pi)return{idx:Pt,t:(1-pi)/(Bt+1-pi)}}return null}(A,J,Qe?-1:1);if(!rt)return null;const{idx:Xe,t:Ze}=rt;let lt=Xe>1?ue(A.slice(0,Xe),J):[],tt=Xe<A.length?ue(A.slice(Xe),J):[];lt=lt.map(At=>new n.pointGeometry(xe(At.x),At.y)),tt=tt.map(At=>new n.pointGeometry(xe(At.x),At.y));const pt=[...lt];pt.length===0&&pt.push(tt[tt.length-1]);const wt=n.number(pt[pt.length-1].y,(tt.length===0?lt[0]:tt[0]).y,Ze);let mt;return mt=Qe?[new n.pointGeometry(0,wt),new n.pointGeometry(0,0),new n.pointGeometry(1,0),new n.pointGeometry(1,wt)]:[new n.pointGeometry(1,wt),new n.pointGeometry(1,1),new n.pointGeometry(0,1),new n.pointGeometry(0,wt)],pt.push(...mt),tt.length===0?pt.push(lt[0]):pt.push(...tt),{polygon:pt.map(At=>new n.MercatorCoordinate(At.x,At.y)),unwrapped:!1}}(a,d);if(x)return x;const E=function(A,J){let ce=!1,de=-1/0,Ee=0;for(let Re=0;Re<A.length-1;Re++)A[Re].x>de&&(de=A[Re].x,Ee=Re);for(let Re=0;Re<A.length-1;Re++){const We=(Ee+Re)%(A.length-1),Qe=A[We],et=A[We+1];Math.abs(Qe.x-et.x)>.5&&(Qe.x<et.x?(Qe.x+=1,We===0&&(A[A.length-1].x+=1)):(et.x+=1,We+1===A.length-1&&(A[0].x+=1)),ce=!0)}const Te=n.mercatorXfromLng(J.center.lng);return ce&&Te<Math.abs(Te-1)&&A.forEach(Re=>{Re.x-=1}),{polygon:A,unwrapped:ce}}(ue(a,d).map(A=>new n.pointGeometry(xe(A.x),A.y)),d);return{polygon:E.polygon.map(A=>new n.MercatorCoordinate(A.x,A.y)),unwrapped:E.unwrapped}}}function ue(m,a){return n.resample(m,d=>{const x=a.pointCoordinate3D(d);d.x=x.x,d.y=x.y},1/256)}function xe(m){return m<0?1+m%1:m%1}function Le(m){return 100*m|0}function oe(m,a,d,x,E){const A=function(J,ce){if(J)return E(J);if(ce){m.url&&ce.tiles&&m.tiles&&delete m.tiles;const de=n.pick(n.extend(ce,m),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ce.vector_layers&&(de.vectorLayers=ce.vector_layers,de.vectorLayerIds=de.vectorLayers.map(Ee=>Ee.id)),de.tiles=a.canonicalizeTileset(de,m.url),E(null,de)}};return m.url?n.getJSON(a.transformRequest(a.normalizeSourceURL(m.url,null,d,x),n.ResourceType.Source),A):n.exported.frame(()=>A(null,m))}class ve{constructor(a,d,x){this.bounds=n.LngLatBounds.convert(this.validateBounds(a)),this.minzoom=d||0,this.maxzoom=x||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const d=Math.pow(2,a.z),x=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*d),E=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*d),A=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*d),J=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*d);return a.x>=x&&a.x<A&&a.y>=E&&a.y<J}}class _e{constructor(a,d,x){this.context=a;const E=a.gl;this.buffer=E.createBuffer(),this.dynamicDraw=Boolean(x),this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),E.bufferData(E.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||d.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const d=this.context.gl;this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const se={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class fe{constructor(a,d,x,E){this.length=d.length,this.attributes=x,this.itemSize=d.bytesPerElement,this.dynamicDraw=E,this.context=a;const A=a.gl;this.buffer=A.createBuffer(),a.bindVertexBuffer.set(this.buffer),A.bufferData(A.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?A.DYNAMIC_DRAW:A.STATIC_DRAW),this.dynamicDraw||d.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,d){for(let x=0;x<this.attributes.length;x++){const E=d.attributes[this.attributes[x].name];E!==void 0&&a.enableVertexAttribArray(E)}}setVertexAttribPointers(a,d,x){for(let E=0;E<this.attributes.length;E++){const A=this.attributes[E],J=d.attributes[A.name];J!==void 0&&a.vertexAttribPointer(J,A.components,a[se[A.type]],!1,this.itemSize,A.offset+this.itemSize*(x||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class ye{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ie extends ye{getDefault(){return n.Color.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class ke extends ye{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class Ue extends ye{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class st extends ye{getDefault(){return[!0,!0,!0,!0]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class it extends ye{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class ht extends ye{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class Ae extends ye{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const d=this.current;(a.func!==d.func||a.ref!==d.ref||a.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class ze extends ye{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class je extends ye{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=a,this.dirty=!1}}class $e extends ye{getDefault(){return[0,1]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class nt extends ye{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=a,this.dirty=!1}}class bt extends ye{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class jt extends ye{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.BLEND):d.disable(d.BLEND),this.current=a,this.dirty=!1}}class Gt extends ye{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class yi extends ye{getDefault(){return n.Color.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class ri extends ye{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class Ci extends ye{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=a,this.dirty=!1}}class Gi extends ye{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class zi extends ye{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class Xi extends ye{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Li extends ye{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class gn extends ye{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class bn extends ye{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class $n extends ye{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class bs extends ye{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class hr extends ye{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Cr extends ye{getDefault(){return null}set(a){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Ar extends ye{constructor(a){super(a),this.vao=a.extVertexArrayObject}getDefault(){return null}set(a){this.vao&&(a!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(a),this.current=a,this.dirty=!1)}}class Ia extends ye{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class cc extends ye{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class wl extends ye{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class Ya extends ye{constructor(a,d){super(a),this.context=a,this.parent=d}getDefault(){return null}}class Js extends Ya{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class qa extends Ya{attachment(){return this.gl.DEPTH_ATTACHMENT}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,this.attachment(),d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Uc extends qa{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class at{constructor(a,d,x,E){this.context=a,this.width=d,this.height=x;const A=this.framebuffer=a.gl.createFramebuffer();this.colorAttachment=new Js(a,A),E&&(this.depthAttachment=new qa(a,A))}destroy(){const a=this.context.gl,d=this.colorAttachment.get();if(d&&a.deleteTexture(d),this.depthAttachment){const x=this.depthAttachment.get();x&&a.deleteRenderbuffer(x)}a.deleteFramebuffer(this.framebuffer)}}class Oe{constructor(a){this.gl=a,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ie(this),this.clearDepth=new ke(this),this.clearStencil=new Ue(this),this.colorMask=new st(this),this.depthMask=new it(this),this.stencilMask=new ht(this),this.stencilFunc=new Ae(this),this.stencilOp=new ze(this),this.stencilTest=new je(this),this.depthRange=new $e(this),this.depthTest=new nt(this),this.depthFunc=new bt(this),this.blend=new jt(this),this.blendFunc=new Gt(this),this.blendColor=new yi(this),this.blendEquation=new ri(this),this.cullFace=new Ci(this),this.cullFaceSide=new Gi(this),this.frontFace=new zi(this),this.program=new Xi(this),this.activeTexture=new Li(this),this.viewport=new gn(this),this.bindFramebuffer=new bn(this),this.bindRenderbuffer=new $n(this),this.bindTexture=new bs(this),this.bindVertexBuffer=new hr(this),this.bindElementBuffer=new Cr(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ar(this),this.pixelStoreUnpack=new Ia(this),this.pixelStoreUnpackPremultiplyAlpha=new cc(this),this.pixelStoreUnpackFlipY=new wl(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=a.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=a.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=a.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=a.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(a.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=a.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=a.getExtension("OES_standard_derivatives"),this.extTimerQuery=a.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,d){return new _e(this,a,d)}createVertexBuffer(a,d,x){return new fe(this,a,d,x)}createRenderbuffer(a,d,x){const E=this.gl,A=E.createRenderbuffer();return this.bindRenderbuffer.set(A),E.renderbufferStorage(E.RENDERBUFFER,a,d,x),this.bindRenderbuffer.set(null),A}createFramebuffer(a,d,x){return new at(this,a,d,x)}clear({color:a,depth:d,stencil:x}){const E=this.gl;let A=0;a&&(A|=E.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(A|=E.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),x!==void 0&&(A|=E.STENCIL_BUFFER_BIT,this.clearStencil.set(x),this.stencilMask.set(255)),E.clear(A)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){w(a.blendFunction,n.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ve extends n.Evented{constructor(a,d,x,E){super(),this.id=a,this.dispatcher=x,this.setEventedParent(E),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},d),n.extend(this,n.pick(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=oe(this._options,this.map._requestManager,null,null,(a,d)=>{this._tileJSONRequest=null,this._loaded=!0,a?this.fire(new n.ErrorEvent(a)):d&&(n.extend(this,d),d.bounds&&(this.tileBounds=new ve(d.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(d.tiles),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return n.extend({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,d){const x=n.exported.devicePixelRatio>=2,E=this.map._requestManager.normalizeTileURL(a.tileID.canonical.url(this.tiles,this.scheme),x,this.tileSize);a.request=n.getImage(this.map._requestManager.transformRequest(E,n.ResourceType.Tile),(A,J,ce,de)=>(delete a.request,a.aborted?(a.state="unloaded",d(null)):A?(a.state="errored",d(A)):J?(this.map._refreshExpiredTiles&&a.setExpiryData({cacheControl:ce,expires:de}),a.setTexture(J,this.map.painter),a.state="loaded",n.cacheEntryPossiblyAdded(this.dispatcher),void d(null)):d(null)))}static loadTileData(a,d,x){a.setTexture(d,x)}static unloadTileData(a,d){a.texture&&d.saveTileTexture(a.texture)}abortTile(a,d){a.request&&(a.request.cancel(),delete a.request),d()}unloadTile(a,d){a.texture&&this.map.painter.saveTileTexture(a.texture),d()}hasTransition(){return!1}}let ot;function ut(m,a,d,x,E,A,J,ce){const de=[m,d,E,a,x,A,1,1,1],Ee=[J,ce,1],Te=n.adjoint([],de),[Re,We,Qe]=n.transformMat3(Ee,Ee,n.transpose(Te,Te));return n.multiply$1(de,[Re,0,0,0,We,0,0,0,Qe],de)}class St extends n.Evented{constructor(a,d,x,E){super(),this.id=a,this.dispatcher=x,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(E),this.options=d,this._dirty=!1}load(a,d){this._loaded=d||!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),(x,E)=>{if(this._imageRequest=null,this._loaded=!0,x)this.fire(new n.ErrorEvent(x));else if(E){const{HTMLImageElement:A}=n.window;this.image=E instanceof A?n.exported.getImageData(E):E,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,a&&(this.coordinates=a),this._finishLoading()}})}loaded(){return this._loaded}updateImage(a){return this.image&&a.url?(this._imageRequest&&a.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=a.url,this.load(a.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(a){this.coordinates=a,this._boundsArray=void 0;const d=a.map(n.MercatorCoordinate.fromLngLat);return this.tileID=function(x){let E=1/0,A=1/0,J=-1/0,ce=-1/0;for(const Re of x)E=Math.min(E,Re.x),A=Math.min(A,Re.y),J=Math.max(J,Re.x),ce=Math.max(ce,Re.y);const de=Math.max(J-E,ce-A),Ee=Math.max(0,Math.floor(-Math.log(de)/Math.LN2)),Te=Math.pow(2,Ee);return new n.CanonicalTileID(Ee,Math.floor((E+J)/2*Te),Math.floor((A+ce)/2*Te))}(d),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(a){for(const de in this.tiles){const Ee=this.tiles[de];Ee.state!=="loaded"&&(Ee.state="loaded",Ee.texture=this.texture)}if(this._boundsArray)return;const d=n.tileTransform(this.tileID,this.map.transform.projection),[x,E,A,J]=this.coordinates.map(de=>{const Ee=d.projection.project(de[0],de[1]);return n.getTilePoint(d,Ee)._round()});this.perspectiveTransform=function(de,Ee,Te,Re,We,Qe,et,rt,Xe,Ze){const lt=ut(0,0,de,0,0,Ee,de,Ee),tt=ut(Te,Re,We,Qe,et,rt,Xe,Ze);return n.multiply$1(tt,n.adjoint(lt,lt),tt),[tt[6]/tt[8]*de/n.EXTENT,tt[7]/tt[8]*Ee/n.EXTENT]}(this.width,this.height,x.x,x.y,E.x,E.y,J.x,J.y,A.x,A.y);const ce=this._boundsArray=new n.StructArrayLayout4i8;ce.emplaceBack(x.x,x.y,0,0),ce.emplaceBack(E.x,E.y,n.EXTENT,0),ce.emplaceBack(J.x,J.y,0,n.EXTENT),ce.emplaceBack(A.x,A.y,n.EXTENT,n.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=a.createVertexBuffer(ce,n.boundsAttributes.members),this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const a=this.map.painter.context,d=a.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new n.Texture(a,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(a)}loadTile(a,d){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},d(null)):(a.state="errored",d(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Lt={vector:class extends n.Evented{constructor(m,a,d,x){if(super(),this.id=m,this.dispatcher=d,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(a,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},a),this._collectResourceTiming=a.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x),this._tileWorkers={},this._deduped=new n.DedupedRequest}load(m){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"}));const a=Array.isArray(this.map._language)?this.map._language.join():this.map._language,d=this.map._worldview;this._tileJSONRequest=oe(this._options,this.map._requestManager,a,d,(x,E)=>{this._tileJSONRequest=null,this._loaded=!0,x?(a&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${a}`),d&&d.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${d}`),this.fire(new n.ErrorEvent(x))):E&&(n.extend(this,E),E.bounds&&(this.tileBounds=new ve(E.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(E.tiles,this.map._requestManager._customAccessToken),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))),m&&m(x)})}loaded(){return this._loaded}hasTile(m){return!this.tileBounds||this.tileBounds.contains(m.canonical)}onAdd(m){this.map=m,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const m=this.map.style._getSourceCaches(this.id);for(const a of m)a.clearTiles()})}setSourceProperty(m){m(),this.reload()}setTiles(m){return this._options.tiles=m,this.reload(),this}setUrl(m){return this.url=m,this._options.url=m,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return n.extend({},this._options)}loadTile(m,a){const d=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(d,n.ResourceType.Tile),data:void 0,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,tileSize:this.tileSize*m.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:m.isSymbolTile};if(x.request.collectResourceTiming=this._collectResourceTiming,m.actor&&m.state!=="expired")m.state==="loading"?m.reloadCallback=a:m.request=m.actor.send("reloadTile",x,E.bind(this));else if(m.actor=this._tileWorkers[d]=this._tileWorkers[d]||this.dispatcher.getActor(),this.dispatcher.ready)m.request=m.actor.send("loadTile",x,E.bind(this),void 0,!0);else{const A=n.loadVectorTile.call({deduped:this._deduped},x,(J,ce)=>{J||!ce?E.call(this,J):(x.data={cacheControl:ce.cacheControl,expires:ce.expires,rawData:ce.rawData.slice(0)},m.actor&&m.actor.send("loadTile",x,E.bind(this),void 0,!0))},!0);m.request={cancel:A}}function E(A,J){return delete m.request,m.aborted?a(null):A&&A.status!==404?a(A):(J&&J.resourceTiming&&(m.resourceTiming=J.resourceTiming),this.map._refreshExpiredTiles&&J&&m.setExpiryData(J),m.loadVectorData(J,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),a(null),void(m.reloadCallback&&(this.loadTile(m,m.reloadCallback),m.reloadCallback=null)))}}abortTile(m){m.request&&(m.request.cancel(),delete m.request),m.actor&&m.actor.send("abortTile",{uid:m.uid,type:this.type,source:this.id})}unloadTile(m){m.unloadVectorData(),m.actor&&m.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Ve,"raster-dem":class extends Ve{constructor(m,a,d,x){super(m,a,d,x),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},a),this.encoding=a.encoding||"mapbox"}loadTile(m,a){const d=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function x(E,A){E&&(m.state="errored",a(E)),A&&(m.dem=A,m.dem.onDeserialize(),m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0,m.state="loaded",a(null))}m.request=n.getImage(this.map._requestManager.transformRequest(d,n.ResourceType.Tile),function(E,A,J,ce){if(delete m.request,m.aborted)m.state="unloaded",a(null);else if(E)m.state="errored",a(E);else if(A){this.map._refreshExpiredTiles&&m.setExpiryData({cacheControl:J,expires:ce});const de=n.window.ImageBitmap&&A instanceof n.window.ImageBitmap&&(ot==null&&(ot=n.window.OffscreenCanvas&&new n.window.OffscreenCanvas(1,1).getContext("2d")&&typeof n.window.createImageBitmap=="function"),ot),Ee=1-(A.width-n.prevPowerOfTwo(A.width))/2;Ee<1||m.neighboringTiles||(m.neighboringTiles=this._getNeighboringTiles(m.tileID));const Te=de?A:n.exported.getImageData(A,Ee),Re={uid:m.uid,coord:m.tileID,source:this.id,rawImageData:Te,encoding:this.encoding,padding:Ee};m.actor&&m.state!=="expired"||(m.actor=this.dispatcher.getActor(),m.actor.send("loadDEMTile",Re,x.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(m){const a=m.canonical,d=Math.pow(2,a.z),x=(a.x-1+d)%d,E=a.x===0?m.wrap-1:m.wrap,A=(a.x+1+d)%d,J=a.x+1===d?m.wrap+1:m.wrap,ce={};return ce[new n.OverscaledTileID(m.overscaledZ,E,a.z,x,a.y).key]={backfilled:!1},ce[new n.OverscaledTileID(m.overscaledZ,J,a.z,A,a.y).key]={backfilled:!1},a.y>0&&(ce[new n.OverscaledTileID(m.overscaledZ,E,a.z,x,a.y-1).key]={backfilled:!1},ce[new n.OverscaledTileID(m.overscaledZ,m.wrap,a.z,a.x,a.y-1).key]={backfilled:!1},ce[new n.OverscaledTileID(m.overscaledZ,J,a.z,A,a.y-1).key]={backfilled:!1}),a.y+1<d&&(ce[new n.OverscaledTileID(m.overscaledZ,E,a.z,x,a.y+1).key]={backfilled:!1},ce[new n.OverscaledTileID(m.overscaledZ,m.wrap,a.z,a.x,a.y+1).key]={backfilled:!1},ce[new n.OverscaledTileID(m.overscaledZ,J,a.z,A,a.y+1).key]={backfilled:!1}),ce}unloadTile(m){m.demTexture&&this.map.painter.saveTileTexture(m.demTexture),m.fbo&&(m.fbo.destroy(),delete m.fbo),m.dem&&delete m.dem,delete m.neighboringTiles,m.state="unloaded"}},geojson:class extends n.Evented{constructor(m,a,d,x){super(),this.id=m,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=d.getActor(),this.setEventedParent(x),this._data=a.data,this._options=n.extend({},a),this._collectResourceTiming=a.collectResourceTiming,a.maxzoom!==void 0&&(this.maxzoom=a.maxzoom),a.type&&(this.type=a.type),a.attribution&&(this.attribution=a.attribution),this.promoteId=a.promoteId;const E=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:a.cluster||!1,geojsonVtOptions:{buffer:(a.buffer!==void 0?a.buffer:128)*E,tolerance:(a.tolerance!==void 0?a.tolerance:.375)*E,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:a.lineMetrics||!1,generateId:a.generateId||!1},superclusterOptions:{maxZoom:a.clusterMaxZoom!==void 0?a.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,a.clusterMinPoints||2),extent:n.EXTENT,radius:(a.clusterRadius!==void 0?a.clusterRadius:50)*E,log:!1,generateId:a.generateId||!1},clusterProperties:a.clusterProperties,filter:a.filter},a.workerOptions)}onAdd(m){this.map=m,this.setData(this._data)}setData(m){return this._data=m,this._updateWorkerData(),this}getClusterExpansionZoom(m,a){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:m,source:this.id},a),this}getClusterChildren(m,a){return this.actor.send("geojson.getClusterChildren",{clusterId:m,source:this.id},a),this}getClusterLeaves(m,a,d,x){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:m,limit:a,offset:d},x),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new n.Event("dataloading",{dataType:"source"})),this._loaded=!1;const m=n.extend({},this.workerOptions),a=this._data;typeof a=="string"?(m.request=this.map._requestManager.transformRequest(n.exported.resolveURL(a),n.ResourceType.Source),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(a),this._pendingLoad=this.actor.send(`${this.type}.loadData`,m,(d,x)=>{if(this._loaded=!0,this._pendingLoad=null,d)this.fire(new n.ErrorEvent(d));else{const E={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&x&&x.resourceTiming&&x.resourceTiming[this.id]&&(E.resourceTiming=x.resourceTiming[this.id]),this.fire(new n.Event("data",E)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(m,a){const d=m.actor?"reloadTile":"loadTile";m.actor=this.actor,m.request=this.actor.send(d,{type:this.type,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(x,E)=>(delete m.request,m.unloadVectorData(),m.aborted?a(null):x?a(x):(m.loadVectorData(E,this.map.painter,d==="reloadTile"),a(null))),void 0,d==="loadTile")}abortTile(m){m.request&&(m.request.cancel(),delete m.request),m.aborted=!0}unloadTile(m){m.unloadVectorData(),this.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return n.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends St{constructor(m,a,d,x){super(m,a,d,x),this.roundZoom=!0,this.type="video",this.options=a}load(){this._loaded=!1;const m=this.options;this.urls=[];for(const a of m.urls)this.urls.push(this.map._requestManager.transformRequest(a,n.ResourceType.Source).url);n.getVideo(this.urls,(a,d)=>{this._loaded=!0,a?this.fire(new n.ErrorEvent(a)):d&&(this.video=d,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(m){if(this.video){const a=this.video.seekable;m<a.start(0)||m>a.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${a.start(0)} and ${a.end(0)}-second mark.`))):this.video.currentTime=m}}getVideo(){return this.video}onAdd(m){this.map||(this.map=m,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const m=this.map.painter.context,a=m.gl;this.texture?this.video.paused||(this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(m,this.video,a.RGBA),this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(m)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:St,canvas:class extends St{constructor(m,a,d,x){super(m,a,d,x),a.coordinates?Array.isArray(a.coordinates)&&a.coordinates.length===4&&!a.coordinates.some(E=>!Array.isArray(E)||E.length!==2||E.some(A=>typeof A!="number"))||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${m}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${m}`,null,'missing required property "coordinates"'))),a.animate&&typeof a.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${m}`,null,'optional "animate" property must be a boolean value'))),a.canvas?typeof a.canvas=="string"||a.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${m}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${m}`,null,'missing required property "canvas"'))),this.options=a,this.animate=a.animate===void 0||a.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(m){this.map=m,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let m=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,m=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,m=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const a=this.map.painter.context;this.texture?(m||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(a,this.canvas,a.gl.RGBA,{premultiply:!0}),this._prepareData(a)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const m of[this.canvas.width,this.canvas.height])if(isNaN(m)||m<=0)return!0;return!1}},custom:class extends n.Evented{constructor(m,a,d,x){super(),this.id=m,this.type="custom",this._dataType="raster",this._dispatcher=d,this._implementation=a,this.setEventedParent(x),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new n.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new n.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ve(this._implementation.bounds,this.minzoom,this.maxzoom)),a.update=this._update.bind(this),a.clearTiles=this._clearTiles.bind(this),a.coveringTiles=this._coveringTiles.bind(this),n.extend(this,n.pick(a,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return n.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(m){this._map=m,this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(m),this.load()}onRemove(m){this._implementation.onRemove&&this._implementation.onRemove(m)}hasTile(m){if(this._implementation.hasTile){const{x:a,y:d,z:x}=m.canonical;return this._implementation.hasTile({x:a,y:d,z:x})}return!this.tileBounds||this.tileBounds.contains(m.canonical)}loadTile(m,a){const{x:d,y:x,z:E}=m.tileID.canonical,A=new n.window.AbortController;m.request=Promise.resolve(this._implementation.loadTile({x:d,y:x,z:E},{signal:A.signal})).then(function(J){return delete m.request,m.aborted?(m.state="unloaded",a(null)):J===void 0?(m.state="errored",a(null)):J===null?(this.loadTileData(m,{width:this.tileSize,height:this.tileSize,data:null}),m.state="loaded",a(null)):function(ce){return ce instanceof n.window.ImageData||ce instanceof n.window.HTMLCanvasElement||ce instanceof n.window.ImageBitmap||ce instanceof n.window.HTMLImageElement}(J)?(this.loadTileData(m,J),m.state="loaded",void a(null)):(m.state="errored",a(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(J=>{J.code!==20&&(m.state="errored",a(J))}),m.request.cancel=()=>A.abort()}loadTileData(m,a){Ve.loadTileData(m,a,this._map.painter)}unloadTileData(m){Ve.unloadTileData(m,this._map.painter)}unloadTile(m,a){if(this.unloadTileData(m),this._implementation.unloadTile){const{x:d,y:x,z:E}=m.tileID.canonical;this._implementation.unloadTile({x:d,y:x,z:E})}a()}abortTile(m,a){m.request&&m.request.cancel&&(m.request.cancel(),delete m.request),a()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(m=>({x:m.canonical.x,y:m.canonical.y,z:m.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Rt=function(m,a,d,x){const E=new Lt[a.type](m,a,d,x);if(E.id!==m)throw new Error(`Expected Source id to be ${m} instead of ${E.id}`);return n.bindAll(["load","abort","unload","serialize","prepare"],E),E};function Mt(m,a){const d=n.identity([]);return n.scale(d,d,[.5*m.width,.5*-m.height,1]),n.translate(d,d,[1,-1,0]),n.multiply(d,d,m.calculateProjMatrix(a.toUnwrapped())),Float32Array.from(d)}function Nt(m,a,d,x,E,A,J,ce=!1){const de=m.tilesIn(x,J,ce);de.sort(Oi);const Ee=[];for(const Re of de)Ee.push({wrappedTileID:Re.tile.tileID.wrapped().key,queryResults:Re.tile.queryRenderedFeatures(a,d,m._state,Re,E,A,Mt(m.transform,Re.tile.tileID),ce)});const Te=function(Re){const We={},Qe={};for(const et of Re){const rt=et.queryResults,Xe=et.wrappedTileID,Ze=Qe[Xe]=Qe[Xe]||{};for(const lt in rt){const tt=rt[lt],pt=Ze[lt]=Ze[lt]||{},wt=We[lt]=We[lt]||[];for(const mt of tt)pt[mt.featureIndex]||(pt[mt.featureIndex]=!0,wt.push(mt))}}return We}(Ee);for(const Re in Te)Te[Re].forEach(We=>{const Qe=We.feature,et=Qe.layer;et&&et.type!=="background"&&et.type!=="sky"&&(Qe.source=et.source,et["source-layer"]&&(Qe.sourceLayer=et["source-layer"]),Qe.state=Qe.id!==void 0?m.getFeatureState(et["source-layer"],Qe.id):{})});return Te}function li(m,a){const d=m.getRenderableIds().map(A=>m.getTileByID(A)),x=[],E={};for(let A=0;A<d.length;A++){const J=d[A],ce=J.tileID.canonical.key;E[ce]||(E[ce]=!0,J.querySourceFeatures(x,a))}return x}function Oi(m,a){const d=m.tileID,x=a.tileID;return d.overscaledZ-x.overscaledZ||d.canonical.y-x.canonical.y||d.wrap-x.wrap||d.canonical.x-x.canonical.x}function _i(){return qc.workerClass!=null?new qc.workerClass:new n.window.Worker(qc.workerUrl)}const rn="mapboxgl_preloaded_worker_pool";class en{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<en.workerCount;)this.workers.push(new _i);return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[rn]}numActive(){return Object.keys(this.active).length}}let $i;function ln(){return $i||($i=new en),$i}function Bn(m,a){const d={};for(const x in m)x!=="ref"&&(d[x]=m[x]);return n.refProperties.forEach(x=>{x in a&&(d[x]=a[x])}),d}function Qn(m){m=m.slice();const a=Object.create(null);for(let d=0;d<m.length;d++)a[m[d].id]=m[d];for(let d=0;d<m.length;d++)"ref"in m[d]&&(m[d]=Bn(m[d],a[m[d].ref]));return m}en.workerCount=2;const Zi={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function vr(m,a,d){d.push({command:Zi.addSource,args:[m,a[m]]})}function or(m,a,d){a.push({command:Zi.removeSource,args:[m]}),d[m]=!0}function ua(m,a,d,x){or(m,d,x),vr(m,a,d)}function Za(m,a,d){let x;for(x in m[d])if(m[d].hasOwnProperty(x)&&x!=="data"&&!w(m[d][x],a[d][x]))return!1;for(x in a[d])if(a[d].hasOwnProperty(x)&&x!=="data"&&!w(m[d][x],a[d][x]))return!1;return!0}function vo(m,a,d,x,E,A){let J;for(J in a=a||{},m=m||{})m.hasOwnProperty(J)&&(w(m[J],a[J])||d.push({command:A,args:[x,J,a[J],E]}));for(J in a)a.hasOwnProperty(J)&&!m.hasOwnProperty(J)&&(w(m[J],a[J])||d.push({command:A,args:[x,J,a[J],E]}))}function ni(m){return m.id}function Bo(m,a){return m[a.id]=a,m}class ns{constructor(a,d){this.reset(a,d)}reset(a,d){this.points=a||[],this._distances=[0];for(let x=1;x<this.points.length;x++)this._distances[x]=this._distances[x-1]+this.points[x].dist(this.points[x-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=n.clamp(a,0,1);let d=1,x=this._distances[d];const E=a*this.paddedLength+this.padding;for(;x<E&&d<this._distances.length;)x=this._distances[++d];const A=d-1,J=this._distances[A],ce=x-J,de=ce>0?(E-J)/ce:0;return this.points[A].mult(1-de).add(this.points[d].mult(de))}}class rs{constructor(a,d,x){const E=this.boxCells=[],A=this.circleCells=[];this.xCellCount=Math.ceil(a/x),this.yCellCount=Math.ceil(d/x);for(let J=0;J<this.xCellCount*this.yCellCount;J++)E.push([]),A.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=d,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,d,x,E,A){this._forEachCell(d,x,E,A,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(d),this.bboxes.push(x),this.bboxes.push(E),this.bboxes.push(A)}insertCircle(a,d,x,E){this._forEachCell(d-E,x-E,d+E,x+E,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(d),this.circles.push(x),this.circles.push(E)}_insertBoxCell(a,d,x,E,A,J){this.boxCells[A].push(J)}_insertCircleCell(a,d,x,E,A,J){this.circleCells[A].push(J)}_query(a,d,x,E,A,J){if(x<0||a>this.width||E<0||d>this.height)return!A&&[];const ce=[];if(a<=0&&d<=0&&this.width<=x&&this.height<=E){if(A)return!0;for(let de=0;de<this.boxKeys.length;de++)ce.push({key:this.boxKeys[de],x1:this.bboxes[4*de],y1:this.bboxes[4*de+1],x2:this.bboxes[4*de+2],y2:this.bboxes[4*de+3]});for(let de=0;de<this.circleKeys.length;de++){const Ee=this.circles[3*de],Te=this.circles[3*de+1],Re=this.circles[3*de+2];ce.push({key:this.circleKeys[de],x1:Ee-Re,y1:Te-Re,x2:Ee+Re,y2:Te+Re})}return J?ce.filter(J):ce}return this._forEachCell(a,d,x,E,this._queryCell,ce,{hitTest:A,seenUids:{box:{},circle:{}}},J),A?ce.length>0:ce}_queryCircle(a,d,x,E,A){const J=a-x,ce=a+x,de=d-x,Ee=d+x;if(ce<0||J>this.width||Ee<0||de>this.height)return!E&&[];const Te=[];return this._forEachCell(J,de,ce,Ee,this._queryCellCircle,Te,{hitTest:E,circle:{x:a,y:d,radius:x},seenUids:{box:{},circle:{}}},A),E?Te.length>0:Te}query(a,d,x,E,A){return this._query(a,d,x,E,!1,A)}hitTest(a,d,x,E,A){return this._query(a,d,x,E,!0,A)}hitTestCircle(a,d,x,E){return this._queryCircle(a,d,x,!0,E)}_queryCell(a,d,x,E,A,J,ce,de){const Ee=ce.seenUids,Te=this.boxCells[A];if(Te!==null){const We=this.bboxes;for(const Qe of Te)if(!Ee.box[Qe]){Ee.box[Qe]=!0;const et=4*Qe;if(a<=We[et+2]&&d<=We[et+3]&&x>=We[et+0]&&E>=We[et+1]&&(!de||de(this.boxKeys[Qe]))){if(ce.hitTest)return J.push(!0),!0;J.push({key:this.boxKeys[Qe],x1:We[et],y1:We[et+1],x2:We[et+2],y2:We[et+3]})}}}const Re=this.circleCells[A];if(Re!==null){const We=this.circles;for(const Qe of Re)if(!Ee.circle[Qe]){Ee.circle[Qe]=!0;const et=3*Qe;if(this._circleAndRectCollide(We[et],We[et+1],We[et+2],a,d,x,E)&&(!de||de(this.circleKeys[Qe]))){if(ce.hitTest)return J.push(!0),!0;{const rt=We[et],Xe=We[et+1],Ze=We[et+2];J.push({key:this.circleKeys[Qe],x1:rt-Ze,y1:Xe-Ze,x2:rt+Ze,y2:Xe+Ze})}}}}}_queryCellCircle(a,d,x,E,A,J,ce,de){const Ee=ce.circle,Te=ce.seenUids,Re=this.boxCells[A];if(Re!==null){const Qe=this.bboxes;for(const et of Re)if(!Te.box[et]){Te.box[et]=!0;const rt=4*et;if(this._circleAndRectCollide(Ee.x,Ee.y,Ee.radius,Qe[rt+0],Qe[rt+1],Qe[rt+2],Qe[rt+3])&&(!de||de(this.boxKeys[et])))return J.push(!0),!0}}const We=this.circleCells[A];if(We!==null){const Qe=this.circles;for(const et of We)if(!Te.circle[et]){Te.circle[et]=!0;const rt=3*et;if(this._circlesCollide(Qe[rt],Qe[rt+1],Qe[rt+2],Ee.x,Ee.y,Ee.radius)&&(!de||de(this.circleKeys[et])))return J.push(!0),!0}}}_forEachCell(a,d,x,E,A,J,ce,de){const Ee=this._convertToXCellCoord(a),Te=this._convertToYCellCoord(d),Re=this._convertToXCellCoord(x),We=this._convertToYCellCoord(E);for(let Qe=Ee;Qe<=Re;Qe++)for(let et=Te;et<=We;et++)if(A.call(this,a,d,x,E,this.xCellCount*et+Qe,J,ce,de))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,d,x,E,A,J){const ce=E-a,de=A-d,Ee=x+J;return Ee*Ee>ce*ce+de*de}_circleAndRectCollide(a,d,x,E,A,J,ce){const de=(J-E)/2,Ee=Math.abs(a-(E+de));if(Ee>de+x)return!1;const Te=(ce-A)/2,Re=Math.abs(d-(A+Te));if(Re>Te+x)return!1;if(Ee<=de||Re<=Te)return!0;const We=Ee-de,Qe=Re-Te;return We*We+Qe*Qe<=x*x}}const hc=Math.tan(85*Math.PI/180);function Xs(m,a,d,x,E,A,J){const ce=n.create();if(d)if(A.name==="globe"){const de=n.calculateGlobeLabelMatrix(E,a);n.multiply(ce,ce,de)}else{const de=I([],J);ce[0]=de[0],ce[1]=de[1],ce[4]=de[2],ce[5]=de[3],x||n.rotateZ(ce,ce,E.angle)}else n.multiply(ce,E.labelPlaneMatrix,m);return ce}function gh(m,a,d,x,E,A,J){const ce=Xs(m,a,d,x,E,A,J);return A.name==="globe"&&d||(ce[2]=ce[6]=ce[10]=ce[14]=0),ce}function nd(m,a,d,x,E,A,J){if(d){if(A.name==="globe"){const ce=Xs(m,a,d,x,E,A,J);return n.invert(ce,ce),n.multiply(ce,m,ce),ce}{const ce=n.clone(m),de=n.identity([]);return de[0]=J[0],de[1]=J[1],de[4]=J[2],de[5]=J[3],n.multiply(ce,ce,de),x||n.rotateZ(ce,ce,-E.angle),ce}}return E.glCoordMatrix}function Ds(m,a,d,x){const E=[m,a,d,1];d?n.transformMat4$1(E,E,x):_r(E,E,x);const A=E[3];return E[0]/=A,E[1]/=A,E[2]/=A,E}function Ii(m,a){return Math.min(.5+m/a*.5,1.5)}function zn(m,a){const d=m[0]/m[3],x=m[1]/m[3];return d>=-a[0]&&d<=a[0]&&x>=-a[1]&&x<=a[1]}function Fn(m,a,d,x,E,A,J,ce,de,Ee){const Te=d.transform,Re=x?m.textSizeData:m.iconSizeData,We=n.evaluateSizeForZoom(Re,d.transform.zoom),Qe=Te.projection.name==="globe",et=[256/d.width*2+1,256/d.height*2+1],rt=x?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;rt.clear();let Xe=null;Qe&&(Xe=x?m.text.globeExtVertexArray:m.icon.globeExtVertexArray);const Ze=m.lineVertexArray,lt=x?m.text.placedSymbolArray:m.icon.placedSymbolArray,tt=d.transform.width/d.transform.height;let pt,wt=!1;for(let mt=0;mt<lt.length;mt++){const At=lt.get(mt),{numGlyphs:$t,writingMode:Ft}=At;if(Ft!==n.WritingMode.vertical||wt||pt===n.WritingMode.horizontal||(wt=!0),pt=Ft,(At.hidden||Ft===n.WritingMode.vertical)&&!wt){ws($t,rt);continue}wt=!1;const Pt=new n.pointGeometry(At.tileAnchorX,At.tileAnchorY);let{x:pi,y:Bt,z:si}=Te.projection.projectTilePoint(Pt.x,Pt.y,Ee.canonical);if(de){const[Qi,Wi,dn]=de(Pt);pi+=Qi,Bt+=Wi,si+=dn}const Yt=[pi,Bt,si,1];if(n.transformMat4$1(Yt,Yt,a),!zn(Yt,et)){ws($t,rt);continue}const xi=Ii(d.transform.cameraToCenterDistance,Yt[3]),qt=n.evaluateSizeForFeature(Re,We,At),di=J?qt/xi:qt*xi,wi=Ds(pi,Bt,si,E);if(wi[3]<=0){ws($t,rt);continue}let Ot={};const Xt=J?null:de,Vi=_n(At,di,!1,ce,a,E,A,m.glyphOffsetArray,Ze,rt,Xe,wi,Pt,Ot,tt,Xt,Te.projection,Ee,J);wt=Vi.useVertical,Xt&&Vi.needsFlipping&&(Ot={}),(Vi.notEnoughRoom||wt||Vi.needsFlipping&&_n(At,di,!0,ce,a,E,A,m.glyphOffsetArray,Ze,rt,Xe,wi,Pt,Ot,tt,Xt,Te.projection,Ee,J).notEnoughRoom)&&ws($t,rt)}x?(m.text.dynamicLayoutVertexBuffer.updateData(rt),Xe&&m.text.globeExtVertexBuffer.updateData(Xe)):(m.icon.dynamicLayoutVertexBuffer.updateData(rt),Xe&&m.icon.globeExtVertexBuffer.updateData(Xe))}function Fo(m,a,d,x,E,A,J,ce,de,Ee,Te,Re,We,Qe,et,rt){const{lineStartIndex:Xe,glyphStartIndex:Ze,segment:lt}=ce,tt=Ze+ce.numGlyphs,pt=Xe+ce.lineLength,wt=a.getoffsetX(Ze),mt=a.getoffsetX(tt-1),At=La(m*wt,d,x,E,A,J,lt,Xe,pt,de,Ee,Te,Re,We,!0,Qe,et,rt);if(!At)return null;const $t=La(m*mt,d,x,E,A,J,lt,Xe,pt,de,Ee,Te,Re,We,!0,Qe,et,rt);return $t?{first:At,last:$t}:null}function pa(m,a,d,x){return m===n.WritingMode.horizontal&&Math.abs(x)>Math.abs(d)?{useVertical:!0}:m===n.WritingMode.vertical?x>0?{needsFlipping:!0}:null:a!==0&&function(E,A){return E===0||Math.abs(A/E)>hc}(d,x)?a===1?{needsFlipping:!0}:null:d<0?{needsFlipping:!0}:null}function _n(m,a,d,x,E,A,J,ce,de,Ee,Te,Re,We,Qe,et,rt,Xe,Ze,lt){const tt=a/24,pt=m.lineOffsetX*tt,wt=m.lineOffsetY*tt,{lineStartIndex:mt,glyphStartIndex:At,numGlyphs:$t,segment:Ft,writingMode:Pt,flipState:pi}=m,Bt=mt+m.lineLength,si=Yt=>{if(Te){const[wi,Ot,Xt]=Yt.up,Vi=Ee.length;n.updateGlobeVertexNormal(Te,Vi+0,wi,Ot,Xt),n.updateGlobeVertexNormal(Te,Vi+1,wi,Ot,Xt),n.updateGlobeVertexNormal(Te,Vi+2,wi,Ot,Xt),n.updateGlobeVertexNormal(Te,Vi+3,wi,Ot,Xt)}const[xi,qt,di]=Yt.point;n.addDynamicAttributes(Ee,xi,qt,di,Yt.angle)};if($t>1){const Yt=Fo(tt,ce,pt,wt,d,Re,We,m,de,A,Qe,rt,!1,Xe,Ze,lt);if(!Yt)return{notEnoughRoom:!0};if(x&&!d){let[xi,qt,di]=Yt.first.point,[wi,Ot,Xt]=Yt.last.point;[xi,qt]=Ds(xi,qt,di,J),[wi,Ot]=Ds(wi,Ot,Xt,J);const Vi=pa(Pt,pi,(wi-xi)*et,Ot-qt);if(m.flipState=Vi&&Vi.needsFlipping?1:2,Vi)return Vi}si(Yt.first);for(let xi=At+1;xi<At+$t-1;xi++){const qt=La(tt*ce.getoffsetX(xi),pt,wt,d,Re,We,Ft,mt,Bt,de,A,Qe,rt,!1,!1,Xe,Ze,lt);if(!qt)return Ee.length-=4*(xi-At),{notEnoughRoom:!0};si(qt)}si(Yt.last)}else{if(x&&!d){const xi=Ds(We.x,We.y,0,E),qt=mt+Ft+1,di=new n.pointGeometry(de.getx(qt),de.gety(qt)),wi=Ds(di.x,di.y,0,E),Ot=wi[3]>0?wi:Qo(We,di,xi,1,E,void 0,Xe,Ze.canonical),Xt=pa(Pt,pi,(Ot[0]-xi[0])*et,Ot[1]-xi[1]);if(m.flipState=Xt&&Xt.needsFlipping?1:2,Xt)return Xt}const Yt=La(tt*ce.getoffsetX(At),pt,wt,d,Re,We,Ft,mt,Bt,de,A,Qe,rt,!1,!1,Xe,Ze,lt);if(!Yt)return{notEnoughRoom:!0};si(Yt)}return{}}function dc(m,a,d,x,E){const{x:A,y:J,z:ce}=x.projectTilePoint(m.x,m.y,a);if(!E)return Ds(A,J,ce,d);const[de,Ee,Te]=E(m);return Ds(A+de,J+Ee,ce+Te,d)}function Qo(m,a,d,x,E,A,J,ce){const de=dc(m.sub(a)._unit()._add(m),ce,E,J,A);return n.sub(de,d,de),n.normalize(de,de),n.scaleAndAdd(de,d,de,x)}function La(m,a,d,x,E,A,J,ce,de,Ee,Te,Re,We,Qe,et,rt,Xe,Ze){const lt=x?m-a:m+a;let tt=lt>0?1:-1,pt=0;x&&(tt*=-1,pt=Math.PI),tt<0&&(pt+=Math.PI);let wt=ce+J+(tt>0?0:1)|0,mt=E,At=E,$t=0,Ft=0;const Pt=Math.abs(lt),pi=[],Bt=[];let si=A,Yt=si;const xi=()=>Qo(Yt,si,At,Pt-$t+1,Te,We,rt,Xe.canonical);for(;$t+Ft<=Pt;){if(wt+=tt,wt<ce||wt>=de)return null;if(At=mt,Yt=si,pi.push(At),Qe&&Bt.push(Yt),si=new n.pointGeometry(Ee.getx(wt),Ee.gety(wt)),mt=Re[wt],!mt){const dn=dc(si,Xe.canonical,Te,rt,We);mt=dn[3]>0?Re[wt]=dn:xi()}$t+=Ft,Ft=n.distance(At,mt)}et&&We&&(Re[wt]&&(mt=xi(),Ft=n.distance(At,mt)),Re[wt]=mt);const qt=(Pt-$t)/Ft,di=si.sub(Yt)._mult(qt)._add(Yt),wi=n.sub([],mt,At),Ot=n.scaleAndAdd([],At,wi,qt);let Xt=[0,0,1],Vi=wi[0],Qi=wi[1];if(Ze&&(Xt=rt.upVector(Xe.canonical,di.x,di.y),Xt[0]!==0||Xt[1]!==0||Xt[2]!==1)){const dn=[Xt[2],0,-Xt[0]],Rn=n.cross([],Xt,dn);n.normalize(dn,dn),n.normalize(Rn,Rn),Vi=n.dot(wi,dn),Qi=n.dot(wi,Rn)}if(d){const dn=n.cross([],Xt,wi);n.normalize(dn,dn),n.scaleAndAdd(Ot,Ot,dn,d*tt)}const Wi=pt+Math.atan2(Qi,Vi);return pi.push(Ot),Qe&&Bt.push(di),{point:Ot,angle:Wi,path:pi,tilePath:Bt,up:Xt}}function ws(m,a){const d=a.length,x=d+4*m;a.resize(x),a.float32.fill(-1/0,4*d,4*x)}function _r(m,a,d){const x=a[0],E=a[1];return m[0]=d[0]*x+d[4]*E+d[12],m[1]=d[1]*x+d[5]*E+d[13],m[3]=d[3]*x+d[7]*E+d[15],m}const Ns=100;class Oa{constructor(a,d,x=new rs(a.width+200,a.height+200,25),E=new rs(a.width+200,a.height+200,25)){this.transform=a,this.grid=x,this.ignoredGrid=E,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+Ns,this.screenBottomBoundary=a.height+Ns,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.fogState=d}placeCollisionBox(a,d,x,E,A,J,ce,de){let Ee=x.projectedAnchorX,Te=x.projectedAnchorY,Re=x.projectedAnchorZ;const We=x.elevation,Qe=x.tileID,et=a.getProjection();if(We&&Qe){const[mt,At,$t]=et.upVector(Qe.canonical,x.tileAnchorX,x.tileAnchorY),Ft=et.upVectorScale(Qe.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;Ee+=mt*We*Ft,Te+=At*We*Ft,Re+=$t*We*Ft}const rt=this.projectAndGetPerspectiveRatio(ce,Ee,Te,Re,x.tileID,et.name==="globe"||!!We||this.transform.pitch>0,et),Xe=J*rt.perspectiveRatio,Ze=(x.x1*d+E.x-x.padding)*Xe+rt.point.x,lt=(x.y1*d+E.y-x.padding)*Xe+rt.point.y,tt=(x.x2*d+E.x+x.padding)*Xe+rt.point.x,pt=(x.y2*d+E.y+x.padding)*Xe+rt.point.y,wt=rt.perspectiveRatio<=.55||rt.occluded;return!this.isInsideGrid(Ze,lt,tt,pt)||!A&&this.grid.hitTest(Ze,lt,tt,pt,de)||wt?{box:[],offscreen:!1,occluded:rt.occluded}:{box:[Ze,lt,tt,pt],offscreen:this.isOffscreen(Ze,lt,tt,pt),occluded:!1}}placeCollisionCircles(a,d,x,E,A,J,ce,de,Ee,Te,Re,We,Qe,et,rt){const Xe=[],Ze=this.transform.elevation,lt=a.getProjection(),tt=Ze?Ze.getAtTileOffsetFunc(rt,this.transform.center.lat,this.transform.worldSize,lt):null,pt=new n.pointGeometry(x.tileAnchorX,x.tileAnchorY);let{x:wt,y:mt,z:At}=lt.projectTilePoint(pt.x,pt.y,rt.canonical);if(tt){const[di,wi,Ot]=tt(pt);wt+=di,mt+=wi,At+=Ot}const $t=lt.name==="globe",Ft=this.projectAndGetPerspectiveRatio(ce,wt,mt,At,rt,$t||!!Ze||this.transform.pitch>0,lt),{perspectiveRatio:Pt}=Ft,pi=(Re?J/Pt:J*Pt)/n.ONE_EM,Bt=Ds(wt,mt,At,de),si=Ft.signedDistanceFromCamera>0?Fo(pi,A,x.lineOffsetX*pi,x.lineOffsetY*pi,!1,Bt,pt,x,E,de,{},Ze&&!Re?tt:null,Re&&!!Ze,lt,rt,Re):null;let Yt=!1,xi=!1,qt=!0;if(si&&!Ft.occluded){const di=.5*Qe*Pt+et,wi=new n.pointGeometry(-100,-100),Ot=new n.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Xt=new ns,{first:Vi,last:Qi}=si,Wi=Vi.path.length;let dn=[];for(let Ui=Wi-1;Ui>=1;Ui--)dn.push(Vi.path[Ui]);for(let Ui=1;Ui<Qi.path.length;Ui++)dn.push(Qi.path[Ui]);const Rn=2.5*di;Ee&&(dn=dn.map(([Ui,br,lr],Er)=>(tt&&!$t&&(lr=tt(Er<Wi-1?Vi.tilePath[Wi-1-Er]:Qi.tilePath[Er-Wi+2])[2]),Ds(Ui,br,lr,Ee))),dn.some(Ui=>Ui[3]<=0)&&(dn=[]));let tn=[];if(dn.length>0){let Ui=1/0,br=-1/0,lr=1/0,Er=-1/0;for(const yr of dn)Ui=Math.min(Ui,yr[0]),lr=Math.min(lr,yr[1]),br=Math.max(br,yr[0]),Er=Math.max(Er,yr[1]);br>=wi.x&&Ui<=Ot.x&&Er>=wi.y&&lr<=Ot.y&&(tn=[dn.map(yr=>new n.pointGeometry(yr[0],yr[1]))],(Ui<wi.x||br>Ot.x||lr<wi.y||Er>Ot.y)&&(tn=n.clipLine(tn,wi.x,wi.y,Ot.x,Ot.y)))}for(const Ui of tn){Xt.reset(Ui,.25*di);let br=0;br=Xt.length<=.5*di?1:Math.ceil(Xt.paddedLength/Rn)+1;for(let lr=0;lr<br;lr++){const Er=lr/Math.max(br-1,1),yr=Xt.lerp(Er),Vo=yr.x+Ns,Eo=yr.y+Ns;Xe.push(Vo,Eo,di,0);const uo=Vo-di,Na=Eo-di,Rr=Vo+di,xr=Eo+di;if(qt=qt&&this.isOffscreen(uo,Na,Rr,xr),xi=xi||this.isInsideGrid(uo,Na,Rr,xr),!d&&this.grid.hitTestCircle(Vo,Eo,di,We)&&(Yt=!0,!Te))return{circles:[],offscreen:!1,collisionDetected:Yt,occluded:!1}}}}return{circles:!Te&&Yt||!xi?[]:Xe,offscreen:qt,collisionDetected:Yt,occluded:Ft.occluded}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let x=1/0,E=1/0,A=-1/0,J=-1/0;for(const Te of a){const Re=new n.pointGeometry(Te.x+Ns,Te.y+Ns);x=Math.min(x,Re.x),E=Math.min(E,Re.y),A=Math.max(A,Re.x),J=Math.max(J,Re.y),d.push(Re)}const ce=this.grid.query(x,E,A,J).concat(this.ignoredGrid.query(x,E,A,J)),de={},Ee={};for(const Te of ce){const Re=Te.key;if(de[Re.bucketInstanceId]===void 0&&(de[Re.bucketInstanceId]={}),de[Re.bucketInstanceId][Re.featureIndex])continue;const We=[new n.pointGeometry(Te.x1,Te.y1),new n.pointGeometry(Te.x2,Te.y1),new n.pointGeometry(Te.x2,Te.y2),new n.pointGeometry(Te.x1,Te.y2)];n.polygonIntersectsPolygon(d,We)&&(de[Re.bucketInstanceId][Re.featureIndex]=!0,Ee[Re.bucketInstanceId]===void 0&&(Ee[Re.bucketInstanceId]=[]),Ee[Re.bucketInstanceId].push(Re.featureIndex))}return Ee}insertCollisionBox(a,d,x,E,A){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:x,featureIndex:E,collisionGroupID:A},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,d,x,E,A){const J=d?this.ignoredGrid:this.grid,ce={bucketInstanceId:x,featureIndex:E,collisionGroupID:A};for(let de=0;de<a.length;de+=4)J.insertCircle(ce,a[de],a[de+1],a[de+2])}projectAndGetPerspectiveRatio(a,d,x,E,A,J,ce){const de=[d,x,E,1];let Ee=!1;if(E||this.transform.pitch>0){n.transformMat4$1(de,de,a);const Re=ce.name==="globe";this.fogState&&A&&!Re&&(Ee=function(Qe,et,rt,Xe,Ze,lt){const tt=lt.calculateFogTileMatrix(Ze),pt=[et,rt,Xe];return n.transformMat4(pt,pt,tt),ee(Qe,pt,lt.pitch,lt._fov)}(this.fogState,d,x,E,A.toUnwrapped(),this.transform)>.9)}else _r(de,de,a);const Te=de[3];return{point:new n.pointGeometry((de[0]/Te+1)/2*this.transform.width+Ns,(-de[1]/Te+1)/2*this.transform.height+Ns),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(ce)/Te*.5,1.5),signedDistanceFromCamera:Te,occluded:J&&de[2]>Te||Ee}}isOffscreen(a,d,x,E){return x<Ns||a>=this.screenRightBoundary||E<Ns||d>this.screenBottomBoundary}isInsideGrid(a,d,x,E){return x>=0&&a<this.gridRightBoundary&&E>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const a=n.identity([]);return n.translate(a,a,[-100,-100,0]),a}}function Tl(m,a,d){const x=a.createTileMatrix(m,m.worldSize,d.toUnwrapped());return n.multiply(new Float32Array(16),m.projMatrix,x)}function ea(m,a,d){if(a.projection.name===d.projection.name)return m.projMatrix;const x=d.clone();return x.setProjection(a.projection),Tl(x,a.getProjection(),m)}function Sl(m,a,d){return a.name===d.projection.name?m.projMatrix:Tl(d,a,m)}class Ka{constructor(a,d,x,E){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?d:-d))):E&&x?1:0,this.placed=x}isHidden(){return this.opacity===0&&!this.placed}}class Ra{constructor(a,d,x,E,A,J=!1){this.text=new Ka(a?a.text:null,d,x,A),this.icon=new Ka(a?a.icon:null,d,E,A),this.clipped=J}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ja{constructor(a,d,x,E=!1){this.text=a,this.icon=d,this.skipFade=x,this.clipped=E}}class Gc{constructor(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]}}class Vc{constructor(a,d,x,E,A){this.bucketInstanceId=a,this.featureIndex=d,this.sourceLayerIndex=x,this.bucketIndex=E,this.tileID=A}}class Qs{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const d=++this.maxGroupID;this.collisionGroups[a]={ID:d,predicate:x=>x.collisionGroupID===d}}return this.collisionGroups[a]}}function Jr(m,a,d,x,E){const{horizontalAlign:A,verticalAlign:J}=n.getAnchorAlignment(m),ce=-(A-.5)*a,de=-(J-.5)*d,Ee=n.evaluateVariableOffset(m,x);return new n.pointGeometry(ce+Ee[0]*E,de+Ee[1]*E)}function El(m,a,d,x,E){const A=new n.pointGeometry(m,a);return d&&A._rotate(x?E:-E),A}class rd{constructor(a,d,x,E,A){this.transform=a.clone(),this.projection=a.projection.name,this.collisionIndex=new Oa(this.transform,A),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new Qs(x),this.collisionCircleArrays={},this.prevPlacement=E,E&&(E.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,d,x,E){const A=x.getBucket(d),J=x.latestFeatureIndex;if(!A||!J||d.id!==A.layerIds[0])return;const ce=A.layers[0].layout,de=x.collisionBoxArray,Ee=Math.pow(2,this.transform.zoom-x.tileID.overscaledZ),Te=x.tileSize/n.EXTENT,Re=x.tileID.toUnwrapped();this.transform.setProjection(A.projection);const We=(Qe=x.tileID,et=A.getProjection(),rt=this.transform,et.name===this.projection?rt.calculateProjMatrix(Qe.toUnwrapped()):Tl(rt,et,Qe));var Qe,et,rt;const Xe=ce.get("text-pitch-alignment")==="map",Ze=ce.get("text-rotation-alignment")==="map";d.compileFilter();const lt=d.dynamicFilter(),tt=d.dynamicFilterNeedsFeature(),pt=this.transform.calculatePixelsToTileUnitsMatrix(x),wt=gh(We,x.tileID.canonical,Xe,Ze,this.transform,A.getProjection(),pt);let mt=null;if(Xe){const Ft=nd(We,x.tileID.canonical,Xe,Ze,this.transform,A.getProjection(),pt);mt=n.multiply([],this.transform.labelPlaneMatrix,Ft)}let At=null;lt&&x.latestFeatureIndex&&(At={unwrappedTileID:Re,dynamicFilter:lt,dynamicFilterNeedsFeature:tt,featureIndex:x.latestFeatureIndex}),this.retainedQueryData[A.bucketInstanceId]=new Vc(A.bucketInstanceId,J,A.sourceLayerIndex,A.index,x.tileID);const $t={bucket:A,layout:ce,posMatrix:We,textLabelPlaneMatrix:wt,labelToScreenMatrix:mt,clippingData:At,scale:Ee,textPixelRatio:Te,holdingForFade:x.holdingForFade(),collisionBoxArray:de,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(A.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:n.evaluateSizeForZoom(A.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(A.sourceID)};if(E)for(const Ft of A.sortKeyRanges){const{sortKey:Pt,symbolInstanceStart:pi,symbolInstanceEnd:Bt}=Ft;a.push({sortKey:Pt,symbolInstanceStart:pi,symbolInstanceEnd:Bt,parameters:$t})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:A.symbolInstances.length,parameters:$t})}attemptAnchorPlacement(a,d,x,E,A,J,ce,de,Ee,Te,Re,We,Qe,et,rt,Xe,Ze,lt){const{textOffset0:tt,textOffset1:pt,crossTileID:wt}=We,mt=[tt,pt],At=Jr(a,x,E,mt,A),$t=this.collisionIndex.placeCollisionBox(et,A,d,El(At.x,At.y,J,ce,this.transform.angle),Re,de,Ee,Te.predicate);if(Xe){const Ft=et.getSymbolInstanceIconSize(lt,this.transform.zoom,We.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(et,Ft,Xe,El(At.x,At.y,J,ce,this.transform.angle),Re,de,Ee,Te.predicate).box.length===0)return}if($t.box.length>0){let Ft;return this.prevPlacement&&this.prevPlacement.variableOffsets[wt]&&this.prevPlacement.placements[wt]&&this.prevPlacement.placements[wt].text&&(Ft=this.prevPlacement.variableOffsets[wt].anchor),this.variableOffsets[wt]={textOffset:mt,width:x,height:E,anchor:a,textScale:A,prevAnchor:Ft},this.markUsedJustification(et,a,We,rt),et.allowVerticalPlacement&&(this.markUsedOrientation(et,rt,We),this.placedOrientations[wt]=rt),{shift:At,placedGlyphBoxes:$t}}}placeLayerBucketPart(a,d,x,E){const{bucket:A,layout:J,posMatrix:ce,textLabelPlaneMatrix:de,labelToScreenMatrix:Ee,clippingData:Te,textPixelRatio:Re,holdingForFade:We,collisionBoxArray:Qe,partiallyEvaluatedTextSize:et,partiallyEvaluatedIconSize:rt,collisionGroup:Xe}=a.parameters,Ze=J.get("text-optional"),lt=J.get("icon-optional"),tt=J.get("text-allow-overlap"),pt=J.get("icon-allow-overlap"),wt=J.get("text-rotation-alignment")==="map",mt=J.get("text-pitch-alignment")==="map",At=J.get("icon-text-fit")!=="none",$t=J.get("symbol-z-order")==="viewport-y";this.transform.setProjection(A.projection);let Ft=tt&&(pt||!A.hasIconData()||lt),Pt=pt&&(tt||!A.hasTextData()||Ze);!A.collisionArrays&&Qe&&A.deserializeCollisionBoxes(Qe),x&&E&&A.updateCollisionDebugBuffers(this.transform.zoom,Qe);const pi=(Bt,si,Yt)=>{const{crossTileID:xi,numVerticalGlyphVertices:qt}=Bt;if(Te){const Rr={zoom:this.transform.zoom,pitch:this.transform.pitch};let xr=null;if(Te.dynamicFilterNeedsFeature){const rr=this.retainedQueryData[A.bucketInstanceId];xr=Te.featureIndex.loadFeature({featureIndex:Bt.featureIndex,bucketIndex:rr.bucketIndex,sourceLayerIndex:rr.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Te.dynamicFilter)(Rr,xr,this.retainedQueryData[A.bucketInstanceId].tileID.canonical,new n.pointGeometry(Bt.tileAnchorX,Bt.tileAnchorY),this.transform.calculateDistanceTileData(Te.unwrappedTileID)))return this.placements[xi]=new Ja(!1,!1,!1,!0),void(d[xi]=!0)}if(d[xi])return;if(We)return void(this.placements[xi]=new Ja(!1,!1,!1));let di=!1,wi=!1,Ot=!0,Xt=!1,Vi=!1,Qi=null,Wi={box:null,offscreen:null,occluded:null},dn={box:null,offscreen:null,occluded:null},Rn=null,tn=null,Ui=null,br=0,lr=0,Er=0;Yt.textFeatureIndex?br=Yt.textFeatureIndex:Bt.useRuntimeCollisionCircles&&(br=Bt.featureIndex),Yt.verticalTextFeatureIndex&&(lr=Yt.verticalTextFeatureIndex);const yr=Rr=>{Rr.tileID=this.retainedQueryData[A.bucketInstanceId].tileID;const xr=this.transform.elevation;(xr||Rr.elevation)&&(Rr.elevation=xr?xr.getAtTileOffset(Rr.tileID,Rr.tileAnchorX,Rr.tileAnchorY):0)},Vo=Yt.textBox;if(Vo){yr(Vo);const Rr=rr=>{let ds=n.WritingMode.horizontal;if(A.allowVerticalPlacement&&!rr&&this.prevPlacement){const io=this.prevPlacement.placedOrientations[xi];io&&(this.placedOrientations[xi]=io,ds=io,this.markUsedOrientation(A,ds,Bt))}return ds},xr=(rr,ds)=>{if(A.allowVerticalPlacement&&qt>0&&Yt.verticalTextBox){for(const io of A.writingModes)if(io===n.WritingMode.vertical?(Wi=ds(),dn=Wi):Wi=rr(),Wi&&Wi.box&&Wi.box.length)break}else Wi=rr()};if(J.get("text-variable-anchor")){let rr=J.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[xi]){const zr=this.prevPlacement.variableOffsets[xi];rr.indexOf(zr.anchor)>0&&(rr=rr.filter(po=>po!==zr.anchor),rr.unshift(zr.anchor))}const ds=(zr,po,md)=>{const ja=A.getSymbolInstanceTextSize(et,Bt,this.transform.zoom,si),no=(zr.x2-zr.x1)*ja+2*zr.padding,Wo=(zr.y2-zr.y1)*ja+2*zr.padding,sl=At&&!pt?po:null;sl&&yr(sl);let _a={box:[],offscreen:!1,occluded:!1};const Nn=tt?2*rr.length:rr.length;for(let Lh=0;Lh<Nn;++Lh){const ol=this.attemptAnchorPlacement(rr[Lh%rr.length],zr,no,Wo,ja,wt,mt,Re,ce,Xe,Lh>=rr.length,Bt,si,A,md,sl,et,rt);if(ol&&(_a=ol.placedGlyphBoxes,_a&&_a.box&&_a.box.length)){di=!0,Qi=ol.shift;break}}return _a};xr(()=>ds(Vo,Yt.iconBox,n.WritingMode.horizontal),()=>{const zr=Yt.verticalTextBox;return zr&&yr(zr),A.allowVerticalPlacement&&!(Wi&&Wi.box&&Wi.box.length)&&qt>0&&zr?ds(zr,Yt.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Wi&&(di=Wi.box,Ot=Wi.offscreen,Xt=Wi.occluded);const io=Rr(Wi&&Wi.box);if(!di&&this.prevPlacement){const zr=this.prevPlacement.variableOffsets[xi];zr&&(this.variableOffsets[xi]=zr,this.markUsedJustification(A,zr.anchor,Bt,io))}}else{const rr=(ds,io)=>{const zr=A.getSymbolInstanceTextSize(et,Bt,this.transform.zoom,si),po=this.collisionIndex.placeCollisionBox(A,zr,ds,new n.pointGeometry(0,0),tt,Re,ce,Xe.predicate);return po&&po.box&&po.box.length&&(this.markUsedOrientation(A,io,Bt),this.placedOrientations[xi]=io),po};xr(()=>rr(Vo,n.WritingMode.horizontal),()=>{const ds=Yt.verticalTextBox;return A.allowVerticalPlacement&&qt>0&&ds?(yr(ds),rr(ds,n.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Rr(Wi&&Wi.box&&Wi.box.length)}}if(Rn=Wi,di=Rn&&Rn.box&&Rn.box.length>0,Ot=Rn&&Rn.offscreen,Xt=Rn&&Rn.occluded,Bt.useRuntimeCollisionCircles){const Rr=A.text.placedSymbolArray.get(Bt.centerJustifiedTextSymbolIndex>=0?Bt.centerJustifiedTextSymbolIndex:Bt.verticalPlacedTextSymbolIndex),xr=n.evaluateSizeForFeature(A.textSizeData,et,Rr),rr=J.get("text-padding");tn=this.collisionIndex.placeCollisionCircles(A,tt,Rr,A.lineVertexArray,A.glyphOffsetArray,xr,ce,de,Ee,x,mt,Xe.predicate,Bt.collisionCircleDiameter*xr/n.ONE_EM,rr,this.retainedQueryData[A.bucketInstanceId].tileID),di=tt||tn.circles.length>0&&!tn.collisionDetected,Ot=Ot&&tn.offscreen,Xt=tn.occluded}if(Yt.iconFeatureIndex&&(Er=Yt.iconFeatureIndex),Yt.iconBox){const Rr=xr=>{yr(xr);const rr=At&&Qi?El(Qi.x,Qi.y,wt,mt,this.transform.angle):new n.pointGeometry(0,0),ds=A.getSymbolInstanceIconSize(rt,this.transform.zoom,Bt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(A,ds,xr,rr,pt,Re,ce,Xe.predicate)};dn&&dn.box&&dn.box.length&&Yt.verticalIconBox?(Ui=Rr(Yt.verticalIconBox),wi=Ui.box.length>0):(Ui=Rr(Yt.iconBox),wi=Ui.box.length>0),Ot=Ot&&Ui.offscreen,Vi=Ui.occluded}const Eo=Ze||Bt.numHorizontalGlyphVertices===0&&qt===0,uo=lt||Bt.numIconVertices===0;if(Eo||uo?uo?Eo||(wi=wi&&di):di=wi&&di:wi=di=wi&&di,di&&Rn&&Rn.box&&this.collisionIndex.insertCollisionBox(Rn.box,J.get("text-ignore-placement"),A.bucketInstanceId,dn&&dn.box&&lr?lr:br,Xe.ID),wi&&Ui&&this.collisionIndex.insertCollisionBox(Ui.box,J.get("icon-ignore-placement"),A.bucketInstanceId,Er,Xe.ID),tn&&(di&&this.collisionIndex.insertCollisionCircles(tn.circles,J.get("text-ignore-placement"),A.bucketInstanceId,br,Xe.ID),x)){const Rr=A.bucketInstanceId;let xr=this.collisionCircleArrays[Rr];xr===void 0&&(xr=this.collisionCircleArrays[Rr]=new Gc);for(let rr=0;rr<tn.circles.length;rr+=4)xr.circles.push(tn.circles[rr+0]),xr.circles.push(tn.circles[rr+1]),xr.circles.push(tn.circles[rr+2]),xr.circles.push(tn.collisionDetected?1:0)}const Na=A.projection.name!=="globe";Ft=Ft&&(Na||!Xt),Pt=Pt&&(Na||!Vi),this.placements[xi]=new Ja(di||Ft,wi||Pt,Ot||A.justReloaded),d[xi]=!0};if($t){const Bt=A.getSortedSymbolIndexes(this.transform.angle);for(let si=Bt.length-1;si>=0;--si){const Yt=Bt[si];pi(A.symbolInstances.get(Yt),Yt,A.collisionArrays[Yt])}}else for(let Bt=a.symbolInstanceStart;Bt<a.symbolInstanceEnd;Bt++)pi(A.symbolInstances.get(Bt),Bt,A.collisionArrays[Bt]);if(x&&A.bucketInstanceId in this.collisionCircleArrays){const Bt=this.collisionCircleArrays[A.bucketInstanceId];n.invert(Bt.invProjMatrix,ce),Bt.viewportMatrix=this.collisionIndex.getViewportMatrix()}A.justReloaded=!1}markUsedJustification(a,d,x,E){const{leftJustifiedTextSymbolIndex:A,centerJustifiedTextSymbolIndex:J,rightJustifiedTextSymbolIndex:ce,verticalPlacedTextSymbolIndex:de,crossTileID:Ee}=x,Te=n.getAnchorJustification(d),Re=E===n.WritingMode.vertical?de:Te==="left"?A:Te==="center"?J:Te==="right"?ce:-1;A>=0&&(a.text.placedSymbolArray.get(A).crossTileID=Re>=0&&A!==Re?0:Ee),J>=0&&(a.text.placedSymbolArray.get(J).crossTileID=Re>=0&&J!==Re?0:Ee),ce>=0&&(a.text.placedSymbolArray.get(ce).crossTileID=Re>=0&&ce!==Re?0:Ee),de>=0&&(a.text.placedSymbolArray.get(de).crossTileID=Re>=0&&de!==Re?0:Ee)}markUsedOrientation(a,d,x){const E=d===n.WritingMode.horizontal||d===n.WritingMode.horizontalOnly?d:0,A=d===n.WritingMode.vertical?d:0,{leftJustifiedTextSymbolIndex:J,centerJustifiedTextSymbolIndex:ce,rightJustifiedTextSymbolIndex:de,verticalPlacedTextSymbolIndex:Ee}=x,Te=a.text.placedSymbolArray;J>=0&&(Te.get(J).placedOrientation=E),ce>=0&&(Te.get(ce).placedOrientation=E),de>=0&&(Te.get(de).placedOrientation=E),Ee>=0&&(Te.get(Ee).placedOrientation=A)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let x=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const E=d?d.symbolFadeChange(a):1,A=d?d.opacities:{},J=d?d.variableOffsets:{},ce=d?d.placedOrientations:{};for(const de in this.placements){const Ee=this.placements[de],Te=A[de];Te?(this.opacities[de]=new Ra(Te,E,Ee.text,Ee.icon,null,Ee.clipped),x=x||Ee.text!==Te.text.placed||Ee.icon!==Te.icon.placed):(this.opacities[de]=new Ra(null,E,Ee.text,Ee.icon,Ee.skipFade,Ee.clipped),x=x||Ee.text||Ee.icon)}for(const de in A){const Ee=A[de];if(!this.opacities[de]){const Te=new Ra(Ee,E,!1,!1);Te.isHidden()||(this.opacities[de]=Te,x=x||Ee.text.placed||Ee.icon.placed)}}for(const de in J)this.variableOffsets[de]||!this.opacities[de]||this.opacities[de].isHidden()||(this.variableOffsets[de]=J[de]);for(const de in ce)this.placedOrientations[de]||!this.opacities[de]||this.opacities[de].isHidden()||(this.placedOrientations[de]=ce[de]);x?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:a)}updateLayerOpacities(a,d){const x={};for(const E of d){const A=E.getBucket(a);A&&E.latestFeatureIndex&&a.id===A.layerIds[0]&&this.updateBucketOpacities(A,x,E.collisionBoxArray)}}updateBucketOpacities(a,d,x){a.hasTextData()&&a.text.opacityVertexArray.clear(),a.hasIconData()&&a.icon.opacityVertexArray.clear(),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const E=a.layers[0].layout,A=!!a.layers[0].dynamicFilter(),J=new Ra(null,0,!1,!1,!0),ce=E.get("text-allow-overlap"),de=E.get("icon-allow-overlap"),Ee=E.get("text-variable-anchor"),Te=E.get("text-rotation-alignment")==="map",Re=E.get("text-pitch-alignment")==="map",We=E.get("icon-text-fit")!=="none",Qe=new Ra(null,0,ce&&(de||!a.hasIconData()||E.get("icon-optional")),de&&(ce||!a.hasTextData()||E.get("text-optional")),!0);!a.collisionArrays&&x&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(x);const et=(Xe,Ze,lt)=>{for(let tt=0;tt<Ze/4;tt++)Xe.opacityVertexArray.emplaceBack(lt)};let rt=0;for(let Xe=0;Xe<a.symbolInstances.length;Xe++){const Ze=a.symbolInstances.get(Xe),{numHorizontalGlyphVertices:lt,numVerticalGlyphVertices:tt,crossTileID:pt,numIconVertices:wt}=Ze;let mt=this.opacities[pt];d[pt]?mt=J:mt||(mt=Qe,this.opacities[pt]=mt),d[pt]=!0;const At=lt>0||tt>0,$t=wt>0,Ft=this.placedOrientations[pt],Pt=Ft===n.WritingMode.vertical,pi=Ft===n.WritingMode.horizontal||Ft===n.WritingMode.horizontalOnly;if(!At&&!$t||mt.isHidden()||rt++,At){const Bt=Ts(mt.text);et(a.text,lt,Pt?Qa:Bt),et(a.text,tt,pi?Qa:Bt);const si=mt.text.isHidden(),{leftJustifiedTextSymbolIndex:Yt,centerJustifiedTextSymbolIndex:xi,rightJustifiedTextSymbolIndex:qt,verticalPlacedTextSymbolIndex:di}=Ze,wi=a.text.placedSymbolArray,Ot=si||Pt?1:0;Yt>=0&&(wi.get(Yt).hidden=Ot),xi>=0&&(wi.get(xi).hidden=Ot),qt>=0&&(wi.get(qt).hidden=Ot),di>=0&&(wi.get(di).hidden=si||pi?1:0);const Xt=this.variableOffsets[pt];Xt&&this.markUsedJustification(a,Xt.anchor,Ze,Ft);const Vi=this.placedOrientations[pt];Vi&&(this.markUsedJustification(a,"left",Ze,Vi),this.markUsedOrientation(a,Vi,Ze))}if($t){const Bt=Ts(mt.icon),{placedIconSymbolIndex:si,verticalPlacedIconSymbolIndex:Yt}=Ze,xi=a.icon.placedSymbolArray,qt=mt.icon.isHidden()?1:0;si>=0&&(et(a.icon,wt,Pt?Qa:Bt),xi.get(si).hidden=qt),Yt>=0&&(et(a.icon,Ze.numVerticalIconVertices,pi?Qa:Bt),xi.get(Yt).hidden=qt)}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const Bt=a.collisionArrays[Xe];if(Bt){let si=new n.pointGeometry(0,0),Yt=!0;if(Bt.textBox||Bt.verticalTextBox){if(Ee){const qt=this.variableOffsets[pt];qt?(si=Jr(qt.anchor,qt.width,qt.height,qt.textOffset,qt.textScale),Te&&si._rotate(Re?this.transform.angle:-this.transform.angle)):Yt=!1}A&&(Yt=!mt.clipped),Bt.textBox&&Is(a.textCollisionBox.collisionVertexArray,mt.text.placed,!Yt||Pt,si.x,si.y),Bt.verticalTextBox&&Is(a.textCollisionBox.collisionVertexArray,mt.text.placed,!Yt||pi,si.x,si.y)}const xi=Yt&&Boolean(!pi&&Bt.verticalIconBox);Bt.iconBox&&Is(a.iconCollisionBox.collisionVertexArray,mt.icon.placed,xi,We?si.x:0,We?si.y:0),Bt.verticalIconBox&&Is(a.iconCollisionBox.collisionVertexArray,mt.icon.placed,!xi,We?si.x:0,We?si.y:0)}}}if(a.fullyClipped=rt===0,a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.bucketInstanceId in this.collisionCircleArrays){const Xe=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=Xe.invProjMatrix,a.placementViewportMatrix=Xe.viewportMatrix,a.collisionCircleArray=Xe.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,d){const x=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*x>a}setStale(){this.stale=!0}}function Is(m,a,d,x,E){m.emplaceBack(a?1:0,d?1:0,x||0,E||0),m.emplaceBack(a?1:0,d?1:0,x||0,E||0),m.emplaceBack(a?1:0,d?1:0,x||0,E||0),m.emplaceBack(a?1:0,d?1:0,x||0,E||0)}const No=Math.pow(2,25),iu=Math.pow(2,24),_h=Math.pow(2,17),ms=Math.pow(2,16),Ml=Math.pow(2,9),yh=Math.pow(2,8),Cl=Math.pow(2,1);function Ts(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;const a=m.placed?1:0,d=Math.floor(127*m.opacity);return d*No+a*iu+d*_h+a*ms+d*Ml+a*yh+d*Cl+a}const Qa=0;class xh{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&a.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,d,x,E,A){const J=this._bucketParts;for(;this._currentTileIndex<a.length;)if(d.getBucketParts(J,E,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,A())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,J.sort((ce,de)=>ce.sortKey-de.sortKey));this._currentPartIndex<J.length;){const ce=J[this._currentPartIndex];if(d.placeLayerBucketPart(ce,this._seenCrossTileIDs,x,ce.symbolInstanceStart===0),this._currentPartIndex++,A())return!0}return!1}}class ir{constructor(a,d,x,E,A,J,ce,de){this.placement=new rd(a,A,J,ce,de),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=x,this._showCollisionBoxes=E,this._done=!1}isDone(){return this._done}continuePlacement(a,d,x){const E=n.exported.now(),A=()=>{const J=n.exported.now()-E;return!this._forceFullPlacement&&J>2};for(;this._currentPlacementIndex>=0;){const J=d[a[this._currentPlacementIndex]],ce=this.placement.collisionIndex.transform.zoom;if(J.type==="symbol"&&(!J.minzoom||J.minzoom<=ce)&&(!J.maxzoom||J.maxzoom>ce)){if(this._inProgressLayer||(this._inProgressLayer=new xh(J)),this._inProgressLayer.continuePlacement(x[J.source],this.placement,this._showCollisionBoxes,J,A))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const dr=512/n.EXTENT/2;class vh{constructor(a,d,x){this.tileID=a,this.indexedSymbolInstances={},this.bucketInstanceId=x;for(let E=0;E<d.length;E++){const A=d.get(E),J=A.key;this.indexedSymbolInstances[J]||(this.indexedSymbolInstances[J]=[]),this.indexedSymbolInstances[J].push({crossTileID:A.crossTileID,coord:this.getScaledCoordinates(A,a)})}}getScaledCoordinates(a,d){const x=dr/Math.pow(2,d.canonical.z-this.tileID.canonical.z);return{x:Math.floor((d.canonical.x*n.EXTENT+a.tileAnchorX)*x),y:Math.floor((d.canonical.y*n.EXTENT+a.tileAnchorY)*x)}}findMatches(a,d,x){const E=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let A=0;A<a.length;A++){const J=a.get(A);if(J.crossTileID)continue;const ce=this.indexedSymbolInstances[J.key];if(!ce)continue;const de=this.getScaledCoordinates(J,d);for(const Ee of ce)if(Math.abs(Ee.coord.x-de.x)<=E&&Math.abs(Ee.coord.y-de.y)<=E&&!x[Ee.crossTileID]){x[Ee.crossTileID]=!0,J.crossTileID=Ee.crossTileID;break}}}}class pp{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class sd{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const d=Math.round((a-this.lng)/360);if(d!==0)for(const x in this.indexes){const E=this.indexes[x],A={};for(const J in E){const ce=E[J];ce.tileID=ce.tileID.unwrapTo(ce.tileID.wrap+d),A[ce.tileID.key]=ce}this.indexes[x]=A}this.lng=a}addBucket(a,d,x){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let A=0;A<d.symbolInstances.length;A++)d.symbolInstances.get(A).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const E=this.usedCrossTileIDs[a.overscaledZ];for(const A in this.indexes){const J=this.indexes[A];if(Number(A)>a.overscaledZ)for(const ce in J){const de=J[ce];de.tileID.isChildOf(a)&&de.findMatches(d.symbolInstances,a,E)}else{const ce=J[a.scaledTo(Number(A)).key];ce&&ce.findMatches(d.symbolInstances,a,E)}}for(let A=0;A<d.symbolInstances.length;A++){const J=d.symbolInstances.get(A);J.crossTileID||(J.crossTileID=x.generate(),E[J.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new vh(a,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(a,d){for(const x in d.indexedSymbolInstances)for(const E of d.indexedSymbolInstances[x])delete this.usedCrossTileIDs[a][E.crossTileID]}removeStaleBuckets(a){let d=!1;for(const x in this.indexes){const E=this.indexes[x];for(const A in E)a[E[A].bucketInstanceId]||(this.removeBucketCrossTileIDs(x,E[A]),delete E[A],d=!0)}return d}}class ta{constructor(){this.layerIndexes={},this.crossTileIDs=new pp,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,d,x,E){let A=this.layerIndexes[a.id];A===void 0&&(A=this.layerIndexes[a.id]=new sd);let J=!1;const ce={};E.name!=="globe"&&A.handleWrapJump(x);for(const de of d){const Ee=de.getBucket(a);Ee&&a.id===Ee.layerIds[0]&&(Ee.bucketInstanceId||(Ee.bucketInstanceId=++this.maxBucketInstanceId),A.addBucket(de.tileID,Ee,this.crossTileIDs)&&(J=!0),ce[Ee.bucketInstanceId]=!0)}return A.removeStaleBuckets(ce)&&(J=!0),J}pruneUnusedLayers(a){const d={};a.forEach(x=>{d[x]=!0});for(const x in this.layerIndexes)d[x]||delete this.layerIndexes[x]}}const Wc=(m,a)=>n.emitValidationErrors(m,a&&a.filter(d=>d.identifier!=="source.canvas")),bh=n.pick(Zi,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Al=n.pick(Zi,["setCenter","setZoom","setBearing","setPitch"]),el={version:8,layers:[],sources:{}},gs={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class k extends n.Evented{constructor(a,d={}){super(),this.map=a,this.dispatcher=new Pe(ln(),this),this.imageManager=new X,this.imageManager.setEventedParent(this),this.glyphManager=new n.GlyphManager(a._requestManager,d.localFontFamily?n.LocalGlyphMode.all:d.localIdeographFontFamily?n.LocalGlyphMode.ideographs:n.LocalGlyphMode.none,d.localFontFamily||d.localIdeographFontFamily),this.crossTileSymbolIndex=new ta,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());const x=this;this._rtlTextPluginCallback=k.registerForPluginStateChange(E=>{x.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:E.pluginStatus,pluginURL:E.pluginURL},(A,J)=>{if(n.triggerPluginCompletionEvent(A),J&&J.every(ce=>ce))for(const ce in x._sourceCaches){const de=x._sourceCaches[ce],Ee=de.getSource().type;Ee!=="vector"&&Ee!=="geojson"||de.reload()}})}),this.on("data",E=>{if(E.dataType!=="source"||E.sourceDataType!=="metadata")return;const A=this.getSource(E.sourceId);if(A&&A.vectorLayerIds)for(const J in this._layers){const ce=this._layers[J];ce.source===A.id&&this._validateLayer(ce)}})}loadURL(a,d={}){this.fire(new n.Event("dataloading",{dataType:"style"}));const x=typeof d.validate=="boolean"?d.validate:!n.isMapboxURL(a);a=this.map._requestManager.normalizeStyleURL(a,d.accessToken);const E=this.map._requestManager.transformRequest(a,n.ResourceType.Style);this._request=n.getJSON(E,(A,J)=>{this._request=null,A?this.fire(new n.ErrorEvent(A)):J&&this._load(J,x)})}loadJSON(a,d={}){this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.exported.frame(()=>{this._request=null,this._load(a,d.validate!==!1)})}loadEmpty(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(el,!1)}_updateLayerCount(a,d){const x=d?1:-1;a.is3D()&&(this._num3DLayers+=x),a.type==="circle"&&(this._numCircleLayers+=x),a.type==="symbol"&&(this._numSymbolLayers+=x)}_load(a,d){if(d&&Wc(this,n.validateStyle(a)))return;this._loaded=!0,this.stylesheet=n.clone$1(a),this._updateMapProjection();for(const E in a.sources)this.addSource(E,a.sources[E],{validate:!1});this._changed=!1,a.sprite?this._loadSprite(a.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(a.glyphs);const x=Qn(this.stylesheet.layers);this._order=x.map(E=>E.id),this._layers={},this._serializedLayers={};for(let E of x)E=n.createStyleLayer(E),E.setEventedParent(this,{layer:{id:E.id}}),this._layers[E.id]=E,this._serializedLayers[E.id]=E.serialize(),this._updateLayerCount(E,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new _(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(a){a?this.stylesheet.projection=a:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(a){this._spriteRequest=function(d,x,E){let A,J,ce;const de=n.exported.devicePixelRatio>1?"@2x":"";let Ee=n.getJSON(x.transformRequest(x.normalizeSpriteURL(d,de,".json"),n.ResourceType.SpriteJSON),(We,Qe)=>{Ee=null,ce||(ce=We,A=Qe,Re())}),Te=n.getImage(x.transformRequest(x.normalizeSpriteURL(d,de,".png"),n.ResourceType.SpriteImage),(We,Qe)=>{Te=null,ce||(ce=We,J=Qe,Re())});function Re(){if(ce)E(ce);else if(A&&J){const We=n.exported.getImageData(J),Qe={};for(const et in A){const{width:rt,height:Xe,x:Ze,y:lt,sdf:tt,pixelRatio:pt,stretchX:wt,stretchY:mt,content:At}=A[et],$t=new n.RGBAImage({width:rt,height:Xe});n.RGBAImage.copy(We,$t,{x:Ze,y:lt},{x:0,y:0},{width:rt,height:Xe}),Qe[et]={data:$t,pixelRatio:pt,sdf:tt,stretchX:wt,stretchY:mt,content:At}}E(null,Qe)}}return{cancel(){Ee&&(Ee.cancel(),Ee=null),Te&&(Te.cancel(),Te=null)}}}(a,this.map._requestManager,(d,x)=>{if(this._spriteRequest=null,d)this.fire(new n.ErrorEvent(d));else if(x)for(const E in x)this.imageManager.addImage(E,x[E]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new n.Event("data",{dataType:"style"}))})}_validateLayer(a){const d=this.getSource(a.source);if(!d)return;const x=a.sourceLayer;x&&(d.type==="geojson"||d.vectorLayerIds&&d.vectorLayerIds.indexOf(x)===-1)&&this.fire(new n.ErrorEvent(new Error(`Source layer "${x}" does not exist on source "${d.id}" as specified by style layer "${a.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this._sourceCaches)if(!this._sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(a){const d=[];for(const x of a){const E=this._layers[x];E.type!=="custom"&&d.push(E.serialize())}return d}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const a in this._sourceCaches)if(this._sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(a){return!!this.terrain&&gs[a.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(a){if(!this._loaded)return;const d=this._changed;if(this._changed){const E=Object.keys(this._updatedLayers),A=Object.keys(this._removedLayers);(E.length||A.length)&&this._updateWorkerLayers(E,A);for(const J in this._updatedSources){const ce=this._updatedSources[J];ce==="reload"?this._reloadSource(J):ce==="clear"&&this._clearSource(J)}this._updateTilesForChangedImages();for(const J in this._updatedPaintProps)this._layers[J].updateTransitions(a);this.light.updateTransitions(a),this.fog&&this.fog.updateTransitions(a),this._resetUpdates()}const x={};for(const E in this._sourceCaches){const A=this._sourceCaches[E];x[E]=A.used,A.used=!1}for(const E of this._order){const A=this._layers[E];if(A.recalculate(a,this._availableImages),!A.isHidden(a.zoom)){const ce=this._getLayerSourceCache(A);ce&&(ce.used=!0)}const J=this.map.painter;if(J){const ce=A.getProgramIds();if(!ce)continue;const de=A.getProgramConfiguration(a.zoom);for(const Ee of ce)J.useProgram(Ee,de)}}for(const E in x){const A=this._sourceCaches[E];x[E]!==A.used&&A.getSource().fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:A.getSource().id}))}this.light.recalculate(a),this.terrain&&this.terrain.recalculate(a),this.fog&&this.fog.recalculate(a),this.z=a.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),d&&this.fire(new n.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const d in this._sourceCaches)this._sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateWorkerLayers(a,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(a),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(a){if(this._checkLoaded(),Wc(this,n.validateStyle(a)))return!1;(a=n.clone$1(a)).layers=Qn(a.layers);const d=function(E,A){if(!E)return[{command:Zi.setStyle,args:[A]}];let J=[];try{if(!w(E.version,A.version))return[{command:Zi.setStyle,args:[A]}];w(E.center,A.center)||J.push({command:Zi.setCenter,args:[A.center]}),w(E.zoom,A.zoom)||J.push({command:Zi.setZoom,args:[A.zoom]}),w(E.bearing,A.bearing)||J.push({command:Zi.setBearing,args:[A.bearing]}),w(E.pitch,A.pitch)||J.push({command:Zi.setPitch,args:[A.pitch]}),w(E.sprite,A.sprite)||J.push({command:Zi.setSprite,args:[A.sprite]}),w(E.glyphs,A.glyphs)||J.push({command:Zi.setGlyphs,args:[A.glyphs]}),w(E.transition,A.transition)||J.push({command:Zi.setTransition,args:[A.transition]}),w(E.light,A.light)||J.push({command:Zi.setLight,args:[A.light]}),w(E.fog,A.fog)||J.push({command:Zi.setFog,args:[A.fog]}),w(E.projection,A.projection)||J.push({command:Zi.setProjection,args:[A.projection]});const ce={},de=[];(function(Re,We,Qe,et){let rt;for(rt in We=We||{},Re=Re||{})Re.hasOwnProperty(rt)&&(We.hasOwnProperty(rt)||or(rt,Qe,et));for(rt in We)We.hasOwnProperty(rt)&&(Re.hasOwnProperty(rt)?w(Re[rt],We[rt])||(Re[rt].type==="geojson"&&We[rt].type==="geojson"&&Za(Re,We,rt)?Qe.push({command:Zi.setGeoJSONSourceData,args:[rt,We[rt].data]}):ua(rt,We,Qe,et)):vr(rt,We,Qe))})(E.sources,A.sources,de,ce);const Ee=[];E.layers&&E.layers.forEach(Re=>{Re.source&&ce[Re.source]?J.push({command:Zi.removeLayer,args:[Re.id]}):Ee.push(Re)});let Te=E.terrain;Te&&ce[Te.source]&&(J.push({command:Zi.setTerrain,args:[void 0]}),Te=void 0),J=J.concat(de),w(Te,A.terrain)||J.push({command:Zi.setTerrain,args:[A.terrain]}),function(Re,We,Qe){We=We||[];const et=(Re=Re||[]).map(ni),rt=We.map(ni),Xe=Re.reduce(Bo,{}),Ze=We.reduce(Bo,{}),lt=et.slice(),tt=Object.create(null);let pt,wt,mt,At,$t,Ft,Pt;for(pt=0,wt=0;pt<et.length;pt++)mt=et[pt],Ze.hasOwnProperty(mt)?wt++:(Qe.push({command:Zi.removeLayer,args:[mt]}),lt.splice(lt.indexOf(mt,wt),1));for(pt=0,wt=0;pt<rt.length;pt++)mt=rt[rt.length-1-pt],lt[lt.length-1-pt]!==mt&&(Xe.hasOwnProperty(mt)?(Qe.push({command:Zi.removeLayer,args:[mt]}),lt.splice(lt.lastIndexOf(mt,lt.length-wt),1)):wt++,Ft=lt[lt.length-pt],Qe.push({command:Zi.addLayer,args:[Ze[mt],Ft]}),lt.splice(lt.length-pt,0,mt),tt[mt]=!0);for(pt=0;pt<rt.length;pt++)if(mt=rt[pt],At=Xe[mt],$t=Ze[mt],!tt[mt]&&!w(At,$t))if(w(At.source,$t.source)&&w(At["source-layer"],$t["source-layer"])&&w(At.type,$t.type)){for(Pt in vo(At.layout,$t.layout,Qe,mt,null,Zi.setLayoutProperty),vo(At.paint,$t.paint,Qe,mt,null,Zi.setPaintProperty),w(At.filter,$t.filter)||Qe.push({command:Zi.setFilter,args:[mt,$t.filter]}),w(At.minzoom,$t.minzoom)&&w(At.maxzoom,$t.maxzoom)||Qe.push({command:Zi.setLayerZoomRange,args:[mt,$t.minzoom,$t.maxzoom]}),At)At.hasOwnProperty(Pt)&&Pt!=="layout"&&Pt!=="paint"&&Pt!=="filter"&&Pt!=="metadata"&&Pt!=="minzoom"&&Pt!=="maxzoom"&&(Pt.indexOf("paint.")===0?vo(At[Pt],$t[Pt],Qe,mt,Pt.slice(6),Zi.setPaintProperty):w(At[Pt],$t[Pt])||Qe.push({command:Zi.setLayerProperty,args:[mt,Pt,$t[Pt]]}));for(Pt in $t)$t.hasOwnProperty(Pt)&&!At.hasOwnProperty(Pt)&&Pt!=="layout"&&Pt!=="paint"&&Pt!=="filter"&&Pt!=="metadata"&&Pt!=="minzoom"&&Pt!=="maxzoom"&&(Pt.indexOf("paint.")===0?vo(At[Pt],$t[Pt],Qe,mt,Pt.slice(6),Zi.setPaintProperty):w(At[Pt],$t[Pt])||Qe.push({command:Zi.setLayerProperty,args:[mt,Pt,$t[Pt]]}))}else Qe.push({command:Zi.removeLayer,args:[mt]}),Ft=lt[lt.lastIndexOf(mt)+1],Qe.push({command:Zi.addLayer,args:[$t,Ft]})}(Ee,A.layers,J)}catch(ce){console.warn("Unable to compute style diff:",ce),J=[{command:Zi.setStyle,args:[A]}]}return J}(this.serialize(),a).filter(E=>!(E.command in Al));if(d.length===0)return!1;const x=d.filter(E=>!(E.command in bh));if(x.length>0)throw new Error(`Unimplemented: ${x.map(E=>E.command).join(", ")}.`);return d.forEach(E=>{E.command!=="setTransition"&&E.command!=="setProjection"&&this[E.command].apply(this,E.args)}),this.stylesheet=a,this._updateMapProjection(),!0}addImage(a,d){return this.getImage(a)?this.fire(new n.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(a,d),this._afterImageUpdated(a),this)}updateImage(a,d){this.imageManager.updateImage(a,d)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){return this.getImage(a)?(this.imageManager.removeImage(a),this._afterImageUpdated(a),this):this.fire(new n.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(a,d,x={}){if(this._checkLoaded(),this.getSource(a)!==void 0)throw new Error("There is already a source with this ID");if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(n.validateSource,`sources.${a}`,d,null,x))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const E=Rt(a,d,this.dispatcher,this);E.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(a),source:E.serialize(),sourceId:a}));const A=J=>{const ce=(J?"symbol:":"other:")+a,de=this._sourceCaches[ce]=new n.SourceCache(ce,E,J);(J?this._symbolSourceCaches:this._otherSourceCaches)[a]=de,de.style=this,de.onAdd(this.map)};A(!1),d.type!=="vector"&&d.type!=="geojson"||A(!0),E.onAdd&&E.onAdd(this.map),this._changed=!0}removeSource(a){this._checkLoaded();const d=this.getSource(a);if(!d)throw new Error("There is no source with this ID");for(const E in this._layers)if(this._layers[E].source===a)return this.fire(new n.ErrorEvent(new Error(`Source "${a}" cannot be removed while layer "${E}" is using it.`)));if(this.terrain&&this.terrain.get().source===a)return this.fire(new n.ErrorEvent(new Error(`Source "${a}" cannot be removed while terrain is using it.`)));const x=this._getSourceCaches(a);for(const E of x)delete this._sourceCaches[E.id],delete this._updatedSources[E.id],E.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:E.getSource().id})),E.setEventedParent(null),E.clearTiles();return delete this._otherSourceCaches[a],delete this._symbolSourceCaches[a],d.setEventedParent(null),d.onRemove&&d.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(a,d){this._checkLoaded(),this.getSource(a).setData(d),this._changed=!0}getSource(a){const d=this._getSourceCache(a);return d&&d.getSource()}_getSources(){const a=[];for(const d in this._otherSourceCaches){const x=this._getSourceCache(d);x&&a.push(x.getSource())}return a}addLayer(a,d,x={}){this._checkLoaded();const E=a.id;if(this.getLayer(E))return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${E}" already exists on this map`)));let A;if(a.type==="custom"){if(Wc(this,n.validateCustomStyleLayer(a)))return;A=n.createStyleLayer(a)}else{if(typeof a.source=="object"&&(this.addSource(E,a.source),a=n.clone$1(a),a=n.extend(a,{source:E})),this._validate(n.validateLayer,`layers.${E}`,a,{arrayIndex:-1},x))return;A=n.createStyleLayer(a),this._validateLayer(A),A.setEventedParent(this,{layer:{id:E}}),this._serializedLayers[A.id]=A.serialize(),this._updateLayerCount(A,!0)}const J=d?this._order.indexOf(d):this._order.length;if(d&&J===-1)return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${d}" does not exist on this map.`)));this._order.splice(J,0,E),this._layerOrderChanged=!0,this._layers[E]=A;const ce=this._getLayerSourceCache(A);if(this._removedLayers[E]&&A.source&&ce&&A.type!=="custom"){const de=this._removedLayers[E];delete this._removedLayers[E],de.type!==A.type?this._updatedSources[A.source]="clear":(this._updatedSources[A.source]="reload",ce.pause())}this._updateLayer(A),A.onAdd&&A.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(a,d){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===d)return;const x=this._order.indexOf(a);this._order.splice(x,1);const E=d?this._order.indexOf(d):this._order.length;d&&E===-1?this.fire(new n.ErrorEvent(new Error(`Layer with id "${d}" does not exist on this map.`))):(this._order.splice(E,0,a),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(a){this._checkLoaded();const d=this._layers[a];if(!d)return void this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be removed.`)));d.setEventedParent(null),this._updateLayerCount(d,!1);const x=this._order.indexOf(a);this._order.splice(x,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=d,delete this._layers[a],delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],d.onRemove&&d.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(a){return this._layers[a]}hasLayer(a){return a in this._layers}hasLayerType(a){for(const d in this._layers)if(this._layers[d].type===a)return!0;return!1}setLayerZoomRange(a,d,x){this._checkLoaded();const E=this.getLayer(a);E?E.minzoom===d&&E.maxzoom===x||(d!=null&&(E.minzoom=d),x!=null&&(E.maxzoom=x),this._updateLayer(E)):this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(a,d,x={}){this._checkLoaded();const E=this.getLayer(a);if(E){if(!w(E.filter,d))return d==null?(E.filter=void 0,void this._updateLayer(E)):void(this._validate(n.validateFilter,`layers.${E.id}.filter`,d,{layerType:E.type},x)||(E.filter=n.clone$1(d),this._updateLayer(E)))}else this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be filtered.`)))}getFilter(a){const d=this.getLayer(a);return d&&n.clone$1(d.filter)}setLayoutProperty(a,d,x,E={}){this._checkLoaded();const A=this.getLayer(a);A?w(A.getLayoutProperty(d),x)||(A.setLayoutProperty(d,x,E),this._updateLayer(A)):this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(a,d){const x=this.getLayer(a);if(x)return x.getLayoutProperty(d);this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style.`)))}setPaintProperty(a,d,x,E={}){this._checkLoaded();const A=this.getLayer(a);A?w(A.getPaintProperty(d),x)||(A.setPaintProperty(d,x,E)&&this._updateLayer(A),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(a,d){const x=this.getLayer(a);return x&&x.getPaintProperty(d)}setFeatureState(a,d){this._checkLoaded();const x=a.source,E=a.sourceLayer,A=this.getSource(x);if(!A)return void this.fire(new n.ErrorEvent(new Error(`The source '${x}' does not exist in the map's style.`)));const J=A.type;if(J==="geojson"&&E)return void this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(J==="vector"&&!E)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));a.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided.")));const ce=this._getSourceCaches(x);for(const de of ce)de.setFeatureState(E,a.id,d)}removeFeatureState(a,d){this._checkLoaded();const x=a.source,E=this.getSource(x);if(!E)return void this.fire(new n.ErrorEvent(new Error(`The source '${x}' does not exist in the map's style.`)));const A=E.type,J=A==="vector"?a.sourceLayer:void 0;if(A==="vector"&&!J)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(d&&typeof a.id!="string"&&typeof a.id!="number")return void this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const ce=this._getSourceCaches(x);for(const de of ce)de.removeFeatureState(J,a.id,d)}getFeatureState(a){this._checkLoaded();const d=a.source,x=a.sourceLayer,E=this.getSource(d);if(E){if(E.type!=="vector"||x)return a.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(d)[0].getFeatureState(x,a.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const a={};for(const d in this._sourceCaches){const x=this._sourceCaches[d].getSource();a[x.id]||(a[x.id]=x.serialize())}return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:a,layers:this._serializeLayers(this._order)},d=>d!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0;const d=this._getLayerSourceCache(a);a.source&&!this._updatedSources[a.source]&&d&&d.getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",d.pause()),this._changed=!0,a.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(a){const d=J=>this._layers[J].type==="fill-extrusion",x={},E=[];for(let J=this._order.length-1;J>=0;J--){const ce=this._order[J];if(d(ce)){x[ce]=J;for(const de of a){const Ee=de[ce];if(Ee)for(const Te of Ee)E.push(Te)}}}E.sort((J,ce)=>ce.intersectionZ-J.intersectionZ);const A=[];for(let J=this._order.length-1;J>=0;J--){const ce=this._order[J];if(d(ce))for(let de=E.length-1;de>=0;de--){const Ee=E[de].feature;if(x[Ee.layer.id]<J)break;A.push(Ee),E.pop()}else for(const de of a){const Ee=de[ce];if(Ee)for(const Te of Ee)A.push(Te.feature)}}return A}queryRenderedFeatures(a,d,x){d&&d.filter&&this._validate(n.validateFilter,"queryRenderedFeatures.filter",d.filter,null,d);const E={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const de of d.layers){const Ee=this._layers[de];if(!Ee)return this.fire(new n.ErrorEvent(new Error(`The layer '${de}' does not exist in the map's style and cannot be queried for features.`))),[];E[Ee.source]=!0}}const A=[];d.availableImages=this._availableImages;const J=d&&d.layers?d.layers.some(de=>{const Ee=this.getLayer(de);return Ee&&Ee.is3D()}):this.has3DLayers(),ce=le.createFromScreenPoints(a,x);for(const de in this._sourceCaches){const Ee=this._sourceCaches[de].getSource().id;d.layers&&!E[Ee]||A.push(Nt(this._sourceCaches[de],this._layers,this._serializedLayers,ce,d,x,J,!!this.map._showQueryGeometry))}return this.placement&&A.push(function(de,Ee,Te,Re,We,Qe,et){const rt={},Xe=Qe.queryRenderedSymbols(Re),Ze=[];for(const lt of Object.keys(Xe).map(Number))Ze.push(et[lt]);Ze.sort(Oi);for(const lt of Ze){const tt=lt.featureIndex.lookupSymbolFeatures(Xe[lt.bucketInstanceId],Ee,lt.bucketIndex,lt.sourceLayerIndex,We.filter,We.layers,We.availableImages,de);for(const pt in tt){const wt=rt[pt]=rt[pt]||[],mt=tt[pt];mt.sort((At,$t)=>{const Ft=lt.featureSortOrder;if(Ft){const Pt=Ft.indexOf(At.featureIndex);return Ft.indexOf($t.featureIndex)-Pt}return $t.featureIndex-At.featureIndex});for(const At of mt)wt.push(At)}}for(const lt in rt)rt[lt].forEach(tt=>{const pt=tt.feature,wt=Te(de[lt]).getFeatureState(pt.layer["source-layer"],pt.id);pt.source=pt.layer.source,pt.layer["source-layer"]&&(pt.sourceLayer=pt.layer["source-layer"]),pt.state=wt});return rt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),ce.screenGeometry,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(A)}querySourceFeatures(a,d){d&&d.filter&&this._validate(n.validateFilter,"querySourceFeatures.filter",d.filter,null,d);const x=this._getSourceCaches(a);let E=[];for(const A of x)E=E.concat(li(A,d));return E}addSourceType(a,d,x){return k.getSourceType(a)?x(new Error(`A source type called "${a}" already exists.`)):(k.setSourceType(a,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:d.workerSourceURL},x):x(null,null))}getLight(){return this.light.getLight()}setLight(a,d={}){this._checkLoaded();const x=this.light.getLight();let E=!1;for(const J in a)if(!w(a[J],x[J])){E=!0;break}if(!E)return;const A=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(a,d),this.light.updateTransitions(A)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(a,d=1){if(this._checkLoaded(),!a)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(d===1){if(typeof a.source=="object"){const x="terrain-dem-src";this.addSource(x,a.source),a=n.clone$1(a),a=n.extend(a,{source:x})}if(this._validate(n.validateTerrain,"terrain",a))return}if(!this.terrain||this.terrain&&d!==this.terrain.drapeRenderMode)this._createTerrain(a,d);else{const x=this.terrain,E=x.get();for(const A of Object.keys(n.spec.terrain))!a.hasOwnProperty(A)&&n.spec.terrain[A].default&&(a[A]=n.spec.terrain[A].default);for(const A in a)if(!w(a[A],E[A])){x.set(a),this.stylesheet.terrain=a;const J=this._setTransitionParameters({duration:0});x.updateTransitions(J);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(a){const d=this.fog=new Me(a,this.map.transform);this.stylesheet.fog=a;const x=this._setTransitionParameters({duration:0});d.updateTransitions(x)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const a of this.map._markers)a._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(a){if(this._checkLoaded(),!a)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const d=this.fog,x=d.get();Object.keys(a).length===0&&d.set(a);for(const E in a)if(!w(a[E],x[E])){d.set(a),this.stylesheet.fog=a;const A=this._setTransitionParameters({duration:0});d.updateTransitions(A);break}}else this._createFog(a);this._markersNeedUpdate=!0}_setTransitionParameters(a){return{now:n.exported.now(),transition:n.extend(a,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const a=this._order.filter(x=>this.isLayerDraped(this._layers[x])),d=this._order.filter(x=>!this.isLayerDraped(this._layers[x]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...a),this._drapedFirstOrder.push(...d)}_createTerrain(a,d){const x=this.terrain=new O(a,d);this.stylesheet.terrain=a,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const E=this._setTransitionParameters({duration:0});x.updateTransitions(E)}_force3DLayerUpdate(){for(const a in this._layers){const d=this._layers[a];d.type==="fill-extrusion"&&this._updateLayer(d)}}_forceSymbolLayerUpdate(){for(const a in this._layers){const d=this._layers[a];d.type==="symbol"&&this._updateLayer(d)}}_validate(a,d,x,E,A={}){return(!A||A.validate!==!1)&&Wc(this,a.call(n.validateStyle,n.extend({key:d,style:this.serialize(),value:x,styleSpec:n.spec},E)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const a in this._layers)this._layers[a].setEventedParent(null);for(const a in this._sourceCaches)this._sourceCaches[a].clearTiles(),this._sourceCaches[a].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(a){const d=this._getSourceCaches(a);for(const x of d)x.clearTiles()}_reloadSource(a){const d=this._getSourceCaches(a);for(const x of d)x.resume(),x.reload()}_reloadSources(){for(const a of this._getSources())a.reload&&a.reload()}_updateSources(a){for(const d in this._sourceCaches)this._sourceCaches[d].update(a)}_generateCollisionBoxes(){for(const a in this._sourceCaches){const d=this._sourceCaches[a];d.resume(),d.reload()}}_updatePlacement(a,d,x,E,A=!1){let J=!1,ce=!1;const de={};for(const Ee of this._order){const Te=this._layers[Ee];if(Te.type!=="symbol")continue;if(!de[Te.source]){const We=this._getLayerSourceCache(Te);if(!We)continue;de[Te.source]=We.getRenderableIds(!0).map(Qe=>We.getTileByID(Qe)).sort((Qe,et)=>et.tileID.overscaledZ-Qe.tileID.overscaledZ||(Qe.tileID.isLessThan(et.tileID)?-1:1))}const Re=this.crossTileSymbolIndex.addLayer(Te,de[Te.source],a.center.lng,a.projection);J=J||Re}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),A=A||this._layerOrderChanged||x===0,this._layerOrderChanged&&this.fire(new n.Event("neworder")),(A||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.exported.now(),a.zoom))&&(this.pauseablePlacement=new ir(a,this._order,A,d,x,E,this.placement,this.fog&&a.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,de),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.exported.now()),ce=!0),J&&this.pauseablePlacement.placement.setStale()),ce||J)for(const Ee of this._order){const Te=this._layers[Ee];Te.type==="symbol"&&this.placement.updateLayerOpacities(Te,de[Te.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.exported.now())}_releaseSymbolFadeTiles(){for(const a in this._sourceCaches)this._sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,d,x){this.imageManager.getImages(d.icons,x),this._updateTilesForChangedImages();const E=A=>{A&&A.setDependencies(d.tileID.key,d.type,d.icons)};E(this._otherSourceCaches[d.source]),E(this._symbolSourceCaches[d.source])}getGlyphs(a,d,x){this.glyphManager.getGlyphs(d.stacks,x)}getResource(a,d,x){return n.makeRequest(d,x)}_getSourceCache(a){return this._otherSourceCaches[a]}_getLayerSourceCache(a){return a.type==="symbol"?this._symbolSourceCaches[a.source]:this._otherSourceCaches[a.source]}_getSourceCaches(a){const d=[];return this._otherSourceCaches[a]&&d.push(this._otherSourceCaches[a]),this._symbolSourceCaches[a]&&d.push(this._symbolSourceCaches[a]),d}_isSourceCacheLoaded(a){const d=this._getSourceCaches(a);return d.length===0?(this.fire(new n.ErrorEvent(new Error(`There is no source with ID '${a}'`))),!1):d.every(x=>x.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}k.getSourceType=function(m){return Lt[m]},k.setSourceType=function(m,a){Lt[m]=a},k.registerForPluginStateChange=n.registerForPluginStateChange;var ne=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,me="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",we=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Be=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Ne=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let He={},Et={};const yt=[];ei(ne,yt),ei(we,yt),ei(Be,yt),ei(Ne,yt),He=ki("",we),Et=ki(Ne,Be);const Ut=ki(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),ii=ne,fi=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var Kt={background:ki(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:ki(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:ki(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:ki("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ki(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:ki(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:ki("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:ki("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:ki("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:ki(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:ki(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:ki(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:ki(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:ki(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:ki(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:ki(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ki(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:ki(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:ki(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:ki(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:ki(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:ki(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:ki(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:ki(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:ki(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:ki(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,me),skyboxGradient:ki(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,me),skyboxCapture:ki(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:ki(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:ki(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function ei(m,a){const d=m.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let x of d)if(x=x.trim(),x[0]==="#"&&x.includes("if")&&!x.includes("endif")){x=x.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const E=x.split(" ");for(const A of E)a.includes(A)||a.push(A)}}function ki(m,a){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,x=a.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),E={},A=[...yt];return ei(m,A),ei(a,A),{fragmentSource:m=m.replace(d,(J,ce,de,Ee,Te)=>(E[Te]=!0,ce==="define"?`
#ifndef HAS_UNIFORM_u_${Te}
varying ${de} ${Ee} ${Te};
#else
uniform ${de} ${Ee} u_${Te};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Te}
    ${de} ${Ee} ${Te} = u_${Te};
#endif
`)),vertexSource:a=a.replace(d,(J,ce,de,Ee,Te)=>{const Re=Ee==="float"?"vec2":"vec4",We=Te.match(/color/)?"color":Re;return E[Te]?ce==="define"?`
#ifndef HAS_UNIFORM_u_${Te}
uniform lowp float u_${Te}_t;
attribute ${de} ${Re} a_${Te};
varying ${de} ${Ee} ${Te};
#else
uniform ${de} ${Ee} u_${Te};
#endif
`:We==="vec4"?`
#ifndef HAS_UNIFORM_u_${Te}
    ${Te} = a_${Te};
#else
    ${de} ${Ee} ${Te} = u_${Te};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Te}
    ${Te} = unpack_mix_${We}(a_${Te}, u_${Te}_t);
#else
    ${de} ${Ee} ${Te} = u_${Te};
#endif
`:ce==="define"?`
#ifndef HAS_UNIFORM_u_${Te}
uniform lowp float u_${Te}_t;
attribute ${de} ${Re} a_${Te};
#else
uniform ${de} ${Ee} u_${Te};
#endif
`:We==="vec4"?`
#ifndef HAS_UNIFORM_u_${Te}
    ${de} ${Ee} ${Te} = a_${Te};
#else
    ${de} ${Ee} ${Te} = u_${Te};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Te}
    ${de} ${Ee} ${Te} = unpack_mix_${We}(a_${Te}, u_${Te}_t);
#else
    ${de} ${Ee} ${Te} = u_${Te};
#endif
`}),staticAttributes:x,usedDefines:A}}class Ln{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(a,d,x,E,A,J,ce){this.context=a;let de=this.boundPaintVertexBuffers.length!==E.length;for(let Te=0;!de&&Te<E.length;Te++)this.boundPaintVertexBuffers[Te]!==E[Te]&&(de=!0);let Ee=this.boundDynamicVertexBuffers.length!==ce.length;for(let Te=0;!Ee&&Te<ce.length;Te++)this.boundDynamicVertexBuffers[Te]!==ce[Te]&&(Ee=!0);if(!a.extVertexArrayObject||!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==x||de||Ee||this.boundIndexBuffer!==A||this.boundVertexOffset!==J)this.freshBind(d,x,E,A,J,ce);else{a.bindVertexArrayOES.set(this.vao);for(const Te of ce)Te&&Te.bind();A&&A.dynamicDraw&&A.bind()}}freshBind(a,d,x,E,A,J){let ce;const de=a.numAttributes,Ee=this.context,Te=Ee.gl;if(Ee.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Ee.extVertexArrayObject.createVertexArrayOES(),Ee.bindVertexArrayOES.set(this.vao),ce=0,this.boundProgram=a,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=x,this.boundIndexBuffer=E,this.boundVertexOffset=A,this.boundDynamicVertexBuffers=J;else{ce=Ee.currentNumAttributes||0;for(let Re=de;Re<ce;Re++)Te.disableVertexAttribArray(Re)}d.enableAttributes(Te,a),d.bind(),d.setVertexAttribPointers(Te,a,A);for(const Re of x)Re.enableAttributes(Te,a),Re.bind(),Re.setVertexAttribPointers(Te,a,A);for(const Re of J)Re&&(Re.enableAttributes(Te,a),Re.bind(),Re.setVertexAttribPointers(Te,a,A));E&&E.bind(),Ee.currentNumAttributes=de}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Ki(m,a){const d=Math.pow(2,a.canonical.z),x=a.canonical.y;return[new n.MercatorCoordinate(0,x/d).toLngLat().lat,new n.MercatorCoordinate(0,(x+1)/d).toLngLat().lat]}function qr(m,a,d,x,E,A,J){const ce=m.context,de=ce.gl,Ee=d.fbo;if(!Ee)return;m.prepareDrawTile();const Te=m.useProgram("hillshade");ce.activeTexture.set(de.TEXTURE0),de.bindTexture(de.TEXTURE_2D,Ee.colorAttachment.get());const Re=((rt,Xe,Ze,lt)=>{const tt=Ze.paint.get("hillshade-shadow-color"),pt=Ze.paint.get("hillshade-highlight-color"),wt=Ze.paint.get("hillshade-accent-color");let mt=Ze.paint.get("hillshade-illumination-direction")*(Math.PI/180);Ze.paint.get("hillshade-illumination-anchor")==="viewport"&&(mt-=rt.transform.angle);const At=!rt.options.moving;return{u_matrix:lt||rt.transform.calculateProjMatrix(Xe.tileID.toUnwrapped(),At),u_image:0,u_latrange:Ki(0,Xe.tileID),u_light:[Ze.paint.get("hillshade-exaggeration"),mt],u_shadow:tt,u_highlight:pt,u_accent:wt}})(m,d,x,m.terrain?a.projMatrix:null);m.prepareDrawProgram(ce,Te,a.toUnwrapped());const{tileBoundsBuffer:We,tileBoundsIndexBuffer:Qe,tileBoundsSegments:et}=m.getTileBoundsBuffers(d);Te.draw(ce,de.TRIANGLES,E,A,J,n.CullFaceMode.disabled,Re,x.id,We,Qe,et)}function Lr(m,a,d){if(!a.needsDEMTextureUpload)return;const x=m.context,E=x.gl;x.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||m.getTileTexture(d.stride);const A=d.getPixels();a.demTexture?a.demTexture.update(A,{premultiply:!1}):a.demTexture=new n.Texture(x,A,E.RGBA,{premultiply:!1}),a.needsDEMTextureUpload=!1}function Gn(m,a,d,x,E,A){const J=m.context,ce=J.gl;if(!a.dem)return;const de=a.dem;if(J.activeTexture.set(ce.TEXTURE1),Lr(m,a,de),!a.demTexture)return;a.demTexture.bind(ce.NEAREST,ce.CLAMP_TO_EDGE);const Ee=de.dim;J.activeTexture.set(ce.TEXTURE0);let Te=a.fbo;if(!Te){const et=new n.Texture(J,{width:Ee,height:Ee,data:null},ce.RGBA);et.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),Te=a.fbo=J.createFramebuffer(Ee,Ee,!0),Te.colorAttachment.set(et.texture)}J.bindFramebuffer.set(Te.framebuffer),J.viewport.set([0,0,Ee,Ee]);const{tileBoundsBuffer:Re,tileBoundsIndexBuffer:We,tileBoundsSegments:Qe}=m.getMercatorTileBoundsBuffers();m.useProgram("hillshadePrepare").draw(J,ce.TRIANGLES,x,E,A,n.CullFaceMode.disabled,((et,rt)=>{const Xe=rt.stride,Ze=n.create();return n.ortho(Ze,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(Ze,Ze,[0,-n.EXTENT,0]),{u_matrix:Ze,u_image:1,u_dimension:[Xe,Xe],u_zoom:et.overscaledZ,u_unpack:rt.unpackVector}})(a.tileID,de),d.id,Re,We,Qe),a.needsHillshadePrepare=!1}const Vn=m=>({u_matrix:new n.UniformMatrix4f(m),u_image0:new n.Uniform1i(m),u_skirt_height:new n.Uniform1f(m)}),Tn=(m,a)=>({u_matrix:m,u_image0:0,u_skirt_height:a}),Ys=(m,a,d,x,E,A,J,ce,de,Ee,Te,Re,We,Qe)=>({u_proj_matrix:Float32Array.from(m),u_globe_matrix:a,u_normalize_matrix:Float32Array.from(x),u_merc_matrix:d,u_zoom_transition:E,u_merc_center:A,u_image0:0,u_frustum_tl:J,u_frustum_tr:ce,u_frustum_br:de,u_frustum_bl:Ee,u_globe_pos:Te,u_globe_radius:Re,u_viewport:We,u_grid_matrix:Qe?Float32Array.from(Qe):new Float32Array(9)});function Xn(m,a){return m!=null&&a!=null&&!(!m.hasData()||!a.hasData())&&m.demTexture!=null&&a.demTexture!=null&&m.tileID.key!==a.tileID.key}const Tr=new class{constructor(){this.operations={}}newMorphing(m,a,d,x,E){if(m in this.operations){const A=this.operations[m];A.to.tileID.key!==d.tileID.key&&(A.queued=d)}else this.operations[m]={startTime:x,phase:0,duration:E,from:a,to:d,queued:null}}getMorphValuesForProxy(m){if(!(m in this.operations))return null;const a=this.operations[m];return{from:a.from,to:a.to,phase:a.phase}}update(m){for(const a in this.operations){const d=this.operations[a];for(d.phase=(m-d.startTime)/d.duration;d.phase>=1||!this._validOp(d);)if(!this._nextOp(d,m)){delete this.operations[a];break}}}_nextOp(m,a){return!!m.queued&&(m.from=m.to,m.to=m.queued,m.queued=null,m.phase=0,m.startTime=a,!0)}_validOp(m){return m.from.hasData()&&m.to.hasData()}},fa={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function kl(m,a){const d=1<<m.z;return!a&&(m.x===0||m.x===d-1)||m.y===0||m.y===d-1}const Ls=m=>({u_matrix:m});function bo(m,a,d,x,E){if(E>0){const A=n.exported.now(),J=(A-m.timeAdded)/E,ce=a?(A-a.timeAdded)/E:-1,de=d.getSource(),Ee=x.coveringZoomLevel({tileSize:de.tileSize,roundZoom:de.roundZoom}),Te=!a||Math.abs(a.tileID.overscaledZ-Ee)>Math.abs(m.tileID.overscaledZ-Ee),Re=Te&&m.refreshedUponExpiration?1:n.clamp(Te?J:1-ce,0,1);return m.refreshedUponExpiration&&J>=1&&(m.refreshedUponExpiration=!1),a?{opacity:1,mix:1-Re}:{opacity:Re,mix:0}}return{opacity:1,mix:0}}class Pn extends n.SourceCache{constructor(a){const d={type:"raster-dem",maxzoom:a.transform.maxZoom},x=new Pe(ln(),null),E=Rt("mock-dem",d,x,a.style);super("mock-dem",E,!1),E.setEventedParent(this),this._sourceLoaded=!0}_loadTile(a,d){a.state="loaded",d(null)}}class js extends n.SourceCache{constructor(a){const d=Rt("proxy",{type:"geojson",maxzoom:a.transform.maxZoom},new Pe(ln(),null),a.style);super("proxy",d,!1),d.setEventedParent(this),this.map=this.getSource().map=a,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(a,d,x){if(a.freezeTileCoverage)return;this.transform=a;const E=a.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((A,J)=>{if(A[J.key]="",!this._tiles[J.key]){const ce=new n.Tile(J,this._source.tileSize*J.overscaleFactor(),a.tileZoom);ce.state="loaded",this._tiles[J.key]=ce}return A},{});for(const A in this._tiles)A in E||(this.freeFBO(A),this._tiles[A].unloadVectorData(),delete this._tiles[A])}freeFBO(a){const d=this.proxyCachedFBO[a];if(d!==void 0){const x=Object.values(d);this.renderCachePool.push(...x),delete this.proxyCachedFBO[a]}}deallocRenderCache(){this.renderCache.forEach(a=>a.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ia extends n.OverscaledTileID{constructor(a,d,x){super(a.overscaledZ,a.wrap,a.canonical.z,a.canonical.x,a.canonical.y),this.proxyTileKey=d,this.projMatrix=x}}class lo extends n.Elevation{constructor(a,d){super(),this.painter=a,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[x,E,A]=function(de){const Ee=new n.StructArrayLayout4i8,Te=new n.StructArrayLayout3ui6,Re=131;Ee.reserve(17161),Te.reserve(33800);const We=n.EXTENT/128,Qe=n.EXTENT+We/2,et=Qe+We;for(let Xe=-We;Xe<et;Xe+=We)for(let Ze=-We;Ze<et;Ze+=We){const lt=Ze<0||Ze>Qe||Xe<0||Xe>Qe?24575:0,tt=n.clamp(Math.round(Ze),0,n.EXTENT),pt=n.clamp(Math.round(Xe),0,n.EXTENT);Ee.emplaceBack(tt+lt,pt,tt,pt)}const rt=(Xe,Ze)=>{const lt=Ze*Re+Xe;Te.emplaceBack(lt+1,lt,lt+Re),Te.emplaceBack(lt+Re,lt+Re+1,lt+1)};for(let Xe=1;Xe<129;Xe++)for(let Ze=1;Ze<129;Ze++)rt(Ze,Xe);return[0,129].forEach(Xe=>{for(let Ze=0;Ze<130;Ze++)rt(Ze,Xe),rt(Xe,Ze)}),[Ee,Te,32768]}(),J=a.context;this.gridBuffer=J.createVertexBuffer(x,n.boundsAttributes.members),this.gridIndexBuffer=J.createIndexBuffer(E),this.gridSegments=n.SegmentVector.simpleSegment(0,0,x.length,E.length),this.gridNoSkirtSegments=n.SegmentVector.simpleSegment(0,0,x.length,A),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new js(d.map),this.orthoMatrix=n.create(),n.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,n.EXTENT,0,n.EXTENT,0,1);const ce=J.gl;this._overlapStencilMode=new n.StencilMode({func:ce.GEQUAL,mask:255},0,255,ce.KEEP,ce.KEEP,ce.REPLACE),this._previousZoom=a.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=d,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Pn(d.map)}set style(a){a.on("data",this._onStyleDataEvent.bind(this)),a.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=a,this._checkRenderCacheEfficiency()}update(a,d,x){if(a&&a.terrain){this._style!==a&&(this.style=a),this.enabled=!0;const E=a.terrain.properties;this.sourceCache=a.terrain.drapeRenderMode===0?this._mockSourceCache:a._getSourceCache(E.get("source")),this._exaggeration=E.get("exaggeration");const A=()=>{this.sourceCache.used&&n.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const J=this.getScaledDemTileSize();this.sourceCache.update(d,J,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,A(),this._initializing=!0),A(),d.updateElevation(!0,x),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(d),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(a){this._findCoveringTileCache[a]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const a=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||a.efficiency!==100&&n.warnOnce(`Terrain render cache efficiency is not optimal (${a.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${a.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(a){a.coord&&a.dataType==="source"?this._clearRenderCacheForTile(a.sourceCacheId,a.coord):a.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const a in this._style._sourceCaches)this._style._sourceCaches[a].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(a=>a.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const a=2*this.proxySourceCache.getSource().tileSize;return[a,a]}set useVertexMorphing(a){this._useVertexMorphing=a}updateTileBinding(a){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const d=this.proxySourceCache,x=this.painter.transform;this._initializing&&(this._initializing=x._centerAltitude===0&&this.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(x.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const E=this.proxyCoords=d.getIds().map(de=>{const Ee=d.getTileByID(de).tileID;return Ee.projMatrix=x.calculateProjMatrix(Ee.toUnwrapped()),Ee});(function(de,Ee){const Te=Ee.transform.pointCoordinate(Ee.transform.getCameraPoint()),Re=new n.pointGeometry(Te.x,Te.y);de.sort((We,Qe)=>{if(Qe.overscaledZ-We.overscaledZ)return Qe.overscaledZ-We.overscaledZ;const et=new n.pointGeometry(We.canonical.x+(1<<We.canonical.z)*We.wrap,We.canonical.y),rt=new n.pointGeometry(Qe.canonical.x+(1<<Qe.canonical.z)*Qe.wrap,Qe.canonical.y),Xe=Re.mult(1<<We.canonical.z);return Xe.x-=.5,Xe.y-=.5,Xe.distSqr(et)-Xe.distSqr(rt)})})(E,this.painter),this._previousZoom=x.zoom;const A=this.proxyToSource||{};this.proxyToSource={},E.forEach(de=>{this.proxyToSource[de.key]={}}),this.terrainTileForTile={};const J=this._style._sourceCaches;for(const de in J){const Ee=J[de];if(!Ee.used||(Ee!==this.sourceCache&&this.resetTileLookupCache(Ee.id),this._setupProxiedCoordsForOrtho(Ee,a[de],A),Ee.usedForTerrain))continue;const Te=a[de];Ee.getSource().reparseOverscaled&&this._assignTerrainTiles(Te)}this.proxiedCoords[d.id]=E.map(de=>new ia(de,de.key,this.orthoMatrix)),this._assignTerrainTiles(E),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(A),this.renderingToTexture=!1,this._updateTimestamp=n.exported.now();const ce={};this._visibleDemTiles=[];for(const de of this.proxyCoords){const Ee=this.terrainTileForTile[de.key];if(!Ee)continue;const Te=Ee.tileID.key;Te in ce||(this._visibleDemTiles.push(Ee),ce[Te]=Te)}}_assignTerrainTiles(a){this._initializing||a.forEach(d=>{if(this.terrainTileForTile[d.key])return;const x=this._findTileCoveringTileID(d,this.sourceCache);x&&(this.terrainTileForTile[d.key]=x)})}_prepareDEMTextures(){const a=this.painter.context,d=a.gl;for(const x in this.terrainTileForTile){const E=this.terrainTileForTile[x],A=E.dem;!A||E.demTexture&&!E.needsDEMTextureUpload||(a.activeTexture.set(d.TEXTURE1),Lr(this.painter,E,A))}}_prepareDemTileUniforms(a,d,x,E){if(!d||d.demTexture==null)return!1;const A=a.tileID.canonical,J=Math.pow(2,d.tileID.canonical.z-A.z),ce=E||"";return x[`u_dem_tl${ce}`]=[A.x*J%1,A.y*J%1],x[`u_dem_scale${ce}`]=J,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const a=this.painter.context,d=a.gl;if(!this._emptyDepthBufferTexture){const x=new n.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new n.Texture(a,x,d.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let a=0;const d=this._visibleDemTiles.reduce((x,E)=>{if(!E.dem)return x;const A=E.dem.tree.minimums[0];return A>0&&a++,x+A},0);return a?d/a:0}_updateEmptyDEMTexture(){const a=this.painter.context,d=a.gl;a.activeTexture.set(d.TEXTURE2);const x=this._getLoadedAreaMinimum(),E=new n.RGBAImage({width:1,height:1},new Uint8Array(n.DEMData.pack(x,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let A=this._emptyDEMTexture;return A?A.update(E,{premultiply:!1}):A=this._emptyDEMTexture=new n.Texture(a,E,d.RGBA,{premultiply:!1}),A}setupElevationDraw(a,d,x){const E=this.painter.context,A=E.gl,J=(ce=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:n.DEMData.getUnpackVector(ce),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var ce;J.u_dem_size=this.sourceCache.getSource().tileSize,J.u_exaggeration=this.exaggeration();let de=null,Ee=null,Te=1;if(x&&x.morphing&&this._useVertexMorphing){const Re=x.morphing.srcDemTile,We=x.morphing.dstDemTile;Te=x.morphing.phase,Re&&We&&(this._prepareDemTileUniforms(a,Re,J,"_prev")&&(Ee=Re),this._prepareDemTileUniforms(a,We,J)&&(de=We))}if(Ee&&de?(E.activeTexture.set(A.TEXTURE2),de.demTexture.bind(A.NEAREST,A.CLAMP_TO_EDGE,A.NEAREST),E.activeTexture.set(A.TEXTURE4),Ee.demTexture.bind(A.NEAREST,A.CLAMP_TO_EDGE,A.NEAREST),J.u_dem_lerp=Te):(de=this.terrainTileForTile[a.tileID.key],E.activeTexture.set(A.TEXTURE2),(this._prepareDemTileUniforms(a,de,J)?de.demTexture:this.emptyDEMTexture).bind(A.NEAREST,A.CLAMP_TO_EDGE)),E.activeTexture.set(A.TEXTURE3),x&&x.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(A.NEAREST,A.CLAMP_TO_EDGE),this._depthFBO&&(J.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(A.NEAREST,A.CLAMP_TO_EDGE),J.u_depth_size_inv=[1,1]),x&&x.useMeterToDem&&de){const Re=(1<<de.tileID.canonical.z)*n.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;J.u_meter_to_dem=Re}if(x&&x.labelPlaneMatrixInv&&(J.u_label_plane_matrix_inv=x.labelPlaneMatrixInv),d.setTerrainUniformValues(E,J),this.painter.transform.projection.name==="globe"){const Re=this.globeUniformValues(this.painter.transform,a.tileID.canonical,x&&x.useDenormalizedUpVectorScale);d.setGlobeUniformValues(E,Re)}}globeUniformValues(a,d,x){const E=a.projection;return{u_tile_tl_up:E.upVector(d,0,0),u_tile_tr_up:E.upVector(d,n.EXTENT,0),u_tile_br_up:E.upVector(d,n.EXTENT,n.EXTENT),u_tile_bl_up:E.upVector(d,0,n.EXTENT),u_tile_up_scale:x?n.GLOBE_METERS_TO_ECEF:E.upVectorScale(d,a.center.lat,a.worldSize).metersToTile}}renderToBackBuffer(a){const d=this.painter,x=this.painter.context;a.length!==0&&(x.bindFramebuffer.set(null),x.viewport.set([0,0,d.width,d.height]),d.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(E,A,J,ce,de){if(E.transform.projection.name==="globe")(function(Ee,Te,Re,We,Qe){const et=Ee.context,rt=et.gl;let Xe,Ze;const lt=Ee.options.showTerrainWireframe?2:0,tt=Ee.transform,pt=n.globeUseCustomAntiAliasing(Ee,et,tt),wt=(xi,qt)=>{if(Ze===xi)return;const di=[fa[xi],"PROJECTION_GLOBE_VIEW"];pt&&di.push("CUSTOM_ANTIALIASING"),qt&&di.push(fa[lt]),Xe=Ee.useProgram("globeRaster",null,di),Ze=xi},mt=Ee.colorModeForRenderPass(),At=new n.DepthMode(rt.LEQUAL,n.DepthMode.ReadWrite,Ee.depthRangeFor3D);Tr.update(Qe);const $t=n.calculateGlobeMercatorMatrix(tt),Ft=[n.mercatorXfromLng(tt.center.lng),n.mercatorYfromLat(tt.center.lat)],Pt=lt?[!1,!0]:[!1],pi=Ee.globeSharedBuffers,Bt=[tt.width*n.exported.devicePixelRatio,tt.height*n.exported.devicePixelRatio],si=Float32Array.from(tt.globeMatrix),Yt={useDenormalizedUpVectorScale:!0};if(Pt.forEach(xi=>{Ze=-1;const qt=xi?rt.LINES:rt.TRIANGLES;for(const di of We){const wi=Re.getTile(di),Ot=n.StencilMode.disabled,Xt=Te.prevTerrainTileForTile[di.key],Vi=Te.terrainTileForTile[di.key];Xn(Xt,Vi)&&Tr.newMorphing(di.key,Xt,Vi,Qe,250),et.activeTexture.set(rt.TEXTURE0),wi.texture.bind(rt.LINEAR,rt.CLAMP_TO_EDGE);const Qi=Tr.getMorphValuesForProxy(di.key),Wi=Qi?1:0;Qi&&n.extend$1(Yt,{morphing:{srcDemTile:Qi.from,dstDemTile:Qi.to,phase:n.easeCubicInOut(Qi.phase)}});const dn=n.tileCornersToBounds(di.canonical),Rn=n.getLatitudinalLod(dn.getCenter().lat),tn=n.getGridMatrix(di.canonical,dn,Rn,tt.worldSize/tt._pixelsPerMercatorPixel),Ui=n.globeNormalizeECEF(n.globeTileBounds(di.canonical)),br=Ys(tt.projMatrix,si,$t,Ui,n.globeToMercatorTransition(tt.zoom),Ft,tt.frustumCorners.TL,tt.frustumCorners.TR,tt.frustumCorners.BR,tt.frustumCorners.BL,tt.globeCenterInViewSpace,tt.globeRadius,Bt,tn);if(wt(Wi,xi),Te.setupElevationDraw(wi,Xe,Yt),Ee.prepareDrawProgram(et,Xe,di.toUnwrapped()),pi){const[lr,Er,yr]=xi?pi.getWirefameBuffers(Ee.context,Rn):pi.getGridBuffers(Rn);Xe.draw(et,qt,At,Ot,mt,n.CullFaceMode.backCCW,br,"globe_raster",lr,Er,yr)}}}),pi){const xi=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];pt&&xi.push("CUSTOM_ANTIALIASING"),Xe=Ee.useProgram("globeRaster",null,xi);for(const qt of We){const{x:di,y:wi,z:Ot}=qt.canonical,Xt=wi===0,Vi=wi===(1<<Ot)-1,[Qi,Wi,dn,Rn]=pi.getPoleBuffers(Ot);if(Rn&&(Xt||Vi)){const tn=Re.getTile(qt);et.activeTexture.set(rt.TEXTURE0),tn.texture.bind(rt.LINEAR,rt.CLAMP_TO_EDGE);let Ui=n.globePoleMatrixForTile(Ot,di,tt);const br=n.globeNormalizeECEF(n.globeTileBounds(qt.canonical)),lr=(Er,yr)=>Er.draw(et,rt.TRIANGLES,At,n.StencilMode.disabled,mt,n.CullFaceMode.disabled,Ys(tt.projMatrix,Ui,Ui,br,0,Ft,tt.frustumCorners.TL,tt.frustumCorners.TR,tt.frustumCorners.BR,tt.frustumCorners.BL,tt.globeCenterInViewSpace,tt.globeRadius,Bt),"globe_pole_raster",yr,dn,Rn);Te.setupElevationDraw(tn,Xe,Yt),Ee.prepareDrawProgram(et,Xe,qt.toUnwrapped()),Xt&&lr(Xe,Qi),Vi&&(Ui=n.scale(n.create(),Ui,[1,-1,1]),lr(Xe,Wi))}}}})(E,A,J,ce,de);else{const Ee=E.context,Te=Ee.gl;let Re,We;const Qe=E.options.showTerrainWireframe?2:0,et=(tt,pt)=>{if(We===tt)return;const wt=[fa[tt]];pt&&wt.push(fa[Qe]),Re=E.useProgram("terrainRaster",null,wt),We=tt},rt=E.colorModeForRenderPass(),Xe=new n.DepthMode(Te.LEQUAL,n.DepthMode.ReadWrite,E.depthRangeFor3D);Tr.update(de);const Ze=E.transform,lt=6*Math.pow(1.5,22-Ze.zoom)*A.exaggeration();(Qe?[!1,!0]:[!1]).forEach(tt=>{We=-1;const pt=tt?Te.LINES:Te.TRIANGLES,[wt,mt]=tt?A.getWirefameBuffer():[A.gridIndexBuffer,A.gridSegments];for(const At of ce){const $t=J.getTile(At),Ft=n.StencilMode.disabled,Pt=A.prevTerrainTileForTile[At.key],pi=A.terrainTileForTile[At.key];Xn(Pt,pi)&&Tr.newMorphing(At.key,Pt,pi,de,250),Ee.activeTexture.set(Te.TEXTURE0),$t.texture.bind(Te.LINEAR,Te.CLAMP_TO_EDGE,Te.LINEAR_MIPMAP_NEAREST);const Bt=Tr.getMorphValuesForProxy(At.key),si=Bt?1:0;let Yt;Bt&&(Yt={morphing:{srcDemTile:Bt.from,dstDemTile:Bt.to,phase:n.easeCubicInOut(Bt.phase)}});const xi=Tn(At.projMatrix,kl(At.canonical,Ze.renderWorldCopies)?lt/10:lt);et(si,tt),A.setupElevationDraw($t,Re,Yt),E.prepareDrawProgram(Ee,Re,At.toUnwrapped()),Re.draw(Ee,pt,Xe,Ft,rt,n.CullFaceMode.backCCW,xi,"terrain_raster",A.gridBuffer,wt,mt)}})}}(d,this,this.proxySourceCache,a,this._updateTimestamp),this.renderingToTexture=!0,d.gpuTimingDeferredRenderEnd(),a.splice(0,a.length))}renderBatch(a){if(this._drapedRenderBatches.length===0)return a+1;this.renderingToTexture=!0;const d=this.painter,x=this.painter.context,E=this.proxySourceCache,A=this.proxiedCoords[E.id],J=this._drapedRenderBatches.shift(),ce=[],de=d.style.order;let Ee=0;for(const Te of A){const Re=E.getTileByID(Te.proxyTileKey),We=E.proxyCachedFBO[Te.key]?E.proxyCachedFBO[Te.key][a]:void 0,Qe=We!==void 0?E.renderCache[We]:this.pool[Ee++],et=We!==void 0;if(Re.texture=Qe.tex,et&&!Qe.dirty){ce.push(Re.tileID);continue}let rt;x.bindFramebuffer.set(Qe.fb.framebuffer),this.renderedToTile=!1,Qe.dirty&&(x.clear({color:n.Color.transparent,stencil:0}),Qe.dirty=!1);for(let Xe=J.start;Xe<=J.end;++Xe){const Ze=d.style._layers[de[Xe]];if(Ze.isHidden(d.transform.zoom))continue;const lt=d.style._getLayerSourceCache(Ze),tt=lt?this.proxyToSource[Te.key][lt.id]:[Te];if(!tt)continue;const pt=tt;x.viewport.set([0,0,Qe.fb.width,Qe.fb.height]),rt!==(lt?lt.id:null)&&(this._setupStencil(Qe,tt,Ze,lt),rt=lt?lt.id:null),d.renderLayer(d,lt,Ze,pt)}this.renderedToTile?(Qe.dirty=!0,ce.push(Re.tileID)):et||--Ee,Ee===5&&(Ee=0,this.renderToBackBuffer(ce))}return this.renderToBackBuffer(ce),this.renderingToTexture=!1,x.bindFramebuffer.set(null),x.viewport.set([0,0,d.width,d.height]),J.end+1}postRender(){}renderCacheEfficiency(a){const d=a.order.length;if(d===0)return{efficiency:100};let x,E=0,A=0,J=!1;for(let ce=0;ce<d;++ce){const de=a._layers[a.order[ce]];this._style.isLayerDraped(de)?(J&&++E,++A):J||(J=!0,x=de.id)}return A===0?{efficiency:100}:{efficiency:100*(1-E/A),firstUndrapedLayer:x}}getMinElevationBelowMSL(){let a=0;return this._visibleDemTiles.filter(d=>d.dem).forEach(d=>{a=Math.min(a,d.dem.tree.minimums[0])}),a===0?a:(a-30)*this._exaggeration}raycast(a,d,x){if(!this._visibleDemTiles)return null;const E=this._visibleDemTiles.filter(A=>A.dem).map(A=>{const J=A.tileID,ce=1<<J.overscaledZ,{x:de,y:Ee}=J.canonical,Te=de/ce,Re=(de+1)/ce,We=Ee/ce,Qe=(Ee+1)/ce;return{minx:Te,miny:We,maxx:Re,maxy:Qe,t:A.dem.tree.raycastRoot(Te,We,Re,Qe,a,d,x),tile:A}});E.sort((A,J)=>(A.t!==null?A.t:Number.MAX_VALUE)-(J.t!==null?J.t:Number.MAX_VALUE));for(const A of E){if(A.t==null)return null;const J=A.tile.dem.tree.raycast(A.minx,A.miny,A.maxx,A.maxy,a,d,x);if(J!=null)return J}return null}_createFBO(){const a=this.painter.context,d=a.gl,x=this.drapeBufferSize;a.activeTexture.set(d.TEXTURE0);const E=new n.Texture(a,{width:x[0],height:x[1],data:null},d.RGBA);E.bind(d.LINEAR,d.CLAMP_TO_EDGE);const A=a.createFramebuffer(x[0],x[1],!1);return A.colorAttachment.set(E.texture),A.depthAttachment=new Uc(a,A.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=a.createRenderbuffer(a.gl.DEPTH_STENCIL,x[0],x[1]),this._stencilRef=0,A.depthAttachment.set(this._sharedDepthStencil),a.clear({stencil:0})):A.depthAttachment.set(this._sharedDepthStencil),a.extTextureFilterAnisotropic&&!a.extTextureFilterAnisotropicForceOff&&d.texParameterf(d.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax),{fb:A,tex:E,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const a in this._style._sourceCaches)if(this._style._sourceCaches[a].hasTransition())return!0;return this._style.order.some(a=>{const d=this._style._layers[a],x=d.isHidden(this.painter.transform.zoom);return d.type!=="custom"&&!x&&d.hasTransition()})}_clearRasterFadeFromRenderCache(){let a=!1;for(const d in this._style._sourceCaches)if(this._style._sourceCaches[d]._source instanceof Ve){a=!0;break}if(a)for(let d=0;d<this._style.order.length;++d){const x=this._style._layers[this._style.order[d]],E=x.isHidden(this.painter.transform.zoom),A=this._style._getLayerSourceCache(x);if(x.type!=="raster"||E||!A)continue;const J=x.paint.get("raster-fade-duration");for(const ce of this.proxyCoords){const de=this.proxyToSource[ce.key][A.id];if(de)for(const Ee of de){const Te=bo(A.getTile(Ee),A.findLoadedParent(Ee,0),A,this.painter.transform,J);(Te.opacity!==1||Te.mix!==0)&&this._clearRenderCacheForTile(A.id,Ee)}}}}_setupDrapedRenderBatches(){const a=this._style.order,d=a.length;if(d===0)return;const x=[];let E,A=0,J=this._style._layers[a[A]];for(;!this._style.isLayerDraped(J)&&J.isHidden(this.painter.transform.zoom)&&++A<d;)J=this._style._layers[a[A]];for(;A<d;++A){const ce=this._style._layers[a[A]];ce.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(ce)?E===void 0&&(E=A):E!==void 0&&(x.push({start:E,end:A-1}),E=void 0))}E!==void 0&&x.push({start:E,end:A-1}),this._drapedRenderBatches=x}_setupRenderCache(a){const d=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,d.renderCache.length>d.renderCachePool.length){const J=Object.values(d.proxyCachedFBO);d.proxyCachedFBO={};for(let ce=0;ce<J.length;++ce){const de=Object.values(J[ce]);d.renderCachePool.push(...de)}}return}this._clearRasterFadeFromRenderCache();const x=this.proxyCoords,E=this._tilesDirty;for(let J=x.length-1;J>=0;J--){const ce=x[J];if(d.getTileByID(ce.key),d.proxyCachedFBO[ce.key]!==void 0){const de=a[ce.key],Ee=this.proxyToSource[ce.key];let Te=0;for(const Re in Ee){const We=Ee[Re],Qe=de[Re];if(!Qe||Qe.length!==We.length||We.some((et,rt)=>et!==Qe[rt]||E[Re]&&E[Re].hasOwnProperty(et.key))){Te=-1;break}++Te}for(const Re in d.proxyCachedFBO[ce.key])d.renderCache[d.proxyCachedFBO[ce.key][Re]].dirty=Te<0||Te!==Object.values(de).length}}const A=[...this._drapedRenderBatches];A.sort((J,ce)=>ce.end-ce.start-(J.end-J.start));for(const J of A)for(const ce of x){if(d.proxyCachedFBO[ce.key])continue;let de=d.renderCachePool.pop();de===void 0&&d.renderCache.length<50&&(de=d.renderCache.length,d.renderCache.push(this._createFBO())),de!==void 0&&(d.proxyCachedFBO[ce.key]={},d.proxyCachedFBO[ce.key][J.start]=de,d.renderCache[de].dirty=!0)}this._tilesDirty={}}_setupStencil(a,d,x,E){if(!E||!this._sourceTilesOverlap[E.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const A=this.painter.context,J=A.gl;if(d.length<=1)return void(this._overlapStencilType=!1);let ce;if(x.isTileClipped())ce=d.length,this._overlapStencilMode.test={func:J.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(d[0].overscaledZ>d[d.length-1].overscaledZ))return void(this._overlapStencilType=!1);ce=1,this._overlapStencilMode.test={func:J.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+ce>255&&(A.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=ce,this._overlapStencilMode.ref=this._stencilRef,x.isTileClipped()&&this._renderTileClippingMasks(d,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(a){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[a.key]),this._overlapStencilMode):n.StencilMode.disabled}_renderTileClippingMasks(a,d){const x=this.painter,E=this.painter.context,A=E.gl;x._tileClippingMaskIDs={},E.setColorMode(n.ColorMode.disabled),E.setDepthMode(n.DepthMode.disabled);const J=x.useProgram("clippingMask");for(const ce of a){const de=x._tileClippingMaskIDs[ce.key]=--d;J.draw(E,A.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:A.ALWAYS,mask:0},de,255,A.KEEP,A.KEEP,A.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,Ls(ce.projMatrix),"$clipping",x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}}pointCoordinate(a){const d=this.painter.transform;if(a.x<0||a.x>d.width||a.y<0||a.y>d.height)return null;const x=[a.x,a.y,1,1];n.transformMat4$1(x,x,d.pixelMatrixInverse),n.scale$1(x,x,1/x[3]),x[0]/=d.worldSize,x[1]/=d.worldSize;const E=d._camera.position,A=n.mercatorZfromAltitude(1,d.center.lat),J=[E[0],E[1],E[2]/A,0],ce=n.subtract([],x.slice(0,3),J);n.normalize(ce,ce);const de=this.raycast(J,ce,this._exaggeration);return de!==null&&de?(n.scaleAndAdd(J,J,ce,de),J[3]=J[2],J[2]*=A,J):null}drawDepth(){const a=this.painter,d=a.context,x=this.proxySourceCache,E=Math.ceil(a.width),A=Math.ceil(a.height);if(!this._depthFBO||this._depthFBO.width===E&&this._depthFBO.height===A||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const J=d.gl,ce=d.createFramebuffer(E,A,!0);d.activeTexture.set(J.TEXTURE0);const de=new n.Texture(d,{width:E,height:A,data:null},J.RGBA);de.bind(J.NEAREST,J.CLAMP_TO_EDGE),ce.colorAttachment.set(de.texture);const Ee=d.createRenderbuffer(d.gl.DEPTH_COMPONENT16,E,A);ce.depthAttachment.set(Ee),this._depthFBO=ce,this._depthTexture=de}d.bindFramebuffer.set(this._depthFBO.framebuffer),d.viewport.set([0,0,E,A]),function(J,ce,de,Ee){if(J.transform.projection.name==="globe")return;const Te=J.context,Re=Te.gl;Te.clear({depth:1});const We=J.useProgram("terrainDepth"),Qe=new n.DepthMode(Re.LESS,n.DepthMode.ReadWrite,J.depthRangeFor3D);for(const et of Ee){const rt=de.getTile(et),Xe=Tn(et.projMatrix,0);ce.setupElevationDraw(rt,We),We.draw(Te,Re.TRIANGLES,Qe,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.backCCW,Xe,"terrain_depth",ce.gridBuffer,ce.gridIndexBuffer,ce.gridNoSkirtSegments)}}(a,this,x,this.proxyCoords)}_setupProxiedCoordsForOrtho(a,d,x){if(a.getSource()instanceof St)return this._setupProxiedCoordsForImageSource(a,d,x);this._findCoveringTileCache[a.id]=this._findCoveringTileCache[a.id]||{};const E=this.proxiedCoords[a.id]=[],A=this.proxyCoords;for(let ce=0;ce<A.length;ce++){const de=A[ce],Ee=this._findTileCoveringTileID(de,a);if(Ee){const Te=this._createProxiedId(de,Ee,x[de.key]&&x[de.key][a.id]);E.push(Te),this.proxyToSource[de.key][a.id]=[Te]}}let J=!1;for(let ce=0;ce<d.length;ce++){const de=a.getTile(d[ce]);if(!de||!de.hasData())continue;const Ee=this._findTileCoveringTileID(de.tileID,this.proxySourceCache);if(Ee&&Ee.tileID.canonical.z!==de.tileID.canonical.z){const Te=this.proxyToSource[Ee.tileID.key][a.id],Re=this._createProxiedId(Ee.tileID,de,x[Ee.tileID.key]&&x[Ee.tileID.key][a.id]);Te?Te.splice(Te.length-1,0,Re):this.proxyToSource[Ee.tileID.key][a.id]=[Re],E.push(Re),J=!0}}this._sourceTilesOverlap[a.id]=J}_setupProxiedCoordsForImageSource(a,d,x){if(!a.getSource().loaded())return;const E=this.proxiedCoords[a.id]=[],A=this.proxyCoords,J=a.getSource(),ce=new n.pointGeometry(J.tileID.x,J.tileID.y)._div(1<<J.tileID.z),de=J.coordinates.map(n.MercatorCoordinate.fromLngLat).reduce((Te,Re)=>(Te.min.x=Math.min(Te.min.x,Re.x-ce.x),Te.min.y=Math.min(Te.min.y,Re.y-ce.y),Te.max.x=Math.max(Te.max.x,Re.x-ce.x),Te.max.y=Math.max(Te.max.y,Re.y-ce.y),Te),{min:new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new n.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),Ee=(Te,Re)=>{const We=Te.wrap+Te.canonical.x/(1<<Te.canonical.z),Qe=Te.canonical.y/(1<<Te.canonical.z),et=n.EXTENT/(1<<Te.canonical.z),rt=Re.wrap+Re.canonical.x/(1<<Re.canonical.z),Xe=Re.canonical.y/(1<<Re.canonical.z);return We+et<rt+de.min.x||We>rt+de.max.x||Qe+et<Xe+de.min.y||Qe>Xe+de.max.y};for(let Te=0;Te<A.length;Te++){const Re=A[Te];for(let We=0;We<d.length;We++){const Qe=a.getTile(d[We]);if(!Qe||!Qe.hasData()||Ee(Re,Qe.tileID))continue;const et=this._createProxiedId(Re,Qe,x[Re.key]&&x[Re.key][a.id]),rt=this.proxyToSource[Re.key][a.id];rt?rt.push(et):this.proxyToSource[Re.key][a.id]=[et],E.push(et)}}}_createProxiedId(a,d,x){let E=this.orthoMatrix;if(x){const A=x.find(J=>J.key===d.tileID.key);if(A)return A}if(d.tileID.key!==a.key){const A=a.canonical.z-d.tileID.canonical.z;let J,ce,de;E=n.create();const Ee=d.tileID.wrap-a.wrap<<a.overscaledZ;A>0?(J=n.EXTENT>>A,ce=J*((d.tileID.canonical.x<<A)-a.canonical.x+Ee),de=J*((d.tileID.canonical.y<<A)-a.canonical.y)):(J=n.EXTENT<<-A,ce=n.EXTENT*(d.tileID.canonical.x-(a.canonical.x+Ee<<-A)),de=n.EXTENT*(d.tileID.canonical.y-(a.canonical.y<<-A))),n.ortho(E,0,J,0,J,0,1),n.translate(E,E,[ce,de,0])}return new ia(d.tileID,a.key,E)}_findTileCoveringTileID(a,d){let x=d.getTile(a);if(x&&x.hasData())return x;const E=this._findCoveringTileCache[d.id],A=E[a.key];if(x=A?d.getTileByID(A):null,x&&x.hasData()||A===null)return x;let J=x?x.tileID:a,ce=J.overscaledZ;const de=d.getSource().minzoom,Ee=[];if(!A){const Re=d.getSource().maxzoom;if(a.canonical.z>=Re){const We=a.canonical.z-Re;d.getSource().reparseOverscaled?(ce=Math.max(a.canonical.z+2,d.transform.tileZoom),J=new n.OverscaledTileID(ce,a.wrap,Re,a.canonical.x>>We,a.canonical.y>>We)):We!==0&&(ce=Re,J=new n.OverscaledTileID(ce,a.wrap,Re,a.canonical.x>>We,a.canonical.y>>We))}J.key!==a.key&&(Ee.push(J.key),x=d.getTile(J))}const Te=Re=>{Ee.forEach(We=>{E[We]=Re}),Ee.length=0};for(ce-=1;ce>=de&&(!x||!x.hasData());ce--){x&&Te(x.tileID.key);const Re=J.calculateScaledKey(ce);if(x=d.getTileByID(Re),x&&x.hasData())break;const We=E[Re];if(We===null)break;We===void 0?Ee.push(Re):x=d.getTileByID(We)}return Te(x?x.tileID.key:null),x&&x.hasData()?x:null}findDEMTileFor(a){return this.enabled?this._findTileCoveringTileID(a,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(a,d){let x=this._tilesDirty[a];x||(x=this._tilesDirty[a]={}),x[d.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const a=function(d){let x=0;const E=new n.StructArrayLayout2ui4,A=131;for(let J=1;J<129;J++){for(let ce=1;ce<129;ce++)x=J*A+ce,E.emplaceBack(x,x+1),E.emplaceBack(x,x+A),E.emplaceBack(x+1,x+A),J===128&&E.emplaceBack(x+A,x+A+1);E.emplaceBack(x+1,x+1+A)}return E}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(a),this.wireframeSegments=n.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,a.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class jo{static cacheKey(a,d,x,E){let A=`${d}${E?E.cacheKey:""}`;for(const J of x)a.usedDefines.includes(J)&&(A+=`/${J}`);return A}constructor(a,d,x,E,A,J){const ce=a.gl;this.program=ce.createProgram();const de=function(Xe){const Ze=[];for(let lt=0;lt<Xe.length;lt++){if(Xe[lt]===null)continue;const tt=Xe[lt].split(" ");Ze.push(tt.pop())}return Ze}(x.staticAttributes),Ee=E?E.getBinderAttributes():[],Te=de.concat(Ee);let Re=E?E.defines():[];Re=Re.concat(J.map(Xe=>`#define ${Xe}`));const We=Re.concat(a.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(fi):fi,fi,ii,Ut.fragmentSource,Et.fragmentSource,x.fragmentSource).join(`
`),Qe=Re.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,ii,Ut.vertexSource,Et.vertexSource,He.vertexSource,x.vertexSource).join(`
`),et=ce.createShader(ce.FRAGMENT_SHADER);if(ce.isContextLost())return void(this.failedToCreate=!0);ce.shaderSource(et,We),ce.compileShader(et),ce.attachShader(this.program,et);const rt=ce.createShader(ce.VERTEX_SHADER);if(ce.isContextLost())this.failedToCreate=!0;else{ce.shaderSource(rt,Qe),ce.compileShader(rt),ce.attachShader(this.program,rt),this.attributes={},this.numAttributes=Te.length;for(let Xe=0;Xe<this.numAttributes;Xe++)Te[Xe]&&(ce.bindAttribLocation(this.program,Xe,Te[Xe]),this.attributes[Te[Xe]]=Xe);ce.linkProgram(this.program),ce.deleteShader(rt),ce.deleteShader(et),this.fixedUniforms=A(a),this.binderUniforms=E?E.getUniforms(a):[],J.includes("TERRAIN")&&(this.terrainUniforms=(Xe=>({u_dem:new n.Uniform1i(Xe),u_dem_prev:new n.Uniform1i(Xe),u_dem_unpack:new n.Uniform4f(Xe),u_dem_tl:new n.Uniform2f(Xe),u_dem_scale:new n.Uniform1f(Xe),u_dem_tl_prev:new n.Uniform2f(Xe),u_dem_scale_prev:new n.Uniform1f(Xe),u_dem_size:new n.Uniform1f(Xe),u_dem_lerp:new n.Uniform1f(Xe),u_exaggeration:new n.Uniform1f(Xe),u_depth:new n.Uniform1i(Xe),u_depth_size_inv:new n.Uniform2f(Xe),u_meter_to_dem:new n.Uniform1f(Xe),u_label_plane_matrix_inv:new n.UniformMatrix4f(Xe)}))(a)),J.includes("GLOBE")&&(this.globeUniforms=(Xe=>({u_tile_tl_up:new n.Uniform3f(Xe),u_tile_tr_up:new n.Uniform3f(Xe),u_tile_br_up:new n.Uniform3f(Xe),u_tile_bl_up:new n.Uniform3f(Xe),u_tile_up_scale:new n.Uniform1f(Xe)}))(a)),J.includes("FOG")&&(this.fogUniforms=(Xe=>({u_fog_matrix:new n.UniformMatrix4f(Xe),u_fog_range:new n.Uniform2f(Xe),u_fog_color:new n.Uniform4f(Xe),u_fog_horizon_blend:new n.Uniform1f(Xe),u_fog_temporal_offset:new n.Uniform1f(Xe),u_frustum_tl:new n.Uniform3f(Xe),u_frustum_tr:new n.Uniform3f(Xe),u_frustum_br:new n.Uniform3f(Xe),u_frustum_bl:new n.Uniform3f(Xe),u_globe_pos:new n.Uniform3f(Xe),u_globe_radius:new n.Uniform1f(Xe),u_globe_transition:new n.Uniform1f(Xe),u_is_globe:new n.Uniform1i(Xe),u_viewport:new n.Uniform2f(Xe)}))(a))}}setTerrainUniformValues(a,d){if(!this.terrainUniforms)return;const x=this.terrainUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const E in d)x[E]&&x[E].set(this.program,E,d[E])}}setGlobeUniformValues(a,d){if(!this.globeUniforms)return;const x=this.globeUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const E in d)x[E]&&x[E].set(this.program,E,d[E])}}setFogUniformValues(a,d){if(!this.fogUniforms)return;const x=this.fogUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const E in d)x[E].set(this.program,E,d[E])}}draw(a,d,x,E,A,J,ce,de,Ee,Te,Re,We,Qe,et,rt){const Xe=a.gl;if(this.failedToCreate)return;a.program.set(this.program),a.setDepthMode(x),a.setStencilMode(E),a.setColorMode(A),a.setCullFace(J);for(const lt of Object.keys(this.fixedUniforms))this.fixedUniforms[lt].set(this.program,lt,ce[lt]);et&&et.setUniforms(this.program,a,this.binderUniforms,We,{zoom:Qe});const Ze={[Xe.LINES]:2,[Xe.TRIANGLES]:3,[Xe.LINE_STRIP]:1}[d];for(const lt of Re.get()){const tt=lt.vaos||(lt.vaos={});(tt[de]||(tt[de]=new Ln)).bind(a,this,Ee,et?et.getPaintVertexBuffers():[],Te,lt.vertexOffset,rt||[]),Xe.drawElements(d,lt.primitiveLength*Ze,Xe.UNSIGNED_SHORT,lt.primitiveOffset*Ze*2)}}}function Pl(m,a){const d=Math.pow(2,a.tileID.overscaledZ),x=a.tileSize*Math.pow(2,m.transform.tileZoom)/d,E=x*(a.tileID.canonical.x+a.tileID.wrap*d),A=x*a.tileID.canonical.y;return{u_image:0,u_texsize:a.imageAtlasTexture.size,u_tile_units_to_pixels:1/W(a,1,m.transform.tileZoom),u_pixel_coord_upper:[E>>16,A>>16],u_pixel_coord_lower:[65535&E,65535&A]}}const za=n.create(),wh=(m,a,d,x,E,A,J,ce,de,Ee,Te)=>{const Re=a.style.light,We=Re.properties.get("position"),Qe=[We.x,We.y,We.z],et=n.create$1();Re.properties.get("anchor")==="viewport"&&(n.fromRotation(et,-a.transform.angle),n.transformMat3(Qe,Qe,et));const rt=Re.properties.get("color"),Xe=a.transform,Ze={u_matrix:m,u_lightpos:Qe,u_lightintensity:Re.properties.get("intensity"),u_lightcolor:[rt.r,rt.g,rt.b],u_vertical_gradient:+d,u_opacity:x,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:za,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:E,u_edge_radius:A};return Xe.projection.name==="globe"&&(Ze.u_tile_id=[J.canonical.x,J.canonical.y,1<<J.canonical.z],Ze.u_zoom_transition=de,Ze.u_inv_rot_matrix=Te,Ze.u_merc_center=Ee,Ze.u_up_dir=Xe.projection.upVector(new n.CanonicalTileID(0,0,0),Ee[0]*n.EXTENT,Ee[1]*n.EXTENT),Ze.u_height_lift=ce),Ze},ur=(m,a,d,x,E,A,J,ce,de,Ee,Te,Re)=>{const We=wh(m,a,d,x,E,A,J,de,Ee,Te,Re),Qe={u_height_factor:-Math.pow(2,J.overscaledZ)/ce.tileSize/8};return n.extend(We,Pl(a,ce),Qe)},Uo=m=>({u_matrix:m}),Hc=(m,a,d)=>n.extend(Uo(m),Pl(a,d)),uc=(m,a)=>({u_matrix:m,u_world:a}),eo=(m,a,d,x)=>n.extend(Hc(m,a,d),{u_world:x}),Dl=n.create(),pc=(m,a,d,x,E,A)=>{const J=m.transform,ce=J.projection.name==="globe";let de;if(A.paint.get("circle-pitch-alignment")==="map")if(ce){const Te=n.globePixelsToTileUnits(J.zoom,a.canonical)*J._pixelsPerMercatorPixel;de=Float32Array.from([Te,0,0,Te])}else de=J.calculatePixelsToTileUnitsMatrix(d);else de=new Float32Array([J.pixelsToGLUnits[0],0,0,J.pixelsToGLUnits[1]]);const Ee={u_camera_to_center_distance:J.cameraToCenterDistance,u_matrix:m.translatePosMatrix(a.projMatrix,d,A.paint.get("circle-translate"),A.paint.get("circle-translate-anchor")),u_device_pixel_ratio:n.exported.devicePixelRatio,u_extrude_scale:de,u_inv_rot_matrix:Dl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(ce){Ee.u_inv_rot_matrix=x,Ee.u_merc_center=E,Ee.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],Ee.u_zoom_transition=n.globeToMercatorTransition(J.zoom);const Te=E[0]*n.EXTENT,Re=E[1]*n.EXTENT;Ee.u_up_dir=J.projection.upVector(new n.CanonicalTileID(0,0,0),Te,Re)}return Ee},od=m=>{const a=[];return m.paint.get("circle-pitch-alignment")==="map"&&a.push("PITCH_WITH_MAP"),m.paint.get("circle-pitch-scale")==="map"&&a.push("SCALE_WITH_MAP"),a},fc=(m,a,d,x)=>{const E=n.EXTENT/d.tileSize;return{u_matrix:m,u_camera_to_center_distance:a.getCameraToCenterDistance(x),u_extrude_scale:[a.pixelsToGLUnits[0]/E,a.pixelsToGLUnits[1]/E]}},mc=(m,a,d=1)=>({u_matrix:m,u_color:a,u_overlay:0,u_overlay_scale:d}),nu=n.create(),Il=(m,a,d,x,E,A,J)=>{const ce=m.transform,de=ce.projection.name==="globe",Ee=de?n.globePixelsToTileUnits(ce.zoom,a.canonical)*ce._pixelsPerMercatorPixel:W(d,1,A),Te={u_matrix:a.projMatrix,u_extrude_scale:Ee,u_intensity:J,u_inv_rot_matrix:nu,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(de){Te.u_inv_rot_matrix=x,Te.u_merc_center=E,Te.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],Te.u_zoom_transition=n.globeToMercatorTransition(ce.zoom);const Re=E[0]*n.EXTENT,We=E[1]*n.EXTENT;Te.u_up_dir=ce.projection.upVector(new n.CanonicalTileID(0,0,0),Re,We)}return Te},ad=(m,a,d,x,E,A,J)=>{const ce=m.transform,de=ce.calculatePixelsToTileUnitsMatrix(a);return{u_matrix:Ll(m,a,d,x),u_pixels_to_tile_units:de,u_device_pixel_ratio:A,u_units_to_pixels:[1/ce.pixelsToGLUnits[0],1/ce.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:E,u_texsize:Th(d)?a.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Ba(a,m.transform),u_alpha_discard_threshold:0,u_trim_offset:J}},ma=(m,a,d,x,E)=>{const A=m.transform;return{u_matrix:Ll(m,a,d,x),u_texsize:a.imageAtlasTexture.size,u_pixels_to_tile_units:A.calculatePixelsToTileUnitsMatrix(a),u_device_pixel_ratio:E,u_image:0,u_tile_units_to_pixels:Ba(a,A),u_units_to_pixels:[1/A.pixelsToGLUnits[0],1/A.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Ba(m,a){return 1/W(m,1,a.tileZoom)}function Ll(m,a,d,x){return m.translatePosMatrix(x||a.tileID.projMatrix,a,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}function Th(m){const a=m.paint.get("line-dasharray").value;return a.value||a.kind!=="constant"}const gc=(m,a,d,x,E,A)=>{return{u_matrix:m,u_tl_parent:a,u_scale_parent:d,u_fade_t:x.mix,u_opacity:x.opacity*E.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:E.paint.get("raster-brightness-min"),u_brightness_high:E.paint.get("raster-brightness-max"),u_saturation_factor:(ce=E.paint.get("raster-saturation"),ce>0?1-1/(1.001-ce):-ce),u_contrast_factor:(J=E.paint.get("raster-contrast"),J>0?1/(1-J):1+J),u_spin_weights:Go(E.paint.get("raster-hue-rotate")),u_perspective_transform:A};var J,ce};function Go(m){m*=Math.PI/180;const a=Math.sin(m),d=Math.cos(m);return[(2*d+1)/3,(-Math.sqrt(3)*a-d+1)/3,(Math.sqrt(3)*a-d+1)/3]}const Us=n.create(),tl=(m,a,d,x,E,A,J,ce,de,Ee,Te,Re,We,Qe,et,rt)=>{const Xe=E.transform,Ze={u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:Xe.cameraToCenterDistance,u_rotate_symbol:+d,u_aspect_ratio:Xe.width/Xe.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:A,u_label_plane_matrix:J,u_coord_matrix:ce,u_is_text:+de,u_pitch_with_map:+x,u_texsize:Ee,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Us,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Us,u_up_vector:[0,-1,0]};return rt.name==="globe"&&(Ze.u_tile_id=[Te.canonical.x,Te.canonical.y,1<<Te.canonical.z],Ze.u_zoom_transition=Re,Ze.u_inv_rot_matrix=Qe,Ze.u_merc_center=We,Ze.u_camera_forward=Xe._camera.forward(),Ze.u_ecef_origin=n.globeECEFOrigin(Xe.globeMatrix,Te.toUnwrapped()),Ze.u_tile_matrix=Float32Array.from(Xe.globeMatrix),Ze.u_up_vector=et),Ze},ld=(m,a,d,x,E,A,J,ce,de,Ee,Te,Re,We,Qe,et,rt,Xe)=>n.extend(tl(m,a,d,x,E,A,J,ce,de,Ee,Re,We,Qe,et,rt,Xe),{u_gamma_scale:x?E.transform.cameraToCenterDistance*Math.cos(E.terrain?0:E.transform._pitch):1,u_device_pixel_ratio:n.exported.devicePixelRatio,u_is_halo:+Te}),$c=(m,a,d,x,E,A,J,ce,de,Ee,Te,Re,We,Qe,et,rt)=>n.extend(ld(m,a,d,x,E,A,J,ce,!0,de,!0,Te,Re,We,Qe,et,rt),{u_texsize_icon:Ee,u_texture_icon:1}),fp=(m,a,d)=>({u_matrix:m,u_opacity:a,u_color:d}),nr=(m,a,d,x,E)=>n.extend(function(A,J,ce){const de=J.imageManager.getPattern(A.toString()),{width:Ee,height:Te}=J.imageManager.getPixelSize(),Re=Math.pow(2,ce.tileID.overscaledZ),We=ce.tileSize*Math.pow(2,J.transform.tileZoom)/Re,Qe=We*(ce.tileID.canonical.x+ce.tileID.wrap*Re),et=We*ce.tileID.canonical.y;return{u_image:0,u_pattern_tl:de.tl,u_pattern_br:de.br,u_texsize:[Ee,Te],u_pattern_size:de.displaySize,u_tile_units_to_pixels:1/W(ce,1,J.transform.tileZoom),u_pixel_coord_upper:[Qe>>16,et>>16],u_pixel_coord_lower:[65535&Qe,65535&et]}}(x,d,E),{u_matrix:m,u_opacity:a}),co={fillExtrusion:m=>({u_matrix:new n.UniformMatrix4f(m),u_lightpos:new n.Uniform3f(m),u_lightintensity:new n.Uniform1f(m),u_lightcolor:new n.Uniform3f(m),u_vertical_gradient:new n.Uniform1f(m),u_opacity:new n.Uniform1f(m),u_edge_radius:new n.Uniform1f(m),u_ao:new n.Uniform2f(m),u_tile_id:new n.Uniform3f(m),u_zoom_transition:new n.Uniform1f(m),u_inv_rot_matrix:new n.UniformMatrix4f(m),u_merc_center:new n.Uniform2f(m),u_up_dir:new n.Uniform3f(m),u_height_lift:new n.Uniform1f(m)}),fillExtrusionPattern:m=>({u_matrix:new n.UniformMatrix4f(m),u_lightpos:new n.Uniform3f(m),u_lightintensity:new n.Uniform1f(m),u_lightcolor:new n.Uniform3f(m),u_vertical_gradient:new n.Uniform1f(m),u_height_factor:new n.Uniform1f(m),u_edge_radius:new n.Uniform1f(m),u_ao:new n.Uniform2f(m),u_tile_id:new n.Uniform3f(m),u_zoom_transition:new n.Uniform1f(m),u_inv_rot_matrix:new n.UniformMatrix4f(m),u_merc_center:new n.Uniform2f(m),u_up_dir:new n.Uniform3f(m),u_height_lift:new n.Uniform1f(m),u_image:new n.Uniform1i(m),u_texsize:new n.Uniform2f(m),u_pixel_coord_upper:new n.Uniform2f(m),u_pixel_coord_lower:new n.Uniform2f(m),u_tile_units_to_pixels:new n.Uniform1f(m),u_opacity:new n.Uniform1f(m)}),fill:m=>({u_matrix:new n.UniformMatrix4f(m)}),fillPattern:m=>({u_matrix:new n.UniformMatrix4f(m),u_image:new n.Uniform1i(m),u_texsize:new n.Uniform2f(m),u_pixel_coord_upper:new n.Uniform2f(m),u_pixel_coord_lower:new n.Uniform2f(m),u_tile_units_to_pixels:new n.Uniform1f(m)}),fillOutline:m=>({u_matrix:new n.UniformMatrix4f(m),u_world:new n.Uniform2f(m)}),fillOutlinePattern:m=>({u_matrix:new n.UniformMatrix4f(m),u_world:new n.Uniform2f(m),u_image:new n.Uniform1i(m),u_texsize:new n.Uniform2f(m),u_pixel_coord_upper:new n.Uniform2f(m),u_pixel_coord_lower:new n.Uniform2f(m),u_tile_units_to_pixels:new n.Uniform1f(m)}),circle:m=>({u_camera_to_center_distance:new n.Uniform1f(m),u_extrude_scale:new n.UniformMatrix2f(m),u_device_pixel_ratio:new n.Uniform1f(m),u_matrix:new n.UniformMatrix4f(m),u_inv_rot_matrix:new n.UniformMatrix4f(m),u_merc_center:new n.Uniform2f(m),u_tile_id:new n.Uniform3f(m),u_zoom_transition:new n.Uniform1f(m),u_up_dir:new n.Uniform3f(m)}),collisionBox:m=>({u_matrix:new n.UniformMatrix4f(m),u_camera_to_center_distance:new n.Uniform1f(m),u_extrude_scale:new n.Uniform2f(m)}),collisionCircle:m=>({u_matrix:new n.UniformMatrix4f(m),u_inv_matrix:new n.UniformMatrix4f(m),u_camera_to_center_distance:new n.Uniform1f(m),u_viewport_size:new n.Uniform2f(m)}),debug:m=>({u_color:new n.UniformColor(m),u_matrix:new n.UniformMatrix4f(m),u_overlay:new n.Uniform1i(m),u_overlay_scale:new n.Uniform1f(m)}),clippingMask:m=>({u_matrix:new n.UniformMatrix4f(m)}),heatmap:m=>({u_extrude_scale:new n.Uniform1f(m),u_intensity:new n.Uniform1f(m),u_matrix:new n.UniformMatrix4f(m),u_inv_rot_matrix:new n.UniformMatrix4f(m),u_merc_center:new n.Uniform2f(m),u_tile_id:new n.Uniform3f(m),u_zoom_transition:new n.Uniform1f(m),u_up_dir:new n.Uniform3f(m)}),heatmapTexture:m=>({u_image:new n.Uniform1i(m),u_color_ramp:new n.Uniform1i(m),u_opacity:new n.Uniform1f(m)}),hillshade:m=>({u_matrix:new n.UniformMatrix4f(m),u_image:new n.Uniform1i(m),u_latrange:new n.Uniform2f(m),u_light:new n.Uniform2f(m),u_shadow:new n.UniformColor(m),u_highlight:new n.UniformColor(m),u_accent:new n.UniformColor(m)}),hillshadePrepare:m=>({u_matrix:new n.UniformMatrix4f(m),u_image:new n.Uniform1i(m),u_dimension:new n.Uniform2f(m),u_zoom:new n.Uniform1f(m),u_unpack:new n.Uniform4f(m)}),line:m=>({u_matrix:new n.UniformMatrix4f(m),u_pixels_to_tile_units:new n.UniformMatrix2f(m),u_device_pixel_ratio:new n.Uniform1f(m),u_units_to_pixels:new n.Uniform2f(m),u_dash_image:new n.Uniform1i(m),u_gradient_image:new n.Uniform1i(m),u_image_height:new n.Uniform1f(m),u_texsize:new n.Uniform2f(m),u_tile_units_to_pixels:new n.Uniform1f(m),u_alpha_discard_threshold:new n.Uniform1f(m),u_trim_offset:new n.Uniform2f(m)}),linePattern:m=>({u_matrix:new n.UniformMatrix4f(m),u_texsize:new n.Uniform2f(m),u_pixels_to_tile_units:new n.UniformMatrix2f(m),u_device_pixel_ratio:new n.Uniform1f(m),u_image:new n.Uniform1i(m),u_units_to_pixels:new n.Uniform2f(m),u_tile_units_to_pixels:new n.Uniform1f(m),u_alpha_discard_threshold:new n.Uniform1f(m)}),raster:m=>({u_matrix:new n.UniformMatrix4f(m),u_tl_parent:new n.Uniform2f(m),u_scale_parent:new n.Uniform1f(m),u_fade_t:new n.Uniform1f(m),u_opacity:new n.Uniform1f(m),u_image0:new n.Uniform1i(m),u_image1:new n.Uniform1i(m),u_brightness_low:new n.Uniform1f(m),u_brightness_high:new n.Uniform1f(m),u_saturation_factor:new n.Uniform1f(m),u_contrast_factor:new n.Uniform1f(m),u_spin_weights:new n.Uniform3f(m),u_perspective_transform:new n.Uniform2f(m)}),symbolIcon:m=>({u_is_size_zoom_constant:new n.Uniform1i(m),u_is_size_feature_constant:new n.Uniform1i(m),u_size_t:new n.Uniform1f(m),u_size:new n.Uniform1f(m),u_camera_to_center_distance:new n.Uniform1f(m),u_rotate_symbol:new n.Uniform1i(m),u_aspect_ratio:new n.Uniform1f(m),u_fade_change:new n.Uniform1f(m),u_matrix:new n.UniformMatrix4f(m),u_label_plane_matrix:new n.UniformMatrix4f(m),u_coord_matrix:new n.UniformMatrix4f(m),u_is_text:new n.Uniform1i(m),u_pitch_with_map:new n.Uniform1i(m),u_texsize:new n.Uniform2f(m),u_tile_id:new n.Uniform3f(m),u_zoom_transition:new n.Uniform1f(m),u_inv_rot_matrix:new n.UniformMatrix4f(m),u_merc_center:new n.Uniform2f(m),u_camera_forward:new n.Uniform3f(m),u_tile_matrix:new n.UniformMatrix4f(m),u_up_vector:new n.Uniform3f(m),u_ecef_origin:new n.Uniform3f(m),u_texture:new n.Uniform1i(m)}),symbolSDF:m=>({u_is_size_zoom_constant:new n.Uniform1i(m),u_is_size_feature_constant:new n.Uniform1i(m),u_size_t:new n.Uniform1f(m),u_size:new n.Uniform1f(m),u_camera_to_center_distance:new n.Uniform1f(m),u_rotate_symbol:new n.Uniform1i(m),u_aspect_ratio:new n.Uniform1f(m),u_fade_change:new n.Uniform1f(m),u_matrix:new n.UniformMatrix4f(m),u_label_plane_matrix:new n.UniformMatrix4f(m),u_coord_matrix:new n.UniformMatrix4f(m),u_is_text:new n.Uniform1i(m),u_pitch_with_map:new n.Uniform1i(m),u_texsize:new n.Uniform2f(m),u_texture:new n.Uniform1i(m),u_gamma_scale:new n.Uniform1f(m),u_device_pixel_ratio:new n.Uniform1f(m),u_tile_id:new n.Uniform3f(m),u_zoom_transition:new n.Uniform1f(m),u_inv_rot_matrix:new n.UniformMatrix4f(m),u_merc_center:new n.Uniform2f(m),u_camera_forward:new n.Uniform3f(m),u_tile_matrix:new n.UniformMatrix4f(m),u_up_vector:new n.Uniform3f(m),u_ecef_origin:new n.Uniform3f(m),u_is_halo:new n.Uniform1i(m)}),symbolTextAndIcon:m=>({u_is_size_zoom_constant:new n.Uniform1i(m),u_is_size_feature_constant:new n.Uniform1i(m),u_size_t:new n.Uniform1f(m),u_size:new n.Uniform1f(m),u_camera_to_center_distance:new n.Uniform1f(m),u_rotate_symbol:new n.Uniform1i(m),u_aspect_ratio:new n.Uniform1f(m),u_fade_change:new n.Uniform1f(m),u_matrix:new n.UniformMatrix4f(m),u_label_plane_matrix:new n.UniformMatrix4f(m),u_coord_matrix:new n.UniformMatrix4f(m),u_is_text:new n.Uniform1i(m),u_pitch_with_map:new n.Uniform1i(m),u_texsize:new n.Uniform2f(m),u_texsize_icon:new n.Uniform2f(m),u_texture:new n.Uniform1i(m),u_texture_icon:new n.Uniform1i(m),u_gamma_scale:new n.Uniform1f(m),u_device_pixel_ratio:new n.Uniform1f(m),u_is_halo:new n.Uniform1i(m)}),background:m=>({u_matrix:new n.UniformMatrix4f(m),u_opacity:new n.Uniform1f(m),u_color:new n.UniformColor(m)}),backgroundPattern:m=>({u_matrix:new n.UniformMatrix4f(m),u_opacity:new n.Uniform1f(m),u_image:new n.Uniform1i(m),u_pattern_tl:new n.Uniform2f(m),u_pattern_br:new n.Uniform2f(m),u_texsize:new n.Uniform2f(m),u_pattern_size:new n.Uniform2f(m),u_pixel_coord_upper:new n.Uniform2f(m),u_pixel_coord_lower:new n.Uniform2f(m),u_tile_units_to_pixels:new n.Uniform1f(m)}),terrainRaster:Vn,terrainDepth:Vn,skybox:m=>({u_matrix:new n.UniformMatrix4f(m),u_sun_direction:new n.Uniform3f(m),u_cubemap:new n.Uniform1i(m),u_opacity:new n.Uniform1f(m),u_temporal_offset:new n.Uniform1f(m)}),skyboxGradient:m=>({u_matrix:new n.UniformMatrix4f(m),u_color_ramp:new n.Uniform1i(m),u_center_direction:new n.Uniform3f(m),u_radius:new n.Uniform1f(m),u_opacity:new n.Uniform1f(m),u_temporal_offset:new n.Uniform1f(m)}),skyboxCapture:m=>({u_matrix_3f:new n.UniformMatrix3f(m),u_sun_direction:new n.Uniform3f(m),u_sun_intensity:new n.Uniform1f(m),u_color_tint_r:new n.Uniform4f(m),u_color_tint_m:new n.Uniform4f(m),u_luminance:new n.Uniform1f(m)}),globeRaster:m=>({u_proj_matrix:new n.UniformMatrix4f(m),u_globe_matrix:new n.UniformMatrix4f(m),u_normalize_matrix:new n.UniformMatrix4f(m),u_merc_matrix:new n.UniformMatrix4f(m),u_zoom_transition:new n.Uniform1f(m),u_merc_center:new n.Uniform2f(m),u_image0:new n.Uniform1i(m),u_grid_matrix:new n.UniformMatrix3f(m),u_frustum_tl:new n.Uniform3f(m),u_frustum_tr:new n.Uniform3f(m),u_frustum_br:new n.Uniform3f(m),u_frustum_bl:new n.Uniform3f(m),u_globe_pos:new n.Uniform3f(m),u_globe_radius:new n.Uniform1f(m),u_viewport:new n.Uniform2f(m)}),globeAtmosphere:m=>({u_frustum_tl:new n.Uniform3f(m),u_frustum_tr:new n.Uniform3f(m),u_frustum_br:new n.Uniform3f(m),u_frustum_bl:new n.Uniform3f(m),u_horizon:new n.Uniform1f(m),u_transition:new n.Uniform1f(m),u_fadeout_range:new n.Uniform1f(m),u_color:new n.Uniform4f(m),u_high_color:new n.Uniform4f(m),u_space_color:new n.Uniform4f(m),u_star_intensity:new n.Uniform1f(m),u_star_density:new n.Uniform1f(m),u_star_size:new n.Uniform1f(m),u_temporal_offset:new n.Uniform1f(m),u_horizon_angle:new n.Uniform1f(m),u_rotation_matrix:new n.UniformMatrix4f(m)})};let Gs;function wo(m,a,d,x,E,A,J){const ce=m.context,de=ce.gl,Ee=m.transform,Te=m.useProgram("collisionBox"),Re=[];let We=0,Qe=0;for(let pt=0;pt<x.length;pt++){const wt=x[pt],mt=a.getTile(wt),At=mt.getBucket(d);if(!At)continue;const $t=ea(wt,At,Ee);let Ft=$t;E[0]===0&&E[1]===0||(Ft=m.translatePosMatrix($t,mt,E,A));const Pt=J?At.textCollisionBox:At.iconCollisionBox,pi=At.collisionCircleArray;if(pi.length>0){const Bt=n.create(),si=Ft;n.mul(Bt,At.placementInvProjMatrix,Ee.glCoordMatrix),n.mul(Bt,Bt,At.placementViewportMatrix),Re.push({circleArray:pi,circleOffset:Qe,transform:si,invTransform:Bt,projection:At.getProjection()}),We+=pi.length/4,Qe=We}Pt&&(m.terrain&&m.terrain.setupElevationDraw(mt,Te),Te.draw(ce,de.LINES,n.DepthMode.disabled,n.StencilMode.disabled,m.colorModeForRenderPass(),n.CullFaceMode.disabled,fc(Ft,Ee,mt,At.getProjection()),d.id,Pt.layoutVertexBuffer,Pt.indexBuffer,Pt.segments,null,Ee.zoom,null,[Pt.collisionVertexBuffer,Pt.collisionVertexBufferExt]))}if(!J||!Re.length)return;const et=m.useProgram("collisionCircle"),rt=new n.StructArrayLayout2f1f2i16;rt.resize(4*We),rt._trim();let Xe=0;for(const pt of Re)for(let wt=0;wt<pt.circleArray.length/4;wt++){const mt=4*wt,At=pt.circleArray[mt+0],$t=pt.circleArray[mt+1],Ft=pt.circleArray[mt+2],Pt=pt.circleArray[mt+3];rt.emplace(Xe++,At,$t,Ft,Pt,0),rt.emplace(Xe++,At,$t,Ft,Pt,1),rt.emplace(Xe++,At,$t,Ft,Pt,2),rt.emplace(Xe++,At,$t,Ft,Pt,3)}(!Gs||Gs.length<2*We)&&(Gs=function(pt){const wt=2*pt,mt=new n.StructArrayLayout3ui6;mt.resize(wt),mt._trim();for(let At=0;At<wt;At++){const $t=6*At;mt.uint16[$t+0]=4*At+0,mt.uint16[$t+1]=4*At+1,mt.uint16[$t+2]=4*At+2,mt.uint16[$t+3]=4*At+2,mt.uint16[$t+4]=4*At+3,mt.uint16[$t+5]=4*At+0}return mt}(We));const Ze=ce.createIndexBuffer(Gs,!0),lt=ce.createVertexBuffer(rt,n.collisionCircleLayout.members,!0);for(const pt of Re){const wt={u_matrix:pt.transform,u_inv_matrix:pt.invTransform,u_camera_to_center_distance:(tt=Ee).getCameraToCenterDistance(pt.projection),u_viewport_size:[tt.width,tt.height]};et.draw(ce,de.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,m.colorModeForRenderPass(),n.CullFaceMode.disabled,wt,d.id,lt,Ze,n.SegmentVector.simpleSegment(0,2*pt.circleOffset,pt.circleArray.length,pt.circleArray.length/2),null,Ee.zoom)}var tt;lt.destroy(),Ze.destroy()}const Ol=n.create();function ru({width:m,height:a,anchor:d,textOffset:x,textScale:E},A){const{horizontalAlign:J,verticalAlign:ce}=n.getAnchorAlignment(d),de=-(J-.5)*m,Ee=-(ce-.5)*a,Te=n.evaluateVariableOffset(d,x);return new n.pointGeometry((de/E+Te[0])*A,(Ee/E+Te[1])*A)}function su(m,a,d,x,E,A,J,ce,de,Ee,Te){const Re=m.text.placedSymbolArray,We=m.text.dynamicLayoutVertexArray,Qe=m.icon.dynamicLayoutVertexArray,et={},rt=m.getProjection(),Xe=Sl(ce,rt,A),Ze=A.elevation,lt=rt.upVectorScale(ce.canonical,A.center.lat,A.worldSize).metersToTile;We.clear();for(let tt=0;tt<Re.length;tt++){const pt=Re.get(tt),{tileAnchorX:wt,tileAnchorY:mt,numGlyphs:At}=pt,$t=m.allowVerticalPlacement&&!pt.placedOrientation,Ft=pt.hidden||!pt.crossTileID||$t?null:x[pt.crossTileID];if(Ft){let Pt=0,pi=0,Bt=0;if(Ze){const Vi=Ze?Ze.getAtTileOffset(ce,wt,mt):0,[Qi,Wi,dn]=rt.upVector(ce.canonical,wt,mt);Pt=Vi*Qi*lt,pi=Vi*Wi*lt,Bt=Vi*dn*lt}let[si,Yt,xi,qt]=Ds(pt.projectedAnchorX+Pt,pt.projectedAnchorY+pi,pt.projectedAnchorZ+Bt,d?Xe:J);const di=Ii(A.getCameraToCenterDistance(rt),qt);let wi=E.evaluateSizeForFeature(m.textSizeData,Ee,pt)*di/n.ONE_EM;d&&(wi*=m.tilePixelRatio/de);const Ot=ru(Ft,wi);d?({x:si,y:Yt,z:xi}=rt.projectTilePoint(wt+Ot.x,mt+Ot.y,ce.canonical),[si,Yt,xi]=Ds(si+Pt,Yt+pi,xi+Bt,J)):(a&&Ot._rotate(-A.angle),si+=Ot.x,Yt+=Ot.y,xi=0);const Xt=m.allowVerticalPlacement&&pt.placedOrientation===n.WritingMode.vertical?Math.PI/2:0;for(let Vi=0;Vi<At;Vi++)n.addDynamicAttributes(We,si,Yt,xi,Xt);Te&&pt.associatedIconIndex>=0&&(et[pt.associatedIconIndex]={x:si,y:Yt,z:xi,angle:Xt})}else ws(At,We)}if(Te){Qe.clear();const tt=m.icon.placedSymbolArray;for(let pt=0;pt<tt.length;pt++){const wt=tt.get(pt),{numGlyphs:mt}=wt,At=et[pt];if(wt.hidden||!At)ws(mt,Qe);else{const{x:$t,y:Ft,z:Pt,angle:pi}=At;for(let Bt=0;Bt<mt;Bt++)n.addDynamicAttributes(Qe,$t,Ft,Pt,pi)}}m.icon.dynamicLayoutVertexBuffer.updateData(Qe)}m.text.dynamicLayoutVertexBuffer.updateData(We)}function ou(m,a,d){return d.iconsInText&&a?"symbolTextAndIcon":m?"symbolSDF":"symbolIcon"}function To(m,a,d,x,E,A,J,ce,de,Ee,Te,Re){const We=m.context,Qe=We.gl,et=m.transform,rt=ce==="map",Xe=de==="map",Ze=rt&&d.layout.get("symbol-placement")!=="point",lt=rt&&!Xe&&!Ze,tt=d.layout.get("symbol-sort-key").constantOr(1)!==void 0;let pt=!1;const wt=m.depthModeForSublayer(0,n.DepthMode.ReadOnly),mt=[n.mercatorXfromLng(et.center.lng),n.mercatorYfromLat(et.center.lat)],At=d.layout.get("text-variable-anchor"),$t=et.projection.name==="globe",Ft=[],Pt=[0,-1,0];let pi=Pt;!$t&&!et.mercatorFromTransition||rt||(pi=function(Bt){const si=Bt._camera.getWorldToCamera(Bt.worldSize,1),Yt=n.multiply([],si,Bt.globeMatrix);n.invert(Yt,Yt);const xi=[0,0,0],qt=[0,1,0,0];return n.transformMat4$1(qt,qt,Yt),xi[0]=qt[0],xi[1]=qt[1],xi[2]=qt[2],n.normalize(xi,xi),xi}(et));for(const Bt of x){const si=a.getTile(Bt),Yt=si.getBucket(d);if(!Yt||Yt.projection.name==="mercator"&&$t)continue;const xi=E?Yt.text:Yt.icon;if(!xi||Yt.fullyClipped||!xi.segments.get().length)continue;const qt=xi.programConfigurations.get(d.id),di=E||Yt.sdfIcons,wi=E?Yt.textSizeData:Yt.iconSizeData,Ot=Xe||et.pitch!==0,Xt=n.evaluateSizeForZoom(wi,et.zoom);let Vi,Qi,Wi,dn,Rn=[0,0],tn=null;if(E){if(Qi=si.glyphAtlasTexture,Wi=Qe.LINEAR,Vi=si.glyphAtlasTexture.size,Yt.iconsInText){Rn=si.imageAtlasTexture.size,tn=si.imageAtlasTexture;const Wo=wi.kind==="composite"||wi.kind==="camera";dn=Ot||m.options.rotating||m.options.zooming||Wo?Qe.LINEAR:Qe.NEAREST}}else{const Wo=d.layout.get("icon-size").constantOr(0)!==1||Yt.iconsNeedLinear;Qi=si.imageAtlasTexture,Wi=di||m.options.rotating||m.options.zooming||Wo||Ot?Qe.LINEAR:Qe.NEAREST,Vi=si.imageAtlasTexture.size}const Ui=Yt.projection.name==="globe",br=Ui?pi:Pt,lr=Ui?n.globeToMercatorTransition(et.zoom):0,Er=Sl(Bt,Yt.getProjection(),et),yr=et.calculatePixelsToTileUnitsMatrix(si),Vo=Xs(Er,si.tileID.canonical,Xe,rt,et,Yt.getProjection(),yr),Eo=m.terrain&&Xe&&Ze?n.invert(n.create(),Vo):Ol,uo=nd(Er,si.tileID.canonical,Xe,rt,et,Yt.getProjection(),yr),Na=At&&Yt.hasTextData(),Rr=d.layout.get("icon-text-fit")!=="none"&&Na&&Yt.hasIconData();if(Ze){const Wo=et.elevation,sl=Wo?Wo.getAtTileOffsetFunc(Bt,et.center.lat,et.worldSize,Yt.getProjection()):null,_a=gh(Er,si.tileID.canonical,Xe,rt,et,Yt.getProjection(),yr);Fn(Yt,Er,m,E,_a,uo,Xe,Ee,sl,Bt)}const xr=Ze||E&&At||Rr,rr=m.translatePosMatrix(Er,si,A,J),ds=xr?Ol:Vo,io=m.translatePosMatrix(uo,si,A,J,!0),zr=Yt.getProjection().createInversionMatrix(et,Bt.canonical),po=[];m.terrainRenderModeElevated()&&Xe&&po.push("PITCH_WITH_MAP_TERRAIN"),Ui&&po.push("PROJECTION_GLOBE_VIEW"),xr&&po.push("PROJECTED_POS_ON_VIEWPORT");const md=di&&d.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let ja;ja=di?Yt.iconsInText?$c(wi.kind,Xt,lt,Xe,m,rr,ds,io,Vi,Rn,Bt,lr,mt,zr,br,Yt.getProjection()):ld(wi.kind,Xt,lt,Xe,m,rr,ds,io,E,Vi,!0,Bt,lr,mt,zr,br,Yt.getProjection()):tl(wi.kind,Xt,lt,Xe,m,rr,ds,io,E,Vi,Bt,lr,mt,zr,br,Yt.getProjection());const no={program:m.useProgram(ou(di,E,Yt),qt,po),buffers:xi,uniformValues:ja,atlasTexture:Qi,atlasTextureIcon:tn,atlasInterpolation:Wi,atlasInterpolationIcon:dn,isSDF:di,hasHalo:md,tile:si,labelPlaneMatrixInv:Eo};if(tt&&Yt.canOverlap){pt=!0;const Wo=xi.segments.get();for(const sl of Wo)Ft.push({segments:new n.SegmentVector([sl]),sortKey:sl.sortKey,state:no})}else Ft.push({segments:xi.segments,sortKey:0,state:no})}pt&&Ft.sort((Bt,si)=>Bt.sortKey-si.sortKey);for(const Bt of Ft){const si=Bt.state;if(m.terrain&&m.terrain.setupElevationDraw(si.tile,si.program,{useDepthForOcclusion:!$t,labelPlaneMatrixInv:si.labelPlaneMatrixInv}),We.activeTexture.set(Qe.TEXTURE0),si.atlasTexture.bind(si.atlasInterpolation,Qe.CLAMP_TO_EDGE),si.atlasTextureIcon&&(We.activeTexture.set(Qe.TEXTURE1),si.atlasTextureIcon&&si.atlasTextureIcon.bind(si.atlasInterpolationIcon,Qe.CLAMP_TO_EDGE)),si.isSDF){const Yt=si.uniformValues;si.hasHalo&&(Yt.u_is_halo=1,Dt(si.buffers,Bt.segments,d,m,si.program,wt,Te,Re,Yt)),Yt.u_is_halo=0}Dt(si.buffers,Bt.segments,d,m,si.program,wt,Te,Re,si.uniformValues)}}function Dt(m,a,d,x,E,A,J,ce,de){const Ee=x.context,Te=[m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer,m.globeExtVertexBuffer];E.draw(Ee,Ee.gl.TRIANGLES,A,J,ce,n.CullFaceMode.disabled,de,d.id,m.layoutVertexBuffer,m.indexBuffer,a,d.paint,x.transform.zoom,m.programConfigurations.get(d.id),Te)}function ci(m,a,d,x,E,A,J){const ce=m.context.gl,de=d.paint.get("fill-pattern"),Ee=de&&de.constantOr(1);let Te,Re,We,Qe,et;J?(Re=Ee&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Te=ce.LINES):(Re=Ee?"fillPattern":"fill",Te=ce.TRIANGLES);for(const rt of x){const Xe=a.getTile(rt);if(Ee&&!Xe.patternsLoaded())continue;const Ze=Xe.getBucket(d);if(!Ze)continue;m.prepareDrawTile();const lt=Ze.programConfigurations.get(d.id),tt=m.useProgram(Re,lt);Ee&&(m.context.activeTexture.set(ce.TEXTURE0),Xe.imageAtlasTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),lt.updatePaintBuffers());const pt=de.constantOr(null);if(pt&&Xe.imageAtlas){const mt=Xe.imageAtlas.patternPositions[pt.toString()];mt&&lt.setConstantPatternPositions(mt)}const wt=m.translatePosMatrix(rt.projMatrix,Xe,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(J){Qe=Ze.indexBuffer2,et=Ze.segments2;const mt=m.terrain&&m.terrain.renderingToTexture?m.terrain.drapeBufferSize:[ce.drawingBufferWidth,ce.drawingBufferHeight];We=Re==="fillOutlinePattern"&&Ee?eo(wt,m,Xe,mt):uc(wt,mt)}else Qe=Ze.indexBuffer,et=Ze.segments,We=Ee?Hc(wt,m,Xe):Uo(wt);m.prepareDrawProgram(m.context,tt,rt.toUnwrapped()),tt.draw(m.context,Te,E,m.stencilModeForClipping(rt),A,n.CullFaceMode.disabled,We,d.id,Ze.layoutVertexBuffer,Qe,et,d.paint,m.transform.zoom,lt)}}function ti(m,a,d,x,E,A,J){const ce=m.context,de=ce.gl,Ee=m.transform,Te=d.paint.get("fill-extrusion-pattern"),Re=Te.constantOr(1),We=d.paint.get("fill-extrusion-opacity"),Qe=[d.paint.get("fill-extrusion-ambient-occlusion-intensity"),d.paint.get("fill-extrusion-ambient-occlusion-radius")],et=d.layout.get("fill-extrusion-edge-radius"),rt=Ee.projection.name==="globe"?n.fillExtrusionHeightLift():0,Xe=Ee.projection.name==="globe",Ze=Xe?n.globeToMercatorTransition(Ee.zoom):0,lt=[n.mercatorXfromLng(Ee.center.lng),n.mercatorYfromLat(Ee.center.lat)],tt=[];Xe&&(tt.push("PROJECTION_GLOBE_VIEW"),m.style.terrainSetForDrapingOnly()&&tt.push("TERRAIN")),Qe[0]>0&&tt.push("FAUX_AO");for(const pt of x){const wt=a.getTile(pt),mt=wt.getBucket(d);if(!mt||mt.projection.name!==Ee.projection.name)continue;const At=mt.programConfigurations.get(d.id),$t=m.useProgram(Re?"fillExtrusionPattern":"fillExtrusion",At,tt);if(m.terrain){const xi=m.terrain;if(m.style.terrainSetForDrapingOnly())xi.setupElevationDraw(wt,$t,{useMeterToDem:!0});else{if(!mt.enableTerrain)continue;if(xi.setupElevationDraw(wt,$t,{useMeterToDem:!0}),Yi(ce,a,pt,mt,d,xi),!mt.centroidVertexBuffer){const qt=$t.attributes.a_centroid_pos;qt!==void 0&&de.vertexAttrib2f(qt,0,0)}}}Re&&(m.context.activeTexture.set(de.TEXTURE0),wt.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),At.updatePaintBuffers());const Ft=Te.constantOr(null);if(Ft&&wt.imageAtlas){const xi=wt.imageAtlas.patternPositions[Ft.toString()];xi&&At.setConstantPatternPositions(xi)}const Pt=m.translatePosMatrix(pt.projMatrix,wt,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),pi=Ee.projection.createInversionMatrix(Ee,pt.canonical),Bt=d.paint.get("fill-extrusion-vertical-gradient"),si=Re?ur(Pt,m,Bt,We,Qe,et,pt,wt,rt,Ze,lt,pi):wh(Pt,m,Bt,We,Qe,et,pt,rt,Ze,lt,pi);m.prepareDrawProgram(ce,$t,pt.toUnwrapped());const Yt=[];m.terrain&&Yt.push(mt.centroidVertexBuffer),Xe&&Yt.push(mt.layoutVertexExtBuffer),$t.draw(ce,ce.gl.TRIANGLES,E,A,J,n.CullFaceMode.backCCW,si,d.id,mt.layoutVertexBuffer,mt.indexBuffer,mt.segments,d.paint,m.transform.zoom,At,Yt)}}function Yi(m,a,d,x,E,A){const J=[Ze=>{let lt=Ze.canonical.x-1,tt=Ze.wrap;return lt<0&&(lt=(1<<Ze.canonical.z)-1,tt--),new n.OverscaledTileID(Ze.overscaledZ,tt,Ze.canonical.z,lt,Ze.canonical.y)},Ze=>{let lt=Ze.canonical.x+1,tt=Ze.wrap;return lt===1<<Ze.canonical.z&&(lt=0,tt++),new n.OverscaledTileID(Ze.overscaledZ,tt,Ze.canonical.z,lt,Ze.canonical.y)},Ze=>new n.OverscaledTileID(Ze.overscaledZ,Ze.wrap,Ze.canonical.z,Ze.canonical.x,(Ze.canonical.y===0?1<<Ze.canonical.z:Ze.canonical.y)-1),Ze=>new n.OverscaledTileID(Ze.overscaledZ,Ze.wrap,Ze.canonical.z,Ze.canonical.x,Ze.canonical.y===(1<<Ze.canonical.z)-1?0:Ze.canonical.y+1)],ce=Ze=>{const lt=a.getSource().minzoom,tt=wt=>{const mt=a.getTileByID(wt);if(mt&&mt.hasData())return mt.getBucket(E)},pt=[0,-1,1];for(const wt of pt){if(Ze.overscaledZ+wt<lt)continue;const mt=tt(Ze.calculateScaledKey(Ze.overscaledZ+wt));if(mt)return mt}},de=[0,0,0],Ee=(Ze,lt)=>(de[0]=Math.min(Ze.min.y,lt.min.y),de[1]=Math.max(Ze.max.y,lt.max.y),de[2]=n.EXTENT-lt.min.x>Ze.max.x?lt.min.x-n.EXTENT:Ze.max.x,de),Te=(Ze,lt)=>(de[0]=Math.min(Ze.min.x,lt.min.x),de[1]=Math.max(Ze.max.x,lt.max.x),de[2]=n.EXTENT-lt.min.y>Ze.max.y?lt.min.y-n.EXTENT:Ze.max.y,de),Re=[(Ze,lt)=>Ee(Ze,lt),(Ze,lt)=>Ee(lt,Ze),(Ze,lt)=>Te(Ze,lt),(Ze,lt)=>Te(lt,Ze)],We=new n.pointGeometry(0,0);let Qe,et,rt;const Xe=(Ze,lt,tt,pt,wt)=>{const mt=[[pt?tt:Ze,pt?Ze:tt,0],[pt?tt:lt,pt?lt:tt,0]],At=wt<0?n.EXTENT+wt:wt,$t=[pt?At:(Ze+lt)/2,pt?(Ze+lt)/2:At,0];return tt===0&&wt<0||tt!==0&&wt>0?A.getForTilePoints(rt,[$t],!0,et):mt.push($t),A.getForTilePoints(d,mt,!0,Qe),Math.max(mt[0][2],mt[1][2],$t[2])/A.exaggeration()};for(let Ze=0;Ze<4;Ze++){const lt=(Ze<2?1:5)-Ze,tt=x.borders[Ze];if(tt.length===0)continue;const pt=rt=J[Ze](d),wt=ce(pt);if(!(wt&&wt instanceof n.FillExtrusionBucket&&wt.enableTerrain)||x.borderDoneWithNeighborZ[Ze]===wt.canonical.z&&wt.borderDoneWithNeighborZ[lt]===x.canonical.z||(et=A.findDEMTileFor(pt),!et||!et.dem))continue;if(!Qe){const Ft=A.findDEMTileFor(d);if(!Ft||!Ft.dem)return;Qe=Ft}const mt=wt.borders[lt];let At=0;const $t=wt.borderDoneWithNeighborZ[lt]!==x.canonical.z;if(x.canonical.z===wt.canonical.z){for(let Ft=0;Ft<tt.length;Ft++){const Pt=x.featuresOnBorder[tt[Ft]],pi=Pt.borders[Ze];let Bt;for(;At<mt.length&&(Bt=wt.featuresOnBorder[mt[At]],!(Bt.borders[lt][1]>pi[0]+3));)$t&&wt.encodeCentroid(void 0,Bt,!1),At++;if(Bt&&At<mt.length){const si=At;let Yt=0;for(;!(Bt.borders[lt][0]>pi[1]-3)&&(Yt++,++At!==mt.length);)Bt=wt.featuresOnBorder[mt[At]];if(Bt=wt.featuresOnBorder[mt[si]],Pt.intersectsCount()>1||Bt.intersectsCount()>1||Yt!==1){Yt!==1&&(At=si),x.encodeCentroid(void 0,Pt,!1),$t&&wt.encodeCentroid(void 0,Bt,!1);continue}const xi=Re[Ze](Pt,Bt),qt=Ze%2?n.EXTENT-1:0;We.x=Xe(xi[0],Math.min(n.EXTENT-1,xi[1]),qt,Ze<2,xi[2]),We.y=0,x.encodeCentroid(We,Pt,!1),$t&&wt.encodeCentroid(We,Bt,!1)}else x.encodeCentroid(void 0,Pt,!1)}x.borderDoneWithNeighborZ[Ze]=wt.canonical.z,x.needsCentroidUpdate=!0,$t&&(wt.borderDoneWithNeighborZ[lt]=x.canonical.z,wt.needsCentroidUpdate=!0)}else{for(const Ft of tt)x.encodeCentroid(void 0,x.featuresOnBorder[Ft],!1);if($t){for(const Ft of mt)wt.encodeCentroid(void 0,wt.featuresOnBorder[Ft],!1);wt.borderDoneWithNeighborZ[lt]=x.canonical.z,wt.needsCentroidUpdate=!0}x.borderDoneWithNeighborZ[Ze]=wt.canonical.z,x.needsCentroidUpdate=!0}}(x.needsCentroidUpdate||!x.centroidVertexBuffer&&x.centroidVertexArray.length!==0)&&x.uploadCentroid(m)}const Dn=new n.Color(1,0,0,1),ar=new n.Color(0,1,0,1),cs=new n.Color(0,0,1,1),pr=new n.Color(1,0,1,1),_c=new n.Color(0,1,1,1);function Sh(m,a,d){const x=m.context,E=m.transform,A=x.gl,J=E.projection.name==="globe",ce=J?["PROJECTION_GLOBE_VIEW"]:null;let de=d.projMatrix;if(J&&n.globeToMercatorTransition(E.zoom)>0){const Pt=n.transitionTileAABBinECEF(d.canonical,E),pi=n.globeDenormalizeECEF(Pt);de=n.multiply(new Float32Array(16),E.globeMatrix,pi),n.multiply(de,E.projMatrix,de)}const Ee=m.useProgram("debug",null,ce),Te=a.getTileByID(d.key);m.terrain&&m.terrain.setupElevationDraw(Te,Ee);const Re=n.DepthMode.disabled,We=n.StencilMode.disabled,Qe=m.colorModeForRenderPass(),et="$debug";x.activeTexture.set(A.TEXTURE0),m.emptyTexture.bind(A.LINEAR,A.CLAMP_TO_EDGE),J?Te._makeGlobeTileDebugBuffers(m.context,E):Te._makeDebugTileBoundsBuffers(m.context,E.projection);const rt=Te._tileDebugBuffer||m.debugBuffer,Xe=Te._tileDebugIndexBuffer||m.debugIndexBuffer,Ze=Te._tileDebugSegments||m.debugSegments;Ee.draw(x,A.LINE_STRIP,Re,We,Qe,n.CullFaceMode.disabled,mc(de,n.Color.red),et,rt,Xe,Ze,null,null,null,[Te._globeTileDebugBorderBuffer]);const lt=Te.latestRawTileData,tt=Math.floor((lt&&lt.byteLength||0)/1024),pt=a.getTile(d).tileSize,wt=512/Math.min(pt,512)*(d.overscaledZ/E.zoom)*.5;let mt=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(mt+=` => ${d.overscaledZ}`),mt+=` ${tt}kb`,function(Pt,pi){Pt.initDebugOverlayCanvas();const Bt=Pt.debugOverlayCanvas,si=Pt.context.gl,Yt=Pt.debugOverlayCanvas.getContext("2d");Yt.clearRect(0,0,Bt.width,Bt.height),Yt.shadowColor="white",Yt.shadowBlur=2,Yt.lineWidth=1.5,Yt.strokeStyle="white",Yt.textBaseline="top",Yt.font="bold 36px Open Sans, sans-serif",Yt.fillText(pi,5,5),Yt.strokeText(pi,5,5),Pt.debugOverlayTexture.update(Bt),Pt.debugOverlayTexture.bind(si.LINEAR,si.CLAMP_TO_EDGE)}(m,mt);const At=Te._tileDebugTextBuffer||m.debugBuffer,$t=Te._tileDebugTextIndexBuffer||m.quadTriangleIndexBuffer,Ft=Te._tileDebugTextSegments||m.debugSegments;Ee.draw(x,A.TRIANGLES,Re,We,n.ColorMode.alphaBlended,n.CullFaceMode.disabled,mc(de,n.Color.transparent,wt),et,At,$t,Ft,null,null,null,[Te._globeTileDebugTextBuffer])}function ho(m,a,d,x){xt(m,0,a+d/2,m.transform.width,d,x)}function Ke(m,a,d,x){xt(m,a-d/2,0,d,m.transform.height,x)}function xt(m,a,d,x,E,A){const J=m.context,ce=J.gl;ce.enable(ce.SCISSOR_TEST),ce.scissor(a*n.exported.devicePixelRatio,d*n.exported.devicePixelRatio,x*n.exported.devicePixelRatio,E*n.exported.devicePixelRatio),J.clear({color:A}),ce.disable(ce.SCISSOR_TEST)}const kt=n.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:hi}=kt;function It(m,a,d,x){m.emplaceBack(a,d,x)}class Qt{constructor(a){this.vertexArray=new n.StructArrayLayout3f12,this.indices=new n.StructArrayLayout3ui6,It(this.vertexArray,-1,-1,1),It(this.vertexArray,1,-1,1),It(this.vertexArray,-1,1,1),It(this.vertexArray,1,1,1),It(this.vertexArray,-1,-1,-1),It(this.vertexArray,1,-1,-1),It(this.vertexArray,-1,1,-1),It(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=a.createVertexBuffer(this.vertexArray,hi),this.indexBuffer=a.createIndexBuffer(this.indices),this.segment=n.SegmentVector.simpleSegment(0,0,36,12)}}function Si(m,a,d,x,E,A){const J=m.gl,ce=a.paint.get("sky-atmosphere-color"),de=a.paint.get("sky-atmosphere-halo-color"),Ee=a.paint.get("sky-atmosphere-sun-intensity"),Te=((Re,We,Qe,et,rt)=>({u_matrix_3f:Re,u_sun_direction:We,u_sun_intensity:Qe,u_color_tint_r:[et.r,et.g,et.b,et.a],u_color_tint_m:[rt.r,rt.g,rt.b,rt.a],u_luminance:5e-5}))(n.fromMat4(n.create$1(),x),E,Ee,ce,de);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+A,a.skyboxTexture,0),d.draw(m,J.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.frontCW,Te,"skyboxCapture",a.skyboxGeometry.vertexBuffer,a.skyboxGeometry.indexBuffer,a.skyboxGeometry.segment)}const Fi=n.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class bi{constructor(a){const d=new n.StructArrayLayout5f20;d.emplaceBack(-1,1,1,0,0),d.emplaceBack(1,1,1,1,0),d.emplaceBack(1,-1,1,1,1),d.emplaceBack(-1,-1,1,0,1);const x=new n.StructArrayLayout3ui6;x.emplaceBack(0,1,2),x.emplaceBack(2,3,0),this.vertexBuffer=a.createVertexBuffer(d,Fi.members),this.indexBuffer=a.createIndexBuffer(x),this.segments=n.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const un={symbol:function(m,a,d,x,E){if(m.renderPass!=="translucent")return;const A=n.StencilMode.disabled,J=m.colorModeForRenderPass();d.layout.get("text-variable-anchor")&&function(ce,de,Ee,Te,Re,We,Qe){const et=de.transform,rt=Re==="map",Xe=We==="map";for(const Ze of ce){const lt=Te.getTile(Ze),tt=lt.getBucket(Ee);if(!tt||!tt.text||!tt.text.segments.get().length)continue;const pt=n.evaluateSizeForZoom(tt.textSizeData,et.zoom),wt=Sl(Ze,tt.getProjection(),et),mt=et.calculatePixelsToTileUnitsMatrix(lt),At=Xs(wt,lt.tileID.canonical,Xe,rt,et,tt.getProjection(),mt),$t=Ee.layout.get("icon-text-fit")!=="none"&&tt.hasIconData();if(pt){const Ft=Math.pow(2,et.zoom-lt.tileID.overscaledZ);su(tt,rt,Xe,Qe,n.symbolSize,et,At,Ze,Ft,pt,$t)}}}(x,m,d,a,d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),E),d.paint.get("icon-opacity").constantOr(1)!==0&&To(m,a,d,x,!1,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),d.layout.get("icon-rotation-alignment"),d.layout.get("icon-pitch-alignment"),d.layout.get("icon-keep-upright"),A,J),d.paint.get("text-opacity").constantOr(1)!==0&&To(m,a,d,x,!0,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),d.layout.get("text-keep-upright"),A,J),a.map.showCollisionBoxes&&(wo(m,a,d,x,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),!0),wo(m,a,d,x,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),!1))},circle:function(m,a,d,x){if(m.renderPass!=="translucent")return;const E=d.paint.get("circle-opacity"),A=d.paint.get("circle-stroke-width"),J=d.paint.get("circle-stroke-opacity"),ce=d.layout.get("circle-sort-key").constantOr(1)!==void 0;if(E.constantOr(1)===0&&(A.constantOr(1)===0||J.constantOr(1)===0))return;const de=m.context,Ee=de.gl,Te=m.transform,Re=m.depthModeForSublayer(0,n.DepthMode.ReadOnly),We=n.StencilMode.disabled,Qe=m.colorModeForRenderPass(),et=Te.projection.name==="globe",rt=[n.mercatorXfromLng(Te.center.lng),n.mercatorYfromLat(Te.center.lat)],Xe=[];for(let lt=0;lt<x.length;lt++){const tt=x[lt],pt=a.getTile(tt),wt=pt.getBucket(d);if(!wt||wt.projection.name!==Te.projection.name)continue;const mt=wt.programConfigurations.get(d.id),At=od(d);et&&At.push("PROJECTION_GLOBE_VIEW");const $t=m.useProgram("circle",mt,At),Ft=wt.layoutVertexBuffer,Pt=wt.globeExtVertexBuffer,pi=wt.indexBuffer,Bt=Te.projection.createInversionMatrix(Te,tt.canonical),si={programConfiguration:mt,program:$t,layoutVertexBuffer:Ft,globeExtVertexBuffer:Pt,indexBuffer:pi,uniformValues:pc(m,tt,pt,Bt,rt,d),tile:pt};if(ce){const Yt=wt.segments.get();for(const xi of Yt)Xe.push({segments:new n.SegmentVector([xi]),sortKey:xi.sortKey,state:si})}else Xe.push({segments:wt.segments,sortKey:0,state:si})}ce&&Xe.sort((lt,tt)=>lt.sortKey-tt.sortKey);const Ze={useDepthForOcclusion:!et};for(const lt of Xe){const{programConfiguration:tt,program:pt,layoutVertexBuffer:wt,globeExtVertexBuffer:mt,indexBuffer:At,uniformValues:$t,tile:Ft}=lt.state,Pt=lt.segments;m.terrain&&m.terrain.setupElevationDraw(Ft,pt,Ze),m.prepareDrawProgram(de,pt,Ft.tileID.toUnwrapped()),pt.draw(de,Ee.TRIANGLES,Re,We,Qe,n.CullFaceMode.disabled,$t,d.id,wt,At,Pt,d.paint,Te.zoom,tt,[mt])}},heatmap:function(m,a,d,x){if(d.paint.get("heatmap-opacity")!==0)if(m.renderPass==="offscreen"){const E=m.context,A=E.gl,J=n.StencilMode.disabled,ce=new n.ColorMode([A.ONE,A.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(Qe,et,rt,Xe){const Ze=Qe.gl,lt=et.width*Xe,tt=et.height*Xe;Qe.activeTexture.set(Ze.TEXTURE1),Qe.viewport.set([0,0,lt,tt]);let pt=rt.heatmapFbo;if(!pt||pt&&(pt.width!==lt||pt.height!==tt)){pt&&pt.destroy();const wt=Ze.createTexture();Ze.bindTexture(Ze.TEXTURE_2D,wt),Ze.texParameteri(Ze.TEXTURE_2D,Ze.TEXTURE_WRAP_S,Ze.CLAMP_TO_EDGE),Ze.texParameteri(Ze.TEXTURE_2D,Ze.TEXTURE_WRAP_T,Ze.CLAMP_TO_EDGE),Ze.texParameteri(Ze.TEXTURE_2D,Ze.TEXTURE_MIN_FILTER,Ze.LINEAR),Ze.texParameteri(Ze.TEXTURE_2D,Ze.TEXTURE_MAG_FILTER,Ze.LINEAR),pt=rt.heatmapFbo=Qe.createFramebuffer(lt,tt,!1),function(mt,At,$t,Ft,Pt,pi){const Bt=mt.gl;Bt.texImage2D(Bt.TEXTURE_2D,0,Bt.RGBA,Pt,pi,0,Bt.RGBA,mt.extRenderToTextureHalfFloat?mt.extTextureHalfFloat.HALF_FLOAT_OES:Bt.UNSIGNED_BYTE,null),Ft.colorAttachment.set($t)}(Qe,0,wt,pt,lt,tt)}else Ze.bindTexture(Ze.TEXTURE_2D,pt.colorAttachment.get()),Qe.bindFramebuffer.set(pt.framebuffer)})(E,m,d,m.transform.projection.name==="globe"?.5:.25),E.clear({color:n.Color.transparent});const de=m.transform,Ee=de.projection.name==="globe",Te=Ee?["PROJECTION_GLOBE_VIEW"]:null,Re=Ee?n.CullFaceMode.frontCCW:n.CullFaceMode.disabled,We=[n.mercatorXfromLng(de.center.lng),n.mercatorYfromLat(de.center.lat)];for(let Qe=0;Qe<x.length;Qe++){const et=x[Qe];if(a.hasRenderableParent(et))continue;const rt=a.getTile(et),Xe=rt.getBucket(d);if(!Xe||Xe.projection.name!==de.projection.name)continue;const Ze=Xe.programConfigurations.get(d.id),lt=m.useProgram("heatmap",Ze,Te),{zoom:tt}=m.transform;m.terrain&&m.terrain.setupElevationDraw(rt,lt),m.prepareDrawProgram(E,lt,et.toUnwrapped());const pt=de.projection.createInversionMatrix(de,et.canonical);lt.draw(E,A.TRIANGLES,n.DepthMode.disabled,J,ce,Re,Il(m,et,rt,pt,We,tt,d.paint.get("heatmap-intensity")),d.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,d.paint,m.transform.zoom,Ze,Ee?[Xe.globeExtVertexBuffer]:null)}E.viewport.set([0,0,m.width,m.height])}else m.renderPass==="translucent"&&(m.context.setColorMode(m.colorModeForRenderPass()),function(E,A){const J=E.context,ce=J.gl,de=A.heatmapFbo;if(!de)return;J.activeTexture.set(ce.TEXTURE0),ce.bindTexture(ce.TEXTURE_2D,de.colorAttachment.get()),J.activeTexture.set(ce.TEXTURE1);let Ee=A.colorRampTexture;Ee||(Ee=A.colorRampTexture=new n.Texture(J,A.colorRamp,ce.RGBA)),Ee.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),E.useProgram("heatmapTexture").draw(J,ce.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,E.colorModeForRenderPass(),n.CullFaceMode.disabled,((Te,Re,We,Qe)=>({u_image:0,u_color_ramp:1,u_opacity:Re.paint.get("heatmap-opacity")}))(0,A),A.id,E.viewportBuffer,E.quadTriangleIndexBuffer,E.viewportSegments,A.paint,E.transform.zoom)}(m,d))},line:function(m,a,d,x){if(m.renderPass!=="translucent")return;const E=d.paint.get("line-opacity"),A=d.paint.get("line-width");if(E.constantOr(1)===0||A.constantOr(1)===0)return;const J=m.depthModeForSublayer(0,n.DepthMode.ReadOnly),ce=m.colorModeForRenderPass(),de=m.terrain&&m.terrain.renderingToTexture?1:n.exported.devicePixelRatio,Ee=d.paint.get("line-dasharray"),Te=Ee.constantOr(1),Re=d.layout.get("line-cap"),We=d.paint.get("line-pattern"),Qe=We.constantOr(1),et=d.paint.get("line-gradient"),rt=Qe?"linePattern":"line",Xe=m.context,Ze=Xe.gl,lt=(pt=>{const wt=[];Th(pt)&&wt.push("RENDER_LINE_DASH"),pt.paint.get("line-gradient")&&wt.push("RENDER_LINE_GRADIENT");const mt=pt.paint.get("line-trim-offset");mt[0]===0&&mt[1]===0||wt.push("RENDER_LINE_TRIM_OFFSET");const At=pt.paint.get("line-pattern").constantOr(1),$t=pt.paint.get("line-opacity").constantOr(1)!==1;return!At&&$t&&wt.push("RENDER_LINE_ALPHA_DISCARD"),wt})(d);let tt=lt.includes("RENDER_LINE_ALPHA_DISCARD");m.terrain&&m.terrain.clipOrMaskOverlapStencilType()&&(tt=!1);for(const pt of x){const wt=a.getTile(pt);if(Qe&&!wt.patternsLoaded())continue;const mt=wt.getBucket(d);if(!mt)continue;m.prepareDrawTile();const At=mt.programConfigurations.get(d.id),$t=m.useProgram(rt,At,lt),Ft=We.constantOr(null);if(Ft&&wt.imageAtlas){const di=wt.imageAtlas.patternPositions[Ft.toString()];di&&At.setConstantPatternPositions(di)}const Pt=Ee.constantOr(null),pi=Re.constantOr(null);if(!Qe&&Pt&&pi&&wt.lineAtlas){const di=wt.lineAtlas.getDash(Pt,pi);di&&At.setConstantPatternPositions(di)}let[Bt,si]=d.paint.get("line-trim-offset");(pi==="round"||pi==="square")&&Bt!==si&&(Bt===0&&(Bt-=1),si===1&&(si+=1));const Yt=m.terrain?pt.projMatrix:null,xi=Qe?ma(m,wt,d,Yt,de):ad(m,wt,d,Yt,mt.lineClipsArray.length,de,[Bt,si]);if(et){const di=mt.gradients[d.id];let wi=di.texture;if(d.gradientVersion!==di.version){let Ot=256;if(d.stepInterpolant){const Xt=a.getSource().maxzoom,Vi=pt.canonical.z===Xt?Math.ceil(1<<m.transform.maxZoom-pt.canonical.z):1;Ot=n.clamp(n.nextPowerOfTwo(mt.maxLineLength/n.EXTENT*1024*Vi),256,Xe.maxTextureSize)}di.gradient=n.renderColorRamp({expression:d.gradientExpression(),evaluationKey:"lineProgress",resolution:Ot,image:di.gradient||void 0,clips:mt.lineClipsArray}),di.texture?di.texture.update(di.gradient):di.texture=new n.Texture(Xe,di.gradient,Ze.RGBA),di.version=d.gradientVersion,wi=di.texture}Xe.activeTexture.set(Ze.TEXTURE1),wi.bind(d.stepInterpolant?Ze.NEAREST:Ze.LINEAR,Ze.CLAMP_TO_EDGE)}Te&&(Xe.activeTexture.set(Ze.TEXTURE0),wt.lineAtlasTexture.bind(Ze.LINEAR,Ze.REPEAT),At.updatePaintBuffers()),Qe&&(Xe.activeTexture.set(Ze.TEXTURE0),wt.imageAtlasTexture.bind(Ze.LINEAR,Ze.CLAMP_TO_EDGE),At.updatePaintBuffers()),m.prepareDrawProgram(Xe,$t,pt.toUnwrapped());const qt=di=>{$t.draw(Xe,Ze.TRIANGLES,J,di,ce,n.CullFaceMode.disabled,xi,d.id,mt.layoutVertexBuffer,mt.indexBuffer,mt.segments,d.paint,m.transform.zoom,At,[mt.layoutVertexBuffer2])};if(tt){const di=m.stencilModeForClipping(pt).ref;di===0&&m.terrain&&Xe.clear({stencil:0});const wi={func:Ze.EQUAL,mask:255};xi.u_alpha_discard_threshold=.8,qt(new n.StencilMode(wi,di,255,Ze.KEEP,Ze.KEEP,Ze.INVERT)),xi.u_alpha_discard_threshold=0,qt(new n.StencilMode(wi,di,255,Ze.KEEP,Ze.KEEP,Ze.KEEP))}else qt(m.stencilModeForClipping(pt))}tt&&(m.resetStencilClippingMasks(),m.terrain&&Xe.clear({stencil:0}))},fill:function(m,a,d,x){const E=d.paint.get("fill-color"),A=d.paint.get("fill-opacity");if(A.constantOr(1)===0)return;const J=m.colorModeForRenderPass(),ce=d.paint.get("fill-pattern"),de=m.opaquePassEnabledForLayer()&&!ce.constantOr(1)&&E.constantOr(n.Color.transparent).a===1&&A.constantOr(0)===1?"opaque":"translucent";if(m.renderPass===de){const Ee=m.depthModeForSublayer(1,m.renderPass==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly);ci(m,a,d,x,Ee,J,!1)}if(m.renderPass==="translucent"&&d.paint.get("fill-antialias")){const Ee=m.depthModeForSublayer(d.getPaintProperty("fill-outline-color")?2:0,n.DepthMode.ReadOnly);ci(m,a,d,x,Ee,J,!0)}},"fill-extrusion":function(m,a,d,x){const E=d.paint.get("fill-extrusion-opacity");if(E!==0&&m.renderPass==="translucent"){const A=new n.DepthMode(m.context.gl.LEQUAL,n.DepthMode.ReadWrite,m.depthRangeFor3D);if(E!==1||d.paint.get("fill-extrusion-pattern").constantOr(1))ti(m,a,d,x,A,n.StencilMode.disabled,n.ColorMode.disabled),ti(m,a,d,x,A,m.stencilModeFor3D(),m.colorModeForRenderPass()),m.resetStencilClippingMasks();else{const J=m.colorModeForRenderPass();ti(m,a,d,x,A,n.StencilMode.disabled,J)}}},hillshade:function(m,a,d,x){if(m.renderPass!=="offscreen"&&m.renderPass!=="translucent")return;const E=m.context,A=m.depthModeForSublayer(0,n.DepthMode.ReadOnly),J=m.colorModeForRenderPass(),ce=m.terrain&&m.terrain.renderingToTexture,[de,Ee]=m.renderPass!=="translucent"||ce?[{},x]:m.stencilConfigForOverlap(x);for(const Te of Ee){const Re=a.getTile(Te);if(Re.needsHillshadePrepare&&m.renderPass==="offscreen")Gn(m,Re,d,A,n.StencilMode.disabled,J);else if(m.renderPass==="translucent"){const We=ce&&m.terrain?m.terrain.stencilModeForRTTOverlap(Te):de[Te.overscaledZ];qr(m,Te,Re,d,A,We,J)}}E.viewport.set([0,0,m.width,m.height]),m.resetStencilClippingMasks()},raster:function(m,a,d,x,E,A){if(m.renderPass!=="translucent"||d.paint.get("raster-opacity")===0||!x.length)return;const J=m.context,ce=J.gl,de=a.getSource(),Ee=m.useProgram("raster"),Te=m.colorModeForRenderPass(),Re=m.terrain&&m.terrain.renderingToTexture,[We,Qe]=de instanceof St||Re?[{},x]:m.stencilConfigForOverlap(x),et=Qe[Qe.length-1].overscaledZ,rt=!m.options.moving;for(const Xe of Qe){const Ze=Re?n.DepthMode.disabled:m.depthModeForSublayer(Xe.overscaledZ-et,d.paint.get("raster-opacity")===1?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly,ce.LESS),lt=Xe.toUnwrapped(),tt=a.getTile(Xe);if(Re&&(!tt||!tt.hasData()))continue;const pt=Re?Xe.projMatrix:m.transform.calculateProjMatrix(lt,rt),wt=m.terrain&&Re?m.terrain.stencilModeForRTTOverlap(Xe):We[Xe.overscaledZ],mt=A?0:d.paint.get("raster-fade-duration");tt.registerFadeDuration(mt);const At=a.findLoadedParent(Xe,0),$t=bo(tt,At,a,m.transform,mt);let Ft,Pt;m.terrain&&m.terrain.prepareDrawTile();const pi=d.paint.get("raster-resampling")==="nearest"?ce.NEAREST:ce.LINEAR;J.activeTexture.set(ce.TEXTURE0),tt.texture.bind(pi,ce.CLAMP_TO_EDGE),J.activeTexture.set(ce.TEXTURE1),At?(At.texture.bind(pi,ce.CLAMP_TO_EDGE),Ft=Math.pow(2,At.tileID.overscaledZ-tt.tileID.overscaledZ),Pt=[tt.tileID.canonical.x*Ft%1,tt.tileID.canonical.y*Ft%1]):tt.texture.bind(pi,ce.CLAMP_TO_EDGE);const Bt=gc(pt,Pt||[0,0],Ft||1,$t,d,de instanceof St?de.perspectiveTransform:[0,0]);if(m.prepareDrawProgram(J,Ee,lt),de instanceof St)de.boundsBuffer&&de.boundsSegments&&Ee.draw(J,ce.TRIANGLES,Ze,n.StencilMode.disabled,Te,n.CullFaceMode.disabled,Bt,d.id,de.boundsBuffer,m.quadTriangleIndexBuffer,de.boundsSegments);else{const{tileBoundsBuffer:si,tileBoundsIndexBuffer:Yt,tileBoundsSegments:xi}=m.getTileBoundsBuffers(tt);Ee.draw(J,ce.TRIANGLES,Ze,wt,Te,n.CullFaceMode.disabled,Bt,d.id,si,Yt,xi)}}m.resetStencilClippingMasks()},background:function(m,a,d,x){const E=d.paint.get("background-color"),A=d.paint.get("background-opacity");if(A===0)return;const J=m.context,ce=J.gl,de=m.transform,Ee=de.tileSize,Te=d.paint.get("background-pattern");if(m.isPatternMissing(Te))return;const Re=!Te&&E.a===1&&A===1&&m.opaquePassEnabledForLayer()?"opaque":"translucent";if(m.renderPass!==Re)return;const We=n.StencilMode.disabled,Qe=m.depthModeForSublayer(0,Re==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly),et=m.colorModeForRenderPass(),rt=m.useProgram(Te?"backgroundPattern":"background");let Xe,Ze=x;Ze||(Xe=m.getBackgroundTiles(),Ze=Object.values(Xe).map(lt=>lt.tileID)),Te&&(J.activeTexture.set(ce.TEXTURE0),m.imageManager.bind(m.context));for(const lt of Ze){const tt=lt.toUnwrapped(),pt=x?lt.projMatrix:m.transform.calculateProjMatrix(tt);m.prepareDrawTile();const wt=a?a.getTile(lt):Xe?Xe[lt.key]:new n.Tile(lt,Ee,de.zoom,m),mt=Te?nr(pt,A,m,Te,{tileID:lt,tileSize:Ee}):fp(pt,A,E);m.prepareDrawProgram(J,rt,tt);const{tileBoundsBuffer:At,tileBoundsIndexBuffer:$t,tileBoundsSegments:Ft}=m.getTileBoundsBuffers(wt);rt.draw(J,ce.TRIANGLES,Qe,We,et,n.CullFaceMode.disabled,mt,d.id,At,$t,Ft)}},sky:function(m,a,d){const x=m.transform,E=x.projection.name==="mercator"||x.projection.name==="globe"?1:n.smoothstep(7,8,x.zoom),A=d.paint.get("sky-opacity")*E;if(A===0)return;const J=m.context,ce=d.paint.get("sky-type"),de=new n.DepthMode(J.gl.LEQUAL,n.DepthMode.ReadOnly,[0,1]),Ee=m.frameCounter/1e3%1;ce==="atmosphere"?m.renderPass==="offscreen"?d.needsSkyboxCapture(m)&&(function(Te,Re,We,Qe){const et=Te.context,rt=et.gl;let Xe=Re.skyboxFbo;if(!Xe){Xe=Re.skyboxFbo=et.createFramebuffer(32,32,!1),Re.skyboxGeometry=new Qt(et),Re.skyboxTexture=et.gl.createTexture(),rt.bindTexture(rt.TEXTURE_CUBE_MAP,Re.skyboxTexture),rt.texParameteri(rt.TEXTURE_CUBE_MAP,rt.TEXTURE_WRAP_S,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_CUBE_MAP,rt.TEXTURE_WRAP_T,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_CUBE_MAP,rt.TEXTURE_MIN_FILTER,rt.LINEAR),rt.texParameteri(rt.TEXTURE_CUBE_MAP,rt.TEXTURE_MAG_FILTER,rt.LINEAR);for(let pt=0;pt<6;++pt)rt.texImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,rt.RGBA,32,32,0,rt.RGBA,rt.UNSIGNED_BYTE,null)}et.bindFramebuffer.set(Xe.framebuffer),et.viewport.set([0,0,32,32]);const Ze=Re.getCenter(Te,!0),lt=Te.useProgram("skyboxCapture"),tt=new Float64Array(16);n.identity(tt),n.rotateY(tt,tt,.5*-Math.PI),Si(et,Re,lt,tt,Ze,0),n.identity(tt),n.rotateY(tt,tt,.5*Math.PI),Si(et,Re,lt,tt,Ze,1),n.identity(tt),n.rotateX(tt,tt,.5*-Math.PI),Si(et,Re,lt,tt,Ze,2),n.identity(tt),n.rotateX(tt,tt,.5*Math.PI),Si(et,Re,lt,tt,Ze,3),n.identity(tt),Si(et,Re,lt,tt,Ze,4),n.identity(tt),n.rotateY(tt,tt,Math.PI),Si(et,Re,lt,tt,Ze,5),et.viewport.set([0,0,Te.width,Te.height])}(m,d),d.markSkyboxValid(m)):m.renderPass==="sky"&&function(Te,Re,We,Qe,et){const rt=Te.context,Xe=rt.gl,Ze=Te.transform,lt=Te.useProgram("skybox");rt.activeTexture.set(Xe.TEXTURE0),Xe.bindTexture(Xe.TEXTURE_CUBE_MAP,Re.skyboxTexture);const tt=((pt,wt,mt,At,$t)=>({u_matrix:pt,u_sun_direction:wt,u_cubemap:0,u_opacity:At,u_temporal_offset:$t}))(Ze.skyboxMatrix,Re.getCenter(Te,!1),0,Qe,et);Te.prepareDrawProgram(rt,lt),lt.draw(rt,Xe.TRIANGLES,We,n.StencilMode.disabled,Te.colorModeForRenderPass(),n.CullFaceMode.backCW,tt,"skybox",Re.skyboxGeometry.vertexBuffer,Re.skyboxGeometry.indexBuffer,Re.skyboxGeometry.segment)}(m,d,de,A,Ee):ce==="gradient"&&m.renderPass==="sky"&&function(Te,Re,We,Qe,et){const rt=Te.context,Xe=rt.gl,Ze=Te.transform,lt=Te.useProgram("skyboxGradient");Re.skyboxGeometry||(Re.skyboxGeometry=new Qt(rt)),rt.activeTexture.set(Xe.TEXTURE0);let tt=Re.colorRampTexture;tt||(tt=Re.colorRampTexture=new n.Texture(rt,Re.colorRamp,Xe.RGBA)),tt.bind(Xe.LINEAR,Xe.CLAMP_TO_EDGE);const pt=((wt,mt,At,$t,Ft)=>({u_matrix:wt,u_color_ramp:0,u_center_direction:mt,u_radius:n.degToRad(At),u_opacity:$t,u_temporal_offset:Ft}))(Ze.skyboxMatrix,Re.getCenter(Te,!1),Re.paint.get("sky-gradient-radius"),Qe,et);Te.prepareDrawProgram(rt,lt),lt.draw(rt,Xe.TRIANGLES,We,n.StencilMode.disabled,Te.colorModeForRenderPass(),n.CullFaceMode.backCW,pt,"skyboxGradient",Re.skyboxGeometry.vertexBuffer,Re.skyboxGeometry.indexBuffer,Re.skyboxGeometry.segment)}(m,d,de,A,Ee)},debug:function(m,a,d){for(let x=0;x<d.length;x++)Sh(m,a,d[x])},custom:function(m,a,d){const x=m.context,E=d.implementation;if(m.transform.projection.unsupportedLayers&&m.transform.projection.unsupportedLayers.includes("custom"))n.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(m.renderPass==="offscreen"){const A=E.prerender;A&&(m.setCustomLayerDefaults(),x.setColorMode(m.colorModeForRenderPass()),A.call(E,x.gl,m.transform.customLayerMatrix()),x.setDirty(),m.setBaseState())}else if(m.renderPass==="translucent"){m.setCustomLayerDefaults(),x.setColorMode(m.colorModeForRenderPass()),x.setStencilMode(n.StencilMode.disabled);const A=E.renderingMode==="3d"?new n.DepthMode(m.context.gl.LEQUAL,n.DepthMode.ReadWrite,m.depthRangeFor3D):m.depthModeForSublayer(0,n.DepthMode.ReadOnly);x.setDepthMode(A),E.render(x.gl,m.transform.customLayerMatrix()),x.setDirty(),m.setBaseState(),x.bindFramebuffer.set(null)}}};class yn{constructor(a,d){this.context=new Oe(a),this.transform=d,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=n.SourceCache.maxUnderzooming+n.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ta,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(a,d){const x=!!a&&!!a.terrain&&this.transform.projection.supportsTerrain;if(!(x||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new lo(this,a));const E=this._terrain;this.transform.elevation=x?E:null,E.update(a,this.transform,d)}_updateFog(a){const d=a.fog;if(!d||this.transform.projection.name==="globe"||d.getOpacity(this.transform.pitch)<1||d.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[x,E]=d.getFovAdjustedRange(this.transform._fov);if(x>E)return void(this.transform.fogCullDistSq=null);const A=x+.78*(E-x);this.transform.fogCullDistSq=A*A}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(a,d){if(this.width=a*n.exported.devicePixelRatio,this.height=d*n.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const x of this.style.order)this.style._layers[x].resize()}setup(){const a=this.context,d=new n.StructArrayLayout2i4;d.emplaceBack(0,0),d.emplaceBack(n.EXTENT,0),d.emplaceBack(0,n.EXTENT),d.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=a.createVertexBuffer(d,n.posAttributes.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);const x=new n.StructArrayLayout2i4;x.emplaceBack(0,0),x.emplaceBack(n.EXTENT,0),x.emplaceBack(0,n.EXTENT),x.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=a.createVertexBuffer(x,n.posAttributes.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);const E=new n.StructArrayLayout2i4;E.emplaceBack(-1,-1),E.emplaceBack(1,-1),E.emplaceBack(-1,1),E.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(E,n.posAttributes.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);const A=new n.StructArrayLayout4i8;A.emplaceBack(0,0,0,0),A.emplaceBack(n.EXTENT,0,n.EXTENT,0),A.emplaceBack(0,n.EXTENT,0,n.EXTENT),A.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.mercatorBoundsBuffer=a.createVertexBuffer(A,n.boundsAttributes.members),this.mercatorBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);const J=new n.StructArrayLayout3ui6;J.emplaceBack(0,1,2),J.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(J);const ce=new n.StructArrayLayout1ui2;for(const Ee of[0,1,3,2,0])ce.emplaceBack(Ee);this.debugIndexBuffer=a.createIndexBuffer(ce),this.emptyTexture=new n.Texture(a,new n.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),a.gl.RGBA),this.identityMat=n.create();const de=this.context.gl;this.stencilClearMode=new n.StencilMode({func:de.ALWAYS,mask:0},0,255,de.ZERO,de.ZERO,de.ZERO),this.loadTimeStamps.push(n.window.performance.now()),this.atmosphereBuffer=new bi(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(a){return a._makeTileBoundsBuffers(this.context,this.transform.projection),a._tileBoundsBuffer?{tileBoundsBuffer:a._tileBoundsBuffer,tileBoundsIndexBuffer:a._tileBoundsIndexBuffer,tileBoundsSegments:a._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const a=this.context,d=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(a,d.TRIANGLES,n.DepthMode.disabled,this.stencilClearMode,n.ColorMode.disabled,n.CullFaceMode.disabled,Ls(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(a,d,x){if(!d||this.currentStencilSource===d.id||!a.isTileClipped()||!x||x.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let ce=!1;for(const de of x)if(this._tileClippingMaskIDs[de.key]===void 0){ce=!0;break}if(!ce)return}this.currentStencilSource=d.id;const E=this.context,A=E.gl;this.nextStencilID+x.length>256&&this.clearStencil(),E.setColorMode(n.ColorMode.disabled),E.setDepthMode(n.DepthMode.disabled);const J=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const ce of x){const de=d.getTile(ce),Ee=this._tileClippingMaskIDs[ce.key]=this.nextStencilID++,{tileBoundsBuffer:Te,tileBoundsIndexBuffer:Re,tileBoundsSegments:We}=this.getTileBoundsBuffers(de);J.draw(E,A.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:A.ALWAYS,mask:0},Ee,255,A.KEEP,A.KEEP,A.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,Ls(ce.projMatrix),"$clipping",Te,Re,We)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,d=this.context.gl;return new n.StencilMode({func:d.NOTEQUAL,mask:255},a,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(a){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(a);const d=this.context.gl;return new n.StencilMode({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(a){const d=this.context.gl,x=a.sort((J,ce)=>ce.overscaledZ-J.overscaledZ),E=x[x.length-1].overscaledZ,A=x[0].overscaledZ-E+1;if(A>1){this.currentStencilSource=void 0,this.nextStencilID+A>256&&this.clearStencil();const J={};for(let ce=0;ce<A;ce++)J[ce+E]=new n.StencilMode({func:d.GEQUAL,mask:255},ce+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=A,[J,x]}return[{[E]:n.StencilMode.disabled},x]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new n.ColorMode([a.CONSTANT_COLOR,a.ONE],new n.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?n.ColorMode.unblended:n.ColorMode.alphaBlended}depthModeForSublayer(a,d,x){if(!this.opaquePassEnabledForLayer())return n.DepthMode.disabled;const E=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new n.DepthMode(x||this.context.gl.LEQUAL,d,[E,E])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,d){this.style=a,this.options=d,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(n.exported.now()),this.imageManager.beginFrame();const x=this.style.order,E=this.style._sourceCaches;for(const de in E){const Ee=E[de];Ee.used&&Ee.prepare(this.context)}const A={},J={},ce={};for(const de in E){const Ee=E[de];A[de]=Ee.getVisibleCoordinates(),J[de]=A[de].slice().reverse(),ce[de]=Ee.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let de=0;de<x.length;de++)if(this.style._layers[x[de]].is3D()){this.opaquePassCutoff=de;break}if(this.terrain&&(this.terrain.updateTileBinding(ce),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new n.GlobeSharedBuffers(this.context)),n.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const de of x){const Ee=this.style._layers[de],Te=a._getLayerSourceCache(Ee);if(!Ee.hasOffscreenPass()||Ee.isHidden(this.transform.zoom))continue;const Re=Te?J[Te.id]:void 0;(Ee.type==="custom"||Ee.isSky()||Re&&Re.length)&&this.renderLayer(this,Te,Ee,Re)}if(this.depthRangeFor3D=[0,1-(a.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:d.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=x.length-1;this.currentLayer>=0;this.currentLayer--){const de=this.style._layers[x[this.currentLayer]],Ee=a._getLayerSourceCache(de);if(de.isSky())continue;const Te=Ee?J[Ee.id]:void 0;this._renderTileClippingMasks(de,Ee,Te),this.renderLayer(this,Ee,de,Te)}if(this.style.fog&&this.transform.projection.supportsFog&&function(de,Ee){const Te=de.context,Re=Te.gl,We=de.transform,Qe=new n.DepthMode(Re.LEQUAL,n.DepthMode.ReadOnly,[0,1]),et=de.useProgram("globeAtmosphere",null,We.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),rt=n.globeToMercatorTransition(We.zoom),Xe=Ee.properties.get("color").toArray01(),Ze=Ee.properties.get("high-color").toArray01(),lt=Ee.properties.get("space-color").toArray01PremultipliedAlpha(),tt=n.identity$1([]);n.rotateY$1(tt,tt,-n.degToRad(We._center.lng)),n.rotateX$1(tt,tt,n.degToRad(We._center.lat)),n.rotateZ$1(tt,tt,We.angle),n.rotateX$1(tt,tt,-We._pitch);const pt=n.fromQuat(new Float32Array(16),tt),wt=n.mapValue(Ee.properties.get("star-intensity"),0,1,0,.25),mt=5e-4,At=n.mapValue(Ee.properties.get("horizon-blend"),0,1,mt,.25),$t=n.globeUseCustomAntiAliasing(de,Te,We)&&At===mt?We.worldSize/(2*Math.PI*1.025)-1:We.globeRadius,Ft=de.frameCounter/1e3%1,Pt=n.length(We.globeCenterInViewSpace),pi=Math.sqrt(Math.pow(Pt,2)-Math.pow($t,2)),Bt=Math.acos(pi/Pt),si=((xi,qt,di,wi,Ot,Xt,Vi,Qi,Wi,dn,Rn,tn,Ui,br)=>({u_frustum_tl:xi,u_frustum_tr:qt,u_frustum_br:di,u_frustum_bl:wi,u_horizon:Ot,u_transition:Xt,u_fadeout_range:Vi,u_color:Qi,u_high_color:Wi,u_space_color:dn,u_star_intensity:Rn,u_star_size:5*n.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:tn,u_horizon_angle:Ui,u_rotation_matrix:br}))(We.frustumCorners.TL,We.frustumCorners.TR,We.frustumCorners.BR,We.frustumCorners.BL,We.frustumCorners.horizon,rt,At,Xe,Ze,lt,wt,Ft,Bt,pt);de.prepareDrawProgram(Te,et);const Yt=de.atmosphereBuffer;Yt&&et.draw(Te,Re.TRIANGLES,Qe,n.StencilMode.disabled,n.ColorMode.alphaBlended,n.CullFaceMode.backCW,si,"skybox",Yt.vertexBuffer,Yt.indexBuffer,Yt.segments)}(this,this.style.fog),this.renderPass="sky",(n.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<x.length;this.currentLayer++){const de=this.style._layers[x[this.currentLayer]],Ee=a._getLayerSourceCache(de);de.isSky()&&this.renderLayer(this,Ee,de,Ee?J[Ee.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<x.length;){const de=this.style._layers[x[this.currentLayer]],Ee=a._getLayerSourceCache(de);if(de.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(de)){if(de.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Te=Ee?(de.type==="symbol"?ce:J)[Ee.id]:void 0;this._renderTileClippingMasks(de,Ee,Ee?A[Ee.id]:void 0),this.renderLayer(this,Ee,de,Te),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let de=null;n.values(this.style._layers).forEach(Ee=>{const Te=a._getLayerSourceCache(Ee);Te&&!Ee.isHidden(this.transform.zoom)&&(!de||de.getSource().maxzoom<Te.getSource().maxzoom)&&(de=Te)}),de&&this.options.showTileBoundaries&&un.debug(this,de,de.getVisibleCoordinates())}this.options.showPadding&&function(de){const Ee=de.transform.padding;ho(de,de.transform.height-(Ee.top||0),3,Dn),ho(de,Ee.bottom||0,3,ar),Ke(de,Ee.left||0,3,cs),Ke(de,de.transform.width-(Ee.right||0),3,pr);const Te=de.transform.centerPoint;(function(Re,We,Qe,et){xt(Re,We-1,Qe-10,2,20,et),xt(Re,We-10,Qe-1,20,2,et)})(de,Te.x,de.transform.height-Te.y,_c)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(n.window.performance.now()),this.saveCanvasCopy())}}renderLayer(a,d,x,E){x.isHidden(this.transform.zoom)||(x.type==="background"||x.type==="sky"||x.type==="custom"||E&&E.length)&&(this.id=x.id,this.gpuTimingStart(x),a.transform.projection.unsupportedLayers&&a.transform.projection.unsupportedLayers.includes(x.type)||un[x.type](a,d,x,E,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(a){if(!this.options.gpuTiming)return;const d=this.context.extTimerQuery;let x=this.gpuTimers[a.id];x||(x=this.gpuTimers[a.id]={calls:0,cpuTime:0,query:d.createQueryEXT()}),x.calls++,d.beginQueryEXT(d.TIME_ELAPSED_EXT,x.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const a=this.context.extTimerQuery,d=a.createQueryEXT();this.deferredRenderGpuTimeQueries.push(d),a.beginQueryEXT(a.TIME_ELAPSED_EXT,d)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}collectGpuTimers(){const a=this.gpuTimers;return this.gpuTimers={},a}collectDeferredRenderGpuQueries(){const a=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],a}queryGpuTimers(a){const d={};for(const x in a){const E=a[x],A=this.context.extTimerQuery,J=A.getQueryObjectEXT(E.query,A.QUERY_RESULT_EXT)/1e6;A.deleteQueryEXT(E.query),d[x]=J}return d}queryGpuTimeDeferredRender(a){if(!this.options.gpuTimingDeferredRender)return 0;const d=this.context.extTimerQuery;let x=0;for(const E of a)x+=d.getQueryObjectEXT(E,d.QUERY_RESULT_EXT)/1e6,d.deleteQueryEXT(E);return x}translatePosMatrix(a,d,x,E,A){if(!x[0]&&!x[1])return a;const J=A?E==="map"?this.transform.angle:0:E==="viewport"?-this.transform.angle:0;if(J){const Ee=Math.sin(J),Te=Math.cos(J);x=[x[0]*Te-x[1]*Ee,x[0]*Ee+x[1]*Te]}const ce=[A?x[0]:W(d,x[0],this.transform.zoom),A?x[1]:W(d,x[1],this.transform.zoom),0],de=new Float32Array(16);return n.translate(de,a,ce),de}saveTileTexture(a){const d=this._tileTextures[a.size[0]];d?d.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const d=this._tileTextures[a];return d&&d.length>0?d.pop():null}isPatternMissing(a){return a===null||a!==void 0&&!this.imageManager.getPattern(a.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const a=this.terrain&&this.terrain.renderingToTexture,d=this.terrain&&this.terrain.exaggeration()===0,x=this.style&&this.style.fog,E=[];return this.terrainRenderModeElevated()&&E.push("TERRAIN"),this.transform.projection.name==="globe"&&E.push("GLOBE"),d&&E.push("ZERO_EXAGGERATION"),x&&!a&&x.getOpacity(this.transform.pitch)!==0&&E.push("FOG"),a&&E.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&E.push("OVERDRAW_INSPECTOR"),E}useProgram(a,d,x){this.cache=this.cache||{};const E=x||[],A=this.currentGlobalDefines().concat(E),J=jo.cacheKey(Kt[a],a,A,d);return this.cache[J]||(this.cache[J]=new jo(this.context,a,Kt[a],d,co[a],A)),this.cache[J]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(a,d,x){if(this.terrain&&this.terrain.renderingToTexture)return;const E=this.style.fog;if(E){const A=E.getOpacity(this.transform.pitch),J=((ce,de,Ee,Te,Re,We,Qe,et,rt,Xe,Ze)=>{const lt=ce.transform,tt=de.properties.get("color").toArray01();tt[3]=Te;const pt=ce.frameCounter/1e3%1;return{u_fog_matrix:Ee?lt.calculateFogTileMatrix(Ee):ce.identityMat,u_fog_range:de.getFovAdjustedRange(lt._fov),u_fog_color:tt,u_fog_horizon_blend:de.properties.get("horizon-blend"),u_fog_temporal_offset:pt,u_frustum_tl:Re,u_frustum_tr:We,u_frustum_br:Qe,u_frustum_bl:et,u_globe_pos:rt,u_globe_radius:Xe,u_viewport:Ze,u_globe_transition:n.globeToMercatorTransition(lt.zoom),u_is_globe:+(lt.projection.name==="globe")}})(this,E,x,A,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*n.exported.devicePixelRatio,this.transform.height*n.exported.devicePixelRatio]);d.setFogUniformValues(a,J)}}setTileLoadedFlag(a){this.tileLoaded=a}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const a=this.context.gl,d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.copyTexImage2D(a.TEXTURE_2D,0,a.RGBA,0,0,a.drawingBufferWidth,a.drawingBufferHeight,0),d}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const a=this.style&&this.style.fog;return!!a&&a.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const a=this._backgroundTiles,d=this._backgroundTiles={},x=this.transform.coveringTiles({tileSize:512});for(const E of x)d[E.key]=a[E.key]||new n.Tile(E,512,this.transform.tileZoom,this);return d}clearBackgroundTiles(){this._backgroundTiles={}}}class vn{constructor(a=0,d=0,x=0,E=0){if(isNaN(a)||a<0||isNaN(d)||d<0||isNaN(x)||x<0||isNaN(E)||E<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=d,this.left=x,this.right=E}interpolate(a,d,x){return d.top!=null&&a.top!=null&&(this.top=n.number(a.top,d.top,x)),d.bottom!=null&&a.bottom!=null&&(this.bottom=n.number(a.bottom,d.bottom,x)),d.left!=null&&a.left!=null&&(this.left=n.number(a.left,d.left,x)),d.right!=null&&a.right!=null&&(this.right=n.number(a.right,d.right,x)),this}getCenter(a,d){const x=n.clamp((this.left+a-this.right)/2,0,a),E=n.clamp((this.top+d-this.bottom)/2,0,d);return new n.pointGeometry(x,E)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new vn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function On(m,a){const d=n.getColumn(m,3);n.fromQuat(m,a),n.setColumn(m,3,d)}function Kn(m,a){const d=n.identity$1([]);return n.rotateZ$1(d,d,-a),n.rotateX$1(d,d,-m),d}function pn(m,a){const d=[m[0],m[1],0],x=[a[0],a[1],0];if(n.length(d)>=1e-15){const J=n.normalize([],d);n.scale$2(x,J,n.dot(x,J)),a[0]=x[0],a[1]=x[1]}const E=n.cross([],a,m);if(n.len(E)<1e-15)return null;const A=Math.atan2(-E[1],E[0]);return Kn(Math.atan2(Math.sqrt(m[0]*m[0]+m[1]*m[1]),-m[2]),A)}class ss{constructor(a,d){this.position=a,this.orientation=d}get position(){return this._position}set position(a){if(a){const d=a instanceof n.MercatorCoordinate?a:new n.MercatorCoordinate(a[0],a[1],a[2]);this._renderWorldCopies&&(d.x=n.wrap(d.x,0,1)),this._position=d}else this._position=null}lookAtPoint(a,d){if(this.orientation=null,!this.position)return;const x=this._elevation?this._elevation.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(a)):0,E=this.position,A=n.MercatorCoordinate.fromLngLat(a,x),J=[A.x-E.x,A.y-E.y,A.z-E.z];d||(d=[0,0,1]),d[2]=Math.abs(d[2]),this.orientation=pn(J,d)}setPitchBearing(a,d){this.orientation=Kn(n.degToRad(a),n.degToRad(-d))}}class hs{constructor(a,d){this._transform=n.identity([]),this.orientation=d,this.position=a}get mercatorPosition(){const a=this.position;return new n.MercatorCoordinate(a[0],a[1],a[2])}get position(){const a=n.getColumn(this._transform,3);return[a[0],a[1],a[2]]}set position(a){var d;a&&n.setColumn(this._transform,3,[(d=a)[0],d[1],d[2],1])}get orientation(){return this._orientation}set orientation(a){this._orientation=a||n.identity$1([]),a&&On(this._transform,this._orientation)}getPitchBearing(){const a=this.forward(),d=this.right();return{bearing:Math.atan2(-d[1],d[0]),pitch:Math.atan2(Math.sqrt(a[0]*a[0]+a[1]*a[1]),-a[2])}}setPitchBearing(a,d){this._orientation=Kn(a,d),On(this._transform,this._orientation)}forward(){const a=n.getColumn(this._transform,2);return[-a[0],-a[1],-a[2]]}up(){const a=n.getColumn(this._transform,1);return[-a[0],-a[1],-a[2]]}right(){const a=n.getColumn(this._transform,0);return[a[0],a[1],a[2]]}getCameraToWorld(a,d){const x=new Float64Array(16);return n.invert(x,this.getWorldToCamera(a,d)),x}getWorldToCameraPosition(a,d,x){const E=this.position;n.scale$2(E,E,-a);const A=new Float64Array(16);return n.fromScaling(A,[x,x,x]),n.translate(A,A,E),A[10]*=d,A}getWorldToCamera(a,d){const x=new Float64Array(16),E=new Float64Array(4),A=this.position;return n.conjugate(E,this._orientation),n.scale$2(A,A,-a),n.fromQuat(x,E),n.translate(x,x,A),x[1]*=-1,x[5]*=-1,x[9]*=-1,x[13]*=-1,x[8]*=d,x[9]*=d,x[10]*=d,x[11]*=d,x}getCameraToClipPerspective(a,d,x,E){const A=new Float64Array(16);return n.perspective(A,a,d,x,E),A}getDistanceToElevation(a,d=!1){const x=a===0?0:n.mercatorZfromAltitude(a,d?n.latFromMercatorY(this.position[1]):this.position[1]),E=this.forward();return(x-this.position[2])/E[2]}clone(){return new hs([...this.position],[...this.orientation])}}function Vs(m,a){const d=to(m.projection,m.zoom,m.width,m.height),x=function(A,J,ce,de,Ee){const Te=new n.LngLat(ce.lng-180*So,ce.lat),Re=new n.LngLat(ce.lng+180*So,ce.lat),We=A.project(Te.lng,Te.lat),Qe=A.project(Re.lng,Re.lat),et=-Math.atan2(Qe.y-We.y,Qe.x-We.x),rt=n.MercatorCoordinate.fromLngLat(ce);rt.y=n.clamp(rt.y,-.999975,.999975);const Xe=rt.toLngLat(),Ze=A.project(Xe.lng,Xe.lat),lt=n.MercatorCoordinate.fromLngLat(Xe);lt.x+=So;const tt=lt.toLngLat(),pt=A.project(tt.lng,tt.lat),wt=Rl(pt.x-Ze.x,pt.y-Ze.y,et),mt=n.MercatorCoordinate.fromLngLat(Xe);mt.y+=So;const At=mt.toLngLat(),$t=A.project(At.lng,At.lat),Ft=Rl($t.x-Ze.x,$t.y-Ze.y,et),Pt=Math.abs(wt.x)/Math.abs(Ft.y),pi=n.identity([]);n.rotateZ(pi,pi,-et*(1-(Ee?0:de)));const Bt=n.identity([]);return n.scale(Bt,Bt,[1,1-(1-Pt)*de,1]),Bt[4]=-Ft.x/Ft.y*de,n.rotateZ(Bt,Bt,et),n.multiply(Bt,pi,Bt),Bt}(m.projection,0,m.center,d,a),E=Sr(m);return n.scale(x,x,[E,E,1]),x}function Sr(m){const a=m.projection,d=to(m.projection,m.zoom,m.width,m.height),x=_s(a,m.center),E=_s(a,n.LngLat.convert(a.center));return Math.pow(2,x*d+(1-d)*E)}function to(m,a,d,x,E=1/0){const A=m.range;if(!A)return 0;const J=Math.min(E,Math.max(d,x)),ce=Math.log(J/1024)/Math.LN2;return n.smoothstep(A[0]+ce,A[1]+ce,a)}const So=1/4e4;function _s(m,a){const d=n.clamp(a.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),x=new n.LngLat(a.lng-180*So,d),E=new n.LngLat(a.lng+180*So,d),A=m.project(x.lng,d),J=m.project(E.lng,d),ce=n.MercatorCoordinate.fromLngLat(x),de=n.MercatorCoordinate.fromLngLat(E),Ee=J.x-A.x,Te=J.y-A.y,Re=de.x-ce.x,We=de.y-ce.y,Qe=Math.sqrt((Re*Re+We*We)/(Ee*Ee+Te*Te));return Math.log(Qe)/Math.LN2}function Rl(m,a,d){const x=Math.cos(d),E=Math.sin(d);return{x:m*x-a*E,y:m*E+a*x}}class zl{constructor(a,d,x,E,A,J,ce){this.tileSize=512,this._renderWorldCopies=A===void 0||A,this._minZoom=a||0,this._maxZoom=d||22,this._minPitch=x??0,this._maxPitch=E??60,this.setProjection(J),this.setMaxBounds(ce),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new vn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new hs,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const a=new zl(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return a._elevation=this._elevation,a._centerAltitude=this._centerAltitude,a._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,a.tileSize=this.tileSize,a.mercatorFromTransition=this.mercatorFromTransition,a.width=this.width,a.height=this.height,a.cameraElevationReference=this.cameraElevationReference,a._center=this._center,a._setZoom(this.zoom),a._seaLevelZoom=this._seaLevelZoom,a.angle=this.angle,a._fov=this._fov,a._pitch=this._pitch,a._nearZ=this._nearZ,a._farZ=this._farZ,a._averageElevation=this._averageElevation,a._unmodified=this._unmodified,a._edgeInsets=this._edgeInsets.clone(),a._camera=this._camera.clone(),a._calcMatrices(),a.freezeTileCoverage=this.freezeTileCoverage,a.frustumCorners=this.frustumCorners,a}get elevation(){return this._elevation}set elevation(a){this._elevation!==a&&(this._elevation=a,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(a,d=!1){const x=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||x)&&this._updateCameraOnTerrain(),(a||x)&&this._constrainCamera(d),this._calcMatrices()}getProjection(){return n.pick(this.projection,["name","center","parallels"])}setProjection(a){this.projectionOptions=a||{name:"mercator"};const d=this.projection?this.getProjection():void 0;this.projection=n.getProjection(this.projectionOptions);const x=!w(d,this.getProjection());return x&&this._calcMatrices(),this.mercatorFromTransition=!1,x}setMercatorFromTransition(){const a=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=n.getProjection({name:"mercator"});const d=a!==this.projection.name;return d&&this._calcMatrices(),d}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const a=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get cameraWorldSize(){const a=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return n.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new n.pointGeometry(this.width,this.height)}get bearing(){return n.wrap(this.rotation,-180,180)}set bearing(a){this.rotation=a}get rotation(){return-this.angle/Math.PI*180}set rotation(a){const d=-a*Math.PI/180;var x;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=(x=new n.ARRAY_TYPE(4),n.ARRAY_TYPE!=Float32Array&&(x[1]=0,x[2]=0),x[0]=1,x[3]=1,x),function(E,A,J){var ce=A[0],de=A[1],Ee=A[2],Te=A[3],Re=Math.sin(J),We=Math.cos(J);E[0]=ce*We+Ee*Re,E[1]=de*We+Te*Re,E[2]=ce*-Re+Ee*We,E[3]=de*-Re+Te*We}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const d=n.clamp(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const a=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/a)}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=n.degToRad(a),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(a){this._averageElevation=a,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(a){const d=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._setZoom(d),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(a){this._zoom=a,this.scale=this.zoomScale(a),this.tileZoom=Math.floor(a),this.zoomFraction=a-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const a=this._elevation;this._centerAltitude=a.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=a.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const a=this._elevation,d=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],x=this.horizonLineFromTop();let E=0,A=0;for(let J=0;J<d.length;J++){const ce=new n.pointGeometry(d[J][0]*this.width,x+d[J][1]*(this.height-x)),de=a.pointCoordinate(ce);if(!de)continue;const Ee=1/Math.hypot(de[0]-this._camera.position[0],de[1]-this._camera.position[1]);E+=de[3]*Ee,A+=Ee}return A===0?NaN:E/A}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const a=this._seaLevelZoom,d=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),x=this.pixelsPerMeter/this.worldSize*d,E=this._mercatorZfromZoom(a),A=this._mercatorZfromZoom(this._maxZoom),J=Math.max(E-x,A);this._setZoom(this._zoomFromMercatorZ(J))}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}computeZoomRelativeTo(a){const d=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,a.toAltitude()));let x;x=a.z<this._camera.position[2]?[d.x,d.y,d.z]:[a.x,a.y,a.z];const E=n.length(n.sub([],this._camera.position,x));return n.clamp(this._zoomFromMercatorZ(E),this._minZoom,this._maxZoom)}setFreeCameraOptions(a){if(!this.height||!a.position&&!a.orientation)return;this._updateCameraState();let d=!1;if(a.orientation&&!n.exactEquals(a.orientation,this._camera.orientation)&&(d=this._setCameraOrientation(a.orientation)),a.position){const x=[a.position.x,a.position.y,a.position.z];n.exactEquals$1(x,this._camera.position)||(this._setCameraPosition(x),d=!0)}d&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const a=this._camera.position,d=new ss;return d.position=new n.MercatorCoordinate(a[0],a[1],a[2]),d.orientation=this._camera.orientation,d._elevation=this.elevation,d._renderWorldCopies=this.renderWorldCopies,d}_setCameraOrientation(a){if(!n.length$1(a))return!1;n.normalize$1(a,a);const d=n.transformQuat([],[0,0,-1],a),x=n.transformQuat([],[0,-1,0],a);if(x[2]<0)return!1;const E=pn(d,x);return!!E&&(this._camera.orientation=E,!0)}_setCameraPosition(a){const d=this.zoomScale(this.minZoom)*this.tileSize,x=this.zoomScale(this.maxZoom)*this.tileSize,E=this.cameraToCenterDistance;a[2]=n.clamp(a[2],E/x,E/d),this._camera.position=a}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,d,x){this._unmodified=!1,this._edgeInsets.interpolate(a,d,x),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const d=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(a){const d=[new n.UnwrappedTileID(0,a)];if(this.renderWorldCopies){const x=this.pointCoordinate(new n.pointGeometry(0,0)),E=this.pointCoordinate(new n.pointGeometry(this.width,0)),A=this.pointCoordinate(new n.pointGeometry(this.width,this.height)),J=this.pointCoordinate(new n.pointGeometry(0,this.height)),ce=Math.floor(Math.min(x.x,E.x,A.x,J.x)),de=Math.floor(Math.max(x.x,E.x,A.x,J.x)),Ee=1;for(let Te=ce-Ee;Te<=de+Ee;Te++)Te!==0&&d.push(new n.UnwrappedTileID(Te,a))}return d}coveringTiles(a){let d=this.coveringZoomLevel(a);const x=d,E=this.elevation&&!a.isTerrainDEM,A=this.projection.name==="mercator";if(a.minzoom!==void 0&&d<a.minzoom)return[];a.maxzoom!==void 0&&d>a.maxzoom&&(d=a.maxzoom);const J=this.locationCoordinate(this.center),ce=this.center.lat,de=1<<d,Ee=[de*J.x,de*J.y,0],Te=this.projection.name==="globe",Re=!Te,We=n.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d,Re),Qe=Te?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),et=de*n.mercatorZfromAltitude(1,this.center.lat),rt=this._camera.position[2]/n.mercatorZfromAltitude(1,this.center.lat),Xe=[de*Qe.x,de*Qe.y,rt*(Re?1:et)],Ze=this.cameraToCenterDistance/a.tileSize*(a.roundZoom?1:.502),lt=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?d:0,tt=a.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,pt=a.isTerrainDEM?-tt:this._elevation?this._elevation.getMinElevationBelowMSL():0,wt=this.projection.isReprojectedInTileSpace?Sr(this):1,mt=qt=>{const wi=new n.MercatorCoordinate(qt.x+25e-6,qt.y,qt.z),Ot=new n.MercatorCoordinate(qt.x,qt.y+25e-6,qt.z),Xt=qt.toLngLat(),Vi=wi.toLngLat(),Qi=Ot.toLngLat(),Wi=this.locationCoordinate(Xt),dn=this.locationCoordinate(Vi),Rn=this.locationCoordinate(Qi),tn=Math.hypot(dn.x-Wi.x,dn.y-Wi.y),Ui=Math.hypot(Rn.x-Wi.x,Rn.y-Wi.y);return Math.sqrt(tn*Ui)*wt/25e-6},At=qt=>{const di=tt,wi=pt;return{aabb:n.tileAABB(this,de,0,0,0,qt,wi,di,this.projection),zoom:0,x:0,y:0,minZ:wi,maxZ:di,wrap:qt,fullyVisible:!1}},$t=[];let Ft=[];const Pt=d,pi=a.reparseOverscaled?x:d,Bt=qt=>qt*qt,si=Bt((rt-this._centerAltitude)*et),Yt=qt=>{if(!this._elevation||!qt.tileID||!A)return;const di=this._elevation.getMinMaxForTile(qt.tileID),wi=qt.aabb;di?(wi.min[2]=di.min,wi.max[2]=di.max,wi.center[2]=(wi.min[2]+wi.max[2])/2):(qt.shouldSplit=xi(qt),qt.shouldSplit||(wi.min[2]=wi.max[2]=wi.center[2]=this._centerAltitude))},xi=qt=>{if(qt.zoom<lt)return!0;if(qt.zoom===Pt)return!1;if(qt.shouldSplit!=null)return qt.shouldSplit;const di=qt.aabb.distanceX(Xe),wi=qt.aabb.distanceY(Xe);let Ot=si,Xt=1;if(Te){Ot=Bt(qt.aabb.distanceZ(Xe));const Wi=Math.pow(2,qt.zoom),dn=n.latFromMercatorY((qt.y+1)/Wi),Rn=n.latFromMercatorY(qt.y/Wi),tn=Math.min(Math.max(ce,dn),Rn),Ui=n.circumferenceAtLatitude(tn)/n.circumferenceAtLatitude(ce);if(Xt=tn===ce?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Ui/this._mercatorScaleRatio),this.zoom<=n.GLOBE_ZOOM_THRESHOLD_MIN&&qt.zoom===Pt-1&&Ui>=.9)return!0}else if(E&&(Ot=Bt(qt.aabb.distanceZ(Xe)*et)),this.projection.isReprojectedInTileSpace&&x<=5){const Wi=Math.pow(2,qt.zoom),dn=mt(new n.MercatorCoordinate((qt.x+.5)/Wi,(qt.y+.5)/Wi));Xt=dn>.85?1:dn}const Vi=di*di+wi*wi+Ot,Qi=Bt((1<<Pt-qt.zoom)*Ze*Xt*((Wi,dn)=>{if(dn*Bt(.707)<Wi)return 1;const Rn=Math.sqrt(dn/Wi);return Rn/(1.4144271570014144+(Math.pow(1.1,Rn-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Ot,si),Vi));return Vi<Qi};if(this.renderWorldCopies)for(let qt=1;qt<=3;qt++)$t.push(At(-qt)),$t.push(At(qt));for($t.push(At(0));$t.length>0;){const qt=$t.pop(),di=qt.x,wi=qt.y;let Ot=qt.fullyVisible;if(!Ot){const Xt=qt.aabb.intersects(We);if(Xt===0)continue;Ot=Xt===2}if(qt.zoom!==Pt&&xi(qt))for(let Xt=0;Xt<4;Xt++){const Vi=(di<<1)+Xt%2,Qi=(wi<<1)+(Xt>>1),Wi={aabb:A?qt.aabb.quadrant(Xt):n.tileAABB(this,de,qt.zoom+1,Vi,Qi,qt.wrap,qt.minZ,qt.maxZ,this.projection),zoom:qt.zoom+1,x:Vi,y:Qi,wrap:qt.wrap,fullyVisible:Ot,tileID:void 0,shouldSplit:void 0,minZ:qt.minZ,maxZ:qt.maxZ};E&&!Te&&(Wi.tileID=new n.OverscaledTileID(qt.zoom+1===Pt?pi:qt.zoom+1,qt.wrap,qt.zoom+1,Vi,Qi),Yt(Wi)),$t.push(Wi)}else{const Xt=qt.zoom===Pt?pi:qt.zoom;if(a.minzoom&&a.minzoom>Xt)continue;const Vi=Ee[0]-(.5+di+(qt.wrap<<qt.zoom))*(1<<d-qt.zoom),Qi=Ee[1]-.5-wi,Wi=qt.tileID?qt.tileID:new n.OverscaledTileID(Xt,qt.wrap,qt.zoom,di,wi);Ft.push({tileID:Wi,distanceSq:Vi*Vi+Qi*Qi})}}if(this.fogCullDistSq){const qt=this.fogCullDistSq,di=this.horizonLineFromTop();Ft=Ft.filter(wi=>{const Ot=[0,0,0,1],Xt=[n.EXTENT,n.EXTENT,0,1],Vi=this.calculateFogTileMatrix(wi.tileID.toUnwrapped());n.transformMat4$1(Ot,Ot,Vi),n.transformMat4$1(Xt,Xt,Vi);const Qi=n.getAABBPointSquareDist(Ot,Xt);if(Qi===0)return!0;let Wi=!1;const dn=this._elevation;if(dn&&Qi>qt&&di!==0){const Rn=this.calculateProjMatrix(wi.tileID.toUnwrapped());let tn;a.isTerrainDEM||(tn=dn.getMinMaxForTile(wi.tileID)),tn||(tn={min:pt,max:tt});const Ui=n.furthestTileCorner(this.rotation),br=[Ui[0]*n.EXTENT,Ui[1]*n.EXTENT,tn.max];n.transformMat4(br,br,Rn),Wi=(1-br[1])*this.height*.5<di}return Qi<qt||Wi})}return Ft.sort((qt,di)=>qt.distanceSq-di.distanceSq).map(qt=>qt.tileID)}resize(a,d){this.width=a,this.height=d,this.pixelsToGLUnits=[2/a,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const d=n.clamp(a.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),x=this.projection.project(a.lng,d);return new n.pointGeometry(x.x*this.worldSize,x.y*this.worldSize)}unproject(a){return this.projection.unproject(a.x/this.worldSize,a.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(a,d){let x,E;const A=this.centerPoint;if(this.projection.name==="globe"){const ce=this.worldSize;x=(d.x-A.x)/ce,E=(d.y-A.y)/ce}else{const ce=this.pointCoordinate(d),de=this.pointCoordinate(A);x=ce.x-de.x,E=ce.y-de.y}const J=this.locationCoordinate(a);this.setLocation(new n.MercatorCoordinate(J.x-x,J.y-E))}setLocation(a){this.center=this.coordinateLocation(a),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(a){return this.projection.locationPoint(this,a)}locationPoint3D(a){return this.projection.locationPoint(this,a,!0)}pointLocation(a){return this.coordinateLocation(this.pointCoordinate(a))}pointLocation3D(a){return this.coordinateLocation(this.pointCoordinate3D(a))}locationCoordinate(a,d){const x=d?n.mercatorZfromAltitude(d,a.lat):void 0,E=this.projection.project(a.lng,a.lat);return new n.MercatorCoordinate(E.x,E.y,x)}coordinateLocation(a){return this.projection.unproject(a.x,a.y)}pointRayIntersection(a,d){const x=d??this._centerAltitude,E=[a.x,a.y,0,1],A=[a.x,a.y,1,1];n.transformMat4$1(E,E,this.pixelMatrixInverse),n.transformMat4$1(A,A,this.pixelMatrixInverse);const J=A[3];n.scale$1(E,E,1/E[3]),n.scale$1(A,A,1/J);const ce=E[2],de=A[2];return{p0:E,p1:A,t:ce===de?0:(x-ce)/(de-ce)}}screenPointToMercatorRay(a){const d=[a.x,a.y,0,1],x=[a.x,a.y,1,1];return n.transformMat4$1(d,d,this.pixelMatrixInverse),n.transformMat4$1(x,x,this.pixelMatrixInverse),n.scale$1(d,d,1/d[3]),n.scale$1(x,x,1/x[3]),d[2]=n.mercatorZfromAltitude(d[2],this._center.lat)*this.worldSize,x[2]=n.mercatorZfromAltitude(x[2],this._center.lat)*this.worldSize,n.scale$1(d,d,1/this.worldSize),n.scale$1(x,x,1/this.worldSize),new n.Ray([d[0],d[1],d[2]],n.normalize([],n.sub([],x,d)))}rayIntersectionCoordinate(a){const{p0:d,p1:x,t:E}=a,A=n.mercatorZfromAltitude(d[2],this._center.lat),J=n.mercatorZfromAltitude(x[2],this._center.lat);return new n.MercatorCoordinate(n.number(d[0],x[0],E)/this.worldSize,n.number(d[1],x[1],E)/this.worldSize,n.number(A,J,E))}pointCoordinate(a,d=this._centerAltitude){return this.projection.pointCoordinate(this,a.x,a.y,d)}pointCoordinate3D(a){if(!this.elevation)return this.pointCoordinate(a);let d=this.projection.pointCoordinate3D(this,a.x,a.y);if(d)return new n.MercatorCoordinate(d[0],d[1],d[2]);let x=0,E=this.horizonLineFromTop();if(a.y>E)return this.pointCoordinate(a);const A=.02*E,J=a.clone();for(let ce=0;ce<10&&E-x>A;ce++){J.y=n.number(x,E,.66);const de=this.projection.pointCoordinate3D(this,J.x,J.y);de?(E=J.y,d=de):x=J.y}return d?new n.MercatorCoordinate(d[0],d[1],d[2]):this.pointCoordinate(a)}isPointAboveHorizon(a){return this.projection.isPointAboveHorizon(this,a)}_coordinatePoint(a,d){const x=d&&this.elevation?this.elevation.getAtPointOrZero(a,this._centerAltitude):this._centerAltitude,E=[a.x*this.worldSize,a.y*this.worldSize,x+a.toAltitude(),1];return n.transformMat4$1(E,E,this.pixelMatrix),E[3]>0?new n.pointGeometry(E[0]/E[3],E[1]/E[3]):new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:a,left:d}=this._edgeInsets,x=this.height-this._edgeInsets.bottom,E=this.width-this._edgeInsets.right,A=this.pointCoordinate3D(new n.pointGeometry(d,a)),J=this.pointCoordinate3D(new n.pointGeometry(E,a)),ce=this.pointCoordinate3D(new n.pointGeometry(E,x)),de=this.pointCoordinate3D(new n.pointGeometry(d,x));let Ee=Math.min(A.x,de.x),Te=Math.max(J.x,ce.x),Re=Math.min(A.y,J.y),We=Math.max(de.y,ce.y);const Qe=Math.pow(2,-this.zoom)/16,et=(mt,At,$t,Ft)=>{const Pt=(mt+$t)/2,pi=(At+Ft)/2,Bt=new n.pointGeometry(Pt,pi),si=this.pointCoordinate3D(Bt),Yt=Math.max(0,Ee-si.x,Re-si.y,si.x-Te,si.y-We);Ee=Math.min(Ee,si.x),Te=Math.max(Te,si.x),Re=Math.min(Re,si.y),We=Math.max(We,si.y),Yt>Qe&&(et(mt,At,Pt,pi),et(Pt,pi,$t,Ft))};et(d,a,E,a),et(E,a,E,x),et(E,x,d,x),et(d,x,d,a);const[rt,Xe]=n.polesInViewport(this),Ze=rt||Xe,lt=rt?90:n.latFromMercatorY(Re),tt=Ze?180:n.lngFromMercatorX(Te),pt=Xe?-90:n.latFromMercatorY(We),wt=Ze?-180:n.lngFromMercatorX(Ee);return new n.LngLatBounds(new n.LngLat(wt,pt),new n.LngLat(tt,lt))}_getBounds(a,d){if(this.projection.name==="globe")return this._getGlobeBounds();const x=new n.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),E=new n.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),A=new n.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),J=new n.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let ce=this.pointCoordinate(x,a),de=this.pointCoordinate(E,a);const Ee=this.pointCoordinate(A,d),Te=this.pointCoordinate(J,d),Re=(We,Qe)=>(Qe.y-We.y)/(Qe.x-We.x);return ce.y>1&&de.y>=0?ce=new n.MercatorCoordinate((1-Te.y)/Re(Te,ce)+Te.x,1):ce.y<0&&de.y<=1&&(ce=new n.MercatorCoordinate(-Te.y/Re(Te,ce)+Te.x,0)),de.y>1&&ce.y>=0?de=new n.MercatorCoordinate((1-Ee.y)/Re(Ee,de)+Ee.x,1):de.y<0&&ce.y<=1&&(de=new n.MercatorCoordinate(-Ee.y/Re(Ee,de)+Ee.x,0)),new n.LngLatBounds().extend(this.coordinateLocation(ce)).extend(this.coordinateLocation(de)).extend(this.coordinateLocation(Te)).extend(this.coordinateLocation(Ee))}_getBounds3D(){const a=this.elevation;if(!a.visibleDemTiles.length||a.isUsingMockSource())return this._getBounds(0,0);const d=a.visibleDemTiles.reduce((x,E)=>{if(E.dem){const A=E.dem.tree;x.min=Math.min(x.min,A.minimums[0]),x.max=Math.max(x.max,A.maximums[0])}return x},{min:Number.MAX_VALUE,max:0});return this._getBounds(d.min*a.exaggeration(),d.max*a.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(a=!0){const d=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,x=this.height/2-d*(1-this._horizonShift);return a?Math.max(0,x):x}getMaxBounds(){return this.maxBounds}setMaxBounds(a){this.maxBounds=a,this.minLat=-n.MAX_MERCATOR_LATITUDE,this.maxLat=n.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,a&&(this.minLat=a.getSouth(),this.maxLat=a.getNorth(),this.minLng=a.getWest(),this.maxLng=a.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=n.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=n.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=n.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=n.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(a,d){return this.projection.createTileMatrix(this,d,a)}calculateDistanceTileData(a){const d=a.key,x=this._distanceTileDataCache;if(x[d])return x[d];const E=a.canonical,A=1/this.height,J=this.cameraWorldSize,ce=J/this.zoomScale(E.z),de=(E.x+Math.pow(2,E.z)*a.wrap)*ce,Ee=E.y*ce,Te=this.point;Te.x*=J/this.worldSize,Te.y*=J/this.worldSize;const Re=this.angle,We=Math.sin(-Re),Qe=-Math.cos(-Re);return x[d]={bearing:[We,Qe],center:[(Te.x-de)*A,(Te.y-Ee)*A],scale:ce/n.EXTENT*A},x[d]}calculateFogTileMatrix(a){const d=a.key,x=this._fogTileMatrixCache;if(x[d])return x[d];const E=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,a);return n.multiply(E,this.worldToFogMatrix,E),x[d]=new Float32Array(E),x[d]}calculateProjMatrix(a,d=!1){const x=a.key,E=d?this._alignedProjMatrixCache:this._projMatrixCache;if(E[x])return E[x];const A=this.calculatePosMatrix(a,this.worldSize);return n.multiply(A,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:d?this.alignedProjMatrix:this.projMatrix,A),E[x]=new Float32Array(A),E[x]}calculatePixelsToTileUnitsMatrix(a){const d=a.tileID.key,x=this._pixelsToTileUnitsCache;if(x[d])return x[d];const E=function(A,J){const{scale:ce}=A.tileTransform,de=ce*n.EXTENT/(A.tileSize*Math.pow(2,J.zoom-A.tileID.overscaledZ+A.tileID.canonical.z));return Ee=new Float32Array(4),We=(Te=J.inverseAdjustmentMatrix)[1],Qe=Te[2],et=Te[3],Xe=(Re=[de,de])[1],Ee[0]=Te[0]*(rt=Re[0]),Ee[1]=We*rt,Ee[2]=Qe*Xe,Ee[3]=et*Xe,Ee;var Ee,Te,Re,We,Qe,et,rt,Xe}(a,this);return x[d]=E,x[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const a=this._elevation;this._updateCameraState();const d=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(d),E=this._camera.forward(),A=n.mercatorZfromAltitude(1,this._center.lat);x[2]/=A,E[2]/=A,n.normalize(E,E);const J=a.raycast(x,E,a.exaggeration());if(J){const ce=n.scaleAndAdd([],x,E,J),de=new n.MercatorCoordinate(ce[0],ce[1],n.mercatorZfromAltitude(ce[2],n.latFromMercatorY(ce[1]))),Ee=(de.z+n.length([de.x-x[0],de.y-x[1],de.z-x[2]*A]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(Ee),this._centerAltitude=de.toAltitude(),this._center=this.coordinateLocation(de),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(a=!1){if(!this._elevation)return;const d=this._elevation,x=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,E=this._computeCameraPosition(x),A=d.getAtPointOrZero(new n.MercatorCoordinate(...E)),J=this.pixelsPerMeter/this.worldSize*A,ce=this._minimumHeightOverTerrain(),de=E[2]-J;if(de<=ce)if(de<0||a){const Ee=this.locationCoordinate(this._center,this._centerAltitude),Te=[E[0],E[1],Ee.z-E[2]],Re=n.length(Te);Te[2]-=(ce-de)/this._pixelsPerMercatorPixel;const We=n.length(Te);if(We===0)return;n.scale$2(Te,Te,Re/We*this._pixelsPerMercatorPixel),this._camera.position=[E[0],E[1],Ee.z*this._pixelsPerMercatorPixel-Te[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const a=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||a){const We=this.center;return We.lat=n.clamp(We.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!a)&&(We.lng=n.clamp(We.lng,this.minLng,this.maxLng)),this.center=We,void(this._constraining=!1)}const d=this._unmodified,{x,y:E}=this.point;let A=0,J=x,ce=E;const de=this.width/2,Ee=this.height/2,Te=this.worldMinY*this.scale,Re=this.worldMaxY*this.scale;if(E-Ee<Te&&(ce=Te+Ee),E+Ee>Re&&(ce=Re-Ee),Re-Te<this.height&&(A=Math.max(A,this.height/(Re-Te)),ce=(Re+Te)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const We=this.worldMinX*this.scale,Qe=this.worldMaxX*this.scale,et=this.worldSize/2-(We+Qe)/2;J=(x+et+this.worldSize)%this.worldSize-et,J-de<We&&(J=We+de),J+de>Qe&&(J=Qe-de),Qe-We<this.width&&(A=Math.max(A,this.width/(Qe-We)),J=(Qe+We)/2)}J===x&&ce===E||(this.center=this.unproject(new n.pointGeometry(J,ce))),A&&(this.zoom+=this.scaleZoom(A)),this._constrainCamera(),this._unmodified=d,this._constraining=!1}_minZoomForBounds(){let a=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(a=Math.max(a,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),a}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,d=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=n.mercatorZfromAltitude(1,this.center.lat)/n.mercatorZfromAltitude(1,n.GLOBE_SCALE_MATCH_LATITUDE));const x=to(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,x),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const E=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?d:1),A=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);A[8]=2*-a.x/this.width,A[9]=2*a.y/this.height;let J=n.mul([],A,E);if(this.projection.isReprojectedInTileSpace){const wt=this.locationCoordinate(this.center),mt=n.identity([]);n.translate(mt,mt,[wt.x*this.worldSize,wt.y*this.worldSize,0]),n.multiply(mt,mt,Vs(this)),n.translate(mt,mt,[-wt.x*this.worldSize,-wt.y*this.worldSize,0]),n.multiply(J,J,mt),this.inverseAdjustmentMatrix=function(At){const $t=Vs(At,!0);return I([],[$t[0],$t[1],$t[4],$t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=n.scale([],J,[this.worldSize,this.worldSize,this.worldSize/d,1]),this.projMatrix=J,this.invProjMatrix=n.invert(new Float64Array(16),this.projMatrix);const ce=n.invert([],A);this.frustumCorners=n.FrustumCorners.fromInvProjectionMatrix(ce,this.horizonLineFromTop(),this.height);const de=new Float32Array(16);n.identity(de),n.scale(de,de,[1,-1,1]),n.rotateX(de,de,this._pitch),n.rotateZ(de,de,this.angle);const Ee=n.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Te=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;Ee[8]=2*-a.x/this.width,Ee[9]=2*(a.y+Te)/this.height,this.skyboxMatrix=n.multiply(de,Ee,de);const Re=this.point,We=Re.x,Qe=Re.y,et=this.width%2/2,rt=this.height%2/2,Xe=Math.cos(this.angle),Ze=Math.sin(this.angle),lt=We-Math.round(We)+Xe*et+Ze*rt,tt=Qe-Math.round(Qe)+Xe*rt+Ze*et,pt=new Float64Array(J);if(n.translate(pt,pt,[lt>.5?lt-1:lt,tt>.5?tt-1:tt,0]),this.alignedProjMatrix=pt,J=n.create(),n.scale(J,J,[this.width/2,-this.height/2,1]),n.translate(J,J,[1,-1,0]),this.labelPlaneMatrix=J,J=n.create(),n.scale(J,J,[1,-1,1]),n.translate(J,J,[-1,-1,0]),n.scale(J,J,[2/this.width,2/this.height,1]),this.glCoordMatrix=J,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},J=n.invert(new Float64Array(16),this.pixelMatrix),!J)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=J,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=n.calculateGlobeMatrix(this);const wt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=n.transformMat4(wt,wt,E),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=J;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const a=this.cameraWorldSizeForFog,d=this.cameraPixelsPerMeter,x=this._camera.position,E=1/this.height/this._pixelsPerMercatorPixel,A=[a,a,d];n.scale$2(A,A,E),n.scale$2(x,x,-1),n.multiply$2(x,x,A);const J=n.create();n.translate(J,J,x),n.scale(J,J,A),this.mercatorFogMatrix=J,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(a,d,E)}_computeCameraPosition(a){const d=(a=a||this.pixelsPerMeter)/this.pixelsPerMeter,x=this._camera.forward(),E=this.point,A=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*d-a/this.worldSize*this._centerAltitude;return[E.x/this.worldSize-x[0]*A,E.y/this.worldSize-x[1]*A,a/this.worldSize*this._centerAltitude-x[2]*A]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(a){const d=this._maxCameraBoundsDistance()*Math.cos(this._pitch),x=this._camera.position[2],E=a[2];let A=1;this.projection.wrap&&(this.center=this.center.wrap()),E>0&&(A=Math.min((d-x)/E,1)),this._camera.position=n.scaleAndAdd([],this._camera.position,a,A),this._updateStateFromCamera()}_updateStateFromCamera(){const a=this._camera.position,d=this._camera.forward(),{pitch:x,bearing:E}=this._camera.getPitchBearing(),A=n.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,J=this._mercatorZfromZoom(this._maxZoom)*Math.cos(n.degToRad(this._maxPitch)),ce=Math.max((a[2]-A)/Math.cos(x),J),de=this._zoomFromMercatorZ(ce);n.scaleAndAdd(a,a,d,ce),this._pitch=n.clamp(x,n.degToRad(this.minPitch),n.degToRad(this.maxPitch)),this.angle=n.wrap(E,-Math.PI,Math.PI),this._setZoom(n.clamp(de,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new n.MercatorCoordinate(a[0],a[1],a[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(a){return Math.pow(2,a)*this.tileSize}_mercatorZfromZoom(a){return this.cameraToCenterDistance/this._worldSizeFromZoom(a)}_minimumHeightOverTerrain(){const a=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(a)}_zoomFromMercatorZ(a){return this.scaleZoom(this.cameraToCenterDistance/(a*this.tileSize))}zoomFromMercatorZAdjusted(a){const d=J=>{const ce=this.getCameraToCenterDistance(this.projection,J);return this.scaleZoom(ce/(a*this.tileSize))};let x,E=d(this.zoom),A=Math.abs(E-d(E));for(;x!==A;)E=d(E),x=A,A=Math.abs(E-d(E));return E}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(n.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(a,d){const x=Math.min(a.x,d.x),E=Math.max(a.x,d.x),A=Math.min(a.y,d.y),J=Math.max(a.y,d.y);if(A<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const ce=[new n.pointGeometry(x,A),new n.pointGeometry(E,J),new n.pointGeometry(x,J),new n.pointGeometry(E,A)],de=this.renderWorldCopies?-3:0,Ee=this.renderWorldCopies?4:1;for(const Te of ce){const Re=this.pointRayIntersection(Te);if(Re.t<0)return!0;const We=this.rayIntersectionCoordinate(Re);if(We.x<de||We.y<0||We.x>Ee||We.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+n.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new n.pointGeometry(0,0),new n.pointGeometry(this.width,this.height))}zoomDeltaToMovement(a,d){const x=n.length(n.sub([],this._camera.position,a)),E=this._zoomFromMercatorZ(x)+d;return x-this._mercatorZfromZoom(E)}getCameraPoint(){if(this.projection.name==="globe"){const a=function([d,x,E],A){const J=[d,x,E,1];n.transformMat4$1(J,J,A);const ce=J[3]=Math.max(J[3],1e-6);return J[0]/=ce,J[1]/=ce,J[2]/=ce,J}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new n.pointGeometry(a[0],a[1])}{const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.pointGeometry(0,a))}}getCameraToCenterDistance(a,d=this.zoom){const x=to(a,d,this.width,this.height,1024),E=a.pixelSpaceConversion(this.center.lat,this.worldSize,x);return .5/Math.tan(.5*this._fov)*this.height*E}getWorldToCameraMatrix(){const a=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&n.multiply(a,a,this.globeMatrix),a}}function cd(m,a){let d=!1,x=null;const E=()=>{x=null,d&&(m(),x=setTimeout(E,a),d=!1)};return()=>(d=!0,x||E(),x)}class ji{constructor(a){this._hashName=a&&encodeURIComponent(a),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=cd(this._updateHashUnthrottled.bind(this),300)}addTo(a){return this._map=a,n.window.addEventListener("hashchange",this._onHashChange,!1),a.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),n.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const a=this._map;if(!a)return"";const d=ga(a);if(this._hashName){const x=this._hashName;let E=!1;const A=n.window.location.hash.slice(1).split("&").map(J=>{const ce=J.split("=")[0];return ce===x?(E=!0,`${ce}=${d}`):J}).filter(J=>J);return E||A.push(`${x}=${d}`),`#${A.join("&")}`}return`#${d}`}_getCurrentHash(){const a=n.window.location.hash.replace("#","");if(this._hashName){let d;return a.split("&").map(x=>x.split("=")).forEach(x=>{x[0]===this._hashName&&(d=x)}),(d&&d[1]||"").split("/")}return a.split("/")}_onHashChange(){const a=this._map;if(!a)return!1;const d=this._getCurrentHash();if(d.length>=3&&!d.some(x=>isNaN(x))){const x=a.dragRotate.isEnabled()&&a.touchZoomRotate.isEnabled()?+(d[3]||0):a.getBearing();return a.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:x,pitch:+(d[4]||0)}),!0}return!1}_updateHashUnthrottled(){const a=n.window.location.href.replace(/(#.+)?$/,this.getHashString());n.window.history.replaceState(n.window.history.state,null,a)}}function ga(m,a){const d=m.getCenter(),x=Math.round(100*m.getZoom())/100,E=Math.ceil((x*Math.LN2+Math.log(512/360/.5))/Math.LN10),A=Math.pow(10,E),J=Math.round(d.lng*A)/A,ce=Math.round(d.lat*A)/A,de=m.getBearing(),Ee=m.getPitch();let Te=a?`/${J}/${ce}/${x}`:`${x}/${ce}/${J}`;return(de||Ee)&&(Te+="/"+Math.round(10*de)/10),Ee&&(Te+=`/${Math.round(Ee)}`),Te}const yc={linearity:.3,easing:n.bezier(0,0,.3,1)},hd=n.extend({deceleration:2500,maxSpeed:1400},yc),au=n.extend({deceleration:20,maxSpeed:1400},yc),Eh=n.extend({deceleration:1e3,maxSpeed:360},yc),mp=n.extend({deceleration:1e3,maxSpeed:90},yc);class lu{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.exported.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,d=n.exported.now();for(;a.length>0&&d-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new n.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:A}of this._inertiaBuffer)d.zoom+=A.zoomDelta||0,d.bearing+=A.bearingDelta||0,d.pitch+=A.pitchDelta||0,A.panDelta&&d.pan._add(A.panDelta),A.around&&(d.around=A.around),A.pinchAround&&(d.pinchAround=A.pinchAround);const x=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,E={};if(d.pan.mag()){const A=Qr(d.pan.mag(),x,n.extend({},hd,a||{}));E.offset=d.pan.mult(A.amount/d.pan.mag()),E.center=this._map.transform.center,Mh(E,A)}if(d.zoom){const A=Qr(d.zoom,x,au);E.zoom=this._map.transform.zoom+A.amount,Mh(E,A)}if(d.bearing){const A=Qr(d.bearing,x,Eh);E.bearing=this._map.transform.bearing+n.clamp(A.amount,-179,179),Mh(E,A)}if(d.pitch){const A=Qr(d.pitch,x,mp);E.pitch=this._map.transform.pitch+A.amount,Mh(E,A)}if(E.zoom||E.bearing){const A=d.pinchAround===void 0?d.around:d.pinchAround;E.around=A?this._map.unproject(A):this._map.getCenter()}return this.clear(),E.noMoveStart=!0,E}}function Mh(m,a){(!m.duration||m.duration<a.duration)&&(m.duration=a.duration,m.easing=a.easing)}function Qr(m,a,d){const{maxSpeed:x,linearity:E,deceleration:A}=d,J=n.clamp(m*E/(a/1e3),-x,x),ce=Math.abs(J)/(A*E);return{easing:d.easing,duration:1e3*ce,amount:J*(ce/2)}}class Or extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,x,E={}){const A=j(d.getCanvasContainer(),x),J=d.unproject(A);super(a,n.extend({point:A,lngLat:J,originalEvent:x},E)),this._defaultPrevented=!1,this.target=d}}class dd extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,x){const E=a==="touchend"?x.changedTouches:x.touches,A=S(d.getCanvasContainer(),E),J=A.map(de=>d.unproject(de)),ce=A.reduce((de,Ee,Te,Re)=>de.add(Ee.div(Re.length)),new n.pointGeometry(0,0));super(a,{points:A,point:ce,lngLats:J,lngLat:d.unproject(ce),originalEvent:x}),this._defaultPrevented=!1}}class Ch extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,x){super(a,{originalEvent:x}),this._defaultPrevented=!1}}class Nf{constructor(a,d){this._map=a,this._clickTolerance=d.clickTolerance}reset(){this._mousedownPos=void 0}wheel(a){return this._firePreventable(new Ch(a.type,this._map,a))}mousedown(a,d){return this._mousedownPos=d,this._firePreventable(new Or(a.type,this._map,a))}mouseup(a){this._map.fire(new Or(a.type,this._map,a))}preclick(a){const d=n.extend({},a);d.type="preclick",this._map.fire(new Or(d.type,this._map,d))}click(a,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||(this.preclick(a),this._map.fire(new Or(a.type,this._map,a)))}dblclick(a){return this._firePreventable(new Or(a.type,this._map,a))}mouseover(a){this._map.fire(new Or(a.type,this._map,a))}mouseout(a){this._map.fire(new Or(a.type,this._map,a))}touchstart(a){return this._firePreventable(new dd(a.type,this._map,a))}touchmove(a){this._map.fire(new dd(a.type,this._map,a))}touchend(a){this._map.fire(new dd(a.type,this._map,a))}touchcancel(a){this._map.fire(new dd(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Cm{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(a){this._map.fire(new Or(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Or("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._map.fire(new Or(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class cu{constructor(a,d){this._map=a,this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,d){this.isEnabled()&&a.shiftKey&&a.button===0&&(R(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(a,d){if(!this._active)return;const x=d,E=this._startPos,A=this._lastPos;if(!E||!A||A.equals(x)||!this._box&&x.dist(E)<this._clickTolerance)return;this._lastPos=x,this._box||(this._box=q("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",a));const J=Math.min(E.x,x.x),ce=Math.max(E.x,x.x),de=Math.min(E.y,x.y),Ee=Math.max(E.y,x.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${J}px,${de}px)`,this._box.style.width=ce-J+"px",this._box.style.height=Ee-de+"px")})}mouseupWindow(a,d){if(!this._active)return;const x=this._startPos,E=d;if(x&&a.button===0){if(this.reset(),$(),x.x!==E.x||x.y!==E.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:a})),{cameraAnimation:A=>A.fitScreenCoordinates(x,E,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",a)}}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),D(),delete this._startPos,delete this._lastPos}_fireEvent(a,d){return this._map.fire(new n.Event(a,{originalEvent:d}))}}function il(m,a){const d={};for(let x=0;x<m.length;x++)d[m[x].identifier]=a[x];return d}class ud{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(a,d,x){(this.centroid||x.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=a.timeStamp),x.length===this.numTouches&&(this.centroid=function(E){const A=new n.pointGeometry(0,0);for(const J of E)A._add(J);return A.div(E.length)}(d),this.touches=il(x,d)))}touchmove(a,d,x){if(this.aborted||!this.centroid)return;const E=il(x,d);for(const A in this.touches){const J=this.touches[A],ce=E[A];(!ce||ce.dist(J)>30)&&(this.aborted=!0)}}touchend(a,d,x){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),x.length===0){const E=!this.aborted&&this.centroid;if(this.reset(),E)return E}}}class Bl{constructor(a){this.singleTap=new ud(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(a,d,x){this.singleTap.touchstart(a,d,x)}touchmove(a,d,x){this.singleTap.touchmove(a,d,x)}touchend(a,d,x){const E=this.singleTap.touchend(a,d,x);if(E){const A=a.timeStamp-this.lastTime<500,J=!this.lastTap||this.lastTap.dist(E)<30;if(A&&J||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=E,this.count===this.numTaps)return this.reset(),E}}}class Ah{constructor(){this._zoomIn=new Bl({numTouches:1,numTaps:2}),this._zoomOut=new Bl({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,d,x){this._zoomIn.touchstart(a,d,x),this._zoomOut.touchstart(a,d,x)}touchmove(a,d,x){this._zoomIn.touchmove(a,d,x),this._zoomOut.touchmove(a,d,x)}touchend(a,d,x){const E=this._zoomIn.touchend(a,d,x),A=this._zoomOut.touchend(a,d,x);return E?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:J=>J.easeTo({duration:300,zoom:J.getZoom()+1,around:J.unproject(E)},{originalEvent:a})}):A?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:J=>J.easeTo({duration:300,zoom:J.getZoom()-1,around:J.unproject(A)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const xc={0:1,2:2};class vc{constructor(a){this.reset(),this._clickTolerance=a.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(a,d){return!1}_move(a,d){return{}}mousedown(a,d){if(this._lastPoint)return;const x=te(a);this._correctButton(a,x)&&(this._lastPoint=d,this._eventButton=x)}mousemoveWindow(a,d){const x=this._lastPoint;if(x){if(a.preventDefault(),this._eventButton!=null&&function(E,A){const J=xc[A];return E.buttons===void 0||(E.buttons&J)!==J}(a,this._eventButton))this.reset();else if(this._moved||!(d.dist(x)<this._clickTolerance))return this._moved=!0,this._lastPoint=d,this._move(x,d)}}mouseupWindow(a){this._lastPoint&&te(a)===this._eventButton&&(this._moved&&$(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xc extends vc{mousedown(a,d){super.mousedown(a,d),this._lastPoint&&(this._active=!0)}_correctButton(a,d){return d===0&&!a.ctrlKey}_move(a,d){return{around:d,panDelta:d.sub(a)}}}class gp extends vc{_correctButton(a,d){return d===0&&a.ctrlKey||d===2}_move(a,d){const x=.8*(d.x-a.x);if(x)return this._active=!0,{bearingDelta:x}}contextmenu(a){a.preventDefault()}}class _p extends vc{_correctButton(a,d){return d===0&&a.ctrlKey||d===2}_move(a,d){const x=-.5*(d.y-a.y);if(x)return this._active=!0,{pitchDelta:x}}contextmenu(a){a.preventDefault()}}class jf{constructor(a,d){this._map=a,this._el=a.getCanvasContainer(),this._minTouches=1,this._clickTolerance=d.clickTolerance||1,this.reset(),n.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new n.pointGeometry(0,0)}touchstart(a,d,x){return this._calculateTransform(a,d,x)}touchmove(a,d,x){if(this._active&&!(x.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(x.length===1&&!n.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return a.cancelable&&a.preventDefault(),this._calculateTransform(a,d,x)}}touchend(a,d,x){this._calculateTransform(a,d,x),this._active&&x.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,d,x){x.length>0&&(this._active=!0);const E=il(x,d),A=new n.pointGeometry(0,0),J=new n.pointGeometry(0,0);let ce=0;for(const Ee in E){const Te=E[Ee],Re=this._touches[Ee];Re&&(A._add(Te),J._add(Te.sub(Re)),ce++,E[Ee]=Te)}if(this._touches=E,ce<this._minTouches||!J.mag())return;const de=J.div(ce);return this._sum._add(de),this._sum.mag()<this._clickTolerance?void 0:{around:A.div(ce),panDelta:de}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=q("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class hu{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(a){}_move(a,d,x){return{}}touchstart(a,d,x){this._firstTwoTouches||x.length<2||(this._firstTwoTouches=[x[0].identifier,x[1].identifier],this._start([d[0],d[1]]))}touchmove(a,d,x){const E=this._firstTwoTouches;if(!E)return;a.preventDefault();const[A,J]=E,ce=Fl(x,d,A),de=Fl(x,d,J);if(!ce||!de)return;const Ee=this._aroundCenter?null:ce.add(de).div(2);return this._move([ce,de],Ee,a)}touchend(a,d,x){if(!this._firstTwoTouches)return;const[E,A]=this._firstTwoTouches,J=Fl(x,d,E),ce=Fl(x,d,A);J&&ce||(this._active&&$(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Fl(m,a,d){for(let x=0;x<m.length;x++)if(m[x].identifier===d)return a[x]}function kh(m,a){return Math.log(m/a)/Math.LN2}class Ph extends hu{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,d){const x=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(kh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:kh(this._distance,x),pinchAround:d}}}function yp(m,a){return 180*m.angleWith(a)/Math.PI}class qe extends hu{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,d){const x=this._vector;if(this._vector=a[0].sub(a[1]),x&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:yp(this._vector,x),pinchAround:d}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const d=25/(Math.PI*this._minDiameter)*360,x=this._startVector;if(!x)return!1;const E=yp(a,x);return Math.abs(E)<d}}function Nl(m){return Math.abs(m.y)>Math.abs(m.x)}class pd extends hu{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(a){this._lastPoints=a,Nl(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,d,x){const E=this._lastPoints;if(!E)return;const A=a[0].sub(E[0]),J=a[1].sub(E[1]);return this._map._cooperativeGestures&&!n.isFullscreen()&&x.touches.length<3||(this._valid=this.gestureBeginsVertically(A,J,x.timeStamp),!this._valid)?void 0:(this._lastPoints=a,this._active=!0,{pitchDelta:(A.y+J.y)/2*-.5})}gestureBeginsVertically(a,d,x){if(this._valid!==void 0)return this._valid;const E=a.mag()>=2,A=d.mag()>=2;if(!E&&!A)return;if(!E||!A)return this._firstMove==null&&(this._firstMove=x),x-this._firstMove<100&&void 0;const J=a.y>0==d.y>0;return Nl(a)&&Nl(d)&&J}}const na={panStep:100,bearingStep:15,pitchStep:10};class En{constructor(){const a=na;this._panStep=a.panStep,this._bearingStep=a.bearingStep,this._pitchStep=a.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let d=0,x=0,E=0,A=0,J=0;switch(a.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:a.shiftKey?x=-1:(a.preventDefault(),A=-1);break;case 39:a.shiftKey?x=1:(a.preventDefault(),A=1);break;case 38:a.shiftKey?E=1:(a.preventDefault(),J=-1);break;case 40:a.shiftKey?E=-1:(a.preventDefault(),J=1);break;default:return}return this._rotationDisabled&&(x=0,E=0),{cameraAnimation:ce=>{const de=ce.getZoom();ce.easeTo({duration:300,easeId:"keyboardHandler",easing:Am,zoom:d?Math.round(de)+d*(a.shiftKey?2:1):de,bearing:ce.getBearing()+x*this._bearingStep,pitch:ce.getPitch()+E*this._pitchStep,offset:[-A*this._panStep,-J*this._panStep],center:ce.getCenter()},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Am(m){return m*(2-m)}const xp=4.000244140625;class km{constructor(a,d){this._map=a,this._el=a.getCanvasContainer(),this._handler=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,n.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(a.ctrlKey||a.metaKey||this.isZooming()||n.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let d=a.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const x=n.exported.now(),E=x-(this._lastWheelEventTime||0);this._lastWheelEventTime=x,d!==0&&d%xp==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":E>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(E*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),a.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=a,this._delta-=d,this._active||this._start(a)),a.preventDefault()}_onTimeout(a){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(a)}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=j(this._el,a);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:d,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._map.transform;this._type==="wheel"&&a.projection.wrap&&(a._center.lng>=180||a._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const d=()=>a._terrainEnabled()&&this._aroundCoord?a.computeZoomRelativeTo(this._aroundCoord):a.zoom;if(this._delta!==0){const de=this._type==="wheel"&&Math.abs(this._delta)>xp?this._wheelZoomRate:this._defaultZoomRate;let Ee=2/(1+Math.exp(-Math.abs(this._delta*de)));this._delta<0&&Ee!==0&&(Ee=1/Ee);const Te=d(),Re=Math.pow(2,Te),We=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):Re;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(We*Ee))),this._type==="wheel"&&(this._startZoom=Te,this._easing=this._smoothOutEasing(200)),this._delta=0}const x=typeof this._targetZoom=="number"?this._targetZoom:d(),E=this._startZoom,A=this._easing;let J,ce=!1;if(this._type==="wheel"&&E&&A){const de=Math.min((n.exported.now()-this._lastWheelEventTime)/200,1),Ee=A(de);J=n.number(E,x,Ee),de<1?this._frameId||(this._frameId=!0):ce=!0}else J=x,ce=!0;return this._active=!0,ce&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ce,zoomDelta:J-d(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let d=n.ease;if(this._prevEase){const x=this._prevEase,E=(n.exported.now()-x.start)/x.duration,A=x.easing(E+.01)-x.easing(E),J=.27/Math.sqrt(A*A+1e-4)*.01,ce=Math.sqrt(.0729-J*J);d=n.bezier(J,ce,.25,1)}return this._prevEase={start:n.exported.now(),duration:a,easing:d},d}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=q("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(n.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Yc{constructor(a,d){this._clickZoom=a,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class jl{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(a,d){return a.preventDefault(),{cameraAnimation:x=>{x.easeTo({duration:300,zoom:x.getZoom()+(a.shiftKey?-1:1),around:x.unproject(d)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Uf{constructor(){this._tap=new Bl({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(a,d,x){this._swipePoint||(this._tapTime&&a.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?x.length>0&&(this._swipePoint=d[0],this._swipeTouch=x[0].identifier):this._tap.touchstart(a,d,x))}touchmove(a,d,x){if(this._tapTime){if(this._swipePoint){if(x[0].identifier!==this._swipeTouch)return;const E=d[0],A=E.y-this._swipePoint.y;return this._swipePoint=E,a.preventDefault(),this._active=!0,{zoomDelta:A/128}}}else this._tap.touchmove(a,d,x)}touchend(a,d,x){this._tapTime?this._swipePoint&&x.length===0&&this.reset():this._tap.touchend(a,d,x)&&(this._tapTime=a.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Dh{constructor(a,d,x){this._el=a,this._mousePan=d,this._touchPan=x}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class nl{constructor(a,d,x){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=d,this._mousePitch=x}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class du{constructor(a,d,x,E){this._el=a,this._touchZoom=d,this._touchRotate=x,this._tapDragZoom=E,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ri=m=>m.zoom||m.drag||m.pitch||m.rotate;class Gf extends n.Event{}class Vf{constructor(){this.constants=[1,1,.01],this.radius=0}setup(a,d){const x=n.sub([],d,a);this.radius=n.length(x[2]<0?n.div([],x,this.constants):[x[0],x[1],0])}projectRay(a){n.div(a,a,this.constants),n.normalize(a,a),n.mul$1(a,a,this.constants);const d=n.scale$2([],a,this.radius);if(d[2]>0){const x=n.scale$2([],[0,0,1],n.dot(d,[0,0,1])),E=n.scale$2([],n.normalize([],[d[0],d[1],0]),this.radius),A=n.add([],d,n.scale$2([],n.sub([],n.add([],E,x),d),2));d[0]=A[0],d[1]=A[1]}return d}}function bc(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta}class fd{constructor(a,d){this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new lu(a),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Vf,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(d),n.bindAll(["handleEvent","handleWindowEvent"],this);const x=this._el;this._listeners=[[x,"touchstart",{passive:!0}],[x,"touchmove",{passive:!1}],[x,"touchend",void 0],[x,"touchcancel",void 0],[x,"mousedown",void 0],[x,"mousemove",void 0],[x,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[x,"mouseover",void 0],[x,"mouseout",void 0],[x,"dblclick",void 0],[x,"click",void 0],[x,"keydown",{capture:!1}],[x,"keyup",void 0],[x,"wheel",{passive:!1}],[x,"contextmenu",void 0],[n.window,"blur",void 0]];for(const[E,A,J]of this._listeners)E.addEventListener(A,E===n.window.document?this.handleWindowEvent:this.handleEvent,J)}destroy(){for(const[a,d,x]of this._listeners)a.removeEventListener(d,a===n.window.document?this.handleWindowEvent:this.handleEvent,x)}_addDefaultHandlers(a){const d=this._map,x=d.getCanvasContainer();this._add("mapEvent",new Nf(d,a));const E=d.boxZoom=new cu(d,a);this._add("boxZoom",E);const A=new Ah,J=new jl;d.doubleClickZoom=new Yc(J,A),this._add("tapZoom",A),this._add("clickZoom",J);const ce=new Uf;this._add("tapDragZoom",ce);const de=d.touchPitch=new pd(d);this._add("touchPitch",de);const Ee=new gp(a),Te=new _p(a);d.dragRotate=new nl(a,Ee,Te),this._add("mouseRotate",Ee,["mousePitch"]),this._add("mousePitch",Te,["mouseRotate"]);const Re=new Xc(a),We=new jf(d,a);d.dragPan=new Dh(x,Re,We),this._add("mousePan",Re),this._add("touchPan",We,["touchZoom","touchRotate"]);const Qe=new qe,et=new Ph;d.touchZoomRotate=new du(x,et,Qe,ce),this._add("touchRotate",Qe,["touchPan","touchZoom"]),this._add("touchZoom",et,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Cm(d));const rt=d.scrollZoom=new km(d,this);this._add("scrollZoom",rt,["mousePan"]);const Xe=d.keyboard=new En;this._add("keyboard",Xe);for(const Ze of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])a.interactive&&a[Ze]&&d[Ze].enable(a[Ze])}_add(a,d,x){this._handlers.push({handlerName:a,handler:d,allowed:x}),this._handlersById[a]=d}stop(a){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ri(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(a,d,x){for(const E in a)if(E!==x&&(!d||d.indexOf(E)<0))return!0;return!1}handleWindowEvent(a){this.handleEvent(a,`${a.type}Window`)}_getMapTouches(a){const d=[];for(const x of a)this._el.contains(x.target)&&d.push(x);return d}handleEvent(a,d){this._updatingCamera=!0;const x=a.type==="renderFrame",E=x?void 0:a,A={needsRenderFrame:!1},J={},ce={},de=a.touches?this._getMapTouches(a.touches):void 0,Ee=de?S(this._el,de):x?void 0:j(this._el,a);for(const{handlerName:We,handler:Qe,allowed:et}of this._handlers){if(!Qe.isEnabled())continue;let rt;this._blockedByActive(ce,et,We)?Qe.reset():Qe[d||a.type]&&(rt=Qe[d||a.type](a,Ee,de),this.mergeHandlerResult(A,J,rt,We,E),rt&&rt.needsRenderFrame&&this._triggerRenderFrame()),(rt||Qe.isActive())&&(ce[We]=Qe)}const Te={};for(const We in this._previousActiveHandlers)ce[We]||(Te[We]=E);this._previousActiveHandlers=ce,(Object.keys(Te).length||bc(A))&&(this._changes.push([A,J,Te]),this._triggerRenderFrame()),(Object.keys(ce).length||bc(A))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Re}=A;Re&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Re(this._map))}mergeHandlerResult(a,d,x,E,A){if(!x)return;n.extend(a,x);const J={handlerName:E,originalEvent:x.originalEvent||A};x.zoomDelta!==void 0&&(d.zoom=J),x.panDelta!==void 0&&(d.drag=J),x.pitchDelta!==void 0&&(d.pitch=J),x.bearingDelta!==void 0&&(d.rotate=J)}_applyChanges(){const a={},d={},x={};for(const[E,A,J]of this._changes)E.panDelta&&(a.panDelta=(a.panDelta||new n.pointGeometry(0,0))._add(E.panDelta)),E.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+E.zoomDelta),E.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+E.bearingDelta),E.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+E.pitchDelta),E.around!==void 0&&(a.around=E.around),E.aroundCoord!==void 0&&(a.aroundCoord=E.aroundCoord),E.pinchAround!==void 0&&(a.pinchAround=E.pinchAround),E.noInertia&&(a.noInertia=E.noInertia),n.extend(d,A),n.extend(x,J);this._updateMapTransform(a,d,x),this._changes=[]}_updateMapTransform(a,d,x){const E=this._map,A=E.transform,J=lt=>[lt.x,lt.y,lt.z];if((lt=>{const tt=this._eventsInProgress.drag;return tt&&!this._handlersById[tt.handlerName].isActive()})()&&!bc(a)){const lt=A.zoom;A.cameraElevationReference="sea",A.recenterOnTerrain(),A.cameraElevationReference="ground",lt!==A.zoom&&this._map._update(!0)}if(A._isCameraConstrained&&E._stop(!0),!bc(a))return void this._fireEvents(d,x,!0);let{panDelta:ce,zoomDelta:de,bearingDelta:Ee,pitchDelta:Te,around:Re,aroundCoord:We,pinchAround:Qe}=a;A._isCameraConstrained&&(de>0&&(de=0),A._isCameraConstrained=!1),Qe!==void 0&&(Re=Qe),(lt=>d.drag&&!this._eventsInProgress.drag)()&&Re&&(this._dragOrigin=J(A.pointCoordinate3D(Re)),this._trackingEllipsoid.setup(A._camera.position,this._dragOrigin)),A.cameraElevationReference="sea",E._stop(!0),Re=Re||E.transform.centerPoint,Ee&&(A.bearing+=Ee),Te&&(A.pitch+=Te),A._updateCameraState();const et=[0,0,0];if(ce)if(A.projection.name==="mercator"){const lt=this._trackingEllipsoid.projectRay(A.screenPointToMercatorRay(Re).dir),tt=this._trackingEllipsoid.projectRay(A.screenPointToMercatorRay(Re.sub(ce)).dir);et[0]=tt[0]-lt[0],et[1]=tt[1]-lt[1]}else{const lt=A.pointCoordinate(Re);if(A.projection.name==="globe"){ce=ce.rotate(-A.angle);const tt=A._pixelsPerMercatorPixel/A.worldSize;et[0]=-ce.x*n.mercatorScale(n.latFromMercatorY(lt.y))*tt,et[1]=-ce.y*n.mercatorScale(A.center.lat)*tt}else{const tt=A.pointCoordinate(Re.sub(ce));lt&&tt&&(et[0]=tt.x-lt.x,et[1]=tt.y-lt.y)}}const rt=A.zoom,Xe=[0,0,0];if(de){const lt=J(We||A.pointCoordinate3D(Re)),tt={dir:n.normalize([],n.sub([],lt,A._camera.position))};if(tt.dir[2]<0){const pt=A.zoomDeltaToMovement(lt,de);n.scale$2(Xe,tt.dir,pt)}}const Ze=n.add(et,et,Xe);A._translateCameraConstrained(Ze),de&&Math.abs(A.zoom-rt)>1e-4&&A.recenterOnTerrain(),A.cameraElevationReference="ground",this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(d,x,!0)}_fireEvents(a,d,x){const E=Ri(this._eventsInProgress),A=Ri(a),J={};for(const Te in a){const{originalEvent:Re}=a[Te];this._eventsInProgress[Te]||(J[`${Te}start`]=Re),this._eventsInProgress[Te]=a[Te]}!E&&A&&this._fireEvent("movestart",A.originalEvent);for(const Te in J)this._fireEvent(Te,J[Te]);A&&this._fireEvent("move",A.originalEvent);for(const Te in a){const{originalEvent:Re}=a[Te];this._fireEvent(Te,Re)}const ce={};let de;for(const Te in this._eventsInProgress){const{handlerName:Re,originalEvent:We}=this._eventsInProgress[Te];this._handlersById[Re].isActive()||(delete this._eventsInProgress[Te],de=d[Re]||We,ce[`${Te}end`]=de)}for(const Te in ce)this._fireEvent(Te,ce[Te]);const Ee=Ri(this._eventsInProgress);if(x&&(E||A)&&!Ee){this._updatingCamera=!0;const Te=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Re=We=>We!==0&&-this._bearingSnap<We&&We<this._bearingSnap;Te?(Re(Te.bearing||this._map.getBearing())&&(Te.bearing=0),this._map.easeTo(Te,{originalEvent:de})):(this._map.fire(new n.Event("moveend",{originalEvent:de})),Re(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(a,d){this._map.fire(new n.Event(a,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{this._frameId=void 0,this.handleEvent(new Gf("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const vp="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class rl extends n.Evented{constructor(a,d){super(),this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=d.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}getCenter(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(a,d){return this.jumpTo({center:a},d)}panBy(a,d,x){return a=n.pointGeometry.convert(a).mult(-1),this.panTo(this.transform.center,n.extend({offset:a},d),x)}panTo(a,d,x){return this.easeTo(n.extend({center:a},d),x)}getZoom(){return this.transform.zoom}setZoom(a,d){return this.jumpTo({zoom:a},d),this}zoomTo(a,d,x){return this.easeTo(n.extend({zoom:a},d),x)}zoomIn(a,d){return this.zoomTo(this.getZoom()+1,a,d),this}zoomOut(a,d){return this.zoomTo(this.getZoom()-1,a,d),this}getBearing(){return this.transform.bearing}setBearing(a,d){return this.jumpTo({bearing:a},d),this}getPadding(){return this.transform.padding}setPadding(a,d){return this.jumpTo({padding:a},d),this}rotateTo(a,d,x){return this.easeTo(n.extend({bearing:a},d),x)}resetNorth(a,d){return this.rotateTo(0,n.extend({duration:1e3},a),d),this}resetNorthPitch(a,d){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},a),d),this}snapToNorth(a,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,d):this}getPitch(){return this.transform.pitch}setPitch(a,d){return this.jumpTo({pitch:a},d),this}cameraForBounds(a,d){a=n.LngLatBounds.convert(a);const x=d&&d.bearing||0,E=d&&d.pitch||0,A=a.getNorthWest(),J=a.getSouthEast();return this._cameraForBounds(this.transform,A,J,x,E,d)}_extendCameraOptions(a){const d={top:0,bottom:0,right:0,left:0};if(typeof(a=n.extend({padding:d,offset:[0,0],maxZoom:this.transform.maxZoom},a)).padding=="number"){const x=a.padding;a.padding={top:x,bottom:x,right:x,left:x}}return a.padding=n.extend(d,a.padding),a}_minimumAABBFrustumDistance(a,d){const x=d.max[0]-d.min[0],E=d.max[1]-d.min[1];return x/E>a.aspect?x/(2*Math.tan(.5*a.fovX)*a.aspect):E/(2*Math.tan(.5*a.fovY)*a.aspect)}_cameraForBoundsOnGlobe(a,d,x,E,A,J){const ce=a.clone(),de=this._extendCameraOptions(J);ce.bearing=E,ce.pitch=A;const Ee=n.LngLat.convert(d),Te=n.LngLat.convert(x),Re=.5*(Ee.lat+Te.lat),We=.5*(Ee.lng+Te.lng),Qe=n.latLngToECEF(Re,We),et=n.normalize([],Qe),rt=n.normalize([],n.cross([],et,[0,1,0])),Xe=n.cross([],rt,et),Ze=[rt[0],rt[1],rt[2],0,Xe[0],Xe[1],Xe[2],0,et[0],et[1],et[2],0,0,0,0,1],lt=[Qe,n.latLngToECEF(Ee.lat,Ee.lng),n.latLngToECEF(Te.lat,Ee.lng),n.latLngToECEF(Te.lat,Te.lng),n.latLngToECEF(Ee.lat,Te.lng),n.latLngToECEF(Re,Ee.lng),n.latLngToECEF(Re,Te.lng),n.latLngToECEF(Ee.lat,We),n.latLngToECEF(Te.lat,We)];let tt=n.Aabb.fromPoints(lt.map(Ot=>[n.dot(rt,Ot),n.dot(Xe,Ot),n.dot(et,Ot)]));const pt=n.transformMat4([],tt.center,Ze);n.squaredLength(pt)===0&&n.set(pt,0,0,1),n.normalize(pt,pt),n.scale$2(pt,pt,n.GLOBE_RADIUS),ce.center=n.ecefToLatLng(pt);const wt=ce.getWorldToCameraMatrix(),mt=n.invert(new Float64Array(16),wt);tt=n.Aabb.applyTransform(tt,n.multiply([],wt,Ze)),n.transformMat4(pt,pt,wt);const At=.5*(tt.max[2]-tt.min[2]),$t=this._minimumAABBFrustumDistance(ce,tt),Ft=n.scale$2([],[0,0,1],At),Pt=n.add(Ft,pt,Ft),pi=$t+(ce.pitch===0?0:n.distance(pt,Pt)),Bt=ce.globeCenterInViewSpace,si=n.sub([],pt,[Bt[0],Bt[1],Bt[2]]);n.normalize(si,si),n.scale$2(si,si,pi);const Yt=n.add([],pt,si);n.transformMat4(Yt,Yt,mt);const xi=n.earthRadius/n.GLOBE_RADIUS,qt=n.length(Yt),di=n.mercatorZfromAltitude(qt*xi-n.earthRadius,0),wi=Math.min(ce.zoomFromMercatorZAdjusted(di),de.maxZoom);return wi>.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(ce.setProjection({name:"mercator"}),ce.zoom=wi,this._cameraForBounds(ce,d,x,E,A,J)):{center:ce.center,zoom:wi,bearing:E,pitch:A}}queryTerrainElevation(a,d){const x=this.transform.elevation;return x?(d=n.extend({},{exaggerated:!0},d),x.getAtPoint(n.MercatorCoordinate.fromLngLat(a),null,d.exaggerated)):null}_cameraForBounds(a,d,x,E,A,J){if(a.projection.name==="globe")return this._cameraForBoundsOnGlobe(a,d,x,E,A,J);const ce=a.clone(),de=this._extendCameraOptions(J),Ee=ce.padding;ce.bearing=E,ce.pitch=A;const Te=n.LngLat.convert(d),Re=n.LngLat.convert(x),We=new n.LngLat(Te.lng,Re.lat),Qe=new n.LngLat(Re.lng,Te.lat),et=ce.project(Te),rt=ce.project(Re),Xe=this.queryTerrainElevation(Te),Ze=this.queryTerrainElevation(Re),lt=this.queryTerrainElevation(We),tt=this.queryTerrainElevation(Qe),pt=[[et.x,et.y,Math.min(Xe||0,Ze||0,lt||0,tt||0)],[rt.x,rt.y,Math.max(Xe||0,Ze||0,lt||0,tt||0)]];let wt=n.Aabb.fromPoints(pt);const mt=ce.getWorldToCameraMatrix(),At=n.invert(new Float64Array(16),mt);wt=n.Aabb.applyTransform(wt,mt);const $t=n.sub([],wt.max,wt.min),Ft=Ee.left||0,Pt=Ee.right||0,pi=Ee.bottom||0,Bt=Ee.top||0,{left:si,right:Yt,top:xi,bottom:qt}=de.padding,di=.5*(Ft+Pt),wi=.5*(Bt+pi),Ot=Math.min(ce.scaleZoom(ce.scale*Math.min((ce.width-(Ft+Pt+si+Yt))/$t[0],(ce.height-(pi+Bt+qt+xi))/$t[1])),de.maxZoom),Xt=ce.scale/ce.zoomScale(Ot);wt=new n.Aabb([wt.min[0]-(si+di)*Xt,wt.min[1]-(qt+wi)*Xt,wt.min[2]],[wt.max[0]+(Yt+di)*Xt,wt.max[1]+(xi+wi)*Xt,wt.max[2]]);const Vi=.5*$t[2],Qi=this._minimumAABBFrustumDistance(ce,wt),Wi=[0,0,1,0];n.transformMat4$1(Wi,Wi,mt),n.normalize$2(Wi,Wi);const dn=n.scale$2([],Wi,Qi+Vi),Rn=n.add([],wt.center,dn),tn=(typeof de.offset.x=="number"&&typeof de.offset.y=="number"?new n.pointGeometry(de.offset.x,de.offset.y):n.pointGeometry.convert(de.offset)).rotate(-n.degToRad(E));wt.center[0]-=tn.x*Xt,wt.center[1]+=tn.y*Xt,n.transformMat4(wt.center,wt.center,At),n.transformMat4(Rn,Rn,At);const Ui=[wt.center[0],wt.center[1],Rn[2]*ce.pixelsPerMeter];n.scale$2(Ui,Ui,1/ce.worldSize);const br=n.lngFromMercatorX(Ui[0]),lr=n.latFromMercatorY(Ui[1]),Er=Math.min(ce._zoomFromMercatorZ(Ui[2]),de.maxZoom),yr=new n.LngLat(br,lr);return ce.mercatorFromTransition&&Er<.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(ce.setProjection({name:"globe"}),ce.zoom=Er,this._cameraForBounds(ce,d,x,E,A,J)):{center:yr,zoom:Er,bearing:E,pitch:A}}fitBounds(a,d,x){const E=this.cameraForBounds(a,d);return this._fitInternal(E,d,x)}fitScreenCoordinates(a,d,x,E,A){const J=n.pointGeometry.convert(a),ce=n.pointGeometry.convert(d),de=new n.pointGeometry(Math.min(J.x,ce.x),Math.min(J.y,ce.y)),Ee=new n.pointGeometry(Math.max(J.x,ce.x),Math.max(J.y,ce.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(J,ce))return this;const Te=this.transform.pointLocation3D(de),Re=this.transform.pointLocation3D(Ee),We=this.transform.pointLocation3D(new n.pointGeometry(de.x,Ee.y)),Qe=this.transform.pointLocation3D(new n.pointGeometry(Ee.x,de.y)),et=[Math.min(Te.lng,Re.lng,We.lng,Qe.lng),Math.min(Te.lat,Re.lat,We.lat,Qe.lat)],rt=[Math.max(Te.lng,Re.lng,We.lng,Qe.lng),Math.max(Te.lat,Re.lat,We.lat,Qe.lat)],Xe=E&&E.pitch?E.pitch:this.getPitch(),Ze=this._cameraForBounds(this.transform,et,rt,x,Xe,E);return this._fitInternal(Ze,E,A)}_fitInternal(a,d,x){return a?(delete(d=n.extend(a,d)).padding,d.linear?this.easeTo(d,x):this.flyTo(d,x)):this}jumpTo(a,d){this.stop();const x=a.preloadOnly?this.transform.clone():this.transform;let E=!1,A=!1,J=!1;return"zoom"in a&&x.zoom!==+a.zoom&&(E=!0,x.zoom=+a.zoom),a.center!==void 0&&(x.center=n.LngLat.convert(a.center)),"bearing"in a&&x.bearing!==+a.bearing&&(A=!0,x.bearing=+a.bearing),"pitch"in a&&x.pitch!==+a.pitch&&(J=!0,x.pitch=+a.pitch),a.padding==null||x.isPaddingEqual(a.padding)||(x.padding=a.padding),a.preloadOnly?(this._preloadTiles(x),this):(this.fire(new n.Event("movestart",d)).fire(new n.Event("move",d)),E&&this.fire(new n.Event("zoomstart",d)).fire(new n.Event("zoom",d)).fire(new n.Event("zoomend",d)),A&&this.fire(new n.Event("rotatestart",d)).fire(new n.Event("rotate",d)).fire(new n.Event("rotateend",d)),J&&this.fire(new n.Event("pitchstart",d)).fire(new n.Event("pitch",d)).fire(new n.Event("pitchend",d)),this.fire(new n.Event("moveend",d)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||n.warnOnce(vp),this.transform.getFreeCameraOptions()}setFreeCameraOptions(a,d){const x=this.transform;if(!x.projection.supportsFreeCamera)return n.warnOnce(vp),this;this.stop();const E=x.zoom,A=x.pitch,J=x.bearing;x.setFreeCameraOptions(a);const ce=E!==x.zoom,de=A!==x.pitch,Ee=J!==x.bearing;return this.fire(new n.Event("movestart",d)).fire(new n.Event("move",d)),ce&&this.fire(new n.Event("zoomstart",d)).fire(new n.Event("zoom",d)).fire(new n.Event("zoomend",d)),Ee&&this.fire(new n.Event("rotatestart",d)).fire(new n.Event("rotate",d)).fire(new n.Event("rotateend",d)),de&&this.fire(new n.Event("pitchstart",d)).fire(new n.Event("pitch",d)).fire(new n.Event("pitchend",d)),this.fire(new n.Event("moveend",d)),this}easeTo(a,d){this._stop(!1,a.easeId),((a=n.extend({offset:[0,0],duration:500,easing:n.ease},a)).animate===!1||!a.essential&&n.exported.prefersReducedMotion)&&(a.duration=0);const x=this.transform,E=this.getZoom(),A=this.getBearing(),J=this.getPitch(),ce=this.getPadding(),de="zoom"in a?+a.zoom:E,Ee="bearing"in a?this._normalizeBearing(a.bearing,A):A,Te="pitch"in a?+a.pitch:J,Re="padding"in a?a.padding:x.padding,We=n.pointGeometry.convert(a.offset);let Qe,et,rt;if(x.projection.name==="globe"){const Ft=n.MercatorCoordinate.fromLngLat(x.center),Pt=We.rotate(-x.angle);Ft.x+=Pt.x/x.worldSize,Ft.y+=Pt.y/x.worldSize;const pi=Ft.toLngLat(),Bt=n.LngLat.convert(a.center||pi);this._normalizeCenter(Bt),Qe=x.centerPoint.add(Pt),et=new n.pointGeometry(Ft.x,Ft.y).mult(x.worldSize),rt=new n.pointGeometry(n.mercatorXfromLng(Bt.lng),n.mercatorYfromLat(Bt.lat)).mult(x.worldSize).sub(et)}else{Qe=x.centerPoint.add(We);const Ft=x.pointLocation(Qe),Pt=n.LngLat.convert(a.center||Ft);this._normalizeCenter(Pt),et=x.project(Ft),rt=x.project(Pt).sub(et)}const Xe=x.zoomScale(de-E);let Ze,lt;a.around&&(Ze=n.LngLat.convert(a.around),lt=x.locationPoint(Ze));const tt=this._zooming||de!==E,pt=this._rotating||A!==Ee,wt=this._pitching||Te!==J,mt=!x.isPaddingEqual(Re),At=Ft=>Pt=>{if(tt&&(Ft.zoom=n.number(E,de,Pt)),pt&&(Ft.bearing=n.number(A,Ee,Pt)),wt&&(Ft.pitch=n.number(J,Te,Pt)),mt&&(Ft.interpolatePadding(ce,Re,Pt),Qe=Ft.centerPoint.add(We)),Ze)Ft.setLocationAtPoint(Ze,lt);else{const pi=Ft.zoomScale(Ft.zoom-E),Bt=de>E?Math.min(2,Xe):Math.max(.5,Xe),si=Math.pow(Bt,1-Pt),Yt=Ft.unproject(et.add(rt.mult(Pt*si)).mult(pi));Ft.setLocationAtPoint(Ft.renderWorldCopies?Yt.wrap():Yt,Qe)}return a.preloadOnly||this._fireMoveEvents(d),Ft};if(a.preloadOnly){const Ft=this._emulate(At,a.duration,x);return this._preloadTiles(Ft),this}const $t={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=tt,this._rotating=pt,this._pitching=wt,this._padding=mt,this._easeId=a.easeId,this._prepareEase(d,a.noMoveStart,$t),this._ease(At(x),Ft=>{x.recenterOnTerrain(),this._afterEase(d,Ft)},a),this}_prepareEase(a,d,x={}){this._moving=!0,this.transform.cameraElevationReference="sea",d||x.moving||this.fire(new n.Event("movestart",a)),this._zooming&&!x.zooming&&this.fire(new n.Event("zoomstart",a)),this._rotating&&!x.rotating&&this.fire(new n.Event("rotatestart",a)),this._pitching&&!x.pitching&&this.fire(new n.Event("pitchstart",a))}_fireMoveEvents(a){this.fire(new n.Event("move",a)),this._zooming&&this.fire(new n.Event("zoom",a)),this._rotating&&this.fire(new n.Event("rotate",a)),this._pitching&&this.fire(new n.Event("pitch",a))}_afterEase(a,d){if(this._easeId&&d&&this._easeId===d)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const x=this._zooming,E=this._rotating,A=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,x&&this.fire(new n.Event("zoomend",a)),E&&this.fire(new n.Event("rotateend",a)),A&&this.fire(new n.Event("pitchend",a)),this.fire(new n.Event("moveend",a))}flyTo(a,d){if(!a.essential&&n.exported.prefersReducedMotion){const Ot=n.pick(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ot,d)}this.stop(),a=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},a);const x=this.transform,E=this.getZoom(),A=this.getBearing(),J=this.getPitch(),ce=this.getPadding(),de="zoom"in a?n.clamp(+a.zoom,x.minZoom,x.maxZoom):E,Ee="bearing"in a?this._normalizeBearing(a.bearing,A):A,Te="pitch"in a?+a.pitch:J,Re="padding"in a?a.padding:x.padding,We=x.zoomScale(de-E),Qe=n.pointGeometry.convert(a.offset);let et=x.centerPoint.add(Qe);const rt=x.pointLocation(et),Xe=n.LngLat.convert(a.center||rt);this._normalizeCenter(Xe);const Ze=x.project(rt),lt=x.project(Xe).sub(Ze);let tt=a.curve;const pt=Math.max(x.width,x.height),wt=pt/We,mt=lt.mag();if("minZoom"in a){const Ot=n.clamp(Math.min(a.minZoom,E,de),x.minZoom,x.maxZoom),Xt=pt/x.zoomScale(Ot-E);tt=Math.sqrt(Xt/mt*2)}const At=tt*tt;function $t(Ot){const Xt=(wt*wt-pt*pt+(Ot?-1:1)*At*At*mt*mt)/(2*(Ot?wt:pt)*At*mt);return Math.log(Math.sqrt(Xt*Xt+1)-Xt)}function Ft(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function Pt(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}const pi=$t(0);let Bt=function(Ot){return Pt(pi)/Pt(pi+tt*Ot)},si=function(Ot){return pt*((Pt(pi)*(Ft(Xt=pi+tt*Ot)/Pt(Xt))-Ft(pi))/At)/mt;var Xt},Yt=($t(1)-pi)/tt;if(Math.abs(mt)<1e-6||!isFinite(Yt)){if(Math.abs(pt-wt)<1e-6)return this.easeTo(a,d);const Ot=wt<pt?-1:1;Yt=Math.abs(Math.log(wt/pt))/tt,si=function(){return 0},Bt=function(Xt){return Math.exp(Ot*tt*Xt)}}a.duration="duration"in a?+a.duration:1e3*Yt/("screenSpeed"in a?+a.screenSpeed/tt:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0);const xi=A!==Ee,qt=Te!==J,di=!x.isPaddingEqual(Re),wi=Ot=>Xt=>{const Vi=Xt*Yt,Qi=1/Bt(Vi);Ot.zoom=Xt===1?de:E+Ot.scaleZoom(Qi),xi&&(Ot.bearing=n.number(A,Ee,Xt)),qt&&(Ot.pitch=n.number(J,Te,Xt)),di&&(Ot.interpolatePadding(ce,Re,Xt),et=Ot.centerPoint.add(Qe));const Wi=Xt===1?Xe:Ot.unproject(Ze.add(lt.mult(si(Vi))).mult(Qi));return Ot.setLocationAtPoint(Ot.renderWorldCopies?Wi.wrap():Wi,et),Ot._updateCameraOnTerrain(),a.preloadOnly||this._fireMoveEvents(d),Ot};if(a.preloadOnly){const Ot=this._emulate(wi,a.duration,x);return this._preloadTiles(Ot),this}return this._zooming=!0,this._rotating=xi,this._pitching=qt,this._padding=di,this._prepareEase(d,!1),this._ease(wi(x),()=>this._afterEase(d),a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const x=this._onEaseEnd;this._onEaseEnd=void 0,x.call(this,d)}if(!a){const x=this.handlers;x&&x.stop(!1)}return this}_ease(a,d,x){x.animate===!1||x.duration===0?(a(1),d()):(this._easeStart=n.exported.now(),this._easeOptions=x,this._onEaseFrame=a,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const a=Math.min((n.exported.now()-this._easeStart)/this._easeOptions.duration,1),d=this._onEaseFrame;d&&d(this._easeOptions.easing(a)),a<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(a,d){a=n.wrap(a,-180,180);const x=Math.abs(a-d);return Math.abs(a-360-d)<x&&(a-=360),Math.abs(a+360-d)<x&&(a+=360),a}_normalizeCenter(a){const d=this.transform;if(!d.renderWorldCopies||d.maxBounds)return;const x=a.lng-d.center.lng;a.lng+=x>180?-360:x<-180?360:0}_emulate(a,d,x){const E=Math.ceil(15*d/1e3),A=[],J=a(x.clone());for(let ce=0;ce<=E;ce++){const de=J(ce/E);A.push(de.clone())}return A}}class bp{constructor(a={}){this.options=a,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(a){const d=this.options&&this.options.compact;return this._map=a,this._container=q("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=q("button","mapboxgl-ctrl-attrib-button",this._container),q("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=q("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),d&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),d===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(a,d){const x=this._map._getUIString(`AttributionControl.${d}`);a.setAttribute("aria-label",x),a.removeAttribute("title"),a.firstElementChild&&a.firstElementChild.setAttribute("title",x)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let a=this._editLink;a||(a=this._editLink=this._container.querySelector(".mapbox-improve-map"));const d=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(a){const x=d.reduce((E,A,J)=>(A.value&&(E+=`${A.key}=${A.value}${J<d.length-1?"&":""}`),E),"?");a.href=`${n.config.FEEDBACK_URL}/${x}#${ga(this._map,!0)}`,a.rel="noopener nofollow",this._setElementTitle(a,"MapFeedback")}}_updateData(a){!a||a.sourceDataType!=="metadata"&&a.sourceDataType!=="visibility"&&a.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let a=[];if(this._map.style.stylesheet){const E=this._map.style.stylesheet;this.styleOwner=E.owner,this.styleId=E.id}const d=this._map.style._sourceCaches;for(const E in d){const A=d[E];if(A.used){const J=A.getSource();J.attribution&&a.indexOf(J.attribution)<0&&a.push(J.attribution)}}a.sort((E,A)=>E.length-A.length),a=a.filter((E,A)=>{for(let J=A+1;J<a.length;J++)if(a[J].indexOf(E)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=[...this.options.customAttribution,...a]:a.unshift(this.options.customAttribution));const x=a.join(" | ");x!==this._attribHTML&&(this._attribHTML=x,a.length?(this._innerContainer.innerHTML=x,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class wp{constructor(){n.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(a){this._map=a,this._container=q("div","mapboxgl-ctrl");const d=q("a","mapboxgl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://www.mapbox.com/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(a){a&&a.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const a=this._map.style._sourceCaches;if(Object.entries(a).length===0)return!0;for(const d in a){const x=a[d].getSource();if(x.hasOwnProperty("mapbox_logo")&&!x.mapbox_logo)return!1}return!0}_updateCompact(){const a=this._container.children;if(a.length){const d=a[0];this._map.getCanvasContainer().offsetWidth<250?d.classList.add("mapboxgl-compact"):d.classList.remove("mapboxgl-compact")}}}class Tp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const d=++this._id;return this._queue.push({callback:a,id:d,cancelled:!1}),d}remove(a){const d=this._currentlyRunning,x=d?this._queue.concat(d):this._queue;for(const E of x)if(E.id===a)return void(E.cancelled=!0)}run(a=0){const d=this._currentlyRunning=this._queue;this._queue=[];for(const x of d)if(!x.cancelled&&(x.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Sp(m,a,d){if(m=new n.LngLat(m.lng,m.lat),a){const x=new n.LngLat(m.lng-360,m.lat),E=new n.LngLat(m.lng+360,m.lat),A=360*Math.ceil(Math.abs(m.lng-d.center.lng)/360),J=d.locationPoint(m).distSqr(a),ce=a.x<0||a.y<0||a.x>d.width||a.y>d.height;d.locationPoint(x).distSqr(a)<J&&(ce||Math.abs(x.lng-d.center.lng)<A)?m=x:d.locationPoint(E).distSqr(a)<J&&(ce||Math.abs(E.lng-d.center.lng)<A)&&(m=E)}for(;Math.abs(m.lng-d.center.lng)>180;){const x=d.locationPoint(m);if(x.x>=0&&x.y>=0&&x.x<=d.width&&x.y<=d.height)break;m.lng>d.center.lng?m.lng-=360:m.lng+=360}return m}const Ih={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Fa extends n.Evented{constructor(a,d){if(super(),(a instanceof n.window.HTMLElement||d)&&(a=n.extend({element:a},d)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=a&&a.occludedOpacity||.2,a&&a.element)this._element=a.element,this._offset=n.pointGeometry.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=q("div");const E=41,A=27,J=Z("svg",{display:"block",height:E*this._scale+"px",width:A*this._scale+"px",viewBox:`0 0 ${A} ${E}`},this._element),ce=Z("radialGradient",{id:"shadowGradient"},Z("defs",{},J));Z("stop",{offset:"10%","stop-opacity":.4},ce),Z("stop",{offset:"100%","stop-opacity":.05},ce),Z("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},J),Z("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},J),Z("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},J),Z("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},J),this._offset=n.pointGeometry.convert(a&&a.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",E=>{E.preventDefault()}),this._element.addEventListener("mousedown",E=>{E.preventDefault()});const x=this._element.classList;for(const E in Ih)x.remove(`mapboxgl-marker-anchor-${E}`);x.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(a){return a===this._map||(this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._updateMoving),a.on("moveend",this._update),a.on("remove",this._clearFadeTimer),a._addMarker(this),this.setDraggable(this._draggable),this._update(),a.on("click",this._onMapClick)),this}remove(){const a=this._map;return a&&(a.off("click",this._onMapClick),a.off("move",this._updateMoving),a.off("moveend",this._update),a.off("mousedown",this._addDragHandler),a.off("touchstart",this._addDragHandler),a.off("mouseup",this._onUp),a.off("touchend",this._onUp),a.off("mousemove",this._onMove),a.off("touchmove",this._onMove),a.off("remove",this._clearFadeTimer),a._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=n.LngLat.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const E=Math.sqrt(Math.pow(13.5,2)/2);a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[E,-1*(38.1-13.5+E)],"bottom-right":[-E,-1*(38.1-13.5+E)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,a._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(a){const d=a.code,x=a.charCode||a.keyCode;d!=="Space"&&d!=="Enter"&&x!==32&&x!==13||this.togglePopup()}_onMapClick(a){const d=a.originalEvent.target,x=this._element;this._popup&&(d===x||x.contains(d))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?(a.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(a.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const a=this._map,d=this._pos;if(!a||!d)return!1;const x=a.unproject(d),E=a.getFreeCameraOptions();if(!E.position)return!1;const A=E.position.toLngLat();return A.distanceTo(x)<.9*A.distanceTo(this._lngLat)}_evaluateOpacity(){const a=this._map;if(!a)return;const d=this._pos;if(!d||d.x<0||d.x>a.transform.width||d.y<0||d.y>a.transform.height)return void this._clearFadeTimer();const x=a.unproject(d);let E;a._showingGlobe()&&n.isLngLatBehindGlobe(a.transform,this._lngLat)?E=0:(E=1-a._queryFogOpacity(x),a.transform._terrainEnabled()&&a.getTerrain()&&this._behindTerrain()&&(E*=this._occludedOpacity)),this._element.style.opacity=`${E}`,this._element.style.pointerEvents=E>0?"auto":"none",this._popup&&this._popup._setOpacity(E),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const a=this._pos;if(!a||!this._map)return;const d=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${a.x}px,${a.y}px)
            ${Ih[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${d.x}px,${d.y}px)
        `}_calculateXYTransform(){const a=this._pos,d=this._map,x=this.getPitchAlignment();if(!d||!a||x!=="map")return"";if(!d._showingGlobe()){const de=d.getPitch();return de?`rotateX(${de}deg)`:""}const E=n.radToDeg(n.globeTiltAtLngLat(d.transform,this._lngLat)),A=a.sub(n.globeCenterToScreenPoint(d.transform)),J=Math.abs(A.x)+Math.abs(A.y);if(J===0)return"";const ce=E/J;return`rotateX(${-A.y*ce}deg) rotateY(${A.x*ce}deg)`}_calculateZTransform(){const a=this._pos,d=this._map;if(!d||!a)return"";let x=0;const E=this.getRotationAlignment();if(E==="map")if(d._showingGlobe()){const A=d.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),J=d.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(A);x=n.radToDeg(Math.atan2(J.y,J.x))-90}else x=-d.getBearing();else if(E==="horizon"){const A=n.smoothstep(4,6,d.getZoom()),J=n.globeCenterToScreenPoint(d.transform);J.y+=A*d.transform.height;const ce=a.sub(J),de=n.radToDeg(Math.atan2(ce.y,ce.x));x=(de>90?de-270:de+90)*(1-A)}return x+=this._rotation,x?`rotateZ(${x}deg)`:""}_update(a){n.window.cancelAnimationFrame(this._updateFrameId);const d=this._map;d&&(d.transform.renderWorldCopies&&(this._lngLat=Sp(this._lngLat,this._pos,d.transform)),this._pos=d.project(this._lngLat),a===!0?this._updateFrameId=n.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),d._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(d._showingGlobe()||d.getTerrain()||d.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(a){return this._offset=n.pointGeometry.convert(a),this._update(),this}_onMove(a){const d=this._map;if(!d)return;const x=this._pointerdownPos,E=this._positionDelta;if(x&&E){if(!this._isDragging){const A=this._clickTolerance||d._clickTolerance;if(a.point.dist(x)<A)return;this._isDragging=!0}this._pos=a.point.sub(E),this._lngLat=d.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const a=this._map;a&&(a.off("mousemove",this._onMove),a.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"}_addDragHandler(a){const d=this._map,x=this._pos;d&&x&&this._element.contains(a.originalEvent.target)&&(a.preventDefault(),this._positionDelta=a.point.sub(x),this._pointerdownPos=a.point,this._state="pending",d.on("mousemove",this._onMove),d.on("touchmove",this._onMove),d.once("mouseup",this._onUp),d.once("touchend",this._onUp))}setDraggable(a){this._draggable=!!a;const d=this._map;return d&&(a?(d.on("mousedown",this._addDragHandler),d.on("touchstart",this._addDragHandler)):(d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(a){return this._occludedOpacity=a||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const uu={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Wf=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ra(m=new n.pointGeometry(0,0),a="bottom"){if(typeof m=="number"){const d=Math.round(Math.sqrt(.5*Math.pow(m,2)));switch(a){case"top":return new n.pointGeometry(0,m);case"top-left":return new n.pointGeometry(d,d);case"top-right":return new n.pointGeometry(-d,d);case"bottom":return new n.pointGeometry(0,-m);case"bottom-left":return new n.pointGeometry(d,-d);case"bottom-right":return new n.pointGeometry(-d,-d);case"left":return new n.pointGeometry(m,0);case"right":return new n.pointGeometry(-m,0)}return new n.pointGeometry(0,0)}return m instanceof n.pointGeometry||Array.isArray(m)?n.pointGeometry.convert(m):n.pointGeometry.convert(m[a]||[0,0])}class Hf{constructor(a){this.jumpTo(a)}getValue(a){if(a<=this._startTime)return this._start;if(a>=this._endTime)return this._end;const d=n.easeCubicInOut((a-this._startTime)/(this._endTime-this._startTime));return this._start*(1-d)+this._end*d}isEasing(a){return a>=this._startTime&&a<=this._endTime}jumpTo(a){this._startTime=-1/0,this._endTime=-1/0,this._start=a,this._end=a}easeTo(a,d,x){this._start=this.getValue(d),this._end=a,this._startTime=d,this._endTime=d+x}}const $f={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},Xf={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Yf={showCompass:!0,showZoom:!0,visualizePitch:!1};class qf{constructor(a,d,x=!1){this._clickTolerance=10,this.element=d,this.mouseRotate=new gp({clickTolerance:a.dragRotate._mouseRotate._clickTolerance}),this.map=a,x&&(this.mousePitch=new _p({clickTolerance:a.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),d.addEventListener("mousedown",this.mousedown),d.addEventListener("touchstart",this.touchstart,{passive:!1}),d.addEventListener("touchmove",this.touchmove),d.addEventListener("touchend",this.touchend),d.addEventListener("touchcancel",this.reset)}down(a,d){this.mouseRotate.mousedown(a,d),this.mousePitch&&this.mousePitch.mousedown(a,d),R()}move(a,d){const x=this.map,E=this.mouseRotate.mousemoveWindow(a,d),A=E&&E.bearingDelta;if(A&&x.setBearing(x.getBearing()+A),this.mousePitch){const J=this.mousePitch.mousemoveWindow(a,d),ce=J&&J.pitchDelta;ce&&x.setPitch(x.getPitch()+ce)}}off(){const a=this.element;a.removeEventListener("mousedown",this.mousedown),a.removeEventListener("touchstart",this.touchstart,{passive:!1}),a.removeEventListener("touchmove",this.touchmove),a.removeEventListener("touchend",this.touchend),a.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){D(),n.window.removeEventListener("mousemove",this.mousemove),n.window.removeEventListener("mouseup",this.mouseup)}mousedown(a){this.down(n.extend({},a,{ctrlKey:!0,preventDefault:()=>a.preventDefault()}),j(this.element,a)),n.window.addEventListener("mousemove",this.mousemove),n.window.addEventListener("mouseup",this.mouseup)}mousemove(a){this.move(a,j(this.element,a))}mouseup(a){this.mouseRotate.mouseupWindow(a),this.mousePitch&&this.mousePitch.mouseupWindow(a),this.offTemp()}touchstart(a){a.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S(this.element,a.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>a.preventDefault()},this._startPos))}touchmove(a){a.targetTouches.length!==1?this.reset():(this._lastPos=S(this.element,a.targetTouches)[0],this.move({preventDefault:()=>a.preventDefault()},this._lastPos))}touchend(a){a.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const pu={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Ep={maxWidth:100,unit:"metric"};function Zf(m,a,d){const x=Mp(a),E=x/a,A={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[d];this._map._requestDomTask(()=>{this._container.style.width=m*E+"px",this._container.innerHTML=`${x}&nbsp;${A}`})}function Mp(m){const a=Math.pow(10,`${Math.floor(m)}`.length-1);let d=m/a;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:d>=1?1:function(x){const E=Math.pow(10,Math.ceil(-Math.log(x)/Math.LN10));return Math.round(x*E)/E}(d),a*d}const qc={version:n.version,supported:z,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:class extends rl{constructor(m){if(n.LivePerformanceUtils.mark(n.PerformanceMarkers.create),(m=n.extend({},Xf,m)).minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(m.antialias&&n.isSafariWithAntialiasingBug(n.window)&&(m.antialias=!1,n.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new zl(m.minZoom,m.maxZoom,m.minPitch,m.maxPitch,m.renderWorldCopies),m),this._interactive=m.interactive,this._minTileCacheSize=m.minTileCacheSize,this._maxTileCacheSize=m.maxTileCacheSize,this._failIfMajorPerformanceCaveat=m.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=m.preserveDrawingBuffer,this._antialias=m.antialias,this._trackResize=m.trackResize,this._bearingSnap=m.bearingSnap,this._refreshExpiredTiles=m.refreshExpiredTiles,this._fadeDuration=m.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=m.crossSourceCollisions,this._collectResourceTiming=m.collectResourceTiming,this._optimizeForTerrain=m.optimizeForTerrain,this._language=this._parseLanguage(m.language),this._worldview=m.worldview,this._renderTaskQueue=new Tp,this._domRenderTaskQueue=new Tp,this._controls=[],this._markers=[],this._popups=[],this._mapId=n.uniqueId(),this._locale=n.extend({},$f,m.locale),this._clickTolerance=m.clickTolerance,this._cooperativeGestures=m.cooperativeGestures,this._performanceMetricsCollection=m.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Hf(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new n.RequestManager(m.transformRequest,m.accessToken,m.testMode),this._silenceAuthErrors=!!m.testMode,typeof m.container=="string"){if(this._container=n.window.document.getElementById(m.container),!this._container)throw new Error(`Container '${m.container}' not found.`)}else{if(!(m.container instanceof n.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(this._container.childNodes.length>0&&n.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),m.maxBounds&&this.setMaxBounds(m.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),n.window!==void 0&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1),n.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new fd(this,m),this._localFontFamily=m.localFontFamily,this._localIdeographFontFamily=m.localIdeographFontFamily,m.style&&this.setStyle(m.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),m.projection&&this.setProjection(m.projection),this._hash=m.hash&&new ji(typeof m.hash=="string"&&m.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),m.bounds&&(this.resize(),this.fitBounds(m.bounds,n.extend({},m.fitBoundsOptions,{duration:0})))),this.resize(),m.attributionControl&&this.addControl(new bp({customAttribution:m.customAttribution})),this._logoControl=new wp,this.addControl(this._logoControl,m.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",a=>{this._update(a.dataType==="style"),this.fire(new n.Event(`${a.dataType}data`,a))}),this.on("dataloading",a=>{this.fire(new n.Event(`${a.dataType}dataloading`,a))})}_getMapId(){return this._mapId}addControl(m,a){if(a===void 0&&(a=m.getDefaultPosition?m.getDefaultPosition():"top-right"),!m||!m.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=m.onAdd(this);this._controls.push(m);const x=this._controlPositions[a];return a.indexOf("bottom")!==-1?x.insertBefore(d,x.firstChild):x.appendChild(d),this}removeControl(m){if(!m||!m.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(m);return a>-1&&this._controls.splice(a,1),m.onRemove(this),this}hasControl(m){return this._controls.indexOf(m)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(m){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const a=!this._moving;return a&&this.fire(new n.Event("movestart",m)).fire(new n.Event("move",m)),this.fire(new n.Event("resize",m)),a&&this.fire(new n.Event("moveend",m)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(m){return this.transform.setMaxBounds(n.LngLatBounds.convert(m)),this._update()}setMinZoom(m){if((m=m??-2)>=-2&&m<=this.transform.maxZoom)return this.transform.minZoom=m,this._update(),this.getZoom()<m?this.setZoom(m):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(m){if((m=m??22)>=this.transform.minZoom)return this.transform.maxZoom=m,this._update(),this.getZoom()>m?this.setZoom(m):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(m){if((m=m??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(m>=0&&m<=this.transform.maxPitch)return this.transform.minPitch=m,this._update(),this.getPitch()<m?this.setPitch(m):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(m){if((m=m??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(m>=this.transform.minPitch)return this.transform.maxPitch=m,this._update(),this.getPitch()>m?this.setPitch(m):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(m){return this.transform.renderWorldCopies=m,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(m){return m==="auto"?n.window.navigator.language:Array.isArray(m)?m.length===0?void 0:m.map(a=>a==="auto"?n.window.navigator.language:a):m}setLanguage(m){const a=this._parseLanguage(m);if(!this.style||a===this._language)return this;this._language=a,this.style._reloadSources();for(const d of this._controls)d._setLanguage&&d._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(m){return this.style&&m!==this._worldview?(this._worldview=m,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(m){return this._lazyInitEmptyStyle(),m?typeof m=="string"&&(m={name:m}):m=null,this._useExplicitProjection=!!m,this._prioritizeAndUpdateProjection(m,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const m=this.transform,a=m.projection.name;let d;a==="globe"&&m.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?(m.setMercatorFromTransition(),d=!0):a==="mercator"&&m.zoom<n.GLOBE_ZOOM_THRESHOLD_MAX&&(m.setProjection({name:"globe"}),d=!0),d&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(m,a){return this._updateProjection(m||a||{name:"mercator"})}_updateProjection(m){let a;if(a=m.name==="globe"&&this.transform.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(m),this.style.applyProjectionUpdate(),a){this.painter.clearBackgroundTiles();for(const d in this.style._sourceCaches)this.style._sourceCaches[d].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(m){return this.transform.locationPoint3D(n.LngLat.convert(m))}unproject(m){return this.transform.pointLocation3D(n.pointGeometry.convert(m))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(m,a,d){if(m==="mouseenter"||m==="mouseover"){let x=!1;const E=J=>{const ce=a.filter(Ee=>this.getLayer(Ee)),de=ce.length?this.queryRenderedFeatures(J.point,{layers:ce}):[];de.length?x||(x=!0,d.call(this,new Or(m,this,J.originalEvent,{features:de}))):x=!1},A=()=>{x=!1};return{layers:new Set(a),listener:d,delegates:{mousemove:E,mouseout:A}}}if(m==="mouseleave"||m==="mouseout"){let x=!1;const E=J=>{const ce=a.filter(de=>this.getLayer(de));(ce.length?this.queryRenderedFeatures(J.point,{layers:ce}):[]).length?x=!0:x&&(x=!1,d.call(this,new Or(m,this,J.originalEvent)))},A=J=>{x&&(x=!1,d.call(this,new Or(m,this,J.originalEvent)))};return{layers:new Set(a),listener:d,delegates:{mousemove:E,mouseout:A}}}{const x=E=>{const A=a.filter(ce=>this.getLayer(ce)),J=A.length?this.queryRenderedFeatures(E.point,{layers:A}):[];J.length&&(E.features=J,d.call(this,E),delete E.features)};return{layers:new Set(a),listener:d,delegates:{[m]:x}}}}on(m,a,d){if(d===void 0)return super.on(m,a);Array.isArray(a)||(a=[a]);const x=this._createDelegatedListener(m,a,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[m]=this._delegatedListeners[m]||[],this._delegatedListeners[m].push(x);for(const E in x.delegates)this.on(E,x.delegates[E]);return this}once(m,a,d){if(d===void 0)return super.once(m,a);Array.isArray(a)||(a=[a]);const x=this._createDelegatedListener(m,a,d);for(const E in x.delegates)this.once(E,x.delegates[E]);return this}off(m,a,d){if(d===void 0)return super.off(m,a);a=new Set(Array.isArray(a)?a:[a]);const x=(A,J)=>{if(A.size!==J.size)return!1;for(const ce of A)if(!J.has(ce))return!1;return!0},E=this._delegatedListeners?this._delegatedListeners[m]:void 0;return E&&(A=>{for(let J=0;J<A.length;J++){const ce=A[J];if(ce.listener===d&&x(ce.layers,a)){for(const de in ce.delegates)this.off(de,ce.delegates[de]);return A.splice(J,1),this}}})(E),this}queryRenderedFeatures(m,a){return this.style?(a!==void 0||m===void 0||m instanceof n.pointGeometry||Array.isArray(m)||(a=m,m=void 0),this.style.queryRenderedFeatures(m=m||[[0,0],[this.transform.width,this.transform.height]],a=a||{},this.transform)):[]}querySourceFeatures(m,a){return this.style.querySourceFeatures(m,a)}setStyle(m,a){return(a=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&a.localFontFamily===this._localFontFamily&&this.style&&m?(this._diffStyle(m,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._localFontFamily=a.localFontFamily,this._updateStyle(m,a))}_getUIString(m){const a=this._locale[m];if(a==null)throw new Error(`Missing UI string '${m}'`);return a}_updateStyle(m,a){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),m&&(this.style=new k(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof m=="string"?this.style.loadURL(m):this.style.loadJSON(m)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new k(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(m,a){if(typeof m=="string"){const d=this._requestManager.normalizeStyleURL(m),x=this._requestManager.transformRequest(d,n.ResourceType.Style);n.getJSON(x,(E,A)=>{E?this.fire(new n.ErrorEvent(E)):A&&this._updateDiff(A,a)})}else typeof m=="object"&&this._updateDiff(m,a)}_updateDiff(m,a){try{this.style.setState(m)&&this._update(!0)}catch(d){n.warnOnce(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(m,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(n.warnOnce("There is no style added to the map."),!1)}addSource(m,a){return this._lazyInitEmptyStyle(),this.style.addSource(m,a),this._update(!0)}isSourceLoaded(m){return!!this.style&&this.style._isSourceCacheLoaded(m)}areTilesLoaded(){const m=this.style&&this.style._sourceCaches;for(const a in m){const d=m[a]._tiles;for(const x in d){const E=d[x];if(E.state!=="loaded"&&E.state!=="errored")return!1}}return!0}addSourceType(m,a,d){this._lazyInitEmptyStyle(),this.style.addSourceType(m,a,d)}removeSource(m){return this.style.removeSource(m),this._updateTerrain(),this._update(!0)}getSource(m){return this.style.getSource(m)}addImage(m,a,{pixelRatio:d=1,sdf:x=!1,stretchX:E,stretchY:A,content:J}={}){if(this._lazyInitEmptyStyle(),a instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&a instanceof n.window.ImageBitmap){const{width:ce,height:de,data:Ee}=n.exported.getImageData(a);this.style.addImage(m,{data:new n.RGBAImage({width:ce,height:de},Ee),pixelRatio:d,stretchX:E,stretchY:A,content:J,sdf:x,version:0})}else if(a.width===void 0||a.height===void 0)this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:ce,height:de}=a,Ee=a;this.style.addImage(m,{data:new n.RGBAImage({width:ce,height:de},new Uint8Array(Ee.data)),pixelRatio:d,stretchX:E,stretchY:A,content:J,sdf:x,version:0,userImage:Ee}),Ee.onAdd&&Ee.onAdd(this,m)}}updateImage(m,a){const d=this.style.getImage(m);if(!d)return void this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const x=a instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&a instanceof n.window.ImageBitmap?n.exported.getImageData(a):a,{width:E,height:A}=x;E!==void 0&&A!==void 0?E===d.data.width&&A===d.data.height?(d.data.replace(x.data,!(a instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&a instanceof n.window.ImageBitmap)),this.style.updateImage(m,d)):this.fire(new n.ErrorEvent(new Error(`The width and height of the updated image (${E}, ${A})
                must be that same as the previous version of the image
                (${d.data.width}, ${d.data.height})`))):this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(m){return m?!!this.style.getImage(m):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(m){this.style.removeImage(m)}loadImage(m,a){n.getImage(this._requestManager.transformRequest(m,n.ResourceType.Image),(d,x)=>{a(d,x instanceof n.window.HTMLImageElement?n.exported.getImageData(x):x)})}listImages(){return this.style.listImages()}addLayer(m,a){return this._lazyInitEmptyStyle(),this.style.addLayer(m,a),this._update(!0)}moveLayer(m,a){return this.style.moveLayer(m,a),this._update(!0)}removeLayer(m){return this.style.removeLayer(m),this._update(!0)}getLayer(m){return this.style.getLayer(m)}setLayerZoomRange(m,a,d){return this.style.setLayerZoomRange(m,a,d),this._update(!0)}setFilter(m,a,d={}){return this.style.setFilter(m,a,d),this._update(!0)}getFilter(m){return this.style.getFilter(m)}setPaintProperty(m,a,d,x={}){return this.style.setPaintProperty(m,a,d,x),this._update(!0)}getPaintProperty(m,a){return this.style.getPaintProperty(m,a)}setLayoutProperty(m,a,d,x={}){return this.style.setLayoutProperty(m,a,d,x),this._update(!0)}getLayoutProperty(m,a){return this.style.getLayoutProperty(m,a)}setLight(m,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(m,a),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(m){return this._lazyInitEmptyStyle(),!m&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(m),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(m){return this._lazyInitEmptyStyle(),this.style.setFog(m),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(m){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(n.LngLat.convert(m),this.transform):0}setFeatureState(m,a){return this.style.setFeatureState(m,a),this._update()}removeFeatureState(m,a){return this.style.removeFeatureState(m,a),this._update()}getFeatureState(m){return this.style.getFeatureState(m)}_updateContainerDimensions(){if(!this._container)return;const m=this._container.getBoundingClientRect().width||400,a=this._container.getBoundingClientRect().height||300;let d,x,E,A=this._container;for(;A&&(!x||!E);){const J=n.window.getComputedStyle(A).transform;J&&J!=="none"&&(d=J.match(/matrix.*\((.+)\)/)[1].split(", "),d[0]&&d[0]!=="0"&&d[0]!=="1"&&(x=d[0]),d[3]&&d[3]!=="0"&&d[3]!=="1"&&(E=d[3])),A=A.parentElement}this._containerWidth=x?Math.abs(m/x):m,this._containerHeight=E?Math.abs(a/E):a}_detectMissingCSS(){n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const m=this._container;m.classList.add("mapboxgl-map"),(this._missingCSSCanary=q("div","mapboxgl-canary",m)).style.visibility="hidden",this._detectMissingCSS();const a=this._canvasContainer=q("div","mapboxgl-canvas-container",m);this._interactive&&a.classList.add("mapboxgl-interactive"),this._canvas=q("canvas","mapboxgl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const d=this._controlContainer=q("div","mapboxgl-control-container",m),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{x[E]=q("div",`mapboxgl-ctrl-${E}`,d)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(m,a){const d=n.exported.devicePixelRatio||1;this._canvas.width=d*Math.ceil(m),this._canvas.height=d*Math.ceil(a),this._canvas.style.width=`${m}px`,this._canvas.style.height=`${a}px`}_addMarker(m){this._markers.push(m)}_removeMarker(m){const a=this._markers.indexOf(m);a!==-1&&this._markers.splice(a,1)}_addPopup(m){this._popups.push(m)}_removePopup(m){const a=this._popups.indexOf(m);a!==-1&&this._popups.splice(a,1)}_setupPainter(){const m=n.extend({},z.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),a=this._canvas.getContext("webgl",m)||this._canvas.getContext("experimental-webgl",m);a?(n.storeAuthState(a,!0),this.painter=new yn(a,this.transform),this.on("data",d=>{d.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),n.exported$1.testSupport(a)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(m){m.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:m}))}_contextRestored(m){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:m}))}_onMapScroll(m){if(m.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(m){return this.style?(this._styleDirty=this._styleDirty||m,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(m){return this._update(),this._renderTaskQueue.add(m)}_cancelRenderFrame(m){this._renderTaskQueue.remove(m)}_requestDomTask(m){!this.loaded()||this.loaded()&&!this.isMoving()?m():this._domRenderTaskQueue.add(m)}_render(m){let a;const d=this.painter.context.extTimerQuery,x=n.exported.now();if(this.listens("gpu-timing-frame")&&(a=d.createQueryEXT(),d.beginQueryEXT(d.TIME_ELAPSED_EXT,a)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],n.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],n.window.performance.now())),this._renderTaskQueue.run(m),this._domRenderTaskQueue.run(m),this._removed)return;this._updateProjectionTransition();const E=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const ce=this.transform.zoom,de=this.transform.pitch,Ee=n.exported.now(),Te=new n.EvaluationParameters(ce,{now:Ee,fadeDuration:E,pitch:de,transition:this.style.getTransition()});this.style.update(Te)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let A=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),A=this._updateAverageElevation(x),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):A=this._updateAverageElevation(x),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,E,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:E,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),a){const ce=n.exported.now()-x;d.endQueryEXT(d.TIME_ELAPSED_EXT,a),setTimeout(()=>{const de=d.getQueryObjectEXT(a,d.QUERY_RESULT_EXT)/1e6;d.deleteQueryEXT(a),this.fire(new n.Event("gpu-timing-frame",{cpuTime:ce,gpuTime:de})),n.window.performance.mark("frame-gpu",{startTime:x,detail:{gpuTime:de}})},50)}if(this.listens("gpu-timing-layer")){const ce=this.painter.collectGpuTimers();setTimeout(()=>{const de=this.painter.queryGpuTimers(ce);this.fire(new n.Event("gpu-timing-layer",{layerTimes:de}))},50)}if(this.listens("gpu-timing-deferred-render")){const ce=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const de=this.painter.queryGpuTimeDeferredRender(ce);this.fire(new n.Event("gpu-timing-deferred-render",{gpuTime:de}))},50)}const J=this._sourcesDirty||this._styleDirty||this._placementDirty||A;if(J||this._repaint)this.triggerRepaint();else{const ce=!this.isMoving()&&this.loaded();if(ce&&(A=this._updateAverageElevation(x,!0)),A)this.triggerRepaint();else if(this._triggerFrame(!1),ce&&(this.fire(new n.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const de=this._calculateSpeedIndex();this.fire(new n.Event("speedindexcompleted",{speedIndex:de})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||J||(this._fullyLoaded=!0,n.LivePerformanceUtils.mark(n.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&n.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(m){for(const a of this._markers)m&&!this.getRenderWorldCopies()&&(a._lngLat=a._lngLat.wrap()),a._update();for(const a of this._popups)!m||this.getRenderWorldCopies()||a._trackPointer||(a._lngLat=a._lngLat.wrap()),a._update()}_updateAverageElevation(m,a=!1){const d=x=>(this.transform.averageElevation=x,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&d(0);if((a||m-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(m)){const x=this.transform.averageElevation;let E=this.transform.sampleAverageElevation(),A=!1;this.transform.elevation&&(A=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(E)?E=0:this._averageElevationLastSampledAt=m;const J=Math.abs(x-E);if(J>1){if(this._isInitialLoad||A)return this._averageElevation.jumpTo(E),d(E);this._averageElevation.easeTo(E,m,300)}else if(J>1e-4)return this._averageElevation.jumpTo(E),d(E)}return!!this._averageElevation.isEasing(m)&&d(this._averageElevation.getValue(m))}_authenticate(){n.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,m=>{if(m&&(m.message===n.AUTH_ERR_MSG||m.status===401)){const a=this.painter.context.gl;n.storeAuthState(a,!1),this._logoControl instanceof wp&&this._logoControl._updateLogo(),a&&a.clear(a.DEPTH_BUFFER_BIT|a.COLOR_BUFFER_BIT|a.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new n.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),n.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const m=this._isDragging();this.painter.updateTerrain(this.style,m)}_calculateSpeedIndex(){const m=this.painter.canvasCopy(),a=this.painter.getCanvasCopiesAndTimestamps();a.timeStamps.push(performance.now());const d=this.painter.context.gl,x=d.createFramebuffer();function E(A){d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,A,0);const J=new Uint8Array(d.drawingBufferWidth*d.drawingBufferHeight*4);return d.readPixels(0,0,d.drawingBufferWidth,d.drawingBufferHeight,d.RGBA,d.UNSIGNED_BYTE,J),J}return d.bindFramebuffer(d.FRAMEBUFFER,x),this._canvasPixelComparison(E(m),a.canvasCopies.map(E),a.timeStamps)}_canvasPixelComparison(m,a,d){let x=d[1]-d[0];const E=m.length/4;for(let A=0;A<a.length;A++){const J=a[A];let ce=0;for(let de=0;de<J.length;de+=4)J[de]===m[de]&&J[de+1]===m[de+1]&&J[de+2]===m[de+2]&&J[de+3]===m[de+3]&&(ce+=1);x+=(d[A+2]-d[A+1])*(1-ce/E)}return x}remove(){this._hash&&this._hash.remove();for(const a of this._controls)a.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),n.window!==void 0&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1),n.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const m=this.painter.context.gl.getExtension("WEBGL_lose_context");m&&m.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),n.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new n.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(m){this._renderNextFrame=this._renderNextFrame||m,this.style&&!this._frame&&(this._frame=n.exported.frame(a=>{const d=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,d&&this._render(a)}))}_preloadTiles(m){const a=this.style?Object.values(this.style._sourceCaches):[];return n.asyncAll(a,(d,x)=>d._preloadTiles(m,x),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(m){this._trackResize&&this.resize({originalEvent:m})._update()}_onVisibilityChange(){n.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(m){this._showTileBoundaries!==m&&(this._showTileBoundaries=m,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(m){this._showTerrainWireframe!==m&&(this._showTerrainWireframe=m,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(m){this._speedIndexTiming!==m&&(this._speedIndexTiming=m,this._update())}get showPadding(){return!!this._showPadding}set showPadding(m){this._showPadding!==m&&(this._showPadding=m,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(m){this._showCollisionBoxes!==m&&(this._showCollisionBoxes=m,m?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(m){this._showOverdrawInspector!==m&&(this._showOverdrawInspector=m,this._update())}get repaint(){return!!this._repaint}set repaint(m){this._repaint!==m&&(this._repaint=m,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(m){this._vertices=m,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(m){this._showTileAABBs!==m&&(this._showTileAABBs=m,m&&this._update())}_setCacheLimits(m,a){n.setCacheLimits(m,a)}get version(){return n.version}},NavigationControl:class{constructor(m){this.options=n.extend({},Yf,m),this._container=q("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",a=>{this._map&&this._map.zoomIn({},{originalEvent:a})}),q("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",a=>{this._map&&this._map.zoomOut({},{originalEvent:a})}),q("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",a=>{const d=this._map;d&&(this.options.visualizePitch?d.resetNorthPitch({},{originalEvent:a}):d.resetNorth({},{originalEvent:a}))}),this._compassIcon=q("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const m=this._map;if(!m)return;const a=m.getZoom(),d=a===m.getMaxZoom(),x=a===m.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=x,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",x.toString())}_rotateCompassArrow(){const m=this._map;if(!m)return;const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(m.transform.pitch*(Math.PI/180)),.5)}) rotateX(${m.transform.pitch}deg) rotateZ(${m.transform.angle*(180/Math.PI)}deg)`:`rotate(${m.transform.angle*(180/Math.PI)}deg)`;m._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=a)})}onAdd(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),m.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&m.on("pitch",this._rotateCompassArrow),m.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new qf(m,this._compass,this.options.visualizePitch)),this._container}onRemove(){const m=this._map;m&&(this._container.remove(),this.options.showZoom&&m.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&m.off("pitch",this._rotateCompassArrow),m.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(m,a){const d=q("button",m,this._container);return d.type="button",d.addEventListener("click",a),d}_setButtonTitle(m,a){if(!this._map)return;const d=this._map._getUIString(`NavigationControl.${a}`);m.setAttribute("aria-label",d),m.firstElementChild&&m.firstElementChild.setAttribute("title",d)}},GeolocateControl:class extends n.Evented{constructor(m){super(),this.options=n.extend({geolocation:n.window.navigator.geolocation},pu,m),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=cd(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(m){return this._map=m,this._container=q("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(m){const a=(d=!!this.options.geolocation)=>{this._supportsGeolocation=d,m(d)};this._supportsGeolocation!==void 0?m(this._supportsGeolocation):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(d=>a(d.state!=="denied")).catch(()=>a()):a()}_isOutOfMapMaxBounds(m){const a=this._map.getMaxBounds(),d=m.coords;return!!a&&(d.longitude<a.getWest()||d.longitude>a.getEast()||d.latitude<a.getSouth()||d.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(m){if(this._map){if(this._isOutOfMapMaxBounds(m))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",m)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=m,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(m),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(m),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",m)),this._finish()}}_updateCamera(m){const a=new n.LngLat(m.coords.longitude,m.coords.latitude),d=m.coords.accuracy,x=this._map.getBearing(),E=n.extend({bearing:x},this.options.fitBoundsOptions);this._map.fitBounds(a.toBounds(d),E,{geolocateSource:!0})}_updateMarker(m){if(m){const a=new n.LngLat(m.coords.longitude,m.coords.latitude);this._accuracyCircleMarker.setLngLat(a).addTo(this._map),this._userLocationDotMarker.setLngLat(a).addTo(this._map),this._accuracy=m.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const m=this._map.transform,a=n.mercatorZfromAltitude(1,m._center.lat)*m.worldSize,d=Math.ceil(2*this._accuracy*a);this._circleElement.style.width=`${d}px`,this._circleElement.style.height=`${d}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(m){if(this._map){if(this.options.trackUserLocation)if(m.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(m.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",m)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(m){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=q("button","mapboxgl-ctrl-geolocate",this._container),q("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",m===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}else{const a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=q("div","mapboxgl-user-location"),this._dotElement.appendChild(q("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(q("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Fa({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=q("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Fa({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",a=>{a.geolocateSource||this._watchState!=="ACTIVE_LOCK"||a.originalEvent&&a.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new n.Event("trackuserlocationend")))})}}_onDeviceOrientation(m){this._userLocationDotMarker&&(m.webkitCompassHeading?this._heading=m.webkitCompassHeading:m.absolute===!0&&(this._heading=-1*m.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let m;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(m={maximumAge:6e5,timeout:0},this._noTimeout=!0):(m=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,m),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const m=()=>{n.window.addEventListener("ondeviceorientationabsolute"in n.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};n.window.DeviceMotionEvent!==void 0&&typeof n.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(a=>{a==="granted"&&m()}).catch(console.error):m()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),n.window.removeEventListener("deviceorientation",this._onDeviceOrientation),n.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:bp,ScaleControl:class{constructor(m){this.options=n.extend({},Ep,m),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=Zf.bind(this)),n.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const m=this.options.maxWidth||100,a=this._map,d=a._containerHeight/2,x=a._containerWidth/2-m/2,E=a.unproject([x,d]),A=a.unproject([x+m,d]),J=E.distanceTo(A);if(this.options.unit==="imperial"){const ce=3.2808*J;ce>5280?this._setScale(m,ce/5280,"mile"):this._setScale(m,ce,"foot")}else this.options.unit==="nautical"?this._setScale(m,J/1852,"nautical-mile"):J>=1e3?this._setScale(m,J/1e3,"kilometer"):this._setScale(m,J,"meter")}_setScale(m,a,d){const x=Mp(a),E=x/a;this._map._requestDomTask(()=>{this._container.style.width=m*E+"px",this._container.innerHTML=d!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:d}).format(x):`${x}&nbsp;nm`})}onAdd(m){return this._map=m,this._language=m.getLanguage(),this._container=q("div","mapboxgl-ctrl mapboxgl-ctrl-scale",m.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(m){this._language=m,this._update()}setUnit(m){this.options.unit=m,this._update()}},FullscreenControl:class{constructor(m){this._fullscreen=!1,m&&m.container&&(m.container instanceof n.window.HTMLElement?this._container=m.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in n.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=q("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!n.window.document.fullscreenEnabled&&!n.window.document.webkitFullscreenEnabled)}_setupUI(){const m=this._fullscreenButton=q("button","mapboxgl-ctrl-fullscreen",this._controlContainer);q("span","mapboxgl-ctrl-icon",m).setAttribute("aria-hidden","true"),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",m)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(n.window.document.fullscreenElement||n.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends n.Evented{constructor(m){super(),this.options=n.extend(Object.create(uu),m),n.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(m&&m.className?m.className.trim().split(/\s+/):[])}addTo(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&m.on("preclick",this._onClose),this.options.closeOnMove&&m.on("move",this._onClose),m.on("remove",this.remove),this._update(),m._addPopup(this),this._focusFirstElement(),this._trackPointer?(m.on("mousemove",this._onMouseEvent),m.on("mouseup",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")):m.on("move",this._update),this.fire(new n.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const m=this._map;return m&&(m.off("move",this._update),m.off("move",this._onClose),m.off("preclick",this._onClose),m.off("click",this._onClose),m.off("remove",this.remove),m.off("mousemove",this._onMouseEvent),m.off("mouseup",this._onMouseEvent),m.off("drag",this._onMouseEvent),m._canvasContainer&&m._canvasContainer.classList.remove("mapboxgl-track-pointer"),m._removePopup(this),this._map=void 0),this.fire(new n.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(m){this._lngLat=n.LngLat.convert(m),this._pos=null,this._trackPointer=!1,this._update();const a=this._map;return a&&(a.on("move",this._update),a.off("mousemove",this._onMouseEvent),a._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const m=this._map;return m&&(m.off("move",this._update),m.on("mousemove",this._onMouseEvent),m.on("drag",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(m){return this.setDOMContent(n.window.document.createTextNode(m))}setHTML(m){const a=n.window.document.createDocumentFragment(),d=n.window.document.createElement("body");let x;for(d.innerHTML=m;x=d.firstChild,x;)a.appendChild(x);return this.setDOMContent(a)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(m){return this.options.maxWidth=m,this._update(),this}setDOMContent(m){let a=this._content;if(a)for(;a.hasChildNodes();)a.firstChild&&a.removeChild(a.firstChild);else a=this._content=q("div","mapboxgl-popup-content",this._container||void 0);if(a.appendChild(m),this.options.closeButton){const d=this._closeButton=q("button","mapboxgl-popup-close-button",a);d.type="button",d.setAttribute("aria-label","Close popup"),d.setAttribute("aria-hidden","true"),d.innerHTML="&#215;",d.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(m){return this._classList.add(m),this._updateClassList(),this}removeClassName(m){return this._classList.delete(m),this._updateClassList(),this}setOffset(m){return this.options.offset=m,this._update(),this}toggleClassName(m){let a;return this._classList.delete(m)?a=!1:(this._classList.add(m),a=!0),this._updateClassList(),a}_onMouseEvent(m){this._update(m.point)}_getAnchor(m){if(this.options.anchor)return this.options.anchor;const a=this._map,d=this._container,x=this._pos;if(!a||!d||!x)return"bottom";const E=d.offsetWidth,A=d.offsetHeight,J=x.x<E/2,ce=x.x>a.transform.width-E/2;if(x.y+m<A)return J?"top-left":ce?"top-right":"top";if(x.y>a.transform.height-A){if(J)return"bottom-left";if(ce)return"bottom-right"}return J?"left":ce?"right":"bottom"}_updateClassList(){const m=this._container;if(!m)return;const a=[...this._classList];a.push("mapboxgl-popup"),this._anchor&&a.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&a.push("mapboxgl-popup-track-pointer"),m.className=a.join(" ")}_update(m){const a=this._map,d=this._content;if(!a||!this._lngLat&&!this._trackPointer||!d)return;let x=this._container;if(x||(x=this._container=q("div","mapboxgl-popup",a.getContainer()),this._tip=q("div","mapboxgl-popup-tip",x),x.appendChild(d)),this.options.maxWidth&&x.style.maxWidth!==this.options.maxWidth&&(x.style.maxWidth=this.options.maxWidth),a.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sp(this._lngLat,this._pos,a.transform)),!this._trackPointer||m){const E=this._pos=this._trackPointer&&m?m:a.project(this._lngLat),A=ra(this.options.offset),J=this._anchor=this._getAnchor(A.y),ce=ra(this.options.offset,J),de=E.add(ce).round();a._requestDomTask(()=>{this._container&&J&&(this._container.style.transform=`${Ih[J]} translate(${de.x}px,${de.y}px)`)})}if(!this._marker&&a._showingGlobe()){const E=n.isLngLatBehindGlobe(a.transform,this._lngLat)?0:1;this._setOpacity(E)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const m=this._container.querySelector(Wf);m&&m.focus()}_onClose(){this.remove()}_setOpacity(m){this._container&&(this._container.style.opacity=`${m}`),this._content&&(this._content.style.pointerEvents=m?"auto":"none")}},Marker:Fa,Style:k,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.pointGeometry,MercatorCoordinate:n.MercatorCoordinate,FreeCameraOptions:ss,Evented:n.Evented,config:n.config,prewarm:function(){ln().acquire(rn)},clearPrewarmedResources:function(){const m=$i;m&&(m.isPreloaded()&&m.numActive()===1?(m.release(rn),$i=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(m){n.config.ACCESS_TOKEN=m},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(m){n.config.API_URL=m},get workerCount(){return en.workerCount},set workerCount(m){en.workerCount=m},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(m){n.config.MAX_PARALLEL_IMAGE_REQUESTS=m},clearStorage(m){n.clearTileCache(m)},workerUrl:"",workerClass:null,setNow:n.exported.setNow,restoreNow:n.exported.restoreNow};return qc});var y=h;return y})})(hO);const ph=kw;var Mm=uO,dO=Object.prototype.hasOwnProperty;function uO(){for(var e={},i=0;i<arguments.length;i++){var s=arguments[i];for(var l in s)dO.call(s,l)&&(e[l]=s[l])}return e}var Pw={},pO={get exports(){return Pw},set exports(e){Pw=e}};(function(e,i){(function(){var s={};e.exports=s,s.simpleFilter=function(l,h){return h.filter(function(u){return s.test(l,u)})},s.test=function(l,h){return s.match(l,h)!==null},s.match=function(l,h,u){u=u||{};var y=0,n=[],w=h.length,z=0,ie=0,G=u.pre||"",q=u.post||"",Z=u.caseSensitive&&h||h.toLowerCase(),F;l=u.caseSensitive&&l||l.toLowerCase();for(var U=0;U<w;U++)F=h[U],Z[U]===l[y]?(F=G+F+q,y+=1,ie+=1+ie):ie=0,z+=ie,n[n.length]=F;return y===l.length?(z=Z===l?1/0:z,{rendered:n.join(""),score:z}):null},s.filter=function(l,h,u){return!h||h.length===0?[]:typeof l!="string"?h:(u=u||{},h.reduce(function(y,n,w,z){var ie=n;u.extract&&(ie=u.extract(n));var G=s.match(l,ie,u);return G!=null&&(y[y.length]={string:G.rendered,score:G.score,index:w,original:n}),y},[]).sort(function(y,n){var w=n.score-y.score;return w||y.index-n.index}))}})()})(pO);var bl=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};bl.prototype.show=function(){this.element.style.display="block"};bl.prototype.hide=function(){this.element.style.display="none"};bl.prototype.add=function(e){this.items.push(e)};bl.prototype.clear=function(){this.items=[],this.active=0};bl.prototype.isEmpty=function(){return!this.items.length};bl.prototype.isVisible=function(){return this.element.style.display==="block"};bl.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};bl.prototype.drawItem=function(e,i){var s=document.createElement("li"),l=document.createElement("a");i&&(s.className+=" active"),l.innerHTML=e.string,s.appendChild(l),this.element.appendChild(s),s.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),s.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))};bl.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};bl.prototype.move=function(e){this.active=e,this.draw()};bl.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};bl.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};bl.prototype.drawError=function(e){var i=document.createElement("li");i.innerHTML=e,this.element.appendChild(i),this.show()};var fO=bl,mO=Mm,gO=Pw,_O=fO,Da=function(e,i,s){return s=s||{},this.options=mO({minLength:2,limit:5,filter:!0,hideOnBlur:!0},s),this.el=e,this.data=i||[],this.list=new _O(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(l){this.handleKeyUp(l.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(l){this.handleKeyDown(l)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(l){this.handlePaste(l)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};Da.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};Da.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};Da.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};Da.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var i=this;setTimeout(function(){i.handleInputChange(e.target.value)},100)}};Da.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates(function(i){for(var s=0;s<i.length&&(this.list.add(i[s]),s!==this.options.limit-1);s++);this.list.draw()}.bind(this))};Da.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};Da.prototype.update=function(e){this.data=e,this.handleKeyUp()};Da.prototype.clear=function(){this.data=[],this.list.clear()};Da.prototype.normalize=function(e){return e=e.toLowerCase(),e};Da.prototype.match=function(e,i){return e.indexOf(i)>-1};Da.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!1),this.el.dispatchEvent(i)}else this.el.fireEvent("onchange")};Da.prototype.getCandidates=function(e){var i={pre:"<strong>",post:"</strong>",extract:function(l){return this.getItemValue(l)}.bind(this)},s;this.options.filter?(s=gO.filter(this.query,this.data,i),s=s.map(function(l){return{original:l.original,string:this.render(l.original,l.string)}}.bind(this))):s=this.data.map(function(l){var h=this.render(l);return{original:l,string:h}}.bind(this)),e(s)};Da.prototype.getItemValue=function(e){return e};Da.prototype.render=function(e,i){if(i)return i;for(var s=e.original?this.getItemValue(e.original):this.getItemValue(e),l=this.normalize(s),h=l.lastIndexOf(this.query);h>-1;){var u=h+this.query.length;s=s.slice(0,h)+"<strong>"+s.slice(h,u)+"</strong>"+s.slice(u),h=l.slice(0,h).lastIndexOf(this.query)}return s};Da.prototype.renderError=function(e){this.list.drawError(e)};var yO=Da,SC=yO,xO=SC;typeof window<"u"&&(window.Suggestions=SC);var vO="Expected a function",aS=0/0,bO="[object Symbol]",wO=/^\s+|\s+$/g,TO=/^[-+]0x[0-9a-f]+$/i,SO=/^0b[01]+$/i,EO=/^0o[0-7]+$/i,MO=parseInt,CO=typeof Ko=="object"&&Ko&&Ko.Object===Object&&Ko,AO=typeof self=="object"&&self&&self.Object===Object&&self,kO=CO||AO||Function("return this")(),PO=Object.prototype,DO=PO.toString,IO=Math.max,LO=Math.min,Db=function(){return kO.Date.now()};function OO(e,i,s){var l,h,u,y,n,w,z=0,ie=!1,G=!1,q=!0;if(typeof e!="function")throw new TypeError(vO);i=lS(i)||0,Dw(s)&&(ie=!!s.leading,G="maxWait"in s,u=G?IO(lS(s.maxWait)||0,i):u,q="trailing"in s?!!s.trailing:q);function Z(S){var te=l,Y=h;return l=h=void 0,z=S,y=e.apply(Y,te),y}function F(S){return z=S,n=setTimeout(R,i),ie?Z(S):y}function U(S){var te=S-w,Y=S-z,I=i-te;return G?LO(I,u-Y):I}function re(S){var te=S-w,Y=S-z;return w===void 0||te>=i||te<0||G&&Y>=u}function R(){var S=Db();if(re(S))return D(S);n=setTimeout(R,U(S))}function D(S){return n=void 0,q&&l?Z(S):(l=h=void 0,y)}function N(){n!==void 0&&clearTimeout(n),z=0,l=w=h=n=void 0}function $(){return n===void 0?y:D(Db())}function j(){var S=Db(),te=re(S);if(l=arguments,h=this,w=S,te){if(n===void 0)return F(w);if(G)return n=setTimeout(R,i),Z(w)}return n===void 0&&(n=setTimeout(R,i)),y}return j.cancel=N,j.flush=$,j}function Dw(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function RO(e){return!!e&&typeof e=="object"}function zO(e){return typeof e=="symbol"||RO(e)&&DO.call(e)==bO}function lS(e){if(typeof e=="number")return e;if(zO(e))return aS;if(Dw(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=Dw(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=e.replace(wO,"");var s=SO.test(e);return s||EO.test(e)?MO(e.slice(2),s?2:8):TO.test(e)?aS:+e}var BO=OO,wx={},FO={get exports(){return wx},set exports(e){wx=e}},tm=typeof Reflect=="object"?Reflect:null,cS=tm&&typeof tm.apply=="function"?tm.apply:function(i,s,l){return Function.prototype.apply.call(i,s,l)},Xy;tm&&typeof tm.ownKeys=="function"?Xy=tm.ownKeys:Object.getOwnPropertySymbols?Xy=function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:Xy=function(i){return Object.getOwnPropertyNames(i)};function NO(e){console&&console.warn&&console.warn(e)}var EC=Number.isNaN||function(i){return i!==i};function as(){as.init.call(this)}FO.exports=as;wx.once=VO;as.EventEmitter=as;as.prototype._events=void 0;as.prototype._eventsCount=0;as.prototype._maxListeners=void 0;var hS=10;function bv(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(as,"defaultMaxListeners",{enumerable:!0,get:function(){return hS},set:function(e){if(typeof e!="number"||e<0||EC(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");hS=e}});as.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};as.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||EC(i))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+i+".");return this._maxListeners=i,this};function MC(e){return e._maxListeners===void 0?as.defaultMaxListeners:e._maxListeners}as.prototype.getMaxListeners=function(){return MC(this)};as.prototype.emit=function(i){for(var s=[],l=1;l<arguments.length;l++)s.push(arguments[l]);var h=i==="error",u=this._events;if(u!==void 0)h=h&&u.error===void 0;else if(!h)return!1;if(h){var y;if(s.length>0&&(y=s[0]),y instanceof Error)throw y;var n=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw n.context=y,n}var w=u[i];if(w===void 0)return!1;if(typeof w=="function")cS(w,this,s);else for(var z=w.length,ie=DC(w,z),l=0;l<z;++l)cS(ie[l],this,s);return!0};function CC(e,i,s,l){var h,u,y;if(bv(s),u=e._events,u===void 0?(u=e._events=Object.create(null),e._eventsCount=0):(u.newListener!==void 0&&(e.emit("newListener",i,s.listener?s.listener:s),u=e._events),y=u[i]),y===void 0)y=u[i]=s,++e._eventsCount;else if(typeof y=="function"?y=u[i]=l?[s,y]:[y,s]:l?y.unshift(s):y.push(s),h=MC(e),h>0&&y.length>h&&!y.warned){y.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+y.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=i,n.count=y.length,NO(n)}return e}as.prototype.addListener=function(i,s){return CC(this,i,s,!1)};as.prototype.on=as.prototype.addListener;as.prototype.prependListener=function(i,s){return CC(this,i,s,!0)};function jO(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function AC(e,i,s){var l={fired:!1,wrapFn:void 0,target:e,type:i,listener:s},h=jO.bind(l);return h.listener=s,l.wrapFn=h,h}as.prototype.once=function(i,s){return bv(s),this.on(i,AC(this,i,s)),this};as.prototype.prependOnceListener=function(i,s){return bv(s),this.prependListener(i,AC(this,i,s)),this};as.prototype.removeListener=function(i,s){var l,h,u,y,n;if(bv(s),h=this._events,h===void 0)return this;if(l=h[i],l===void 0)return this;if(l===s||l.listener===s)--this._eventsCount===0?this._events=Object.create(null):(delete h[i],h.removeListener&&this.emit("removeListener",i,l.listener||s));else if(typeof l!="function"){for(u=-1,y=l.length-1;y>=0;y--)if(l[y]===s||l[y].listener===s){n=l[y].listener,u=y;break}if(u<0)return this;u===0?l.shift():UO(l,u),l.length===1&&(h[i]=l[0]),h.removeListener!==void 0&&this.emit("removeListener",i,n||s)}return this};as.prototype.off=as.prototype.removeListener;as.prototype.removeAllListeners=function(i){var s,l,h;if(l=this._events,l===void 0)return this;if(l.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):l[i]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete l[i]),this;if(arguments.length===0){var u=Object.keys(l),y;for(h=0;h<u.length;++h)y=u[h],y!=="removeListener"&&this.removeAllListeners(y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(s=l[i],typeof s=="function")this.removeListener(i,s);else if(s!==void 0)for(h=s.length-1;h>=0;h--)this.removeListener(i,s[h]);return this};function kC(e,i,s){var l=e._events;if(l===void 0)return[];var h=l[i];return h===void 0?[]:typeof h=="function"?s?[h.listener||h]:[h]:s?GO(h):DC(h,h.length)}as.prototype.listeners=function(i){return kC(this,i,!0)};as.prototype.rawListeners=function(i){return kC(this,i,!1)};as.listenerCount=function(e,i){return typeof e.listenerCount=="function"?e.listenerCount(i):PC.call(e,i)};as.prototype.listenerCount=PC;function PC(e){var i=this._events;if(i!==void 0){var s=i[e];if(typeof s=="function")return 1;if(s!==void 0)return s.length}return 0}as.prototype.eventNames=function(){return this._eventsCount>0?Xy(this._events):[]};function DC(e,i){for(var s=new Array(i),l=0;l<i;++l)s[l]=e[l];return s}function UO(e,i){for(;i+1<e.length;i++)e[i]=e[i+1];e.pop()}function GO(e){for(var i=new Array(e.length),s=0;s<i.length;++s)i[s]=e[s].listener||e[s];return i}function VO(e,i){return new Promise(function(s,l){function h(y){e.removeListener(i,u),l(y)}function u(){typeof e.removeListener=="function"&&e.removeListener("error",h),s([].slice.call(arguments))}IC(e,i,u,{once:!0}),i!=="error"&&WO(e,h,{once:!0})})}function WO(e,i,s){typeof e.on=="function"&&IC(e,"error",i,s)}function IC(e,i,s,l){if(typeof e.on=="function")l.once?e.once(i,s):e.on(i,s);else if(typeof e.addEventListener=="function")e.addEventListener(i,function h(u){l.once&&e.removeEventListener(i,h),s(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var HO={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function $O(e){var i=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return i?{key:i[1],value:i[2]}:null}function XO(e){var i=e.match(/<?([^>]*)>(.*)/);if(!i)return null;var s=i[1],l=i[2].split(";"),h=null,u=l.reduce(function(y,n){var w=$O(n);return w?w.key==="rel"?(h||(h=w.value),y):(y[w.key]=w.value,y):y},{});return h?{url:s,rel:h,params:u}:null}function YO(e){return e?e.split(/,\s*</).reduce(function(i,s){var l=XO(s);if(!l)return i;var h=l.rel.split(/\s+/);return h.forEach(function(u){i[u]||(i[u]={url:l.url,params:l.params})}),i},{}):{}}var qO=YO,ZO=qO;function b5(e,i){this.request=e,this.headers=i.headers,this.rawBody=i.body,this.statusCode=i.statusCode;try{this.body=JSON.parse(i.body||"{}")}catch{this.body=i.body}this.links=ZO(this.headers.link)}b5.prototype.hasNextPage=function(){return!!this.links.next};b5.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var KO=b5,wv={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},dS=wv;function JO(e){var i=e.type||dS.ERROR_HTTP,s;if(e.body)try{s=JSON.parse(e.body)}catch{s=e.body}else s=null;var l=e.message||null;l||(typeof s=="string"?l=s:s&&typeof s.message=="string"?l=s.message:i===dS.ERROR_REQUEST_ABORTED&&(l="Request aborted")),this.message=l,this.type=i,this.statusCode=e.statusCode||null,this.request=e.request,this.body=s}var QO=JO;function eR(e){var i=e.indexOf(":"),s=e.substring(0,i).trim().toLowerCase(),l=e.substring(i+1).trim();return{name:s,value:l}}function tR(e){var i={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(s){var l=eR(s);i[l.name]=l.value}),i}var iR=tR,nR=KO,uS=QO,Ib=wv,rR=iR,Tx={};function sR(e){var i=Tx[e.id];i&&(i.abort(),delete Tx[e.id])}function oR(e,i){return new nR(e,{body:i.response,headers:rR(i.getAllResponseHeaders()),statusCode:i.status})}function pS(e){var i=e.total,s=e.loaded,l=100*s/i;return{total:i,transferred:s,percent:l}}function LC(e,i){return new Promise(function(s,l){i.onprogress=function(y){e.emitter.emit(Ib.EVENT_PROGRESS_DOWNLOAD,pS(y))};var h=e.file;h&&(i.upload.onprogress=function(y){e.emitter.emit(Ib.EVENT_PROGRESS_UPLOAD,pS(y))}),i.onerror=function(y){l(y)},i.onabort=function(){var y=new uS({request:e,type:Ib.ERROR_REQUEST_ABORTED});l(y)},i.onload=function(){if(delete Tx[e.id],i.status<200||i.status>=400){var y=new uS({request:e,body:i.response,statusCode:i.status});l(y);return}s(i)};var u=e.body;typeof u=="string"?i.send(u):u?i.send(JSON.stringify(u)):h?i.send(h):i.send(),Tx[e.id]=i}).then(function(s){return oR(e,s)})}function OC(e,i){var s=e.url(i),l=new window.XMLHttpRequest;return l.open(e.method,s),Object.keys(e.headers).forEach(function(h){l.setRequestHeader(h,e.headers[h])}),l}function aR(e){return Promise.resolve().then(function(){var i=OC(e,e.client.accessToken);return LC(e,i)})}var lR={browserAbort:sR,sendRequestXhr:LC,browserSend:aR,createRequestXhr:OC},Sx={},cR={get exports(){return Sx},set exports(e){Sx=e}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */(function(e,i){(function(s){var l=i,h=e&&e.exports==l&&e,u=typeof Ko=="object"&&Ko;(u.global===u||u.window===u)&&(s=u);var y=function(F){this.message=F};y.prototype=new Error,y.prototype.name="InvalidCharacterError";var n=function(F){throw new y(F)},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=/[\t\n\f\r ]/g,ie=function(F){F=String(F).replace(z,"");var U=F.length;U%4==0&&(F=F.replace(/==?$/,""),U=F.length),(U%4==1||/[^+a-zA-Z0-9/]/.test(F))&&n("Invalid character: the string to be decoded is not correctly encoded.");for(var re=0,R,D,N="",$=-1;++$<U;)D=w.indexOf(F.charAt($)),R=re%4?R*64+D:D,re++%4&&(N+=String.fromCharCode(255&R>>(-2*re&6)));return N},G=function(F){F=String(F),/[^\0-\xFF]/.test(F)&&n("The string to be encoded contains characters outside of the Latin1 range.");for(var U=F.length%3,re="",R=-1,D,N,$,j,S=F.length-U;++R<S;)D=F.charCodeAt(R)<<16,N=F.charCodeAt(++R)<<8,$=F.charCodeAt(++R),j=D+N+$,re+=w.charAt(j>>18&63)+w.charAt(j>>12&63)+w.charAt(j>>6&63)+w.charAt(j&63);return U==2?(D=F.charCodeAt(R)<<8,N=F.charCodeAt(++R),j=D+N,re+=w.charAt(j>>10)+w.charAt(j>>4&63)+w.charAt(j<<2&63)+"="):U==1&&(j=F.charCodeAt(R),re+=w.charAt(j>>2)+w.charAt(j<<4&63)+"=="),re},q={encode:G,decode:ie,version:"0.1.0"};if(l&&!l.nodeType)if(h)h.exports=q;else for(var Z in q)q.hasOwnProperty(Z)&&(l[Z]=q[Z]);else s.base64=q})(Ko)})(cR,Sx);var hR=Sx,Lb={};function dR(e){if(Lb[e])return Lb[e];var i=e.split("."),s=i[0],l=i[1];if(!l)throw new Error("Invalid token");var h=uR(l),u={usage:s,user:h.u};return hf(h,"a")&&(u.authorization=h.a),hf(h,"exp")&&(u.expires=h.exp*1e3),hf(h,"iat")&&(u.created=h.iat*1e3),hf(h,"scopes")&&(u.scopes=h.scopes),hf(h,"client")&&(u.client=h.client),hf(h,"ll")&&(u.lastLogin=h.ll),hf(h,"iu")&&(u.impersonator=h.iu),Lb[e]=u,u}function uR(e){try{return JSON.parse(hR.decode(e))}catch{throw new Error("Invalid token")}}function hf(e,i){return Object.prototype.hasOwnProperty.call(e,i)}var RC=dR,Iw={},pR={get exports(){return Iw},set exports(e){Iw=e}};(function(e){var i=Object.prototype.hasOwnProperty,s="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(s=!1));function h(w,z,ie){this.fn=w,this.context=z,this.once=ie||!1}function u(w,z,ie,G,q){if(typeof ie!="function")throw new TypeError("The listener must be a function");var Z=new h(ie,G||w,q),F=s?s+z:z;return w._events[F]?w._events[F].fn?w._events[F]=[w._events[F],Z]:w._events[F].push(Z):(w._events[F]=Z,w._eventsCount++),w}function y(w,z){--w._eventsCount===0?w._events=new l:delete w._events[z]}function n(){this._events=new l,this._eventsCount=0}n.prototype.eventNames=function(){var z=[],ie,G;if(this._eventsCount===0)return z;for(G in ie=this._events)i.call(ie,G)&&z.push(s?G.slice(1):G);return Object.getOwnPropertySymbols?z.concat(Object.getOwnPropertySymbols(ie)):z},n.prototype.listeners=function(z){var ie=s?s+z:z,G=this._events[ie];if(!G)return[];if(G.fn)return[G.fn];for(var q=0,Z=G.length,F=new Array(Z);q<Z;q++)F[q]=G[q].fn;return F},n.prototype.listenerCount=function(z){var ie=s?s+z:z,G=this._events[ie];return G?G.fn?1:G.length:0},n.prototype.emit=function(z,ie,G,q,Z,F){var U=s?s+z:z;if(!this._events[U])return!1;var re=this._events[U],R=arguments.length,D,N;if(re.fn){switch(re.once&&this.removeListener(z,re.fn,void 0,!0),R){case 1:return re.fn.call(re.context),!0;case 2:return re.fn.call(re.context,ie),!0;case 3:return re.fn.call(re.context,ie,G),!0;case 4:return re.fn.call(re.context,ie,G,q),!0;case 5:return re.fn.call(re.context,ie,G,q,Z),!0;case 6:return re.fn.call(re.context,ie,G,q,Z,F),!0}for(N=1,D=new Array(R-1);N<R;N++)D[N-1]=arguments[N];re.fn.apply(re.context,D)}else{var $=re.length,j;for(N=0;N<$;N++)switch(re[N].once&&this.removeListener(z,re[N].fn,void 0,!0),R){case 1:re[N].fn.call(re[N].context);break;case 2:re[N].fn.call(re[N].context,ie);break;case 3:re[N].fn.call(re[N].context,ie,G);break;case 4:re[N].fn.call(re[N].context,ie,G,q);break;default:if(!D)for(j=1,D=new Array(R-1);j<R;j++)D[j-1]=arguments[j];re[N].fn.apply(re[N].context,D)}}return!0},n.prototype.on=function(z,ie,G){return u(this,z,ie,G,!1)},n.prototype.once=function(z,ie,G){return u(this,z,ie,G,!0)},n.prototype.removeListener=function(z,ie,G,q){var Z=s?s+z:z;if(!this._events[Z])return this;if(!ie)return y(this,Z),this;var F=this._events[Z];if(F.fn)F.fn===ie&&(!q||F.once)&&(!G||F.context===G)&&y(this,Z);else{for(var U=0,re=[],R=F.length;U<R;U++)(F[U].fn!==ie||q&&!F[U].once||G&&F[U].context!==G)&&re.push(F[U]);re.length?this._events[Z]=re.length===1?re[0]:re:y(this,Z)}return this},n.prototype.removeAllListeners=function(z){var ie;return z?(ie=s?s+z:z,this._events[ie]&&y(this,ie)):(this._events=new l,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=s,n.EventEmitter=n,e.exports=n})(pR);function fR(e){return e.map(encodeURIComponent).join(",")}function zC(e){return Array.isArray(e)?fR(e):encodeURIComponent(String(e))}function BC(e,i,s){if(s===!1||s===null)return e;var l=/\?/.test(e)?"&":"?",h=encodeURIComponent(i);return s!==void 0&&s!==""&&s!==!0&&(h+="="+zC(s)),""+e+l+h}function mR(e,i){if(!i)return e;var s=e;return Object.keys(i).forEach(function(l){var h=i[l];h!==void 0&&(Array.isArray(h)&&(h=h.filter(function(u){return u!=null}).join(",")),s=BC(s,l,h))}),s}function gR(e,i){if(!i||e.slice(0,4)==="http")return e;var s=e[0]==="/"?"":"/";return""+i.replace(/\/$/,"")+s+e}function _R(e,i){return i?e.replace(/\/:([a-zA-Z0-9]+)/g,function(s,l){var h=i[l];if(h===void 0)throw new Error("Unspecified route parameter "+l);var u=zC(h);return"/"+u}):e}var yR={appendQueryObject:mR,appendQueryParam:BC,prependOrigin:gR,interpolateRouteParams:_R},xR=RC,w5=Mm,vR=Iw,Iy=yR,fS=wv,bR=1;function cp(e,i){if(!e)throw new Error("MapiRequest requires a client");if(!i||!i.path||!i.method)throw new Error("MapiRequest requires an options object with path and method properties");var s={};i.body&&(s["content-type"]="application/json");var l=w5(s,i.headers),h=Object.keys(l).reduce(function(u,y){return u[y.toLowerCase()]=l[y],u},{});this.id=bR++,this._options=i,this.emitter=new vR,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=i.path,this.method=i.method,this.origin=i.origin||e.origin,this.query=i.query||{},this.params=i.params||{},this.body=i.body||null,this.file=i.file||null,this.encoding=i.encoding||"utf8",this.sendFileAs=i.sendFileAs||null,this.headers=h}cp.prototype.url=function(i){var s=Iy.prependOrigin(this.path,this.origin);s=Iy.appendQueryObject(s,this.query);var l=this.params,h=i??this.client.accessToken;if(h){s=Iy.appendQueryParam(s,"access_token",h);var u=xR(h).user;l=w5({ownerId:u},l)}return s=Iy.interpolateRouteParams(s,l),s};cp.prototype.send=function(){var i=this;if(i.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return i.sent=!0,i.client.sendRequest(i).then(function(s){return i.response=s,i.emitter.emit(fS.EVENT_RESPONSE,s),s},function(s){throw i.error=s,i.emitter.emit(fS.EVENT_ERROR,s),s})};cp.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};cp.prototype.eachPage=function(i){var s=this;function l(y){function n(){delete s._nextPageRequest;var w=y.nextPage();w&&(s._nextPageRequest=w,u(w))}i(null,y,n)}function h(y){i(y,null,function(){})}function u(y){y.send().then(l,h)}u(this)};cp.prototype.clone=function(){return this._extend()};cp.prototype._extend=function(i){var s=w5(this._options,i);return new cp(this.client,s)};var wR=cp,TR=RC,SR=wR,ER=wv;function FC(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");TR(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||ER.API_ORIGIN}FC.prototype.createRequest=function(i){return new SR(this,i)};var NC=FC,jC=lR,UC=NC;function um(e){UC.call(this,e)}um.prototype=Object.create(UC.prototype);um.prototype.constructor=um;um.prototype.sendRequest=jC.browserSend;um.prototype.abortRequest=jC.browserAbort;function MR(e){return new um(e)}var GC=MR,CR=GC,AR=CR,kR=Object.prototype.toString,PR=function(e){var i;return kR.call(e)==="[object Object]"&&(i=Object.getPrototypeOf(e),i===null||i===Object.getPrototypeOf({}))},DR=PR,IR=Mm,VC="value",Ob=`
  `,vs={};vs.assert=function(e,i){return i=i||{},function(s){var l=hp(e,s);if(l){var h=T5(l,i);throw i.apiName&&(h=i.apiName+": "+h),new Error(h)}}};vs.shape=function(i){var s=zR(i);return function(h){var u=hp(vs.plainObject,h);if(u)return u;for(var y,n,w=[],z=0;z<s.length;z++)y=s[z].key,n=s[z].value,u=hp(n,h[y]),u&&w.push([y].concat(u));return w.length<2?w[0]:function(ie){w=w.map(function(Z){var F=Z[0],U=T5(Z,ie).split(`
`).join(Ob);return"- "+F+": "+U});var G=ie.path.join("."),q=G===VC?"":" of "+G;return"The following properties"+q+" have invalid values:"+Ob+w.join(Ob)}}};vs.strictShape=function(i){var s=vs.shape(i);return function(h){var u=s(h);if(u)return u;var y=Object.keys(h).reduce(function(n,w){return i[w]===void 0&&n.push(w),n},[]);if(y.length!==0)return function(){return"The following keys are invalid: "+y.join(", ")}}};vs.arrayOf=function(i){return WC(i)};vs.tuple=function(){var i=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return WC(i)};function WC(e){var i=Array.isArray(e),s=function(l){return i?e[l]:e};return function(h){var u=hp(vs.plainArray,h);if(u)return u;if(i&&h.length!==e.length)return"an array with "+e.length+" items";for(var y=0;y<h.length;y++)if(u=hp(s(y),h[y]),u)return[y].concat(u)}}vs.required=function(i){function s(l){return l==null?function(h){return HC(h,$C(h.path)?"cannot be undefined/null.":"is required.")}:i.apply(this,arguments)}return s.__required=!0,s};vs.oneOfType=function(){var i=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(l){var h=i.map(function(u){return hp(u,l)}).filter(Boolean);if(h.length===i.length)return h.every(function(u){return u.length===1&&typeof u[0]=="string"})?LR(h.map(function(u){return u[0]})):h.reduce(function(u,y){return y.length>u.length?y:u})}};vs.equal=function(i){return function(l){if(l!==i)return JSON.stringify(i)}};vs.oneOf=function(){var i=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),s=i.map(function(l){return vs.equal(l)});return vs.oneOfType.apply(this,s)};vs.range=function(i){var s=i[0],l=i[1];return function(u){var y=hp(vs.number,u);if(y||u<s||u>l)return"number between "+s+" & "+l+" (inclusive)"}};vs.any=function(){};vs.boolean=function(i){if(typeof i!="boolean")return"boolean"};vs.number=function(i){if(typeof i!="number")return"number"};vs.plainArray=function(i){if(!Array.isArray(i))return"array"};vs.plainObject=function(i){if(!DR(i))return"object"};vs.string=function(i){if(typeof i!="string")return"string"};vs.func=function(i){if(typeof i!="function")return"function"};function hp(e,i){if(!(i==null&&!e.hasOwnProperty("__required"))){var s=e(i);if(s)return Array.isArray(s)?s:[s]}}function T5(e,i){var s=e.length,l=e[s-1],h=e.slice(0,s-1);return h.length===0&&(h=[VC]),i=IR(i,{path:h}),typeof l=="function"?l(i):HC(i,OR(l))}function LR(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function OR(e){return"must be "+RR(e)+"."}function RR(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function HC(e,i){var s=$C(e.path),l=e.path.join(".")+" "+i,h=s?"Item at position ":"";return h+l}function $C(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function zR(e){return Object.keys(e||{}).map(function(i){return{key:i,value:e[i]}})}vs.validate=hp;vs.processMessage=T5;var BR=vs,FR=Mm,im=BR;function NR(e){if(typeof window<"u")return e instanceof Ko.Blob||e instanceof Ko.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function jR(e,i){return im.assert(im.strictShape(e),i)}function UR(e){var i="date";if(typeof e=="boolean")return i;try{var s=new Date(e);if(s.getTime&&isNaN(s.getTime()))return i}catch{return i}}function GR(e){return im.tuple(im.number,im.number)(e)}var VR=FR(im,{file:NR,date:UR,coordinates:GR,assertShape:jR});function WR(e,i){var s=function(l,h){return i.indexOf(l)!==-1&&h!==void 0};return typeof i=="function"&&(s=i),Object.keys(e).filter(function(l){return s(l,e[l])}).reduce(function(l,h){return l[h]=e[h],l},{})}var HR=WR;function $R(e,i){return Object.keys(e).reduce(function(s,l){return s[l]=i(l,e[l]),s},{})}var XR=$R,YR=XR;function qR(e){return YR(e,function(i,s){return typeof s=="boolean"?JSON.stringify(s):s})}var ZR=qR,KR=NC,JR=GC;function QR(e){return function(i){var s;KR.prototype.isPrototypeOf(i)?s=i:s=JR(i);var l=Object.create(e);return l.client=s,l}}var ez=QR,XC=Mm,Mr=VR,Ex=HR,YC=ZR,tz=ez,S5={},qC=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];S5.forwardGeocode=function(e){Mr.assertShape({query:Mr.required(Mr.string),mode:Mr.oneOf("mapbox.places","mapbox.places-permanent"),countries:Mr.arrayOf(Mr.string),proximity:Mr.oneOf(Mr.coordinates,"ip"),types:Mr.arrayOf(Mr.oneOf(qC)),autocomplete:Mr.boolean,bbox:Mr.arrayOf(Mr.number),limit:Mr.number,language:Mr.arrayOf(Mr.string),routing:Mr.boolean,fuzzyMatch:Mr.boolean,worldview:Mr.string})(e),e.mode=e.mode||"mapbox.places";var i=YC(XC({country:e.countries},Ex(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Ex(e,["mode","query"]),query:i})};S5.reverseGeocode=function(e){Mr.assertShape({query:Mr.required(Mr.coordinates),mode:Mr.oneOf("mapbox.places","mapbox.places-permanent"),countries:Mr.arrayOf(Mr.string),types:Mr.arrayOf(Mr.oneOf(qC)),bbox:Mr.arrayOf(Mr.number),limit:Mr.number,language:Mr.arrayOf(Mr.string),reverseMode:Mr.oneOf("distance","score"),routing:Mr.boolean,worldview:Mr.string})(e),e.mode=e.mode||"mapbox.places";var i=YC(XC({country:e.countries},Ex(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Ex(e,["mode","query"]),query:i})};var iz=tz(S5);let nz="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ZC=e=>crypto.getRandomValues(new Uint8Array(e)),KC=(e,i,s)=>{let l=(2<<Math.log(e.length-1)/Math.LN2)-1,h=-~(1.6*l*i/e.length);return(u=i)=>{let y="";for(;;){let n=s(h),w=h;for(;w--;)if(y+=e[n[w]&l]||"",y.length===u)return y}}},rz=(e,i=21)=>KC(e,i,ZC),sz=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((i,s)=>(s&=63,s<36?i+=s.toString(36):s<62?i+=(s-26).toString(36).toUpperCase():s>62?i+="-":i+="_",i),"");const oz=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:rz,customRandom:KC,nanoid:sz,random:ZC,urlAlphabet:nz},Symbol.toStringTag,{value:"Module"})),az=PS(oz);var lz=az.nanoid;function JC(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}JC.prototype={select:function(e,i){var s=this.getSelectedIndex(e,i),l=this.getEventPayload("search.select",i);if(l.resultIndex=s,l.resultPlaceName=e.place_name,l.resultId=e.id,!(s===this.lastSentIndex&&l.queryString===this.lastSentInput||s==-1)&&(this.lastSentIndex=s,this.lastSentInput=l.queryString,!!l.queryString))return this.push(l)},start:function(e){var i=this.getEventPayload("search.start",e);if(i.queryString)return this.push(i)},keyevent:function(e,i){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var s=this.getEventPayload("search.keystroke",i);if(s.lastAction=e.key,!!s.queryString)return this.push(s)}},send:function(e,i){if(!this.enableEventLogging)return i?i():void 0;var s=this.getRequestOptions(e);this.request(s,function(l){if(l)return this.handleError(l,i);if(i)return i()}.bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var i={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return i},getEventPayload:function(e,i){var s;i.options.proximity?typeof i.options.proximity=="object"?s=[i.options.proximity.longitude,i.options.proximity.latitude]:i.options.proximity==="ip"?s=[999,999]:s=i.options.proximity:s=null;var l=i._map?i._map.getZoom():void 0,h={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:i.options.autocomplete,fuzzyMatch:i.options.fuzzyMatch,proximity:s,limit:i.options.limit,routing:i.options.routing,worldview:i.options.worldview,mapZoom:l,keyboardLocale:this.locale};return e==="search.select"?h.queryString=i.inputString:e!="search.select"&&i._inputEl?h.queryString=i._inputEl.value:h.queryString=i.inputString,h},request:function(e,i){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(this.readyState==4)return this.status==204?i(null):i(this.statusText)},s.open(e.method,e.host+"/"+e.path,!0);for(var l in e.headers){var h=e.headers[l];s.setRequestHeader(l,h)}s.send(e.body)},handleError:function(e,i){if(i)return i(e)},generateSessionID:function(){return lz()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,i){if(i._typeahead){var s=i._typeahead.data,l=e.id,h=s.map(function(y){return y.id}),u=h.indexOf(l);return u}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,i){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||i)&&this.flush()},remove:function(){this.flush()}};var cz=JC,hz={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},dz={placeholder:hz},Lw={},uz={get exports(){return Lw},set exports(e){Lw=e}};(function(e){(function(i,s,l){e.exports?e.exports=l():i[s]=l()})(Ko,"subtag",function(){var i="",s=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function l(w){return w.match(s)||[]}function h(w){return l(w).filter(function(z,ie){return z&&ie})}function u(w){return w=l(w),{language:w[1]||i,extlang:w[2]||i,script:w[3]||i,region:w[4]||i}}function y(w,z,ie){Object.defineProperty(w,z,{value:ie,enumerable:!0})}function n(w,z,ie){function G(q){return l(q)[w]||i}y(G,"pattern",z),y(u,ie,G)}return n(1,/^[a-zA-Z]{2,3}$/,"language"),n(2,/^[a-zA-Z]{3}$/,"extlang"),n(3,/^[a-zA-Z]{4}$/,"script"),n(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),y(u,"split",h),u})})(uz);function QC(){}QC.prototype={isSupport:function(){return Boolean(window.navigator.geolocation)},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(i,s){window.navigator.geolocation.getCurrentPosition(i,s,e)})}};var pz=QC;function fz(e,i){const s=e4(e),l=["address","street","place","country"];var h;if(typeof i=="function")return i(s);const u=l.indexOf(i);return u===-1?h=l:h=l.slice(u),h.reduce(function(y,n){return s[n]?(y!==""&&(y=y+", "),y+s[n]):y},"")}function e4(e){const i=e.address||"",s=e.text||"",l=e.place_name||"",u={address:l.split(",")[0],houseNumber:i,street:s,placeName:l};return e.context.forEach(function(y){const n=y.id.split(".")[0];u[n]=y.text}),u}const mz=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var gz={transformFeatureToGeolocationText:fz,getAddressInfo:e4,REVERSE_GEOCODE_COORD_RGX:mz},_z=xO,yz=BO,uf=Mm,xz=wx.EventEmitter,mS=HO,Rb=AR,zb=iz,vz=cz,bz=dz,wz=Lw,Tz=pz,gS=gz;const Gu={FORWARD:0,LOCAL:1,REVERSE:2};function Sz(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function t4(e){this._eventEmitter=new xz,this.options=uf({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new Tz}t4.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var i=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+i[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+i.splice(1,i.length).join(",")+"</div></div>"}},addTo:function(e){function i(s,l){if(!document.body.contains(l))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const h=s.onAdd();l.appendChild(h)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)i(this,e);else if(typeof e=="string"){const s=document.querySelectorAll(e);if(s.length===0)throw new Error("Element ",e,"not found.");if(s.length>1)throw new Error("Geocoder can only be added to a single html element");i(this,s[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=zb(Rb({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new vz(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var i=this.container=document.createElement("div");i.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var s=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",yz(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(z){this.eventManager.keyevent(z,this)}.bind(this));var l=document.createElement("div");l.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var h=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(h),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),l.appendChild(this._clearEl),l.appendChild(this._loadingEl),i.appendChild(s),i.appendChild(this._inputEl),i.appendChild(l),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var u=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(u),l.appendChild(this._geolocateEl),this._showGeolocateButton()}var y=this._typeahead=new _z(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),y.getItemValue=this.options.getItemValue;var n=y.list.draw,w=this._footerNode=Sz();return y.list.draw=function(){n.call(this),w.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),w.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(w)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),i},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(e){this._hideLoadingIcon();const i={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(i),this._fly(i),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(i),this._showClearButton(),this.fresh=!1;const s={limit:1,language:[this.options.language],query:i.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const l=i.geometry.coordinates[0]+","+i.geometry.coordinates[1];this._setInputValue(l),this._eventEmitter.emit("result",{result:i})}else this.geocoderService.reverseGeocode(s).send().then(function(l){const h=l.body.features[0];if(h){const u=gS.transformFeatureToGeolocationText(h,this.options.addressAccuracy);this._setInputValue(u),h.user_coordinates=i.geometry.coordinates,this._eventEmitter.emit("result",{result:h})}else this._eventEmitter.emit("result",{result:{user_coordinates:i.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(e,i){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");return s.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),s.setAttribute("viewBox","0 0 18 18"),s.setAttribute("xml:space","preserve"),s.setAttribute("width",18),s.setAttribute("height",18),s.innerHTML=i,s},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(e){var i=(e.clipboardData||window.clipboardData).getData("text");i.length>=this.options.minLength&&this._geocode(i)},_onKeyDown:function(e){var i=27,s=9;if(e.keyCode===i&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var l=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,h=l?l.value:"";if(!h)return this.fresh=!0,e.keyCode!==s&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[s,i,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&l.value.length>=this.options.minLength&&this._geocode(l.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var i;if(e.properties&&mS[e.properties.short_code])i=uf({},this.options.flyTo),this._map&&this._map.fitBounds(mS[e.properties.short_code].bbox,i);else if(e.bbox){var s=e.bbox;i=uf({},this.options.flyTo),this._map&&this._map.fitBounds([[s[0],s[1]],[s[2],s[3]]],i)}else{var l={zoom:this.options.zoom};i=uf({},l,this.options.flyTo),e.center?i.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(i.center=e.geometry.coordinates),this._map&&this._map.flyTo(i)}},_requestType:function(e,i){var s;return e.localGeocoderOnly?s=Gu.LOCAL:e.reverseGeocode&&gS.REVERSE_GEOCODE_COORD_RGX.test(i)?s=Gu.REVERSE:s=Gu.FORWARD,s},_setupConfig:function(e,i){const s=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],l=/[\s,]+/;var h=this,u=s.reduce(function(n,w){if(h.options[w]===void 0||h.options[w]===null)return n;["countries","types","language"].indexOf(w)>-1?n[w]=h.options[w].split(l):n[w]=h.options[w];const z=typeof h.options[w].longitude=="number"&&typeof h.options[w].latitude=="number";if(w==="proximity"&&z){const ie=h.options[w].longitude,G=h.options[w].latitude;n[w]=[ie,G]}return n},{});switch(e){case Gu.REVERSE:{var y=i.split(l).map(function(n){return parseFloat(n,10)});h.options.flipCoordinates||y.reverse(),u.types&&u.types[0],u=uf(u,{query:y,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(n){n in u&&delete u[n]})}break;case Gu.FORWARD:{const n=i.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(n)&&(i=i.replace(/,/g," ")),u=uf(u,{query:i})}break}return u},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const i=this._requestType(this.options,e),s=this._setupConfig(i,e);var l;switch(i){case Gu.LOCAL:l=Promise.resolve();break;case Gu.FORWARD:l=this.geocoderService.forwardGeocode(s).send();break;case Gu.REVERSE:l=this.geocoderService.reverseGeocode(s).send();break}var h=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],u=[],y=null;return l.catch(function(n){y=n}.bind(this)).then(function(n){this._hideLoadingIcon();var w={};return n?n.statusCode=="200"&&(w=n.body,w.request=n.request,w.headers=n.headers):w={type:"FeatureCollection",features:[]},w.config=s,this.fresh&&(this.eventManager.start(this),this.fresh=!1),w.features=w.features?h.concat(w.features):h,this.options.externalGeocoder?(u=this.options.externalGeocoder(e,w.features)||Promise.resolve([]),u.then(function(z){return w.features=w.features?z.concat(w.features):z,w},function(){return w})):w}.bind(this)).then(function(n){if(y)throw y;this.options.filter&&n.features.length&&(n.features=n.features.filter(this.options.filter)),n.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",n),this._typeahead.update(n.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",n))}.bind(this)).catch(function(n){this._hideLoadingIcon(),this._hideAttribution(),h.length&&this.options.localGeocoder||u.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(h)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:h}),this._eventEmitter.emit("error",{error:n})}.bind(this)),l},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var i=this;e.relatedTarget&&i._clear(e)},_onQueryResult:function(e){var i=e.body;if(i.features.length){var s=i.features[0];this._typeahead.selected=s,this._inputEl.value=s.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],i=wz.language(e),s=bz.placeholder[i];if(s)return s}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,i=!0){return this.options.proximity=e,i&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var i=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||i,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=zb(Rb({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=zb(Rb({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var i={color:"#4668F2"},s=uf({},i,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(s),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,i){return this._eventEmitter.on(e,i),this},off:function(e,i){return this._eventEmitter.removeListener(e,i),this.eventManager.remove(),this}};var Ez=t4;function Mz(){return{map:wf("mapbox-map")}}var Bb=new Map,Cz=/onMb([A-Z])(.+)/;function Az(e){return Bb.has(e)||Bb.set(e,e.replace(Cz,(i,s,l)=>s.toLowerCase()+l)),Bb.get(e)}function i4(e,i,s=[],l=null){const h=M3(),u=Tm(()=>Object.entries(h).filter(([z,ie])=>z.startsWith("on")&&typeof ie=="function").map(([z])=>z)),y=new Map;function n(z){Array.isArray(z)&&z.forEach(ie=>{const G=y.get(ie);typeof G=="function"&&G()})}function w(z){Array.isArray(z)&&z.forEach(ie=>{const G=Az(ie);if(!s.includes(G))return;const q=(...Z)=>{e(`mb-${G}`,...Z)};l?(_o(i).on(G,l,q),y.set(ie,()=>{_o(i).off(G,l,q)})):(_o(i).on(G,q),y.set(ie,()=>{_o(i).off(G,q)}))})}Bc(u,(z,ie)=>{const G=Array.isArray(z)?(ie??[]).filter(Z=>!z.includes(Z)):ie??[],q=Array.isArray(ie)?(z??[]).filter(Z=>!ie.includes(Z)):z??[];if(_o(i))n(G),w(q);else{const Z=Bc(i,F=>{F&&(n(G),w(q),Z())})}},{immediate:!0})}function kz(e){return e.charAt(0).toUpperCase()+e.slice(1)}function n4(e,i,s){function l(h){Object.keys(e).filter(u=>e[u]!==void 0&&e[u]!==null).forEach(u=>{var y,n;const w=u==="mapStyle"?"setStyle":`set${kz(u)}`,z=typeof h[w]=="function",ie=typeof s[u]>"u"||"bind"in s[u]?(n=(y=s[u])==null?void 0:y.bind)!=null?n:!1:!0;if(!z||!ie)return;const{type:G}=e[u],q={deep:G===Object||Array.isArray(G)&&G.includes(Object)};Bc(()=>e[u],Z=>{h[w](Z)},q)})}if(_o(i))l(_o(i));else{const h=Bc(i,u=>{u&&(l(u),h())})}}function Pz(e,{propsConfig:i,props:s,emit:l,events:h=[]}){const{map:u}=Mz(),y=$s();return Array.isArray(h)&&h.length&&i4(l,y,h),typeof i<"u"&&n4(s,y,i),Bc(()=>s.position,n=>{_o(u)&&_o(u).removeControl(_o(y)).addControl(_o(y),n)}),Qh(async()=>{const n=new e(s);_o(u)&&_o(u).addControl(n,s.position),await ym(),y.value=n}),zf(()=>{_o(y)&&_o(u)&&_o(u).removeControl(_o(y))}),{control:y,map:u}}var r4=(e,i)=>{const s=e.__vccOpts||e;for(const[l,h]of i)s[l]=h;return s};if(!ph)throw new Error("mapboxgl is not installed.");if(!Ez)throw new Error("MapboxGeocoder is not installed.");var Dz={key:0},Iz={key:1};if(!ph)throw new Error("mapboxgl is not installed.");var{LngLatBounds:_S,LngLat:Lz}=ph,yS={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[_S,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[Lz,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[_S,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},Oz=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],Rz={inheritAttrs:!1},zz=Object.assign(Rz,{__name:"MapboxMap",props:yS,setup(e,{expose:i,emit:s}){const l=e,h=$s();bm("mapbox-map",h);const u=$s(),y=$s(!1),n=Tm(()=>{const{accessToken:w,mapStyle:z,...ie}=l;return!ie.container&&u.value&&(ie.container=u.value),{style:z,...ie}});return i4(s,h,Oz),n4(l,h,yS),Qh(()=>{ph.accessToken=l.accessToken,h.value=new ph.Map(n.value),h.value.on("load",()=>{y.value=!0}),s("mb-created",h.value);const w=new ResizeObserver(()=>{h.value.resize()});w.observe(n.value.container),zf(()=>{w.disconnect(),h.value.remove()})}),i({map:h}),(w,z)=>(nn(),mn(Xr,null,[Vt("div",ev({ref_key:"root",ref:u},w.$attrs),null,16),y.value?(nn(),mn("div",Dz,[oh(w.$slots,"default")])):(nn(),mn("div",Iz,[oh(w.$slots,"loader")]))],64))}}),E5=r4(zz,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!ph)throw new Error("mapboxgl is not installed.");var xS={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},Bz={__name:"MapboxNavigationControl",props:xS,setup(e,{expose:i}){const s=e,{NavigationControl:l}=ph,{control:h}=Pz(l,{props:s,propsConfig:xS});return i({control:h}),(u,y)=>(nn(),mn("div"))}},M5=r4(Bz,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const C5="/build/assets/ship-c94d8078.png",Xa=(e,i)=>{const s=e.__vccOpts||e;for(const[l,h]of i)s[l]=h;return s},Fz={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},Nz={class:"ships-list position-absolute",ref:"cSearch"},jz={class:"card",style:{height:"100%"}},Uz={class:"card-header search"},Gz={action:"#",method:"get",style:{width:"100%"}},Vz={class:"input-icon"},Wz=wm('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),Hz={class:"card-actions btn-actions"},$z={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Xz=Vt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Yz=Vt("polyline",{points:"15 6 9 12 15 18"},null,-1),qz=[Xz,Yz],Zz={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Kz=Vt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Jz=Vt("polyline",{points:"6 9 12 15 18 9"},null,-1),Qz=[Kz,Jz],eB={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},tB={class:"divide-y pointer"},iB=["onClick"],nB={class:"row"},rB=Vt("div",{class:"col-auto"},[Vt("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),sB={class:"col p-0"},oB={class:"text-truncate"},aB={class:"text-muted text-sm"},lB={key:0,class:"col-auto"},cB=Vt("div",{class:"badge bg-success"},null,-1),hB=Vt("span",{class:"text-xs ml-1"},"Online",-1),dB=[cB,hB],uB={key:1,class:"col-auto"},pB=Vt("div",{class:"badge bg-danger"},null,-1),fB=Vt("span",{class:"text-xs ml-1"},"Offline",-1),mB=[pB,fB];function gB(e,i,s,l,h,u){return nn(),mn("div",Nz,[Vt("div",jz,[Vt("div",Uz,[Vt("form",Gz,[Vt("div",Vz,[Wz,qh(Vt("input",{type:"text",onKeyup:i[0]||(i[0]=(...y)=>u.search&&u.search(...y)),"onUpdate:modelValue":i[1]||(i[1]=y=>h.keyword=y),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[kf,h.keyword]])])]),Vt("div",Hz,[Vt("a",{href:"#",class:"btn-action",onClick:i[2]||(i[2]=(...y)=>u.searchExpand&&u.searchExpand(...y))},[h.isExpand?fs("",!0):(nn(),mn("svg",$z,qz)),h.isExpand?(nn(),mn("svg",Zz,Qz)):fs("",!0)])])]),Vt("div",eB,[Vt("div",tB,[(nn(!0),mn(Xr,null,nc(u.filters,y=>(nn(),mn("div",{key:y.id,onClick:n=>u.selected(y)},[Vt("div",nB,[rB,Vt("div",sB,[Vt("div",oB,xs(y.name),1),Vt("div",aB,xs(y.imo_number),1)]),y.connected?(nn(),mn("div",lB,dB)):fs("",!0),y.connected?fs("",!0):(nn(),mn("div",uB,mB))])],8,iB))),128))])],512)])],512)}const s4=Xa(Fz,[["render",gB]]),_B={data(){return{isExpand:!0,notifications:[],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Tv=e=>(xm("data-v-5adbd2ca"),e=e(),vm(),e),yB={class:"ships-notification position-absolute",ref:"cSearch"},xB={class:"card",style:{height:"100%"}},vB={class:"card-header search"},bB=wm('<h4 class="card-title" data-v-5adbd2ca><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-v-5adbd2ca><path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-5adbd2ca></path><path d="M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6" data-v-5adbd2ca></path><path d="M9 17v1a3 3 0 0 0 6 0v-1" data-v-5adbd2ca></path></svg> Notifications </h4>',1),wB={class:"card-actions btn-actions"},TB={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},SB=Tv(()=>Vt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),EB=Tv(()=>Vt("polyline",{points:"15 6 9 12 15 18"},null,-1)),MB=[SB,EB],CB={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},AB=Tv(()=>Vt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),kB=Tv(()=>Vt("polyline",{points:"6 9 12 15 18 9"},null,-1)),PB=[AB,kB],DB={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},IB={class:"divide-y"},LB=wm('<div class="row" data-v-5adbd2ca><div class="col-auto" data-v-5adbd2ca><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-building-broadcast-tower" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-v-5adbd2ca><path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-5adbd2ca></path><circle cx="12" cy="12" r="1" data-v-5adbd2ca></circle><path d="M16.616 13.924a5 5 0 1 0 -9.23 .004" data-v-5adbd2ca></path><path d="M20.307 15.469a9 9 0 1 0 -16.615 0" data-v-5adbd2ca></path><path d="M9 21l3 -9l3 9" data-v-5adbd2ca></path><path d="M10 19h4" data-v-5adbd2ca></path></svg></div><div class="col" data-v-5adbd2ca> Lorem ipsum dolor sit amet conse, adipisicing elit. <div class="text-muted text-sm" data-v-5adbd2ca>22/07/2022 08:00</div></div></div>',1),OB=[LB];function RB(e,i,s,l,h,u){return nn(),mn("div",yB,[Vt("div",xB,[Vt("div",vB,[bB,Vt("div",wB,[Vt("a",{href:"#",class:"btn-action",onClick:i[0]||(i[0]=(...y)=>u.notifExpand&&u.notifExpand(...y))},[h.isExpand?fs("",!0):(nn(),mn("svg",TB,MB)),h.isExpand?(nn(),mn("svg",CB,PB)):fs("",!0)])])]),Vt("div",DB,[Vt("div",IB,[(nn(!0),mn(Xr,null,nc(h.notifications,y=>(nn(),mn("div",{key:y.id},OB))),128))])],512)])],512)}const o4=Xa(_B,[["render",RB],["__scopeId","data-v-5adbd2ca"]]);var zB=["second","minute","hour","day","week","month","year"];function BB(e,i){if(i===0)return["just now","right now"];var s=zB[Math.floor(i/2)];return e>1&&(s+="s"),[e+" "+s+" ago","in "+e+" "+s]}var FB=["秒","分钟","小时","天","周","个月","年"];function NB(e,i){if(i===0)return["刚刚","片刻后"];var s=FB[~~(i/2)];return[e+" "+s+"前",e+" "+s+"后"]}var Ow={},a4=function(e,i){Ow[e]=i},jB=function(e){return Ow[e]||Ow.en_US},Fb=[60,60,24,7,365/7/12,12];function vS(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function UB(e,i){var s=e<0?1:0;e=Math.abs(e);for(var l=e,h=0;e>=Fb[h]&&h<Fb.length;h++)e/=Fb[h];return e=Math.floor(e),h*=2,e>(h===0?9:1)&&(h+=1),i(e,h,l)[s].replace("%s",e.toString())}function GB(e,i){var s=i?vS(i):new Date;return(+s-+vS(e))/1e3}var Rw=function(e,i,s){var l=GB(e,s&&s.relativeDate);return UB(l,jB(i))};a4("en_US",BB);a4("zh_CN",NB);const VB={components:{"x-search":s4,"x-notification":o4,MapboxMap:E5,MapboxNavigationControl:M5},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(C5,(e,i)=>{if(e)throw e;this.map.addImage("ship",i)}),this.popup=new ph.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(i=>{this.positionShip(i)})},findFleet(e){if(!e.navigation)return;let i=e.id;this.popup.remove();const s=`<a class="no-style" href="/fleet/${i}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Rw(e.navigation.updated_at+"+7")}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let i=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${i.lat.toFixed(5)}</span><span> ${i.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let i=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Rw(e.navigation.updated_at+"+7")}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const l=new ph.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,h=>{let u=h.features[0].properties.id;location.href=`/fleet/${u}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,h=>{i.map.getCanvas().style.cursor="pointer";const u=h.features[0].geometry.coordinates.slice(),y=`<b>${h.features[0].properties.name} [ID]</b> at ${h.features[0].properties.sog} <b>kn</b> / ${h.features[0].properties.cog}&deg;<br>last update: <b>${h.features[0].properties.last_update}</b>`;for(;Math.abs(h.lngLat.lng-u[0])>180;)u[0]+=h.lngLat.lng>u[0]?360:-360;l.setLngLat(u).setHTML(y).addTo(i.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{i.map.getCanvas().style.cursor="",l.remove()})}}},WB={class:"position-relative"},HB={class:"pointer-info",ref:"pointerInfo"};function $B(e,i,s,l,h,u){const y=xo("x-search"),n=xo("x-notification"),w=xo("MapboxNavigationControl"),z=xo("MapboxMap");return nn(),mn("div",WB,[wn(y,{fleets:h.fleets,onSelected:u.findFleet},null,8,["fleets","onSelected"]),wn(n),Vt("div",HB,null,512),wn(z,{onMbCreated:i[0]||(i[0]=ie=>h.map=ie),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/navigation-day-v1",center:h.center,zoom:h.zoom},{default:ao(()=>[wn(w,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const XB=Xa(VB,[["render",$B]]),YB=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],qB={components:{MapboxMap:E5,MapboxNavigationControl:M5},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,i={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},s={type:"FeatureCollection",features:[]};YB.forEach((u,y)=>{this.current&&this.calcCrow(this.current[1],this.current[0],u.lat,u.lng)>20||(i.geometry.coordinates.push([u.lng,u.lat]),s.features.push({type:"Feature",properties:{cog:u.cog,sog:u.sog,time:u.terminal_time,lat:u.lat,lng:u.lng,heading:u.heading},geometry:{type:"Point",coordinates:[u.lng,u.lat]}}),this.current=[u.lng,u.lat],this.items.push(u))}),this.map.addSource("route",{type:"geojson",data:i}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:s}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const l=new ph.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",u=>{let y=u.features[0].properties;this.positionShip(y)}),this.map.on("mouseenter","points",u=>{e.map.getCanvas().style.cursor="pointer";const y=u.features[0].geometry.coordinates.slice(),n=`<b>Lat : ${u.features[0].properties.lat} | Lng: ${u.features[0].properties.lng}</b> at ${u.features[0].properties.sog} <b>kn</b> / ${u.features[0].properties.cog}&deg;<br>time: <b>${u.features[0].properties.time}</b>`;for(;Math.abs(u.lngLat.lng-y[0])>180;)y[0]+=u.lngLat.lng>y[0]?360:-360;l.setLngLat(y).setHTML(n).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",l.remove()}),this.map.loadImage(C5,(u,y)=>{if(u)throw u;e.map.addImage("ship-icon",y)});let h=this.items[this.items.length-1];this.positionShip({heading:h.heading,lng:h.lng,lat:h.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let i=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${i.lat.toFixed(5)}</span><span> ${i.lng.toFixed(5)}</span>`},calcCrow(n,i,w,l){var h=6371,u=this.toRad(w-n),y=this.toRad(l-i),n=this.toRad(n),w=this.toRad(w),z=Math.sin(u/2)*Math.sin(u/2)+Math.sin(y/2)*Math.sin(y/2)*Math.cos(n)*Math.cos(w),ie=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z)),G=h*ie;return G},toRad(e){return e*Math.PI/180}}},ZB={class:"row g-0"},KB={class:"col-9"},JB={class:"position-relative"},QB={class:"pointer-info",ref:"pointerInfo"},eF={class:"col-3"},tF=wm('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),iF={class:"information"},nF={class:"histories"},rF={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},sF=Vt("thead",null,[Vt("tr",null,[Vt("th",null,"Time"),Vt("th",null,"Lon"),Vt("th",null,"Lat"),Vt("th",null,"Speed")])],-1),oF=["onClick"];function aF(e,i,s,l,h,u){const y=xo("MapboxNavigationControl"),n=xo("MapboxMap");return nn(),mn("div",ZB,[Vt("div",KB,[Vt("div",JB,[Vt("div",QB,null,512),wn(n,{onMbCreated:i[0]||(i[0]=w=>h.map=w),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/navigation-day-v1",center:[105.987732,-5.898973],zoom:7},{default:ao(()=>[wn(y,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])]),Vt("div",eF,[tF,Vt("div",iF,[Vt("div",nF,[Vt("table",rF,[sF,Vt("tbody",null,[(nn(!0),mn(Xr,null,nc(h.items,w=>(nn(),mn("tr",{key:w.id,onClick:z=>u.toPotition(w),class:"pointer"},[Vt("td",null,xs(e.$filters.dateformat(w.terminal_time)),1),Vt("td",null,xs(e.$filters.str_limit(w.lng,7))+"°",1),Vt("td",null,xs(e.$filters.str_limit(w.lat,6))+"°",1),Vt("td",null,xs(w.sog),1)],8,oF))),128))])])])])])])}const lF=Xa(qB,[["render",aF]]),cF={components:{"x-search":s4,"x-notification":o4,MapboxMap:E5,MapboxNavigationControl:M5},data(){return{map:null,current:[],timer:null}},mounted(){this.timer=setInterval(()=>{},1e3)},methods:{async loaded(){let{data:e}=await axios.get("/api/fleet/navi");e.forEach(i=>{this.positionShip(i)})},pointerLocation(e){let i=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${i.lat.toFixed(5)}</span><span> ${i.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let i=this;this.map.loadImage(C5,(l,h)=>{if(l)throw l;this.map.addImage(`ship-${e.id}`,h)}),this.map.addSource(`ship-points-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Rw(e.navigation.updated_at+"+7")}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-points-${e.id}`,layout:{"icon-image":`ship-${e.id}`,"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const s=new ph.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,l=>{let h=l.features[0].properties.id;location.href=`/fleet/${h}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,l=>{i.map.getCanvas().style.cursor="pointer";const h=l.features[0].geometry.coordinates.slice(),u=`<b>${l.features[0].properties.name} [ID]</b> at ${l.features[0].properties.sog} <b>kn</b> / ${l.features[0].properties.cog}&deg;<br>last update: <b>${l.features[0].properties.last_update}</b>`;for(;Math.abs(l.lngLat.lng-h[0])>180;)h[0]+=l.lngLat.lng>h[0]?360:-360;s.setLngLat(h).setHTML(u).addTo(i.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{i.map.getCanvas().style.cursor="",s.remove()})},calcCrow(n,i,w,l){var h=6371,u=this.toRad(w-n),y=this.toRad(l-i),n=this.toRad(n),w=this.toRad(w),z=Math.sin(u/2)*Math.sin(u/2)+Math.sin(y/2)*Math.sin(y/2)*Math.cos(n)*Math.cos(w),ie=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z)),G=h*ie;return G},toRad(e){return e*Math.PI/180}}},hF={class:"position-relative p-3 overflow-hidden"},dF={class:"pointer-info",ref:"pointerInfo"};function uF(e,i,s,l,h,u){const y=xo("map-voyage"),n=xo("MapboxNavigationControl"),w=xo("MapboxMap");return nn(),mn("div",hF,[wn(y),Vt("div",dF,null,512),wn(w,{onMbCreated:i[0]||(i[0]=z=>h.map=z),onMbLoad:u.loaded,onMbMousemove:u.pointerLocation,style:{height:"calc(100vh - 56px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/navigation-day-v1",center:[105.987732,-5.898973],zoom:6},{default:ao(()=>[wn(n,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])}const pF=Xa(cF,[["render",uF]]),fF={data(){return{display:!0}},methods:{toggleText(){this.display=!this.display}}},mF={class:"voyage-section p-3"},gF={key:0,class:"card voyage-card"},_F={class:"card-header justify-content-between"},yF=["src"],xF=Vt("h5",{class:"fw-normal m-0"},"Voyage",-1),vF=Vt("div",{class:"card-body"},[Vt("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Vt("li",{class:"nav-item",role:"presentation"},[Vt("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")]),Vt("li",{class:"nav-item",role:"presentation"},[Vt("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")])]),Vt("div",{class:"tab-content",id:"pills-tabContent"},[Vt("div",{class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"}),Vt("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},[Vt("form",{class:"mb-4"},[Vt("div",{class:"form-group mb-3"},[Vt("label",{for:"startDateInput"},"Start Date"),Vt("input",{type:"date",class:"form-control",id:"startDateInput"})]),Vt("div",{class:"form-group mb-3"},[Vt("label",{for:"endDateInput"},"End Date"),Vt("input",{type:"date",class:"form-control",id:"endDateInput"})]),Vt("button",{type:"submit",class:"btn btn-outline-primary w-100"},"SHOW")]),Vt("h6",{class:"text-primary"},"GENERATE REPORT"),Vt("table",{class:"table text-sm"},[Vt("thead",null,[Vt("tr",null,[Vt("th",{scope:"col"},"Time"),Vt("th",{scope:"col"},"Lon"),Vt("th",{scope:"col"},"Lat"),Vt("th",{scope:"col"},"Speed")])]),Vt("tbody",null,[Vt("tr",null,[Vt("td",{scope:"row"},"16/11/2023 10:34:00"),Vt("td",null,"106.464°"),Vt("td",null,"-58.37°"),Vt("td",null,"14.5")]),Vt("tr",null,[Vt("td",{scope:"row"},"16/11/2023 10:04:00"),Vt("td",null,"106.464°"),Vt("td",null,"-58.37°"),Vt("td",null,"14.5")]),Vt("tr",null,[Vt("td",{scope:"row"},"16/11/2023 09:44:00"),Vt("td",null,"106.464°"),Vt("td",null,"-58.37°"),Vt("td",null,"14.5")]),Vt("tr",null,[Vt("td",{scope:"row"},"16/11/2023 09:14:00"),Vt("td",null,"106.464°"),Vt("td",null,"-58.37°"),Vt("td",null,"14.5")]),Vt("tr",null,[Vt("td",{scope:"row"},"16/11/2023 08:54:00"),Vt("td",null,"106.464°"),Vt("td",null,"-58.37°"),Vt("td",null,"14.5")]),Vt("tr",null,[Vt("td",{scope:"row"},"16/11/2023 10:34:00"),Vt("td",null,"106.464°"),Vt("td",null,"-58.37°"),Vt("td",null,"14.5")])])])])])],-1),bF=["src"];function wF(e,i,s,l,h,u){return nn(),mn("div",mF,[h.display?(nn(),mn("div",gF,[Vt("div",_F,[Vt("button",{onClick:i[0]||(i[0]=y=>u.toggleText()),class:"btn btn-link bg-transparent p-0"},[Vt("img",{src:"/img/icons/close-fill.png",alt:""},null,8,yF)]),xF]),vF])):fs("",!0),Vt("button",{onClick:i[1]||(i[1]=y=>u.toggleText()),class:"btn btn-light btn-open"},[Vt("img",{src:"/img/icons/location-circle.png",alt:""},null,8,bF),qd(" Show fleet Track ")])])}const TF=Xa(fF,[["render",wF]]);function bS(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function A5(e={},i={}){Object.keys(i).forEach(s=>{typeof e[s]>"u"?e[s]=i[s]:bS(i[s])&&bS(e[s])&&Object.keys(i[s]).length>0&&A5(e[s],i[s])})}const l4={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ff(){const e=typeof document<"u"?document:{};return A5(e,l4),e}const SF={document:l4,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function lc(){const e=typeof window<"u"?window:{};return A5(e,SF),e}function EF(e){const i=e;Object.keys(i).forEach(s=>{try{i[s]=null}catch{}try{delete i[s]}catch{}})}function zw(e,i=0){return setTimeout(e,i)}function Mx(){return Date.now()}function MF(e){const i=lc();let s;return i.getComputedStyle&&(s=i.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}function CF(e,i="x"){const s=lc();let l,h,u;const y=MF(e);return s.WebKitCSSMatrix?(h=y.transform||y.webkitTransform,h.split(",").length>6&&(h=h.split(", ").map(n=>n.replace(",",".")).join(", ")),u=new s.WebKitCSSMatrix(h==="none"?"":h)):(u=y.MozTransform||y.OTransform||y.MsTransform||y.msTransform||y.transform||y.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),l=u.toString().split(",")),i==="x"&&(s.WebKitCSSMatrix?h=u.m41:l.length===16?h=parseFloat(l[12]):h=parseFloat(l[4])),i==="y"&&(s.WebKitCSSMatrix?h=u.m42:l.length===16?h=parseFloat(l[13]):h=parseFloat(l[5])),h||0}function Ly(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function AF(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function Jl(...e){const i=Object(e[0]),s=["__proto__","constructor","prototype"];for(let l=1;l<e.length;l+=1){const h=e[l];if(h!=null&&!AF(h)){const u=Object.keys(Object(h)).filter(y=>s.indexOf(y)<0);for(let y=0,n=u.length;y<n;y+=1){const w=u[y],z=Object.getOwnPropertyDescriptor(h,w);z!==void 0&&z.enumerable&&(Ly(i[w])&&Ly(h[w])?h[w].__swiper__?i[w]=h[w]:Jl(i[w],h[w]):!Ly(i[w])&&Ly(h[w])?(i[w]={},h[w].__swiper__?i[w]=h[w]:Jl(i[w],h[w])):i[w]=h[w])}}}return i}function Oy(e,i,s){e.style.setProperty(i,s)}function c4({swiper:e,targetPosition:i,side:s}){const l=lc(),h=-e.translate;let u=null,y;const n=e.params.speed;e.wrapperEl.style.scrollSnapType="none",l.cancelAnimationFrame(e.cssModeFrameID);const w=i>h?"next":"prev",z=(G,q)=>w==="next"&&G>=q||w==="prev"&&G<=q,ie=()=>{y=new Date().getTime(),u===null&&(u=y);const G=Math.max(Math.min((y-u)/n,1),0),q=.5-Math.cos(G*Math.PI)/2;let Z=h+q*(i-h);if(z(Z,i)&&(Z=i),e.wrapperEl.scrollTo({[s]:Z}),z(Z,i)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:Z})}),l.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=l.requestAnimationFrame(ie)};ie()}function Zh(e,i=""){return[...e.children].filter(s=>s.matches(i))}function k5(e,i=[]){const s=document.createElement(e);return s.classList.add(...Array.isArray(i)?i:[i]),s}function kF(e,i){const s=[];for(;e.previousElementSibling;){const l=e.previousElementSibling;i?l.matches(i)&&s.push(l):s.push(l),e=l}return s}function PF(e,i){const s=[];for(;e.nextElementSibling;){const l=e.nextElementSibling;i?l.matches(i)&&s.push(l):s.push(l),e=l}return s}function Yu(e,i){return lc().getComputedStyle(e,null).getPropertyValue(i)}function Bw(e){let i=e,s;if(i){for(s=0;(i=i.previousSibling)!==null;)i.nodeType===1&&(s+=1);return s}}function DF(e,i){const s=[];let l=e.parentElement;for(;l;)i?l.matches(i)&&s.push(l):s.push(l),l=l.parentElement;return s}function wS(e,i,s){const l=lc();return s?e[i==="width"?"offsetWidth":"offsetHeight"]+parseFloat(l.getComputedStyle(e,null).getPropertyValue(i==="width"?"margin-right":"margin-top"))+parseFloat(l.getComputedStyle(e,null).getPropertyValue(i==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let Nb;function IF(){const e=lc(),i=Ff();return{smoothScroll:i.documentElement&&i.documentElement.style&&"scrollBehavior"in i.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&i instanceof e.DocumentTouch)}}function h4(){return Nb||(Nb=IF()),Nb}let jb;function LF({userAgent:e}={}){const i=h4(),s=lc(),l=s.navigator.platform,h=e||s.navigator.userAgent,u={ios:!1,android:!1},y=s.screen.width,n=s.screen.height,w=h.match(/(Android);?[\s\/]+([\d.]+)?/);let z=h.match(/(iPad).*OS\s([\d_]+)/);const ie=h.match(/(iPod)(.*OS\s([\d_]+))?/),G=!z&&h.match(/(iPhone\sOS|iOS)\s([\d_]+)/),q=l==="Win32";let Z=l==="MacIntel";const F=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!z&&Z&&i.touch&&F.indexOf(`${y}x${n}`)>=0&&(z=h.match(/(Version)\/([\d.]+)/),z||(z=[0,1,"13_0_0"]),Z=!1),w&&!q&&(u.os="android",u.android=!0),(z||G||ie)&&(u.os="ios",u.ios=!0),u}function OF(e={}){return jb||(jb=LF(e)),jb}let Ub;function RF(){const e=lc();let i=!1;function s(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(s()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[h,u]=l.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));i=h<16||h===16&&u<2}}return{isSafari:i||s(),needPerspectiveFix:i,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function zF(){return Ub||(Ub=RF()),Ub}function BF({swiper:e,on:i,emit:s}){const l=lc();let h=null,u=null;const y=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},n=()=>{!e||e.destroyed||!e.initialized||(h=new ResizeObserver(ie=>{u=l.requestAnimationFrame(()=>{const{width:G,height:q}=e;let Z=G,F=q;ie.forEach(({contentBoxSize:U,contentRect:re,target:R})=>{R&&R!==e.el||(Z=re?re.width:(U[0]||U).inlineSize,F=re?re.height:(U[0]||U).blockSize)}),(Z!==G||F!==q)&&y()})}),h.observe(e.el))},w=()=>{u&&l.cancelAnimationFrame(u),h&&h.unobserve&&e.el&&(h.unobserve(e.el),h=null)},z=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};i("init",()=>{if(e.params.resizeObserver&&typeof l.ResizeObserver<"u"){n();return}l.addEventListener("resize",y),l.addEventListener("orientationchange",z)}),i("destroy",()=>{w(),l.removeEventListener("resize",y),l.removeEventListener("orientationchange",z)})}function FF({swiper:e,extendParams:i,on:s,emit:l}){const h=[],u=lc(),y=(z,ie={})=>{const G=u.MutationObserver||u.WebkitMutationObserver,q=new G(Z=>{if(e.__preventObserver__)return;if(Z.length===1){l("observerUpdate",Z[0]);return}const F=function(){l("observerUpdate",Z[0])};u.requestAnimationFrame?u.requestAnimationFrame(F):u.setTimeout(F,0)});q.observe(z,{attributes:typeof ie.attributes>"u"?!0:ie.attributes,childList:typeof ie.childList>"u"?!0:ie.childList,characterData:typeof ie.characterData>"u"?!0:ie.characterData}),h.push(q)},n=()=>{if(e.params.observer){if(e.params.observeParents){const z=DF(e.el);for(let ie=0;ie<z.length;ie+=1)y(z[ie])}y(e.el,{childList:e.params.observeSlideChildren}),y(e.wrapperEl,{attributes:!1})}},w=()=>{h.forEach(z=>{z.disconnect()}),h.splice(0,h.length)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",n),s("destroy",w)}const NF={on(e,i,s){const l=this;if(!l.eventsListeners||l.destroyed||typeof i!="function")return l;const h=s?"unshift":"push";return e.split(" ").forEach(u=>{l.eventsListeners[u]||(l.eventsListeners[u]=[]),l.eventsListeners[u][h](i)}),l},once(e,i,s){const l=this;if(!l.eventsListeners||l.destroyed||typeof i!="function")return l;function h(...u){l.off(e,h),h.__emitterProxy&&delete h.__emitterProxy,i.apply(l,u)}return h.__emitterProxy=i,l.on(e,h,s)},onAny(e,i){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const l=i?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[l](e),s},offAny(e){const i=this;if(!i.eventsListeners||i.destroyed||!i.eventsAnyListeners)return i;const s=i.eventsAnyListeners.indexOf(e);return s>=0&&i.eventsAnyListeners.splice(s,1),i},off(e,i){const s=this;return!s.eventsListeners||s.destroyed||!s.eventsListeners||e.split(" ").forEach(l=>{typeof i>"u"?s.eventsListeners[l]=[]:s.eventsListeners[l]&&s.eventsListeners[l].forEach((h,u)=>{(h===i||h.__emitterProxy&&h.__emitterProxy===i)&&s.eventsListeners[l].splice(u,1)})}),s},emit(...e){const i=this;if(!i.eventsListeners||i.destroyed||!i.eventsListeners)return i;let s,l,h;return typeof e[0]=="string"||Array.isArray(e[0])?(s=e[0],l=e.slice(1,e.length),h=i):(s=e[0].events,l=e[0].data,h=e[0].context||i),l.unshift(h),(Array.isArray(s)?s:s.split(" ")).forEach(y=>{i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach(n=>{n.apply(h,[y,...l])}),i.eventsListeners&&i.eventsListeners[y]&&i.eventsListeners[y].forEach(n=>{n.apply(h,l)})}),i}};function jF(){const e=this;let i,s;const l=e.el;typeof e.params.width<"u"&&e.params.width!==null?i=e.params.width:i=l.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?s=e.params.height:s=l.clientHeight,!(i===0&&e.isHorizontal()||s===0&&e.isVertical())&&(i=i-parseInt(Yu(l,"padding-left")||0,10)-parseInt(Yu(l,"padding-right")||0,10),s=s-parseInt(Yu(l,"padding-top")||0,10)-parseInt(Yu(l,"padding-bottom")||0,10),Number.isNaN(i)&&(i=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:i,height:s,size:e.isHorizontal()?i:s}))}function UF(){const e=this;function i(X){return e.isHorizontal()?X:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[X]}function s(X,P){return parseFloat(X.getPropertyValue(i(P))||0)}const l=e.params,{wrapperEl:h,slidesEl:u,size:y,rtlTranslate:n,wrongRTL:w}=e,z=e.virtual&&l.virtual.enabled,ie=z?e.virtual.slides.length:e.slides.length,G=Zh(u,`.${e.params.slideClass}, swiper-slide`),q=z?e.virtual.slides.length:G.length;let Z=[];const F=[],U=[];let re=l.slidesOffsetBefore;typeof re=="function"&&(re=l.slidesOffsetBefore.call(e));let R=l.slidesOffsetAfter;typeof R=="function"&&(R=l.slidesOffsetAfter.call(e));const D=e.snapGrid.length,N=e.slidesGrid.length;let $=l.spaceBetween,j=-re,S=0,te=0;if(typeof y>"u")return;typeof $=="string"&&$.indexOf("%")>=0?$=parseFloat($.replace("%",""))/100*y:typeof $=="string"&&($=parseFloat($)),e.virtualSize=-$,G.forEach(X=>{n?X.style.marginLeft="":X.style.marginRight="",X.style.marginBottom="",X.style.marginTop=""}),l.centeredSlides&&l.cssMode&&(Oy(h,"--swiper-centered-offset-before",""),Oy(h,"--swiper-centered-offset-after",""));const Y=l.grid&&l.grid.rows>1&&e.grid;Y&&e.grid.initSlides(q);let I;const V=l.slidesPerView==="auto"&&l.breakpoints&&Object.keys(l.breakpoints).filter(X=>typeof l.breakpoints[X].slidesPerView<"u").length>0;for(let X=0;X<q;X+=1){I=0;let P;if(G[X]&&(P=G[X]),Y&&e.grid.updateSlide(X,P,q,i),!(G[X]&&Yu(P,"display")==="none")){if(l.slidesPerView==="auto"){V&&(G[X].style[i("width")]="");const L=getComputedStyle(P),_=P.style.transform,v=P.style.webkitTransform;if(_&&(P.style.transform="none"),v&&(P.style.webkitTransform="none"),l.roundLengths)I=e.isHorizontal()?wS(P,"width",!0):wS(P,"height",!0);else{const M=s(L,"width"),O=s(L,"padding-left"),ee=s(L,"padding-right"),ae=s(L,"margin-left"),K=s(L,"margin-right"),pe=L.getPropertyValue("box-sizing");if(pe&&pe==="border-box")I=M+ae+K;else{const{clientWidth:Me,offsetWidth:Pe}=P;I=M+O+ee+ae+K+(Pe-Me)}}_&&(P.style.transform=_),v&&(P.style.webkitTransform=v),l.roundLengths&&(I=Math.floor(I))}else I=(y-(l.slidesPerView-1)*$)/l.slidesPerView,l.roundLengths&&(I=Math.floor(I)),G[X]&&(G[X].style[i("width")]=`${I}px`);G[X]&&(G[X].swiperSlideSize=I),U.push(I),l.centeredSlides?(j=j+I/2+S/2+$,S===0&&X!==0&&(j=j-y/2-$),X===0&&(j=j-y/2-$),Math.abs(j)<1/1e3&&(j=0),l.roundLengths&&(j=Math.floor(j)),te%l.slidesPerGroup===0&&Z.push(j),F.push(j)):(l.roundLengths&&(j=Math.floor(j)),(te-Math.min(e.params.slidesPerGroupSkip,te))%e.params.slidesPerGroup===0&&Z.push(j),F.push(j),j=j+I+$),e.virtualSize+=I+$,S=I,te+=1}}if(e.virtualSize=Math.max(e.virtualSize,y)+R,n&&w&&(l.effect==="slide"||l.effect==="coverflow")&&(h.style.width=`${e.virtualSize+$}px`),l.setWrapperSize&&(h.style[i("width")]=`${e.virtualSize+$}px`),Y&&e.grid.updateWrapperSize(I,Z,i),!l.centeredSlides){const X=[];for(let P=0;P<Z.length;P+=1){let L=Z[P];l.roundLengths&&(L=Math.floor(L)),Z[P]<=e.virtualSize-y&&X.push(L)}Z=X,Math.floor(e.virtualSize-y)-Math.floor(Z[Z.length-1])>1&&Z.push(e.virtualSize-y)}if(z&&l.loop){const X=U[0]+$;if(l.slidesPerGroup>1){const P=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/l.slidesPerGroup),L=X*l.slidesPerGroup;for(let _=0;_<P;_+=1)Z.push(Z[Z.length-1]+L)}for(let P=0;P<e.virtual.slidesBefore+e.virtual.slidesAfter;P+=1)l.slidesPerGroup===1&&Z.push(Z[Z.length-1]+X),F.push(F[F.length-1]+X),e.virtualSize+=X}if(Z.length===0&&(Z=[0]),$!==0){const X=e.isHorizontal()&&n?"marginLeft":i("marginRight");G.filter((P,L)=>!l.cssMode||l.loop?!0:L!==G.length-1).forEach(P=>{P.style[X]=`${$}px`})}if(l.centeredSlides&&l.centeredSlidesBounds){let X=0;U.forEach(L=>{X+=L+($||0)}),X-=$;const P=X-y;Z=Z.map(L=>L<0?-re:L>P?P+R:L)}if(l.centerInsufficientSlides){let X=0;if(U.forEach(P=>{X+=P+($||0)}),X-=$,X<y){const P=(y-X)/2;Z.forEach((L,_)=>{Z[_]=L-P}),F.forEach((L,_)=>{F[_]=L+P})}}if(Object.assign(e,{slides:G,snapGrid:Z,slidesGrid:F,slidesSizesGrid:U}),l.centeredSlides&&l.cssMode&&!l.centeredSlidesBounds){Oy(h,"--swiper-centered-offset-before",`${-Z[0]}px`),Oy(h,"--swiper-centered-offset-after",`${e.size/2-U[U.length-1]/2}px`);const X=-e.snapGrid[0],P=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(L=>L+X),e.slidesGrid=e.slidesGrid.map(L=>L+P)}if(q!==ie&&e.emit("slidesLengthChange"),Z.length!==D&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),F.length!==N&&e.emit("slidesGridLengthChange"),l.watchSlidesProgress&&e.updateSlidesOffset(),!z&&!l.cssMode&&(l.effect==="slide"||l.effect==="fade")){const X=`${l.containerModifierClass}backface-hidden`,P=e.el.classList.contains(X);q<=l.maxBackfaceHiddenSlides?P||e.el.classList.add(X):P&&e.el.classList.remove(X)}}function GF(e){const i=this,s=[],l=i.virtual&&i.params.virtual.enabled;let h=0,u;typeof e=="number"?i.setTransition(e):e===!0&&i.setTransition(i.params.speed);const y=n=>l?i.slides[i.getSlideIndexByData(n)]:i.slides[n];if(i.params.slidesPerView!=="auto"&&i.params.slidesPerView>1)if(i.params.centeredSlides)(i.visibleSlides||[]).forEach(n=>{s.push(n)});else for(u=0;u<Math.ceil(i.params.slidesPerView);u+=1){const n=i.activeIndex+u;if(n>i.slides.length&&!l)break;s.push(y(n))}else s.push(y(i.activeIndex));for(u=0;u<s.length;u+=1)if(typeof s[u]<"u"){const n=s[u].offsetHeight;h=n>h?n:h}(h||h===0)&&(i.wrapperEl.style.height=`${h}px`)}function VF(){const e=this,i=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let l=0;l<i.length;l+=1)i[l].swiperSlideOffset=(e.isHorizontal()?i[l].offsetLeft:i[l].offsetTop)-s-e.cssOverflowAdjustment()}function WF(e=this&&this.translate||0){const i=this,s=i.params,{slides:l,rtlTranslate:h,snapGrid:u}=i;if(l.length===0)return;typeof l[0].swiperSlideOffset>"u"&&i.updateSlidesOffset();let y=-e;h&&(y=e),l.forEach(w=>{w.classList.remove(s.slideVisibleClass)}),i.visibleSlidesIndexes=[],i.visibleSlides=[];let n=s.spaceBetween;typeof n=="string"&&n.indexOf("%")>=0?n=parseFloat(n.replace("%",""))/100*i.size:typeof n=="string"&&(n=parseFloat(n));for(let w=0;w<l.length;w+=1){const z=l[w];let ie=z.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(ie-=l[0].swiperSlideOffset);const G=(y+(s.centeredSlides?i.minTranslate():0)-ie)/(z.swiperSlideSize+n),q=(y-u[0]+(s.centeredSlides?i.minTranslate():0)-ie)/(z.swiperSlideSize+n),Z=-(y-ie),F=Z+i.slidesSizesGrid[w];(Z>=0&&Z<i.size-1||F>1&&F<=i.size||Z<=0&&F>=i.size)&&(i.visibleSlides.push(z),i.visibleSlidesIndexes.push(w),l[w].classList.add(s.slideVisibleClass)),z.progress=h?-G:G,z.originalProgress=h?-q:q}}function HF(e){const i=this;if(typeof e>"u"){const ie=i.rtlTranslate?-1:1;e=i&&i.translate&&i.translate*ie||0}const s=i.params,l=i.maxTranslate()-i.minTranslate();let{progress:h,isBeginning:u,isEnd:y,progressLoop:n}=i;const w=u,z=y;if(l===0)h=0,u=!0,y=!0;else{h=(e-i.minTranslate())/l;const ie=Math.abs(e-i.minTranslate())<1,G=Math.abs(e-i.maxTranslate())<1;u=ie||h<=0,y=G||h>=1,ie&&(h=0),G&&(h=1)}if(s.loop){const ie=i.getSlideIndexByData(0),G=i.getSlideIndexByData(i.slides.length-1),q=i.slidesGrid[ie],Z=i.slidesGrid[G],F=i.slidesGrid[i.slidesGrid.length-1],U=Math.abs(e);U>=q?n=(U-q)/F:n=(U+F-Z)/F,n>1&&(n-=1)}Object.assign(i,{progress:h,progressLoop:n,isBeginning:u,isEnd:y}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&i.updateSlidesProgress(e),u&&!w&&i.emit("reachBeginning toEdge"),y&&!z&&i.emit("reachEnd toEdge"),(w&&!u||z&&!y)&&i.emit("fromEdge"),i.emit("progress",h)}function $F(){const e=this,{slides:i,params:s,slidesEl:l,activeIndex:h}=e,u=e.virtual&&s.virtual.enabled,y=w=>Zh(l,`.${s.slideClass}${w}, swiper-slide${w}`)[0];i.forEach(w=>{w.classList.remove(s.slideActiveClass,s.slideNextClass,s.slidePrevClass)});let n;if(u)if(s.loop){let w=h-e.virtual.slidesBefore;w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),n=y(`[data-swiper-slide-index="${w}"]`)}else n=y(`[data-swiper-slide-index="${h}"]`);else n=i[h];if(n){n.classList.add(s.slideActiveClass);let w=PF(n,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!w&&(w=i[0]),w&&w.classList.add(s.slideNextClass);let z=kF(n,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!z===0&&(z=i[i.length-1]),z&&z.classList.add(s.slidePrevClass)}e.emitSlidesClasses()}const Yy=(e,i)=>{if(!e||e.destroyed||!e.params)return;const s=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,l=i.closest(s());if(l){const h=l.querySelector(`.${e.params.lazyPreloaderClass}`);h&&h.remove()}},TS=(e,i)=>{if(!e.slides[i])return;const s=e.slides[i].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},Fw=e=>{if(!e||e.destroyed||!e.params)return;let i=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!i||i<0)return;i=Math.min(i,s);const l=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),h=e.activeIndex,u=h+l-1;if(e.params.rewind)for(let y=h-i;y<=u+i;y+=1){const n=(y%s+s)%s;n!==h&&n>u&&TS(e,n)}else for(let y=Math.max(u-i,0);y<=Math.min(u+i,s-1);y+=1)y!==h&&y>u&&TS(e,y)};function XF(e){const{slidesGrid:i,params:s}=e,l=e.rtlTranslate?e.translate:-e.translate;let h;for(let u=0;u<i.length;u+=1)typeof i[u+1]<"u"?l>=i[u]&&l<i[u+1]-(i[u+1]-i[u])/2?h=u:l>=i[u]&&l<i[u+1]&&(h=u+1):l>=i[u]&&(h=u);return s.normalizeSlideIndex&&(h<0||typeof h>"u")&&(h=0),h}function YF(e){const i=this,s=i.rtlTranslate?i.translate:-i.translate,{snapGrid:l,params:h,activeIndex:u,realIndex:y,snapIndex:n}=i;let w=e,z;const ie=q=>{let Z=q-i.virtual.slidesBefore;return Z<0&&(Z=i.virtual.slides.length+Z),Z>=i.virtual.slides.length&&(Z-=i.virtual.slides.length),Z};if(typeof w>"u"&&(w=XF(i)),l.indexOf(s)>=0)z=l.indexOf(s);else{const q=Math.min(h.slidesPerGroupSkip,w);z=q+Math.floor((w-q)/h.slidesPerGroup)}if(z>=l.length&&(z=l.length-1),w===u){z!==n&&(i.snapIndex=z,i.emit("snapIndexChange")),i.params.loop&&i.virtual&&i.params.virtual.enabled&&(i.realIndex=ie(w));return}let G;i.virtual&&h.virtual.enabled&&h.loop?G=ie(w):i.slides[w]?G=parseInt(i.slides[w].getAttribute("data-swiper-slide-index")||w,10):G=w,Object.assign(i,{previousSnapIndex:n,snapIndex:z,previousRealIndex:y,realIndex:G,previousIndex:u,activeIndex:w}),i.initialized&&Fw(i),i.emit("activeIndexChange"),i.emit("snapIndexChange"),y!==G&&i.emit("realIndexChange"),(i.initialized||i.params.runCallbacksOnInit)&&i.emit("slideChange")}function qF(e){const i=this,s=i.params,l=e.closest(`.${s.slideClass}, swiper-slide`);let h=!1,u;if(l){for(let y=0;y<i.slides.length;y+=1)if(i.slides[y]===l){h=!0,u=y;break}}if(l&&h)i.clickedSlide=l,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(l.getAttribute("data-swiper-slide-index"),10):i.clickedIndex=u;else{i.clickedSlide=void 0,i.clickedIndex=void 0;return}s.slideToClickedSlide&&i.clickedIndex!==void 0&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}const ZF={updateSize:jF,updateSlides:UF,updateAutoHeight:GF,updateSlidesOffset:VF,updateSlidesProgress:WF,updateProgress:HF,updateSlidesClasses:$F,updateActiveIndex:YF,updateClickedSlide:qF};function KF(e=this.isHorizontal()?"x":"y"){const i=this,{params:s,rtlTranslate:l,translate:h,wrapperEl:u}=i;if(s.virtualTranslate)return l?-h:h;if(s.cssMode)return h;let y=CF(u,e);return y+=i.cssOverflowAdjustment(),l&&(y=-y),y||0}function JF(e,i){const s=this,{rtlTranslate:l,params:h,wrapperEl:u,progress:y}=s;let n=0,w=0;const z=0;s.isHorizontal()?n=l?-e:e:w=e,h.roundLengths&&(n=Math.floor(n),w=Math.floor(w)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?n:w,h.cssMode?u[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-n:-w:h.virtualTranslate||(s.isHorizontal()?n-=s.cssOverflowAdjustment():w-=s.cssOverflowAdjustment(),u.style.transform=`translate3d(${n}px, ${w}px, ${z}px)`);let ie;const G=s.maxTranslate()-s.minTranslate();G===0?ie=0:ie=(e-s.minTranslate())/G,ie!==y&&s.updateProgress(e),s.emit("setTranslate",s.translate,i)}function QF(){return-this.snapGrid[0]}function eN(){return-this.snapGrid[this.snapGrid.length-1]}function tN(e=0,i=this.params.speed,s=!0,l=!0,h){const u=this,{params:y,wrapperEl:n}=u;if(u.animating&&y.preventInteractionOnTransition)return!1;const w=u.minTranslate(),z=u.maxTranslate();let ie;if(l&&e>w?ie=w:l&&e<z?ie=z:ie=e,u.updateProgress(ie),y.cssMode){const G=u.isHorizontal();if(i===0)n[G?"scrollLeft":"scrollTop"]=-ie;else{if(!u.support.smoothScroll)return c4({swiper:u,targetPosition:-ie,side:G?"left":"top"}),!0;n.scrollTo({[G?"left":"top"]:-ie,behavior:"smooth"})}return!0}return i===0?(u.setTransition(0),u.setTranslate(ie),s&&(u.emit("beforeTransitionStart",i,h),u.emit("transitionEnd"))):(u.setTransition(i),u.setTranslate(ie),s&&(u.emit("beforeTransitionStart",i,h),u.emit("transitionStart")),u.animating||(u.animating=!0,u.onTranslateToWrapperTransitionEnd||(u.onTranslateToWrapperTransitionEnd=function(q){!u||u.destroyed||q.target===this&&(u.wrapperEl.removeEventListener("transitionend",u.onTranslateToWrapperTransitionEnd),u.onTranslateToWrapperTransitionEnd=null,delete u.onTranslateToWrapperTransitionEnd,s&&u.emit("transitionEnd"))}),u.wrapperEl.addEventListener("transitionend",u.onTranslateToWrapperTransitionEnd))),!0}const iN={getTranslate:KF,setTranslate:JF,minTranslate:QF,maxTranslate:eN,translateTo:tN};function nN(e,i){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`),s.emit("setTransition",e,i)}function d4({swiper:e,runCallbacks:i,direction:s,step:l}){const{activeIndex:h,previousIndex:u}=e;let y=s;if(y||(h>u?y="next":h<u?y="prev":y="reset"),e.emit(`transition${l}`),i&&h!==u){if(y==="reset"){e.emit(`slideResetTransition${l}`);return}e.emit(`slideChangeTransition${l}`),y==="next"?e.emit(`slideNextTransition${l}`):e.emit(`slidePrevTransition${l}`)}}function rN(e=!0,i){const s=this,{params:l}=s;l.cssMode||(l.autoHeight&&s.updateAutoHeight(),d4({swiper:s,runCallbacks:e,direction:i,step:"Start"}))}function sN(e=!0,i){const s=this,{params:l}=s;s.animating=!1,!l.cssMode&&(s.setTransition(0),d4({swiper:s,runCallbacks:e,direction:i,step:"End"}))}const oN={setTransition:nN,transitionStart:rN,transitionEnd:sN};function aN(e=0,i=this.params.speed,s=!0,l,h){typeof e=="string"&&(e=parseInt(e,10));const u=this;let y=e;y<0&&(y=0);const{params:n,snapGrid:w,slidesGrid:z,previousIndex:ie,activeIndex:G,rtlTranslate:q,wrapperEl:Z,enabled:F}=u;if(u.animating&&n.preventInteractionOnTransition||!F&&!l&&!h)return!1;const U=Math.min(u.params.slidesPerGroupSkip,y);let re=U+Math.floor((y-U)/u.params.slidesPerGroup);re>=w.length&&(re=w.length-1);const R=-w[re];if(n.normalizeSlideIndex)for(let N=0;N<z.length;N+=1){const $=-Math.floor(R*100),j=Math.floor(z[N]*100),S=Math.floor(z[N+1]*100);typeof z[N+1]<"u"?$>=j&&$<S-(S-j)/2?y=N:$>=j&&$<S&&(y=N+1):$>=j&&(y=N)}if(u.initialized&&y!==G&&(!u.allowSlideNext&&R<u.translate&&R<u.minTranslate()||!u.allowSlidePrev&&R>u.translate&&R>u.maxTranslate()&&(G||0)!==y))return!1;y!==(ie||0)&&s&&u.emit("beforeSlideChangeStart"),u.updateProgress(R);let D;if(y>G?D="next":y<G?D="prev":D="reset",q&&-R===u.translate||!q&&R===u.translate)return u.updateActiveIndex(y),n.autoHeight&&u.updateAutoHeight(),u.updateSlidesClasses(),n.effect!=="slide"&&u.setTranslate(R),D!=="reset"&&(u.transitionStart(s,D),u.transitionEnd(s,D)),!1;if(n.cssMode){const N=u.isHorizontal(),$=q?R:-R;if(i===0){const j=u.virtual&&u.params.virtual.enabled;j&&(u.wrapperEl.style.scrollSnapType="none",u._immediateVirtual=!0),j&&!u._cssModeVirtualInitialSet&&u.params.initialSlide>0?(u._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{Z[N?"scrollLeft":"scrollTop"]=$})):Z[N?"scrollLeft":"scrollTop"]=$,j&&requestAnimationFrame(()=>{u.wrapperEl.style.scrollSnapType="",u._immediateVirtual=!1})}else{if(!u.support.smoothScroll)return c4({swiper:u,targetPosition:$,side:N?"left":"top"}),!0;Z.scrollTo({[N?"left":"top"]:$,behavior:"smooth"})}return!0}return u.setTransition(i),u.setTranslate(R),u.updateActiveIndex(y),u.updateSlidesClasses(),u.emit("beforeTransitionStart",i,l),u.transitionStart(s,D),i===0?u.transitionEnd(s,D):u.animating||(u.animating=!0,u.onSlideToWrapperTransitionEnd||(u.onSlideToWrapperTransitionEnd=function($){!u||u.destroyed||$.target===this&&(u.wrapperEl.removeEventListener("transitionend",u.onSlideToWrapperTransitionEnd),u.onSlideToWrapperTransitionEnd=null,delete u.onSlideToWrapperTransitionEnd,u.transitionEnd(s,D))}),u.wrapperEl.addEventListener("transitionend",u.onSlideToWrapperTransitionEnd)),!0}function lN(e=0,i=this.params.speed,s=!0,l){typeof e=="string"&&(e=parseInt(e,10));const h=this;let u=e;return h.params.loop&&(h.virtual&&h.params.virtual.enabled?u=u+h.virtual.slidesBefore:u=h.getSlideIndexByData(u)),h.slideTo(u,i,s,l)}function cN(e=this.params.speed,i=!0,s){const l=this,{enabled:h,params:u,animating:y}=l;if(!h)return l;let n=u.slidesPerGroup;u.slidesPerView==="auto"&&u.slidesPerGroup===1&&u.slidesPerGroupAuto&&(n=Math.max(l.slidesPerViewDynamic("current",!0),1));const w=l.activeIndex<u.slidesPerGroupSkip?1:n,z=l.virtual&&u.virtual.enabled;if(u.loop){if(y&&!z&&u.loopPreventsSliding)return!1;l.loopFix({direction:"next"}),l._clientLeft=l.wrapperEl.clientLeft}return u.rewind&&l.isEnd?l.slideTo(0,e,i,s):l.slideTo(l.activeIndex+w,e,i,s)}function hN(e=this.params.speed,i=!0,s){const l=this,{params:h,snapGrid:u,slidesGrid:y,rtlTranslate:n,enabled:w,animating:z}=l;if(!w)return l;const ie=l.virtual&&h.virtual.enabled;if(h.loop){if(z&&!ie&&h.loopPreventsSliding)return!1;l.loopFix({direction:"prev"}),l._clientLeft=l.wrapperEl.clientLeft}const G=n?l.translate:-l.translate;function q(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const Z=q(G),F=u.map(R=>q(R));let U=u[F.indexOf(Z)-1];if(typeof U>"u"&&h.cssMode){let R;u.forEach((D,N)=>{Z>=D&&(R=N)}),typeof R<"u"&&(U=u[R>0?R-1:R])}let re=0;if(typeof U<"u"&&(re=y.indexOf(U),re<0&&(re=l.activeIndex-1),h.slidesPerView==="auto"&&h.slidesPerGroup===1&&h.slidesPerGroupAuto&&(re=re-l.slidesPerViewDynamic("previous",!0)+1,re=Math.max(re,0))),h.rewind&&l.isBeginning){const R=l.params.virtual&&l.params.virtual.enabled&&l.virtual?l.virtual.slides.length-1:l.slides.length-1;return l.slideTo(R,e,i,s)}return l.slideTo(re,e,i,s)}function dN(e=this.params.speed,i=!0,s){const l=this;return l.slideTo(l.activeIndex,e,i,s)}function uN(e=this.params.speed,i=!0,s,l=.5){const h=this;let u=h.activeIndex;const y=Math.min(h.params.slidesPerGroupSkip,u),n=y+Math.floor((u-y)/h.params.slidesPerGroup),w=h.rtlTranslate?h.translate:-h.translate;if(w>=h.snapGrid[n]){const z=h.snapGrid[n],ie=h.snapGrid[n+1];w-z>(ie-z)*l&&(u+=h.params.slidesPerGroup)}else{const z=h.snapGrid[n-1],ie=h.snapGrid[n];w-z<=(ie-z)*l&&(u-=h.params.slidesPerGroup)}return u=Math.max(u,0),u=Math.min(u,h.slidesGrid.length-1),h.slideTo(u,e,i,s)}function pN(){const e=this,{params:i,slidesEl:s}=e,l=i.slidesPerView==="auto"?e.slidesPerViewDynamic():i.slidesPerView;let h=e.clickedIndex,u;const y=e.isElement?"swiper-slide":`.${i.slideClass}`;if(i.loop){if(e.animating)return;u=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),i.centeredSlides?h<e.loopedSlides-l/2||h>e.slides.length-e.loopedSlides+l/2?(e.loopFix(),h=e.getSlideIndex(Zh(s,`${y}[data-swiper-slide-index="${u}"]`)[0]),zw(()=>{e.slideTo(h)})):e.slideTo(h):h>e.slides.length-l?(e.loopFix(),h=e.getSlideIndex(Zh(s,`${y}[data-swiper-slide-index="${u}"]`)[0]),zw(()=>{e.slideTo(h)})):e.slideTo(h)}else e.slideTo(h)}const fN={slideTo:aN,slideToLoop:lN,slideNext:cN,slidePrev:hN,slideReset:dN,slideToClosest:uN,slideToClickedSlide:pN};function mN(e){const i=this,{params:s,slidesEl:l}=i;if(!s.loop||i.virtual&&i.params.virtual.enabled)return;Zh(l,`.${s.slideClass}, swiper-slide`).forEach((u,y)=>{u.setAttribute("data-swiper-slide-index",y)}),i.loopFix({slideRealIndex:e,direction:s.centeredSlides?void 0:"next"})}function gN({slideRealIndex:e,slideTo:i=!0,direction:s,setTranslate:l,activeSlideIndex:h,byController:u,byMousewheel:y}={}){const n=this;if(!n.params.loop)return;n.emit("beforeLoopFix");const{slides:w,allowSlidePrev:z,allowSlideNext:ie,slidesEl:G,params:q}=n;if(n.allowSlidePrev=!0,n.allowSlideNext=!0,n.virtual&&q.virtual.enabled){i&&(!q.centeredSlides&&n.snapIndex===0?n.slideTo(n.virtual.slides.length,0,!1,!0):q.centeredSlides&&n.snapIndex<q.slidesPerView?n.slideTo(n.virtual.slides.length+n.snapIndex,0,!1,!0):n.snapIndex===n.snapGrid.length-1&&n.slideTo(n.virtual.slidesBefore,0,!1,!0)),n.allowSlidePrev=z,n.allowSlideNext=ie,n.emit("loopFix");return}const Z=q.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(q.slidesPerView,10));let F=q.loopedSlides||Z;F%q.slidesPerGroup!==0&&(F+=q.slidesPerGroup-F%q.slidesPerGroup),n.loopedSlides=F;const U=[],re=[];let R=n.activeIndex;typeof h>"u"?h=n.getSlideIndex(n.slides.filter(S=>S.classList.contains(q.slideActiveClass))[0]):R=h;const D=s==="next"||!s,N=s==="prev"||!s;let $=0,j=0;if(h<F){$=Math.max(F-h,q.slidesPerGroup);for(let S=0;S<F-h;S+=1){const te=S-Math.floor(S/w.length)*w.length;U.push(w.length-te-1)}}else if(h>n.slides.length-F*2){j=Math.max(h-(n.slides.length-F*2),q.slidesPerGroup);for(let S=0;S<j;S+=1){const te=S-Math.floor(S/w.length)*w.length;re.push(te)}}if(N&&U.forEach(S=>{n.slides[S].swiperLoopMoveDOM=!0,G.prepend(n.slides[S]),n.slides[S].swiperLoopMoveDOM=!1}),D&&re.forEach(S=>{n.slides[S].swiperLoopMoveDOM=!0,G.append(n.slides[S]),n.slides[S].swiperLoopMoveDOM=!1}),n.recalcSlides(),q.slidesPerView==="auto"&&n.updateSlides(),q.watchSlidesProgress&&n.updateSlidesOffset(),i){if(U.length>0&&N)if(typeof e>"u"){const S=n.slidesGrid[R],Y=n.slidesGrid[R+$]-S;y?n.setTranslate(n.translate-Y):(n.slideTo(R+$,0,!1,!0),l&&(n.touches[n.isHorizontal()?"startX":"startY"]+=Y))}else l&&n.slideToLoop(e,0,!1,!0);else if(re.length>0&&D)if(typeof e>"u"){const S=n.slidesGrid[R],Y=n.slidesGrid[R-j]-S;y?n.setTranslate(n.translate-Y):(n.slideTo(R-j,0,!1,!0),l&&(n.touches[n.isHorizontal()?"startX":"startY"]+=Y))}else n.slideToLoop(e,0,!1,!0)}if(n.allowSlidePrev=z,n.allowSlideNext=ie,n.controller&&n.controller.control&&!u){const S={slideRealIndex:e,slideTo:!1,direction:s,setTranslate:l,activeSlideIndex:h,byController:!0};Array.isArray(n.controller.control)?n.controller.control.forEach(te=>{!te.destroyed&&te.params.loop&&te.loopFix(S)}):n.controller.control instanceof n.constructor&&n.controller.control.params.loop&&n.controller.control.loopFix(S)}n.emit("loopFix")}function _N(){const e=this,{params:i,slidesEl:s}=e;if(!i.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const l=[];e.slides.forEach(h=>{const u=typeof h.swiperSlideIndex>"u"?h.getAttribute("data-swiper-slide-index")*1:h.swiperSlideIndex;l[u]=h}),e.slides.forEach(h=>{h.removeAttribute("data-swiper-slide-index")}),l.forEach(h=>{s.append(h)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const yN={loopCreate:mN,loopFix:gN,loopDestroy:_N};function xN(e){const i=this;if(!i.params.simulateTouch||i.params.watchOverflow&&i.isLocked||i.params.cssMode)return;const s=i.params.touchEventsTarget==="container"?i.el:i.wrapperEl;i.isElement&&(i.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",i.isElement&&requestAnimationFrame(()=>{i.__preventObserver__=!1})}function vN(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const bN={setGrabCursor:xN,unsetGrabCursor:vN};function wN(e,i=this){function s(l){if(!l||l===Ff()||l===lc())return null;l.assignedSlot&&(l=l.assignedSlot);const h=l.closest(e);return!h&&!l.getRootNode?null:h||s(l.getRootNode().host)}return s(i)}function TN(e){const i=this,s=Ff(),l=lc(),h=i.touchEventsData;h.evCache.push(e);const{params:u,touches:y,enabled:n}=i;if(!n||!u.simulateTouch&&e.pointerType==="mouse"||i.animating&&u.preventInteractionOnTransition)return;!i.animating&&u.cssMode&&u.loop&&i.loopFix();let w=e;w.originalEvent&&(w=w.originalEvent);let z=w.target;if(u.touchEventsTarget==="wrapper"&&!i.wrapperEl.contains(z)||"which"in w&&w.which===3||"button"in w&&w.button>0||h.isTouched&&h.isMoved)return;const ie=!!u.noSwipingClass&&u.noSwipingClass!=="",G=e.composedPath?e.composedPath():e.path;ie&&w.target&&w.target.shadowRoot&&G&&(z=G[0]);const q=u.noSwipingSelector?u.noSwipingSelector:`.${u.noSwipingClass}`,Z=!!(w.target&&w.target.shadowRoot);if(u.noSwiping&&(Z?wN(q,z):z.closest(q))){i.allowClick=!0;return}if(u.swipeHandler&&!z.closest(u.swipeHandler))return;y.currentX=w.pageX,y.currentY=w.pageY;const F=y.currentX,U=y.currentY,re=u.edgeSwipeDetection||u.iOSEdgeSwipeDetection,R=u.edgeSwipeThreshold||u.iOSEdgeSwipeThreshold;if(re&&(F<=R||F>=l.innerWidth-R))if(re==="prevent")e.preventDefault();else return;Object.assign(h,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),y.startX=F,y.startY=U,h.touchStartTime=Mx(),i.allowClick=!0,i.updateSize(),i.swipeDirection=void 0,u.threshold>0&&(h.allowThresholdMove=!1);let D=!0;z.matches(h.focusableElements)&&(D=!1,z.nodeName==="SELECT"&&(h.isTouched=!1)),s.activeElement&&s.activeElement.matches(h.focusableElements)&&s.activeElement!==z&&s.activeElement.blur();const N=D&&i.allowTouchMove&&u.touchStartPreventDefault;(u.touchStartForcePreventDefault||N)&&!z.isContentEditable&&w.preventDefault(),i.params.freeMode&&i.params.freeMode.enabled&&i.freeMode&&i.animating&&!u.cssMode&&i.freeMode.onTouchStart(),i.emit("touchStart",w)}function SN(e){const i=Ff(),s=this,l=s.touchEventsData,{params:h,touches:u,rtlTranslate:y,enabled:n}=s;if(!n||!h.simulateTouch&&e.pointerType==="mouse")return;let w=e;if(w.originalEvent&&(w=w.originalEvent),!l.isTouched){l.startMoving&&l.isScrolling&&s.emit("touchMoveOpposite",w);return}const z=l.evCache.findIndex(S=>S.pointerId===w.pointerId);z>=0&&(l.evCache[z]=w);const ie=l.evCache.length>1?l.evCache[0]:w,G=ie.pageX,q=ie.pageY;if(w.preventedByNestedSwiper){u.startX=G,u.startY=q;return}if(!s.allowTouchMove){w.target.matches(l.focusableElements)||(s.allowClick=!1),l.isTouched&&(Object.assign(u,{startX:G,startY:q,prevX:s.touches.currentX,prevY:s.touches.currentY,currentX:G,currentY:q}),l.touchStartTime=Mx());return}if(h.touchReleaseOnEdges&&!h.loop){if(s.isVertical()){if(q<u.startY&&s.translate<=s.maxTranslate()||q>u.startY&&s.translate>=s.minTranslate()){l.isTouched=!1,l.isMoved=!1;return}}else if(G<u.startX&&s.translate<=s.maxTranslate()||G>u.startX&&s.translate>=s.minTranslate())return}if(i.activeElement&&w.target===i.activeElement&&w.target.matches(l.focusableElements)){l.isMoved=!0,s.allowClick=!1;return}if(l.allowTouchCallbacks&&s.emit("touchMove",w),w.targetTouches&&w.targetTouches.length>1)return;u.currentX=G,u.currentY=q;const Z=u.currentX-u.startX,F=u.currentY-u.startY;if(s.params.threshold&&Math.sqrt(Z**2+F**2)<s.params.threshold)return;if(typeof l.isScrolling>"u"){let S;s.isHorizontal()&&u.currentY===u.startY||s.isVertical()&&u.currentX===u.startX?l.isScrolling=!1:Z*Z+F*F>=25&&(S=Math.atan2(Math.abs(F),Math.abs(Z))*180/Math.PI,l.isScrolling=s.isHorizontal()?S>h.touchAngle:90-S>h.touchAngle)}if(l.isScrolling&&s.emit("touchMoveOpposite",w),typeof l.startMoving>"u"&&(u.currentX!==u.startX||u.currentY!==u.startY)&&(l.startMoving=!0),l.isScrolling||s.zoom&&s.params.zoom&&s.params.zoom.enabled&&l.evCache.length>1){l.isTouched=!1;return}if(!l.startMoving)return;s.allowClick=!1,!h.cssMode&&w.cancelable&&w.preventDefault(),h.touchMoveStopPropagation&&!h.nested&&w.stopPropagation();let U=s.isHorizontal()?Z:F,re=s.isHorizontal()?u.currentX-u.previousX:u.currentY-u.previousY;h.oneWayMovement&&(U=Math.abs(U)*(y?1:-1),re=Math.abs(re)*(y?1:-1)),u.diff=U,U*=h.touchRatio,y&&(U=-U,re=-re);const R=s.touchesDirection;s.swipeDirection=U>0?"prev":"next",s.touchesDirection=re>0?"prev":"next";const D=s.params.loop&&!h.cssMode;if(!l.isMoved){if(D&&s.loopFix({direction:s.swipeDirection}),l.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const S=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(S)}l.allowMomentumBounce=!1,h.grabCursor&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!0),s.emit("sliderFirstMove",w)}let N;l.isMoved&&R!==s.touchesDirection&&D&&Math.abs(U)>=1&&(s.loopFix({direction:s.swipeDirection,setTranslate:!0}),N=!0),s.emit("sliderMove",w),l.isMoved=!0,l.currentTranslate=U+l.startTranslate;let $=!0,j=h.resistanceRatio;if(h.touchReleaseOnEdges&&(j=0),U>0?(D&&!N&&l.currentTranslate>(h.centeredSlides?s.minTranslate()-s.size/2:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),l.currentTranslate>s.minTranslate()&&($=!1,h.resistance&&(l.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+l.startTranslate+U)**j))):U<0&&(D&&!N&&l.currentTranslate<(h.centeredSlides?s.maxTranslate()+s.size/2:s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-(h.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(h.slidesPerView,10)))}),l.currentTranslate<s.maxTranslate()&&($=!1,h.resistance&&(l.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-l.startTranslate-U)**j))),$&&(w.preventedByNestedSwiper=!0),!s.allowSlideNext&&s.swipeDirection==="next"&&l.currentTranslate<l.startTranslate&&(l.currentTranslate=l.startTranslate),!s.allowSlidePrev&&s.swipeDirection==="prev"&&l.currentTranslate>l.startTranslate&&(l.currentTranslate=l.startTranslate),!s.allowSlidePrev&&!s.allowSlideNext&&(l.currentTranslate=l.startTranslate),h.threshold>0)if(Math.abs(U)>h.threshold||l.allowThresholdMove){if(!l.allowThresholdMove){l.allowThresholdMove=!0,u.startX=u.currentX,u.startY=u.currentY,l.currentTranslate=l.startTranslate,u.diff=s.isHorizontal()?u.currentX-u.startX:u.currentY-u.startY;return}}else{l.currentTranslate=l.startTranslate;return}!h.followFinger||h.cssMode||((h.freeMode&&h.freeMode.enabled&&s.freeMode||h.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&h.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(l.currentTranslate),s.setTranslate(l.currentTranslate))}function EN(e){const i=this,s=i.touchEventsData,l=s.evCache.findIndex(N=>N.pointerId===e.pointerId);if(l>=0&&s.evCache.splice(l,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(i.browser.isSafari||i.browser.isWebView)))return;const{params:h,touches:u,rtlTranslate:y,slidesGrid:n,enabled:w}=i;if(!w||!h.simulateTouch&&e.pointerType==="mouse")return;let z=e;if(z.originalEvent&&(z=z.originalEvent),s.allowTouchCallbacks&&i.emit("touchEnd",z),s.allowTouchCallbacks=!1,!s.isTouched){s.isMoved&&h.grabCursor&&i.setGrabCursor(!1),s.isMoved=!1,s.startMoving=!1;return}h.grabCursor&&s.isMoved&&s.isTouched&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!1);const ie=Mx(),G=ie-s.touchStartTime;if(i.allowClick){const N=z.path||z.composedPath&&z.composedPath();i.updateClickedSlide(N&&N[0]||z.target),i.emit("tap click",z),G<300&&ie-s.lastClickTime<300&&i.emit("doubleTap doubleClick",z)}if(s.lastClickTime=Mx(),zw(()=>{i.destroyed||(i.allowClick=!0)}),!s.isTouched||!s.isMoved||!i.swipeDirection||u.diff===0||s.currentTranslate===s.startTranslate){s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;return}s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;let q;if(h.followFinger?q=y?i.translate:-i.translate:q=-s.currentTranslate,h.cssMode)return;if(i.params.freeMode&&h.freeMode.enabled){i.freeMode.onTouchEnd({currentPos:q});return}let Z=0,F=i.slidesSizesGrid[0];for(let N=0;N<n.length;N+=N<h.slidesPerGroupSkip?1:h.slidesPerGroup){const $=N<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;typeof n[N+$]<"u"?q>=n[N]&&q<n[N+$]&&(Z=N,F=n[N+$]-n[N]):q>=n[N]&&(Z=N,F=n[n.length-1]-n[n.length-2])}let U=null,re=null;h.rewind&&(i.isBeginning?re=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:i.isEnd&&(U=0));const R=(q-n[Z])/F,D=Z<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;if(G>h.longSwipesMs){if(!h.longSwipes){i.slideTo(i.activeIndex);return}i.swipeDirection==="next"&&(R>=h.longSwipesRatio?i.slideTo(h.rewind&&i.isEnd?U:Z+D):i.slideTo(Z)),i.swipeDirection==="prev"&&(R>1-h.longSwipesRatio?i.slideTo(Z+D):re!==null&&R<0&&Math.abs(R)>h.longSwipesRatio?i.slideTo(re):i.slideTo(Z))}else{if(!h.shortSwipes){i.slideTo(i.activeIndex);return}i.navigation&&(z.target===i.navigation.nextEl||z.target===i.navigation.prevEl)?z.target===i.navigation.nextEl?i.slideTo(Z+D):i.slideTo(Z):(i.swipeDirection==="next"&&i.slideTo(U!==null?U:Z+D),i.swipeDirection==="prev"&&i.slideTo(re!==null?re:Z))}}function SS(){const e=this,{params:i,el:s}=e;if(s&&s.offsetWidth===0)return;i.breakpoints&&e.setBreakpoint();const{allowSlideNext:l,allowSlidePrev:h,snapGrid:u}=e,y=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const n=y&&i.loop;(i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!n?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!y?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=h,e.allowSlideNext=l,e.params.watchOverflow&&u!==e.snapGrid&&e.checkOverflow()}function MN(e){const i=this;i.enabled&&(i.allowClick||(i.params.preventClicks&&e.preventDefault(),i.params.preventClicksPropagation&&i.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function CN(){const e=this,{wrapperEl:i,rtlTranslate:s,enabled:l}=e;if(!l)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-i.scrollLeft:e.translate=-i.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let h;const u=e.maxTranslate()-e.minTranslate();u===0?h=0:h=(e.translate-e.minTranslate())/u,h!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function AN(e){const i=this;Yy(i,e.target),!(i.params.cssMode||i.params.slidesPerView!=="auto"&&!i.params.autoHeight)&&i.update()}let ES=!1;function kN(){}const u4=(e,i)=>{const s=Ff(),{params:l,el:h,wrapperEl:u,device:y}=e,n=!!l.nested,w=i==="on"?"addEventListener":"removeEventListener",z=i;h[w]("pointerdown",e.onTouchStart,{passive:!1}),s[w]("pointermove",e.onTouchMove,{passive:!1,capture:n}),s[w]("pointerup",e.onTouchEnd,{passive:!0}),s[w]("pointercancel",e.onTouchEnd,{passive:!0}),s[w]("pointerout",e.onTouchEnd,{passive:!0}),s[w]("pointerleave",e.onTouchEnd,{passive:!0}),(l.preventClicks||l.preventClicksPropagation)&&h[w]("click",e.onClick,!0),l.cssMode&&u[w]("scroll",e.onScroll),l.updateOnWindowResize?e[z](y.ios||y.android?"resize orientationchange observerUpdate":"resize observerUpdate",SS,!0):e[z]("observerUpdate",SS,!0),h[w]("load",e.onLoad,{capture:!0})};function PN(){const e=this,i=Ff(),{params:s}=e;e.onTouchStart=TN.bind(e),e.onTouchMove=SN.bind(e),e.onTouchEnd=EN.bind(e),s.cssMode&&(e.onScroll=CN.bind(e)),e.onClick=MN.bind(e),e.onLoad=AN.bind(e),ES||(i.addEventListener("touchstart",kN),ES=!0),u4(e,"on")}function DN(){u4(this,"off")}const IN={attachEvents:PN,detachEvents:DN},MS=(e,i)=>e.grid&&i.grid&&i.grid.rows>1;function LN(){const e=this,{realIndex:i,initialized:s,params:l,el:h}=e,u=l.breakpoints;if(!u||u&&Object.keys(u).length===0)return;const y=e.getBreakpoint(u,e.params.breakpointsBase,e.el);if(!y||e.currentBreakpoint===y)return;const w=(y in u?u[y]:void 0)||e.originalParams,z=MS(e,l),ie=MS(e,w),G=l.enabled;z&&!ie?(h.classList.remove(`${l.containerModifierClass}grid`,`${l.containerModifierClass}grid-column`),e.emitContainerClasses()):!z&&ie&&(h.classList.add(`${l.containerModifierClass}grid`),(w.grid.fill&&w.grid.fill==="column"||!w.grid.fill&&l.grid.fill==="column")&&h.classList.add(`${l.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(U=>{const re=l[U]&&l[U].enabled,R=w[U]&&w[U].enabled;re&&!R&&e[U].disable(),!re&&R&&e[U].enable()});const q=w.direction&&w.direction!==l.direction,Z=l.loop&&(w.slidesPerView!==l.slidesPerView||q);q&&s&&e.changeDirection(),Jl(e.params,w);const F=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),G&&!F?e.disable():!G&&F&&e.enable(),e.currentBreakpoint=y,e.emit("_beforeBreakpoint",w),Z&&s&&(e.loopDestroy(),e.loopCreate(i),e.updateSlides()),e.emit("breakpoint",w)}function ON(e,i="window",s){if(!e||i==="container"&&!s)return;let l=!1;const h=lc(),u=i==="window"?h.innerHeight:s.clientHeight,y=Object.keys(e).map(n=>{if(typeof n=="string"&&n.indexOf("@")===0){const w=parseFloat(n.substr(1));return{value:u*w,point:n}}return{value:n,point:n}});y.sort((n,w)=>parseInt(n.value,10)-parseInt(w.value,10));for(let n=0;n<y.length;n+=1){const{point:w,value:z}=y[n];i==="window"?h.matchMedia(`(min-width: ${z}px)`).matches&&(l=w):z<=s.clientWidth&&(l=w)}return l||"max"}const RN={setBreakpoint:LN,getBreakpoint:ON};function zN(e,i){const s=[];return e.forEach(l=>{typeof l=="object"?Object.keys(l).forEach(h=>{l[h]&&s.push(i+h)}):typeof l=="string"&&s.push(i+l)}),s}function BN(){const e=this,{classNames:i,params:s,rtl:l,el:h,device:u}=e,y=zN(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:l},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&s.grid.fill==="column"},{android:u.android},{ios:u.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);i.push(...y),h.classList.add(...i),e.emitContainerClasses()}function FN(){const e=this,{el:i,classNames:s}=e;i.classList.remove(...s),e.emitContainerClasses()}const NN={addClasses:BN,removeClasses:FN};function jN(){const e=this,{isLocked:i,params:s}=e,{slidesOffsetBefore:l}=s;if(l){const h=e.slides.length-1,u=e.slidesGrid[h]+e.slidesSizesGrid[h]+l*2;e.isLocked=e.size>u}else e.isLocked=e.snapGrid.length===1;s.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),s.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),i&&i!==e.isLocked&&(e.isEnd=!1),i!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const UN={checkOverflow:jN},CS={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function GN(e,i){return function(l={}){const h=Object.keys(l)[0],u=l[h];if(typeof u!="object"||u===null){Jl(i,l);return}if(["navigation","pagination","scrollbar"].indexOf(h)>=0&&e[h]===!0&&(e[h]={auto:!0}),!(h in e&&"enabled"in u)){Jl(i,l);return}e[h]===!0&&(e[h]={enabled:!0}),typeof e[h]=="object"&&!("enabled"in e[h])&&(e[h].enabled=!0),e[h]||(e[h]={enabled:!1}),Jl(i,l)}}const Gb={eventsEmitter:NF,update:ZF,translate:iN,transition:oN,slide:fN,loop:yN,grabCursor:bN,events:IN,breakpoints:RN,checkOverflow:UN,classes:NN},Vb={};let Kl=class{constructor(...i){let s,l;i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?l=i[0]:[s,l]=i,l||(l={}),l=Jl({},l),s&&!l.el&&(l.el=s);const h=Ff();if(l.el&&typeof l.el=="string"&&h.querySelectorAll(l.el).length>1){const w=[];return h.querySelectorAll(l.el).forEach(z=>{const ie=Jl({},l,{el:z});w.push(new Kl(ie))}),w}const u=this;u.__swiper__=!0,u.support=h4(),u.device=OF({userAgent:l.userAgent}),u.browser=zF(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=[...u.__modules__],l.modules&&Array.isArray(l.modules)&&u.modules.push(...l.modules);const y={};u.modules.forEach(w=>{w({params:l,swiper:u,extendParams:GN(l,y),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})});const n=Jl({},CS,y);return u.params=Jl({},n,Vb,l),u.originalParams=Jl({},u.params),u.passedParams=Jl({},l),u.params&&u.params.on&&Object.keys(u.params.on).forEach(w=>{u.on(w,u.params.on[w])}),u.params&&u.params.onAny&&u.onAny(u.params.onAny),Object.assign(u,{enabled:u.params.enabled,el:s,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return u.params.direction==="horizontal"},isVertical(){return u.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}getSlideIndex(i){const{slidesEl:s,params:l}=this,h=Zh(s,`.${l.slideClass}, swiper-slide`),u=Bw(h[0]);return Bw(i)-u}getSlideIndexByData(i){return this.getSlideIndex(this.slides.filter(s=>s.getAttribute("data-swiper-slide-index")*1===i)[0])}recalcSlides(){const i=this,{slidesEl:s,params:l}=i;i.slides=Zh(s,`.${l.slideClass}, swiper-slide`)}enable(){const i=this;i.enabled||(i.enabled=!0,i.params.grabCursor&&i.setGrabCursor(),i.emit("enable"))}disable(){const i=this;i.enabled&&(i.enabled=!1,i.params.grabCursor&&i.unsetGrabCursor(),i.emit("disable"))}setProgress(i,s){const l=this;i=Math.min(Math.max(i,0),1);const h=l.minTranslate(),y=(l.maxTranslate()-h)*i+h;l.translateTo(y,typeof s>"u"?0:s),l.updateActiveIndex(),l.updateSlidesClasses()}emitContainerClasses(){const i=this;if(!i.params._emitClasses||!i.el)return;const s=i.el.className.split(" ").filter(l=>l.indexOf("swiper")===0||l.indexOf(i.params.containerModifierClass)===0);i.emit("_containerClasses",s.join(" "))}getSlideClasses(i){const s=this;return s.destroyed?"":i.className.split(" ").filter(l=>l.indexOf("swiper-slide")===0||l.indexOf(s.params.slideClass)===0).join(" ")}emitSlidesClasses(){const i=this;if(!i.params._emitClasses||!i.el)return;const s=[];i.slides.forEach(l=>{const h=i.getSlideClasses(l);s.push({slideEl:l,classNames:h}),i.emit("_slideClass",l,h)}),i.emit("_slideClasses",s)}slidesPerViewDynamic(i="current",s=!1){const l=this,{params:h,slides:u,slidesGrid:y,slidesSizesGrid:n,size:w,activeIndex:z}=l;let ie=1;if(h.centeredSlides){let G=u[z].swiperSlideSize,q;for(let Z=z+1;Z<u.length;Z+=1)u[Z]&&!q&&(G+=u[Z].swiperSlideSize,ie+=1,G>w&&(q=!0));for(let Z=z-1;Z>=0;Z-=1)u[Z]&&!q&&(G+=u[Z].swiperSlideSize,ie+=1,G>w&&(q=!0))}else if(i==="current")for(let G=z+1;G<u.length;G+=1)(s?y[G]+n[G]-y[z]<w:y[G]-y[z]<w)&&(ie+=1);else for(let G=z-1;G>=0;G-=1)y[z]-y[G]<w&&(ie+=1);return ie}update(){const i=this;if(!i||i.destroyed)return;const{snapGrid:s,params:l}=i;l.breakpoints&&i.setBreakpoint(),[...i.el.querySelectorAll('[loading="lazy"]')].forEach(y=>{y.complete&&Yy(i,y)}),i.updateSize(),i.updateSlides(),i.updateProgress(),i.updateSlidesClasses();function h(){const y=i.rtlTranslate?i.translate*-1:i.translate,n=Math.min(Math.max(y,i.maxTranslate()),i.minTranslate());i.setTranslate(n),i.updateActiveIndex(),i.updateSlidesClasses()}let u;if(i.params.freeMode&&i.params.freeMode.enabled)h(),i.params.autoHeight&&i.updateAutoHeight();else{if((i.params.slidesPerView==="auto"||i.params.slidesPerView>1)&&i.isEnd&&!i.params.centeredSlides){const y=i.virtual&&i.params.virtual.enabled?i.virtual.slides:i.slides;u=i.slideTo(y.length-1,0,!1,!0)}else u=i.slideTo(i.activeIndex,0,!1,!0);u||h()}l.watchOverflow&&s!==i.snapGrid&&i.checkOverflow(),i.emit("update")}changeDirection(i,s=!0){const l=this,h=l.params.direction;return i||(i=h==="horizontal"?"vertical":"horizontal"),i===h||i!=="horizontal"&&i!=="vertical"||(l.el.classList.remove(`${l.params.containerModifierClass}${h}`),l.el.classList.add(`${l.params.containerModifierClass}${i}`),l.emitContainerClasses(),l.params.direction=i,l.slides.forEach(u=>{i==="vertical"?u.style.width="":u.style.height=""}),l.emit("changeDirection"),s&&l.update()),l}changeLanguageDirection(i){const s=this;s.rtl&&i==="rtl"||!s.rtl&&i==="ltr"||(s.rtl=i==="rtl",s.rtlTranslate=s.params.direction==="horizontal"&&s.rtl,s.rtl?(s.el.classList.add(`${s.params.containerModifierClass}rtl`),s.el.dir="rtl"):(s.el.classList.remove(`${s.params.containerModifierClass}rtl`),s.el.dir="ltr"),s.update())}mount(i){const s=this;if(s.mounted)return!0;let l=i||s.params.el;if(typeof l=="string"&&(l=document.querySelector(l)),!l)return!1;l.swiper=s,l.shadowEl&&(s.isElement=!0);const h=()=>`.${(s.params.wrapperClass||"").trim().split(" ").join(".")}`;let y=(()=>l&&l.shadowRoot&&l.shadowRoot.querySelector?l.shadowRoot.querySelector(h()):Zh(l,h())[0])();return!y&&s.params.createElements&&(y=k5("div",s.params.wrapperClass),l.append(y),Zh(l,`.${s.params.slideClass}`).forEach(n=>{y.append(n)})),Object.assign(s,{el:l,wrapperEl:y,slidesEl:s.isElement?l:y,mounted:!0,rtl:l.dir.toLowerCase()==="rtl"||Yu(l,"direction")==="rtl",rtlTranslate:s.params.direction==="horizontal"&&(l.dir.toLowerCase()==="rtl"||Yu(l,"direction")==="rtl"),wrongRTL:Yu(y,"display")==="-webkit-box"}),!0}init(i){const s=this;return s.initialized||s.mount(i)===!1||(s.emit("beforeInit"),s.params.breakpoints&&s.setBreakpoint(),s.addClasses(),s.updateSize(),s.updateSlides(),s.params.watchOverflow&&s.checkOverflow(),s.params.grabCursor&&s.enabled&&s.setGrabCursor(),s.params.loop&&s.virtual&&s.params.virtual.enabled?s.slideTo(s.params.initialSlide+s.virtual.slidesBefore,0,s.params.runCallbacksOnInit,!1,!0):s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit,!1,!0),s.params.loop&&s.loopCreate(),s.attachEvents(),[...s.el.querySelectorAll('[loading="lazy"]')].forEach(h=>{h.complete?Yy(s,h):h.addEventListener("load",u=>{Yy(s,u.target)})}),Fw(s),s.initialized=!0,Fw(s),s.emit("init"),s.emit("afterInit")),s}destroy(i=!0,s=!0){const l=this,{params:h,el:u,wrapperEl:y,slides:n}=l;return typeof l.params>"u"||l.destroyed||(l.emit("beforeDestroy"),l.initialized=!1,l.detachEvents(),h.loop&&l.loopDestroy(),s&&(l.removeClasses(),u.removeAttribute("style"),y.removeAttribute("style"),n&&n.length&&n.forEach(w=>{w.classList.remove(h.slideVisibleClass,h.slideActiveClass,h.slideNextClass,h.slidePrevClass),w.removeAttribute("style"),w.removeAttribute("data-swiper-slide-index")})),l.emit("destroy"),Object.keys(l.eventsListeners).forEach(w=>{l.off(w)}),i!==!1&&(l.el.swiper=null,EF(l)),l.destroyed=!0),null}static extendDefaults(i){Jl(Vb,i)}static get extendedDefaults(){return Vb}static get defaults(){return CS}static installModule(i){Kl.prototype.__modules__||(Kl.prototype.__modules__=[]);const s=Kl.prototype.__modules__;typeof i=="function"&&s.indexOf(i)<0&&s.push(i)}static use(i){return Array.isArray(i)?(i.forEach(s=>Kl.installModule(s)),Kl):(Kl.installModule(i),Kl)}};Object.keys(Gb).forEach(e=>{Object.keys(Gb[e]).forEach(i=>{Kl.prototype[i]=Gb[e][i]})});Kl.use([BF,FF]);function VN(e,i,s,l){return e.params.createElements&&Object.keys(l).forEach(h=>{if(!s[h]&&s.auto===!0){let u=Zh(e.el,`.${l[h]}`)[0];u||(u=k5("div",l[h]),u.className=l[h],e.el.append(u)),s[h]=u,i[h]=u}}),s}function WN({swiper:e,extendParams:i,on:s,emit:l}){i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const h=F=>(Array.isArray(F)||(F=[F].filter(U=>!!U)),F);function u(F){let U;return F&&typeof F=="string"&&e.isElement&&(U=e.el.shadowRoot.querySelector(F),U)?U:(F&&(typeof F=="string"&&(U=[...document.querySelectorAll(F)]),e.params.uniqueNavElements&&typeof F=="string"&&U.length>1&&e.el.querySelectorAll(F).length===1&&(U=e.el.querySelector(F))),F&&!U?F:U)}function y(F,U){const re=e.params.navigation;F=h(F),F.forEach(R=>{R&&(R.classList[U?"add":"remove"](...re.disabledClass.split(" ")),R.tagName==="BUTTON"&&(R.disabled=U),e.params.watchOverflow&&e.enabled&&R.classList[e.isLocked?"add":"remove"](re.lockClass))})}function n(){const{nextEl:F,prevEl:U}=e.navigation;if(e.params.loop){y(U,!1),y(F,!1);return}y(U,e.isBeginning&&!e.params.rewind),y(F,e.isEnd&&!e.params.rewind)}function w(F){F.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),l("navigationPrev"))}function z(F){F.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),l("navigationNext"))}function ie(){const F=e.params.navigation;if(e.params.navigation=VN(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(F.nextEl||F.prevEl))return;let U=u(F.nextEl),re=u(F.prevEl);Object.assign(e.navigation,{nextEl:U,prevEl:re}),U=h(U),re=h(re);const R=(D,N)=>{D&&D.addEventListener("click",N==="next"?z:w),!e.enabled&&D&&D.classList.add(...F.lockClass.split(" "))};U.forEach(D=>R(D,"next")),re.forEach(D=>R(D,"prev"))}function G(){let{nextEl:F,prevEl:U}=e.navigation;F=h(F),U=h(U);const re=(R,D)=>{R.removeEventListener("click",D==="next"?z:w),R.classList.remove(...e.params.navigation.disabledClass.split(" "))};F.forEach(R=>re(R,"next")),U.forEach(R=>re(R,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?Z():(ie(),n())}),s("toEdge fromEdge lock unlock",()=>{n()}),s("destroy",()=>{G()}),s("enable disable",()=>{let{nextEl:F,prevEl:U}=e.navigation;F=h(F),U=h(U),[...F,...U].filter(re=>!!re).forEach(re=>re.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),s("click",(F,U)=>{let{nextEl:re,prevEl:R}=e.navigation;re=h(re),R=h(R);const D=U.target;if(e.params.navigation.hideOnClick&&!R.includes(D)&&!re.includes(D)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===D||e.pagination.el.contains(D)))return;let N;re.length?N=re[0].classList.contains(e.params.navigation.hiddenClass):R.length&&(N=R[0].classList.contains(e.params.navigation.hiddenClass)),l(N===!0?"navigationShow":"navigationHide"),[...re,...R].filter($=>!!$).forEach($=>$.classList.toggle(e.params.navigation.hiddenClass))}});const q=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),ie(),n()},Z=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),G()};Object.assign(e.navigation,{enable:q,disable:Z,update:n,init:ie,destroy:G})}function Wb(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function HN({swiper:e,extendParams:i,on:s}){i({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let l=null;function h(L){const _=l;_.length!==0&&(_.innerHTML="",_.innerHTML=L)}const u=L=>(Array.isArray(L)||(L=[L].filter(_=>!!_)),L);function y(L=16){const _=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(L).replace(/x/g,_)}function n(L){L=u(L),L.forEach(_=>{_.setAttribute("tabIndex","0")})}function w(L){L=u(L),L.forEach(_=>{_.setAttribute("tabIndex","-1")})}function z(L,_){L=u(L),L.forEach(v=>{v.setAttribute("role",_)})}function ie(L,_){L=u(L),L.forEach(v=>{v.setAttribute("aria-roledescription",_)})}function G(L,_){L=u(L),L.forEach(v=>{v.setAttribute("aria-controls",_)})}function q(L,_){L=u(L),L.forEach(v=>{v.setAttribute("aria-label",_)})}function Z(L,_){L=u(L),L.forEach(v=>{v.setAttribute("id",_)})}function F(L,_){L=u(L),L.forEach(v=>{v.setAttribute("aria-live",_)})}function U(L){L=u(L),L.forEach(_=>{_.setAttribute("aria-disabled",!0)})}function re(L){L=u(L),L.forEach(_=>{_.setAttribute("aria-disabled",!1)})}function R(L){if(L.keyCode!==13&&L.keyCode!==32)return;const _=e.params.a11y,v=L.target;e.pagination&&e.pagination.el&&(v===e.pagination.el||e.pagination.el.contains(L.target))&&!L.target.matches(Wb(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&v===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?h(_.lastSlideMessage):h(_.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&v===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?h(_.firstSlideMessage):h(_.prevSlideMessage)),e.pagination&&v.matches(Wb(e.params.pagination.bulletClass))&&v.click())}function D(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:L,prevEl:_}=e.navigation;_&&(e.isBeginning?(U(_),w(_)):(re(_),n(_))),L&&(e.isEnd?(U(L),w(L)):(re(L),n(L)))}function N(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function $(){return N()&&e.params.pagination.clickable}function j(){const L=e.params.a11y;N()&&e.pagination.bullets.forEach(_=>{e.params.pagination.clickable&&(n(_),e.params.pagination.renderBullet||(z(_,"button"),q(_,L.paginationBulletMessage.replace(/\{\{index\}\}/,Bw(_)+1)))),_.matches(Wb(e.params.pagination.bulletActiveClass))?_.setAttribute("aria-current","true"):_.removeAttribute("aria-current")})}const S=(L,_,v)=>{n(L),L.tagName!=="BUTTON"&&(z(L,"button"),L.addEventListener("keydown",R)),q(L,v),G(L,_)},te=()=>{e.a11y.clicked=!0},Y=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},I=L=>{if(e.a11y.clicked)return;const _=L.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!_||!e.slides.includes(_))return;const v=e.slides.indexOf(_)===e.activeIndex,M=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(_);v||M||L.sourceCapabilities&&L.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(_),0))},V=()=>{const L=e.params.a11y;L.itemRoleDescriptionMessage&&ie(e.slides,L.itemRoleDescriptionMessage),L.slideRole&&z(e.slides,L.slideRole);const _=e.slides.length;L.slideLabelMessage&&e.slides.forEach((v,M)=>{const O=e.params.loop?parseInt(v.getAttribute("data-swiper-slide-index"),10):M,ee=L.slideLabelMessage.replace(/\{\{index\}\}/,O+1).replace(/\{\{slidesLength\}\}/,_);q(v,ee)})},X=()=>{const L=e.params.a11y;e.isElement?e.el.shadowEl.append(l):e.el.append(l);const _=e.el;L.containerRoleDescriptionMessage&&ie(_,L.containerRoleDescriptionMessage),L.containerMessage&&q(_,L.containerMessage);const v=e.wrapperEl,M=L.id||v.getAttribute("id")||`swiper-wrapper-${y(16)}`,O=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";Z(v,M),F(v,O),V();let{nextEl:ee,prevEl:ae}=e.navigation?e.navigation:{};ee=u(ee),ae=u(ae),ee&&ee.forEach(K=>S(K,M,L.nextSlideMessage)),ae&&ae.forEach(K=>S(K,M,L.prevSlideMessage)),$()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(pe=>{pe.addEventListener("keydown",R)}),e.el.addEventListener("focus",I,!0),e.el.addEventListener("pointerdown",te,!0),e.el.addEventListener("pointerup",Y,!0)};function P(){l&&l.remove();let{nextEl:L,prevEl:_}=e.navigation?e.navigation:{};L=u(L),_=u(_),L&&L.forEach(v=>v.removeEventListener("keydown",R)),_&&_.forEach(v=>v.removeEventListener("keydown",R)),$()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(M=>{M.removeEventListener("keydown",R)}),e.el.removeEventListener("focus",I,!0),e.el.removeEventListener("pointerdown",te,!0),e.el.removeEventListener("pointerup",Y,!0)}s("beforeInit",()=>{l=k5("span",e.params.a11y.notificationClass),l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true")}),s("afterInit",()=>{e.params.a11y.enabled&&X()}),s("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&V()}),s("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&D()}),s("paginationUpdate",()=>{e.params.a11y.enabled&&j()}),s("destroy",()=>{e.params.a11y.enabled&&P()})}function Df(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function qu(e,i){const s=["__proto__","constructor","prototype"];Object.keys(i).filter(l=>s.indexOf(l)<0).forEach(l=>{typeof e[l]>"u"?e[l]=i[l]:Df(i[l])&&Df(e[l])&&Object.keys(i[l]).length>0?i[l].__swiper__?e[l]=i[l]:qu(e[l],i[l]):e[l]=i[l]})}function p4(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function f4(e={}){return e.pagination&&typeof e.pagination.el>"u"}function m4(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function g4(e=""){const i=e.split(" ").map(l=>l.trim()).filter(l=>!!l),s=[];return i.forEach(l=>{s.indexOf(l)<0&&s.push(l)}),s.join(" ")}function $N(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const _4=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function AS(e={},i=!0){const s={on:{}},l={},h={};qu(s,Kl.defaults),qu(s,Kl.extendedDefaults),s._emitClasses=!0,s.init=!1;const u={},y=_4.map(w=>w.replace(/_/,"")),n=Object.assign({},e);return Object.keys(n).forEach(w=>{typeof e[w]>"u"||(y.indexOf(w)>=0?Df(e[w])?(s[w]={},h[w]={},qu(s[w],e[w]),qu(h[w],e[w])):(s[w]=e[w],h[w]=e[w]):w.search(/on[A-Z]/)===0&&typeof e[w]=="function"?i?l[`${w[2].toLowerCase()}${w.substr(3)}`]=e[w]:s.on[`${w[2].toLowerCase()}${w.substr(3)}`]=e[w]:u[w]=e[w])}),["navigation","pagination","scrollbar"].forEach(w=>{s[w]===!0&&(s[w]={}),s[w]===!1&&delete s[w]}),{params:s,passedParams:h,rest:u,events:l}}function XN({el:e,nextEl:i,prevEl:s,paginationEl:l,scrollbarEl:h,swiper:u},y){p4(y)&&i&&s&&(u.params.navigation.nextEl=i,u.originalParams.navigation.nextEl=i,u.params.navigation.prevEl=s,u.originalParams.navigation.prevEl=s),f4(y)&&l&&(u.params.pagination.el=l,u.originalParams.pagination.el=l),m4(y)&&h&&(u.params.scrollbar.el=h,u.originalParams.scrollbar.el=h),u.init(e)}function YN(e,i,s,l,h){const u=[];if(!i)return u;const y=w=>{u.indexOf(w)<0&&u.push(w)};if(s&&l){const w=l.map(h),z=s.map(h);w.join("")!==z.join("")&&y("children"),l.length!==s.length&&y("children")}return _4.filter(w=>w[0]==="_").map(w=>w.replace(/_/,"")).forEach(w=>{if(w in e&&w in i)if(Df(e[w])&&Df(i[w])){const z=Object.keys(e[w]),ie=Object.keys(i[w]);z.length!==ie.length?y(w):(z.forEach(G=>{e[w][G]!==i[w][G]&&y(w)}),ie.forEach(G=>{e[w][G]!==i[w][G]&&y(w)}))}else e[w]!==i[w]&&y(w)}),u}function Hb(e,i,s){e===void 0&&(e={});const l=[],h={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},u=(y,n)=>{Array.isArray(y)&&y.forEach(w=>{const z=typeof w.type=="symbol";n==="default"&&(n="container-end"),z&&w.children?u(w.children,n):w.type&&(w.type.name==="SwiperSlide"||w.type.name==="AsyncComponentWrapper")?l.push(w):h[n]&&h[n].push(w)})};return Object.keys(e).forEach(y=>{if(typeof e[y]!="function")return;const n=e[y]();u(n,y)}),s.value=i.value,i.value=l,{slides:l,slots:h}}function qN({swiper:e,slides:i,passedParams:s,changedParams:l,nextEl:h,prevEl:u,scrollbarEl:y,paginationEl:n}){const w=l.filter(Y=>Y!=="children"&&Y!=="direction"&&Y!=="wrapperClass"),{params:z,pagination:ie,navigation:G,scrollbar:q,virtual:Z,thumbs:F}=e;let U,re,R,D,N,$,j,S;l.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&z.thumbs&&!z.thumbs.swiper&&(U=!0),l.includes("controller")&&s.controller&&s.controller.control&&z.controller&&!z.controller.control&&(re=!0),l.includes("pagination")&&s.pagination&&(s.pagination.el||n)&&(z.pagination||z.pagination===!1)&&ie&&!ie.el&&(R=!0),l.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||y)&&(z.scrollbar||z.scrollbar===!1)&&q&&!q.el&&(D=!0),l.includes("navigation")&&s.navigation&&(s.navigation.prevEl||u)&&(s.navigation.nextEl||h)&&(z.navigation||z.navigation===!1)&&G&&!G.prevEl&&!G.nextEl&&(N=!0);const te=Y=>{e[Y]&&(e[Y].destroy(),Y==="navigation"?(e.isElement&&(e[Y].prevEl.remove(),e[Y].nextEl.remove()),z[Y].prevEl=void 0,z[Y].nextEl=void 0,e[Y].prevEl=void 0,e[Y].nextEl=void 0):(e.isElement&&e[Y].el.remove(),z[Y].el=void 0,e[Y].el=void 0))};l.includes("loop")&&e.isElement&&(z.loop&&!s.loop?$=!0:!z.loop&&s.loop?j=!0:S=!0),w.forEach(Y=>{if(Df(z[Y])&&Df(s[Y]))qu(z[Y],s[Y]),(Y==="navigation"||Y==="pagination"||Y==="scrollbar")&&"enabled"in s[Y]&&!s[Y].enabled&&te(Y);else{const I=s[Y];(I===!0||I===!1)&&(Y==="navigation"||Y==="pagination"||Y==="scrollbar")?I===!1&&te(Y):z[Y]=s[Y]}}),w.includes("controller")&&!re&&e.controller&&e.controller.control&&z.controller&&z.controller.control&&(e.controller.control=z.controller.control),l.includes("children")&&i&&Z&&z.virtual.enabled&&(Z.slides=i,Z.update(!0)),l.includes("children")&&i&&z.loop&&(S=!0),U&&F.init()&&F.update(!0),re&&(e.controller.control=z.controller.control),R&&(e.isElement&&(!n||typeof n=="string")&&(n=document.createElement("div"),n.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(n)),n&&(z.pagination.el=n),ie.init(),ie.render(),ie.update()),D&&(e.isElement&&(!y||typeof y=="string")&&(y=document.createElement("div"),y.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(y)),y&&(z.scrollbar.el=y),q.init(),q.updateSize(),q.setTranslate()),N&&(e.isElement&&((!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(h)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(u))),h&&(z.navigation.nextEl=h),u&&(z.navigation.prevEl=u),G.init(),G.update()),l.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),l.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),l.includes("direction")&&e.changeDirection(s.direction,!1),($||S)&&e.loopDestroy(),(j||S)&&e.loopCreate(),e.update()}function ZN(e,i,s){if(!s)return null;const l=ie=>{let G=ie;return ie<0?G=i.length+ie:G>=i.length&&(G=G-i.length),G},h=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${s.offset}px`}:{top:`${s.offset}px`},{from:u,to:y}=s,n=e.value.params.loop?-i.length:0,w=e.value.params.loop?i.length*2:i.length,z=[];for(let ie=n;ie<w;ie+=1)ie>=u&&ie<=y&&z.push(i[l(ie)]);return z.map(ie=>(ie.props||(ie.props={}),ie.props.style||(ie.props.style={}),ie.props.swiperRef=e,ie.props.style=h,gl(ie.type,{...ie.props},ie.children)))}const KN=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},JN={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,i){let{slots:s,emit:l}=i;const{tag:h,wrapperTag:u}=e,y=$s("swiper"),n=$s(null),w=$s(!1),z=$s(!1),ie=$s(null),G=$s(null),q=$s(null),Z={value:[]},F={value:[]},U=$s(null),re=$s(null),R=$s(null),D=$s(null),{params:N,passedParams:$}=AS(e,!1);Hb(s,Z,F),q.value=$,F.value=Z.value;const j=()=>{Hb(s,Z,F),w.value=!0};N.onAny=function(Y){for(var I=arguments.length,V=new Array(I>1?I-1:0),X=1;X<I;X++)V[X-1]=arguments[X];l(Y,...V)},Object.assign(N.on,{_beforeBreakpoint:j,_containerClasses(Y,I){y.value=I}});const S={...N};if(delete S.wrapperClass,G.value=new Kl(S),G.value.virtual&&G.value.params.virtual.enabled){G.value.virtual.slides=Z.value;const Y={cache:!1,slides:Z.value,renderExternal:I=>{n.value=I},renderExternalUpdate:!1};qu(G.value.params.virtual,Y),qu(G.value.originalParams.virtual,Y)}Of(()=>{!z.value&&G.value&&(G.value.emitSlidesClasses(),z.value=!0);const{passedParams:Y}=AS(e,!1),I=YN(Y,q.value,Z.value,F.value,V=>V.props&&V.props.key);q.value=Y,(I.length||w.value)&&G.value&&!G.value.destroyed&&qN({swiper:G.value,slides:Z.value,passedParams:Y,changedParams:I,nextEl:U.value,prevEl:re.value,scrollbarEl:D.value,paginationEl:R.value}),w.value=!1}),bm("swiper",G),Bc(n,()=>{ym(()=>{KN(G.value)})}),Qh(()=>{ie.value&&(XN({el:ie.value,nextEl:U.value,prevEl:re.value,paginationEl:R.value,scrollbarEl:D.value,swiper:G.value},N),l("swiper",G.value))}),Rf(()=>{G.value&&!G.value.destroyed&&G.value.destroy(!0,!1)});function te(Y){return N.virtual?ZN(G,Y,n.value):(Y.forEach((I,V)=>{I.props||(I.props={}),I.props.swiperRef=G,I.props.swiperSlideIndex=V}),Y)}return()=>{const{slides:Y,slots:I}=Hb(s,Z,F);return gl(h,{ref:ie,class:g4(y.value)},[I["container-start"],gl(u,{class:$N(N.wrapperClass)},[I["wrapper-start"],te(Y),I["wrapper-end"]]),p4(e)&&[gl("div",{ref:re,class:"swiper-button-prev"}),gl("div",{ref:U,class:"swiper-button-next"})],m4(e)&&gl("div",{ref:D,class:"swiper-scrollbar"}),f4(e)&&gl("div",{ref:R,class:"swiper-pagination"}),I["container-end"]])}}},QN={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,i){let{slots:s}=i,l=!1;const{swiperRef:h}=e,u=$s(null),y=$s("swiper-slide"),n=$s(!1);function w(G,q,Z){q===u.value&&(y.value=Z)}Qh(()=>{!h||!h.value||(h.value.on("_slideClass",w),l=!0)}),Jx(()=>{l||!h||!h.value||(h.value.on("_slideClass",w),l=!0)}),Of(()=>{!u.value||!h||!h.value||(typeof e.swiperSlideIndex<"u"&&(u.value.swiperSlideIndex=e.swiperSlideIndex),h.value.destroyed&&y.value!=="swiper-slide"&&(y.value="swiper-slide"))}),Rf(()=>{!h||!h.value||h.value.off("_slideClass",w)});const z=Tm(()=>({isActive:y.value.indexOf("swiper-slide-active")>=0,isVisible:y.value.indexOf("swiper-slide-visible")>=0,isPrev:y.value.indexOf("swiper-slide-prev")>=0,isNext:y.value.indexOf("swiper-slide-next")>=0}));bm("swiperSlide",z);const ie=()=>{n.value=!0};return()=>gl(e.tag,{class:g4(`${y.value}`),ref:u,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&h&&h.value&&h.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:ie},e.zoom?gl("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[s.default&&s.default(z.value),e.lazy&&!n.value&&gl("div",{class:"swiper-lazy-preloader"})]):[s.default&&s.default(z.value),e.lazy&&!n.value&&gl("div",{class:"swiper-lazy-preloader"})])}},ej={components:{Swiper:JN,SwiperSlide:QN},setup(){return{onSwiper:s=>{console.log(s)},onSlideChange:()=>{console.log("slide change")},modules:[WN,HN]}}},tj={class:"swiper-button-prev"},ij=["src"],nj=Vt("a",{href:"#",class:"submenu-item active"},"INFO",-1),rj=Vt("a",{href:"#",class:"submenu-item"},"TREND",-1),sj=Vt("a",{href:"#",class:"submenu-item"},"NOTES",-1),oj=Vt("a",{href:"#",class:"submenu-item"},"DOCUMENTS",-1),aj=Vt("a",{href:"#",class:"submenu-item"},"REPORTS",-1),lj=Vt("a",{href:"#",class:"submenu-item"},"DIAGNOSTICS",-1),cj=Vt("a",{href:"#",class:"submenu-item"},"NOTIFICATIONS",-1),hj=Vt("a",{href:"#",class:"submenu-item"},"EMISION REPORT",-1),dj=Vt("a",{href:"#",class:"submenu-item"},"CHARTER",-1),uj={class:"swiper-button-next"},pj=["src"];function fj(e,i,s,l,h,u){const y=xo("swiper-slide"),n=xo("swiper");return nn(),Xd(n,{"slides-per-view":e.auto,"space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:l.onSwiper,onSlideChange:l.onSlideChange},{default:ao(()=>[Vt("div",tj,[Vt("img",{src:"/img/icons/chevron-prev.png",alt:""},null,8,ij)]),wn(y,null,{default:ao(()=>[nj]),_:1}),wn(y,null,{default:ao(()=>[rj]),_:1}),wn(y,null,{default:ao(()=>[sj]),_:1}),wn(y,null,{default:ao(()=>[oj]),_:1}),wn(y,null,{default:ao(()=>[aj]),_:1}),wn(y,null,{default:ao(()=>[lj]),_:1}),wn(y,null,{default:ao(()=>[cj]),_:1}),wn(y,null,{default:ao(()=>[hj]),_:1}),wn(y,null,{default:ao(()=>[dj]),_:1}),Vt("div",uj,[Vt("img",{src:"/img/icons/chevron-next.png",alt:""},null,8,pj)])]),_:1},8,["slides-per-view","navigation","onSwiper","onSlideChange"])}const mj=Xa(ej,[["render",fj]]);var D1={},gj={get exports(){return D1},set exports(e){D1=e}},Cx={},_j={get exports(){return Cx},set exports(e){Cx=e}},kS;function y4(){return kS||(kS=1,function(e){(function(i,s){e.exports?(s.default=s,e.exports=i.document?s(i):s):(i.Highcharts&&i.Highcharts.error(16,!0),i.Highcharts=s(i))})(typeof window<"u"?window:Ko,function(i){function s(h,u,y,n){h.hasOwnProperty(u)||(h[u]=n.apply(null,y),typeof CustomEvent=="function"&&i.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:u,module:h[u]}})))}var l={};return s(l,"Core/Globals.js",[],function(){var h;return function(u){u.SVG_NS="http://www.w3.org/2000/svg",u.product="Highcharts",u.version="11.0.1",u.win=typeof i<"u"?i:{},u.doc=u.win.document,u.svg=u.doc&&u.doc.createElementNS&&!!u.doc.createElementNS(u.SVG_NS,"svg").createSVGRect,u.userAgent=u.win.navigator&&u.win.navigator.userAgent||"",u.isChrome=u.userAgent.indexOf("Chrome")!==-1,u.isFirefox=u.userAgent.indexOf("Firefox")!==-1,u.isMS=/(edge|msie|trident)/i.test(u.userAgent)&&!u.win.opera,u.isSafari=!u.isChrome&&u.userAgent.indexOf("Safari")!==-1,u.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(u.userAgent),u.isWebKit=u.userAgent.indexOf("AppleWebKit")!==-1,u.deg2rad=2*Math.PI/360,u.hasBidiBug=u.isFirefox&&4>parseInt(u.userAgent.split("Firefox/")[1],10),u.hasTouch=!!u.win.TouchEvent,u.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],u.noop=function(){},u.supportsPassiveEvents=function(){let y=!1;if(!u.isMS){const n=Object.defineProperty({},"passive",{get:function(){y=!0}});u.win.addEventListener&&u.win.removeEventListener&&(u.win.addEventListener("testPassive",u.noop,n),u.win.removeEventListener("testPassive",u.noop,n))}return y}(),u.charts=[],u.dateFormats={},u.seriesTypes={},u.symbolSizes={},u.chartCount=0}(h||(h={})),h}),s(l,"Core/Utilities.js",[l["Core/Globals.js"]],function(h){function u(v,M,O,ee){const ae=M?"Highcharts error":"Highcharts warning";v===32&&(v=`${ae}: Deprecated member`);const K=Z(v);let pe=K?`${ae} #${v}: www.highcharts.com/errors/${v}/`:v.toString();if(typeof ee<"u"){let Me="";K&&(pe+="?"),S(ee,function(Pe,W){Me+=`
 - ${W}: ${Pe}`,K&&(pe+=encodeURI(W)+"="+encodeURI(Pe))}),pe+=Me}Y(h,"displayError",{chart:O,code:v,message:pe,params:ee},function(){if(M)throw Error(pe);X.console&&u.messages.indexOf(pe)===-1&&console.warn(pe)}),u.messages.push(pe)}function y(v,M){const O={};return S(v,function(ee,ae){ie(v[ae],!0)&&!v.nodeType&&M[ae]?(ee=y(v[ae],M[ae]),Object.keys(ee).length&&(O[ae]=ee)):(ie(v[ae])||v[ae]!==M[ae]||ae in v&&!(ae in M))&&(O[ae]=v[ae])}),O}function n(v,M){return parseInt(v,M||10)}function w(v){return typeof v=="string"}function z(v){return v=Object.prototype.toString.call(v),v==="[object Array]"||v==="[object Array Iterator]"}function ie(v,M){return!!v&&typeof v=="object"&&(!M||!z(v))}function G(v){return ie(v)&&typeof v.nodeType=="number"}function q(v){const M=v&&v.constructor;return!(!ie(v,!0)||G(v)||!M||!M.name||M.name==="Object")}function Z(v){return typeof v=="number"&&!isNaN(v)&&1/0>v&&-1/0<v}function F(v){return typeof v<"u"&&v!==null}function U(v,M,O){const ee=w(M)&&!F(O);let ae;const K=(pe,Me)=>{F(pe)?v.setAttribute(Me,pe):ee?(ae=v.getAttribute(Me))||Me!=="class"||(ae=v.getAttribute(Me+"Name")):v.removeAttribute(Me)};return w(M)?K(O,M):S(M,K),ae}function re(v,M){let O;v||(v={});for(O in M)v[O]=M[O];return v}function R(){const v=arguments,M=v.length;for(let O=0;O<M;O++){const ee=v[O];if(typeof ee<"u"&&ee!==null)return ee}}function D(v,M){h.isMS&&!h.svg&&M&&F(M.opacity)&&(M.filter=`alpha(opacity=${100*M.opacity})`),re(v.style,M)}function N(v){return Math.pow(10,Math.floor(Math.log(v)/Math.LN10))}function $(v,M){return 1e14<v?v:parseFloat(v.toPrecision(M||14))}function j(v,M,O){let ee;return M==="width"?(M=Math.min(v.offsetWidth,v.scrollWidth),O=v.getBoundingClientRect&&v.getBoundingClientRect().width,O<M&&O>=M-1&&(M=Math.floor(O)),Math.max(0,M-(j(v,"padding-left",!0)||0)-(j(v,"padding-right",!0)||0))):M==="height"?Math.max(0,Math.min(v.offsetHeight,v.scrollHeight)-(j(v,"padding-top",!0)||0)-(j(v,"padding-bottom",!0)||0)):((v=X.getComputedStyle(v,void 0))&&(ee=v.getPropertyValue(M),R(O,M!=="opacity")&&(ee=n(ee))),ee)}function S(v,M,O){for(const ee in v)Object.hasOwnProperty.call(v,ee)&&M.call(O||v[ee],v[ee],ee,v)}function te(v,M,O){function ee(pe,Me){const Pe=v.removeEventListener;Pe&&Pe.call(v,pe,Me,!1)}function ae(pe){let Me,Pe;v.nodeName&&(M?(Me={},Me[M]=!0):Me=pe,S(Me,function(W,le){if(pe[le])for(Pe=pe[le].length;Pe--;)ee(le,pe[le][Pe].fn)}))}var K=typeof v=="function"&&v.prototype||v;if(Object.hasOwnProperty.call(K,"hcEvents")){const pe=K.hcEvents;M?(K=pe[M]||[],O?(pe[M]=K.filter(function(Me){return O!==Me.fn}),ee(M,O)):(ae(pe),pe[M]=[])):(ae(pe),delete K.hcEvents)}}function Y(v,M,O,ee){if(O=O||{},V.createEvent&&(v.dispatchEvent||v.fireEvent&&v!==h)){var ae=V.createEvent("Events");ae.initEvent(M,!0,!0),O=re(ae,O),v.dispatchEvent?v.dispatchEvent(O):v.fireEvent(M,O)}else if(v.hcEvents){O.target||re(O,{preventDefault:function(){O.defaultPrevented=!0},target:v,type:M}),ae=[];let K=v,pe=!1;for(;K.hcEvents;)Object.hasOwnProperty.call(K,"hcEvents")&&K.hcEvents[M]&&(ae.length&&(pe=!0),ae.unshift.apply(ae,K.hcEvents[M])),K=Object.getPrototypeOf(K);pe&&ae.sort((Me,Pe)=>Me.order-Pe.order),ae.forEach(Me=>{Me.fn.call(v,O)===!1&&O.preventDefault()})}ee&&!O.defaultPrevented&&ee.call(v,O)}const{charts:I,doc:V,win:X}=h;(u||(u={})).messages=[],Math.easeInOutSine=function(v){return-.5*(Math.cos(Math.PI*v)-1)};var P=Array.prototype.find?function(v,M){return v.find(M)}:function(v,M){let O;const ee=v.length;for(O=0;O<ee;O++)if(M(v[O],O))return v[O]};S({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(v,M){h[M]=function(O){return u(32,!1,void 0,{[`Highcharts.${M}`]:`use Array.${v}`}),Array.prototype[v].apply(O,[].slice.call(arguments,1))}});let L;const _=function(){const v=Math.random().toString(36).substring(2,9)+"-";let M=0;return function(){return"highcharts-"+(L?"":v)+M++}}();return X.jQuery&&(X.jQuery.fn.highcharts=function(){const v=[].slice.call(arguments);if(this[0])return v[0]?(new h[w(v[0])?v.shift():"Chart"](this[0],v[0],v[1]),this):I[U(this[0],"data-highcharts-chart")]}),P={addEvent:function(v,M,O,ee={}){var ae=typeof v=="function"&&v.prototype||v;Object.hasOwnProperty.call(ae,"hcEvents")||(ae.hcEvents={}),ae=ae.hcEvents,h.Point&&v instanceof h.Point&&v.series&&v.series.chart&&(v.series.chart.runTrackerClick=!0);const K=v.addEventListener;return K&&K.call(v,M,O,h.supportsPassiveEvents?{passive:ee.passive===void 0?M.indexOf("touch")!==-1:ee.passive,capture:!1}:!1),ae[M]||(ae[M]=[]),ae[M].push({fn:O,order:typeof ee.order=="number"?ee.order:1/0}),ae[M].sort((pe,Me)=>pe.order-Me.order),function(){te(v,M,O)}},arrayMax:function(v){let M=v.length,O=v[0];for(;M--;)v[M]>O&&(O=v[M]);return O},arrayMin:function(v){let M=v.length,O=v[0];for(;M--;)v[M]<O&&(O=v[M]);return O},attr:U,clamp:function(v,M,O){return v>M?v<O?v:O:M},cleanRecursively:y,clearTimeout:function(v){F(v)&&clearTimeout(v)},correctFloat:$,createElement:function(v,M,O,ee,ae){return v=V.createElement(v),M&&re(v,M),ae&&D(v,{padding:"0",border:"none",margin:"0"}),O&&D(v,O),ee&&ee.appendChild(v),v},css:D,defined:F,destroyObjectProperties:function(v,M){S(v,function(O,ee){O&&O!==M&&O.destroy&&O.destroy(),delete v[ee]})},discardElement:function(v){v&&v.parentElement&&v.parentElement.removeChild(v)},erase:function(v,M){let O=v.length;for(;O--;)if(v[O]===M){v.splice(O,1);break}},error:u,extend:re,extendClass:function(v,M){const O=function(){};return O.prototype=new v,re(O.prototype,M),O},find:P,fireEvent:Y,getMagnitude:N,getNestedProperty:function(v,M){for(v=v.split(".");v.length&&F(M);){const O=v.shift();if(typeof O>"u"||O==="__proto__"||(M=M[O],!F(M)||typeof M=="function"||typeof M.nodeType=="number"||M===X))return}return M},getStyle:j,inArray:function(v,M,O){return u(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),M.indexOf(v,O)},isArray:z,isClass:q,isDOMElement:G,isFunction:function(v){return typeof v=="function"},isNumber:Z,isObject:ie,isString:w,keys:function(v){return u(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(v)},merge:function(){let v,M=arguments,O={};const ee=function(K,pe){return typeof K!="object"&&(K={}),S(pe,function(Me,Pe){Pe!=="__proto__"&&Pe!=="constructor"&&(!ie(Me,!0)||q(Me)||G(Me)?K[Pe]=pe[Pe]:K[Pe]=ee(K[Pe]||{},Me))}),K};M[0]===!0&&(O=M[1],M=Array.prototype.slice.call(M,2));const ae=M.length;for(v=0;v<ae;v++)O=ee(O,M[v]);return O},normalizeTickInterval:function(v,M,O,ee,ae){let K=v;O=R(O,N(v));const pe=v/O;for(M||(M=ae?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],ee===!1&&(O===1?M=M.filter(function(Me){return Me%1===0}):.1>=O&&(M=[1/O]))),ee=0;ee<M.length&&(K=M[ee],!(ae&&K*O>=v||!ae&&pe<=(M[ee]+(M[ee+1]||M[ee]))/2));ee++);return K=$(K*O,-Math.round(Math.log(.001)/Math.LN10))},objectEach:S,offset:function(v){const M=V.documentElement;return v=v.parentElement||v.parentNode?v.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:v.top+(X.pageYOffset||M.scrollTop)-(M.clientTop||0),left:v.left+(X.pageXOffset||M.scrollLeft)-(M.clientLeft||0),width:v.width,height:v.height}},pad:function(v,M,O){return Array((M||2)+1-String(v).replace("-","").length).join(O||"0")+v},pick:R,pInt:n,pushUnique:function(v,M){return 0>v.indexOf(M)&&!!v.push(M)},relativeLength:function(v,M,O){return/%$/.test(v)?M*parseFloat(v)/100+(O||0):parseFloat(v)},removeEvent:te,splat:function(v){return z(v)?v:[v]},stableSort:function(v,M){const O=v.length;let ee,ae;for(ae=0;ae<O;ae++)v[ae].safeI=ae;for(v.sort(function(K,pe){return ee=M(K,pe),ee===0?K.safeI-pe.safeI:ee}),ae=0;ae<O;ae++)delete v[ae].safeI},syncTimeout:function(v,M,O){return 0<M?setTimeout(v,M,O):(v.call(0,O),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:_,useSerialIds:function(v){return L=R(v,L)},wrap:function(v,M,O){const ee=v[M];v[M]=function(){const ae=arguments,K=this;return O.apply(this,[function(){return ee.apply(K,arguments.length?arguments:ae)}].concat([].slice.call(arguments)))}}},P}),s(l,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),s(l,"Core/Color/Color.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,u){const{isNumber:y,merge:n,pInt:w}=u;class z{static parse(G){return G?new z(G):z.None}constructor(G){this.rgba=[NaN,NaN,NaN,NaN],this.input=G;const q=h.Color;if(q&&q!==z)return new q(G);this.init(G)}init(G){let q,Z;if(typeof G=="object"&&typeof G.stops<"u")this.stops=G.stops.map(re=>new z(re[1]));else if(typeof G=="string"){if(this.input=G=z.names[G.toLowerCase()]||G,G.charAt(0)==="#"){var F=G.length,U=parseInt(G.substr(1),16);F===7?q=[(U&16711680)>>16,(U&65280)>>8,U&255,1]:F===4&&(q=[(U&3840)>>4|(U&3840)>>8,(U&240)>>4|U&240,(U&15)<<4|U&15,1])}if(!q)for(U=z.parsers.length;U--&&!q;)Z=z.parsers[U],(F=Z.regex.exec(G))&&(q=Z.parse(F))}q&&(this.rgba=q)}get(G){const q=this.input,Z=this.rgba;if(typeof q=="object"&&typeof this.stops<"u"){const F=n(q);return F.stops=[].slice.call(F.stops),this.stops.forEach((U,re)=>{F.stops[re]=[F.stops[re][0],U.get(G)]}),F}return Z&&y(Z[0])?G==="rgb"||!G&&Z[3]===1?"rgb("+Z[0]+","+Z[1]+","+Z[2]+")":G==="a"?`${Z[3]}`:"rgba("+Z.join(",")+")":q}brighten(G){const q=this.rgba;if(this.stops)this.stops.forEach(function(Z){Z.brighten(G)});else if(y(G)&&G!==0)for(let Z=0;3>Z;Z++)q[Z]+=w(255*G),0>q[Z]&&(q[Z]=0),255<q[Z]&&(q[Z]=255);return this}setOpacity(G){return this.rgba[3]=G,this}tweenTo(G,q){const Z=this.rgba,F=G.rgba;return!y(Z[0])||!y(F[0])?G.input||"none":(G=F[3]!==1||Z[3]!==1,(G?"rgba(":"rgb(")+Math.round(F[0]+(Z[0]-F[0])*(1-q))+","+Math.round(F[1]+(Z[1]-F[1])*(1-q))+","+Math.round(F[2]+(Z[2]-F[2])*(1-q))+(G?","+(F[3]+(Z[3]-F[3])*(1-q)):"")+")")}}return z.names={white:"#ffffff",black:"#000000"},z.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(ie){return[w(ie[1]),w(ie[2]),w(ie[3]),parseFloat(ie[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(ie){return[w(ie[1]),w(ie[2]),w(ie[3]),1]}}],z.None=new z(""),z}),s(l,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),s(l,"Core/Time.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,u){const{win:y}=h,{defined:n,error:w,extend:z,isObject:ie,merge:G,objectEach:q,pad:Z,pick:F,splat:U,timeUnits:re}=u,R=h.isSafari&&y.Intl&&y.Intl.DateTimeFormat.prototype.formatRange,D=h.isSafari&&y.Intl&&!y.Intl.DateTimeFormat.prototype.formatRange;class N{constructor(j){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=y.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(j)}get(j,S){if(this.variableTimezone||this.timezoneOffset){const te=S.getTime(),Y=te-this.getTimezoneOffset(S);return S.setTime(Y),j=S["getUTC"+j](),S.setTime(te),j}return this.useUTC?S["getUTC"+j]():S["get"+j]()}set(j,S,te){if(this.variableTimezone||this.timezoneOffset){if(j==="Milliseconds"||j==="Seconds"||j==="Minutes"&&this.getTimezoneOffset(S)%36e5===0)return S["setUTC"+j](te);var Y=this.getTimezoneOffset(S);return Y=S.getTime()-Y,S.setTime(Y),S["setUTC"+j](te),j=this.getTimezoneOffset(S),Y=S.getTime()+j,S.setTime(Y)}return this.useUTC||R&&j==="FullYear"?S["setUTC"+j](te):S["set"+j](te)}update(j={}){const S=F(j.useUTC,!0);this.options=j=G(!0,this.options,j),this.Date=j.Date||y.Date||Date,this.timezoneOffset=(this.useUTC=S)&&j.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=S&&!(!j.getTimezoneOffset&&!j.timezone)}makeTime(j,S,te,Y,I,V){let X,P,L;return this.useUTC?(X=this.Date.UTC.apply(0,arguments),P=this.getTimezoneOffset(X),X+=P,L=this.getTimezoneOffset(X),P!==L?X+=L-P:P-36e5!==this.getTimezoneOffset(X-36e5)||D||(X-=36e5)):X=new this.Date(j,S,F(te,1),F(Y,0),F(I,0),F(V,0)).getTime(),X}timezoneOffsetFunction(){const j=this,S=this.options,te=S.getTimezoneOffset,Y=S.moment||y.moment;if(!this.useUTC)return function(I){return 6e4*new Date(I.toString()).getTimezoneOffset()};if(S.timezone){if(Y)return function(I){return 6e4*-Y.tz(I,S.timezone).utcOffset()};w(25)}return this.useUTC&&te?function(I){return 6e4*te(I.valueOf())}:function(){return 6e4*(j.timezoneOffset||0)}}dateFormat(j,S,te){if(!n(S)||isNaN(S))return h.defaultOptions.lang&&h.defaultOptions.lang.invalidDate||"";j=F(j,"%Y-%m-%d %H:%M:%S");const Y=this;var I=new this.Date(S);const V=this.get("Hours",I),X=this.get("Day",I),P=this.get("Date",I),L=this.get("Month",I),_=this.get("FullYear",I),v=h.defaultOptions.lang,M=v&&v.weekdays,O=v&&v.shortWeekdays;return I=z({a:O?O[X]:M[X].substr(0,3),A:M[X],d:Z(P),e:Z(P,2," "),w:X,b:v.shortMonths[L],B:v.months[L],m:Z(L+1),o:L+1,y:_.toString().substr(2,2),Y:_,H:Z(V),k:V,I:Z(V%12||12),l:V%12||12,M:Z(this.get("Minutes",I)),p:12>V?"AM":"PM",P:12>V?"am":"pm",S:Z(I.getSeconds()),L:Z(Math.floor(S%1e3),3)},h.dateFormats),q(I,function(ee,ae){for(;j.indexOf("%"+ae)!==-1;)j=j.replace("%"+ae,typeof ee=="function"?ee.call(Y,S):ee)}),te?j.substr(0,1).toUpperCase()+j.substr(1):j}resolveDTLFormat(j){return ie(j,!0)?j:(j=U(j),{main:j[0],from:j[1],to:j[2]})}getTimeTicks(j,S,te,Y){const I=this,V=[],X={};var P=new I.Date(S);const L=j.unitRange,_=j.count||1;let v;if(Y=F(Y,1),n(S)){if(I.set("Milliseconds",P,L>=re.second?0:_*Math.floor(I.get("Milliseconds",P)/_)),L>=re.second&&I.set("Seconds",P,L>=re.minute?0:_*Math.floor(I.get("Seconds",P)/_)),L>=re.minute&&I.set("Minutes",P,L>=re.hour?0:_*Math.floor(I.get("Minutes",P)/_)),L>=re.hour&&I.set("Hours",P,L>=re.day?0:_*Math.floor(I.get("Hours",P)/_)),L>=re.day&&I.set("Date",P,L>=re.month?1:Math.max(1,_*Math.floor(I.get("Date",P)/_))),L>=re.month){I.set("Month",P,L>=re.year?0:_*Math.floor(I.get("Month",P)/_));var M=I.get("FullYear",P)}L>=re.year&&I.set("FullYear",P,M-M%_),L===re.week&&(M=I.get("Day",P),I.set("Date",P,I.get("Date",P)-M+Y+(M<Y?-7:0))),M=I.get("FullYear",P),Y=I.get("Month",P);const O=I.get("Date",P),ee=I.get("Hours",P);for(S=P.getTime(),!I.variableTimezone&&I.useUTC||!n(te)||(v=te-S>4*re.month||I.getTimezoneOffset(S)!==I.getTimezoneOffset(te)),S=P.getTime(),P=1;S<te;)V.push(S),S=L===re.year?I.makeTime(M+P*_,0):L===re.month?I.makeTime(M,Y+P*_):!v||L!==re.day&&L!==re.week?v&&L===re.hour&&1<_?I.makeTime(M,Y,O,ee+P*_):S+L*_:I.makeTime(M,Y,O+P*_*(L===re.day?1:7)),P++;V.push(S),L<=re.hour&&1e4>V.length&&V.forEach(function(ae){ae%18e5===0&&I.dateFormat("%H%M%S%L",ae)==="000000000"&&(X[ae]="day")})}return V.info=z(j,{higherRanks:X,totalRange:L*_}),V}getDateFormat(j,S,te,Y){const I=this.dateFormat("%m-%d %H:%M:%S.%L",S),V={millisecond:15,second:12,minute:9,hour:6,day:3};let X,P="millisecond";for(X in re){if(j===re.week&&+this.dateFormat("%w",S)===te&&I.substr(6)==="00:00:00.000"){X="week";break}if(re[X]>j){X=P;break}if(V[X]&&I.substr(V[X])!=="01-01 00:00:00.000".substr(V[X]))break;X!=="week"&&(P=X)}return this.resolveDTLFormat(Y[X]).main}}return N}),s(l,"Core/Defaults.js",[l["Core/Chart/ChartDefaults.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Color/Palettes.js"],l["Core/Time.js"],l["Core/Utilities.js"]],function(h,u,y,n,w,z){const{isTouchDevice:ie,svg:G}=y,{merge:q}=z,Z={colors:n.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:h,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:G,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:ie?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};Z.chart.styledMode=!1;const F=new w(Z.time);return h={defaultOptions:Z,defaultTime:F,getOptions:function(){return Z},setOptions:function(U){return q(!0,Z,U),(U.time||U.global)&&(y.time?y.time.update(q(Z.global,Z.time,U.global,U.time)):y.time=F),Z}},h}),s(l,"Core/Animation/Fx.js",[l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,u,y){const{parse:n}=h,{win:w}=u,{isNumber:z,objectEach:ie}=y;class G{constructor(Z,F,U){this.pos=NaN,this.options=F,this.elem=Z,this.prop=U}dSetter(){var Z=this.paths;const F=Z&&Z[0];Z=Z&&Z[1];const U=this.now||0;let re=[];if(U!==1&&F&&Z)if(F.length===Z.length&&1>U)for(let R=0;R<Z.length;R++){const D=F[R],N=Z[R],$=[];for(let j=0;j<N.length;j++){const S=D[j],te=N[j];z(S)&&z(te)&&(N[0]!=="A"||j!==4&&j!==5)?$[j]=S+U*(te-S):$[j]=te}re.push($)}else re=Z;else re=this.toD||[];this.elem.attr("d",re,void 0,!0)}update(){const Z=this.elem,F=this.prop,U=this.now,re=this.options.step;this[F+"Setter"]?this[F+"Setter"]():Z.attr?Z.element&&Z.attr(F,U,null,!0):Z.style[F]=U+this.unit,re&&re.call(Z,U,this)}run(Z,F,U){const re=this,R=re.options,D=function(j){return D.stopped?!1:re.step(j)},N=w.requestAnimationFrame||function(j){setTimeout(j,13)},$=function(){for(let j=0;j<G.timers.length;j++)G.timers[j]()||G.timers.splice(j--,1);G.timers.length&&N($)};Z!==F||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=Z,this.end=F,this.unit=U,this.now=this.start,this.pos=0,D.elem=this.elem,D.prop=this.prop,D()&&G.timers.push(D)===1&&N($)):(delete R.curAnim[this.prop],R.complete&&Object.keys(R.curAnim).length===0&&R.complete.call(this.elem))}step(Z){const F=+new Date,U=this.options,re=this.elem,R=U.complete,D=U.duration,N=U.curAnim;let $;return re.attr&&!re.element?Z=!1:Z||F>=D+this.startTime?(this.now=this.end,this.pos=1,this.update(),$=N[this.prop]=!0,ie(N,function(j){j!==!0&&($=!1)}),$&&R&&R.call(re),Z=!1):(this.pos=U.easing((F-this.startTime)/D),this.now=this.start+(this.end-this.start)*this.pos,this.update(),Z=!0),Z}initPath(Z,F,U){function re(I,V){for(;I.length<te;){var X=I[0];const P=V[te-I.length];P&&X[0]==="M"&&(I[0]=P[0]==="C"?["C",X[1],X[2],X[1],X[2],X[1],X[2]]:["L",X[1],X[2]]),I.unshift(X),$&&(X=I.pop(),I.push(I[I.length-1],X))}}function R(I,V){for(;I.length<te;)if(V=I[Math.floor(I.length/j)-1].slice(),V[0]==="C"&&(V[1]=V[5],V[2]=V[6]),$){const X=I[Math.floor(I.length/j)].slice();I.splice(I.length/2,0,V,X)}else I.push(V)}const D=Z.startX,N=Z.endX;U=U.slice();const $=Z.isArea,j=$?2:1;let S,te,Y;if(F=F&&F.slice(),!F)return[U,U];if(D&&N&&N.length){for(Z=0;Z<D.length;Z++)if(D[Z]===N[0]){S=Z;break}else if(D[0]===N[N.length-D.length+Z]){S=Z,Y=!0;break}else if(D[D.length-1]===N[N.length-D.length+Z]){S=D.length-Z;break}typeof S>"u"&&(F=[])}return F.length&&z(S)&&(te=U.length+S*j,Y?(re(F,U),R(U,F)):(re(U,F),R(F,U))),[F,U]}fillSetter(){G.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,n(this.start).tweenTo(n(this.end),this.pos),void 0,!0)}}return G.timers=[],G}),s(l,"Core/Animation/AnimationUtilities.js",[l["Core/Animation/Fx.js"],l["Core/Utilities.js"]],function(h,u){function y(re){return q(re)?Z({duration:500,defer:0},re):{duration:re?500:0,defer:0}}function n(re,R){let D=h.timers.length;for(;D--;)h.timers[D].elem!==re||R&&R!==h.timers[D].prop||(h.timers[D].stopped=!0)}const{defined:w,getStyle:z,isArray:ie,isNumber:G,isObject:q,merge:Z,objectEach:F,pick:U}=u;return{animate:function(re,R,D){let N,$="",j,S,te;q(D)||(te=arguments,D={duration:te[2],easing:te[3],complete:te[4]}),G(D.duration)||(D.duration=400),D.easing=typeof D.easing=="function"?D.easing:Math[D.easing]||Math.easeInOutSine,D.curAnim=Z(R),F(R,function(Y,I){n(re,I),S=new h(re,D,I),j=void 0,I==="d"&&ie(R.d)?(S.paths=S.initPath(re,re.pathArray,R.d),S.toD=R.d,N=0,j=1):re.attr?N=re.attr(I):(N=parseFloat(z(re,I))||0,I!=="opacity"&&($="px")),j||(j=Y),typeof j=="string"&&j.match("px")&&(j=j.replace(/px/g,"")),S.run(N,j,$)})},animObject:y,getDeferredAnimation:function(re,R,D){const N=y(R);let $=0,j=0;return(D?[D]:re.series).forEach(S=>{S=y(S.options.animation),$=R&&w(R.defer)?N.defer:Math.max($,S.duration+S.defer),j=Math.min(N.duration,S.duration)}),re.renderer.forExport&&($=0),{defer:Math.max(0,$-j),duration:Math.min($,j)}},setAnimation:function(re,R){R.renderer.globalAnimation=U(re,R.options.chart.animation,!0)},stop:n}}),s(l,"Core/Renderer/HTML/AST.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,u){const{SVG_NS:y,win:n}=h,{attr:w,createElement:z,css:ie,error:G,isFunction:q,isString:Z,objectEach:F,splat:U}=u;({trustedTypes:u}=n);const re=u&&q(u.createPolicy)&&u.createPolicy("highcharts",{createHTML:$=>$});u=re?re.createHTML(""):"";try{var R=!!new DOMParser().parseFromString(u,"text/html")}catch{R=!1}const D=R;class N{static filterUserAttributes(j){return F(j,(S,te)=>{let Y=!0;N.allowedAttributes.indexOf(te)===-1&&(Y=!1),["background","dynsrc","href","lowsrc","src"].indexOf(te)!==-1&&(Y=Z(S)&&N.allowedReferences.some(I=>S.indexOf(I)===0)),Y||(G(33,!1,void 0,{"Invalid attribute in config":`${te}`}),delete j[te]),Z(S)&&j[te]&&(j[te]=S.replace(/</g,"&lt;"))}),j}static parseStyle(j){return j.split(";").reduce((S,te)=>{te=te.split(":").map(I=>I.trim());const Y=te.shift();return Y&&te.length&&(S[Y.replace(/-([a-z])/g,I=>I[1].toUpperCase())]=te.join(":")),S},{})}static setElementHTML(j,S){j.innerHTML=N.emptyHTML,S&&new N(S).addToDOM(j)}constructor(j){this.nodes=typeof j=="string"?this.parseMarkup(j):j}addToDOM(j){function S(te,Y){let I;return U(te).forEach(function(V){var X=V.tagName;const P=V.textContent?h.doc.createTextNode(V.textContent):void 0,L=N.bypassHTMLFiltering;let _;if(X)if(X==="#text")_=P;else if(N.allowedTags.indexOf(X)!==-1||L){X=h.doc.createElementNS(X==="svg"?y:Y.namespaceURI||y,X);const v=V.attributes||{};F(V,function(M,O){O!=="tagName"&&O!=="attributes"&&O!=="children"&&O!=="style"&&O!=="textContent"&&(v[O]=M)}),w(X,L?v:N.filterUserAttributes(v)),V.style&&ie(X,V.style),P&&X.appendChild(P),S(V.children||[],X),_=X}else G(33,!1,void 0,{"Invalid tagName in config":X});_&&Y.appendChild(_),I=_}),I}return S(this.nodes,j)}parseMarkup(j){const S=[];if(j=j.trim().replace(/ style=(["'])/g," data-style=$1"),D)j=new DOMParser().parseFromString(re?re.createHTML(j):j,"text/html");else{const Y=z("div");Y.innerHTML=j,j={body:Y}}const te=(Y,I)=>{var V=Y.nodeName.toLowerCase();const X={tagName:V};if(V==="#text"&&(X.textContent=Y.textContent||""),V=Y.attributes){const P={};[].forEach.call(V,L=>{L.name==="data-style"?X.style=N.parseStyle(L.value):P[L.name]=L.value}),X.attributes=P}if(Y.childNodes.length){const P=[];[].forEach.call(Y.childNodes,L=>{te(L,P)}),P.length&&(X.children=P)}I.push(X)};return[].forEach.call(j.body.childNodes,Y=>te(Y,S)),S}}return N.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),N.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),N.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),N.emptyHTML=u,N.bypassHTMLFiltering=!1,N}),s(l,"Core/FormatUtilities.js",[l["Core/Defaults.js"],l["Core/Utilities.js"]],function(h,u){function y(Z,F,U,re){Z=+Z||0,F=+F;const R=n.lang;var D=(Z.toString().split(".")[1]||"").split("e")[0].length;const N=Z.toString().split("e"),$=F;if(F===-1)F=Math.min(D,20);else if(!ie(F))F=2;else if(F&&N[1]&&0>N[1]){var j=F+ +N[1];0<=j?(N[0]=(+N[0]).toExponential(j).split("e")[0],F=j):(N[0]=N[0].split(".")[0]||0,Z=20>F?(N[0]*Math.pow(10,N[1])).toFixed(F):0,N[1]=0)}j=(Math.abs(N[1]?N[0]:Z)+Math.pow(10,-Math.max(F,D)-1)).toFixed(F),D=String(q(j));const S=3<D.length?D.length%3:0;return U=G(U,R.decimalPoint),re=G(re,R.thousandsSep),Z=(0>Z?"-":"")+(S?D.substr(0,S)+re:""),Z=0>+N[1]&&!$?"0":Z+D.substr(S).replace(/(\d{3})(?=\d)/g,"$1"+re),F&&(Z+=U+j.slice(-F)),N[1]&&+Z!=0&&(Z+="e"+N[1]),Z}const{defaultOptions:n,defaultTime:w}=h,{getNestedProperty:z,isNumber:ie,pick:G,pInt:q}=u;return{dateFormat:function(Z,F,U){return w.dateFormat(Z,F,U)},format:function(Z,F,U){var re="{";let R=!1,D;const N=/f$/,$=/\.([0-9])/,j=n.lang,S=U&&U.time||w;U=U&&U.numberFormatter||y;const te=[];for(;Z&&(D=Z.indexOf(re),D!==-1);){var Y=Z.slice(0,D);if(R){if(Y=Y.split(":"),re=z(Y.shift()||"",F),Y.length&&typeof re=="number")if(Y=Y.join(":"),N.test(Y)){const I=parseInt((Y.match($)||["","-1"])[1],10);re!==null&&(re=U(re,I,j.decimalPoint,-1<Y.indexOf(",")?j.thousandsSep:""))}else re=S.dateFormat(Y,re);te.push(re)}else te.push(Y);Z=Z.slice(D+1),re=(R=!R)?"}":"{"}return te.push(Z),te.join("")},numberFormat:y}}),s(l,"Core/Renderer/RendererUtilities.js",[l["Core/Utilities.js"]],function(h){const{clamp:u,pick:y,stableSort:n}=h;var w;return function(z){function ie(G,q,Z){const F=G;var U=F.reducedLen||q,re=(S,te)=>(te.rank||0)-(S.rank||0);const R=(S,te)=>S.target-te.target;let D,N=!0,$=[],j=0;for(D=G.length;D--;)j+=G[D].size;if(j>U){for(n(G,re),j=D=0;j<=U;)j+=G[D].size,D++;$=G.splice(D-1,G.length)}for(n(G,R),G=G.map(S=>({size:S.size,targets:[S.target],align:y(S.align,.5)}));N;){for(D=G.length;D--;)U=G[D],re=(Math.min.apply(0,U.targets)+Math.max.apply(0,U.targets))/2,U.pos=u(re-U.size*U.align,0,q-U.size);for(D=G.length,N=!1;D--;)0<D&&G[D-1].pos+G[D-1].size>G[D].pos&&(G[D-1].size+=G[D].size,G[D-1].targets=G[D-1].targets.concat(G[D].targets),G[D-1].align=.5,G[D-1].pos+G[D-1].size>q&&(G[D-1].pos=q-G[D-1].size),G.splice(D,1),N=!0)}return F.push.apply(F,$),D=0,G.some(S=>{let te=0;return(S.targets||[]).some(()=>(F[D].pos=S.pos+te,typeof Z<"u"&&Math.abs(F[D].pos-F[D].target)>Z?(F.slice(0,D+1).forEach(Y=>delete Y.pos),F.reducedLen=(F.reducedLen||q)-.1*q,F.reducedLen>.1*q&&ie(F,q,Z),!0):(te+=F[D].size,D++,!1)))}),n(F,R),F}z.distribute=ie}(w||(w={})),w}),s(l,"Core/Renderer/SVG/SVGElement.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,u,y,n){const{animate:w,animObject:z,stop:ie}=h,{deg2rad:G,doc:q,svg:Z,SVG_NS:F,win:U}=y,{addEvent:re,attr:R,createElement:D,css:N,defined:$,erase:j,extend:S,fireEvent:te,isArray:Y,isFunction:I,isObject:V,isString:X,merge:P,objectEach:L,pick:_,pInt:v,syncTimeout:M,uniqueKey:O}=n;class ee{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=F}_defaultGetter(K){return K=_(this[K+"Value"],this[K],this.element?this.element.getAttribute(K):null,0),/^[\-0-9\.]+$/.test(K)&&(K=parseFloat(K)),K}_defaultSetter(K,pe,Me){Me.setAttribute(pe,K)}add(K){const pe=this.renderer,Me=this.element;let Pe;return K&&(this.parentGroup=K),typeof this.textStr<"u"&&this.element.nodeName==="text"&&pe.buildText(this),this.added=!0,(!K||K.handleZ||this.zIndex)&&(Pe=this.zIndexSetter()),Pe||(K?K.element:pe.box).appendChild(Me),this.onAdd&&this.onAdd(),this}addClass(K,pe){const Me=pe?"":this.attr("class")||"";return K=(K||"").split(/ /g).reduce(function(Pe,W){return Me.indexOf(W)===-1&&Pe.push(W),Pe},Me?[Me]:[]).join(" "),K!==Me&&this.attr("class",K),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(K,pe,Me){const Pe={};var W=this.renderer,le=W.alignedObjects,ue;let xe,Le;K?(this.alignOptions=K,this.alignByTranslate=pe,(!Me||X(Me))&&(this.alignTo=ue=Me||"renderer",j(le,this),le.push(this),Me=void 0)):(K=this.alignOptions,pe=this.alignByTranslate,ue=this.alignTo),Me=_(Me,W[ue],ue==="scrollablePlotBox"?W.plotBox:void 0,W),ue=K.align;const oe=K.verticalAlign;return W=(Me.x||0)+(K.x||0),le=(Me.y||0)+(K.y||0),ue==="right"?xe=1:ue==="center"&&(xe=2),xe&&(W+=(Me.width-(K.width||0))/xe),Pe[pe?"translateX":"x"]=Math.round(W),oe==="bottom"?Le=1:oe==="middle"&&(Le=2),Le&&(le+=(Me.height-(K.height||0))/Le),Pe[pe?"translateY":"y"]=Math.round(le),this[this.placed?"animate":"attr"](Pe),this.placed=!0,this.alignAttr=Pe,this}alignSetter(K){const pe={left:"start",center:"middle",right:"end"};pe[K]&&(this.alignValue=K,this.element.setAttribute("text-anchor",pe[K]))}animate(K,pe,Me){const Pe=z(_(pe,this.renderer.globalAnimation,!0));return pe=Pe.defer,q.hidden&&(Pe.duration=0),Pe.duration!==0?(Me&&(Pe.complete=Me),M(()=>{this.element&&w(this,K,Pe)},pe)):(this.attr(K,void 0,Me||Pe.complete),L(K,function(W,le){Pe.step&&Pe.step.call(this,W,{prop:le,pos:1,elem:this})},this)),this}applyTextOutline(K){const pe=this.element;K.indexOf("contrast")!==-1&&(K=K.replace(/contrast/g,this.renderer.getContrast(pe.style.fill)));var Me=K.split(" ");if(K=Me[Me.length-1],(Me=Me[0])&&Me!=="none"&&y.svg){this.fakeTS=!0,Me=Me.replace(/(^[\d\.]+)(.*?)$/g,function(le,ue,xe){return 2*Number(ue)+xe}),this.removeTextOutline();const Pe=q.createElementNS(F,"tspan");R(Pe,{class:"highcharts-text-outline",fill:K,stroke:K,"stroke-width":Me,"stroke-linejoin":"round"}),K=pe.querySelector("textPath")||pe,[].forEach.call(K.childNodes,le=>{const ue=le.cloneNode(!0);ue.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(xe=>ue.removeAttribute(xe)),Pe.appendChild(ue)});let W=0;[].forEach.call(K.querySelectorAll("text tspan"),le=>{W+=Number(le.getAttribute("dy"))}),Me=q.createElementNS(F,"tspan"),Me.textContent="​",R(Me,{x:Number(pe.getAttribute("x")),dy:-W}),Pe.appendChild(Me),K.insertBefore(Pe,K.firstChild)}}attr(K,pe,Me,Pe){const W=this.element,le=ee.symbolCustomAttribs;let ue,xe,Le=this,oe,ve;return typeof K=="string"&&typeof pe<"u"&&(ue=K,K={},K[ue]=pe),typeof K=="string"?Le=(this[K+"Getter"]||this._defaultGetter).call(this,K,W):(L(K,function(_e,se){oe=!1,Pe||ie(this,se),this.symbolName&&le.indexOf(se)!==-1&&(xe||(this.symbolAttr(K),xe=!0),oe=!0),!this.rotation||se!=="x"&&se!=="y"||(this.doTransform=!0),oe||(ve=this[se+"Setter"]||this._defaultSetter,ve.call(this,_e,se,W))},this),this.afterSetters()),Me&&Me.call(this),Le}clip(K){return this.attr("clip-path",K?"url("+this.renderer.url+"#"+K.id+")":"none")}crisp(K,pe){pe=pe||K.strokeWidth||0;const Me=Math.round(pe)%2/2;return K.x=Math.floor(K.x||this.x||0)+Me,K.y=Math.floor(K.y||this.y||0)+Me,K.width=Math.floor((K.width||this.width||0)-2*Me),K.height=Math.floor((K.height||this.height||0)-2*Me),$(K.strokeWidth)&&(K.strokeWidth=pe),K}complexColor(K,pe,Me){const Pe=this.renderer;let W,le,ue,xe,Le,oe,ve,_e,se,fe,ye=[],Ie;te(this.renderer,"complexColor",{args:arguments},function(){if(K.radialGradient?le="radialGradient":K.linearGradient&&(le="linearGradient"),le){if(ue=K[le],Le=Pe.gradients,oe=K.stops,se=Me.radialReference,Y(ue)&&(K[le]=ue={x1:ue[0],y1:ue[1],x2:ue[2],y2:ue[3],gradientUnits:"userSpaceOnUse"}),le==="radialGradient"&&se&&!$(ue.gradientUnits)&&(xe=ue,ue=P(ue,Pe.getRadialAttr(se,xe),{gradientUnits:"userSpaceOnUse"})),L(ue,function(ke,Ue){Ue!=="id"&&ye.push(Ue,ke)}),L(oe,function(ke){ye.push(ke)}),ye=ye.join(","),Le[ye])fe=Le[ye].attr("id");else{ue.id=fe=O();const ke=Le[ye]=Pe.createElement(le).attr(ue).add(Pe.defs);ke.radAttr=xe,ke.stops=[],oe.forEach(function(Ue){Ue[1].indexOf("rgba")===0?(W=u.parse(Ue[1]),ve=W.get("rgb"),_e=W.get("a")):(ve=Ue[1],_e=1),Ue=Pe.createElement("stop").attr({offset:Ue[0],"stop-color":ve,"stop-opacity":_e}).add(ke),ke.stops.push(Ue)})}Ie="url("+Pe.url+"#"+fe+")",Me.setAttribute(pe,Ie),Me.gradient=ye,K.toString=function(){return Ie}}})}css(K){const pe=this.styles,Me={},Pe=this.element;let W,le=!pe;if(K.color&&(K.fill=K.color),pe&&L(K,function(ue,xe){pe&&pe[xe]!==ue&&(Me[xe]=ue,le=!0)}),le){pe&&(K=S(pe,Me)),K.width===null||K.width==="auto"?delete this.textWidth:Pe.nodeName.toLowerCase()==="text"&&K.width&&(W=this.textWidth=v(K.width)),this.styles=K,W&&!Z&&this.renderer.forExport&&delete K.width;const ue=P(K);Pe.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(xe=>ue&&delete ue[xe]),N(Pe,ue)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),K.textOutline&&this.applyTextOutline(K.textOutline)),this}dashstyleSetter(K){let pe=this["stroke-width"];if(pe==="inherit"&&(pe=1),K=K&&K.toLowerCase()){const Me=K.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(K=Me.length;K--;)Me[K]=""+v(Me[K])*_(pe,NaN);K=Me.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",K)}}destroy(){const K=this;var pe=K.element||{};const Me=K.renderer;var Pe=pe.ownerSVGElement;let W=pe.nodeName==="SPAN"&&K.parentGroup||void 0;if(pe.onclick=pe.onmouseout=pe.onmouseover=pe.onmousemove=pe.point=null,ie(K),K.clipPath&&Pe){const le=K.clipPath;[].forEach.call(Pe.querySelectorAll("[clip-path],[CLIP-PATH]"),function(ue){-1<ue.getAttribute("clip-path").indexOf(le.element.id)&&ue.removeAttribute("clip-path")}),K.clipPath=le.destroy()}if(K.stops){for(Pe=0;Pe<K.stops.length;Pe++)K.stops[Pe].destroy();K.stops.length=0,K.stops=void 0}for(K.safeRemoveChild(pe);W&&W.div&&W.div.childNodes.length===0;)pe=W.parentGroup,K.safeRemoveChild(W.div),delete W.div,W=pe;K.alignTo&&j(Me.alignedObjects,K),L(K,function(le,ue){K[ue]&&K[ue].parentGroup===K&&K[ue].destroy&&K[ue].destroy(),delete K[ue]})}dSetter(K,pe,Me){Y(K)&&(typeof K[0]=="string"&&(K=this.renderer.pathToSegments(K)),this.pathArray=K,K=K.reduce((Pe,W,le)=>W&&W.join?(le?Pe+" ":"")+W.join(" "):(W||"").toString(),"")),/(NaN| {2}|^$)/.test(K)&&(K="M 0 0"),this[pe]!==K&&(Me.setAttribute(pe,K),this[pe]=K)}fadeOut(K){const pe=this;pe.animate({opacity:0},{duration:_(K,150),complete:function(){pe.hide()}})}fillSetter(K,pe,Me){typeof K=="string"?Me.setAttribute(pe,K):K&&this.complexColor(K,pe,Me)}getBBox(K,pe){const{alignValue:Me,element:Pe,renderer:W,styles:le,textStr:ue}=this,{cache:xe,cacheKeys:Le}=W;var oe=Pe.namespaceURI===this.SVG_NS;pe=_(pe,this.rotation,0);var ve=W.styledMode?Pe&&ee.prototype.getStyle.call(Pe,"font-size"):le&&le.fontSize;let _e,se;if($(ue)&&(se=ue.toString(),se.indexOf("<")===-1&&(se=se.replace(/[0-9]/g,"0")),se+=["",W.rootFontSize,ve,pe,this.textWidth,Me,le&&le.textOverflow,le&&le.fontWeight].join()),se&&!K&&(_e=xe[se]),!_e){if(oe||W.forExport){try{var fe=this.fakeTS&&function(st){const it=Pe.querySelector(".highcharts-text-outline");it&&N(it,{display:st})};I(fe)&&fe("none"),_e=Pe.getBBox?S({},Pe.getBBox()):{width:Pe.offsetWidth,height:Pe.offsetHeight,x:0,y:0},I(fe)&&fe("")}catch{}(!_e||0>_e.width)&&(_e={x:0,y:0,width:0,height:0})}else _e=this.htmlGetBBox();if(fe=_e.width,K=_e.height,oe&&(_e.height=K={"11px,17":14,"13px,20":16}[`${ve||""},${Math.round(K)}`]||K),pe){oe=Number(Pe.getAttribute("y")||0)-_e.y,ve={right:1,center:.5}[Me||0]||0;var ye=pe*G,Ie=(pe-90)*G,ke=fe*Math.cos(ye);pe=fe*Math.sin(ye);var Ue=Math.cos(Ie);ye=Math.sin(Ie),fe=_e.x+ve*(fe-ke)+oe*Ue,Ie=fe+ke,Ue=Ie-K*Ue,ke=Ue-ke,oe=_e.y+oe-ve*pe+oe*ye,ve=oe+pe,K=ve-K*ye,pe=K-pe,_e.x=Math.min(fe,Ie,Ue,ke),_e.y=Math.min(oe,ve,K,pe),_e.width=Math.max(fe,Ie,Ue,ke)-_e.x,_e.height=Math.max(oe,ve,K,pe)-_e.y}}if(se&&(ue===""||0<_e.height)){for(;250<Le.length;)delete xe[Le.shift()];xe[se]||Le.push(se),xe[se]=_e}return _e}getStyle(K){return U.getComputedStyle(this.element||this,"").getPropertyValue(K)}hasClass(K){return(""+this.attr("class")).split(" ").indexOf(K)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(K,pe){this.element=pe==="span"?D(pe):q.createElementNS(this.SVG_NS,pe),this.renderer=K,te(this,"afterInit")}on(K,pe){const{onEvents:Me}=this;return Me[K]&&Me[K](),Me[K]=re(this.element,K,pe),this}opacitySetter(K,pe,Me){this.opacity=K=Number(Number(K).toFixed(3)),Me.setAttribute(pe,K)}removeClass(K){return this.attr("class",(""+this.attr("class")).replace(X(K)?new RegExp(`(^| )${K}( |$)`):K," ").replace(/ +/g," ").trim())}removeTextOutline(){const K=this.element.querySelector("tspan.highcharts-text-outline");K&&this.safeRemoveChild(K)}safeRemoveChild(K){const pe=K.parentNode;pe&&pe.removeChild(K)}setRadialReference(K){const pe=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=K,pe&&pe.radAttr&&pe.animate(this.renderer.getRadialAttr(K,pe.radAttr)),this}setTextPath(K,pe){pe=P(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},pe);const Me=this.renderer.url,Pe=this.text||this,W=Pe.textPath,{attributes:le,enabled:ue}=pe;return K=K||W&&W.path,W&&W.undo(),K&&ue?(pe=re(Pe,"afterModifyTree",xe=>{if(K&&ue){let oe=K.attr("id");oe||K.attr("id",oe=O());var Le={x:0,y:0};$(le.dx)&&(Le.dx=le.dx,delete le.dx),$(le.dy)&&(Le.dy=le.dy,delete le.dy),Pe.attr(Le),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),Le=xe.nodes.slice(0),xe.nodes.length=0,xe.nodes[0]={tagName:"textPath",attributes:S(le,{"text-anchor":le.textAnchor,href:`${Me}#${oe}`}),children:Le}}}),Pe.textPath={path:K,undo:pe}):(Pe.attr({dx:0,dy:0}),delete Pe.textPath),this.added&&(Pe.textCache="",this.renderer.buildText(Pe)),this}shadow(K){var pe;const{renderer:Me}=this,Pe=P(((pe=this.parentGroup)===null||pe===void 0?void 0:pe.rotation)===90?{offsetX:-1,offsetY:-1}:{},V(K)?K:{});return pe=Me.shadowDefinition(Pe),this.attr({filter:K?`url(${Me.url}#${pe})`:"none"})}show(K=!0){return this.attr({visibility:K?"inherit":"visible"})}"stroke-widthSetter"(K,pe,Me){this[pe]=K,Me.setAttribute(pe,K)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const K=this.getStyle("stroke-width");let pe=0,Me;return K.indexOf("px")===K.length-2?pe=v(K):K!==""&&(Me=q.createElementNS(F,"rect"),R(Me,{width:K,"stroke-width":0}),this.element.parentNode.appendChild(Me),pe=Me.getBBox().width,Me.parentNode.removeChild(Me)),pe}symbolAttr(K){const pe=this;ee.symbolCustomAttribs.forEach(function(Me){pe[Me]=_(K[Me],pe[Me])}),pe.attr({d:pe.renderer.symbols[pe.symbolName](pe.x,pe.y,pe.width,pe.height,pe)})}textSetter(K){K!==this.textStr&&(delete this.textPxLength,this.textStr=K,this.added&&this.renderer.buildText(this))}titleSetter(K){const pe=this.element,Me=pe.getElementsByTagName("title")[0]||q.createElementNS(this.SVG_NS,"title");pe.insertBefore?pe.insertBefore(Me,pe.firstChild):pe.appendChild(Me),Me.textContent=String(_(K,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const K=this.element;return K.parentNode.appendChild(K),this}translate(K,pe){return this.attr({translateX:K,translateY:pe})}updateTransform(){const{element:K,matrix:pe,rotation:Me=0,scaleX:Pe,scaleY:W,translateX:le=0,translateY:ue=0}=this,xe=["translate("+le+","+ue+")"];$(pe)&&xe.push("matrix("+pe.join(",")+")"),Me&&xe.push("rotate("+Me+" "+_(this.rotationOriginX,K.getAttribute("x"),0)+" "+_(this.rotationOriginY,K.getAttribute("y")||0)+")"),($(Pe)||$(W))&&xe.push("scale("+_(Pe,1)+" "+_(W,1)+")"),xe.length&&!(this.text||this).textPath&&K.setAttribute("transform",xe.join(" "))}visibilitySetter(K,pe,Me){K==="inherit"?Me.removeAttribute(pe):this[pe]!==K&&Me.setAttribute(pe,K),this[pe]=K}xGetter(K){return this.element.nodeName==="circle"&&(K==="x"?K="cx":K==="y"&&(K="cy")),this._defaultGetter(K)}zIndexSetter(K,pe){var Me=this.renderer,Pe=this.parentGroup;const W=(Pe||Me).element||Me.box,le=this.element;Me=W===Me.box;let ue=!1,xe;var Le=this.added;let oe;if($(K)?(le.setAttribute("data-z-index",K),K=+K,this[pe]===K&&(Le=!1)):$(this[pe])&&le.removeAttribute("data-z-index"),this[pe]=K,Le){for((K=this.zIndex)&&Pe&&(Pe.handleZ=!0),pe=W.childNodes,oe=pe.length-1;0<=oe&&!ue;oe--)Pe=pe[oe],Le=Pe.getAttribute("data-z-index"),xe=!$(Le),Pe!==le&&(0>K&&xe&&!Me&&!oe?(W.insertBefore(le,pe[oe]),ue=!0):(v(Le)<=K||xe&&(!$(K)||0<=K))&&(W.insertBefore(le,pe[oe+1]),ue=!0));ue||(W.insertBefore(le,pe[Me?3:0]),ue=!0)}return ue}}return ee.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),ee.prototype.strokeSetter=ee.prototype.fillSetter,ee.prototype.yGetter=ee.prototype.xGetter,ee.prototype.matrixSetter=ee.prototype.rotationOriginXSetter=ee.prototype.rotationOriginYSetter=ee.prototype.rotationSetter=ee.prototype.scaleXSetter=ee.prototype.scaleYSetter=ee.prototype.translateXSetter=ee.prototype.translateYSetter=ee.prototype.verticalAlignSetter=function(ae,K){this[K]=ae,this.doTransform=!0},ee}),s(l,"Core/Renderer/RendererRegistry.js",[l["Core/Globals.js"]],function(h){var u;return function(y){y.rendererTypes={};let n;y.getRendererType=function(w=n){return y.rendererTypes[w]||y.rendererTypes[n]},y.registerRendererType=function(w,z,ie){y.rendererTypes[w]=z,(!n||ie)&&(n=w,h.Renderer=z)}}(u||(u={})),u}),s(l,"Core/Renderer/SVG/SVGLabel.js",[l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(h,u){const{defined:y,extend:n,isNumber:w,merge:z,pick:ie,removeEvent:G}=u;class q extends h{constructor(F,U,re,R,D,N,$,j,S,te){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(F,"g"),this.textStr=U,this.x=re,this.y=R,this.anchorX=N,this.anchorY=$,this.baseline=S,this.className=te,this.addClass(te==="button"?"highcharts-no-tooltip":"highcharts-label"),te&&this.addClass("highcharts-"+te),this.text=F.text(void 0,0,0,j).attr({zIndex:1});let Y;typeof D=="string"&&((Y=/^url\((.*?)\)$/.test(D))||this.renderer.symbols[D])&&(this.symbolKey=D),this.bBox=q.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=F.styledMode||Y,this.deferredAttr={},this.alignFactor=0}alignSetter(F){F={left:0,center:.5,right:1}[F],F!==this.alignFactor&&(this.alignFactor=F,this.bBox&&w(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(F,U){this.anchorX=F,this.boxAttr(U,Math.round(F)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(F,U){this.anchorY=F,this.boxAttr(U,F-this.ySetting)}boxAttr(F,U){this.box?this.box.attr(F,U):this.deferredAttr[F]=U}css(F){if(F){const U={};F=z(F),q.textProps.forEach(re=>{typeof F[re]<"u"&&(U[re]=F[re],delete F[re])}),this.text.css(U),"fontSize"in U||"fontWeight"in U?this.updateTextPadding():("width"in U||"textOverflow"in U)&&this.updateBoxSize()}return h.prototype.css.call(this,F)}destroy(){G(this.element,"mouseenter"),G(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),h.prototype.destroy.call(this)}fillSetter(F,U){F&&(this.needsBox=!0),this.fill=F,this.boxAttr(U,F)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const F=this.padding,U=ie(this.paddingLeft,F);return{width:this.width,height:this.height,x:this.bBox.x-U,y:this.bBox.y-F}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(F){this.heightSetting=F}onAdd(){this.text.add(this),this.attr({text:ie(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&y(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(F,U){w(F)?F!==this[U]&&(this[U]=F,this.updateTextPadding()):this[U]=void 0}rSetter(F,U){this.boxAttr(U,F)}strokeSetter(F,U){this.stroke=F,this.boxAttr(U,F)}"stroke-widthSetter"(F,U){F&&(this.needsBox=!0),this["stroke-width"]=F,this.boxAttr(U,F)}"text-alignSetter"(F){this.textAlign=F}textSetter(F){typeof F<"u"&&this.text.attr({text:F}),this.updateTextPadding()}updateBoxSize(){var F=this.text;const U={},re=this.padding,R=this.bBox=w(this.widthSetting)&&w(this.heightSetting)&&!this.textAlign||!y(F.textStr)?q.emptyBBox:F.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||R.height||0)+2*re;const D=this.renderer.fontMetrics(F);this.baselineOffset=re+Math.min((this.text.firstLineMetrics||D).b,R.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-D.h)/2),this.needsBox&&!F.textPath&&(this.box||(F=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),F.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),F.add(this)),F=this.getCrispAdjust(),U.x=F,U.y=(this.baseline?-this.baselineOffset:0)+F,U.width=Math.round(this.width),U.height=Math.round(this.height),this.box.attr(n(U,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const F=this.text;if(!F.textPath){this.updateBoxSize();const U=this.baseline?0:this.baselineOffset;let re=ie(this.paddingLeft,this.padding);y(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(re+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(re!==F.x||U!==F.y)&&(F.attr("x",re),F.hasBoxWidthChanged&&(this.bBox=F.getBBox(!0)),typeof U<"u"&&F.attr("y",U)),F.x=re,F.y=U}}widthSetter(F){this.widthSetting=w(F)?F:void 0}getPaddedWidth(){var F=this.padding;const U=ie(this.paddingLeft,F);return F=ie(this.paddingRight,F),(this.widthSetting||this.bBox.width||0)+U+F}xSetter(F){this.x=F,this.alignFactor&&(F-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(F),this.attr("translateX",this.xSetting)}ySetter(F){this.ySetting=this.y=Math.round(F),this.attr("translateY",this.ySetting)}}return q.emptyBBox={width:0,height:0,x:0,y:0},q.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),q}),s(l,"Core/Renderer/SVG/Symbols.js",[l["Core/Utilities.js"]],function(h){function u(G,q,Z,F,U){const re=[];if(U){const R=U.start||0,D=ie(U.r,Z);Z=ie(U.r,F||Z),F=(U.end||0)-.001;const N=U.innerR,$=ie(U.open,.001>Math.abs((U.end||0)-R-2*Math.PI)),j=Math.cos(R),S=Math.sin(R),te=Math.cos(F),Y=Math.sin(F),I=ie(U.longArc,.001>F-R-Math.PI?0:1);let V=["A",D,Z,0,I,ie(U.clockwise,1),G+D*te,q+Z*Y];V.params={start:R,end:F,cx:G,cy:q},re.push(["M",G+D*j,q+Z*S],V),w(N)&&(V=["A",N,N,0,I,w(U.clockwise)?1-U.clockwise:0,G+N*j,q+N*S],V.params={start:F,end:R,cx:G,cy:q},re.push($?["M",G+N*te,q+N*Y]:["L",G+N*te,q+N*Y],V)),$||re.push(["Z"])}return re}function y(G,q,Z,F,U){return U&&U.r?n(G,q,Z,F,U):[["M",G,q],["L",G+Z,q],["L",G+Z,q+F],["L",G,q+F],["Z"]]}function n(G,q,Z,F,U){return U=(U==null?void 0:U.r)||0,[["M",G+U,q],["L",G+Z-U,q],["A",U,U,0,0,1,G+Z,q+U],["L",G+Z,q+F-U],["A",U,U,0,0,1,G+Z-U,q+F],["L",G+U,q+F],["A",U,U,0,0,1,G,q+F-U],["L",G,q+U],["A",U,U,0,0,1,G+U,q],["Z"]]}const{defined:w,isNumber:z,pick:ie}=h;return{arc:u,callout:function(G,q,Z,F,U){const re=Math.min(U&&U.r||0,Z,F),R=re+6,D=U&&U.anchorX;U=U&&U.anchorY||0;const N=n(G,q,Z,F,{r:re});return z(D)&&(G+D>=Z?U>q+R&&U<q+F-R?N.splice(3,1,["L",G+Z,U-6],["L",G+Z+6,U],["L",G+Z,U+6],["L",G+Z,q+F-re]):N.splice(3,1,["L",G+Z,F/2],["L",D,U],["L",G+Z,F/2],["L",G+Z,q+F-re]):0>=G+D?U>q+R&&U<q+F-R?N.splice(7,1,["L",G,U+6],["L",G-6,U],["L",G,U-6],["L",G,q+re]):N.splice(7,1,["L",G,F/2],["L",D,U],["L",G,F/2],["L",G,q+re]):U&&U>F&&D>G+R&&D<G+Z-R?N.splice(5,1,["L",D+6,q+F],["L",D,q+F+6],["L",D-6,q+F],["L",G+re,q+F]):U&&0>U&&D>G+R&&D<G+Z-R&&N.splice(1,1,["L",D-6,q],["L",D,q-6],["L",D+6,q],["L",Z-re,q])),N},circle:function(G,q,Z,F){return u(G+Z/2,q+F/2,Z/2,F/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(G,q,Z,F){return[["M",G+Z/2,q],["L",G+Z,q+F/2],["L",G+Z/2,q+F],["L",G,q+F/2],["Z"]]},rect:y,roundedRect:n,square:y,triangle:function(G,q,Z,F){return[["M",G+Z/2,q],["L",G+Z,q+F],["L",G,q+F],["Z"]]},"triangle-down":function(G,q,Z,F){return[["M",G,q],["L",G+Z,q],["L",G+Z/2,q+F],["Z"]]}}}),s(l,"Core/Renderer/SVG/TextBuilder.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,u,y){const{doc:n,SVG_NS:w,win:z}=u,{attr:ie,extend:G,fireEvent:q,isString:Z,objectEach:F,pick:U}=y;class re{constructor(D){const N=D.styles;this.renderer=D.renderer,this.svgElement=D,this.width=D.textWidth,this.textLineHeight=N&&N.lineHeight,this.textOutline=N&&N.textOutline,this.ellipsis=!(!N||N.textOverflow!=="ellipsis"),this.noWrap=!(!N||N.whiteSpace!=="nowrap")}buildSVG(){const D=this.svgElement,N=D.element;var $=D.renderer,j=U(D.textStr,"").toString();const S=j.indexOf("<")!==-1,te=N.childNodes;$=!D.added&&$.box;const Y=/<br.*?>/g;var I=[j,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,D.getStyle("font-size"),this.width].join();if(I!==D.textCache){for(D.textCache=I,delete D.actualWidth,I=te.length;I--;)N.removeChild(te[I]);S||this.ellipsis||this.width||D.textPath||j.indexOf(" ")!==-1&&(!this.noWrap||Y.test(j))?j!==""&&($&&$.appendChild(N),j=new h(j),this.modifyTree(j.nodes),j.addToDOM(N),this.modifyDOM(),this.ellipsis&&(N.textContent||"").indexOf("…")!==-1&&D.attr("title",this.unescapeEntities(D.textStr||"",["&lt;","&gt;"])),$&&$.removeChild(N)):N.appendChild(n.createTextNode(this.unescapeEntities(j))),Z(this.textOutline)&&D.applyTextOutline&&D.applyTextOutline(this.textOutline)}}modifyDOM(){const D=this.svgElement,N=ie(D.element,"x");D.firstLineMetrics=void 0;let $;for(;($=D.element.firstChild)&&/^[\s\u200B]*$/.test($.textContent||" ");)D.element.removeChild($);[].forEach.call(D.element.querySelectorAll("tspan.highcharts-br"),(Y,I)=>{Y.nextSibling&&Y.previousSibling&&(I===0&&Y.previousSibling.nodeType===1&&(D.firstLineMetrics=D.renderer.fontMetrics(Y.previousSibling)),ie(Y,{dy:this.getLineHeight(Y.nextSibling),x:N}))});const j=this.width||0;if(j){var S=(Y,I)=>{var V=Y.textContent||"";const X=V.replace(/([^\^])-/g,"$1- ").split(" ");var P=!this.noWrap&&(1<X.length||1<D.element.childNodes.length);const L=this.getLineHeight(I);let _=0,v=D.actualWidth;if(this.ellipsis)V&&this.truncate(Y,V,void 0,0,Math.max(0,j-.8*L),(M,O)=>M.substring(0,O)+"…");else if(P){for(V=[],P=[];I.firstChild&&I.firstChild!==Y;)P.push(I.firstChild),I.removeChild(I.firstChild);for(;X.length;)X.length&&!this.noWrap&&0<_&&(V.push(Y.textContent||""),Y.textContent=X.join(" ").replace(/- /g,"-")),this.truncate(Y,void 0,X,_===0&&v||0,j,(M,O)=>X.slice(0,O).join(" ").replace(/- /g,"-")),v=D.actualWidth,_++;P.forEach(M=>{I.insertBefore(M,Y)}),V.forEach(M=>{I.insertBefore(n.createTextNode(M),Y),M=n.createElementNS(w,"tspan"),M.textContent="​",ie(M,{dy:L,x:N}),I.insertBefore(M,Y)})}},te=Y=>{[].slice.call(Y.childNodes).forEach(I=>{I.nodeType===z.Node.TEXT_NODE?S(I,Y):(I.className.baseVal.indexOf("highcharts-br")!==-1&&(D.actualWidth=0),te(I))})};te(D.element)}}getLineHeight(D){return D=D.nodeType===z.Node.TEXT_NODE?D.parentElement:D,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(D||this.svgElement.element).h}modifyTree(D){const N=($,j)=>{const{attributes:S={},children:te,style:Y={},tagName:I}=$,V=this.renderer.styledMode;I==="b"||I==="strong"?V?S.class="highcharts-strong":Y.fontWeight="bold":(I==="i"||I==="em")&&(V?S.class="highcharts-emphasized":Y.fontStyle="italic"),Y&&Y.color&&(Y.fill=Y.color),I==="br"?(S.class="highcharts-br",$.textContent="​",(j=D[j+1])&&j.textContent&&(j.textContent=j.textContent.replace(/^ +/gm,""))):I==="a"&&te&&te.some(X=>X.tagName==="#text")&&($.children=[{children:te,tagName:"tspan"}]),I!=="#text"&&I!=="a"&&($.tagName="tspan"),G($,{attributes:S,style:Y}),te&&te.filter(X=>X.tagName!=="#text").forEach(N)};D.forEach(N),q(this.svgElement,"afterModifyTree",{nodes:D})}truncate(D,N,$,j,S,te){const Y=this.svgElement,{rotation:I}=Y,V=[];let X=$?1:0,P=(N||$||"").length,L=P,_,v;const M=function(O,ee){if(O=ee||O,(ee=D.parentNode)&&typeof V[O]>"u"&&ee.getSubStringLength)try{V[O]=j+ee.getSubStringLength(0,$?O+1:O)}catch{}return V[O]};if(Y.rotation=0,v=M(D.textContent.length),j+v>S){for(;X<=P;)L=Math.ceil((X+P)/2),$&&(_=te($,L)),v=M(L,_&&_.length-1),X===P?X=P+1:v>S?P=L-1:X=L;P===0?D.textContent="":N&&P===N.length-1||(D.textContent=_||te(N||$,L))}$&&$.splice(0,L),Y.actualWidth=v,Y.rotation=I}unescapeEntities(D,N){return F(this.renderer.escapes,function($,j){N&&N.indexOf($)!==-1||(D=D.toString().replace(new RegExp($,"g"),j))}),D}}return re}),s(l,"Core/Renderer/SVG/SVGRenderer.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGLabel.js"],l["Core/Renderer/SVG/Symbols.js"],l["Core/Renderer/SVG/TextBuilder.js"],l["Core/Utilities.js"]],function(h,u,y,n,w,z,ie,G,q){const{charts:Z,deg2rad:F,doc:U,isFirefox:re,isMS:R,isWebKit:D,noop:N,SVG_NS:$,symbolSizes:j,win:S}=y,{addEvent:te,attr:Y,createElement:I,css:V,defined:X,destroyObjectProperties:P,extend:L,isArray:_,isNumber:v,isObject:M,isString:O,merge:ee,pick:ae,pInt:K,uniqueKey:pe}=q;let Me;class Pe{constructor(le,ue,xe,Le,oe,ve,_e){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(le,ue,xe,Le,oe,ve,_e)}init(le,ue,xe,Le,oe,ve,_e){const se=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),fe=se.element;_e||se.css(this.getStyle(Le)),le.appendChild(fe),Y(le,"dir","ltr"),le.innerHTML.indexOf("xmlns")===-1&&Y(fe,"xmlns",this.SVG_NS),this.box=fe,this.boxWrapper=se,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(U.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=ve,this.forExport=oe,this.styledMode=_e,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=se.getStyle("font-size"),this.setSize(ue,xe,!1);let ye;re&&le.getBoundingClientRect&&(ue=function(){V(le,{left:0,top:0}),ye=le.getBoundingClientRect(),V(le,{left:Math.ceil(ye.left)-ye.left+"px",top:Math.ceil(ye.top)-ye.top+"px"})},ue(),this.unSubPixelFix=te(S,"resize",ue))}definition(le){return new h([le]).addToDOM(this.defs.element)}getReferenceURL(){if((re||D)&&U.getElementsByTagName("base").length){if(!X(Me)){var le=pe();le=new h([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:le},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${le})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(U.body),V(le,{position:"fixed",top:0,left:0,zIndex:9e5});const ue=U.elementFromPoint(6,6);Me=(ue&&ue.id)==="hitme",U.body.removeChild(le)}if(Me)return S.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(le){return this.style=L({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},le)}setStyle(le){this.boxWrapper.css(this.getStyle(le))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const le=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),P(this.gradients||{}),this.gradients=null,this.defs=le.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(le){const ue=new this.Element;return ue.init(this,le),ue}getRadialAttr(le,ue){return{cx:le[0]-le[2]/2+(ue.cx||0)*le[2],cy:le[1]-le[2]/2+(ue.cy||0)*le[2],r:(ue.r||0)*le[2]}}shadowDefinition(le){const ue=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(le).map(Le=>le[Le])].join("-").replace(/[^a-z0-9\-]/g,""),xe=ee({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},le);return this.defs.element.querySelector(`#${ue}`)||this.definition({tagName:"filter",attributes:{id:ue},children:[{tagName:"feDropShadow",attributes:{dx:xe.offsetX,dy:xe.offsetY,"flood-color":xe.color,"flood-opacity":Math.min(5*xe.opacity,1),stdDeviation:xe.width/2}}]}),ue}buildText(le){new G(le).buildSVG()}getContrast(le){return le=u.parse(le).rgba.map(ue=>(ue/=255,.03928>=ue?ue/12.92:Math.pow((ue+.055)/1.055,2.4))),le=.2126*le[0]+.7152*le[1]+.0722*le[2],1.05/(le+.05)>(le+.05)/.05?"#FFFFFF":"#000000"}button(le,ue,xe,Le,oe={},ve,_e,se,fe,ye){const Ie=this.label(le,ue,xe,fe,void 0,void 0,ye,void 0,"button"),ke=this.styledMode;le=oe.states||{};let Ue=0;oe=ee(oe),delete oe.states;const st=ee({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},oe.style);delete oe.style;let it=h.filterUserAttributes(oe);Ie.attr(ee({padding:8,r:2},it));let ht,Ae,ze;return ke||(it=ee({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},it),ve=ee(it,{fill:"#e6e6e6"},h.filterUserAttributes(ve||le.hover||{})),ht=ve.style,delete ve.style,_e=ee(it,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},h.filterUserAttributes(_e||le.select||{})),Ae=_e.style,delete _e.style,se=ee(it,{style:{color:"#cccccc"}},h.filterUserAttributes(se||le.disabled||{})),ze=se.style,delete se.style),te(Ie.element,R?"mouseover":"mouseenter",function(){Ue!==3&&Ie.setState(1)}),te(Ie.element,R?"mouseout":"mouseleave",function(){Ue!==3&&Ie.setState(Ue)}),Ie.setState=function(je){je!==1&&(Ie.state=Ue=je),Ie.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][je||0]),ke||(Ie.attr([it,ve,_e,se][je||0]),je=[st,ht,Ae,ze][je||0],M(je)&&Ie.css(je))},ke||(Ie.attr(it).css(L({cursor:"default"},st)),ye&&Ie.text.css({pointerEvents:"none"})),Ie.on("touchstart",je=>je.stopPropagation()).on("click",function(je){Ue!==3&&Le.call(Ie,je)})}crispLine(le,ue,xe="round"){const Le=le[0],oe=le[1];return X(Le[1])&&Le[1]===oe[1]&&(Le[1]=oe[1]=Math[xe](Le[1])-ue%2/2),X(Le[2])&&Le[2]===oe[2]&&(Le[2]=oe[2]=Math[xe](Le[2])+ue%2/2),le}path(le){const ue=this.styledMode?{}:{fill:"none"};return _(le)?ue.d=le:M(le)&&L(ue,le),this.createElement("path").attr(ue)}circle(le,ue,xe){return le=M(le)?le:typeof le>"u"?{}:{x:le,y:ue,r:xe},ue=this.createElement("circle"),ue.xSetter=ue.ySetter=function(Le,oe,ve){ve.setAttribute("c"+oe,Le)},ue.attr(le)}arc(le,ue,xe,Le,oe,ve){return M(le)?(Le=le,ue=Le.y,xe=Le.r,le=Le.x):Le={innerR:Le,start:oe,end:ve},le=this.symbol("arc",le,ue,xe,xe,Le),le.r=xe,le}rect(le,ue,xe,Le,oe,ve){le=M(le)?le:typeof le>"u"?{}:{x:le,y:ue,r:oe,width:Math.max(xe||0,0),height:Math.max(Le||0,0)};const _e=this.createElement("rect");return this.styledMode||(typeof ve<"u"&&(le["stroke-width"]=ve,L(le,_e.crisp(le))),le.fill="none"),_e.rSetter=function(se,fe,ye){_e.r=se,Y(ye,{rx:se,ry:se})},_e.rGetter=function(){return _e.r||0},_e.attr(le)}roundedRect(le){return this.symbol("roundedRect").attr(le)}setSize(le,ue,xe){this.width=le,this.height=ue,this.boxWrapper.animate({width:le,height:ue},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ae(xe,!0)?void 0:0}),this.alignElements()}g(le){const ue=this.createElement("g");return le?ue.attr({class:"highcharts-"+le}):ue}image(le,ue,xe,Le,oe,ve){const _e={preserveAspectRatio:"none"},se=function(ye,Ie){ye.setAttributeNS?ye.setAttributeNS("http://www.w3.org/1999/xlink","href",Ie):ye.setAttribute("hc-svg-href",Ie)};v(ue)&&(_e.x=ue),v(xe)&&(_e.y=xe),v(Le)&&(_e.width=Le),v(oe)&&(_e.height=oe);const fe=this.createElement("image").attr(_e);return ue=function(ye){se(fe.element,le),ve.call(fe,ye)},ve?(se(fe.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),xe=new S.Image,te(xe,"load",ue),xe.src=le,xe.complete&&ue({})):se(fe.element,le),fe}symbol(le,ue,xe,Le,oe,ve){const _e=this,se=/^url\((.*?)\)$/,fe=se.test(le),ye=!fe&&(this.symbols[le]?le:"circle"),Ie=ye&&this.symbols[ye];let ke,Ue,st,it;if(Ie)typeof ue=="number"&&(Ue=Ie.call(this.symbols,Math.round(ue||0),Math.round(xe||0),Le||0,oe||0,ve)),ke=this.path(Ue),_e.styledMode||ke.attr("fill","none"),L(ke,{symbolName:ye||void 0,x:ue,y:xe,width:Le,height:oe}),ve&&L(ke,ve);else if(fe){st=le.match(se)[1];const ht=ke=this.image(st);ht.imgwidth=ae(ve&&ve.width,j[st]&&j[st].width),ht.imgheight=ae(ve&&ve.height,j[st]&&j[st].height),it=Ae=>Ae.attr({width:Ae.width,height:Ae.height}),["width","height"].forEach(function(Ae){ht[Ae+"Setter"]=function(ze,je){this[je]=ze;const{alignByTranslate:$e,element:nt,width:bt,height:jt,imgwidth:Gt,imgheight:yi}=this;if(ze=this["img"+je],X(ze)){let ri=1;ve&&ve.backgroundSize==="within"&&bt&&jt?(ri=Math.min(bt/Gt,jt/yi),Y(nt,{width:Math.round(Gt*ri),height:Math.round(yi*ri)})):nt&&nt.setAttribute(je,ze),$e||this.translate(((bt||0)-Gt*ri)/2,((jt||0)-yi*ri)/2)}}}),X(ue)&&ht.attr({x:ue,y:xe}),ht.isImg=!0,X(ht.imgwidth)&&X(ht.imgheight)?it(ht):(ht.attr({width:0,height:0}),I("img",{onload:function(){const Ae=Z[_e.chartIndex];this.width===0&&(V(this,{position:"absolute",top:"-999em"}),U.body.appendChild(this)),j[st]={width:this.width,height:this.height},ht.imgwidth=this.width,ht.imgheight=this.height,ht.element&&it(ht),this.parentNode&&this.parentNode.removeChild(this),_e.imgCount--,!_e.imgCount&&Ae&&!Ae.hasLoaded&&Ae.onload()},src:st}),this.imgCount++)}return ke}clipRect(le,ue,xe,Le){const oe=pe()+"-",ve=this.createElement("clipPath").attr({id:oe}).add(this.defs);return le=this.rect(le,ue,xe,Le,0).add(ve),le.id=oe,le.clipPath=ve,le.count=0,le}text(le,ue,xe,Le){const oe={};return Le&&(this.allowHTML||!this.forExport)?this.html(le,ue,xe):(oe.x=Math.round(ue||0),xe&&(oe.y=Math.round(xe)),X(le)&&(oe.text=le),le=this.createElement("text").attr(oe),(!Le||this.forExport&&!this.allowHTML)&&(le.xSetter=function(ve,_e,se){const fe=se.getElementsByTagName("tspan"),ye=se.getAttribute(_e);for(let Ie=0,ke;Ie<fe.length;Ie++)ke=fe[Ie],ke.getAttribute(_e)===ye&&ke.setAttribute(_e,ve);se.setAttribute(_e,ve)}),le)}fontMetrics(le){le=K(w.prototype.getStyle.call(le,"font-size")||0);const ue=24>le?le+3:Math.round(1.2*le);return{h:ue,b:Math.round(.8*ue),f:le}}rotCorr(le,ue,xe){let Le=le;return ue&&xe&&(Le=Math.max(Le*Math.cos(ue*F),4)),{x:-le/3*Math.sin(ue*F),y:Le}}pathToSegments(le){const ue=[],xe=[],Le={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let oe=0;oe<le.length;oe++)O(xe[0])&&v(le[oe])&&xe.length===Le[xe[0].toUpperCase()]&&le.splice(oe,0,xe[0].replace("M","L").replace("m","l")),typeof le[oe]=="string"&&(xe.length&&ue.push(xe.slice(0)),xe.length=0),xe.push(le[oe]);return ue.push(xe.slice(0)),ue}label(le,ue,xe,Le,oe,ve,_e,se,fe){return new z(this,le,ue,xe,Le,oe,ve,_e,se,fe)}alignElements(){this.alignedObjects.forEach(le=>le.align())}}return L(Pe.prototype,{Element:w,SVG_NS:$,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:ie,draw:N}),n.registerRendererType("svg",Pe,!0),Pe}),s(l,"Core/Renderer/HTML/HTMLElement.js",[l["Core/Globals.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(h,u,y){const{isFirefox:n,isMS:w,isWebKit:z,win:ie}=h,{css:G,defined:q,extend:Z,pick:F,pInt:U}=y,re=[];class R extends u{static compose(N){if(y.pushUnique(re,N)){const $=R.prototype,j=N.prototype;j.getSpanCorrection=$.getSpanCorrection,j.htmlCss=$.htmlCss,j.htmlGetBBox=$.htmlGetBBox,j.htmlUpdateTransform=$.htmlUpdateTransform,j.setSpanRotation=$.setSpanRotation}return N}getSpanCorrection(N,$,j){this.xCorr=-N*j,this.yCorr=-$}htmlCss(N){const $=this.element.tagName==="SPAN"&&N&&"width"in N,j=F($&&N.width,void 0);let S;return $&&(delete N.width,this.textWidth=j,S=!0),N&&N.textOverflow==="ellipsis"&&(N.whiteSpace="nowrap",N.overflow="hidden"),this.styles=Z(this.styles,N),G(this.element,N),S&&this.htmlUpdateTransform(),this}htmlGetBBox(){const N=this.element;return{x:N.offsetLeft,y:N.offsetTop,width:N.offsetWidth,height:N.offsetHeight}}htmlUpdateTransform(){if(this.added){var N=this.renderer,$=this.element,j=this.x||0,S=this.y||0,te=this.textAlign||"left",Y={left:0,center:.5,right:1}[te],I=this.styles,V=I&&I.whiteSpace;if(G($,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),$.tagName==="SPAN"){I=this.rotation;const P=this.textWidth&&U(this.textWidth),L=[I,te,$.innerHTML,this.textWidth,this.textAlign].join();let _=!1;if(P!==this.oldTextWidth){if(this.textPxLength)var X=this.textPxLength;else G($,{width:"",whiteSpace:V||"nowrap"}),X=$.offsetWidth;(P>this.oldTextWidth||X>P)&&(/[ \-]/.test($.textContent||$.innerText)||$.style.textOverflow==="ellipsis")&&(G($,{width:X>P||I?P+"px":"auto",display:"block",whiteSpace:V||"normal"}),this.oldTextWidth=P,_=!0)}this.hasBoxWidthChanged=_,L!==this.cTT&&(N=N.fontMetrics($).b,!q(I)||I===(this.oldRotation||0)&&te===this.oldAlign||this.setSpanRotation(I,Y,N),this.getSpanCorrection(!q(I)&&this.textPxLength||$.offsetWidth,N,Y,I,te)),G($,{left:j+(this.xCorr||0)+"px",top:S+(this.yCorr||0)+"px"}),this.cTT=L,this.oldRotation=I,this.oldAlign=te}}else this.alignOnAdd=!0}setSpanRotation(N,$,j){const S={},te=w&&!/Edge/.test(ie.navigator.userAgent)?"-ms-transform":z?"-webkit-transform":n?"MozTransform":ie.opera?"-o-transform":void 0;te&&(S[te]=S.transform="rotate("+N+"deg)",S[te+(n?"Origin":"-origin")]=S.transformOrigin=100*$+"% "+j+"px",G(this.element,S))}}return R}),s(l,"Core/Renderer/HTML/HTMLRenderer.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Utilities.js"]],function(h,u,y,n){const{attr:w,createElement:z,extend:ie,pick:G}=n,q=[];class Z extends y{static compose(U){return n.pushUnique(q,U)&&(U.prototype.html=Z.prototype.html),U}html(U,re,R){const D=this.createElement("span"),N=D.element,$=D.renderer,j=function(S,te){["opacity","visibility"].forEach(function(Y){S[Y+"Setter"]=function(I,V,X){const P=S.div?S.div.style:te;u.prototype[Y+"Setter"].call(this,I,V,X),P&&(P[V]=I)}}),S.addedSetters=!0};return D.textSetter=function(S){S!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,h.setElementHTML(this.element,G(S,"")),this.textStr=S,D.doTransform=!0)},j(D,D.element.style),D.xSetter=D.ySetter=D.alignSetter=D.rotationSetter=function(S,te){te==="align"?D.alignValue=D.textAlign=S:D[te]=S,D.doTransform=!0},D.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},D.attr({text:U,x:Math.round(re),y:Math.round(R)}).css({position:"absolute"}),$.styledMode||D.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),N.style.whiteSpace="nowrap",D.css=D.htmlCss,D.add=function(S){const te=$.box.parentNode,Y=[];let I;if(this.parentGroup=S){if(I=S.div,!I){for(;S;)Y.push(S),S=S.parentGroup;Y.reverse().forEach(function(V){function X(v,M){V[M]=v,M==="translateX"?_.left=v+"px":_.top=v+"px",V.doTransform=!0}const P=w(V.element,"class"),L=V.styles||{};I=V.div=V.div||z("div",P?{className:P}:void 0,{position:"absolute",left:(V.translateX||0)+"px",top:(V.translateY||0)+"px",display:V.display,opacity:V.opacity,visibility:V.visibility},I||te);const _=I.style;ie(V,{classSetter:function(v){return function(M){this.element.setAttribute("class",M),v.className=M}}(I),css:function(v){return D.css.call(V,v),["cursor","pointerEvents"].forEach(M=>{v[M]&&(_[M]=v[M])}),V},on:function(){return Y[0].div&&D.on.apply({element:Y[0].div,onEvents:V.onEvents},arguments),V},translateXSetter:X,translateYSetter:X}),V.addedSetters||j(V),V.css(L)})}}else I=te;return I.appendChild(N),D.added=!0,D.alignOnAdd&&D.htmlUpdateTransform(),D},D}}return Z}),s(l,"Core/Axis/AxisDefaults.js",[],function(){var h;return function(u){u.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},u.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:y}=this.axis.chart;return y(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},u.defaultLeftAxisOptions={title:{rotation:270}},u.defaultRightAxisOptions={title:{rotation:90}},u.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},u.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(h||(h={})),h}),s(l,"Core/Foundation.js",[l["Core/Utilities.js"]],function(h){const{addEvent:u,isFunction:y,objectEach:n,removeEvent:w}=h;var z;return function(ie){ie.registerEventOptions=function(G,q){G.eventOptions=G.eventOptions||{},n(q.events,function(Z,F){G.eventOptions[F]!==Z&&(G.eventOptions[F]&&(w(G,F,G.eventOptions[F]),delete G.eventOptions[F]),y(Z)&&(G.eventOptions[F]=Z,u(G,F,Z,{order:0})))})}}(z||(z={})),z}),s(l,"Core/Axis/Tick.js",[l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,u,y){const{deg2rad:n}=u,{clamp:w,correctFloat:z,defined:ie,destroyObjectProperties:G,extend:q,fireEvent:Z,isNumber:F,merge:U,objectEach:re,pick:R}=y;class D{constructor($,j,S,te,Y){this.isNewLabel=this.isNew=!0,this.axis=$,this.pos=j,this.type=S||"",this.parameters=Y||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Z(this,"init"),S||te||this.addLabel()}addLabel(){const $=this,j=$.axis;var S=j.options;const te=j.chart;var Y=j.categories;const I=j.logarithmic,V=j.names,X=$.pos,P=R($.options&&$.options.labels,S.labels);var L=j.tickPositions;const _=X===L[0],v=X===L[L.length-1],M=(!P.step||P.step===1)&&j.tickInterval===1;L=L.info;let O=$.label,ee,ae,K;Y=this.parameters.category||(Y?R(Y[X],V[X],X):X),I&&F(Y)&&(Y=z(I.lin2log(Y))),j.dateTime&&(L?(ae=te.time.resolveDTLFormat(S.dateTimeLabelFormats[!S.grid&&L.higherRanks[X]||L.unitName]),ee=ae.main):F(Y)&&(ee=j.dateTime.getXDateFormat(Y,S.dateTimeLabelFormats||{}))),$.isFirst=_,$.isLast=v;const pe={axis:j,chart:te,dateTimeLabelFormat:ee,isFirst:_,isLast:v,pos:X,tick:$,tickPositionInfo:L,value:Y};Z(this,"labelFormat",pe);const Me=W=>P.formatter?P.formatter.call(W,W):P.format?(W.text=j.defaultLabelFormatter.call(W,W),h.format(P.format,W,te)):j.defaultLabelFormatter.call(W,W);S=Me.call(pe,pe);const Pe=ae&&ae.list;$.shortenLabel=Pe?function(){for(K=0;K<Pe.length;K++)if(q(pe,{dateTimeLabelFormat:Pe[K]}),O.attr({text:Me.call(pe,pe)}),O.getBBox().width<j.getSlotWidth($)-2*P.padding)return;O.attr({text:""})}:void 0,M&&j._addedPlotLB&&$.moveLabel(S,P),ie(O)||$.movedLabel?O&&O.textStr!==S&&!M&&(!O.textWidth||P.style.width||O.styles.width||O.css({width:null}),O.attr({text:S}),O.textPxLength=O.getBBox().width):($.label=O=$.createLabel({x:0,y:0},S,P),$.rotation=0)}createLabel($,j,S){const te=this.axis,Y=te.chart;return($=ie(j)&&S.enabled?Y.renderer.text(j,$.x,$.y,S.useHTML).add(te.labelGroup):null)&&(Y.styledMode||$.css(U(S.style)),$.textPxLength=$.getBBox().width),$}destroy(){G(this,this.axis)}getPosition($,j,S,te){const Y=this.axis,I=Y.chart,V=te&&I.oldChartHeight||I.chartHeight;return $={x:$?z(Y.translate(j+S,void 0,void 0,te)+Y.transB):Y.left+Y.offset+(Y.opposite?(te&&I.oldChartWidth||I.chartWidth)-Y.right-Y.left:0),y:$?V-Y.bottom+Y.offset-(Y.opposite?Y.height:0):z(V-Y.translate(j+S,void 0,void 0,te)-Y.transB)},$.y=w($.y,-1e5,1e5),Z(this,"afterGetPosition",{pos:$}),$}getLabelPosition($,j,S,te,Y,I,V,X){const P=this.axis,L=P.transA,_=P.isLinked&&P.linkedParent?P.linkedParent.reversed:P.reversed,v=P.staggerLines,M=P.tickRotCorr||{x:0,y:0},O=te||P.reserveSpaceDefault?0:-P.labelOffset*(P.labelAlign==="center"?.5:1),ee=Y.distance,ae={};return S=P.side===0?S.rotation?-ee:-S.getBBox().height:P.side===2?M.y+ee:Math.cos(S.rotation*n)*(M.y-S.getBBox(!1,0).height/2),ie(Y.y)&&(S=P.side===0&&P.horiz?Y.y+S:Y.y),$=$+R(Y.x,[0,1,0,-1][P.side]*ee)+O+M.x-(I&&te?I*L*(_?-1:1):0),j=j+S-(I&&!te?I*L*(_?1:-1):0),v&&(te=V/(X||1)%v,P.opposite&&(te=v-te-1),j+=P.labelOffset/v*te),ae.x=$,ae.y=Math.round(j),Z(this,"afterGetLabelPosition",{pos:ae,tickmarkOffset:I,index:V}),ae}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath($,j,S,te,Y,I){return I.crispLine([["M",$,j],["L",$+(Y?0:-S),j+(Y?S:0)]],te)}handleOverflow($){const j=this.axis,S=j.options.labels,te=$.x;var Y=j.chart.chartWidth,I=j.chart.spacing;const V=R(j.labelLeft,Math.min(j.pos,I[3]));I=R(j.labelRight,Math.max(j.isRadial?0:j.pos+j.len,Y-I[1]));const X=this.label,P=this.rotation,L={left:0,center:.5,right:1}[j.labelAlign||X.attr("align")],_=X.getBBox().width,v=j.getSlotWidth(this),M={};let O=v,ee=1,ae;P||S.overflow!=="justify"?0>P&&te-L*_<V?ae=Math.round(te/Math.cos(P*n)-V):0<P&&te+L*_>I&&(ae=Math.round((Y-te)/Math.cos(P*n))):(Y=te+(1-L)*_,te-L*_<V?O=$.x+O*(1-L)-V:Y>I&&(O=I-$.x+O*L,ee=-1),O=Math.min(v,O),O<v&&j.labelAlign==="center"&&($.x+=ee*(v-O-L*(v-Math.min(_,O)))),(_>O||j.autoRotation&&(X.styles||{}).width)&&(ae=O)),ae&&(this.shortenLabel?this.shortenLabel():(M.width=Math.floor(ae)+"px",(S.style||{}).textOverflow||(M.textOverflow="ellipsis"),X.css(M)))}moveLabel($,j){const S=this;var te=S.label;const Y=S.axis;let I=!1;te&&te.textStr===$?(S.movedLabel=te,I=!0,delete S.label):re(Y.ticks,function(V){I||V.isNew||V===S||!V.label||V.label.textStr!==$||(S.movedLabel=V.label,I=!0,V.labelPos=S.movedLabel.xy,delete V.label)}),I||!S.labelPos&&!te||(te=S.labelPos||te.xy,S.movedLabel=S.createLabel(te,$,j),S.movedLabel&&S.movedLabel.attr({opacity:0}))}render($,j,S){var te=this.axis,Y=te.horiz,I=this.pos,V=R(this.tickmarkOffset,te.tickmarkOffset);I=this.getPosition(Y,I,V,j),V=I.x;const X=I.y;te=Y&&V===te.pos+te.len||!Y&&X===te.pos?-1:1,Y=R(S,this.label&&this.label.newOpacity,1),S=R(S,1),this.isActive=!0,this.renderGridLine(j,S,te),this.renderMark(I,S,te),this.renderLabel(I,j,Y,$),this.isNew=!1,Z(this,"afterRender")}renderGridLine($,j,S){const te=this.axis,Y=te.options,I={},V=this.pos,X=this.type,P=R(this.tickmarkOffset,te.tickmarkOffset),L=te.chart.renderer;let _=this.gridLine,v=Y.gridLineWidth,M=Y.gridLineColor,O=Y.gridLineDashStyle;this.type==="minor"&&(v=Y.minorGridLineWidth,M=Y.minorGridLineColor,O=Y.minorGridLineDashStyle),_||(te.chart.styledMode||(I.stroke=M,I["stroke-width"]=v||0,I.dashstyle=O),X||(I.zIndex=1),$&&(j=0),this.gridLine=_=L.path().attr(I).addClass("highcharts-"+(X?X+"-":"")+"grid-line").add(te.gridGroup)),_&&(S=te.getPlotLinePath({value:V+P,lineWidth:_.strokeWidth()*S,force:"pass",old:$,acrossPanes:!1}))&&_[$||this.isNew?"attr":"animate"]({d:S,opacity:j})}renderMark($,j,S){const te=this.axis;var Y=te.options;const I=te.chart.renderer,V=this.type,X=te.tickSize(V?V+"Tick":"tick"),P=$.x;$=$.y;const L=R(Y[V!=="minor"?"tickWidth":"minorTickWidth"],!V&&te.isXAxis?1:0);Y=Y[V!=="minor"?"tickColor":"minorTickColor"];let _=this.mark;const v=!_;X&&(te.opposite&&(X[0]=-X[0]),_||(this.mark=_=I.path().addClass("highcharts-"+(V?V+"-":"")+"tick").add(te.axisGroup),te.chart.styledMode||_.attr({stroke:Y,"stroke-width":L})),_[v?"attr":"animate"]({d:this.getMarkPath(P,$,X[0],_.strokeWidth()*S,te.horiz,I),opacity:j}))}renderLabel($,j,S,te){var Y=this.axis;const I=Y.horiz,V=Y.options,X=this.label,P=V.labels,L=P.step;Y=R(this.tickmarkOffset,Y.tickmarkOffset);const _=$.x;$=$.y;let v=!0;X&&F(_)&&(X.xy=$=this.getLabelPosition(_,$,X,I,P,Y,te,L),this.isFirst&&!this.isLast&&!V.showFirstLabel||this.isLast&&!this.isFirst&&!V.showLastLabel?v=!1:!I||P.step||P.rotation||j||S===0||this.handleOverflow($),L&&te%L&&(v=!1),v&&F($.y)?($.opacity=S,X[this.isNewLabel?"attr":"animate"]($).show(!0),this.isNewLabel=!1):(X.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const $=this.label,j=this.axis;$&&!this.isNew&&($.animate({opacity:0},void 0,$.destroy),delete this.label),j.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return D}),s(l,"Core/Axis/Axis.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/AxisDefaults.js"],l["Core/Color/Color.js"],l["Core/Defaults.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Axis/Tick.js"],l["Core/Utilities.js"]],function(h,u,y,n,w,z,ie,G){const{animObject:q}=h,{defaultOptions:Z}=n,{registerEventOptions:F}=w,{deg2rad:U}=z,{arrayMax:re,arrayMin:R,clamp:D,correctFloat:N,defined:$,destroyObjectProperties:j,erase:S,error:te,extend:Y,fireEvent:I,isArray:V,isNumber:X,isString:P,merge:L,normalizeTickInterval:_,objectEach:v,pick:M,relativeLength:O,removeEvent:ee,splat:ae,syncTimeout:K}=G,pe=(Pe,W)=>_(W,void 0,void 0,M(Pe.options.allowDecimals,.5>W||Pe.tickAmount!==void 0),!!Pe.tickAmount);class Me{constructor(W,le){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(W,le)}init(W,le){const ue=le.isX;this.chart=W,this.horiz=W.inverted&&!this.isZAxis?!ue:ue,this.isXAxis=ue,this.coll=this.coll||(ue?"xAxis":"yAxis"),I(this,"init",{userOptions:le}),this.opposite=M(le.opposite,this.opposite),this.side=M(le.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(le);const xe=this.options,Le=xe.labels,oe=xe.type;this.userOptions=le,this.minPixelPadding=0,this.reversed=M(xe.reversed,this.reversed),this.visible=xe.visible,this.zoomEnabled=xe.zoomEnabled,this.hasNames=oe==="category"||xe.categories===!0,this.categories=xe.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=$(xe.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=xe.minRange||xe.maxZoom,this.range=xe.range,this.offset=xe.offset||0,this.min=this.max=null,le=M(xe.crosshair,ae(W.options.tooltip.crosshairs)[ue?0:1]),this.crosshair=le===!0?{}:le,W.axes.indexOf(this)===-1&&(ue?W.axes.splice(W.xAxis.length,0,this):W.axes.push(this),W[this.coll].push(this)),this.series=this.series||[],W.inverted&&!this.isZAxis&&ue&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=X(Le.rotation)?Le.rotation:void 0,F(this,xe),I(this,"afterInit")}setOptions(W){this.options=L(u.defaultXAxisOptions,this.coll==="yAxis"&&u.defaultYAxisOptions,[u.defaultTopAxisOptions,u.defaultRightAxisOptions,u.defaultBottomAxisOptions,u.defaultLeftAxisOptions][this.side],L(Z[this.coll],W)),I(this,"afterSetOptions",{userOptions:W})}defaultLabelFormatter(W){var le=this.axis;({numberFormatter:W}=this.chart);const ue=X(this.value)?this.value:NaN,xe=le.chart.time,Le=this.dateTimeLabelFormat;var oe=Z.lang;const ve=oe.numericSymbols;oe=oe.numericSymbolMagnitude||1e3;const _e=le.logarithmic?Math.abs(ue):le.tickInterval;let se=ve&&ve.length,fe;if(le.categories)fe=`${this.value}`;else if(Le)fe=xe.dateFormat(Le,ue);else if(se&&1e3<=_e)for(;se--&&typeof fe>"u";)le=Math.pow(oe,se+1),_e>=le&&10*ue%le===0&&ve[se]!==null&&ue!==0&&(fe=W(ue/le,-1)+ve[se]);return typeof fe>"u"&&(fe=1e4<=Math.abs(ue)?W(ue,-1):W(ue,-1,void 0,"")),fe}getSeriesExtremes(){const W=this,le=W.chart;let ue;I(this,"getSeriesExtremes",null,function(){W.hasVisibleSeries=!1,W.dataMin=W.dataMax=W.threshold=null,W.softThreshold=!W.isXAxis,W.series.forEach(function(xe){if(xe.visible||!le.options.chart.ignoreHiddenSeries){var Le=xe.options;let oe=Le.threshold,ve,_e;W.hasVisibleSeries=!0,W.positiveValuesOnly&&0>=oe&&(oe=null),W.isXAxis?(Le=xe.xData)&&Le.length&&(Le=W.logarithmic?Le.filter(se=>0<se):Le,ue=xe.getXExtremes(Le),ve=ue.min,_e=ue.max,X(ve)||ve instanceof Date||(Le=Le.filter(X),ue=xe.getXExtremes(Le),ve=ue.min,_e=ue.max),Le.length&&(W.dataMin=Math.min(M(W.dataMin,ve),ve),W.dataMax=Math.max(M(W.dataMax,_e),_e))):(xe=xe.applyExtremes(),X(xe.dataMin)&&(ve=xe.dataMin,W.dataMin=Math.min(M(W.dataMin,ve),ve)),X(xe.dataMax)&&(_e=xe.dataMax,W.dataMax=Math.max(M(W.dataMax,_e),_e)),$(oe)&&(W.threshold=oe),(!Le.softThreshold||W.positiveValuesOnly)&&(W.softThreshold=!1))}})}),I(this,"afterGetSeriesExtremes")}translate(W,le,ue,xe,Le,oe){const ve=this.linkedParent||this,_e=xe&&ve.old?ve.old.min:ve.min;if(!X(_e))return NaN;const se=ve.minPixelPadding;Le=(ve.isOrdinal||ve.brokenAxis&&ve.brokenAxis.hasBreaks||ve.logarithmic&&Le)&&ve.lin2val;let fe=1,ye=0;return xe=xe&&ve.old?ve.old.transA:ve.transA,xe||(xe=ve.transA),ue&&(fe*=-1,ye=ve.len),ve.reversed&&(fe*=-1,ye-=fe*(ve.sector||ve.len)),le?(oe=(W*fe+ye-se)/xe+_e,Le&&(oe=ve.lin2val(oe))):(Le&&(W=ve.val2lin(W)),W=fe*(W-_e)*xe,oe=(ve.isRadial?W:N(W))+ye+fe*se+(X(oe)?xe*oe:0)),oe}toPixels(W,le){return this.translate(W,!1,!this.horiz,void 0,!0)+(le?0:this.pos)}toValue(W,le){return this.translate(W-(le?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(W){function le(je,$e,nt){return Ue!=="pass"&&(je<$e||je>nt)&&(Ue?je=D(je,$e,nt):ze=!0),je}const ue=this,xe=ue.chart,Le=ue.left,oe=ue.top,ve=W.old,_e=W.value,se=W.lineWidth,fe=ve&&xe.oldChartHeight||xe.chartHeight,ye=ve&&xe.oldChartWidth||xe.chartWidth,Ie=ue.transB;let ke=W.translatedValue,Ue=W.force,st,it,ht,Ae,ze;return W={value:_e,lineWidth:se,old:ve,force:Ue,acrossPanes:W.acrossPanes,translatedValue:ke},I(this,"getPlotLinePath",W,function(je){ke=M(ke,ue.translate(_e,void 0,void 0,ve)),ke=D(ke,-1e5,1e5),st=ht=Math.round(ke+Ie),it=Ae=Math.round(fe-ke-Ie),X(ke)?ue.horiz?(it=oe,Ae=fe-ue.bottom,st=ht=le(st,Le,Le+ue.width)):(st=Le,ht=ye-ue.right,it=Ae=le(it,oe,oe+ue.height)):(ze=!0,Ue=!1),je.path=ze&&!Ue?null:xe.renderer.crispLine([["M",st,it],["L",ht,Ae]],se||1)}),W.path}getLinearTickPositions(W,le,ue){const xe=N(Math.floor(le/W)*W);ue=N(Math.ceil(ue/W)*W);const Le=[];let oe,ve;if(N(xe+W)===xe&&(ve=20),this.single)return[le];for(le=xe;le<=ue&&(Le.push(le),le=N(le+W,ve),le!==oe);)oe=le;return Le}getMinorTickInterval(){const W=this.options;return W.minorTicks===!0?M(W.minorTickInterval,"auto"):W.minorTicks===!1?null:W.minorTickInterval}getMinorTickPositions(){var W=this.options;const le=this.tickPositions,ue=this.minorTickInterval;var xe=this.pointRangePadding||0;const Le=this.min-xe;xe=this.max+xe;const oe=xe-Le;let ve=[];if(oe&&oe/ue<this.len/3){const _e=this.logarithmic;if(_e)this.paddedTicks.forEach(function(se,fe,ye){fe&&ve.push.apply(ve,_e.getLogTickPositions(ue,ye[fe-1],ye[fe],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ve=ve.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(ue),Le,xe,W.startOfWeek));else for(W=Le+(le[0]-Le)%ue;W<=xe&&W!==ve[0];W+=ue)ve.push(W)}return ve.length!==0&&this.trimTicks(ve),ve}adjustForMinRange(){const W=this.options,le=this.logarithmic;let ue=this.min;var xe=this.max;let Le,oe=0,ve,_e,se,fe,ye;if(this.isXAxis&&typeof this.minRange>"u"&&!le&&($(W.min)||$(W.max)||$(W.floor)||$(W.ceiling)?this.minRange=null:(this.series.forEach(function(ke){if(se=ke.xData,fe=ke.xIncrement?1:se.length-1,1<se.length)for(ve=fe;0<ve;ve--)_e=se[ve]-se[ve-1],(!oe||_e<oe)&&(oe=_e)}),this.minRange=Math.min(5*oe,this.dataMax-this.dataMin))),xe-ue<this.minRange){Le=this.dataMax-this.dataMin>=this.minRange,ye=this.minRange;var Ie=(ye-xe+ue)/2;Ie=[ue-Ie,M(W.min,ue-Ie)],Le&&(Ie[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),ue=re(Ie),xe=[ue+ye,M(W.max,ue+ye)],Le&&(xe[2]=le?le.log2lin(this.dataMax):this.dataMax),xe=R(xe),xe-ue<ye&&(Ie[0]=xe-ye,Ie[1]=M(W.min,xe-ye),ue=re(Ie))}this.min=ue,this.max=xe}getClosest(){let W;return this.categories?W=1:this.series.forEach(function(le){const ue=le.closestPointRange,xe=le.visible||!le.chart.options.chart.ignoreHiddenSeries;!le.noSharedTooltip&&$(ue)&&xe&&(W=$(W)?Math.min(W,ue):ue)}),W}nameToX(W){const le=V(this.options.categories),ue=le?this.categories:this.names;let xe=W.options.x,Le;return W.series.requireSorting=!1,$(xe)||(xe=this.options.uniqueNames&&ue?le?ue.indexOf(W.name):M(ue.keys[W.name],-1):W.series.autoIncrement()),xe===-1?!le&&ue&&(Le=ue.length):Le=xe,typeof Le<"u"?(this.names[Le]=W.name,this.names.keys[W.name]=Le):W.x&&(Le=W.x),Le}updateNames(){const W=this,le=this.names;0<le.length&&(Object.keys(le.keys).forEach(function(ue){delete le.keys[ue]}),le.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(ue){ue.xIncrement=null,(!ue.points||ue.isDirtyData)&&(W.max=Math.max(W.max,ue.xData.length-1),ue.processData(),ue.generatePoints()),ue.data.forEach(function(xe,Le){let oe;xe&&xe.options&&typeof xe.name<"u"&&(oe=W.nameToX(xe),typeof oe<"u"&&oe!==xe.x&&(xe.x=oe,ue.xData[Le]=oe))})}))}setAxisTranslation(){const W=this,le=W.max-W.min;var ue=W.linkedParent;const xe=!!W.categories,Le=W.isXAxis;let oe=W.axisPointRange||0,ve,_e=0,se=0,fe=W.transA;(Le||xe||oe)&&(ve=W.getClosest(),ue?(_e=ue.minPointOffset,se=ue.pointRangePadding):W.series.forEach(function(ye){const Ie=xe?1:Le?M(ye.options.pointRange,ve,0):W.axisPointRange||0,ke=ye.options.pointPlacement;oe=Math.max(oe,Ie),(!W.single||xe)&&(ye=ye.is("xrange")?!Le:Le,_e=Math.max(_e,ye&&P(ke)?0:Ie/2),se=Math.max(se,ye&&ke==="on"?0:Ie))}),ue=W.ordinal&&W.ordinal.slope&&ve?W.ordinal.slope/ve:1,W.minPointOffset=_e*=ue,W.pointRangePadding=se*=ue,W.pointRange=Math.min(oe,W.single&&xe?1:le),Le&&(W.closestPointRange=ve)),W.translationSlope=W.transA=fe=W.staticScale||W.len/(le+se||1),W.transB=W.horiz?W.left:W.bottom,W.minPixelPadding=fe*_e,I(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(W){var le=this.chart;const ue=this.logarithmic,xe=this.options,Le=this.isXAxis,oe=this.isLinked,ve=xe.tickPixelInterval,_e=this.categories,se=this.softThreshold;let fe=xe.maxPadding,ye=xe.minPadding,Ie=X(xe.tickInterval)&&0<=xe.tickInterval?xe.tickInterval:void 0,ke=X(this.threshold)?this.threshold:null,Ue,st,it;if(this.dateTime||_e||oe||this.getTickAmount(),st=M(this.userMin,xe.min),it=M(this.userMax,xe.max),oe){this.linkedParent=le[this.coll][xe.linkedTo];var ht=this.linkedParent.getExtremes();this.min=M(ht.min,ht.dataMin),this.max=M(ht.max,ht.dataMax),xe.type!==this.linkedParent.options.type&&te(11,1,le)}else se&&$(ke)&&(this.dataMin>=ke?(ht=ke,ye=0):this.dataMax<=ke&&(Ue=ke,fe=0)),this.min=M(st,ht,this.dataMin),this.max=M(it,Ue,this.dataMax);if(ue&&(this.positiveValuesOnly&&!W&&0>=Math.min(this.min,M(this.dataMin,this.min))&&te(10,1,le),this.min=N(ue.log2lin(this.min),16),this.max=N(ue.log2lin(this.max),16)),this.range&&$(this.max)&&(this.userMin=this.min=st=Math.max(this.dataMin,this.minFromRange()),this.userMax=it=this.max,this.range=null),I(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(_e||this.axisPointRange||this.stacking&&this.stacking.usePercentage||oe)&&$(this.min)&&$(this.max)&&(le=this.max-this.min)&&(!$(st)&&ye&&(this.min-=le*ye),!$(it)&&fe&&(this.max+=le*fe)),X(this.userMin)||(X(xe.softMin)&&xe.softMin<this.min&&(this.min=st=xe.softMin),X(xe.floor)&&(this.min=Math.max(this.min,xe.floor))),X(this.userMax)||(X(xe.softMax)&&xe.softMax>this.max&&(this.max=it=xe.softMax),X(xe.ceiling)&&(this.max=Math.min(this.max,xe.ceiling))),se&&$(this.dataMin)&&(ke=ke||0,!$(st)&&this.min<ke&&this.dataMin>=ke?this.min=this.options.minRange?Math.min(ke,this.max-this.minRange):ke:!$(it)&&this.max>ke&&this.dataMax<=ke&&(this.max=this.options.minRange?Math.max(ke,this.min+this.minRange):ke)),X(this.min)&&X(this.max)&&!this.chart.polar&&this.min>this.max&&($(this.options.min)?this.max=this.min:$(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:oe&&this.linkedParent&&!Ie&&ve===this.linkedParent.options.tickPixelInterval?Ie=this.linkedParent.tickInterval:M(Ie,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,_e?1:(this.max-this.min)*ve/Math.max(this.len,ve)),Le&&!W){const Ae=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(ze){ze.forceCrop=ze.forceCropping&&ze.forceCropping(),ze.processData(Ae)}),I(this,"postProcessData",{hasExtremesChanged:Ae})}this.setAxisTranslation(),I(this,"initialAxisTranslation"),this.pointRange&&!Ie&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),W=M(xe.minTickInterval,this.dateTime&&!this.series.some(Ae=>Ae.noSharedTooltip)?this.closestPointRange:0),!Ie&&this.tickInterval<W&&(this.tickInterval=W),this.dateTime||this.logarithmic||Ie||(this.tickInterval=pe(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var W=this.options;const le=W.tickPositions,ue=W.tickPositioner;var xe=this.getMinorTickInterval(),Le=this.hasVerticalPanning(),oe=this.coll==="colorAxis";const ve=(oe||!Le)&&W.startOnTick;Le=(oe||!Le)&&W.endOnTick,oe=[];let _e;if(this.tickmarkOffset=this.categories&&W.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=xe==="auto"&&this.tickInterval?this.tickInterval/W.minorTicksPerMajor:xe,this.single=this.min===this.max&&$(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||W.allowDecimals!==!1),le)oe=le.slice();else if(X(this.min)&&X(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)oe=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,W.units),this.min,this.max,W.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)oe=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(xe=W=this.tickInterval;xe<=2*W&&(oe=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&oe.length>this.tickAmount);)this.tickInterval=pe(this,xe*=1.1);else oe=[this.min,this.max],te(19,!1,this.chart);oe.length>this.len&&(oe=[oe[0],oe[oe.length-1]],oe[0]===oe[1]&&(oe.length=1)),ue&&(this.tickPositions=oe,(_e=ue.apply(this,[this.min,this.max]))&&(oe=_e))}this.tickPositions=oe,this.paddedTicks=oe.slice(0),this.trimTicks(oe,ve,Le),!this.isLinked&&X(this.min)&&X(this.max)&&(this.single&&2>oe.length&&!this.categories&&!this.series.some(se=>se.is("heatmap")&&se.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),le||_e||this.adjustTickAmount()),I(this,"afterSetTickPositions")}trimTicks(W,le,ue){const xe=W[0],Le=W[W.length-1],oe=!this.isOrdinal&&this.minPointOffset||0;if(I(this,"trimTicks"),!this.isLinked){if(le&&xe!==-1/0)this.min=xe;else for(;this.min-oe>W[0];)W.shift();if(ue)this.max=Le;else for(;this.max+oe<W[W.length-1];)W.pop();W.length===0&&$(xe)&&!this.options.tickPositions&&W.push((Le+xe)/2)}}alignToOthers(){const W=this,le=[this],ue=W.options,xe=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Le=[];let oe;if(W.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&ue.alignTicks||xe)&&ue.startOnTick!==!1&&ue.endOnTick!==!1&&!W.logarithmic){const ve=se=>{const{horiz:fe,options:ye}=se;return[fe?ye.left:ye.top,ye.width,ye.height,ye.pane].join()},_e=ve(this);this.chart[this.coll].forEach(function(se){const{series:fe}=se;fe.length&&fe.some(ye=>ye.visible)&&se!==W&&ve(se)===_e&&(oe=!0,le.push(se))})}if(oe&&xe){le.forEach(_e=>{_e=_e.getThresholdAlignment(W),X(_e)&&Le.push(_e)});const ve=1<Le.length?Le.reduce((_e,se)=>_e+se,0)/Le.length:void 0;le.forEach(_e=>{_e.thresholdAlignment=ve})}return oe}getThresholdAlignment(W){if((!X(this.dataMin)||this!==W&&this.series.some(le=>le.isDirty||le.isDirtyData))&&this.getSeriesExtremes(),X(this.threshold))return W=D((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(W=1-W),W}getTickAmount(){const W=this.options,le=W.tickPixelInterval;let ue=W.tickAmount;!$(W.tickInterval)&&!ue&&this.len<le&&!this.isRadial&&!this.logarithmic&&W.startOnTick&&W.endOnTick&&(ue=2),!ue&&this.alignToOthers()&&(ue=Math.ceil(this.len/le)+1),4>ue&&(this.finalTickAmt=ue,ue=5),this.tickAmount=ue}adjustTickAmount(){const W=this,{finalTickAmt:le,max:ue,min:xe,options:Le,tickPositions:oe,tickAmount:ve,thresholdAlignment:_e}=W,se=oe&&oe.length;var fe=M(W.threshold,W.softThreshold?0:null),ye=W.tickInterval;let Ie;if(X(_e)&&(Ie=.5>_e?Math.ceil(_e*(ve-1)):Math.floor(_e*(ve-1)),Le.reversed&&(Ie=ve-1-Ie)),W.hasData()&&X(xe)&&X(ue)){const ke=()=>{W.transA*=(se-1)/(ve-1),W.min=Le.startOnTick?oe[0]:Math.min(xe,oe[0]),W.max=Le.endOnTick?oe[oe.length-1]:Math.max(ue,oe[oe.length-1])};if(X(Ie)&&X(W.threshold)){for(;oe[Ie]!==fe||oe.length!==ve||oe[0]>xe||oe[oe.length-1]<ue;){for(oe.length=0,oe.push(W.threshold);oe.length<ve;)oe[Ie]===void 0||oe[Ie]>W.threshold?oe.unshift(N(oe[0]-ye)):oe.push(N(oe[oe.length-1]+ye));if(ye>8*W.tickInterval)break;ye*=2}ke()}else if(se<ve){for(;oe.length<ve;)oe.length%2||xe===fe?oe.push(N(oe[oe.length-1]+ye)):oe.unshift(N(oe[0]-ye));ke()}if($(le)){for(ye=fe=oe.length;ye--;)(le===3&&ye%2===1||2>=le&&0<ye&&ye<fe-1)&&oe.splice(ye,1);W.finalTickAmt=void 0}}}setScale(){let W=!1,le=!1;this.series.forEach(function(xe){W=W||xe.isDirtyData||xe.isDirty,le=le||xe.xAxis&&xe.xAxis.isDirty||!1}),this.setAxisSize();const ue=this.len!==(this.old&&this.old.len);ue||W||le||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=ue||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),W&&this.panningState&&(this.panningState.isDirty=!0),I(this,"afterSetScale")}setExtremes(W,le,ue,xe,Le){const oe=this,ve=oe.chart;ue=M(ue,!0),oe.series.forEach(function(_e){delete _e.kdTree}),Le=Y(Le,{min:W,max:le}),I(oe,"setExtremes",Le,function(){oe.userMin=W,oe.userMax=le,oe.eventArgs=Le,ue&&ve.redraw(xe)})}zoom(W,le){const ue=this,xe=this.dataMin,Le=this.dataMax,oe=this.options,ve=Math.min(xe,M(oe.min,xe)),_e=Math.max(Le,M(oe.max,Le));return W={newMin:W,newMax:le},I(this,"zoom",W,function(se){let fe=se.newMin,ye=se.newMax;(fe!==ue.min||ye!==ue.max)&&(ue.allowZoomOutside||($(xe)&&(fe<ve&&(fe=ve),fe>_e&&(fe=_e)),$(Le)&&(ye<ve&&(ye=ve),ye>_e&&(ye=_e))),ue.displayBtn=typeof fe<"u"||typeof ye<"u",ue.setExtremes(fe,ye,!1,void 0,{trigger:"zoom"})),se.zoomed=!0}),W.zoomed}setAxisSize(){const W=this.chart;var le=this.options;const ue=le.offsets||[0,0,0,0],xe=this.horiz,Le=this.width=Math.round(O(M(le.width,W.plotWidth-ue[3]+ue[1]),W.plotWidth)),oe=this.height=Math.round(O(M(le.height,W.plotHeight-ue[0]+ue[2]),W.plotHeight)),ve=this.top=Math.round(O(M(le.top,W.plotTop+ue[0]),W.plotHeight,W.plotTop));le=this.left=Math.round(O(M(le.left,W.plotLeft+ue[3]),W.plotWidth,W.plotLeft)),this.bottom=W.chartHeight-oe-ve,this.right=W.chartWidth-Le-le,this.len=Math.max(xe?Le:oe,0),this.pos=xe?le:ve}getExtremes(){const W=this.logarithmic;return{min:W?N(W.lin2log(this.min)):this.min,max:W?N(W.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(W){var le=this.logarithmic;const ue=le?le.lin2log(this.min):this.min;return le=le?le.lin2log(this.max):this.max,W===null||W===-1/0?W=ue:W===1/0?W=le:ue>W?W=ue:le<W&&(W=le),this.translate(W,0,1,0,1)}autoLabelAlign(W){const le=(M(W,0)-90*this.side+720)%360;return W={align:"center"},I(this,"autoLabelAlign",W,function(ue){15<le&&165>le?ue.align="right":195<le&&345>le&&(ue.align="left")}),W.align}tickSize(W){const le=this.options,ue=M(le[W==="tick"?"tickWidth":"minorTickWidth"],W==="tick"&&this.isXAxis&&!this.categories?1:0);let xe=le[W==="tick"?"tickLength":"minorTickLength"],Le;return ue&&xe&&(le[W+"Position"]==="inside"&&(xe=-xe),Le=[xe,ue]),W={tickSize:Le},I(this,"afterTickSize",W),W.tickSize}labelMetrics(){const W=this.chart.renderer;var le=this.ticks;return le=le[Object.keys(le)[0]]||{},this.chart.renderer.fontMetrics(le.label||le.movedLabel||W.box)}unsquish(){const W=this.options.labels;var le=this.horiz;const ue=this.tickInterval,xe=this.len/(((this.categories?1:0)+this.max-this.min)/ue),Le=W.rotation,oe=.75*this.labelMetrics().h,ve=Math.max(this.max-this.min,0),_e=function(ke){let Ue=ke/(xe||1);return Ue=1<Ue?Math.ceil(Ue):1,Ue*ue>ve&&ke!==1/0&&xe!==1/0&&ve&&(Ue=Math.ceil(ve/ue)),N(Ue*ue)};let se=ue,fe,ye=Number.MAX_VALUE,Ie;if(le){if(W.staggerLines||(X(Le)?Ie=[Le]:xe<W.autoRotationLimit&&(Ie=W.autoRotation)),Ie){let ke;for(const Ue of Ie)(Ue===Le||Ue&&-90<=Ue&&90>=Ue)&&(le=_e(Math.abs(oe/Math.sin(U*Ue))),ke=le+Math.abs(Ue/360),ke<ye&&(ye=ke,fe=Ue,se=le))}}else se=_e(oe);return this.autoRotation=Ie,this.labelRotation=M(fe,X(Le)?Le:0),W.step?ue:se}getSlotWidth(W){const le=this.chart,ue=this.horiz,xe=this.options.labels,Le=Math.max(this.tickPositions.length-(this.categories?0:1),1),oe=le.margin[3];if(W&&X(W.slotWidth))return W.slotWidth;if(ue&&2>xe.step)return xe.rotation?0:(this.staggerLines||1)*this.len/Le;if(!ue){if(W=xe.style.width,W!==void 0)return parseInt(String(W),10);if(oe)return oe-le.spacing[3]}return .33*le.chartWidth}renderUnsquish(){const W=this.chart,le=W.renderer,ue=this.tickPositions,xe=this.ticks,Le=this.options.labels,oe=Le.style,ve=this.horiz,_e=this.getSlotWidth();var se=Math.max(1,Math.round(_e-2*Le.padding));const fe={},ye=this.labelMetrics(),Ie=oe.textOverflow;let ke,Ue,st=0;if(P(Le.rotation)||(fe.rotation=Le.rotation||0),ue.forEach(function(ht){ht=xe[ht],ht.movedLabel&&ht.replaceMovedLabel(),ht&&ht.label&&ht.label.textPxLength>st&&(st=ht.label.textPxLength)}),this.maxLabelLength=st,this.autoRotation)st>se&&st>ye.h?fe.rotation=this.labelRotation:this.labelRotation=0;else if(_e&&(ke=se,!Ie))for(Ue="clip",se=ue.length;!ve&&se--;){var it=ue[se];(it=xe[it].label)&&(it.styles&&it.styles.textOverflow==="ellipsis"?it.css({textOverflow:"clip"}):it.textPxLength>_e&&it.css({width:_e+"px"}),it.getBBox().height>this.len/ue.length-(ye.h-ye.f)&&(it.specificTextOverflow="ellipsis"))}fe.rotation&&(ke=st>.5*W.chartHeight?.33*W.chartHeight:st,Ie||(Ue="ellipsis")),(this.labelAlign=Le.align||this.autoLabelAlign(this.labelRotation))&&(fe.align=this.labelAlign),ue.forEach(function(ht){const Ae=(ht=xe[ht])&&ht.label,ze=oe.width,je={};Ae&&(Ae.attr(fe),ht.shortenLabel?ht.shortenLabel():ke&&!ze&&oe.whiteSpace!=="nowrap"&&(ke<Ae.textPxLength||Ae.element.tagName==="SPAN")?(je.width=ke+"px",Ie||(je.textOverflow=Ae.specificTextOverflow||Ue),Ae.css(je)):Ae.styles&&Ae.styles.width&&!je.width&&!ze&&Ae.css({width:null}),delete Ae.specificTextOverflow,ht.rotation=fe.rotation)},this),this.tickRotCorr=le.rotCorr(ye.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(W){return W.hasData()})||this.options.showEmpty&&$(this.min)&&$(this.max)}addTitle(W){const le=this.chart.renderer,ue=this.horiz,xe=this.opposite,Le=this.options.title,oe=this.chart.styledMode;let ve;this.axisTitle||((ve=Le.textAlign)||(ve=(ue?{low:"left",middle:"center",high:"right"}:{low:xe?"right":"left",middle:"center",high:xe?"left":"right"})[Le.align]),this.axisTitle=le.text(Le.text||"",0,0,Le.useHTML).attr({zIndex:7,rotation:Le.rotation,align:ve}).addClass("highcharts-axis-title"),oe||this.axisTitle.css(L(Le.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),oe||Le.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[W?"show":"hide"](W)}generateTick(W){const le=this.ticks;le[W]?le[W].addLabel():le[W]=new ie(this,W)}getOffset(){const W=this,{chart:le,horiz:ue,options:xe,side:Le,ticks:oe,tickPositions:ve,coll:_e,axisParent:se}=W,fe=le.renderer,ye=le.inverted&&!W.isZAxis?[1,0,3,2][Le]:Le;var Ie=W.hasData();const ke=xe.title;var Ue=xe.labels;const st=X(xe.crossing);var it=le.axisOffset;const ht=le.clipOffset,Ae=[-1,1,1,-1][Le],ze=xe.className;let je,$e=0,nt;var bt=0;let jt=0;if(W.showAxis=je=Ie||xe.showEmpty,W.staggerLines=W.horiz&&Ue.staggerLines||void 0,!W.axisGroup){const Gt=(yi,ri,Ci)=>fe.g(yi).attr({zIndex:Ci}).addClass(`highcharts-${_e.toLowerCase()}${ri} `+(this.isRadial?`highcharts-radial-axis${ri} `:"")+(ze||"")).add(se);W.gridGroup=Gt("grid","-grid",xe.gridZIndex),W.axisGroup=Gt("axis","",xe.zIndex),W.labelGroup=Gt("axis-labels","-labels",Ue.zIndex)}Ie||W.isLinked?(ve.forEach(function(Gt){W.generateTick(Gt)}),W.renderUnsquish(),W.reserveSpaceDefault=Le===0||Le===2||{1:"left",3:"right"}[Le]===W.labelAlign,M(Ue.reserveSpace,st?!1:null,W.labelAlign==="center"?!0:null,W.reserveSpaceDefault)&&ve.forEach(function(Gt){jt=Math.max(oe[Gt].getLabelSize(),jt)}),W.staggerLines&&(jt*=W.staggerLines),W.labelOffset=jt*(W.opposite?-1:1)):v(oe,function(Gt,yi){Gt.destroy(),delete oe[yi]}),ke&&ke.text&&ke.enabled!==!1&&(W.addTitle(je),je&&!st&&ke.reserveSpace!==!1&&(W.titleOffset=$e=W.axisTitle.getBBox()[ue?"height":"width"],nt=ke.offset,bt=$(nt)?0:M(ke.margin,ue?5:10))),W.renderLine(),W.offset=Ae*M(xe.offset,it[Le]?it[Le]+(xe.margin||0):0),W.tickRotCorr=W.tickRotCorr||{x:0,y:0},Ie=Le===0?-W.labelMetrics().h:Le===2?W.tickRotCorr.y:0,bt=Math.abs(jt)+bt,jt&&(bt=bt-Ie+Ae*(ue?M(Ue.y,W.tickRotCorr.y+Ae*Ue.distance):M(Ue.x,Ae*Ue.distance))),W.axisTitleMargin=M(nt,bt),W.getMaxLabelDimensions&&(W.maxLabelDimensions=W.getMaxLabelDimensions(oe,ve)),_e!=="colorAxis"&&(Ue=this.tickSize("tick"),it[Le]=Math.max(it[Le],(W.axisTitleMargin||0)+$e+Ae*W.offset,bt,ve&&ve.length&&Ue?Ue[0]+Ae*W.offset:0),it=!W.axisLine||xe.offset?0:2*Math.floor(W.axisLine.strokeWidth()/2),ht[ye]=Math.max(ht[ye],it)),I(this,"afterGetOffset")}getLinePath(W){const le=this.chart,ue=this.opposite;var xe=this.offset;const Le=this.horiz,oe=this.left+(ue?this.width:0)+xe;return xe=le.chartHeight-this.bottom-(ue?this.height:0)+xe,ue&&(W*=-1),le.renderer.crispLine([["M",Le?this.left:oe,Le?xe:this.top],["L",Le?le.chartWidth-this.right:oe,Le?xe:le.chartHeight-this.bottom]],W)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(W){var le=this.horiz,ue=this.left;const xe=this.top;var Le=this.len;const oe=this.options.title,ve=le?ue:xe,_e=this.opposite,se=this.offset,fe=oe.x,ye=oe.y,Ie=this.chart.renderer.fontMetrics(W);return W=W?Math.max(W.getBBox(!1,0).height-Ie.h-1,0):0,Le={low:ve+(le?0:Le),middle:ve+Le/2,high:ve+(le?Le:0)}[oe.align],ue=(le?xe+this.height:ue)+(le?1:-1)*(_e?-1:1)*(this.axisTitleMargin||0)+[-W,W,Ie.f,-W][this.side],le={x:le?Le+fe:ue+(_e?this.width:0)+se+fe,y:le?ue+ye-(_e?this.height:0)+se:Le+ye},I(this,"afterGetTitlePosition",{titlePosition:le}),le}renderMinorTick(W,le){const ue=this.minorTicks;ue[W]||(ue[W]=new ie(this,W,"minor")),le&&ue[W].isNew&&ue[W].render(null,!0),ue[W].render(null,!1,1)}renderTick(W,le,ue){const xe=this.ticks;(!this.isLinked||W>=this.min&&W<=this.max||this.grid&&this.grid.isColumn)&&(xe[W]||(xe[W]=new ie(this,W)),ue&&xe[W].isNew&&xe[W].render(le,!0,-1),xe[W].render(le))}render(){const W=this,le=W.chart,ue=W.logarithmic,xe=W.options,Le=W.isLinked,oe=W.tickPositions,ve=W.axisTitle,_e=W.ticks,se=W.minorTicks,fe=W.alternateBands,ye=xe.stackLabels,Ie=xe.alternateGridColor,ke=xe.crossing,Ue=W.tickmarkOffset,st=W.axisLine,it=W.showAxis,ht=q(le.renderer.globalAnimation);let Ae,ze;if(W.labelEdge.length=0,W.overlap=!1,[_e,se,fe].forEach(function(je){v(je,function($e){$e.isActive=!1})}),X(ke)){const je=this.isXAxis?le.yAxis[0]:le.xAxis[0],$e=[1,-1,-1,1][this.side];je&&(this.offset=$e*je.toPixels(ke,!0))}if(W.hasData()||Le){const je=W.chart.hasRendered&&W.old&&X(W.old.min);W.minorTickInterval&&!W.categories&&W.getMinorTickPositions().forEach(function($e){W.renderMinorTick($e,je)}),oe.length&&(oe.forEach(function($e,nt){W.renderTick($e,nt,je)}),Ue&&(W.min===0||W.single)&&(_e[-1]||(_e[-1]=new ie(W,-1,null,!0)),_e[-1].render(-1))),Ie&&oe.forEach(function($e,nt){ze=typeof oe[nt+1]<"u"?oe[nt+1]+Ue:W.max-Ue,nt%2===0&&$e<W.max&&ze<=W.max+(le.polar?-Ue:Ue)&&(fe[$e]||(fe[$e]=new z.PlotLineOrBand(W)),Ae=$e+Ue,fe[$e].options={from:ue?ue.lin2log(Ae):Ae,to:ue?ue.lin2log(ze):ze,color:Ie,className:"highcharts-alternate-grid"},fe[$e].render(),fe[$e].isActive=!0)}),W._addedPlotLB||(W._addedPlotLB=!0,(xe.plotLines||[]).concat(xe.plotBands||[]).forEach(function($e){W.addPlotBandOrLine($e)}))}[_e,se,fe].forEach(function(je){const $e=[],nt=ht.duration;v(je,function(bt,jt){bt.isActive||(bt.render(jt,!1,0),bt.isActive=!1,$e.push(jt))}),K(function(){let bt=$e.length;for(;bt--;)je[$e[bt]]&&!je[$e[bt]].isActive&&(je[$e[bt]].destroy(),delete je[$e[bt]])},je!==fe&&le.hasRendered&&nt?nt:0)}),st&&(st[st.isPlaced?"animate":"attr"]({d:this.getLinePath(st.strokeWidth())}),st.isPlaced=!0,st[it?"show":"hide"](it)),ve&&it&&(ve[ve.isNew?"attr":"animate"](W.getTitlePosition(ve)),ve.isNew=!1),ye&&ye.enabled&&W.stacking&&W.stacking.renderStackTotals(),W.old={len:W.len,max:W.max,min:W.min,transA:W.transA,userMax:W.userMax,userMin:W.userMin},W.isDirty=!1,I(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(W){W.render()})),this.series.forEach(function(W){W.isDirty=!0})}getKeepProps(){return this.keepProps||Me.keepProps}destroy(W){const le=this,ue=le.plotLinesAndBands,xe=this.eventOptions;if(I(this,"destroy",{keepEvents:W}),W||ee(le),[le.ticks,le.minorTicks,le.alternateBands].forEach(function(Le){j(Le)}),ue)for(W=ue.length;W--;)ue[W].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Le){le[Le]&&(le[Le]=le[Le].destroy())});for(const Le in le.plotLinesAndBandsGroups)le.plotLinesAndBandsGroups[Le]=le.plotLinesAndBandsGroups[Le].destroy();v(le,function(Le,oe){le.getKeepProps().indexOf(oe)===-1&&delete le[oe]}),this.eventOptions=xe}drawCrosshair(W,le){const ue=this.crosshair;var xe=M(ue&&ue.snap,!0);const Le=this.chart;let oe,ve=this.cross;if(I(this,"drawCrosshair",{e:W,point:le}),W||(W=this.cross&&this.cross.e),ue&&($(le)||!xe)!==!1){if(xe?$(le)&&(oe=M(this.coll!=="colorAxis"?le.crosshairPos:null,this.isXAxis?le.plotX:this.len-le.plotY)):oe=W&&(this.horiz?W.chartX-this.pos:this.len-W.chartY+this.pos),$(oe)){var _e={value:le&&(this.isXAxis?le.x:M(le.stackY,le.y)),translatedValue:oe};Le.polar&&Y(_e,{isCrosshair:!0,chartX:W&&W.chartX,chartY:W&&W.chartY,point:le}),_e=this.getPlotLinePath(_e)||null}if(!$(_e)){this.hideCrosshair();return}xe=this.categories&&!this.isRadial,ve||(this.cross=ve=Le.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(xe?"category ":"thin ")+(ue.className||"")).attr({zIndex:M(ue.zIndex,2)}).add(),Le.styledMode||(ve.attr({stroke:ue.color||(xe?y.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":M(ue.width,1)}).css({"pointer-events":"none"}),ue.dashStyle&&ve.attr({dashstyle:ue.dashStyle}))),ve.show().attr({d:_e}),xe&&!ue.width&&ve.attr({"stroke-width":this.transA}),this.cross.e=W}else this.hideCrosshair();I(this,"afterDrawCrosshair",{e:W,point:le})}hideCrosshair(){this.cross&&this.cross.hide(),I(this,"afterHideCrosshair")}hasVerticalPanning(){const W=this.chart.options.chart.panning;return!!(W&&W.enabled&&/y/.test(W.type))}update(W,le){const ue=this.chart;W=L(this.userOptions,W),this.destroy(!0),this.init(ue,W),ue.isDirtyBox=!0,M(le,!0)&&ue.redraw()}remove(W){const le=this.chart,ue=this.coll,xe=this.series;let Le=xe.length;for(;Le--;)xe[Le]&&xe[Le].remove(!1);S(le.axes,this),S(le[ue],this),le[ue].forEach(function(oe,ve){oe.options.index=oe.userOptions.index=ve}),this.destroy(),le.isDirtyBox=!0,M(W,!0)&&le.redraw()}setTitle(W,le){this.update({title:W},le)}setCategories(W,le){this.update({categories:W},le)}}return Me.defaultOptions=u.defaultXAxisOptions,Me.keepProps="extKey hcEvents names series userMax userMin".split(" "),Me}),s(l,"Core/Axis/DateTimeAxis.js",[l["Core/Utilities.js"]],function(h){const{addEvent:u,getMagnitude:y,normalizeTickInterval:n,timeUnits:w}=h;var z;return function(ie){function G(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function q(U){U.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new F(this))}const Z=[];ie.compose=function(U){return h.pushUnique(Z,U)&&(U.keepProps.push("dateTime"),U.prototype.getTimeTicks=G,u(U,"init",q)),U};class F{constructor(re){this.axis=re}normalizeTimeTickInterval(re,R){const D=R||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];R=D[D.length-1];let N=w[R[0]],$=R[1],j;for(j=0;j<D.length&&(R=D[j],N=w[R[0]],$=R[1],!(D[j+1]&&re<=(N*$[$.length-1]+w[D[j+1][0]])/2));j++);return N===w.year&&re<5*N&&($=[1,2,5]),re=n(re/N,$,R[0]==="year"?Math.max(y(re/N),1):1),{unitRange:N,count:re,unitName:R[0]}}getXDateFormat(re,R){const{axis:D}=this,N=D.chart.time;return D.closestPointRange?N.getDateFormat(D.closestPointRange,re,D.options.startOfWeek,R)||N.resolveDTLFormat(R.year).main:N.resolveDTLFormat(R.day).main}}ie.Additions=F}(z||(z={})),z}),s(l,"Core/Axis/LogarithmicAxis.js",[l["Core/Utilities.js"]],function(h){const{addEvent:u,normalizeTickInterval:y,pick:n}=h;var w;return function(z){function ie(F){let U=this.logarithmic;F.userOptions.type!=="logarithmic"?this.logarithmic=void 0:U||(this.logarithmic=new Z(this))}function G(){const F=this.logarithmic;F&&(this.lin2val=function(U){return F.lin2log(U)},this.val2lin=function(U){return F.log2lin(U)})}const q=[];z.compose=function(F){return h.pushUnique(q,F)&&(F.keepProps.push("logarithmic"),u(F,"init",ie),u(F,"afterInit",G)),F};class Z{constructor(U){this.axis=U}getLogTickPositions(U,re,R,D){const N=this.axis;var $=N.len,j=N.options;let S=[];if(D||(this.minorAutoInterval=void 0),.5<=U)U=Math.round(U),S=N.getLinearTickPositions(U,re,R);else if(.08<=U){j=Math.floor(re);let te,Y,I,V,X;for($=.3<U?[1,2,4]:.15<U?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];j<R+1&&!X;j++)for(Y=$.length,te=0;te<Y&&!X;te++)I=this.log2lin(this.lin2log(j)*$[te]),I>re&&(!D||V<=R)&&typeof V<"u"&&S.push(V),V>R&&(X=!0),V=I}else re=this.lin2log(re),R=this.lin2log(R),U=D?N.getMinorTickInterval():j.tickInterval,U=n(U==="auto"?null:U,this.minorAutoInterval,j.tickPixelInterval/(D?5:1)*(R-re)/((D?$/N.tickPositions.length:$)||1)),U=y(U),S=N.getLinearTickPositions(U,re,R).map(this.log2lin),D||(this.minorAutoInterval=U/5);return D||(N.tickInterval=U),S}lin2log(U){return Math.pow(10,U)}log2lin(U){return Math.log(U)/Math.LN10}}z.Additions=Z}(w||(w={})),w}),s(l,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[l["Core/Utilities.js"]],function(h){const{erase:u,extend:y,isNumber:n}=h;var w;return function(z){function ie(N){return this.addPlotBandOrLine(N,"plotBands")}function G(N,$){const j=this.userOptions;let S=new D(this,N);if(this.visible&&(S=S.render()),S){if(this._addedPlotLB||(this._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(te=>{this.addPlotBandOrLine(te)})),$){const te=j[$]||[];te.push(N),j[$]=te}this.plotLinesAndBands.push(S)}return S}function q(N){return this.addPlotBandOrLine(N,"plotLines")}function Z(N,$,j=this.options){const S=this.getPlotLinePath({value:$,force:!0,acrossPanes:j.acrossPanes}),te=[],Y=this.horiz;$=!n(this.min)||!n(this.max)||N<this.min&&$<this.min||N>this.max&&$>this.max,N=this.getPlotLinePath({value:N,force:!0,acrossPanes:j.acrossPanes}),j=1;let I;if(N&&S)for($&&(I=N.toString()===S.toString(),j=0),$=0;$<N.length;$+=2){const V=N[$],X=N[$+1],P=S[$],L=S[$+1];V[0]!=="M"&&V[0]!=="L"||X[0]!=="M"&&X[0]!=="L"||P[0]!=="M"&&P[0]!=="L"||L[0]!=="M"&&L[0]!=="L"||(Y&&P[1]===V[1]?(P[1]+=j,L[1]+=j):Y||P[2]!==V[2]||(P[2]+=j,L[2]+=j),te.push(["M",V[1],V[2]],["L",X[1],X[2]],["L",L[1],L[2]],["L",P[1],P[2]],["Z"])),te.isFlat=I}return te}function F(N){this.removePlotBandOrLine(N)}function U(N){const $=this.plotLinesAndBands,j=this.options,S=this.userOptions;if($){let te=$.length;for(;te--;)$[te].id===N&&$[te].destroy();[j.plotLines||[],S.plotLines||[],j.plotBands||[],S.plotBands||[]].forEach(function(Y){for(te=Y.length;te--;)(Y[te]||{}).id===N&&u(Y,Y[te])})}}function re(N){this.removePlotBandOrLine(N)}const R=[];let D;z.compose=function(N,$){return D||(D=N),h.pushUnique(R,$)&&y($.prototype,{addPlotBand:ie,addPlotLine:q,addPlotBandOrLine:G,getPlotBandPath:Z,removePlotBand:F,removePlotLine:re,removePlotBandOrLine:U}),$}}(w||(w={})),w}),s(l,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[l["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],l["Core/Utilities.js"]],function(h,u){const{arrayMax:y,arrayMin:n,defined:w,destroyObjectProperties:z,erase:ie,fireEvent:G,merge:q,objectEach:Z,pick:F}=u;class U{static compose(R){return h.compose(U,R)}constructor(R,D){this.axis=R,D&&(this.options=D,this.id=D.id)}render(){G(this,"render");const R=this,D=R.axis,N=D.horiz;var $=D.logarithmic;const j=R.options,S=j.color,te=F(j.zIndex,0),Y=j.events,I={},V=D.chart.renderer;let X=j.label,P=R.label,L=j.to,_=j.from,v=j.value,M=R.svgElem;var O=[];const ee=w(_)&&w(L);O=w(v);const ae=!M,K={class:"highcharts-plot-"+(ee?"band ":"line ")+(j.className||"")};let pe=ee?"bands":"lines";if($&&(_=$.log2lin(_),L=$.log2lin(L),v=$.log2lin(v)),D.chart.styledMode||(O?(K.stroke=S||"#999999",K["stroke-width"]=F(j.width,1),j.dashStyle&&(K.dashstyle=j.dashStyle)):ee&&(K.fill=S||"#e6e9ff",j.borderWidth&&(K.stroke=j.borderColor,K["stroke-width"]=j.borderWidth))),I.zIndex=te,pe+="-"+te,($=D.plotLinesAndBandsGroups[pe])||(D.plotLinesAndBandsGroups[pe]=$=V.g("plot-"+pe).attr(I).add()),ae&&(R.svgElem=M=V.path().attr(K).add($)),O)O=D.getPlotLinePath({value:v,lineWidth:M.strokeWidth(),acrossPanes:j.acrossPanes});else if(ee)O=D.getPlotBandPath(_,L,j);else return;return!R.eventsAdded&&Y&&(Z(Y,function(Me,Pe){M.on(Pe,function(W){Y[Pe].apply(R,[W])})}),R.eventsAdded=!0),(ae||!M.d)&&O&&O.length?M.attr({d:O}):M&&(O?(M.show(),M.animate({d:O})):M.d&&(M.hide(),P&&(R.label=P=P.destroy()))),X&&(w(X.text)||w(X.formatter))&&O&&O.length&&0<D.width&&0<D.height&&!O.isFlat?(X=q({align:N&&ee&&"center",x:N?!ee&&4:10,verticalAlign:!N&&ee&&"middle",y:N?ee?16:10:ee?6:-4,rotation:N&&!ee&&90},X),this.renderLabel(X,O,ee,te)):P&&P.hide(),R}renderLabel(R,D,N,$){const j=this.axis;var S=j.chart.renderer;let te=this.label;te||(this.label=te=S.text(this.getLabelText(R),0,0,R.useHTML).attr({align:R.textAlign||R.align,rotation:R.rotation,class:"highcharts-plot-"+(N?"band":"line")+"-label "+(R.className||""),zIndex:$}).add(),j.chart.styledMode||te.css(q({fontSize:"0.8em",textOverflow:"ellipsis"},R.style))),$=D.xBounds||[D[0][1],D[1][1],N?D[2][1]:D[0][1]],D=D.yBounds||[D[0][2],D[1][2],N?D[2][2]:D[0][2]],N=n($),S=n(D),te.align(R,!1,{x:N,y:S,width:y($)-N,height:y(D)-S}),te.alignValue&&te.alignValue!=="left"||(R=R.clip?j.width:j.chart.chartWidth,te.css({width:(te.rotation===90?j.height-(te.alignAttr.y-j.top):R-(te.alignAttr.x-j.left))+"px"})),te.show(!0)}getLabelText(R){return w(R.formatter)?R.formatter.call(this):R.text}destroy(){ie(this.axis.plotLinesAndBands,this),delete this.axis,z(this)}}return U}),s(l,"Core/Tooltip.js",[l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Utilities.js"]],function(h,u,y,n,w){const{format:z}=h,{doc:ie,isSafari:G}=u,{distribute:q}=y,{addEvent:Z,clamp:F,css:U,discardElement:re,extend:R,fireEvent:D,isArray:N,isNumber:$,isString:j,merge:S,pick:te,splat:Y,syncTimeout:I}=w;class V{constructor(P,L){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=P,this.init(P,L)}bodyFormatter(P){return P.map(function(L){const _=L.series.tooltipOptions;return(_[(L.point.formatPrefix||"point")+"Formatter"]||L.point.tooltipFormatter).call(L.point,_[(L.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(P){this.chart.series.forEach(function(L){const _=L&&L.tt;_&&(!_.isActive||P?L.tt=_.destroy():_.isActive=!1)})}defaultFormatter(P){const L=this.points||Y(this);let _;return _=[P.tooltipFooterHeaderFormatter(L[0])],_=_.concat(P.bodyFormatter(L)),_.push(P.tooltipFooterHeaderFormatter(L[0],!0)),_}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),re(this.container)),w.clearTimeout(this.hideTimer),w.clearTimeout(this.tooltipTimeout)}getAnchor(P,L){var _=this.chart;const v=_.pointer,M=_.inverted,O=_.plotTop;if(_=_.plotLeft,P=Y(P),P[0].series&&P[0].series.yAxis&&!P[0].series.yAxis.options.reversedStacks&&(P=P.slice().reverse()),this.followPointer&&L)typeof L.chartX>"u"&&(L=v.normalize(L)),P=[L.chartX-_,L.chartY-O];else if(P[0].tooltipPos)P=P[0].tooltipPos;else{let ee=0,ae=0;P.forEach(function(K){(K=K.pos(!0))&&(ee+=K[0],ae+=K[1])}),ee/=P.length,ae/=P.length,this.shared&&1<P.length&&L&&(M?ee=L.chartX:ae=L.chartY),P=[ee-_,ae-O]}return P.map(Math.round)}getClassName(P,L,_){const v=P.series,M=v.options;return[this.options.className,"highcharts-label",_&&"highcharts-tooltip-header",L?"highcharts-tooltip-box":"highcharts-tooltip",!_&&"highcharts-color-"+te(P.colorIndex,v.colorIndex),M&&M.className].filter(j).join(" ")}getLabel(){const P=this,L=this.chart.styledMode,_=this.options,v=this.split&&this.allowShared,M=_.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let O,ee=this.chart.renderer;if(this.label){var ae=!this.label.hasClass("highcharts-label");(!v&&ae||v&&!ae)&&this.destroy()}if(!this.label){if(this.outside){ae=this.chart.options.chart.style;const K=n.getRendererType();this.container=O=u.doc.createElement("div"),O.className="highcharts-tooltip-container",U(O,{position:"absolute",top:"1px",pointerEvents:M,zIndex:Math.max(this.options.style.zIndex||0,(ae&&ae.zIndex||0)+3)}),u.doc.body.appendChild(O),this.renderer=ee=new K(O,0,0,ae,void 0,void 0,ee.styledMode)}if(v?this.label=ee.g("tooltip"):(this.label=ee.label("",0,0,_.shape,void 0,void 0,_.useHTML,void 0,"tooltip").attr({padding:_.padding,r:_.borderRadius}),L||this.label.attr({fill:_.backgroundColor,"stroke-width":_.borderWidth||0}).css(_.style).css({pointerEvents:M})),P.outside){const K=this.label,{xSetter:pe,ySetter:Me}=K;K.xSetter=function(Pe){pe.call(K,P.distance),O.style.left=Pe+"px"},K.ySetter=function(Pe){Me.call(K,P.distance),O.style.top=Pe+"px"}}this.label.attr({zIndex:8}).shadow(_.shadow).add()}return this.label}getPlayingField(){const{body:P,documentElement:L}=ie,{chart:_,distance:v,outside:M}=this;return{width:M?Math.max(P.scrollWidth,L.scrollWidth,P.offsetWidth,L.offsetWidth,L.clientWidth)-2*v:_.chartWidth,height:M?Math.max(P.scrollHeight,L.scrollHeight,P.offsetHeight,L.offsetHeight,L.clientHeight):_.chartHeight}}getPosition(P,L,_){const v=this.chart,M=this.distance,O={},ee=v.inverted&&_.h||0,ae=this.outside;var K=this.getPlayingField();const pe=K.width,Me=K.height,Pe=v.pointer.getChartPosition();K=se=>{const fe=se==="x";return[se,fe?pe:Me,fe?P:L].concat(ae?[fe?P*Pe.scaleX:L*Pe.scaleY,fe?Pe.left-M+(_.plotX+v.plotLeft)*Pe.scaleX:Pe.top-M+(_.plotY+v.plotTop)*Pe.scaleY,0,fe?pe:Me]:[fe?P:L,fe?_.plotX+v.plotLeft:_.plotY+v.plotTop,fe?v.plotLeft:v.plotTop,fe?v.plotLeft+v.plotWidth:v.plotTop+v.plotHeight])};let W=K("y"),le=K("x"),ue;K=!!_.negative,!v.polar&&v.hoverSeries&&v.hoverSeries.yAxis&&v.hoverSeries.yAxis.reversed&&(K=!K);const xe=!this.followPointer&&te(_.ttBelow,!v.inverted===K),Le=function(se,fe,ye,Ie,ke,Ue,st){const it=ae?se==="y"?M*Pe.scaleY:M*Pe.scaleX:M,ht=(ye-Ie)/2,Ae=Ie<ke-M,ze=ke+M+Ie<fe,je=ke-it-ye+ht;if(ke=ke+it-ht,xe&&ze)O[se]=ke;else if(!xe&&Ae)O[se]=je;else if(Ae)O[se]=Math.min(st-Ie,0>je-ee?je:je-ee);else if(ze)O[se]=Math.max(Ue,ke+ee+ye>fe?ke:ke+ee);else return!1},oe=function(se,fe,ye,Ie,ke){let Ue;return ke<M||ke>fe-M?Ue=!1:O[se]=ke<ye/2?1:ke>fe-Ie/2?fe-Ie-2:ke-ye/2,Ue},ve=function(se){const fe=W;W=le,le=fe,ue=se},_e=function(){Le.apply(0,W)!==!1?oe.apply(0,le)!==!1||ue||(ve(!0),_e()):ue?O.x=O.y=0:(ve(!0),_e())};return(v.inverted||1<this.len)&&ve(),_e(),O}hide(P){const L=this;w.clearTimeout(this.hideTimer),P=te(P,this.options.hideDelay),this.isHidden||(this.hideTimer=I(function(){L.getLabel().fadeOut(P&&void 0),L.isHidden=!0},P))}init(P,L){this.chart=P,this.options=L,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=L.split&&!P.inverted&&!P.polar,this.shared=L.shared||this.split,this.outside=te(L.outside,!(!P.scrollablePixelsX&&!P.scrollablePixelsY))}shouldStickOnContact(P){return!(this.followPointer||!this.options.stickOnContact||P&&!this.chart.pointer.inClass(P.target,"highcharts-tooltip"))}move(P,L,_,v){const M=this,O=M.now,ee=M.options.animation!==!1&&!M.isHidden&&(1<Math.abs(P-O.x)||1<Math.abs(L-O.y)),ae=M.followPointer||1<M.len;R(O,{x:ee?(2*O.x+P)/3:P,y:ee?(O.y+L)/2:L,anchorX:ae?void 0:ee?(2*O.anchorX+_)/3:_,anchorY:ae?void 0:ee?(O.anchorY+v)/2:v}),M.getLabel().attr(O),M.drawTracker(),ee&&(w.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){M&&M.move(P,L,_,v)},32))}refresh(P,L){const _=this.chart,v=this.options,M=_.pointer,O=Y(P),ee=O[0],ae=[];var K=v.formatter||this.defaultFormatter,pe=this.shared;const Me=_.styledMode;let Pe={};if(v.enabled&&ee.series){w.clearTimeout(this.hideTimer),this.allowShared=!(!N(P)&&P.series&&P.series.noSharedTooltip),this.followPointer=!this.split&&ee.series.tooltipOptions.followPointer,P=this.getAnchor(P,L);var W=P[0],le=P[1];if(pe&&this.allowShared?(M.applyInactiveState(O),O.forEach(function(ue){ue.setState("hover"),ae.push(ue.getLabelConfig())}),Pe={x:ee.category,y:ee.y},Pe.points=ae):Pe=ee.getLabelConfig(),this.len=ae.length,K=K.call(Pe,this),pe=ee.series,this.distance=te(pe.tooltipOptions.distance,16),K===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(K,O);else{let ue=W,xe=le;if(L&&M.isDirectTouch&&(ue=L.chartX-_.plotLeft,xe=L.chartY-_.plotTop),_.polar||pe.options.clip===!1||O.some(Le=>M.isDirectTouch||Le.series.shouldShowTooltip(ue,xe)))L=this.getLabel(),v.style.width&&!Me||L.css({width:(this.outside?this.getPlayingField():_.spacingBox).width+"px"}),L.attr({text:K&&K.join?K.join(""):K}),L.addClass(this.getClassName(ee),!0),Me||L.attr({stroke:v.borderColor||ee.color||pe.color||"#666666"}),this.updatePosition({plotX:W,plotY:le,negative:ee.negative,ttBelow:ee.ttBelow,h:P[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}D(this,"refresh")}}renderSplit(P,L){function _(nt,bt,jt,Gt,yi=!0){return jt?(bt=ye?0:it,nt=F(nt-Gt/2,_e.left,_e.right-Gt-(v.outside?Ie:0))):(bt-=Ue,nt=yi?nt-Gt-Le:nt+Le,nt=F(nt,yi?nt:_e.left,_e.right)),{x:nt,y:bt}}const v=this,{chart:M,chart:{chartWidth:O,chartHeight:ee,plotHeight:ae,plotLeft:K,plotTop:pe,pointer:Me,scrollablePixelsY:Pe=0,scrollablePixelsX:W,scrollingContainer:{scrollLeft:le,scrollTop:ue}={scrollLeft:0,scrollTop:0},styledMode:xe},distance:Le,options:oe,options:{positioner:ve}}=v,_e=v.outside&&typeof W!="number"?ie.documentElement.getBoundingClientRect():{left:le,right:le+O,top:ue,bottom:ue+ee},se=v.getLabel(),fe=this.renderer||M.renderer,ye=!(!M.xAxis[0]||!M.xAxis[0].opposite),{left:Ie,top:ke}=Me.getChartPosition();let Ue=pe+ue,st=0,it=ae-Pe;j(P)&&(P=[!1,P]),P=P.slice(0,L.length+1).reduce(function(nt,bt,jt){if(bt!==!1&&bt!==""){jt=L[jt-1]||{isHeader:!0,plotX:L[0].plotX,plotY:ae,series:{}};const zi=jt.isHeader;var Gt=zi?v:jt.series,yi;{var ri=jt;bt=bt.toString();var Ci=Gt.tt;const{isHeader:gn,series:bn}=ri;Ci||(Ci={padding:oe.padding,r:oe.borderRadius},xe||(Ci.fill=oe.backgroundColor,Ci["stroke-width"]=(yi=oe.borderWidth)!==null&&yi!==void 0?yi:1),Ci=fe.label("",0,0,oe[gn?"headerShape":"shape"],void 0,void 0,oe.useHTML).addClass(v.getClassName(ri,!0,gn)).attr(Ci).add(se)),Ci.isActive=!0,Ci.attr({text:bt}),xe||Ci.css(oe.style).attr({stroke:oe.borderColor||ri.color||bn.color||"#333333"}),yi=Ci}yi=Gt.tt=yi,ri=yi.getBBox(),Gt=ri.width+yi.strokeWidth(),zi&&(st=ri.height,it+=st,ye&&(Ue-=st));{const{isHeader:gn,plotX:bn=0,plotY:$n=0,series:bs}=jt;if(gn){bt=K+bn;var Gi=pe+ae/2}else{const{xAxis:hr,yAxis:Cr}=bs;bt=hr.pos+F(bn,-Le,hr.len+Le),bs.shouldShowTooltip(0,Cr.pos-pe+$n,{ignoreX:!0})&&(Gi=Cr.pos+$n)}bt=F(bt,_e.left-Le,_e.right+Le),Gi={anchorX:bt,anchorY:Gi}}const{anchorX:Xi,anchorY:Li}=Gi;typeof Li=="number"?(Gi=ri.height+1,ri=ve?ve.call(v,Gt,Gi,jt):_(Xi,Li,zi,Gt),nt.push({align:ve?0:void 0,anchorX:Xi,anchorY:Li,boxWidth:Gt,point:jt,rank:te(ri.rank,zi?1:0),size:Gi,target:ri.y,tt:yi,x:ri.x})):yi.isActive=!1}return nt},[]),!ve&&P.some(nt=>{var{outside:bt}=v;return bt=(bt?Ie:0)+nt.anchorX,bt<_e.left&&bt+nt.boxWidth<_e.right?!0:bt<Ie-_e.left+nt.boxWidth&&_e.right-bt>bt})&&(P=P.map(nt=>{const{x:bt,y:jt}=_(nt.anchorX,nt.anchorY,nt.point.isHeader,nt.boxWidth,!1);return R(nt,{target:jt,x:bt})})),v.cleanSplit(),q(P,it);var ht=Ie,Ae=Ie;P.forEach(function(nt){const{x:bt,boxWidth:jt,isHeader:Gt}=nt;Gt||(v.outside&&Ie+bt<ht&&(ht=Ie+bt),!Gt&&v.outside&&ht+jt>Ae&&(Ae=Ie+bt))}),P.forEach(function(nt){const{x:bt,anchorX:jt,anchorY:Gt,pos:yi,point:{isHeader:ri}}=nt,Ci={visibility:typeof yi>"u"?"hidden":"inherit",x:bt,y:(yi||0)+Ue,anchorX:jt,anchorY:Gt};if(v.outside&&bt<jt){const Gi=Ie-ht;0<Gi&&(ri||(Ci.x=bt+Gi,Ci.anchorX=jt+Gi),ri&&(Ci.x=(Ae-ht)/2,Ci.anchorX=jt+Gi))}nt.tt.attr(Ci)});const{container:ze,outside:je,renderer:$e}=v;if(je&&ze&&$e){const{width:nt,height:bt,x:jt,y:Gt}=se.getBBox();$e.setSize(nt+jt,bt+Gt,!1),ze.style.left=ht+"px",ze.style.top=ke+"px"}G&&se.attr({opacity:se.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var P=this.chart,L=this.label,_=this.shared?P.hoverPoints:P.hoverPoint;if(L&&_){var v={x:0,y:0,width:0,height:0};_=this.getAnchor(_);var M=L.getBBox();_[0]+=P.plotLeft-L.translateX,_[1]+=P.plotTop-L.translateY,v.x=Math.min(0,_[0]),v.y=Math.min(0,_[1]),v.width=0>_[0]?Math.max(Math.abs(_[0]),M.width-_[0]):Math.max(Math.abs(_[0]),M.width),v.height=0>_[1]?Math.max(Math.abs(_[1]),M.height-Math.abs(_[1])):Math.max(Math.abs(_[1]),M.height),this.tracker?this.tracker.attr(v):(this.tracker=L.renderer.rect(v).addClass("highcharts-tracker").add(L),P.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(P){return P.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(P,L){const _=P.series,v=_.tooltipOptions;var M=_.xAxis;const O=M&&M.dateTime;M={isFooter:L,labelConfig:P};let ee=v.xDateFormat,ae=v[L?"footerFormat":"headerFormat"];return D(this,"headerFormatter",M,function(K){O&&!ee&&$(P.key)&&(ee=O.getXDateFormat(P.key,v.dateTimeLabelFormats)),O&&ee&&(P.point&&P.point.tooltipDateKeys||["key"]).forEach(function(pe){ae=ae.replace("{point."+pe+"}","{point."+pe+":"+ee+"}")}),_.chart.styledMode&&(ae=this.styledModeFormat(ae)),K.text=z(ae,{point:P,series:_},this.chart)}),M.text}update(P){this.destroy(),S(!0,this.chart.options.tooltip.userOptions,P),this.init(this.chart,S(!0,this.options,P))}updatePosition(P){const{chart:L,distance:_,options:v}=this;var M=L.pointer;const O=this.getLabel(),{left:ee,top:ae,scaleX:K,scaleY:pe}=M.getChartPosition();M=(v.positioner||this.getPosition).call(this,O.width,O.height,P);let Me=(P.plotX||0)+L.plotLeft;P=(P.plotY||0)+L.plotTop;let Pe;this.outside&&(v.positioner&&(M.x+=ee-_,M.y+=ae-_),Pe=(v.borderWidth||0)+2*_,this.renderer.setSize(O.width+Pe,O.height+Pe,!1),(K!==1||pe!==1)&&(U(this.container,{transform:`scale(${K}, ${pe})`}),Me*=K,P*=pe),Me+=ee-M.x,P+=ae-M.y),this.move(Math.round(M.x),Math.round(M.y||0),Me,P)}}return function(X){const P=[];X.compose=function(L){w.pushUnique(P,L)&&Z(L,"afterInit",function(){const _=this.chart;_.options.tooltip&&(_.tooltip=new X(_,_.options.tooltip))})}}(V||(V={})),V}),s(l,"Core/Series/Point.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Animation/AnimationUtilities.js"],l["Core/Defaults.js"],l["Core/FormatUtilities.js"],l["Core/Utilities.js"]],function(h,u,y,n,w){const{animObject:z}=u,{defaultOptions:ie}=y,{format:G}=n,{addEvent:q,defined:Z,erase:F,extend:U,fireEvent:re,getNestedProperty:R,isArray:D,isFunction:N,isNumber:$,isObject:j,merge:S,objectEach:te,pick:Y,syncTimeout:I,removeEvent:V,uniqueKey:X}=w;class P{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const _=this,v={x:_.startXPos,opacity:0},M=_.getGraphicalProps();M.singular.forEach(function(O){_[O]=_[O].animate(O==="dataLabel"?{x:_[O].startXPos,y:_[O].startYPos,opacity:0}:v)}),M.plural.forEach(function(O){_[O].forEach(function(ee){ee.element&&ee.animate(U({x:_.startXPos},ee.startYPos?{x:ee.startXPos,y:ee.startYPos}:{}))})})}applyOptions(_,v){const M=this.series,O=M.options.pointValKey||M.pointValKey;return _=P.prototype.optionsToObject.call(this,_),U(this,_),this.options=this.options?U(this.options,_):_,_.group&&delete this.group,_.dataLabels&&delete this.dataLabels,O&&(this.y=P.prototype.getNestedProperty.call(this,O)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof v>"u"&&M.xAxis&&M.xAxis.hasNames&&(this.x=M.xAxis.nameToX(this)),typeof this.x>"u"&&M?this.x=typeof v>"u"?M.autoIncrement():v:$(_.x)&&M.options.relativeXValue&&(this.x=M.autoIncrement(_.x)),this}destroy(){if(!this.destroyed){const v=this;var _=v.series;const M=_.chart;_=_.options.dataSorting;const O=M.hoverPoints,ee=z(v.series.chart.renderer.globalAnimation),ae=()=>{(v.graphic||v.graphics||v.dataLabel||v.dataLabels)&&(V(v),v.destroyElements());for(const K in v)delete v[K]};v.legendItem&&M.legend.destroyItem(v),O&&(v.setState(),F(O,v),O.length||(M.hoverPoints=null)),v===M.hoverPoint&&v.onMouseOut(),_&&_.enabled?(this.animateBeforeDestroy(),I(ae,ee.duration)):ae(),M.pointCount--}this.destroyed=!0}destroyElements(_){const v=this;_=v.getGraphicalProps(_),_.singular.forEach(function(M){v[M]=v[M].destroy()}),_.plural.forEach(function(M){v[M].forEach(function(O){O&&O.element&&O.destroy()}),delete v[M]})}firePointEvent(_,v,M){const O=this,ee=this.series.options;(ee.point.events[_]||O.options&&O.options.events&&O.options.events[_])&&O.importEvents(),_==="click"&&ee.allowPointSelect&&(M=function(ae){O.select&&O.select(null,ae.ctrlKey||ae.metaKey||ae.shiftKey)}),re(O,_,v,M)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(_){const v=this,M=[],O={singular:[],plural:[]};let ee,ae;for(_=_||{graphic:1,dataLabel:1},_.graphic&&M.push("graphic"),_.dataLabel&&M.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),ae=M.length;ae--;)ee=M[ae],v[ee]&&O.singular.push(ee);return["graphic","dataLabel","connector"].forEach(function(K){const pe=K+"s";_[K]&&v[pe]&&O.plural.push(pe)}),O}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(_){if(_)return _.indexOf("custom.")===0?R(_,this.options):this[_]}getZone(){var _=this.series;const v=_.zones;_=_.zoneAxis||"y";let M,O=0;for(M=v[O];this[_]>=M.value;)M=v[++O];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=M&&M.color&&!this.options.color?M.color:this.nonZonedColor,M}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(_,v,M){return this.series=_,this.applyOptions(v,M),this.id=Z(this.id)?this.id:X(),this.resolveColor(),_.chart.pointCount++,re(this,"afterInit"),this}isValid(){return this.x!==null&&$(this.y)}optionsToObject(_){var v=this.series;const M=v.options.keys,O=M||v.pointArrayMap||["y"],ee=O.length;let ae={},K=0,pe=0;if($(_)||_===null)ae[O[0]]=_;else if(D(_))for(!M&&_.length>ee&&(v=typeof _[0],v==="string"?ae.name=_[0]:v==="number"&&(ae.x=_[0]),K++);pe<ee;)M&&typeof _[K]>"u"||(0<O[pe].indexOf(".")?P.prototype.setNestedProperty(ae,_[K],O[pe]):ae[O[pe]]=_[K]),K++,pe++;else typeof _=="object"&&(ae=_,_.dataLabels&&(v._hasPointLabels=!0),_.marker&&(v._hasPointMarkers=!0));return ae}pos(_,v=this.plotY){if(!this.destroyed){const{plotX:M,series:O}=this,{chart:ee,xAxis:ae,yAxis:K}=O;let pe=0,Me=0;if($(M)&&$(v))return _&&(pe=ae?ae.pos:ee.plotLeft,Me=K?K.pos:ee.plotTop),ee.inverted&&ae&&K?[K.len-v+Me,ae.len-M+pe]:[M+pe,v+Me]}}resolveColor(){const _=this.series;var v=_.chart.styledMode;let M;var O=_.chart.options.chart.colorCount;delete this.nonZonedColor,_.options.colorByPoint?(v||(O=_.options.colors||_.chart.options.colors,M=O[_.colorCounter],O=O.length),v=_.colorCounter,_.colorCounter++,_.colorCounter===O&&(_.colorCounter=0)):(v||(M=_.color),v=_.colorIndex),this.colorIndex=Y(this.options.colorIndex,v),this.color=Y(this.options.color,M)}setNestedProperty(_,v,M){return M.split(".").reduce(function(O,ee,ae,K){return O[ee]=K.length-1===ae?v:j(O[ee],!0)?O[ee]:{},O[ee]},_),_}shouldDraw(){return!this.isNull}tooltipFormatter(_){const v=this.series,M=v.tooltipOptions,O=Y(M.valueDecimals,""),ee=M.valuePrefix||"",ae=M.valueSuffix||"";return v.chart.styledMode&&(_=v.chart.tooltip.styledModeFormat(_)),(v.pointArrayMap||["y"]).forEach(function(K){K="{point."+K,(ee||ae)&&(_=_.replace(RegExp(K+"}","g"),ee+K+"}"+ae)),_=_.replace(RegExp(K+"}","g"),K+":,."+O+"f}")}),G(_,{point:this,series:this.series},v.chart)}update(_,v,M,O){function ee(){ae.applyOptions(_);var le=pe&&ae.hasMockGraphic;le=ae.y===null?!le:le,pe&&le&&(ae.graphic=pe.destroy(),delete ae.hasMockGraphic),j(_,!0)&&(pe&&pe.element&&_&&_.marker&&typeof _.marker.symbol<"u"&&(ae.graphic=pe.destroy()),_&&_.dataLabels&&ae.dataLabel&&(ae.dataLabel=ae.dataLabel.destroy()),ae.connector&&(ae.connector=ae.connector.destroy())),W=ae.index,K.updateParallelArrays(ae,W),Pe.data[W]=j(Pe.data[W],!0)||j(_,!0)?ae.options:Y(_,Pe.data[W]),K.isDirty=K.isDirtyData=!0,!K.fixedBox&&K.hasCartesianSeries&&(Me.isDirtyBox=!0),Pe.legendType==="point"&&(Me.isDirtyLegend=!0),v&&Me.redraw(M)}const ae=this,K=ae.series,pe=ae.graphic,Me=K.chart,Pe=K.options;let W;v=Y(v,!0),O===!1?ee():ae.firePointEvent("update",{options:_},ee)}remove(_,v){this.series.removePoint(this.series.data.indexOf(this),_,v)}select(_,v){const M=this,O=M.series,ee=O.chart;this.selectedStaging=_=Y(_,!M.selected),M.firePointEvent(_?"select":"unselect",{accumulate:v},function(){M.selected=M.options.selected=_,O.options.data[O.data.indexOf(M)]=M.options,M.setState(_&&"select"),v||ee.getSelectedPoints().forEach(function(ae){const K=ae.series;ae.selected&&ae!==M&&(ae.selected=ae.options.selected=!1,K.options.data[K.data.indexOf(ae)]=ae.options,ae.setState(ee.hoverPoints&&K.options.inactiveOtherPoints?"inactive":""),ae.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(_){const v=this.series.chart,M=v.pointer;_=_?M.normalize(_):M.getChartCoordinatesFromPoint(this,v.inverted),M.runPointActions(_,this)}onMouseOut(){const _=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(_.hoverPoints||[]).forEach(function(v){v.setState()}),_.hoverPoints=_.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const _=this,v=S(_.series.options.point,_.options).events;_.events=v,te(v,function(M,O){N(M)&&q(_,O,M)}),this.hasImportedEvents=!0}}setState(_,v){const M=this.series;var O=this.state,ee=M.options.states[_||"normal"]||{},ae=ie.plotOptions[M.type].marker&&M.options.marker;const K=ae&&ae.enabled===!1,pe=ae&&ae.states&&ae.states[_||"normal"]||{},Me=pe.enabled===!1,Pe=this.marker||{},W=M.chart,le=ae&&M.markerAttribs;let ue=M.halo;var xe;let Le;var oe=M.stateMarkerGraphic;if(_=_||"",!(_===this.state&&!v||this.selected&&_!=="select"||ee.enabled===!1||_&&(Me||K&&pe.enabled===!1)||_&&Pe.states&&Pe.states[_]&&Pe.states[_].enabled===!1)){if(this.state=_,le&&(xe=M.markerAttribs(this,_)),this.graphic&&!this.hasMockGraphic){if(O&&this.graphic.removeClass("highcharts-point-"+O),_&&this.graphic.addClass("highcharts-point-"+_),!W.styledMode){O=M.pointAttribs(this,_),Le=Y(W.options.chart.animation,ee.animation);const ve=O.opacity;M.options.inactiveOtherPoints&&$(ve)&&((this.dataLabels||[]).forEach(function(_e){_e&&!_e.hasClass("highcharts-data-label-hidden")&&_e.animate({opacity:ve},Le)}),this.connector&&this.connector.animate({opacity:ve},Le)),this.graphic.animate(O,Le)}xe&&this.graphic.animate(xe,Y(W.options.chart.animation,pe.animation,ae.animation)),oe&&oe.hide()}else _&&pe&&(ae=Pe.symbol||M.symbol,oe&&oe.currentSymbol!==ae&&(oe=oe.destroy()),xe&&(oe?oe[v?"animate":"attr"]({x:xe.x,y:xe.y}):ae&&(M.stateMarkerGraphic=oe=W.renderer.symbol(ae,xe.x,xe.y,xe.width,xe.height).add(M.markerGroup),oe.currentSymbol=ae)),!W.styledMode&&oe&&this.state!=="inactive"&&oe.attr(M.pointAttribs(this,_))),oe&&(oe[_&&this.isInside?"show":"hide"](),oe.element.point=this,oe.addClass(this.getClassName(),!0));ee=ee.halo,xe=(oe=this.graphic||oe)&&oe.visibility||"inherit",ee&&ee.size&&oe&&xe!=="hidden"&&!this.isCluster?(ue||(M.halo=ue=W.renderer.path().add(oe.parentGroup)),ue.show()[v?"animate":"attr"]({d:this.haloPath(ee.size)}),ue.attr({class:"highcharts-halo highcharts-color-"+Y(this.colorIndex,M.colorIndex)+(this.className?" "+this.className:""),visibility:xe,zIndex:-1}),ue.point=this,W.styledMode||ue.attr(U({fill:this.color||M.color,"fill-opacity":ee.opacity},h.filterUserAttributes(ee.attributes||{})))):ue&&ue.point&&ue.point.haloPath&&ue.animate({d:ue.point.haloPath(0)},null,ue.hide),re(this,"afterSetState",{state:_})}}haloPath(_){const v=this.pos();return v?this.series.chart.renderer.symbols.circle(Math.floor(v[0])-_,v[1]-_,2*_,2*_):[]}}return P}),s(l,"Core/Pointer.js",[l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(h,u,y){const{parse:n}=h,{charts:w,noop:z}=u,{addEvent:ie,attr:G,css:q,defined:Z,extend:F,find:U,fireEvent:re,isNumber:R,isObject:D,objectEach:N,offset:$,pick:j,splat:S}=y;class te{constructor(I,V){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=I,this.hasDragged=!1,this.options=V,this.init(I,V)}applyInactiveState(I){let V=[],X;(I||[]).forEach(function(P){X=P.series,V.push(X),X.linkedParent&&V.push(X.linkedParent),X.linkedSeries&&(V=V.concat(X.linkedSeries)),X.navigatorSeries&&V.push(X.navigatorSeries)}),this.chart.series.forEach(function(P){V.indexOf(P)===-1?P.setState("inactive",!0):P.options.inactiveOtherPoints&&P.setAllPointsToState("inactive")})}destroy(){const I=this;this.eventsToUnbind.forEach(V=>V()),this.eventsToUnbind=[],u.chartCount||(te.unbindDocumentMouseUp&&(te.unbindDocumentMouseUp=te.unbindDocumentMouseUp()),te.unbindDocumentTouchEnd&&(te.unbindDocumentTouchEnd=te.unbindDocumentTouchEnd())),clearInterval(I.tooltipTimeout),N(I,function(V,X){I[X]=void 0})}getSelectionMarkerAttrs(I,V){const X={args:{chartX:I,chartY:V},attrs:{},shapeType:"rect"};return re(this,"getSelectionMarkerAttrs",X,P=>{const{chart:L,mouseDownX:_=0,mouseDownY:v=0,zoomHor:M,zoomVert:O}=this;P=P.attrs;let ee;P.x=L.plotLeft,P.y=L.plotTop,P.width=M?1:L.plotWidth,P.height=O?1:L.plotHeight,M&&(ee=I-_,P.width=Math.abs(ee),P.x=(0<ee?0:ee)+_),O&&(ee=V-v,P.height=Math.abs(ee),P.y=(0<ee?0:ee)+v)}),X}drag(I){const V=this.chart,X=V.options.chart;var P=V.plotLeft;const L=V.plotTop,_=V.plotWidth,v=V.plotHeight,M=this.mouseDownX||0,O=this.mouseDownY||0,ee=D(X.panning)?X.panning&&X.panning.enabled:X.panning,ae=X.panKey&&I[X.panKey+"Key"];let K=I.chartX,pe=I.chartY,Me=this.selectionMarker;if((!Me||!Me.touch)&&(K<P?K=P:K>P+_&&(K=P+_),pe<L?pe=L:pe>L+v&&(pe=L+v),this.hasDragged=Math.sqrt(Math.pow(M-K,2)+Math.pow(O-pe,2)),10<this.hasDragged)){P=V.isInsidePlot(M-P,O-L,{visiblePlotOnly:!0});const{shapeType:Pe,attrs:W}=this.getSelectionMarkerAttrs(K,pe);!V.hasCartesianSeries&&!V.mapView||!this.zoomX&&!this.zoomY||!P||ae||Me||(this.selectionMarker=Me=V.renderer[Pe](),Me.attr({class:"highcharts-selection-marker",zIndex:7}).add(),V.styledMode||Me.attr({fill:X.selectionMarkerFill||n("#334eff").setOpacity(.25).get()})),Me&&Me.attr(W),P&&!Me&&ee&&V.pan(I,X.panning)}}dragStart(I){const V=this.chart;V.mouseIsDown=I.type,V.cancelClick=!1,V.mouseDownX=this.mouseDownX=I.chartX,V.mouseDownY=this.mouseDownY=I.chartY}getSelectionBox(I){const V={args:{marker:I},result:{}};return re(this,"getSelectionBox",V,X=>{X.result={x:I.attr?+I.attr("x"):I.x,y:I.attr?+I.attr("y"):I.y,width:I.attr?I.attr("width"):I.width,height:I.attr?I.attr("height"):I.height}}),V.result}drop(I){const V=this,X=this.chart,P=this.hasPinched;if(this.selectionMarker){const{x:L,y:_,width:v,height:M}=this.getSelectionBox(this.selectionMarker),O={originalEvent:I,xAxis:[],yAxis:[],x:L,y:_,width:v,height:M};let ee=!!X.mapView;(this.hasDragged||P)&&(X.axes.forEach(function(ae){if(ae.zoomEnabled&&Z(ae.min)&&(P||V[{xAxis:"zoomX",yAxis:"zoomY"}[ae.coll]])&&R(L)&&R(_)&&R(v)&&R(M)){var K=ae.horiz;const pe=I.type==="touchend"?ae.minPixelPadding:0,Me=ae.toValue((K?L:_)+pe);K=ae.toValue((K?L+v:_+M)-pe),O[ae.coll].push({axis:ae,min:Math.min(Me,K),max:Math.max(Me,K)}),ee=!0}}),ee&&re(X,"selection",O,function(ae){X.zoom(F(ae,P?{animation:!1}:null))})),R(X.index)&&(this.selectionMarker=this.selectionMarker.destroy()),P&&this.scaleGroups()}X&&R(X.index)&&(q(X.container,{cursor:X._cursor}),X.cancelClick=10<this.hasDragged,X.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(I,V,X){let P;return I.forEach(function(L){var _=!(L.noSharedTooltip&&V)&&0>L.options.findNearestPointBy.indexOf("y");if(L=L.searchPoint(X,_),(_=D(L,!0)&&L.series)&&!(_=!D(P,!0))){{_=P.distX-L.distX;const v=P.dist-L.dist,M=(L.series.group&&L.series.group.zIndex)-(P.series.group&&P.series.group.zIndex);_=_!==0&&V?_:v!==0?v:M!==0?M:P.series.index>L.series.index?-1:1}_=0<_}_&&(P=L)}),P}getChartCoordinatesFromPoint(I,V){var X=I.series;const P=X.xAxis;X=X.yAxis;const L=I.shapeArgs;if(P&&X){let _=j(I.clientX,I.plotX),v=I.plotY||0;return I.isNode&&L&&R(L.x)&&R(L.y)&&(_=L.x,v=L.y),V?{chartX:X.len+X.pos-v,chartY:P.len+P.pos-_}:{chartX:_+P.pos,chartY:v+X.pos}}if(L&&L.x&&L.y)return{chartX:L.x,chartY:L.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:I}=this.chart;const V=$(I);this.chartPosition={left:V.left,top:V.top,scaleX:1,scaleY:1};const X=I.offsetWidth;return I=I.offsetHeight,2<X&&2<I&&(this.chartPosition.scaleX=V.width/X,this.chartPosition.scaleY=V.height/I),this.chartPosition}getCoordinates(I){const V={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(X){V[X.isXAxis?"xAxis":"yAxis"].push({axis:X,value:X.toValue(I[X.horiz?"chartX":"chartY"])})}),V}getHoverData(I,V,X,P,L,_){const v=[];P=!(!P||!I);const M=function(K){return K.visible&&!(!L&&K.directTouch)&&j(K.options.enableMouseTracking,!0)};let O,ee={chartX:_?_.chartX:void 0,chartY:_?_.chartY:void 0,shared:L};re(this,"beforeGetHoverData",ee),O=V&&!V.stickyTracking?[V]:X.filter(K=>K.stickyTracking&&(ee.filter||M)(K));const ae=P||!_?I:this.findNearestKDPoint(O,L,_);return V=ae&&ae.series,ae&&(L&&!V.noSharedTooltip?(O=X.filter(function(K){return ee.filter?ee.filter(K):M(K)&&!K.noSharedTooltip}),O.forEach(function(K){let pe=U(K.points,function(Me){return Me.x===ae.x&&!Me.isNull});D(pe)&&(K.boosted&&K.boost&&(pe=K.boost.getPoint(pe)),v.push(pe))})):v.push(ae)),ee={hoverPoint:ae},re(this,"afterGetHoverData",ee),{hoverPoint:ee.hoverPoint,hoverSeries:V,hoverPoints:v}}getPointFromEvent(I){I=I.target;let V;for(;I&&!V;)V=I.point,I=I.parentNode;return V}onTrackerMouseOut(I){I=I.relatedTarget;const V=this.chart.hoverSeries;this.isDirectTouch=!1,!V||!I||V.stickyTracking||this.inClass(I,"highcharts-tooltip")||this.inClass(I,"highcharts-series-"+V.index)&&this.inClass(I,"highcharts-tracker")||V.onMouseOut()}inClass(I,V){let X;for(;I;){if(X=G(I,"class")){if(X.indexOf(V)!==-1)return!0;if(X.indexOf("highcharts-container")!==-1)return!1}I=I.parentElement}}init(I,V){this.options=V,this.chart=I,this.runChartClick=!(!V.chart.events||!V.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),re(this,"afterInit")}normalize(I,V){var X=I.touches,P=X?X.length?X.item(0):j(X.changedTouches,I.changedTouches)[0]:I;return V||(V=this.getChartPosition()),X=P.pageX-V.left,P=P.pageY-V.top,X/=V.scaleX,P/=V.scaleY,F(I,{chartX:Math.round(X),chartY:Math.round(P)})}onContainerClick(I){const V=this.chart,X=V.hoverPoint;I=this.normalize(I);const P=V.plotLeft,L=V.plotTop;V.cancelClick||(X&&this.inClass(I.target,"highcharts-tracker")?(re(X.series,"click",F(I,{point:X})),V.hoverPoint&&X.firePointEvent("click",I)):(F(I,this.getCoordinates(I)),V.isInsidePlot(I.chartX-P,I.chartY-L,{visiblePlotOnly:!0})&&re(V,"click",I)))}onContainerMouseDown(I){const V=((I.buttons||I.button)&1)===1;I=this.normalize(I),u.isFirefox&&I.button!==0&&this.onContainerMouseMove(I),(typeof I.button>"u"||V)&&(this.zoomOption(I),V&&I.preventDefault&&I.preventDefault(),this.dragStart(I))}onContainerMouseLeave(I){const V=w[j(te.hoverChartIndex,-1)];I=this.normalize(I),V&&I.relatedTarget&&!this.inClass(I.relatedTarget,"highcharts-tooltip")&&(V.pointer.reset(),V.pointer.chartPosition=void 0)}onContainerMouseEnter(I){delete this.chartPosition}onContainerMouseMove(I){const V=this.chart,X=V.tooltip;I=this.normalize(I),this.setHoverChartIndex(),(V.mouseIsDown==="mousedown"||this.touchSelect(I))&&this.drag(I),V.openMenu||!this.inClass(I.target,"highcharts-tracker")&&!V.isInsidePlot(I.chartX-V.plotLeft,I.chartY-V.plotTop,{visiblePlotOnly:!0})||X&&X.shouldStickOnContact(I)||(this.inClass(I.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(I))}onDocumentTouchEnd(I){const V=w[j(te.hoverChartIndex,-1)];V&&V.pointer.drop(I)}onContainerTouchMove(I){this.touchSelect(I)?this.onContainerMouseMove(I):this.touch(I)}onContainerTouchStart(I){this.touchSelect(I)?this.onContainerMouseDown(I):(this.zoomOption(I),this.touch(I,!0))}onDocumentMouseMove(I){const V=this.chart,X=V.tooltip,P=this.chartPosition;I=this.normalize(I,P),!P||V.isInsidePlot(I.chartX-V.plotLeft,I.chartY-V.plotTop,{visiblePlotOnly:!0})||X&&X.shouldStickOnContact(I)||this.inClass(I.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(I){const V=w[j(te.hoverChartIndex,-1)];V&&V.pointer.drop(I)}pinch(I){const V=this,X=V.chart,P=V.pinchDown,L=I.touches||[],_=L.length,v=V.lastValidTouch,M=V.hasZoom,O={},ee=_===1&&(V.inClass(I.target,"highcharts-tracker")&&X.runTrackerClick||V.runChartClick),ae={};var K=V.chart.tooltip;K=_===1&&j(K&&K.options.followTouchMove,!0);let pe=V.selectionMarker;1<_?V.initiated=!0:K&&(V.initiated=!1),M&&V.initiated&&!ee&&I.cancelable!==!1&&I.preventDefault(),[].map.call(L,function(Me){return V.normalize(Me)}),I.type==="touchstart"?([].forEach.call(L,function(Me,Pe){P[Pe]={chartX:Me.chartX,chartY:Me.chartY}}),v.x=[P[0].chartX,P[1]&&P[1].chartX],v.y=[P[0].chartY,P[1]&&P[1].chartY],X.axes.forEach(function(Me){if(Me.zoomEnabled){const Pe=X.bounds[Me.horiz?"h":"v"],W=Me.minPixelPadding,le=Me.toPixels(Math.min(j(Me.options.min,Me.dataMin),Me.dataMin)),ue=Me.toPixels(Math.max(j(Me.options.max,Me.dataMax),Me.dataMax)),xe=Math.max(le,ue);Pe.min=Math.min(Me.pos,Math.min(le,ue)-W),Pe.max=Math.max(Me.pos+Me.len,xe+W)}}),V.res=!0):K?this.runPointActions(V.normalize(I)):P.length&&(re(X,"touchpan",{originalEvent:I},()=>{pe||(V.selectionMarker=pe=F({destroy:z,touch:!0},X.plotBox)),V.pinchTranslate(P,L,O,pe,ae,v),V.hasPinched=M,V.scaleGroups(O,ae)}),V.res&&(V.res=!1,this.reset(!1,0)))}pinchTranslate(I,V,X,P,L,_){this.zoomHor&&this.pinchTranslateDirection(!0,I,V,X,P,L,_),this.zoomVert&&this.pinchTranslateDirection(!1,I,V,X,P,L,_)}pinchTranslateDirection(I,V,X,P,L,_,v,M){const O=this.chart,ee=I?"x":"y",ae=I?"X":"Y",K="chart"+ae,pe=I?"width":"height",Me=O["plot"+(I?"Left":"Top")],Pe=O.inverted,W=O.bounds[I?"h":"v"],le=V.length===1,ue=V[0][K],xe=!le&&V[1][K];V=function(){typeof se=="number"&&20<Math.abs(ue-xe)&&(ve=M||Math.abs(_e-se)/Math.abs(ue-xe)),oe=(Me-_e)/ve+ue,Le=O["plot"+(I?"Width":"Height")]/ve};let Le,oe,ve=M||1,_e=X[0][K],se=!le&&X[1][K],fe;V(),X=oe,X<W.min?(X=W.min,fe=!0):X+Le>W.max&&(X=W.max-Le,fe=!0),fe?(_e-=.8*(_e-v[ee][0]),typeof se=="number"&&(se-=.8*(se-v[ee][1])),V()):v[ee]=[_e,se],Pe||(_[ee]=oe-Me,_[pe]=Le),_=Pe?1/ve:ve,L[pe]=Le,L[ee]=X,P[Pe?I?"scaleY":"scaleX":"scale"+ae]=ve,P["translate"+ae]=_*Me+(_e-_*ue)}reset(I,V){const X=this.chart,P=X.hoverSeries,L=X.hoverPoint,_=X.hoverPoints,v=X.tooltip,M=v&&v.shared?_:L;I&&M&&S(M).forEach(function(O){O.series.isCartesian&&typeof O.plotX>"u"&&(I=!1)}),I?v&&M&&S(M).length&&(v.refresh(M),v.shared&&_?_.forEach(function(O){O.setState(O.state,!0),O.series.isCartesian&&(O.series.xAxis.crosshair&&O.series.xAxis.drawCrosshair(null,O),O.series.yAxis.crosshair&&O.series.yAxis.drawCrosshair(null,O))}):L&&(L.setState(L.state,!0),X.axes.forEach(function(O){O.crosshair&&L.series[O.coll]===O&&O.drawCrosshair(null,L)}))):(L&&L.onMouseOut(),_&&_.forEach(function(O){O.setState()}),P&&P.onMouseOut(),v&&v.hide(V),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),X.axes.forEach(function(O){O.hideCrosshair()}),this.hoverX=X.hoverPoints=X.hoverPoint=null)}runPointActions(I,V,X){const P=this.chart,L=P.tooltip&&P.tooltip.options.enabled?P.tooltip:void 0,_=L?L.shared:!1;let v=V||P.hoverPoint,M=v&&v.series||P.hoverSeries;V=this.getHoverData(v,M,P.series,(!I||I.type!=="touchmove")&&(!!V||M&&M.directTouch&&this.isDirectTouch),_,I),v=V.hoverPoint,M=V.hoverSeries;const O=V.hoverPoints;V=M&&M.tooltipOptions.followPointer&&!M.tooltipOptions.split;const ee=_&&M&&!M.noSharedTooltip;if(v&&(X||v!==P.hoverPoint||L&&L.isHidden)){if((P.hoverPoints||[]).forEach(function(ae){O.indexOf(ae)===-1&&ae.setState()}),P.hoverSeries!==M&&M.onMouseOver(),this.applyInactiveState(O),(O||[]).forEach(function(ae){ae.setState("hover")}),P.hoverPoint&&P.hoverPoint.firePointEvent("mouseOut"),!v.series)return;P.hoverPoints=O,P.hoverPoint=v,v.firePointEvent("mouseOver",void 0,()=>{L&&v&&L.refresh(ee?O:v,I)})}else V&&L&&!L.isHidden&&(X=L.getAnchor([{}],I),P.isInsidePlot(X[0],X[1],{visiblePlotOnly:!0})&&L.updatePosition({plotX:X[0],plotY:X[1]}));this.unDocMouseMove||(this.unDocMouseMove=ie(P.container.ownerDocument,"mousemove",function(ae){const K=w[te.hoverChartIndex];K&&K.pointer.onDocumentMouseMove(ae)}),this.eventsToUnbind.push(this.unDocMouseMove)),P.axes.forEach(function(ae){const K=j((ae.crosshair||{}).snap,!0);let pe;K&&((pe=P.hoverPoint)&&pe.series[ae.coll]===ae||(pe=U(O,Me=>Me.series&&Me.series[ae.coll]===ae))),pe||!K?ae.drawCrosshair(I,pe):ae.hideCrosshair()})}scaleGroups(I,V){const X=this.chart;X.series.forEach(function(P){const L=I||P.getPlotBox();P.group&&(P.xAxis&&P.xAxis.zoomEnabled||X.mapView)&&(P.group.attr(L),P.markerGroup&&(P.markerGroup.attr(L),P.markerGroup.clip(V?X.clipRect:null)),P.dataLabelsGroup&&P.dataLabelsGroup.attr(L))}),X.clipRect.attr(V||X.clipBox)}setDOMEvents(){const I=this.chart.container,V=I.ownerDocument;I.onmousedown=this.onContainerMouseDown.bind(this),I.onmousemove=this.onContainerMouseMove.bind(this),I.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ie(I,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(ie(I,"mouseleave",this.onContainerMouseLeave.bind(this))),te.unbindDocumentMouseUp||(te.unbindDocumentMouseUp=ie(V,"mouseup",this.onDocumentMouseUp.bind(this)));let X=this.chart.renderTo.parentElement;for(;X&&X.tagName!=="BODY";)this.eventsToUnbind.push(ie(X,"scroll",()=>{delete this.chartPosition})),X=X.parentElement;u.hasTouch&&(this.eventsToUnbind.push(ie(I,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(ie(I,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),te.unbindDocumentTouchEnd||(te.unbindDocumentTouchEnd=ie(V,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const I=this.chart,V=u.charts[j(te.hoverChartIndex,-1)];V&&V!==I&&V.pointer.onContainerMouseLeave({relatedTarget:I.container}),V&&V.mouseIsDown||(te.hoverChartIndex=I.index)}touch(I,V){const X=this.chart;let P;this.setHoverChartIndex(),I.touches.length===1?(I=this.normalize(I),X.isInsidePlot(I.chartX-X.plotLeft,I.chartY-X.plotTop,{visiblePlotOnly:!0})&&!X.openMenu?(V&&this.runPointActions(I),I.type==="touchmove"&&(V=this.pinchDown,P=V[0]?4<=Math.sqrt(Math.pow(V[0].chartX-I.chartX,2)+Math.pow(V[0].chartY-I.chartY,2)):!1),j(P,!0)&&this.pinch(I)):V&&this.reset()):I.touches.length===2&&this.pinch(I)}touchSelect(I){return!(!this.chart.options.chart.zooming.singleTouch||!I.touches||I.touches.length!==1)}zoomOption(I){var V=this.chart,X=V.options.chart;V=V.inverted;let P=X.zooming.type||"";/touch/.test(I.type)&&(P=j(X.zooming.pinchType,P)),this.zoomX=I=/x/.test(P),this.zoomY=X=/y/.test(P),this.zoomHor=I&&!V||X&&V,this.zoomVert=X&&!V||I&&V,this.hasZoom=I||X}}return function(Y){const I=[],V=[];Y.compose=function(X){y.pushUnique(V,X)&&ie(X,"beforeRender",function(){this.pointer=new Y(this,this.options)})},Y.dissolve=function(){for(let X=0,P=I.length;X<P;++X)I[X]();I.length=0}}(te||(te={})),te}),s(l,"Core/Legend/Legend.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Series/Point.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Utilities.js"]],function(h,u,y,n,w,z){const{animObject:ie,setAnimation:G}=h,{format:q}=u,{marginNames:Z}=y,{distribute:F}=w,{addEvent:U,createElement:re,css:R,defined:D,discardElement:N,find:$,fireEvent:j,isNumber:S,merge:te,pick:Y,relativeLength:I,stableSort:V,syncTimeout:X}=z;class P{constructor(_,v){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=_,this.init(_,v)}init(_,v){this.chart=_,this.setOptions(v),v.enabled&&(this.render(),U(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),U(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(_){const v=Y(_.padding,8);this.options=_,this.chart.styledMode||(this.itemStyle=_.itemStyle,this.itemHiddenStyle=te(this.itemStyle,_.itemHiddenStyle)),this.itemMarginTop=_.itemMarginTop,this.itemMarginBottom=_.itemMarginBottom,this.padding=v,this.initialItemY=v-5,this.symbolWidth=Y(_.symbolWidth,16),this.pages=[],this.proximate=_.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(_,v){const M=this.chart;this.setOptions(te(!0,this.options,_)),this.destroy(),M.isDirtyLegend=M.isDirtyBox=!0,Y(v,!0)&&M.redraw(),j(this,"afterUpdate")}colorizeItem(_,v){const{group:M,label:O,line:ee,symbol:ae}=_.legendItem||{};if(M&&M[v?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var K=this.options;const pe=this.itemHiddenStyle.color;K=v?K.itemStyle.color:pe;const Me=v&&_.color||pe,Pe=_.options&&_.options.marker;let W={fill:Me};O&&O.css({fill:K}),ee&&ee.attr({stroke:Me}),ae&&(Pe&&ae.isMarker&&(W=_.pointAttribs(),v||(W.stroke=W.fill=pe)),ae.attr(W))}j(this,"afterColorizeItem",{item:_,visible:v})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(_){const{group:v,x:M=0,y:O=0}=_.legendItem||{};var ee=this.options,ae=ee.symbolPadding;const K=!ee.rtl;ee=_.checkbox,v&&v.element&&(ae={translateX:K?M:this.legendWidth-M-2*ae-4,translateY:O},v[D(v.translateY)?"animate":"attr"](ae,void 0,()=>{j(this,"afterPositionItem",{item:_})})),ee&&(ee.x=M,ee.y=O)}destroyItem(_){const v=_.checkbox,M=_.legendItem||{};for(const O of["group","label","line","symbol"])M[O]&&(M[O]=M[O].destroy());v&&N(v),_.legendItem=void 0}destroy(){for(const _ of this.getAllItems())this.destroyItem(_);for(const _ of"clipRect up down pager nav box title group".split(" "))this[_]&&(this[_]=this[_].destroy());this.display=null}positionCheckboxes(){const _=this.group&&this.group.alignAttr,v=this.clipHeight||this.legendHeight,M=this.titleHeight;let O;_&&(O=_.translateY,this.allItems.forEach(function(ee){const ae=ee.checkbox;let K;ae&&(K=O+M+ae.y+(this.scrollOffset||0)+3,R(ae,{left:_.translateX+ee.checkboxOffset+ae.x-20+"px",top:K+"px",display:this.proximate||K>O-6&&K<O+v-6?"":"none"}))},this))}renderTitle(){var _=this.options;const v=this.padding,M=_.title;let O=0;M.text&&(this.title||(this.title=this.chart.renderer.label(M.text,v-3,v-4,void 0,void 0,void 0,_.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(M.style),this.title.add(this.group)),M.width||this.title.css({width:this.maxLegendWidth+"px"}),_=this.title.getBBox(),O=_.height,this.offsetWidth=_.width,this.contentGroup.attr({translateY:O})),this.titleHeight=O}setText(_){const v=this.options;_.legendItem.label.attr({text:v.labelFormat?q(v.labelFormat,_,this.chart):v.labelFormatter.call(_)})}renderItem(_){const v=_.legendItem=_.legendItem||{};var M=this.chart,O=M.renderer;const ee=this.options,ae=this.symbolWidth,K=ee.symbolPadding||0,pe=this.itemStyle,Me=this.itemHiddenStyle,Pe=ee.layout==="horizontal"?Y(ee.itemDistance,20):0,W=!ee.rtl,le=!_.series,ue=!le&&_.series.drawLegendSymbol?_.series:_;var xe=ue.options;const Le=this.createCheckboxForItem&&xe&&xe.showCheckbox,oe=ee.useHTML,ve=_.options.className;let _e=v.label;xe=ae+K+Pe+(Le?20:0),_e||(v.group=O.g("legend-item").addClass("highcharts-"+ue.type+"-series highcharts-color-"+_.colorIndex+(ve?" "+ve:"")+(le?" highcharts-series-"+_.index:"")).attr({zIndex:1}).add(this.scrollGroup),v.label=_e=O.text("",W?ae+K:-K,this.baseline||0,oe),M.styledMode||_e.css(te(_.visible?pe:Me)),_e.attr({align:W?"left":"right",zIndex:2}).add(v.group),this.baseline||(this.fontMetrics=O.fontMetrics(_e),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_e.attr("y",this.baseline),this.symbolHeight=Y(ee.symbolHeight,this.fontMetrics.f),ee.squareSymbol&&(this.symbolWidth=Y(ee.symbolWidth,Math.max(this.symbolHeight,16)),xe=this.symbolWidth+K+Pe+(Le?20:0),W&&_e.attr("x",this.symbolWidth+K))),ue.drawLegendSymbol(this,_),this.setItemEvents&&this.setItemEvents(_,_e,oe)),Le&&!_.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(_),this.colorizeItem(_,_.visible),!M.styledMode&&pe.width||_e.css({width:(ee.itemWidth||this.widthOption||M.spacingBox.width)-xe+"px"}),this.setText(_),M=_e.getBBox(),O=this.fontMetrics&&this.fontMetrics.h||0,_.itemWidth=_.checkboxOffset=ee.itemWidth||v.labelWidth||M.width+xe,this.maxItemWidth=Math.max(this.maxItemWidth,_.itemWidth),this.totalItemWidth+=_.itemWidth,this.itemHeight=_.itemHeight=Math.round(v.labelHeight||(M.height>1.5*O?M.height:O))}layoutItem(_){var v=this.options;const M=this.padding,O=v.layout==="horizontal",ee=_.itemHeight,ae=this.itemMarginBottom,K=this.itemMarginTop,pe=O?Y(v.itemDistance,20):0,Me=this.maxLegendWidth;v=v.alignColumns&&this.totalItemWidth>Me?this.maxItemWidth:_.itemWidth;const Pe=_.legendItem||{};O&&this.itemX-M+v>Me&&(this.itemX=M,this.lastLineHeight&&(this.itemY+=K+this.lastLineHeight+ae),this.lastLineHeight=0),this.lastItemY=K+this.itemY+ae,this.lastLineHeight=Math.max(ee,this.lastLineHeight),Pe.x=this.itemX,Pe.y=this.itemY,O?this.itemX+=v:(this.itemY+=K+ee+ae,this.lastLineHeight=ee),this.offsetWidth=this.widthOption||Math.max((O?this.itemX-M-(_.checkbox?0:pe):v)+M,this.offsetWidth)}getAllItems(){let _=[];return this.chart.series.forEach(function(v){const M=v&&v.options;v&&Y(M.showInLegend,D(M.linkedTo)?!1:void 0,!0)&&(_=_.concat((v.legendItem||{}).labels||(M.legendType==="point"?v.data:v)))}),j(this,"afterGetAllItems",{allItems:_}),_}getAlignment(){const _=this.options;return this.proximate?_.align.charAt(0)+"tv":_.floating?"":_.align.charAt(0)+_.verticalAlign.charAt(0)+_.layout.charAt(0)}adjustMargins(_,v){const M=this.chart,O=this.options,ee=this.getAlignment();ee&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(ae,K){ae.test(ee)&&!D(_[K])&&(M[Z[K]]=Math.max(M[Z[K]],M.legend[(K+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][K]*O[K%2?"x":"y"]+Y(O.margin,12)+v[K]+(M.titleOffset[K]||0)))})}proximatePositions(){const _=this.chart,v=[],M=this.options.align==="left";this.allItems.forEach(function(ee){var ae,K=M;let pe;ee.yAxis&&(ee.xAxis.options.reversed&&(K=!K),ee.points&&(ae=$(K?ee.points:ee.points.slice(0).reverse(),function(Me){return S(Me.plotY)})),K=this.itemMarginTop+ee.legendItem.label.getBBox().height+this.itemMarginBottom,pe=ee.yAxis.top-_.plotTop,ee.visible?(ae=ae?ae.plotY:ee.yAxis.height,ae+=pe-.3*K):ae=pe+ee.yAxis.height,v.push({target:ae,size:K,item:ee}))},this);let O;for(const ee of F(v,_.plotHeight))O=ee.item.legendItem||{},S(ee.pos)&&(O.y=_.plotTop-_.spacing[0]+ee.pos)}render(){const _=this.chart,v=_.renderer,M=this.options,O=this.padding;var ee=this.getAllItems();let ae,K=this.group,pe=this.box;this.itemX=O,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=I(M.width,_.spacingBox.width-O);var Me=_.spacingBox.width-2*O-M.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(Me/=2),this.maxLegendWidth=this.widthOption||Me,K||(this.group=K=v.g("legend").addClass(M.className||"").attr({zIndex:7}).add(),this.contentGroup=v.g().attr({zIndex:1}).add(K),this.scrollGroup=v.g().add(this.contentGroup)),this.renderTitle(),V(ee,(Pe,W)=>(Pe.options&&Pe.options.legendIndex||0)-(W.options&&W.options.legendIndex||0)),M.reversed&&ee.reverse(),this.allItems=ee,this.display=Me=!!ee.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,ee.forEach(this.renderItem,this),ee.forEach(this.layoutItem,this),ee=(this.widthOption||this.offsetWidth)+O,ae=this.lastItemY+this.lastLineHeight+this.titleHeight,ae=this.handleOverflow(ae),ae+=O,pe||(this.box=pe=v.rect().addClass("highcharts-legend-box").attr({r:M.borderRadius}).add(K)),_.styledMode||pe.attr({stroke:M.borderColor,"stroke-width":M.borderWidth||0,fill:M.backgroundColor||"none"}).shadow(M.shadow),0<ee&&0<ae&&pe[pe.placed?"animate":"attr"](pe.crisp.call({},{x:0,y:0,width:ee,height:ae},pe.strokeWidth())),K[Me?"show":"hide"](),_.styledMode&&K.getStyle("display")==="none"&&(ee=ae=0),this.legendWidth=ee,this.legendHeight=ae,Me&&this.align(),this.proximate||this.positionItems(),j(this,"afterRender")}align(_=this.chart.spacingBox){const v=this.chart,M=this.options;let O=_.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<v.titleOffset[0]?O+=v.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<v.titleOffset[2]&&(O-=v.titleOffset[2]),O!==_.y&&(_=te(_,{y:O})),v.hasRendered||(this.group.placed=!1),this.group.align(te(M,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":M.verticalAlign}),!0,_)}handleOverflow(_){const v=this,M=this.chart,O=M.renderer,ee=this.options;var ae=ee.y;const K=ee.verticalAlign==="top",pe=this.padding,Me=ee.maxHeight,Pe=ee.navigation,W=Y(Pe.animation,!0),le=Pe.arrowSize||12,ue=this.pages,xe=this.allItems,Le=function(Ie){typeof Ie=="number"?ye.attr({height:Ie}):ye&&(v.clipRect=ye.destroy(),v.contentGroup.clip()),v.contentGroup.div&&(v.contentGroup.div.style.clip=Ie?"rect("+pe+"px,9999px,"+(pe+Ie)+"px,0)":"auto")},oe=function(Ie){return v[Ie]=O.circle(0,0,1.3*le).translate(le/2,le/2).add(fe),M.styledMode||v[Ie].attr("fill","rgba(0,0,0,0.0001)"),v[Ie]};let ve,_e,se;ae=M.spacingBox.height+(K?-ae:ae)-pe;let fe=this.nav,ye=this.clipRect;return ee.layout!=="horizontal"||ee.verticalAlign==="middle"||ee.floating||(ae/=2),Me&&(ae=Math.min(ae,Me)),ue.length=0,_&&0<ae&&_>ae&&Pe.enabled!==!1?(this.clipHeight=ve=Math.max(ae-20-this.titleHeight-pe,0),this.currentPage=Y(this.currentPage,1),this.fullHeight=_,xe.forEach((Ie,ke)=>{se=Ie.legendItem||{},Ie=se.y||0;const Ue=Math.round(se.label.getBBox().height);let st=ue.length;(!st||Ie-ue[st-1]>ve&&(_e||Ie)!==ue[st-1])&&(ue.push(_e||Ie),st++),se.pageIx=st-1,_e&&((xe[ke-1].legendItem||{}).pageIx=st-1),ke===xe.length-1&&Ie+Ue-ue[st-1]>ve&&Ie>ue[st-1]&&(ue.push(Ie),se.pageIx=st),Ie!==_e&&(_e=Ie)}),ye||(ye=v.clipRect=O.clipRect(0,pe-2,9999,0),v.contentGroup.clip(ye)),Le(ve),fe||(this.nav=fe=O.g().attr({zIndex:1}).add(this.group),this.up=O.symbol("triangle",0,0,le,le).add(fe),oe("upTracker").on("click",function(){v.scroll(-1,W)}),this.pager=O.text("",15,10).addClass("highcharts-legend-navigation"),!M.styledMode&&Pe.style&&this.pager.css(Pe.style),this.pager.add(fe),this.down=O.symbol("triangle-down",0,0,le,le).add(fe),oe("downTracker").on("click",function(){v.scroll(1,W)})),v.scroll(0),_=ae):fe&&(Le(),this.nav=fe.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),_}scroll(_,v){const M=this.chart,O=this.pages,ee=O.length,ae=this.clipHeight,K=this.options.navigation,pe=this.pager,Me=this.padding;let Pe=this.currentPage+_;Pe>ee&&(Pe=ee),0<Pe&&(typeof v<"u"&&G(v,M),this.nav.attr({translateX:Me,translateY:ae+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(W){W.attr({class:Pe===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),pe.attr({text:Pe+"/"+ee}),[this.down,this.downTracker].forEach(function(W){W.attr({x:18+this.pager.getBBox().width,class:Pe===ee?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),M.styledMode||(this.up.attr({fill:Pe===1?K.inactiveColor:K.activeColor}),this.upTracker.css({cursor:Pe===1?"default":"pointer"}),this.down.attr({fill:Pe===ee?K.inactiveColor:K.activeColor}),this.downTracker.css({cursor:Pe===ee?"default":"pointer"})),this.scrollOffset=-O[Pe-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=Pe,this.positionCheckboxes(),_=ie(Y(v,M.renderer.globalAnimation,!0)),X(()=>{j(this,"afterScroll",{currentPage:Pe})},_.duration))}setItemEvents(_,v,M){const O=this,ee=_.legendItem||{},ae=O.chart.renderer.boxWrapper,K=_ instanceof n,pe="highcharts-legend-"+(K?"point":"series")+"-active",Me=O.chart.styledMode;M=M?[v,ee.symbol]:[ee.group];const Pe=W=>{O.allItems.forEach(le=>{_!==le&&[le].concat(le.linkedSeries||[]).forEach(ue=>{ue.setState(W,!K)})})};for(const W of M)W&&W.on("mouseover",function(){_.visible&&Pe("inactive"),_.setState("hover"),_.visible&&ae.addClass(pe),Me||v.css(O.options.itemHoverStyle)}).on("mouseout",function(){O.chart.styledMode||v.css(te(_.visible?O.itemStyle:O.itemHiddenStyle)),Pe(""),ae.removeClass(pe),_.setState()}).on("click",function(le){const ue=function(){_.setVisible&&_.setVisible(),Pe(_.visible?"inactive":"")};ae.removeClass(pe),le={browserEvent:le},_.firePointEvent?_.firePointEvent("legendItemClick",le,ue):j(_,"legendItemClick",le,ue)})}createCheckboxForItem(_){_.checkbox=re("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:_.selected,defaultChecked:_.selected},this.options.itemCheckboxStyle,this.chart.container),U(_.checkbox,"click",function(v){j(_.series||_,"checkboxClick",{checked:v.target.checked,item:_},function(){_.select()})})}}return function(L){const _=[];L.compose=function(v){z.pushUnique(_,v)&&U(v,"beforeMargins",function(){this.legend=new L(this,this.options.legend)})}}(P||(P={})),P}),s(l,"Core/Series/SeriesRegistry.js",[l["Core/Globals.js"],l["Core/Defaults.js"],l["Core/Series/Point.js"],l["Core/Utilities.js"]],function(h,u,y,n){const{defaultOptions:w}=u,{extendClass:z,merge:ie}=n;var G;return function(q){function Z(F,U){const re=w.plotOptions||{},R=U.defaultOptions,D=U.prototype;D.type=F,D.pointClass||(D.pointClass=y),R&&(re[F]=R),q.seriesTypes[F]=U}q.seriesTypes=h.seriesTypes,q.registerSeriesType=Z,q.seriesType=function(F,U,re,R,D){const N=w.plotOptions||{};return U=U||"",N[F]=ie(N[U],re),Z(F,z(q.seriesTypes[U]||function(){},R)),q.seriesTypes[F].prototype.type=F,D&&(q.seriesTypes[F].prototype.pointClass=z(y,D)),q.seriesTypes[F]}}(G||(G={})),G}),s(l,"Core/Chart/Chart.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Defaults.js"],l["Core/FormatUtilities.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Time.js"],l["Core/Utilities.js"],l["Core/Renderer/HTML/AST.js"]],function(h,u,y,n,w,z,ie,G,q,Z,F,U){const{animate:re,animObject:R,setAnimation:D}=h,{defaultOptions:N,defaultTime:$}=y,{numberFormat:j}=n,{registerEventOptions:S}=w,{charts:te,doc:Y,marginNames:I,svg:V,win:X}=z,{seriesTypes:P}=G,{addEvent:L,attr:_,cleanRecursively:v,createElement:M,css:O,defined:ee,discardElement:ae,erase:K,error:pe,extend:Me,find:Pe,fireEvent:W,getStyle:le,isArray:ue,isNumber:xe,isObject:Le,isString:oe,merge:ve,objectEach:_e,pick:se,pInt:fe,relativeLength:ye,removeEvent:Ie,splat:ke,syncTimeout:Ue,uniqueKey:st}=F;class it{static chart(Ae,ze,je){return new it(Ae,ze,je)}constructor(Ae,ze,je){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Ae,ze,je)}getArgs(Ae,ze,je){oe(Ae)||Ae.nodeName?(this.renderTo=Ae,this.init(ze,je)):this.init(Ae,ze)}init(Ae,ze){const je=Ae.plotOptions||{};W(this,"init",{args:arguments},function(){const $e=ve(N,Ae),nt=$e.chart;_e($e.plotOptions,function(jt,Gt){Le(jt)&&(jt.tooltip=je[Gt]&&ve(je[Gt].tooltip)||void 0)}),$e.tooltip.userOptions=Ae.chart&&Ae.chart.forExport&&Ae.tooltip.userOptions||Ae.tooltip,this.userOptions=Ae,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=ze,this.isResizing=0;const bt=nt.zooming=nt.zooming||{};Ae.chart&&!Ae.chart.zooming&&(bt.resetButton=nt.resetZoomButton),bt.key=se(bt.key,nt.zoomKey),bt.pinchType=se(bt.pinchType,nt.pinchType),bt.singleTouch=se(bt.singleTouch,nt.zoomBySingleTouch),bt.type=se(bt.type,nt.zoomType),this.options=$e,this.axes=[],this.series=[],this.time=Ae.time&&Object.keys(Ae.time).length?new Z(Ae.time):z.time,this.numberFormatter=nt.numberFormatter||j,this.styledMode=nt.styledMode,this.hasCartesianSeries=nt.showAxes,this.index=te.length,te.push(this),z.chartCount++,S(this,nt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,W(this,"afterInit"),this.firstRender()})}initSeries(Ae){var ze=this.options.chart;ze=Ae.type||ze.type;const je=P[ze];return je||pe(17,!0,this,{missingModuleFor:ze}),ze=new je,typeof ze.init=="function"&&ze.init(this,Ae),ze}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(Ae){Ae.points||Ae.data||!Ae.enabledDataSorting||Ae.setData(Ae.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(Ae,ze){return Ae.linkedSeries.length||ze.linkedSeries.length?ze.linkedSeries.length-Ae.linkedSeries.length:0})}orderSeries(Ae){const ze=this.series;for(let je=Ae||0,$e=ze.length;je<$e;++je)ze[je]&&(ze[je].index=je,ze[je].name=ze[je].getName())}isInsidePlot(Ae,ze,je={}){const{inverted:$e,plotBox:nt,plotLeft:bt,plotTop:jt,scrollablePlotBox:Gt}=this;var yi=0;let ri=0;je.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:yi,scrollTop:ri}=this.scrollingContainer);const Ci=je.series,Gi=je.visiblePlotOnly&&Gt||nt;var zi=je.inverted?ze:Ae;if(ze=je.inverted?Ae:ze,Ae={x:zi,y:ze,isInsidePlot:!0,options:je},!je.ignoreX){const Xi=Ci&&($e&&!this.polar?Ci.yAxis:Ci.xAxis)||{pos:bt,len:1/0};zi=je.paneCoordinates?Xi.pos+zi:bt+zi,zi>=Math.max(yi+bt,Xi.pos)&&zi<=Math.min(yi+bt+Gi.width,Xi.pos+Xi.len)||(Ae.isInsidePlot=!1)}return!je.ignoreY&&Ae.isInsidePlot&&(yi=!$e&&je.axis&&!je.axis.isXAxis&&je.axis||Ci&&($e?Ci.xAxis:Ci.yAxis)||{pos:jt,len:1/0},je=je.paneCoordinates?yi.pos+ze:jt+ze,je>=Math.max(ri+jt,yi.pos)&&je<=Math.min(ri+jt+Gi.height,yi.pos+yi.len)||(Ae.isInsidePlot=!1)),W(this,"afterIsInsidePlot",Ae),Ae.isInsidePlot}redraw(Ae){W(this,"beforeRedraw");const ze=this.hasCartesianSeries?this.axes:this.colorAxis||[],je=this.series,$e=this.pointer,nt=this.legend,bt=this.userOptions.legend,jt=this.renderer,Gt=jt.isHidden(),yi=[];let ri,Ci,Gi=this.isDirtyBox,zi=this.isDirtyLegend,Xi;for(jt.rootFontSize=jt.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),D(this.hasRendered?Ae:!1,this),Gt&&this.temporaryDisplay(),this.layOutTitles(),Ae=je.length;Ae--;)if(Xi=je[Ae],(Xi.options.stacking||Xi.options.centerInCategory)&&(Ci=!0,Xi.isDirty)){ri=!0;break}if(ri)for(Ae=je.length;Ae--;)Xi=je[Ae],Xi.options.stacking&&(Xi.isDirty=!0);je.forEach(function(Li){Li.isDirty&&(Li.options.legendType==="point"?(typeof Li.updateTotals=="function"&&Li.updateTotals(),zi=!0):bt&&(bt.labelFormatter||bt.labelFormat)&&(zi=!0)),Li.isDirtyData&&W(Li,"updatedData")}),zi&&nt&&nt.options.enabled&&(nt.render(),this.isDirtyLegend=!1),Ci&&this.getStacks(),ze.forEach(function(Li){Li.updateNames(),Li.setScale()}),this.getMargins(),ze.forEach(function(Li){Li.isDirty&&(Gi=!0)}),ze.forEach(function(Li){const gn=Li.min+","+Li.max;Li.extKey!==gn&&(Li.extKey=gn,yi.push(function(){W(Li,"afterSetExtremes",Me(Li.eventArgs,Li.getExtremes())),delete Li.eventArgs})),(Gi||Ci)&&Li.redraw()}),Gi&&this.drawChartBox(),W(this,"predraw"),je.forEach(function(Li){(Gi||Li.isDirty)&&Li.visible&&Li.redraw(),Li.isDirtyData=!1}),$e&&$e.reset(!0),jt.draw(),W(this,"redraw"),W(this,"render"),Gt&&this.temporaryDisplay(!0),yi.forEach(function(Li){Li.call()})}get(Ae){function ze(nt){return nt.id===Ae||nt.options&&nt.options.id===Ae}const je=this.series;let $e=Pe(this.axes,ze)||Pe(this.series,ze);for(let nt=0;!$e&&nt<je.length;nt++)$e=Pe(je[nt].points||[],ze);return $e}getAxes(){const Ae=this;var ze=this.options;const je=ze.xAxis=ke(ze.xAxis||{});ze=ze.yAxis=ke(ze.yAxis||{}),W(this,"getAxes"),je.forEach(function($e,nt){$e.index=nt,$e.isX=!0}),ze.forEach(function($e,nt){$e.index=nt}),je.concat(ze).forEach(function($e){new u(Ae,$e)}),W(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((Ae,ze)=>(ze.getPointsCollection().forEach(je=>{se(je.selectedStaging,je.selected)&&Ae.push(je)}),Ae),[])}getSelectedSeries(){return this.series.filter(function(Ae){return Ae.selected})}setTitle(Ae,ze,je){this.applyDescription("title",Ae),this.applyDescription("subtitle",ze),this.applyDescription("caption",void 0),this.layOutTitles(je)}applyDescription(Ae,ze){const je=this;var $e=Ae==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};$e=this.options[Ae]=ve(!this.styledMode&&{style:$e},this.options[Ae],ze);let nt=this[Ae];nt&&ze&&(this[Ae]=nt=nt.destroy()),$e&&!nt&&(nt=this.renderer.text($e.text,0,0,$e.useHTML).attr({align:$e.align,class:"highcharts-"+Ae,zIndex:$e.zIndex||4}).add(),nt.update=function(bt){je[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Ae]](bt)},this.styledMode||nt.css($e.style),this[Ae]=nt)}layOutTitles(Ae){const ze=[0,0,0],je=this.renderer,$e=this.spacingBox;["title","subtitle","caption"].forEach(function(bt){const jt=this[bt],Gt=this.options[bt],yi=Gt.verticalAlign||"top";if(bt=bt==="title"?yi==="top"?-3:0:yi==="top"?ze[0]+2:0,jt){jt.css({width:(Gt.width||$e.width+(Gt.widthAdjust||0))+"px"});const ri=je.fontMetrics(jt).b,Ci=Math.round(jt.getBBox(Gt.useHTML).height);jt.align(Me({y:yi==="bottom"?ri:bt+ri,height:Ci},Gt),!1,"spacingBox"),Gt.floating||(yi==="top"?ze[0]=Math.ceil(ze[0]+Ci):yi==="bottom"&&(ze[2]=Math.ceil(ze[2]+Ci)))}},this),ze[0]&&(this.options.title.verticalAlign||"top")==="top"&&(ze[0]+=this.options.title.margin),ze[2]&&this.options.caption.verticalAlign==="bottom"&&(ze[2]+=this.options.caption.margin);const nt=!this.titleOffset||this.titleOffset.join(",")!==ze.join(",");this.titleOffset=ze,W(this,"afterLayOutTitles"),!this.isDirtyBox&&nt&&(this.isDirtyBox=this.isDirtyLegend=nt,this.hasRendered&&se(Ae,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:le(this.renderTo,"width",!0)||0,height:le(this.renderTo,"height",!0)||0}}getChartSize(){var Ae=this.options.chart;const ze=Ae.width;Ae=Ae.height;const je=this.getContainerBox();this.chartWidth=Math.max(0,ze||je.width||600),this.chartHeight=Math.max(0,ye(Ae,this.chartWidth)||(1<je.height?je.height:400)),this.containerBox=je}temporaryDisplay(Ae){let ze=this.renderTo;if(Ae)for(;ze&&ze.style;)ze.hcOrigStyle&&(O(ze,ze.hcOrigStyle),delete ze.hcOrigStyle),ze.hcOrigDetached&&(Y.body.removeChild(ze),ze.hcOrigDetached=!1),ze=ze.parentNode;else for(;ze&&ze.style&&(Y.body.contains(ze)||ze.parentNode||(ze.hcOrigDetached=!0,Y.body.appendChild(ze)),(le(ze,"display",!1)==="none"||ze.hcOricDetached)&&(ze.hcOrigStyle={display:ze.style.display,height:ze.style.height,overflow:ze.style.overflow},Ae={display:"block",overflow:"hidden"},ze!==this.renderTo&&(Ae.height=0),O(ze,Ae),ze.offsetWidth||ze.style.setProperty("display","block","important")),ze=ze.parentNode,ze!==Y.body););}setClassName(Ae){this.container.className="highcharts-container "+(Ae||"")}getContainer(){const Ae=this.options,ze=Ae.chart;var je=st();let $e,nt=this.renderTo;nt||(this.renderTo=nt=ze.renderTo),oe(nt)&&(this.renderTo=nt=Y.getElementById(nt)),nt||pe(13,!0,this);var bt=fe(_(nt,"data-highcharts-chart"));xe(bt)&&te[bt]&&te[bt].hasRendered&&te[bt].destroy(),_(nt,"data-highcharts-chart",this.index),nt.innerHTML=U.emptyHTML,ze.skipClone||nt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),bt=this.chartWidth;const jt=this.chartHeight;if(O(nt,{overflow:"hidden"}),this.styledMode||($e=Me({position:"relative",overflow:"hidden",width:bt+"px",height:jt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},ze.style||{})),this.container=je=M("div",{id:je},$e,nt),this._cursor=je.style.cursor,this.renderer=new(ze.renderer||!V?ie.getRendererType(ze.renderer):q)(je,bt,jt,void 0,ze.forExport,Ae.exporting&&Ae.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),D(void 0,this),this.setClassName(ze.className),this.styledMode)for(const Gt in Ae.defs)this.renderer.definition(Ae.defs[Gt]);else this.renderer.setStyle(ze.style);this.renderer.chartIndex=this.index,W(this,"afterGetContainer")}getMargins(Ae){const{spacing:ze,margin:je,titleOffset:$e}=this;this.resetMargins(),$e[0]&&!ee(je[0])&&(this.plotTop=Math.max(this.plotTop,$e[0]+ze[0])),$e[2]&&!ee(je[2])&&(this.marginBottom=Math.max(this.marginBottom,$e[2]+ze[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(je,ze),W(this,"getMargins"),Ae||this.getAxisMargins()}getAxisMargins(){const Ae=this,ze=Ae.axisOffset=[0,0,0,0],je=Ae.colorAxis,$e=Ae.margin,nt=function(bt){bt.forEach(function(jt){jt.visible&&jt.getOffset()})};Ae.hasCartesianSeries?nt(Ae.axes):je&&je.length&&nt(je),I.forEach(function(bt,jt){ee($e[jt])||(Ae[bt]+=ze[jt])}),Ae.setChartSize()}reflow(Ae){const ze=this;var je=ze.options.chart;je=ee(je.width)&&ee(je.height);const $e=ze.containerBox,nt=ze.getContainerBox();delete ze.pointer.chartPosition,!je&&!ze.isPrinting&&$e&&nt.width&&((nt.width!==$e.width||nt.height!==$e.height)&&(F.clearTimeout(ze.reflowTimeout),ze.reflowTimeout=Ue(function(){ze.container&&ze.setSize(void 0,void 0,!1)},Ae?100:0)),ze.containerBox=nt)}setReflow(){const Ae=this;var ze=je=>{var $e;!(($e=Ae.options)===null||$e===void 0)&&$e.chart.reflow&&Ae.hasLoaded&&Ae.reflow(je)};typeof ResizeObserver=="function"?new ResizeObserver(ze).observe(Ae.renderTo):(ze=L(X,"resize",ze),L(this,"destroy",ze))}setSize(Ae,ze,je){const $e=this,nt=$e.renderer;$e.isResizing+=1,D(je,$e),je=nt.globalAnimation,$e.oldChartHeight=$e.chartHeight,$e.oldChartWidth=$e.chartWidth,typeof Ae<"u"&&($e.options.chart.width=Ae),typeof ze<"u"&&($e.options.chart.height=ze),$e.getChartSize(),$e.styledMode||(je?re:O)($e.container,{width:$e.chartWidth+"px",height:$e.chartHeight+"px"},je),$e.setChartSize(!0),nt.setSize($e.chartWidth,$e.chartHeight,je),$e.axes.forEach(function(bt){bt.isDirty=!0,bt.setScale()}),$e.isDirtyLegend=!0,$e.isDirtyBox=!0,$e.layOutTitles(),$e.getMargins(),$e.redraw(je),$e.oldChartHeight=null,W($e,"resize"),Ue(function(){$e&&W($e,"endResize",null,function(){--$e.isResizing})},R(je).duration)}setChartSize(Ae){var ze=this.inverted;const je=this.renderer;var $e=this.chartWidth,nt=this.chartHeight;const bt=this.options.chart,jt=this.spacing,Gt=this.clipOffset;let yi,ri,Ci,Gi;this.plotLeft=yi=Math.round(this.plotLeft),this.plotTop=ri=Math.round(this.plotTop),this.plotWidth=Ci=Math.max(0,Math.round($e-yi-this.marginRight)),this.plotHeight=Gi=Math.max(0,Math.round(nt-ri-this.marginBottom)),this.plotSizeX=ze?Gi:Ci,this.plotSizeY=ze?Ci:Gi,this.plotBorderWidth=bt.plotBorderWidth||0,this.spacingBox=je.spacingBox={x:jt[3],y:jt[0],width:$e-jt[3]-jt[1],height:nt-jt[0]-jt[2]},this.plotBox=je.plotBox={x:yi,y:ri,width:Ci,height:Gi},ze=2*Math.floor(this.plotBorderWidth/2),$e=Math.ceil(Math.max(ze,Gt[3])/2),nt=Math.ceil(Math.max(ze,Gt[0])/2),this.clipBox={x:$e,y:nt,width:Math.floor(this.plotSizeX-Math.max(ze,Gt[1])/2-$e),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(ze,Gt[2])/2-nt))},Ae||(this.axes.forEach(function(zi){zi.setAxisSize(),zi.setAxisTranslation()}),je.alignElements()),W(this,"afterSetChartSize",{skipAxes:Ae})}resetMargins(){W(this,"resetMargins");const Ae=this,ze=Ae.options.chart;["margin","spacing"].forEach(function(je){const $e=ze[je],nt=Le($e)?$e:[$e,$e,$e,$e];["Top","Right","Bottom","Left"].forEach(function(bt,jt){Ae[je][jt]=se(ze[je+bt],nt[jt])})}),I.forEach(function(je,$e){Ae[je]=se(Ae.margin[$e],Ae.spacing[$e])}),Ae.axisOffset=[0,0,0,0],Ae.clipOffset=[0,0,0,0]}drawChartBox(){const Ae=this.options.chart,ze=this.renderer,je=this.chartWidth,$e=this.chartHeight,nt=this.styledMode,bt=this.plotBGImage;var jt=Ae.backgroundColor;const Gt=Ae.plotBackgroundColor,yi=Ae.plotBackgroundImage,ri=this.plotLeft,Ci=this.plotTop,Gi=this.plotWidth,zi=this.plotHeight,Xi=this.plotBox,Li=this.clipRect,gn=this.clipBox;let bn=this.chartBackground,$n=this.plotBackground,bs=this.plotBorder,hr,Cr,Ar="animate";bn||(this.chartBackground=bn=ze.rect().addClass("highcharts-background").add(),Ar="attr"),nt?hr=Cr=bn.strokeWidth():(hr=Ae.borderWidth||0,Cr=hr+(Ae.shadow?8:0),jt={fill:jt||"none"},(hr||bn["stroke-width"])&&(jt.stroke=Ae.borderColor,jt["stroke-width"]=hr),bn.attr(jt).shadow(Ae.shadow)),bn[Ar]({x:Cr/2,y:Cr/2,width:je-Cr-hr%2,height:$e-Cr-hr%2,r:Ae.borderRadius}),Ar="animate",$n||(Ar="attr",this.plotBackground=$n=ze.rect().addClass("highcharts-plot-background").add()),$n[Ar](Xi),nt||($n.attr({fill:Gt||"none"}).shadow(Ae.plotShadow),yi&&(bt?(yi!==bt.attr("href")&&bt.attr("href",yi),bt.animate(Xi)):this.plotBGImage=ze.image(yi,ri,Ci,Gi,zi).add())),Li?Li.animate({width:gn.width,height:gn.height}):this.clipRect=ze.clipRect(gn),Ar="animate",bs||(Ar="attr",this.plotBorder=bs=ze.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),nt||bs.attr({stroke:Ae.plotBorderColor,"stroke-width":Ae.plotBorderWidth||0,fill:"none"}),bs[Ar](bs.crisp({x:ri,y:Ci,width:Gi,height:zi},-bs.strokeWidth())),this.isDirtyBox=!1,W(this,"afterDrawChartBox")}propFromSeries(){const Ae=this,ze=Ae.options.chart,je=Ae.options.series;let $e,nt,bt;["inverted","angular","polar"].forEach(function(jt){for(nt=P[ze.type],bt=ze[jt]||nt&&nt.prototype[jt],$e=je&&je.length;!bt&&$e--;)(nt=P[je[$e].type])&&nt.prototype[jt]&&(bt=!0);Ae[jt]=bt})}linkSeries(Ae){const ze=this,je=ze.series;je.forEach(function($e){$e.linkedSeries.length=0}),je.forEach(function($e){let nt=$e.options.linkedTo;oe(nt)&&(nt=nt===":previous"?ze.series[$e.index-1]:ze.get(nt))&&nt.linkedParent!==$e&&(nt.linkedSeries.push($e),$e.linkedParent=nt,nt.enabledDataSorting&&$e.setDataSortingOptions(),$e.visible=se($e.options.visible,nt.options.visible,$e.visible))}),W(this,"afterLinkSeries",{isUpdating:Ae})}renderSeries(){this.series.forEach(function(Ae){Ae.translate(),Ae.render()})}render(){const Ae=this.axes,ze=this.colorAxis,je=this.renderer,$e=function(ri){ri.forEach(function(Ci){Ci.visible&&Ci.render()})};let nt=0;this.setTitle(),W(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const bt=this.plotWidth;Ae.some(function(ri){if(ri.horiz&&ri.visible&&ri.options.labels.enabled&&ri.series.length)return nt=21,!0});const jt=this.plotHeight=Math.max(this.plotHeight-nt,0);Ae.forEach(function(ri){ri.setScale()}),this.getAxisMargins();const Gt=1.1<bt/this.plotWidth,yi=1.05<jt/this.plotHeight;(Gt||yi)&&(Ae.forEach(function(ri){(ri.horiz&&Gt||!ri.horiz&&yi)&&ri.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?$e(Ae):ze&&ze.length&&$e(ze),this.seriesGroup||(this.seriesGroup=je.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(Ae){const ze=this,je=ve(!0,this.options.credits,Ae);je.enabled&&!this.credits&&(this.credits=this.renderer.text(je.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){je.href&&(X.location.href=je.href)}).attr({align:je.position.align,zIndex:8}),ze.styledMode||this.credits.css(je.style),this.credits.add().align(je.position),this.credits.update=function($e){ze.credits=ze.credits.destroy(),ze.addCredits($e)})}destroy(){const Ae=this,ze=Ae.axes,je=Ae.series,$e=Ae.container,nt=$e&&$e.parentNode;let bt;for(W(Ae,"destroy"),Ae.renderer.forExport?K(te,Ae):te[Ae.index]=void 0,z.chartCount--,Ae.renderTo.removeAttribute("data-highcharts-chart"),Ie(Ae),bt=ze.length;bt--;)ze[bt]=ze[bt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),bt=je.length;bt--;)je[bt]=je[bt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(jt){const Gt=Ae[jt];Gt&&Gt.destroy&&(Ae[jt]=Gt.destroy())}),$e&&($e.innerHTML=U.emptyHTML,Ie($e),nt&&ae($e)),_e(Ae,function(jt,Gt){delete Ae[Gt]})}firstRender(){const Ae=this,ze=Ae.options;Ae.getContainer(),Ae.resetMargins(),Ae.setChartSize(),Ae.propFromSeries(),Ae.getAxes(),(ue(ze.series)?ze.series:[]).forEach(function(je){Ae.initSeries(je)}),Ae.linkSeries(),Ae.setSeriesData(),W(Ae,"beforeRender"),Ae.render(),Ae.pointer.getChartPosition(),!Ae.renderer.imgCount&&!Ae.hasLoaded&&Ae.onload(),Ae.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(Ae){Ae&&typeof this.index<"u"&&Ae.apply(this,[this])},this),W(this,"load"),W(this,"render"),ee(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:Ae,title:ze}=this;Ae&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(ze&&ze.element.textContent||"").replace(/</g,"&lt;")}),Ae.accessibility&&Ae.accessibility.enabled===!1||pe('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(Ae,ze,je){const $e=this;let nt;return Ae&&(ze=se(ze,!0),W($e,"addSeries",{options:Ae},function(){nt=$e.initSeries(Ae),$e.isDirtyLegend=!0,$e.linkSeries(),nt.enabledDataSorting&&nt.setData(Ae.data,!1),W($e,"afterAddSeries",{series:nt}),ze&&$e.redraw(je)})),nt}addAxis(Ae,ze,je,$e){return this.createAxis(ze?"xAxis":"yAxis",{axis:Ae,redraw:je,animation:$e})}addColorAxis(Ae,ze,je){return this.createAxis("colorAxis",{axis:Ae,redraw:ze,animation:je})}createAxis(Ae,ze){return Ae=new u(this,ve(ze.axis,{index:this[Ae].length,isX:Ae==="xAxis"})),se(ze.redraw,!0)&&this.redraw(ze.animation),Ae}showLoading(Ae){const ze=this,je=ze.options,$e=je.loading,nt=function(){bt&&O(bt,{left:ze.plotLeft+"px",top:ze.plotTop+"px",width:ze.plotWidth+"px",height:ze.plotHeight+"px"})};let bt=ze.loadingDiv,jt=ze.loadingSpan;bt||(ze.loadingDiv=bt=M("div",{className:"highcharts-loading highcharts-loading-hidden"},null,ze.container)),jt||(ze.loadingSpan=jt=M("span",{className:"highcharts-loading-inner"},null,bt),L(ze,"redraw",nt)),bt.className="highcharts-loading",U.setElementHTML(jt,se(Ae,je.lang.loading,"")),ze.styledMode||(O(bt,Me($e.style,{zIndex:10})),O(jt,$e.labelStyle),ze.loadingShown||(O(bt,{opacity:0,display:""}),re(bt,{opacity:$e.style.opacity||.5},{duration:$e.showDuration||0}))),ze.loadingShown=!0,nt()}hideLoading(){const Ae=this.options,ze=this.loadingDiv;ze&&(ze.className="highcharts-loading highcharts-loading-hidden",this.styledMode||re(ze,{opacity:0},{duration:Ae.loading.hideDuration||100,complete:function(){O(ze,{display:"none"})}})),this.loadingShown=!1}update(Ae,ze,je,$e){const nt=this,bt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},jt=Ae.isResponsiveOptions,Gt=[];let yi,ri;W(nt,"update",{options:Ae}),jt||nt.setResponsive(!1,!0),Ae=v(Ae,nt.options),nt.userOptions=ve(nt.userOptions,Ae);var Ci=Ae.chart;if(Ci){if(ve(!0,nt.options.chart,Ci),"className"in Ci&&nt.setClassName(Ci.className),"inverted"in Ci||"polar"in Ci||"type"in Ci){nt.propFromSeries();var Gi=!0}"alignTicks"in Ci&&(Gi=!0),"events"in Ci&&S(this,Ci),_e(Ci,function(zi,Xi){nt.propsRequireUpdateSeries.indexOf("chart."+Xi)!==-1&&(yi=!0),nt.propsRequireDirtyBox.indexOf(Xi)!==-1&&(nt.isDirtyBox=!0),nt.propsRequireReflow.indexOf(Xi)!==-1&&(jt?nt.isDirtyBox=!0:ri=!0)}),!nt.styledMode&&Ci.style&&nt.renderer.setStyle(nt.options.chart.style||{})}!nt.styledMode&&Ae.colors&&(this.options.colors=Ae.colors),Ae.time&&(this.time===$&&(this.time=new Z(Ae.time)),ve(!0,nt.options.time,Ae.time)),_e(Ae,function(zi,Xi){nt[Xi]&&typeof nt[Xi].update=="function"?nt[Xi].update(zi,!1):typeof nt[bt[Xi]]=="function"?nt[bt[Xi]](zi):Xi!=="colors"&&nt.collectionsWithUpdate.indexOf(Xi)===-1&&ve(!0,nt.options[Xi],Ae[Xi]),Xi!=="chart"&&nt.propsRequireUpdateSeries.indexOf(Xi)!==-1&&(yi=!0)}),this.collectionsWithUpdate.forEach(function(zi){let Xi;Ae[zi]&&(Xi=[],nt[zi].forEach(function(Li,gn){Li.options.isInternal||Xi.push(se(Li.options.index,gn))}),ke(Ae[zi]).forEach(function(Li,gn){const bn=ee(Li.id);let $n;bn&&($n=nt.get(Li.id)),!$n&&nt[zi]&&($n=nt[zi][Xi?Xi[gn]:gn])&&bn&&ee($n.options.id)&&($n=void 0),$n&&$n.coll===zi&&($n.update(Li,!1),je&&($n.touched=!0)),!$n&&je&&nt.collectionsWithInit[zi]&&(nt.collectionsWithInit[zi][0].apply(nt,[Li].concat(nt.collectionsWithInit[zi][1]||[]).concat([!1])).touched=!0)}),je&&nt[zi].forEach(function(Li){Li.touched||Li.options.isInternal?delete Li.touched:Gt.push(Li)}))}),Gt.forEach(function(zi){zi.chart&&zi.remove&&zi.remove(!1)}),Gi&&nt.axes.forEach(function(zi){zi.update({},!1)}),yi&&nt.getSeriesOrderByLinks().forEach(function(zi){zi.chart&&zi.update({},!1)},this),Gi=Ci&&Ci.width,Ci=Ci&&(oe(Ci.height)?ye(Ci.height,Gi||nt.chartWidth):Ci.height),ri||xe(Gi)&&Gi!==nt.chartWidth||xe(Ci)&&Ci!==nt.chartHeight?nt.setSize(Gi,Ci,$e):se(ze,!0)&&nt.redraw($e),W(nt,"afterUpdate",{options:Ae,redraw:ze,animation:$e})}setSubtitle(Ae,ze){this.applyDescription("subtitle",Ae),this.layOutTitles(ze)}setCaption(Ae,ze){this.applyDescription("caption",Ae),this.layOutTitles(ze)}showResetZoom(){function Ae(){ze.zoomOut()}const ze=this,je=N.lang,$e=ze.options.chart.zooming.resetButton,nt=$e.theme,bt=$e.relativeTo==="chart"||$e.relativeTo==="spacingBox"?null:"scrollablePlotBox";W(this,"beforeShowResetZoom",null,function(){ze.resetZoomButton=ze.renderer.button(je.resetZoom,null,null,Ae,nt).attr({align:$e.position.align,title:je.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align($e.position,!1,bt)}),W(this,"afterShowResetZoom")}zoomOut(){W(this,"selection",{resetSelection:!0},this.zoom)}zoom(Ae){const ze=this,je=ze.pointer;let $e=!1,nt;!Ae||Ae.resetSelection?(ze.axes.forEach(function(jt){nt=jt.zoom()}),je.initiated=!1):Ae.xAxis.concat(Ae.yAxis).forEach(function(jt){const Gt=jt.axis;(je[Gt.isXAxis?"zoomX":"zoomY"]&&ee(je.mouseDownX)&&ee(je.mouseDownY)&&ze.isInsidePlot(je.mouseDownX-ze.plotLeft,je.mouseDownY-ze.plotTop,{axis:Gt})||!ee(ze.inverted?je.mouseDownX:je.mouseDownY))&&(nt=Gt.zoom(jt.min,jt.max),Gt.displayBtn&&($e=!0))});const bt=ze.resetZoomButton;$e&&!bt?ze.showResetZoom():!$e&&Le(bt)&&(ze.resetZoomButton=bt.destroy()),nt&&ze.redraw(se(ze.options.chart.animation,Ae&&Ae.animation,100>ze.pointCount))}pan(Ae,ze){const je=this,$e=je.hoverPoints;ze=typeof ze=="object"?ze:{enabled:ze,type:"x"};const nt=je.options.chart;nt&&nt.panning&&(nt.panning=ze);const bt=ze.type;let jt;W(this,"pan",{originalEvent:Ae},function(){$e&&$e.forEach(function(ri){ri.setState()});let Gt=je.xAxis;bt==="xy"?Gt=Gt.concat(je.yAxis):bt==="y"&&(Gt=je.yAxis);const yi={};Gt.forEach(function(ri){if(ri.options.panningEnabled&&!ri.options.isInternal){var Ci=ri.horiz,Gi=Ae[Ci?"chartX":"chartY"];Ci=Ci?"mouseDownX":"mouseDownY";var zi=je[Ci],Xi=ri.minPointOffset||0,Li=ri.reversed&&!je.inverted||!ri.reversed&&je.inverted?-1:1,gn=ri.getExtremes(),bn=ri.toValue(zi-Gi,!0)+Xi*Li,$n=ri.toValue(zi+ri.len-Gi,!0)-(Xi*Li||ri.isXAxis&&ri.pointRangePadding||0),bs=$n<bn;Li=ri.hasVerticalPanning(),zi=bs?$n:bn,bn=bs?bn:$n;var hr=ri.panningState;!Li||ri.isXAxis||hr&&!hr.isDirty||ri.series.forEach(function(Cr){var Ar=Cr.getProcessedData(!0);Ar=Cr.getExtremes(Ar.yData,!0),hr||(hr={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),xe(Ar.dataMin)&&xe(Ar.dataMax)&&(hr.startMin=Math.min(se(Cr.options.threshold,1/0),Ar.dataMin,hr.startMin),hr.startMax=Math.max(se(Cr.options.threshold,-1/0),Ar.dataMax,hr.startMax))}),Li=Math.min(se(hr&&hr.startMin,gn.dataMin),Xi?gn.min:ri.toValue(ri.toPixels(gn.min)-ri.minPixelPadding)),$n=Math.max(se(hr&&hr.startMax,gn.dataMax),Xi?gn.max:ri.toValue(ri.toPixels(gn.max)+ri.minPixelPadding)),ri.panningState=hr,ri.isOrdinal||(Xi=Li-zi,0<Xi&&(bn+=Xi,zi=Li),Xi=bn-$n,0<Xi&&(bn=$n,zi-=Xi),ri.series.length&&zi!==gn.min&&bn!==gn.max&&zi>=Li&&bn<=$n&&(ri.setExtremes(zi,bn,!1,!1,{trigger:"pan"}),!je.resetZoomButton&&zi!==Li&&bn!==$n&&bt.match("y")&&(je.showResetZoom(),ri.displayBtn=!1),jt=!0),yi[Ci]=Gi)}}),_e(yi,(ri,Ci)=>{je[Ci]=ri}),jt&&je.redraw(!1),O(je.container,{cursor:"move"})})}}return Me(it.prototype,{callbacks:[],collectionsWithInit:{xAxis:[it.prototype.addAxis,[!0]],yAxis:[it.prototype.addAxis,[!1]],series:[it.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),it}),s(l,"Core/Legend/LegendSymbol.js",[l["Core/Utilities.js"]],function(h){const{extend:u,merge:y,pick:n}=h;var w;return function(z){z.lineMarker=function(ie,G){G=this.legendItem=this.legendItem||{};var q=this.options;const Z=ie.symbolWidth,F=ie.symbolHeight,U=F/2,re=this.chart.renderer,R=G.group;ie=ie.baseline-Math.round(.3*ie.fontMetrics.b);let D={},N=q.marker,$=0;this.chart.styledMode||(D={"stroke-width":Math.min(q.lineWidth||0,24)},q.dashStyle?D.dashstyle=q.dashStyle:q.linecap!=="square"&&(D["stroke-linecap"]="round")),G.line=re.path().addClass("highcharts-graph").attr(D).add(R),D["stroke-linecap"]&&($=Math.min(G.line.strokeWidth(),Z)/2),Z&&G.line.attr({d:[["M",$,ie],["L",Z-$,ie]]}),N&&N.enabled!==!1&&Z&&(q=Math.min(n(N.radius,U),U),this.symbol.indexOf("url")===0&&(N=y(N,{width:F,height:F}),q=0),G.symbol=G=re.symbol(this.symbol,Z/2-q,ie-q,2*q,2*q,u({context:"legend"},N)).addClass("highcharts-point").add(R),G.isMarker=!0)},z.rectangle=function(ie,G){G=G.legendItem||{};const q=ie.symbolHeight,Z=ie.options.squareSymbol;G.symbol=this.chart.renderer.rect(Z?(ie.symbolWidth-q)/2:0,ie.baseline-q+1,Z?q:ie.symbolWidth,q,n(ie.options.symbolRadius,q/2)).addClass("highcharts-point").attr({zIndex:3}).add(G.group)}}(w||(w={})),w}),s(l,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:h}=this.series.chart;return typeof this.y!="number"?"":h(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),s(l,"Core/Series/Series.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Defaults.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Legend/LegendSymbol.js"],l["Core/Series/Point.js"],l["Core/Series/SeriesDefaults.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(h,u,y,n,w,z,ie,G,q,Z){const{animObject:F,setAnimation:U}=h,{defaultOptions:re}=u,{registerEventOptions:R}=y,{hasTouch:D,svg:N,win:$}=n,{seriesTypes:j}=G,{arrayMax:S,arrayMin:te,clamp:Y,cleanRecursively:I,correctFloat:V,defined:X,erase:P,error:L,extend:_,find:v,fireEvent:M,getNestedProperty:O,isArray:ee,isNumber:ae,isString:K,merge:pe,objectEach:Me,pick:Pe,removeEvent:W,splat:le,syncTimeout:ue}=Z;class xe{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(oe,ve){M(this,"init",{options:ve});const _e=this,se=oe.series;this.eventsToUnbind=[],_e.chart=oe,_e.options=_e.setOptions(ve),ve=_e.options,_e.linkedSeries=[],_e.bindAxes(),_(_e,{name:ve.name,state:"",visible:ve.visible!==!1,selected:ve.selected===!0}),R(this,ve);const fe=ve.events;(fe&&fe.click||ve.point&&ve.point.events&&ve.point.events.click||ve.allowPointSelect)&&(oe.runTrackerClick=!0),_e.getColor(),_e.getSymbol(),_e.parallelArrays.forEach(function(Ie){_e[Ie+"Data"]||(_e[Ie+"Data"]=[])}),_e.isCartesian&&(oe.hasCartesianSeries=!0);let ye;se.length&&(ye=se[se.length-1]),_e._i=Pe(ye&&ye._i,-1)+1,_e.opacity=_e.options.opacity,oe.orderSeries(this.insert(se)),ve.dataSorting&&ve.dataSorting.enabled?_e.setDataSortingOptions():_e.points||_e.data||_e.setData(ve.data,!1),M(this,"afterInit")}is(oe){return j[oe]&&this instanceof j[oe]}insert(oe){const ve=this.options.index;let _e;if(ae(ve)){for(_e=oe.length;_e--;)if(ve>=Pe(oe[_e].options.index,oe[_e]._i)){oe.splice(_e+1,0,this);break}_e===-1&&oe.unshift(this),_e+=1}else oe.push(this);return Pe(_e,oe.length-1)}bindAxes(){const oe=this,ve=oe.options,_e=oe.chart;let se;M(this,"bindAxes",null,function(){(oe.axisTypes||[]).forEach(function(fe){let ye=0;_e[fe].forEach(function(Ie){se=Ie.options,(ve[fe]===ye&&!se.isInternal||typeof ve[fe]<"u"&&ve[fe]===se.id||typeof ve[fe]>"u"&&se.index===0)&&(oe.insert(Ie.series),oe[fe]=Ie,Ie.isDirty=!0),se.isInternal||ye++}),oe[fe]||oe.optionalAxis===fe||L(18,!0,_e)})}),M(this,"afterBindAxes")}updateParallelArrays(oe,ve,_e){const se=oe.series,fe=ae(ve)?function(ye){const Ie=ye==="y"&&se.toYData?se.toYData(oe):oe[ye];se[ye+"Data"][ve]=Ie}:function(ye){Array.prototype[ve].apply(se[ye+"Data"],_e)};se.parallelArrays.forEach(fe)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(oe){var ve=this.options;const _e=ve.pointIntervalUnit,se=ve.relativeXValue,fe=this.chart.time;let ye=this.xIncrement,Ie;return ye=Pe(ye,ve.pointStart,0),this.pointInterval=Ie=Pe(this.pointInterval,ve.pointInterval,1),se&&ae(oe)&&(Ie*=oe),_e&&(ve=new fe.Date(ye),_e==="day"?fe.set("Date",ve,fe.get("Date",ve)+Ie):_e==="month"?fe.set("Month",ve,fe.get("Month",ve)+Ie):_e==="year"&&fe.set("FullYear",ve,fe.get("FullYear",ve)+Ie),Ie=ve.getTime()-ye),se&&ae(oe)?ye+Ie:(this.xIncrement=ye+Ie,ye)}setDataSortingOptions(){const oe=this.options;_(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),X(oe.pointRange)||(oe.pointRange=1)}setOptions(oe){var ve=this.chart,_e=ve.options,se=_e.plotOptions,fe=ve.userOptions||{};oe=pe(oe),ve=ve.styledMode;const ye={plotOptions:se,userOptions:oe};M(this,"setOptions",ye);const Ie=ye.plotOptions[this.type],ke=fe.plotOptions||{};return this.userOptions=ye.userOptions,fe=pe(Ie,se.series,fe.plotOptions&&fe.plotOptions[this.type],oe),this.tooltipOptions=pe(re.tooltip,re.plotOptions.series&&re.plotOptions.series.tooltip,re.plotOptions[this.type].tooltip,_e.tooltip.userOptions,se.series&&se.series.tooltip,se[this.type].tooltip,oe.tooltip),this.stickyTracking=Pe(oe.stickyTracking,ke[this.type]&&ke[this.type].stickyTracking,ke.series&&ke.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:fe.stickyTracking),Ie.marker===null&&delete fe.marker,this.zoneAxis=fe.zoneAxis,se=this.zones=(fe.zones||[]).slice(),!fe.negativeColor&&!fe.negativeFillColor||fe.zones||(_e={value:fe[this.zoneAxis+"Threshold"]||fe.threshold||0,className:"highcharts-negative"},ve||(_e.color=fe.negativeColor,_e.fillColor=fe.negativeFillColor),se.push(_e)),se.length&&X(se[se.length-1].value)&&se.push(ve?{}:{color:this.color,fillColor:this.fillColor}),M(this,"afterSetOptions",{options:fe}),fe}getName(){return Pe(this.options.name,"Series "+(this.index+1))}getCyclic(oe,ve,_e){const se=this.chart,fe=this.userOptions,ye=oe+"Index",Ie=oe+"Counter",ke=_e?_e.length:Pe(se.options.chart[oe+"Count"],se[oe+"Count"]);if(!ve){var Ue=Pe(fe[ye],fe["_"+ye]);X(Ue)||(se.series.length||(se[Ie]=0),fe["_"+ye]=Ue=se[Ie]%ke,se[Ie]+=1),_e&&(ve=_e[Ue])}typeof Ue<"u"&&(this[ye]=Ue),this[oe]=ve}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||re.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(oe,ve){const _e=oe.id,se=oe.x,fe=this.points;var ye=this.options.dataSorting,Ie;let ke,Ue;if(_e)ye=this.chart.get(_e),ye instanceof z&&(Ie=ye);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Ie=st=>!st.touched&&st.index===oe.index,ye&&ye.matchByName?Ie=st=>!st.touched&&st.name===oe.name:this.options.relativeXValue&&(Ie=st=>!st.touched&&st.options.x===oe.x),Ie=v(fe,Ie),!Ie))return;return Ie&&(Ue=Ie&&Ie.index,typeof Ue<"u"&&(ke=!0)),typeof Ue>"u"&&ae(se)&&(Ue=this.xData.indexOf(se,ve)),Ue!==-1&&typeof Ue<"u"&&this.cropped&&(Ue=Ue>=this.cropStart?Ue-this.cropStart:Ue),!ke&&ae(Ue)&&fe[Ue]&&fe[Ue].touched&&(Ue=void 0),Ue}updateData(oe,ve){const _e=this.options,se=_e.dataSorting,fe=this.points,ye=[],Ie=this.requireSorting,ke=oe.length===fe.length;let Ue,st,it,ht=!0;if(this.xIncrement=null,oe.forEach(function(Ae,ze){var je=X(Ae)&&this.pointClass.prototype.optionsToObject.call({series:this},Ae)||{};const $e=je.x;je.id||ae($e)?(je=this.findPointIndex(je,it),je===-1||typeof je>"u"?ye.push(Ae):fe[je]&&Ae!==_e.data[je]?(fe[je].update(Ae,!1,null,!1),fe[je].touched=!0,Ie&&(it=je+1)):fe[je]&&(fe[je].touched=!0),(!ke||ze!==je||se&&se.enabled||this.hasDerivedData)&&(Ue=!0)):ye.push(Ae)},this),Ue)for(oe=fe.length;oe--;)(st=fe[oe])&&!st.touched&&st.remove&&st.remove(!1,ve);else!ke||se&&se.enabled?ht=!1:(oe.forEach(function(Ae,ze){Ae===fe[ze].y||fe[ze].destroyed||fe[ze].update(Ae,!1,null,!1)}),ye.length=0);return fe.forEach(function(Ae){Ae&&(Ae.touched=!1)}),ht?(ye.forEach(function(Ae){this.addPoint(Ae,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=S(this.xData),this.autoIncrement()),!0):!1}setData(oe,ve=!0,_e,se){var fe;const ye=this,Ie=ye.points,ke=Ie&&Ie.length||0,Ue=ye.options,st=ye.chart,it=Ue.dataSorting,ht=ye.xAxis,Ae=Ue.turboThreshold,ze=this.xData,je=this.yData;var $e=ye.pointArrayMap;$e=$e&&$e.length;const nt=Ue.keys;let bt,jt=0,Gt=1,yi=null;if(!st.options.chart.allowMutatingData){Ue.data&&delete ye.options.data,ye.userOptions.data&&delete ye.userOptions.data;var ri=pe(!0,oe)}if(oe=ri||oe||[],ri=oe.length,it&&it.enabled&&(oe=this.sortData(oe)),st.options.chart.allowMutatingData&&se!==!1&&ri&&ke&&!ye.cropped&&!ye.hasGroupedData&&ye.visible&&!ye.boosted&&(bt=this.updateData(oe,_e)),!bt){if(ye.xIncrement=null,ye.colorCounter=0,this.parallelArrays.forEach(function(Ci){ye[Ci+"Data"].length=0}),Ae&&ri>Ae)if(yi=ye.getFirstValidPoint(oe),ae(yi))for(_e=0;_e<ri;_e++)ze[_e]=this.autoIncrement(),je[_e]=oe[_e];else if(ee(yi))if($e)if(yi.length===$e)for(_e=0;_e<ri;_e++)ze[_e]=this.autoIncrement(),je[_e]=oe[_e];else for(_e=0;_e<ri;_e++)se=oe[_e],ze[_e]=se[0],je[_e]=se.slice(1,$e+1);else if(nt&&(jt=nt.indexOf("x"),Gt=nt.indexOf("y"),jt=0<=jt?jt:0,Gt=0<=Gt?Gt:1),yi.length===1&&(Gt=0),jt===Gt)for(_e=0;_e<ri;_e++)ze[_e]=this.autoIncrement(),je[_e]=oe[_e][Gt];else for(_e=0;_e<ri;_e++)se=oe[_e],ze[_e]=se[jt],je[_e]=se[Gt];else L(12,!1,st);else for(_e=0;_e<ri;_e++)se={series:ye},ye.pointClass.prototype.applyOptions.apply(se,[oe[_e]]),ye.updateParallelArrays(se,_e);for(je&&K(je[0])&&L(14,!0,st),ye.data=[],ye.options.data=ye.userOptions.data=oe,_e=ke;_e--;)(fe=Ie[_e])===null||fe===void 0||fe.destroy();ht&&(ht.minRange=ht.userMinRange),ye.isDirty=st.isDirtyBox=!0,ye.isDirtyData=!!Ie,_e=!1}Ue.legendType==="point"&&(this.processData(),this.generatePoints()),ve&&st.redraw(_e)}sortData(oe){const ve=this,_e=ve.options.dataSorting.sortKey||"y",se=function(fe,ye){return X(ye)&&fe.pointClass.prototype.optionsToObject.call({series:fe},ye)||{}};return oe.forEach(function(fe,ye){oe[ye]=se(ve,fe),oe[ye].index=ye},this),oe.concat().sort((fe,ye)=>(fe=O(_e,fe),ye=O(_e,ye),ye<fe?-1:ye>fe?1:0)).forEach(function(fe,ye){fe.x=ye},this),ve.linkedSeries&&ve.linkedSeries.forEach(function(fe){const ye=fe.options,Ie=ye.data;ye.dataSorting&&ye.dataSorting.enabled||!Ie||(Ie.forEach(function(ke,Ue){Ie[Ue]=se(fe,ke),oe[Ue]&&(Ie[Ue].x=oe[Ue].x,Ie[Ue].index=Ue)}),fe.setData(Ie,!1))}),oe}getProcessedData(oe){var ve=this.xAxis,_e=this.options,se=_e.cropThreshold;const fe=oe||this.getExtremesFromAll||_e.getExtremesFromAll,ye=this.isCartesian;oe=ve&&ve.val2lin,_e=!(!ve||!ve.logarithmic);let Ie=0,ke,Ue,st,it=this.xData,ht=this.yData,Ae=this.requireSorting;var ze=!1;const je=it.length;if(ve&&(ze=ve.getExtremes(),Ue=ze.min,st=ze.max,ze=!(!ve.categories||ve.names.length)),ye&&this.sorted&&!fe&&(!se||je>se||this.forceCrop)){if(it[je-1]<Ue||it[0]>st)it=[],ht=[];else if(this.yData&&(it[0]<Ue||it[je-1]>st)){var $e=this.cropData(this.xData,this.yData,Ue,st);it=$e.xData,ht=$e.yData,Ie=$e.start,$e=!0}}for(se=it.length||1;--se;)ve=_e?oe(it[se])-oe(it[se-1]):it[se]-it[se-1],0<ve&&(typeof ke>"u"||ve<ke)?ke=ve:0>ve&&Ae&&!ze&&(L(15,!1,this.chart),Ae=!1);return{xData:it,yData:ht,cropped:$e,cropStart:Ie,closestPointRange:ke}}processData(oe){const ve=this.xAxis;if(this.isCartesian&&!this.isDirty&&!ve.isDirty&&!this.yAxis.isDirty&&!oe)return!1;oe=this.getProcessedData(),this.cropped=oe.cropped,this.cropStart=oe.cropStart,this.processedXData=oe.xData,this.processedYData=oe.yData,this.closestPointRange=this.basePointRange=oe.closestPointRange,M(this,"afterProcessData")}cropData(oe,ve,_e,se,fe){const ye=oe.length;let Ie,ke=0,Ue=ye;for(fe=Pe(fe,this.cropShoulder),Ie=0;Ie<ye;Ie++)if(oe[Ie]>=_e){ke=Math.max(0,Ie-fe);break}for(_e=Ie;_e<ye;_e++)if(oe[_e]>se){Ue=_e+fe;break}return{xData:oe.slice(ke,Ue),yData:ve.slice(ke,Ue),start:ke,end:Ue}}generatePoints(){var oe=this.options;const ve=this.processedData||oe.data,_e=this.processedXData,se=this.processedYData,fe=this.pointClass,ye=_e.length,Ie=this.cropStart||0,ke=this.hasGroupedData,Ue=oe.keys,st=[];oe=oe.dataGrouping&&oe.dataGrouping.groupAll?Ie:0;let it,ht,Ae,ze=this.data;if(!ze&&!ke){var je=[];je.length=ve.length,ze=this.data=je}for(Ue&&ke&&(this.options.keys=!1),Ae=0;Ae<ye;Ae++)je=Ie+Ae,ke?(ht=new fe().init(this,[_e[Ae]].concat(le(se[Ae]))),ht.dataGroup=this.groupMap[oe+Ae],ht.dataGroup.options&&(ht.options=ht.dataGroup.options,_(ht,ht.dataGroup.options),delete ht.dataLabels)):(ht=ze[je])||typeof ve[je]>"u"||(ze[je]=ht=new fe().init(this,ve[je],_e[Ae])),ht&&(ht.index=ke?oe+Ae:je,st[Ae]=ht);if(this.options.keys=Ue,ze&&(ye!==(it=ze.length)||ke))for(Ae=0;Ae<it;Ae++)Ae!==Ie||ke||(Ae+=ye),ze[Ae]&&(ze[Ae].destroyElements(),ze[Ae].plotX=void 0);this.data=ze,this.points=st,M(this,"afterGeneratePoints")}getXExtremes(oe){return{min:te(oe),max:S(oe)}}getExtremes(oe,ve){const _e=this.xAxis;var se=this.yAxis;const fe=this.processedXData||this.xData,ye=[],Ie=this.requireSorting?this.cropShoulder:0;se=se?se.positiveValuesOnly:!1;let ke,Ue=0,st=0,it=0;oe=oe||this.stackedYData||this.processedYData||[];const ht=oe.length;if(_e){var Ae=_e.getExtremes();Ue=Ae.min,st=Ae.max}for(ke=0;ke<ht;ke++){var ze=fe[ke];Ae=oe[ke];var je=(ae(Ae)||ee(Ae))&&(Ae.length||0<Ae||!se);if(ze=ve||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!_e||(fe[ke+Ie]||ze)>=Ue&&(fe[ke-Ie]||ze)<=st,je&&ze)if(je=Ae.length)for(;je--;)ae(Ae[je])&&(ye[it++]=Ae[je]);else ye[it++]=Ae}return oe={activeYData:ye,dataMin:te(ye),dataMax:S(ye)},M(this,"afterGetExtremes",{dataExtremes:oe}),oe}applyExtremes(){const oe=this.getExtremes();return this.dataMin=oe.dataMin,this.dataMax=oe.dataMax,oe}getFirstValidPoint(oe){const ve=oe.length;let _e=0,se=null;for(;se===null&&_e<ve;)se=oe[_e],_e++;return se}translate(){var oe;this.processedXData||this.processData(),this.generatePoints();const ve=this.options,_e=ve.stacking,se=this.xAxis,fe=se.categories,ye=this.enabledDataSorting,Ie=this.yAxis,ke=this.points,Ue=ke.length,st=this.pointPlacementToXValue(),it=!!st,ht=ve.threshold,Ae=ve.startFromThreshold?ht:0,ze=this.zoneAxis||"y";let je,$e,nt,bt,jt=Number.MAX_VALUE;for(je=0;je<Ue;je++){const Gt=ke[je],yi=Gt.x;let ri,Ci,Gi=Gt.y,zi=Gt.low;const Xi=_e&&((oe=Ie.stacking)===null||oe===void 0?void 0:oe.stacks[(this.negStacks&&Gi<(Ae?0:ht)?"-":"")+this.stackKey]);$e=se.translate(yi,!1,!1,!1,!0,st),Gt.plotX=ae($e)?V(Y($e,-1e5,1e5)):void 0,_e&&this.visible&&Xi&&Xi[yi]&&(bt=this.getStackIndicator(bt,yi,this.index),!Gt.isNull&&bt.key&&(ri=Xi[yi],Ci=ri.points[bt.key]),ri&&ee(Ci)&&(zi=Ci[0],Gi=Ci[1],zi===Ae&&bt.key===Xi[yi].base&&(zi=Pe(ae(ht)?ht:Ie.min)),Ie.positiveValuesOnly&&X(zi)&&0>=zi&&(zi=void 0),Gt.total=Gt.stackTotal=Pe(ri.total),Gt.percentage=X(Gt.y)&&ri.total?Gt.y/ri.total*100:void 0,Gt.stackY=Gi,this.irregularWidths||ri.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Gt.yBottom=X(zi)?Y(Ie.translate(zi,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(Gi=this.dataModify.modifyValue(Gi,je));let Li;ae(Gi)&&Gt.plotX!==void 0&&(Li=Ie.translate(Gi,!1,!0,!1,!0),Li=ae(Li)?Y(Li,-1e5,1e5):void 0),Gt.plotY=Li,Gt.isInside=this.isPointInside(Gt),Gt.clientX=it?V(se.translate(yi,!1,!1,!1,!0,st)):$e,Gt.negative=Gt[ze]<(ve[ze+"Threshold"]||ht||0),Gt.category=Pe(fe&&fe[Gt.x],Gt.x),Gt.isNull||Gt.visible===!1||(typeof nt<"u"&&(jt=Math.min(jt,Math.abs($e-nt))),nt=$e),Gt.zone=this.zones.length?Gt.getZone():void 0,!Gt.graphic&&this.group&&ye&&(Gt.isNew=!0)}this.closestPointRangePx=jt,M(this,"afterTranslate")}getValidPoints(oe,ve,_e){const se=this.chart;return(oe||this.points||[]).filter(function(fe){const{plotX:ye,plotY:Ie}=fe;return!_e&&(fe.isNull||!ae(Ie))||ve&&!se.isInsidePlot(ye,Ie,{inverted:se.inverted})?!1:fe.visible!==!1})}getClipBox(){const{chart:oe,xAxis:ve,yAxis:_e}=this,se=pe(oe.clipBox);return ve&&ve.len!==oe.plotSizeX&&(se.width=ve.len),_e&&_e.len!==oe.plotSizeY&&(se.height=_e.len),se}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:oe,group:ve,markerGroup:_e}=this,se=oe.sharedClips,fe=oe.renderer,ye=this.getClipBox(),Ie=this.getSharedClipKey();let ke=se[Ie];ke?ke.animate(ye):se[Ie]=ke=fe.clipRect(ye),ve&&ve.clip(this.options.clip===!1?void 0:ke),_e&&_e.clip()}animate(oe){const{chart:ve,group:_e,markerGroup:se}=this,fe=ve.inverted;var ye=F(this.options.animation),Ie=[this.getSharedClipKey(),ye.duration,ye.easing,ye.defer].join();let ke=ve.sharedClips[Ie],Ue=ve.sharedClips[Ie+"m"];if(oe&&_e)ye=this.getClipBox(),ke?ke.attr("height",ye.height):(ye.width=0,fe&&(ye.x=ve.plotHeight),ke=ve.renderer.clipRect(ye),ve.sharedClips[Ie]=ke,Ue=ve.renderer.clipRect({x:-99,y:-99,width:fe?ve.plotWidth+199:99,height:fe?99:ve.plotHeight+199}),ve.sharedClips[Ie+"m"]=Ue),_e.clip(ke),se&&se.clip(Ue);else if(ke&&!ke.hasClass("highcharts-animating")){Ie=this.getClipBox();const st=ye.step;se&&se.element.childNodes.length&&(ye.step=function(it,ht){st&&st.apply(ht,arguments),ht.prop==="width"&&Ue&&Ue.element&&Ue.attr(fe?"height":"width",it+99)}),ke.addClass("highcharts-animating").animate(Ie,ye)}}afterAnimate(){this.setClip(),Me(this.chart.sharedClips,(oe,ve,_e)=>{oe&&!this.chart.container.querySelector(`[clip-path="url(#${oe.id})"]`)&&(oe.destroy(),delete _e[ve])}),this.finishedAnimating=!0,M(this,"afterAnimate")}drawPoints(oe=this.points){const ve=this.chart,_e=ve.styledMode,{colorAxis:se,options:fe}=this,ye=fe.marker,Ie=this[this.specialGroup||"markerGroup"],ke=this.xAxis,Ue=Pe(ye.enabled,!ke||ke.isRadial?!0:null,this.closestPointRangePx>=ye.enabledThreshold*ye.radius);let st,it,ht,Ae,ze,je;if(ye.enabled!==!1||this._hasPointMarkers)for(st=0;st<oe.length;st++){it=oe[st],Ae=(ht=it.graphic)?"animate":"attr";var $e=it.marker||{};if(ze=!!it.marker,(Ue&&typeof $e.enabled>"u"||$e.enabled)&&!it.isNull&&it.visible!==!1){const nt=Pe($e.symbol,this.symbol,"rect");je=this.markerAttribs(it,it.selected&&"select"),this.enabledDataSorting&&(it.startXPos=ke.reversed?-(je.width||0):ke.width);const bt=it.isInside!==!1;!ht&&bt&&(0<(je.width||0)||it.hasImage)&&(it.graphic=ht=ve.renderer.symbol(nt,je.x,je.y,je.width,je.height,ze?$e:ye).add(Ie),this.enabledDataSorting&&ve.hasRendered&&(ht.attr({x:it.startXPos}),Ae="animate")),ht&&Ae==="animate"&&ht[bt?"show":"hide"](bt).animate(je),ht&&($e=this.pointAttribs(it,_e||!it.selected?void 0:"select"),_e?se&&ht.css({fill:$e.fill}):ht[Ae]($e)),ht&&ht.addClass(it.getClassName(),!0)}else ht&&(it.graphic=ht.destroy())}}markerAttribs(oe,ve){const _e=this.options;var se=_e.marker;const fe=oe.marker||{},ye=fe.symbol||se.symbol,Ie={};let ke=Pe(fe.radius,se&&se.radius);return ve&&(se=se.states[ve],ve=fe.states&&fe.states[ve],ke=Pe(ve&&ve.radius,se&&se.radius,ke&&ke+(se&&se.radiusPlus||0))),oe.hasImage=ye&&ye.indexOf("url")===0,oe.hasImage&&(ke=0),oe=oe.pos(),ae(ke)&&oe&&(Ie.x=oe[0]-ke,Ie.y=oe[1]-ke,_e.crisp&&(Ie.x=Math.floor(Ie.x))),ke&&(Ie.width=Ie.height=2*ke),Ie}pointAttribs(oe,ve){var _e=this.options.marker,se=oe&&oe.options;const fe=se&&se.marker||{};var ye=se&&se.color,Ie=oe&&oe.color;const ke=oe&&oe.zone&&oe.zone.color;let Ue=this.color;return oe=Pe(fe.lineWidth,_e.lineWidth),se=1,Ue=ye||ke||Ie||Ue,ye=fe.fillColor||_e.fillColor||Ue,Ie=fe.lineColor||_e.lineColor||Ue,ve=ve||"normal",_e=_e.states[ve]||{},ve=fe.states&&fe.states[ve]||{},oe=Pe(ve.lineWidth,_e.lineWidth,oe+Pe(ve.lineWidthPlus,_e.lineWidthPlus,0)),ye=ve.fillColor||_e.fillColor||ye,Ie=ve.lineColor||_e.lineColor||Ie,se=Pe(ve.opacity,_e.opacity,se),{stroke:Ie,"stroke-width":oe,fill:ye,opacity:se}}destroy(oe){const ve=this,_e=ve.chart,se=/AppleWebKit\/533/.test($.navigator.userAgent),fe=ve.data||[];let ye,Ie,ke,Ue;for(M(ve,"destroy",{keepEventsForUpdate:oe}),this.removeEvents(oe),(ve.axisTypes||[]).forEach(function(st){(Ue=ve[st])&&Ue.series&&(P(Ue.series,ve),Ue.isDirty=Ue.forceRedraw=!0)}),ve.legendItem&&ve.chart.legend.destroyItem(ve),Ie=fe.length;Ie--;)(ke=fe[Ie])&&ke.destroy&&ke.destroy();ve.clips&&ve.clips.forEach(st=>st.destroy()),Z.clearTimeout(ve.animationTimeout),Me(ve,function(st,it){st instanceof q&&!st.survive&&(ye=se&&it==="group"?"hide":"destroy",st[ye]())}),_e.hoverSeries===ve&&(_e.hoverSeries=void 0),P(_e.series,ve),_e.orderSeries(),Me(ve,function(st,it){oe&&it==="hcEvents"||delete ve[it]})}applyZones(){const oe=this,ve=this.chart,_e=ve.renderer,se=this.zones,fe=this.clips||[],ye=this.graph,Ie=this.area,ke=Math.max(ve.plotWidth,ve.plotHeight),Ue=this[(this.zoneAxis||"y")+"Axis"],st=ve.inverted;let it,ht,Ae,ze,je,$e,nt,bt,jt,Gt,yi,ri=!1;se.length&&(ye||Ie)&&Ue&&typeof Ue.min<"u"?(je=Ue.reversed,$e=Ue.horiz,ye&&!this.showLine&&ye.hide(),Ie&&Ie.hide(),ze=Ue.getExtremes(),se.forEach(function(Ci,Gi){it=je?$e?ve.plotWidth:0:$e?0:Ue.toPixels(ze.min)||0,it=Y(Pe(ht,it),0,ke),ht=Y(Math.round(Ue.toPixels(Pe(Ci.value,ze.max),!0)||0),0,ke),ri&&(it=ht=Ue.toPixels(ze.max)),nt=Math.abs(it-ht),bt=Math.min(it,ht),jt=Math.max(it,ht),Ue.isXAxis?(Ae={x:st?jt:bt,y:0,width:nt,height:ke},$e||(Ae.x=ve.plotHeight-Ae.x)):(Ae={x:0,y:st?jt:bt,width:ke,height:nt},$e&&(Ae.y=ve.plotWidth-Ae.y)),fe[Gi]?fe[Gi].animate(Ae):fe[Gi]=_e.clipRect(Ae),Gt=oe["zone-area-"+Gi],yi=oe["zone-graph-"+Gi],ye&&yi&&yi.clip(fe[Gi]),Ie&&Gt&&Gt.clip(fe[Gi]),ri=Ci.value>ze.max,oe.resetZones&&ht===0&&(ht=void 0)}),this.clips=fe):oe.visible&&(ye&&ye.show(),Ie&&Ie.show())}plotGroup(oe,ve,_e,se,fe){let ye=this[oe];const Ie=!ye;return _e={visibility:_e,zIndex:se||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(_e.opacity=this.opacity),Ie&&(this[oe]=ye=this.chart.renderer.g().add(fe)),ye.addClass("highcharts-"+ve+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(X(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(ye.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),ye.attr(_e)[Ie?"attr":"animate"](this.getPlotBox(ve)),ye}getPlotBox(oe){let ve=this.xAxis,_e=this.yAxis;const se=this.chart;return oe=se.inverted&&!se.polar&&ve&&this.invertible!==!1&&oe==="series",se.inverted&&(ve=_e,_e=this.xAxis),{translateX:ve?ve.left:se.plotLeft,translateY:_e?_e.top:se.plotTop,rotation:oe?90:0,rotationOriginX:oe?(ve.len-_e.len)/2:0,rotationOriginY:oe?(ve.len+_e.len)/2:0,scaleX:oe?-1:1,scaleY:1}}removeEvents(oe){oe||W(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ve){ve()}),this.eventsToUnbind.length=0)}render(){const oe=this;var ve=oe.chart;const _e=oe.options,se=F(_e.animation),fe=oe.visible?"inherit":"hidden",ye=_e.zIndex,Ie=oe.hasRendered;ve=ve.seriesGroup;let ke=oe.finishedAnimating?0:se.duration;M(this,"render"),oe.plotGroup("group","series",fe,ye,ve),oe.markerGroup=oe.plotGroup("markerGroup","markers",fe,ye,ve),_e.clip!==!1&&oe.setClip(),oe.animate&&ke&&oe.animate(!0),oe.drawGraph&&(oe.drawGraph(),oe.applyZones()),oe.visible&&oe.drawPoints(),oe.drawDataLabels&&oe.drawDataLabels(),oe.redrawPoints&&oe.redrawPoints(),oe.drawTracker&&oe.options.enableMouseTracking!==!1&&oe.drawTracker(),oe.animate&&ke&&oe.animate(),Ie||(ke&&se.defer&&(ke+=se.defer),oe.animationTimeout=ue(function(){oe.afterAnimate()},ke||0)),oe.isDirty=!1,oe.hasRendered=!0,M(oe,"afterRender")}redraw(){const oe=this.isDirty||this.isDirtyData;this.translate(),this.render(),oe&&delete this.kdTree}searchPoint(oe,ve){const _e=this.xAxis,se=this.yAxis,fe=this.chart.inverted;return this.searchKDTree({clientX:fe?_e.len-oe.chartY+_e.pos:oe.chartX-_e.pos,plotY:fe?se.len-oe.chartX+se.pos:oe.chartY-se.pos},ve,oe)}buildKDTree(oe){function ve(fe,ye,Ie){var ke=fe&&fe.length;let Ue;if(ke)return Ue=_e.kdAxisArray[ye%Ie],fe.sort(function(st,it){return st[Ue]-it[Ue]}),ke=Math.floor(ke/2),{point:fe[ke],left:ve(fe.slice(0,ke),ye+1,Ie),right:ve(fe.slice(ke+1),ye+1,Ie)}}this.buildingKdTree=!0;const _e=this,se=-1<_e.options.findNearestPointBy.indexOf("y")?2:1;delete _e.kdTree,ue(function(){_e.kdTree=ve(_e.getValidPoints(null,!_e.directTouch),se,se),_e.buildingKdTree=!1},_e.options.kdNow||oe&&oe.type==="touchstart"?0:1)}searchKDTree(oe,ve,_e){function se(Ue,st,it,ht){const Ae=st.point;var ze=fe.kdAxisArray[it%ht];let je=Ae;var $e=X(Ue[ye])&&X(Ae[ye])?Math.pow(Ue[ye]-Ae[ye],2):null,nt=X(Ue[Ie])&&X(Ae[Ie])?Math.pow(Ue[Ie]-Ae[Ie],2):null;return nt=($e||0)+(nt||0),Ae.dist=X(nt)?Math.sqrt(nt):Number.MAX_VALUE,Ae.distX=X($e)?Math.sqrt($e):Number.MAX_VALUE,ze=Ue[ze]-Ae[ze],nt=0>ze?"left":"right",$e=0>ze?"right":"left",st[nt]&&(nt=se(Ue,st[nt],it+1,ht),je=nt[ke]<je[ke]?nt:Ae),st[$e]&&Math.sqrt(ze*ze)<je[ke]&&(Ue=se(Ue,st[$e],it+1,ht),je=Ue[ke]<je[ke]?Ue:je),je}const fe=this,ye=this.kdAxisArray[0],Ie=this.kdAxisArray[1],ke=ve?"distX":"dist";if(ve=-1<fe.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(_e),this.kdTree)return se(oe,this.kdTree,ve,ve)}pointPlacementToXValue(){const{options:{pointPlacement:oe,pointRange:ve},xAxis:_e}=this;let se=oe;return se==="between"&&(se=_e.reversed?-.5:.5),ae(se)?se*(ve||_e.pointRange):0}isPointInside(oe){const{chart:ve,xAxis:_e,yAxis:se}=this;return typeof oe.plotY<"u"&&typeof oe.plotX<"u"&&0<=oe.plotY&&oe.plotY<=(se?se.len:ve.plotHeight)&&0<=oe.plotX&&oe.plotX<=(_e?_e.len:ve.plotWidth)}drawTracker(){const oe=this,ve=oe.options,_e=ve.trackByArea,se=[].concat(_e?oe.areaPath:oe.graphPath),fe=oe.chart,ye=fe.pointer,Ie=fe.renderer,ke=fe.options.tooltip.snap,Ue=oe.tracker,st=function(ht){fe.hoverSeries!==oe&&oe.onMouseOver()},it="rgba(192,192,192,"+(N?1e-4:.002)+")";Ue?Ue.attr({d:se}):oe.graph&&(oe.tracker=Ie.path(se).attr({visibility:oe.visible?"inherit":"hidden",zIndex:2}).addClass(_e?"highcharts-tracker-area":"highcharts-tracker-line").add(oe.group),fe.styledMode||oe.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:it,fill:_e?it:"none","stroke-width":oe.graph.strokeWidth()+(_e?0:2*ke)}),[oe.tracker,oe.markerGroup,oe.dataLabelsGroup].forEach(function(ht){ht&&(ht.addClass("highcharts-tracker").on("mouseover",st).on("mouseout",function(Ae){ye.onTrackerMouseOut(Ae)}),ve.cursor&&!fe.styledMode&&ht.css({cursor:ve.cursor}),D)&&ht.on("touchstart",st)})),M(this,"afterDrawTracker")}addPoint(oe,ve,_e,se,fe){const ye=this.options,Ie=this.data,ke=this.chart;var Ue=this.xAxis;Ue=Ue&&Ue.hasNames&&Ue.names;const st=ye.data,it=this.xData;let ht,Ae;ve=Pe(ve,!0);const ze={series:this};this.pointClass.prototype.applyOptions.apply(ze,[oe]);const je=ze.x;if(Ae=it.length,this.requireSorting&&je<it[Ae-1])for(ht=!0;Ae&&it[Ae-1]>je;)Ae--;this.updateParallelArrays(ze,"splice",[Ae,0,0]),this.updateParallelArrays(ze,Ae),Ue&&ze.name&&(Ue[je]=ze.name),st.splice(Ae,0,oe),(ht||this.processedData)&&(this.data.splice(Ae,0,null),this.processData()),ye.legendType==="point"&&this.generatePoints(),_e&&(Ie[0]&&Ie[0].remove?Ie[0].remove(!1):(Ie.shift(),this.updateParallelArrays(ze,"shift"),st.shift())),fe!==!1&&M(this,"addPoint",{point:ze}),this.isDirtyData=this.isDirty=!0,ve&&ke.redraw(se)}removePoint(oe,ve,_e){const se=this,fe=se.data,ye=fe[oe],Ie=se.points,ke=se.chart,Ue=function(){Ie&&Ie.length===fe.length&&Ie.splice(oe,1),fe.splice(oe,1),se.options.data.splice(oe,1),se.updateParallelArrays(ye||{series:se},"splice",[oe,1]),ye&&ye.destroy(),se.isDirty=!0,se.isDirtyData=!0,ve&&ke.redraw()};U(_e,ke),ve=Pe(ve,!0),ye?ye.firePointEvent("remove",null,Ue):Ue()}remove(oe,ve,_e,se){function fe(){ye.destroy(se),Ie.isDirtyLegend=Ie.isDirtyBox=!0,Ie.linkSeries(se),Pe(oe,!0)&&Ie.redraw(ve)}const ye=this,Ie=ye.chart;_e!==!1?M(ye,"remove",null,fe):fe()}update(oe,ve){oe=I(oe,this.userOptions),M(this,"update",{options:oe});const _e=this,se=_e.chart;var fe=_e.userOptions;const ye=_e.initialType||_e.type;var Ie=se.options.plotOptions;const ke=j[ye].prototype;var Ue=_e.finishedAnimating&&{animation:!1};const st={};let it,ht=["eventOptions","navigatorSeries","baseSeries"],Ae=oe.type||fe.type||se.options.chart.type;const ze=!(this.hasDerivedData||Ae&&Ae!==this.type||typeof oe.pointStart<"u"||typeof oe.pointInterval<"u"||typeof oe.relativeXValue<"u"||oe.joinBy||oe.mapData||_e.hasOptionChanged("dataGrouping")||_e.hasOptionChanged("pointStart")||_e.hasOptionChanged("pointInterval")||_e.hasOptionChanged("pointIntervalUnit")||_e.hasOptionChanged("keys"));if(Ae=Ae||ye,ze&&(ht.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),oe.visible!==!1&&ht.push("area","graph"),_e.parallelArrays.forEach(function(je){ht.push(je+"Data")}),oe.data&&(oe.dataSorting&&_(_e.options.dataSorting,oe.dataSorting),this.setData(oe.data,!1))),oe=pe(fe,Ue,{index:typeof fe.index>"u"?_e.index:fe.index,pointStart:Pe(Ie&&Ie.series&&Ie.series.pointStart,fe.pointStart,_e.xData[0])},!ze&&{data:_e.options.data},oe),ze&&oe.data&&(oe.data=_e.options.data),ht=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(ht),ht.forEach(function(je){ht[je]=_e[je],delete _e[je]}),Ie=!1,j[Ae]){if(Ie=Ae!==_e.type,_e.remove(!1,!1,!1,!0),Ie)if(Object.setPrototypeOf)Object.setPrototypeOf(_e,j[Ae].prototype);else{Ue=Object.hasOwnProperty.call(_e,"hcEvents")&&_e.hcEvents;for(it in ke)_e[it]=void 0;_(_e,j[Ae].prototype),Ue?_e.hcEvents=Ue:delete _e.hcEvents}}else L(17,!0,se,{missingModuleFor:Ae});if(ht.forEach(function(je){_e[je]=ht[je]}),_e.init(se,oe),ze&&this.points){if(oe=_e.options,oe.visible===!1)st.graphic=1,st.dataLabel=1;else if(!_e._hasPointLabels){const{marker:je,dataLabels:$e}=oe;fe=fe.marker||{},!je||je.enabled!==!1&&fe.symbol===je.symbol&&fe.height===je.height&&fe.width===je.width||(st.graphic=1),$e&&$e.enabled===!1&&(st.dataLabel=1)}for(const je of this.points)je&&je.series&&(je.resolveColor(),Object.keys(st).length&&je.destroyElements(st),oe.showInLegend===!1&&je.legendItem&&se.legend.destroyItem(je))}_e.initialType=ye,se.linkSeries(),Ie&&_e.linkedSeries.length&&(_e.isDirtyData=!0),M(this,"afterUpdate"),Pe(ve,!0)&&se.redraw(ze?void 0:!1)}setName(oe){this.name=this.options.name=this.userOptions.name=oe,this.chart.isDirtyLegend=!0}hasOptionChanged(oe){const ve=this.options[oe],_e=this.chart.options.plotOptions,se=this.userOptions[oe];return se?ve!==se:ve!==Pe(_e&&_e[this.type]&&_e[this.type][oe],_e&&_e.series&&_e.series[oe],ve)}onMouseOver(){const oe=this.chart,ve=oe.hoverSeries;oe.pointer.setHoverChartIndex(),ve&&ve!==this&&ve.onMouseOut(),this.options.events.mouseOver&&M(this,"mouseOver"),this.setState("hover"),oe.hoverSeries=this}onMouseOut(){const oe=this.options,ve=this.chart,_e=ve.tooltip,se=ve.hoverPoint;ve.hoverSeries=null,se&&se.onMouseOut(),this&&oe.events.mouseOut&&M(this,"mouseOut"),!_e||this.stickyTracking||_e.shared&&!this.noSharedTooltip||_e.hide(),ve.series.forEach(function(fe){fe.setState("",!0)})}setState(oe,ve){const _e=this;var se=_e.options;const fe=_e.graph,ye=se.inactiveOtherPoints,Ie=se.states,ke=Pe(Ie[oe||"normal"]&&Ie[oe||"normal"].animation,_e.chart.options.chart.animation);let Ue=se.lineWidth,st=0,it=se.opacity;if(oe=oe||"",_e.state!==oe&&([_e.group,_e.markerGroup,_e.dataLabelsGroup].forEach(function(ht){ht&&(_e.state&&ht.removeClass("highcharts-series-"+_e.state),oe&&ht.addClass("highcharts-series-"+oe))}),_e.state=oe,!_e.chart.styledMode)){if(Ie[oe]&&Ie[oe].enabled===!1)return;if(oe&&(Ue=Ie[oe].lineWidth||Ue+(Ie[oe].lineWidthPlus||0),it=Pe(Ie[oe].opacity,it)),fe&&!fe.dashstyle&&ae(Ue))for(se={"stroke-width":Ue},fe.animate(se,ke);_e["zone-graph-"+st];)_e["zone-graph-"+st].animate(se,ke),st+=1;ye||[_e.group,_e.markerGroup,_e.dataLabelsGroup,_e.labelBySeries].forEach(function(ht){ht&&ht.animate({opacity:it},ke)})}ve&&ye&&_e.points&&_e.setAllPointsToState(oe||void 0)}setAllPointsToState(oe){this.points.forEach(function(ve){ve.setState&&ve.setState(oe)})}setVisible(oe,ve){const _e=this,se=_e.chart,fe=se.options.chart.ignoreHiddenSeries,ye=_e.visible,Ie=(_e.visible=oe=_e.options.visible=_e.userOptions.visible=typeof oe>"u"?!ye:oe)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(ke){_e[ke]&&_e[ke][Ie]()}),(se.hoverSeries===_e||(se.hoverPoint&&se.hoverPoint.series)===_e)&&_e.onMouseOut(),_e.legendItem&&se.legend.colorizeItem(_e,oe),_e.isDirty=!0,_e.options.stacking&&se.series.forEach(function(ke){ke.options.stacking&&ke.visible&&(ke.isDirty=!0)}),_e.linkedSeries.forEach(function(ke){ke.setVisible(oe,!1)}),fe&&(se.isDirtyBox=!0),M(_e,Ie),ve!==!1&&se.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(oe){this.selected=oe=this.options.selected=typeof oe>"u"?!this.selected:oe,this.checkbox&&(this.checkbox.checked=oe),M(this,oe?"select":"unselect")}shouldShowTooltip(oe,ve,_e={}){return _e.series=this,_e.visiblePlotOnly=!0,this.chart.isInsidePlot(oe,ve,_e)}drawLegendSymbol(oe,ve){var _e;(_e=w[this.options.legendSymbol||"rectangle"])===null||_e===void 0||_e.call(this,oe,ve)}}return xe.defaultOptions=ie,xe.types=G.seriesTypes,xe.registerType=G.registerSeriesType,_(xe.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:z,requireSorting:!0,sorted:!0}),G.series=xe,xe}),s(l,"Extensions/ScrollablePlotArea.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Chart/Chart.js"],l["Core/Series/Series.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Utilities.js"]],function(h,u,y,n,w,z){const{stop:ie}=h,{addEvent:G,createElement:q,defined:Z,merge:F,pick:U}=z;G(y,"afterSetChartSize",function(re){var R=this.options.chart.scrollablePlotArea,D=R&&R.minWidth;R=R&&R.minHeight;let N;this.renderer.forExport||(D?(this.scrollablePixelsX=D=Math.max(0,D-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=F(this.plotBox),this.plotBox.width=this.plotWidth+=D,this.inverted?this.clipBox.height+=D:this.clipBox.width+=D,N={1:{name:"right",value:D}}):R&&(this.scrollablePixelsY=D=Math.max(0,R-this.chartHeight),Z(D)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=F(this.plotBox),this.plotBox.height=this.plotHeight+=D,this.inverted?this.clipBox.width+=D:this.clipBox.height+=D,N={2:{name:"bottom",value:D}})),N&&!re.skipAxes&&this.axes.forEach(function($){N[$.side]?$.getPlotLinePath=function(){let j=N[$.side].name,S=this[j],te;return this[j]=S-N[$.side].value,te=u.prototype.getPlotLinePath.apply(this,arguments),this[j]=S,te}:($.setAxisSize(),$.setAxisTranslation())}))}),G(y,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),y.prototype.setUpScrolling=function(){const re={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(re.overflowX="auto"),this.scrollablePixelsY&&(re.overflowY="auto"),this.scrollingParent=q("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=q("div",{className:"highcharts-scrolling"},re,this.scrollingParent);let R;G(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(R=this.hoverPoint),this.pointer.runPointActions(void 0,R,!0))}),this.innerContainer=q("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},y.prototype.moveFixedElements=function(){let re=this.container,R=this.fixedRenderer,D=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),N;this.scrollablePixelsX&&!this.inverted?N=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?N=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(N=".highcharts-yaxis"),N&&D.push(`${N}:not(.highcharts-radial-axis)`,`${N}-labels:not(.highcharts-radial-axis-labels)`),D.forEach(function($){[].forEach.call(re.querySelectorAll($),function(j){(j.namespaceURI===R.SVG_NS?R.box:R.box.parentNode).appendChild(j),j.style.pointerEvents="auto"})})},y.prototype.applyFixed=function(){var re=!this.fixedDiv,R=this.options.chart,D=R.scrollablePlotArea,N=w.getRendererType();re?(this.fixedDiv=q("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(R.style&&R.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=R=new N(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=R.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":U(D.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),G(this,"afterShowResetZoom",this.moveFixedElements),G(this,"afterApplyDrilldown",this.moveFixedElements),G(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||re)&&(this.scrollableDirty=!1,this.moveFixedElements()),R=this.chartWidth+(this.scrollablePixelsX||0),N=this.chartHeight+(this.scrollablePixelsY||0),ie(this.container),this.container.style.width=R+"px",this.container.style.height=N+"px",this.renderer.boxWrapper.attr({width:R,height:N,viewBox:[0,0,R,N].join(" ")}),this.chartBackground.attr({width:R,height:N}),this.scrollingContainer.style.height=this.chartHeight+"px",re&&(D.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*D.scrollPositionX),D.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*D.scrollPositionY)),N=this.axisOffset,re=this.plotTop-N[0]-1,D=this.plotLeft-N[3]-1,R=this.plotTop+this.plotHeight+N[2]+1,N=this.plotLeft+this.plotWidth+N[1]+1;let $=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),j=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);re=this.scrollablePixelsX?[["M",0,re],["L",this.plotLeft-1,re],["L",this.plotLeft-1,R],["L",0,R],["Z"],["M",$,re],["L",this.chartWidth,re],["L",this.chartWidth,R],["L",$,R],["Z"]]:this.scrollablePixelsY?[["M",D,0],["L",D,this.plotTop-1],["L",N,this.plotTop-1],["L",N,0],["Z"],["M",D,j],["L",D,this.chartHeight],["L",N,this.chartHeight],["L",N,j],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:re})},G(u,"afterInit",function(){this.chart.scrollableDirty=!0}),G(n,"show",function(){this.chart.scrollableDirty=!0})}),s(l,"Core/Axis/Stacking/StackItem.js",[l["Core/FormatUtilities.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,u,y){const{format:n}=h,{series:w}=u,{destroyObjectProperties:z,fireEvent:ie,isNumber:G,pick:q}=y;class Z{constructor(U,re,R,D,N){const $=U.chart.inverted,j=U.reversed;this.axis=U,U=this.isNegative=!!R!=!!j,this.options=re=re||{},this.x=D,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=N,this.rightCliff=this.leftCliff=0,this.alignOptions={align:re.align||($?U?"left":"right":"center"),verticalAlign:re.verticalAlign||($?"middle":U?"bottom":"top"),y:re.y,x:re.x},this.textAlign=re.textAlign||($?U?"right":"left":"center")}destroy(){z(this,this.axis)}render(U){const re=this.axis.chart,R=this.options;var D=R.format;D=D?n(D,this,re):R.formatter.call(this),this.label?this.label.attr({text:D,visibility:"hidden"}):(this.label=re.renderer.label(D,null,void 0,R.shape,void 0,void 0,R.useHTML,!1,"stack-labels"),D={r:R.borderRadius||0,text:D,padding:q(R.padding,5),visibility:"hidden"},re.styledMode||(D.fill=R.backgroundColor,D.stroke=R.borderColor,D["stroke-width"]=R.borderWidth,this.label.css(R.style||{})),this.label.attr(D),this.label.added||this.label.add(U)),this.label.labelrank=re.plotSizeY,ie(this,"afterRender")}setOffset(U,re,R,D,N,$){const{alignOptions:j,axis:S,label:te,options:Y,textAlign:I}=this,V=S.chart;R=this.getStackBox({xOffset:U,width:re,boxBottom:R,boxTop:D,defaultX:N,xAxis:$});var{verticalAlign:X}=j;if(te&&R){D=te.getBBox(),N=te.padding,$=q(Y.overflow,"justify")==="justify",j.x=Y.x||0,j.y=Y.y||0;const{x:P,y:L}=this.adjustStackPosition({labelBox:D,verticalAlign:X,textAlign:I});R.x-=P,R.y-=L,te.align(j,!1,R),(X=V.isInsidePlot(te.alignAttr.x+j.x+P,te.alignAttr.y+j.y+L))||($=!1),$&&w.prototype.justifyDataLabel.call(S,te,j,te.alignAttr,D,R),te.attr({x:te.alignAttr.x,y:te.alignAttr.y,rotation:Y.rotation,rotationOriginX:D.width/2,rotationOriginY:D.height/2}),q(!$&&Y.crop,!0)&&(X=G(te.x)&&G(te.y)&&V.isInsidePlot(te.x-N+te.width,te.y)&&V.isInsidePlot(te.x+N,te.y)),te[X?"show":"hide"]()}ie(this,"afterSetOffset",{xOffset:U,width:re})}adjustStackPosition({labelBox:U,verticalAlign:re,textAlign:R}){const D={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:U.width/2+U.width/2*D[R],y:U.height/2*D[re]}}getStackBox(U){var re=this.axis;const R=re.chart,{boxTop:D,defaultX:N,xOffset:$,width:j,boxBottom:S}=U;var te=re.stacking.usePercentage?100:q(D,this.total,0);te=re.toPixels(te),U=U.xAxis||R.xAxis[0];const Y=q(N,U.translate(this.x))+$;re=re.toPixels(S||G(re.min)&&re.logarithmic&&re.logarithmic.lin2log(re.min)||0),re=Math.abs(te-re);const I=this.isNegative;return R.inverted?{x:(I?te:te-re)-R.plotLeft,y:U.height-Y-j,width:re,height:j}:{x:Y+U.transB-R.plotLeft,y:(I?te-re:te)-R.plotTop,width:j,height:re}}}return Z}),s(l,"Core/Axis/Stacking/StackingAxis.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Axis/Stacking/StackItem.js"],l["Core/Utilities.js"]],function(h,u,y,n,w){function z(){const _=this,v=_.inverted;_.yAxis.forEach(M=>{M.stacking&&M.stacking.stacks&&M.hasVisibleSeries&&(M.stacking.oldStacks=M.stacking.stacks)}),_.series.forEach(M=>{const O=M.xAxis&&M.xAxis.options||{};!M.options.stacking||M.visible!==!0&&_.options.chart.ignoreHiddenSeries!==!1||(M.stackKey=[M.type,X(M.options.stack,""),v?O.top:O.left,v?O.height:O.width].join())})}function ie(){const _=this.stacking;if(_){var v=_.stacks;V(v,function(M,O){S(M),v[O]=null}),_&&_.stackTotalGroup&&_.stackTotalGroup.destroy()}}function G(){this.coll!=="yAxis"||this.stacking||(this.stacking=new P(this))}function q(_,v,M,O){return!j(_)||_.x!==v||O&&_.stackKey!==O?_={x:v,index:0,key:O,stackKey:O}:_.index++,_.key=[M,v,_.index].join(),_}function Z(){const _=this,v=_.stackKey,M=_.yAxis.stacking.stacks,O=_.processedXData,ee=_[_.options.stacking+"Stacker"];let ae;ee&&[v,"-"+v].forEach(K=>{let pe=O.length,Me;for(;pe--;){var Pe=O[pe];ae=_.getStackIndicator(ae,Pe,_.index,K),(Me=(Pe=M[K]&&M[K][Pe])&&Pe.points[ae.key])&&ee.call(_,Me,Pe,pe)}})}function F(_,v,M){v=v.total?100/v.total:0,_[0]=$(_[0]*v),_[1]=$(_[1]*v),this.stackedYData[M]=_[1]}function U(){const _=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?D.setStackedPoints.call(this,"group"):_&&V(_.stacks,(v,M)=>{M.slice(-5)==="group"&&(V(v,O=>O.destroy()),delete _.stacks[M])})}function re(_){var v=this.chart;const M=_||this.options.stacking;if(M&&(this.visible===!0||v.options.chart.ignoreHiddenSeries===!1)){var O=this.processedXData,ee=this.processedYData,ae=[],K=ee.length,pe=this.options,Me=pe.threshold,Pe=X(pe.startFromThreshold&&Me,0);pe=pe.stack,_=_?`${this.type},${M}`:this.stackKey;var W="-"+_,le=this.negStacks;v=M==="group"?v.yAxis[0]:this.yAxis;var ue=v.stacking.stacks,xe=v.stacking.oldStacks,Le,oe;for(v.stacking.stacksTouched+=1,oe=0;oe<K;oe++){var ve=O[oe],_e=ee[oe],se=this.getStackIndicator(se,ve,this.index),fe=se.key,ye=(Le=le&&_e<(Pe?0:Me))?W:_;ue[ye]||(ue[ye]={}),ue[ye][ve]||(xe[ye]&&xe[ye][ve]?(ue[ye][ve]=xe[ye][ve],ue[ye][ve].total=null):ue[ye][ve]=new n(v,v.options.stackLabels,!!Le,ve,pe)),ye=ue[ye][ve],_e!==null?(ye.points[fe]=ye.points[this.index]=[X(ye.cumulative,Pe)],j(ye.cumulative)||(ye.base=fe),ye.touched=v.stacking.stacksTouched,0<se.index&&this.singleStacks===!1&&(ye.points[fe][0]=ye.points[this.index+","+ve+",0"][0])):ye.points[fe]=ye.points[this.index]=null,M==="percent"?(Le=Le?_:W,le&&ue[Le]&&ue[Le][ve]?(Le=ue[Le][ve],ye.total=Le.total=Math.max(Le.total,ye.total)+Math.abs(_e)||0):ye.total=$(ye.total+(Math.abs(_e)||0))):M==="group"?(Y(_e)&&(_e=_e[0]),_e!==null&&(ye.total=(ye.total||0)+1)):ye.total=$(ye.total+(_e||0)),ye.cumulative=M==="group"?(ye.total||1)-1:$(X(ye.cumulative,Pe)+(_e||0)),_e!==null&&(ye.points[fe].push(ye.cumulative),ae[oe]=ye.cumulative,ye.hasValidPoints=!0)}M==="percent"&&(v.stacking.usePercentage=!0),M!=="group"&&(this.stackedYData=ae),v.stacking.oldStacks={}}}const{getDeferredAnimation:R}=h,{series:{prototype:D}}=y,{addEvent:N,correctFloat:$,defined:j,destroyObjectProperties:S,fireEvent:te,isArray:Y,isNumber:I,objectEach:V,pick:X}=w;class P{constructor(v){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=v}buildStacks(){const v=this.axis,M=v.series,O=v.options.reversedStacks,ee=M.length;let ae,K;for(this.usePercentage=!1,K=ee;K--;)ae=M[O?K:ee-K-1],ae.setStackedPoints(),ae.setGroupedPoints();for(K=0;K<ee;K++)M[K].modifyStacks();te(v,"afterBuildStacks")}cleanStacks(){let v;this.oldStacks&&(v=this.stacks=this.oldStacks),V(v,function(M){V(M,function(O){O.cumulative=O.total})})}resetStacks(){V(this.stacks,v=>{V(v,(M,O)=>{I(M.touched)&&M.touched<this.stacksTouched?(M.destroy(),delete v[O]):(M.total=null,M.cumulative=null)})})}renderStackTotals(){var v=this.axis;const M=v.chart,O=M.renderer,ee=this.stacks;v=R(M,v.options.stackLabels&&v.options.stackLabels.animation||!1);const ae=this.stackTotalGroup=this.stackTotalGroup||O.g("stack-labels").attr({zIndex:6,opacity:0}).add();ae.translate(M.plotLeft,M.plotTop),V(ee,function(K){V(K,function(pe){pe.render(ae)})}),ae.animate({opacity:1},v)}}var L;return function(_){const v=[];_.compose=function(M,O,ee){w.pushUnique(v,M)&&(N(M,"init",G),N(M,"destroy",ie)),w.pushUnique(v,O)&&(O.prototype.getStacks=z),w.pushUnique(v,ee)&&(M=ee.prototype,M.getStackIndicator=q,M.modifyStacks=Z,M.percentStacker=F,M.setGroupedPoints=U,M.setStackedPoints=re)}}(L||(L={})),L}),s(l,"Series/Line/LineSeries.js",[l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,u,y){const{defined:n,merge:w}=y;class z extends h{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const G=this,q=this.options,Z=(this.gappedPath||this.getGraphPath).call(this),F=this.chart.styledMode;let U=[["graph","highcharts-graph"]];F||U[0].push(q.lineColor||this.color||"#cccccc",q.dashStyle),U=G.getZonesGraphs(U),U.forEach(function(re,R){var D=re[0];let N=G[D];const $=N?"animate":"attr";N?(N.endX=G.preventGraphAnimation?null:Z.xMap,N.animate({d:Z})):Z.length&&(G[D]=N=G.chart.renderer.path(Z).addClass(re[1]).attr({zIndex:1}).add(G.group)),N&&!F&&(D={stroke:re[2],"stroke-width":q.lineWidth||0,fill:G.fillGraph&&G.color||"none"},re[3]?D.dashstyle=re[3]:q.linecap!=="square"&&(D["stroke-linecap"]=D["stroke-linejoin"]="round"),N[$](D).shadow(2>R&&q.shadow)),N&&(N.startX=Z.xMap,N.isArea=Z.isArea)})}getGraphPath(G,q,Z){const F=this,U=F.options,re=[],R=[];let D,N=U.step;G=G||F.points;const $=G.reversed;return $&&G.reverse(),(N={right:1,center:2}[N]||N&&3)&&$&&(N=4-N),G=this.getValidPoints(G,!1,!(U.connectNulls&&!q&&!Z)),G.forEach(function(j,S){const te=j.plotX,Y=j.plotY,I=G[S-1],V=j.isNull||typeof Y!="number";(j.leftCliff||I&&I.rightCliff)&&!Z&&(D=!0),V&&!n(q)&&0<S?D=!U.connectNulls:V&&!q?D=!0:(S===0||D?S=[["M",j.plotX,j.plotY]]:F.getPointSpline?S=[F.getPointSpline(G,j,S)]:N?(S=N===1?[["L",I.plotX,Y]]:N===2?[["L",(I.plotX+te)/2,I.plotY],["L",(I.plotX+te)/2,Y]]:[["L",te,I.plotY]],S.push(["L",te,Y])):S=[["L",te,Y]],R.push(j.x),N&&(R.push(j.x),N===2&&R.push(j.x)),re.push.apply(re,S),D=!1)}),re.xMap=R,F.graphPath=re}getZonesGraphs(G){return this.zones.forEach(function(q,Z){Z=["zone-graph-"+Z,"highcharts-graph highcharts-zone-graph-"+Z+" "+(q.className||"")],this.chart.styledMode||Z.push(q.color||this.color,q.dashStyle||this.options.dashStyle),G.push(Z)},this),G}}return z.defaultOptions=w(h.defaultOptions,{legendSymbol:"lineMarker"}),u.registerSeriesType("line",z),z}),s(l,"Series/Area/AreaSeries.js",[l["Core/Color/Color.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,u,y){const{parse:n}=h,{seriesTypes:{line:w}}=u,{extend:z,merge:ie,objectEach:G,pick:q}=y;class Z extends w{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const U=this,re=this.areaPath,R=this.options,D=[["area","highcharts-area",this.color,R.fillColor]];this.zones.forEach(function(N,$){D.push(["zone-area-"+$,"highcharts-area highcharts-zone-area-"+$+" "+N.className,N.color||U.color,N.fillColor||R.fillColor])}),D.forEach(function(N){const $=N[0],j={};let S=U[$];const te=S?"animate":"attr";S?(S.endX=U.preventGraphAnimation?null:re.xMap,S.animate({d:re})):(j.zIndex=0,S=U[$]=U.chart.renderer.path(re).addClass(N[1]).add(U.group),S.isArea=!0),U.chart.styledMode||(j.fill=q(N[3],n(N[2]).setOpacity(q(R.fillOpacity,.75)).get())),S[te](j),S.startX=re.xMap,S.shiftUnit=R.step?2:1})}getGraphPath(U){var re=w.prototype.getGraphPath,R=this.options;const D=R.stacking,N=this.yAxis,$=[],j=[],S=this.index,te=N.stacking.stacks[this.stackKey],Y=R.threshold,I=Math.round(N.getThreshold(R.threshold));R=q(R.connectNulls,D==="percent");var V=function(_,v,M){var O=U[_];_=D&&te[O.x].points[S];const ee=O[M+"Null"]||0;M=O[M+"Cliff"]||0;let ae,K;O=!0,M||ee?(ae=(ee?_[0]:_[1])+M,K=_[0]+M,O=!!ee):!D&&U[v]&&U[v].isNull&&(ae=K=Y),typeof ae<"u"&&(j.push({plotX:X,plotY:ae===null?I:N.getThreshold(ae),isNull:O,isCliff:!0}),$.push({plotX:X,plotY:K===null?I:N.getThreshold(K),doCurve:!1}))};let X;U=U||this.points,D&&(U=this.getStackPoints(U));for(let _=0,v=U.length;_<v;++_){D||(U[_].leftCliff=U[_].rightCliff=U[_].leftNull=U[_].rightNull=void 0);var P=U[_].isNull;X=q(U[_].rectPlotX,U[_].plotX);var L=D?q(U[_].yBottom,I):I;(!P||R)&&(R||V(_,_-1,"left"),P&&!D&&R||(j.push(U[_]),$.push({x:_,plotX:X,plotY:L})),R||V(_,_+1,"right"))}return V=re.call(this,j,!0,!0),$.reversed=!0,P=re.call(this,$,!0,!0),(L=P[0])&&L[0]==="M"&&(P[0]=["L",L[1],L[2]]),P=V.concat(P),P.length&&P.push(["Z"]),re=re.call(this,j,!1,R),P.xMap=V.xMap,this.areaPath=P,re}getStackPoints(U){const re=this,R=[],D=[],N=this.xAxis,$=this.yAxis,j=$.stacking.stacks[this.stackKey],S={},te=$.series,Y=te.length,I=$.options.reversedStacks?1:-1,V=te.indexOf(re);if(U=U||this.points,this.options.stacking){for(let P=0;P<U.length;P++)U[P].leftNull=U[P].rightNull=void 0,S[U[P].x]=U[P];G(j,function(P,L){P.total!==null&&D.push(L)}),D.sort(function(P,L){return P-L});const X=te.map(P=>P.visible);D.forEach(function(P,L){let _=0,v,M;if(S[P]&&!S[P].isNull)R.push(S[P]),[-1,1].forEach(function(O){const ee=O===1?"rightNull":"leftNull",ae=j[D[L+O]];let K=0;if(ae){let pe=V;for(;0<=pe&&pe<Y;){const Me=te[pe].index;v=ae.points[Me],v||(Me===re.index?S[P][ee]=!0:X[pe]&&(M=j[P].points[Me])&&(K-=M[1]-M[0])),pe+=I}}S[P][O===1?"rightCliff":"leftCliff"]=K});else{let O=V;for(;0<=O&&O<Y;){if(v=j[P].points[te[O].index]){_=v[1];break}O+=I}_=q(_,0),_=$.translate(_,0,1,0,1),R.push({isNull:!0,plotX:N.translate(P,0,0,0,1),x:P,plotY:_,yBottom:_})}})}return R}}return Z.defaultOptions=ie(w.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),z(Z.prototype,{singleStacks:!1}),u.registerSeriesType("area",Z),Z}),s(l,"Series/Spline/SplineSeries.js",[l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,u){const{line:y}=h.seriesTypes,{merge:n,pick:w}=u;class z extends y{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(G,q,Z){const F=q.plotX||0,U=q.plotY||0,re=G[Z-1];Z=G[Z+1];let R,D,N;if(re&&!re.isNull&&re.doCurve!==!1&&!q.isCliff&&Z&&!Z.isNull&&Z.doCurve!==!1&&!q.isCliff){G=re.plotY||0;var $=Z.plotX||0;Z=Z.plotY||0;let j=0;R=(1.5*F+(re.plotX||0))/2.5,D=(1.5*U+G)/2.5,$=(1.5*F+$)/2.5,N=(1.5*U+Z)/2.5,$!==R&&(j=(N-D)*($-F)/($-R)+U-N),D+=j,N+=j,D>G&&D>U?(D=Math.max(G,U),N=2*U-D):D<G&&D<U&&(D=Math.min(G,U),N=2*U-D),N>Z&&N>U?(N=Math.max(Z,U),D=2*U-N):N<Z&&N<U&&(N=Math.min(Z,U),D=2*U-N),q.rightContX=$,q.rightContY=N}return q=["C",w(re.rightContX,re.plotX,0),w(re.rightContY,re.plotY,0),w(R,F,0),w(D,U,0),F,U],re.rightContX=re.rightContY=void 0,q}}return z.defaultOptions=n(y.defaultOptions),h.registerSeriesType("spline",z),z}),s(l,"Series/AreaSpline/AreaSplineSeries.js",[l["Series/Spline/SplineSeries.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,u,y){const{area:n,area:{prototype:w}}=u.seriesTypes,{extend:z,merge:ie}=y;class G extends h{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return G.defaultOptions=ie(h.defaultOptions,n.defaultOptions),z(G.prototype,{getGraphPath:w.getGraphPath,getStackPoints:w.getStackPoints,drawGraph:w.drawGraph}),u.registerSeriesType("areaspline",G),G}),s(l,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),s(l,"Series/Column/ColumnSeries.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Color/Color.js"],l["Series/Column/ColumnSeriesDefaults.js"],l["Core/Globals.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,u,y,n,w,z,ie){const{animObject:G}=h,{parse:q}=u,{hasTouch:Z,noop:F}=n,{clamp:U,defined:re,extend:R,fireEvent:D,isArray:N,isNumber:$,merge:j,pick:S,objectEach:te}=ie;class Y extends w{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(V){const X=this,P=this.yAxis,L=P.pos,_=X.options,v=this.chart.inverted,M={},O=v?"translateX":"translateY";let ee;V?(M.scaleY=.001,V=U(P.toPixels(_.threshold),L,L+P.len),v?M.translateX=V-P.len:M.translateY=V,X.clipBox&&X.setClip(),X.group.attr(M)):(ee=Number(X.group.attr(O)),X.group.animate({scaleY:1},R(G(X.options.animation),{step:function(ae,K){X.group&&(M[O]=ee+K.pos*(L-ee),X.group.attr(M))}})))}init(V,X){super.init.apply(this,arguments);const P=this;V=P.chart,V.hasRendered&&V.series.forEach(function(L){L.type===P.type&&(L.isDirty=!0)})}getColumnMetrics(){const V=this;var X=V.options;const P=V.xAxis,L=V.yAxis;var _=P.options.reversedStacks;_=P.reversed&&!_||!P.reversed&&_;const v={};let M,O=0;X.grouping===!1?O=1:V.chart.series.forEach(function(pe){const Me=pe.yAxis,Pe=pe.options;let W;pe.type!==V.type||!pe.visible&&V.chart.options.chart.ignoreHiddenSeries||L.len!==Me.len||L.pos!==Me.pos||(Pe.stacking&&Pe.stacking!=="group"?(M=pe.stackKey,typeof v[M]>"u"&&(v[M]=O++),W=v[M]):Pe.grouping!==!1&&(W=O++),pe.columnIndex=W)});const ee=Math.min(Math.abs(P.transA)*(P.ordinal&&P.ordinal.slope||X.pointRange||P.closestPointRange||P.tickInterval||1),P.len),ae=ee*X.groupPadding,K=(ee-2*ae)/(O||1);return X=Math.min(X.maxPointWidth||P.len,S(X.pointWidth,K*(1-2*X.pointPadding))),V.columnMetrics={width:X,offset:(K-X)/2+(ae+((V.columnIndex||0)+(_?1:0))*K-ee/2)*(_?-1:1),paddedWidth:K,columnCount:O},V.columnMetrics}crispCol(V,X,P,L){var _=this.borderWidth,v=-(_%2?.5:0);return _=_%2?.5:1,this.options.crisp&&(P=Math.round(V+P)+v,V=Math.round(V)+v,P-=V),L=Math.round(X+L)+_,v=.5>=Math.abs(X)&&.5<L,X=Math.round(X)+_,L-=X,v&&L&&(--X,L+=1),{x:V,y:X,width:P,height:L}}adjustForMissingColumns(V,X,P,L){const _=this.options.stacking;if(!P.isNull&&1<L.columnCount){const v=this.yAxis.options.reversedStacks;let M=0,O=v?0:-L.columnCount;te(this.yAxis.stacking&&this.yAxis.stacking.stacks,ee=>{if(typeof P.x=="number"){const ae=ee[P.x.toString()];ae&&(ee=ae.points[this.index],_?(ee&&(M=O),ae.hasValidPoints&&(v?O++:O--)):N(ee)&&(ee=Object.keys(ae.points).filter(K=>!K.match(",")&&ae.points[K]&&1<ae.points[K].length).map(parseFloat).sort((K,pe)=>pe-K),M=ee.indexOf(this.index),O=ee.length))}}),V=(P.plotX||0)+((O-1)*L.paddedWidth+X)/2-X-M*L.paddedWidth}return V}translate(){const V=this,X=V.chart,P=V.options;var L=V.dense=2>V.closestPointRange*V.xAxis.transA;L=V.borderWidth=S(P.borderWidth,L?0:1);const _=V.xAxis,v=V.yAxis,M=P.threshold,O=S(P.minPointLength,5),ee=V.getColumnMetrics(),ae=ee.width,K=V.pointXOffset=ee.offset,pe=V.dataMin,Me=V.dataMax;let Pe=V.barW=Math.max(ae,1+2*L),W=V.translatedThreshold=v.getThreshold(M);X.inverted&&(W-=.5),P.pointPadding&&(Pe=Math.ceil(Pe)),w.prototype.translate.apply(V),V.points.forEach(function(le){const ue=S(le.yBottom,W);var xe=999+Math.abs(ue),Le=le.plotX||0;xe=U(le.plotY,-xe,v.len+xe);let oe=Math.min(xe,ue),ve=Math.max(xe,ue)-oe,_e=ae,se=Le+K,fe=Pe;O&&Math.abs(ve)<O&&(ve=O,Le=!v.reversed&&!le.negative||v.reversed&&le.negative,$(M)&&$(Me)&&le.y===M&&Me<=M&&(v.min||0)<M&&(pe!==Me||(v.max||0)<=M)&&(Le=!Le),oe=Math.abs(oe-W)>O?ue-O:W-(Le?O:0)),re(le.options.pointWidth)&&(_e=fe=Math.ceil(le.options.pointWidth),se-=Math.round((_e-ae)/2)),P.centerInCategory&&(se=V.adjustForMissingColumns(se,_e,le,ee)),le.barX=se,le.pointWidth=_e,le.tooltipPos=X.inverted?[U(v.len+v.pos-X.plotLeft-xe,v.pos-X.plotLeft,v.len+v.pos-X.plotLeft),_.len+_.pos-X.plotTop-se-fe/2,ve]:[_.left-X.plotLeft+se+fe/2,U(xe+v.pos-X.plotTop,v.pos-X.plotTop,v.len+v.pos-X.plotTop),ve],le.shapeType=V.pointClass.prototype.shapeType||"roundedRect",le.shapeArgs=V.crispCol(se,le.isNull?W:oe,fe,le.isNull?0:ve)}),D(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(V,X){const P=this.options;var L=this.pointAttrToOptions||{},_=L.stroke||"borderColor";const v=L["stroke-width"]||"borderWidth";let M,O=V&&V.color||this.color,ee=V&&V[_]||P[_]||O;L=V&&V.options.dashStyle||P.dashStyle;let ae=V&&V[v]||P[v]||this[v]||0,K=S(V&&V.opacity,P.opacity,1);return V&&this.zones.length&&(M=V.getZone(),O=V.options.color||M&&(M.color||V.nonZonedColor)||this.color,M&&(ee=M.borderColor||ee,L=M.dashStyle||L,ae=M.borderWidth||ae)),X&&V&&(V=j(P.states[X],V.options.states&&V.options.states[X]||{}),X=V.brightness,O=V.color||typeof X<"u"&&q(O).brighten(V.brightness).get()||O,ee=V[_]||ee,ae=V[v]||ae,L=V.dashStyle||L,K=S(V.opacity,K)),_={fill:O,stroke:ee,"stroke-width":ae,opacity:K},L&&(_.dashstyle=L),_}drawPoints(V=this.points){const X=this,P=this.chart,L=X.options,_=P.renderer,v=L.animationLimit||250;let M;V.forEach(function(O){let ee=O.graphic,ae=!!ee,K=ee&&P.pointCount<v?"animate":"attr";$(O.plotY)&&O.y!==null?(M=O.shapeArgs,ee&&O.hasNewShapeType()&&(ee=ee.destroy()),X.enabledDataSorting&&(O.startXPos=X.xAxis.reversed?-(M&&M.width||0):X.xAxis.width),ee||(O.graphic=ee=_[O.shapeType](M).add(O.group||X.group))&&X.enabledDataSorting&&P.hasRendered&&P.pointCount<v&&(ee.attr({x:O.startXPos}),ae=!0,K="animate"),ee&&ae&&ee[K](j(M)),P.styledMode||ee[K](X.pointAttribs(O,O.selected&&"select")).shadow(O.allowShadow!==!1&&L.shadow),ee&&(ee.addClass(O.getClassName(),!0),ee.attr({visibility:O.visible?"inherit":"hidden"}))):ee&&(O.graphic=ee.destroy())})}drawTracker(V=this.points){const X=this,P=X.chart,L=P.pointer,_=function(M){const O=L.getPointFromEvent(M);typeof O<"u"&&(L.isDirectTouch=!0,O.onMouseOver(M))};let v;V.forEach(function(M){v=N(M.dataLabels)?M.dataLabels:M.dataLabel?[M.dataLabel]:[],M.graphic&&(M.graphic.element.point=M),v.forEach(function(O){O.div?O.div.point=M:O.element.point=M})}),X._hasTracking||(X.trackerGroups.forEach(function(M){X[M]&&(X[M].addClass("highcharts-tracker").on("mouseover",_).on("mouseout",function(O){L.onTrackerMouseOut(O)}),Z&&X[M].on("touchstart",_),!P.styledMode&&X.options.cursor&&X[M].css({cursor:X.options.cursor}))}),X._hasTracking=!0),D(this,"afterDrawTracker")}remove(){const V=this,X=V.chart;X.hasRendered&&X.series.forEach(function(P){P.type===V.type&&(P.isDirty=!0)}),w.prototype.remove.apply(V,arguments)}}return Y.defaultOptions=j(w.defaultOptions,y),R(Y.prototype,{cropShoulder:0,directTouch:!0,getSymbol:F,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),z.registerSeriesType("column",Y),Y}),s(l,"Core/Series/DataLabel.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/FormatUtilities.js"],l["Core/Utilities.js"]],function(h,u,y){const{getDeferredAnimation:n}=h,{format:w}=u,{defined:z,extend:ie,fireEvent:G,isArray:q,isString:Z,merge:F,objectEach:U,pick:re,splat:R}=y;var D;return function(N){function $(L,_,v,M,O){const ee=this.chart;var ae=this.isCartesian&&ee.inverted;const K=this.enabledDataSorting;var pe=L.plotX,Me=L.plotY;const Pe=v.rotation;var W=v.align;Me=z(pe)&&z(Me)&&ee.isInsidePlot(pe,Math.round(Me),{inverted:ae,paneCoordinates:!0,series:this});let le=re(v.overflow,K?"none":"justify")==="justify";if(ae=this.visible&&L.visible!==!1&&z(pe)&&(L.series.forceDL||K&&!le||Me||re(v.inside,!!this.options.stacking)&&M&&ee.isInsidePlot(pe,ae?M.x+1:M.y+M.height-1,{inverted:ae,paneCoordinates:!0,series:this})),pe=L.pos(),ae&&pe){Pe&&_.attr({align:W}),W=_.getBBox(!0);var ue=[0,0],xe=ee.renderer.fontMetrics(_).b;if(M=ie({x:pe[0],y:Math.round(pe[1]),width:0,height:0},M),ie(v,{width:W.width,height:W.height}),Pe?(le=!1,ue=ee.renderer.rotCorr(xe,Pe),xe={x:M.x+(v.x||0)+M.width/2+ue.x,y:M.y+(v.y||0)+{top:0,middle:.5,bottom:1}[v.verticalAlign]*M.height},ue=[W.x-Number(_.attr("x")),W.y-Number(_.attr("y"))],K&&this.xAxis&&!le&&this.setDataLabelStartPos(L,_,O,Me,xe),_[O?"attr":"animate"](xe)):(K&&this.xAxis&&!le&&this.setDataLabelStartPos(L,_,O,Me,M),_.align(v,void 0,M),xe=_.alignAttr),le&&0<=M.height)this.justifyDataLabel(_,v,xe,W,M,O);else if(re(v.crop,!0)){let{x:Le,y:oe}=xe;Le+=ue[0],oe+=ue[1],ae=ee.isInsidePlot(Le,oe,{paneCoordinates:!0,series:this})&&ee.isInsidePlot(Le+W.width,oe+W.height,{paneCoordinates:!0,series:this})}v.shape&&!Pe&&_[O?"attr":"animate"]({anchorX:pe[0],anchorY:pe[1]})}O&&K&&(_.placed=!1),ae||K&&!le?_.show():(_.hide(),_.placed=!1)}function j(L,_){var v=_.filter;return v?(_=v.operator,L=L[v.property],v=v.value,_===">"&&L>v||_==="<"&&L<v||_===">="&&L>=v||_==="<="&&L<=v||_==="=="&&L==v||_==="==="&&L===v):!0}function S(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function te(L){const _=this.hasRendered||0,v=this.initDataLabelsGroup().attr({opacity:+_});return!_&&v&&(this.visible&&v.show(),this.options.animation?v.animate({opacity:1},L):v.attr({opacity:1})),v}function Y(L=this.points){const _=this,v=_.chart,M=_.options,O=v.renderer,{backgroundColor:ee,plotBackgroundColor:ae}=v.options.chart,K=O.getContrast(Z(ae)&&ae||Z(ee)&&ee||"#000000");let pe=M.dataLabels,Me,Pe;var W=R(pe)[0];const le=W.animation;W=W.defer?n(v,le,_):{defer:0,duration:0},pe=V(V(v.options.plotOptions&&v.options.plotOptions.series&&v.options.plotOptions.series.dataLabels,v.options.plotOptions&&v.options.plotOptions[_.type]&&v.options.plotOptions[_.type].dataLabels),pe),G(this,"drawDataLabels"),(q(pe)||pe.enabled||_._hasPointLabels)&&(Pe=this.initDataLabels(W),L.forEach(ue=>{Me=R(V(pe,ue.dlOptions||ue.options&&ue.options.dataLabels)),Me.forEach((xe,Le)=>{const oe=xe.enabled&&(!ue.isNull||ue.dataLabelOnNull)&&j(ue,xe),ve=ue.connectors?ue.connectors[Le]:ue.connector;let _e,se,fe=ue.dataLabels?ue.dataLabels[Le]:ue.dataLabel,ye=!fe;const Ie=re(xe.distance,ue.labelDistance);if(oe){var ke=ue.getLabelConfig(),Ue=re(xe[ue.formatPrefix+"Format"],xe.format);if(ke=z(Ue)?w(Ue,ke,v):(xe[ue.formatPrefix+"Formatter"]||xe.formatter).call(ke,xe),Ue=xe.style,_e=xe.rotation,v.styledMode||(Ue.color=re(xe.color,Ue.color,_.color,"#000000"),Ue.color==="contrast"?(ue.contrastColor=O.getContrast(ue.color||_.color),Ue.color=!z(Ie)&&xe.inside||0>Ie||M.stacking?ue.contrastColor:K):delete ue.contrastColor,M.cursor&&(Ue.cursor=M.cursor)),se={r:xe.borderRadius||0,rotation:_e,padding:xe.padding,zIndex:1},!v.styledMode){const{backgroundColor:st,borderColor:it}=xe;se.fill=st==="auto"?ue.color:st,se.stroke=it==="auto"?ue.color:it,se["stroke-width"]=xe.borderWidth}U(se,function(st,it){typeof st>"u"&&delete se[it]})}!fe||oe&&z(ke)&&!!fe.div==!!xe.useHTML&&(fe.rotation&&xe.rotation||fe.rotation===xe.rotation)||(ye=!0,ue.dataLabel=fe=ue.dataLabel&&ue.dataLabel.destroy(),ue.dataLabels&&(ue.dataLabels.length===1?delete ue.dataLabels:delete ue.dataLabels[Le]),Le||delete ue.dataLabel,ve&&(ue.connector=ue.connector.destroy(),ue.connectors&&(ue.connectors.length===1?delete ue.connectors:delete ue.connectors[Le]))),oe&&z(ke)?(fe?se.text=ke:(ue.dataLabels=ue.dataLabels||[],fe=ue.dataLabels[Le]=_e?O.text(ke,0,0,xe.useHTML).addClass("highcharts-data-label"):O.label(ke,0,0,xe.shape,null,null,xe.useHTML,null,"data-label"),Le||(ue.dataLabel=fe),fe.addClass(" highcharts-data-label-color-"+ue.colorIndex+" "+(xe.className||"")+(xe.useHTML?" highcharts-tracker":""))),fe.options=xe,fe.attr(se),v.styledMode||fe.css(Ue).shadow(xe.shadow),(Le=xe[ue.formatPrefix+"TextPath"]||xe.textPath)&&!xe.useHTML&&(fe.setTextPath(ue.getDataLabelPath&&ue.getDataLabelPath(fe)||ue.graphic,Le),ue.dataLabelPath&&!Le.enabled&&(ue.dataLabelPath=ue.dataLabelPath.destroy())),fe.added||fe.add(Pe),_.alignDataLabel(ue,fe,xe,null,ye)):fe&&fe.hide()})})),G(this,"afterDrawDataLabels")}function I(L,_,v,M,O,ee){const ae=this.chart,K=_.align,pe=_.verticalAlign,Me=L.box?0:L.padding||0;let{x:Pe=0,y:W=0}=_,le,ue;return le=(v.x||0)+Me,0>le&&(K==="right"&&0<=Pe?(_.align="left",_.inside=!0):Pe-=le,ue=!0),le=(v.x||0)+M.width-Me,le>ae.plotWidth&&(K==="left"&&0>=Pe?(_.align="right",_.inside=!0):Pe+=ae.plotWidth-le,ue=!0),le=v.y+Me,0>le&&(pe==="bottom"&&0<=W?(_.verticalAlign="top",_.inside=!0):W-=le,ue=!0),le=(v.y||0)+M.height-Me,le>ae.plotHeight&&(pe==="top"&&0>=W?(_.verticalAlign="bottom",_.inside=!0):W+=ae.plotHeight-le,ue=!0),ue&&(_.x=Pe,_.y=W,L.placed=!ee,L.align(_,void 0,O)),ue}function V(L,_){let v=[],M;if(q(L)&&!q(_))v=L.map(function(O){return F(O,_)});else if(q(_)&&!q(L))v=_.map(function(O){return F(L,O)});else if(q(L)||q(_))for(M=Math.max(L.length,_.length);M--;)v[M]=F(L[M],_[M]);else v=F(L,_);return v}function X(L,_,v,M,O){const ee=this.chart,ae=ee.inverted,K=this.xAxis,pe=K.reversed,Me=ae?_.height/2:_.width/2;L=(L=L.pointWidth)?L/2:0,_.startXPos=ae?O.x:pe?-Me-L:K.width-Me+L,_.startYPos=ae?pe?this.yAxis.height-Me+L:-Me-L:O.y,M?_.visibility==="hidden"&&(_.show(),_.attr({opacity:0}).animate({opacity:1})):_.attr({opacity:1}).animate({opacity:0},void 0,_.hide),ee.hasRendered&&(v&&_.attr({x:_.startXPos,y:_.startYPos}),_.placed=!0)}const P=[];N.compose=function(L){y.pushUnique(P,L)&&(L=L.prototype,L.initDataLabelsGroup=S,L.initDataLabels=te,L.alignDataLabel=$,L.drawDataLabels=Y,L.justifyDataLabel=I,L.setDataLabelStartPos=X)}}(D||(D={})),D}),s(l,"Series/Column/ColumnDataLabel.js",[l["Core/Series/DataLabel.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,u,y){const{series:n}=u,{merge:w,pick:z}=y;var ie;return function(G){function q(F,U,re,R,D){let N=this.chart.inverted;var $=F.series;let j=($.xAxis?$.xAxis.len:this.chart.plotSizeX)||0;$=($.yAxis?$.yAxis.len:this.chart.plotSizeY)||0;var S=F.dlBox||F.shapeArgs;let te=z(F.below,F.plotY>z(this.translatedThreshold,$)),Y=z(re.inside,!!this.options.stacking);S&&(R=w(S),0>R.y&&(R.height+=R.y,R.y=0),S=R.y+R.height-$,0<S&&S<R.height&&(R.height-=S),N&&(R={x:$-R.y-R.height,y:j-R.x-R.width,width:R.height,height:R.width}),Y||(N?(R.x+=te?0:R.width,R.width=0):(R.y+=te?R.height:0,R.height=0))),re.align=z(re.align,!N||Y?"center":te?"right":"left"),re.verticalAlign=z(re.verticalAlign,N||Y?"middle":te?"top":"bottom"),n.prototype.alignDataLabel.call(this,F,U,re,R,D),re.inside&&F.contrastColor&&U.css({color:F.contrastColor})}const Z=[];G.compose=function(F){h.compose(n),y.pushUnique(Z,F)&&(F.prototype.alignDataLabel=q)}}(ie||(ie={})),ie}),s(l,"Series/Bar/BarSeries.js",[l["Series/Column/ColumnSeries.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,u,y){const{extend:n,merge:w}=y;class z extends h{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return z.defaultOptions=w(h.defaultOptions,{}),n(z.prototype,{inverted:!0}),u.registerSeriesType("bar",z),z}),s(l,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),s(l,"Series/Scatter/ScatterSeries.js",[l["Series/Scatter/ScatterSeriesDefaults.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,u,y){const{column:n,line:w}=u.seriesTypes,{addEvent:z,extend:ie,merge:G}=y;class q extends w{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const F=this,U=this.options.jitter,re=this.points.length;U&&this.points.forEach(function(R,D){["x","y"].forEach(function(N,$){let j="plot"+N.toUpperCase(),S,te;if(U[N]&&!R.isNull){var Y=F[N+"Axis"];te=U[N]*Y.transA,Y&&!Y.isLog&&(S=Math.max(0,R[j]-te),Y=Math.min(Y.len,R[j]+te),$=1e4*Math.sin(D+$*re),$-=Math.floor($),R[j]=S+(Y-S)*$,N==="x"&&(R.clientX=R.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return q.defaultOptions=G(w.defaultOptions,h),ie(q.prototype,{drawTracker:n.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),z(q,"afterTranslate",function(){this.applyJitter()}),u.registerSeriesType("scatter",q),q}),s(l,"Series/CenteredUtilities.js",[l["Core/Globals.js"],l["Core/Series/Series.js"],l["Core/Utilities.js"]],function(h,u,y){const{deg2rad:n}=h,{fireEvent:w,isNumber:z,pick:ie,relativeLength:G}=y;var q;return function(Z){Z.getCenter=function(){var F=this.options,U=this.chart;const re=2*(F.slicedOffset||0),R=U.plotWidth-2*re,D=U.plotHeight-2*re;var N=F.center;const $=Math.min(R,D),j=F.thickness;var S=F.size;let te=F.innerSize||0;for(typeof S=="string"&&(S=parseFloat(S)),typeof te=="string"&&(te=parseFloat(te)),F=[ie(N[0],"50%"),ie(N[1],"50%"),ie(S&&0>S?void 0:F.size,"100%"),ie(te&&0>te?void 0:F.innerSize||0,"0%")],!U.angular||this instanceof u||(F[3]=0),N=0;4>N;++N)S=F[N],U=2>N||N===2&&/%$/.test(S),F[N]=G(S,[R,D,$,F[2]][N])+(U?re:0);return F[3]>F[2]&&(F[3]=F[2]),z(j)&&2*j<F[2]&&0<j&&(F[3]=F[2]-2*j),w(this,"afterGetCenter",{positions:F}),F},Z.getStartAndEndRadians=function(F,U){return F=z(F)?F:0,U=z(U)&&U>F&&360>U-F?U:F+360,{start:n*(F+-90),end:n*(U+-90)}}}(q||(q={})),q}),s(l,"Series/Pie/PiePoint.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Series/Point.js"],l["Core/Utilities.js"]],function(h,u,y){const{setAnimation:n}=h,{addEvent:w,defined:z,extend:ie,isNumber:G,pick:q,relativeLength:Z}=y;class F extends u{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const re=this.labelPosition,R=this.series.options.dataLabels,D=this.connectorShapes;let N=R.connectorShape;return D[N]&&(N=D[N]),N.call(this,{x:re.computed.x,y:re.computed.y,alignment:re.alignment},re.connectorPosition,R)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(re){const R=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(R.x,R.y,R.r+re,R.r+re,{innerR:R.r-1,start:R.start,end:R.end,borderRadius:R.borderRadius})}init(){super.init.apply(this,arguments),this.name=q(this.name,"Slice");const re=R=>{this.slice(R.type==="select")};return w(this,"select",re),w(this,"unselect",re),this}isValid(){return G(this.y)&&0<=this.y}setVisible(re,R){const D=this.series,N=D.chart,$=D.options.ignoreHiddenPoint;R=q(R,$),re!==this.visible&&(this.visible=this.options.visible=re=typeof re>"u"?!this.visible:re,D.options.data[D.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(j=>{this[j]&&this[j][re?"show":"hide"](re)}),this.legendItem&&N.legend.colorizeItem(this,re),re||this.state!=="hover"||this.setState(""),$&&(D.isDirty=!0),R&&N.redraw())}slice(re,R,D){const N=this.series;n(D,N.chart),q(R,!0),this.sliced=this.options.sliced=z(re)?re:!this.sliced,N.options.data[N.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return ie(F.prototype,{connectorShapes:{fixedOffset:function(U,re,R){const D=re.breakAt;return re=re.touchingSliceAt,[["M",U.x,U.y],R.softConnector?["C",U.x+(U.alignment==="left"?-5:5),U.y,2*D.x-re.x,2*D.y-re.y,D.x,D.y]:["L",D.x,D.y],["L",re.x,re.y]]},straight:function(U,re){return re=re.touchingSliceAt,[["M",U.x,U.y],["L",re.x,re.y]]},crookedLine:function(U,re,R){const{breakAt:D,touchingSliceAt:N}=re;({series:re}=this);const[$,j,S]=re.center,te=S/2,Y=re.chart.plotWidth,I=re.chart.plotLeft;re=U.alignment==="left";const{x:V,y:X}=U;return R.crookDistance?(U=Z(R.crookDistance,1),U=re?$+te+(Y+I-$-te)*(1-U):I+($-te)*U):U=$+(j-X)*Math.tan((this.angle||0)-Math.PI/2),R=[["M",V,X]],(re?U<=V&&U>=D.x:U>=V&&U<=D.x)&&R.push(["L",U,X]),R.push(["L",D.x,D.y],["L",N.x,N.y]),R}}}),F}),s(l,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),s(l,"Series/Pie/PieSeries.js",[l["Series/CenteredUtilities.js"],l["Series/Column/ColumnSeries.js"],l["Core/Globals.js"],l["Series/Pie/PiePoint.js"],l["Series/Pie/PieSeriesDefaults.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/Symbols.js"],l["Core/Utilities.js"]],function(h,u,y,n,w,z,ie,G,q){const{getStartAndEndRadians:Z}=h;({noop:y}=y);const{clamp:F,extend:U,fireEvent:re,merge:R,pick:D,relativeLength:N}=q;class $ extends z{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(S){const te=this,Y=te.points,I=te.startAngleRad;S||Y.forEach(function(V){const X=V.graphic,P=V.shapeArgs;X&&P&&(X.attr({r:D(V.startR,te.center&&te.center[3]/2),start:I,end:I}),X.animate({r:P.r,start:P.start,end:P.end},te.options.animation))})}drawEmpty(){const S=this.startAngleRad,te=this.endAngleRad,Y=this.options;let I,V;this.total===0&&this.center?(I=this.center[0],V=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(I,V,this.center[1]/2,0,S,te).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:G.arc(I,V,this.center[2]/2,0,{start:S,end:te,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":Y.borderWidth,fill:Y.fillColor||"none",stroke:Y.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const S=this.chart.renderer;this.points.forEach(function(te){te.graphic&&te.hasNewShapeType()&&(te.graphic=te.graphic.destroy()),te.graphic||(te.graphic=S[te.shapeType](te.shapeArgs).add(te.series.group),te.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(S,te,Y){const I=this.center,V=this.radii?this.radii[Y.index]||0:I[2]/2;return S=Math.asin(F((S-I[1])/(V+Y.labelDistance),-1,1)),I[0]+(te?-1:1)*Math.cos(S)*(V+Y.labelDistance)+(0<Y.labelDistance?(te?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const S=this,te=S.chart;let Y,I,V,X;this.drawEmpty(),S.group&&!te.styledMode&&S.group.shadow(S.options.shadow),S.points.forEach(function(P){const L={};I=P.graphic,!P.isNull&&I?(X=P.shapeArgs,Y=P.getTranslate(),te.styledMode||(V=S.pointAttribs(P,P.selected&&"select")),P.delayedRendering?(I.setRadialReference(S.center).attr(X).attr(Y),te.styledMode||I.attr(V).attr({"stroke-linejoin":"round"}),P.delayedRendering=!1):(I.setRadialReference(S.center),te.styledMode||R(!0,L,V),R(!0,L,X,Y),I.animate(L)),I.attr({visibility:P.visible?"inherit":"hidden"}),I.addClass(P.getClassName(),!0)):I&&(P.graphic=I.destroy())})}sortByAngle(S,te){S.sort(function(Y,I){return typeof Y.angle<"u"&&(I.angle-Y.angle)*te})}translate(S){re(this,"translate"),this.generatePoints();var te=this.options;const Y=te.slicedOffset,I=Y+(te.borderWidth||0);var V=Z(te.startAngle,te.endAngle);const X=this.startAngleRad=V.start;V=(this.endAngleRad=V.end)-X;const P=this.points,L=te.dataLabels.distance;te=te.ignoreHiddenPoint;const _=P.length;let v,M,O,ee=0;for(S||(this.center=S=this.getCenter()),M=0;M<_;M++){O=P[M];var ae=X+ee*V;!O.isValid()||te&&!O.visible||(ee+=O.percentage/100);var K=X+ee*V,pe={x:S[0],y:S[1],r:S[2]/2,innerR:S[3]/2,start:Math.round(1e3*ae)/1e3,end:Math.round(1e3*K)/1e3};O.shapeType="arc",O.shapeArgs=pe,O.labelDistance=D(O.options.dataLabels&&O.options.dataLabels.distance,L),O.labelDistance=N(O.labelDistance,pe.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,O.labelDistance),K=(K+ae)/2,K>1.5*Math.PI?K-=2*Math.PI:K<-Math.PI/2&&(K+=2*Math.PI),O.slicedTranslation={translateX:Math.round(Math.cos(K)*Y),translateY:Math.round(Math.sin(K)*Y)},pe=Math.cos(K)*S[2]/2,v=Math.sin(K)*S[2]/2,O.tooltipPos=[S[0]+.7*pe,S[1]+.7*v],O.half=K<-Math.PI/2||K>Math.PI/2?1:0,O.angle=K,ae=Math.min(I,O.labelDistance/5),O.labelPosition={natural:{x:S[0]+pe+Math.cos(K)*O.labelDistance,y:S[1]+v+Math.sin(K)*O.labelDistance},computed:{},alignment:0>O.labelDistance?"center":O.half?"right":"left",connectorPosition:{breakAt:{x:S[0]+pe+Math.cos(K)*ae,y:S[1]+v+Math.sin(K)*ae},touchingSliceAt:{x:S[0]+pe,y:S[1]+v}}}}re(this,"afterTranslate")}updateTotals(){const S=this.points,te=S.length,Y=this.options.ignoreHiddenPoint;let I,V,X=0;for(I=0;I<te;I++)V=S[I],!V.isValid()||Y&&!V.visible||(X+=V.y);for(this.total=X,I=0;I<te;I++)V=S[I],V.percentage=0<X&&(V.visible||!Y)?V.y/X*100:0,V.total=X}}return $.defaultOptions=R(z.defaultOptions,w),U($.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:u.prototype.drawTracker,getCenter:h.getCenter,getSymbol:y,isCartesian:!1,noSharedTooltip:!0,pointAttribs:u.prototype.pointAttribs,pointClass:n,requireSorting:!1,searchPoint:y,trackerGroups:["group","dataLabelsGroup"]}),ie.registerSeriesType("pie",$),$}),s(l,"Series/Pie/PieDataLabel.js",[l["Core/Series/DataLabel.js"],l["Core/Globals.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(h,u,y,n,w){const{noop:z}=u,{distribute:ie}=y,{series:G}=n,{arrayMax:q,clamp:Z,defined:F,merge:U,pick:re,relativeLength:R}=w;var D;return function(N){function $(){const I=this,V=I.data,X=I.chart,P=I.options.dataLabels||{},L=P.connectorPadding,_=X.plotWidth,v=X.plotHeight,M=X.plotLeft,O=Math.round(X.chartWidth/3),ee=I.center,ae=ee[2]/2,K=ee[1],pe=[[],[]],Me=[0,0,0,0],Pe=I.dataLabelPositioners;let W,le,ue,xe,Le,oe,ve,_e,se,fe,ye,Ie;I.visible&&(P.enabled||I._hasPointLabels)&&(V.forEach(function(ke){ke.dataLabel&&ke.visible&&ke.dataLabel.shortened&&(ke.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ke.dataLabel.shortened=!1)}),G.prototype.drawDataLabels.apply(I),V.forEach(function(ke){ke.dataLabel&&(ke.visible?(pe[ke.half].push(ke),ke.dataLabel._pos=null,!F(P.style.width)&&!F(ke.options.dataLabels&&ke.options.dataLabels.style&&ke.options.dataLabels.style.width)&&ke.dataLabel.getBBox().width>O&&(ke.dataLabel.css({width:Math.round(.7*O)+"px"}),ke.dataLabel.shortened=!0)):(ke.dataLabel=ke.dataLabel.destroy(),ke.dataLabels&&ke.dataLabels.length===1&&delete ke.dataLabels))}),pe.forEach((ke,Ue)=>{const st=ke.length,it=[];let ht,Ae=0;if(st){if(I.sortByAngle(ke,Ue-.5),0<I.maxLabelDistance){var ze=Math.max(0,K-ae-I.maxLabelDistance);ht=Math.min(K+ae+I.maxLabelDistance,X.plotHeight),ke.forEach(function(je){0<je.labelDistance&&je.dataLabel&&(je.top=Math.max(0,K-ae-je.labelDistance),je.bottom=Math.min(K+ae+je.labelDistance,X.plotHeight),Ae=je.dataLabel.getBBox().height||21,je.distributeBox={target:je.labelPosition.natural.y-je.top+Ae/2,size:Ae,rank:je.y},it.push(je.distributeBox))}),ze=ht+Ae-ze,ie(it,ze,ze/5)}for(ye=0;ye<st;ye++){if(W=ke[ye],oe=W.labelPosition,xe=W.dataLabel,fe=W.visible===!1?"hidden":"inherit",se=ze=oe.natural.y,it&&F(W.distributeBox)&&(typeof W.distributeBox.pos>"u"?fe="hidden":(ve=W.distributeBox.size,se=Pe.radialDistributionY(W))),delete W.positionIndex,P.justify)_e=Pe.justify(W,ae,ee);else switch(P.alignTo){case"connectors":_e=Pe.alignToConnectors(ke,Ue,_,M);break;case"plotEdges":_e=Pe.alignToPlotEdges(xe,Ue,_,M);break;default:_e=Pe.radialDistributionX(I,W,se,ze)}xe._attr={visibility:fe,align:oe.alignment},Ie=W.options.dataLabels||{},xe._pos={x:_e+re(Ie.x,P.x)+({left:L,right:-L}[oe.alignment]||0),y:se+re(Ie.y,P.y)-xe.getBBox().height/2},oe&&(oe.computed.x=_e,oe.computed.y=se),re(P.crop,!0)&&(Le=xe.getBBox().width,ze=null,_e-Le<L&&Ue===1?(ze=Math.round(Le-_e+L),Me[3]=Math.max(ze,Me[3])):_e+Le>_-L&&Ue===0&&(ze=Math.round(_e+Le-_+L),Me[1]=Math.max(ze,Me[1])),0>se-ve/2?Me[0]=Math.max(Math.round(-se+ve/2),Me[0]):se+ve/2>v&&(Me[2]=Math.max(Math.round(se+ve/2-v),Me[2])),xe.sideOverflow=ze)}}}),q(Me)===0||this.verifyDataLabelOverflow(Me))&&(this.placeDataLabels(),this.points.forEach(function(ke){if(Ie=U(P,ke.options.dataLabels),le=re(Ie.connectorWidth,1)){let Ue;ue=ke.connector,(xe=ke.dataLabel)&&xe._pos&&ke.visible&&0<ke.labelDistance?(fe=xe._attr.visibility,(Ue=!ue)&&(ke.connector=ue=X.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ke.colorIndex+(ke.className?" "+ke.className:"")).add(I.dataLabelsGroup),X.styledMode||ue.attr({"stroke-width":le,stroke:Ie.connectorColor||ke.color||"#666666"})),ue[Ue?"attr":"animate"]({d:ke.getConnectorPath()}),ue.attr("visibility",fe)):ue&&(ke.connector=ue.destroy())}}))}function j(){this.points.forEach(function(I){let V=I.dataLabel,X;V&&I.visible&&((X=V._pos)?(V.sideOverflow&&(V._attr.width=Math.max(V.getBBox().width-V.sideOverflow,0),V.css({width:V._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),V.shortened=!0),V.attr(V._attr),V[V.moved?"animate":"attr"](X),V.moved=!0):V&&V.attr({y:-9999})),delete I.distributeBox},this)}function S(I){let V=this.center,X=this.options,P=X.center,L=X.minSize||80,_,v=X.size!==null;return v||(P[0]!==null?_=Math.max(V[2]-Math.max(I[1],I[3]),L):(_=Math.max(V[2]-I[1]-I[3],L),V[0]+=(I[3]-I[1])/2),P[1]!==null?_=Z(_,L,V[2]-Math.max(I[0],I[2])):(_=Z(_,L,V[2]-I[0]-I[2]),V[1]+=(I[0]-I[2])/2),_<V[2]?(V[2]=_,V[3]=Math.min(X.thickness?Math.max(0,_-2*X.thickness):Math.max(0,R(X.innerSize||0,_)),_),this.translate(V),this.drawDataLabels&&this.drawDataLabels()):v=!0),v}const te=[],Y={radialDistributionY:function(I){return I.top+I.distributeBox.pos},radialDistributionX:function(I,V,X,P){return I.getX(X<V.top+2||X>V.bottom-2?P:X,V.half,V)},justify:function(I,V,X){return X[0]+(I.half?-1:1)*(V+I.labelDistance)},alignToPlotEdges:function(I,V,X,P){return I=I.getBBox().width,V?I+P:X-I-P},alignToConnectors:function(I,V,X,P){let L=0,_;return I.forEach(function(v){_=v.dataLabel.getBBox().width,_>L&&(L=_)}),V?L+P:X-L-P}};N.compose=function(I){h.compose(G),w.pushUnique(te,I)&&(I=I.prototype,I.dataLabelPositioners=Y,I.alignDataLabel=z,I.drawDataLabels=$,I.placeDataLabels=j,I.verifyDataLabelOverflow=S)}}(D||(D={})),D}),s(l,"Extensions/OverlappingDataLabels.js",[l["Core/Chart/Chart.js"],l["Core/Utilities.js"]],function(h,u){function y(Z,F){let U,re=!1;return Z&&(U=Z.newOpacity,Z.oldOpacity!==U&&(Z.alignAttr&&Z.placed?(Z[U?"removeClass":"addClass"]("highcharts-data-label-hidden"),re=!0,Z.alignAttr.opacity=U,Z[Z.isOld?"animate":"attr"](Z.alignAttr,null,function(){F.styledMode||Z.css({pointerEvents:U?"auto":"none"})}),w(F,"afterHideOverlappingLabel")):Z.attr({opacity:U})),Z.isOld=!0),re}const{addEvent:n,fireEvent:w,isArray:z,isNumber:ie,objectEach:G,pick:q}=u;n(h,"render",function(){let Z=this,F=[];(this.labelCollectors||[]).forEach(function(U){F=F.concat(U())}),(this.yAxis||[]).forEach(function(U){U.stacking&&U.options.stackLabels&&!U.options.stackLabels.allowOverlap&&G(U.stacking.stacks,function(re){G(re,function(R){R.label&&F.push(R.label)})})}),(this.series||[]).forEach(function(U){var re=U.options.dataLabels;U.visible&&(re.enabled!==!1||U._hasPointLabels)&&(re=R=>R.forEach(D=>{D.visible&&(z(D.dataLabels)?D.dataLabels:D.dataLabel?[D.dataLabel]:[]).forEach(function(N){const $=N.options;N.labelrank=q($.labelrank,D.labelrank,D.shapeArgs&&D.shapeArgs.height),$.allowOverlap?(N.oldOpacity=N.opacity,N.newOpacity=1,y(N,Z)):F.push(N)})}),re(U.nodes||[]),re(U.points))}),this.hideOverlappingLabels(F)}),h.prototype.hideOverlappingLabels=function(Z){let F=this,U=Z.length,re=F.renderer;var R;let D,N,$,j,S=!1;var te=function(Y){let I,V;var X;let P=Y.box?0:Y.padding||0,L=X=0,_,v;if(Y&&(!Y.alignAttr||Y.placed))return I=Y.alignAttr||{x:Y.attr("x"),y:Y.attr("y")},V=Y.parentGroup,Y.width||(X=Y.getBBox(),Y.width=X.width,Y.height=X.height,X=re.fontMetrics(Y.element).h),_=Y.width-2*P,(v={left:"0",center:"0.5",right:"1"}[Y.alignValue])?L=+v*_:ie(Y.x)&&Math.round(Y.x)!==Y.translateX&&(L=Y.x-Y.translateX),{x:I.x+(V.translateX||0)+P-(L||0),y:I.y+(V.translateY||0)+P-X,width:Y.width-2*P,height:Y.height-2*P}};for(D=0;D<U;D++)(R=Z[D])&&(R.oldOpacity=R.opacity,R.newOpacity=1,R.absoluteBox=te(R));for(Z.sort(function(Y,I){return(I.labelrank||0)-(Y.labelrank||0)}),D=0;D<U;D++)for($=(te=Z[D])&&te.absoluteBox,R=D+1;R<U;++R)j=(N=Z[R])&&N.absoluteBox,!$||!j||te===N||te.newOpacity===0||N.newOpacity===0||te.visibility==="hidden"||N.visibility==="hidden"||j.x>=$.x+$.width||j.x+j.width<=$.x||j.y>=$.y+$.height||j.y+j.height<=$.y||((te.labelrank<N.labelrank?te:N).newOpacity=0);Z.forEach(function(Y){y(Y,F)&&(S=!0)}),S&&w(F,"afterHideAllOverlappingLabels")}}),s(l,"Extensions/BorderRadius.js",[l["Core/Defaults.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Utilities.js"]],function(h,u,y,n,w,z){const{defaultOptions:ie}=h;({seriesTypes:h}=y);const{addEvent:G,extend:q,isObject:Z,merge:F,relativeLength:U}=z,re={radius:0,scope:"stack",where:void 0},R=(D,N)=>(Z(D)||(D={radius:D||0}),F(re,N,D));if(n.symbolCustomAttribs.indexOf("borderRadius")===-1){n.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const D=w.prototype.symbols.arc;w.prototype.symbols.arc=function($,j,S,te,Y={}){$=D($,j,S,te,Y);const{innerR:I=0,r:V=S,start:X=0,end:P=0}=Y;if(Y.open||!Y.borderRadius)return $;for(S=P-X,j=Math.sin(S/2),Y=Math.max(Math.min(U(Y.borderRadius||0,V-I),(V-I)/2,V*j/(1+j)),0),S=Math.min(Y,S/Math.PI*2*I),j=$.length-1;j--;){let ae,K,pe;te=$;var L=j,_=1<j?S:Y,v=te[L],M=te[L+1];if(M[0]==="Z"&&(M=te[0]),v[0]!=="M"&&v[0]!=="L"||M[0]!=="A"?v[0]!=="A"||M[0]!=="M"&&M[0]!=="L"||(pe=M,K=v):(pe=v,K=M,ae=!0),pe&&K&&K.params){v=K[1];var O=K[5];M=K.params;const{start:Me,end:Pe,cx:W,cy:le}=M;var ee=O?v-_:v+_;const ue=ee?Math.asin(_/ee):0;O=O?ue:-ue,ee*=Math.cos(ue),ae?(M.start=Me+O,pe[1]=W+ee*Math.cos(Me),pe[2]=le+ee*Math.sin(Me),te.splice(L+1,0,["A",_,_,0,0,1,W+v*Math.cos(M.start),le+v*Math.sin(M.start)])):(M.end=Pe-O,K[6]=W+v*Math.cos(M.end),K[7]=le+v*Math.sin(M.end),te.splice(L+1,0,["A",_,_,0,0,1,W+ee*Math.cos(Pe),le+ee*Math.sin(Pe)])),K[4]=Math.abs(M.end-M.start)<Math.PI?0:1}}return $};const N=w.prototype.symbols.roundedRect;w.prototype.symbols.roundedRect=function($,j,S,te,Y={}){const I=N($,j,S,te,Y),{r:V=0,brBoxHeight:X=te,brBoxY:P=j}=Y;var L=j-P,_=P+X-(j+te);Y=-.1<L-V?0:V;const v=-.1<_-V?0:V;var M=Math.max(Y&&L,0);const O=Math.max(v&&_,0);_=[$+Y,j],L=[$+S-Y,j];const ee=[$+S,j+Y],ae=[$+S,j+te-v],K=[$+S-v,j+te],pe=[$+v,j+te],Me=[$,j+te-v],Pe=[$,j+Y];if(M){const W=Math.sqrt(Math.pow(Y,2)-Math.pow(Y-M,2));_[0]-=W,L[0]+=W,ee[1]=Pe[1]=j+Y-M}return te<Y-M&&(M=Math.sqrt(Math.pow(Y,2)-Math.pow(Y-M-te,2)),ee[0]=ae[0]=$+S-Y+M,K[0]=Math.min(ee[0],K[0]),pe[0]=Math.max(ae[0],pe[0]),Me[0]=Pe[0]=$+Y-M,ee[1]=Pe[1]=j+te),O&&(M=Math.sqrt(Math.pow(v,2)-Math.pow(v-O,2)),K[0]+=M,pe[0]-=M,ae[1]=Me[1]=j+te-v+O),te<v-O&&(te=Math.sqrt(Math.pow(v,2)-Math.pow(v-O-te,2)),ee[0]=ae[0]=$+S-v+te,L[0]=Math.min(ee[0],L[0]),_[0]=Math.max(ae[0],_[0]),Me[0]=Pe[0]=$+v-te,ae[1]=Me[1]=j),I.length=0,I.push(["M",..._],["L",...L],["A",Y,Y,0,0,1,...ee],["L",...ae],["A",v,v,0,0,1,...K],["L",...pe],["A",v,v,0,0,1,...Me],["L",...Pe],["A",Y,Y,0,0,1,..._],["Z"]),I},G(h.pie,"afterTranslate",function(){const $=R(this.options.borderRadius);for(const j of this.points){const S=j.shapeArgs;S&&(S.borderRadius=U($.radius,(S.r||0)-(S.innerR||0)))}}),G(u,"afterColumnTranslate",function(){var $,j;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:I,yAxis:V}=this,X=I.stacking==="percent";var S=(j=($=ie.plotOptions)===null||$===void 0?void 0:$[this.type])===null||j===void 0?void 0:j.borderRadius;$=R(I.borderRadius,Z(S)?S:{}),j=V.options.reversed;for(const P of this.points)if({shapeArgs:S}=P,P.shapeType==="roundedRect"&&S){const{width:L=0,height:_=0,y:v=0}=S;var te=v,Y=_;$.scope==="stack"&&P.stackTotal&&(te=V.translate(X?100:P.stackTotal,!1,!0,!1,!0),Y=V.translate(I.threshold||0,!1,!0,!1,!0),Y=this.crispCol(0,Math.min(te,Y),0,Math.abs(te-Y)),te=Y.y,Y=Y.height);const M=(P.negative?-1:1)*(j?-1:1)===-1;let O=$.where;!O&&this.is("waterfall")&&Math.abs((P.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(O="all"),O||(O="end");const ee=Math.min(U($.radius,L),L/2,O==="all"?_/2:1/0)||0;O==="end"&&(M&&(te-=ee),Y+=ee),q(S,{brBoxHeight:Y,brBoxY:te,r:ee})}}},{order:9})}return u={optionsToObject:R},u}),s(l,"Core/Responsive.js",[l["Core/Utilities.js"]],function(h){const{extend:u,find:y,isArray:n,isObject:w,merge:z,objectEach:ie,pick:G,splat:q,uniqueKey:Z}=h;var F;return function(U){function re($){function j(Y,I,V,X){let P;ie(Y,function(L,_){if(!X&&-1<S.collectionsWithUpdate.indexOf(_)&&I[_])for(L=q(L),V[_]=[],P=0;P<Math.max(L.length,I[_].length);P++)I[_][P]&&(L[P]===void 0?V[_][P]=I[_][P]:(V[_][P]={},j(L[P],I[_][P],V[_][P],X+1)));else w(L)?(V[_]=n(L)?[]:{},j(L,I[_]||{},V[_],X+1)):V[_]=typeof I[_]>"u"?null:I[_]})}const S=this,te={};return j($,this.options,te,0),te}function R($,j){const S=$.condition;(S.callback||function(){return this.chartWidth<=G(S.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=G(S.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=G(S.minWidth,0)&&this.chartHeight>=G(S.minHeight,0)}).call(this)&&j.push($._id)}function D($,j){const S=this.options.responsive;var te=this.currentResponsive;let Y=[];!j&&S&&S.rules&&S.rules.forEach(I=>{typeof I._id>"u"&&(I._id=Z()),this.matchResponsiveRule(I,Y)},this),j=z(...Y.map(I=>y((S||{}).rules||[],V=>V._id===I)).map(I=>I&&I.chartOptions)),j.isResponsiveOptions=!0,Y=Y.toString()||void 0,Y!==(te&&te.ruleIds)&&(te&&this.update(te.undoOptions,$,!0),Y?(te=this.currentOptions(j),te.isResponsiveOptions=!0,this.currentResponsive={ruleIds:Y,mergedOptions:j,undoOptions:te},this.update(j,$,!0)):this.currentResponsive=void 0)}const N=[];U.compose=function($){return h.pushUnique(N,$)&&u($.prototype,{currentOptions:re,matchResponsiveRule:R,setResponsive:D}),$}}(F||(F={})),F}),s(l,"masters/highcharts.src.js",[l["Core/Globals.js"],l["Core/Utilities.js"],l["Core/Defaults.js"],l["Core/Animation/Fx.js"],l["Core/Animation/AnimationUtilities.js"],l["Core/Renderer/HTML/AST.js"],l["Core/FormatUtilities.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Renderer/HTML/HTMLElement.js"],l["Core/Renderer/HTML/HTMLRenderer.js"],l["Core/Axis/Axis.js"],l["Core/Axis/DateTimeAxis.js"],l["Core/Axis/LogarithmicAxis.js"],l["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],l["Core/Axis/Tick.js"],l["Core/Tooltip.js"],l["Core/Series/Point.js"],l["Core/Pointer.js"],l["Core/Legend/Legend.js"],l["Core/Chart/Chart.js"],l["Core/Axis/Stacking/StackingAxis.js"],l["Core/Axis/Stacking/StackItem.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Series/Column/ColumnSeries.js"],l["Series/Column/ColumnDataLabel.js"],l["Series/Pie/PieSeries.js"],l["Series/Pie/PieDataLabel.js"],l["Core/Series/DataLabel.js"],l["Core/Responsive.js"],l["Core/Color/Color.js"],l["Core/Time.js"]],function(h,u,y,n,w,z,ie,G,q,Z,F,U,re,R,D,N,$,j,S,te,Y,I,V,X,P,L,_,v,M,O,ee,ae,K,pe){return h.animate=w.animate,h.animObject=w.animObject,h.getDeferredAnimation=w.getDeferredAnimation,h.setAnimation=w.setAnimation,h.stop=w.stop,h.timers=n.timers,h.AST=z,h.Axis=re,h.Chart=I,h.chart=I.chart,h.Fx=n,h.Legend=Y,h.PlotLineOrBand=N,h.Point=S,h.Pointer=te,h.Series=P,h.StackItem=X,h.SVGElement=q,h.SVGRenderer=Z,h.Tick=$,h.Time=pe,h.Tooltip=j,h.Color=K,h.color=K.parse,U.compose(Z),F.compose(q),te.compose(I),Y.compose(I),h.defaultOptions=y.defaultOptions,h.getOptions=y.getOptions,h.time=y.defaultTime,h.setOptions=y.setOptions,h.dateFormat=ie.dateFormat,h.format=ie.format,h.numberFormat=ie.numberFormat,h.addEvent=u.addEvent,h.arrayMax=u.arrayMax,h.arrayMin=u.arrayMin,h.attr=u.attr,h.clearTimeout=u.clearTimeout,h.correctFloat=u.correctFloat,h.createElement=u.createElement,h.css=u.css,h.defined=u.defined,h.destroyObjectProperties=u.destroyObjectProperties,h.discardElement=u.discardElement,h.distribute=G.distribute,h.erase=u.erase,h.error=u.error,h.extend=u.extend,h.extendClass=u.extendClass,h.find=u.find,h.fireEvent=u.fireEvent,h.getMagnitude=u.getMagnitude,h.getStyle=u.getStyle,h.inArray=u.inArray,h.isArray=u.isArray,h.isClass=u.isClass,h.isDOMElement=u.isDOMElement,h.isFunction=u.isFunction,h.isNumber=u.isNumber,h.isObject=u.isObject,h.isString=u.isString,h.keys=u.keys,h.merge=u.merge,h.normalizeTickInterval=u.normalizeTickInterval,h.objectEach=u.objectEach,h.offset=u.offset,h.pad=u.pad,h.pick=u.pick,h.pInt=u.pInt,h.relativeLength=u.relativeLength,h.removeEvent=u.removeEvent,h.seriesType=L.seriesType,h.splat=u.splat,h.stableSort=u.stableSort,h.syncTimeout=u.syncTimeout,h.timeUnits=u.timeUnits,h.uniqueKey=u.uniqueKey,h.useSerialIds=u.useSerialIds,h.wrap=u.wrap,v.compose(_),ee.compose(P),R.compose(re),D.compose(re),O.compose(M),N.compose(re),ae.compose(I),V.compose(re,I,P),j.compose(te),h}),l["masters/highcharts.src.js"]._modules=l,l["masters/highcharts.src.js"]})}(_j)),Cx}const yj=PS(cI);(function(e,i){(function(s,l){e.exports=l(y4(),yj)})(window,function(s,l){return y={},h.m=u=[function(n,w){n.exports=s},function(n,w){n.exports=l},function(n,ie,z){z.r(ie),z.d(ie,"Chart",function(){return $}),z.d(ie,"default",function(){return j});var ie=z(0),G=z.n(ie);function q(S,te){return function Y(I,V,X){function P(L,_){!G.a.isObject(L,!X)||G.a.isClass(L)||G.a.isDOMElement(L)?I[_]=V[_]:I[_]=Y(I[_]||G.a.isArray(L)?[]:{},L,X)}return G.a.isArray(V)?V.forEach(P):G.a.objectEach(V,P),I}({},S,te)}var Z=z(1);function F(S){return function(te){if(Array.isArray(te))return U(te)}(S)||function(te){if(typeof Symbol<"u"&&te[Symbol.iterator]!=null||te["@@iterator"]!=null)return Array.from(te)}(S)||function(te,Y){if(te){if(typeof te=="string")return U(te,Y);var I=Object.prototype.toString.call(te).slice(8,-1);return(I=I==="Object"&&te.constructor?te.constructor.name:I)==="Map"||I==="Set"?Array.from(te):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?U(te,Y):void 0}}(S)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U(S,te){(te==null||te>S.length)&&(te=S.length);for(var Y=0,I=new Array(te);Y<te;Y++)I[Y]=S[Y];return I}function re(S,te){var Y,I=Object.keys(S);return Object.getOwnPropertySymbols&&(Y=Object.getOwnPropertySymbols(S),te&&(Y=Y.filter(function(V){return Object.getOwnPropertyDescriptor(S,V).enumerable})),I.push.apply(I,Y)),I}function R(S){for(var te=1;te<arguments.length;te++){var Y=arguments[te]!=null?arguments[te]:{};te%2?re(Object(Y),!0).forEach(function(I){var V,X;V=S,I=Y[X=I],X in V?Object.defineProperty(V,X,{value:I,enumerable:!0,configurable:!0,writable:!0}):V[X]=I}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(Y)):re(Object(Y)).forEach(function(I){Object.defineProperty(S,I,Object.getOwnPropertyDescriptor(Y,I))})}return S}function D(){this.chart&&this.chart.destroy()}var N=function(S,te){return te=te.split(".")[0]<3?{render:function(Y){return Y("div",{ref:"chart"})},beforeDestroy:D}:{render:function(){return Object(Z.h)("div",{ref:"chart"})},beforeUnmount:D},R({template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(Y){var I;(I=this.chart).update.apply(I,[q(Y,this.deepCopyOnUpdate)].concat(F(this.updateArgs)))},deep:!0}},mounted:function(){var Y=this.highcharts||S;this.options&&Y[this.constructorType]?this.chart=Y[this.constructorType](this.$refs.chart,q(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}},te)},$=N(G.a,Z.version||z.n(Z).a.version);function j(S){var te=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};S.component(te.tagName||"highcharts",N(te.highcharts||G.a,S.version))}}],h.c=y,h.d=function(n,w,z){h.o(n,w)||Object.defineProperty(n,w,{enumerable:!0,get:z})},h.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},h.t=function(n,w){if(1&w&&(n=h(n)),8&w||4&w&&typeof n=="object"&&n&&n.__esModule)return n;var z=Object.create(null);if(h.r(z),Object.defineProperty(z,"default",{enumerable:!0,value:n}),2&w&&typeof n!="string")for(var ie in n)h.d(z,ie,function(G){return n[G]}.bind(null,ie));return z},h.n=function(n){var w=n&&n.__esModule?function(){return n.default}:function(){return n};return h.d(w,"a",w),w},h.o=function(n,w){return Object.prototype.hasOwnProperty.call(n,w)},h.p="",h(h.s=2);function h(n){if(y[n])return y[n].exports;var w=y[n]={i:n,l:!1,exports:{}};return u[n].call(w.exports,w,w.exports,h),w.l=!0,w.exports}var u,y})})(gj);var xj=y4();const Wh=k4(xj);var Nw={},vj={get exports(){return Nw},set exports(e){Nw=e}};(function(e){(function(i){e.exports?(i.default=i,e.exports=i):i(typeof Highcharts<"u"?Highcharts:void 0)})(function(i){function s(l,h,u,y){l.hasOwnProperty(h)||(l[h]=y.apply(null,u),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:l[h]}})))}i=i?i._modules:{},s(i,"Extensions/Pane.js",[i["Core/Chart/Chart.js"],i["Series/CenteredUtilities.js"],i["Core/Globals.js"],i["Core/Pointer.js"],i["Core/Utilities.js"]],function(l,h,u,y,n){function w(R,D,N,$,j){let S=!0;const te=N[0],Y=N[1],I=Math.sqrt(Math.pow(R-te,2)+Math.pow(D-Y,2));return G($)&&G(j)&&(R=Math.atan2(ie(D-Y,8),ie(R-te,8)),j!==$&&(S=$>j?R>=$&&R<=Math.PI||R<=j&&R>=-Math.PI:R>=$&&R<=ie(j,8))),I<=Math.ceil(N[2]/2)&&S}const{addEvent:z,correctFloat:ie,defined:G,extend:q,merge:Z,pick:F,splat:U}=n;l.prototype.collectionsWithUpdate.push("pane");class re{constructor(D,N){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(D,N)}init(D,N){this.chart=N,this.background=[],N.pane.push(this),this.setOptions(D)}setOptions(D){this.options=Z(this.defaultOptions,this.chart.angular?{background:{}}:void 0,D)}render(){var D=this.options;let N=this.options.background;var $=this.chart.renderer;if(this.group||(this.group=$.g("pane-group").attr({zIndex:D.zIndex||0}).add()),this.updateCenter(),N)for(N=U(N),D=Math.max(N.length,this.background.length||0),$=0;$<D;$++)N[$]&&this.axis?this.renderBackground(Z(this.defaultBackgroundOptions,N[$]),$):this.background[$]&&(this.background[$]=this.background[$].destroy(),this.background.splice($,1))}renderBackground(D,N){let $="animate",j={class:"highcharts-pane "+(D.className||"")};this.chart.styledMode||q(j,{fill:D.backgroundColor,stroke:D.borderColor,"stroke-width":D.borderWidth}),this.background[N]||(this.background[N]=this.chart.renderer.path().add(this.group),$="attr"),this.background[N][$]({d:this.axis.getPlotBandPath(D.from,D.to,D)}).attr(j)}updateCenter(D){this.center=(D||this.axis||{}).center=h.getCenter.call(this)}update(D,N){Z(!0,this.options,D),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function($){$.pane===this&&($.pane=null,$.update({},N))},this)}}return l.prototype.getHoverPane=function(R){const D=this;let N;return R&&D.pane.forEach($=>{w(R.chartX-D.plotLeft,R.chartY-D.plotTop,$.center)&&(N=$)}),N},z(l,"afterIsInsidePlot",function(R){this.polar&&(R.options.inverted&&([R.x,R.y]=[R.y,R.x]),R.isInsidePlot=this.pane.some(D=>w(R.x,R.y,D.center,D.axis&&D.axis.normalizedStartAngleRad,D.axis&&D.axis.normalizedEndAngleRad)))}),z(y,"beforeGetHoverData",function(R){const D=this.chart;D.polar?(D.hoverPane=D.getHoverPane(R),R.filter=function(N){return N.visible&&!(!R.shared&&N.directTouch)&&F(N.options.enableMouseTracking,!0)&&(!D.hoverPane||N.xAxis.pane===D.hoverPane)}):D.hoverPane=void 0}),z(y,"afterGetHoverData",function(R){const D=this.chart;R.hoverPoint&&R.hoverPoint.plotX&&R.hoverPoint.plotY&&D.hoverPane&&!w(R.hoverPoint.plotX,R.hoverPoint.plotY,D.hoverPane.center)&&(R.hoverPoint=void 0)}),u.Pane=re,u.Pane}),s(i,"Series/AreaRange/AreaRangePoint.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h){const{area:{prototype:{pointClass:u,pointClass:{prototype:y}}}}=l.seriesTypes,{defined:n,isNumber:w}=h;class z extends u{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const G=this.state,q=this.series,Z=q.chart.polar;n(this.plotHigh)||(this.plotHigh=q.yAxis.toPixels(this.high,!0)),n(this.plotLow)||(this.plotLow=this.plotY=q.yAxis.toPixels(this.low,!0)),q.stateMarkerGraphic&&(q.lowerStateMarkerGraphic=q.stateMarkerGraphic,q.stateMarkerGraphic=q.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,Z&&w(this.plotHighX)&&(this.plotX=this.plotHighX),y.setState.apply(this,arguments),this.state=G,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],Z&&w(this.plotLowX)&&(this.plotX=this.plotLowX),q.stateMarkerGraphic&&(q.upperStateMarkerGraphic=q.stateMarkerGraphic,q.stateMarkerGraphic=q.lowerStateMarkerGraphic,q.lowerStateMarkerGraphic=void 0),y.setState.apply(this,arguments)}haloPath(){const G=this.series.chart.polar;let q=[];return this.plotY=this.plotLow,G&&w(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(q=y.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,G&&w(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(q=q.concat(y.haloPath.apply(this,arguments))),q}isValid(){return w(this.low)&&w(this.high)}}return z}),s(i,"Series/AreaRange/AreaRangeSeries.js",[i["Series/AreaRange/AreaRangePoint.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y){({noop:h}=h);const{area:n,area:{prototype:w},column:{prototype:z}}=u.seriesTypes,{addEvent:ie,defined:G,extend:q,isArray:Z,isNumber:F,pick:U,merge:re}=y;class R extends n{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(N){return[N.low,N.high]}highToXY(N){const $=this.chart,j=this.xAxis.postTranslate(N.rectPlotX||0,this.yAxis.len-(N.plotHigh||0));N.plotHighX=j.x-$.plotLeft,N.plotHigh=j.y-$.plotTop,N.plotLowX=N.plotX}getGraphPath(N){var $=[],j=[];const S=w.getGraphPath;var te=this.options;const Y=this.chart.polar,I=Y&&te.connectEnds!==!1,V=te.connectNulls;let X,P,L,_=te.step;for(N=N||this.points,X=N.length;X--;){P=N[X];const v=Y?{plotX:P.rectPlotX,plotY:P.yBottom,doCurve:!1}:{plotX:P.plotX,plotY:P.plotY,doCurve:!1};P.isNull||I||V||N[X+1]&&!N[X+1].isNull||j.push(v),L={polarPlotY:P.polarPlotY,rectPlotX:P.rectPlotX,yBottom:P.yBottom,plotX:U(P.plotHighX,P.plotX),plotY:P.plotHigh,isNull:P.isNull},j.push(L),$.push(L),P.isNull||I||V||N[X-1]&&!N[X-1].isNull||j.push(v)}return N=S.call(this,N),_&&(_===!0&&(_="left"),te.step={left:"right",center:"center",right:"left"}[_]),$=S.call(this,$),j=S.call(this,j),te.step=_,te=[].concat(N,$),!this.chart.polar&&j[0]&&j[0][0]==="M"&&(j[0]=["L",j[0][1],j[0][2]]),this.graphPath=te,this.areaPath=N.concat(j),te.isArea=!0,te.xMap=N.xMap,this.areaPath.xMap=N.xMap,te}drawDataLabels(){const N=this.points,$=N.length,j=[],S=this.options.dataLabels,te=this.chart.inverted;let Y,I,V,X,P;if(S){if(Z(S)?(X=S[0]||{enabled:!1},P=S[1]||{enabled:!1}):(X=q({},S),X.x=S.xHigh,X.y=S.yHigh,P=q({},S),P.x=S.xLow,P.y=S.yLow),X.enabled||this._hasPointLabels){for(Y=$;Y--;)if(I=N[Y]){const{plotHigh:L=0,plotLow:_=0}=I;V=X.inside?L<_:L>_,I.y=I.high,I._plotY=I.plotY,I.plotY=L,j[Y]=I.dataLabel,I.dataLabel=I.dataLabelUpper,I.below=V,te?X.align||(X.align=V?"right":"left"):X.verticalAlign||(X.verticalAlign=V?"top":"bottom")}for(this.options.dataLabels=X,w.drawDataLabels&&w.drawDataLabels.apply(this,arguments),Y=$;Y--;)(I=N[Y])&&(I.dataLabelUpper=I.dataLabel,I.dataLabel=j[Y],delete I.dataLabels,I.y=I.low,I.plotY=I._plotY)}if(P.enabled||this._hasPointLabels){for(Y=$;Y--;)if(I=N[Y]){const{plotHigh:L=0,plotLow:_=0}=I;V=P.inside?L<_:L>_,I.below=!V,te?P.align||(P.align=V?"left":"right"):P.verticalAlign||(P.verticalAlign=V?"bottom":"top")}this.options.dataLabels=P,w.drawDataLabels&&w.drawDataLabels.apply(this,arguments)}if(X.enabled)for(Y=$;Y--;)(I=N[Y])&&(I.dataLabels=[I.dataLabelUpper,I.dataLabel].filter(function(L){return!!L}));this.options.dataLabels=S}}alignDataLabel(){z.alignDataLabel.apply(this,arguments)}drawPoints(){const N=this.points.length;let $,j;for(w.drawPoints.apply(this,arguments),$=0;$<N;)j=this.points[$],j.graphics=j.graphics||[],j.origProps={plotY:j.plotY,plotX:j.plotX,isInside:j.isInside,negative:j.negative,zone:j.zone,y:j.y},(j.graphic||j.graphics[0])&&(j.graphics[0]=j.graphic),j.graphic=j.graphics[1],j.plotY=j.plotHigh,G(j.plotHighX)&&(j.plotX=j.plotHighX),j.y=U(j.high,j.origProps.y),j.negative=j.y<(this.options.threshold||0),this.zones.length&&(j.zone=j.getZone()),this.chart.polar||(j.isInside=j.isTopInside=typeof j.plotY<"u"&&0<=j.plotY&&j.plotY<=this.yAxis.len&&0<=j.plotX&&j.plotX<=this.xAxis.len),$++;for(w.drawPoints.apply(this,arguments),$=0;$<N;)j=this.points[$],j.graphics=j.graphics||[],(j.graphic||j.graphics[1])&&(j.graphics[1]=j.graphic),j.graphic=j.graphics[0],j.origProps&&(q(j,j.origProps),delete j.origProps),$++}}return R.defaultOptions=re(n.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),ie(R,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(D=>{const N=D.high,$=D.plotY;D.isNull?D.plotY=void 0:(D.plotLow=$,D.plotHigh=F(N)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(N):N,!1,!0,void 0,!0):void 0,this.dataModify&&(D.yBottom=D.plotHigh))})},{order:0}),ie(R,"afterTranslate",function(){this.points.forEach(D=>{if(this.chart.polar)this.highToXY(D),D.plotLow=D.plotY,D.tooltipPos=[((D.plotHighX||0)+(D.plotLowX||0))/2,((D.plotHigh||0)+(D.plotLow||0))/2];else{const N=D.pos(!1,D.plotLow),$=D.pos(!1,D.plotHigh);N&&$&&(N[0]=(N[0]+$[0])/2,N[1]=(N[1]+$[1])/2),D.tooltipPos=N}})},{order:3}),q(R.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:l,pointValKey:"low",setStackedPoints:h}),u.registerSeriesType("arearange",R),R}),s(i,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[i["Series/AreaRange/AreaRangeSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u){const{spline:{prototype:y}}=h.seriesTypes,{merge:n,extend:w}=u;class z extends l{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return z.defaultOptions=n(l.defaultOptions),w(z.prototype,{getPointSpline:y.getPointSpline}),h.registerSeriesType("areasplinerange",z),z}),s(i,"Series/BoxPlot/BoxPlotSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y){({noop:h}=h);const{extend:n,merge:w,pick:z}=y;class ie extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const q=this.yAxis,Z=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(F){Z.forEach(function(U){F[U]!==null&&(F[U+"Plot"]=q.translate(F[U],0,1,0,1))}),F.plotHigh=F.highPlot})}drawPoints(){let q=this,Z=q.options,F=q.chart,U=F.renderer,re,R,D,N,$,j,S=0,te,Y,I,V,X=q.doQuartiles!==!1,P,L=q.options.whiskerLength;q.points.forEach(function(_){var v=_.graphic;let M=v?"animate":"attr",O=_.shapeArgs,ee={},ae={},K={},pe={},Me=_.color||q.color;typeof _.plotY<"u"&&(te=Math.round(O.width),Y=Math.floor(O.x),I=Y+te,V=Math.round(te/2),re=Math.floor(X?_.q1Plot:_.lowPlot),R=Math.floor(X?_.q3Plot:_.lowPlot),D=Math.floor(_.highPlot),N=Math.floor(_.lowPlot),v||(_.graphic=v=U.g("point").add(q.group),_.stem=U.path().addClass("highcharts-boxplot-stem").add(v),L&&(_.whiskers=U.path().addClass("highcharts-boxplot-whisker").add(v)),X&&(_.box=U.path(void 0).addClass("highcharts-boxplot-box").add(v)),_.medianShape=U.path(void 0).addClass("highcharts-boxplot-median").add(v)),F.styledMode||(ae.stroke=_.stemColor||Z.stemColor||Me,ae["stroke-width"]=z(_.stemWidth,Z.stemWidth,Z.lineWidth),ae.dashstyle=_.stemDashStyle||Z.stemDashStyle||Z.dashStyle,_.stem.attr(ae),L&&(K.stroke=_.whiskerColor||Z.whiskerColor||Me,K["stroke-width"]=z(_.whiskerWidth,Z.whiskerWidth,Z.lineWidth),K.dashstyle=_.whiskerDashStyle||Z.whiskerDashStyle||Z.dashStyle,_.whiskers.attr(K)),X&&(ee.fill=_.fillColor||Z.fillColor||Me,ee.stroke=Z.lineColor||Me,ee["stroke-width"]=Z.lineWidth||0,ee.dashstyle=_.boxDashStyle||Z.boxDashStyle||Z.dashStyle,_.box.attr(ee)),pe.stroke=_.medianColor||Z.medianColor||Me,pe["stroke-width"]=z(_.medianWidth,Z.medianWidth,Z.lineWidth),pe.dashstyle=_.medianDashStyle||Z.medianDashStyle||Z.dashStyle,_.medianShape.attr(pe)),j=_.stem.strokeWidth()%2/2,S=Y+V+j,v=[["M",S,R],["L",S,D],["M",S,re],["L",S,N]],_.stem[M]({d:v}),X&&(j=_.box.strokeWidth()%2/2,re=Math.floor(re)+j,R=Math.floor(R)+j,Y+=j,I+=j,v=[["M",Y,R],["L",Y,re],["L",I,re],["L",I,R],["L",Y,R],["Z"]],_.box[M]({d:v})),L&&(j=_.whiskers.strokeWidth()%2/2,D+=j,N+=j,P=/%$/.test(L)?V*parseFloat(L)/100:L/2,v=[["M",S-P,D],["L",S+P,D],["M",S-P,N],["L",S+P,N]],_.whiskers[M]({d:v})),$=Math.round(_.medianPlot),j=_.medianShape.strokeWidth()%2/2,$+=j,v=[["M",Y,$],["L",I,$]],_.medianShape[M]({d:v}))})}toYData(q){return[q.low,q.q1,q.median,q.q3,q.high]}}return ie.defaultOptions=w(l.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),n(ie.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:h,setStackedPoints:h}),u.registerSeriesType("boxplot",ie),ie}),s(i,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),s(i,"Series/Bubble/BubbleLegendItem.js",[i["Core/Color/Color.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(l,h,u,y){const{parse:n}=l,{noop:w}=u,{arrayMax:z,arrayMin:ie,isNumber:G,merge:q,pick:Z,stableSort:F}=y;class U{constructor(R,D){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=w,this.init(R,D)}init(R,D){this.options=R,this.visible=!0,this.chart=D.chart,this.legend=D}addToLegend(R){R.splice(this.options.legendIndex,0,this)}drawLegendSymbol(R){const D=Z(R.options.itemDistance,20),N=this.legendItem||{},$=this.options;var j=$.ranges,S=$.connectorDistance;if(j&&j.length&&G(j[0].value)){F(j,function(Y,I){return I.value-Y.value}),this.ranges=j,this.setOptions(),this.render(),R=this.getMaxLabelSize();var te=this.ranges[0].radius;j=2*te,S=S-te+R.width,S=0<S?S:0,this.maxLabel=R,this.movementX=$.labels.align==="left"?S:0,N.labelWidth=j+S+D,N.labelHeight=j+R.height/2}else R.options.bubbleLegend.autoRanges=!0}setOptions(){const R=this.ranges,D=this.options,N=this.chart.series[D.seriesIndex],$=this.legend.baseline,j={zIndex:D.zIndex,"stroke-width":D.borderWidth},S={zIndex:D.zIndex,"stroke-width":D.connectorWidth},te={align:this.legend.options.rtl||D.labels.align==="left"?"right":"left",zIndex:D.zIndex},Y=N.options.marker.fillOpacity,I=this.chart.styledMode;R.forEach(function(V,X){I||(j.stroke=Z(V.borderColor,D.borderColor,N.color),j.fill=Z(V.color,D.color,Y!==1?n(N.color).setOpacity(Y).get("rgba"):N.color),S.stroke=Z(V.connectorColor,D.connectorColor,N.color)),R[X].radius=this.getRangeRadius(V.value),R[X]=q(R[X],{center:R[0].radius-R[X].radius+$}),I||q(!0,R[X],{bubbleAttribs:q(j),connectorAttribs:q(S),labelAttribs:te})},this)}getRangeRadius(R){const D=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,D.ranges[D.ranges.length-1].value,D.ranges[0].value,D.minSize,D.maxSize,R)}render(){const R=this.legendItem||{},D=this.chart.renderer,N=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),R.symbol=D.g("bubble-legend"),R.label=D.g("bubble-legend-item"),R.symbol.translateX=0,R.symbol.translateY=0,R.symbol.add(R.label),R.label.add(R.group);for(const $ of this.ranges)$.value>=N&&this.renderRange($);this.hideOverlappingLabels()}renderRange(R){var D=this.options;const N=D.labels;var $=this.chart;const j=$.series[D.seriesIndex],S=$.renderer,te=this.symbols;$=te.labels;const Y=R.center,I=Math.abs(R.radius);var V=D.connectorDistance||0;const X=N.align,P=D.connectorWidth,L=this.ranges[0].radius||0,_=Y-I-D.borderWidth/2+P/2,v=S.styledMode;V=this.legend.options.rtl||X==="left"?-V:V,X==="center"&&(V=0,D.connectorDistance=0,R.labelAttribs.align="center"),te.bubbleItems.push(S.circle(L,Y+((_%1?1:.5)-(P%2?0:.5)),I).attr(v?{}:R.bubbleAttribs).addClass((v?"highcharts-color-"+j.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(D.className||"")).add(this.legendItem.symbol)),te.connectors.push(S.path(S.crispLine([["M",L,_],["L",L+V,_]],D.connectorWidth)).attr(v?{}:R.connectorAttribs).addClass((v?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(D.connectorClassName||"")).add(this.legendItem.symbol)),R=S.text(this.formatLabel(R)).attr(v?{}:R.labelAttribs).css(v?{}:N.style).addClass("highcharts-bubble-legend-labels "+(D.labels.className||"")).add(this.legendItem.symbol),D={x:L+V+D.labels.x,y:_+D.labels.y+.4*R.getBBox().height},R.attr(D),$.push(R),R.placed=!0,R.alignAttr=D}getMaxLabelSize(){let R,D;return this.symbols.labels.forEach(function(N){D=N.getBBox(!0),R=R?D.width>R.width?D:R:D}),R||{}}formatLabel(R){var D=this.options;const N=D.labels.formatter;D=D.labels.format;const{numberFormatter:$}=this.chart;return D?h.format(D,R):N?N.call(R):$(R.value,1)}hideOverlappingLabels(){const R=this.chart,D=this.symbols;!this.options.labels.allowOverlap&&D&&(R.hideOverlappingLabels(D.labels),D.labels.forEach(function(N,$){N.newOpacity?N.newOpacity!==N.oldOpacity&&D.connectors[$].show():D.connectors[$].hide()}))}getRanges(){const R=this.legend.bubbleLegend,D=R.options.ranges;let N,$,j=Number.MAX_VALUE,S=-Number.MAX_VALUE;return R.chart.series.forEach(function(te){te.isBubble&&!te.ignoreSeries&&($=te.zData.filter(G),$.length&&(j=Z(te.options.zMin,Math.min(j,Math.max(ie($),te.options.displayNegative===!1?te.options.zThreshold:-Number.MAX_VALUE))),S=Z(te.options.zMax,Math.max(S,z($)))))}),N=j===S?[{value:S}]:[{value:j},{value:(j+S)/2},{value:S,autoRanges:!0}],D.length&&D[0].radius&&N.reverse(),N.forEach(function(te,Y){D&&D[Y]&&(N[Y]=q(D[Y],te))}),N}predictBubbleSizes(){var R=this.chart,D=R.legend.options,N=D.floating;const $=(D=D.layout==="horizontal")?R.legend.lastLineHeight:0,j=R.plotSizeX,S=R.plotSizeY;var te=R.series[this.options.seriesIndex],Y=te.getPxExtremes();R=Math.ceil(Y.minPxSize),Y=Math.ceil(Y.maxPxSize);const I=Math.min(S,j);return te=te.options.maxSize,N||!/%$/.test(te)?N=Y:(te=parseFloat(te),N=(I+$)*te/100/(te/100+1),(D&&S-N>=j||!D&&j-N>=S)&&(N=Y)),[R,Math.ceil(N)]}updateRanges(R,D){const N=this.legend.options.bubbleLegend;N.minSize=R,N.maxSize=D,N.ranges=this.getRanges()}correctSizes(){const R=this.legend,D=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(D.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,D.maxPxSize),R.render())}}return U}),s(i,"Series/Bubble/BubbleLegendComposition.js",[i["Series/Bubble/BubbleLegendDefaults.js"],i["Series/Bubble/BubbleLegendItem.js"],i["Core/Defaults.js"],i["Core/Utilities.js"]],function(l,h,u,y){function n(D,N,$){const j=this.legend;var S=0<=w(this);let te,Y;j&&j.options.enabled&&j.bubbleLegend&&j.options.bubbleLegend.autoRanges&&S?(te=j.bubbleLegend.options,S=j.bubbleLegend.predictBubbleSizes(),j.bubbleLegend.updateRanges(S[0],S[1]),te.placed||(j.group.placed=!1,j.allItems.forEach(I=>{Y=I.legendItem||{},Y.group&&(Y.group.translateY=null)})),j.render(),this.getMargins(),this.axes.forEach(function(I){I.visible&&I.render(),te.placed||(I.setScale(),I.updateNames(),U(I.ticks,function(V){V.isNew=!0,V.isNewLabel=!0}))}),te.placed=!0,this.getMargins(),D.call(this,N,$),j.bubbleLegend.correctSizes(),q(j,z(j))):(D.call(this,N,$),j&&j.options.enabled&&j.bubbleLegend&&(j.render(),q(j,z(j))))}function w(D){D=D.series;let N=0;for(;N<D.length;){if(D[N]&&D[N].isBubble&&D[N].visible&&D[N].zData.length)return N;N++}return-1}function z(D){D=D.allItems;const N=[],$=D.length;let j,S,te=0;for(S=0;S<$;S++){var Y=D[S].legendItem||{};if(j=(D[S+1]||{}).legendItem||{},Y.labelHeight&&(D[S].itemHeight=Y.labelHeight),D[S]===D[$-1]||Y.y!==j.y){for(N.push({height:0}),Y=N[N.length-1],te;te<=S;te++)D[te].itemHeight>Y.height&&(Y.height=D[te].itemHeight);Y.step=S}}return N}function ie(D){const N=this.bubbleLegend,$=this.options,j=$.bubbleLegend,S=w(this.chart);N&&N.ranges&&N.ranges.length&&(j.ranges.length&&(j.autoRanges=!!j.ranges[0].autoRanges),this.destroyItem(N)),0<=S&&$.enabled&&j.enabled&&(j.seriesIndex=S,this.bubbleLegend=new h(j,this),this.bubbleLegend.addToLegend(D.allItems))}function G(D){if(D.defaultPrevented)return!1;var N=this.chart;D=this.visible;const $=this.chart.legend;$&&$.bubbleLegend&&(this.visible=!D,this.ignoreSeries=D,N=0<=w(N),$.bubbleLegend.visible!==N&&($.update({bubbleLegend:{enabled:N}}),$.bubbleLegend.visible=N),this.visible=D)}function q(D,N){const $=D.options.rtl;let j,S,te,Y,I=0;D.allItems.forEach((V,X)=>{Y=V.legendItem||{},Y.group&&(j=Y.group.translateX||0,S=Y.y||0,((te=V.movementX)||$&&V.ranges)&&(te=$?j-V.options.maxSize/2:j+te,Y.group.attr({translateX:te})),X>N[I].step&&I++,Y.group.attr({translateY:Math.round(S+N[I].height/2)}),Y.y=S+N[I].height/2)})}const{setOptions:Z}=u,{addEvent:F,objectEach:U,wrap:re}=y,R=[];return{compose:function(D,N,$){y.pushUnique(R,D)&&(Z({legend:{bubbleLegend:l}}),re(D.prototype,"drawChartBox",n)),y.pushUnique(R,N)&&F(N,"afterGetAllItems",ie),y.pushUnique(R,$)&&F($,"legendItemClick",G)}}}),s(i,"Series/Bubble/BubblePoint.js",[i["Core/Series/Point.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u){({seriesTypes:{scatter:{prototype:{pointClass:h}}}}=h),{extend:u}=u;class y extends h{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(w){return l.prototype.haloPath.call(this,w===0?0:(this.marker&&this.marker.radius||0)+w)}}return u(y.prototype,{ttBelow:!1}),y}),s(i,"Series/Bubble/BubbleSeries.js",[i["Series/Bubble/BubbleLegendComposition.js"],i["Series/Bubble/BubblePoint.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y,n,w){function z(){const Y=this.len,I=this.chart,V=this.isXAxis,X=V?"xData":"yData",P=this.min,L=this.max-P;let _=0,v=Y,M=Y/L,O;this.series.forEach(ee=>{if(ee.bubblePadding&&(ee.visible||!I.options.chart.ignoreHiddenSeries)){O=this.allowZoomOutside=!0;const ae=ee[X];if(V&&((ee.onPoint||ee).getRadii(0,0,ee),ee.onPoint&&(ee.radii=ee.onPoint.radii)),0<L){let K=ae.length;for(;K--;)if(N(ae[K])&&this.dataMin<=ae[K]&&ae[K]<=this.max){const pe=ee.radii&&ee.radii[K]||0;_=Math.min((ae[K]-P)*M-pe,_),v=Math.max((ae[K]-P)*M+pe,v)}}}}),O&&0<L&&!this.logarithmic&&(v-=Y,M*=(Y+Math.max(0,_)-Math.min(v,Y))/Y,[["min","userMin",_],["max","userMax",v]].forEach(ee=>{typeof j(this.options[ee[0]],this[ee[1]])>"u"&&(this[ee[0]]+=ee[2]/M)}))}const{parse:ie}=u;({noop:u}=y);const{series:G,seriesTypes:{column:{prototype:q},scatter:Z}}=n,{addEvent:F,arrayMax:U,arrayMin:re,clamp:R,extend:D,isNumber:N,merge:$,pick:j}=w,S=[];class te extends Z{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(I,V,X,P){l.compose(V,X,P),w.pushUnique(S,I)&&(I.prototype.beforePadding=z)}animate(I){!I&&this.points.length<this.options.animationLimit&&this.points.forEach(function(V){const{graphic:X}=V;X&&X.width&&(this.hasRendered||X.attr({x:V.plotX,y:V.plotY,width:1,height:1}),X.animate(this.markerAttribs(V),this.options.animation))},this)}getRadii(){const I=this.zData,V=this.yData,X=[];let P,L,_,v=this.chart.bubbleZExtremes;const{minPxSize:M,maxPxSize:O}=this.getPxExtremes();if(!v){let ee=Number.MAX_VALUE,ae=-Number.MAX_VALUE,K;this.chart.series.forEach(pe=>{pe.bubblePadding&&(pe.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(pe=(pe.onPoint||pe).getZExtremes())&&(ee=Math.min(j(ee,pe.zMin),pe.zMin),ae=Math.max(j(ae,pe.zMax),pe.zMax),K=!0)}),K?(v={zMin:ee,zMax:ae},this.chart.bubbleZExtremes=v):v={zMin:0,zMax:0}}for(L=0,P=I.length;L<P;L++)_=I[L],X.push(this.getRadius(v.zMin,v.zMax,M,O,_,V&&V[L]));this.radii=X}getRadius(I,V,X,P,L,_){const v=this.options,M=v.sizeBy!=="width",O=v.zThreshold;let ee=V-I,ae=.5;if(_===null||L===null)return null;if(N(L)){if(v.sizeByAbsoluteValue&&(L=Math.abs(L-O),ee=Math.max(V-O,Math.abs(I-O)),I=0),L<I)return X/2-1;0<ee&&(ae=(L-I)/ee)}return M&&0<=ae&&(ae=Math.sqrt(ae)),Math.ceil(X+ae*(P-X))/2}hasData(){return!!this.processedXData.length}pointAttribs(I,V){const X=this.options.marker.fillOpacity;return I=G.prototype.pointAttribs.call(this,I,V),X!==1&&(I.fill=ie(I.fill).setOpacity(X).get("rgba")),I}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:I,radii:V}=this,{minPxSize:X}=this.getPxExtremes();let P=I.length;for(;P--;){const L=I[P],_=V?V[P]:0;N(_)&&_>=X/2?(L.marker=D(L.marker,{radius:_,width:2*_,height:2*_}),L.dlBox={x:L.plotX-_,y:L.plotY-_,width:2*_,height:2*_}):(L.shapeArgs=L.plotY=L.dlBox=void 0,L.isInside=!1)}}getPxExtremes(){const I=Math.min(this.chart.plotWidth,this.chart.plotHeight);var V=P=>{let L;return typeof P=="string"&&(L=/%$/.test(P),P=parseInt(P,10)),L?I*P/100:P};const X=V(j(this.options.minSize,8));return V=Math.max(V(j(this.options.maxSize,"20%")),X),{minPxSize:X,maxPxSize:V}}getZExtremes(){var I=this.options;const V=(this.zData||[]).filter(N);if(V.length){const X=j(I.zMin,R(re(V),I.displayNegative===!1?I.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(I=j(I.zMax,U(V)),N(X)&&N(I))return{zMin:X,zMax:I}}}}return te.defaultOptions=$(Z.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:Y}=this.series.chart,{z:I}=this.point;return N(I)?Y(I,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),D(te.prototype,{alignDataLabel:q.alignDataLabel,applyZones:u,bubblePadding:!0,buildKDTree:u,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:h,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),F(te,"updatedData",Y=>{delete Y.target.chart.bubbleZExtremes}),F(te,"remove",Y=>{delete Y.target.chart.bubbleZExtremes}),n.registerSeriesType("bubble",te),te}),s(i,"Series/ColumnRange/ColumnRangePoint.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h){const{seriesTypes:{column:{prototype:{pointClass:{prototype:u}}},arearange:{prototype:{pointClass:y}}}}=l,{extend:n,isNumber:w}=h;class z extends y{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return w(this.low)}}return n(z.prototype,{setState:u.setState}),z}),s(i,"Series/ColumnRange/ColumnRangeSeries.js",[i["Series/ColumnRange/ColumnRangePoint.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y){({noop:h}=h);const{seriesTypes:{arearange:n,column:w,column:{prototype:z}}}=u,{addEvent:ie,clamp:G,extend:q,isNumber:Z,merge:F,pick:U}=y;class re extends n{setOptions(){return F(!0,arguments[0],{stacking:void 0}),n.prototype.setOptions.apply(this,arguments)}translate(){return z.translate.apply(this)}pointAttribs(){return z.pointAttribs.apply(this,arguments)}translate3dPoints(){return z.translate3dPoints.apply(this,arguments)}translate3dShapes(){return z.translate3dShapes.apply(this,arguments)}}return re.defaultOptions=F(w.defaultOptions,n.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),ie(re,"afterColumnTranslate",function(){const R=this.yAxis,D=this.xAxis,N=D.startAngleRad,$=this.chart,j=this.xAxis.isRadial,S=Math.max($.chartWidth,$.chartHeight)+999;let te,Y,I,V;this.points.forEach(X=>{const P=X.shapeArgs||{},L=this.options.minPointLength,_=X.plotY,v=R.translate(X.high,0,1,0,1);if(Z(v)&&Z(_))if(X.plotHigh=G(v,-S,S),X.plotLow=G(_,-S,S),V=X.plotHigh,te=U(X.rectPlotY,X.plotY)-X.plotHigh,Math.abs(te)<L?(Y=L-te,te+=Y,V-=Y/2):0>te&&(te*=-1,V-=te),j&&this.polar)I=X.barX+N,X.shapeType="arc",X.shapeArgs=this.polar.arc(V+te,V,I,I+X.pointWidth);else{P.height=te,P.y=V;const{x:M=0,width:O=0}=P;X.shapeArgs=F(X.shapeArgs,this.crispCol(M,V,O,te)),X.tooltipPos=$.inverted?[R.len+R.pos-$.plotLeft-V-te/2,D.len+D.pos-$.plotTop-M-O/2,te]:[D.left-$.plotLeft+M+O/2,R.pos-$.plotTop+V+te/2,te]}})},{order:5}),q(re.prototype,{directTouch:!0,pointClass:l,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:z.adjustForMissingColumns,animate:z.animate,crispCol:z.crispCol,drawGraph:h,drawPoints:z.drawPoints,getSymbol:h,drawTracker:z.drawTracker,getColumnMetrics:z.getColumnMetrics}),u.registerSeriesType("columnrange",re),re}),s(i,"Series/ColumnPyramid/ColumnPyramidSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u){const{prototype:y}=l,{clamp:n,merge:w,pick:z}=u;class ie extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let q=this,Z=q.chart,F=q.options;var U=q.dense=2>q.closestPointRange*q.xAxis.transA;U=q.borderWidth=z(F.borderWidth,U?0:1);let re=q.yAxis,R=F.threshold,D=q.translatedThreshold=re.getThreshold(R),N=z(F.minPointLength,5),$=q.getColumnMetrics(),j=$.width,S=q.barW=Math.max(j,1+2*U),te=q.pointXOffset=$.offset;Z.inverted&&(D-=.5),F.pointPadding&&(S=Math.ceil(S)),y.translate.apply(q),q.points.forEach(function(Y){var I=z(Y.yBottom,D),V=999+Math.abs(I),X=n(Y.plotY,-V,re.len+V);V=Y.plotX+te;let P=S/2,L=Math.min(X,I);I=Math.max(X,I)-L;var _;let v,M;Y.barX=V,Y.pointWidth=j,Y.tooltipPos=Z.inverted?[re.len+re.pos-Z.plotLeft-X,q.xAxis.len-V-P,I]:[V+P,X+re.pos-Z.plotTop,I],X=R+(Y.total||Y.y),F.stacking==="percent"&&(X=R+(0>Y.y)?-100:100),X=re.toPixels(X,!0);var O=(_=Z.plotHeight-X-(Z.plotHeight-D))?P*(L-X)/_:0,ee=_?P*(L+I-X)/_:0;_=V-O+P,O=V+O+P;var ae=V+ee+P;ee=V-ee+P,v=L-N,M=L+I,0>Y.y&&(v=L,M=L+I+N),Z.inverted&&(ae=re.width-L,_=X-(re.width-D),O=P*(X-ae)/_,ee=P*(X-(ae-I))/_,_=V+P+O,O=_-2*O,ae=V-ee+P,ee=V+ee+P,v=L,M=L+I-N,0>Y.y&&(M=L+I+N)),Y.shapeType="path",Y.shapeArgs={x:_,y:v,width:O-_,height:I,d:[["M",_,v],["L",O,v],["L",ae,M],["L",ee,M],["Z"]]}})}}return ie.defaultOptions=w(l.defaultOptions,{}),h.registerSeriesType("columnpyramid",ie),ie}),s(i,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),s(i,"Series/ErrorBar/ErrorBarSeries.js",[i["Series/BoxPlot/BoxPlotSeries.js"],i["Series/Column/ColumnSeries.js"],i["Series/ErrorBar/ErrorBarSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y,n){const{arearange:w}=y.seriesTypes,{addEvent:z,merge:ie,extend:G}=n;class q extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||h.prototype.getColumnMetrics.call(this)}drawDataLabels(){const F=this.pointValKey;w&&(w.prototype.drawDataLabels.call(this),this.data.forEach(function(U){U.y=U[F]}))}toYData(F){return[F.low,F.high]}}return q.defaultOptions=ie(l.defaultOptions,u),z(q,"afterTranslate",function(){this.points.forEach(Z=>{Z.plotLow=Z.plotY})},{order:0}),G(q.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),y.registerSeriesType("errorbar",q),q}),s(i,"Series/Gauge/GaugePoint.js",[i["Core/Series/SeriesRegistry.js"]],function(l){({series:{prototype:{pointClass:l}}}=l);class h extends l{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(y){this.state=y}}return h}),s(i,"Series/Gauge/GaugeSeries.js",[i["Series/Gauge/GaugePoint.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y){({noop:h}=h);const{series:n,seriesTypes:{column:w}}=u,{clamp:z,isNumber:ie,extend:G,merge:q,pick:Z,pInt:F,defined:U}=y;class re extends n{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const D=this.yAxis,N=this.options,$=D.center;this.generatePoints(),this.points.forEach(j=>{const S=q(N.dial,j.dial),te=F(S.radius)*$[2]/200,Y=F(S.baseLength)*te/100,I=F(S.rearLength)*te/100,V=S.baseWidth,X=S.topWidth;let P=N.overshoot,L=D.startAngleRad+D.translate(j.y,void 0,void 0,void 0,!0);(ie(P)||N.wrap===!1)&&(P=ie(P)?P/180*Math.PI:0,L=z(L,D.startAngleRad-P,D.endAngleRad+P)),L=180*L/Math.PI,j.shapeType="path",j.shapeArgs={d:S.path||[["M",-I,-V/2],["L",Y,-V/2],["L",te,-X/2],["L",te,X/2],["L",Y,V/2],["L",-I,V/2],["Z"]],translateX:$[0],translateY:$[1],rotation:L},j.plotX=$[0],j.plotY=$[1],U(j.y)&&D.max-D.min&&(j.percentage=(j.y-D.min)/(D.max-D.min)*100)})}drawPoints(){const D=this,N=D.chart,$=D.yAxis.center,j=D.pivot,S=D.options,te=S.pivot,Y=N.renderer;D.points.forEach(I=>{const V=I.graphic,X=I.shapeArgs,P=X.d,L=q(S.dial,I.dial);V?(V.animate(X),X.d=P):I.graphic=Y[I.shapeType](X).addClass("highcharts-dial").add(D.group),N.styledMode||I.graphic[V?"animate":"attr"]({stroke:L.borderColor,"stroke-width":L.borderWidth,fill:L.backgroundColor})}),j?j.animate({translateX:$[0],translateY:$[1]}):te&&(D.pivot=Y.circle(0,0,te.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate($[0],$[1]).add(D.group),N.styledMode||D.pivot.attr({fill:te.backgroundColor,stroke:te.borderColor,"stroke-width":te.borderWidth}))}animate(D){const N=this;D||N.points.forEach($=>{const j=$.graphic;j&&(j.attr({rotation:180*N.yAxis.startAngleRad/Math.PI}),j.animate({rotation:$.shapeArgs.rotation},N.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),n.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(D,N){n.prototype.setData.call(this,D,!1),this.processData(),this.generatePoints(),Z(N,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return re.defaultOptions=q(n.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),G(re.prototype,{angular:!0,directTouch:!0,drawGraph:h,drawTracker:w.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:l,trackerGroups:["group","dataLabelsGroup"]}),u.registerSeriesType("gauge",re),re}),s(i,"Series/DragNodesComposition.js",[i["Core/Utilities.js"]],function(l){function h(){const n=this;let w,z,ie;n.container&&(w=u(n.container,"mousedown",G=>{const q=n.hoverPoint;q&&q.series&&q.series.hasDraggableNodes&&q.series.options.draggable&&(q.series.onMouseDown(q,G),z=u(n.container,"mousemove",Z=>q&&q.series&&q.series.onMouseMove(q,Z)),ie=u(n.container.ownerDocument,"mouseup",Z=>(z(),ie(),q&&q.series&&q.series.onMouseUp(q,Z))))})),u(n,"destroy",function(){w()})}const{addEvent:u}=l,y=[];return{compose:function(n){l.pushUnique(y,n)&&u(n,"load",h)},onMouseDown:function(n,w){w=this.chart.pointer.normalize(w),n.fixedPosition={chartX:w.chartX,chartY:w.chartY,plotX:n.plotX,plotY:n.plotY},n.inDragMode=!0},onMouseMove:function(n,w){if(n.fixedPosition&&n.inDragMode){const G=this.chart;w=G.pointer.normalize(w);var z=n.fixedPosition.chartX-w.chartX,ie=n.fixedPosition.chartY-w.chartY;w=G.graphLayoutsLookup,(5<Math.abs(z)||5<Math.abs(ie))&&(z=n.fixedPosition.plotX-z,ie=n.fixedPosition.plotY-ie,G.isInsidePlot(z,ie)&&(n.plotX=z,n.plotY=ie,n.hasDragged=!0,this.redrawHalo(n),w.forEach(q=>{q.restartSimulation()})))}},onMouseUp:function(n,w){n.fixedPosition&&(n.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),n.inDragMode=n.hasDragged=!1,this.options.fixedDraggable||delete n.fixedPosition)},redrawHalo:function(n){n&&this.halo&&this.halo.attr({d:n.haloPath(this.options.states.hover.halo.size)})}}}),s(i,"Series/GraphLayoutComposition.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Utilities.js"]],function(l,h){function u(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(q=>{q.updateSimulation()}),this.redraw())}function y(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(q=>{q.updateSimulation(!1)}),this.redraw())}function n(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(q=>{q.stop()})}function w(){let q,Z=!1;const F=U=>{U.maxIterations--&&isFinite(U.temperature)&&!U.isStable()&&!U.enableSimulation&&(U.beforeStep&&U.beforeStep(),U.step(),q=!1,Z=!0)};if(this.graphLayoutsLookup){for(z(!1,this),this.graphLayoutsLookup.forEach(U=>U.start());!q;)q=!0,this.graphLayoutsLookup.forEach(F);Z&&this.series.forEach(U=>{U&&U.layout&&U.render()})}}const{setAnimation:z}=l,{addEvent:ie}=h,G=[];return{compose:function(q){h.pushUnique(G,q)&&(ie(q,"afterPrint",u),ie(q,"beforePrint",y),ie(q,"predraw",n),ie(q,"render",w))},integrations:{},layouts:{}}}),s(i,"Series/PackedBubble/PackedBubblePoint.js",[i["Core/Chart/Chart.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesRegistry.js"]],function(l,h,u){({seriesTypes:{bubble:{prototype:{pointClass:u}}}}=u);class y extends u{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),h.prototype.destroy.apply(this,arguments)}firePointEvent(){const w=this.series.options;if(this.isParentNode&&w.parentNode){const z=w.allowPointSelect;w.allowPointSelect=w.parentNode.allowPointSelect,h.prototype.firePointEvent.apply(this,arguments),w.allowPointSelect=z}else h.prototype.firePointEvent.apply(this,arguments)}select(){const w=this.series.chart;this.isParentNode?(w.getSelectedPoints=w.getSelectedParentNodes,h.prototype.select.apply(this,arguments),w.getSelectedPoints=l.prototype.getSelectedPoints):h.prototype.select.apply(this,arguments)}}return y}),s(i,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[i["Core/Utilities.js"]],function(l){const{isNumber:h}=l;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:u}=this.series.chart,{value:y}=this.point;return h(y)?u(y,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),s(i,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(l,h,u){const y=l.getMass(),n=-u.x*h*this.diffTemperature;h=-u.y*h*this.diffTemperature,l.fromNode.fixedPosition||(l.fromNode.plotX-=n*y.fromNode/l.fromNode.degree,l.fromNode.plotY-=h*y.fromNode/l.fromNode.degree),l.toNode.fixedPosition||(l.toNode.plotX+=n*y.toNode/l.toNode.degree,l.toNode.plotY+=h*y.toNode/l.toNode.degree)},attractiveForceFunction:function(l,h){return(h-l)/l},barycenter:function(){let l=this.options.gravitationalConstant,h=this.barycenter.xFactor,u=this.barycenter.yFactor;h=(h-(this.box.left+this.box.width)/2)*l,u=(u-(this.box.top+this.box.height)/2)*l,this.nodes.forEach(function(y){y.fixedPosition||(y.plotX-=h/y.mass/y.degree,y.plotY-=u/y.mass/y.degree)})},getK:function(l){return Math.pow(l.box.width*l.box.height/l.nodes.length,.5)},integrate:function(l,h){var u=-l.options.friction;let y=l.options.maxSpeed,n=(h.plotX+h.dispX-h.prevX)*u;u*=h.plotY+h.dispY-h.prevY;var w=Math.abs;let z=w(n)/(n||1);w=w(u)/(u||1),n=z*Math.min(y,Math.abs(n)),u=w*Math.min(y,Math.abs(u)),h.prevX=h.plotX+h.dispX,h.prevY=h.plotY+h.dispY,h.plotX+=n,h.plotY+=u,h.temperature=l.vectorLength({x:n,y:u})},repulsive:function(l,h,u){h=h*this.diffTemperature/l.mass/l.degree,l.fixedPosition||(l.plotX+=u.x*h,l.plotY+=u.y*h)},repulsiveForceFunction:function(l,h){return(h-l)/l*(h>l?1:0)}}}),s(i,"Series/PackedBubble/PackedBubbleIntegration.js",[i["Core/Globals.js"],i["Series/Networkgraph/VerletIntegration.js"]],function(l,h){return{noop:l}=l,{barycenter:function(){const u=this.options.gravitationalConstant,y=this.box,n=this.nodes;let w,z;for(const ie of n)this.options.splitSeries&&!ie.isParentNode?(w=ie.series.parentNode.plotX,z=ie.series.parentNode.plotY):(w=y.width/2,z=y.height/2),ie.fixedPosition||(ie.plotX-=(ie.plotX-w)*u/(ie.mass*Math.sqrt(n.length)),ie.plotY-=(ie.plotY-z)*u/(ie.mass*Math.sqrt(n.length)))},getK:l,integrate:h.integrate,repulsive:function(u,y,n,w){const z=y*this.diffTemperature/u.mass/u.degree;y=n.x*z,n=n.y*z,u.fixedPosition||(u.plotX+=y,u.plotY+=n),w.fixedPosition||(w.plotX-=y,w.plotY-=n)},repulsiveForceFunction:function(u,y,n,w){return Math.min(u,(n.marker.radius+w.marker.radius)/2)}}}),s(i,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(l,h,u,y){const n=l.getMass(),w=u.x/y*h;h*=u.y/y,l.fromNode.fixedPosition||(l.fromNode.dispX-=w*n.fromNode/l.fromNode.degree,l.fromNode.dispY-=h*n.fromNode/l.fromNode.degree),l.toNode.fixedPosition||(l.toNode.dispX+=w*n.toNode/l.toNode.degree,l.toNode.dispY+=h*n.toNode/l.toNode.degree)},attractiveForceFunction:function(l,h){return l*l/h},barycenter:function(){const l=this.options.gravitationalConstant,h=this.barycenter.xFactor,u=this.barycenter.yFactor;this.nodes.forEach(function(y){if(!y.fixedPosition){var n=y.getDegree();n*=1+n/2,y.dispX+=(h-y.plotX)*l*n/y.degree,y.dispY+=(u-y.plotY)*l*n/y.degree}})},getK:function(l){return Math.pow(l.box.width*l.box.height/l.nodes.length,.3)},integrate:function(l,h){let u;h.dispX+=h.dispX*l.options.friction,h.dispY+=h.dispY*l.options.friction,u=h.temperature=l.vectorLength({x:h.dispX,y:h.dispY}),u!==0&&(h.plotX+=h.dispX/u*Math.min(Math.abs(h.dispX),l.temperature),h.plotY+=h.dispY/u*Math.min(Math.abs(h.dispY),l.temperature))},repulsive:function(l,h,u,y){l.dispX+=u.x/y*h/l.degree,l.dispY+=u.y/y*h/l.degree},repulsiveForceFunction:function(l,h){return h*h/l}}}),s(i,"Series/Networkgraph/QuadTreeNode.js",[],function(){class l{constructor(u){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=u,this.boxSize=Math.min(u.width,u.height)}divideBox(){const u=this.box.width/2,y=this.box.height/2;this.nodes[0]=new l({left:this.box.left,top:this.box.top,width:u,height:y}),this.nodes[1]=new l({left:this.box.left+u,top:this.box.top,width:u,height:y}),this.nodes[2]=new l({left:this.box.left+u,top:this.box.top+y,width:u,height:y}),this.nodes[3]=new l({left:this.box.left,top:this.box.top+y,width:u,height:y})}getBoxPosition(u){const y=u.plotY<this.box.top+this.box.height/2;return u.plotX<this.box.left+this.box.width/2?y?0:3:y?1:2}insert(u,y){this.isInternal?this.nodes[this.getBoxPosition(u)].insert(u,y-1):(this.isEmpty=!1,this.body?y?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,y-1),this.body=!0),this.nodes[this.getBoxPosition(u)].insert(u,y-1)):(y=new l({top:u.plotX||NaN,left:u.plotY||NaN,width:.1,height:.1}),y.body=u,y.isInternal=!1,this.nodes.push(y)):(this.isInternal=!1,this.body=u))}updateMassAndCenter(){let u=0,y=0,n=0;if(this.isInternal){for(const w of this.nodes)w.isEmpty||(u+=w.mass,y+=w.plotX*w.mass,n+=w.plotY*w.mass);y/=u,n/=u}else this.body&&(u=this.body.mass,y=this.body.plotX,n=this.body.plotY);this.mass=u,this.plotX=y,this.plotY=n}}return l}),s(i,"Series/Networkgraph/QuadTree.js",[i["Series/Networkgraph/QuadTreeNode.js"]],function(l){class h{constructor(y,n,w,z){this.box={left:y,top:n,width:w,height:z},this.maxDepth=25,this.root=new l(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(y){y.updateMassAndCenter()})}insertNodes(y){for(const n of y)this.root.insert(n,this.maxDepth)}visitNodeRecursive(y,n,w){let z;if(y||(y=this.root),y===this.root&&n&&(z=n(y)),z!==!1){for(const ie of y.nodes){if(ie.isInternal){if(n&&(z=n(ie)),z===!1)continue;this.visitNodeRecursive(ie,n,w)}else ie.body&&n&&n(ie.body);w&&w(ie)}y===this.root&&w&&w(y)}}}return h}),s(i,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[i["Series/Networkgraph/EulerIntegration.js"],i["Core/Globals.js"],i["Series/GraphLayoutComposition.js"],i["Series/Networkgraph/QuadTree.js"],i["Core/Utilities.js"],i["Series/Networkgraph/VerletIntegration.js"]],function(l,h,u,y,n,w){const{win:z}=h,{clamp:ie,defined:G,isFunction:q,fireEvent:Z,pick:F}=n;class U{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(R){u.compose(R),u.integrations.euler=l,u.integrations.verlet=w,u.layouts["reingold-fruchterman"]=U}init(R){this.options=R,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=u.integrations[R.integration],this.enableSimulation=R.enableSimulation,this.attractiveForce=F(R.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=F(R.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=R.approximation}updateSimulation(R){this.enableSimulation=F(R,this.options.enableSimulation)}start(){const R=this.series,D=this.options;this.currentStep=0,this.forces=R[0]&&R[0].forces||[],this.chart=R[0]&&R[0].chart,this.initialRendering&&(this.initPositions(),R.forEach(function(N){N.finishedAnimating=!0,N.render()})),this.setK(),this.resetSimulation(D),this.enableSimulation&&this.step()}step(){const R=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const D of this.forces||[])this[D+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const D of R)D.chart&&D.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&z.cancelAnimationFrame(this.simulation),this.simulation=z.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(D=>{Z(D,"afterSimulation")}))}}stop(){this.simulation&&z.cancelAnimationFrame(this.simulation)}setArea(R,D,N,$){this.box={left:R,top:D,width:N,height:$}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(R,D){for(const N of R)D.indexOf(N)===-1&&D.push(N)}removeElementFromCollection(R,D){R=D.indexOf(R),R!==-1&&D.splice(R,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(R){this.maxIterations=F(R,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(R){this.initialRendering=R}createQuadTree(){this.quadTree=new y(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const R=this.options.initialPositions;if(q(R)){R.call(this);for(const D of this.nodes)G(D.prevX)||(D.prevX=D.plotX),G(D.prevY)||(D.prevY=D.plotY),D.dispX=0,D.dispY=0}else R==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const R=this.box;var D=this.nodes;const N=2*Math.PI/(D.length+1),$=D.filter(function(I){return I.linksTo.length===0}),j={},S=this.options.initialPositionRadius,te=I=>{for(const V of I.linksFrom||[])j[V.toNode.id]||(j[V.toNode.id]=!0,Y.push(V.toNode),te(V.toNode))};let Y=[];for(const I of $)Y.push(I),te(I);if(Y.length)for(const I of D)Y.indexOf(I)===-1&&Y.push(I);else Y=D;for(let I=0,V=Y.length;I<V;++I)D=Y[I],D.plotX=D.prevX=F(D.plotX,R.width/2+S*Math.cos(I*N)),D.plotY=D.prevY=F(D.plotY,R.height/2+S*Math.sin(I*N)),D.dispX=0,D.dispY=0}setRandomPositions(){const R=this.box,D=this.nodes,N=D.length+1,$=S=>(S=S*S/Math.PI,S-=Math.floor(S));let j;for(let S=0,te=D.length;S<te;++S)j=D[S],j.plotX=j.prevX=F(j.plotX,R.width*$(S)),j.plotY=j.prevY=F(j.plotY,R.height*$(N+S)),j.dispX=0,j.dispY=0}force(R,...D){this.integration[R].apply(this,D)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let R=0,D=0,N=0;for(const $ of this.nodes)D+=$.plotX*$.mass,N+=$.plotY*$.mass,R+=$.mass;return this.barycenter={x:D,y:N,xFactor:D/R,yFactor:N/R}}barnesHutApproximation(R,D){const N=this.getDistXY(R,D),$=this.vectorLength(N);let j,S;return R!==D&&$!==0&&(D.isInternal?D.boxSize/$<this.options.theta&&$!==0?(S=this.repulsiveForce($,this.k),this.force("repulsive",R,S*D.mass,N,$),j=!1):j=!0:(S=this.repulsiveForce($,this.k),this.force("repulsive",R,S*D.mass,N,$))),j}repulsiveForces(){if(this.approximation==="barnes-hut")for(const R of this.nodes)this.quadTree.visitNodeRecursive(null,D=>this.barnesHutApproximation(R,D));else{let R,D,N;for(const $ of this.nodes)for(const j of this.nodes)$===j||$.fixedPosition||(N=this.getDistXY($,j),D=this.vectorLength(N),D!==0&&(R=this.repulsiveForce(D,this.k),this.force("repulsive",$,R*j.mass,N,D)))}}attractiveForces(){let R,D,N;for(const $ of this.links)$.fromNode&&$.toNode&&(R=this.getDistXY($.fromNode,$.toNode),D=this.vectorLength(R),D!==0&&(N=this.attractiveForce(D,this.k),this.force("attractive",$,N,R,D)))}applyLimits(){const R=this.nodes;for(const D of R){if(D.fixedPosition)break;this.integration.integrate(this,D),this.applyLimitBox(D,this.box),D.dispX=0,D.dispY=0}}applyLimitBox(R,D){const N=R.radius;R.plotX=ie(R.plotX,D.left+N,D.width-N),R.plotY=ie(R.plotY,D.top+N,D.height-N)}coolDown(R,D,N){return R-D*N}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let R=0;for(const D of this.nodes)R+=D.temperature;return R}vectorLength(R){return Math.sqrt(R.x*R.x+R.y*R.y)}getDistR(R,D){return R=this.getDistXY(R,D),this.vectorLength(R)}getDistXY(R,D){const N=R.plotX-D.plotX;return R=R.plotY-D.plotY,{x:N,y:R,absX:Math.abs(N),absY:Math.abs(R)}}}return U}),s(i,"Series/PackedBubble/PackedBubbleLayout.js",[i["Series/GraphLayoutComposition.js"],i["Series/PackedBubble/PackedBubbleIntegration.js"],i["Series/Networkgraph/ReingoldFruchtermanLayout.js"],i["Core/Utilities.js"]],function(l,h,u,y){function n(){const Z=[];return this.series.forEach(F=>{F.parentNode&&F.parentNode.selected&&Z.push(F.parentNode)}),Z}function w(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:z,pick:ie}=y,G=[];class q extends u{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(F){u.compose(F),l.integrations.packedbubble=h,l.layouts.packedbubble=q,y.pushUnique(G,F)&&(z(F,"beforeRedraw",w),F.prototype.getSelectedParentNodes=n)}beforeStep(){this.options.marker&&this.series.forEach(F=>{F&&F.calculateParentRadius()})}isStable(){const F=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>F||0>=this.temperature}setCircularPositions(){const F=this.box;var U=this.nodes;const re=2*Math.PI/(U.length+1),R=this.options.initialPositionRadius;let D,N=0;for(const $ of U)this.options.splitSeries&&!$.isParentNode?(U=$.series.parentNode.plotX,D=$.series.parentNode.plotY):(U=F.width/2,D=F.height/2),$.plotX=$.prevX=ie($.plotX,U+R*Math.cos($.index||N*re)),$.plotY=$.prevY=ie($.plotY,D+R*Math.sin($.index||N*re)),$.dispX=0,$.dispY=0,N++}repulsiveForces(){const F=this,U=F.options.bubblePadding;let re,R,D;F.nodes.forEach(N=>{N.degree=N.mass,N.neighbours=0,F.nodes.forEach($=>{re=0,N===$||N.fixedPosition||!F.options.seriesInteraction&&N.series!==$.series||(D=F.getDistXY(N,$),R=F.vectorLength(D)-(N.marker.radius+$.marker.radius+U),0>R&&(N.degree+=.01,N.neighbours++,re=F.repulsiveForce(-R/Math.sqrt(N.neighbours),F.k,N,$)),F.force("repulsive",N,re*$.mass,D,$,R))})})}applyLimitBox(F,U){let re,R;this.options.splitSeries&&!F.isParentNode&&this.options.parentNodeLimit&&(re=this.getDistXY(F,F.series.parentNode),R=F.series.parentNodeRadius-F.marker.radius-this.vectorLength(re),0>R&&R>-2*F.marker.radius&&(F.plotX-=.01*re.x,F.plotY-=.01*re.y)),super.applyLimitBox(F,U)}}return l.layouts.packedbubble=q}),s(i,"Series/SimulationSeriesUtilities.js",[i["Core/Utilities.js"],i["Core/Animation/AnimationUtilities.js"]],function(l,h){const{syncTimeout:u}=l,{animObject:y}=h;return{initDataLabels:function(){const n=this.options.dataLabels;if(!this.dataLabelsGroup){const w=this.initDataLabelsGroup();return!this.chart.styledMode&&(n!=null&&n.style)&&w.css(n.style),w.attr({opacity:0}),this.visible&&w.show(),w}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var n;const w=this.options.dataLabels;w!=null&&w.defer&&(!((n=this.options.layoutAlgorithm)===null||n===void 0)&&n.enableSimulation)?u(()=>{this.deferDataLabels=!1},w?y(w.animation).defer:0):this.deferDataLabels=!1}}}),s(i,"Series/PackedBubble/PackedBubbleSeries.js",[i["Core/Color/Color.js"],i["Series/DragNodesComposition.js"],i["Series/GraphLayoutComposition.js"],i["Core/Globals.js"],i["Series/PackedBubble/PackedBubblePoint.js"],i["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],i["Series/PackedBubble/PackedBubbleLayout.js"],i["Core/Series/SeriesRegistry.js"],i["Series/SimulationSeriesUtilities.js"],i["Core/Utilities.js"],i["Core/Animation/AnimationUtilities.js"]],function(l,h,u,y,n,w,z,ie,G,q,Z){const{parse:F}=l;({noop:l}=y);const{series:{prototype:U},seriesTypes:{bubble:re}}=ie,{initDataLabels:R,initDataLabelsDefer:D}=G,{addEvent:N,clamp:$,defined:j,extend:S,fireEvent:te,isArray:Y,isNumber:I,merge:V,pick:X}=q;class P extends re{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(_,v,M,O){re.compose(_,v,M,O),h.compose(v),z.compose(v)}accumulateAllPoints(){const _=this.chart,v=[];let M;for(const O of _.series)if(O.is("packedbubble")&&O.visible||!_.options.chart.ignoreHiddenSeries){M=O.yData||[];for(let ee=0;ee<M.length;ee++)v.push([null,null,M[ee],O.index,ee,{id:ee,marker:{radius:0}}])}return v}addLayout(){const _=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},v=_.type||"packedbubble",M=this.chart.options.chart;let O=this.chart.graphLayoutsStorage,ee=this.chart.graphLayoutsLookup,ae;O||(this.chart.graphLayoutsStorage=O={},this.chart.graphLayoutsLookup=ee=[]),ae=O[v],ae||(_.enableSimulation=j(M.forExport)?!M.forExport:_.enableSimulation,O[v]=ae=new u.layouts[v],ae.init(_),ee.splice(ae.index,0,ae)),this.layout=ae,this.points.forEach(K=>{K.mass=2,K.degree=1,K.collisionNmb=1}),ae.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),ae.addElementsToCollection([this],ae.series),ae.addElementsToCollection(this.points,ae.nodes)}addSeriesLayout(){var _=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const v=_.type||"packedbubble",M=this.chart.graphLayoutsStorage,O=this.chart.graphLayoutsLookup;_=V(_,_.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let ee=M[v+"-series"];ee||(M[v+"-series"]=ee=new u.layouts[v],ee.init(_),O.splice(ee.index,0,ee)),this.parentNodeLayout=ee,this.createParentNodes()}calculateParentRadius(){const _=this.seriesBox();this.parentNodeRadius=$(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,_?Math.max(Math.sqrt(Math.pow(_.width,2)+Math.pow(_.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let _=this.options.zMin,v=this.options.zMax,M=1/0,O=-1/0;return _&&v?[_,v]:(this.chart.series.forEach(ee=>{ee.yData.forEach(ae=>{j(ae)&&(ae>O&&(O=ae),ae<M&&(M=ae))})}),_=X(_,M),v=X(v,O),[_,v])}checkOverlap(_,v){const M=_[0]-v[0],O=_[1]-v[1];return-.001>Math.sqrt(M*M+O*O)-Math.abs(_[2]+v[2])}createParentNodes(){const _=this.pointClass,v=this.chart,M=this.parentNodeLayout,O=this.layout.options;let ee,ae=this.parentNode,K={radius:this.parentNodeRadius,lineColor:this.color,fillColor:F(this.color).brighten(.4).get()};O.parentNodeOptions&&(K=V(O.parentNodeOptions.marker||{},K)),this.parentNodeMass=0,this.points.forEach(pe=>{this.parentNodeMass+=Math.PI*Math.pow(pe.marker.radius,2)}),this.calculateParentRadius(),M.nodes.forEach(pe=>{pe.seriesIndex===this.index&&(ee=!0)}),M.setArea(0,0,v.plotWidth,v.plotHeight),ee||(ae||(ae=new _().init(this,{mass:this.parentNodeRadius/2,marker:K,dataLabels:{inside:!1},states:{normal:{marker:K},hover:{marker:K}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(ae.plotX=this.parentNode.plotX,ae.plotY=this.parentNode.plotY),this.parentNode=ae,M.addElementsToCollection([this],M.series),M.addElementsToCollection([ae],M.nodes))}deferLayout(){const _=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),_.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(_=>{_.removeElementFromCollection(this,_.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),U.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(U.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",U.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var _=this.chart,v=this.layout.options.parentNodeOptions.marker;v={fill:v.fillColor||F(this.color).brighten(.4).get(),opacity:v.fillOpacity,stroke:v.lineColor||this.color,"stroke-width":X(v.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,_.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var M=V({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},v);this.parentNode.graphic||(this.graph=this.parentNode.graphic=_.renderer.symbol(v.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(M)}}drawTracker(){const _=this.parentNode;let v;super.drawTracker(),_&&(v=Y(_.dataLabels)?_.dataLabels:_.dataLabel?[_.dataLabel]:[],_.graphic&&(_.graphic.element.point=_),v.forEach(M=>{M.div?M.div.point=_:M.element.point=_}))}getPointRadius(){const _=this.chart,v=this.options,M=v.useSimulation,O=Math.min(_.plotWidth,_.plotHeight),ee={},ae=[],K=_.allDataPoints||[],pe=K.length;let Me,Pe,W,le;["minSize","maxSize"].forEach(xe=>{const Le=parseInt(v[xe],10),oe=/%$/.test(v[xe]);ee[xe]=oe?O*Le/100:Le*Math.sqrt(pe)}),_.minRadius=Me=ee.minSize/Math.sqrt(pe),_.maxRadius=Pe=ee.maxSize/Math.sqrt(pe);const ue=M?this.calculateZExtremes():[Me,Pe];K.forEach((xe,Le)=>{W=M?$(xe[2],ue[0],ue[1]):xe[2],le=this.getRadius(ue[0],ue[1],Me,Pe,W),le===0&&(le=null),K[Le][2]=le,ae.push(le)}),this.radii=ae}init(){return U.init.apply(this,arguments),D.call(this),this.eventsToUnbind.push(N(this,"updatedData",function(){this.chart.series.forEach(_=>{_.type===this.type&&(_.isDirty=!0)},this)})),this}onMouseUp(_){const v=_;if(v.fixedPosition&&!v.removed){const M=this.layout,O=this.parentNodeLayout;let ee,ae;O&&M.options.dragBetweenSeries&&O.nodes.forEach(K=>{v&&v.marker&&K!==v.series.parentNode&&(ee=M.getDistXY(v,K),ae=M.vectorLength(ee)-K.marker.radius-v.marker.radius,0>ae&&(K.series.addPoint(V(v.options,{plotX:v.plotX,plotY:v.plotY}),!1),M.removeElementFromCollection(v,M.nodes),v.remove()))}),h.onMouseUp.apply(this,arguments)}}placeBubbles(_){const v=this.checkOverlap,M=this.positionBubble,O=[];let ee=1,ae=0,K=0;var pe=[];let Me;if(_=_.sort((Pe,W)=>W[2]-Pe[2]),_.length){if(O.push([[0,0,_[0][2],_[0][3],_[0][4]]]),1<_.length)for(O.push([[0,0-_[1][2]-_[0][2],_[1][2],_[1][3],_[1][4]]]),Me=2;Me<_.length;Me++)_[Me][2]=_[Me][2]||1,pe=M(O[ee][ae],O[ee-1][K],_[Me]),v(pe,O[ee][0])?(O.push([]),K=0,O[ee+1].push(M(O[ee][ae],O[ee][0],_[Me])),ee++,ae=0):1<ee&&O[ee-1][K+1]&&v(pe,O[ee-1][K+1])?(K++,O[ee].push(M(O[ee][ae],O[ee-1][K],_[Me])),ae++):(ae++,O[ee].push(pe));this.chart.stages=O,this.chart.rawPositions=[].concat.apply([],O),this.resizeRadius(),pe=this.chart.rawPositions}return pe}pointAttribs(_,v){var M=this.options;let O=M.marker;return _&&_.isParentNode&&M.layoutAlgorithm&&M.layoutAlgorithm.parentNodeOptions&&(O=M.layoutAlgorithm.parentNodeOptions.marker),M=O.fillOpacity,_=U.pointAttribs.call(this,_,v),M!==1&&(_["fill-opacity"]=M),_}positionBubble(_,v,M){var O=Math.sqrt,ee=Math.asin,ae=Math.acos;const K=Math.pow,pe=Math.abs;return O=O(K(_[0]-v[0],2)+K(_[1]-v[1],2)),ae=ae((K(O,2)+K(M[2]+v[2],2)-K(M[2]+_[2],2))/(2*(M[2]+v[2])*O)),ee=ee(pe(_[0]-v[0])/O),_=(0>_[1]-v[1]?0:Math.PI)+ae+ee*(0>(_[0]-v[0])*(_[1]-v[1])?1:-1),[v[0]+(v[2]+M[2])*Math.sin(_),v[1]-(v[2]+M[2])*Math.cos(_),M[2],M[3],M[4]]}render(){const _=[];U.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(v=>{Y(v.dataLabels)&&v.dataLabels.forEach(M=>{_.push(M)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(_))}resizeRadius(){const _=this.chart,v=_.rawPositions;var M=Math.min,O=Math.max;const ee=_.plotLeft,ae=_.plotTop,K=_.plotHeight,pe=_.plotWidth;let Me,Pe,W,le,ue;Me=W=Number.POSITIVE_INFINITY,Pe=le=Number.NEGATIVE_INFINITY;for(const xe of v)ue=xe[2],Me=M(Me,xe[0]-ue),Pe=O(Pe,xe[0]+ue),W=M(W,xe[1]-ue),le=O(le,xe[1]+ue);if(O=[Pe-Me,le-W],M=M.apply([],[(pe-ee)/O[0],(K-ae)/O[1]]),1e-10<Math.abs(M-1)){for(const xe of v)xe[2]*=M;this.placeBubbles(v)}else _.diffY=K/2+ae-W-(le-W)/2,_.diffX=pe/2+ee-Me-(Pe-Me)/2}seriesBox(){const _=this.chart,v=Math.max,M=Math.min,O=[_.plotLeft,_.plotLeft+_.plotWidth,_.plotTop,_.plotTop+_.plotHeight];let ee;return this.data.forEach(ae=>{j(ae.plotX)&&j(ae.plotY)&&ae.marker.radius&&(ee=ae.marker.radius,O[0]=M(O[0],ae.plotX-ee),O[1]=v(O[1],ae.plotX+ee),O[2]=M(O[2],ae.plotY-ee),O[3]=v(O[3],ae.plotY+ee))}),I(O.width/O.height)?O:null}setVisible(){const _=this;U.setVisible.apply(_,arguments),_.parentNodeLayout&&_.graph?_.visible?(_.graph.show(),_.parentNode.dataLabel&&_.parentNode.dataLabel.show()):(_.graph.hide(),_.parentNodeLayout.removeElementFromCollection(_.parentNode,_.parentNodeLayout.nodes),_.parentNode.dataLabel&&_.parentNode.dataLabel.hide()):_.layout&&(_.visible?_.layout.addElementsToCollection(_.points,_.layout.nodes):_.points.forEach(v=>{_.layout.removeElementFromCollection(v,_.layout.nodes)}))}translate(){const _=this.chart,v=this.data,M=this.index,O=this.options.useSimulation;let ee;if(this.processedXData=this.xData,this.generatePoints(),j(_.allDataPoints)||(_.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),O)var ae=_.allDataPoints;else ae=this.placeBubbles(_.allDataPoints),this.options.draggable=!1;for(const K of ae)K[3]===M&&(ae=v[K[4]],ee=X(K[2],void 0),O||(ae.plotX=K[0]-_.plotLeft+_.diffX,ae.plotY=K[1]-_.plotTop+_.diffY),I(ee)&&(ae.marker=S(ae.marker,{radius:ee,width:2*ee,height:2*ee}),ae.radius=ee));O&&this.deferLayout(),te(this,"afterTranslate")}}return P.defaultOptions=V(re.defaultOptions,w),S(P.prototype,{pointClass:n,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:R,alignDataLabel:U.alignDataLabel,indexateNodes:l,onMouseDown:h.onMouseDown,onMouseMove:h.onMouseMove,redrawHalo:h.redrawHalo,searchPoint:l}),ie.registerSeriesType("packedbubble",P),P}),s(i,"Series/Polygon/PolygonSeries.js",[i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u){({noop:l}=l);const{series:y,seriesTypes:{area:n,line:w,scatter:z}}=h,{extend:ie,merge:G}=u;class q extends z{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let F=w.prototype.getGraphPath.call(this),U=F.length+1;for(;U--;)(U===F.length||F[U][0]==="M")&&0<U&&F.splice(U,0,["Z"]);return this.areaPath=F}drawGraph(){this.options.fillColor=this.color,n.prototype.drawGraph.call(this)}}return q.defaultOptions=G(z.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),ie(q.prototype,{type:"polygon",drawTracker:y.prototype.drawTracker,setStackedPoints:l}),h.registerSeriesType("polygon",q),q}),s(i,"Core/Axis/WaterfallAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(l,h){const{addEvent:u,objectEach:y}=h;var n;return function(w){function z(){const F=this.waterfall.stacks;F&&(F.changed=!1,delete F.alreadyChanged)}function ie(){const F=this.options.stackLabels;F&&F.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function G(){let F=this.axes,U=this.series,re=U.length;for(;re--;)U[re].options.stacking&&(F.forEach(function(R){R.isXAxis||(R.waterfall.stacks.changed=!0)}),re=0)}function q(){this.waterfall||(this.waterfall=new Z(this))}class Z{constructor(U){this.axis=U,this.stacks={changed:!1}}renderStackTotals(){const U=this.axis,re=U.waterfall.stacks,R=U.stacking&&U.stacking.stackTotalGroup,D=new l(U,U.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=D,R&&y(re,function(N){y(N,function($,j){D.total=$.stackTotal,D.x=+j,$.label&&(D.label=$.label),l.prototype.render.call(D,R),$.label=D.label,delete D.label})}),D.total=null}}w.Composition=Z,w.compose=function(F,U){u(F,"init",q),u(F,"afterBuildStacks",z),u(F,"afterRender",ie),u(U,"beforeRedraw",G)}}(n||(n={})),n}),s(i,"Series/Waterfall/WaterfallPoint.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],function(l,h,u){const{isNumber:y}=u;class n extends l.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let z=h.prototype.getClassName.call(this);return this.isSum?z+=" highcharts-sum":this.isIntermediateSum&&(z+=" highcharts-intermediate-sum"),z}isValid(){return y(this.y)||this.isSum||!!this.isIntermediateSum}}return n}),s(i,"Series/Waterfall/WaterfallSeries.js",[i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"],i["Core/Axis/WaterfallAxis.js"],i["Series/Waterfall/WaterfallPoint.js"]],function(l,h,u,y,n,w){const{seriesTypes:{column:z,line:ie}}=u,{addEvent:G,arrayMax:q,arrayMin:Z,correctFloat:F,extend:U,isNumber:re,merge:R,objectEach:D,pick:N}=y;class $ extends z{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){z.prototype.generatePoints.apply(this);for(let S=0,te=this.points.length;S<te;S++){const Y=this.points[S],I=this.processedYData[S];re(I)&&(Y.isIntermediateSum||Y.isSum)&&(Y.y=F(I))}}processData(S){let te=this.options,Y=this.yData,I=te.data,V,X=Y.length,P=te.threshold||0,L,_,v,M,O,ee;for(ee=_=L=v=M=0;ee<X;ee++)O=Y[ee],V=I&&I[ee]?I[ee]:{},O==="sum"||V.isSum?Y[ee]=F(_):O==="intermediateSum"||V.isIntermediateSum?(Y[ee]=F(L),L=0):(_+=O,L+=O),v=Math.min(_,v),M=Math.max(_,M);super.processData.call(this,S),te.stacking||(this.dataMin=v+P,this.dataMax=M)}toYData(S){return S.isSum?"sum":S.isIntermediateSum?"intermediateSum":S.y}updateParallelArrays(S,te){super.updateParallelArrays.call(this,S,te),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(S,te){const Y=this.options.upColor;return Y&&!S.options.color&&re(S.y)&&(S.color=0<S.y?Y:void 0),S=z.prototype.pointAttribs.call(this,S,te),delete S.dashstyle,S}getGraphPath(){return[["M",0,0]]}getCrispPath(){let S=this.data.filter(ee=>re(ee.y)),te=this.yAxis,Y=S.length,I=Math.round(this.graph.strokeWidth())%2/2,V=Math.round(this.borderWidth)%2/2,X=this.xAxis.reversed,P=this.yAxis.reversed,L=this.options.stacking,_=[];for(let ee=1;ee<Y;ee++){if(!this.options.connectNulls&&!re(this.data[S[ee].index-1].y))continue;var v=S[ee].box,M=S[ee-1];const ae=M.y||0,K=S[ee-1].box;if(!v||!K)continue;var O=te.waterfall.stacks[this.stackKey];const pe=0<ae?-K.height:0;O&&K&&v&&(O=O[ee-1],M=L?Math.round(te.translate(O.connectorThreshold,!1,!0,!1,!0)+(P?pe:0))-I:K.y+M.minPointLengthOffset+V-I,_.push(["M",(K.x||0)+(X?0:K.width||0),M],["L",(v.x||0)+(X&&v.width||0),M])),K&&_.length&&(!L&&0>ae&&!P||0<ae&&P)&&((v=_[_.length-2])&&typeof v[2]=="number"&&(v[2]+=K.height||0),(v=_[_.length-1])&&typeof v[2]=="number"&&(v[2]+=K.height||0))}return _}drawGraph(){ie.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function S(ue,xe,Le,oe){if(v){if(ae)for(Le;Le<ae;Le++)v.stackState[Le]+=oe;else v.stackState[0]=ue,ae=v.stackState.length;v.stackState.push(v.stackState[ae-1]+xe)}}let te=this.options,Y=this.yAxis.waterfall.stacks,I=te.threshold||0,V=I,X=V,P=this.stackKey,L=this.xData,_=L.length,v,M,O,ee,ae,K,pe,Me;var Pe;let W;if(this.yAxis.stacking.usePercentage=!1,M=O=ee=V,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(W=Y.changed,(Pe=Y.alreadyChanged)&&0>Pe.indexOf(P)&&(W=!0),Y[P]||(Y[P]={}),Pe=Y[P])for(let ue=0;ue<_;ue++){var le=L[ue];(!Pe[le]||W)&&(Pe[le]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:W&&Pe[le]?Pe[le].label:void 0}),v=Pe[le],Me=this.yData[ue],0<=Me?v.posTotal+=Me:v.negTotal+=Me,pe=te.data[ue],le=v.absolutePos=v.posTotal,K=v.absoluteNeg=v.negTotal,v.stackTotal=le+K,ae=v.stackState.length,pe&&pe.isIntermediateSum?(S(ee,O,0,ee),ee=O,O=I,V^=X,X^=V,V^=X):pe&&pe.isSum?(S(I,M,ae,0),V=I):(S(V,Me,0,M),pe&&(M+=Me,O+=Me)),v.stateIndex++,v.threshold=V,V+=v.stackTotal}Y.changed=!1,Y.alreadyChanged||(Y.alreadyChanged=[]),Y.alreadyChanged.push(P)}}getExtremes(){let S=this.options.stacking,te,Y;if(S){var I=this.yAxis;return I=I.waterfall.stacks,te=this.stackedYNeg=[],Y=this.stackedYPos=[],S==="overlap"?D(I[this.stackKey],function(V){te.push(Z(V.stackState)),Y.push(q(V.stackState))}):D(I[this.stackKey],function(V){te.push(V.negTotal+V.threshold),Y.push(V.posTotal+V.threshold)}),{dataMin:Z(te),dataMax:q(Y)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return $.defaultOptions=R(z.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),G($,"afterColumnTranslate",function(){const{options:j,points:S,yAxis:te}=this,Y=N(j.minPointLength,5),I=Y/2,V=j.threshold||0,X=j.stacking,P=te.waterfall.stacks[this.stackKey];let L=V,_=V;for(let ae=0;ae<S.length;ae++){const K=S[ae];var v=this.processedYData[ae];const pe=U({x:0,y:0,width:0,height:0},K.shapeArgs||{});K.box=pe;var M=[0,v],O=K.y||0;if(X){if(P){if(M=P[ae],X==="overlap"){var ee=M.stackState[M.stateIndex--];ee=0<=O?ee:ee-O,Object.hasOwnProperty.call(M,"absolutePos")&&delete M.absolutePos,Object.hasOwnProperty.call(M,"absoluteNeg")&&delete M.absoluteNeg}else 0<=O?(ee=M.threshold+M.posTotal,M.posTotal-=O):(ee=M.threshold+M.negTotal,M.negTotal-=O,ee-=O),!M.posTotal&&re(M.absolutePos)&&Object.hasOwnProperty.call(M,"absolutePos")&&(M.posTotal=M.absolutePos,delete M.absolutePos),!M.negTotal&&re(M.absoluteNeg)&&Object.hasOwnProperty.call(M,"absoluteNeg")&&(M.negTotal=M.absoluteNeg,delete M.absoluteNeg);K.isSum||(M.connectorThreshold=M.threshold+M.stackTotal),te.reversed?v=0<=O?ee-O:ee+O:(v=ee,ee-=O),K.below=v<=V,pe.y=te.translate(v,!1,!0,!1,!0),pe.height=Math.abs(pe.y-te.translate(ee,!1,!0,!1,!0)),(ee=te.waterfall.dummyStackItem)&&(ee.x=ae,ee.label=P[ae].label,ee.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[ae],this.stackedYPos[ae],void 0,this.xAxis))}}else ee=Math.max(_,_+O)+M[0],pe.y=te.translate(ee,!1,!0,!1,!0),K.isSum?(pe.y=te.translate(M[1],!1,!0,!1,!0),pe.height=Math.min(te.translate(M[0],!1,!0,!1,!0),te.len)-pe.y,K.below=M[1]<=V):K.isIntermediateSum?(0<=O?(v=M[1]+L,ee=L):(v=L,ee=M[1]+L),te.reversed&&(v^=ee,ee^=v,v^=ee),pe.y=te.translate(v,!1,!0,!1,!0),pe.height=Math.abs(pe.y-Math.min(te.translate(ee,!1,!0,!1,!0),te.len)),L+=M[1],K.below=v<=V):(pe.height=0<v?te.translate(_,!1,!0,!1,!0)-pe.y:te.translate(_,!1,!0,!1,!0)-te.translate(_-v,!1,!0,!1,!0),_+=v,K.below=_<V),0>pe.height&&(pe.y+=pe.height,pe.height*=-1);K.plotY=pe.y=Math.round(pe.y||0)-this.borderWidth%2/2,pe.height=Math.max(Math.round(pe.height||0),.001),K.yBottom=pe.y+pe.height,pe.height<=Y&&!K.isNull?(pe.height=Y,pe.y-=I,K.plotY=pe.y,K.minPointLengthOffset=0>O?-I:I):(K.isNull&&(pe.width=0),K.minPointLengthOffset=0),O=K.plotY+(K.negative?pe.height:0),K.below&&(K.plotY+=pe.height),K.tooltipPos&&(this.chart.inverted?K.tooltipPos[0]=te.len-O:K.tooltipPos[1]=O),K.isInside=this.isPointInside(K),R(!0,K.shapeArgs,pe)}},{order:2}),U($.prototype,{getZonesGraphs:ie.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:w}),u.registerSeriesType("waterfall",$),n.compose(l,h),$}),s(i,"Core/Axis/RadialAxis.js",[i["Core/Axis/AxisDefaults.js"],i["Core/Defaults.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(l,h,u,y){const{defaultOptions:n}=h,{noop:w}=u,{addEvent:z,correctFloat:ie,defined:G,extend:q,fireEvent:Z,merge:F,pick:U,relativeLength:re,wrap:R}=y;var D;return function(N){function $(){this.autoConnect=this.isCircular&&typeof U(this.userMax,this.options.max)>"u"&&ie(this.endAngleRad-this.startAngleRad)===ie(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function j(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(se=>this.ticks[se]&&this.ticks[se].label).filter(se=>!!se)}}function S(){return w}function te(se,fe,ye){const Ie=this.pane.center;let ke=se.value,Ue;if(this.isCircular){if(G(ke))se.point&&(st=se.point.shapeArgs||{},st.start&&(ke=this.chart.inverted?this.translate(se.point.rectPlotY,!0):se.point.x));else{var st=se.chartX||0;Ue=se.chartY||0,ke=this.translate(Math.atan2(Ue-ye,st-fe)-this.startAngleRad,!0)}se=this.getPosition(ke),st=se.x,Ue=se.y}else G(ke)||(st=se.chartX,Ue=se.chartY),G(st)&&G(Ue)&&(ye=Ie[1]+this.chart.plotTop,ke=this.translate(Math.min(Math.sqrt(Math.pow(st-fe,2)+Math.pow(Ue-ye,2)),Ie[2]/2)-Ie[3]/2,!0));return[ke,st||0,Ue||0]}function Y(se,fe,ye){se=this.pane.center;const Ie=this.chart,ke=this.left||0,Ue=this.top||0;let st=U(fe,se[2]/2-this.offset);return typeof ye>"u"&&(ye=this.horiz?0:this.center&&-this.center[3]/2),ye&&(st+=ye),this.isCircular||typeof fe<"u"?(fe=this.chart.renderer.symbols.arc(ke+se[0],Ue+se[1],st,st,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),fe.xBounds=[ke+se[0]],fe.yBounds=[Ue+se[1]-st]):(fe=this.postTranslate(this.angleRad,st),fe=[["M",this.center[0]+Ie.plotLeft,this.center[1]+Ie.plotTop],["L",fe.x,fe.y]]),fe}function I(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function V(se,fe,ye){const Ie=this.chart;var ke=Gt=>{if(typeof Gt=="string"){let yi=parseInt(Gt,10);return je.test(Gt)&&(yi=yi*it/100),yi}return Gt};const Ue=this.center;var st=this.startAngleRad;const it=Ue[2]/2;var ht=Math.min(this.offset,0),Ae=this.left||0;const ze=this.top||0,je=/%$/;var $e=this.isCircular;let nt,bt=U(ke(ye.outerRadius),it),jt=ke(ye.innerRadius);return ke=U(ke(ye.thickness),10),this.options.gridLineInterpolation==="polygon"?ht=this.getPlotLinePath({value:se}).concat(this.getPlotLinePath({value:fe,reverse:!0})):(se=Math.max(se,this.min),fe=Math.min(fe,this.max),se=this.translate(se),fe=this.translate(fe),$e||(bt=se||0,jt=fe||0),ye.shape!=="circle"&&$e?(ye=st+(se||0),st+=fe||0):(ye=-Math.PI/2,st=1.5*Math.PI,nt=!0),bt-=ht,ht=Ie.renderer.symbols.arc(Ae+Ue[0],ze+Ue[1],bt,bt,{start:Math.min(ye,st),end:Math.max(ye,st),innerR:U(jt,bt-(ke-ht)),open:nt}),$e&&($e=(st+ye)/2,Ae=Ae+Ue[0]+Ue[2]/2*Math.cos($e),ht.xBounds=$e>-Math.PI/2&&$e<Math.PI/2?[Ae,Ie.plotWidth]:[0,Ae],ht.yBounds=[ze+Ue[1]+Ue[2]/2*Math.sin($e)],ht.yBounds[0]+=$e>-Math.PI&&0>$e||$e>Math.PI?-10:10)),ht}function X(se){var fe=this.pane.center,ye=this.chart;const Ie=ye.inverted;var ke=se.reverse,Ue=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const st=Ue.innerRadius||"0%",it=Ue.outerRadius||"100%";var ht=fe[0]+ye.plotLeft,Ae=fe[1]+ye.plotTop;const ze=this.height,je=se.isCrosshair;Ue=fe[3]/2;var $e=se.value;let nt;var bt=this.getPosition($e);let jt=bt.x;if(bt=bt.y,je&&(bt=this.getCrosshairPosition(se,ht,Ae),$e=bt[0],jt=bt[1],bt=bt[2]),this.isCircular)$e=Math.sqrt(Math.pow(jt-ht,2)+Math.pow(bt-Ae,2)),ke=typeof st=="string"?re(st,1):st/$e,ye=typeof it=="string"?re(it,1):it/$e,fe&&Ue&&(Ue/=$e,ke<Ue&&(ke=Ue),ye<Ue&&(ye=Ue)),fe=[["M",ht+ke*(jt-ht),Ae-ke*(Ae-bt)],["L",jt-(1-ye)*(jt-ht),bt+(1-ye)*(Ae-bt)]];else if(($e=this.translate($e))&&(0>$e||$e>ze)&&($e=0),this.options.gridLineInterpolation==="circle")fe=this.getLinePath(0,$e,Ue);else if(fe=[],ye[Ie?"yAxis":"xAxis"].forEach(Gt=>{Gt.pane===this.pane&&(nt=Gt)}),nt)for(ht=nt.tickPositions,nt.autoConnect&&(ht=ht.concat([ht[0]])),ke&&(ht=ht.slice().reverse()),$e&&($e+=Ue),Ae=0;Ae<ht.length;Ae++)Ue=nt.getPosition(ht[Ae],$e),fe.push(Ae?["L",Ue.x,Ue.y]:["M",Ue.x,Ue.y]);return fe}function P(se,fe){return se=this.translate(se),this.postTranslate(this.isCircular?se:this.angleRad,U(this.isCircular?fe:0>se?0:se,this.center[2]/2)-this.offset)}function L(){const se=this.center,fe=this.chart,ye=this.options.title;return{x:fe.plotLeft+se[0]+(ye.x||0),y:fe.plotTop+se[1]-{high:.5,middle:.25,low:0}[ye.align]*se[2]+(ye.y||0)}}function _(se){se.beforeSetTickPositions=$,se.createLabelCollector=j,se.getCrosshairPosition=te,se.getLinePath=Y,se.getOffset=I,se.getPlotBandPath=V,se.getPlotLinePath=X,se.getPosition=P,se.getTitlePosition=L,se.postTranslate=Me,se.setAxisSize=W,se.setAxisTranslation=le,se.setOptions=ue}function v(){var se=this.chart,fe=this.options,ye=this.pane,Ie=ye&&ye.options;se.angular&&this.isXAxis||!ye||!se.angular&&!se.polar||(se=2*Math.PI,ye=(U(Ie.startAngle,0)-90)*Math.PI/180,Ie=(U(Ie.endAngle,U(Ie.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(fe.angle||0)*Math.PI/180,this.startAngleRad=ye,this.endAngleRad=Ie,this.offset=fe.offset||0,fe=(ye%se+se)%se,Ie=(Ie%se+se)%se,fe>Math.PI&&(fe-=se),Ie>Math.PI&&(Ie-=se),this.normalizedStartAngleRad=fe,this.normalizedEndAngleRad=Ie)}function M(se){this.isRadial&&(se.align=void 0,se.preventDefault())}function O(){if(this.chart&&this.chart.labelCollectors){const se=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=se&&this.chart.labelCollectors.splice(se,1)}}function ee(se){const fe=this.chart,ye=fe.inverted,Ie=fe.angular,ke=fe.polar,Ue=this.isXAxis,st=this.coll,it=Ie&&Ue;se=se.userOptions.pane||0,se=this.pane=fe.pane&&fe.pane[se];let ht;st==="colorAxis"?this.isRadial=!1:(Ie?(it?(this.isHidden=!0,this.createLabelCollector=S,this.getOffset=w,this.render=this.redraw=Pe,this.setTitle=this.setCategories=this.setScale=w):_(this),(ht=!Ue)&&(this.defaultPolarOptions=ve)):ke&&(_(this),this.defaultPolarOptions=(ht=this.horiz)?oe:F(st==="xAxis"?l.defaultXAxisOptions:l.defaultYAxisOptions,_e),ye&&st==="yAxis"&&(this.defaultPolarOptions.stackLabels=l.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Ie||ke?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&fe.labelCollectors.push(this.labelCollector)):this.isRadial=!1,se&&ht&&(se.axis=this),this.isCircular=ht)}function ae(){this.isRadial&&this.beforeSetTickPositions()}function K(se){const fe=this.label;if(fe){var ye=this.axis,Ie=fe.getBBox(),ke=ye.options.labels,Ue=(ye.translate(this.pos)+ye.startAngleRad+Math.PI/2)/Math.PI*180%360,st=Math.round(Ue),it=G(ke.y)?0:.3*-Ie.height,ht=ke.y,Ae=20,ze=ke.align,je="end",$e=0>st?st+360:st,nt=$e,bt=0,jt=0;if(ye.isRadial){var Gt=ye.getPosition(this.pos,ye.center[2]/2+re(U(ke.distance,-25),ye.center[2]/2,-ye.center[2]/2));ke.rotation==="auto"?fe.attr({rotation:Ue}):G(ht)||(ht=ye.chart.renderer.fontMetrics(fe).b-Ie.height/2),G(ze)||(ye.isCircular?(Ie.width>ye.len*ye.tickInterval/(ye.max-ye.min)&&(Ae=0),ze=Ue>Ae&&Ue<180-Ae?"left":Ue>180+Ae&&Ue<360-Ae?"right":"center"):ze="center",fe.attr({align:ze})),ze==="auto"&&ye.tickPositions.length===2&&ye.isCircular&&(90<$e&&180>$e?$e=180-$e:270<$e&&360>=$e&&($e=540-$e),180<nt&&360>=nt&&(nt=360-nt),(ye.pane.options.startAngle===st||ye.pane.options.startAngle===st+360||ye.pane.options.startAngle===st-360)&&(je="start"),ze=-90<=st&&90>=st||-360<=st&&-270>=st||270<=st&&360>=st?je==="start"?"right":"left":je==="start"?"left":"right",70<nt&&110>nt&&(ze="center"),15>$e||180<=$e&&195>$e?bt=.3*Ie.height:15<=$e&&35>=$e?bt=je==="start"?0:.75*Ie.height:195<=$e&&215>=$e?bt=je==="start"?.75*Ie.height:0:35<$e&&90>=$e?bt=je==="start"?.25*-Ie.height:Ie.height:215<$e&&270>=$e&&(bt=je==="start"?Ie.height:.25*-Ie.height),15>nt?jt=je==="start"?.15*-Ie.height:.15*Ie.height:165<nt&&180>=nt&&(jt=je==="start"?.15*Ie.height:.15*-Ie.height),fe.attr({align:ze}),fe.translate(jt,bt+it)),se.pos.x=Gt.x+(ke.x||0),se.pos.y=Gt.y+(ht||0)}}}function pe(se){this.axis.getPosition&&q(se.pos,this.axis.getPosition(this.pos))}function Me(se,fe){const ye=this.chart,Ie=this.center;return se=this.startAngleRad+se,{x:ye.plotLeft+Ie[0]+Math.cos(se)*fe,y:ye.plotTop+Ie[1]+Math.sin(se)*fe}}function Pe(){this.isDirty=!1}function W(){let se,fe;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),se=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(fe=this.postTranslate(this.angleRad,se[3]/2),se[0]=fe.x-this.chart.plotLeft,se[1]=fe.y-this.chart.plotTop),this.len=this.width=this.height=(se[2]-se[3])*U(this.sector,1)/2)}function le(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function ue(se){se=this.options=F(this.constructor.defaultOptions,this.defaultPolarOptions,n[this.coll],se),se.plotBands||(se.plotBands=[]),Z(this,"afterSetOptions")}function xe(se,fe,ye,Ie,ke,Ue,st){const it=this.axis;return it.isRadial?(se=it.getPosition(this.pos,it.center[2]/2+Ie),fe=["M",fe,ye,"L",se.x,se.y]):fe=se.call(this,fe,ye,Ie,ke,Ue,st),fe}const Le=[],oe={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},ve={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},_e={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};N.compose=function(se,fe){return y.pushUnique(Le,se)&&(z(se,"afterInit",v),z(se,"autoLabelAlign",M),z(se,"destroy",O),z(se,"init",ee),z(se,"initialAxisTranslation",ae)),y.pushUnique(Le,fe)&&(z(fe,"afterGetLabelPosition",K),z(fe,"afterGetPosition",pe),R(fe.prototype,"getMarkPath",xe)),se}}(D||(D={})),D}),s(i,"Series/PolarComposition.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Globals.js"],i["Core/Series/Series.js"],i["Extensions/Pane.js"],i["Core/Axis/RadialAxis.js"],i["Core/Utilities.js"]],function(l,h,u,y,n,w){function z(W,le,ue,xe){var Le=xe?1:0,oe=0<=le&&le<=W.length-1?le:0>le?W.length-1+le:0;le=0>oe-1?W.length-(1+Le):oe-1;var ve=W[le];Le=W[oe+1>W.length-1?Le:oe+1];var _e=ve.plotY,se=Le.plotX,fe=Le.plotY;Le=W[oe].plotX,oe=W[oe].plotY,ve=(1.5*Le+ve.plotX)/2.5,_e=(1.5*oe+_e)/2.5,se=(1.5*Le+se)/2.5;var ye=(1.5*oe+fe)/2.5;fe=Math.sqrt(Math.pow(ve-Le,2)+Math.pow(_e-oe,2));const Ie=Math.sqrt(Math.pow(se-Le,2)+Math.pow(ye-oe,2));return ve=Math.atan2(_e-oe,ve-Le),ye=Math.PI/2+(ve+Math.atan2(ye-oe,se-Le))/2,Math.abs(ve-ye)>Math.PI/2&&(ye-=Math.PI),ve=Le+Math.cos(ye)*fe,_e=oe+Math.sin(ye)*fe,se=Le+Math.cos(Math.PI+ye)*Ie,ye=oe+Math.sin(Math.PI+ye)*Ie,Le={rightContX:se,rightContY:ye,leftContX:ve,leftContY:_e,plotX:Le,plotY:oe},ue&&(Le.prevPointCont=z(W,le,!1,xe)),Le}function ie(){(this.pane||[]).forEach(W=>{W.render()})}function G(W){const le=W.args[0].xAxis,ue=W.args[0].yAxis;W=W.args[0].chart,le&&ue&&(ue.gridLineInterpolation==="polygon"?(le.startOnTick=!0,le.endOnTick=!0):le.gridLineInterpolation==="polygon"&&W.inverted&&(ue.startOnTick=!0,ue.endOnTick=!0))}function q(){this.pane||(this.pane=[]),this.options.pane=ae(this.options.pane),this.options.pane.forEach(W=>{new y(W,this)},this)}function Z(W){var le=W.args.marker,ue=this.chart.xAxis[0],xe=this.chart.yAxis[0],Le=this.chart.inverted;const oe=Le?xe:ue;if(ue=Le?ue:xe,this.chart.polar){W.preventDefault(),xe=(le.attr?le.attr("start"):le.start)-oe.startAngleRad,Le=le.attr?le.attr("r"):le.r;let ve=(le.attr?le.attr("end"):le.end)-oe.startAngleRad;le=le.attr?le.attr("innerR"):le.innerR,W.result.x=xe+oe.pos,W.result.width=ve-xe,W.result.y=ue.len+ue.pos-le,W.result.height=le-Le}}function F(W){var le=this.chart;if(le.polar&&le.hoverPane&&le.hoverPane.axis){W.preventDefault();var ue=le.hoverPane.center,xe=this.mouseDownX||0;const Ue=this.mouseDownY||0;var Le=W.args.chartY;const st=W.args.chartX;var oe=2*Math.PI,ve=le.hoverPane.axis.startAngleRad,_e=le.hoverPane.axis.endAngleRad,se=le.inverted?le.xAxis[0]:le.yAxis[0];const it={};var fe="arc";if(it.x=ue[0]+le.plotLeft,it.y=ue[1]+le.plotTop,this.zoomHor){var ye=0<ve?_e-ve:Math.abs(ve)+Math.abs(_e),Ie=Math.atan2(Ue-le.plotTop-ue[1],xe-le.plotLeft-ue[0])-ve,ke=Math.atan2(Le-le.plotTop-ue[1],st-le.plotLeft-ue[0])-ve;if(it.r=ue[2]/2,it.innerR=ue[3]/2,0>=Ie&&(Ie+=oe),0>=ke&&(ke+=oe),ke<Ie&&(ke=[Ie,Ie=ke][0]),ye<oe&&ve+ke>_e+(oe-ye)/2&&(ke=Ie,Ie=0>=ve?ve:0),oe=it.start=Math.max(Ie+ve,ve),ye=it.end=Math.min(ke+ve,_e),se.options.gridLineInterpolation==="polygon"){if(fe=le.hoverPane.axis,ke=oe-fe.startAngleRad+fe.pos,Ie=ye-oe,oe=se.getPlotLinePath({value:se.max}),ye=fe.toValue(ke),ke=fe.toValue(ke+Ie),ye<fe.getExtremes().min){const{min:ht,max:Ae}=fe.getExtremes();ye=Ae-(ht-ye)}if(ke<fe.getExtremes().min){const{min:ht,max:Ae}=fe.getExtremes();ke=Ae-(ht-ke)}ke<ye&&(ke=[ye,ye=ke][0]),oe=D(oe,ye,ke,fe),oe.push(["L",ue[0]+le.plotLeft,le.plotTop+ue[1]]),it.d=oe,fe="path"}}this.zoomVert&&(ke=le.inverted?le.xAxis[0]:le.yAxis[0],xe=Math.sqrt(Math.pow(xe-le.plotLeft-ue[0],2)+Math.pow(Ue-le.plotTop-ue[1],2)),Le=Math.sqrt(Math.pow(st-le.plotLeft-ue[0],2)+Math.pow(Le-le.plotTop-ue[1],2)),Le<xe&&(xe=[Le,Le=xe][0]),Le>ue[2]/2&&(Le=ue[2]/2),xe<ue[3]/2&&(xe=ue[3]/2),this.zoomHor||(it.start=ve,it.end=_e),it.r=Le,it.innerR=xe,ke.options.gridLineInterpolation==="polygon"&&(ue=ke.toValue(ke.len+ke.pos-xe),ve=ke.toValue(ke.len+ke.pos-Le),ue=ke.getPlotLinePath({value:ve}).concat(ke.getPlotLinePath({value:ue,reverse:!0})),it.d=ue,fe="path")),this.zoomHor&&this.zoomVert&&se.options.gridLineInterpolation==="polygon"&&(ue=le.hoverPane.axis,se=it.start||0,ve=se-ue.startAngleRad+ue.pos,_e=(it.end||0)-se,se=ue.toValue(ve),ue=ue.toValue(ve+_e),it.d instanceof Array&&(ve=it.d.slice(0,it.d.length/2),_e=it.d.slice(it.d.length/2,it.d.length),_e=[..._e].reverse(),le=le.hoverPane.axis,ve=D(ve,se,ue,le),(_e=D(_e,se,ue,le))&&(_e[0][0]="L"),_e=[..._e].reverse(),it.d=ve.concat(_e),fe="path")),W.attrs=it,W.shapeType=fe}}function U(){const W=this.chart;W.polar&&(this.polar=new Pe(this),W.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function re(){if(this.chart.polar&&this.xAxis){const{xAxis:W,yAxis:le}=this,ue=this.chart;(this.kdByAngle=ue.tooltip&&ue.tooltip.shared)?this.searchPoint=R:this.options.findNearestPointBy="xy";const xe=this.points;let Le=xe.length;for(;Le--;)this.is("column")||this.is("columnrange")||this.polar.toXY(xe[Le]),ue.hasParallelCoordinates||this.yAxis.reversed||(O(xe[Le].y,Number.MIN_VALUE)<le.min||xe[Le].x<W.min||xe[Le].x>W.max?(xe[Le].isNull=!0,xe[Le].plotY=NaN):xe[Le].isNull=xe[Le].isValid&&!xe[Le].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(P(this,"afterRender",function(){if(ue.polar){var oe=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:oe[0],y:oe[1],r:oe[2]/2,innerR:oe[3]/2});else{{var ve=ue.renderer,_e=oe[0],se=oe[1],fe=oe[2]/2,ye=oe[3]/2;oe=K();const Ie=ve.createElement("clipPath").attr({id:oe}).add(ve.defs);ve=ye?ve.arc(_e,se,fe,ye,0,2*Math.PI).add(Ie):ve.circle(_e,se,fe).add(Ie),ve.id=oe,ve.clipPath=Ie}this.clipCircle=ve}this.group.clip(this.clipCircle),this.setClip=h.noop}})))}}function R(W){const le=this.chart;var ue=this.xAxis;return ue=ue.pane&&ue.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(W.chartX-(ue&&ue[0]||0)-le.plotLeft,W.chartY-(ue&&ue[1]||0)-le.plotTop)})}function D(W,le,ue,xe){const Le=xe.tickInterval;xe=xe.tickPositions;let oe=_(xe,_e=>_e>=ue),ve=_([...xe].reverse(),_e=>_e<=le);return L(oe)||(oe=xe[xe.length-1]),L(ve)||(ve=xe[0],oe+=Le,W[0][0]="L",W.unshift(W[W.length-3])),W=W.slice(xe.indexOf(ve),xe.indexOf(oe)+1),W[0][0]="M",W}function N(W,le){return _(this.pane||[],function(ue){return ue.options.id===le})||W.call(this,le)}function $(W,le,ue,xe,Le,oe){const ve=this.chart;var _e=O(xe.inside,!!this.options.stacking);ve.polar?(W=le.rectPlotX/Math.PI*180,ve.inverted?(this.forceDL=ve.isInsidePlot(le.plotX,le.plotY),_e&&le.shapeArgs?(_e=le.shapeArgs,_e=this.yAxis.postTranslate(((_e.start||0)+(_e.end||0))/2-this.xAxis.startAngleRad,le.barX+le.pointWidth/2),Le=M(Le,{x:_e.x-ve.plotLeft,y:_e.y-ve.plotTop})):le.tooltipPos&&(Le=M(Le,{x:le.tooltipPos[0],y:le.tooltipPos[1]})),xe.align=O(xe.align,"center"),xe.verticalAlign=O(xe.verticalAlign,"middle")):(xe.align===null&&(xe.align=20<W&&160>W?"left":200<W&&340>W?"right":"center"),xe.verticalAlign===null&&(xe.verticalAlign=45>W||315<W?"bottom":135<W&&225>W?"top":"middle")),u.prototype.alignDataLabel.call(this,le,ue,xe,Le,oe),this.isRadialBar&&le.shapeArgs&&le.shapeArgs.start===le.shapeArgs.end?ue.hide():ue.show()):W.call(this,le,ue,xe,Le,oe)}function j(){const W=this.options,le=W.stacking,ue=this.chart;var xe=this.xAxis;const Le=this.yAxis,oe=Le.reversed,ve=Le.center,_e=xe.startAngleRad,se=xe.endAngleRad-_e;let fe=0,ye,Ie,ke,Ue=0;var st=0;if(xe.isRadial){xe=this.points,ye=xe.length,Ie=Le.translate(Le.min),ke=Le.translate(Le.max);var it=W.threshold||0;for(ue.inverted&&v(it)&&(fe=Le.translate(it),L(fe)&&(0>fe?fe=0:fe>se&&(fe=se),this.translatedThreshold=fe+_e));ye--;){it=xe[ye];var ht=it.barX,Ae=it.x,ze=it.y;if(it.shapeType="arc",ue.inverted){it.plotY=Le.translate(ze),le&&Le.stacking?(ze=Le.stacking.stacks[(0>ze?"-":"")+this.stackKey],this.visible&&ze&&ze[Ae]&&!it.isNull&&(st=ze[Ae].points[this.getStackIndicator(void 0,Ae,this.index).key],Ue=Le.translate(st[0]),st=Le.translate(st[1]),L(Ue)&&(Ue=w.clamp(Ue,0,se)))):(Ue=fe,st=it.plotY),Ue>st&&(st=[Ue,Ue=st][0]),oe?st>Ie?st=Ie:Ue<ke?Ue=ke:(Ue>Ie||st<ke)&&(Ue=st=se):Ue<Ie?Ue=Ie:st>ke?st=ke:(st<Ie||Ue>ke)&&(Ue=st=0),Le.min>Le.max&&(Ue=st=oe?se:0),Ue+=_e,st+=_e,ve&&(it.barX=ht+=ve[3]/2),Ae=Math.max(ht,0),ze=Math.max(ht+it.pointWidth,0);var je=W.borderRadius;je=ee((typeof je=="object"?je.radius:je)||0,ze-Ae),it.shapeArgs={x:ve[0],y:ve[1],r:ze,innerR:Ae,start:Ue,end:st,borderRadius:je},it.opacity=Ue===st?0:void 0,it.plotY=(L(this.translatedThreshold)&&(Ue<this.translatedThreshold?Ue:st))-_e}else Ue=ht+_e,it.shapeArgs=this.polar.arc(it.yBottom,it.plotY,Ue,Ue+it.pointWidth),it.shapeArgs.borderRadius=0;this.polar.toXY(it),ue.inverted?(ht=Le.postTranslate(it.rectPlotY,ht+it.pointWidth/2),it.tooltipPos=[ht.x-ue.plotLeft,ht.y-ue.plotTop]):it.tooltipPos=[it.plotX,it.plotY],ve&&(it.ttBelow=it.plotY>ve[1])}}}function S(W,le){const ue=this;let xe;if(this.chart.polar){le=le||this.points;for(let oe=0;oe<le.length;oe++)if(!le[oe].isNull){var Le=oe;break}this.options.connectEnds!==!1&&typeof Le<"u"&&(this.connectEnds=!0,le.splice(le.length,0,le[Le]),xe=!0),le.forEach(oe=>{typeof oe.polarPlotY>"u"&&ue.polar.toXY(oe)})}return Le=W.apply(this,[].slice.call(arguments,1)),xe&&le.pop(),Le}function te(W,le){const ue=this.chart;let xe={xAxis:[],yAxis:[]};return ue.polar?ue.axes.forEach(Le=>{if(Le.coll!=="colorAxis"){var oe=Le.isXAxis,ve=Le.center,_e=le.chartX-ve[0]-ue.plotLeft;ve=le.chartY-ve[1]-ue.plotTop,xe[oe?"xAxis":"yAxis"].push({axis:Le,value:Le.translate(oe?Math.PI-Math.atan2(_e,ve):Math.sqrt(Math.pow(_e,2)+Math.pow(ve,2)),!0)})}}):xe=W.call(this,le),xe}function Y(W,le){this.chart.polar||W.call(this,le)}function I(W,le){const ue=this,xe=this.chart,Le=this.group,oe=this.markerGroup,ve=this.xAxis&&this.xAxis.center,_e=xe.plotLeft,se=xe.plotTop;let fe=this.options.animation,ye,Ie,ke,Ue,st;xe.polar?ue.isRadialBar?le||(ue.startAngleRad=O(ue.translatedThreshold,ue.xAxis.startAngleRad),h.seriesTypes.pie.prototype.animate.call(ue,le)):(fe=X(fe),ue.is("column")?le||(ye=ve[3]/2,ue.points.forEach(it=>{Ie=it.graphic,Ue=(ke=it.shapeArgs)&&ke.r,st=ke&&ke.innerR,Ie&&ke&&(Ie.attr({r:ye,innerR:ye}),Ie.animate({r:Ue,innerR:st},ue.options.animation))})):le?(W={translateX:ve[0]+_e,translateY:ve[1]+se,scaleX:.001,scaleY:.001},Le.attr(W),oe&&oe.attr(W)):(W={translateX:_e,translateY:se,scaleX:1,scaleY:1},Le.animate(W,fe),oe&&oe.animate(W,fe))):W.call(this,le)}function V(W,le,ue,xe){return this.chart.polar?xe?(W=z(le,xe,!0,this.connectEnds),le=W.prevPointCont&&W.prevPointCont.rightContX,ue=W.prevPointCont&&W.prevPointCont.rightContY,W=["C",v(le)?le:W.plotX,v(ue)?ue:W.plotY,v(W.leftContX)?W.leftContX:W.plotX,v(W.leftContY)?W.leftContY:W.plotY,W.plotX,W.plotY]):W=["M",ue.plotX,ue.plotY]:W=W.call(this,le,ue,xe),W}const{animObject:X}=l,{addEvent:P,defined:L,find:_,isNumber:v,merge:M,pick:O,relativeLength:ee,splat:ae,uniqueKey:K,wrap:pe}=w,Me=[];class Pe{static compose(le,ue,xe,Le,oe,ve,_e,se,fe){n.compose(le,oe),w.pushUnique(Me,ue)&&(P(ue,"afterDrawChartBox",ie),P(ue,"getAxes",q),P(ue,"init",G),pe(ue.prototype,"get",N)),w.pushUnique(Me,xe)&&(le=xe.prototype,pe(le,"getCoordinates",te),pe(le,"pinch",Y),P(xe,"getSelectionMarkerAttrs",F),P(xe,"getSelectionBox",Z)),w.pushUnique(Me,Le)&&(P(Le,"afterInit",U),P(Le,"afterTranslate",re,{order:2}),P(Le,"afterColumnTranslate",j,{order:4}),pe(Le.prototype,"animate",I)),_e&&w.pushUnique(Me,_e)&&(xe=_e.prototype,pe(xe,"alignDataLabel",$),pe(xe,"animate",I)),se&&w.pushUnique(Me,se)&&pe(se.prototype,"getGraphPath",S),fe&&w.pushUnique(Me,fe)&&(se=fe.prototype,pe(se,"getPointSpline",V),ve&&w.pushUnique(Me,ve)&&(ve.prototype.getPointSpline=se.getPointSpline))}constructor(le){this.series=le}arc(le,ue,xe,Le){const oe=this.series,ve=oe.xAxis.center,_e=oe.yAxis.len,se=ve[3]/2;return ue=_e-ue+se,le=_e-O(le,_e)+se,oe.yAxis.reversed&&(0>ue&&(ue=se),0>le&&(le=se)),{x:ve[0],y:ve[1],r:ue,innerR:le,start:xe,end:Le}}toXY(le){var ue=this.series;const xe=ue.chart,Le=ue.xAxis;var oe=ue.yAxis;const ve=le.plotX,_e=xe.inverted,se=le.y;let fe=le.plotY,ye=_e?ve:oe.len-fe;_e&&ue&&!ue.isRadialBar&&(le.plotY=fe=v(se)?oe.translate(se):0),le.rectPlotX=ve,le.rectPlotY=fe,oe.center&&(ye+=oe.center[3]/2),v(fe)&&(oe=_e?oe.postTranslate(fe,ye):Le.postTranslate(ve,ye),le.plotX=le.polarPlotX=oe.x-xe.plotLeft,le.plotY=le.polarPlotY=oe.y-xe.plotTop),ue.kdByAngle?(ue=(ve/Math.PI*180+Le.pane.options.startAngle)%360,0>ue&&(ue+=360),le.clientX=ue):le.clientX=le.plotX}}return Pe}),s(i,"masters/highcharts-more.src.js",[i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Series/Bubble/BubbleSeries.js"],i["Series/PackedBubble/PackedBubbleSeries.js"],i["Series/PolarComposition.js"]],function(l,h,u,y,n){u.compose(l.Axis,l.Chart,l.Legend,l.Series),y.compose(l.Axis,l.Chart,l.Legend,l.Series),n.compose(l.Axis,l.Chart,l.Pointer,l.Series,l.Tick,h.seriesTypes.areasplinerange,h.seriesTypes.column,h.seriesTypes.line,h.seriesTypes.spline)})})})(vj);const x4=Nw;x4(Wh);const bj={components:{highcharts:D1.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var i=e.series[0].points[0],s,l=Math.round((Math.random()-.5)*20);s=i.y+l,(s<0||s>200)&&(s=i.y-l),i.update(s)},3e3)}},data(){return{chartOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:"Speed",y:150},plotBands:[{from:0,to:4,color:"#576D7E",thickness:40},{from:4,to:8,color:"#34485C",thickness:40},{from:8,to:12,color:"#60C5B8",thickness:40},{from:12,to:16,color:"#25B39E",thickness:40},{from:16,to:20,color:"#FCD062",thickness:40},{from:20,to:24,color:"#F8B84E",thickness:40},{from:24,to:28,color:"#F17F53",thickness:40},{from:28,to:32,color:"#F05542",thickness:40}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]},chartOptions2:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:"Wind Speed",y:150},plotBands:[{from:0,to:4,color:"#576D7E",thickness:40},{from:4,to:8,color:"#34485C",thickness:40},{from:8,to:12,color:"#60C5B8",thickness:40},{from:12,to:16,color:"#25B39E",thickness:40},{from:16,to:20,color:"#FCD062",thickness:40},{from:20,to:24,color:"#F8B84E",thickness:40},{from:24,to:28,color:"#F17F53",thickness:40},{from:28,to:32,color:"#F05542",thickness:40}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]},chartOptions3:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:"RPM",y:150},plotBands:[{from:0,to:4,color:"#576D7E",thickness:40},{from:4,to:8,color:"#34485C",thickness:40},{from:8,to:12,color:"#60C5B8",thickness:40},{from:12,to:16,color:"#25B39E",thickness:40},{from:16,to:20,color:"#FCD062",thickness:40},{from:20,to:24,color:"#F8B84E",thickness:40},{from:24,to:28,color:"#F17F53",thickness:40},{from:28,to:32,color:"#F05542",thickness:40}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]},chartOptions4:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:"Turbo Charger",y:150},plotBands:[{from:0,to:4,color:"#576D7E",thickness:40},{from:4,to:8,color:"#34485C",thickness:40},{from:8,to:12,color:"#60C5B8",thickness:40},{from:12,to:16,color:"#25B39E",thickness:40},{from:16,to:20,color:"#FCD062",thickness:40},{from:20,to:24,color:"#F8B84E",thickness:40},{from:24,to:28,color:"#F17F53",thickness:40},{from:28,to:32,color:"#F05542",thickness:40}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},wj={class:"row"},Tj={class:"col-3"},Sj={class:"col-3"},Ej={class:"col-3"},Mj={class:"col-3"};function Cj(e,i,s,l,h,u){const y=xo("highcharts");return nn(),mn("div",wj,[Vt("div",Tj,[wn(y,{options:h.chartOptions,callback:u.chartCallback},null,8,["options","callback"])]),Vt("div",Sj,[wn(y,{options:h.chartOptions2,callback:u.chartCallback},null,8,["options","callback"])]),Vt("div",Ej,[wn(y,{options:h.chartOptions3,callback:u.chartCallback},null,8,["options","callback"])]),Vt("div",Mj,[wn(y,{options:h.chartOptions4,callback:u.chartCallback},null,8,["options","callback"])])])}const Aj=Xa(bj,[["render",Cj]]);x4(Wh);const kj={components:{highcharts:D1.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var i=e.series[0].points[0],s,l=Math.round((Math.random()-.5)*20);s=i.y+l,(s<0||s>200)&&(s=i.y-l),i.update(s)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10,enabled:!1},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},id=e=>(xm("data-v-7c7fa323"),e=e(),vm(),e),Pj={class:"row"},Dj={class:"col position-relative"},Ij=id(()=>Vt("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HFO (KL)",-1)),Lj=id(()=>Vt("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"15.08 KL",-1)),Oj={class:"col position-relative"},Rj=id(()=>Vt("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total LS HFO (KL)",-1)),zj=id(()=>Vt("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.94",-1)),Bj={class:"col position-relative"},Fj=id(()=>Vt("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total MDO (KL)",-1)),Nj=id(()=>Vt("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"1.22",-1)),jj={class:"col position-relative"},Uj=id(()=>Vt("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HSD (KL)",-1)),Gj=id(()=>Vt("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.01",-1)),Vj={class:"col position-relative"},Wj=id(()=>Vt("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total (KL)",-1)),Hj=id(()=>Vt("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"21.25",-1));function $j(e,i,s,l,h,u){const y=xo("highcharts");return nn(),mn("div",Pj,[Vt("div",Dj,[wn(y,{options:h.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),Ij,Lj]),Vt("div",Oj,[wn(y,{options:h.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),Rj,zj]),Vt("div",Bj,[wn(y,{options:h.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),Fj,Nj]),Vt("div",jj,[wn(y,{options:h.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),Uj,Gj]),Vt("div",Vj,[wn(y,{options:h.fuelOptions,callback:u.chartCallback},null,8,["options","callback"]),Wj,Hj])])}const Xj=Xa(kj,[["render",$j],["__scopeId","data-v-7c7fa323"]]);var jw={},Yj={get exports(){return jw},set exports(e){jw=e}};(function(e){(function(i){e.exports?(i.default=i,e.exports=i):i(typeof Highcharts<"u"?Highcharts:void 0)})(function(i){function s(l,h,u,y){l.hasOwnProperty(h)||(l[h]=y.apply(null,u),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:l[h]}})))}i=i?i._modules:{},s(i,"Core/Axis/BrokenAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(l,h){const{addEvent:u,find:y,fireEvent:n,isArray:w,isNumber:z,pick:ie}=h;var G;return function(q){function Z(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function F(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function U(){const te=this.brokenAxis;if(te&&te.hasBreaks){const Y=this.tickPositions,I=this.tickPositions.info,V=[];for(let X=0;X<Y.length;X++)te.isInAnyBreak(Y[X])||V.push(Y[X]);this.tickPositions=V,this.tickPositions.info=I}}function re(){this.brokenAxis||(this.brokenAxis=new S(this))}function R(){const{isDirty:te,options:{connectNulls:Y},points:I,xAxis:V,yAxis:X}=this;if(te){let P=I.length;for(;P--;){const L=I[P],_=!(L.y===null&&Y===!1)&&(V&&V.brokenAxis&&V.brokenAxis.isInAnyBreak(L.x,!0)||X&&X.brokenAxis&&X.brokenAxis.isInAnyBreak(L.y,!0));L.visible=_?!1:L.options.visible!==!1}}}function D(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,ie(this.pointArrayMap,["y"]))}function N(te,Y){const I=this,V=I.points;let X,P,L,_;if(te&&te.brokenAxis&&te.brokenAxis.hasBreaks){const v=te.brokenAxis;Y.forEach(function(M){X=v&&v.breakArray||[],P=te.isXAxis?te.min:ie(I.options.threshold,te.min),V.forEach(function(O){_=ie(O["stack"+M.toUpperCase()],O[M]),X.forEach(function(ee){z(P)&&z(_)&&(L=!1,P<ee.from&&_>ee.to||P>ee.from&&_<ee.from?L="pointBreak":(P<ee.from&&_>ee.from&&_<ee.to||P>ee.from&&_>ee.to&&_<ee.from)&&(L="pointInBreak"),L&&n(te,L,{point:O,brk:ee}))})})})}}function $(){var te=this.currentDataGrouping,Y=te&&te.gapSize;te=this.points.slice();const I=this.yAxis;let V=this.options.gapSize,X=te.length-1;var P;if(V&&0<X)for(this.options.gapUnit!=="value"&&(V*=this.basePointRange),Y&&Y>V&&Y>=this.basePointRange&&(V=Y);X--;)P&&P.visible!==!1||(P=te[X+1]),Y=te[X],P.visible!==!1&&Y.visible!==!1&&(P.x-Y.x>V&&(P=(Y.x+P.x)/2,te.splice(X+1,0,{isNull:!0,x:P}),I.stacking&&this.options.stacking&&(P=I.stacking.stacks[this.stackKey][P]=new l(I,I.options.stackLabels,!1,P,this.stack),P.total=0)),P=Y);return this.getGraphPath(te)}const j=[];q.compose=function(te,Y){if(h.pushUnique(j,te)&&(te.keepProps.push("brokenAxis"),u(te,"init",re),u(te,"afterInit",Z),u(te,"afterSetTickPositions",U),u(te,"afterSetOptions",F)),h.pushUnique(j,Y)){const I=Y.prototype;I.drawBreaks=N,I.gappedPath=$,u(Y,"afterGeneratePoints",R),u(Y,"afterRender",D)}return te};class S{static isInBreak(Y,I){const V=Y.repeat||1/0,X=Y.from,P=Y.to-Y.from;return I=I>=X?(I-X)%V:V-(X-I)%V,Y.inclusive?I<=P:I<P&&I!==0}static lin2Val(Y){var I=this.brokenAxis;if(I=I&&I.breakArray,!I||!z(Y))return Y;let V,X;for(X=0;X<I.length&&(V=I[X],!(V.from>=Y));X++)(V.to<Y||S.isInBreak(V,Y))&&(Y+=V.len);return Y}static val2Lin(Y){var I=this.brokenAxis;if(I=I&&I.breakArray,!I||!z(Y))return Y;let V=Y,X,P;for(P=0;P<I.length;P++)if(X=I[P],X.to<=Y)V-=X.len;else{if(X.from>=Y)break;if(S.isInBreak(X,Y)){V-=Y-X.from;break}}return V}constructor(Y){this.hasBreaks=!1,this.axis=Y}findBreakAt(Y,I){return y(I,function(V){return V.from<Y&&Y<V.to})}isInAnyBreak(Y,I){const V=this.axis,X=V.options.breaks||[];let P=X.length,L,_,v;if(P&&z(Y)){for(;P--;)S.isInBreak(X[P],Y)&&(L=!0,_||(_=ie(X[P].showPoints,!V.isXAxis)));v=L&&I?L&&!_:L}return v}setBreaks(Y,I){const V=this,X=V.axis,P=w(Y)&&!!Y.length;X.isDirty=V.hasBreaks!==P,V.hasBreaks=P,X.options.breaks=X.userOptions.breaks=Y,X.forceRedraw=!0,X.series.forEach(function(L){L.isDirty=!0}),P||X.val2lin!==S.val2Lin||(delete X.val2lin,delete X.lin2val),P&&(X.userOptions.ordinal=!1,X.lin2val=S.lin2Val,X.val2lin=S.val2Lin,X.setExtremes=function(L,_,v,M,O){if(V.hasBreaks){const ee=this.options.breaks||[];let ae;for(;ae=V.findBreakAt(L,ee);)L=ae.to;for(;ae=V.findBreakAt(_,ee);)_=ae.from;_<L&&(_=L)}X.constructor.prototype.setExtremes.call(this,L,_,v,M,O)},X.setAxisTranslation=function(){if(X.constructor.prototype.setAxisTranslation.call(this),V.unitLength=void 0,V.hasBreaks){const L=X.options.breaks||[],_=[],v=[],M=ie(X.pointRangePadding,0);let O=0,ee,ae,K=X.userMin||X.min,pe=X.userMax||X.max,Me,Pe;L.forEach(function(W){ae=W.repeat||1/0,z(K)&&z(pe)&&(S.isInBreak(W,K)&&(K+=W.to%ae-K%ae),S.isInBreak(W,pe)&&(pe-=pe%ae-W.from%ae))}),L.forEach(function(W){if(Me=W.from,ae=W.repeat||1/0,z(K)&&z(pe)){for(;Me-ae>K;)Me-=ae;for(;Me<K;)Me+=ae;for(Pe=Me;Pe<pe;Pe+=ae)_.push({value:Pe,move:"in"}),_.push({value:Pe+W.to-W.from,move:"out",size:W.breakSize})}}),_.sort(function(W,le){return W.value===le.value?(W.move==="in"?0:1)-(le.move==="in"?0:1):W.value-le.value}),ee=0,Me=K,_.forEach(function(W){ee+=W.move==="in"?1:-1,ee===1&&W.move==="in"&&(Me=W.value),ee===0&&z(Me)&&(v.push({from:Me,to:W.value,len:W.value-Me-(W.size||0)}),O+=W.value-Me-(W.size||0))}),V.breakArray=v,z(K)&&z(pe)&&z(X.min)&&(V.unitLength=pe-K-O+M,n(X,"afterBreaks"),X.staticScale?X.transA=X.staticScale:V.unitLength&&(X.transA*=(pe-X.min+M)/V.unitLength),M&&(X.minPixelPadding=X.transA*(X.minPointOffset||0)),X.min=K,X.max=pe)}}),ie(I,!0)&&X.chart.redraw()}}q.Additions=S}(G||(G={})),G}),s(i,"masters/modules/broken-axis.src.js",[i["Core/Globals.js"],i["Core/Axis/BrokenAxis.js"]],function(l,h){h.compose(l.Axis,l.Series)}),s(i,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),s(i,"Extensions/DataGrouping/ApproximationDefaults.js",[i["Extensions/DataGrouping/ApproximationRegistry.js"],i["Core/Utilities.js"]],function(l,h){function u(q){const Z=q.length;return q=y(q),G(q)&&Z&&(q=z(q/Z)),q}function y(q){let Z=q.length,F;if(!Z&&q.hasNulls)F=null;else if(Z)for(F=0;Z--;)F+=q[Z];return F}const{arrayMax:n,arrayMin:w,correctFloat:z,extend:ie,isNumber:G}=h;return h={average:u,averages:function(){const q=[];return[].forEach.call(arguments,function(Z){q.push(u(Z))}),typeof q[0]>"u"?void 0:q},close:function(q){return q.length?q[q.length-1]:q.hasNulls?null:void 0},high:function(q){return q.length?n(q):q.hasNulls?null:void 0},hlc:function(q,Z,F){if(q=l.high(q),Z=l.low(Z),F=l.close(F),G(q)||G(Z)||G(F))return[q,Z,F]},low:function(q){return q.length?w(q):q.hasNulls?null:void 0},ohlc:function(q,Z,F,U){if(q=l.open(q),Z=l.high(Z),F=l.low(F),U=l.close(U),G(q)||G(Z)||G(F)||G(U))return[q,Z,F,U]},open:function(q){return q.length?q[0]:q.hasNulls?null:void 0},range:function(q,Z){if(q=l.low(q),Z=l.high(Z),G(q)||G(Z))return[q,Z];if(q===null&&Z===null)return null},sum:y},ie(l,h),h}),s(i,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),s(i,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[i["Extensions/DataGrouping/DataGroupingDefaults.js"],i["Core/Utilities.js"]],function(l,h){function u(U){const re=this,R=re.series;R.forEach(function(D){D.groupPixelWidth=void 0}),R.forEach(function(D){D.groupPixelWidth=re.getGroupPixelWidth&&re.getGroupPixelWidth(),D.groupPixelWidth&&(D.hasProcessed=!0),D.applyGrouping(!!U.hasExtremesChanged)})}function y(){const U=this.series;let re=U.length,R=0,D=!1,N,$;for(;re--;)($=U[re].options.dataGrouping)&&(R=Math.max(R,q($.groupPixelWidth,l.common.groupPixelWidth)),N=(U[re].processedXData||U[re].data).length,(U[re].groupPixelWidth||N>this.chart.plotSizeX/R||N&&$.forced)&&(D=!0));return D?R:0}function n(){this.series.forEach(function(U){U.hasProcessed=!1})}function w(U,re){let R;if(re=q(re,!0),U||(U={forced:!1,units:null}),this instanceof F)for(R=this.series.length;R--;)this.series[R].update({dataGrouping:U},!1);else this.chart.options.series.forEach(function(D){D.dataGrouping=typeof U=="boolean"?U:G(U,D.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),re&&this.chart.redraw()}const{addEvent:z,extend:ie,merge:G,pick:q}=h,Z=[];let F;return{compose:function(U){F=U,h.pushUnique(Z,U)&&(z(U,"afterSetScale",n),z(U,"postProcessData",u),ie(U.prototype,{applyGrouping:u,getGroupPixelWidth:y,setDataGrouping:w}))}}}),s(i,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[i["Extensions/DataGrouping/ApproximationRegistry.js"],i["Extensions/DataGrouping/DataGroupingDefaults.js"],i["Core/Axis/DateTimeAxis.js"],i["Core/Defaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y,n,w){function z(I){var V=this.chart,X=this.options.dataGrouping,P=this.allowDG!==!1&&X&&S(X.enabled,V.options.isStock),L=this.visible||!V.options.chart.ignoreHiddenSeries;const _=this.currentDataGrouping;var v=!1;if(P&&!this.requireSorting&&(this.requireSorting=v=!0),I=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!I)||!P,v&&(this.requireSorting=!1),!I){this.destroyGroupedData(),I=X.groupAll?this.xData:this.processedXData,P=X.groupAll?this.yData:this.processedYData;var M=V.plotSizeX;v=this.xAxis;var O=v.options.ordinal,ee=this.groupPixelWidth,ae;let ue;if(ee&&I&&I.length&&M){this.isDirty=ue=!0,this.points=null;var K=v.getExtremes(),pe=K.min;K=K.max,O=O&&v.ordinal&&v.ordinal.getGroupIntervalFactor(pe,K,this)||1,M=v.getTimeTicks(u.Additions.prototype.normalizeTimeTickInterval(ee*(K-pe)/M*O,X.units||h.units),Math.min(pe,I[0]),Math.max(K,I[I.length-1]),v.options.startOfWeek,I,this.closestPointRange),ee=U.groupData.apply(this,[I,P,M,X.approximation]),I=ee.groupedXData,P=ee.groupedYData,O=0,X&&X.smoothed&&I.length&&(X.firstAnchor="firstPoint",X.anchor="middle",X.lastAnchor="lastPoint",D(32,!1,V,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),V=I;var Me=K,Pe=this.options.dataGrouping;if(K=this.currentDataGrouping&&this.currentDataGrouping.gapSize,Pe&&this.xData&&K&&this.groupMap){pe=V.length-1;var W=Pe.anchor;const xe=S(Pe.firstAnchor,W);if(Pe=S(Pe.lastAnchor,W),W&&W!=="start"){var le=K*{middle:.5,end:1}[W];for(W=V.length-1;W--&&0<W;)V[W]+=le}xe&&xe!=="start"&&this.xData[0]>=V[0]&&(W=this.groupMap[0].start,le=this.groupMap[0].length,$(W)&&$(le)&&(ae=W+(le-1)),V[0]={middle:V[0]+.5*K,end:V[0]+K,firstPoint:this.xData[0],lastPoint:ae&&this.xData[ae]}[xe]),Pe&&Pe!=="start"&&K&&V[pe]>=Me-K&&(ae=this.groupMap[this.groupMap.length-1].start,V[pe]={middle:V[pe]+.5*K,end:V[pe]+K,firstPoint:ae&&this.xData[ae],lastPoint:this.xData[this.xData.length-1]}[Pe])}for(ae=1;ae<M.length;ae++)M.info.segmentStarts&&M.info.segmentStarts.indexOf(ae)!==-1||(O=Math.max(M[ae]-M[ae-1],O));K=M.info,K.gapSize=O,this.closestPointRange=M.info.totalRange,this.groupMap=ee.groupMap,L&&(L=v,ae=I,R(ae[0])&&$(L.min)&&$(L.dataMin)&&ae[0]<L.min&&((!R(L.options.min)&&L.min<=L.dataMin||L.min===L.dataMin)&&(L.min=Math.min(ae[0],L.min)),L.dataMin=Math.min(ae[0],L.dataMin)),R(ae[ae.length-1])&&$(L.max)&&$(L.dataMax)&&ae[ae.length-1]>L.max&&((!R(L.options.max)&&$(L.dataMax)&&L.max>=L.dataMax||L.max===L.dataMax)&&(L.max=Math.max(ae[ae.length-1],L.max)),L.dataMax=Math.max(ae[ae.length-1],L.dataMax))),X.groupAll&&(this.allGroupedData=P,X=this.cropData(I,P,v.min,v.max,1),I=X.xData,P=X.yData,this.cropStart=X.start),this.processedXData=I,this.processedYData=P}else this.groupMap=null;this.hasGroupedData=ue,this.currentDataGrouping=K,this.preventGraphAnimation=(_&&_.totalRange)!==(K&&K.totalRange)}}function ie(){this.groupedData&&(this.groupedData.forEach(function(I,V){I&&(this.groupedData[V]=I.destroy?I.destroy():null)},this),this.groupedData.length=0)}function G(){te.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function q(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function Z(I,V,X,P){const L=this,_=L.data,v=L.options&&L.options.data,M=[],O=[],ee=[],ae=I.length,K=!!V,pe=[],Me=L.pointArrayMap,Pe=Me&&Me.length,W=["x"].concat(Me||["y"]),le=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let ue=0,xe=0;if(P=typeof P=="function"?P:P&&l[P]?l[P]:l[L.getDGApproximation&&L.getDGApproximation()||"average"],Pe)for(var Le=Me.length;Le--;)pe.push([]);else pe.push([]);Le=Pe||1;for(let _e=0;_e<=ae;_e++)if(!(I[_e]<X[0])){for(;typeof X[ue+1]<"u"&&I[_e]>=X[ue+1]||_e===ae;){var oe=X[ue];L.dataGroupInfo={start:le?xe:L.cropStart+xe,length:pe[0].length};var ve=P.apply(L,pe);for(L.pointClass&&!R(L.dataGroupInfo.options)&&(L.dataGroupInfo.options=j(L.pointClass.prototype.optionsToObject.call({series:L},L.options.data[L.cropStart+xe])),W.forEach(function(se){delete L.dataGroupInfo.options[se]})),typeof ve<"u"&&(M.push(oe),O.push(ve),ee.push(L.dataGroupInfo)),xe=_e,oe=0;oe<Le;oe++)pe[oe].length=0,pe[oe].hasNulls=!1;if(ue+=1,_e===ae)break}if(_e===ae)break;if(Me){oe=L.options.dataGrouping&&L.options.dataGrouping.groupAll?_e:L.cropStart+_e,oe=_&&_[oe]||L.pointClass.prototype.applyOptions.apply({series:L},[v[oe]]);for(let se=0;se<Pe;se++)ve=oe[Me[se]],$(ve)?pe[se].push(ve):ve===null&&(pe[se].hasNulls=!0)}else oe=K?V[_e]:null,$(oe)?pe[0].push(oe):oe===null&&(pe[0].hasNulls=!0)}return{groupedXData:M,groupedYData:O,groupMap:ee}}function F(I){I=I.options;const V=this.type,X=this.chart.options.plotOptions,P=this.useCommonDataGrouping&&h.common,L=h.seriesSpecific;let _=y.defaultOptions.plotOptions[V].dataGrouping;if(X&&(L[V]||P)){const v=this.chart.rangeSelector;_||(_=j(h.common,L[V])),I.dataGrouping=j(P,_,X.series&&X.series.dataGrouping,X[V].dataGrouping,this.userOptions.dataGrouping,!I.isInternal&&v&&$(v.selected)&&v.buttonOptions[v.selected].dataGrouping)}}const{series:{prototype:U}}=n,{addEvent:re,defined:R,error:D,extend:N,isNumber:$,merge:j,pick:S}=w,te=U.generatePoints,Y=[];return{compose:function(I){const V=I.prototype.pointClass;w.pushUnique(Y,V)&&re(V,"update",function(){if(this.dataGroup)return D(24,!1,this.series.chart),!1}),w.pushUnique(Y,I)&&(re(I,"afterSetOptions",F),re(I,"destroy",ie),N(I.prototype,{applyGrouping:z,destroyGroupedData:ie,generatePoints:G,getDGApproximation:q,groupData:Z}))},groupData:Z}}),s(i,"Extensions/DataGrouping/DataGrouping.js",[i["Extensions/DataGrouping/DataGroupingAxisComposition.js"],i["Extensions/DataGrouping/DataGroupingDefaults.js"],i["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],function(l,h,u,y,n){function w(F){const U=this.chart,re=U.time,R=F.labelConfig,D=R.series;var N=D.tooltipOptions,$=D.options.dataGrouping;const j=D.xAxis;var S=N.xDateFormat;let te,Y,I=N[F.isFooter?"footerFormat":"headerFormat"];j&&j.options.type==="datetime"&&$&&q(R.key)&&(Y=D.currentDataGrouping,$=$.dateTimeLabelFormats||h.common.dateTimeLabelFormats,Y?(N=$[Y.unitName],Y.count===1?S=N[0]:(S=N[1],te=N[2])):!S&&$&&j.dateTime&&(S=j.dateTime.getXDateFormat(R.x,N.dateTimeLabelFormats)),S=re.dateFormat(S,R.key),te&&(S+=re.dateFormat(te,R.key+Y.totalRange-1)),D.chart.styledMode&&(I=this.styledModeFormat(I)),F.text=z(I,{point:G(R.point,{key:S}),series:D},U),F.preventDefault())}const{format:z}=y,{addEvent:ie,extend:G,isNumber:q}=n,Z=[];return y={compose:function(F,U,re){l.compose(F),u.compose(U),re&&n.pushUnique(Z,re)&&ie(re,"headerFormatter",w)},groupData:u.groupData},y}),s(i,"masters/modules/datagrouping.src.js",[i["Core/Globals.js"],i["Extensions/DataGrouping/ApproximationDefaults.js"],i["Extensions/DataGrouping/ApproximationRegistry.js"],i["Extensions/DataGrouping/DataGrouping.js"]],function(l,h,u,y){l.dataGrouping={approximationDefaults:h,approximations:u},y.compose(l.Axis,l.Series,l.Tooltip)}),s(i,"Series/DataModifyComposition.js",[i["Core/Axis/Axis.js"],i["Core/Series/Point.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],function(l,h,u,y){const{prototype:{tooltipFormatter:n}}=h,{addEvent:w,arrayMax:z,arrayMin:ie,correctFloat:G,defined:q,isArray:Z,isNumber:F,isString:U,pick:re}=y;var R;return function(D){function N(_,v,M){this.isXAxis||(this.series.forEach(function(O){_==="compare"&&typeof v!="boolean"?O.setCompare(v,!1):_!=="cumulative"||U(v)||O.setCumulative(v,!1)}),re(M,!0)&&this.chart.redraw())}function $(_){const v=this,{numberFormatter:M}=v.series.chart,O=function(ee){_=_.replace("{point."+ee+"}",(0<v[ee]&&ee==="change"?"+":"")+M(v[ee],re(v.series.tooltipOptions.changeDecimals,2)))};return q(v.change)&&O("change"),q(v.cumulativeSum)&&O("cumulativeSum"),n.apply(this,[_])}function j(){const _=this.options.compare;let v;(_==="percent"||_==="value"||this.options.cumulative)&&(v=new L(this),_==="percent"||_==="value"?v.initCompare(_):v.initCumulative()),this.dataModify=v}function S(_){_=_.dataExtremes;const v=_.activeYData;if(this.dataModify&&_){let M;this.options.compare?M=[this.dataModify.modifyValue(_.dataMin),this.dataModify.modifyValue(_.dataMax)]:this.options.cumulative&&Z(v)&&2<=v.length&&(M=L.getCumulativeExtremes(v)),M&&(_.dataMin=ie(M),_.dataMax=z(M))}}function te(_,v){this.options.compare=this.userOptions.compare=_,this.update({},re(v,!0)),!this.dataModify||_!=="value"&&_!=="percent"?this.points.forEach(M=>{delete M.change}):this.dataModify.initCompare(_)}function Y(){if(this.xAxis&&this.processedYData&&this.dataModify){const _=this.processedXData,v=this.processedYData,M=v.length,O=this.options.compareStart===!0?0:1;let ee=-1,ae;for(this.pointArrayMap&&(ee=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),ae=0;ae<M-O;ae++){const K=v[ae]&&-1<ee?v[ae][ee]:v[ae];if(F(K)&&K!==0&&_[ae+O]>=(this.xAxis.min||0)){this.dataModify.compareValue=K;break}}}}function I(_,v){this.setModifier("compare",_,v)}function V(_,v){_=re(_,!1),this.options.cumulative=this.userOptions.cumulative=_,this.update({},re(v,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(M=>{delete M.cumulativeSum})}function X(_,v){this.setModifier("cumulative",_,v)}const P=[];D.compose=function(_,v,M){if(y.pushUnique(P,_)){const O=_.prototype;O.setCompare=te,O.setCumulative=V,w(_,"afterInit",j),w(_,"afterGetExtremes",S),w(_,"afterProcessData",Y)}return y.pushUnique(P,v)&&(v=v.prototype,v.setCompare=I,v.setModifier=N,v.setCumulative=X),y.pushUnique(P,M)&&(M.prototype.tooltipFormatter=$),_};class L{constructor(v){this.series=v}modifyValue(){return 0}static getCumulativeExtremes(v){let M=1/0,O=-1/0;return v.reduce((ee,ae)=>(ae=ee+ae,M=Math.min(M,ae,ee),O=Math.max(O,ae,ee),ae)),[M,O]}initCompare(v){this.modifyValue=function(M,O){M===null&&(M=0);const ee=this.compareValue;return typeof M<"u"&&typeof ee<"u"?(M=v==="value"?M-ee:M/ee*100-(this.series.options.compareBase===100?0:100),typeof O<"u"&&(O=this.series.points[O])&&(O.change=M),M):0}}initCumulative(){this.modifyValue=function(v,M){if(v===null&&(v=0),v!==void 0&&M!==void 0){const O=0<M?this.series.points[M-1]:null;return O&&O.cumulativeSum&&(v=G(O.cumulativeSum+v)),(M=this.series.points[M])&&(M.cumulativeSum=v),v}return 0}}}D.Additions=L}(R||(R={})),R}),s(i,"Core/Axis/NavigatorAxisComposition.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(l,h){function u(){this.navigatorAxis||(this.navigatorAxis=new F(this))}function y(U){var re=this.chart.options,R=re.navigator;const D=this.navigatorAxis,N=re.chart.zooming.pinchType,$=re.rangeSelector;re=re.chart.zooming.type,this.isXAxis&&(R&&R.enabled||$&&$.enabled)&&(re==="y"?U.zoomed=!1:(!n&&re==="xy"||n&&N==="xy")&&this.options.range&&(R=D.previousZoom,ie(U.newMin)?D.previousZoom=[this.min,this.max]:R&&(U.newMin=R[0],U.newMax=R[1],D.previousZoom=void 0))),typeof U.zoomed<"u"&&U.preventDefault()}const{isTouchDevice:n}=l,{addEvent:w,correctFloat:z,defined:ie,isNumber:G,pick:q}=h,Z=[];class F{static compose(re){h.pushUnique(Z,re)&&(re.keepProps.push("navigatorAxis"),w(re,"init",u),w(re,"zoom",y))}constructor(re){this.axis=re}destroy(){this.axis=void 0}toFixedRange(re,R,D,N){var $=this.axis,j=$.chart;re=q(D,$.translate(re,!0,!$.horiz)),R=q(N,$.translate(R,!0,!$.horiz)),j=j&&j.fixedRange,$=($.pointRange||0)/2;const S=j&&(R-re)/j;return ie(D)||(re=z(re+$)),ie(N)||(R=z(R-$)),.7<S&&1.3>S&&(N?re=R-j:R=re+j),G(re)&&G(R)||(re=R=void 0),{min:re,max:R}}}return F}),s(i,"Stock/Navigator/NavigatorDefaults.js",[i["Core/Color/Color.js"],i["Core/Series/SeriesRegistry.js"]],function(l,h){return{parse:l}=l,{seriesTypes:h}=h,h={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:l("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof h.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},h}),s(i,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(l,h,u,y,n={}){return l=n.width?n.width/2:u,h=Math.round(l/3)+.5,y=n.height||y,[["M",-l-1,.5],["L",l,.5],["L",l,y+.5],["L",-l-1,y+.5],["L",-l-1,.5],["M",-h,4],["L",-h,y-3],["M",h-1,4],["L",h-1,y-3]]}}}),s(i,"Stock/Navigator/NavigatorComposition.js",[i["Core/Defaults.js"],i["Core/Globals.js"],i["Core/Axis/NavigatorAxisComposition.js"],i["Stock/Navigator/NavigatorDefaults.js"],i["Stock/Navigator/NavigatorSymbols.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y,n,w,z){function ie(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function G(){var P;const L=this.legend,_=this.navigator;let v,M,O;if(_){v=L&&L.options,M=_.xAxis,O=_.yAxis;const{scrollbarHeight:ee,scrollButtonSize:ae}=_;this.inverted?(_.left=_.opposite?this.chartWidth-ee-_.height:this.spacing[3]+ee,_.top=this.plotTop+ae):(_.left=I(M.left,this.plotLeft+ae),_.top=_.navigatorOptions.top||this.chartHeight-_.height-ee-(((P=this.scrollbar)===null||P===void 0?void 0:P.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(v&&v.verticalAlign==="bottom"&&v.layout!=="proximate"&&v.enabled&&!v.floating?L.legendHeight+I(v.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),M&&O&&(this.inverted?M.options.left=O.options.left=_.left:M.options.top=O.options.top=_.top,M.setAxisSize(),O.setAxisSize())}}function q(P){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new X(this),I(P.redraw,!0)&&this.redraw(P.animation))}function Z(){const P=this.options;(P.navigator.enabled||P.scrollbar.enabled)&&(this.scroller=this.navigator=new X(this))}function F(){const P=this.options,L=P.navigator,_=P.rangeSelector;if((L&&L.enabled||_&&_.enabled)&&(!$&&P.chart.zooming.type==="x"||$&&P.chart.zooming.pinchType==="x"))return!1}function U(P){const L=P.navigator;L&&P.xAxis[0]&&(P=P.xAxis[0].getExtremes(),L.render(P.min,P.max))}function re(P){const L=P.options.navigator||{},_=P.options.scrollbar||{};this.navigator||this.scroller||!L.enabled&&!_.enabled||(Y(!0,this.options.navigator,L),Y(!0,this.options.scrollbar,_),delete P.options.navigator,delete P.options.scrollbar)}function R(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:D,setOptions:N}=l,{isTouchDevice:$}=h,{getRendererType:j}=w,{addEvent:S,extend:te,merge:Y,pick:I}=z,V=[];let X;return{compose:function(P,L,_,v){u.compose(P),X=_,z.pushUnique(V,L)&&(L.prototype.callbacks.push(U),S(L,"afterAddSeries",ie),S(L,"afterSetChartSize",G),S(L,"afterUpdate",q),S(L,"beforeRender",Z),S(L,"beforeShowResetZoom",F),S(L,"update",re)),z.pushUnique(V,v)&&S(v,"afterUpdate",R),z.pushUnique(V,j)&&te(j().prototype.symbols,n),z.pushUnique(V,N)&&te(D,{navigator:y})}}}),s(i,"Core/Axis/ScrollbarAxis.js",[i["Core/Utilities.js"]],function(l){const{addEvent:h,defined:u,pick:y}=l,n=[];class w{static compose(ie,G){if(!l.pushUnique(n,ie))return ie;const q=Z=>{const F=y(Z.options&&Z.options.min,Z.min),U=y(Z.options&&Z.options.max,Z.max);return{axisMin:F,axisMax:U,scrollMin:u(Z.dataMin)?Math.min(F,Z.min,Z.dataMin,y(Z.threshold,1/0)):F,scrollMax:u(Z.dataMax)?Math.max(U,Z.max,Z.dataMax,y(Z.threshold,-1/0)):U}};return h(ie,"afterInit",function(){const Z=this;Z.options&&Z.options.scrollbar&&Z.options.scrollbar.enabled&&(Z.options.scrollbar.vertical=!Z.horiz,Z.options.startOnTick=Z.options.endOnTick=!1,Z.scrollbar=new G(Z.chart.renderer,Z.options.scrollbar,Z.chart),h(Z.scrollbar,"changed",function(F){let{axisMin:U,axisMax:re,scrollMin:R,scrollMax:D}=q(Z);var N=D-R;let $;u(U)&&u(re)&&(Z.horiz&&!Z.reversed||!Z.horiz&&Z.reversed?($=R+N*this.to,N=R+N*this.from):($=R+N*(1-this.from),N=R+N*(1-this.to)),this.shouldUpdateExtremes(F.DOMType)?Z.setExtremes(N,$,!0,F.DOMType==="mousemove"||F.DOMType==="touchmove"?!1:void 0,F):this.setRange(this.from,this.to))}))}),h(ie,"afterRender",function(){let{scrollMin:Z,scrollMax:F}=q(this),U=this.scrollbar;var re=this.axisTitleMargin+(this.titleOffset||0),R=this.chart.scrollbarsOffsets;let D=this.options.margin||0;U&&(this.horiz?(this.opposite||(R[1]+=re),U.position(this.left,this.top+this.height+2+R[1]-(this.opposite?D:0),this.width,this.height),this.opposite||(R[1]+=D),re=1):(this.opposite&&(R[0]+=re),U.position(U.options.opposite?this.left+this.width+2+R[0]-(this.opposite?0:D):this.opposite?0:D,this.top,this.width,this.height),this.opposite&&(R[0]+=D),re=0),R[re]+=U.size+(U.options.margin||0),isNaN(Z)||isNaN(F)||!u(this.min)||!u(this.max)||this.min===this.max?U.setRange(0,1):(R=(this.min-Z)/(F-Z),re=(this.max-Z)/(F-Z),this.horiz&&!this.reversed||!this.horiz&&this.reversed?U.setRange(R,re):U.setRange(1-re,1-R)))}),h(ie,"afterGetOffset",function(){const Z=this.scrollbar;var F=Z&&!Z.options.opposite;F=this.horiz?2:F?3:1,Z&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[F]+=Z.size+(Z.options.margin||0))}),ie}}return w}),s(i,"Stock/Scrollbar/ScrollbarDefaults.js",[i["Core/Globals.js"]],function(l){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),s(i,"Stock/Scrollbar/Scrollbar.js",[i["Core/Defaults.js"],i["Core/Globals.js"],i["Core/Axis/ScrollbarAxis.js"],i["Stock/Scrollbar/ScrollbarDefaults.js"],i["Core/Utilities.js"]],function(l,h,u,y,n){const{defaultOptions:w}=l,{addEvent:z,correctFloat:ie,defined:G,destroyObjectProperties:q,fireEvent:Z,merge:F,pick:U,removeEvent:re}=n;class R{static compose(N){u.compose(N,R)}static swapXY(N,$){return $&&N.forEach(j=>{const S=j.length;let te;for(let Y=0;Y<S;Y+=2)te=j[Y+1],typeof te=="number"&&(j[Y+1]=j[Y+2],j[Y+2]=te)}),N}constructor(N,$,j){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(N,$,j)}addEvents(){var N=this.options.inverted?[1,0]:[0,1];const $=this.scrollbarButtons,j=this.scrollbarGroup.element,S=this.track.element,te=this.mouseDownHandler.bind(this),Y=this.mouseMoveHandler.bind(this),I=this.mouseUpHandler.bind(this);N=[[$[N[0]].element,"click",this.buttonToMinClick.bind(this)],[$[N[1]].element,"click",this.buttonToMaxClick.bind(this)],[S,"click",this.trackClick.bind(this)],[j,"mousedown",te],[j.ownerDocument,"mousemove",Y],[j.ownerDocument,"mouseup",I]],h.hasTouch&&N.push([j,"touchstart",te],[j.ownerDocument,"touchmove",Y],[j.ownerDocument,"touchend",I]),N.forEach(function(V){z.apply(null,V)}),this._events=N}buttonToMaxClick(N){const $=(this.to-this.from)*U(this.options.step,.2);this.updatePosition(this.from+$,this.to+$),Z(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:N})}buttonToMinClick(N){const $=ie(this.to-this.from)*U(this.options.step,.2);this.updatePosition(ie(this.from-$),ie(this.to-$)),Z(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:N})}cursorToScrollbarPosition(N){var $=this.options;return $=$.minWidth>this.calculatedWidth?$.minWidth:0,{chartX:(N.chartX-this.x-this.xOffset)/(this.barWidth-$),chartY:(N.chartY-this.y-this.yOffset)/(this.barWidth-$)}}destroy(){const N=this,$=N.chart.scroller;N.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(j){N[j]&&N[j].destroy&&(N[j]=N[j].destroy())}),$&&N===$.scrollbar&&($.scrollbar=null,q($.scrollbarButtons))}drawScrollbarButton(N){const $=this.renderer,j=this.scrollbarButtons,S=this.options,te=this.size;var Y=$.g().add(this.group);j.push(Y),S.buttonsEnabled&&(Y=$.rect().addClass("highcharts-scrollbar-button").add(Y),this.chart.styledMode||Y.attr({stroke:S.buttonBorderColor,"stroke-width":S.buttonBorderWidth,fill:S.buttonBackgroundColor}),Y.attr(Y.crisp({x:-.5,y:-.5,width:te+1,height:te+1,r:S.buttonBorderRadius},Y.strokeWidth())),N=$.path(R.swapXY([["M",te/2+(N?-1:1),te/2-3],["L",te/2+(N?-1:1),te/2+3],["L",te/2+(N?2:-2),te/2]],S.vertical)).addClass("highcharts-scrollbar-arrow").add(j[N]),this.chart.styledMode||N.attr({fill:S.buttonArrowColor}))}init(N,$,j){this.scrollbarButtons=[],this.renderer=N,this.userOptions=$,this.options=F(y,w.scrollbar,$),this.options.margin=U(this.options.margin,10),this.chart=j,this.size=U(this.options.size,this.options.height),$.enabled&&(this.render(),this.addEvents())}mouseDownHandler(N){N=this.chart.pointer.normalize(N),N=this.cursorToScrollbarPosition(N),this.chartX=N.chartX,this.chartY=N.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(N){var $=this.chart.pointer.normalize(N),j=this.options.vertical?"chartY":"chartX";const S=this.initPositions||[];!this.grabbedCenter||N.touches&&N.touches[0][j]===0||($=this.cursorToScrollbarPosition($)[j],j=this[j],j=$-j,this.hasDragged=!0,this.updatePosition(S[0]+j,S[1]+j),this.hasDragged&&Z(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:N.type,DOMEvent:N}))}mouseUpHandler(N){this.hasDragged&&Z(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:N.type,DOMEvent:N}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(N,$,j,S){const{buttonsEnabled:te,margin:Y=0,vertical:I}=this.options,V=this.rendered?"animate":"attr";let X=S,P=0;this.group.show(),this.x=N,this.y=$+this.trackBorderWidth,this.width=j,this.height=S,this.xOffset=X,this.yOffset=P,I?(this.width=this.yOffset=j=this.size,this.xOffset=X=0,this.yOffset=P=te?this.size:0,this.barWidth=S-(te?2*j:0),this.x=N+=Y):(this.height=S=this.size,this.xOffset=X=te?this.size:0,this.barWidth=j-(te?2*S:0),this.y+=Y),this.group[V]({translateX:N,translateY:this.y}),this.track[V]({width:j,height:S}),this.scrollbarButtons[1][V]({translateX:I?0:j-X,translateY:I?S-P:0})}removeEvents(){this._events.forEach(function(N){re.apply(null,N)}),this._events.length=0}render(){const N=this.renderer,$=this.options,j=this.size,S=this.chart.styledMode,te=N.g("scrollbar").attr({zIndex:$.zIndex}).hide().add();this.group=te,this.track=N.rect().addClass("highcharts-scrollbar-track").attr({r:$.trackBorderRadius||0,height:j,width:j}).add(te),S||this.track.attr({fill:$.trackBackgroundColor,stroke:$.trackBorderColor,"stroke-width":$.trackBorderWidth});const Y=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-Y%2/2,y:-Y%2/2}),this.scrollbarGroup=N.g().add(te),this.scrollbar=N.rect().addClass("highcharts-scrollbar-thumb").attr({height:j-Y,width:j-Y,r:$.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=N.path(R.swapXY([["M",-3,j/4],["L",-3,2*j/3],["M",0,j/4],["L",0,2*j/3],["M",3,j/4],["L",3,2*j/3]],$.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),S||(this.scrollbar.attr({fill:$.barBackgroundColor,stroke:$.barBorderColor,"stroke-width":$.barBorderWidth}),this.scrollbarRifles.attr({stroke:$.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(N,$){const j=this.options,S=j.vertical;var te=j.minWidth,Y=this.barWidth;const I=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(G(Y)){var V=Y*Math.min($,1);N=Math.max(N,0);var X=Math.ceil(Y*N);this.calculatedWidth=V=ie(V-X),V<te&&(X=(Y-te+V)*N,V=te),te=Math.floor(X+this.xOffset+this.yOffset),Y=V/2-.5,this.from=N,this.to=$,S?(this.scrollbarGroup[I]({translateY:te}),this.scrollbar[I]({height:V}),this.scrollbarRifles[I]({translateY:Y}),this.scrollbarTop=te,this.scrollbarLeft=0):(this.scrollbarGroup[I]({translateX:te}),this.scrollbar[I]({width:V}),this.scrollbarRifles[I]({translateX:Y}),this.scrollbarLeft=te,this.scrollbarTop=0),12>=V?this.scrollbarRifles.hide():this.scrollbarRifles.show(),j.showFull===!1&&(0>=N&&1<=$?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(N){return U(this.options.liveRedraw,h.svg&&!h.isTouchDevice&&!this.chart.boosted)||N==="mouseup"||N==="touchend"||!G(N)}trackClick(N){const $=this.chart.pointer.normalize(N),j=this.to-this.from,S=this.y+this.scrollbarTop,te=this.x+this.scrollbarLeft;this.options.vertical&&$.chartY>S||!this.options.vertical&&$.chartX>te?this.updatePosition(this.from+j,this.to+j):this.updatePosition(this.from-j,this.to-j),Z(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:N})}update(N){this.destroy(),this.init(this.chart.renderer,F(!0,this.options,N),this.chart)}updatePosition(N,$){1<$&&(N=ie(1-ie($-N)),$=1),0>N&&($=ie($-N),N=0),this.from=N,this.to=$}}return R.defaultOptions=y,w.scrollbar=F(!0,R.defaultOptions,w.scrollbar),R}),s(i,"Stock/Navigator/Navigator.js",[i["Core/Axis/Axis.js"],i["Core/Defaults.js"],i["Core/Globals.js"],i["Core/Axis/NavigatorAxisComposition.js"],i["Stock/Navigator/NavigatorComposition.js"],i["Stock/Scrollbar/Scrollbar.js"],i["Core/Utilities.js"]],function(l,h,u,y,n,w,z){function ie(L,..._){if(_=[].filter.call(_,te),_.length)return Math[L].apply(0,_)}const{defaultOptions:G}=h,{hasTouch:q,isTouchDevice:Z}=u,{addEvent:F,clamp:U,correctFloat:re,defined:R,destroyObjectProperties:D,erase:N,extend:$,find:j,isArray:S,isNumber:te,merge:Y,pick:I,removeEvent:V,splat:X}=z;class P{static compose(_,v,M){n.compose(_,v,P,M)}constructor(_){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(_)}drawHandle(_,v,M,O){const ee=this.navigatorOptions.handles.height;this.handles[v][O](M?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(_,10)+.5-ee)}:{translateX:Math.round(this.left+parseInt(_,10)),translateY:Math.round(this.top+this.height/2-ee/2-1)})}drawOutline(_,v,M,O){const ee=this.navigatorOptions.maskInside;var ae=this.outline.strokeWidth();const K=ae/2;var pe=ae%2/2;const Me=this.scrollButtonSize,Pe=this.size,W=this.top;ae=this.height;const le=W-K,ue=W+ae;let xe=this.left;M?(M=W+v+pe,v=W+_+pe,pe=[["M",xe+ae,W-Me-pe],["L",xe+ae,M],["L",xe,M],["M",xe,v],["L",xe+ae,v],["L",xe+ae,W+Pe+Me]],ee&&pe.push(["M",xe+ae,M-K],["L",xe+ae,v+K])):(xe-=Me,_+=xe+Me-pe,v+=xe+Me-pe,pe=[["M",xe,le],["L",_,le],["L",_,ue],["M",v,ue],["L",v,le],["L",xe+Pe+2*Me,W+K]],ee&&pe.push(["M",_-K,le],["L",v+K,le])),this.outline[O]({d:pe})}drawMasks(_,v,M,O){const ee=this.left,ae=this.top,K=this.height;let pe,Me,Pe,W;M?(Pe=[ee,ee,ee],W=[ae,ae+_,ae+v],Me=[K,K,K],pe=[_,v-_,this.size-v]):(Pe=[ee,ee+_,ee+v],W=[ae,ae,ae],Me=[_,v-_,this.size-v],pe=[K,K,K]),this.shades.forEach((le,ue)=>{le[O]({x:Pe[ue],y:W[ue],width:Me[ue],height:pe[ue]})})}renderElements(){const _=this,v=_.navigatorOptions,M=v.maskInside,O=_.chart,ee=O.renderer,ae={cursor:O.inverted?"ns-resize":"ew-resize"},K=_.navigatorGroup=ee.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!M,M,!M].forEach((pe,Me)=>{const Pe=ee.rect().addClass("highcharts-navigator-mask"+(Me===1?"-inside":"-outside")).add(K);O.styledMode||(Pe.attr({fill:pe?v.maskFill:"rgba(0,0,0,0)"}),Me===1&&Pe.css(ae)),_.shades[Me]=Pe}),_.outline=ee.path().addClass("highcharts-navigator-outline").add(K),O.styledMode||_.outline.attr({"stroke-width":v.outlineWidth,stroke:v.outlineColor}),v.handles&&v.handles.enabled){const pe=v.handles,{height:Me,width:Pe}=pe;[0,1].forEach(W=>{_.handles[W]=ee.symbol(pe.symbols[W],-Pe/2-1,0,Pe,Me,pe),O.inverted&&_.handles[W].attr({rotation:90,rotationOriginX:Math.floor(-Pe/2),rotationOriginY:(Me+Pe)/2}),_.handles[W].attr({zIndex:7-W}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][W]).add(K),O.styledMode||_.handles[W].attr({fill:pe.backgroundColor,stroke:pe.borderColor,"stroke-width":pe.lineWidth}).css(ae)})}}update(_){(this.series||[]).forEach(v=>{v.baseSeries&&delete v.baseSeries.navigatorSeries}),this.destroy(),Y(!0,this.chart.options.navigator,_),this.init(this.chart)}render(_,v,M,O){var ee=this.chart;const ae=this.xAxis,K=ae.pointRange||0;var pe=ae.navigatorAxis.fake?ee.xAxis[0]:ae;const Me=this.navigatorEnabled;var Pe=this.rendered,W=ee.inverted;const le=ee.xAxis[0].minRange,ue=ee.xAxis[0].options.maxRange,xe=this.scrollButtonSize;let Le=this.scrollbarHeight,oe;if(!this.hasDragged||R(M)){if(_=re(_-K/2),v=re(v+K/2),!te(_)||!te(v))if(Pe)M=0,O=I(ae.width,pe.width);else return;this.left=I(ae.left,ee.plotLeft+xe+(W?ee.plotWidth:0));var ve=this.size=oe=I(ae.len,(W?ee.plotHeight:ee.plotWidth)-2*xe);ee=W?Le:oe+2*xe,M=I(M,ae.toPixels(_,!0)),O=I(O,ae.toPixels(v,!0)),te(M)&&Math.abs(M)!==1/0||(M=0,O=ee),_=ae.toValue(M,!0),v=ae.toValue(O,!0);var _e=Math.abs(re(v-_));_e<le?this.grabbedLeft?M=ae.toPixels(v-le-K,!0):this.grabbedRight&&(O=ae.toPixels(_+le+K,!0)):R(ue)&&re(_e-K)>ue&&(this.grabbedLeft?M=ae.toPixels(v-ue-K,!0):this.grabbedRight&&(O=ae.toPixels(_+ue+K,!0))),this.zoomedMax=U(Math.max(M,O),0,ve),this.zoomedMin=U(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(M,O),0,ve),this.range=this.zoomedMax-this.zoomedMin,ve=Math.round(this.zoomedMax),M=Math.round(this.zoomedMin),Me&&(this.navigatorGroup.attr({visibility:"inherit"}),Pe=Pe&&!this.hasDragged?"animate":"attr",this.drawMasks(M,ve,W,Pe),this.drawOutline(M,ve,W,Pe),this.navigatorOptions.handles.enabled&&(this.drawHandle(M,0,W,Pe),this.drawHandle(ve,1,W,Pe))),this.scrollbar&&(W?(W=this.top-xe,pe=this.left-Le+(Me||!pe.opposite?0:(pe.titleOffset||0)+pe.axisTitleMargin),Le=oe+2*xe):(W=this.top+(Me?this.height:-Le),pe=this.left-xe),this.scrollbar.position(pe,W,ee,Le),this.scrollbar.setRange(this.zoomedMin/(oe||1),this.zoomedMax/(oe||1))),this.rendered=!0}}addMouseEvents(){const _=this,v=_.chart,M=v.container;let O=[],ee,ae;_.mouseMoveHandler=ee=function(K){_.onMouseMove(K)},_.mouseUpHandler=ae=function(K){_.onMouseUp(K)},O=_.getPartsEvents("mousedown"),O.push(F(v.renderTo,"mousemove",ee),F(M.ownerDocument,"mouseup",ae)),q&&(O.push(F(v.renderTo,"touchmove",ee),F(M.ownerDocument,"touchend",ae)),O.concat(_.getPartsEvents("touchstart"))),_.eventsToUnbind=O,_.series&&_.series[0]&&O.push(F(_.series[0].xAxis,"foundExtremes",function(){v.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(_){const v=this,M=[];return["shades","handles"].forEach(function(O){v[O].forEach(function(ee,ae){M.push(F(ee.element,_,function(K){v[O+"Mousedown"](K,ae)}))})}),M}shadesMousedown(_,v){_=this.chart.pointer.normalize(_);const M=this.chart,O=this.xAxis,ee=this.zoomedMin,ae=this.size,K=this.range;let pe=this.left,Me=_.chartX,Pe,W;M.inverted&&(Me=_.chartY,pe=this.top),v===1?(this.grabbedCenter=Me,this.fixedWidth=K,this.dragOffset=Me-ee):(_=Me-pe-K/2,v===0?_=Math.max(0,_):v===2&&_+K>=ae&&(_=ae-K,this.reversedExtremes?(_-=K,W=this.getUnionExtremes().dataMin):Pe=this.getUnionExtremes().dataMax),_!==ee&&(this.fixedWidth=K,v=O.navigatorAxis.toFixedRange(_,_+K,W,Pe),R(v.min)&&M.xAxis[0].setExtremes(Math.min(v.min,v.max),Math.max(v.min,v.max),!0,null,{trigger:"navigator"})))}handlesMousedown(_,v){this.chart.pointer.normalize(_),_=this.chart;const M=_.xAxis[0],O=this.reversedExtremes;v===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=O?M.min:M.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=O?M.max:M.min),_.fixedRange=null}onMouseMove(_){const v=this;var M=v.chart;const O=v.navigatorSize,ee=v.range,ae=v.dragOffset,K=M.inverted;let pe=v.left;_.touches&&_.touches[0].pageX===0||(_=M.pointer.normalize(_),M=_.chartX,K&&(pe=v.top,M=_.chartY),v.grabbedLeft?(v.hasDragged=!0,v.render(0,0,M-pe,v.otherHandlePos)):v.grabbedRight?(v.hasDragged=!0,v.render(0,0,v.otherHandlePos,M-pe)):v.grabbedCenter&&(v.hasDragged=!0,M<ae?M=ae:M>O+ae-ee&&(M=O+ae-ee),v.render(0,0,M-ae,M-ae+ee)),v.hasDragged&&v.scrollbar&&I(v.scrollbar.options.liveRedraw,!Z&&!this.chart.boosted)&&(_.DOMType=_.type,setTimeout(function(){v.onMouseUp(_)},0)))}onMouseUp(_){var v=this.chart,M=this.xAxis,O=this.scrollbar;const ee=_.DOMEvent||_,ae=v.inverted,K=this.rendered&&!this.hasDragged?"animate":"attr";let pe,Me;(!this.hasDragged||O&&O.hasDragged)&&_.trigger!=="scrollbar"||(O=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?pe=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(Me=this.fixedExtreme),this.zoomedMax===this.size&&(Me=this.reversedExtremes?O.dataMin:O.dataMax),this.zoomedMin===0&&(pe=this.reversedExtremes?O.dataMax:O.dataMin),M=M.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,pe,Me),R(M.min)&&v.xAxis[0].setExtremes(Math.min(M.min,M.max),Math.max(M.min,M.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:ee})),_.DOMType!=="mousemove"&&_.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&te(this.zoomedMin)&&te(this.zoomedMax)&&(v=Math.round(this.zoomedMin),_=Math.round(this.zoomedMax),this.shades&&this.drawMasks(v,_,ae,K),this.outline&&this.drawOutline(v,_,ae,K),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(v,0,ae,K),this.drawHandle(_,1,ae,K)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(_){_()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const _=this.baseSeries||[];this.navigatorEnabled&&_[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&_.forEach(function(v){V(v,"updatedData",this.updatedDataHandler)},this),_[0].xAxis&&V(_[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(_){var v=_.options,M=v.navigator||{},O=M.enabled,ee=v.scrollbar||{},ae=ee.enabled;v=O&&M.height||0;var K=ae&&ee.height||0;const pe=ee.buttonsEnabled&&K||0;this.handles=[],this.shades=[],this.chart=_,this.setBaseSeries(),this.height=v,this.scrollbarHeight=K,this.scrollButtonSize=pe,this.scrollbarEnabled=ae,this.navigatorEnabled=O,this.navigatorOptions=M,this.scrollbarOptions=ee,this.opposite=I(M.opposite,!(O||!_.inverted));const Me=this;O=Me.baseSeries,ee=_.xAxis.length,ae=_.yAxis.length,K=O&&O[0]&&O[0].xAxis||_.xAxis[0]||{options:{}},_.isDirtyBox=!0,Me.navigatorEnabled?(Me.xAxis=new l(_,Y({breaks:K.options.breaks,ordinal:K.options.ordinal},M.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:ee,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},_.inverted?{offsets:[pe,0,-pe,0],width:v}:{offsets:[0,-pe,0,pe],height:v})),Me.yAxis=new l(_,Y(M.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:ae,isInternal:!0,reversed:I(M.yAxis&&M.yAxis.reversed,_.yAxis[0]&&_.yAxis[0].reversed,!1),zoomEnabled:!1},_.inverted?{width:v}:{height:v})),O||M.series.data?Me.updateNavigatorSeries(!1):_.series.length===0&&(Me.unbindRedraw=F(_,"beforeRedraw",function(){0<_.series.length&&!Me.series&&(Me.setBaseSeries(),Me.unbindRedraw())})),Me.reversedExtremes=_.inverted&&!Me.xAxis.reversed||!_.inverted&&Me.xAxis.reversed,Me.renderElements(),Me.addMouseEvents()):(Me.xAxis={chart:_,navigatorAxis:{fake:!0},translate:function(Pe,W){var le=_.xAxis[0];const ue=le.getExtremes(),xe=le.len-2*pe,Le=ie("min",le.options.min,ue.dataMin);return le=ie("max",le.options.max,ue.dataMax)-Le,W?Pe*le/xe+Le:xe*(Pe-Le)/le},toPixels:function(Pe){return this.translate(Pe)},toValue:function(Pe){return this.translate(Pe,!0)}},Me.xAxis.navigatorAxis.axis=Me.xAxis,Me.xAxis.navigatorAxis.toFixedRange=y.prototype.toFixedRange.bind(Me.xAxis.navigatorAxis)),_.options.scrollbar.enabled&&(M=Y(_.options.scrollbar,{vertical:_.inverted}),!te(M.margin)&&Me.navigatorEnabled&&(M.margin=_.inverted?-3:3),_.scrollbar=Me.scrollbar=new w(_.renderer,M,_),F(Me.scrollbar,"changed",function(Pe){var W=Me.size;const le=W*this.to;W*=this.from,Me.hasDragged=Me.scrollbar.hasDragged,Me.render(0,0,W,le),this.shouldUpdateExtremes(Pe.DOMType)&&setTimeout(function(){Me.onMouseUp(Pe)})})),Me.addBaseSeriesEvents(),Me.addChartEvents()}getUnionExtremes(_){const v=this.chart.xAxis[0],M=this.xAxis,O=M.options,ee=v.options;let ae;return _&&v.dataMin===null||(ae={dataMin:I(O&&O.min,ie("min",ee.min,v.dataMin,M.dataMin,M.min)),dataMax:I(O&&O.max,ie("max",ee.max,v.dataMax,M.dataMax,M.max))}),ae}setBaseSeries(_,v){const M=this.chart,O=this.baseSeries=[];_=_||M.options&&M.options.navigator.baseSeries||(M.series.length?j(M.series,ee=>!ee.options.isInternal).index:0),(M.series||[]).forEach((ee,ae)=>{ee.options.isInternal||!ee.options.showInNavigator&&(ae!==_&&ee.options.id!==_||ee.options.showInNavigator===!1)||O.push(ee)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,v)}updateNavigatorSeries(_,v){const M=this,O=M.chart,ee=M.baseSeries,ae={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},K=M.series=(M.series||[]).filter(le=>{const ue=le.baseSeries;return 0>ee.indexOf(ue)?(ue&&(V(ue,"updatedData",M.updatedDataHandler),delete ue.navigatorSeries),le.chart&&le.destroy(),!1):!0});let pe,Me,Pe=M.navigatorOptions.series,W;ee&&ee.length&&ee.forEach(le=>{const ue=le.navigatorSeries;var xe=$({color:le.color,visible:le.visible},S(Pe)?G.navigator.series:Pe);ue&&M.navigatorOptions.adaptToUpdatedData===!1||(ae.name="Navigator "+ee.length,pe=le.options||{},W=pe.navigatorOptions||{},xe.dataLabels=X(xe.dataLabels),Me=Y(pe,ae,xe,W),Me.pointRange=I(xe.pointRange,W.pointRange,G.plotOptions[Me.type||"line"].pointRange),xe=W.data||xe.data,M.hasNavigatorData=M.hasNavigatorData||!!xe,Me.data=xe||pe.data&&pe.data.slice(0),ue&&ue.options?ue.update(Me,v):(le.navigatorSeries=O.initSeries(Me),le.navigatorSeries.baseSeries=le,K.push(le.navigatorSeries)))}),(Pe.data&&(!ee||!ee.length)||S(Pe))&&(M.hasNavigatorData=!1,Pe=X(Pe),Pe.forEach((le,ue)=>{ae.name="Navigator "+(K.length+1),Me=Y(G.navigator.series,{color:O.series[ue]&&!O.series[ue].options.isInternal&&O.series[ue].color||O.options.colors[ue]||O.options.colors[0]},ae,le),Me.data=le.data,Me.data&&(M.hasNavigatorData=!0,K.push(O.initSeries(Me)))})),_&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const _=this,v=_.baseSeries||[];v[0]&&v[0].xAxis&&v[0].eventsToUnbind.push(F(v[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),v.forEach(M=>{M.eventsToUnbind.push(F(M,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),M.eventsToUnbind.push(F(M,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&M.xAxis&&M.eventsToUnbind.push(F(M,"updatedData",this.updatedDataHandler)),M.eventsToUnbind.push(F(M,"remove",function(){this.navigatorSeries&&(N(_.series,this.navigatorSeries),R(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(_){return this.baseSeries.reduce(function(v,M){return Math.min(v,M.xData&&M.xData.length?M.xData[0]:v)},_)}modifyNavigatorAxisExtremes(){const _=this.xAxis;if(typeof _.getExtremes<"u"){const v=this.getUnionExtremes(!0);!v||v.dataMin===_.min&&v.dataMax===_.max||(_.min=v.dataMin,_.max=v.dataMax)}}modifyBaseAxisExtremes(){const _=this.chart.navigator;var v=this.getExtremes();const M=v.dataMin,O=v.dataMax;v=v.max-v.min;const ee=_.stickToMin,ae=_.stickToMax,K=I(this.options.overscroll,0),pe=_.series&&_.series[0],Me=!!this.setExtremes;let Pe,W;this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton"||(ee&&(W=M,Pe=W+v),ae&&(Pe=O+K,ee||(W=Math.max(M,Pe-v,_.getBaseSeriesMin(pe&&pe.xData?pe.xData[0]:-Number.MAX_VALUE)))),Me&&(ee||ae)&&te(W)&&(this.min=this.userMin=W,this.max=this.userMax=Pe)),_.stickToMin=_.stickToMax=null}updatedDataHandler(){const _=this.chart.navigator,v=this.navigatorSeries;_.stickToMax=I(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,_.reversedExtremes?Math.round(_.zoomedMin)===0:Math.round(_.zoomedMax)>=Math.round(_.size)),_.stickToMin=_.shouldStickToMin(this,_),v&&!_.hasNavigatorData&&(v.options.pointStart=this.xData[0],v.setData(this.options.data,!1,null,!1))}shouldStickToMin(_,v){v=v.getBaseSeriesMin(_.xData[0]);var M=_.xAxis;_=M.max;const O=M.min;return M=M.options.range,te(_)&&te(O)?M&&0<_-v?_-v<M:O<=v:!1}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(F(this.chart,"redraw",function(){const _=this.navigator,v=_&&(_.baseSeries&&_.baseSeries[0]&&_.baseSeries[0].xAxis||this.xAxis[0]);v&&_.render(v.min,v.max)}),F(this.chart,"getMargins",function(){let _=this.navigator,v=_.opposite?"plotTop":"marginBottom";this.inverted&&(v=_.opposite?"marginRight":"plotLeft"),this[v]=(this[v]||0)+(_.navigatorEnabled||!this.inverted?_.height+_.scrollbarHeight:0)+_.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(N(this.chart.xAxis,this.xAxis),N(this.chart.axes,this.xAxis)),this.yAxis&&(N(this.chart.yAxis,this.yAxis),N(this.chart.axes,this.yAxis)),(this.series||[]).forEach(_=>{_.destroy&&_.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(_=>{this[_]&&this[_].destroy&&this[_].destroy(),this[_]=null}),[this.handles].forEach(_=>{D(_)})}}return P}),s(i,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),s(i,"Stock/RangeSelector/RangeSelectorComposition.js",[i["Core/Defaults.js"],i["Stock/RangeSelector/RangeSelectorDefaults.js"],i["Core/Utilities.js"]],function(l,h,u){function y(){const V=this.range,X=V.type,P=this.max,L=this.chart.time,_=function(ee,ae){const K=X==="year"?"FullYear":"Month",pe=new L.Date(ee),Me=L.get(K,pe);return L.set(K,pe,Me+ae),Me===L.get(K,pe)&&L.set("Date",pe,0),pe.getTime()-ee};let v,M;$(V)?(v=P-V,M=V):V&&(v=P+_(P,-(V.count||1)),this.chart&&(this.chart.fixedRange=P-v));const O=S(this.dataMin,Number.MIN_VALUE);return $(v)||(v=O),v<=O&&(v=O,typeof M>"u"&&(M=_(v,V.count)),this.newMax=Math.min(v+M,S(this.dataMax,Number.MAX_VALUE))),$(P)?!$(V)&&V&&V._offsetMin&&(v+=V._offsetMin):v=void 0,v}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new I(this))}function w(){var V=this.axes;const X=this.rangeSelector;X&&($(X.deferredYTDClick)&&(X.clickButton(X.deferredYTDClick),delete X.deferredYTDClick),V.forEach(P=>{P.updateNames(),P.setScale()}),this.getAxisMargins(),X.render(),V=X.options.verticalAlign,X.options.floating||(V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0)))}function z(V){let X,P,L,_;const v=V.rangeSelector,M=()=>{v&&(X=V.xAxis[0].getExtremes(),P=V.legend,_=v&&v.options.verticalAlign,$(X.min)&&v.render(X.min,X.max),P.display&&_==="top"&&_===P.options.verticalAlign&&(L=j(V.spacingBox),L.y=P.options.layout==="vertical"?V.plotTop:L.y+v.getHeight(),P.group.placed=!1,P.align(L)))};v&&(N(te,O=>O[0]===V)||te.push([V,[re(V.xAxis[0],"afterSetExtremes",function(O){v&&v.render(O.min,O.max)}),re(V,"redraw",M)]]),M())}function ie(){for(let V=0,X=te.length;V<X;++V){const P=te[V];if(P[0]===this){P[1].forEach(L=>L()),te.splice(V,1);break}}}function G(){var V=this.rangeSelector;V&&(V=V.getHeight(),this.extraTopMargin&&(this.plotTop+=V),this.extraBottomMargin&&(this.marginBottom+=V))}function q(){var V=this.rangeSelector;V&&!V.options.floating&&(V.render(),V=V.options.verticalAlign,V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0))}function Z(V){var X=V.options.rangeSelector;V=this.extraBottomMargin;const P=this.extraTopMargin;let L=this.rangeSelector;X&&X.enabled&&!R(L)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=L=new I(this)),this.extraTopMargin=this.extraBottomMargin=!1,L&&(z(this),X=X&&X.verticalAlign||L.options&&L.options.verticalAlign,L.options.floating||(X==="bottom"?this.extraBottomMargin=!0:X!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==V||this.extraTopMargin!==P)&&(this.isDirtyBox=!0)}const{defaultOptions:F,setOptions:U}=l,{addEvent:re,defined:R,extend:D,find:N,isNumber:$,merge:j,pick:S}=u,te=[],Y=[];let I;return{compose:function(V,X,P){I=P,u.pushUnique(Y,V)&&(V.prototype.minFromRange=y),u.pushUnique(Y,X)&&(re(X,"afterGetContainer",n),re(X,"beforeRender",w),re(X,"destroy",ie),re(X,"getMargins",G),re(X,"render",q),re(X,"update",Z),X.prototype.callbacks.push(z)),u.pushUnique(Y,U)&&(D(F,{rangeSelector:h.rangeSelector}),D(F.lang,h.lang))}}}),s(i,"Stock/RangeSelector/RangeSelector.js",[i["Core/Axis/Axis.js"],i["Core/Defaults.js"],i["Core/Globals.js"],i["Stock/RangeSelector/RangeSelectorComposition.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(l,h,u,y,n,w){function z(X){if(X.indexOf("%L")!==-1)return"text";const P="aAdewbBmoyY".split("").some(_=>X.indexOf("%"+_)!==-1),L="HkIlMS".split("").some(_=>X.indexOf("%"+_)!==-1);return P&&L?"datetime-local":P?"date":L?"time":"text"}const{defaultOptions:ie}=h,{addEvent:G,createElement:q,css:Z,defined:F,destroyObjectProperties:U,discardElement:re,extend:R,fireEvent:D,isNumber:N,merge:$,objectEach:j,pad:S,pick:te,pInt:Y,splat:I}=w;class V{static compose(P,L){y.compose(P,L,V)}constructor(P){this.buttons=void 0,this.buttonOptions=V.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=P,this.init(P)}clickButton(P,L){const _=this.chart,v=this.buttonOptions[P],M=_.xAxis[0];var O=_.scroller&&_.scroller.getUnionExtremes()||M||{},ee=v.type;const ae=v.dataGrouping;let K=O.dataMin,pe=O.dataMax,Me,Pe=M&&Math.round(Math.min(M.max,te(pe,M.max))),W;O=v._range;let le,ue,xe,Le=!0;if(K!==null&&pe!==null){if(_.fixedRange=O,this.setSelected(P),ae&&(this.forcedDataGrouping=!0,l.prototype.setDataGrouping.call(M||{chart:this.chart},ae,!1),this.frozenStates=v.preserveDataGrouping),ee==="month"||ee==="year")M?(ee={range:v,max:Pe,chart:_,dataMin:K,dataMax:pe},Me=M.minFromRange.call(ee),N(ee.newMax)&&(Pe=ee.newMax),Le=!1):O=v;else if(O)Me=Math.max(Pe-O,K),Pe=Math.min(Me+O,pe),Le=!1;else if(ee==="ytd")if(M)(typeof pe>"u"||typeof K>"u")&&(K=Number.MAX_VALUE,pe=Number.MIN_VALUE,_.series.forEach(oe=>{(oe=oe.xData)&&(K=Math.min(oe[0],K),pe=Math.max(oe[oe.length-1],pe))}),L=!1),ee=this.getYTDExtremes(pe,K,_.time.useUTC),Me=le=ee.min,Pe=ee.max;else{this.deferredYTDClick=P;return}else ee==="all"&&M&&(_.navigator&&_.navigator.baseSeries[0]&&(_.navigator.baseSeries[0].xAxis.options.range=void 0),Me=K,Pe=pe);Le&&v._offsetMin&&F(Me)&&(Me+=v._offsetMin),v._offsetMax&&F(Pe)&&(Pe+=v._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=P+1),M?M.setExtremes(Me,Pe,te(L,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:v}):(W=I(_.options.xAxis)[0],xe=W.range,W.range=O,ue=W.min,W.min=le,G(_,"load",function(){W.range=xe,W.min=ue})),D(this,"afterBtnClick")}}setSelected(P){this.selected=this.options.selected=P}init(P){const L=this,_=P.options.rangeSelector,v=_.buttons||L.defaultButtons.slice(),M=_.selected,O=function(){const ee=L.minInput,ae=L.maxInput;ee&&ee.blur&&D(ee,"blur"),ae&&ae.blur&&D(ae,"blur")};L.chart=P,L.options=_,L.buttons=[],L.buttonOptions=v,this.eventsToUnbind=[],this.eventsToUnbind.push(G(P.container,"mousedown",O)),this.eventsToUnbind.push(G(P,"resize",O)),v.forEach(L.computeButtonRange),typeof M<"u"&&v[M]&&this.clickButton(M,!1),this.eventsToUnbind.push(G(P,"load",function(){P.xAxis&&P.xAxis[0]&&G(P.xAxis[0],"setExtremes",function(ee){this.max-this.min!==P.fixedRange&&ee.trigger!=="rangeSelectorButton"&&ee.trigger!=="updatedData"&&L.forcedDataGrouping&&!L.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const P=this;var L=this.chart;const _=this.dropdown,v=L.xAxis[0],M=Math.round(v.max-v.min),O=!v.hasVisibleSeries,ee=L.scroller&&L.scroller.getUnionExtremes()||v,ae=ee.dataMin,K=ee.dataMax;L=P.getYTDExtremes(K,ae,L.time.useUTC);const pe=L.min,Me=L.max,Pe=P.selected,W=P.options.allButtonsEnabled,le=P.buttons;let ue=N(Pe);P.buttonOptions.forEach((xe,Le)=>{var oe=xe._range,ve=xe.type,_e=xe.count||1;const se=le[Le],fe=xe._offsetMax-xe._offsetMin,ye=Le===Pe,Ie=oe>K-ae,ke=oe<v.minRange;xe=0;let Ue=!1,st=!1;oe=oe===M,(ve==="month"||ve==="year")&&M+36e5>=864e5*{month:28,year:365}[ve]*_e-fe&&M-36e5<=864e5*{month:31,year:366}[ve]*_e+fe?oe=!0:ve==="ytd"?(oe=Me-pe+fe===M,Ue=!ye):ve==="all"&&(oe=v.max-v.min>=K-ae,st=!ye&&ue&&oe),ve=!W&&(Ie||ke||st||O),_e=ye&&oe||oe&&!ue&&!Ue||ye&&P.frozenStates,ve?xe=3:_e&&(ue=!0,xe=2),se.state!==xe&&(se.setState(xe),_&&(_.options[Le+1].disabled=ve,xe===2&&(_.selectedIndex=Le+1)),xe===0&&Pe===Le&&P.setSelected())})}computeButtonRange(P){const L=P.type,_=P.count||1,v={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};v[L]?P._range=v[L]*_:(L==="month"||L==="year")&&(P._range=864e5*{month:30,year:365}[L]*_),P._offsetMin=te(P.offsetMin,0),P._offsetMax=te(P.offsetMax,0),P._range+=P._offsetMax-P._offsetMin}getInputValue(P){P=P==="min"?this.minInput:this.maxInput;const L=this.chart.options.rangeSelector,_=this.chart.time;return P?(P.type==="text"&&L.inputDateParser||this.defaultInputDateParser)(P.value,_.useUTC,_):0}setInputValue(P,L){const _=this.options,v=this.chart.time,M=P==="min"?this.minInput:this.maxInput;if(P=P==="min"?this.minDateBox:this.maxDateBox,M){var O=M.getAttribute("data-hc-time");O=F(O)?Number(O):void 0,F(L)&&(F(O)&&M.setAttribute("data-hc-time-previous",O),M.setAttribute("data-hc-time",L),O=L),M.value=v.dateFormat(this.inputTypeFormats[M.type]||_.inputEditDateFormat,O),P&&P.attr({text:v.dateFormat(_.inputDateFormat,O)})}}setInputExtremes(P,L,_){if(P=P==="min"?this.minInput:this.maxInput){const v=this.inputTypeFormats[P.type],M=this.chart.time;v&&(L=M.dateFormat(v,L),P.min!==L&&(P.min=L),_=M.dateFormat(v,_),P.max!==_&&(P.max=_))}}showInput(P){const L=P==="min"?this.minDateBox:this.maxDateBox;if((P=P==="min"?this.minInput:this.maxInput)&&L&&this.inputGroup){const _=P.type==="text",{translateX:v,translateY:M}=this.inputGroup,{inputBoxWidth:O}=this.options;Z(P,{width:_?L.width+(O?-2:20)+"px":"auto",height:L.height-2+"px",border:"2px solid silver"}),_&&O?Z(P,{left:v+L.x+"px",top:M+"px"}):Z(P,{left:Math.min(Math.round(L.x+v-(P.offsetWidth-L.width)/2),this.chart.chartWidth-P.offsetWidth)+"px",top:M-(P.offsetHeight-L.height)/2+"px"})}}hideInput(P){(P=P==="min"?this.minInput:this.maxInput)&&Z(P,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(P,L,_){var v=P.split("/").join("-").split(" ").join("T");if(v.indexOf("T")===-1&&(v+="T00:00"),L)v+="Z";else{var M;(M=u.isSafari)&&(M=v,M=!(6<M.length&&(M.lastIndexOf("-")===M.length-6||M.lastIndexOf("+")===M.length-6))),M&&(M=new Date(v).getTimezoneOffset()/60,v+=0>=M?`+${S(-M)}:00`:`-${S(M)}:00`)}return v=Date.parse(v),N(v)||(P=P.split("-"),v=Date.UTC(Y(P[0]),Y(P[1])-1,Y(P[2]))),_&&L&&N(v)&&(v+=_.getTimezoneOffset(v)),v}drawInput(P){function L(){const{maxInput:le,minInput:ue}=O,xe=_.xAxis[0];var Le=_.scroller&&_.scroller.xAxis?_.scroller.xAxis:xe;const oe=Le.dataMin;Le=Le.dataMax;let ve=O.getInputValue(P);ve!==Number(Pe.getAttribute("data-hc-time-previous"))&&N(ve)&&(Pe.setAttribute("data-hc-time-previous",ve),pe&&le&&N(oe)?ve>Number(le.getAttribute("data-hc-time"))?ve=void 0:ve<oe&&(ve=oe):ue&&N(Le)&&(ve<Number(ue.getAttribute("data-hc-time"))?ve=void 0:ve>Le&&(ve=Le)),typeof ve<"u"&&xe.setExtremes(pe?ve:xe.min,pe?xe.max:ve,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:_,div:v,inputGroup:M}=this,O=this,ee=_.renderer.style||{};var ae=_.renderer;const K=_.options.rangeSelector,pe=P==="min";var Me=ie.lang[pe?"rangeSelectorFrom":"rangeSelectorTo"]||"";Me=ae.label(Me,0).addClass("highcharts-range-label").attr({padding:Me?2:0,height:Me?K.inputBoxHeight:0}).add(M),ae=ae.label("",0).addClass("highcharts-range-input").attr({padding:2,width:K.inputBoxWidth,height:K.inputBoxHeight,"text-align":"center"}).on("click",function(){O.showInput(P),O[P+"Input"].focus()}),_.styledMode||ae.attr({stroke:K.inputBoxBorderColor,"stroke-width":1}),ae.add(M);const Pe=q("input",{name:P,className:"highcharts-range-selector"},void 0,v);Pe.setAttribute("type",z(K.inputDateFormat||"%e %b %Y")),_.styledMode||(Me.css($(ee,K.labelStyle)),ae.css($({color:"#333333"},ee,K.inputStyle)),Z(Pe,R({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:ee.fontSize,fontFamily:ee.fontFamily,top:"-9999em"},K.inputStyle))),Pe.onfocus=()=>{O.showInput(P)},Pe.onblur=()=>{Pe===u.doc.activeElement&&L(),O.hideInput(P),O.setInputValue(P),Pe.blur()};let W=!1;return Pe.onchange=()=>{W||(L(),O.hideInput(P),Pe.blur())},Pe.onkeypress=le=>{le.keyCode===13&&L()},Pe.onkeydown=le=>{W=!0,le.keyCode!==38&&le.keyCode!==40||L()},Pe.onkeyup=()=>{W=!1},{dateBox:ae,input:Pe,label:Me}}getPosition(){var P=this.chart;const L=P.options.rangeSelector;return P=L.verticalAlign==="top"?P.plotTop-P.axisOffset[0]:0,{buttonTop:P+L.buttonPosition.y,inputTop:P+L.inputPosition.y-10}}getYTDExtremes(P,L,_){const v=this.chart.time;var M=new v.Date(P);const O=v.get("FullYear",M);return _=_?v.Date.UTC(O,0,1):+new v.Date(O,0,1),L=Math.max(L,_),M=M.getTime(),{max:Math.min(P||M,M),min:L}}render(P,L){var _=this.chart,v=_.renderer;const M=_.container;var O=_.options;const ee=O.rangeSelector,ae=te(O.chart.style&&O.chart.style.zIndex,0)+1;if(O=ee.inputEnabled,ee.enabled!==!1){if(this.rendered||(this.group=v.g("range-selector-group").attr({zIndex:7}).add(),this.div=q("div",void 0,{position:"relative",height:0,zIndex:ae}),this.buttonOptions.length&&this.renderButtons(),M.parentNode&&M.parentNode.insertBefore(this.div,M),O&&(this.inputGroup=v.g("input-group").add(this.group),v=this.drawInput("min"),this.minDateBox=v.dateBox,this.minLabel=v.label,this.minInput=v.input,v=this.drawInput("max"),this.maxDateBox=v.dateBox,this.maxLabel=v.label,this.maxInput=v.input)),O&&(this.setInputValue("min",P),this.setInputValue("max",L),P=_.scroller&&_.scroller.getUnionExtremes()||_.xAxis[0]||{},F(P.dataMin)&&F(P.dataMax)&&(_=_.xAxis[0].minRange||0,this.setInputExtremes("min",P.dataMin,Math.min(P.dataMax,this.getInputValue("max"))-_),this.setInputExtremes("max",Math.max(P.dataMin,this.getInputValue("min"))+_,P.dataMax)),this.inputGroup)){let K=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(pe=>{if(pe){const{width:Me}=pe.getBBox();Me&&(pe.attr({x:K}),K+=Me+ee.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:P,chart:L,options:_}=this,v=ie.lang,M=L.renderer,O=$(_.buttonTheme),ee=O&&O.states,ae=O.width||28;delete O.width,delete O.states,this.buttonGroup=M.g("range-selector-buttons").add(this.group);const K=this.dropdown=q("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);G(K,"touchstart",()=>{K.style.fontSize="16px"}),[[u.isMS?"mouseover":"mouseenter"],[u.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([pe,Me])=>{G(K,pe,()=>{const Pe=P[this.currentButtonIndex()];Pe&&D(Pe.element,Me||pe)})}),this.zoomText=M.label(v&&v.rangeSelectorZoom||"",0).attr({padding:_.buttonTheme.padding,height:_.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(_.labelStyle),O["stroke-width"]=te(O["stroke-width"],0)),q("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,K),this.buttonOptions.forEach((pe,Me)=>{q("option",{textContent:pe.title||pe.text},void 0,K),P[Me]=M.button(pe.text,0,0,Pe=>{const W=pe.events&&pe.events.click;let le;W&&(le=W.call(pe,Pe)),le!==!1&&this.clickButton(Me),this.isActive=!0},O,ee&&ee.hover,ee&&ee.select,ee&&ee.disabled).attr({"text-align":"center",width:ae}).add(this.buttonGroup),pe.title&&P[Me].attr("title",pe.title)})}alignElements(){const{buttonGroup:P,buttons:L,chart:_,group:v,inputGroup:M,options:O,zoomText:ee}=this;var ae=_.options;const K=ae.exporting&&ae.exporting.enabled!==!1&&ae.navigation&&ae.navigation.buttonOptions,{buttonPosition:pe,inputPosition:Me,verticalAlign:Pe}=O;ae=(xe,Le)=>K&&this.titleCollision(_)&&Pe==="top"&&Le.align==="right"&&Le.y-xe.getBBox().height-12<(K.y||0)+(K.height||0)+_.spacing[0]?-40:0;var W=_.plotLeft;if(v&&pe&&Me){var le=pe.x-_.spacing[3];if(P){if(this.positionButtons(),!this.initialButtonGroupWidth){let ve=0;ee&&(ve+=ee.getBBox().width+5),L.forEach((_e,se)=>{ve+=_e.width,se!==L.length-1&&(ve+=O.buttonSpacing)}),this.initialButtonGroupWidth=ve}W-=_.spacing[3],this.updateButtonStates();var ue=ae(P,pe);this.alignButtonGroup(ue),v.placed=P.placed=_.hasLoaded}ue=0,M&&(ue=ae(M,Me),Me.align==="left"?le=W:Me.align==="right"&&(le=-Math.max(_.axisOffset[1],-ue)),M.align({y:Me.y,width:M.getBBox().width,align:Me.align,x:Me.x+le-2},!0,_.spacingBox),M.placed=_.hasLoaded),this.handleCollision(ue),v.align({verticalAlign:Pe},!0,_.spacingBox),ae=v.alignAttr.translateY,W=v.getBBox().height+20,le=0,Pe==="bottom"&&(le=(le=_.legend&&_.legend.options)&&le.verticalAlign==="bottom"&&le.enabled&&!le.floating?_.legend.legendHeight+te(le.margin,10):0,W=W+le-20,le=ae-W-(O.floating?0:O.y)-(_.titleOffset?_.titleOffset[2]:0)-10),Pe==="top"?(O.floating&&(le=0),_.titleOffset&&_.titleOffset[0]&&(le=_.titleOffset[0]),le+=_.margin[0]-_.spacing[0]||0):Pe==="middle"&&(Me.y===pe.y?le=ae:(Me.y||pe.y)&&(le=0>Me.y||0>pe.y?le-Math.min(Me.y,pe.y):ae-W)),v.translate(O.x,O.y+Math.floor(le));const{minInput:xe,maxInput:Le,dropdown:oe}=this;O.inputEnabled&&xe&&Le&&(xe.style.marginTop=v.translateY+"px",Le.style.marginTop=v.translateY+"px"),oe&&(oe.style.marginTop=v.translateY+"px")}}alignButtonGroup(P,L){const{chart:_,options:v,buttonGroup:M}=this,{buttonPosition:O}=v,ee=_.plotLeft-_.spacing[3];let ae=O.x-_.spacing[3];O.align==="right"?ae+=P-ee:O.align==="center"&&(ae-=ee/2),M&&M.align({y:O.y,width:te(L,this.initialButtonGroupWidth),align:O.align,x:ae},!0,_.spacingBox)}positionButtons(){const{buttons:P,chart:L,options:_,zoomText:v}=this,M=L.hasLoaded?"animate":"attr",{buttonPosition:O}=_,ee=L.plotLeft;let ae=ee;v&&v.visibility!=="hidden"&&(v[M]({x:te(ee+O.x,ee)}),ae+=O.x+v.getBBox().width+5);for(let K=0,pe=this.buttonOptions.length;K<pe;++K)P[K].visibility!=="hidden"?(P[K][M]({x:ae}),ae+=P[K].width+_.buttonSpacing):P[K][M]({x:ee})}handleCollision(P){const{chart:L,buttonGroup:_,inputGroup:v}=this,{buttonPosition:M,dropdown:O,inputPosition:ee}=this.options,ae=()=>{let Me=0;return this.buttons.forEach(Pe=>{Pe=Pe.getBBox(),Pe.width>Me&&(Me=Pe.width)}),Me},K=Me=>{if(v&&_){const Pe=v.alignAttr.translateX+v.alignOptions.x-P+v.getBBox().x+2,W=v.alignOptions.width,le=_.alignAttr.translateX+_.getBBox().x;return le+Me>Pe&&Pe+W>le&&M.y<ee.y+v.getBBox().height}return!1},pe=()=>{v&&_&&v.attr({translateX:v.alignAttr.translateX+(L.axisOffset[1]>=-P?0:-P),translateY:v.alignAttr.translateY+_.getBBox().height+10})};if(_){if(O==="always"){this.collapseButtons(P),K(ae())&&pe();return}O==="never"&&this.expandButtons()}v&&_?ee.align===M.align||K(this.initialButtonGroupWidth+20)?O==="responsive"?(this.collapseButtons(P),K(ae())&&pe()):pe():O==="responsive"&&this.expandButtons():_&&O==="responsive"&&(this.initialButtonGroupWidth>L.plotWidth?this.collapseButtons(P):this.expandButtons())}collapseButtons(P){const{buttons:L,buttonOptions:_,chart:v,dropdown:M,options:O,zoomText:ee}=this,ae=v.userOptions.rangeSelector&&v.userOptions.rangeSelector.buttonTheme||{},K=Pe=>({text:Pe?`${Pe} ▾`:"▾",width:"auto",paddingLeft:te(O.buttonTheme.paddingLeft,ae.padding,8),paddingRight:te(O.buttonTheme.paddingRight,ae.padding,8)});ee&&ee.hide();let pe=!1;_.forEach((Pe,W)=>{W=L[W],W.state!==2?W.hide():(W.show(),W.attr(K(Pe.text)),pe=!0)}),pe||(M&&(M.selectedIndex=0),L[0].show(),L[0].attr(K(this.zoomText&&this.zoomText.textStr)));const{align:Me}=O.buttonPosition;this.positionButtons(),Me!=="right"&&Me!=="center"||this.alignButtonGroup(P,L[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:P,buttonOptions:L,options:_,zoomText:v}=this;this.hideDropdown(),v&&v.show(),L.forEach((M,O)=>{O=P[O],O.show(),O.attr({text:M.text,width:_.buttonTheme.width||28,paddingLeft:te(_.buttonTheme.paddingLeft,"unset"),paddingRight:te(_.buttonTheme.paddingRight,"unset")}),2>O.state&&O.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:P}=this;return P&&0<P.selectedIndex?P.selectedIndex-1:0}showDropdown(){const{buttonGroup:P,buttons:L,chart:_,dropdown:v}=this;if(P&&v){const{translateX:M,translateY:O}=P,ee=L[this.currentButtonIndex()].getBBox();Z(v,{left:_.plotLeft+M+"px",top:O+.5+"px",width:ee.width+"px",height:ee.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:P}=this;P&&(Z(P,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var P=this.options,L=this.group;const _=P.y,v=P.buttonPosition.y,M=P.inputPosition.y;return P.height?P.height:(this.alignElements(),P=L?L.getBBox(!0).height+13+_:0,L=Math.min(M,v),(0>M&&0>v||0<M&&0<v)&&(P+=Math.abs(L)),P)}titleCollision(P){return!(P.options.title.text||P.options.subtitle.text)}update(P){const L=this.chart;$(!0,L.options.rangeSelector,P),this.destroy(),this.init(L),this.render()}destroy(){const P=this,L=P.minInput,_=P.maxInput;P.eventsToUnbind&&(P.eventsToUnbind.forEach(v=>v()),P.eventsToUnbind=void 0),U(P.buttons),L&&(L.onfocus=L.onblur=L.onchange=null),_&&(_.onfocus=_.onblur=_.onchange=null),j(P,function(v,M){v&&M!=="chart"&&(v instanceof n?v.destroy():v instanceof window.HTMLElement&&re(v)),v!==V.prototype[M]&&(P[M]=null)},this)}}return R(V.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),V}),s(i,"Core/Axis/OrdinalAxis.js",[i["Core/Axis/Axis.js"],i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],function(l,h,u,y){const{addEvent:n,correctFloat:w,css:z,defined:ie,error:G,pick:q,timeUnits:Z}=y,F=[];var U;return function(re){function R(L,_,v,M,O=[],ee=0,ae){const K={},pe=this.options.tickPixelInterval;var Me=this.chart.time,Pe=[],W;let le,ue;var xe=0;let Le=[],oe=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!O||3>O.length||typeof _>"u")return Me.getTimeTicks.apply(Me,arguments);const ve=O.length;for(W=0;W<ve;W++){if(ue=W&&O[W-1]>v,O[W]<_&&(xe=W),W===ve-1||O[W+1]-O[W]>5*ee||ue){if(O[W]>oe){for(le=Me.getTimeTicks(L,O[xe],O[W],M);le.length&&le[0]<=oe;)le.shift();le.length&&(oe=le[le.length-1]),Pe.push(Le.length),Le=Le.concat(le)}xe=W+1}if(ue)break}if(le){if(O=le.info,ae&&O.unitRange<=Z.hour){for(W=Le.length-1,xe=1;xe<W;xe++)if(Me.dateFormat("%d",Le[xe])!==Me.dateFormat("%d",Le[xe-1])){K[Le[xe]]="day";var _e=!0}_e&&(K[Le[0]]="day"),O.higherRanks=K}O.segmentStarts=Pe,Le.info=O}else G(12,!1,this.chart);if(ae&&ie(pe)){xe=Le.length,Me=[],_e=[];let se;for(W=xe;W--;)Pe=this.translate(Le[W]),se&&(_e[W]=se-Pe),Me[W]=se=Pe;for(_e.sort(),_e=_e[Math.floor(_e.length/2)],_e<.6*pe&&(_e=null),W=Le[xe-1]>v?xe-1:xe,se=void 0;W--;)Pe=Me[W],xe=Math.abs(se-Pe),se&&xe<.8*pe&&(_e===null||xe<.8*_e)?(K[Le[W]]&&!K[Le[W+1]]?(xe=W+1,se=Pe):xe=W,Le.splice(xe,1)):se=Pe}return Le}function D(L){const _=this.ordinal.positions;if(!_)return L;let v=_.length-1,M;return 0>L?L=_[0]:L>v?L=_[v]:(v=Math.floor(L),M=L-v),typeof M<"u"&&typeof _[v]<"u"?_[v]+(M?M*(_[v+1]-_[v]):0):L}function N(L){var _=this.ordinal,v=_.positions;if(!v)return L;var M=(L-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<M&&M<this.left+this.len||(_.extendedOrdinalPositions||(_.extendedOrdinalPositions=_.getExtendedPositions()),v=_.extendedOrdinalPositions),v&&v.length){if(L=_.getIndexOfPoint(M,v),_=w(L%1),0<=L&&L<v.length-1)return v[Math.floor(L)]+_*(v[Math.ceil(L)]-v[Math.floor(L)]);_=v.length,M=v[0],v=v[_-1];const O=(v-M)/(_-1);return 0>L?M+O*L:v+O*(L-_)}return L}function $(L,_){const v=re.Additions.findIndexOf(L,_,!0);return L[v]===_?v:v+(_-L[v])/(L[v+1]-L[v])}function j(){this.ordinal||(this.ordinal=new re.Additions(this))}function S(){this.isXAxis&&ie(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&ie(this.userMin)&&(this.min+=this.options.overscroll))}function te(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function Y(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function I(L){const _=this.xAxis[0],v=_.options.overscroll,M=L.originalEvent.chartX,O=this.options.chart.panning;let ee=!1;if(O&&O.type!=="y"&&_.options.ordinal&&_.series.length){var ae=this.mouseDownX;const Pe=_.getExtremes(),W=Pe.dataMax,le=Pe.min,ue=Pe.max;var K=this.hoverPoints,pe=_.closestPointRange||_.ordinal&&_.ordinal.overscrollPointsRange;ae=(ae-M)/(_.translationSlope*(_.ordinal.slope||pe)),pe=_.ordinal.getExtendedPositions();var Me={ordinal:{positions:pe,extendedOrdinalPositions:pe}};pe=_.index2val;const xe=_.val2lin;let Le;Me.ordinal.positions?1<Math.abs(ae)&&(K&&K.forEach(function(oe){oe.setState()}),0>ae?(K=Me,Le=_.ordinal.positions?_:Me):(K=_.ordinal.positions?_:Me,Le=Me),Me=Le.ordinal.positions,W>Me[Me.length-1]&&Me.push(W),this.fixedRange=ue-le,ae=_.navigatorAxis.toFixedRange(void 0,void 0,pe.apply(K,[xe.apply(K,[le,!0])+ae]),pe.apply(Le,[xe.apply(Le,[ue,!0])+ae])),ae.min>=Math.min(Pe.dataMin,le)&&ae.max<=Math.max(W,ue)+v&&_.setExtremes(ae.min,ae.max,!0,!1,{trigger:"pan"}),this.mouseDownX=M,z(this.container,{cursor:"move"})):ee=!0}else ee=!0;ee||O&&/y/.test(O.type)?v&&(_.max=_.dataMax+v):L.preventDefault()}function V(){const L=this.xAxis;L&&L.options.ordinal&&(delete L.ordinal.index,delete L.ordinal.extendedOrdinalPositions)}function X(L,_){const v=this.ordinal;var M=v.positions;let O=v.slope,ee=v.extendedOrdinalPositions;if(!M)return L;var ae=M.length;if(M[0]<=L&&M[ae-1]>=L)L=$(M,L);else{if(ee||(ee=v.getExtendedPositions&&v.getExtendedPositions(),v.extendedOrdinalPositions=ee),!ee||!ee.length)return L;ae=ee.length,O||(O=(ee[ae-1]-ee[0])/ae),M=$(ee,M[0]),L=L>=ee[0]&&L<=ee[ae-1]?$(ee,L)-M:L<ee[0]?-M-(ee[0]-L)/O:(L-ee[ae-1])/O+ae-M}return _?L:O*(L||0)+v.offset}re.compose=function(L,_,v){if(y.pushUnique(F,L)){const M=L.prototype;M.getTimeTicks=R,M.index2val=D,M.lin2val=N,M.val2lin=X,M.ordinal2lin=M.val2lin,n(L,"afterInit",j),n(L,"foundExtremes",S),n(L,"afterSetScale",te),n(L,"initialAxisTranslation",Y)}return y.pushUnique(F,v)&&n(v,"pan",I),y.pushUnique(F,_)&&n(_,"updatedData",V),L};class P{constructor(_){this.index={},this.axis=_}beforeSetTickPositions(){const _=this.axis,v=_.ordinal;var M=_.getExtremes();const O=M.min;var ee=M.max;const ae=_.isXAxis&&!!_.options.breaks;M=_.options.ordinal;const K=_.chart.options.chart.ignoreHiddenSeries;let pe,Me;var Pe;let W=[],le=Number.MAX_VALUE,ue=!1,xe=!1,Le=!1;if(M||ae){let ve=0;if(_.series.forEach(function(_e,se){if(Me=[],0<se&&_e.options.id!=="highcharts-navigator-series"&&1<_e.processedXData.length&&(xe=ve!==_e.processedXData[1]-_e.processedXData[0]),ve=_e.processedXData[1]-_e.processedXData[0],_e.boosted&&(Le=_e.boosted),!(K&&_e.visible===!1||_e.takeOrdinalPosition===!1&&!ae)&&(W=W.concat(_e.processedXData),pe=W.length,W.sort(function(fe,ye){return fe-ye}),le=Math.min(le,q(_e.closestPointRange,le)),pe)){for(se=0;se<pe-1;)W[se]!==W[se+1]&&Me.push(W[se+1]),se++;Me[0]!==W[0]&&Me.unshift(W[0]),W=Me}}),xe&&Le&&(W.pop(),W.shift()),pe=W.length,2<pe){var oe=W[1]-W[0];for(Pe=pe-1;Pe--&&!ue;)W[Pe+1]-W[Pe]!==oe&&(ue=!0);!_.options.keepOrdinalPadding&&(W[0]-O>oe||ee-W[W.length-1]>oe)&&(ue=!0)}else _.options.overscroll&&(pe===2?le=W[1]-W[0]:pe===1?(le=_.options.overscroll,W=[W[0],W[0]+le]):le=v.overscrollPointsRange);ue||_.forceOrdinal?(_.options.overscroll&&(v.overscrollPointsRange=le,W=W.concat(v.getOverscrollPositions())),v.positions=W,oe=_.ordinal2lin(Math.max(O,W[0]),!0),Pe=Math.max(_.ordinal2lin(Math.min(ee,W[W.length-1]),!0),1),v.slope=ee=(ee-O)/(Pe-oe),v.offset=O-oe*ee):(v.overscrollPointsRange=q(_.closestPointRange,v.overscrollPointsRange),v.positions=_.ordinal.slope=v.offset=void 0)}_.isOrdinal=M&&ue,v.groupIntervalFactor=null}static findIndexOf(_,v,M){let O=0,ee=_.length-1,ae;for(;O<ee;)ae=Math.ceil((O+ee)/2),_[ae]<=v?O=ae:ee=ae-1;return _[O]===v||M?O:-1}getExtendedPositions(){const _=this,v=_.axis,M=v.constructor.prototype,O=v.chart,ee=v.series[0].currentDataGrouping,ae=ee?ee.count+ee.unitName:"raw",K=v.options.overscroll,pe=v.getExtremes();let Me,Pe,W=_.index;return W||(W=_.index={}),W[ae]||(Me={series:[],chart:O,forceOrdinal:!1,getExtremes:function(){return{min:pe.dataMin,max:pe.dataMax+K}},getGroupPixelWidth:M.getGroupPixelWidth,getTimeTicks:M.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:M.ordinal2lin,getIndexOfPoint:M.getIndexOfPoint,val2lin:M.val2lin},Me.ordinal.axis=Me,v.series.forEach(function(le){Pe={xAxis:Me,xData:le.xData.slice(),chart:O,destroyGroupedData:h.noop,getProcessedData:u.prototype.getProcessedData,applyGrouping:u.prototype.applyGrouping},Pe.xData=Pe.xData.concat(_.getOverscrollPositions()),Pe.options={dataGrouping:ee?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[ee.unitName,[ee.count]]]}:{enabled:!1}},Me.series.push(Pe),le.processData.apply(Pe)}),Pe.closestPointRange!==Pe.basePointRange&&Pe.currentDataGrouping&&(Me.forceOrdinal=!0),v.ordinal.beforeSetTickPositions.apply({axis:Me}),W[ae]=Me.ordinal.positions),W[ae]}getGroupIntervalFactor(_,v,M){M=M.processedXData;const O=M.length;var ee=[],ae=this.groupIntervalFactor;if(!ae){for(ae=0;ae<O-1;ae++)ee[ae]=M[ae+1]-M[ae];ee.sort(function(K,pe){return K-pe}),ee=ee[Math.floor(O/2)],_=Math.max(_,M[0]),v=Math.min(v,M[O-1]),this.groupIntervalFactor=ae=O*ee/(v-_)}return ae}getIndexOfPoint(_,v){const M=this.axis,O=this.positions?this.positions[0]:0;let ee=M.series[0].points&&M.series[0].points[0]&&M.series[0].points[0].plotX||M.minPixelPadding;return 1<M.series.length&&M.series.forEach(function(ae){ae.points&&ie(ae.points[0])&&ie(ae.points[0].plotX)&&ae.points[0].plotX<ee&&ae.points[0].plotX>=q(M.min,-1/0)&&(ee=ae.points[0].plotX)}),_=(_-ee)/(M.translationSlope*(this.slope||M.closestPointRange||this.overscrollPointsRange)),P.findIndexOf(v,O)+_}getOverscrollPositions(){const _=this.axis,v=_.options.overscroll,M=this.overscrollPointsRange,O=[];let ee=_.dataMax;if(ie(M))for(;ee<=_.dataMax+v;)ee+=M,O.push(ee);return O}postProcessTickInterval(_){const v=this.axis,M=this.slope;return M?v.options.breaks?v.closestPointRange||_:_/(M/v.closestPointRange):_}}re.Additions=P}(U||(U={})),U}),s(i,"Series/HLC/HLCPoint.js",[i["Core/Series/SeriesRegistry.js"]],function(l){({column:{prototype:{pointClass:l}}}=l.seriesTypes);class h extends l{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}return h}),s(i,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),s(i,"Series/HLC/HLCSeries.js",[i["Series/HLC/HLCPoint.js"],i["Series/HLC/HLCSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y){const{column:n}=u.seriesTypes,{extend:w,merge:z}=y;class ie extends n{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(q,Z,F){const U=q[0];q=q[1],typeof U[2]=="number"&&(U[2]=Math.max(F+Z,U[2])),typeof q[2]=="number"&&(q[2]=Math.min(F-Z,q[2]))}getPointPath(q,Z){Z=Z.strokeWidth();const F=q.series,U=Z%2/2,re=Math.round(q.plotX)-U,R=Math.round(q.shapeArgs.width/2),D=[["M",re,Math.round(q.yBottom)],["L",re,Math.round(q.plotHigh)]];return q.close!==null&&(q=Math.round(q.plotClose)+U,D.push(["M",re,q],["L",re+R,q]),F.extendStem(D,Z/2,q)),D}drawSinglePoint(q){var Z=q.series;const F=Z.chart;let U=q.graphic;typeof q.plotY<"u"&&(U||(q.graphic=U=F.renderer.path().add(Z.group)),F.styledMode||U.attr(Z.pointAttribs(q,q.selected&&"select")),Z=Z.getPointPath(q,U),U[U?"animate":"attr"]({d:Z}).addClass(q.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(q,Z){return q=super.pointAttribs.call(this,q,Z),delete q.fill,q}toYData(q){return[q.high,q.low,q.close]}translate(){const q=this,Z=q.yAxis,F=this.pointArrayMap&&this.pointArrayMap.slice()||[],U=F.map(re=>`plot${re.charAt(0).toUpperCase()+re.slice(1)}`);U.push("yBottom"),F.push("low"),super.translate.apply(q),q.points.forEach(function(re){F.forEach(function(R,D){R=re[R],R!==null&&(q.dataModify&&(R=q.dataModify.modifyValue(R)),re[U[D]]=Z.toPixels(R,!0))}),re.tooltipPos[1]=re.plotHigh+Z.pos-q.chart.plotTop})}}return ie.defaultOptions=z(n.defaultOptions,h),w(ie.prototype,{pointClass:l,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),u.registerSeriesType("hlc",ie),ie}),s(i,"Series/OHLC/OHLCPoint.js",[i["Core/Series/SeriesRegistry.js"]],function(l){({seriesTypes:{hlc:l}}=l);class h extends l.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const y=super.getZone();return this.resolveUpColor(),y}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return h}),s(i,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),s(i,"Series/OHLC/OHLCSeries.js",[i["Series/OHLC/OHLCPoint.js"],i["Series/OHLC/OHLCSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y){function n(U){U=U.options;const re=U.dataGrouping;re&&U.useOhlcData&&U.id!=="highcharts-navigator-series"&&(re.approximation="ohlc")}function w(U){U=U.options,U.useOhlcData&&U.id!=="highcharts-navigator-series"&&G(this,{pointValKey:F.prototype.pointValKey,pointArrayMap:F.prototype.pointArrayMap,toYData:F.prototype.toYData})}const{seriesTypes:{hlc:z}}=u,{addEvent:ie,extend:G,merge:q}=y,Z=[];class F extends z{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(re,...R){y.pushUnique(Z,re)&&(ie(re,"afterSetOptions",n),ie(re,"init",w))}getPointPath(re,R){const D=super.getPointPath(re,R);R=R.strokeWidth();const N=R%2/2,$=Math.round(re.plotX)-N,j=Math.round(re.shapeArgs.width/2);return re.open!==null&&(re=Math.round(re.plotOpen)+N,D.push(["M",$,re],["L",$-j,re]),super.extendStem(D,R/2,re)),D}pointAttribs(re,R){R=super.pointAttribs.call(this,re,R);const D=this.options;return delete R.fill,!re.options.color&&D.upColor&&re.open<re.close&&(R.stroke=D.upColor),R}toYData(re){return[re.open,re.high,re.low,re.close]}}return F.defaultOptions=q(z.defaultOptions,h),G(F.prototype,{pointClass:l,pointArrayMap:["open","high","low","close"]}),u.registerSeriesType("ohlc",F),F}),s(i,"Series/Candlestick/CandlestickSeriesDefaults.js",[i["Core/Defaults.js"],i["Core/Utilities.js"]],function(l,h){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),s(i,"Series/Candlestick/CandlestickSeries.js",[i["Series/Candlestick/CandlestickSeriesDefaults.js"],i["Core/Defaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h,u,y){({defaultOptions:h}=h);const{column:n,ohlc:w}=u.seriesTypes;({merge:y}=y);class z extends w{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(G,q){const Z=n.prototype.pointAttribs.call(this,G,q),F=this.options,U=G.open<G.close,re=F.lineColor||this.color,R=G.color||this.color;return Z["stroke-width"]=F.lineWidth,Z.fill=G.options.color||U&&F.upColor||R,Z.stroke=G.options.lineColor||U&&F.upLineColor||re,q&&(G=F.states[q],Z.fill=G.color||Z.fill,Z.stroke=G.lineColor||Z.stroke,Z["stroke-width"]=G.lineWidth||Z["stroke-width"]),Z}drawPoints(){var G=this.points;const q=this.chart,Z=this.yAxis.reversed;for(const R of G){G=R.graphic;var F=void 0,U=void 0;let D,N;var re=void 0;let $,j;const S=!G;typeof R.plotY<"u"&&(G||(R.graphic=G=q.renderer.path().add(this.group)),this.chart.styledMode||G.attr(this.pointAttribs(R,R.selected&&"select")).shadow(this.options.shadow),re=G.strokeWidth()%2/2,$=Math.round(R.plotX)-re,F=R.plotOpen,U=R.plotClose,D=Math.min(F,U),F=Math.max(F,U),j=Math.round(R.shapeArgs.width/2),U=Z?F!==R.yBottom:Math.round(D)!==Math.round(R.plotHigh),N=Z?Math.round(D)!==Math.round(R.plotHigh):F!==R.yBottom,D=Math.round(D)+re,F=Math.round(F)+re,re=[],re.push(["M",$-j,F],["L",$-j,D],["L",$+j,D],["L",$+j,F],["Z"],["M",$,D],["L",$,U?Math.round(Z?R.yBottom:R.plotHigh):D],["M",$,F],["L",$,N?Math.round(Z?R.plotHigh:R.yBottom):F]),G[S?"attr":"animate"]({d:re}).addClass(R.getClassName(),!0))}}}return z.defaultOptions=y(w.defaultOptions,h.plotOptions,{tooltip:w.defaultOptions.tooltip},l),u.registerSeriesType("candlestick",z),z}),s(i,"Series/Flags/FlagsPoint.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(l,h){({column:{prototype:{pointClass:l}}}=l.seriesTypes);const{isNumber:u}=h;class y extends l{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return u(this.y)||typeof this.y>"u"}hasNewShapeType(){const w=this.options.shape||this.series.options.shape;return this.graphic&&w&&w!==this.graphic.symbolKey}}return y}),s(i,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),s(i,"Series/Flags/FlagsSymbols.js",[i["Core/Renderer/RendererRegistry.js"]],function(l){var h;return function(u){function y(z,ie,G,q,Z){const F=Z&&Z.anchorX||z;Z=Z&&Z.anchorY||ie;const U=this.circle(F-1,Z-1,2,2);return U.push(["M",F,Z],["L",z,ie+q],["L",z,ie],["L",z+G,ie],["L",z+G,ie+q],["L",z,ie+q],["Z"]),U}function n(z,ie){z[ie+"pin"]=function(G,q,Z,F,U){const re=U&&U.anchorX;U=U&&U.anchorY;let R;if(ie==="circle"&&F>Z&&(G-=Math.round((F-Z)/2),Z=F),R=z[ie](G,q,Z,F),re&&U){let D=re;ie==="circle"?D=G+Z/2:(G=R[0],Z=R[1],G[0]==="M"&&Z[0]==="L"&&(D=(G[1]+Z[1])/2)),R.push(["M",D,q>U?q:q+F],["L",re,U]),R=R.concat(z.circle(re-1,U-1,2,2))}return R}}const w=[];u.compose=function(z){w.indexOf(z)===-1&&(w.push(z),z=z.prototype.symbols,z.flag=y,n(z,"circle"),n(z,"square")),z=l.getRendererType(),w.indexOf(z)&&w.push(z)}}(h||(h={})),h}),s(i,"Series/OnSeriesComposition.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],function(l,h,u){const{prototype:y}=l,{prototype:n}=h,{defined:w,stableSort:z}=u;var ie;return function(G){function q(U){return n.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,U)}function Z(){y.translate.apply(this);const U=this;var re=U.options,R=U.chart;const D=U.points;var N=re.onSeries;const $=(N=N&&R.get(N))&&N.options.step,j=N&&N.points,S=R.inverted,te=U.xAxis,Y=U.yAxis;R=D.length-1;let I;re=re.onKey||"y";let V=j&&j.length,X=0,P,L,_,v;if(N&&N.visible&&V){X=(N.pointXOffset||0)+(N.barW||0)/2;var M=N.currentDataGrouping;for(L=j[V-1].x+(M?M.totalRange:0),z(D,(O,ee)=>O.x-ee.x),re="plot"+re[0].toUpperCase()+re.substr(1);V--&&D[R]&&(P=j[V],M=D[R],M.y=P.y,!(P.x<=M.x&&typeof P[re]<"u"&&(M.x<=L&&(M.plotY=P[re],P.x<M.x&&!$&&(_=j[V+1])&&typeof _[re]<"u"&&(v=(M.x-P.x)/(_.x-P.x),M.plotY+=v*(_[re]-P[re]),M.y+=v*(_.y-P.y))),R--,V++,0>R))););}D.forEach((O,ee)=>{let ae;O.plotX+=X,(typeof O.plotY>"u"||S)&&(0<=O.plotX&&O.plotX<=te.len?S?(O.plotY=te.translate(O.x,0,1,0,1),O.plotX=w(O.y)?Y.translate(O.y,0,0,0,1):0):O.plotY=(te.opposite?0:U.yAxis.len)+te.offset:O.shapeArgs={}),(I=D[ee-1])&&I.plotX===O.plotX&&(typeof I.stackIndex>"u"&&(I.stackIndex=0),ae=I.stackIndex+1),O.stackIndex=ae}),this.onSeries=N}const F=[];G.compose=function(U){if(u.pushUnique(F,U)){const re=U.prototype;re.getPlotBox=q,re.translate=Z}return U},G.getPlotBox=q,G.translate=Z}(ie||(ie={})),ie}),s(i,"Series/Flags/FlagsSeries.js",[i["Series/Flags/FlagsPoint.js"],i["Series/Flags/FlagsSeriesDefaults.js"],i["Series/Flags/FlagsSymbols.js"],i["Core/Globals.js"],i["Series/OnSeriesComposition.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(l,h,u,y,n,w,z,ie,G){({noop:y}=y);const{distribute:q}=w,{series:Z,seriesTypes:{column:F}}=z,{addEvent:U,defined:re,extend:R,merge:D,objectEach:N,wrap:$}=G;class j extends F{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(te){te&&this.setClip()}drawPoints(){var te=this.points,Y=this.chart;const I=Y.renderer,V=Y.inverted,X=this.options,P=X.y,L=this.yAxis,_={},v=[];let M,O,ee,ae,K,pe,Me;for(ee=te.length;ee--;){ae=te[ee],pe=(V?ae.plotY:ae.plotX)>this.xAxis.len,M=ae.plotX;var Pe=ae.stackIndex,W=ae.options.shape||X.shape;O=ae.plotY,typeof O<"u"&&(O=ae.plotY+P-(typeof Pe<"u"&&Pe*X.stackDistance)),ae.anchorX=Pe?void 0:ae.plotX,K=Pe?void 0:ae.plotY,Me=W!=="flag",Pe=ae.graphic,typeof O<"u"&&0<=M&&!pe?(Pe&&ae.hasNewShapeType()&&(Pe=Pe.destroy()),Pe||(Pe=ae.graphic=I.label("",null,null,W,null,null,X.useHTML).addClass("highcharts-point").add(this.markerGroup),ae.graphic.div&&(ae.graphic.div.point=ae),Pe.isNew=!0),Pe.attr({align:Me?"center":"left",width:X.width,height:X.height,"text-align":X.textAlign}),Y.styledMode||Pe.attr(this.pointAttribs(ae)).css(D(X.style,ae.style)).shadow(X.shadow),0<M&&(M-=Pe.strokeWidth()%2),W={y:O,anchorY:K},X.allowOverlapX&&(W.x=M,W.anchorX=ae.anchorX),Pe.attr({text:ae.options.title||X.title||"A"})[Pe.isNew?"attr":"animate"](W),X.allowOverlapX||(_[ae.plotX]?_[ae.plotX].size=Math.max(_[ae.plotX].size,Pe.width):_[ae.plotX]={align:Me?.5:0,size:Pe.width,target:M,anchorX:M}),ae.tooltipPos=[M,O+L.pos-Y.plotTop]):Pe&&(ae.graphic=Pe.destroy())}if(!X.allowOverlapX){let le=100;N(_,function(ue){ue.plotX=ue.anchorX,v.push(ue),le=Math.max(ue.size,le)}),q(v,V?L.len:this.xAxis.len,le);for(const ue of te)Y=ue.plotX,(Y=(te=ue.graphic)&&_[Y])&&te&&(re(Y.pos)?te[te.isNew?"attr":"animate"]({x:Y.pos+(Y.align||0)*Y.size,anchorX:ue.anchorX}).show().isNew=!1:te.hide().isNew=!0)}X.useHTML&&this.markerGroup&&$(this.markerGroup,"on",function(le){return ie.prototype.on.apply(le.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const te=this.points;super.drawTracker();for(const Y of te){const I=Y.graphic;I&&(Y.unbindMouseOver&&Y.unbindMouseOver(),Y.unbindMouseOver=U(I.element,"mouseover",function(){0<Y.stackIndex&&!Y.raised&&(Y._y=I.y,I.attr({y:Y._y-8}),Y.raised=!0);for(const V of te)V!==Y&&V.raised&&V.graphic&&(V.graphic.attr({y:V._y}),V.raised=!1)}))}}pointAttribs(te,Y){const I=this.options,V=te&&te.color||this.color;let X=I.lineColor,P=te&&te.lineWidth;return te=te&&te.fillColor||I.fillColor,Y&&(te=I.states[Y].fillColor,X=I.states[Y].lineColor,P=I.states[Y].lineWidth),{fill:te||V,stroke:X||V,"stroke-width":P||I.lineWidth||0}}setClip(){Z.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return j.compose=u.compose,j.defaultOptions=D(F.defaultOptions,h),n.compose(j),R(j.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:l,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:y,init:Z.prototype.init}),z.registerSeriesType("flags",j),j}),s(i,"Core/Chart/StockChart.js",[i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/FormatUtilities.js"],i["Core/Defaults.js"],i["Stock/Navigator/NavigatorDefaults.js"],i["Stock/RangeSelector/RangeSelectorDefaults.js"],i["Stock/Scrollbar/ScrollbarDefaults.js"],i["Core/Series/Series.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],function(l,h,u,y,n,w,z,ie,G,q){function Z(P,L){return P==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:P==="yAxis"?{labels:{y:-2},opposite:I(L.opposite,!0),showLastLabel:!(!L.categories&&L.type!=="category"),title:{text:null}}:{}}function F(P,L){return P==="xAxis"?(P={type:"datetime",categories:void 0},I(L.navigator&&L.navigator.enabled,n.enabled,!0)&&(P.startOnTick=!1,P.endOnTick=!1),P):{}}const{format:U}=u,{getOptions:re}=y,{addEvent:R,clamp:D,defined:N,extend:$,find:j,isNumber:S,isString:te,merge:Y,pick:I,splat:V}=q;class X extends h{init(L,_){const v=re(),M=L.xAxis,O=L.yAxis;var ee=I(L.navigator&&L.navigator.enabled,n.enabled,!0);L.xAxis=L.yAxis=void 0,ee=Y({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:ee},scrollbar:{enabled:I(z.enabled,!0)},rangeSelector:{enabled:I(w.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:I(v.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},L,{isStock:!0}),L.xAxis=M,L.yAxis=O,ee.xAxis=V(L.xAxis||{}).map(function(ae,K){return Y(Z("xAxis",ae),v.xAxis,v.xAxis&&v.xAxis[K],ae,F("xAxis",L))}),ee.yAxis=V(L.yAxis||{}).map(function(ae,K){return Y(Z("yAxis",ae),v.yAxis,v.yAxis&&v.yAxis[K],ae)}),super.init(ee,_)}createAxis(L,_){return _.axis=Y(Z(L,_.axis),_.axis,F(L,this.userOptions)),super.createAxis(L,_)}}return function(P){P.stockChart=function(L,_,v){return new P(L,_,v)}}(X||(X={})),R(ie,"setOptions",function(P){let L;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?L={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(L={marker:{enabled:!1,radius:2}}),L&&(P.plotOptions[this.type]=Y(P.plotOptions[this.type],L)))}),R(l,"autoLabelAlign",function(P){const{chart:L,options:_}=this,v=L._labelPanes=L._labelPanes||{},M=_.labels;if(L.options.isStock&&this.coll==="yAxis"){const O=_.top+","+_.height;!v[O]&&M.enabled&&(M.distance===15&&this.side===1&&(M.distance=0),typeof M.align>"u"&&(M.align="right"),v[O]=this,P.align="right",P.preventDefault())}}),R(l,"destroy",function(){const P=this.chart,L=this.options&&this.options.top+","+this.options.height;L&&P._labelPanes&&P._labelPanes[L]===this&&delete P._labelPanes[L]}),R(l,"getPlotLinePath",function(P){function L(se){const fe=se==="xAxis"?"yAxis":"xAxis";return se=_.options[fe],S(se)?[M[fe][se]]:te(se)?[M.get(se)]:v.map(function(ye){return ye[fe]})}let _=this,v=this.isLinked&&!this.series?this.linkedParent.series:this.series,M=_.chart,O=M.renderer,ee=_.left,ae=_.top,K,pe,Me,Pe,W=[],le=[],ue,xe,Le=P.translatedValue,oe=P.value,ve=P.force,_e;(M.options.isStock&&P.acrossPanes!==!1&&_.coll==="xAxis"||_.coll==="yAxis")&&(P.preventDefault(),le=L(_.coll),ue=_.isXAxis?M.yAxis:M.xAxis,ue.forEach(function(se){if(!N(se.options.id)||se.options.id.indexOf("navigator")===-1){var fe=se.isXAxis?"yAxis":"xAxis";fe=N(se.options[fe])?M[fe][se.options[fe]]:M[fe][0],_===fe&&le.push(se)}}),xe=le.length?[]:[_.isXAxis?M.yAxis[0]:M.xAxis[0]],le.forEach(function(se){xe.indexOf(se)!==-1||j(xe,function(fe){return fe.pos===se.pos&&fe.len===se.len})||xe.push(se)}),_e=I(Le,_.translate(oe,void 0,void 0,P.old)),S(_e)&&(_.horiz?xe.forEach(function(se){let fe;pe=se.pos,Pe=pe+se.len,K=Me=Math.round(_e+_.transB),ve!=="pass"&&(K<ee||K>ee+_.width)&&(ve?K=Me=D(K,ee,ee+_.width):fe=!0),fe||W.push(["M",K,pe],["L",Me,Pe])}):xe.forEach(function(se){let fe;K=se.pos,Me=K+se.len,pe=Pe=Math.round(ae+_.height-_e),ve!=="pass"&&(pe<ae||pe>ae+_.height)&&(ve?pe=Pe=D(pe,ae,ae+_.height):fe=!0),fe||W.push(["M",K,pe],["L",Me,Pe])})),P.path=0<W.length?O.crispPolyLine(W,P.lineWidth||1):null)}),G.prototype.crispPolyLine=function(P,L){for(let _=0;_<P.length;_+=2){const v=P[_],M=P[_+1];v[1]===M[1]&&(v[1]=M[1]=Math.round(v[1])-L%2/2),v[2]===M[2]&&(v[2]=M[2]=Math.round(v[2])+L%2/2)}return P},R(l,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),R(l,"afterDrawCrosshair",function(P){var L,_;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&S(this.min)&&S(this.max)){var v=this.chart,M=this.logarithmic,O=this.crosshair.label,ee=this.horiz,ae=this.opposite,K=this.left,pe=this.top,Me=this.width,Pe=this.crossLabel,W=O.format,le="",ue=this.options.tickPosition==="inside",xe=this.crosshair.snap!==!1,Le=0,oe=P.e||this.cross&&this.cross.e;P=P.point;var ve=this.min,_e=this.max;M&&(ve=M.lin2log(ve),_e=M.lin2log(_e)),M=ee?"center":ae?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",Pe||(Pe=this.crossLabel=v.renderer.label("",0,void 0,O.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(P&&P.series?P.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:O.align||M,padding:I(O.padding,8),r:I(O.borderRadius,3),zIndex:2}).add(this.labelGroup),v.styledMode||Pe.attr({fill:O.backgroundColor||P&&P.series&&P.series.color||"#666666",stroke:O.borderColor||"","stroke-width":O.borderWidth||0}).css($({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},O.style||{}))),ee?(Me=xe?(P.plotX||0)+K:oe.chartX,pe+=ae?0:this.height):(Me=K+this.offset+(ae?Me:0),pe=xe?(P.plotY||0)+pe:oe.chartY),W||O.formatter||(this.dateTime&&(le="%b %d, %Y"),W="{value"+(le?":"+le:"")+"}"),le=xe?this.isXAxis?P.x:P.y:this.toValue(ee?oe.chartX:oe.chartY),xe=P&&P.series?P.series.isPointInside(P):S(le)&&le>ve&&le<_e,oe="",W?oe=U(W,{value:le},v):O.formatter&&S(le)&&(oe=O.formatter.call(this,le)),Pe.attr({text:oe,x:Me,y:pe,visibility:xe?"inherit":"hidden"}),O=Pe.getBBox(),!S(Pe.x)||ee||ae||(Me=Pe.x-O.width/2),S(Pe.y)&&(ee?(ue&&!ae||!ue&&ae)&&(pe=Pe.y-O.height):pe=Pe.y-O.height/2),ee?(L=K-O.x,_=K+this.width-O.x):(L=this.labelAlign==="left"?K:0,_=this.labelAlign==="right"?K+this.width:v.chartWidth),Pe.translateX<L&&(Le=L-Pe.translateX),Pe.translateX+O.width>=_&&(Le=-(Pe.translateX+O.width-_)),Pe.attr({x:Me+Le,y:pe,anchorX:ee?Me:this.opposite?0:v.chartWidth,anchorY:ee?this.opposite?v.chartHeight:0:pe+O.height/2})}}),ie.prototype.forceCropping=function(){const P=this.chart,L=this.options.dataGrouping;return this.allowDG!==!1&&L&&I(L.enabled,P.options.isStock)},R(h,"update",function(P){P=P.options,"scrollbar"in P&&this.navigator&&(Y(!0,this.options.scrollbar,P.scrollbar),this.navigator.update({}),delete P.scrollbar)}),X}),s(i,"masters/modules/stock.src.js",[i["Core/Globals.js"],i["Series/DataModifyComposition.js"],i["Stock/Navigator/Navigator.js"],i["Stock/RangeSelector/RangeSelector.js"],i["Stock/Scrollbar/Scrollbar.js"],i["Core/Axis/OrdinalAxis.js"],i["Series/OHLC/OHLCSeries.js"],i["Series/Flags/FlagsSeries.js"],i["Core/Chart/StockChart.js"]],function(l,h,u,y,n,w,z,ie,G){l.Navigator=u,l.RangeSelector=y,l.Scrollbar=n,l.StockChart=l.stockChart=G.stockChart,h.compose(l.Series,l.Axis,l.Point),ie.compose(l.Renderer),u.compose(l.Axis,l.Chart,l.Series),z.compose(l.Series),w.compose(l.Axis,l.Series,l.Chart),y.compose(l.Axis,l.Chart),n.compose(l.Axis)})})})(Yj);const qj=jw;qj(Wh);const Zj={name:"graph",components:{Chart:D1.Chart},data(){return{chartOptions:{chart:{zoomType:"xy"},title:{text:"",align:""},subtitle:{text:"",align:""},xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}°C",style:{color:Wh.getOptions().colors[2]}},title:{text:"Temperature",style:{color:Wh.getOptions().colors[2]}},opposite:!0},{gridLineWidth:0,title:{text:"Rainfall",style:{color:Wh.getOptions().colors[0]}},labels:{format:"{value} mm",style:{color:Wh.getOptions().colors[0]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:Wh.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:Wh.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:Wh.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{name:"Rainfall",type:"column",yAxis:1,data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Sea-Level Pressure",type:"spline",yAxis:2,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},dashStyle:"shortdot",tooltip:{valueSuffix:" mb"}},{name:"Temperature",type:"spline",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}}}}};function Kj(e,i,s,l,h,u){const y=xo("Chart");return nn(),Xd(y,{options:h.chartOptions,constructorType:"stockChart"},null,8,["options"])}const Jj=Xa(Zj,[["render",Kj]]),Do=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(l,h,u,y){if(arguments.length===1&&eU(l)==="string"&&!/\d/.test(l)&&(h=l,l=void 0),l=l||new Date,l instanceof Date||(l=new Date(l)),isNaN(l))throw TypeError("Invalid date");h=String(Do.masks[h]||h||Do.masks.default);var n=h.slice(0,4);(n==="UTC:"||n==="GMT:")&&(h=h.slice(4),u=!0,n==="GMT:"&&(y=!0));var w=u?"getUTC":"get",z=l[w+"Date"](),ie=l[w+"Day"](),G=l[w+"Month"](),q=l[w+"FullYear"](),Z=l[w+"Hours"](),F=l[w+"Minutes"](),U=l[w+"Seconds"](),re=l[w+"Milliseconds"](),R=u?0:l.getTimezoneOffset(),D=v4(l),N=Qj(l),$={d:z,dd:Rd(z),ddd:Do.i18n.dayNames[ie],dddd:Do.i18n.dayNames[ie+7],m:G+1,mm:Rd(G+1),mmm:Do.i18n.monthNames[G],mmmm:Do.i18n.monthNames[G+12],yy:String(q).slice(2),yyyy:q,h:Z%12||12,hh:Rd(Z%12||12),H:Z,HH:Rd(Z),M:F,MM:Rd(F),s:U,ss:Rd(U),l:Rd(re,3),L:Rd(Math.round(re/10)),t:Z<12?Do.i18n.timeNames[0]:Do.i18n.timeNames[1],tt:Z<12?Do.i18n.timeNames[2]:Do.i18n.timeNames[3],T:Z<12?Do.i18n.timeNames[4]:Do.i18n.timeNames[5],TT:Z<12?Do.i18n.timeNames[6]:Do.i18n.timeNames[7],Z:y?"GMT":u?"UTC":(String(l).match(i)||[""]).pop().replace(s,""),o:(R>0?"-":"+")+Rd(Math.floor(Math.abs(R)/60)*100+Math.abs(R)%60,4),S:["th","st","nd","rd"][z%10>3?0:(z%100-z%10!=10)*z%10],W:D,N};return h.replace(e,function(j){return j in $?$[j]:j.slice(1,j.length-1)})}}();Do.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};Do.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function Rd(e,i){for(e=String(e),i=i||2;e.length<i;)e="0"+e;return e}function v4(e){var i=new Date(e.getFullYear(),e.getMonth(),e.getDate());i.setDate(i.getDate()-(i.getDay()+6)%7+3);var s=new Date(i.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);var l=i.getTimezoneOffset()-s.getTimezoneOffset();i.setHours(i.getHours()-l);var h=(i-s)/(864e5*7);return 1+Math.floor(h)}function Qj(e){var i=e.getDay();return i===0&&(i=7),i}function eU(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}const b4={isSame:(e,i,s)=>{let l=new Date(e),h=new Date(i);return s==="date"&&(l.setHours(0,0,0,0),h.setHours(0,0,0,0)),l.getTime()===h.getTime()},daysInMonth:(e,i)=>new Date(e,i,0).getDate(),weekNumber:e=>v4(e),format:(e,i)=>Do(e,i),nextMonth:e=>{let i=new Date(e.getTime());return i.setDate(1),i.setMonth(i.getMonth()+1),i},prevMonth:e=>{let i=new Date(e.getTime());return i.setDate(1),i.setMonth(i.getMonth()-1),i},validateDateRange:(e,i,s)=>{let l=new Date(s),h=new Date(i);return s&&e.getTime()>l.getTime()?l:i&&e.getTime()<h.getTime()?h:e},localeData:e=>({...{direction:"ltr",format:"mm/dd/yyyy",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Do.i18n.dayNames.slice(0,7).map(s=>s.substring(0,2)),monthNames:Do.i18n.monthNames.slice(0,12),firstDay:0},...e}),yearMonth:e=>{let i=e.getMonth()+1;return e.getFullYear()+(i<10?"0":"")+i},isValidDate:e=>e instanceof Date&&!isNaN(e)},P5={props:{dateUtil:{type:[Object,String],default:"native"}},created(){this.$dateUtil=b4}},tU={mixins:[P5],name:"calendar",props:{monthDate:Date,localeData:Object,start:Date,end:Date,minDate:Date,maxDate:Date,showDropdowns:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},dateFormat:{type:Function,default:null}},data(){let e=this.monthDate||this.start||new Date;return{currentMonthDate:e,year_text:e.getFullYear()}},methods:{prevMonthClick(){this.changeMonthDate(this.$dateUtil.prevMonth(this.currentMonthDate))},nextMonthClick(){this.changeMonthDate(this.$dateUtil.nextMonth(this.currentMonthDate))},changeMonthDate(e,i=!0){let s=this.$dateUtil.yearMonth(this.currentMonthDate);this.currentMonthDate=this.$dateUtil.validateDateRange(e,this.minDate,this.maxDate),i&&s!==this.$dateUtil.yearMonth(this.currentMonthDate)&&this.$emit("change-month",{month:this.currentMonthDate.getMonth()+1,year:this.currentMonthDate.getFullYear()}),this.checkYear()},dayClass(e){let i=new Date(e);i.setHours(0,0,0,0);let s=new Date(this.start);s.setHours(0,0,0,0);let l=new Date(this.end);l.setHours(0,0,0,0);let h={off:e.getMonth()+1!==this.month,weekend:e.getDay()===6||e.getDay()===0,today:i.setHours(0,0,0,0)==new Date().setHours(0,0,0,0),active:i.setHours(0,0,0,0)==new Date(this.start).setHours(0,0,0,0)||i.setHours(0,0,0,0)==new Date(this.end).setHours(0,0,0,0),"in-range":i>=s&&i<=l,"start-date":i.getTime()===s.getTime(),"end-date":i.getTime()===l.getTime(),disabled:this.minDate&&i.getTime()<this.minDate.getTime()||this.maxDate&&i.getTime()>this.maxDate.getTime()};return this.dateFormat?this.dateFormat(h,e):h},checkYear(){this.$refs.yearSelect!==document.activeElement&&this.$nextTick(()=>{this.year_text=this.monthDate.getFullYear()})}},computed:{monthName(){return this.locale.monthNames[this.currentMonthDate.getMonth()]},year:{get(){return this.year_text},set(e){this.year_text=e;let i=this.$dateUtil.validateDateRange(new Date(e,this.month,1),this.minDate,this.maxDate);this.$dateUtil.isValidDate(i)&&this.$emit("change-month",{month:i.getMonth(),year:i.getFullYear()})}},month:{get(){return this.currentMonthDate.getMonth()+1},set(e){let i=this.$dateUtil.validateDateRange(new Date(this.year,e-1,1),this.minDate,this.maxDate);this.$emit("change-month",{month:i.getMonth()+1,year:i.getFullYear()})}},calendar(){let e=this.month,i=this.currentMonthDate.getFullYear(),s=new Date(i,e-1,1),l=this.$dateUtil.prevMonth(s).getMonth()+1,h=this.$dateUtil.prevMonth(s).getFullYear(),u=new Date(h,e-1,0).getDate(),y=s.getDay(),n=[];for(let ie=0;ie<6;ie++)n[ie]=[];let w=u-y+this.locale.firstDay+1;w>u&&(w-=7),y===this.locale.firstDay&&(w=u-6);let z=new Date(h,l-1,w,12,0,0);for(let ie=0,G=0,q=0;ie<6*7;ie++,G++,z.setDate(z.getDate()+1))ie>0&&G%7===0&&(G=0,q++),n[q][G]=new Date(z.getTime());return n},months(){let e=this.locale.monthNames.map((i,s)=>({label:i,value:s}));if(this.maxDate&&this.minDate){let i=this.maxDate.getFullYear()-this.minDate.getFullYear();if(i<2){let s=[];if(i<1)for(let l=this.minDate.getMonth();l<=this.maxDate.getMonth();l++)s.push(l);else{for(let l=0;l<=this.maxDate.getMonth();l++)s.push(l);for(let l=this.minDate.getMonth();l<12;l++)s.push(l)}if(s.length>0)return e.filter(l=>s.find(h=>l.value===h)>-1)}}return e},locale(){return this.$dateUtil.localeData(this.localeData)}},watch:{monthDate(e){this.currentMonthDate.getTime()!==e.getTime()&&this.changeMonthDate(e,!1)}}},w4=e=>(xm("data-v-66e2a2e7"),e=e(),vm(),e),iU={class:"table-condensed"},nU=w4(()=>Vt("span",null,null,-1)),rU=[nU],sU=["colspan"],oU={class:"row mx-1"},aU=["value"],lU=["colspan"],cU=w4(()=>Vt("span",null,null,-1)),hU=[cU],dU={key:0,class:"week"},uU={key:0,class:"week"},pU=["onClick","onMouseover"];function fU(e,i,s,l,h,u){return nn(),mn("table",iU,[Vt("thead",null,[Vt("tr",null,[Vt("th",{class:"prev available",onClick:i[0]||(i[0]=(...y)=>u.prevMonthClick&&u.prevMonthClick(...y)),tabindex:"0"},rU),s.showDropdowns?(nn(),mn("th",{key:0,colspan:s.showWeekNumbers?6:5,class:"month"},[Vt("div",oU,[qh(Vt("select",{"onUpdate:modelValue":i[1]||(i[1]=y=>u.month=y),class:"monthselect col"},[(nn(!0),mn(Xr,null,nc(u.months,y=>(nn(),mn("option",{key:y.value,value:y.value+1},xs(y.label),9,aU))),128))],512),[[Hu,u.month]]),qh(Vt("input",{ref:"yearSelect",type:"number","onUpdate:modelValue":i[2]||(i[2]=y=>u.year=y),onBlur:i[3]||(i[3]=(...y)=>u.checkYear&&u.checkYear(...y)),class:"yearselect col"},null,544),[[kf,u.year]])])],8,sU)):(nn(),mn("th",{key:1,colspan:s.showWeekNumbers?6:5,class:"month"},xs(u.monthName)+" "+xs(u.year),9,lU)),Vt("th",{class:"next available",onClick:i[4]||(i[4]=(...y)=>u.nextMonthClick&&u.nextMonthClick(...y)),tabindex:"0"},hU)])]),Vt("tbody",null,[Vt("tr",null,[s.showWeekNumbers?(nn(),mn("th",dU,xs(u.locale.weekLabel),1)):fs("",!0),(nn(!0),mn(Xr,null,nc(u.locale.daysOfWeek,y=>(nn(),mn("th",{key:y},xs(y),1))),128))]),(nn(!0),mn(Xr,null,nc(u.calendar,(y,n)=>(nn(),mn("tr",{key:n},[s.showWeekNumbers&&(n%7||n===0)?(nn(),mn("td",uU,xs(e.$dateUtil.weekNumber(y[0])),1)):fs("",!0),(nn(!0),mn(Xr,null,nc(y,(w,z)=>(nn(),mn("td",{class:ic(u.dayClass(w)),onClick:ie=>e.$emit("dateClick",w),onMouseover:ie=>e.$emit("hoverDate",w),key:z},[oh(e.$slots,"date-slot",{date:w},()=>[qd(xs(w.getDate()),1)],!0)],42,pU))),128))]))),128))])])}const mU=Xa(tU,[["render",fU],["__scopeId","data-v-66e2a2e7"]]),gU={props:{miniuteIncrement:{type:Number,default:5},hour24:{type:Boolean,default:!0},secondPicker:{type:Boolean,default:!1},currentTime:{default(){return new Date}},readonly:{type:Boolean,default:!1}},data(){let e=this.currentTime?this.currentTime:new Date,i=e.getHours();return{hour:this.hour24?i:i%12||12,minute:e.getMinutes()-e.getMinutes()%this.miniuteIncrement,second:e.getSeconds(),ampm:i<12?"AM":"PM"}},computed:{hours(){let e=[],i=this.hour24?24:12;for(let s=0;s<i;s++)e.push(this.hour24?s:s+1);return e},minutes(){let e=[],i=60;for(let s=0;s<i;s=s+this.miniuteIncrement)e.push(s);return e}},watch:{hour(){this.onChange()},minute(){this.onChange()},second(){this.onChange()},ampm(){this.onChange()}},methods:{formatNumber:e=>e<10?"0"+e.toString():e.toString(),getHour(){return this.hour24?this.hour:this.hour===12?this.ampm==="AM"?0:12:this.hour+(this.ampm==="PM"?12:0)},onChange(){this.$emit("update",{hours:this.getHour(),minutes:this.minute,seconds:this.second})}}},_U={class:"calendar-time"},yU=["disabled"],xU=["value"],vU=["disabled"],bU=["value"],wU=["disabled"],TU=["value"],SU=["disabled"],EU=Vt("option",{value:"AM"},"AM",-1),MU=Vt("option",{value:"PM"},"PM",-1),CU=[EU,MU];function AU(e,i,s,l,h,u){return nn(),mn("div",_U,[qh(Vt("select",{"onUpdate:modelValue":i[0]||(i[0]=y=>h.hour=y),class:"hourselect form-control mr-1",disabled:s.readonly},[(nn(!0),mn(Xr,null,nc(u.hours,y=>(nn(),mn("option",{key:y,value:y},xs(u.formatNumber(y)),9,xU))),128))],8,yU),[[Hu,h.hour]]),qd(" :"),qh(Vt("select",{"onUpdate:modelValue":i[1]||(i[1]=y=>h.minute=y),class:"minuteselect form-control ml-1",disabled:s.readonly},[(nn(!0),mn(Xr,null,nc(u.minutes,y=>(nn(),mn("option",{key:y,value:y},xs(u.formatNumber(y)),9,bU))),128))],8,vU),[[Hu,h.minute]]),s.secondPicker?(nn(),mn(Xr,{key:0},[qd(" :"),qh(Vt("select",{"onUpdate:modelValue":i[2]||(i[2]=y=>h.second=y),class:"secondselect form-control ml-1",disabled:s.readonly},[(nn(),mn(Xr,null,nc(60,y=>Vt("option",{key:y-1,value:y-1},xs(u.formatNumber(y-1)),9,TU)),64))],8,wU),[[Hu,h.second]])],64)):fs("",!0),s.hour24?fs("",!0):qh((nn(),mn("select",{key:1,"onUpdate:modelValue":i[3]||(i[3]=y=>h.ampm=y),class:"ampmselect",disabled:s.readonly},CU,8,SU)),[[Hu,h.ampm]])])}const kU=Xa(gU,[["render",AU]]),PU={mixins:[P5],props:{ranges:Object,selected:Object,localeData:Object,alwaysShowCalendars:Boolean},data(){return{customRangeActive:!1}},methods:{clickRange(e){this.customRangeActive=!1,this.$emit("clickRange",e)},clickCustomRange(){this.customRangeActive=!0,this.$emit("showCustomRange")},range_class(e){return{active:e.selected===!0}}},computed:{listedRanges(){return this.ranges?Object.keys(this.ranges).map(e=>({label:e,value:this.ranges[e],selected:this.$dateUtil.isSame(this.selected.startDate,this.ranges[e][0])&&this.$dateUtil.isSame(this.selected.endDate,this.ranges[e][1])})):!1},selectedRange(){return this.listedRanges.find(e=>e.selected===!0)},showCustomRangeLabel(){return!this.alwaysShowCalendars}}},DU={class:"ranges"},IU={key:0},LU=["onClick","data-range-key"];function OU(e,i,s,l,h,u){return nn(),mn("div",DU,[s.ranges?(nn(),mn("ul",IU,[(nn(!0),mn(Xr,null,nc(u.listedRanges,y=>(nn(),mn("li",{onClick:n=>u.clickRange(y.value),"data-range-key":y.label,key:y.label,class:ic(u.range_class(y)),tabindex:"0"},xs(y.label),11,LU))),128)),u.showCustomRangeLabel?(nn(),mn("li",{key:0,class:ic({active:h.customRangeActive||!u.selectedRange}),onClick:i[0]||(i[0]=(...y)=>u.clickCustomRange&&u.clickCustomRange(...y)),tabindex:"0"},xs(s.localeData.customRangeLabel),3)):fs("",!0)])):fs("",!0)])}const RU=Xa(PU,[["render",OU]]),zU={mounted(e,{instance:i}){if(i.appendToBody){const{height:s,top:l,left:h,width:u,right:y}=i.$refs.toggle.getBoundingClientRect();e.unbindPosition=i.calculatePosition(e,i,{width:u,top:window.scrollY+l+s,left:window.scrollX+h,right:y}),document.body.appendChild(e)}else i.$el.appendChild(e)},unmounted(e,{instance:i}){i.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},BU={inheritAttrs:!1,components:{Calendar:mU,CalendarTime:kU,CalendarRanges:RU},mixins:[P5],directives:{appendToBody:zU},emits:["update:modelValue","toggle","hoverDate","startSelection","select","change-month","finishSelection"],props:{modelValue:{type:Object},minDate:{type:[String,Date],default(){return null}},maxDate:{type:[String,Date],default(){return null}},showWeekNumbers:{type:Boolean,default:!1},linkedCalendars:{type:Boolean,default:!0},singleDatePicker:{type:[Boolean,String],default:!1},showDropdowns:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},timePickerIncrement:{type:Number,default:5},timePicker24Hour:{type:Boolean,default:!0},timePickerSeconds:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},localeData:{type:Object,default(){return{}}},dateRange:{type:[Object],default:null,required:!0},ranges:{type:[Object,Boolean],default(){let e=new Date;e.setHours(0,0,0,0);let i=new Date;i.setHours(11,59,59,999);let s=new Date;s.setDate(e.getDate()-1),s.setHours(0,0,0,0);let l=new Date;l.setDate(e.getDate()-1),l.setHours(11,59,59,999);let h=new Date(e.getFullYear(),e.getMonth(),1),u=new Date(e.getFullYear(),e.getMonth()+1,0,11,59,59,999);return{Today:[e,i],Yesterday:[s,l],"This month":[h,u],"This year":[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31,11,59,59,999)],"Last month":[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0,11,59,59,999)]}}},opens:{type:String,default:"center"},dateFormat:Function,alwaysShowCalendars:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},controlContainerClass:{type:[Object,String],default:"form-control reportrange-text"},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,i,{width:s,top:l,left:h,right:u}){i.opens==="center"?e.style.left=h+s/2+"px":i.opens==="left"?e.style.right=window.innerWidth-u+"px":i.opens==="right"&&(e.style.left=h+"px"),e.style.top=l+"px"}},closeOnEsc:{type:Boolean,default:!0},readonly:{type:Boolean}},data(){const e=b4;let i={locale:e.localeData({...this.localeData})},s=this.dateRange.startDate||null,l=this.dateRange.endDate||null;if(i.monthDate=s?new Date(s):new Date,i.nextMonthDate=e.nextMonth(i.monthDate),i.start=s?new Date(s):null,this.singleDatePicker&&this.singleDatePicker!=="range"?i.end=i.start:i.end=l?new Date(l):null,i.in_selection=!1,i.open=!1,i.showCustomRangeCalendars=!1,i.locale.firstDay!==0){let h=i.locale.firstDay,u=[...i.locale.daysOfWeek];for(;h>0;)u.push(u.shift()),h--;i.locale.daysOfWeek=u}return i},methods:{dateFormatFn(e,i){let s=new Date(i);s.setHours(0,0,0,0);let l=new Date(this.start);l.setHours(0,0,0,0);let h=new Date(this.end);return h.setHours(0,0,0,0),e["in-range"]=s>=l&&s<=h,this.dateFormat?this.dateFormat(e,i):e},changeLeftMonth(e){let i=new Date(e.year,e.month-1,1);this.monthDate=i,(this.linkedCalendars||this.$dateUtil.yearMonth(this.monthDate)>=this.$dateUtil.yearMonth(this.nextMonthDate))&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(i),this.minDate,this.maxDate),(!this.singleDatePicker||this.singleDatePicker==="range")&&this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(this.monthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,0)},changeRightMonth(e){let i=new Date(e.year,e.month-1,1);this.nextMonthDate=i,(this.linkedCalendars||this.$dateUtil.yearMonth(this.nextMonthDate)<=this.$dateUtil.yearMonth(this.monthDate))&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(i),this.minDate,this.maxDate),this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(this.nextMonthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,1)},normalizeDatetime(e,i){let s=new Date(e);return this.timePicker&&i&&(s.setHours(i.getHours()),s.setMinutes(i.getMinutes()),s.setSeconds(i.getSeconds()),s.setMilliseconds(i.getMilliseconds())),s},dateClick(e){if(this.readonly)return!1;this.in_selection?(this.in_selection=!1,this.end=this.normalizeDatetime(e,this.end),this.end<this.start&&(this.in_selection=!0,this.start=this.normalizeDatetime(e,this.start),this.$emit("startSelection",this.start)),this.in_selection||(this.$emit("finishSelection",this.end),this.onSelect(),this.autoApply&&this.clickedApply())):(this.start=this.normalizeDatetime(e,this.start),this.end=this.normalizeDatetime(e,this.end),!this.singleDatePicker||this.singleDatePicker==="range"?(this.in_selection=!0,this.$emit("startSelection",this.start)):(this.onSelect(),this.autoApply&&this.clickedApply()))},hoverDate(e){if(this.readonly)return!1;let i=this.normalizeDatetime(e,this.end);this.in_selection&&i>=this.start&&(this.end=i),this.$emit("hoverDate",e)},onClickPicker(){this.disabled||this.togglePicker(null,!0)},togglePicker(e,i){typeof e=="boolean"?this.open=e:this.open=!this.open,i===!0&&this.$emit("toggle",this.open,this.togglePicker)},clickedApply(){this.togglePicker(!1,!0),this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},clickCancel(){if(this.open){let e=this.dateRange.startDate,i=this.dateRange.endDate;this.start=e?new Date(e):null,this.end=i?new Date(i):null,this.in_selection=!1,this.togglePicker(!1,!0)}},onSelect(){this.$emit("select",{startDate:this.start,endDate:this.end})},clickAway(e){e&&e.target&&!this.$el.contains(e.target)&&this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&this.clickCancel()},clickRange(e){this.in_selection=!1,this.$dateUtil.isValidDate(e[0])&&this.$dateUtil.isValidDate(e[1])?(this.start=this.$dateUtil.validateDateRange(new Date(e[0]),this.minDate,this.maxDate),this.end=this.$dateUtil.validateDateRange(new Date(e[1]),this.minDate,this.maxDate),this.changeLeftMonth({month:this.start.getMonth()+1,year:this.start.getFullYear()}),this.linkedCalendars===!1&&this.changeRightMonth({month:this.end.getMonth()+1,year:this.end.getFullYear()})):(this.start=null,this.end=null),this.onSelect(),this.autoApply&&this.clickedApply()},onUpdateStartTime(e){let i=new Date(this.start);i.setHours(e.hours),i.setMinutes(e.minutes),i.setSeconds(e.seconds),this.start=this.$dateUtil.validateDateRange(i,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},onUpdateEndTime(e){let i=new Date(this.end);i.setHours(e.hours),i.setMinutes(e.minutes),i.setSeconds(e.seconds),this.end=this.$dateUtil.validateDateRange(i,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.end})},handleEscape(e){this.open&&e.keyCode===27&&this.closeOnEsc&&this.clickCancel()}},computed:{showRanges(){return this.ranges!==!1&&!this.readonly},showCalendars(){return this.alwaysShowCalendars||this.showCustomRangeCalendars},startText(){return this.start===null?"":this.$dateUtil.format(this.start,this.locale.format)},endText(){return this.end===null?"":this.$dateUtil.format(this.end,this.locale.format)},rangeText(){let e=this.startText;return(!this.singleDatePicker||this.singleDatePicker==="range")&&(e+=this.locale.separator+this.endText),e},min(){return this.minDate?new Date(this.minDate):null},max(){return this.maxDate?new Date(this.maxDate):null},pickerStyles(){return{"show-calendar":this.open||this.opens==="inline","show-ranges":this.showRanges,"show-weeknumbers":this.showWeekNumbers,single:this.singleDatePicker,["opens"+this.opens]:!0,linked:this.linkedCalendars,"hide-calendars":!this.showCalendars}},isClear(){return!this.dateRange.startDate||!this.dateRange.endDate},isDirty(){let e=new Date(this.dateRange.startDate),i=new Date(this.dateRange.endDate);return!this.isClear&&(this.start.getTime()!==e.getTime()||this.end.getTime()!==i.getTime())}},watch:{minDate(){let e=this.$dateUtil.validateDateRange(this.monthDate,this.minDate||new Date,this.maxDate);this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},maxDate(){let e=this.$dateUtil.validateDateRange(this.nextMonthDate,this.minDate,this.maxDate||new Date);this.changeRightMonth({year:e.getFullYear(),month:e.getMonth()+1})},"dateRange.startDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.start=e&&!this.isClear&&this.$dateUtil.isValidDate(new Date(e))?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},"dateRange.endDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.end=e&&!this.isClear?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},open:{handler(e){typeof document=="object"&&this.$nextTick(()=>{e?document.body.addEventListener("click",this.clickAway):document.body.removeEventListener("click",this.clickAway),e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape),!this.alwaysShowCalendars&&this.ranges&&(this.showCustomRangeCalendars=!Object.keys(this.ranges).find(i=>this.$dateUtil.isSame(this.start,this.ranges[i][0],"date")&&this.$dateUtil.isSame(this.end,this.ranges[i][1],"date")))})},immediate:!0}}},T4=e=>(xm("data-v-577c3804"),e=e(),vm(),e),FU=T4(()=>Vt("i",{class:"glyphicon glyphicon-calendar fa fa-calendar"},null,-1)),NU=T4(()=>Vt("b",{class:"caret"},null,-1)),jU={class:"calendars"},UU={key:1,class:"calendars-container"},GU={class:"calendar-table"},VU={key:0,class:"drp-calendar col right"},WU={class:"calendar-table"},HU={key:0,class:"drp-buttons"},$U={key:0,class:"drp-selected"},XU=["disabled"];function YU(e,i,s,l,h,u){const y=xo("calendar-ranges"),n=xo("calendar"),w=xo("calendar-time"),z=_3("append-to-body");return nn(),mn("div",{class:ic(["vue-daterange-picker",{inline:s.opens==="inline"}])},[Vt("div",{class:ic(s.controlContainerClass),onClick:i[0]||(i[0]=(...ie)=>u.onClickPicker&&u.onClickPicker(...ie)),ref:"toggle"},[oh(e.$slots,"input",{startDate:e.start,endDate:e.end,ranges:s.ranges,rangeText:u.rangeText},()=>[FU,qd("  "),Vt("span",null,xs(u.rangeText),1),NU],!0)],2),wn(j1,{name:"slide-fade",mode:"out-in"},{default:ao(()=>[e.open||s.opens==="inline"?qh((nn(),mn("div",{key:0,class:ic(["daterangepicker ltr",u.pickerStyles]),ref:"dropdown"},[oh(e.$slots,"header",{rangeText:u.rangeText,locale:e.locale,clickCancel:u.clickCancel,clickApply:u.clickedApply,in_selection:e.in_selection,autoApply:s.autoApply},void 0,!0),Vt("div",jU,[u.showRanges?oh(e.$slots,"ranges",{key:0,startDate:e.start,endDate:e.end,ranges:s.ranges,clickRange:u.clickRange},()=>[wn(y,{onClickRange:u.clickRange,onShowCustomRange:i[1]||(i[1]=ie=>e.showCustomRangeCalendars=!0),"always-show-calendars":s.alwaysShowCalendars,"locale-data":e.locale,ranges:s.ranges,selected:{startDate:e.start,endDate:e.end}},null,8,["onClickRange","always-show-calendars","locale-data","ranges","selected"])],!0):fs("",!0),u.showCalendars?(nn(),mn("div",UU,[Vt("div",{class:ic(["drp-calendar col left",{single:s.singleDatePicker}])},[fs("",!0),Vt("div",GU,[wn(n,{monthDate:e.monthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:u.min,maxDate:u.max,"show-dropdowns":s.showDropdowns,onChangeMonth:u.changeLeftMonth,"date-format":u.dateFormatFn,onDateClick:u.dateClick,onHoverDate:u.hoverDate,showWeekNumbers:s.showWeekNumbers},{default:ao(()=>[oh(e.$slots,"date",Jy(b1(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),s.timePicker&&e.start?(nn(),Xd(w,{key:1,onUpdate:u.onUpdateStartTime,"miniute-increment":s.timePickerIncrement,hour24:s.timePicker24Hour,"second-picker":s.timePickerSeconds,"current-time":e.start,readonly:s.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):fs("",!0)],2),s.singleDatePicker?fs("",!0):(nn(),mn("div",VU,[fs("",!0),Vt("div",WU,[wn(n,{monthDate:e.nextMonthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:u.min,maxDate:u.max,"show-dropdowns":s.showDropdowns,onChangeMonth:u.changeRightMonth,"date-format":u.dateFormatFn,onDateClick:u.dateClick,onHoverDate:u.hoverDate,showWeekNumbers:s.showWeekNumbers},{default:ao(()=>[oh(e.$slots,"date",Jy(b1(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),s.timePicker&&e.end?(nn(),Xd(w,{key:1,onUpdate:u.onUpdateEndTime,"miniute-increment":s.timePickerIncrement,hour24:s.timePicker24Hour,"second-picker":s.timePickerSeconds,"current-time":e.end,readonly:s.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):fs("",!0)]))])):fs("",!0)]),oh(e.$slots,"footer",{rangeText:u.rangeText,locale:e.locale,clickCancel:u.clickCancel,clickApply:u.clickedApply,in_selection:e.in_selection,autoApply:s.autoApply},()=>[s.autoApply?fs("",!0):(nn(),mn("div",HU,[u.showCalendars?(nn(),mn("span",$U,xs(u.rangeText),1)):fs("",!0),s.readonly?fs("",!0):(nn(),mn("button",{key:1,class:"cancelBtn btn btn-sm btn-secondary",type:"button",onClick:i[2]||(i[2]=(...ie)=>u.clickCancel&&u.clickCancel(...ie))},xs(e.locale.cancelLabel),1)),s.readonly?fs("",!0):(nn(),mn("button",{key:2,class:"applyBtn btn btn-sm btn-success",disabled:e.in_selection,type:"button",onClick:i[3]||(i[3]=(...ie)=>u.clickedApply&&u.clickedApply(...ie))},xs(e.locale.applyLabel),9,XU))]))],!0)],2)),[[z]]):fs("",!0)]),_:3})],2)}const qU=Xa(BU,[["render",YU],["__scopeId","data-v-577c3804"]]),ZU={components:{DateRangePicker:qU},data(){return{dateRange:{startDate:"05-09-2023",endDate:"05-09-2023"},locale:{direction:"ltr",format:"dd mmm yyyy HH:mm",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Ji.weekdaysMin(),monthNames:Ji.monthsShort(),firstDay:1}}},methods:{updatePicker(){console.log(this.dateRange.startDate)}}},KU={slot:"input",class:"form-control","slot-scope":"picker"};function JU(e,i,s,l,h,u){const y=xo("date-range-picker");return nn(),Xd(y,{onUpdate:u.updatePicker,"locale-data":h.locale,dateRange:h.dateRange,modelValue:h.dateRange,"onUpdate:modelValue":i[0]||(i[0]=n=>h.dateRange=n)},{default:ao(()=>[Vt("div",KU,xs(h.dateRange.startDate|"05-09-2018")+" - "+xs(h.dateRange.endDate|"date"),1)]),_:1},8,["onUpdate","locale-data","dateRange","modelValue"])}const QU=Xa(ZU,[["render",JU]]),mh=R3({});mh.component("map-dashboard",XB);mh.component("map-history",lF);mh.component("map-default",pF);mh.component("map-voyage",TF);mh.component("slider-submenu",mj);mh.component("charts-speedometer",Aj);mh.component("charts-fuel",Xj);mh.component("charts-graph",Jj);mh.component("widget-daterange",QU);mh.config.globalProperties.$filters={dateformat(e,i="DD/MM/YYYY hh:mm"){return Ji(e,"YYYY-MM-DD hh:mm:ss").format(i)},str_limit(e,i=7){return e.toString().substring(0,i)}};mh.mount("#app")});export default eG();
