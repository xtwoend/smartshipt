var i4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var n4=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var Da=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)};var ia=(e,t,s)=>(n4(e,t,"access private method"),s);import"./toast-fd51308c.js";import"./popper-b924b727.js";var HW=i4((ZW,tv)=>{var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function N5(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function l(){if(this instanceof l){var c=[null];c.push.apply(c,arguments);var d=Function.bind.apply(t,c);return new d}return t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var c=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(s,l,c.get?c:{enumerable:!0,get:function(){return e[l]}})}),s}var iv={},r4={get exports(){return iv},set exports(e){iv=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var s,l="4.17.21",c=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",m="Expected a function",n="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",$=500,ee="__lodash_placeholder__",z=1,Y=2,Q=4,I=1,O=2,H=1,A=2,E=4,P=8,G=16,V=32,C=64,ne=128,te=256,F=512,N=30,X="...",M=800,L=16,f=1,y=2,b=3,S=1/0,j=9007199254740991,J=17976931348623157e292,W=0/0,re=4294967295,ue=re-1,ve=re>>>1,q=[["ary",ne],["bind",H],["bindKey",A],["curry",P],["curryRight",G],["flip",F],["partial",V],["partialRight",C],["rearg",te]],se="[object Arguments]",pe="[object Array]",xe="[object AsyncFunction]",Pe="[object Boolean]",ce="[object Date]",ye="[object DOMException]",_e="[object Error]",le="[object Function]",Z="[object GeneratorFunction]",me="[object Map]",Me="[object Number]",Ee="[object Null]",ze="[object Object]",Qe="[object Promise]",Ke="[object Proxy]",ct="[object RegExp]",Ie="[object Set]",Be="[object String]",Ue="[object Symbol]",We="[object Undefined]",st="[object WeakMap]",wt="[object WeakSet]",Ut="[object ArrayBuffer]",Vt="[object DataView]",yi="[object Float32Array]",si="[object Float64Array]",Ai="[object Int8Array]",$i="[object Int16Array]",Fi="[object Int32Array]",Zi="[object Uint8Array]",Ri="[object Uint8ClampedArray]",yn="[object Uint16Array]",Tn="[object Uint32Array]",Yn=/\b__p \+= '';/g,Tr=/\b(__p \+=) '' \+/g,ps=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ds=/&(?:amp|lt|gt|quot|#39);/g,Is=/[&<>"']/g,ja=RegExp(Ds.source),mc=RegExp(Is.source),Pl=/<%-([\s\S]+?)%>/g,il=/<%([\s\S]+?)%>/g,io=/<%=([\s\S]+?)%>/g,nl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qc=/^\w*$/,lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/[\\^$.*+?()[\]{}|]/g,Ve=RegExp(Oe.source),ot=/^\s+/,pt=/\s/,Et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ot=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Mt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jt=/[()=,{}\[\]\/\s]/,li=/\\(\\)?/g,Bi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_i=/\w*$/,on=/^[-+]0x[0-9a-f]+$/i,sn=/^0b[01]+$/i,qi=/^\[object .+?Constructor\]$/,dn=/^0o[0-7]+$/i,Fn=/^(?:0|[1-9]\d*)$/,is=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qi=/($^)/,Ss=/['\n\r\u2028\u2029\\]/g,cs="\\ud800-\\udfff",ya="\\u0300-\\u036f",sl="\\ufe20-\\ufe2f",To="\\u20d0-\\u20ff",ni=ya+sl+To,Go="\\u2700-\\u27bf",ar="a-z\\xdf-\\xf6\\xf8-\\xff",lr="\\xac\\xb1\\xd7\\xf7",gc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Kr="\\u2000-\\u206f",Th=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ld="A-Z\\xc0-\\xd6\\xd8-\\xde",Or="\\ufe0e\\ufe0f",Oi=lr+gc+Kr+Th,zn="['’]",Nn="["+cs+"]",Vo="["+Oi+"]",va="["+ni+"]",vn="\\d+",_c="["+Go+"]",ra="["+ar+"]",Ua="[^"+cs+Oi+vn+Go+ar+ld+"]",Sr="\\ud83c[\\udffb-\\udfff]",xs="(?:"+va+"|"+Sr+")",Vr="[^"+cs+"]",Ga="(?:\\ud83c[\\udde6-\\uddff]){2}",Dl="[\\ud800-\\udbff][\\udc00-\\udfff]",oa="["+ld+"]",Il="\\u200d",rl="(?:"+ra+"|"+Ua+")",Va="(?:"+oa+"|"+Ua+")",ol="(?:"+zn+"(?:d|ll|m|re|s|t|ve))?",Zc="(?:"+zn+"(?:D|LL|M|RE|S|T|VE))?",Kc=xs+"?",no="["+Or+"]?",ir="(?:"+Il+"(?:"+[Vr,Ga,Dl].join("|")+")"+no+Kc+")*",Ll="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Rr=no+Kc+ir,$o="(?:"+[_c,Ga,Dl].join("|")+")"+Rr,lu="(?:"+[Vr+va+"?",va,Ga,Dl,Nn].join("|")+")",Sh=RegExp(zn,"g"),yr=RegExp(va,"g"),Ol=RegExp(Sr+"(?="+Sr+")|"+lu+Rr,"g"),Eh=RegExp([oa+"?"+ra+"+"+ol+"(?="+[Vo,oa,"$"].join("|")+")",Va+"+"+Zc+"(?="+[Vo,oa+rl,"$"].join("|")+")",oa+"?"+rl+"+"+ol,oa+"+"+Zc,cd,Ll,vn,$o].join("|"),"g"),Rl=RegExp("["+Il+cs+ni+Or+"]"),Er=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,al=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ch=-1,rs={};rs[yi]=rs[si]=rs[Ai]=rs[$i]=rs[Fi]=rs[Zi]=rs[Ri]=rs[yn]=rs[Tn]=!0,rs[se]=rs[pe]=rs[Ut]=rs[Pe]=rs[Vt]=rs[ce]=rs[_e]=rs[le]=rs[me]=rs[Me]=rs[ze]=rs[ct]=rs[Ie]=rs[Be]=rs[st]=!1;var fs={};fs[se]=fs[pe]=fs[Ut]=fs[Vt]=fs[Pe]=fs[ce]=fs[yi]=fs[si]=fs[Ai]=fs[$i]=fs[Fi]=fs[me]=fs[Me]=fs[ze]=fs[ct]=fs[Ie]=fs[Be]=fs[Ue]=fs[Zi]=fs[Ri]=fs[yn]=fs[Tn]=!0,fs[_e]=fs[le]=fs[st]=!1;var Mh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},xp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},aa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jc=parseFloat,Ah=parseInt,Bl=typeof wo=="object"&&wo&&wo.Object===Object&&wo,ll=typeof self=="object"&&self&&self.Object===Object&&self,vr=Bl||ll||Function("return this")(),U=t&&!t.nodeType&&t,he=U&&!0&&e&&!e.nodeType&&e,be=he&&he.exports===U,Se=be&&Bl.process,Fe=function(){try{var It=he&&he.require&&he.require("util").types;return It||Se&&Se.binding&&Se.binding("util")}catch{}}(),je=Fe&&Fe.isArrayBuffer,He=Fe&&Fe.isDate,Ct=Fe&&Fe.isMap,vt=Fe&&Fe.isRegExp,Gt=Fe&&Fe.isSet,ii=Fe&&Fe.isTypedArray;function fi(It,ci,ti){switch(ti.length){case 0:return It.call(ci);case 1:return It.call(ci,ti[0]);case 2:return It.call(ci,ti[0],ti[1]);case 3:return It.call(ci,ti[0],ti[1],ti[2])}return It.apply(ci,ti)}function Kt(It,ci,ti,Ki){for(var In=-1,hs=It==null?0:It.length;++In<hs;){var pr=It[In];ci(Ki,pr,ti(pr),It)}return Ki}function ei(It,ci){for(var ti=-1,Ki=It==null?0:It.length;++ti<Ki&&ci(It[ti],ti,It)!==!1;);return It}function Di(It,ci){for(var ti=It==null?0:It.length;ti--&&ci(It[ti],ti,It)!==!1;);return It}function On(It,ci){for(var ti=-1,Ki=It==null?0:It.length;++ti<Ki;)if(!ci(It[ti],ti,It))return!1;return!0}function en(It,ci){for(var ti=-1,Ki=It==null?0:It.length,In=0,hs=[];++ti<Ki;){var pr=It[ti];ci(pr,ti,It)&&(hs[In++]=pr)}return hs}function Qs(It,ci){var ti=It==null?0:It.length;return!!ti&&Dn(It,ci,0)>-1}function Fs(It,ci,ti){for(var Ki=-1,In=It==null?0:It.length;++Ki<In;)if(ti(ci,It[Ki]))return!0;return!1}function Vn(It,ci){for(var ti=-1,Ki=It==null?0:It.length,In=Array(Ki);++ti<Ki;)In[ti]=ci(It[ti],ti,It);return In}function $n(It,ci){for(var ti=-1,Ki=ci.length,In=It.length;++ti<Ki;)It[In+ti]=ci[ti];return It}function Sn(It,ci,ti,Ki){var In=-1,hs=It==null?0:It.length;for(Ki&&hs&&(ti=It[++In]);++In<hs;)ti=ci(ti,It[In],In,It);return ti}function Jr(It,ci,ti,Ki){var In=It==null?0:It.length;for(Ki&&In&&(ti=It[--In]);In--;)ti=ci(ti,It[In],In,It);return ti}function qn(It,ci){for(var ti=-1,Ki=It==null?0:It.length;++ti<Ki;)if(ci(It[ti],ti,It))return!0;return!1}var Ms=Ho("length");function xa(It){return It.split("")}function zl(It){return It.match(Mt)||[]}function Br(It,ci,ti){var Ki;return ti(It,function(In,hs,pr){if(ci(In,hs,pr))return Ki=hs,!1}),Ki}function So(It,ci,ti,Ki){for(var In=It.length,hs=ti+(Ki?1:-1);Ki?hs--:++hs<In;)if(ci(It[hs],hs,It))return hs;return-1}function Dn(It,ci,ti){return ci===ci?eh(It,ci,ti):So(It,la,ti)}function $r(It,ci,ti,Ki){for(var In=ti-1,hs=It.length;++In<hs;)if(Ki(It[In],ci))return In;return-1}function la(It){return It!==It}function uo(It,ci){var ti=It==null?0:It.length;return ti?ms(It,ci)/ti:W}function Ho(It){return function(ci){return ci==null?s:ci[It]}}function Fl(It){return function(ci){return It==null?s:It[ci]}}function $a(It,ci,ti,Ki,In){return In(It,function(hs,pr,gs){ti=Ki?(Ki=!1,hs):ci(ti,hs,pr,gs)}),ti}function kh(It,ci){var ti=It.length;for(It.sort(ci);ti--;)It[ti]=It[ti].value;return It}function ms(It,ci){for(var ti,Ki=-1,In=It.length;++Ki<In;){var hs=ci(It[Ki]);hs!==s&&(ti=ti===s?hs:ti+hs)}return ti}function Wo(It,ci){for(var ti=-1,Ki=Array(It);++ti<It;)Ki[ti]=ci(ti);return Ki}function Qc(It,ci){return Vn(ci,function(ti){return[ti,It[ti]]})}function yc(It){return It&&It.slice(0,Wr(It)+1).replace(ot,"")}function so(It){return function(ci){return It(ci)}}function Nl(It,ci){return Vn(ci,function(ti){return It[ti]})}function vc(It,ci){return It.has(ci)}function dd(It,ci){for(var ti=-1,Ki=It.length;++ti<Ki&&Dn(ci,It[ti],0)>-1;);return ti}function xc(It,ci){for(var ti=It.length;ti--&&Dn(ci,It[ti],0)>-1;);return ti}function bc(It,ci){for(var ti=It.length,Ki=0;ti--;)It[ti]===ci&&++Ki;return Ki}var cu=Fl(Mh),jl=Fl(xp);function ud(It){return"\\"+aa[It]}function ba(It,ci){return It==null?s:It[ci]}function Ha(It){return Rl.test(It)}function Ul(It){return Er.test(It)}function Ph(It){for(var ci,ti=[];!(ci=It.next()).done;)ti.push(ci.value);return ti}function wc(It){var ci=-1,ti=Array(It.size);return It.forEach(function(Ki,In){ti[++ci]=[In,Ki]}),ti}function Xo(It,ci){return function(ti){return It(ci(ti))}}function Hr(It,ci){for(var ti=-1,Ki=It.length,In=0,hs=[];++ti<Ki;){var pr=It[ti];(pr===ci||pr===ee)&&(It[ti]=ee,hs[In++]=ti)}return hs}function cl(It){var ci=-1,ti=Array(It.size);return It.forEach(function(Ki){ti[++ci]=Ki}),ti}function pd(It){var ci=-1,ti=Array(It.size);return It.forEach(function(Ki){ti[++ci]=[Ki,Ki]}),ti}function eh(It,ci,ti){for(var Ki=ti-1,In=It.length;++Ki<In;)if(It[Ki]===ci)return Ki;return-1}function bp(It,ci,ti){for(var Ki=ti+1;Ki--;)if(It[Ki]===ci)return Ki;return Ki}function os(It){return Ha(It)?Gl(It):Ms(It)}function po(It){return Ha(It)?hu(It):xa(It)}function Wr(It){for(var ci=It.length;ci--&&pt.test(It.charAt(ci)););return ci}var Eo=Fl(hd);function Gl(It){for(var ci=Ol.lastIndex=0;Ol.test(It);)++ci;return ci}function hu(It){return It.match(Ol)||[]}function du(It){return It.match(Eh)||[]}var uu=function It(ci){ci=ci==null?vr:Co.defaults(vr.Object(),ci,Co.pick(vr,al));var ti=ci.Array,Ki=ci.Date,In=ci.Error,hs=ci.Function,pr=ci.Math,gs=ci.Object,Tc=ci.RegExp,Dh=ci.String,fo=ci.TypeError,Je=ti.prototype,xt=hs.prototype,Pt=gs.prototype,hi=ci["__core-js_shared__"],Lt=xt.toString,Qt=Pt.hasOwnProperty,Si=0,ji=function(){var g=/[^.]+$/.exec(hi&&hi.keys&&hi.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),bi=Pt.toString,mn=Lt.call(gs),xn=vr._,wn=Tc("^"+Lt.call(Qt).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rn=be?ci.Buffer:s,Qn=ci.Symbol,gn=ci.Uint8Array,cr=Rn?Rn.allocUnsafe:s,fr=Xo(gs.getPrototypeOf,gs),Xr=gs.create,As=Pt.propertyIsEnumerable,ro=Je.splice,Mo=Qn?Qn.isConcatSpreadable:s,xr=Qn?Qn.iterator:s,Vl=Qn?Qn.toStringTag:s,$l=function(){try{var g=Ed(gs,"defineProperty");return g({},"",{}),g}catch{}}(),fd=ci.clearTimeout!==vr.clearTimeout&&ci.clearTimeout,Gi=Ki&&Ki.now!==vr.Date.now&&Ki.now,wa=ci.setTimeout!==vr.setTimeout&&ci.setTimeout,Sc=pr.ceil,md=pr.floor,pu=gs.getOwnPropertySymbols,Ih=Rn?Rn.isBuffer:s,wp=ci.isFinite,fu=Je.join,Lh=Xo(gs.keys,gs),nr=pr.max,Ns=pr.min,gd=Ki.now,Oh=ci.parseInt,Xf=pr.random,Om=Je.reverse,mu=Ed(ci,"DataView"),hl=Ed(ci,"Map"),_d=Ed(ci,"Promise"),Hl=Ed(ci,"Set"),Rh=Ed(ci,"WeakMap"),Ec=Ed(gs,"create"),Cc=Rh&&new Rh,th={},Tp=Ql(mu),Sp=Ql(hl),Yf=Ql(_d),gu=Ql(Hl),Wl=Ql(Rh),Bh=Qn?Qn.prototype:s,zh=Bh?Bh.valueOf:s,Ep=Bh?Bh.toString:s;function qe(g){if(Ar(g)&&!Un(g)&&!(g instanceof Cn)){if(g instanceof ca)return g;if(Qt.call(g,"__wrapped__"))return ku(g)}return new ca(g)}var Xl=function(){function g(){}return function(k){if(!gr(k))return{};if(Xr)return Xr(k);g.prototype=k;var ae=new g;return g.prototype=s,ae}}();function yd(){}function ca(g,k){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!k,this.__index__=0,this.__values__=s}qe.templateSettings={escape:Pl,evaluate:il,interpolate:io,variable:"",imports:{_:qe}},qe.prototype=yd.prototype,qe.prototype.constructor=qe,ca.prototype=Xl(yd.prototype),ca.prototype.constructor=ca;function Cn(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function Rm(){var g=new Cn(this.__wrapped__);return g.__actions__=zr(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=zr(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=zr(this.__views__),g}function Cp(){if(this.__filtered__){var g=new Cn(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function Bm(){var g=this.__wrapped__.value(),k=this.__dir__,ae=Un(g),Ae=k<0,Ge=ae?g.length:0,et=Jm(0,Ge,this.__views__),_t=et.start,At=et.end,zt=At-_t,mi=Ae?At:_t-1,xi=this.__iteratees__,ki=xi.length,Xi=0,un=Ns(zt,this.__takeCount__);if(!ae||!Ae&&Ge==zt&&un==zt)return bd(g,this.__actions__);var kn=[];e:for(;zt--&&Xi<un;){mi+=k;for(var es=-1,Ln=g[mi];++es<ki;){var ls=xi[es],_s=ls.iteratee,Aa=ls.type,ta=_s(Ln);if(Aa==y)Ln=ta;else if(!ta){if(Aa==f)continue e;break e}}kn[Xi++]=Ln}return kn}Cn.prototype=Xl(yd.prototype),Cn.prototype.constructor=Cn;function ih(g){var k=-1,ae=g==null?0:g.length;for(this.clear();++k<ae;){var Ae=g[k];this.set(Ae[0],Ae[1])}}function Yl(){this.__data__=Ec?Ec(null):{},this.size=0}function qf(g){var k=this.has(g)&&delete this.__data__[g];return this.size-=k?1:0,k}function Fh(g){var k=this.__data__;if(Ec){var ae=k[g];return ae===w?s:ae}return Qt.call(k,g)?k[g]:s}function dl(g){var k=this.__data__;return Ec?k[g]!==s:Qt.call(k,g)}function _u(g,k){var ae=this.__data__;return this.size+=this.has(g)?0:1,ae[g]=Ec&&k===s?w:k,this}ih.prototype.clear=Yl,ih.prototype.delete=qf,ih.prototype.get=Fh,ih.prototype.has=dl,ih.prototype.set=_u;function zi(g){var k=-1,ae=g==null?0:g.length;for(this.clear();++k<ae;){var Ae=g[k];this.set(Ae[0],Ae[1])}}function Zf(){this.__data__=[],this.size=0}function Kf(g){var k=this.__data__,ae=a(k,g);if(ae<0)return!1;var Ae=k.length-1;return ae==Ae?k.pop():ro.call(k,ae,1),--this.size,!0}function Mc(g){var k=this.__data__,ae=a(k,g);return ae<0?s:k[ae][1]}function vd(g){return a(this.__data__,g)>-1}function Mp(g,k){var ae=this.__data__,Ae=a(ae,g);return Ae<0?(++this.size,ae.push([g,k])):ae[Ae][1]=k,this}zi.prototype.clear=Zf,zi.prototype.delete=Kf,zi.prototype.get=Mc,zi.prototype.has=vd,zi.prototype.set=Mp;function ul(g){var k=-1,ae=g==null?0:g.length;for(this.clear();++k<ae;){var Ae=g[k];this.set(Ae[0],Ae[1])}}function Ap(){this.size=0,this.__data__={hash:new ih,map:new(hl||zi),string:new ih}}function kp(g){var k=Tu(this,g).delete(g);return this.size-=k?1:0,k}function Pp(g){return Tu(this,g).get(g)}function Dp(g){return Tu(this,g).has(g)}function Nh(g,k){var ae=Tu(this,g),Ae=ae.size;return ae.set(g,k),this.size+=ae.size==Ae?0:1,this}ul.prototype.clear=Ap,ul.prototype.delete=kp,ul.prototype.get=Pp,ul.prototype.has=Dp,ul.prototype.set=Nh;function Wa(g){var k=-1,ae=g==null?0:g.length;for(this.__data__=new ul;++k<ae;)this.add(g[k])}function yu(g){return this.__data__.set(g,w),this}function Jf(g){return this.__data__.has(g)}Wa.prototype.add=Wa.prototype.push=yu,Wa.prototype.has=Jf;function ha(g){var k=this.__data__=new zi(g);this.size=k.size}function Qf(){this.__data__=new zi,this.size=0}function e0(g){var k=this.__data__,ae=k.delete(g);return this.size=k.size,ae}function t0(g){return this.__data__.get(g)}function i0(g){return this.__data__.has(g)}function n0(g,k){var ae=this.__data__;if(ae instanceof zi){var Ae=ae.__data__;if(!hl||Ae.length<c-1)return Ae.push([g,k]),this.size=++ae.size,this;ae=this.__data__=new ul(Ae)}return ae.set(g,k),this.size=ae.size,this}ha.prototype.clear=Qf,ha.prototype.delete=e0,ha.prototype.get=t0,ha.prototype.has=i0,ha.prototype.set=n0;function vu(g,k){var ae=Un(g),Ae=!ae&&Id(g),Ge=!ae&&!Ae&&ic(g),et=!ae&&!Ae&&!Ge&&nc(g),_t=ae||Ae||Ge||et,At=_t?Wo(g.length,Dh):[],zt=At.length;for(var mi in g)(k||Qt.call(g,mi))&&!(_t&&(mi=="length"||Ge&&(mi=="offset"||mi=="parent")||et&&(mi=="buffer"||mi=="byteLength"||mi=="byteOffset")||Ic(mi,zt)))&&At.push(mi);return At}function Ip(g){var k=g.length;return k?g[qo(0,k-1)]:s}function s0(g,k){return Au(zr(g),de(k,0,g.length))}function Lp(g){return Au(zr(g))}function nh(g,k,ae){(ae!==s&&!tc(g[k],ae)||ae===s&&!(k in g))&&B(g,k,ae)}function _(g,k,ae){var Ae=g[k];(!(Qt.call(g,k)&&tc(Ae,ae))||ae===s&&!(k in g))&&B(g,k,ae)}function a(g,k){for(var ae=g.length;ae--;)if(tc(g[ae][0],k))return ae;return-1}function u(g,k,ae,Ae){return tt(g,function(Ge,et,_t){k(Ae,Ge,ae(Ge),_t)}),Ae}function x(g,k){return g&&Qr(k,kr(k),g)}function D(g,k){return g&&Qr(k,pa(k),g)}function B(g,k,ae){k=="__proto__"&&$l?$l(g,k,{configurable:!0,enumerable:!0,value:ae,writable:!0}):g[k]=ae}function oe(g,k){for(var ae=-1,Ae=k.length,Ge=ti(Ae),et=g==null;++ae<Ae;)Ge[ae]=et?s:R0(g,k[ae]);return Ge}function de(g,k,ae){return g===g&&(ae!==s&&(g=g<=ae?g:ae),k!==s&&(g=g>=k?g:k)),g}function ge(g,k,ae,Ae,Ge,et){var _t,At=k&z,zt=k&Y,mi=k&Q;if(ae&&(_t=Ge?ae(g,Ae,Ge,et):ae(g)),_t!==s)return _t;if(!gr(g))return g;var xi=Un(g);if(xi){if(_t=Cd(g),!At)return zr(g,_t)}else{var ki=Zo(g),Xi=ki==le||ki==Z;if(ic(g))return kc(g,At);if(ki==ze||ki==se||Xi&&!Ge){if(_t=zt||Xi?{}:eg(g),!At)return zt?Gh(g,D(_t,g)):Uh(g,x(_t,g))}else{if(!fs[ki])return Ge?g:{};_t=Bx(g,ki,At)}}et||(et=new ha);var un=et.get(g);if(un)return un;et.set(g,_t),X_(g)?g.forEach(function(Ln){_t.add(ge(Ln,k,ae,Ln,g,et))}):kg(g)&&g.forEach(function(Ln,ls){_t.set(ls,ge(Ln,k,ae,ls,g,et))});var kn=mi?zt?Zm:h0:zt?pa:kr,es=xi?s:kn(g);return ei(es||g,function(Ln,ls){es&&(ls=Ln,Ln=g[ls]),_(_t,ls,ge(Ln,k,ae,ls,g,et))}),_t}function ke(g){var k=kr(g);return function(ae){return Ce(ae,g,k)}}function Ce(g,k,ae){var Ae=ae.length;if(g==null)return!Ae;for(g=gs(g);Ae--;){var Ge=ae[Ae],et=k[Ge],_t=g[Ge];if(_t===s&&!(Ge in g)||!et(_t))return!1}return!0}function Re(g,k,ae){if(typeof g!="function")throw new fo(m);return Mu(function(){g.apply(s,ae)},k)}function $e(g,k,ae,Ae){var Ge=-1,et=Qs,_t=!0,At=g.length,zt=[],mi=k.length;if(!At)return zt;ae&&(k=Vn(k,so(ae))),Ae?(et=Fs,_t=!1):k.length>=c&&(et=vc,_t=!1,k=new Wa(k));e:for(;++Ge<At;){var xi=g[Ge],ki=ae==null?xi:ae(xi);if(xi=Ae||xi!==0?xi:0,_t&&ki===ki){for(var Xi=mi;Xi--;)if(k[Xi]===ki)continue e;zt.push(xi)}else et(k,ki,Ae)||zt.push(xi)}return zt}var tt=c_(gt),it=c_(kt,!0);function rt(g,k){var ae=!0;return tt(g,function(Ae,Ge,et){return ae=!!k(Ae,Ge,et),ae}),ae}function Xe(g,k,ae){for(var Ae=-1,Ge=g.length;++Ae<Ge;){var et=g[Ae],_t=k(et);if(_t!=null&&(At===s?_t===_t&&!ea(_t):ae(_t,At)))var At=_t,zt=et}return zt}function Ze(g,k,ae,Ae){var Ge=g.length;for(ae=Mn(ae),ae<0&&(ae=-ae>Ge?0:Ge+ae),Ae=Ae===s||Ae>Ge?Ge:Mn(Ae),Ae<0&&(Ae+=Ge),Ae=ae>Ae?0:Bu(Ae);ae<Ae;)g[ae++]=k;return g}function ht(g,k){var ae=[];return tt(g,function(Ae,Ge,et){k(Ae,Ge,et)&&ae.push(Ae)}),ae}function nt(g,k,ae,Ae,Ge){var et=-1,_t=g.length;for(ae||(ae=p0),Ge||(Ge=[]);++et<_t;){var At=g[et];k>0&&ae(At)?k>1?nt(At,k-1,ae,Ae,Ge):$n(Ge,At):Ae||(Ge[Ge.length]=At)}return Ge}var ft=h_(),Tt=h_(!0);function gt(g,k){return g&&ft(g,k,kr)}function kt(g,k){return g&&Tt(g,k,kr)}function Wt(g,k){return en(k,function(ae){return Oc(g[ae])})}function Nt(g,k){k=ql(k,g);for(var ae=0,Ae=k.length;g!=null&&ae<Ae;)g=g[Ca(k[ae++])];return ae&&ae==Ae?g:s}function Dt(g,k,ae){var Ae=k(g);return Un(g)?Ae:$n(Ae,ae(g))}function pi(g){return g==null?g===s?We:Ee:Vl&&Vl in gs(g)?u_(g):ig(g)}function Ft(g,k){return g>k}function ri(g,k){return g!=null&&Qt.call(g,k)}function Yt(g,k){return g!=null&&k in gs(g)}function vi(g,k,ae){return g>=Ns(k,ae)&&g<nr(k,ae)}function qt(g,k,ae){for(var Ae=ae?Fs:Qs,Ge=g[0].length,et=g.length,_t=et,At=ti(et),zt=1/0,mi=[];_t--;){var xi=g[_t];_t&&k&&(xi=Vn(xi,so(k))),zt=Ns(xi.length,zt),At[_t]=!ae&&(k||Ge>=120&&xi.length>=120)?new Wa(_t&&xi):s}xi=g[0];var ki=-1,Xi=At[0];e:for(;++ki<Ge&&mi.length<zt;){var un=xi[ki],kn=k?k(un):un;if(un=ae||un!==0?un:0,!(Xi?vc(Xi,kn):Ae(mi,kn,ae))){for(_t=et;--_t;){var es=At[_t];if(!(es?vc(es,kn):Ae(g[_t],kn,ae)))continue e}Xi&&Xi.push(kn),mi.push(un)}}return mi}function di(g,k,ae,Ae){return gt(g,function(Ge,et,_t){k(Ae,ae(Ge),et,_t)}),Ae}function wi(g,k,ae){k=ql(k,g),g=ng(g,k);var Ae=g==null?g:g[Ca(_l(k))];return Ae==null?s:fi(Ae,g,ae)}function Rt(g){return Ar(g)&&pi(g)==se}function Xt(g){return Ar(g)&&pi(g)==Ut}function Hi(g){return Ar(g)&&pi(g)==ce}function nn(g,k,ae,Ae,Ge){return g===k?!0:g==null||k==null||!Ar(g)&&!Ar(k)?g!==g&&k!==k:Wi(g,k,ae,Ae,nn,Ge)}function Wi(g,k,ae,Ae,Ge,et){var _t=Un(g),At=Un(k),zt=_t?pe:Zo(g),mi=At?pe:Zo(k);zt=zt==se?ze:zt,mi=mi==se?ze:mi;var xi=zt==ze,ki=mi==ze,Xi=zt==mi;if(Xi&&ic(g)){if(!ic(k))return!1;_t=!0,xi=!1}if(Xi&&!xi)return et||(et=new ha),_t||nc(g)?Ym(g,k,ae,Ae,Ge,et):qm(g,k,zt,ae,Ae,Ge,et);if(!(ae&I)){var un=xi&&Qt.call(g,"__wrapped__"),kn=ki&&Qt.call(k,"__wrapped__");if(un||kn){var es=un?g.value():g,Ln=kn?k.value():k;return et||(et=new ha),Ge(es,Ln,ae,Ae,et)}}return Xi?(et||(et=new ha),Rx(g,k,ae,Ae,Ge,et)):!1}function fn(g){return Ar(g)&&Zo(g)==me}function Bn(g,k,ae,Ae){var Ge=ae.length,et=Ge,_t=!Ae;if(g==null)return!et;for(g=gs(g);Ge--;){var At=ae[Ge];if(_t&&At[2]?At[1]!==g[At[0]]:!(At[0]in g))return!1}for(;++Ge<et;){At=ae[Ge];var zt=At[0],mi=g[zt],xi=At[1];if(_t&&At[2]){if(mi===s&&!(zt in g))return!1}else{var ki=new ha;if(Ae)var Xi=Ae(mi,xi,zt,g,k,ki);if(!(Xi===s?nn(xi,mi,I|O,Ae,ki):Xi))return!1}}return!0}function rn(g){if(!gr(g)||Ea(g))return!1;var k=Oc(g)?wn:qi;return k.test(Ql(g))}function Vi(g){return Ar(g)&&pi(g)==ct}function Es(g){return Ar(g)&&Zo(g)==Ie}function ds(g){return Ar(g)&&Cs(g.length)&&!!rs[pi(g)]}function ks(g){return typeof g=="function"?g:g==null?Yr:typeof g=="object"?Un(g)?js(g[0],g[1]):Xa(g):Zg(g)}function bs(g){if(!Cu(g))return Lh(g);var k=[];for(var ae in gs(g))Qt.call(g,ae)&&ae!="constructor"&&k.push(ae);return k}function Yo(g){if(!gr(g))return Ad(g);var k=Cu(g),ae=[];for(var Ae in g)Ae=="constructor"&&(k||!Qt.call(g,Ae))||ae.push(Ae);return ae}function Ao(g,k){return g<k}function mo(g,k){var ae=-1,Ae=Gs(g)?ti(g.length):[];return tt(g,function(Ge,et,_t){Ae[++ae]=k(Ge,et,_t)}),Ae}function Xa(g){var k=d0(g);return k.length==1&&k[0][2]?f0(k[0][0],k[0][1]):function(ae){return ae===g||Bn(ae,g,k)}}function js(g,k){return tg(g)&&ml(k)?f0(Ca(g),k):function(ae){var Ae=R0(ae,g);return Ae===s&&Ae===k?Ld(ae,g):nn(k,Ae,I|O)}}function ws(g,k,ae,Ae,Ge){g!==k&&ft(k,function(et,_t){if(Ge||(Ge=new ha),gr(et))as(g,k,_t,ae,ws,Ae,Ge);else{var At=Ae?Ae(sg(g,_t),et,_t+"",g,k,Ge):s;At===s&&(At=et),nh(g,_t,At)}},pa)}function as(g,k,ae,Ae,Ge,et,_t){var At=sg(g,ae),zt=sg(k,ae),mi=_t.get(zt);if(mi){nh(g,ae,mi);return}var xi=et?et(At,zt,ae+"",g,k,_t):s,ki=xi===s;if(ki){var Xi=Un(zt),un=!Xi&&ic(zt),kn=!Xi&&!un&&nc(zt);xi=zt,Xi||un||kn?Un(At)?xi=At:Xs(At)?xi=zr(At):un?(ki=!1,xi=kc(zt,!0)):kn?(ki=!1,xi=a_(zt,!0)):xi=[]:Jp(zt)||Id(zt)?(xi=At,Id(At)?xi=I0(At):(!gr(At)||Oc(At))&&(xi=eg(zt))):ki=!1}ki&&(_t.set(zt,xi),Ge(xi,zt,Ae,et,_t),_t.delete(zt)),nh(g,ae,xi)}function mr(g,k){var ae=g.length;if(ae)return k+=k<0?ae:0,Ic(k,ae)?g[k]:s}function oo(g,k,ae){k.length?k=Vn(k,function(et){return Un(et)?function(_t){return Nt(_t,et.length===1?et[0]:et)}:et}):k=[Yr];var Ae=-1;k=Vn(k,so(En()));var Ge=mo(g,function(et,_t,At){var zt=Vn(k,function(mi){return mi(et)});return{criteria:zt,index:++Ae,value:et}});return kh(Ge,function(et,_t){return Gm(et,_t,ae)})}function Us(g,k){return go(g,k,function(ae,Ae){return Ld(g,Ae)})}function go(g,k,ae){for(var Ae=-1,Ge=k.length,et={};++Ae<Ge;){var _t=k[Ae],At=Nt(g,_t);ae(At,_t)&&sh(et,ql(_t,g),At)}return et}function xd(g){return function(k){return Nt(k,g)}}function Ya(g,k,ae,Ae){var Ge=Ae?$r:Dn,et=-1,_t=k.length,At=g;for(g===k&&(k=zr(k)),ae&&(At=Vn(g,so(ae)));++et<_t;)for(var zt=0,mi=k[et],xi=ae?ae(mi):mi;(zt=Ge(At,xi,zt,Ae))>-1;)At!==g&&ro.call(At,zt,1),ro.call(g,zt,1);return g}function ao(g,k){for(var ae=g?k.length:0,Ae=ae-1;ae--;){var Ge=k[ae];if(ae==Ae||Ge!==et){var et=Ge;Ic(Ge)?ro.call(g,Ge,1):o0(g,Ge)}}return g}function qo(g,k){return g+md(Xf()*(k-g+1))}function pl(g,k,ae,Ae){for(var Ge=-1,et=nr(Sc((k-g)/(ae||1)),0),_t=ti(et);et--;)_t[Ae?et:++Ge]=g,g+=ae;return _t}function Ta(g,k){var ae="";if(!g||k<1||k>j)return ae;do k%2&&(ae+=g),k=md(k/2),k&&(g+=g);while(k);return ae}function jn(g,k){return kd(Np(g,k,Yr),g+"")}function jh(g){return Ip(Od(g))}function fl(g,k){var ae=Od(g);return Au(ae,de(k,0,ae.length))}function sh(g,k,ae,Ae){if(!gr(g))return g;k=ql(k,g);for(var Ge=-1,et=k.length,_t=et-1,At=g;At!=null&&++Ge<et;){var zt=Ca(k[Ge]),mi=ae;if(zt==="__proto__"||zt==="constructor"||zt==="prototype")return g;if(Ge!=_t){var xi=At[zt];mi=Ae?Ae(xi,zt,At):s,mi===s&&(mi=gr(xi)?xi:Ic(k[Ge+1])?[]:{})}_(At,zt,mi),At=At[zt]}return g}var Op=Cc?function(g,k){return Cc.set(g,k),g}:Yr,t_=$l?function(g,k){return $l(g,"toString",{configurable:!0,enumerable:!1,value:Xg(k),writable:!0})}:Yr;function zm(g){return Au(Od(g))}function qa(g,k,ae){var Ae=-1,Ge=g.length;k<0&&(k=-k>Ge?0:Ge+k),ae=ae>Ge?Ge:ae,ae<0&&(ae+=Ge),Ge=k>ae?0:ae-k>>>0,k>>>=0;for(var et=ti(Ge);++Ae<Ge;)et[Ae]=g[Ae+k];return et}function i_(g,k){var ae;return tt(g,function(Ae,Ge,et){return ae=k(Ae,Ge,et),!ae}),!!ae}function Rp(g,k,ae){var Ae=0,Ge=g==null?Ae:g.length;if(typeof k=="number"&&k===k&&Ge<=ve){for(;Ae<Ge;){var et=Ae+Ge>>>1,_t=g[et];_t!==null&&!ea(_t)&&(ae?_t<=k:_t<k)?Ae=et+1:Ge=et}return Ge}return r0(g,k,Yr,ae)}function r0(g,k,ae,Ae){var Ge=0,et=g==null?0:g.length;if(et===0)return 0;k=ae(k);for(var _t=k!==k,At=k===null,zt=ea(k),mi=k===s;Ge<et;){var xi=md((Ge+et)/2),ki=ae(g[xi]),Xi=ki!==s,un=ki===null,kn=ki===ki,es=ea(ki);if(_t)var Ln=Ae||kn;else mi?Ln=kn&&(Ae||Xi):At?Ln=kn&&Xi&&(Ae||!un):zt?Ln=kn&&Xi&&!un&&(Ae||!es):un||es?Ln=!1:Ln=Ae?ki<=k:ki<k;Ln?Ge=xi+1:et=xi}return Ns(et,ue)}function Fm(g,k){for(var ae=-1,Ae=g.length,Ge=0,et=[];++ae<Ae;){var _t=g[ae],At=k?k(_t):_t;if(!ae||!tc(At,zt)){var zt=At;et[Ge++]=_t===0?0:_t}}return et}function Nm(g){return typeof g=="number"?g:ea(g)?W:+g}function Sa(g){if(typeof g=="string")return g;if(Un(g))return Vn(g,Sa)+"";if(ea(g))return Ep?Ep.call(g):"";var k=g+"";return k=="0"&&1/g==-S?"-0":k}function rh(g,k,ae){var Ae=-1,Ge=Qs,et=g.length,_t=!0,At=[],zt=At;if(ae)_t=!1,Ge=Fs;else if(et>=c){var mi=k?null:_o(g);if(mi)return cl(mi);_t=!1,Ge=vc,zt=new Wa}else zt=k?[]:At;e:for(;++Ae<et;){var xi=g[Ae],ki=k?k(xi):xi;if(xi=ae||xi!==0?xi:0,_t&&ki===ki){for(var Xi=zt.length;Xi--;)if(zt[Xi]===ki)continue e;k&&zt.push(ki),At.push(xi)}else Ge(zt,ki,ae)||(zt!==At&&zt.push(ki),At.push(xi))}return At}function o0(g,k){return k=ql(k,g),g=ng(g,k),g==null||delete g[Ca(_l(k))]}function n_(g,k,ae,Ae){return sh(g,k,ae(Nt(g,k)),Ae)}function a0(g,k,ae,Ae){for(var Ge=g.length,et=Ae?Ge:-1;(Ae?et--:++et<Ge)&&k(g[et],et,g););return ae?qa(g,Ae?0:et,Ae?et+1:Ge):qa(g,Ae?et+1:0,Ae?Ge:et)}function bd(g,k){var ae=g;return ae instanceof Cn&&(ae=ae.value()),Sn(k,function(Ae,Ge){return Ge.func.apply(Ge.thisArg,$n([Ae],Ge.args))},ae)}function l0(g,k,ae){var Ae=g.length;if(Ae<2)return Ae?rh(g[0]):[];for(var Ge=-1,et=ti(Ae);++Ge<Ae;)for(var _t=g[Ge],At=-1;++At<Ae;)At!=Ge&&(et[Ge]=$e(et[Ge]||_t,g[At],k,ae));return rh(nt(et,1),k,ae)}function jm(g,k,ae){for(var Ae=-1,Ge=g.length,et=k.length,_t={};++Ae<Ge;){var At=Ae<et?k[Ae]:s;ae(_t,g[Ae],At)}return _t}function c0(g){return Xs(g)?g:[]}function Um(g){return typeof g=="function"?g:Yr}function ql(g,k){return Un(g)?g:tg(g,k)?[g]:rg(Ys(g))}var s_=jn;function Ac(g,k,ae){var Ae=g.length;return ae=ae===s?Ae:ae,!k&&ae>=Ae?g:qa(g,k,ae)}var Bp=fd||function(g){return vr.clearTimeout(g)};function kc(g,k){if(k)return g.slice();var ae=g.length,Ae=cr?cr(ae):new g.constructor(ae);return g.copy(Ae),Ae}function xu(g){var k=new g.constructor(g.byteLength);return new gn(k).set(new gn(g)),k}function r_(g,k){var ae=k?xu(g.buffer):g.buffer;return new g.constructor(ae,g.byteOffset,g.byteLength)}function o_(g){var k=new g.constructor(g.source,_i.exec(g));return k.lastIndex=g.lastIndex,k}function Ix(g){return zh?gs(zh.call(g)):{}}function a_(g,k){var ae=k?xu(g.buffer):g.buffer;return new g.constructor(ae,g.byteOffset,g.length)}function l_(g,k){if(g!==k){var ae=g!==s,Ae=g===null,Ge=g===g,et=ea(g),_t=k!==s,At=k===null,zt=k===k,mi=ea(k);if(!At&&!mi&&!et&&g>k||et&&_t&&zt&&!At&&!mi||Ae&&_t&&zt||!ae&&zt||!Ge)return 1;if(!Ae&&!et&&!mi&&g<k||mi&&ae&&Ge&&!Ae&&!et||At&&ae&&Ge||!_t&&Ge||!zt)return-1}return 0}function Gm(g,k,ae){for(var Ae=-1,Ge=g.criteria,et=k.criteria,_t=Ge.length,At=ae.length;++Ae<_t;){var zt=l_(Ge[Ae],et[Ae]);if(zt){if(Ae>=At)return zt;var mi=ae[Ae];return zt*(mi=="desc"?-1:1)}}return g.index-k.index}function bu(g,k,ae,Ae){for(var Ge=-1,et=g.length,_t=ae.length,At=-1,zt=k.length,mi=nr(et-_t,0),xi=ti(zt+mi),ki=!Ae;++At<zt;)xi[At]=k[At];for(;++Ge<_t;)(ki||Ge<et)&&(xi[ae[Ge]]=g[Ge]);for(;mi--;)xi[At++]=g[Ge++];return xi}function wd(g,k,ae,Ae){for(var Ge=-1,et=g.length,_t=-1,At=ae.length,zt=-1,mi=k.length,xi=nr(et-At,0),ki=ti(xi+mi),Xi=!Ae;++Ge<xi;)ki[Ge]=g[Ge];for(var un=Ge;++zt<mi;)ki[un+zt]=k[zt];for(;++_t<At;)(Xi||Ge<et)&&(ki[un+ae[_t]]=g[Ge++]);return ki}function zr(g,k){var ae=-1,Ae=g.length;for(k||(k=ti(Ae));++ae<Ae;)k[ae]=g[ae];return k}function Qr(g,k,ae,Ae){var Ge=!ae;ae||(ae={});for(var et=-1,_t=k.length;++et<_t;){var At=k[et],zt=Ae?Ae(ae[At],g[At],At,ae,g):s;zt===s&&(zt=g[At]),Ge?B(ae,At,zt):_(ae,At,zt)}return ae}function Uh(g,k){return Qr(g,Km(g),k)}function Gh(g,k){return Qr(g,u0(g),k)}function Pc(g,k){return function(ae,Ae){var Ge=Un(ae)?Kt:u,et=k?k():{};return Ge(ae,g,En(Ae,2),et)}}function wu(g){return jn(function(k,ae){var Ae=-1,Ge=ae.length,et=Ge>1?ae[Ge-1]:s,_t=Ge>2?ae[2]:s;for(et=g.length>3&&typeof et=="function"?(Ge--,et):s,_t&&Ko(ae[0],ae[1],_t)&&(et=Ge<3?s:et,Ge=1),k=gs(k);++Ae<Ge;){var At=ae[Ae];At&&g(k,At,Ae,et)}return k})}function c_(g,k){return function(ae,Ae){if(ae==null)return ae;if(!Gs(ae))return g(ae,Ae);for(var Ge=ae.length,et=k?Ge:-1,_t=gs(ae);(k?et--:++et<Ge)&&Ae(_t[et],et,_t)!==!1;);return ae}}function h_(g){return function(k,ae,Ae){for(var Ge=-1,et=gs(k),_t=Ae(k),At=_t.length;At--;){var zt=_t[g?At:++Ge];if(ae(et[zt],zt,et)===!1)break}return k}}function Lx(g,k,ae){var Ae=k&H,Ge=da(g);function et(){var _t=this&&this!==vr&&this instanceof et?Ge:g;return _t.apply(Ae?ae:this,arguments)}return et}function Vm(g){return function(k){k=Ys(k);var ae=Ha(k)?po(k):s,Ae=ae?ae[0]:k.charAt(0),Ge=ae?Ac(ae,1).join(""):k.slice(1);return Ae[g]()+Ge}}function oh(g){return function(k){return Sn(Bd(jg(k).replace(Sh,"")),g,"")}}function da(g){return function(){var k=arguments;switch(k.length){case 0:return new g;case 1:return new g(k[0]);case 2:return new g(k[0],k[1]);case 3:return new g(k[0],k[1],k[2]);case 4:return new g(k[0],k[1],k[2],k[3]);case 5:return new g(k[0],k[1],k[2],k[3],k[4]);case 6:return new g(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return new g(k[0],k[1],k[2],k[3],k[4],k[5],k[6])}var ae=Xl(g.prototype),Ae=g.apply(ae,k);return gr(Ae)?Ae:ae}}function Ox(g,k,ae){var Ae=da(g);function Ge(){for(var et=arguments.length,_t=ti(et),At=et,zt=lh(Ge);At--;)_t[At]=arguments[At];var mi=et<3&&_t[0]!==zt&&_t[et-1]!==zt?[]:Hr(_t,zt);if(et-=mi.length,et<ae)return Ka(g,k,cn,Ge.placeholder,s,_t,mi,s,s,ae-et);var xi=this&&this!==vr&&this instanceof Ge?Ae:g;return fi(xi,this,_t)}return Ge}function d_(g){return function(k,ae,Ae){var Ge=gs(k);if(!Gs(k)){var et=En(ae,3);k=kr(k),ae=function(At){return et(Ge[At],At,Ge)}}var _t=g(k,ae,Ae);return _t>-1?Ge[et?k[_t]:_t]:s}}function Cr(g){return Kl(function(k){var ae=k.length,Ae=ae,Ge=ca.prototype.thru;for(g&&k.reverse();Ae--;){var et=k[Ae];if(typeof et!="function")throw new fo(m);if(Ge&&!_t&&Dc(et)=="wrapper")var _t=new ca([],!0)}for(Ae=_t?Ae:ae;++Ae<ae;){et=k[Ae];var At=Dc(et),zt=At=="wrapper"?Jl(et):s;zt&&Eu(zt[0])&&zt[1]==(ne|P|V|te)&&!zt[4].length&&zt[9]==1?_t=_t[Dc(zt[0])].apply(_t,zt[3]):_t=et.length==1&&Eu(et)?_t[At]():_t.thru(et)}return function(){var mi=arguments,xi=mi[0];if(_t&&mi.length==1&&Un(xi))return _t.plant(xi).value();for(var ki=0,Xi=ae?k[ki].apply(this,mi):xi;++ki<ae;)Xi=k[ki].call(this,Xi);return Xi}})}function cn(g,k,ae,Ae,Ge,et,_t,At,zt,mi){var xi=k&ne,ki=k&H,Xi=k&A,un=k&(P|G),kn=k&F,es=Xi?s:da(g);function Ln(){for(var ls=arguments.length,_s=ti(ls),Aa=ls;Aa--;)_s[Aa]=arguments[Aa];if(un)var ta=lh(Ln),ka=bc(_s,ta);if(Ae&&(_s=bu(_s,Ae,Ge,un)),et&&(_s=wd(_s,et,_t,un)),ls-=ka,un&&ls<mi){var Fr=Hr(_s,ta);return Ka(g,k,cn,Ln.placeholder,ae,_s,Fr,At,zt,mi-ls)}var vo=ki?ae:this,zc=Xi?vo[g]:g;return ls=_s.length,At?_s=m_(_s,At):kn&&ls>1&&_s.reverse(),xi&&zt<ls&&(_s.length=zt),this&&this!==vr&&this instanceof Ln&&(zc=es||da(zc)),zc.apply(vo,_s)}return Ln}function ah(g,k){return function(ae,Ae){return di(ae,g,k(Ae),{})}}function Td(g,k){return function(ae,Ae){var Ge;if(ae===s&&Ae===s)return k;if(ae!==s&&(Ge=ae),Ae!==s){if(Ge===s)return Ae;typeof ae=="string"||typeof Ae=="string"?(ae=Sa(ae),Ae=Sa(Ae)):(ae=Nm(ae),Ae=Nm(Ae)),Ge=g(ae,Ae)}return Ge}}function Jn(g){return Kl(function(k){return k=Vn(k,so(En())),jn(function(ae){var Ae=this;return g(k,function(Ge){return fi(Ge,Ae,ae)})})})}function zp(g,k){k=k===s?" ":Sa(k);var ae=k.length;if(ae<2)return ae?Ta(k,g):k;var Ae=Ta(k,Sc(g/os(k)));return Ha(k)?Ac(po(Ae),0,g).join(""):Ae.slice(0,g)}function $m(g,k,ae,Ae){var Ge=k&H,et=da(g);function _t(){for(var At=-1,zt=arguments.length,mi=-1,xi=Ae.length,ki=ti(xi+zt),Xi=this&&this!==vr&&this instanceof _t?et:g;++mi<xi;)ki[mi]=Ae[mi];for(;zt--;)ki[mi++]=arguments[++At];return fi(Xi,Ge?ae:this,ki)}return _t}function Zl(g){return function(k,ae,Ae){return Ae&&typeof Ae!="number"&&Ko(k,ae,Ae)&&(ae=Ae=s),k=Rc(k),ae===s?(ae=k,k=0):ae=Rc(ae),Ae=Ae===s?k<ae?1:-1:Rc(Ae),pl(k,ae,Ae,g)}}function Za(g){return function(k,ae){return typeof k=="string"&&typeof ae=="string"||(k=ko(k),ae=ko(ae)),g(k,ae)}}function Ka(g,k,ae,Ae,Ge,et,_t,At,zt,mi){var xi=k&P,ki=xi?_t:s,Xi=xi?s:_t,un=xi?et:s,kn=xi?s:et;k|=xi?V:C,k&=~(xi?C:V),k&E||(k&=~(H|A));var es=[g,k,Ge,un,ki,kn,Xi,At,zt,mi],Ln=ae.apply(s,es);return Eu(g)&&m0(Ln,es),Ln.placeholder=Ae,Pd(Ln,g,k)}function ua(g){var k=pr[g];return function(ae,Ae){if(ae=ko(ae),Ae=Ae==null?0:Ns(Mn(Ae),292),Ae&&wp(ae)){var Ge=(Ys(ae)+"e").split("e"),et=k(Ge[0]+"e"+(+Ge[1]+Ae));return Ge=(Ys(et)+"e").split("e"),+(Ge[0]+"e"+(+Ge[1]-Ae))}return k(ae)}}var _o=Hl&&1/cl(new Hl([,-0]))[1]==S?function(g){return new Hl(g)}:qg;function Hm(g){return function(k){var ae=Zo(k);return ae==me?wc(k):ae==Ie?pd(k):Qc(k,g(k))}}function yo(g,k,ae,Ae,Ge,et,_t,At){var zt=k&A;if(!zt&&typeof g!="function")throw new fo(m);var mi=Ae?Ae.length:0;if(mi||(k&=~(V|C),Ae=Ge=s),_t=_t===s?_t:nr(Mn(_t),0),At=At===s?At:Mn(At),mi-=Ge?Ge.length:0,k&C){var xi=Ae,ki=Ge;Ae=Ge=s}var Xi=zt?s:Jl(g),un=[g,k,ae,Ae,Ge,xi,ki,et,_t,At];if(Xi&&Fp(un,Xi),g=un[0],k=un[1],ae=un[2],Ae=un[3],Ge=un[4],At=un[9]=un[9]===s?zt?0:g.length:nr(un[9]-mi,0),!At&&k&(P|G)&&(k&=~(P|G)),!k||k==H)var kn=Lx(g,k,ae);else k==P||k==G?kn=Ox(g,k,At):(k==V||k==(H|V))&&!Ge.length?kn=$m(g,k,ae,Ae):kn=cn.apply(s,un);var es=Xi?Op:m0;return Pd(es(kn,un),g,k)}function Wm(g,k,ae,Ae){return g===s||tc(g,Pt[ae])&&!Qt.call(Ae,ae)?k:g}function Sd(g,k,ae,Ae,Ge,et){return gr(g)&&gr(k)&&(et.set(k,g),ws(g,k,s,Sd,et),et.delete(k)),g}function Xm(g){return Jp(g)?s:g}function Ym(g,k,ae,Ae,Ge,et){var _t=ae&I,At=g.length,zt=k.length;if(At!=zt&&!(_t&&zt>At))return!1;var mi=et.get(g),xi=et.get(k);if(mi&&xi)return mi==k&&xi==g;var ki=-1,Xi=!0,un=ae&O?new Wa:s;for(et.set(g,k),et.set(k,g);++ki<At;){var kn=g[ki],es=k[ki];if(Ae)var Ln=_t?Ae(es,kn,ki,k,g,et):Ae(kn,es,ki,g,k,et);if(Ln!==s){if(Ln)continue;Xi=!1;break}if(un){if(!qn(k,function(ls,_s){if(!vc(un,_s)&&(kn===ls||Ge(kn,ls,ae,Ae,et)))return un.push(_s)})){Xi=!1;break}}else if(!(kn===es||Ge(kn,es,ae,Ae,et))){Xi=!1;break}}return et.delete(g),et.delete(k),Xi}function qm(g,k,ae,Ae,Ge,et,_t){switch(ae){case Vt:if(g.byteLength!=k.byteLength||g.byteOffset!=k.byteOffset)return!1;g=g.buffer,k=k.buffer;case Ut:return!(g.byteLength!=k.byteLength||!et(new gn(g),new gn(k)));case Pe:case ce:case Me:return tc(+g,+k);case _e:return g.name==k.name&&g.message==k.message;case ct:case Be:return g==k+"";case me:var At=wc;case Ie:var zt=Ae&I;if(At||(At=cl),g.size!=k.size&&!zt)return!1;var mi=_t.get(g);if(mi)return mi==k;Ae|=O,_t.set(g,k);var xi=Ym(At(g),At(k),Ae,Ge,et,_t);return _t.delete(g),xi;case Ue:if(zh)return zh.call(g)==zh.call(k)}return!1}function Rx(g,k,ae,Ae,Ge,et){var _t=ae&I,At=h0(g),zt=At.length,mi=h0(k),xi=mi.length;if(zt!=xi&&!_t)return!1;for(var ki=zt;ki--;){var Xi=At[ki];if(!(_t?Xi in k:Qt.call(k,Xi)))return!1}var un=et.get(g),kn=et.get(k);if(un&&kn)return un==k&&kn==g;var es=!0;et.set(g,k),et.set(k,g);for(var Ln=_t;++ki<zt;){Xi=At[ki];var ls=g[Xi],_s=k[Xi];if(Ae)var Aa=_t?Ae(_s,ls,Xi,k,g,et):Ae(ls,_s,Xi,g,k,et);if(!(Aa===s?ls===_s||Ge(ls,_s,ae,Ae,et):Aa)){es=!1;break}Ln||(Ln=Xi=="constructor")}if(es&&!Ln){var ta=g.constructor,ka=k.constructor;ta!=ka&&"constructor"in g&&"constructor"in k&&!(typeof ta=="function"&&ta instanceof ta&&typeof ka=="function"&&ka instanceof ka)&&(es=!1)}return et.delete(g),et.delete(k),es}function Kl(g){return kd(Np(g,s,lg),g+"")}function h0(g){return Dt(g,kr,Km)}function Zm(g){return Dt(g,pa,u0)}var Jl=Cc?function(g){return Cc.get(g)}:qg;function Dc(g){for(var k=g.name+"",ae=th[k],Ae=Qt.call(th,k)?ae.length:0;Ae--;){var Ge=ae[Ae],et=Ge.func;if(et==null||et==g)return Ge.name}return k}function lh(g){var k=Qt.call(qe,"placeholder")?qe:g;return k.placeholder}function En(){var g=qe.iteratee||Yg;return g=g===Yg?ks:g,arguments.length?g(arguments[0],arguments[1]):g}function Tu(g,k){var ae=g.__data__;return zx(k)?ae[typeof k=="string"?"string":"hash"]:ae.map}function d0(g){for(var k=kr(g),ae=k.length;ae--;){var Ae=k[ae],Ge=g[Ae];k[ae]=[Ae,Ge,ml(Ge)]}return k}function Ed(g,k){var ae=ba(g,k);return rn(ae)?ae:s}function u_(g){var k=Qt.call(g,Vl),ae=g[Vl];try{g[Vl]=s;var Ae=!0}catch{}var Ge=bi.call(g);return Ae&&(k?g[Vl]=ae:delete g[Vl]),Ge}var Km=pu?function(g){return g==null?[]:(g=gs(g),en(pu(g),function(k){return As.call(g,k)}))}:V0,u0=pu?function(g){for(var k=[];g;)$n(k,Km(g)),g=fr(g);return k}:V0,Zo=pi;(mu&&Zo(new mu(new ArrayBuffer(1)))!=Vt||hl&&Zo(new hl)!=me||_d&&Zo(_d.resolve())!=Qe||Hl&&Zo(new Hl)!=Ie||Rh&&Zo(new Rh)!=st)&&(Zo=function(g){var k=pi(g),ae=k==ze?g.constructor:s,Ae=ae?Ql(ae):"";if(Ae)switch(Ae){case Tp:return Vt;case Sp:return me;case Yf:return Qe;case gu:return Ie;case Wl:return st}return k});function Jm(g,k,ae){for(var Ae=-1,Ge=ae.length;++Ae<Ge;){var et=ae[Ae],_t=et.size;switch(et.type){case"drop":g+=_t;break;case"dropRight":k-=_t;break;case"take":k=Ns(k,g+_t);break;case"takeRight":g=nr(g,k-_t);break}}return{start:g,end:k}}function p_(g){var k=g.match(Ot);return k?k[1].split(Bt):[]}function Qm(g,k,ae){k=ql(k,g);for(var Ae=-1,Ge=k.length,et=!1;++Ae<Ge;){var _t=Ca(k[Ae]);if(!(et=g!=null&&ae(g,_t)))break;g=g[_t]}return et||++Ae!=Ge?et:(Ge=g==null?0:g.length,!!Ge&&Cs(Ge)&&Ic(_t,Ge)&&(Un(g)||Id(g)))}function Cd(g){var k=g.length,ae=new g.constructor(k);return k&&typeof g[0]=="string"&&Qt.call(g,"index")&&(ae.index=g.index,ae.input=g.input),ae}function eg(g){return typeof g.constructor=="function"&&!Cu(g)?Xl(fr(g)):{}}function Bx(g,k,ae){var Ae=g.constructor;switch(k){case Ut:return xu(g);case Pe:case ce:return new Ae(+g);case Vt:return r_(g,ae);case yi:case si:case Ai:case $i:case Fi:case Zi:case Ri:case yn:case Tn:return a_(g,ae);case me:return new Ae;case Me:case Be:return new Ae(g);case ct:return o_(g);case Ie:return new Ae;case Ue:return Ix(g)}}function Su(g,k){var ae=k.length;if(!ae)return g;var Ae=ae-1;return k[Ae]=(ae>1?"& ":"")+k[Ae],k=k.join(ae>2?", ":" "),g.replace(Et,`{
/* [wrapped with `+k+`] */
`)}function p0(g){return Un(g)||Id(g)||!!(Mo&&g&&g[Mo])}function Ic(g,k){var ae=typeof g;return k=k??j,!!k&&(ae=="number"||ae!="symbol"&&Fn.test(g))&&g>-1&&g%1==0&&g<k}function Ko(g,k,ae){if(!gr(ae))return!1;var Ae=typeof k;return(Ae=="number"?Gs(ae)&&Ic(k,ae.length):Ae=="string"&&k in ae)?tc(ae[k],g):!1}function tg(g,k){if(Un(g))return!1;var ae=typeof g;return ae=="number"||ae=="symbol"||ae=="boolean"||g==null||ea(g)?!0:qc.test(g)||!nl.test(g)||k!=null&&g in gs(k)}function zx(g){var k=typeof g;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?g!=="__proto__":g===null}function Eu(g){var k=Dc(g),ae=qe[k];if(typeof ae!="function"||!(k in Cn.prototype))return!1;if(g===ae)return!0;var Ae=Jl(ae);return!!Ae&&g===Ae[0]}function Ea(g){return!!ji&&ji in g}var f_=hi?Oc:Kg;function Cu(g){var k=g&&g.constructor,ae=typeof k=="function"&&k.prototype||Pt;return g===ae}function ml(g){return g===g&&!gr(g)}function f0(g,k){return function(ae){return ae==null?!1:ae[g]===k&&(k!==s||g in gs(ae))}}function Md(g){var k=lo(g,function(Ae){return ae.size===$&&ae.clear(),Ae}),ae=k.cache;return k}function Fp(g,k){var ae=g[1],Ae=k[1],Ge=ae|Ae,et=Ge<(H|A|ne),_t=Ae==ne&&ae==P||Ae==ne&&ae==te&&g[7].length<=k[8]||Ae==(ne|te)&&k[7].length<=k[8]&&ae==P;if(!(et||_t))return g;Ae&H&&(g[2]=k[2],Ge|=ae&H?0:E);var At=k[3];if(At){var zt=g[3];g[3]=zt?bu(zt,At,k[4]):At,g[4]=zt?Hr(g[3],ee):k[4]}return At=k[5],At&&(zt=g[5],g[5]=zt?wd(zt,At,k[6]):At,g[6]=zt?Hr(g[5],ee):k[6]),At=k[7],At&&(g[7]=At),Ae&ne&&(g[8]=g[8]==null?k[8]:Ns(g[8],k[8])),g[9]==null&&(g[9]=k[9]),g[0]=k[0],g[1]=Ge,g}function Ad(g){var k=[];if(g!=null)for(var ae in gs(g))k.push(ae);return k}function ig(g){return bi.call(g)}function Np(g,k,ae){return k=nr(k===s?g.length-1:k,0),function(){for(var Ae=arguments,Ge=-1,et=nr(Ae.length-k,0),_t=ti(et);++Ge<et;)_t[Ge]=Ae[k+Ge];Ge=-1;for(var At=ti(k+1);++Ge<k;)At[Ge]=Ae[Ge];return At[k]=ae(_t),fi(g,this,At)}}function ng(g,k){return k.length<2?g:Nt(g,qa(k,0,-1))}function m_(g,k){for(var ae=g.length,Ae=Ns(k.length,ae),Ge=zr(g);Ae--;){var et=k[Ae];g[Ae]=Ic(et,ae)?Ge[et]:s}return g}function sg(g,k){if(!(k==="constructor"&&typeof g[k]=="function")&&k!="__proto__")return g[k]}var m0=Lc(Op),Mu=wa||function(g,k){return vr.setTimeout(g,k)},kd=Lc(t_);function Pd(g,k,ae){var Ae=k+"";return kd(g,Su(Ae,Ja(p_(Ae),ae)))}function Lc(g){var k=0,ae=0;return function(){var Ae=gd(),Ge=L-(Ae-ae);if(ae=Ae,Ge>0){if(++k>=M)return arguments[0]}else k=0;return g.apply(s,arguments)}}function Au(g,k){var ae=-1,Ae=g.length,Ge=Ae-1;for(k=k===s?Ae:k;++ae<k;){var et=qo(ae,Ge),_t=g[et];g[et]=g[ae],g[ae]=_t}return g.length=k,g}var rg=Md(function(g){var k=[];return g.charCodeAt(0)===46&&k.push(""),g.replace(lt,function(ae,Ae,Ge,et){k.push(Ge?et.replace(li,"$1"):Ae||ae)}),k});function Ca(g){if(typeof g=="string"||ea(g))return g;var k=g+"";return k=="0"&&1/g==-S?"-0":k}function Ql(g){if(g!=null){try{return Lt.call(g)}catch{}try{return g+""}catch{}}return""}function Ja(g,k){return ei(q,function(ae){var Ae="_."+ae[0];k&ae[1]&&!Qs(g,Ae)&&g.push(Ae)}),g.sort()}function ku(g){if(g instanceof Cn)return g.clone();var k=new ca(g.__wrapped__,g.__chain__);return k.__actions__=zr(g.__actions__),k.__index__=g.__index__,k.__values__=g.__values__,k}function Jo(g,k,ae){(ae?Ko(g,k,ae):k===s)?k=1:k=nr(Mn(k),0);var Ae=g==null?0:g.length;if(!Ae||k<1)return[];for(var Ge=0,et=0,_t=ti(Sc(Ae/k));Ge<Ae;)_t[et++]=qa(g,Ge,Ge+=k);return _t}function gl(g){for(var k=-1,ae=g==null?0:g.length,Ae=0,Ge=[];++k<ae;){var et=g[k];et&&(Ge[Ae++]=et)}return Ge}function og(){var g=arguments.length;if(!g)return[];for(var k=ti(g-1),ae=arguments[0],Ae=g;Ae--;)k[Ae-1]=arguments[Ae];return $n(Un(ae)?zr(ae):[ae],nt(k,1))}var br=jn(function(g,k){return Xs(g)?$e(g,nt(k,1,Xs,!0)):[]}),g_=jn(function(g,k){var ae=_l(k);return Xs(ae)&&(ae=s),Xs(g)?$e(g,nt(k,1,Xs,!0),En(ae,2)):[]}),jp=jn(function(g,k){var ae=_l(k);return Xs(ae)&&(ae=s),Xs(g)?$e(g,nt(k,1,Xs,!0),s,ae):[]});function ec(g,k,ae){var Ae=g==null?0:g.length;return Ae?(k=ae||k===s?1:Mn(k),qa(g,k<0?0:k,Ae)):[]}function Fx(g,k,ae){var Ae=g==null?0:g.length;return Ae?(k=ae||k===s?1:Mn(k),k=Ae-k,qa(g,0,k<0?0:k)):[]}function Nx(g,k){return g&&g.length?a0(g,En(k,3),!0,!0):[]}function __(g,k){return g&&g.length?a0(g,En(k,3),!0):[]}function y_(g,k,ae,Ae){var Ge=g==null?0:g.length;return Ge?(ae&&typeof ae!="number"&&Ko(g,k,ae)&&(ae=0,Ae=Ge),Ze(g,k,ae,Ae)):[]}function Vh(g,k,ae){var Ae=g==null?0:g.length;if(!Ae)return-1;var Ge=ae==null?0:Mn(ae);return Ge<0&&(Ge=nr(Ae+Ge,0)),So(g,En(k,3),Ge)}function ag(g,k,ae){var Ae=g==null?0:g.length;if(!Ae)return-1;var Ge=Ae-1;return ae!==s&&(Ge=Mn(ae),Ge=ae<0?nr(Ae+Ge,0):Ns(Ge,Ae-1)),So(g,En(k,3),Ge,!0)}function lg(g){var k=g==null?0:g.length;return k?nt(g,1):[]}function v_(g){var k=g==null?0:g.length;return k?nt(g,S):[]}function x_(g,k){var ae=g==null?0:g.length;return ae?(k=k===s?1:Mn(k),nt(g,k)):[]}function jx(g){for(var k=-1,ae=g==null?0:g.length,Ae={};++k<ae;){var Ge=g[k];Ae[Ge[0]]=Ge[1]}return Ae}function g0(g){return g&&g.length?g[0]:s}function cg(g,k,ae){var Ae=g==null?0:g.length;if(!Ae)return-1;var Ge=ae==null?0:Mn(ae);return Ge<0&&(Ge=nr(Ae+Ge,0)),Dn(g,k,Ge)}function hg(g){var k=g==null?0:g.length;return k?qa(g,0,-1):[]}var Qo=jn(function(g){var k=Vn(g,c0);return k.length&&k[0]===g[0]?qt(k):[]}),b_=jn(function(g){var k=_l(g),ae=Vn(g,c0);return k===_l(ae)?k=s:ae.pop(),ae.length&&ae[0]===g[0]?qt(ae,En(k,2)):[]}),Ux=jn(function(g){var k=_l(g),ae=Vn(g,c0);return k=typeof k=="function"?k:s,k&&ae.pop(),ae.length&&ae[0]===g[0]?qt(ae,s,k):[]});function w_(g,k){return g==null?"":fu.call(g,k)}function _l(g){var k=g==null?0:g.length;return k?g[k-1]:s}function Gx(g,k,ae){var Ae=g==null?0:g.length;if(!Ae)return-1;var Ge=Ae;return ae!==s&&(Ge=Mn(ae),Ge=Ge<0?nr(Ae+Ge,0):Ns(Ge,Ae-1)),k===k?bp(g,k,Ge):So(g,la,Ge,!0)}function T_(g,k){return g&&g.length?mr(g,Mn(k)):s}var S_=jn(dg);function dg(g,k){return g&&g.length&&k&&k.length?Ya(g,k):g}function ug(g,k,ae){return g&&g.length&&k&&k.length?Ya(g,k,En(ae,2)):g}function ch(g,k,ae){return g&&g.length&&k&&k.length?Ya(g,k,s,ae):g}var Ma=Kl(function(g,k){var ae=g==null?0:g.length,Ae=oe(g,k);return ao(g,Vn(k,function(Ge){return Ic(Ge,ae)?+Ge:Ge}).sort(l_)),Ae});function Vx(g,k){var ae=[];if(!(g&&g.length))return ae;var Ae=-1,Ge=[],et=g.length;for(k=En(k,3);++Ae<et;){var _t=g[Ae];k(_t,Ae,g)&&(ae.push(_t),Ge.push(Ae))}return ao(g,Ge),ae}function Up(g){return g==null?g:Om.call(g)}function $x(g,k,ae){var Ae=g==null?0:g.length;return Ae?(ae&&typeof ae!="number"&&Ko(g,k,ae)?(k=0,ae=Ae):(k=k==null?0:Mn(k),ae=ae===s?Ae:Mn(ae)),qa(g,k,ae)):[]}function Hx(g,k){return Rp(g,k)}function Wx(g,k,ae){return r0(g,k,En(ae,2))}function Gp(g,k){var ae=g==null?0:g.length;if(ae){var Ae=Rp(g,k);if(Ae<ae&&tc(g[Ae],k))return Ae}return-1}function _0(g,k){return Rp(g,k,!0)}function E_(g,k,ae){return r0(g,k,En(ae,2),!0)}function Dd(g,k){var ae=g==null?0:g.length;if(ae){var Ae=Rp(g,k,!0)-1;if(tc(g[Ae],k))return Ae}return-1}function Vp(g){return g&&g.length?Fm(g):[]}function Xx(g,k){return g&&g.length?Fm(g,En(k,2)):[]}function Yx(g){var k=g==null?0:g.length;return k?qa(g,1,k):[]}function qx(g,k,ae){return g&&g.length?(k=ae||k===s?1:Mn(k),qa(g,0,k<0?0:k)):[]}function Zx(g,k,ae){var Ae=g==null?0:g.length;return Ae?(k=ae||k===s?1:Mn(k),k=Ae-k,qa(g,k<0?0:k,Ae)):[]}function Kx(g,k){return g&&g.length?a0(g,En(k,3),!1,!0):[]}function Jx(g,k){return g&&g.length?a0(g,En(k,3)):[]}var Qx=jn(function(g){return rh(nt(g,1,Xs,!0))}),pg=jn(function(g){var k=_l(g);return Xs(k)&&(k=s),rh(nt(g,1,Xs,!0),En(k,2))}),e2=jn(function(g){var k=_l(g);return k=typeof k=="function"?k:s,rh(nt(g,1,Xs,!0),s,k)});function Pu(g){return g&&g.length?rh(g):[]}function t2(g,k){return g&&g.length?rh(g,En(k,2)):[]}function Mr(g,k){return k=typeof k=="function"?k:s,g&&g.length?rh(g,s,k):[]}function Du(g){if(!(g&&g.length))return[];var k=0;return g=en(g,function(ae){if(Xs(ae))return k=nr(ae.length,k),!0}),Wo(k,function(ae){return Vn(g,Ho(ae))})}function fg(g,k){if(!(g&&g.length))return[];var ae=Du(g);return k==null?ae:Vn(ae,function(Ae){return fi(k,s,Ae)})}var y0=jn(function(g,k){return Xs(g)?$e(g,k):[]}),v0=jn(function(g){return l0(en(g,Xs))}),$p=jn(function(g){var k=_l(g);return Xs(k)&&(k=s),l0(en(g,Xs),En(k,2))}),C_=jn(function(g){var k=_l(g);return k=typeof k=="function"?k:s,l0(en(g,Xs),s,k)}),M_=jn(Du);function Hp(g,k){return jm(g||[],k||[],_)}function mg(g,k){return jm(g||[],k||[],sh)}var gg=jn(function(g){var k=g.length,ae=k>1?g[k-1]:s;return ae=typeof ae=="function"?(g.pop(),ae):s,fg(g,ae)});function A_(g){var k=qe(g);return k.__chain__=!0,k}function k_(g,k){return k(g),g}function $h(g,k){return k(g)}var i2=Kl(function(g){var k=g.length,ae=k?g[0]:0,Ae=this.__wrapped__,Ge=function(et){return oe(et,g)};return k>1||this.__actions__.length||!(Ae instanceof Cn)||!Ic(ae)?this.thru(Ge):(Ae=Ae.slice(ae,+ae+(k?1:0)),Ae.__actions__.push({func:$h,args:[Ge],thisArg:s}),new ca(Ae,this.__chain__).thru(function(et){return k&&!et.length&&et.push(s),et}))});function _g(){return A_(this)}function n2(){return new ca(this.value(),this.__chain__)}function yg(){this.__values__===s&&(this.__values__=D0(this.value()));var g=this.__index__>=this.__values__.length,k=g?s:this.__values__[this.__index__++];return{done:g,value:k}}function vg(){return this}function x0(g){for(var k,ae=this;ae instanceof yd;){var Ae=ku(ae);Ae.__index__=0,Ae.__values__=s,k?Ge.__wrapped__=Ae:k=Ae;var Ge=Ae;ae=ae.__wrapped__}return Ge.__wrapped__=g,k}function s2(){var g=this.__wrapped__;if(g instanceof Cn){var k=g;return this.__actions__.length&&(k=new Cn(this)),k=k.reverse(),k.__actions__.push({func:$h,args:[Up],thisArg:s}),new ca(k,this.__chain__)}return this.thru(Up)}function r2(){return bd(this.__wrapped__,this.__actions__)}var o2=Pc(function(g,k,ae){Qt.call(g,ae)?++g[ae]:B(g,ae,1)});function a2(g,k,ae){var Ae=Un(g)?On:rt;return ae&&Ko(g,k,ae)&&(k=s),Ae(g,En(k,3))}function l2(g,k){var ae=Un(g)?en:ht;return ae(g,En(k,3))}var c2=d_(Vh),b0=d_(ag);function h2(g,k){return nt(w0(g,k),1)}function P_(g,k){return nt(w0(g,k),S)}function Iu(g,k,ae){return ae=ae===s?1:Mn(ae),nt(w0(g,k),ae)}function D_(g,k){var ae=Un(g)?ei:tt;return ae(g,En(k,3))}function I_(g,k){var ae=Un(g)?Di:it;return ae(g,En(k,3))}var d2=Pc(function(g,k,ae){Qt.call(g,ae)?g[ae].push(k):B(g,ae,[k])});function L_(g,k,ae,Ae){g=Gs(g)?g:Od(g),ae=ae&&!Ae?Mn(ae):0;var Ge=g.length;return ae<0&&(ae=nr(Ge+ae,0)),P0(g)?ae<=Ge&&g.indexOf(k,ae)>-1:!!Ge&&Dn(g,k,ae)>-1}var O_=jn(function(g,k,ae){var Ae=-1,Ge=typeof k=="function",et=Gs(g)?ti(g.length):[];return tt(g,function(_t){et[++Ae]=Ge?fi(k,_t,ae):wi(_t,k,ae)}),et}),u2=Pc(function(g,k,ae){B(g,ae,k)});function w0(g,k){var ae=Un(g)?Vn:mo;return ae(g,En(k,3))}function p2(g,k,ae,Ae){return g==null?[]:(Un(k)||(k=k==null?[]:[k]),ae=Ae?s:ae,Un(ae)||(ae=ae==null?[]:[ae]),oo(g,k,ae))}var xg=Pc(function(g,k,ae){g[ae?0:1].push(k)},function(){return[[],[]]});function T0(g,k,ae){var Ae=Un(g)?Sn:$a,Ge=arguments.length<3;return Ae(g,En(k,4),ae,Ge,tt)}function S0(g,k,ae){var Ae=Un(g)?Jr:$a,Ge=arguments.length<3;return Ae(g,En(k,4),ae,Ge,it)}function f2(g,k){var ae=Un(g)?en:ht;return ae(g,Hh(En(k,3)))}function m2(g){var k=Un(g)?Ip:jh;return k(g)}function Wp(g,k,ae){(ae?Ko(g,k,ae):k===s)?k=1:k=Mn(k);var Ae=Un(g)?s0:fl;return Ae(g,k)}function Xp(g){var k=Un(g)?Lp:zm;return k(g)}function R_(g){if(g==null)return 0;if(Gs(g))return P0(g)?os(g):g.length;var k=Zo(g);return k==me||k==Ie?g.size:bs(g).length}function Yp(g,k,ae){var Ae=Un(g)?qn:i_;return ae&&Ko(g,k,ae)&&(k=s),Ae(g,En(k,3))}var B_=jn(function(g,k){if(g==null)return[];var ae=k.length;return ae>1&&Ko(g,k[0],k[1])?k=[]:ae>2&&Ko(k[0],k[1],k[2])&&(k=[k[0]]),oo(g,nt(k,1),[])}),E0=Gi||function(){return vr.Date.now()};function z_(g,k){if(typeof k!="function")throw new fo(m);return g=Mn(g),function(){if(--g<1)return k.apply(this,arguments)}}function bg(g,k,ae){return k=ae?s:k,k=g&&k==null?g.length:k,yo(g,ne,s,s,s,s,k)}function wg(g,k){var ae;if(typeof k!="function")throw new fo(m);return g=Mn(g),function(){return--g>0&&(ae=k.apply(this,arguments)),g<=1&&(k=s),ae}}var C0=jn(function(g,k,ae){var Ae=H;if(ae.length){var Ge=Hr(ae,lh(C0));Ae|=V}return yo(g,Ae,k,ae,Ge)}),Tg=jn(function(g,k,ae){var Ae=H|A;if(ae.length){var Ge=Hr(ae,lh(Tg));Ae|=V}return yo(k,Ae,g,ae,Ge)});function Sg(g,k,ae){k=ae?s:k;var Ae=yo(g,P,s,s,s,s,s,k);return Ae.placeholder=Sg.placeholder,Ae}function F_(g,k,ae){k=ae?s:k;var Ae=yo(g,G,s,s,s,s,s,k);return Ae.placeholder=F_.placeholder,Ae}function N_(g,k,ae){var Ae,Ge,et,_t,At,zt,mi=0,xi=!1,ki=!1,Xi=!0;if(typeof g!="function")throw new fo(m);k=ko(k)||0,gr(ae)&&(xi=!!ae.leading,ki="maxWait"in ae,et=ki?nr(ko(ae.maxWait)||0,k):et,Xi="trailing"in ae?!!ae.trailing:Xi);function un(Fr){var vo=Ae,zc=Ge;return Ae=Ge=s,mi=Fr,_t=g.apply(zc,vo),_t}function kn(Fr){return mi=Fr,At=Mu(ls,k),xi?un(Fr):_t}function es(Fr){var vo=Fr-zt,zc=Fr-mi,hf=k-vo;return ki?Ns(hf,et-zc):hf}function Ln(Fr){var vo=Fr-zt,zc=Fr-mi;return zt===s||vo>=k||vo<0||ki&&zc>=et}function ls(){var Fr=E0();if(Ln(Fr))return _s(Fr);At=Mu(ls,es(Fr))}function _s(Fr){return At=s,Xi&&Ae?un(Fr):(Ae=Ge=s,_t)}function Aa(){At!==s&&Bp(At),mi=0,Ae=zt=Ge=At=s}function ta(){return At===s?_t:_s(E0())}function ka(){var Fr=E0(),vo=Ln(Fr);if(Ae=arguments,Ge=this,zt=Fr,vo){if(At===s)return kn(zt);if(ki)return Bp(At),At=Mu(ls,k),un(zt)}return At===s&&(At=Mu(ls,k)),_t}return ka.cancel=Aa,ka.flush=ta,ka}var j_=jn(function(g,k){return Re(g,1,k)}),M0=jn(function(g,k,ae){return Re(g,ko(k)||0,ae)});function U_(g){return yo(g,F)}function lo(g,k){if(typeof g!="function"||k!=null&&typeof k!="function")throw new fo(m);var ae=function(){var Ae=arguments,Ge=k?k.apply(this,Ae):Ae[0],et=ae.cache;if(et.has(Ge))return et.get(Ge);var _t=g.apply(this,Ae);return ae.cache=et.set(Ge,_t)||et,_t};return ae.cache=new(lo.Cache||ul),ae}lo.Cache=ul;function Hh(g){if(typeof g!="function")throw new fo(m);return function(){var k=arguments;switch(k.length){case 0:return!g.call(this);case 1:return!g.call(this,k[0]);case 2:return!g.call(this,k[0],k[1]);case 3:return!g.call(this,k[0],k[1],k[2])}return!g.apply(this,k)}}function Lu(g){return wg(2,g)}var qp=s_(function(g,k){k=k.length==1&&Un(k[0])?Vn(k[0],so(En())):Vn(nt(k,1),so(En()));var ae=k.length;return jn(function(Ae){for(var Ge=-1,et=Ns(Ae.length,ae);++Ge<et;)Ae[Ge]=k[Ge].call(this,Ae[Ge]);return fi(g,this,Ae)})}),A0=jn(function(g,k){var ae=Hr(k,lh(A0));return yo(g,V,s,k,ae)}),Eg=jn(function(g,k){var ae=Hr(k,lh(Eg));return yo(g,C,s,k,ae)}),g2=Kl(function(g,k){return yo(g,te,s,s,s,k)});function _2(g,k){if(typeof g!="function")throw new fo(m);return k=k===s?k:Mn(k),jn(g,k)}function y2(g,k){if(typeof g!="function")throw new fo(m);return k=k==null?0:nr(Mn(k),0),jn(function(ae){var Ae=ae[k],Ge=Ac(ae,0,k);return Ae&&$n(Ge,Ae),fi(g,this,Ge)})}function v2(g,k,ae){var Ae=!0,Ge=!0;if(typeof g!="function")throw new fo(m);return gr(ae)&&(Ae="leading"in ae?!!ae.leading:Ae,Ge="trailing"in ae?!!ae.trailing:Ge),N_(g,k,{leading:Ae,maxWait:k,trailing:Ge})}function x2(g){return bg(g,1)}function b2(g,k){return A0(Um(k),g)}function k0(){if(!arguments.length)return[];var g=arguments[0];return Un(g)?g:[g]}function w2(g){return ge(g,Q)}function G_(g,k){return k=typeof k=="function"?k:s,ge(g,Q,k)}function V_(g){return ge(g,z|Q)}function $_(g,k){return k=typeof k=="function"?k:s,ge(g,z|Q,k)}function T2(g,k){return k==null||Ce(g,k,kr(k))}function tc(g,k){return g===k||g!==g&&k!==k}var S2=Za(Ft),E2=Za(function(g,k){return g>=k}),Id=Rt(function(){return arguments}())?Rt:function(g){return Ar(g)&&Qt.call(g,"callee")&&!As.call(g,"callee")},Un=ti.isArray,C2=je?so(je):Xt;function Gs(g){return g!=null&&Cs(g.length)&&!Oc(g)}function Xs(g){return Ar(g)&&Gs(g)}function Cg(g){return g===!0||g===!1||Ar(g)&&pi(g)==Pe}var ic=Ih||Kg,Ou=He?so(He):Hi;function M2(g){return Ar(g)&&g.nodeType===1&&!Jp(g)}function A2(g){if(g==null)return!0;if(Gs(g)&&(Un(g)||typeof g=="string"||typeof g.splice=="function"||ic(g)||nc(g)||Id(g)))return!g.length;var k=Zo(g);if(k==me||k==Ie)return!g.size;if(Cu(g))return!bs(g).length;for(var ae in g)if(Qt.call(g,ae))return!1;return!0}function Zp(g,k){return nn(g,k)}function k2(g,k,ae){ae=typeof ae=="function"?ae:s;var Ae=ae?ae(g,k):s;return Ae===s?nn(g,k,s,ae):!!Ae}function Mg(g){if(!Ar(g))return!1;var k=pi(g);return k==_e||k==ye||typeof g.message=="string"&&typeof g.name=="string"&&!Jp(g)}function Kp(g){return typeof g=="number"&&wp(g)}function Oc(g){if(!gr(g))return!1;var k=pi(g);return k==le||k==Z||k==xe||k==Ke}function Ag(g){return typeof g=="number"&&g==Mn(g)}function Cs(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=j}function gr(g){var k=typeof g;return g!=null&&(k=="object"||k=="function")}function Ar(g){return g!=null&&typeof g=="object"}var kg=Ct?so(Ct):fn;function hh(g,k){return g===k||Bn(g,k,d0(k))}function Ru(g,k,ae){return ae=typeof ae=="function"?ae:s,Bn(g,k,d0(k),ae)}function H_(g){return W_(g)&&g!=+g}function P2(g){if(f_(g))throw new In(d);return rn(g)}function D2(g){return g===null}function I2(g){return g==null}function W_(g){return typeof g=="number"||Ar(g)&&pi(g)==Me}function Jp(g){if(!Ar(g)||pi(g)!=ze)return!1;var k=fr(g);if(k===null)return!0;var ae=Qt.call(k,"constructor")&&k.constructor;return typeof ae=="function"&&ae instanceof ae&&Lt.call(ae)==mn}var Pg=vt?so(vt):Vi;function L2(g){return Ag(g)&&g>=-j&&g<=j}var X_=Gt?so(Gt):Es;function P0(g){return typeof g=="string"||!Un(g)&&Ar(g)&&pi(g)==Be}function ea(g){return typeof g=="symbol"||Ar(g)&&pi(g)==Ue}var nc=ii?so(ii):ds;function Y_(g){return g===s}function O2(g){return Ar(g)&&Zo(g)==st}function R2(g){return Ar(g)&&pi(g)==wt}var B2=Za(Ao),Dg=Za(function(g,k){return g<=k});function D0(g){if(!g)return[];if(Gs(g))return P0(g)?po(g):zr(g);if(xr&&g[xr])return Ph(g[xr]());var k=Zo(g),ae=k==me?wc:k==Ie?cl:Od;return ae(g)}function Rc(g){if(!g)return g===0?g:0;if(g=ko(g),g===S||g===-S){var k=g<0?-1:1;return k*J}return g===g?g:0}function Mn(g){var k=Rc(g),ae=k%1;return k===k?ae?k-ae:k:0}function Bu(g){return g?de(Mn(g),0,re):0}function ko(g){if(typeof g=="number")return g;if(ea(g))return W;if(gr(g)){var k=typeof g.valueOf=="function"?g.valueOf():g;g=gr(k)?k+"":k}if(typeof g!="string")return g===0?g:+g;g=yc(g);var ae=sn.test(g);return ae||dn.test(g)?Ah(g.slice(2),ae?2:8):on.test(g)?W:+g}function I0(g){return Qr(g,pa(g))}function L0(g){return g?de(Mn(g),-j,j):g===0?g:0}function Ys(g){return g==null?"":Sa(g)}var q_=wu(function(g,k){if(Cu(k)||Gs(k)){Qr(k,kr(k),g);return}for(var ae in k)Qt.call(k,ae)&&_(g,ae,k[ae])}),Ig=wu(function(g,k){Qr(k,pa(k),g)}),O0=wu(function(g,k,ae,Ae){Qr(k,pa(k),g,Ae)}),Z_=wu(function(g,k,ae,Ae){Qr(k,kr(k),g,Ae)}),K_=Kl(oe);function Lg(g,k){var ae=Xl(g);return k==null?ae:x(ae,k)}var J_=jn(function(g,k){g=gs(g);var ae=-1,Ae=k.length,Ge=Ae>2?k[2]:s;for(Ge&&Ko(k[0],k[1],Ge)&&(Ae=1);++ae<Ae;)for(var et=k[ae],_t=pa(et),At=-1,zt=_t.length;++At<zt;){var mi=_t[At],xi=g[mi];(xi===s||tc(xi,Pt[mi])&&!Qt.call(g,mi))&&(g[mi]=et[mi])}return g}),z2=jn(function(g){return g.push(s,Sd),fi(Qp,s,g)});function Q_(g,k){return Br(g,En(k,3),gt)}function dh(g,k){return Br(g,En(k,3),kt)}function ey(g,k){return g==null?g:ft(g,En(k,3),pa)}function ty(g,k){return g==null?g:Tt(g,En(k,3),pa)}function iy(g,k){return g&&gt(g,En(k,3))}function ny(g,k){return g&&kt(g,En(k,3))}function F2(g){return g==null?[]:Wt(g,kr(g))}function N2(g){return g==null?[]:Wt(g,pa(g))}function R0(g,k,ae){var Ae=g==null?s:Nt(g,k);return Ae===s?ae:Ae}function sy(g,k){return g!=null&&Qm(g,k,ri)}function Ld(g,k){return g!=null&&Qm(g,k,Yt)}var ry=ah(function(g,k,ae){k!=null&&typeof k.toString!="function"&&(k=bi.call(k)),g[k]=ae},Xg(Yr)),oy=ah(function(g,k,ae){k!=null&&typeof k.toString!="function"&&(k=bi.call(k)),Qt.call(g,k)?g[k].push(ae):g[k]=[ae]},En),Og=jn(wi);function kr(g){return Gs(g)?vu(g):bs(g)}function pa(g){return Gs(g)?vu(g,!0):Yo(g)}function B0(g,k){var ae={};return k=En(k,3),gt(g,function(Ae,Ge,et){B(ae,k(Ae,Ge,et),Ae)}),ae}function ay(g,k){var ae={};return k=En(k,3),gt(g,function(Ae,Ge,et){B(ae,Ge,k(Ae,Ge,et))}),ae}var z0=wu(function(g,k,ae){ws(g,k,ae)}),Qp=wu(function(g,k,ae,Ae){ws(g,k,ae,Ae)}),j2=Kl(function(g,k){var ae={};if(g==null)return ae;var Ae=!1;k=Vn(k,function(et){return et=ql(et,g),Ae||(Ae=et.length>1),et}),Qr(g,Zm(g),ae),Ae&&(ae=ge(ae,z|Y|Q,Xm));for(var Ge=k.length;Ge--;)o0(ae,k[Ge]);return ae});function U2(g,k){return ly(g,Hh(En(k)))}var G2=Kl(function(g,k){return g==null?{}:Us(g,k)});function ly(g,k){if(g==null)return{};var ae=Vn(Zm(g),function(Ae){return[Ae]});return k=En(k),go(g,ae,function(Ae,Ge){return k(Ae,Ge[0])})}function V2(g,k,ae){k=ql(k,g);var Ae=-1,Ge=k.length;for(Ge||(Ge=1,g=s);++Ae<Ge;){var et=g==null?s:g[Ca(k[Ae])];et===s&&(Ae=Ge,et=ae),g=Oc(et)?et.call(g):et}return g}function zu(g,k,ae){return g==null?g:sh(g,k,ae)}function Rg(g,k,ae,Ae){return Ae=typeof Ae=="function"?Ae:s,g==null?g:sh(g,k,ae,Ae)}var cy=Hm(kr),Bg=Hm(pa);function $2(g,k,ae){var Ae=Un(g),Ge=Ae||ic(g)||nc(g);if(k=En(k,4),ae==null){var et=g&&g.constructor;Ge?ae=Ae?new et:[]:gr(g)?ae=Oc(et)?Xl(fr(g)):{}:ae={}}return(Ge?ei:gt)(g,function(_t,At,zt){return k(ae,_t,At,zt)}),ae}function zg(g,k){return g==null?!0:o0(g,k)}function H2(g,k,ae){return g==null?g:n_(g,k,Um(ae))}function Wh(g,k,ae,Ae){return Ae=typeof Ae=="function"?Ae:s,g==null?g:n_(g,k,Um(ae),Ae)}function Od(g){return g==null?[]:Nl(g,kr(g))}function hy(g){return g==null?[]:Nl(g,pa(g))}function F0(g,k,ae){return ae===s&&(ae=k,k=s),ae!==s&&(ae=ko(ae),ae=ae===ae?ae:0),k!==s&&(k=ko(k),k=k===k?k:0),de(ko(g),k,ae)}function Fg(g,k,ae){return k=Rc(k),ae===s?(ae=k,k=0):ae=Rc(ae),g=ko(g),vi(g,k,ae)}function W2(g,k,ae){if(ae&&typeof ae!="boolean"&&Ko(g,k,ae)&&(k=ae=s),ae===s&&(typeof k=="boolean"?(ae=k,k=s):typeof g=="boolean"&&(ae=g,g=s)),g===s&&k===s?(g=0,k=1):(g=Rc(g),k===s?(k=g,g=0):k=Rc(k)),g>k){var Ae=g;g=k,k=Ae}if(ae||g%1||k%1){var Ge=Xf();return Ns(g+Ge*(k-g+Jc("1e-"+((Ge+"").length-1))),k)}return qo(g,k)}var X2=oh(function(g,k,ae){return k=k.toLowerCase(),g+(ae?Ng(k):k)});function Ng(g){return U0(Ys(g).toLowerCase())}function jg(g){return g=Ys(g),g&&g.replace(is,cu).replace(yr,"")}function ef(g,k,ae){g=Ys(g),k=Sa(k);var Ae=g.length;ae=ae===s?Ae:de(Mn(ae),0,Ae);var Ge=ae;return ae-=k.length,ae>=0&&g.slice(ae,Ge)==k}function uh(g){return g=Ys(g),g&&mc.test(g)?g.replace(Is,jl):g}function Ug(g){return g=Ys(g),g&&Ve.test(g)?g.replace(Oe,"\\$&"):g}var Fu=oh(function(g,k,ae){return g+(ae?"-":"")+k.toLowerCase()}),Nu=oh(function(g,k,ae){return g+(ae?" ":"")+k.toLowerCase()}),yl=Vm("toLowerCase");function vl(g,k,ae){g=Ys(g),k=Mn(k);var Ae=k?os(g):0;if(!k||Ae>=k)return g;var Ge=(k-Ae)/2;return zp(md(Ge),ae)+g+zp(Sc(Ge),ae)}function Y2(g,k,ae){g=Ys(g),k=Mn(k);var Ae=k?os(g):0;return k&&Ae<k?g+zp(k-Ae,ae):g}function dy(g,k,ae){g=Ys(g),k=Mn(k);var Ae=k?os(g):0;return k&&Ae<k?zp(k-Ae,ae)+g:g}function q2(g,k,ae){return ae||k==null?k=0:k&&(k=+k),Oh(Ys(g).replace(ot,""),k||0)}function Gg(g,k,ae){return(ae?Ko(g,k,ae):k===s)?k=1:k=Mn(k),Ta(Ys(g),k)}function Bc(){var g=arguments,k=Ys(g[0]);return g.length<3?k:k.replace(g[1],g[2])}var Rd=oh(function(g,k,ae){return g+(ae?"_":"")+k.toLowerCase()});function uy(g,k,ae){return ae&&typeof ae!="number"&&Ko(g,k,ae)&&(k=ae=s),ae=ae===s?re:ae>>>0,ae?(g=Ys(g),g&&(typeof k=="string"||k!=null&&!Pg(k))&&(k=Sa(k),!k&&Ha(g))?Ac(po(g),0,ae):g.split(k,ae)):[]}var py=oh(function(g,k,ae){return g+(ae?" ":"")+U0(k)});function Z2(g,k,ae){return g=Ys(g),ae=ae==null?0:de(Mn(ae),0,g.length),k=Sa(k),g.slice(ae,ae+k.length)==k}function N0(g,k,ae){var Ae=qe.templateSettings;ae&&Ko(g,k,ae)&&(k=s),g=Ys(g),k=O0({},k,Ae,Wm);var Ge=O0({},k.imports,Ae.imports,Wm),et=kr(Ge),_t=Nl(Ge,et),At,zt,mi=0,xi=k.interpolate||Qi,ki="__p += '",Xi=Tc((k.escape||Qi).source+"|"+xi.source+"|"+(xi===io?Bi:Qi).source+"|"+(k.evaluate||Qi).source+"|$","g"),un="//# sourceURL="+(Qt.call(k,"sourceURL")?(k.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ch+"]")+`
`;g.replace(Xi,function(Ln,ls,_s,Aa,ta,ka){return _s||(_s=Aa),ki+=g.slice(mi,ka).replace(Ss,ud),ls&&(At=!0,ki+=`' +
__e(`+ls+`) +
'`),ta&&(zt=!0,ki+=`';
`+ta+`;
__p += '`),_s&&(ki+=`' +
((__t = (`+_s+`)) == null ? '' : __t) +
'`),mi=ka+Ln.length,Ln}),ki+=`';
`;var kn=Qt.call(k,"variable")&&k.variable;if(!kn)ki=`with (obj) {
`+ki+`
}
`;else if(jt.test(kn))throw new In(n);ki=(zt?ki.replace(Yn,""):ki).replace(Tr,"$1").replace(ps,"$1;"),ki="function("+(kn||"obj")+`) {
`+(kn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(At?", __e = _.escape":"")+(zt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ki+`return __p
}`;var es=Hg(function(){return hs(et,un+"return "+ki).apply(s,_t)});if(es.source=ki,Mg(es))throw es;return es}function Vg(g){return Ys(g).toLowerCase()}function ju(g){return Ys(g).toUpperCase()}function tf(g,k,ae){if(g=Ys(g),g&&(ae||k===s))return yc(g);if(!g||!(k=Sa(k)))return g;var Ae=po(g),Ge=po(k),et=dd(Ae,Ge),_t=xc(Ae,Ge)+1;return Ac(Ae,et,_t).join("")}function nf(g,k,ae){if(g=Ys(g),g&&(ae||k===s))return g.slice(0,Wr(g)+1);if(!g||!(k=Sa(k)))return g;var Ae=po(g),Ge=xc(Ae,po(k))+1;return Ac(Ae,0,Ge).join("")}function j0(g,k,ae){if(g=Ys(g),g&&(ae||k===s))return g.replace(ot,"");if(!g||!(k=Sa(k)))return g;var Ae=po(g),Ge=dd(Ae,po(k));return Ac(Ae,Ge).join("")}function fy(g,k){var ae=N,Ae=X;if(gr(k)){var Ge="separator"in k?k.separator:Ge;ae="length"in k?Mn(k.length):ae,Ae="omission"in k?Sa(k.omission):Ae}g=Ys(g);var et=g.length;if(Ha(g)){var _t=po(g);et=_t.length}if(ae>=et)return g;var At=ae-os(Ae);if(At<1)return Ae;var zt=_t?Ac(_t,0,At).join(""):g.slice(0,At);if(Ge===s)return zt+Ae;if(_t&&(At+=zt.length-At),Pg(Ge)){if(g.slice(At).search(Ge)){var mi,xi=zt;for(Ge.global||(Ge=Tc(Ge.source,Ys(_i.exec(Ge))+"g")),Ge.lastIndex=0;mi=Ge.exec(xi);)var ki=mi.index;zt=zt.slice(0,ki===s?At:ki)}}else if(g.indexOf(Sa(Ge),At)!=At){var Xi=zt.lastIndexOf(Ge);Xi>-1&&(zt=zt.slice(0,Xi))}return zt+Ae}function sf(g){return g=Ys(g),g&&ja.test(g)?g.replace(Ds,Eo):g}var $g=oh(function(g,k,ae){return g+(ae?" ":"")+k.toUpperCase()}),U0=Vm("toUpperCase");function Bd(g,k,ae){return g=Ys(g),k=ae?s:k,k===s?Ul(g)?du(g):zl(g):g.match(k)||[]}var Hg=jn(function(g,k){try{return fi(g,s,k)}catch(ae){return Mg(ae)?ae:new In(ae)}}),Wg=Kl(function(g,k){return ei(k,function(ae){ae=Ca(ae),B(g,ae,C0(g[ae],g))}),g});function my(g){var k=g==null?0:g.length,ae=En();return g=k?Vn(g,function(Ae){if(typeof Ae[1]!="function")throw new fo(m);return[ae(Ae[0]),Ae[1]]}):[],jn(function(Ae){for(var Ge=-1;++Ge<k;){var et=g[Ge];if(fi(et[0],this,Ae))return fi(et[1],this,Ae)}})}function K2(g){return ke(ge(g,z))}function Xg(g){return function(){return g}}function gy(g,k){return g==null||g!==g?k:g}var zd=Cr(),J2=Cr(!0);function Yr(g){return g}function Yg(g){return ks(typeof g=="function"?g:ge(g,z))}function rf(g){return Xa(ge(g,z))}function of(g,k){return js(g,ge(k,z))}var af=jn(function(g,k){return function(ae){return wi(ae,g,k)}}),lf=jn(function(g,k){return function(ae){return wi(g,ae,k)}});function Uu(g,k,ae){var Ae=kr(k),Ge=Wt(k,Ae);ae==null&&!(gr(k)&&(Ge.length||!Ae.length))&&(ae=k,k=g,g=this,Ge=Wt(k,kr(k)));var et=!(gr(ae)&&"chain"in ae)||!!ae.chain,_t=Oc(g);return ei(Ge,function(At){var zt=k[At];g[At]=zt,_t&&(g.prototype[At]=function(){var mi=this.__chain__;if(et||mi){var xi=g(this.__wrapped__),ki=xi.__actions__=zr(this.__actions__);return ki.push({func:zt,args:arguments,thisArg:g}),xi.__chain__=mi,xi}return zt.apply(g,$n([this.value()],arguments))})}),g}function Q2(){return vr._===this&&(vr._=xn),this}function qg(){}function Gu(g){return g=Mn(g),jn(function(k){return mr(k,g)})}var G0=Jn(Vn),eb=Jn(On),_y=Jn(qn);function Zg(g){return tg(g)?Ho(Ca(g)):xd(g)}function tb(g){return function(k){return g==null?s:Nt(g,k)}}var yy=Zl(),ib=Zl(!0);function V0(){return[]}function Kg(){return!1}function vy(){return{}}function nb(){return""}function sb(){return!0}function $0(g,k){if(g=Mn(g),g<1||g>j)return[];var ae=re,Ae=Ns(g,re);k=En(k),g-=re;for(var Ge=Wo(Ae,k);++ae<g;)k(ae);return Ge}function H0(g){return Un(g)?Vn(g,Ca):ea(g)?[g]:zr(rg(Ys(g)))}function W0(g){var k=++Si;return Ys(g)+k}var rb=Td(function(g,k){return g+k},0),Jg=ua("ceil"),Qg=Td(function(g,k){return g/k},1),Xh=ua("floor");function ob(g){return g&&g.length?Xe(g,Yr,Ft):s}function e1(g,k){return g&&g.length?Xe(g,En(k,2),Ft):s}function xy(g){return uo(g,Yr)}function X0(g,k){return uo(g,En(k,2))}function ab(g){return g&&g.length?Xe(g,Yr,Ao):s}function lb(g,k){return g&&g.length?Xe(g,En(k,2),Ao):s}var cb=Td(function(g,k){return g*k},1),hb=ua("round"),t1=Td(function(g,k){return g-k},0);function db(g){return g&&g.length?ms(g,Yr):0}function cf(g,k){return g&&g.length?ms(g,En(k,2)):0}return qe.after=z_,qe.ary=bg,qe.assign=q_,qe.assignIn=Ig,qe.assignInWith=O0,qe.assignWith=Z_,qe.at=K_,qe.before=wg,qe.bind=C0,qe.bindAll=Wg,qe.bindKey=Tg,qe.castArray=k0,qe.chain=A_,qe.chunk=Jo,qe.compact=gl,qe.concat=og,qe.cond=my,qe.conforms=K2,qe.constant=Xg,qe.countBy=o2,qe.create=Lg,qe.curry=Sg,qe.curryRight=F_,qe.debounce=N_,qe.defaults=J_,qe.defaultsDeep=z2,qe.defer=j_,qe.delay=M0,qe.difference=br,qe.differenceBy=g_,qe.differenceWith=jp,qe.drop=ec,qe.dropRight=Fx,qe.dropRightWhile=Nx,qe.dropWhile=__,qe.fill=y_,qe.filter=l2,qe.flatMap=h2,qe.flatMapDeep=P_,qe.flatMapDepth=Iu,qe.flatten=lg,qe.flattenDeep=v_,qe.flattenDepth=x_,qe.flip=U_,qe.flow=zd,qe.flowRight=J2,qe.fromPairs=jx,qe.functions=F2,qe.functionsIn=N2,qe.groupBy=d2,qe.initial=hg,qe.intersection=Qo,qe.intersectionBy=b_,qe.intersectionWith=Ux,qe.invert=ry,qe.invertBy=oy,qe.invokeMap=O_,qe.iteratee=Yg,qe.keyBy=u2,qe.keys=kr,qe.keysIn=pa,qe.map=w0,qe.mapKeys=B0,qe.mapValues=ay,qe.matches=rf,qe.matchesProperty=of,qe.memoize=lo,qe.merge=z0,qe.mergeWith=Qp,qe.method=af,qe.methodOf=lf,qe.mixin=Uu,qe.negate=Hh,qe.nthArg=Gu,qe.omit=j2,qe.omitBy=U2,qe.once=Lu,qe.orderBy=p2,qe.over=G0,qe.overArgs=qp,qe.overEvery=eb,qe.overSome=_y,qe.partial=A0,qe.partialRight=Eg,qe.partition=xg,qe.pick=G2,qe.pickBy=ly,qe.property=Zg,qe.propertyOf=tb,qe.pull=S_,qe.pullAll=dg,qe.pullAllBy=ug,qe.pullAllWith=ch,qe.pullAt=Ma,qe.range=yy,qe.rangeRight=ib,qe.rearg=g2,qe.reject=f2,qe.remove=Vx,qe.rest=_2,qe.reverse=Up,qe.sampleSize=Wp,qe.set=zu,qe.setWith=Rg,qe.shuffle=Xp,qe.slice=$x,qe.sortBy=B_,qe.sortedUniq=Vp,qe.sortedUniqBy=Xx,qe.split=uy,qe.spread=y2,qe.tail=Yx,qe.take=qx,qe.takeRight=Zx,qe.takeRightWhile=Kx,qe.takeWhile=Jx,qe.tap=k_,qe.throttle=v2,qe.thru=$h,qe.toArray=D0,qe.toPairs=cy,qe.toPairsIn=Bg,qe.toPath=H0,qe.toPlainObject=I0,qe.transform=$2,qe.unary=x2,qe.union=Qx,qe.unionBy=pg,qe.unionWith=e2,qe.uniq=Pu,qe.uniqBy=t2,qe.uniqWith=Mr,qe.unset=zg,qe.unzip=Du,qe.unzipWith=fg,qe.update=H2,qe.updateWith=Wh,qe.values=Od,qe.valuesIn=hy,qe.without=y0,qe.words=Bd,qe.wrap=b2,qe.xor=v0,qe.xorBy=$p,qe.xorWith=C_,qe.zip=M_,qe.zipObject=Hp,qe.zipObjectDeep=mg,qe.zipWith=gg,qe.entries=cy,qe.entriesIn=Bg,qe.extend=Ig,qe.extendWith=O0,Uu(qe,qe),qe.add=rb,qe.attempt=Hg,qe.camelCase=X2,qe.capitalize=Ng,qe.ceil=Jg,qe.clamp=F0,qe.clone=w2,qe.cloneDeep=V_,qe.cloneDeepWith=$_,qe.cloneWith=G_,qe.conformsTo=T2,qe.deburr=jg,qe.defaultTo=gy,qe.divide=Qg,qe.endsWith=ef,qe.eq=tc,qe.escape=uh,qe.escapeRegExp=Ug,qe.every=a2,qe.find=c2,qe.findIndex=Vh,qe.findKey=Q_,qe.findLast=b0,qe.findLastIndex=ag,qe.findLastKey=dh,qe.floor=Xh,qe.forEach=D_,qe.forEachRight=I_,qe.forIn=ey,qe.forInRight=ty,qe.forOwn=iy,qe.forOwnRight=ny,qe.get=R0,qe.gt=S2,qe.gte=E2,qe.has=sy,qe.hasIn=Ld,qe.head=g0,qe.identity=Yr,qe.includes=L_,qe.indexOf=cg,qe.inRange=Fg,qe.invoke=Og,qe.isArguments=Id,qe.isArray=Un,qe.isArrayBuffer=C2,qe.isArrayLike=Gs,qe.isArrayLikeObject=Xs,qe.isBoolean=Cg,qe.isBuffer=ic,qe.isDate=Ou,qe.isElement=M2,qe.isEmpty=A2,qe.isEqual=Zp,qe.isEqualWith=k2,qe.isError=Mg,qe.isFinite=Kp,qe.isFunction=Oc,qe.isInteger=Ag,qe.isLength=Cs,qe.isMap=kg,qe.isMatch=hh,qe.isMatchWith=Ru,qe.isNaN=H_,qe.isNative=P2,qe.isNil=I2,qe.isNull=D2,qe.isNumber=W_,qe.isObject=gr,qe.isObjectLike=Ar,qe.isPlainObject=Jp,qe.isRegExp=Pg,qe.isSafeInteger=L2,qe.isSet=X_,qe.isString=P0,qe.isSymbol=ea,qe.isTypedArray=nc,qe.isUndefined=Y_,qe.isWeakMap=O2,qe.isWeakSet=R2,qe.join=w_,qe.kebabCase=Fu,qe.last=_l,qe.lastIndexOf=Gx,qe.lowerCase=Nu,qe.lowerFirst=yl,qe.lt=B2,qe.lte=Dg,qe.max=ob,qe.maxBy=e1,qe.mean=xy,qe.meanBy=X0,qe.min=ab,qe.minBy=lb,qe.stubArray=V0,qe.stubFalse=Kg,qe.stubObject=vy,qe.stubString=nb,qe.stubTrue=sb,qe.multiply=cb,qe.nth=T_,qe.noConflict=Q2,qe.noop=qg,qe.now=E0,qe.pad=vl,qe.padEnd=Y2,qe.padStart=dy,qe.parseInt=q2,qe.random=W2,qe.reduce=T0,qe.reduceRight=S0,qe.repeat=Gg,qe.replace=Bc,qe.result=V2,qe.round=hb,qe.runInContext=It,qe.sample=m2,qe.size=R_,qe.snakeCase=Rd,qe.some=Yp,qe.sortedIndex=Hx,qe.sortedIndexBy=Wx,qe.sortedIndexOf=Gp,qe.sortedLastIndex=_0,qe.sortedLastIndexBy=E_,qe.sortedLastIndexOf=Dd,qe.startCase=py,qe.startsWith=Z2,qe.subtract=t1,qe.sum=db,qe.sumBy=cf,qe.template=N0,qe.times=$0,qe.toFinite=Rc,qe.toInteger=Mn,qe.toLength=Bu,qe.toLower=Vg,qe.toNumber=ko,qe.toSafeInteger=L0,qe.toString=Ys,qe.toUpper=ju,qe.trim=tf,qe.trimEnd=nf,qe.trimStart=j0,qe.truncate=fy,qe.unescape=sf,qe.uniqueId=W0,qe.upperCase=$g,qe.upperFirst=U0,qe.each=D_,qe.eachRight=I_,qe.first=g0,Uu(qe,function(){var g={};return gt(qe,function(k,ae){Qt.call(qe.prototype,ae)||(g[ae]=k)}),g}(),{chain:!1}),qe.VERSION=l,ei(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){qe[g].placeholder=qe}),ei(["drop","take"],function(g,k){Cn.prototype[g]=function(ae){ae=ae===s?1:nr(Mn(ae),0);var Ae=this.__filtered__&&!k?new Cn(this):this.clone();return Ae.__filtered__?Ae.__takeCount__=Ns(ae,Ae.__takeCount__):Ae.__views__.push({size:Ns(ae,re),type:g+(Ae.__dir__<0?"Right":"")}),Ae},Cn.prototype[g+"Right"]=function(ae){return this.reverse()[g](ae).reverse()}}),ei(["filter","map","takeWhile"],function(g,k){var ae=k+1,Ae=ae==f||ae==b;Cn.prototype[g]=function(Ge){var et=this.clone();return et.__iteratees__.push({iteratee:En(Ge,3),type:ae}),et.__filtered__=et.__filtered__||Ae,et}}),ei(["head","last"],function(g,k){var ae="take"+(k?"Right":"");Cn.prototype[g]=function(){return this[ae](1).value()[0]}}),ei(["initial","tail"],function(g,k){var ae="drop"+(k?"":"Right");Cn.prototype[g]=function(){return this.__filtered__?new Cn(this):this[ae](1)}}),Cn.prototype.compact=function(){return this.filter(Yr)},Cn.prototype.find=function(g){return this.filter(g).head()},Cn.prototype.findLast=function(g){return this.reverse().find(g)},Cn.prototype.invokeMap=jn(function(g,k){return typeof g=="function"?new Cn(this):this.map(function(ae){return wi(ae,g,k)})}),Cn.prototype.reject=function(g){return this.filter(Hh(En(g)))},Cn.prototype.slice=function(g,k){g=Mn(g);var ae=this;return ae.__filtered__&&(g>0||k<0)?new Cn(ae):(g<0?ae=ae.takeRight(-g):g&&(ae=ae.drop(g)),k!==s&&(k=Mn(k),ae=k<0?ae.dropRight(-k):ae.take(k-g)),ae)},Cn.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},Cn.prototype.toArray=function(){return this.take(re)},gt(Cn.prototype,function(g,k){var ae=/^(?:filter|find|map|reject)|While$/.test(k),Ae=/^(?:head|last)$/.test(k),Ge=qe[Ae?"take"+(k=="last"?"Right":""):k],et=Ae||/^find/.test(k);Ge&&(qe.prototype[k]=function(){var _t=this.__wrapped__,At=Ae?[1]:arguments,zt=_t instanceof Cn,mi=At[0],xi=zt||Un(_t),ki=function(ls){var _s=Ge.apply(qe,$n([ls],At));return Ae&&Xi?_s[0]:_s};xi&&ae&&typeof mi=="function"&&mi.length!=1&&(zt=xi=!1);var Xi=this.__chain__,un=!!this.__actions__.length,kn=et&&!Xi,es=zt&&!un;if(!et&&xi){_t=es?_t:new Cn(this);var Ln=g.apply(_t,At);return Ln.__actions__.push({func:$h,args:[ki],thisArg:s}),new ca(Ln,Xi)}return kn&&es?g.apply(this,At):(Ln=this.thru(ki),kn?Ae?Ln.value()[0]:Ln.value():Ln)})}),ei(["pop","push","shift","sort","splice","unshift"],function(g){var k=Je[g],ae=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",Ae=/^(?:pop|shift)$/.test(g);qe.prototype[g]=function(){var Ge=arguments;if(Ae&&!this.__chain__){var et=this.value();return k.apply(Un(et)?et:[],Ge)}return this[ae](function(_t){return k.apply(Un(_t)?_t:[],Ge)})}}),gt(Cn.prototype,function(g,k){var ae=qe[k];if(ae){var Ae=ae.name+"";Qt.call(th,Ae)||(th[Ae]=[]),th[Ae].push({name:k,func:ae})}}),th[cn(s,A).name]=[{name:"wrapper",func:s}],Cn.prototype.clone=Rm,Cn.prototype.reverse=Cp,Cn.prototype.value=Bm,qe.prototype.at=i2,qe.prototype.chain=_g,qe.prototype.commit=n2,qe.prototype.next=yg,qe.prototype.plant=x0,qe.prototype.reverse=s2,qe.prototype.toJSON=qe.prototype.valueOf=qe.prototype.value=r2,qe.prototype.first=qe.prototype.head,xr&&(qe.prototype[xr]=vg),qe},Co=uu();he?((he.exports=Co)._=Co,U._=Co):vr._=Co}).call(wo)})(r4,iv);const o4=iv;var ew={},a4={get exports(){return ew},set exports(e){ew=e}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,s){e.exports=t.document?s(t,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return s(l)}})(typeof window<"u"?window:wo,function(t,s){var l=[],c=Object.getPrototypeOf,d=l.slice,m=l.flat?function(U){return l.flat.call(U)}:function(U){return l.concat.apply([],U)},n=l.push,w=l.indexOf,$={},ee=$.toString,z=$.hasOwnProperty,Y=z.toString,Q=Y.call(Object),I={},O=function(he){return typeof he=="function"&&typeof he.nodeType!="number"&&typeof he.item!="function"},H=function(he){return he!=null&&he===he.window},A=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function P(U,he,be){be=be||A;var Se,Fe,je=be.createElement("script");if(je.text=U,he)for(Se in E)Fe=he[Se]||he.getAttribute&&he.getAttribute(Se),Fe&&je.setAttribute(Se,Fe);be.head.appendChild(je).parentNode.removeChild(je)}function G(U){return U==null?U+"":typeof U=="object"||typeof U=="function"?$[ee.call(U)]||"object":typeof U}var V="3.6.3",C=function(U,he){return new C.fn.init(U,he)};C.fn=C.prototype={jquery:V,constructor:C,length:0,toArray:function(){return d.call(this)},get:function(U){return U==null?d.call(this):U<0?this[U+this.length]:this[U]},pushStack:function(U){var he=C.merge(this.constructor(),U);return he.prevObject=this,he},each:function(U){return C.each(this,U)},map:function(U){return this.pushStack(C.map(this,function(he,be){return U.call(he,be,he)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(U,he){return(he+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(U,he){return he%2}))},eq:function(U){var he=this.length,be=+U+(U<0?he:0);return this.pushStack(be>=0&&be<he?[this[be]]:[])},end:function(){return this.prevObject||this.constructor()},push:n,sort:l.sort,splice:l.splice},C.extend=C.fn.extend=function(){var U,he,be,Se,Fe,je,He=arguments[0]||{},Ct=1,vt=arguments.length,Gt=!1;for(typeof He=="boolean"&&(Gt=He,He=arguments[Ct]||{},Ct++),typeof He!="object"&&!O(He)&&(He={}),Ct===vt&&(He=this,Ct--);Ct<vt;Ct++)if((U=arguments[Ct])!=null)for(he in U)Se=U[he],!(he==="__proto__"||He===Se)&&(Gt&&Se&&(C.isPlainObject(Se)||(Fe=Array.isArray(Se)))?(be=He[he],Fe&&!Array.isArray(be)?je=[]:!Fe&&!C.isPlainObject(be)?je={}:je=be,Fe=!1,He[he]=C.extend(Gt,je,Se)):Se!==void 0&&(He[he]=Se));return He},C.extend({expando:"jQuery"+(V+Math.random()).replace(/\D/g,""),isReady:!0,error:function(U){throw new Error(U)},noop:function(){},isPlainObject:function(U){var he,be;return!U||ee.call(U)!=="[object Object]"?!1:(he=c(U),he?(be=z.call(he,"constructor")&&he.constructor,typeof be=="function"&&Y.call(be)===Q):!0)},isEmptyObject:function(U){var he;for(he in U)return!1;return!0},globalEval:function(U,he,be){P(U,{nonce:he&&he.nonce},be)},each:function(U,he){var be,Se=0;if(ne(U))for(be=U.length;Se<be&&he.call(U[Se],Se,U[Se])!==!1;Se++);else for(Se in U)if(he.call(U[Se],Se,U[Se])===!1)break;return U},makeArray:function(U,he){var be=he||[];return U!=null&&(ne(Object(U))?C.merge(be,typeof U=="string"?[U]:U):n.call(be,U)),be},inArray:function(U,he,be){return he==null?-1:w.call(he,U,be)},merge:function(U,he){for(var be=+he.length,Se=0,Fe=U.length;Se<be;Se++)U[Fe++]=he[Se];return U.length=Fe,U},grep:function(U,he,be){for(var Se,Fe=[],je=0,He=U.length,Ct=!be;je<He;je++)Se=!he(U[je],je),Se!==Ct&&Fe.push(U[je]);return Fe},map:function(U,he,be){var Se,Fe,je=0,He=[];if(ne(U))for(Se=U.length;je<Se;je++)Fe=he(U[je],je,be),Fe!=null&&He.push(Fe);else for(je in U)Fe=he(U[je],je,be),Fe!=null&&He.push(Fe);return m(He)},guid:1,support:I}),typeof Symbol=="function"&&(C.fn[Symbol.iterator]=l[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(U,he){$["[object "+he+"]"]=he.toLowerCase()});function ne(U){var he=!!U&&"length"in U&&U.length,be=G(U);return O(U)||H(U)?!1:be==="array"||he===0||typeof he=="number"&&he>0&&he-1 in U}var te=function(U){var he,be,Se,Fe,je,He,Ct,vt,Gt,ii,fi,Kt,ei,Di,On,en,Qs,Fs,Vn,$n="sizzle"+1*new Date,Sn=U.document,Jr=0,qn=0,Ms=po(),xa=po(),zl=po(),Br=po(),So=function(Je,xt){return Je===xt&&(fi=!0),0},Dn={}.hasOwnProperty,$r=[],la=$r.pop,uo=$r.push,Ho=$r.push,Fl=$r.slice,$a=function(Je,xt){for(var Pt=0,hi=Je.length;Pt<hi;Pt++)if(Je[Pt]===xt)return Pt;return-1},kh="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ms="[\\x20\\t\\r\\n\\f]",Wo="(?:\\\\[\\da-fA-F]{1,6}"+ms+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Qc="\\["+ms+"*("+Wo+")(?:"+ms+"*([*^$|!~]?=)"+ms+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Wo+"))|)"+ms+"*\\]",yc=":("+Wo+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Qc+")*)|.*)\\)|)",so=new RegExp(ms+"+","g"),Nl=new RegExp("^"+ms+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ms+"+$","g"),vc=new RegExp("^"+ms+"*,"+ms+"*"),dd=new RegExp("^"+ms+"*([>+~]|"+ms+")"+ms+"*"),xc=new RegExp(ms+"|>"),bc=new RegExp(yc),cu=new RegExp("^"+Wo+"$"),jl={ID:new RegExp("^#("+Wo+")"),CLASS:new RegExp("^\\.("+Wo+")"),TAG:new RegExp("^("+Wo+"|[*])"),ATTR:new RegExp("^"+Qc),PSEUDO:new RegExp("^"+yc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ms+"*(even|odd|(([+-]|)(\\d*)n|)"+ms+"*(?:([+-]|)"+ms+"*(\\d+)|))"+ms+"*\\)|)","i"),bool:new RegExp("^(?:"+kh+")$","i"),needsContext:new RegExp("^"+ms+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ms+"*((?:-\\d)?\\d*)"+ms+"*\\)|)(?=[^-]|$)","i")},ud=/HTML$/i,ba=/^(?:input|select|textarea|button)$/i,Ha=/^h\d$/i,Ul=/^[^{]+\{\s*\[native \w/,Ph=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wc=/[+~]/,Xo=new RegExp("\\\\[\\da-fA-F]{1,6}"+ms+"?|\\\\([^\\r\\n\\f])","g"),Hr=function(Je,xt){var Pt="0x"+Je.slice(1)-65536;return xt||(Pt<0?String.fromCharCode(Pt+65536):String.fromCharCode(Pt>>10|55296,Pt&1023|56320))},cl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,pd=function(Je,xt){return xt?Je==="\0"?"�":Je.slice(0,-1)+"\\"+Je.charCodeAt(Je.length-1).toString(16)+" ":"\\"+Je},eh=function(){Kt()},bp=In(function(Je){return Je.disabled===!0&&Je.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Ho.apply($r=Fl.call(Sn.childNodes),Sn.childNodes),$r[Sn.childNodes.length].nodeType}catch{Ho={apply:$r.length?function(xt,Pt){uo.apply(xt,Fl.call(Pt))}:function(xt,Pt){for(var hi=xt.length,Lt=0;xt[hi++]=Pt[Lt++];);xt.length=hi-1}}}function os(Je,xt,Pt,hi){var Lt,Qt,Si,ji,bi,mn,xn,wn=xt&&xt.ownerDocument,Rn=xt?xt.nodeType:9;if(Pt=Pt||[],typeof Je!="string"||!Je||Rn!==1&&Rn!==9&&Rn!==11)return Pt;if(!hi&&(Kt(xt),xt=xt||ei,On)){if(Rn!==11&&(bi=Ph.exec(Je)))if(Lt=bi[1]){if(Rn===9)if(Si=xt.getElementById(Lt)){if(Si.id===Lt)return Pt.push(Si),Pt}else return Pt;else if(wn&&(Si=wn.getElementById(Lt))&&Vn(xt,Si)&&Si.id===Lt)return Pt.push(Si),Pt}else{if(bi[2])return Ho.apply(Pt,xt.getElementsByTagName(Je)),Pt;if((Lt=bi[3])&&be.getElementsByClassName&&xt.getElementsByClassName)return Ho.apply(Pt,xt.getElementsByClassName(Lt)),Pt}if(be.qsa&&!Br[Je+" "]&&(!en||!en.test(Je))&&(Rn!==1||xt.nodeName.toLowerCase()!=="object")){if(xn=Je,wn=xt,Rn===1&&(xc.test(Je)||dd.test(Je))){for(wn=wc.test(Je)&&ci(xt.parentNode)||xt,(wn!==xt||!be.scope)&&((ji=xt.getAttribute("id"))?ji=ji.replace(cl,pd):xt.setAttribute("id",ji=$n)),mn=He(Je),Qt=mn.length;Qt--;)mn[Qt]=(ji?"#"+ji:":scope")+" "+Ki(mn[Qt]);xn=mn.join(",")}try{if(be.cssSupportsSelector&&!CSS.supports("selector(:is("+xn+"))"))throw new Error;return Ho.apply(Pt,wn.querySelectorAll(xn)),Pt}catch{Br(Je,!0)}finally{ji===$n&&xt.removeAttribute("id")}}}return vt(Je.replace(Nl,"$1"),xt,Pt,hi)}function po(){var Je=[];function xt(Pt,hi){return Je.push(Pt+" ")>Se.cacheLength&&delete xt[Je.shift()],xt[Pt+" "]=hi}return xt}function Wr(Je){return Je[$n]=!0,Je}function Eo(Je){var xt=ei.createElement("fieldset");try{return!!Je(xt)}catch{return!1}finally{xt.parentNode&&xt.parentNode.removeChild(xt),xt=null}}function Gl(Je,xt){for(var Pt=Je.split("|"),hi=Pt.length;hi--;)Se.attrHandle[Pt[hi]]=xt}function hu(Je,xt){var Pt=xt&&Je,hi=Pt&&Je.nodeType===1&&xt.nodeType===1&&Je.sourceIndex-xt.sourceIndex;if(hi)return hi;if(Pt){for(;Pt=Pt.nextSibling;)if(Pt===xt)return-1}return Je?1:-1}function du(Je){return function(xt){var Pt=xt.nodeName.toLowerCase();return Pt==="input"&&xt.type===Je}}function uu(Je){return function(xt){var Pt=xt.nodeName.toLowerCase();return(Pt==="input"||Pt==="button")&&xt.type===Je}}function Co(Je){return function(xt){return"form"in xt?xt.parentNode&&xt.disabled===!1?"label"in xt?"label"in xt.parentNode?xt.parentNode.disabled===Je:xt.disabled===Je:xt.isDisabled===Je||xt.isDisabled!==!Je&&bp(xt)===Je:xt.disabled===Je:"label"in xt?xt.disabled===Je:!1}}function It(Je){return Wr(function(xt){return xt=+xt,Wr(function(Pt,hi){for(var Lt,Qt=Je([],Pt.length,xt),Si=Qt.length;Si--;)Pt[Lt=Qt[Si]]&&(Pt[Lt]=!(hi[Lt]=Pt[Lt]))})})}function ci(Je){return Je&&typeof Je.getElementsByTagName<"u"&&Je}be=os.support={},je=os.isXML=function(Je){var xt=Je&&Je.namespaceURI,Pt=Je&&(Je.ownerDocument||Je).documentElement;return!ud.test(xt||Pt&&Pt.nodeName||"HTML")},Kt=os.setDocument=function(Je){var xt,Pt,hi=Je?Je.ownerDocument||Je:Sn;return hi==ei||hi.nodeType!==9||!hi.documentElement||(ei=hi,Di=ei.documentElement,On=!je(ei),Sn!=ei&&(Pt=ei.defaultView)&&Pt.top!==Pt&&(Pt.addEventListener?Pt.addEventListener("unload",eh,!1):Pt.attachEvent&&Pt.attachEvent("onunload",eh)),be.scope=Eo(function(Lt){return Di.appendChild(Lt).appendChild(ei.createElement("div")),typeof Lt.querySelectorAll<"u"&&!Lt.querySelectorAll(":scope fieldset div").length}),be.cssSupportsSelector=Eo(function(){return CSS.supports("selector(*)")&&ei.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),be.attributes=Eo(function(Lt){return Lt.className="i",!Lt.getAttribute("className")}),be.getElementsByTagName=Eo(function(Lt){return Lt.appendChild(ei.createComment("")),!Lt.getElementsByTagName("*").length}),be.getElementsByClassName=Ul.test(ei.getElementsByClassName),be.getById=Eo(function(Lt){return Di.appendChild(Lt).id=$n,!ei.getElementsByName||!ei.getElementsByName($n).length}),be.getById?(Se.filter.ID=function(Lt){var Qt=Lt.replace(Xo,Hr);return function(Si){return Si.getAttribute("id")===Qt}},Se.find.ID=function(Lt,Qt){if(typeof Qt.getElementById<"u"&&On){var Si=Qt.getElementById(Lt);return Si?[Si]:[]}}):(Se.filter.ID=function(Lt){var Qt=Lt.replace(Xo,Hr);return function(Si){var ji=typeof Si.getAttributeNode<"u"&&Si.getAttributeNode("id");return ji&&ji.value===Qt}},Se.find.ID=function(Lt,Qt){if(typeof Qt.getElementById<"u"&&On){var Si,ji,bi,mn=Qt.getElementById(Lt);if(mn){if(Si=mn.getAttributeNode("id"),Si&&Si.value===Lt)return[mn];for(bi=Qt.getElementsByName(Lt),ji=0;mn=bi[ji++];)if(Si=mn.getAttributeNode("id"),Si&&Si.value===Lt)return[mn]}return[]}}),Se.find.TAG=be.getElementsByTagName?function(Lt,Qt){if(typeof Qt.getElementsByTagName<"u")return Qt.getElementsByTagName(Lt);if(be.qsa)return Qt.querySelectorAll(Lt)}:function(Lt,Qt){var Si,ji=[],bi=0,mn=Qt.getElementsByTagName(Lt);if(Lt==="*"){for(;Si=mn[bi++];)Si.nodeType===1&&ji.push(Si);return ji}return mn},Se.find.CLASS=be.getElementsByClassName&&function(Lt,Qt){if(typeof Qt.getElementsByClassName<"u"&&On)return Qt.getElementsByClassName(Lt)},Qs=[],en=[],(be.qsa=Ul.test(ei.querySelectorAll))&&(Eo(function(Lt){var Qt;Di.appendChild(Lt).innerHTML="<a id='"+$n+"'></a><select id='"+$n+"-\r\\' msallowcapture=''><option selected=''></option></select>",Lt.querySelectorAll("[msallowcapture^='']").length&&en.push("[*^$]="+ms+`*(?:''|"")`),Lt.querySelectorAll("[selected]").length||en.push("\\["+ms+"*(?:value|"+kh+")"),Lt.querySelectorAll("[id~="+$n+"-]").length||en.push("~="),Qt=ei.createElement("input"),Qt.setAttribute("name",""),Lt.appendChild(Qt),Lt.querySelectorAll("[name='']").length||en.push("\\["+ms+"*name"+ms+"*="+ms+`*(?:''|"")`),Lt.querySelectorAll(":checked").length||en.push(":checked"),Lt.querySelectorAll("a#"+$n+"+*").length||en.push(".#.+[+~]"),Lt.querySelectorAll("\\\f"),en.push("[\\r\\n\\f]")}),Eo(function(Lt){Lt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Qt=ei.createElement("input");Qt.setAttribute("type","hidden"),Lt.appendChild(Qt).setAttribute("name","D"),Lt.querySelectorAll("[name=d]").length&&en.push("name"+ms+"*[*^$|!~]?="),Lt.querySelectorAll(":enabled").length!==2&&en.push(":enabled",":disabled"),Di.appendChild(Lt).disabled=!0,Lt.querySelectorAll(":disabled").length!==2&&en.push(":enabled",":disabled"),Lt.querySelectorAll("*,:x"),en.push(",.*:")})),(be.matchesSelector=Ul.test(Fs=Di.matches||Di.webkitMatchesSelector||Di.mozMatchesSelector||Di.oMatchesSelector||Di.msMatchesSelector))&&Eo(function(Lt){be.disconnectedMatch=Fs.call(Lt,"*"),Fs.call(Lt,"[s!='']:x"),Qs.push("!=",yc)}),be.cssSupportsSelector||en.push(":has"),en=en.length&&new RegExp(en.join("|")),Qs=Qs.length&&new RegExp(Qs.join("|")),xt=Ul.test(Di.compareDocumentPosition),Vn=xt||Ul.test(Di.contains)?function(Lt,Qt){var Si=Lt.nodeType===9&&Lt.documentElement||Lt,ji=Qt&&Qt.parentNode;return Lt===ji||!!(ji&&ji.nodeType===1&&(Si.contains?Si.contains(ji):Lt.compareDocumentPosition&&Lt.compareDocumentPosition(ji)&16))}:function(Lt,Qt){if(Qt){for(;Qt=Qt.parentNode;)if(Qt===Lt)return!0}return!1},So=xt?function(Lt,Qt){if(Lt===Qt)return fi=!0,0;var Si=!Lt.compareDocumentPosition-!Qt.compareDocumentPosition;return Si||(Si=(Lt.ownerDocument||Lt)==(Qt.ownerDocument||Qt)?Lt.compareDocumentPosition(Qt):1,Si&1||!be.sortDetached&&Qt.compareDocumentPosition(Lt)===Si?Lt==ei||Lt.ownerDocument==Sn&&Vn(Sn,Lt)?-1:Qt==ei||Qt.ownerDocument==Sn&&Vn(Sn,Qt)?1:ii?$a(ii,Lt)-$a(ii,Qt):0:Si&4?-1:1)}:function(Lt,Qt){if(Lt===Qt)return fi=!0,0;var Si,ji=0,bi=Lt.parentNode,mn=Qt.parentNode,xn=[Lt],wn=[Qt];if(!bi||!mn)return Lt==ei?-1:Qt==ei?1:bi?-1:mn?1:ii?$a(ii,Lt)-$a(ii,Qt):0;if(bi===mn)return hu(Lt,Qt);for(Si=Lt;Si=Si.parentNode;)xn.unshift(Si);for(Si=Qt;Si=Si.parentNode;)wn.unshift(Si);for(;xn[ji]===wn[ji];)ji++;return ji?hu(xn[ji],wn[ji]):xn[ji]==Sn?-1:wn[ji]==Sn?1:0}),ei},os.matches=function(Je,xt){return os(Je,null,null,xt)},os.matchesSelector=function(Je,xt){if(Kt(Je),be.matchesSelector&&On&&!Br[xt+" "]&&(!Qs||!Qs.test(xt))&&(!en||!en.test(xt)))try{var Pt=Fs.call(Je,xt);if(Pt||be.disconnectedMatch||Je.document&&Je.document.nodeType!==11)return Pt}catch{Br(xt,!0)}return os(xt,ei,null,[Je]).length>0},os.contains=function(Je,xt){return(Je.ownerDocument||Je)!=ei&&Kt(Je),Vn(Je,xt)},os.attr=function(Je,xt){(Je.ownerDocument||Je)!=ei&&Kt(Je);var Pt=Se.attrHandle[xt.toLowerCase()],hi=Pt&&Dn.call(Se.attrHandle,xt.toLowerCase())?Pt(Je,xt,!On):void 0;return hi!==void 0?hi:be.attributes||!On?Je.getAttribute(xt):(hi=Je.getAttributeNode(xt))&&hi.specified?hi.value:null},os.escape=function(Je){return(Je+"").replace(cl,pd)},os.error=function(Je){throw new Error("Syntax error, unrecognized expression: "+Je)},os.uniqueSort=function(Je){var xt,Pt=[],hi=0,Lt=0;if(fi=!be.detectDuplicates,ii=!be.sortStable&&Je.slice(0),Je.sort(So),fi){for(;xt=Je[Lt++];)xt===Je[Lt]&&(hi=Pt.push(Lt));for(;hi--;)Je.splice(Pt[hi],1)}return ii=null,Je},Fe=os.getText=function(Je){var xt,Pt="",hi=0,Lt=Je.nodeType;if(Lt){if(Lt===1||Lt===9||Lt===11){if(typeof Je.textContent=="string")return Je.textContent;for(Je=Je.firstChild;Je;Je=Je.nextSibling)Pt+=Fe(Je)}else if(Lt===3||Lt===4)return Je.nodeValue}else for(;xt=Je[hi++];)Pt+=Fe(xt);return Pt},Se=os.selectors={cacheLength:50,createPseudo:Wr,match:jl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Je){return Je[1]=Je[1].replace(Xo,Hr),Je[3]=(Je[3]||Je[4]||Je[5]||"").replace(Xo,Hr),Je[2]==="~="&&(Je[3]=" "+Je[3]+" "),Je.slice(0,4)},CHILD:function(Je){return Je[1]=Je[1].toLowerCase(),Je[1].slice(0,3)==="nth"?(Je[3]||os.error(Je[0]),Je[4]=+(Je[4]?Je[5]+(Je[6]||1):2*(Je[3]==="even"||Je[3]==="odd")),Je[5]=+(Je[7]+Je[8]||Je[3]==="odd")):Je[3]&&os.error(Je[0]),Je},PSEUDO:function(Je){var xt,Pt=!Je[6]&&Je[2];return jl.CHILD.test(Je[0])?null:(Je[3]?Je[2]=Je[4]||Je[5]||"":Pt&&bc.test(Pt)&&(xt=He(Pt,!0))&&(xt=Pt.indexOf(")",Pt.length-xt)-Pt.length)&&(Je[0]=Je[0].slice(0,xt),Je[2]=Pt.slice(0,xt)),Je.slice(0,3))}},filter:{TAG:function(Je){var xt=Je.replace(Xo,Hr).toLowerCase();return Je==="*"?function(){return!0}:function(Pt){return Pt.nodeName&&Pt.nodeName.toLowerCase()===xt}},CLASS:function(Je){var xt=Ms[Je+" "];return xt||(xt=new RegExp("(^|"+ms+")"+Je+"("+ms+"|$)"))&&Ms(Je,function(Pt){return xt.test(typeof Pt.className=="string"&&Pt.className||typeof Pt.getAttribute<"u"&&Pt.getAttribute("class")||"")})},ATTR:function(Je,xt,Pt){return function(hi){var Lt=os.attr(hi,Je);return Lt==null?xt==="!=":xt?(Lt+="",xt==="="?Lt===Pt:xt==="!="?Lt!==Pt:xt==="^="?Pt&&Lt.indexOf(Pt)===0:xt==="*="?Pt&&Lt.indexOf(Pt)>-1:xt==="$="?Pt&&Lt.slice(-Pt.length)===Pt:xt==="~="?(" "+Lt.replace(so," ")+" ").indexOf(Pt)>-1:xt==="|="?Lt===Pt||Lt.slice(0,Pt.length+1)===Pt+"-":!1):!0}},CHILD:function(Je,xt,Pt,hi,Lt){var Qt=Je.slice(0,3)!=="nth",Si=Je.slice(-4)!=="last",ji=xt==="of-type";return hi===1&&Lt===0?function(bi){return!!bi.parentNode}:function(bi,mn,xn){var wn,Rn,Qn,gn,cr,fr,Xr=Qt!==Si?"nextSibling":"previousSibling",As=bi.parentNode,ro=ji&&bi.nodeName.toLowerCase(),Mo=!xn&&!ji,xr=!1;if(As){if(Qt){for(;Xr;){for(gn=bi;gn=gn[Xr];)if(ji?gn.nodeName.toLowerCase()===ro:gn.nodeType===1)return!1;fr=Xr=Je==="only"&&!fr&&"nextSibling"}return!0}if(fr=[Si?As.firstChild:As.lastChild],Si&&Mo){for(gn=As,Qn=gn[$n]||(gn[$n]={}),Rn=Qn[gn.uniqueID]||(Qn[gn.uniqueID]={}),wn=Rn[Je]||[],cr=wn[0]===Jr&&wn[1],xr=cr&&wn[2],gn=cr&&As.childNodes[cr];gn=++cr&&gn&&gn[Xr]||(xr=cr=0)||fr.pop();)if(gn.nodeType===1&&++xr&&gn===bi){Rn[Je]=[Jr,cr,xr];break}}else if(Mo&&(gn=bi,Qn=gn[$n]||(gn[$n]={}),Rn=Qn[gn.uniqueID]||(Qn[gn.uniqueID]={}),wn=Rn[Je]||[],cr=wn[0]===Jr&&wn[1],xr=cr),xr===!1)for(;(gn=++cr&&gn&&gn[Xr]||(xr=cr=0)||fr.pop())&&!((ji?gn.nodeName.toLowerCase()===ro:gn.nodeType===1)&&++xr&&(Mo&&(Qn=gn[$n]||(gn[$n]={}),Rn=Qn[gn.uniqueID]||(Qn[gn.uniqueID]={}),Rn[Je]=[Jr,xr]),gn===bi)););return xr-=Lt,xr===hi||xr%hi===0&&xr/hi>=0}}},PSEUDO:function(Je,xt){var Pt,hi=Se.pseudos[Je]||Se.setFilters[Je.toLowerCase()]||os.error("unsupported pseudo: "+Je);return hi[$n]?hi(xt):hi.length>1?(Pt=[Je,Je,"",xt],Se.setFilters.hasOwnProperty(Je.toLowerCase())?Wr(function(Lt,Qt){for(var Si,ji=hi(Lt,xt),bi=ji.length;bi--;)Si=$a(Lt,ji[bi]),Lt[Si]=!(Qt[Si]=ji[bi])}):function(Lt){return hi(Lt,0,Pt)}):hi}},pseudos:{not:Wr(function(Je){var xt=[],Pt=[],hi=Ct(Je.replace(Nl,"$1"));return hi[$n]?Wr(function(Lt,Qt,Si,ji){for(var bi,mn=hi(Lt,null,ji,[]),xn=Lt.length;xn--;)(bi=mn[xn])&&(Lt[xn]=!(Qt[xn]=bi))}):function(Lt,Qt,Si){return xt[0]=Lt,hi(xt,null,Si,Pt),xt[0]=null,!Pt.pop()}}),has:Wr(function(Je){return function(xt){return os(Je,xt).length>0}}),contains:Wr(function(Je){return Je=Je.replace(Xo,Hr),function(xt){return(xt.textContent||Fe(xt)).indexOf(Je)>-1}}),lang:Wr(function(Je){return cu.test(Je||"")||os.error("unsupported lang: "+Je),Je=Je.replace(Xo,Hr).toLowerCase(),function(xt){var Pt;do if(Pt=On?xt.lang:xt.getAttribute("xml:lang")||xt.getAttribute("lang"))return Pt=Pt.toLowerCase(),Pt===Je||Pt.indexOf(Je+"-")===0;while((xt=xt.parentNode)&&xt.nodeType===1);return!1}}),target:function(Je){var xt=U.location&&U.location.hash;return xt&&xt.slice(1)===Je.id},root:function(Je){return Je===Di},focus:function(Je){return Je===ei.activeElement&&(!ei.hasFocus||ei.hasFocus())&&!!(Je.type||Je.href||~Je.tabIndex)},enabled:Co(!1),disabled:Co(!0),checked:function(Je){var xt=Je.nodeName.toLowerCase();return xt==="input"&&!!Je.checked||xt==="option"&&!!Je.selected},selected:function(Je){return Je.parentNode&&Je.parentNode.selectedIndex,Je.selected===!0},empty:function(Je){for(Je=Je.firstChild;Je;Je=Je.nextSibling)if(Je.nodeType<6)return!1;return!0},parent:function(Je){return!Se.pseudos.empty(Je)},header:function(Je){return Ha.test(Je.nodeName)},input:function(Je){return ba.test(Je.nodeName)},button:function(Je){var xt=Je.nodeName.toLowerCase();return xt==="input"&&Je.type==="button"||xt==="button"},text:function(Je){var xt;return Je.nodeName.toLowerCase()==="input"&&Je.type==="text"&&((xt=Je.getAttribute("type"))==null||xt.toLowerCase()==="text")},first:It(function(){return[0]}),last:It(function(Je,xt){return[xt-1]}),eq:It(function(Je,xt,Pt){return[Pt<0?Pt+xt:Pt]}),even:It(function(Je,xt){for(var Pt=0;Pt<xt;Pt+=2)Je.push(Pt);return Je}),odd:It(function(Je,xt){for(var Pt=1;Pt<xt;Pt+=2)Je.push(Pt);return Je}),lt:It(function(Je,xt,Pt){for(var hi=Pt<0?Pt+xt:Pt>xt?xt:Pt;--hi>=0;)Je.push(hi);return Je}),gt:It(function(Je,xt,Pt){for(var hi=Pt<0?Pt+xt:Pt;++hi<xt;)Je.push(hi);return Je})}},Se.pseudos.nth=Se.pseudos.eq;for(he in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Se.pseudos[he]=du(he);for(he in{submit:!0,reset:!0})Se.pseudos[he]=uu(he);function ti(){}ti.prototype=Se.filters=Se.pseudos,Se.setFilters=new ti,He=os.tokenize=function(Je,xt){var Pt,hi,Lt,Qt,Si,ji,bi,mn=xa[Je+" "];if(mn)return xt?0:mn.slice(0);for(Si=Je,ji=[],bi=Se.preFilter;Si;){(!Pt||(hi=vc.exec(Si)))&&(hi&&(Si=Si.slice(hi[0].length)||Si),ji.push(Lt=[])),Pt=!1,(hi=dd.exec(Si))&&(Pt=hi.shift(),Lt.push({value:Pt,type:hi[0].replace(Nl," ")}),Si=Si.slice(Pt.length));for(Qt in Se.filter)(hi=jl[Qt].exec(Si))&&(!bi[Qt]||(hi=bi[Qt](hi)))&&(Pt=hi.shift(),Lt.push({value:Pt,type:Qt,matches:hi}),Si=Si.slice(Pt.length));if(!Pt)break}return xt?Si.length:Si?os.error(Je):xa(Je,ji).slice(0)};function Ki(Je){for(var xt=0,Pt=Je.length,hi="";xt<Pt;xt++)hi+=Je[xt].value;return hi}function In(Je,xt,Pt){var hi=xt.dir,Lt=xt.next,Qt=Lt||hi,Si=Pt&&Qt==="parentNode",ji=qn++;return xt.first?function(bi,mn,xn){for(;bi=bi[hi];)if(bi.nodeType===1||Si)return Je(bi,mn,xn);return!1}:function(bi,mn,xn){var wn,Rn,Qn,gn=[Jr,ji];if(xn){for(;bi=bi[hi];)if((bi.nodeType===1||Si)&&Je(bi,mn,xn))return!0}else for(;bi=bi[hi];)if(bi.nodeType===1||Si)if(Qn=bi[$n]||(bi[$n]={}),Rn=Qn[bi.uniqueID]||(Qn[bi.uniqueID]={}),Lt&&Lt===bi.nodeName.toLowerCase())bi=bi[hi]||bi;else{if((wn=Rn[Qt])&&wn[0]===Jr&&wn[1]===ji)return gn[2]=wn[2];if(Rn[Qt]=gn,gn[2]=Je(bi,mn,xn))return!0}return!1}}function hs(Je){return Je.length>1?function(xt,Pt,hi){for(var Lt=Je.length;Lt--;)if(!Je[Lt](xt,Pt,hi))return!1;return!0}:Je[0]}function pr(Je,xt,Pt){for(var hi=0,Lt=xt.length;hi<Lt;hi++)os(Je,xt[hi],Pt);return Pt}function gs(Je,xt,Pt,hi,Lt){for(var Qt,Si=[],ji=0,bi=Je.length,mn=xt!=null;ji<bi;ji++)(Qt=Je[ji])&&(!Pt||Pt(Qt,hi,Lt))&&(Si.push(Qt),mn&&xt.push(ji));return Si}function Tc(Je,xt,Pt,hi,Lt,Qt){return hi&&!hi[$n]&&(hi=Tc(hi)),Lt&&!Lt[$n]&&(Lt=Tc(Lt,Qt)),Wr(function(Si,ji,bi,mn){var xn,wn,Rn,Qn=[],gn=[],cr=ji.length,fr=Si||pr(xt||"*",bi.nodeType?[bi]:bi,[]),Xr=Je&&(Si||!xt)?gs(fr,Qn,Je,bi,mn):fr,As=Pt?Lt||(Si?Je:cr||hi)?[]:ji:Xr;if(Pt&&Pt(Xr,As,bi,mn),hi)for(xn=gs(As,gn),hi(xn,[],bi,mn),wn=xn.length;wn--;)(Rn=xn[wn])&&(As[gn[wn]]=!(Xr[gn[wn]]=Rn));if(Si){if(Lt||Je){if(Lt){for(xn=[],wn=As.length;wn--;)(Rn=As[wn])&&xn.push(Xr[wn]=Rn);Lt(null,As=[],xn,mn)}for(wn=As.length;wn--;)(Rn=As[wn])&&(xn=Lt?$a(Si,Rn):Qn[wn])>-1&&(Si[xn]=!(ji[xn]=Rn))}}else As=gs(As===ji?As.splice(cr,As.length):As),Lt?Lt(null,ji,As,mn):Ho.apply(ji,As)})}function Dh(Je){for(var xt,Pt,hi,Lt=Je.length,Qt=Se.relative[Je[0].type],Si=Qt||Se.relative[" "],ji=Qt?1:0,bi=In(function(wn){return wn===xt},Si,!0),mn=In(function(wn){return $a(xt,wn)>-1},Si,!0),xn=[function(wn,Rn,Qn){var gn=!Qt&&(Qn||Rn!==Gt)||((xt=Rn).nodeType?bi(wn,Rn,Qn):mn(wn,Rn,Qn));return xt=null,gn}];ji<Lt;ji++)if(Pt=Se.relative[Je[ji].type])xn=[In(hs(xn),Pt)];else{if(Pt=Se.filter[Je[ji].type].apply(null,Je[ji].matches),Pt[$n]){for(hi=++ji;hi<Lt&&!Se.relative[Je[hi].type];hi++);return Tc(ji>1&&hs(xn),ji>1&&Ki(Je.slice(0,ji-1).concat({value:Je[ji-2].type===" "?"*":""})).replace(Nl,"$1"),Pt,ji<hi&&Dh(Je.slice(ji,hi)),hi<Lt&&Dh(Je=Je.slice(hi)),hi<Lt&&Ki(Je))}xn.push(Pt)}return hs(xn)}function fo(Je,xt){var Pt=xt.length>0,hi=Je.length>0,Lt=function(Qt,Si,ji,bi,mn){var xn,wn,Rn,Qn=0,gn="0",cr=Qt&&[],fr=[],Xr=Gt,As=Qt||hi&&Se.find.TAG("*",mn),ro=Jr+=Xr==null?1:Math.random()||.1,Mo=As.length;for(mn&&(Gt=Si==ei||Si||mn);gn!==Mo&&(xn=As[gn])!=null;gn++){if(hi&&xn){for(wn=0,!Si&&xn.ownerDocument!=ei&&(Kt(xn),ji=!On);Rn=Je[wn++];)if(Rn(xn,Si||ei,ji)){bi.push(xn);break}mn&&(Jr=ro)}Pt&&((xn=!Rn&&xn)&&Qn--,Qt&&cr.push(xn))}if(Qn+=gn,Pt&&gn!==Qn){for(wn=0;Rn=xt[wn++];)Rn(cr,fr,Si,ji);if(Qt){if(Qn>0)for(;gn--;)cr[gn]||fr[gn]||(fr[gn]=la.call(bi));fr=gs(fr)}Ho.apply(bi,fr),mn&&!Qt&&fr.length>0&&Qn+xt.length>1&&os.uniqueSort(bi)}return mn&&(Jr=ro,Gt=Xr),cr};return Pt?Wr(Lt):Lt}return Ct=os.compile=function(Je,xt){var Pt,hi=[],Lt=[],Qt=zl[Je+" "];if(!Qt){for(xt||(xt=He(Je)),Pt=xt.length;Pt--;)Qt=Dh(xt[Pt]),Qt[$n]?hi.push(Qt):Lt.push(Qt);Qt=zl(Je,fo(Lt,hi)),Qt.selector=Je}return Qt},vt=os.select=function(Je,xt,Pt,hi){var Lt,Qt,Si,ji,bi,mn=typeof Je=="function"&&Je,xn=!hi&&He(Je=mn.selector||Je);if(Pt=Pt||[],xn.length===1){if(Qt=xn[0]=xn[0].slice(0),Qt.length>2&&(Si=Qt[0]).type==="ID"&&xt.nodeType===9&&On&&Se.relative[Qt[1].type]){if(xt=(Se.find.ID(Si.matches[0].replace(Xo,Hr),xt)||[])[0],xt)mn&&(xt=xt.parentNode);else return Pt;Je=Je.slice(Qt.shift().value.length)}for(Lt=jl.needsContext.test(Je)?0:Qt.length;Lt--&&(Si=Qt[Lt],!Se.relative[ji=Si.type]);)if((bi=Se.find[ji])&&(hi=bi(Si.matches[0].replace(Xo,Hr),wc.test(Qt[0].type)&&ci(xt.parentNode)||xt))){if(Qt.splice(Lt,1),Je=hi.length&&Ki(Qt),!Je)return Ho.apply(Pt,hi),Pt;break}}return(mn||Ct(Je,xn))(hi,xt,!On,Pt,!xt||wc.test(Je)&&ci(xt.parentNode)||xt),Pt},be.sortStable=$n.split("").sort(So).join("")===$n,be.detectDuplicates=!!fi,Kt(),be.sortDetached=Eo(function(Je){return Je.compareDocumentPosition(ei.createElement("fieldset"))&1}),Eo(function(Je){return Je.innerHTML="<a href='#'></a>",Je.firstChild.getAttribute("href")==="#"})||Gl("type|href|height|width",function(Je,xt,Pt){if(!Pt)return Je.getAttribute(xt,xt.toLowerCase()==="type"?1:2)}),(!be.attributes||!Eo(function(Je){return Je.innerHTML="<input/>",Je.firstChild.setAttribute("value",""),Je.firstChild.getAttribute("value")===""}))&&Gl("value",function(Je,xt,Pt){if(!Pt&&Je.nodeName.toLowerCase()==="input")return Je.defaultValue}),Eo(function(Je){return Je.getAttribute("disabled")==null})||Gl(kh,function(Je,xt,Pt){var hi;if(!Pt)return Je[xt]===!0?xt.toLowerCase():(hi=Je.getAttributeNode(xt))&&hi.specified?hi.value:null}),os}(t);C.find=te,C.expr=te.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=te.uniqueSort,C.text=te.getText,C.isXMLDoc=te.isXML,C.contains=te.contains,C.escapeSelector=te.escape;var F=function(U,he,be){for(var Se=[],Fe=be!==void 0;(U=U[he])&&U.nodeType!==9;)if(U.nodeType===1){if(Fe&&C(U).is(be))break;Se.push(U)}return Se},N=function(U,he){for(var be=[];U;U=U.nextSibling)U.nodeType===1&&U!==he&&be.push(U);return be},X=C.expr.match.needsContext;function M(U,he){return U.nodeName&&U.nodeName.toLowerCase()===he.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function f(U,he,be){return O(he)?C.grep(U,function(Se,Fe){return!!he.call(Se,Fe,Se)!==be}):he.nodeType?C.grep(U,function(Se){return Se===he!==be}):typeof he!="string"?C.grep(U,function(Se){return w.call(he,Se)>-1!==be}):C.filter(he,U,be)}C.filter=function(U,he,be){var Se=he[0];return be&&(U=":not("+U+")"),he.length===1&&Se.nodeType===1?C.find.matchesSelector(Se,U)?[Se]:[]:C.find.matches(U,C.grep(he,function(Fe){return Fe.nodeType===1}))},C.fn.extend({find:function(U){var he,be,Se=this.length,Fe=this;if(typeof U!="string")return this.pushStack(C(U).filter(function(){for(he=0;he<Se;he++)if(C.contains(Fe[he],this))return!0}));for(be=this.pushStack([]),he=0;he<Se;he++)C.find(U,Fe[he],be);return Se>1?C.uniqueSort(be):be},filter:function(U){return this.pushStack(f(this,U||[],!1))},not:function(U){return this.pushStack(f(this,U||[],!0))},is:function(U){return!!f(this,typeof U=="string"&&X.test(U)?C(U):U||[],!1).length}});var y,b=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,S=C.fn.init=function(U,he,be){var Se,Fe;if(!U)return this;if(be=be||y,typeof U=="string")if(U[0]==="<"&&U[U.length-1]===">"&&U.length>=3?Se=[null,U,null]:Se=b.exec(U),Se&&(Se[1]||!he))if(Se[1]){if(he=he instanceof C?he[0]:he,C.merge(this,C.parseHTML(Se[1],he&&he.nodeType?he.ownerDocument||he:A,!0)),L.test(Se[1])&&C.isPlainObject(he))for(Se in he)O(this[Se])?this[Se](he[Se]):this.attr(Se,he[Se]);return this}else return Fe=A.getElementById(Se[2]),Fe&&(this[0]=Fe,this.length=1),this;else return!he||he.jquery?(he||be).find(U):this.constructor(he).find(U);else{if(U.nodeType)return this[0]=U,this.length=1,this;if(O(U))return be.ready!==void 0?be.ready(U):U(C)}return C.makeArray(U,this)};S.prototype=C.fn,y=C(A);var j=/^(?:parents|prev(?:Until|All))/,J={children:!0,contents:!0,next:!0,prev:!0};C.fn.extend({has:function(U){var he=C(U,this),be=he.length;return this.filter(function(){for(var Se=0;Se<be;Se++)if(C.contains(this,he[Se]))return!0})},closest:function(U,he){var be,Se=0,Fe=this.length,je=[],He=typeof U!="string"&&C(U);if(!X.test(U)){for(;Se<Fe;Se++)for(be=this[Se];be&&be!==he;be=be.parentNode)if(be.nodeType<11&&(He?He.index(be)>-1:be.nodeType===1&&C.find.matchesSelector(be,U))){je.push(be);break}}return this.pushStack(je.length>1?C.uniqueSort(je):je)},index:function(U){return U?typeof U=="string"?w.call(C(U),this[0]):w.call(this,U.jquery?U[0]:U):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(U,he){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(U,he))))},addBack:function(U){return this.add(U==null?this.prevObject:this.prevObject.filter(U))}});function W(U,he){for(;(U=U[he])&&U.nodeType!==1;);return U}C.each({parent:function(U){var he=U.parentNode;return he&&he.nodeType!==11?he:null},parents:function(U){return F(U,"parentNode")},parentsUntil:function(U,he,be){return F(U,"parentNode",be)},next:function(U){return W(U,"nextSibling")},prev:function(U){return W(U,"previousSibling")},nextAll:function(U){return F(U,"nextSibling")},prevAll:function(U){return F(U,"previousSibling")},nextUntil:function(U,he,be){return F(U,"nextSibling",be)},prevUntil:function(U,he,be){return F(U,"previousSibling",be)},siblings:function(U){return N((U.parentNode||{}).firstChild,U)},children:function(U){return N(U.firstChild)},contents:function(U){return U.contentDocument!=null&&c(U.contentDocument)?U.contentDocument:(M(U,"template")&&(U=U.content||U),C.merge([],U.childNodes))}},function(U,he){C.fn[U]=function(be,Se){var Fe=C.map(this,he,be);return U.slice(-5)!=="Until"&&(Se=be),Se&&typeof Se=="string"&&(Fe=C.filter(Se,Fe)),this.length>1&&(J[U]||C.uniqueSort(Fe),j.test(U)&&Fe.reverse()),this.pushStack(Fe)}});var re=/[^\x20\t\r\n\f]+/g;function ue(U){var he={};return C.each(U.match(re)||[],function(be,Se){he[Se]=!0}),he}C.Callbacks=function(U){U=typeof U=="string"?ue(U):C.extend({},U);var he,be,Se,Fe,je=[],He=[],Ct=-1,vt=function(){for(Fe=Fe||U.once,Se=he=!0;He.length;Ct=-1)for(be=He.shift();++Ct<je.length;)je[Ct].apply(be[0],be[1])===!1&&U.stopOnFalse&&(Ct=je.length,be=!1);U.memory||(be=!1),he=!1,Fe&&(be?je=[]:je="")},Gt={add:function(){return je&&(be&&!he&&(Ct=je.length-1,He.push(be)),function ii(fi){C.each(fi,function(Kt,ei){O(ei)?(!U.unique||!Gt.has(ei))&&je.push(ei):ei&&ei.length&&G(ei)!=="string"&&ii(ei)})}(arguments),be&&!he&&vt()),this},remove:function(){return C.each(arguments,function(ii,fi){for(var Kt;(Kt=C.inArray(fi,je,Kt))>-1;)je.splice(Kt,1),Kt<=Ct&&Ct--}),this},has:function(ii){return ii?C.inArray(ii,je)>-1:je.length>0},empty:function(){return je&&(je=[]),this},disable:function(){return Fe=He=[],je=be="",this},disabled:function(){return!je},lock:function(){return Fe=He=[],!be&&!he&&(je=be=""),this},locked:function(){return!!Fe},fireWith:function(ii,fi){return Fe||(fi=fi||[],fi=[ii,fi.slice?fi.slice():fi],He.push(fi),he||vt()),this},fire:function(){return Gt.fireWith(this,arguments),this},fired:function(){return!!Se}};return Gt};function ve(U){return U}function q(U){throw U}function se(U,he,be,Se){var Fe;try{U&&O(Fe=U.promise)?Fe.call(U).done(he).fail(be):U&&O(Fe=U.then)?Fe.call(U,he,be):he.apply(void 0,[U].slice(Se))}catch(je){be.apply(void 0,[je])}}C.extend({Deferred:function(U){var he=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],be="pending",Se={state:function(){return be},always:function(){return Fe.done(arguments).fail(arguments),this},catch:function(je){return Se.then(null,je)},pipe:function(){var je=arguments;return C.Deferred(function(He){C.each(he,function(Ct,vt){var Gt=O(je[vt[4]])&&je[vt[4]];Fe[vt[1]](function(){var ii=Gt&&Gt.apply(this,arguments);ii&&O(ii.promise)?ii.promise().progress(He.notify).done(He.resolve).fail(He.reject):He[vt[0]+"With"](this,Gt?[ii]:arguments)})}),je=null}).promise()},then:function(je,He,Ct){var vt=0;function Gt(ii,fi,Kt,ei){return function(){var Di=this,On=arguments,en=function(){var Fs,Vn;if(!(ii<vt)){if(Fs=Kt.apply(Di,On),Fs===fi.promise())throw new TypeError("Thenable self-resolution");Vn=Fs&&(typeof Fs=="object"||typeof Fs=="function")&&Fs.then,O(Vn)?ei?Vn.call(Fs,Gt(vt,fi,ve,ei),Gt(vt,fi,q,ei)):(vt++,Vn.call(Fs,Gt(vt,fi,ve,ei),Gt(vt,fi,q,ei),Gt(vt,fi,ve,fi.notifyWith))):(Kt!==ve&&(Di=void 0,On=[Fs]),(ei||fi.resolveWith)(Di,On))}},Qs=ei?en:function(){try{en()}catch(Fs){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(Fs,Qs.stackTrace),ii+1>=vt&&(Kt!==q&&(Di=void 0,On=[Fs]),fi.rejectWith(Di,On))}};ii?Qs():(C.Deferred.getStackHook&&(Qs.stackTrace=C.Deferred.getStackHook()),t.setTimeout(Qs))}}return C.Deferred(function(ii){he[0][3].add(Gt(0,ii,O(Ct)?Ct:ve,ii.notifyWith)),he[1][3].add(Gt(0,ii,O(je)?je:ve)),he[2][3].add(Gt(0,ii,O(He)?He:q))}).promise()},promise:function(je){return je!=null?C.extend(je,Se):Se}},Fe={};return C.each(he,function(je,He){var Ct=He[2],vt=He[5];Se[He[1]]=Ct.add,vt&&Ct.add(function(){be=vt},he[3-je][2].disable,he[3-je][3].disable,he[0][2].lock,he[0][3].lock),Ct.add(He[3].fire),Fe[He[0]]=function(){return Fe[He[0]+"With"](this===Fe?void 0:this,arguments),this},Fe[He[0]+"With"]=Ct.fireWith}),Se.promise(Fe),U&&U.call(Fe,Fe),Fe},when:function(U){var he=arguments.length,be=he,Se=Array(be),Fe=d.call(arguments),je=C.Deferred(),He=function(Ct){return function(vt){Se[Ct]=this,Fe[Ct]=arguments.length>1?d.call(arguments):vt,--he||je.resolveWith(Se,Fe)}};if(he<=1&&(se(U,je.done(He(be)).resolve,je.reject,!he),je.state()==="pending"||O(Fe[be]&&Fe[be].then)))return je.then();for(;be--;)se(Fe[be],He(be),je.reject);return je.promise()}});var pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(U,he){t.console&&t.console.warn&&U&&pe.test(U.name)&&t.console.warn("jQuery.Deferred exception: "+U.message,U.stack,he)},C.readyException=function(U){t.setTimeout(function(){throw U})};var xe=C.Deferred();C.fn.ready=function(U){return xe.then(U).catch(function(he){C.readyException(he)}),this},C.extend({isReady:!1,readyWait:1,ready:function(U){(U===!0?--C.readyWait:C.isReady)||(C.isReady=!0,!(U!==!0&&--C.readyWait>0)&&xe.resolveWith(A,[C]))}}),C.ready.then=xe.then;function Pe(){A.removeEventListener("DOMContentLoaded",Pe),t.removeEventListener("load",Pe),C.ready()}A.readyState==="complete"||A.readyState!=="loading"&&!A.documentElement.doScroll?t.setTimeout(C.ready):(A.addEventListener("DOMContentLoaded",Pe),t.addEventListener("load",Pe));var ce=function(U,he,be,Se,Fe,je,He){var Ct=0,vt=U.length,Gt=be==null;if(G(be)==="object"){Fe=!0;for(Ct in be)ce(U,he,Ct,be[Ct],!0,je,He)}else if(Se!==void 0&&(Fe=!0,O(Se)||(He=!0),Gt&&(He?(he.call(U,Se),he=null):(Gt=he,he=function(ii,fi,Kt){return Gt.call(C(ii),Kt)})),he))for(;Ct<vt;Ct++)he(U[Ct],be,He?Se:Se.call(U[Ct],Ct,he(U[Ct],be)));return Fe?U:Gt?he.call(U):vt?he(U[0],be):je},ye=/^-ms-/,_e=/-([a-z])/g;function le(U,he){return he.toUpperCase()}function Z(U){return U.replace(ye,"ms-").replace(_e,le)}var me=function(U){return U.nodeType===1||U.nodeType===9||!+U.nodeType};function Me(){this.expando=C.expando+Me.uid++}Me.uid=1,Me.prototype={cache:function(U){var he=U[this.expando];return he||(he={},me(U)&&(U.nodeType?U[this.expando]=he:Object.defineProperty(U,this.expando,{value:he,configurable:!0}))),he},set:function(U,he,be){var Se,Fe=this.cache(U);if(typeof he=="string")Fe[Z(he)]=be;else for(Se in he)Fe[Z(Se)]=he[Se];return Fe},get:function(U,he){return he===void 0?this.cache(U):U[this.expando]&&U[this.expando][Z(he)]},access:function(U,he,be){return he===void 0||he&&typeof he=="string"&&be===void 0?this.get(U,he):(this.set(U,he,be),be!==void 0?be:he)},remove:function(U,he){var be,Se=U[this.expando];if(Se!==void 0){if(he!==void 0)for(Array.isArray(he)?he=he.map(Z):(he=Z(he),he=he in Se?[he]:he.match(re)||[]),be=he.length;be--;)delete Se[he[be]];(he===void 0||C.isEmptyObject(Se))&&(U.nodeType?U[this.expando]=void 0:delete U[this.expando])}},hasData:function(U){var he=U[this.expando];return he!==void 0&&!C.isEmptyObject(he)}};var Ee=new Me,ze=new Me,Qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ke=/[A-Z]/g;function ct(U){return U==="true"?!0:U==="false"?!1:U==="null"?null:U===+U+""?+U:Qe.test(U)?JSON.parse(U):U}function Ie(U,he,be){var Se;if(be===void 0&&U.nodeType===1)if(Se="data-"+he.replace(Ke,"-$&").toLowerCase(),be=U.getAttribute(Se),typeof be=="string"){try{be=ct(be)}catch{}ze.set(U,he,be)}else be=void 0;return be}C.extend({hasData:function(U){return ze.hasData(U)||Ee.hasData(U)},data:function(U,he,be){return ze.access(U,he,be)},removeData:function(U,he){ze.remove(U,he)},_data:function(U,he,be){return Ee.access(U,he,be)},_removeData:function(U,he){Ee.remove(U,he)}}),C.fn.extend({data:function(U,he){var be,Se,Fe,je=this[0],He=je&&je.attributes;if(U===void 0){if(this.length&&(Fe=ze.get(je),je.nodeType===1&&!Ee.get(je,"hasDataAttrs"))){for(be=He.length;be--;)He[be]&&(Se=He[be].name,Se.indexOf("data-")===0&&(Se=Z(Se.slice(5)),Ie(je,Se,Fe[Se])));Ee.set(je,"hasDataAttrs",!0)}return Fe}return typeof U=="object"?this.each(function(){ze.set(this,U)}):ce(this,function(Ct){var vt;if(je&&Ct===void 0)return vt=ze.get(je,U),vt!==void 0||(vt=Ie(je,U),vt!==void 0)?vt:void 0;this.each(function(){ze.set(this,U,Ct)})},null,he,arguments.length>1,null,!0)},removeData:function(U){return this.each(function(){ze.remove(this,U)})}}),C.extend({queue:function(U,he,be){var Se;if(U)return he=(he||"fx")+"queue",Se=Ee.get(U,he),be&&(!Se||Array.isArray(be)?Se=Ee.access(U,he,C.makeArray(be)):Se.push(be)),Se||[]},dequeue:function(U,he){he=he||"fx";var be=C.queue(U,he),Se=be.length,Fe=be.shift(),je=C._queueHooks(U,he),He=function(){C.dequeue(U,he)};Fe==="inprogress"&&(Fe=be.shift(),Se--),Fe&&(he==="fx"&&be.unshift("inprogress"),delete je.stop,Fe.call(U,He,je)),!Se&&je&&je.empty.fire()},_queueHooks:function(U,he){var be=he+"queueHooks";return Ee.get(U,be)||Ee.access(U,be,{empty:C.Callbacks("once memory").add(function(){Ee.remove(U,[he+"queue",be])})})}}),C.fn.extend({queue:function(U,he){var be=2;return typeof U!="string"&&(he=U,U="fx",be--),arguments.length<be?C.queue(this[0],U):he===void 0?this:this.each(function(){var Se=C.queue(this,U,he);C._queueHooks(this,U),U==="fx"&&Se[0]!=="inprogress"&&C.dequeue(this,U)})},dequeue:function(U){return this.each(function(){C.dequeue(this,U)})},clearQueue:function(U){return this.queue(U||"fx",[])},promise:function(U,he){var be,Se=1,Fe=C.Deferred(),je=this,He=this.length,Ct=function(){--Se||Fe.resolveWith(je,[je])};for(typeof U!="string"&&(he=U,U=void 0),U=U||"fx";He--;)be=Ee.get(je[He],U+"queueHooks"),be&&be.empty&&(Se++,be.empty.add(Ct));return Ct(),Fe.promise(he)}});var Be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+Be+")([a-z%]*)$","i"),We=["Top","Right","Bottom","Left"],st=A.documentElement,wt=function(U){return C.contains(U.ownerDocument,U)},Ut={composed:!0};st.getRootNode&&(wt=function(U){return C.contains(U.ownerDocument,U)||U.getRootNode(Ut)===U.ownerDocument});var Vt=function(U,he){return U=he||U,U.style.display==="none"||U.style.display===""&&wt(U)&&C.css(U,"display")==="none"};function yi(U,he,be,Se){var Fe,je,He=20,Ct=Se?function(){return Se.cur()}:function(){return C.css(U,he,"")},vt=Ct(),Gt=be&&be[3]||(C.cssNumber[he]?"":"px"),ii=U.nodeType&&(C.cssNumber[he]||Gt!=="px"&&+vt)&&Ue.exec(C.css(U,he));if(ii&&ii[3]!==Gt){for(vt=vt/2,Gt=Gt||ii[3],ii=+vt||1;He--;)C.style(U,he,ii+Gt),(1-je)*(1-(je=Ct()/vt||.5))<=0&&(He=0),ii=ii/je;ii=ii*2,C.style(U,he,ii+Gt),be=be||[]}return be&&(ii=+ii||+vt||0,Fe=be[1]?ii+(be[1]+1)*be[2]:+be[2],Se&&(Se.unit=Gt,Se.start=ii,Se.end=Fe)),Fe}var si={};function Ai(U){var he,be=U.ownerDocument,Se=U.nodeName,Fe=si[Se];return Fe||(he=be.body.appendChild(be.createElement(Se)),Fe=C.css(he,"display"),he.parentNode.removeChild(he),Fe==="none"&&(Fe="block"),si[Se]=Fe,Fe)}function $i(U,he){for(var be,Se,Fe=[],je=0,He=U.length;je<He;je++)Se=U[je],Se.style&&(be=Se.style.display,he?(be==="none"&&(Fe[je]=Ee.get(Se,"display")||null,Fe[je]||(Se.style.display="")),Se.style.display===""&&Vt(Se)&&(Fe[je]=Ai(Se))):be!=="none"&&(Fe[je]="none",Ee.set(Se,"display",be)));for(je=0;je<He;je++)Fe[je]!=null&&(U[je].style.display=Fe[je]);return U}C.fn.extend({show:function(){return $i(this,!0)},hide:function(){return $i(this)},toggle:function(U){return typeof U=="boolean"?U?this.show():this.hide():this.each(function(){Vt(this)?C(this).show():C(this).hide()})}});var Fi=/^(?:checkbox|radio)$/i,Zi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ri=/^$|^module$|\/(?:java|ecma)script/i;(function(){var U=A.createDocumentFragment(),he=U.appendChild(A.createElement("div")),be=A.createElement("input");be.setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),he.appendChild(be),I.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",I.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue,he.innerHTML="<option></option>",I.option=!!he.lastChild})();var yn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};yn.tbody=yn.tfoot=yn.colgroup=yn.caption=yn.thead,yn.th=yn.td,I.option||(yn.optgroup=yn.option=[1,"<select multiple='multiple'>","</select>"]);function Tn(U,he){var be;return typeof U.getElementsByTagName<"u"?be=U.getElementsByTagName(he||"*"):typeof U.querySelectorAll<"u"?be=U.querySelectorAll(he||"*"):be=[],he===void 0||he&&M(U,he)?C.merge([U],be):be}function Yn(U,he){for(var be=0,Se=U.length;be<Se;be++)Ee.set(U[be],"globalEval",!he||Ee.get(he[be],"globalEval"))}var Tr=/<|&#?\w+;/;function ps(U,he,be,Se,Fe){for(var je,He,Ct,vt,Gt,ii,fi=he.createDocumentFragment(),Kt=[],ei=0,Di=U.length;ei<Di;ei++)if(je=U[ei],je||je===0)if(G(je)==="object")C.merge(Kt,je.nodeType?[je]:je);else if(!Tr.test(je))Kt.push(he.createTextNode(je));else{for(He=He||fi.appendChild(he.createElement("div")),Ct=(Zi.exec(je)||["",""])[1].toLowerCase(),vt=yn[Ct]||yn._default,He.innerHTML=vt[1]+C.htmlPrefilter(je)+vt[2],ii=vt[0];ii--;)He=He.lastChild;C.merge(Kt,He.childNodes),He=fi.firstChild,He.textContent=""}for(fi.textContent="",ei=0;je=Kt[ei++];){if(Se&&C.inArray(je,Se)>-1){Fe&&Fe.push(je);continue}if(Gt=wt(je),He=Tn(fi.appendChild(je),"script"),Gt&&Yn(He),be)for(ii=0;je=He[ii++];)Ri.test(je.type||"")&&be.push(je)}return fi}var Ds=/^([^.]*)(?:\.(.+)|)/;function Is(){return!0}function ja(){return!1}function mc(U,he){return U===Pl()==(he==="focus")}function Pl(){try{return A.activeElement}catch{}}function il(U,he,be,Se,Fe,je){var He,Ct;if(typeof he=="object"){typeof be!="string"&&(Se=Se||be,be=void 0);for(Ct in he)il(U,Ct,be,Se,he[Ct],je);return U}if(Se==null&&Fe==null?(Fe=be,Se=be=void 0):Fe==null&&(typeof be=="string"?(Fe=Se,Se=void 0):(Fe=Se,Se=be,be=void 0)),Fe===!1)Fe=ja;else if(!Fe)return U;return je===1&&(He=Fe,Fe=function(vt){return C().off(vt),He.apply(this,arguments)},Fe.guid=He.guid||(He.guid=C.guid++)),U.each(function(){C.event.add(this,he,Fe,Se,be)})}C.event={global:{},add:function(U,he,be,Se,Fe){var je,He,Ct,vt,Gt,ii,fi,Kt,ei,Di,On,en=Ee.get(U);if(me(U))for(be.handler&&(je=be,be=je.handler,Fe=je.selector),Fe&&C.find.matchesSelector(st,Fe),be.guid||(be.guid=C.guid++),(vt=en.events)||(vt=en.events=Object.create(null)),(He=en.handle)||(He=en.handle=function(Qs){return typeof C<"u"&&C.event.triggered!==Qs.type?C.event.dispatch.apply(U,arguments):void 0}),he=(he||"").match(re)||[""],Gt=he.length;Gt--;)Ct=Ds.exec(he[Gt])||[],ei=On=Ct[1],Di=(Ct[2]||"").split(".").sort(),ei&&(fi=C.event.special[ei]||{},ei=(Fe?fi.delegateType:fi.bindType)||ei,fi=C.event.special[ei]||{},ii=C.extend({type:ei,origType:On,data:Se,handler:be,guid:be.guid,selector:Fe,needsContext:Fe&&C.expr.match.needsContext.test(Fe),namespace:Di.join(".")},je),(Kt=vt[ei])||(Kt=vt[ei]=[],Kt.delegateCount=0,(!fi.setup||fi.setup.call(U,Se,Di,He)===!1)&&U.addEventListener&&U.addEventListener(ei,He)),fi.add&&(fi.add.call(U,ii),ii.handler.guid||(ii.handler.guid=be.guid)),Fe?Kt.splice(Kt.delegateCount++,0,ii):Kt.push(ii),C.event.global[ei]=!0)},remove:function(U,he,be,Se,Fe){var je,He,Ct,vt,Gt,ii,fi,Kt,ei,Di,On,en=Ee.hasData(U)&&Ee.get(U);if(!(!en||!(vt=en.events))){for(he=(he||"").match(re)||[""],Gt=he.length;Gt--;){if(Ct=Ds.exec(he[Gt])||[],ei=On=Ct[1],Di=(Ct[2]||"").split(".").sort(),!ei){for(ei in vt)C.event.remove(U,ei+he[Gt],be,Se,!0);continue}for(fi=C.event.special[ei]||{},ei=(Se?fi.delegateType:fi.bindType)||ei,Kt=vt[ei]||[],Ct=Ct[2]&&new RegExp("(^|\\.)"+Di.join("\\.(?:.*\\.|)")+"(\\.|$)"),He=je=Kt.length;je--;)ii=Kt[je],(Fe||On===ii.origType)&&(!be||be.guid===ii.guid)&&(!Ct||Ct.test(ii.namespace))&&(!Se||Se===ii.selector||Se==="**"&&ii.selector)&&(Kt.splice(je,1),ii.selector&&Kt.delegateCount--,fi.remove&&fi.remove.call(U,ii));He&&!Kt.length&&((!fi.teardown||fi.teardown.call(U,Di,en.handle)===!1)&&C.removeEvent(U,ei,en.handle),delete vt[ei])}C.isEmptyObject(vt)&&Ee.remove(U,"handle events")}},dispatch:function(U){var he,be,Se,Fe,je,He,Ct=new Array(arguments.length),vt=C.event.fix(U),Gt=(Ee.get(this,"events")||Object.create(null))[vt.type]||[],ii=C.event.special[vt.type]||{};for(Ct[0]=vt,he=1;he<arguments.length;he++)Ct[he]=arguments[he];if(vt.delegateTarget=this,!(ii.preDispatch&&ii.preDispatch.call(this,vt)===!1)){for(He=C.event.handlers.call(this,vt,Gt),he=0;(Fe=He[he++])&&!vt.isPropagationStopped();)for(vt.currentTarget=Fe.elem,be=0;(je=Fe.handlers[be++])&&!vt.isImmediatePropagationStopped();)(!vt.rnamespace||je.namespace===!1||vt.rnamespace.test(je.namespace))&&(vt.handleObj=je,vt.data=je.data,Se=((C.event.special[je.origType]||{}).handle||je.handler).apply(Fe.elem,Ct),Se!==void 0&&(vt.result=Se)===!1&&(vt.preventDefault(),vt.stopPropagation()));return ii.postDispatch&&ii.postDispatch.call(this,vt),vt.result}},handlers:function(U,he){var be,Se,Fe,je,He,Ct=[],vt=he.delegateCount,Gt=U.target;if(vt&&Gt.nodeType&&!(U.type==="click"&&U.button>=1)){for(;Gt!==this;Gt=Gt.parentNode||this)if(Gt.nodeType===1&&!(U.type==="click"&&Gt.disabled===!0)){for(je=[],He={},be=0;be<vt;be++)Se=he[be],Fe=Se.selector+" ",He[Fe]===void 0&&(He[Fe]=Se.needsContext?C(Fe,this).index(Gt)>-1:C.find(Fe,this,null,[Gt]).length),He[Fe]&&je.push(Se);je.length&&Ct.push({elem:Gt,handlers:je})}}return Gt=this,vt<he.length&&Ct.push({elem:Gt,handlers:he.slice(vt)}),Ct},addProp:function(U,he){Object.defineProperty(C.Event.prototype,U,{enumerable:!0,configurable:!0,get:O(he)?function(){if(this.originalEvent)return he(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[U]},set:function(be){Object.defineProperty(this,U,{enumerable:!0,configurable:!0,writable:!0,value:be})}})},fix:function(U){return U[C.expando]?U:new C.Event(U)},special:{load:{noBubble:!0},click:{setup:function(U){var he=this||U;return Fi.test(he.type)&&he.click&&M(he,"input")&&io(he,"click",Is),!1},trigger:function(U){var he=this||U;return Fi.test(he.type)&&he.click&&M(he,"input")&&io(he,"click"),!0},_default:function(U){var he=U.target;return Fi.test(he.type)&&he.click&&M(he,"input")&&Ee.get(he,"click")||M(he,"a")}},beforeunload:{postDispatch:function(U){U.result!==void 0&&U.originalEvent&&(U.originalEvent.returnValue=U.result)}}}};function io(U,he,be){if(!be){Ee.get(U,he)===void 0&&C.event.add(U,he,Is);return}Ee.set(U,he,!1),C.event.add(U,he,{namespace:!1,handler:function(Se){var Fe,je,He=Ee.get(this,he);if(Se.isTrigger&1&&this[he]){if(He.length)(C.event.special[he]||{}).delegateType&&Se.stopPropagation();else if(He=d.call(arguments),Ee.set(this,he,He),Fe=be(this,he),this[he](),je=Ee.get(this,he),He!==je||Fe?Ee.set(this,he,!1):je={},He!==je)return Se.stopImmediatePropagation(),Se.preventDefault(),je&&je.value}else He.length&&(Ee.set(this,he,{value:C.event.trigger(C.extend(He[0],C.Event.prototype),He.slice(1),this)}),Se.stopImmediatePropagation())}})}C.removeEvent=function(U,he,be){U.removeEventListener&&U.removeEventListener(he,be)},C.Event=function(U,he){if(!(this instanceof C.Event))return new C.Event(U,he);U&&U.type?(this.originalEvent=U,this.type=U.type,this.isDefaultPrevented=U.defaultPrevented||U.defaultPrevented===void 0&&U.returnValue===!1?Is:ja,this.target=U.target&&U.target.nodeType===3?U.target.parentNode:U.target,this.currentTarget=U.currentTarget,this.relatedTarget=U.relatedTarget):this.type=U,he&&C.extend(this,he),this.timeStamp=U&&U.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:ja,isPropagationStopped:ja,isImmediatePropagationStopped:ja,isSimulated:!1,preventDefault:function(){var U=this.originalEvent;this.isDefaultPrevented=Is,U&&!this.isSimulated&&U.preventDefault()},stopPropagation:function(){var U=this.originalEvent;this.isPropagationStopped=Is,U&&!this.isSimulated&&U.stopPropagation()},stopImmediatePropagation:function(){var U=this.originalEvent;this.isImmediatePropagationStopped=Is,U&&!this.isSimulated&&U.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(U,he){C.event.special[U]={setup:function(){return io(this,U,mc),!1},trigger:function(){return io(this,U),!0},_default:function(be){return Ee.get(be.target,U)},delegateType:he}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(U,he){C.event.special[U]={delegateType:he,bindType:he,handle:function(be){var Se,Fe=this,je=be.relatedTarget,He=be.handleObj;return(!je||je!==Fe&&!C.contains(Fe,je))&&(be.type=He.origType,Se=He.handler.apply(this,arguments),be.type=he),Se}}}),C.fn.extend({on:function(U,he,be,Se){return il(this,U,he,be,Se)},one:function(U,he,be,Se){return il(this,U,he,be,Se,1)},off:function(U,he,be){var Se,Fe;if(U&&U.preventDefault&&U.handleObj)return Se=U.handleObj,C(U.delegateTarget).off(Se.namespace?Se.origType+"."+Se.namespace:Se.origType,Se.selector,Se.handler),this;if(typeof U=="object"){for(Fe in U)this.off(Fe,he,U[Fe]);return this}return(he===!1||typeof he=="function")&&(be=he,he=void 0),be===!1&&(be=ja),this.each(function(){C.event.remove(this,U,be,he)})}});var nl=/<script|<style|<link/i,qc=/checked\s*(?:[^=]|=\s*.checked.)/i,lt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Oe(U,he){return M(U,"table")&&M(he.nodeType!==11?he:he.firstChild,"tr")&&C(U).children("tbody")[0]||U}function Ve(U){return U.type=(U.getAttribute("type")!==null)+"/"+U.type,U}function ot(U){return(U.type||"").slice(0,5)==="true/"?U.type=U.type.slice(5):U.removeAttribute("type"),U}function pt(U,he){var be,Se,Fe,je,He,Ct,vt;if(he.nodeType===1){if(Ee.hasData(U)&&(je=Ee.get(U),vt=je.events,vt)){Ee.remove(he,"handle events");for(Fe in vt)for(be=0,Se=vt[Fe].length;be<Se;be++)C.event.add(he,Fe,vt[Fe][be])}ze.hasData(U)&&(He=ze.access(U),Ct=C.extend({},He),ze.set(he,Ct))}}function Et(U,he){var be=he.nodeName.toLowerCase();be==="input"&&Fi.test(U.type)?he.checked=U.checked:(be==="input"||be==="textarea")&&(he.defaultValue=U.defaultValue)}function Ot(U,he,be,Se){he=m(he);var Fe,je,He,Ct,vt,Gt,ii=0,fi=U.length,Kt=fi-1,ei=he[0],Di=O(ei);if(Di||fi>1&&typeof ei=="string"&&!I.checkClone&&qc.test(ei))return U.each(function(On){var en=U.eq(On);Di&&(he[0]=ei.call(this,On,en.html())),Ot(en,he,be,Se)});if(fi&&(Fe=ps(he,U[0].ownerDocument,!1,U,Se),je=Fe.firstChild,Fe.childNodes.length===1&&(Fe=je),je||Se)){for(He=C.map(Tn(Fe,"script"),Ve),Ct=He.length;ii<fi;ii++)vt=Fe,ii!==Kt&&(vt=C.clone(vt,!0,!0),Ct&&C.merge(He,Tn(vt,"script"))),be.call(U[ii],vt,ii);if(Ct)for(Gt=He[He.length-1].ownerDocument,C.map(He,ot),ii=0;ii<Ct;ii++)vt=He[ii],Ri.test(vt.type||"")&&!Ee.access(vt,"globalEval")&&C.contains(Gt,vt)&&(vt.src&&(vt.type||"").toLowerCase()!=="module"?C._evalUrl&&!vt.noModule&&C._evalUrl(vt.src,{nonce:vt.nonce||vt.getAttribute("nonce")},Gt):P(vt.textContent.replace(lt,""),vt,Gt))}return U}function Bt(U,he,be){for(var Se,Fe=he?C.filter(he,U):U,je=0;(Se=Fe[je])!=null;je++)!be&&Se.nodeType===1&&C.cleanData(Tn(Se)),Se.parentNode&&(be&&wt(Se)&&Yn(Tn(Se,"script")),Se.parentNode.removeChild(Se));return U}C.extend({htmlPrefilter:function(U){return U},clone:function(U,he,be){var Se,Fe,je,He,Ct=U.cloneNode(!0),vt=wt(U);if(!I.noCloneChecked&&(U.nodeType===1||U.nodeType===11)&&!C.isXMLDoc(U))for(He=Tn(Ct),je=Tn(U),Se=0,Fe=je.length;Se<Fe;Se++)Et(je[Se],He[Se]);if(he)if(be)for(je=je||Tn(U),He=He||Tn(Ct),Se=0,Fe=je.length;Se<Fe;Se++)pt(je[Se],He[Se]);else pt(U,Ct);return He=Tn(Ct,"script"),He.length>0&&Yn(He,!vt&&Tn(U,"script")),Ct},cleanData:function(U){for(var he,be,Se,Fe=C.event.special,je=0;(be=U[je])!==void 0;je++)if(me(be)){if(he=be[Ee.expando]){if(he.events)for(Se in he.events)Fe[Se]?C.event.remove(be,Se):C.removeEvent(be,Se,he.handle);be[Ee.expando]=void 0}be[ze.expando]&&(be[ze.expando]=void 0)}}}),C.fn.extend({detach:function(U){return Bt(this,U,!0)},remove:function(U){return Bt(this,U)},text:function(U){return ce(this,function(he){return he===void 0?C.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=he)})},null,U,arguments.length)},append:function(){return Ot(this,arguments,function(U){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var he=Oe(this,U);he.appendChild(U)}})},prepend:function(){return Ot(this,arguments,function(U){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var he=Oe(this,U);he.insertBefore(U,he.firstChild)}})},before:function(){return Ot(this,arguments,function(U){this.parentNode&&this.parentNode.insertBefore(U,this)})},after:function(){return Ot(this,arguments,function(U){this.parentNode&&this.parentNode.insertBefore(U,this.nextSibling)})},empty:function(){for(var U,he=0;(U=this[he])!=null;he++)U.nodeType===1&&(C.cleanData(Tn(U,!1)),U.textContent="");return this},clone:function(U,he){return U=U??!1,he=he??U,this.map(function(){return C.clone(this,U,he)})},html:function(U){return ce(this,function(he){var be=this[0]||{},Se=0,Fe=this.length;if(he===void 0&&be.nodeType===1)return be.innerHTML;if(typeof he=="string"&&!nl.test(he)&&!yn[(Zi.exec(he)||["",""])[1].toLowerCase()]){he=C.htmlPrefilter(he);try{for(;Se<Fe;Se++)be=this[Se]||{},be.nodeType===1&&(C.cleanData(Tn(be,!1)),be.innerHTML=he);be=0}catch{}}be&&this.empty().append(he)},null,U,arguments.length)},replaceWith:function(){var U=[];return Ot(this,arguments,function(he){var be=this.parentNode;C.inArray(this,U)<0&&(C.cleanData(Tn(this)),be&&be.replaceChild(he,this))},U)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(U,he){C.fn[U]=function(be){for(var Se,Fe=[],je=C(be),He=je.length-1,Ct=0;Ct<=He;Ct++)Se=Ct===He?this:this.clone(!0),C(je[Ct])[he](Se),n.apply(Fe,Se.get());return this.pushStack(Fe)}});var Mt=new RegExp("^("+Be+")(?!px)[a-z%]+$","i"),jt=/^--/,li=function(U){var he=U.ownerDocument.defaultView;return(!he||!he.opener)&&(he=t),he.getComputedStyle(U)},Bi=function(U,he,be){var Se,Fe,je={};for(Fe in he)je[Fe]=U.style[Fe],U.style[Fe]=he[Fe];Se=be.call(U);for(Fe in he)U.style[Fe]=je[Fe];return Se},_i=new RegExp(We.join("|"),"i"),on="[\\x20\\t\\r\\n\\f]",sn=new RegExp("^"+on+"+|((?:^|[^\\\\])(?:\\\\.)*)"+on+"+$","g");(function(){function U(){if(Gt){vt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Gt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(vt).appendChild(Gt);var ii=t.getComputedStyle(Gt);be=ii.top!=="1%",Ct=he(ii.marginLeft)===12,Gt.style.right="60%",je=he(ii.right)===36,Se=he(ii.width)===36,Gt.style.position="absolute",Fe=he(Gt.offsetWidth/3)===12,st.removeChild(vt),Gt=null}}function he(ii){return Math.round(parseFloat(ii))}var be,Se,Fe,je,He,Ct,vt=A.createElement("div"),Gt=A.createElement("div");Gt.style&&(Gt.style.backgroundClip="content-box",Gt.cloneNode(!0).style.backgroundClip="",I.clearCloneStyle=Gt.style.backgroundClip==="content-box",C.extend(I,{boxSizingReliable:function(){return U(),Se},pixelBoxStyles:function(){return U(),je},pixelPosition:function(){return U(),be},reliableMarginLeft:function(){return U(),Ct},scrollboxSize:function(){return U(),Fe},reliableTrDimensions:function(){var ii,fi,Kt,ei;return He==null&&(ii=A.createElement("table"),fi=A.createElement("tr"),Kt=A.createElement("div"),ii.style.cssText="position:absolute;left:-11111px;border-collapse:separate",fi.style.cssText="border:1px solid",fi.style.height="1px",Kt.style.height="9px",Kt.style.display="block",st.appendChild(ii).appendChild(fi).appendChild(Kt),ei=t.getComputedStyle(fi),He=parseInt(ei.height,10)+parseInt(ei.borderTopWidth,10)+parseInt(ei.borderBottomWidth,10)===fi.offsetHeight,st.removeChild(ii)),He}}))})();function qi(U,he,be){var Se,Fe,je,He,Ct=jt.test(he),vt=U.style;return be=be||li(U),be&&(He=be.getPropertyValue(he)||be[he],Ct&&He&&(He=He.replace(sn,"$1")||void 0),He===""&&!wt(U)&&(He=C.style(U,he)),!I.pixelBoxStyles()&&Mt.test(He)&&_i.test(he)&&(Se=vt.width,Fe=vt.minWidth,je=vt.maxWidth,vt.minWidth=vt.maxWidth=vt.width=He,He=be.width,vt.width=Se,vt.minWidth=Fe,vt.maxWidth=je)),He!==void 0?He+"":He}function dn(U,he){return{get:function(){if(U()){delete this.get;return}return(this.get=he).apply(this,arguments)}}}var Fn=["Webkit","Moz","ms"],is=A.createElement("div").style,Qi={};function Ss(U){for(var he=U[0].toUpperCase()+U.slice(1),be=Fn.length;be--;)if(U=Fn[be]+he,U in is)return U}function cs(U){var he=C.cssProps[U]||Qi[U];return he||(U in is?U:Qi[U]=Ss(U)||U)}var ya=/^(none|table(?!-c[ea]).+)/,sl={position:"absolute",visibility:"hidden",display:"block"},To={letterSpacing:"0",fontWeight:"400"};function ni(U,he,be){var Se=Ue.exec(he);return Se?Math.max(0,Se[2]-(be||0))+(Se[3]||"px"):he}function Go(U,he,be,Se,Fe,je){var He=he==="width"?1:0,Ct=0,vt=0;if(be===(Se?"border":"content"))return 0;for(;He<4;He+=2)be==="margin"&&(vt+=C.css(U,be+We[He],!0,Fe)),Se?(be==="content"&&(vt-=C.css(U,"padding"+We[He],!0,Fe)),be!=="margin"&&(vt-=C.css(U,"border"+We[He]+"Width",!0,Fe))):(vt+=C.css(U,"padding"+We[He],!0,Fe),be!=="padding"?vt+=C.css(U,"border"+We[He]+"Width",!0,Fe):Ct+=C.css(U,"border"+We[He]+"Width",!0,Fe));return!Se&&je>=0&&(vt+=Math.max(0,Math.ceil(U["offset"+he[0].toUpperCase()+he.slice(1)]-je-vt-Ct-.5))||0),vt}function ar(U,he,be){var Se=li(U),Fe=!I.boxSizingReliable()||be,je=Fe&&C.css(U,"boxSizing",!1,Se)==="border-box",He=je,Ct=qi(U,he,Se),vt="offset"+he[0].toUpperCase()+he.slice(1);if(Mt.test(Ct)){if(!be)return Ct;Ct="auto"}return(!I.boxSizingReliable()&&je||!I.reliableTrDimensions()&&M(U,"tr")||Ct==="auto"||!parseFloat(Ct)&&C.css(U,"display",!1,Se)==="inline")&&U.getClientRects().length&&(je=C.css(U,"boxSizing",!1,Se)==="border-box",He=vt in U,He&&(Ct=U[vt])),Ct=parseFloat(Ct)||0,Ct+Go(U,he,be||(je?"border":"content"),He,Se,Ct)+"px"}C.extend({cssHooks:{opacity:{get:function(U,he){if(he){var be=qi(U,"opacity");return be===""?"1":be}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(U,he,be,Se){if(!(!U||U.nodeType===3||U.nodeType===8||!U.style)){var Fe,je,He,Ct=Z(he),vt=jt.test(he),Gt=U.style;if(vt||(he=cs(Ct)),He=C.cssHooks[he]||C.cssHooks[Ct],be!==void 0){if(je=typeof be,je==="string"&&(Fe=Ue.exec(be))&&Fe[1]&&(be=yi(U,he,Fe),je="number"),be==null||be!==be)return;je==="number"&&!vt&&(be+=Fe&&Fe[3]||(C.cssNumber[Ct]?"":"px")),!I.clearCloneStyle&&be===""&&he.indexOf("background")===0&&(Gt[he]="inherit"),(!He||!("set"in He)||(be=He.set(U,be,Se))!==void 0)&&(vt?Gt.setProperty(he,be):Gt[he]=be)}else return He&&"get"in He&&(Fe=He.get(U,!1,Se))!==void 0?Fe:Gt[he]}},css:function(U,he,be,Se){var Fe,je,He,Ct=Z(he),vt=jt.test(he);return vt||(he=cs(Ct)),He=C.cssHooks[he]||C.cssHooks[Ct],He&&"get"in He&&(Fe=He.get(U,!0,be)),Fe===void 0&&(Fe=qi(U,he,Se)),Fe==="normal"&&he in To&&(Fe=To[he]),be===""||be?(je=parseFloat(Fe),be===!0||isFinite(je)?je||0:Fe):Fe}}),C.each(["height","width"],function(U,he){C.cssHooks[he]={get:function(be,Se,Fe){if(Se)return ya.test(C.css(be,"display"))&&(!be.getClientRects().length||!be.getBoundingClientRect().width)?Bi(be,sl,function(){return ar(be,he,Fe)}):ar(be,he,Fe)},set:function(be,Se,Fe){var je,He=li(be),Ct=!I.scrollboxSize()&&He.position==="absolute",vt=Ct||Fe,Gt=vt&&C.css(be,"boxSizing",!1,He)==="border-box",ii=Fe?Go(be,he,Fe,Gt,He):0;return Gt&&Ct&&(ii-=Math.ceil(be["offset"+he[0].toUpperCase()+he.slice(1)]-parseFloat(He[he])-Go(be,he,"border",!1,He)-.5)),ii&&(je=Ue.exec(Se))&&(je[3]||"px")!=="px"&&(be.style[he]=Se,Se=C.css(be,he)),ni(be,Se,ii)}}}),C.cssHooks.marginLeft=dn(I.reliableMarginLeft,function(U,he){if(he)return(parseFloat(qi(U,"marginLeft"))||U.getBoundingClientRect().left-Bi(U,{marginLeft:0},function(){return U.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(U,he){C.cssHooks[U+he]={expand:function(be){for(var Se=0,Fe={},je=typeof be=="string"?be.split(" "):[be];Se<4;Se++)Fe[U+We[Se]+he]=je[Se]||je[Se-2]||je[0];return Fe}},U!=="margin"&&(C.cssHooks[U+he].set=ni)}),C.fn.extend({css:function(U,he){return ce(this,function(be,Se,Fe){var je,He,Ct={},vt=0;if(Array.isArray(Se)){for(je=li(be),He=Se.length;vt<He;vt++)Ct[Se[vt]]=C.css(be,Se[vt],!1,je);return Ct}return Fe!==void 0?C.style(be,Se,Fe):C.css(be,Se)},U,he,arguments.length>1)}});function lr(U,he,be,Se,Fe){return new lr.prototype.init(U,he,be,Se,Fe)}C.Tween=lr,lr.prototype={constructor:lr,init:function(U,he,be,Se,Fe,je){this.elem=U,this.prop=be,this.easing=Fe||C.easing._default,this.options=he,this.start=this.now=this.cur(),this.end=Se,this.unit=je||(C.cssNumber[be]?"":"px")},cur:function(){var U=lr.propHooks[this.prop];return U&&U.get?U.get(this):lr.propHooks._default.get(this)},run:function(U){var he,be=lr.propHooks[this.prop];return this.options.duration?this.pos=he=C.easing[this.easing](U,this.options.duration*U,0,1,this.options.duration):this.pos=he=U,this.now=(this.end-this.start)*he+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),be&&be.set?be.set(this):lr.propHooks._default.set(this),this}},lr.prototype.init.prototype=lr.prototype,lr.propHooks={_default:{get:function(U){var he;return U.elem.nodeType!==1||U.elem[U.prop]!=null&&U.elem.style[U.prop]==null?U.elem[U.prop]:(he=C.css(U.elem,U.prop,""),!he||he==="auto"?0:he)},set:function(U){C.fx.step[U.prop]?C.fx.step[U.prop](U):U.elem.nodeType===1&&(C.cssHooks[U.prop]||U.elem.style[cs(U.prop)]!=null)?C.style(U.elem,U.prop,U.now+U.unit):U.elem[U.prop]=U.now}}},lr.propHooks.scrollTop=lr.propHooks.scrollLeft={set:function(U){U.elem.nodeType&&U.elem.parentNode&&(U.elem[U.prop]=U.now)}},C.easing={linear:function(U){return U},swing:function(U){return .5-Math.cos(U*Math.PI)/2},_default:"swing"},C.fx=lr.prototype.init,C.fx.step={};var gc,Kr,Th=/^(?:toggle|show|hide)$/,ld=/queueHooks$/;function Or(){Kr&&(A.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Or):t.setTimeout(Or,C.fx.interval),C.fx.tick())}function Oi(){return t.setTimeout(function(){gc=void 0}),gc=Date.now()}function zn(U,he){var be,Se=0,Fe={height:U};for(he=he?1:0;Se<4;Se+=2-he)be=We[Se],Fe["margin"+be]=Fe["padding"+be]=U;return he&&(Fe.opacity=Fe.width=U),Fe}function Nn(U,he,be){for(var Se,Fe=(vn.tweeners[he]||[]).concat(vn.tweeners["*"]),je=0,He=Fe.length;je<He;je++)if(Se=Fe[je].call(be,he,U))return Se}function Vo(U,he,be){var Se,Fe,je,He,Ct,vt,Gt,ii,fi="width"in he||"height"in he,Kt=this,ei={},Di=U.style,On=U.nodeType&&Vt(U),en=Ee.get(U,"fxshow");be.queue||(He=C._queueHooks(U,"fx"),He.unqueued==null&&(He.unqueued=0,Ct=He.empty.fire,He.empty.fire=function(){He.unqueued||Ct()}),He.unqueued++,Kt.always(function(){Kt.always(function(){He.unqueued--,C.queue(U,"fx").length||He.empty.fire()})}));for(Se in he)if(Fe=he[Se],Th.test(Fe)){if(delete he[Se],je=je||Fe==="toggle",Fe===(On?"hide":"show"))if(Fe==="show"&&en&&en[Se]!==void 0)On=!0;else continue;ei[Se]=en&&en[Se]||C.style(U,Se)}if(vt=!C.isEmptyObject(he),!(!vt&&C.isEmptyObject(ei))){fi&&U.nodeType===1&&(be.overflow=[Di.overflow,Di.overflowX,Di.overflowY],Gt=en&&en.display,Gt==null&&(Gt=Ee.get(U,"display")),ii=C.css(U,"display"),ii==="none"&&(Gt?ii=Gt:($i([U],!0),Gt=U.style.display||Gt,ii=C.css(U,"display"),$i([U]))),(ii==="inline"||ii==="inline-block"&&Gt!=null)&&C.css(U,"float")==="none"&&(vt||(Kt.done(function(){Di.display=Gt}),Gt==null&&(ii=Di.display,Gt=ii==="none"?"":ii)),Di.display="inline-block")),be.overflow&&(Di.overflow="hidden",Kt.always(function(){Di.overflow=be.overflow[0],Di.overflowX=be.overflow[1],Di.overflowY=be.overflow[2]})),vt=!1;for(Se in ei)vt||(en?"hidden"in en&&(On=en.hidden):en=Ee.access(U,"fxshow",{display:Gt}),je&&(en.hidden=!On),On&&$i([U],!0),Kt.done(function(){On||$i([U]),Ee.remove(U,"fxshow");for(Se in ei)C.style(U,Se,ei[Se])})),vt=Nn(On?en[Se]:0,Se,Kt),Se in en||(en[Se]=vt.start,On&&(vt.end=vt.start,vt.start=0))}}function va(U,he){var be,Se,Fe,je,He;for(be in U)if(Se=Z(be),Fe=he[Se],je=U[be],Array.isArray(je)&&(Fe=je[1],je=U[be]=je[0]),be!==Se&&(U[Se]=je,delete U[be]),He=C.cssHooks[Se],He&&"expand"in He){je=He.expand(je),delete U[Se];for(be in je)be in U||(U[be]=je[be],he[be]=Fe)}else he[Se]=Fe}function vn(U,he,be){var Se,Fe,je=0,He=vn.prefilters.length,Ct=C.Deferred().always(function(){delete vt.elem}),vt=function(){if(Fe)return!1;for(var fi=gc||Oi(),Kt=Math.max(0,Gt.startTime+Gt.duration-fi),ei=Kt/Gt.duration||0,Di=1-ei,On=0,en=Gt.tweens.length;On<en;On++)Gt.tweens[On].run(Di);return Ct.notifyWith(U,[Gt,Di,Kt]),Di<1&&en?Kt:(en||Ct.notifyWith(U,[Gt,1,0]),Ct.resolveWith(U,[Gt]),!1)},Gt=Ct.promise({elem:U,props:C.extend({},he),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},be),originalProperties:he,originalOptions:be,startTime:gc||Oi(),duration:be.duration,tweens:[],createTween:function(fi,Kt){var ei=C.Tween(U,Gt.opts,fi,Kt,Gt.opts.specialEasing[fi]||Gt.opts.easing);return Gt.tweens.push(ei),ei},stop:function(fi){var Kt=0,ei=fi?Gt.tweens.length:0;if(Fe)return this;for(Fe=!0;Kt<ei;Kt++)Gt.tweens[Kt].run(1);return fi?(Ct.notifyWith(U,[Gt,1,0]),Ct.resolveWith(U,[Gt,fi])):Ct.rejectWith(U,[Gt,fi]),this}}),ii=Gt.props;for(va(ii,Gt.opts.specialEasing);je<He;je++)if(Se=vn.prefilters[je].call(Gt,U,ii,Gt.opts),Se)return O(Se.stop)&&(C._queueHooks(Gt.elem,Gt.opts.queue).stop=Se.stop.bind(Se)),Se;return C.map(ii,Nn,Gt),O(Gt.opts.start)&&Gt.opts.start.call(U,Gt),Gt.progress(Gt.opts.progress).done(Gt.opts.done,Gt.opts.complete).fail(Gt.opts.fail).always(Gt.opts.always),C.fx.timer(C.extend(vt,{elem:U,anim:Gt,queue:Gt.opts.queue})),Gt}C.Animation=C.extend(vn,{tweeners:{"*":[function(U,he){var be=this.createTween(U,he);return yi(be.elem,U,Ue.exec(he),be),be}]},tweener:function(U,he){O(U)?(he=U,U=["*"]):U=U.match(re);for(var be,Se=0,Fe=U.length;Se<Fe;Se++)be=U[Se],vn.tweeners[be]=vn.tweeners[be]||[],vn.tweeners[be].unshift(he)},prefilters:[Vo],prefilter:function(U,he){he?vn.prefilters.unshift(U):vn.prefilters.push(U)}}),C.speed=function(U,he,be){var Se=U&&typeof U=="object"?C.extend({},U):{complete:be||!be&&he||O(U)&&U,duration:U,easing:be&&he||he&&!O(he)&&he};return C.fx.off?Se.duration=0:typeof Se.duration!="number"&&(Se.duration in C.fx.speeds?Se.duration=C.fx.speeds[Se.duration]:Se.duration=C.fx.speeds._default),(Se.queue==null||Se.queue===!0)&&(Se.queue="fx"),Se.old=Se.complete,Se.complete=function(){O(Se.old)&&Se.old.call(this),Se.queue&&C.dequeue(this,Se.queue)},Se},C.fn.extend({fadeTo:function(U,he,be,Se){return this.filter(Vt).css("opacity",0).show().end().animate({opacity:he},U,be,Se)},animate:function(U,he,be,Se){var Fe=C.isEmptyObject(U),je=C.speed(he,be,Se),He=function(){var Ct=vn(this,C.extend({},U),je);(Fe||Ee.get(this,"finish"))&&Ct.stop(!0)};return He.finish=He,Fe||je.queue===!1?this.each(He):this.queue(je.queue,He)},stop:function(U,he,be){var Se=function(Fe){var je=Fe.stop;delete Fe.stop,je(be)};return typeof U!="string"&&(be=he,he=U,U=void 0),he&&this.queue(U||"fx",[]),this.each(function(){var Fe=!0,je=U!=null&&U+"queueHooks",He=C.timers,Ct=Ee.get(this);if(je)Ct[je]&&Ct[je].stop&&Se(Ct[je]);else for(je in Ct)Ct[je]&&Ct[je].stop&&ld.test(je)&&Se(Ct[je]);for(je=He.length;je--;)He[je].elem===this&&(U==null||He[je].queue===U)&&(He[je].anim.stop(be),Fe=!1,He.splice(je,1));(Fe||!be)&&C.dequeue(this,U)})},finish:function(U){return U!==!1&&(U=U||"fx"),this.each(function(){var he,be=Ee.get(this),Se=be[U+"queue"],Fe=be[U+"queueHooks"],je=C.timers,He=Se?Se.length:0;for(be.finish=!0,C.queue(this,U,[]),Fe&&Fe.stop&&Fe.stop.call(this,!0),he=je.length;he--;)je[he].elem===this&&je[he].queue===U&&(je[he].anim.stop(!0),je.splice(he,1));for(he=0;he<He;he++)Se[he]&&Se[he].finish&&Se[he].finish.call(this);delete be.finish})}}),C.each(["toggle","show","hide"],function(U,he){var be=C.fn[he];C.fn[he]=function(Se,Fe,je){return Se==null||typeof Se=="boolean"?be.apply(this,arguments):this.animate(zn(he,!0),Se,Fe,je)}}),C.each({slideDown:zn("show"),slideUp:zn("hide"),slideToggle:zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(U,he){C.fn[U]=function(be,Se,Fe){return this.animate(he,be,Se,Fe)}}),C.timers=[],C.fx.tick=function(){var U,he=0,be=C.timers;for(gc=Date.now();he<be.length;he++)U=be[he],!U()&&be[he]===U&&be.splice(he--,1);be.length||C.fx.stop(),gc=void 0},C.fx.timer=function(U){C.timers.push(U),C.fx.start()},C.fx.interval=13,C.fx.start=function(){Kr||(Kr=!0,Or())},C.fx.stop=function(){Kr=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(U,he){return U=C.fx&&C.fx.speeds[U]||U,he=he||"fx",this.queue(he,function(be,Se){var Fe=t.setTimeout(be,U);Se.stop=function(){t.clearTimeout(Fe)}})},function(){var U=A.createElement("input"),he=A.createElement("select"),be=he.appendChild(A.createElement("option"));U.type="checkbox",I.checkOn=U.value!=="",I.optSelected=be.selected,U=A.createElement("input"),U.value="t",U.type="radio",I.radioValue=U.value==="t"}();var _c,ra=C.expr.attrHandle;C.fn.extend({attr:function(U,he){return ce(this,C.attr,U,he,arguments.length>1)},removeAttr:function(U){return this.each(function(){C.removeAttr(this,U)})}}),C.extend({attr:function(U,he,be){var Se,Fe,je=U.nodeType;if(!(je===3||je===8||je===2)){if(typeof U.getAttribute>"u")return C.prop(U,he,be);if((je!==1||!C.isXMLDoc(U))&&(Fe=C.attrHooks[he.toLowerCase()]||(C.expr.match.bool.test(he)?_c:void 0)),be!==void 0){if(be===null){C.removeAttr(U,he);return}return Fe&&"set"in Fe&&(Se=Fe.set(U,be,he))!==void 0?Se:(U.setAttribute(he,be+""),be)}return Fe&&"get"in Fe&&(Se=Fe.get(U,he))!==null?Se:(Se=C.find.attr(U,he),Se??void 0)}},attrHooks:{type:{set:function(U,he){if(!I.radioValue&&he==="radio"&&M(U,"input")){var be=U.value;return U.setAttribute("type",he),be&&(U.value=be),he}}}},removeAttr:function(U,he){var be,Se=0,Fe=he&&he.match(re);if(Fe&&U.nodeType===1)for(;be=Fe[Se++];)U.removeAttribute(be)}}),_c={set:function(U,he,be){return he===!1?C.removeAttr(U,be):U.setAttribute(be,be),be}},C.each(C.expr.match.bool.source.match(/\w+/g),function(U,he){var be=ra[he]||C.find.attr;ra[he]=function(Se,Fe,je){var He,Ct,vt=Fe.toLowerCase();return je||(Ct=ra[vt],ra[vt]=He,He=be(Se,Fe,je)!=null?vt:null,ra[vt]=Ct),He}});var Ua=/^(?:input|select|textarea|button)$/i,Sr=/^(?:a|area)$/i;C.fn.extend({prop:function(U,he){return ce(this,C.prop,U,he,arguments.length>1)},removeProp:function(U){return this.each(function(){delete this[C.propFix[U]||U]})}}),C.extend({prop:function(U,he,be){var Se,Fe,je=U.nodeType;if(!(je===3||je===8||je===2))return(je!==1||!C.isXMLDoc(U))&&(he=C.propFix[he]||he,Fe=C.propHooks[he]),be!==void 0?Fe&&"set"in Fe&&(Se=Fe.set(U,be,he))!==void 0?Se:U[he]=be:Fe&&"get"in Fe&&(Se=Fe.get(U,he))!==null?Se:U[he]},propHooks:{tabIndex:{get:function(U){var he=C.find.attr(U,"tabindex");return he?parseInt(he,10):Ua.test(U.nodeName)||Sr.test(U.nodeName)&&U.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),I.optSelected||(C.propHooks.selected={get:function(U){var he=U.parentNode;return he&&he.parentNode&&he.parentNode.selectedIndex,null},set:function(U){var he=U.parentNode;he&&(he.selectedIndex,he.parentNode&&he.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});function xs(U){var he=U.match(re)||[];return he.join(" ")}function Vr(U){return U.getAttribute&&U.getAttribute("class")||""}function Ga(U){return Array.isArray(U)?U:typeof U=="string"?U.match(re)||[]:[]}C.fn.extend({addClass:function(U){var he,be,Se,Fe,je,He;return O(U)?this.each(function(Ct){C(this).addClass(U.call(this,Ct,Vr(this)))}):(he=Ga(U),he.length?this.each(function(){if(Se=Vr(this),be=this.nodeType===1&&" "+xs(Se)+" ",be){for(je=0;je<he.length;je++)Fe=he[je],be.indexOf(" "+Fe+" ")<0&&(be+=Fe+" ");He=xs(be),Se!==He&&this.setAttribute("class",He)}}):this)},removeClass:function(U){var he,be,Se,Fe,je,He;return O(U)?this.each(function(Ct){C(this).removeClass(U.call(this,Ct,Vr(this)))}):arguments.length?(he=Ga(U),he.length?this.each(function(){if(Se=Vr(this),be=this.nodeType===1&&" "+xs(Se)+" ",be){for(je=0;je<he.length;je++)for(Fe=he[je];be.indexOf(" "+Fe+" ")>-1;)be=be.replace(" "+Fe+" "," ");He=xs(be),Se!==He&&this.setAttribute("class",He)}}):this):this.attr("class","")},toggleClass:function(U,he){var be,Se,Fe,je,He=typeof U,Ct=He==="string"||Array.isArray(U);return O(U)?this.each(function(vt){C(this).toggleClass(U.call(this,vt,Vr(this),he),he)}):typeof he=="boolean"&&Ct?he?this.addClass(U):this.removeClass(U):(be=Ga(U),this.each(function(){if(Ct)for(je=C(this),Fe=0;Fe<be.length;Fe++)Se=be[Fe],je.hasClass(Se)?je.removeClass(Se):je.addClass(Se);else(U===void 0||He==="boolean")&&(Se=Vr(this),Se&&Ee.set(this,"__className__",Se),this.setAttribute&&this.setAttribute("class",Se||U===!1?"":Ee.get(this,"__className__")||""))}))},hasClass:function(U){var he,be,Se=0;for(he=" "+U+" ";be=this[Se++];)if(be.nodeType===1&&(" "+xs(Vr(be))+" ").indexOf(he)>-1)return!0;return!1}});var Dl=/\r/g;C.fn.extend({val:function(U){var he,be,Se,Fe=this[0];return arguments.length?(Se=O(U),this.each(function(je){var He;this.nodeType===1&&(Se?He=U.call(this,je,C(this).val()):He=U,He==null?He="":typeof He=="number"?He+="":Array.isArray(He)&&(He=C.map(He,function(Ct){return Ct==null?"":Ct+""})),he=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()],(!he||!("set"in he)||he.set(this,He,"value")===void 0)&&(this.value=He))})):Fe?(he=C.valHooks[Fe.type]||C.valHooks[Fe.nodeName.toLowerCase()],he&&"get"in he&&(be=he.get(Fe,"value"))!==void 0?be:(be=Fe.value,typeof be=="string"?be.replace(Dl,""):be??"")):void 0}}),C.extend({valHooks:{option:{get:function(U){var he=C.find.attr(U,"value");return he??xs(C.text(U))}},select:{get:function(U){var he,be,Se,Fe=U.options,je=U.selectedIndex,He=U.type==="select-one",Ct=He?null:[],vt=He?je+1:Fe.length;for(je<0?Se=vt:Se=He?je:0;Se<vt;Se++)if(be=Fe[Se],(be.selected||Se===je)&&!be.disabled&&(!be.parentNode.disabled||!M(be.parentNode,"optgroup"))){if(he=C(be).val(),He)return he;Ct.push(he)}return Ct},set:function(U,he){for(var be,Se,Fe=U.options,je=C.makeArray(he),He=Fe.length;He--;)Se=Fe[He],(Se.selected=C.inArray(C.valHooks.option.get(Se),je)>-1)&&(be=!0);return be||(U.selectedIndex=-1),je}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(U,he){if(Array.isArray(he))return U.checked=C.inArray(C(U).val(),he)>-1}},I.checkOn||(C.valHooks[this].get=function(U){return U.getAttribute("value")===null?"on":U.value})}),I.focusin="onfocusin"in t;var oa=/^(?:focusinfocus|focusoutblur)$/,Il=function(U){U.stopPropagation()};C.extend(C.event,{trigger:function(U,he,be,Se){var Fe,je,He,Ct,vt,Gt,ii,fi,Kt=[be||A],ei=z.call(U,"type")?U.type:U,Di=z.call(U,"namespace")?U.namespace.split("."):[];if(je=fi=He=be=be||A,!(be.nodeType===3||be.nodeType===8)&&!oa.test(ei+C.event.triggered)&&(ei.indexOf(".")>-1&&(Di=ei.split("."),ei=Di.shift(),Di.sort()),vt=ei.indexOf(":")<0&&"on"+ei,U=U[C.expando]?U:new C.Event(ei,typeof U=="object"&&U),U.isTrigger=Se?2:3,U.namespace=Di.join("."),U.rnamespace=U.namespace?new RegExp("(^|\\.)"+Di.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,U.result=void 0,U.target||(U.target=be),he=he==null?[U]:C.makeArray(he,[U]),ii=C.event.special[ei]||{},!(!Se&&ii.trigger&&ii.trigger.apply(be,he)===!1))){if(!Se&&!ii.noBubble&&!H(be)){for(Ct=ii.delegateType||ei,oa.test(Ct+ei)||(je=je.parentNode);je;je=je.parentNode)Kt.push(je),He=je;He===(be.ownerDocument||A)&&Kt.push(He.defaultView||He.parentWindow||t)}for(Fe=0;(je=Kt[Fe++])&&!U.isPropagationStopped();)fi=je,U.type=Fe>1?Ct:ii.bindType||ei,Gt=(Ee.get(je,"events")||Object.create(null))[U.type]&&Ee.get(je,"handle"),Gt&&Gt.apply(je,he),Gt=vt&&je[vt],Gt&&Gt.apply&&me(je)&&(U.result=Gt.apply(je,he),U.result===!1&&U.preventDefault());return U.type=ei,!Se&&!U.isDefaultPrevented()&&(!ii._default||ii._default.apply(Kt.pop(),he)===!1)&&me(be)&&vt&&O(be[ei])&&!H(be)&&(He=be[vt],He&&(be[vt]=null),C.event.triggered=ei,U.isPropagationStopped()&&fi.addEventListener(ei,Il),be[ei](),U.isPropagationStopped()&&fi.removeEventListener(ei,Il),C.event.triggered=void 0,He&&(be[vt]=He)),U.result}},simulate:function(U,he,be){var Se=C.extend(new C.Event,be,{type:U,isSimulated:!0});C.event.trigger(Se,null,he)}}),C.fn.extend({trigger:function(U,he){return this.each(function(){C.event.trigger(U,he,this)})},triggerHandler:function(U,he){var be=this[0];if(be)return C.event.trigger(U,he,be,!0)}}),I.focusin||C.each({focus:"focusin",blur:"focusout"},function(U,he){var be=function(Se){C.event.simulate(he,Se.target,C.event.fix(Se))};C.event.special[he]={setup:function(){var Se=this.ownerDocument||this.document||this,Fe=Ee.access(Se,he);Fe||Se.addEventListener(U,be,!0),Ee.access(Se,he,(Fe||0)+1)},teardown:function(){var Se=this.ownerDocument||this.document||this,Fe=Ee.access(Se,he)-1;Fe?Ee.access(Se,he,Fe):(Se.removeEventListener(U,be,!0),Ee.remove(Se,he))}}});var rl=t.location,Va={guid:Date.now()},ol=/\?/;C.parseXML=function(U){var he,be;if(!U||typeof U!="string")return null;try{he=new t.DOMParser().parseFromString(U,"text/xml")}catch{}return be=he&&he.getElementsByTagName("parsererror")[0],(!he||be)&&C.error("Invalid XML: "+(be?C.map(be.childNodes,function(Se){return Se.textContent}).join(`
`):U)),he};var Zc=/\[\]$/,Kc=/\r?\n/g,no=/^(?:submit|button|image|reset|file)$/i,ir=/^(?:input|select|textarea|keygen)/i;function Ll(U,he,be,Se){var Fe;if(Array.isArray(he))C.each(he,function(je,He){be||Zc.test(U)?Se(U,He):Ll(U+"["+(typeof He=="object"&&He!=null?je:"")+"]",He,be,Se)});else if(!be&&G(he)==="object")for(Fe in he)Ll(U+"["+Fe+"]",he[Fe],be,Se);else Se(U,he)}C.param=function(U,he){var be,Se=[],Fe=function(je,He){var Ct=O(He)?He():He;Se[Se.length]=encodeURIComponent(je)+"="+encodeURIComponent(Ct??"")};if(U==null)return"";if(Array.isArray(U)||U.jquery&&!C.isPlainObject(U))C.each(U,function(){Fe(this.name,this.value)});else for(be in U)Ll(be,U[be],he,Fe);return Se.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var U=C.prop(this,"elements");return U?C.makeArray(U):this}).filter(function(){var U=this.type;return this.name&&!C(this).is(":disabled")&&ir.test(this.nodeName)&&!no.test(U)&&(this.checked||!Fi.test(U))}).map(function(U,he){var be=C(this).val();return be==null?null:Array.isArray(be)?C.map(be,function(Se){return{name:he.name,value:Se.replace(Kc,`\r
`)}}):{name:he.name,value:be.replace(Kc,`\r
`)}}).get()}});var cd=/%20/g,Rr=/#.*$/,$o=/([?&])_=[^&]*/,lu=/^(.*?):[ \t]*([^\r\n]*)$/mg,Sh=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yr=/^(?:GET|HEAD)$/,Ol=/^\/\//,Eh={},Rl={},Er="*/".concat("*"),al=A.createElement("a");al.href=rl.href;function Ch(U){return function(he,be){typeof he!="string"&&(be=he,he="*");var Se,Fe=0,je=he.toLowerCase().match(re)||[];if(O(be))for(;Se=je[Fe++];)Se[0]==="+"?(Se=Se.slice(1)||"*",(U[Se]=U[Se]||[]).unshift(be)):(U[Se]=U[Se]||[]).push(be)}}function rs(U,he,be,Se){var Fe={},je=U===Rl;function He(Ct){var vt;return Fe[Ct]=!0,C.each(U[Ct]||[],function(Gt,ii){var fi=ii(he,be,Se);if(typeof fi=="string"&&!je&&!Fe[fi])return he.dataTypes.unshift(fi),He(fi),!1;if(je)return!(vt=fi)}),vt}return He(he.dataTypes[0])||!Fe["*"]&&He("*")}function fs(U,he){var be,Se,Fe=C.ajaxSettings.flatOptions||{};for(be in he)he[be]!==void 0&&((Fe[be]?U:Se||(Se={}))[be]=he[be]);return Se&&C.extend(!0,U,Se),U}function Mh(U,he,be){for(var Se,Fe,je,He,Ct=U.contents,vt=U.dataTypes;vt[0]==="*";)vt.shift(),Se===void 0&&(Se=U.mimeType||he.getResponseHeader("Content-Type"));if(Se){for(Fe in Ct)if(Ct[Fe]&&Ct[Fe].test(Se)){vt.unshift(Fe);break}}if(vt[0]in be)je=vt[0];else{for(Fe in be){if(!vt[0]||U.converters[Fe+" "+vt[0]]){je=Fe;break}He||(He=Fe)}je=je||He}if(je)return je!==vt[0]&&vt.unshift(je),be[je]}function xp(U,he,be,Se){var Fe,je,He,Ct,vt,Gt={},ii=U.dataTypes.slice();if(ii[1])for(He in U.converters)Gt[He.toLowerCase()]=U.converters[He];for(je=ii.shift();je;)if(U.responseFields[je]&&(be[U.responseFields[je]]=he),!vt&&Se&&U.dataFilter&&(he=U.dataFilter(he,U.dataType)),vt=je,je=ii.shift(),je){if(je==="*")je=vt;else if(vt!=="*"&&vt!==je){if(He=Gt[vt+" "+je]||Gt["* "+je],!He){for(Fe in Gt)if(Ct=Fe.split(" "),Ct[1]===je&&(He=Gt[vt+" "+Ct[0]]||Gt["* "+Ct[0]],He)){He===!0?He=Gt[Fe]:Gt[Fe]!==!0&&(je=Ct[0],ii.unshift(Ct[1]));break}}if(He!==!0)if(He&&U.throws)he=He(he);else try{he=He(he)}catch(fi){return{state:"parsererror",error:He?fi:"No conversion from "+vt+" to "+je}}}}return{state:"success",data:he}}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:rl.href,type:"GET",isLocal:Sh.test(rl.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Er,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(U,he){return he?fs(fs(U,C.ajaxSettings),he):fs(C.ajaxSettings,U)},ajaxPrefilter:Ch(Eh),ajaxTransport:Ch(Rl),ajax:function(U,he){typeof U=="object"&&(he=U,U=void 0),he=he||{};var be,Se,Fe,je,He,Ct,vt,Gt,ii,fi,Kt=C.ajaxSetup({},he),ei=Kt.context||Kt,Di=Kt.context&&(ei.nodeType||ei.jquery)?C(ei):C.event,On=C.Deferred(),en=C.Callbacks("once memory"),Qs=Kt.statusCode||{},Fs={},Vn={},$n="canceled",Sn={readyState:0,getResponseHeader:function(qn){var Ms;if(vt){if(!je)for(je={};Ms=lu.exec(Fe);)je[Ms[1].toLowerCase()+" "]=(je[Ms[1].toLowerCase()+" "]||[]).concat(Ms[2]);Ms=je[qn.toLowerCase()+" "]}return Ms==null?null:Ms.join(", ")},getAllResponseHeaders:function(){return vt?Fe:null},setRequestHeader:function(qn,Ms){return vt==null&&(qn=Vn[qn.toLowerCase()]=Vn[qn.toLowerCase()]||qn,Fs[qn]=Ms),this},overrideMimeType:function(qn){return vt==null&&(Kt.mimeType=qn),this},statusCode:function(qn){var Ms;if(qn)if(vt)Sn.always(qn[Sn.status]);else for(Ms in qn)Qs[Ms]=[Qs[Ms],qn[Ms]];return this},abort:function(qn){var Ms=qn||$n;return be&&be.abort(Ms),Jr(0,Ms),this}};if(On.promise(Sn),Kt.url=((U||Kt.url||rl.href)+"").replace(Ol,rl.protocol+"//"),Kt.type=he.method||he.type||Kt.method||Kt.type,Kt.dataTypes=(Kt.dataType||"*").toLowerCase().match(re)||[""],Kt.crossDomain==null){Ct=A.createElement("a");try{Ct.href=Kt.url,Ct.href=Ct.href,Kt.crossDomain=al.protocol+"//"+al.host!=Ct.protocol+"//"+Ct.host}catch{Kt.crossDomain=!0}}if(Kt.data&&Kt.processData&&typeof Kt.data!="string"&&(Kt.data=C.param(Kt.data,Kt.traditional)),rs(Eh,Kt,he,Sn),vt)return Sn;Gt=C.event&&Kt.global,Gt&&C.active++===0&&C.event.trigger("ajaxStart"),Kt.type=Kt.type.toUpperCase(),Kt.hasContent=!yr.test(Kt.type),Se=Kt.url.replace(Rr,""),Kt.hasContent?Kt.data&&Kt.processData&&(Kt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Kt.data=Kt.data.replace(cd,"+")):(fi=Kt.url.slice(Se.length),Kt.data&&(Kt.processData||typeof Kt.data=="string")&&(Se+=(ol.test(Se)?"&":"?")+Kt.data,delete Kt.data),Kt.cache===!1&&(Se=Se.replace($o,"$1"),fi=(ol.test(Se)?"&":"?")+"_="+Va.guid+++fi),Kt.url=Se+fi),Kt.ifModified&&(C.lastModified[Se]&&Sn.setRequestHeader("If-Modified-Since",C.lastModified[Se]),C.etag[Se]&&Sn.setRequestHeader("If-None-Match",C.etag[Se])),(Kt.data&&Kt.hasContent&&Kt.contentType!==!1||he.contentType)&&Sn.setRequestHeader("Content-Type",Kt.contentType),Sn.setRequestHeader("Accept",Kt.dataTypes[0]&&Kt.accepts[Kt.dataTypes[0]]?Kt.accepts[Kt.dataTypes[0]]+(Kt.dataTypes[0]!=="*"?", "+Er+"; q=0.01":""):Kt.accepts["*"]);for(ii in Kt.headers)Sn.setRequestHeader(ii,Kt.headers[ii]);if(Kt.beforeSend&&(Kt.beforeSend.call(ei,Sn,Kt)===!1||vt))return Sn.abort();if($n="abort",en.add(Kt.complete),Sn.done(Kt.success),Sn.fail(Kt.error),be=rs(Rl,Kt,he,Sn),!be)Jr(-1,"No Transport");else{if(Sn.readyState=1,Gt&&Di.trigger("ajaxSend",[Sn,Kt]),vt)return Sn;Kt.async&&Kt.timeout>0&&(He=t.setTimeout(function(){Sn.abort("timeout")},Kt.timeout));try{vt=!1,be.send(Fs,Jr)}catch(qn){if(vt)throw qn;Jr(-1,qn)}}function Jr(qn,Ms,xa,zl){var Br,So,Dn,$r,la,uo=Ms;vt||(vt=!0,He&&t.clearTimeout(He),be=void 0,Fe=zl||"",Sn.readyState=qn>0?4:0,Br=qn>=200&&qn<300||qn===304,xa&&($r=Mh(Kt,Sn,xa)),!Br&&C.inArray("script",Kt.dataTypes)>-1&&C.inArray("json",Kt.dataTypes)<0&&(Kt.converters["text script"]=function(){}),$r=xp(Kt,$r,Sn,Br),Br?(Kt.ifModified&&(la=Sn.getResponseHeader("Last-Modified"),la&&(C.lastModified[Se]=la),la=Sn.getResponseHeader("etag"),la&&(C.etag[Se]=la)),qn===204||Kt.type==="HEAD"?uo="nocontent":qn===304?uo="notmodified":(uo=$r.state,So=$r.data,Dn=$r.error,Br=!Dn)):(Dn=uo,(qn||!uo)&&(uo="error",qn<0&&(qn=0))),Sn.status=qn,Sn.statusText=(Ms||uo)+"",Br?On.resolveWith(ei,[So,uo,Sn]):On.rejectWith(ei,[Sn,uo,Dn]),Sn.statusCode(Qs),Qs=void 0,Gt&&Di.trigger(Br?"ajaxSuccess":"ajaxError",[Sn,Kt,Br?So:Dn]),en.fireWith(ei,[Sn,uo]),Gt&&(Di.trigger("ajaxComplete",[Sn,Kt]),--C.active||C.event.trigger("ajaxStop")))}return Sn},getJSON:function(U,he,be){return C.get(U,he,be,"json")},getScript:function(U,he){return C.get(U,void 0,he,"script")}}),C.each(["get","post"],function(U,he){C[he]=function(be,Se,Fe,je){return O(Se)&&(je=je||Fe,Fe=Se,Se=void 0),C.ajax(C.extend({url:be,type:he,dataType:je,data:Se,success:Fe},C.isPlainObject(be)&&be))}}),C.ajaxPrefilter(function(U){var he;for(he in U.headers)he.toLowerCase()==="content-type"&&(U.contentType=U.headers[he]||"")}),C._evalUrl=function(U,he,be){return C.ajax({url:U,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Se){C.globalEval(Se,he,be)}})},C.fn.extend({wrapAll:function(U){var he;return this[0]&&(O(U)&&(U=U.call(this[0])),he=C(U,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&he.insertBefore(this[0]),he.map(function(){for(var be=this;be.firstElementChild;)be=be.firstElementChild;return be}).append(this)),this},wrapInner:function(U){return O(U)?this.each(function(he){C(this).wrapInner(U.call(this,he))}):this.each(function(){var he=C(this),be=he.contents();be.length?be.wrapAll(U):he.append(U)})},wrap:function(U){var he=O(U);return this.each(function(be){C(this).wrapAll(he?U.call(this,be):U)})},unwrap:function(U){return this.parent(U).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(U){return!C.expr.pseudos.visible(U)},C.expr.pseudos.visible=function(U){return!!(U.offsetWidth||U.offsetHeight||U.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var hd={0:200,1223:204},aa=C.ajaxSettings.xhr();I.cors=!!aa&&"withCredentials"in aa,I.ajax=aa=!!aa,C.ajaxTransport(function(U){var he,be;if(I.cors||aa&&!U.crossDomain)return{send:function(Se,Fe){var je,He=U.xhr();if(He.open(U.type,U.url,U.async,U.username,U.password),U.xhrFields)for(je in U.xhrFields)He[je]=U.xhrFields[je];U.mimeType&&He.overrideMimeType&&He.overrideMimeType(U.mimeType),!U.crossDomain&&!Se["X-Requested-With"]&&(Se["X-Requested-With"]="XMLHttpRequest");for(je in Se)He.setRequestHeader(je,Se[je]);he=function(Ct){return function(){he&&(he=be=He.onload=He.onerror=He.onabort=He.ontimeout=He.onreadystatechange=null,Ct==="abort"?He.abort():Ct==="error"?typeof He.status!="number"?Fe(0,"error"):Fe(He.status,He.statusText):Fe(hd[He.status]||He.status,He.statusText,(He.responseType||"text")!=="text"||typeof He.responseText!="string"?{binary:He.response}:{text:He.responseText},He.getAllResponseHeaders()))}},He.onload=he(),be=He.onerror=He.ontimeout=he("error"),He.onabort!==void 0?He.onabort=be:He.onreadystatechange=function(){He.readyState===4&&t.setTimeout(function(){he&&be()})},he=he("abort");try{He.send(U.hasContent&&U.data||null)}catch(Ct){if(he)throw Ct}},abort:function(){he&&he()}}}),C.ajaxPrefilter(function(U){U.crossDomain&&(U.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(U){return C.globalEval(U),U}}}),C.ajaxPrefilter("script",function(U){U.cache===void 0&&(U.cache=!1),U.crossDomain&&(U.type="GET")}),C.ajaxTransport("script",function(U){if(U.crossDomain||U.scriptAttrs){var he,be;return{send:function(Se,Fe){he=C("<script>").attr(U.scriptAttrs||{}).prop({charset:U.scriptCharset,src:U.url}).on("load error",be=function(je){he.remove(),be=null,je&&Fe(je.type==="error"?404:200,je.type)}),A.head.appendChild(he[0])},abort:function(){be&&be()}}}});var Jc=[],Ah=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var U=Jc.pop()||C.expando+"_"+Va.guid++;return this[U]=!0,U}}),C.ajaxPrefilter("json jsonp",function(U,he,be){var Se,Fe,je,He=U.jsonp!==!1&&(Ah.test(U.url)?"url":typeof U.data=="string"&&(U.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ah.test(U.data)&&"data");if(He||U.dataTypes[0]==="jsonp")return Se=U.jsonpCallback=O(U.jsonpCallback)?U.jsonpCallback():U.jsonpCallback,He?U[He]=U[He].replace(Ah,"$1"+Se):U.jsonp!==!1&&(U.url+=(ol.test(U.url)?"&":"?")+U.jsonp+"="+Se),U.converters["script json"]=function(){return je||C.error(Se+" was not called"),je[0]},U.dataTypes[0]="json",Fe=t[Se],t[Se]=function(){je=arguments},be.always(function(){Fe===void 0?C(t).removeProp(Se):t[Se]=Fe,U[Se]&&(U.jsonpCallback=he.jsonpCallback,Jc.push(Se)),je&&O(Fe)&&Fe(je[0]),je=Fe=void 0}),"script"}),I.createHTMLDocument=function(){var U=A.implementation.createHTMLDocument("").body;return U.innerHTML="<form></form><form></form>",U.childNodes.length===2}(),C.parseHTML=function(U,he,be){if(typeof U!="string")return[];typeof he=="boolean"&&(be=he,he=!1);var Se,Fe,je;return he||(I.createHTMLDocument?(he=A.implementation.createHTMLDocument(""),Se=he.createElement("base"),Se.href=A.location.href,he.head.appendChild(Se)):he=A),Fe=L.exec(U),je=!be&&[],Fe?[he.createElement(Fe[1])]:(Fe=ps([U],he,je),je&&je.length&&C(je).remove(),C.merge([],Fe.childNodes))},C.fn.load=function(U,he,be){var Se,Fe,je,He=this,Ct=U.indexOf(" ");return Ct>-1&&(Se=xs(U.slice(Ct)),U=U.slice(0,Ct)),O(he)?(be=he,he=void 0):he&&typeof he=="object"&&(Fe="POST"),He.length>0&&C.ajax({url:U,type:Fe||"GET",dataType:"html",data:he}).done(function(vt){je=arguments,He.html(Se?C("<div>").append(C.parseHTML(vt)).find(Se):vt)}).always(be&&function(vt,Gt){He.each(function(){be.apply(this,je||[vt.responseText,Gt,vt])})}),this},C.expr.pseudos.animated=function(U){return C.grep(C.timers,function(he){return U===he.elem}).length},C.offset={setOffset:function(U,he,be){var Se,Fe,je,He,Ct,vt,Gt,ii=C.css(U,"position"),fi=C(U),Kt={};ii==="static"&&(U.style.position="relative"),Ct=fi.offset(),je=C.css(U,"top"),vt=C.css(U,"left"),Gt=(ii==="absolute"||ii==="fixed")&&(je+vt).indexOf("auto")>-1,Gt?(Se=fi.position(),He=Se.top,Fe=Se.left):(He=parseFloat(je)||0,Fe=parseFloat(vt)||0),O(he)&&(he=he.call(U,be,C.extend({},Ct))),he.top!=null&&(Kt.top=he.top-Ct.top+He),he.left!=null&&(Kt.left=he.left-Ct.left+Fe),"using"in he?he.using.call(U,Kt):fi.css(Kt)}},C.fn.extend({offset:function(U){if(arguments.length)return U===void 0?this:this.each(function(Fe){C.offset.setOffset(this,U,Fe)});var he,be,Se=this[0];if(Se)return Se.getClientRects().length?(he=Se.getBoundingClientRect(),be=Se.ownerDocument.defaultView,{top:he.top+be.pageYOffset,left:he.left+be.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var U,he,be,Se=this[0],Fe={top:0,left:0};if(C.css(Se,"position")==="fixed")he=Se.getBoundingClientRect();else{for(he=this.offset(),be=Se.ownerDocument,U=Se.offsetParent||be.documentElement;U&&(U===be.body||U===be.documentElement)&&C.css(U,"position")==="static";)U=U.parentNode;U&&U!==Se&&U.nodeType===1&&(Fe=C(U).offset(),Fe.top+=C.css(U,"borderTopWidth",!0),Fe.left+=C.css(U,"borderLeftWidth",!0))}return{top:he.top-Fe.top-C.css(Se,"marginTop",!0),left:he.left-Fe.left-C.css(Se,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var U=this.offsetParent;U&&C.css(U,"position")==="static";)U=U.offsetParent;return U||st})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(U,he){var be=he==="pageYOffset";C.fn[U]=function(Se){return ce(this,function(Fe,je,He){var Ct;if(H(Fe)?Ct=Fe:Fe.nodeType===9&&(Ct=Fe.defaultView),He===void 0)return Ct?Ct[he]:Fe[je];Ct?Ct.scrollTo(be?Ct.pageXOffset:He,be?He:Ct.pageYOffset):Fe[je]=He},U,Se,arguments.length)}}),C.each(["top","left"],function(U,he){C.cssHooks[he]=dn(I.pixelPosition,function(be,Se){if(Se)return Se=qi(be,he),Mt.test(Se)?C(be).position()[he]+"px":Se})}),C.each({Height:"height",Width:"width"},function(U,he){C.each({padding:"inner"+U,content:he,"":"outer"+U},function(be,Se){C.fn[Se]=function(Fe,je){var He=arguments.length&&(be||typeof Fe!="boolean"),Ct=be||(Fe===!0||je===!0?"margin":"border");return ce(this,function(vt,Gt,ii){var fi;return H(vt)?Se.indexOf("outer")===0?vt["inner"+U]:vt.document.documentElement["client"+U]:vt.nodeType===9?(fi=vt.documentElement,Math.max(vt.body["scroll"+U],fi["scroll"+U],vt.body["offset"+U],fi["offset"+U],fi["client"+U])):ii===void 0?C.css(vt,Gt,Ct):C.style(vt,Gt,ii,Ct)},he,He?Fe:void 0,He)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(U,he){C.fn[he]=function(be){return this.on(he,be)}}),C.fn.extend({bind:function(U,he,be){return this.on(U,null,he,be)},unbind:function(U,he){return this.off(U,null,he)},delegate:function(U,he,be,Se){return this.on(he,U,be,Se)},undelegate:function(U,he,be){return arguments.length===1?this.off(U,"**"):this.off(he,U||"**",be)},hover:function(U,he){return this.mouseenter(U).mouseleave(he||U)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(U,he){C.fn[he]=function(be,Se){return arguments.length>0?this.on(he,null,be,Se):this.trigger(he)}});var Bl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(U,he){var be,Se,Fe;if(typeof he=="string"&&(be=U[he],he=U,U=be),!!O(U))return Se=d.call(arguments,2),Fe=function(){return U.apply(he||this,Se.concat(d.call(arguments)))},Fe.guid=U.guid=U.guid||C.guid++,Fe},C.holdReady=function(U){U?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=M,C.isFunction=O,C.isWindow=H,C.camelCase=Z,C.type=G,C.now=Date.now,C.isNumeric=function(U){var he=C.type(U);return(he==="number"||he==="string")&&!isNaN(U-parseFloat(U))},C.trim=function(U){return U==null?"":(U+"").replace(Bl,"$1")};var ll=t.jQuery,vr=t.$;return C.noConflict=function(U){return t.$===C&&(t.$=vr),U&&t.jQuery===C&&(t.jQuery=ll),C},typeof s>"u"&&(t.jQuery=t.$=C),C})})(a4);const l4=ew;function j5(e,t){return function(){return e.apply(t,arguments)}}const{toString:U5}=Object.prototype,{getPrototypeOf:Qw}=Object,e3=(e=>t=>{const s=U5.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),iu=e=>(e=e.toLowerCase(),t=>e3(t)===e),Ov=e=>t=>typeof t===e,{isArray:Tm}=Array,w1=Ov("undefined");function c4(e){return e!==null&&!w1(e)&&e.constructor!==null&&!w1(e.constructor)&&Lf(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const G5=iu("ArrayBuffer");function h4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&G5(e.buffer),t}const d4=Ov("string"),Lf=Ov("function"),V5=Ov("number"),t3=e=>e!==null&&typeof e=="object",u4=e=>e===!0||e===!1,Uy=e=>{if(e3(e)!=="object")return!1;const t=Qw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},p4=iu("Date"),f4=iu("File"),m4=iu("Blob"),g4=iu("FileList"),_4=e=>t3(e)&&Lf(e.pipe),y4=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||U5.call(e)===t||Lf(e.toString)&&e.toString()===t)},v4=iu("URLSearchParams"),x4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function F1(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,c;if(typeof e!="object"&&(e=[e]),Tm(e))for(l=0,c=e.length;l<c;l++)t.call(null,e[l],l,e);else{const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let n;for(l=0;l<m;l++)n=d[l],t.call(null,e[n],n,e)}}function $5(e,t){t=t.toLowerCase();const s=Object.keys(e);let l=s.length,c;for(;l-- >0;)if(c=s[l],t===c.toLowerCase())return c;return null}const H5=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),W5=e=>!w1(e)&&e!==H5;function tw(){const{caseless:e}=W5(this)&&this||{},t={},s=(l,c)=>{const d=e&&$5(t,c)||c;Uy(t[d])&&Uy(l)?t[d]=tw(t[d],l):Uy(l)?t[d]=tw({},l):Tm(l)?t[d]=l.slice():t[d]=l};for(let l=0,c=arguments.length;l<c;l++)arguments[l]&&F1(arguments[l],s);return t}const b4=(e,t,s,{allOwnKeys:l}={})=>(F1(t,(c,d)=>{s&&Lf(c)?e[d]=j5(c,s):e[d]=c},{allOwnKeys:l}),e),w4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),T4=(e,t,s,l)=>{e.prototype=Object.create(t.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},S4=(e,t,s,l)=>{let c,d,m;const n={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)m=c[d],(!l||l(m,e,t))&&!n[m]&&(t[m]=e[m],n[m]=!0);e=s!==!1&&Qw(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},E4=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const l=e.indexOf(t,s);return l!==-1&&l===s},C4=e=>{if(!e)return null;if(Tm(e))return e;let t=e.length;if(!V5(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},M4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Qw(Uint8Array)),A4=(e,t)=>{const l=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=l.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},k4=(e,t)=>{let s;const l=[];for(;(s=e.exec(t))!==null;)l.push(s);return l},P4=iu("HTMLFormElement"),D4=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(s,l,c){return l.toUpperCase()+c}),QT=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),I4=iu("RegExp"),X5=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),l={};F1(s,(c,d)=>{t(c,d,e)!==!1&&(l[d]=c)}),Object.defineProperties(e,l)},L4=e=>{X5(e,(t,s)=>{if(Lf(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(Lf(l)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},O4=(e,t)=>{const s={},l=c=>{c.forEach(d=>{s[d]=!0})};return Tm(e)?l(e):l(String(e).split(t)),s},R4=()=>{},B4=(e,t)=>(e=+e,Number.isFinite(e)?e:t),z4=e=>{const t=new Array(10),s=(l,c)=>{if(t3(l)){if(t.indexOf(l)>=0)return;if(!("toJSON"in l)){t[c]=l;const d=Tm(l)?[]:{};return F1(l,(m,n)=>{const w=s(m,c+1);!w1(w)&&(d[n]=w)}),t[c]=void 0,d}}return l};return s(e,0)},Ti={isArray:Tm,isArrayBuffer:G5,isBuffer:c4,isFormData:y4,isArrayBufferView:h4,isString:d4,isNumber:V5,isBoolean:u4,isObject:t3,isPlainObject:Uy,isUndefined:w1,isDate:p4,isFile:f4,isBlob:m4,isRegExp:I4,isFunction:Lf,isStream:_4,isURLSearchParams:v4,isTypedArray:M4,isFileList:g4,forEach:F1,merge:tw,extend:b4,trim:x4,stripBOM:w4,inherits:T4,toFlatObject:S4,kindOf:e3,kindOfTest:iu,endsWith:E4,toArray:C4,forEachEntry:A4,matchAll:k4,isHTMLForm:P4,hasOwnProperty:QT,hasOwnProp:QT,reduceDescriptors:X5,freezeMethods:L4,toObjectSet:O4,toCamelCase:D4,noop:R4,toFiniteNumber:B4,findKey:$5,global:H5,isContextDefined:W5,toJSONObject:z4};function Ws(e,t,s,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),l&&(this.request=l),c&&(this.response=c)}Ti.inherits(Ws,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ti.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Y5=Ws.prototype,q5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{q5[e]={value:e}});Object.defineProperties(Ws,q5);Object.defineProperty(Y5,"isAxiosError",{value:!0});Ws.from=(e,t,s,l,c,d)=>{const m=Object.create(Y5);return Ti.toFlatObject(e,m,function(w){return w!==Error.prototype},n=>n!=="isAxiosError"),Ws.call(m,e.message,t,s,l,c),m.cause=e,m.name=e.name,d&&Object.assign(m,d),m};var F4=typeof self=="object"?self.FormData:window.FormData;const N4=F4;function iw(e){return Ti.isPlainObject(e)||Ti.isArray(e)}function Z5(e){return Ti.endsWith(e,"[]")?e.slice(0,-2):e}function eS(e,t,s){return e?e.concat(t).map(function(c,d){return c=Z5(c),!s&&d?"["+c+"]":c}).join(s?".":""):t}function j4(e){return Ti.isArray(e)&&!e.some(iw)}const U4=Ti.toFlatObject(Ti,{},null,function(t){return/^is[A-Z]/.test(t)});function G4(e){return e&&Ti.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function Rv(e,t,s){if(!Ti.isObject(e))throw new TypeError("target must be an object");t=t||new(N4||FormData),s=Ti.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,H){return!Ti.isUndefined(H[O])});const l=s.metaTokens,c=s.visitor||ee,d=s.dots,m=s.indexes,w=(s.Blob||typeof Blob<"u"&&Blob)&&G4(t);if(!Ti.isFunction(c))throw new TypeError("visitor must be a function");function $(I){if(I===null)return"";if(Ti.isDate(I))return I.toISOString();if(!w&&Ti.isBlob(I))throw new Ws("Blob is not supported. Use a Buffer instead.");return Ti.isArrayBuffer(I)||Ti.isTypedArray(I)?w&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function ee(I,O,H){let A=I;if(I&&!H&&typeof I=="object"){if(Ti.endsWith(O,"{}"))O=l?O:O.slice(0,-2),I=JSON.stringify(I);else if(Ti.isArray(I)&&j4(I)||Ti.isFileList(I)||Ti.endsWith(O,"[]")&&(A=Ti.toArray(I)))return O=Z5(O),A.forEach(function(P,G){!(Ti.isUndefined(P)||P===null)&&t.append(m===!0?eS([O],G,d):m===null?O:O+"[]",$(P))}),!1}return iw(I)?!0:(t.append(eS(H,O,d),$(I)),!1)}const z=[],Y=Object.assign(U4,{defaultVisitor:ee,convertValue:$,isVisitable:iw});function Q(I,O){if(!Ti.isUndefined(I)){if(z.indexOf(I)!==-1)throw Error("Circular reference detected in "+O.join("."));z.push(I),Ti.forEach(I,function(A,E){(!(Ti.isUndefined(A)||A===null)&&c.call(t,A,Ti.isString(E)?E.trim():E,O,Y))===!0&&Q(A,O?O.concat(E):[E])}),z.pop()}}if(!Ti.isObject(e))throw new TypeError("data must be an object");return Q(e),t}function tS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return t[l]})}function i3(e,t){this._pairs=[],e&&Rv(e,this,t)}const K5=i3.prototype;K5.append=function(t,s){this._pairs.push([t,s])};K5.toString=function(t){const s=t?function(l){return t.call(this,l,tS)}:tS;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function V4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function J5(e,t,s){if(!t)return e;const l=s&&s.encode||V4,c=s&&s.serialize;let d;if(c?d=c(t,s):d=Ti.isURLSearchParams(t)?t.toString():new i3(t,s).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class $4{constructor(){this.handlers=[]}use(t,s,l){return this.handlers.push({fulfilled:t,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ti.forEach(this.handlers,function(l){l!==null&&t(l)})}}const iS=$4,Q5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},H4=typeof URLSearchParams<"u"?URLSearchParams:i3,W4=FormData,X4=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Y4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ed={isBrowser:!0,classes:{URLSearchParams:H4,FormData:W4,Blob},isStandardBrowserEnv:X4,isStandardBrowserWebWorkerEnv:Y4,protocols:["http","https","file","blob","url","data"]};function q4(e,t){return Rv(e,new ed.classes.URLSearchParams,Object.assign({visitor:function(s,l,c,d){return ed.isNode&&Ti.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},t))}function Z4(e){return Ti.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function K4(e){const t={},s=Object.keys(e);let l;const c=s.length;let d;for(l=0;l<c;l++)d=s[l],t[d]=e[d];return t}function eE(e){function t(s,l,c,d){let m=s[d++];const n=Number.isFinite(+m),w=d>=s.length;return m=!m&&Ti.isArray(c)?c.length:m,w?(Ti.hasOwnProp(c,m)?c[m]=[c[m],l]:c[m]=l,!n):((!c[m]||!Ti.isObject(c[m]))&&(c[m]=[]),t(s,l,c[m],d)&&Ti.isArray(c[m])&&(c[m]=K4(c[m])),!n)}if(Ti.isFormData(e)&&Ti.isFunction(e.entries)){const s={};return Ti.forEachEntry(e,(l,c)=>{t(Z4(l),c,s,0)}),s}return null}const J4={"Content-Type":void 0};function Q4(e,t,s){if(Ti.isString(e))try{return(t||JSON.parse)(e),Ti.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Bv={transitional:Q5,adapter:["xhr","http"],transformRequest:[function(t,s){const l=s.getContentType()||"",c=l.indexOf("application/json")>-1,d=Ti.isObject(t);if(d&&Ti.isHTMLForm(t)&&(t=new FormData(t)),Ti.isFormData(t))return c&&c?JSON.stringify(eE(t)):t;if(Ti.isArrayBuffer(t)||Ti.isBuffer(t)||Ti.isStream(t)||Ti.isFile(t)||Ti.isBlob(t))return t;if(Ti.isArrayBufferView(t))return t.buffer;if(Ti.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let n;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return q4(t,this.formSerializer).toString();if((n=Ti.isFileList(t))||l.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return Rv(n?{"files[]":t}:t,w&&new w,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),Q4(t)):t}],transformResponse:[function(t){const s=this.transitional||Bv.transitional,l=s&&s.forcedJSONParsing,c=this.responseType==="json";if(t&&Ti.isString(t)&&(l&&!this.responseType||c)){const m=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(n){if(m)throw n.name==="SyntaxError"?Ws.from(n,Ws.ERR_BAD_RESPONSE,this,null,this.response):n}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ed.classes.FormData,Blob:ed.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ti.forEach(["delete","get","head"],function(t){Bv.headers[t]={}});Ti.forEach(["post","put","patch"],function(t){Bv.headers[t]=Ti.merge(J4)});const n3=Bv,e6=Ti.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),t6=e=>{const t={};let s,l,c;return e&&e.split(`
`).forEach(function(m){c=m.indexOf(":"),s=m.substring(0,c).trim().toLowerCase(),l=m.substring(c+1).trim(),!(!s||t[s]&&e6[s])&&(s==="set-cookie"?t[s]?t[s].push(l):t[s]=[l]:t[s]=t[s]?t[s]+", "+l:l)}),t},nS=Symbol("internals");function o1(e){return e&&String(e).trim().toLowerCase()}function Gy(e){return e===!1||e==null?e:Ti.isArray(e)?e.map(Gy):String(e)}function i6(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)t[l[1]]=l[2];return t}function n6(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function sS(e,t,s,l){if(Ti.isFunction(l))return l.call(this,t,s);if(Ti.isString(t)){if(Ti.isString(l))return t.indexOf(l)!==-1;if(Ti.isRegExp(l))return l.test(t)}}function s6(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,l)=>s.toUpperCase()+l)}function r6(e,t){const s=Ti.toCamelCase(" "+t);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(c,d,m){return this[l].call(this,t,c,d,m)},configurable:!0})})}class zv{constructor(t){t&&this.set(t)}set(t,s,l){const c=this;function d(n,w,$){const ee=o1(w);if(!ee)throw new Error("header name must be a non-empty string");const z=Ti.findKey(c,ee);(!z||c[z]===void 0||$===!0||$===void 0&&c[z]!==!1)&&(c[z||w]=Gy(n))}const m=(n,w)=>Ti.forEach(n,($,ee)=>d($,ee,w));return Ti.isPlainObject(t)||t instanceof this.constructor?m(t,s):Ti.isString(t)&&(t=t.trim())&&!n6(t)?m(t6(t),s):t!=null&&d(s,t,l),this}get(t,s){if(t=o1(t),t){const l=Ti.findKey(this,t);if(l){const c=this[l];if(!s)return c;if(s===!0)return i6(c);if(Ti.isFunction(s))return s.call(this,c,l);if(Ti.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=o1(t),t){const l=Ti.findKey(this,t);return!!(l&&(!s||sS(this,this[l],l,s)))}return!1}delete(t,s){const l=this;let c=!1;function d(m){if(m=o1(m),m){const n=Ti.findKey(l,m);n&&(!s||sS(l,l[n],n,s))&&(delete l[n],c=!0)}}return Ti.isArray(t)?t.forEach(d):d(t),c}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const s=this,l={};return Ti.forEach(this,(c,d)=>{const m=Ti.findKey(l,d);if(m){s[m]=Gy(c),delete s[d];return}const n=t?s6(d):String(d).trim();n!==d&&delete s[d],s[n]=Gy(c),l[n]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Ti.forEach(this,(l,c)=>{l!=null&&l!==!1&&(s[c]=t&&Ti.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const l=new this(t);return s.forEach(c=>l.set(c)),l}static accessor(t){const l=(this[nS]=this[nS]={accessors:{}}).accessors,c=this.prototype;function d(m){const n=o1(m);l[n]||(r6(c,m),l[n]=!0)}return Ti.isArray(t)?t.forEach(d):d(t),this}}zv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Ti.freezeMethods(zv.prototype);Ti.freezeMethods(zv);const Yd=zv;function Tb(e,t){const s=this||n3,l=t||s,c=Yd.from(l.headers);let d=l.data;return Ti.forEach(e,function(n){d=n.call(s,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function tE(e){return!!(e&&e.__CANCEL__)}function N1(e,t,s){Ws.call(this,e??"canceled",Ws.ERR_CANCELED,t,s),this.name="CanceledError"}Ti.inherits(N1,Ws,{__CANCEL__:!0});const o6=null;function a6(e,t,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):t(new Ws("Request failed with status code "+s.status,[Ws.ERR_BAD_REQUEST,Ws.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const l6=ed.isStandardBrowserEnv?function(){return{write:function(s,l,c,d,m,n){const w=[];w.push(s+"="+encodeURIComponent(l)),Ti.isNumber(c)&&w.push("expires="+new Date(c).toGMTString()),Ti.isString(d)&&w.push("path="+d),Ti.isString(m)&&w.push("domain="+m),n===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(s){const l=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function c6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function h6(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function iE(e,t){return e&&!c6(t)?h6(e,t):t}const d6=ed.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let l;function c(d){let m=d;return t&&(s.setAttribute("href",m),m=s.href),s.setAttribute("href",m),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return l=c(window.location.href),function(m){const n=Ti.isString(m)?c(m):m;return n.protocol===l.protocol&&n.host===l.host}}():function(){return function(){return!0}}();function u6(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function p6(e,t){e=e||10;const s=new Array(e),l=new Array(e);let c=0,d=0,m;return t=t!==void 0?t:1e3,function(w){const $=Date.now(),ee=l[d];m||(m=$),s[c]=w,l[c]=$;let z=d,Y=0;for(;z!==c;)Y+=s[z++],z=z%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),$-m<t)return;const Q=ee&&$-ee;return Q?Math.round(Y*1e3/Q):void 0}}function rS(e,t){let s=0;const l=p6(50,250);return c=>{const d=c.loaded,m=c.lengthComputable?c.total:void 0,n=d-s,w=l(n),$=d<=m;s=d;const ee={loaded:d,total:m,progress:m?d/m:void 0,bytes:n,rate:w||void 0,estimated:w&&m&&$?(m-d)/w:void 0,event:c};ee[t?"download":"upload"]=!0,e(ee)}}const f6=typeof XMLHttpRequest<"u",m6=f6&&function(e){return new Promise(function(s,l){let c=e.data;const d=Yd.from(e.headers).normalize(),m=e.responseType;let n;function w(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}Ti.isFormData(c)&&(ed.isStandardBrowserEnv||ed.isStandardBrowserWebWorkerEnv)&&d.setContentType(!1);let $=new XMLHttpRequest;if(e.auth){const Q=e.auth.username||"",I=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.set("Authorization","Basic "+btoa(Q+":"+I))}const ee=iE(e.baseURL,e.url);$.open(e.method.toUpperCase(),J5(ee,e.params,e.paramsSerializer),!0),$.timeout=e.timeout;function z(){if(!$)return;const Q=Yd.from("getAllResponseHeaders"in $&&$.getAllResponseHeaders()),O={data:!m||m==="text"||m==="json"?$.responseText:$.response,status:$.status,statusText:$.statusText,headers:Q,config:e,request:$};a6(function(A){s(A),w()},function(A){l(A),w()},O),$=null}if("onloadend"in $?$.onloadend=z:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(z)},$.onabort=function(){$&&(l(new Ws("Request aborted",Ws.ECONNABORTED,e,$)),$=null)},$.onerror=function(){l(new Ws("Network Error",Ws.ERR_NETWORK,e,$)),$=null},$.ontimeout=function(){let I=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const O=e.transitional||Q5;e.timeoutErrorMessage&&(I=e.timeoutErrorMessage),l(new Ws(I,O.clarifyTimeoutError?Ws.ETIMEDOUT:Ws.ECONNABORTED,e,$)),$=null},ed.isStandardBrowserEnv){const Q=(e.withCredentials||d6(ee))&&e.xsrfCookieName&&l6.read(e.xsrfCookieName);Q&&d.set(e.xsrfHeaderName,Q)}c===void 0&&d.setContentType(null),"setRequestHeader"in $&&Ti.forEach(d.toJSON(),function(I,O){$.setRequestHeader(O,I)}),Ti.isUndefined(e.withCredentials)||($.withCredentials=!!e.withCredentials),m&&m!=="json"&&($.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&$.addEventListener("progress",rS(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&$.upload&&$.upload.addEventListener("progress",rS(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=Q=>{$&&(l(!Q||Q.type?new N1(null,e,$):Q),$.abort(),$=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));const Y=u6(ee);if(Y&&ed.protocols.indexOf(Y)===-1){l(new Ws("Unsupported protocol "+Y+":",Ws.ERR_BAD_REQUEST,e));return}$.send(c||null)})},Vy={http:o6,xhr:m6};Ti.forEach(Vy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const g6={getAdapter:e=>{e=Ti.isArray(e)?e:[e];const{length:t}=e;let s,l;for(let c=0;c<t&&(s=e[c],!(l=Ti.isString(s)?Vy[s.toLowerCase()]:s));c++);if(!l)throw l===!1?new Ws(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ti.hasOwnProp(Vy,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!Ti.isFunction(l))throw new TypeError("adapter is not a function");return l},adapters:Vy};function Sb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new N1(null,e)}function oS(e){return Sb(e),e.headers=Yd.from(e.headers),e.data=Tb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),g6.getAdapter(e.adapter||n3.adapter)(e).then(function(l){return Sb(e),l.data=Tb.call(e,e.transformResponse,l),l.headers=Yd.from(l.headers),l},function(l){return tE(l)||(Sb(e),l&&l.response&&(l.response.data=Tb.call(e,e.transformResponse,l.response),l.response.headers=Yd.from(l.response.headers))),Promise.reject(l)})}const aS=e=>e instanceof Yd?e.toJSON():e;function dm(e,t){t=t||{};const s={};function l($,ee,z){return Ti.isPlainObject($)&&Ti.isPlainObject(ee)?Ti.merge.call({caseless:z},$,ee):Ti.isPlainObject(ee)?Ti.merge({},ee):Ti.isArray(ee)?ee.slice():ee}function c($,ee,z){if(Ti.isUndefined(ee)){if(!Ti.isUndefined($))return l(void 0,$,z)}else return l($,ee,z)}function d($,ee){if(!Ti.isUndefined(ee))return l(void 0,ee)}function m($,ee){if(Ti.isUndefined(ee)){if(!Ti.isUndefined($))return l(void 0,$)}else return l(void 0,ee)}function n($,ee,z){if(z in t)return l($,ee);if(z in e)return l(void 0,$)}const w={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:n,headers:($,ee)=>c(aS($),aS(ee),!0)};return Ti.forEach(Object.keys(e).concat(Object.keys(t)),function(ee){const z=w[ee]||c,Y=z(e[ee],t[ee],ee);Ti.isUndefined(Y)&&z!==n||(s[ee]=Y)}),s}const nE="1.2.2",s3={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{s3[e]=function(l){return typeof l===e||"a"+(t<1?"n ":" ")+e}});const lS={};s3.transitional=function(t,s,l){function c(d,m){return"[Axios v"+nE+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,n)=>{if(t===!1)throw new Ws(c(m," has been removed"+(s?" in "+s:"")),Ws.ERR_DEPRECATED);return s&&!lS[m]&&(lS[m]=!0,console.warn(c(m," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(d,m,n):!0}};function _6(e,t,s){if(typeof e!="object")throw new Ws("options must be an object",Ws.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let c=l.length;for(;c-- >0;){const d=l[c],m=t[d];if(m){const n=e[d],w=n===void 0||m(n,d,e);if(w!==!0)throw new Ws("option "+d+" must be "+w,Ws.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ws("Unknown option "+d,Ws.ERR_BAD_OPTION)}}const nw={assertOptions:_6,validators:s3},$u=nw.validators;class nv{constructor(t){this.defaults=t,this.interceptors={request:new iS,response:new iS}}request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=dm(this.defaults,s);const{transitional:l,paramsSerializer:c,headers:d}=s;l!==void 0&&nw.assertOptions(l,{silentJSONParsing:$u.transitional($u.boolean),forcedJSONParsing:$u.transitional($u.boolean),clarifyTimeoutError:$u.transitional($u.boolean)},!1),c!==void 0&&nw.assertOptions(c,{encode:$u.function,serialize:$u.function},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m;m=d&&Ti.merge(d.common,d[s.method]),m&&Ti.forEach(["delete","get","head","post","put","patch","common"],I=>{delete d[I]}),s.headers=Yd.concat(m,d);const n=[];let w=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(s)===!1||(w=w&&O.synchronous,n.unshift(O.fulfilled,O.rejected))});const $=[];this.interceptors.response.forEach(function(O){$.push(O.fulfilled,O.rejected)});let ee,z=0,Y;if(!w){const I=[oS.bind(this),void 0];for(I.unshift.apply(I,n),I.push.apply(I,$),Y=I.length,ee=Promise.resolve(s);z<Y;)ee=ee.then(I[z++],I[z++]);return ee}Y=n.length;let Q=s;for(z=0;z<Y;){const I=n[z++],O=n[z++];try{Q=I(Q)}catch(H){O.call(this,H);break}}try{ee=oS.call(this,Q)}catch(I){return Promise.reject(I)}for(z=0,Y=$.length;z<Y;)ee=ee.then($[z++],$[z++]);return ee}getUri(t){t=dm(this.defaults,t);const s=iE(t.baseURL,t.url);return J5(s,t.params,t.paramsSerializer)}}Ti.forEach(["delete","get","head","options"],function(t){nv.prototype[t]=function(s,l){return this.request(dm(l||{},{method:t,url:s,data:(l||{}).data}))}});Ti.forEach(["post","put","patch"],function(t){function s(l){return function(d,m,n){return this.request(dm(n||{},{method:t,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}nv.prototype[t]=s(),nv.prototype[t+"Form"]=s(!0)});const $y=nv;class r3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(n=>{l.subscribe(n),d=n}).then(c);return m.cancel=function(){l.unsubscribe(d)},m},t(function(d,m,n){l.reason||(l.reason=new N1(d,m,n),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}static source(){let t;return{token:new r3(function(c){t=c}),cancel:t}}}const y6=r3;function v6(e){return function(s){return e.apply(null,s)}}function x6(e){return Ti.isObject(e)&&e.isAxiosError===!0}const sw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sw).forEach(([e,t])=>{sw[t]=e});const b6=sw;function sE(e){const t=new $y(e),s=j5($y.prototype.request,t);return Ti.extend(s,$y.prototype,t,{allOwnKeys:!0}),Ti.extend(s,t,null,{allOwnKeys:!0}),s.create=function(c){return sE(dm(e,c))},s}const Uo=sE(n3);Uo.Axios=$y;Uo.CanceledError=N1;Uo.CancelToken=y6;Uo.isCancel=tE;Uo.VERSION=nE;Uo.toFormData=Rv;Uo.AxiosError=Ws;Uo.Cancel=Uo.CanceledError;Uo.all=function(t){return Promise.all(t)};Uo.spread=v6;Uo.isAxiosError=x6;Uo.mergeConfig=dm;Uo.AxiosHeaders=Yd;Uo.formToJSON=e=>eE(Ti.isHTMLForm(e)?new FormData(e):e);Uo.HttpStatusCode=b6;Uo.default=Uo;const w6=Uo;window._=o4;window.$=l4;window.axios=w6;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function Al(e,t){const s=Object.create(null),l=e.split(",");for(let c=0;c<l.length;c++)s[l[c]]=!0;return t?c=>!!s[c.toLowerCase()]:c=>!!s[c]}const T6="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",S6=Al(T6);function nu(e){if(an(e)){const t={};for(let s=0;s<e.length;s++){const l=e[s],c=ss(l)?rE(l):nu(l);if(c)for(const d in c)t[d]=c[d]}return t}else{if(ss(e))return e;if(hr(e))return e}}const E6=/;(?![^(]*\))/g,C6=/:([^]+)/,M6=/\/\*.*?\*\//gs;function rE(e){const t={};return e.replace(M6,"").split(E6).forEach(s=>{if(s){const l=s.split(C6);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function Dr(e){let t="";if(ss(e))t=e;else if(an(e))for(let s=0;s<e.length;s++){const l=Dr(e[s]);l&&(t+=l+" ")}else if(hr(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function sv(e){if(!e)return null;let{class:t,style:s}=e;return t&&!ss(t)&&(e.class=Dr(t)),s&&(e.style=nu(s)),e}const A6="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",k6="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",P6="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",D6=Al(A6),I6=Al(k6),L6=Al(P6),O6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",R6=Al(O6);function oE(e){return!!e||e===""}function B6(e,t){if(e.length!==t.length)return!1;let s=!0;for(let l=0;s&&l<e.length;l++)s=op(e[l],t[l]);return s}function op(e,t){if(e===t)return!0;let s=cS(e),l=cS(t);if(s||l)return s&&l?e.getTime()===t.getTime():!1;if(s=ap(e),l=ap(t),s||l)return e===t;if(s=an(e),l=an(t),s||l)return s&&l?B6(e,t):!1;if(s=hr(e),l=hr(t),s||l){if(!s||!l)return!1;const c=Object.keys(e).length,d=Object.keys(t).length;if(c!==d)return!1;for(const m in e){const n=e.hasOwnProperty(m),w=t.hasOwnProperty(m);if(n&&!w||!n&&w||!op(e[m],t[m]))return!1}}return String(e)===String(t)}function Fv(e,t){return e.findIndex(s=>op(s,t))}const hn=e=>ss(e)?e:e==null?"":an(e)||hr(e)&&(e.toString===lE||!Xn(e.toString))?JSON.stringify(e,aE,2):String(e),aE=(e,t)=>t&&t.__v_isRef?aE(e,t.value):im(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[l,c])=>(s[`${l} =>`]=c,s),{})}:Nf(t)?{[`Set(${t.size})`]:[...t.values()]}:hr(t)&&!an(t)&&!cE(t)?String(t):t,or={},tm=[],el=()=>{},Hy=()=>!1,z6=/^on[^a-z]/,Ff=e=>z6.test(e),o3=e=>e.startsWith("onUpdate:"),Js=Object.assign,a3=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},F6=Object.prototype.hasOwnProperty,Hs=(e,t)=>F6.call(e,t),an=Array.isArray,im=e=>j1(e)==="[object Map]",Nf=e=>j1(e)==="[object Set]",cS=e=>j1(e)==="[object Date]",Xn=e=>typeof e=="function",ss=e=>typeof e=="string",ap=e=>typeof e=="symbol",hr=e=>e!==null&&typeof e=="object",l3=e=>hr(e)&&Xn(e.then)&&Xn(e.catch),lE=Object.prototype.toString,j1=e=>lE.call(e),N6=e=>j1(e).slice(8,-1),cE=e=>j1(e)==="[object Object]",c3=e=>ss(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Cf=Al(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),j6=Al("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Nv=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},U6=/-(\w)/g,na=Nv(e=>e.replace(U6,(t,s)=>s?s.toUpperCase():"")),G6=/\B([A-Z])/g,cc=Nv(e=>e.replace(G6,"-$1").toLowerCase()),_p=Nv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Mf=Nv(e=>e?`on${_p(e)}`:""),um=(e,t)=>!Object.is(e,t),nm=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},rv=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},Kd=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let hS;const V6=()=>hS||(hS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let sc;class jv{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=sc,!t&&sc&&(this.index=(sc.scopes||(sc.scopes=[])).push(this)-1)}run(t){if(this.active){const s=sc;try{return sc=this,t()}finally{sc=s}}}on(){sc=this}off(){sc=this.parent}stop(t){if(this.active){let s,l;for(s=0,l=this.effects.length;s<l;s++)this.effects[s].stop();for(s=0,l=this.cleanups.length;s<l;s++)this.cleanups[s]();if(this.scopes)for(s=0,l=this.scopes.length;s<l;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0,this.active=!1}}}function hE(e){return new jv(e)}function dE(e,t=sc){t&&t.active&&t.effects.push(e)}function uE(){return sc}function pE(e){sc&&sc.cleanups.push(e)}const h3=e=>{const t=new Set(e);return t.w=0,t.n=0,t},fE=e=>(e.w&lp)>0,mE=e=>(e.n&lp)>0,$6=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=lp},H6=e=>{const{deps:t}=e;if(t.length){let s=0;for(let l=0;l<t.length;l++){const c=t[l];fE(c)&&!mE(c)?c.delete(e):t[s++]=c,c.w&=~lp,c.n&=~lp}t.length=s}},rw=new WeakMap;let u1=0,lp=1;const ow=30;let mh;const Af=Symbol(""),aw=Symbol("");class Sm{constructor(t,s=null,l){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,dE(this,l)}run(){if(!this.active)return this.fn();let t=mh,s=tp;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=mh,mh=this,tp=!0,lp=1<<++u1,u1<=ow?$6(this):dS(this),this.fn()}finally{u1<=ow&&H6(this),lp=1<<--u1,mh=this.parent,tp=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){mh===this?this.deferStop=!0:this.active&&(dS(this),this.onStop&&this.onStop(),this.active=!1)}}function dS(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}function gE(e,t){e.effect&&(e=e.effect.fn);const s=new Sm(e);t&&(Js(s,t),t.scope&&dE(s,t.scope)),(!t||!t.lazy)&&s.run();const l=s.run.bind(s);return l.effect=s,l}function _E(e){e.effect.stop()}let tp=!0;const yE=[];function Em(){yE.push(tp),tp=!1}function Cm(){const e=yE.pop();tp=e===void 0?!0:e}function dc(e,t,s){if(tp&&mh){let l=rw.get(e);l||rw.set(e,l=new Map);let c=l.get(s);c||l.set(s,c=h3()),vE(c)}}function vE(e,t){let s=!1;u1<=ow?mE(e)||(e.n|=lp,s=!fE(e)):s=!e.has(mh),s&&(e.add(mh),mh.deps.push(e))}function Jd(e,t,s,l,c,d){const m=rw.get(e);if(!m)return;let n=[];if(t==="clear")n=[...m.values()];else if(s==="length"&&an(e)){const w=Kd(l);m.forEach(($,ee)=>{(ee==="length"||ee>=w)&&n.push($)})}else switch(s!==void 0&&n.push(m.get(s)),t){case"add":an(e)?c3(s)&&n.push(m.get("length")):(n.push(m.get(Af)),im(e)&&n.push(m.get(aw)));break;case"delete":an(e)||(n.push(m.get(Af)),im(e)&&n.push(m.get(aw)));break;case"set":im(e)&&n.push(m.get(Af));break}if(n.length===1)n[0]&&lw(n[0]);else{const w=[];for(const $ of n)$&&w.push(...$);lw(h3(w))}}function lw(e,t){const s=an(e)?e:[...e];for(const l of s)l.computed&&uS(l);for(const l of s)l.computed||uS(l)}function uS(e,t){(e!==mh||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const W6=Al("__proto__,__v_isRef,__isVue"),xE=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ap)),X6=Uv(),Y6=Uv(!1,!0),q6=Uv(!0),Z6=Uv(!0,!0),pS=K6();function K6(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const l=Rs(this);for(let d=0,m=this.length;d<m;d++)dc(l,"get",d+"");const c=l[t](...s);return c===-1||c===!1?l[t](...s.map(Rs)):c}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Em();const l=Rs(this)[t].apply(this,s);return Cm(),l}}),e}function Uv(e=!1,t=!1){return function(l,c,d){if(c==="__v_isReactive")return!e;if(c==="__v_isReadonly")return e;if(c==="__v_isShallow")return t;if(c==="__v_raw"&&d===(e?t?ME:CE:t?EE:SE).get(l))return l;const m=an(l);if(!e&&m&&Hs(pS,c))return Reflect.get(pS,c,d);const n=Reflect.get(l,c,d);return(ap(c)?xE.has(c):W6(c))||(e||dc(l,"get",c),t)?n:zo(n)?m&&c3(c)?n:n.value:hr(n)?e?$v(n):U1(n):n}}const J6=bE(),Q6=bE(!0);function bE(e=!1){return function(s,l,c,d){let m=s[l];if(cp(m)&&zo(m)&&!zo(c))return!1;if(!e&&(!pm(c)&&!cp(c)&&(m=Rs(m),c=Rs(c)),!an(s)&&zo(m)&&!zo(c)))return m.value=c,!0;const n=an(s)&&c3(l)?Number(l)<s.length:Hs(s,l),w=Reflect.set(s,l,c,d);return s===Rs(d)&&(n?um(c,m)&&Jd(s,"set",l,c):Jd(s,"add",l,c)),w}}function ek(e,t){const s=Hs(e,t);e[t];const l=Reflect.deleteProperty(e,t);return l&&s&&Jd(e,"delete",t,void 0),l}function tk(e,t){const s=Reflect.has(e,t);return(!ap(t)||!xE.has(t))&&dc(e,"has",t),s}function ik(e){return dc(e,"iterate",an(e)?"length":Af),Reflect.ownKeys(e)}const wE={get:X6,set:J6,deleteProperty:ek,has:tk,ownKeys:ik},TE={get:q6,set(e,t){return!0},deleteProperty(e,t){return!0}},nk=Js({},wE,{get:Y6,set:Q6}),sk=Js({},TE,{get:Z6}),d3=e=>e,Gv=e=>Reflect.getPrototypeOf(e);function wy(e,t,s=!1,l=!1){e=e.__v_raw;const c=Rs(e),d=Rs(t);s||(t!==d&&dc(c,"get",t),dc(c,"get",d));const{has:m}=Gv(c),n=l?d3:s?p3:T1;if(m.call(c,t))return n(e.get(t));if(m.call(c,d))return n(e.get(d));e!==c&&e.get(t)}function Ty(e,t=!1){const s=this.__v_raw,l=Rs(s),c=Rs(e);return t||(e!==c&&dc(l,"has",e),dc(l,"has",c)),e===c?s.has(e):s.has(e)||s.has(c)}function Sy(e,t=!1){return e=e.__v_raw,!t&&dc(Rs(e),"iterate",Af),Reflect.get(e,"size",e)}function fS(e){e=Rs(e);const t=Rs(this);return Gv(t).has.call(t,e)||(t.add(e),Jd(t,"add",e,e)),this}function mS(e,t){t=Rs(t);const s=Rs(this),{has:l,get:c}=Gv(s);let d=l.call(s,e);d||(e=Rs(e),d=l.call(s,e));const m=c.call(s,e);return s.set(e,t),d?um(t,m)&&Jd(s,"set",e,t):Jd(s,"add",e,t),this}function gS(e){const t=Rs(this),{has:s,get:l}=Gv(t);let c=s.call(t,e);c||(e=Rs(e),c=s.call(t,e)),l&&l.call(t,e);const d=t.delete(e);return c&&Jd(t,"delete",e,void 0),d}function _S(){const e=Rs(this),t=e.size!==0,s=e.clear();return t&&Jd(e,"clear",void 0,void 0),s}function Ey(e,t){return function(l,c){const d=this,m=d.__v_raw,n=Rs(m),w=t?d3:e?p3:T1;return!e&&dc(n,"iterate",Af),m.forEach(($,ee)=>l.call(c,w($),w(ee),d))}}function Cy(e,t,s){return function(...l){const c=this.__v_raw,d=Rs(c),m=im(d),n=e==="entries"||e===Symbol.iterator&&m,w=e==="keys"&&m,$=c[e](...l),ee=s?d3:t?p3:T1;return!t&&dc(d,"iterate",w?aw:Af),{next(){const{value:z,done:Y}=$.next();return Y?{value:z,done:Y}:{value:n?[ee(z[0]),ee(z[1])]:ee(z),done:Y}},[Symbol.iterator](){return this}}}}function Hu(e){return function(...t){return e==="delete"?!1:this}}function rk(){const e={get(d){return wy(this,d)},get size(){return Sy(this)},has:Ty,add:fS,set:mS,delete:gS,clear:_S,forEach:Ey(!1,!1)},t={get(d){return wy(this,d,!1,!0)},get size(){return Sy(this)},has:Ty,add:fS,set:mS,delete:gS,clear:_S,forEach:Ey(!1,!0)},s={get(d){return wy(this,d,!0)},get size(){return Sy(this,!0)},has(d){return Ty.call(this,d,!0)},add:Hu("add"),set:Hu("set"),delete:Hu("delete"),clear:Hu("clear"),forEach:Ey(!0,!1)},l={get(d){return wy(this,d,!0,!0)},get size(){return Sy(this,!0)},has(d){return Ty.call(this,d,!0)},add:Hu("add"),set:Hu("set"),delete:Hu("delete"),clear:Hu("clear"),forEach:Ey(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=Cy(d,!1,!1),s[d]=Cy(d,!0,!1),t[d]=Cy(d,!1,!0),l[d]=Cy(d,!0,!0)}),[e,s,t,l]}const[ok,ak,lk,ck]=rk();function Vv(e,t){const s=t?e?ck:lk:e?ak:ok;return(l,c,d)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?l:Reflect.get(Hs(s,c)&&c in l?s:l,c,d)}const hk={get:Vv(!1,!1)},dk={get:Vv(!1,!0)},uk={get:Vv(!0,!1)},pk={get:Vv(!0,!0)},SE=new WeakMap,EE=new WeakMap,CE=new WeakMap,ME=new WeakMap;function fk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mk(e){return e.__v_skip||!Object.isExtensible(e)?0:fk(N6(e))}function U1(e){return cp(e)?e:Hv(e,!1,wE,hk,SE)}function u3(e){return Hv(e,!1,nk,dk,EE)}function $v(e){return Hv(e,!0,TE,uk,CE)}function AE(e){return Hv(e,!0,sk,pk,ME)}function Hv(e,t,s,l,c){if(!hr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const d=c.get(e);if(d)return d;const m=mk(e);if(m===0)return e;const n=new Proxy(e,m===2?l:s);return c.set(e,n),n}function ip(e){return cp(e)?ip(e.__v_raw):!!(e&&e.__v_isReactive)}function cp(e){return!!(e&&e.__v_isReadonly)}function pm(e){return!!(e&&e.__v_isShallow)}function Wv(e){return ip(e)||cp(e)}function Rs(e){const t=e&&e.__v_raw;return t?Rs(t):e}function Xv(e){return rv(e,"__v_skip",!0),e}const T1=e=>hr(e)?U1(e):e,p3=e=>hr(e)?$v(e):e;function f3(e){tp&&mh&&(e=Rs(e),vE(e.dep||(e.dep=h3())))}function Yv(e,t){e=Rs(e),e.dep&&lw(e.dep)}function zo(e){return!!(e&&e.__v_isRef===!0)}function Zr(e){return PE(e,!1)}function kE(e){return PE(e,!0)}function PE(e,t){return zo(e)?e:new gk(e,t)}class gk{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:Rs(t),this._value=s?t:T1(t)}get value(){return f3(this),this._value}set value(t){const s=this.__v_isShallow||pm(t)||cp(t);t=s?t:Rs(t),um(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:T1(t),Yv(this))}}function DE(e){Yv(e)}function xo(e){return zo(e)?e.value:e}const _k={get:(e,t,s)=>xo(Reflect.get(e,t,s)),set:(e,t,s,l)=>{const c=e[t];return zo(c)&&!zo(s)?(c.value=s,!0):Reflect.set(e,t,s,l)}};function qv(e){return ip(e)?e:new Proxy(e,_k)}class yk{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:l}=t(()=>f3(this),()=>Yv(this));this._get=s,this._set=l}get value(){return this._get()}set value(t){this._set(t)}}function IE(e){return new yk(e)}function LE(e){const t=an(e)?new Array(e.length):{};for(const s in e)t[s]=m3(e,s);return t}class vk{constructor(t,s,l){this._object=t,this._key=s,this._defaultValue=l,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function m3(e,t,s){const l=e[t];return zo(l)?l:new vk(e,t,s)}var OE;class xk{constructor(t,s,l,c){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[OE]=!1,this._dirty=!0,this.effect=new Sm(t,()=>{this._dirty||(this._dirty=!0,Yv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!c,this.__v_isReadonly=l}get value(){const t=Rs(this);return f3(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}OE="__v_isReadonly";function bk(e,t,s=!1){let l,c;const d=Xn(e);return d?(l=e,c=el):(l=e.get,c=e.set),new xk(l,c,d||!c,s)}function RE(e,...t){}function id(e,t,s,l){let c;try{c=l?e(...l):e()}catch(d){yp(d,t,s)}return c}function Ml(e,t,s,l){if(Xn(e)){const d=id(e,t,s,l);return d&&l3(d)&&d.catch(m=>{yp(m,t,s)}),d}const c=[];for(let d=0;d<e.length;d++)c.push(Ml(e[d],t,s,l));return c}function yp(e,t,s,l=!0){const c=t?t.vnode:null;if(t){let d=t.parent;const m=t.proxy,n=s;for(;d;){const $=d.ec;if($){for(let ee=0;ee<$.length;ee++)if($[ee](e,m,n)===!1)return}d=d.parent}const w=t.appContext.config.errorHandler;if(w){id(w,null,10,[e,m,n]);return}}wk(e,s,c,l)}function wk(e,t,s,l=!0){console.error(e)}let S1=!1,cw=!1;const Ia=[];let Kh=0;const sm=[];let Gd=null,xf=0;const BE=Promise.resolve();let g3=null;function Mm(e){const t=g3||BE;return e?t.then(this?e.bind(this):e):t}function Tk(e){let t=Kh+1,s=Ia.length;for(;t<s;){const l=t+s>>>1;E1(Ia[l])<e?t=l+1:s=l}return t}function Zv(e){(!Ia.length||!Ia.includes(e,S1&&e.allowRecurse?Kh+1:Kh))&&(e.id==null?Ia.push(e):Ia.splice(Tk(e.id),0,e),zE())}function zE(){!S1&&!cw&&(cw=!0,g3=BE.then(FE))}function Sk(e){const t=Ia.indexOf(e);t>Kh&&Ia.splice(t,1)}function Kv(e){an(e)?sm.push(...e):(!Gd||!Gd.includes(e,e.allowRecurse?xf+1:xf))&&sm.push(e),zE()}function yS(e,t=S1?Kh+1:0){for(;t<Ia.length;t++){const s=Ia[t];s&&s.pre&&(Ia.splice(t,1),t--,s())}}function ov(e){if(sm.length){const t=[...new Set(sm)];if(sm.length=0,Gd){Gd.push(...t);return}for(Gd=t,Gd.sort((s,l)=>E1(s)-E1(l)),xf=0;xf<Gd.length;xf++)Gd[xf]();Gd=null,xf=0}}const E1=e=>e.id==null?1/0:e.id,Ek=(e,t)=>{const s=E1(e)-E1(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function FE(e){cw=!1,S1=!0,Ia.sort(Ek);const t=el;try{for(Kh=0;Kh<Ia.length;Kh++){const s=Ia[Kh];s&&s.active!==!1&&id(s,null,14)}}finally{Kh=0,Ia.length=0,ov(),S1=!1,g3=null,(Ia.length||sm.length)&&FE()}}let bf,My=[];function _3(e,t){var s,l;bf=e,bf?(bf.enabled=!0,My.forEach(({event:c,args:d})=>bf.emit(c,...d)),My=[]):typeof window<"u"&&window.HTMLElement&&!(!((l=(s=window.navigator)===null||s===void 0?void 0:s.userAgent)===null||l===void 0)&&l.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(d=>{_3(d,t)}),setTimeout(()=>{bf||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,My=[])},3e3)):My=[]}function Ck(e,t,...s){if(e.isUnmounted)return;const l=e.vnode.props||or;let c=s;const d=t.startsWith("update:"),m=d&&t.slice(7);if(m&&m in l){const ee=`${m==="modelValue"?"model":m}Modifiers`,{number:z,trim:Y}=l[ee]||or;Y&&(c=s.map(Q=>ss(Q)?Q.trim():Q)),z&&(c=s.map(Kd))}let n,w=l[n=Mf(t)]||l[n=Mf(na(t))];!w&&d&&(w=l[n=Mf(cc(t))]),w&&Ml(w,e,6,c);const $=l[n+"Once"];if($){if(!e.emitted)e.emitted={};else if(e.emitted[n])return;e.emitted[n]=!0,Ml($,e,6,c)}}function NE(e,t,s=!1){const l=t.emitsCache,c=l.get(e);if(c!==void 0)return c;const d=e.emits;let m={},n=!1;if(!Xn(e)){const w=$=>{const ee=NE($,t,!0);ee&&(n=!0,Js(m,ee))};!s&&t.mixins.length&&t.mixins.forEach(w),e.extends&&w(e.extends),e.mixins&&e.mixins.forEach(w)}return!d&&!n?(hr(e)&&l.set(e,null),null):(an(d)?d.forEach(w=>m[w]=null):Js(m,d),hr(e)&&l.set(e,m),m)}function Jv(e,t){return!e||!Ff(t)?!1:(t=t.slice(2).replace(/Once$/,""),Hs(e,t[0].toLowerCase()+t.slice(1))||Hs(e,cc(t))||Hs(e,t))}let ga=null,Qv=null;function C1(e){const t=ga;return ga=e,Qv=e&&e.type.__scopeId||null,t}function jf(e){Qv=e}function Uf(){Qv=null}const jE=e=>Ur;function Ur(e,t=ga,s){if(!t||e._n)return e;const l=(...c)=>{l._d&&cv(-1);const d=C1(t);let m;try{m=e(...c)}finally{C1(d),l._d&&cv(1)}return m};return l._n=!0,l._c=!0,l._d=!0,l}function Wy(e){const{type:t,vnode:s,proxy:l,withProxy:c,props:d,propsOptions:[m],slots:n,attrs:w,emit:$,render:ee,renderCache:z,data:Y,setupState:Q,ctx:I,inheritAttrs:O}=e;let H,A;const E=C1(e);try{if(s.shapeFlag&4){const G=c||l;H=ac(ee.call(G,G,z,d,Q,Y,I)),A=w}else{const G=t;H=ac(G.length>1?G(d,{attrs:w,slots:n,emit:$}):G(d,null)),A=t.props?w:Ak(w)}}catch(G){g1.length=0,yp(G,e,1),H=Yi(_a)}let P=H;if(A&&O!==!1){const G=Object.keys(A),{shapeFlag:V}=P;G.length&&V&7&&(m&&G.some(o3)&&(A=kk(A,m)),P=yh(P,A))}return s.dirs&&(P=yh(P),P.dirs=P.dirs?P.dirs.concat(s.dirs):s.dirs),s.transition&&(P.transition=s.transition),H=P,C1(E),H}function Mk(e){let t;for(let s=0;s<e.length;s++){const l=e[s];if(Qd(l)){if(l.type!==_a||l.children==="v-if"){if(t)return;t=l}}else return}return t}const Ak=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ff(s))&&((t||(t={}))[s]=e[s]);return t},kk=(e,t)=>{const s={};for(const l in e)(!o3(l)||!(l.slice(9)in t))&&(s[l]=e[l]);return s};function Pk(e,t,s){const{props:l,children:c,component:d}=e,{props:m,children:n,patchFlag:w}=t,$=d.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&w>=0){if(w&1024)return!0;if(w&16)return l?vS(l,m,$):!!m;if(w&8){const ee=t.dynamicProps;for(let z=0;z<ee.length;z++){const Y=ee[z];if(m[Y]!==l[Y]&&!Jv($,Y))return!0}}}else return(c||n)&&(!n||!n.$stable)?!0:l===m?!1:l?m?vS(l,m,$):!0:!!m;return!1}function vS(e,t,s){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let c=0;c<l.length;c++){const d=l[c];if(t[d]!==e[d]&&!Jv(s,d))return!0}return!1}function y3({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const UE=e=>e.__isSuspense,Dk={name:"Suspense",__isSuspense:!0,process(e,t,s,l,c,d,m,n,w,$){e==null?Ik(t,s,l,c,d,m,n,w,$):Lk(e,t,s,l,c,m,n,w,$)},hydrate:Ok,create:v3,normalize:Rk},GE=Dk;function M1(e,t){const s=e.props&&e.props[t];Xn(s)&&s()}function Ik(e,t,s,l,c,d,m,n,w){const{p:$,o:{createElement:ee}}=w,z=ee("div"),Y=e.suspense=v3(e,c,l,t,z,s,d,m,n,w);$(null,Y.pendingBranch=e.ssContent,z,null,l,Y,d,m),Y.deps>0?(M1(e,"onPending"),M1(e,"onFallback"),$(null,e.ssFallback,t,s,l,null,d,m),rm(Y,e.ssFallback)):Y.resolve()}function Lk(e,t,s,l,c,d,m,n,{p:w,um:$,o:{createElement:ee}}){const z=t.suspense=e.suspense;z.vnode=t,t.el=e.el;const Y=t.ssContent,Q=t.ssFallback,{activeBranch:I,pendingBranch:O,isInFallback:H,isHydrating:A}=z;if(O)z.pendingBranch=Y,Jh(Y,O)?(w(O,Y,z.hiddenContainer,null,c,z,d,m,n),z.deps<=0?z.resolve():H&&(w(I,Q,s,l,c,null,d,m,n),rm(z,Q))):(z.pendingId++,A?(z.isHydrating=!1,z.activeBranch=O):$(O,c,z),z.deps=0,z.effects.length=0,z.hiddenContainer=ee("div"),H?(w(null,Y,z.hiddenContainer,null,c,z,d,m,n),z.deps<=0?z.resolve():(w(I,Q,s,l,c,null,d,m,n),rm(z,Q))):I&&Jh(Y,I)?(w(I,Y,s,l,c,z,d,m,n),z.resolve(!0)):(w(null,Y,z.hiddenContainer,null,c,z,d,m,n),z.deps<=0&&z.resolve()));else if(I&&Jh(Y,I))w(I,Y,s,l,c,z,d,m,n),rm(z,Y);else if(M1(t,"onPending"),z.pendingBranch=Y,z.pendingId++,w(null,Y,z.hiddenContainer,null,c,z,d,m,n),z.deps<=0)z.resolve();else{const{timeout:E,pendingId:P}=z;E>0?setTimeout(()=>{z.pendingId===P&&z.fallback(Q)},E):E===0&&z.fallback(Q)}}function v3(e,t,s,l,c,d,m,n,w,$,ee=!1){const{p:z,m:Y,um:Q,n:I,o:{parentNode:O,remove:H}}=$,A=Kd(e.props&&e.props.timeout),E={vnode:e,parent:t,parentComponent:s,isSVG:m,container:l,hiddenContainer:c,anchor:d,deps:0,pendingId:0,timeout:typeof A=="number"?A:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:ee,isUnmounted:!1,effects:[],resolve(P=!1){const{vnode:G,activeBranch:V,pendingBranch:C,pendingId:ne,effects:te,parentComponent:F,container:N}=E;if(E.isHydrating)E.isHydrating=!1;else if(!P){const L=V&&C.transition&&C.transition.mode==="out-in";L&&(V.transition.afterLeave=()=>{ne===E.pendingId&&Y(C,N,f,0)});let{anchor:f}=E;V&&(f=I(V),Q(V,F,E,!0)),L||Y(C,N,f,0)}rm(E,C),E.pendingBranch=null,E.isInFallback=!1;let X=E.parent,M=!1;for(;X;){if(X.pendingBranch){X.effects.push(...te),M=!0;break}X=X.parent}M||Kv(te),E.effects=[],M1(G,"onResolve")},fallback(P){if(!E.pendingBranch)return;const{vnode:G,activeBranch:V,parentComponent:C,container:ne,isSVG:te}=E;M1(G,"onFallback");const F=I(V),N=()=>{E.isInFallback&&(z(null,P,ne,F,C,null,te,n,w),rm(E,P))},X=P.transition&&P.transition.mode==="out-in";X&&(V.transition.afterLeave=N),E.isInFallback=!0,Q(V,C,null,!0),X||N()},move(P,G,V){E.activeBranch&&Y(E.activeBranch,P,G,V),E.container=P},next(){return E.activeBranch&&I(E.activeBranch)},registerDep(P,G){const V=!!E.pendingBranch;V&&E.deps++;const C=P.vnode.el;P.asyncDep.catch(ne=>{yp(ne,P,0)}).then(ne=>{if(P.isUnmounted||E.isUnmounted||E.pendingId!==P.suspenseId)return;P.asyncResolved=!0;const{vnode:te}=P;gw(P,ne,!1),C&&(te.el=C);const F=!C&&P.subTree.el;G(P,te,O(C||P.subTree.el),C?null:I(P.subTree),E,m,w),F&&H(F),y3(P,te.el),V&&--E.deps===0&&E.resolve()})},unmount(P,G){E.isUnmounted=!0,E.activeBranch&&Q(E.activeBranch,s,P,G),E.pendingBranch&&Q(E.pendingBranch,s,P,G)}};return E}function Ok(e,t,s,l,c,d,m,n,w){const $=t.suspense=v3(t,l,s,e.parentNode,document.createElement("div"),null,c,d,m,n,!0),ee=w(e,$.pendingBranch=t.ssContent,s,$,d,m);return $.deps===0&&$.resolve(),ee}function Rk(e){const{shapeFlag:t,children:s}=e,l=t&32;e.ssContent=xS(l?s.default:s),e.ssFallback=l?xS(s.fallback):Yi(_a)}function xS(e){let t;if(Xn(e)){const s=Rf&&e._c;s&&(e._d=!1,Mi()),e=e(),s&&(e._d=!0,t=El,uC())}return an(e)&&(e=Mk(e)),e=ac(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(s=>s!==e)),e}function VE(e,t){t&&t.pendingBranch?an(e)?t.effects.push(...e):t.effects.push(e):Kv(e)}function rm(e,t){e.activeBranch=t;const{vnode:s,parentComponent:l}=e,c=s.el=t.el;l&&l.subTree===s&&(l.vnode.el=c,y3(l,c))}function Am(e,t){if(Bo){let s=Bo.provides;const l=Bo.parent&&Bo.parent.provides;l===s&&(s=Bo.provides=Object.create(l)),s[e]=t}}function kf(e,t,s=!1){const l=Bo||ga;if(l){const c=l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides;if(c&&e in c)return c[e];if(arguments.length>1)return s&&Xn(t)?t.call(l.proxy):t}}function $E(e,t){return G1(e,null,t)}function x3(e,t){return G1(e,null,{flush:"post"})}function HE(e,t){return G1(e,null,{flush:"sync"})}const Ay={};function $c(e,t,s){return G1(e,t,s)}function G1(e,t,{immediate:s,deep:l,flush:c,onTrack:d,onTrigger:m}=or){const n=Bo;let w,$=!1,ee=!1;if(zo(e)?(w=()=>e.value,$=pm(e)):ip(e)?(w=()=>e,l=!0):an(e)?(ee=!0,$=e.some(P=>ip(P)||pm(P)),w=()=>e.map(P=>{if(zo(P))return P.value;if(ip(P))return Tf(P);if(Xn(P))return id(P,n,2)})):Xn(e)?t?w=()=>id(e,n,2):w=()=>{if(!(n&&n.isUnmounted))return z&&z(),Ml(e,n,3,[Y])}:w=el,t&&l){const P=w;w=()=>Tf(P())}let z,Y=P=>{z=A.onStop=()=>{id(P,n,4)}},Q;if(fm)if(Y=el,t?s&&Ml(t,n,3,[w(),ee?[]:void 0,Y]):w(),c==="sync"){const P=N3();Q=P.__watcherHandles||(P.__watcherHandles=[])}else return el;let I=ee?new Array(e.length).fill(Ay):Ay;const O=()=>{if(A.active)if(t){const P=A.run();(l||$||(ee?P.some((G,V)=>um(G,I[V])):um(P,I)))&&(z&&z(),Ml(t,n,3,[P,I===Ay?void 0:ee&&I[0]===Ay?[]:I,Y]),I=P)}else A.run()};O.allowRecurse=!!t;let H;c==="sync"?H=O:c==="post"?H=()=>ma(O,n&&n.suspense):(O.pre=!0,n&&(O.id=n.uid),H=()=>Zv(O));const A=new Sm(w,H);t?s?O():I=A.run():c==="post"?ma(A.run.bind(A),n&&n.suspense):A.run();const E=()=>{A.stop(),n&&n.scope&&a3(n.scope.effects,A)};return Q&&Q.push(E),E}function Bk(e,t,s){const l=this.proxy,c=ss(e)?e.includes(".")?WE(l,e):()=>l[e]:e.bind(l,l);let d;Xn(t)?d=t:(d=t.handler,s=t);const m=Bo;up(this);const n=G1(c,d.bind(l),s);return m?up(m):sp(),n}function WE(e,t){const s=t.split(".");return()=>{let l=e;for(let c=0;c<s.length&&l;c++)l=l[s[c]];return l}}function Tf(e,t){if(!hr(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),zo(e))Tf(e.value,t);else if(an(e))for(let s=0;s<e.length;s++)Tf(e[s],t);else if(Nf(e)||im(e))e.forEach(s=>{Tf(s,t)});else if(cE(e))for(const s in e)Tf(e[s],t);return e}function ex(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return sd(()=>{e.isMounted=!0}),Vf(()=>{e.isUnmounting=!0}),e}const Fc=[Function,Array],zk={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fc,onEnter:Fc,onAfterEnter:Fc,onEnterCancelled:Fc,onBeforeLeave:Fc,onLeave:Fc,onAfterLeave:Fc,onLeaveCancelled:Fc,onBeforeAppear:Fc,onAppear:Fc,onAfterAppear:Fc,onAppearCancelled:Fc},setup(e,{slots:t}){const s=ru(),l=ex();let c;return()=>{const d=t.default&&V1(t.default(),!0);if(!d||!d.length)return;let m=d[0];if(d.length>1){for(const O of d)if(O.type!==_a){m=O;break}}const n=Rs(e),{mode:w}=n;if(l.isLeaving)return Eb(m);const $=bS(m);if(!$)return Eb(m);const ee=Of($,n,l,s);hp($,ee);const z=s.subTree,Y=z&&bS(z);let Q=!1;const{getTransitionKey:I}=$.type;if(I){const O=I();c===void 0?c=O:O!==c&&(c=O,Q=!0)}if(Y&&Y.type!==_a&&(!Jh($,Y)||Q)){const O=Of(Y,n,l,s);if(hp(Y,O),w==="out-in")return l.isLeaving=!0,O.afterLeave=()=>{l.isLeaving=!1,s.update.active!==!1&&s.update()},Eb(m);w==="in-out"&&$.type!==_a&&(O.delayLeave=(H,A,E)=>{const P=XE(l,Y);P[String(Y.key)]=Y,H._leaveCb=()=>{A(),H._leaveCb=void 0,delete ee.delayedLeave},ee.delayedLeave=E})}return m}}},tx=zk;function XE(e,t){const{leavingVNodes:s}=e;let l=s.get(t.type);return l||(l=Object.create(null),s.set(t.type,l)),l}function Of(e,t,s,l){const{appear:c,mode:d,persisted:m=!1,onBeforeEnter:n,onEnter:w,onAfterEnter:$,onEnterCancelled:ee,onBeforeLeave:z,onLeave:Y,onAfterLeave:Q,onLeaveCancelled:I,onBeforeAppear:O,onAppear:H,onAfterAppear:A,onAppearCancelled:E}=t,P=String(e.key),G=XE(s,e),V=(te,F)=>{te&&Ml(te,l,9,F)},C=(te,F)=>{const N=F[1];V(te,F),an(te)?te.every(X=>X.length<=1)&&N():te.length<=1&&N()},ne={mode:d,persisted:m,beforeEnter(te){let F=n;if(!s.isMounted)if(c)F=O||n;else return;te._leaveCb&&te._leaveCb(!0);const N=G[P];N&&Jh(e,N)&&N.el._leaveCb&&N.el._leaveCb(),V(F,[te])},enter(te){let F=w,N=$,X=ee;if(!s.isMounted)if(c)F=H||w,N=A||$,X=E||ee;else return;let M=!1;const L=te._enterCb=f=>{M||(M=!0,f?V(X,[te]):V(N,[te]),ne.delayedLeave&&ne.delayedLeave(),te._enterCb=void 0)};F?C(F,[te,L]):L()},leave(te,F){const N=String(e.key);if(te._enterCb&&te._enterCb(!0),s.isUnmounting)return F();V(z,[te]);let X=!1;const M=te._leaveCb=L=>{X||(X=!0,F(),L?V(I,[te]):V(Q,[te]),te._leaveCb=void 0,G[N]===e&&delete G[N])};G[N]=e,Y?C(Y,[te,M]):M()},clone(te){return Of(te,t,s,l)}};return ne}function Eb(e){if($1(e))return e=yh(e),e.children=null,e}function bS(e){return $1(e)?e.children?e.children[0]:void 0:e}function hp(e,t){e.shapeFlag&6&&e.component?hp(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function V1(e,t=!1,s){let l=[],c=0;for(let d=0;d<e.length;d++){let m=e[d];const n=s==null?m.key:String(s)+String(m.key!=null?m.key:d);m.type===Ts?(m.patchFlag&128&&c++,l=l.concat(V1(m.children,t,n))):(t||m.type!==_a)&&l.push(n!=null?yh(m,{key:n}):m)}if(c>1)for(let d=0;d<l.length;d++)l[d].patchFlag=-2;return l}function ix(e){return Xn(e)?{setup:e,name:e.name}:e}const Pf=e=>!!e.type.__asyncLoader;function YE(e){Xn(e)&&(e={loader:e});const{loader:t,loadingComponent:s,errorComponent:l,delay:c=200,timeout:d,suspensible:m=!0,onError:n}=e;let w=null,$,ee=0;const z=()=>(ee++,w=null,Y()),Y=()=>{let Q;return w||(Q=w=t().catch(I=>{if(I=I instanceof Error?I:new Error(String(I)),n)return new Promise((O,H)=>{n(I,()=>O(z()),()=>H(I),ee+1)});throw I}).then(I=>Q!==w&&w?w:(I&&(I.__esModule||I[Symbol.toStringTag]==="Module")&&(I=I.default),$=I,I)))};return ix({name:"AsyncComponentWrapper",__asyncLoader:Y,get __asyncResolved(){return $},setup(){const Q=Bo;if($)return()=>Cb($,Q);const I=E=>{w=null,yp(E,Q,13,!l)};if(m&&Q.suspense||fm)return Y().then(E=>()=>Cb(E,Q)).catch(E=>(I(E),()=>l?Yi(l,{error:E}):null));const O=Zr(!1),H=Zr(),A=Zr(!!c);return c&&setTimeout(()=>{A.value=!1},c),d!=null&&setTimeout(()=>{if(!O.value&&!H.value){const E=new Error(`Async component timed out after ${d}ms.`);I(E),H.value=E}},d),Y().then(()=>{O.value=!0,Q.parent&&$1(Q.parent.vnode)&&Zv(Q.parent.update)}).catch(E=>{I(E),H.value=E}),()=>{if(O.value&&$)return Cb($,Q);if(H.value&&l)return Yi(l,{error:H.value});if(s&&!A.value)return Yi(s)}}})}function Cb(e,t){const{ref:s,props:l,children:c,ce:d}=t.vnode,m=Yi(e,l,c);return m.ref=s,m.ce=d,delete t.vnode.ce,m}const $1=e=>e.type.__isKeepAlive,Fk={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const s=ru(),l=s.ctx;if(!l.renderer)return()=>{const E=t.default&&t.default();return E&&E.length===1?E[0]:E};const c=new Map,d=new Set;let m=null;const n=s.suspense,{renderer:{p:w,m:$,um:ee,o:{createElement:z}}}=l,Y=z("div");l.activate=(E,P,G,V,C)=>{const ne=E.component;$(E,P,G,0,n),w(ne.vnode,E,P,G,ne,n,V,E.slotScopeIds,C),ma(()=>{ne.isDeactivated=!1,ne.a&&nm(ne.a);const te=E.props&&E.props.onVnodeMounted;te&&Tl(te,ne.parent,E)},n)},l.deactivate=E=>{const P=E.component;$(E,Y,null,1,n),ma(()=>{P.da&&nm(P.da);const G=E.props&&E.props.onVnodeUnmounted;G&&Tl(G,P.parent,E),P.isDeactivated=!0},n)};function Q(E){Mb(E),ee(E,s,n,!0)}function I(E){c.forEach((P,G)=>{const V=yw(P.type);V&&(!E||!E(V))&&O(G)})}function O(E){const P=c.get(E);!m||P.type!==m.type?Q(P):m&&Mb(m),c.delete(E),d.delete(E)}$c(()=>[e.include,e.exclude],([E,P])=>{E&&I(G=>p1(E,G)),P&&I(G=>!p1(P,G))},{flush:"post",deep:!0});let H=null;const A=()=>{H!=null&&c.set(H,Ab(s.subTree))};return sd(A),Gf(A),Vf(()=>{c.forEach(E=>{const{subTree:P,suspense:G}=s,V=Ab(P);if(E.type===V.type){Mb(V);const C=V.component.da;C&&ma(C,G);return}Q(E)})}),()=>{if(H=null,!t.default)return null;const E=t.default(),P=E[0];if(E.length>1)return m=null,E;if(!Qd(P)||!(P.shapeFlag&4)&&!(P.shapeFlag&128))return m=null,P;let G=Ab(P);const V=G.type,C=yw(Pf(G)?G.type.__asyncResolved||{}:V),{include:ne,exclude:te,max:F}=e;if(ne&&(!C||!p1(ne,C))||te&&C&&p1(te,C))return m=G,P;const N=G.key==null?V:G.key,X=c.get(N);return G.el&&(G=yh(G),P.shapeFlag&128&&(P.ssContent=G)),H=N,X?(G.el=X.el,G.component=X.component,G.transition&&hp(G,G.transition),G.shapeFlag|=512,d.delete(N),d.add(N)):(d.add(N),F&&d.size>parseInt(F,10)&&O(d.values().next().value)),G.shapeFlag|=256,m=G,UE(P.type)?P:G}}},qE=Fk;function p1(e,t){return an(e)?e.some(s=>p1(s,t)):ss(e)?e.split(",").includes(t):e.test?e.test(t):!1}function b3(e,t){ZE(e,"a",t)}function w3(e,t){ZE(e,"da",t)}function ZE(e,t,s=Bo){const l=e.__wdc||(e.__wdc=()=>{let c=s;for(;c;){if(c.isDeactivated)return;c=c.parent}return e()});if(nx(t,l,s),s){let c=s.parent;for(;c&&c.parent;)$1(c.parent.vnode)&&Nk(l,t,s,c),c=c.parent}}function Nk(e,t,s,l){const c=nx(t,e,l,!0);$f(()=>{a3(l[t],c)},s)}function Mb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ab(e){return e.shapeFlag&128?e.ssContent:e}function nx(e,t,s=Bo,l=!1){if(s){const c=s[e]||(s[e]=[]),d=t.__weh||(t.__weh=(...m)=>{if(s.isUnmounted)return;Em(),up(s);const n=Ml(t,s,e,m);return sp(),Cm(),n});return l?c.unshift(d):c.push(d),d}}const su=e=>(t,s=Bo)=>(!fm||e==="sp")&&nx(e,(...l)=>t(...l),s),T3=su("bm"),sd=su("m"),sx=su("bu"),Gf=su("u"),Vf=su("bum"),$f=su("um"),S3=su("sp"),E3=su("rtg"),C3=su("rtc");function M3(e,t=Bo){nx("ec",e,t)}function La(e,t){const s=ga;if(s===null)return e;const l=lx(s)||s.proxy,c=e.dirs||(e.dirs=[]);for(let d=0;d<t.length;d++){let[m,n,w,$=or]=t[d];m&&(Xn(m)&&(m={mounted:m,updated:m}),m.deep&&Tf(n),c.push({dir:m,instance:l,value:n,oldValue:void 0,arg:w,modifiers:$}))}return e}function Zh(e,t,s,l){const c=e.dirs,d=t&&t.dirs;for(let m=0;m<c.length;m++){const n=c[m];d&&(n.oldValue=d[m].value);let w=n.dir[l];w&&(Em(),Ml(w,s,8,[e.el,n,e,t]),Cm())}}const A3="components",jk="directives";function ts(e,t){return k3(A3,e,!0,t)||e}const KE=Symbol();function JE(e){return ss(e)?k3(A3,e,!1)||e:e||KE}function rx(e){return k3(jk,e)}function k3(e,t,s=!0,l=!1){const c=ga||Bo;if(c){const d=c.type;if(e===A3){const n=yw(d,!1);if(n&&(n===t||n===na(t)||n===_p(na(t))))return d}const m=wS(c[e]||d[e],t)||wS(c.appContext[e],t);return!m&&l?d:m}}function wS(e,t){return e&&(e[t]||e[na(t)]||e[_p(na(t))])}function Fo(e,t,s,l){let c;const d=s&&s[l];if(an(e)||ss(e)){c=new Array(e.length);for(let m=0,n=e.length;m<n;m++)c[m]=t(e[m],m,void 0,d&&d[m])}else if(typeof e=="number"){c=new Array(e);for(let m=0;m<e;m++)c[m]=t(m+1,m,void 0,d&&d[m])}else if(hr(e))if(e[Symbol.iterator])c=Array.from(e,(m,n)=>t(m,n,void 0,d&&d[n]));else{const m=Object.keys(e);c=new Array(m.length);for(let n=0,w=m.length;n<w;n++){const $=m[n];c[n]=t(e[$],$,n,d&&d[n])}}else c=[];return s&&(s[l]=c),c}function QE(e,t){for(let s=0;s<t.length;s++){const l=t[s];if(an(l))for(let c=0;c<l.length;c++)e[l[c].name]=l[c].fn;else l&&(e[l.name]=l.key?(...c)=>{const d=l.fn(...c);return d&&(d.key=l.key),d}:l.fn)}return e}function fh(e,t,s={},l,c){if(ga.isCE||ga.parent&&Pf(ga.parent)&&ga.parent.isCE)return t!=="default"&&(s.name=t),Yi("slot",s,l&&l());let d=e[t];d&&d._c&&(d._d=!1),Mi();const m=d&&eC(d(s)),n=Hc(Ts,{key:s.key||m&&m.key||`_${t}`},m||(l?l():[]),m&&e._===1?64:-2);return!c&&n.scopeId&&(n.slotScopeIds=[n.scopeId+"-s"]),d&&d._c&&(d._d=!0),n}function eC(e){return e.some(t=>Qd(t)?!(t.type===_a||t.type===Ts&&!eC(t.children)):!0)?e:null}function tC(e,t){const s={};for(const l in e)s[t&&/[A-Z]/.test(l)?`on:${l}`:Mf(l)]=e[l];return s}const hw=e=>e?_C(e)?lx(e)||e.proxy:hw(e.parent):null,f1=Js(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hw(e.parent),$root:e=>hw(e.root),$emit:e=>e.emit,$options:e=>P3(e),$forceUpdate:e=>e.f||(e.f=()=>Zv(e.update)),$nextTick:e=>e.n||(e.n=Mm.bind(e.proxy)),$watch:e=>Bk.bind(e)}),kb=(e,t)=>e!==or&&!e.__isScriptSetup&&Hs(e,t),dw={get({_:e},t){const{ctx:s,setupState:l,data:c,props:d,accessCache:m,type:n,appContext:w}=e;let $;if(t[0]!=="$"){const Q=m[t];if(Q!==void 0)switch(Q){case 1:return l[t];case 2:return c[t];case 4:return s[t];case 3:return d[t]}else{if(kb(l,t))return m[t]=1,l[t];if(c!==or&&Hs(c,t))return m[t]=2,c[t];if(($=e.propsOptions[0])&&Hs($,t))return m[t]=3,d[t];if(s!==or&&Hs(s,t))return m[t]=4,s[t];uw&&(m[t]=0)}}const ee=f1[t];let z,Y;if(ee)return t==="$attrs"&&dc(e,"get",t),ee(e);if((z=n.__cssModules)&&(z=z[t]))return z;if(s!==or&&Hs(s,t))return m[t]=4,s[t];if(Y=w.config.globalProperties,Hs(Y,t))return Y[t]},set({_:e},t,s){const{data:l,setupState:c,ctx:d}=e;return kb(c,t)?(c[t]=s,!0):l!==or&&Hs(l,t)?(l[t]=s,!0):Hs(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(d[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:l,appContext:c,propsOptions:d}},m){let n;return!!s[m]||e!==or&&Hs(e,m)||kb(t,m)||(n=d[0])&&Hs(n,m)||Hs(l,m)||Hs(f1,m)||Hs(c.config.globalProperties,m)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Hs(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}},Uk=Js({},dw,{get(e,t){if(t!==Symbol.unscopables)return dw.get(e,t,e)},has(e,t){return t[0]!=="_"&&!S6(t)}});let uw=!0;function Gk(e){const t=P3(e),s=e.proxy,l=e.ctx;uw=!1,t.beforeCreate&&TS(t.beforeCreate,e,"bc");const{data:c,computed:d,methods:m,watch:n,provide:w,inject:$,created:ee,beforeMount:z,mounted:Y,beforeUpdate:Q,updated:I,activated:O,deactivated:H,beforeDestroy:A,beforeUnmount:E,destroyed:P,unmounted:G,render:V,renderTracked:C,renderTriggered:ne,errorCaptured:te,serverPrefetch:F,expose:N,inheritAttrs:X,components:M,directives:L,filters:f}=t;if($&&Vk($,l,null,e.appContext.config.unwrapInjectedRef),m)for(const S in m){const j=m[S];Xn(j)&&(l[S]=j.bind(s))}if(c){const S=c.call(s,s);hr(S)&&(e.data=U1(S))}if(uw=!0,d)for(const S in d){const j=d[S],J=Xn(j)?j.bind(s,s):Xn(j.get)?j.get.bind(s,s):el,W=!Xn(j)&&Xn(j.set)?j.set.bind(s):el,re=km({get:J,set:W});Object.defineProperty(l,S,{enumerable:!0,configurable:!0,get:()=>re.value,set:ue=>re.value=ue})}if(n)for(const S in n)iC(n[S],l,s,S);if(w){const S=Xn(w)?w.call(s):w;Reflect.ownKeys(S).forEach(j=>{Am(j,S[j])})}ee&&TS(ee,e,"c");function b(S,j){an(j)?j.forEach(J=>S(J.bind(s))):j&&S(j.bind(s))}if(b(T3,z),b(sd,Y),b(sx,Q),b(Gf,I),b(b3,O),b(w3,H),b(M3,te),b(C3,C),b(E3,ne),b(Vf,E),b($f,G),b(S3,F),an(N))if(N.length){const S=e.exposed||(e.exposed={});N.forEach(j=>{Object.defineProperty(S,j,{get:()=>s[j],set:J=>s[j]=J})})}else e.exposed||(e.exposed={});V&&e.render===el&&(e.render=V),X!=null&&(e.inheritAttrs=X),M&&(e.components=M),L&&(e.directives=L)}function Vk(e,t,s=el,l=!1){an(e)&&(e=pw(e));for(const c in e){const d=e[c];let m;hr(d)?"default"in d?m=kf(d.from||c,d.default,!0):m=kf(d.from||c):m=kf(d),zo(m)&&l?Object.defineProperty(t,c,{enumerable:!0,configurable:!0,get:()=>m.value,set:n=>m.value=n}):t[c]=m}}function TS(e,t,s){Ml(an(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,s)}function iC(e,t,s,l){const c=l.includes(".")?WE(s,l):()=>s[l];if(ss(e)){const d=t[e];Xn(d)&&$c(c,d)}else if(Xn(e))$c(c,e.bind(s));else if(hr(e))if(an(e))e.forEach(d=>iC(d,t,s,l));else{const d=Xn(e.handler)?e.handler.bind(s):t[e.handler];Xn(d)&&$c(c,d,e)}}function P3(e){const t=e.type,{mixins:s,extends:l}=t,{mixins:c,optionsCache:d,config:{optionMergeStrategies:m}}=e.appContext,n=d.get(t);let w;return n?w=n:!c.length&&!s&&!l?w=t:(w={},c.length&&c.forEach($=>av(w,$,m,!0)),av(w,t,m)),hr(t)&&d.set(t,w),w}function av(e,t,s,l=!1){const{mixins:c,extends:d}=t;d&&av(e,d,s,!0),c&&c.forEach(m=>av(e,m,s,!0));for(const m in t)if(!(l&&m==="expose")){const n=$k[m]||s&&s[m];e[m]=n?n(e[m],t[m]):t[m]}return e}const $k={data:SS,props:yf,emits:yf,methods:yf,computed:yf,beforeCreate:Qa,created:Qa,beforeMount:Qa,mounted:Qa,beforeUpdate:Qa,updated:Qa,beforeDestroy:Qa,beforeUnmount:Qa,destroyed:Qa,unmounted:Qa,activated:Qa,deactivated:Qa,errorCaptured:Qa,serverPrefetch:Qa,components:yf,directives:yf,watch:Wk,provide:SS,inject:Hk};function SS(e,t){return t?e?function(){return Js(Xn(e)?e.call(this,this):e,Xn(t)?t.call(this,this):t)}:t:e}function Hk(e,t){return yf(pw(e),pw(t))}function pw(e){if(an(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Qa(e,t){return e?[...new Set([].concat(e,t))]:t}function yf(e,t){return e?Js(Js(Object.create(null),e),t):t}function Wk(e,t){if(!e)return t;if(!t)return e;const s=Js(Object.create(null),e);for(const l in t)s[l]=Qa(e[l],t[l]);return s}function Xk(e,t,s,l=!1){const c={},d={};rv(d,ox,1),e.propsDefaults=Object.create(null),nC(e,t,c,d);for(const m in e.propsOptions[0])m in c||(c[m]=void 0);s?e.props=l?c:u3(c):e.type.props?e.props=c:e.props=d,e.attrs=d}function Yk(e,t,s,l){const{props:c,attrs:d,vnode:{patchFlag:m}}=e,n=Rs(c),[w]=e.propsOptions;let $=!1;if((l||m>0)&&!(m&16)){if(m&8){const ee=e.vnode.dynamicProps;for(let z=0;z<ee.length;z++){let Y=ee[z];if(Jv(e.emitsOptions,Y))continue;const Q=t[Y];if(w)if(Hs(d,Y))Q!==d[Y]&&(d[Y]=Q,$=!0);else{const I=na(Y);c[I]=fw(w,n,I,Q,e,!1)}else Q!==d[Y]&&(d[Y]=Q,$=!0)}}}else{nC(e,t,c,d)&&($=!0);let ee;for(const z in n)(!t||!Hs(t,z)&&((ee=cc(z))===z||!Hs(t,ee)))&&(w?s&&(s[z]!==void 0||s[ee]!==void 0)&&(c[z]=fw(w,n,z,void 0,e,!0)):delete c[z]);if(d!==n)for(const z in d)(!t||!Hs(t,z))&&(delete d[z],$=!0)}$&&Jd(e,"set","$attrs")}function nC(e,t,s,l){const[c,d]=e.propsOptions;let m=!1,n;if(t)for(let w in t){if(Cf(w))continue;const $=t[w];let ee;c&&Hs(c,ee=na(w))?!d||!d.includes(ee)?s[ee]=$:(n||(n={}))[ee]=$:Jv(e.emitsOptions,w)||(!(w in l)||$!==l[w])&&(l[w]=$,m=!0)}if(d){const w=Rs(s),$=n||or;for(let ee=0;ee<d.length;ee++){const z=d[ee];s[z]=fw(c,w,z,$[z],e,!Hs($,z))}}return m}function fw(e,t,s,l,c,d){const m=e[s];if(m!=null){const n=Hs(m,"default");if(n&&l===void 0){const w=m.default;if(m.type!==Function&&Xn(w)){const{propsDefaults:$}=c;s in $?l=$[s]:(up(c),l=$[s]=w.call(null,t),sp())}else l=w}m[0]&&(d&&!n?l=!1:m[1]&&(l===""||l===cc(s))&&(l=!0))}return l}function sC(e,t,s=!1){const l=t.propsCache,c=l.get(e);if(c)return c;const d=e.props,m={},n=[];let w=!1;if(!Xn(e)){const ee=z=>{w=!0;const[Y,Q]=sC(z,t,!0);Js(m,Y),Q&&n.push(...Q)};!s&&t.mixins.length&&t.mixins.forEach(ee),e.extends&&ee(e.extends),e.mixins&&e.mixins.forEach(ee)}if(!d&&!w)return hr(e)&&l.set(e,tm),tm;if(an(d))for(let ee=0;ee<d.length;ee++){const z=na(d[ee]);ES(z)&&(m[z]=or)}else if(d)for(const ee in d){const z=na(ee);if(ES(z)){const Y=d[ee],Q=m[z]=an(Y)||Xn(Y)?{type:Y}:Object.assign({},Y);if(Q){const I=AS(Boolean,Q.type),O=AS(String,Q.type);Q[0]=I>-1,Q[1]=O<0||I<O,(I>-1||Hs(Q,"default"))&&n.push(z)}}}const $=[m,n];return hr(e)&&l.set(e,$),$}function ES(e){return e[0]!=="$"}function CS(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function MS(e,t){return CS(e)===CS(t)}function AS(e,t){return an(t)?t.findIndex(s=>MS(s,e)):Xn(t)&&MS(t,e)?0:-1}const rC=e=>e[0]==="_"||e==="$stable",D3=e=>an(e)?e.map(ac):[ac(e)],qk=(e,t,s)=>{if(t._n)return t;const l=Ur((...c)=>D3(t(...c)),s);return l._c=!1,l},oC=(e,t,s)=>{const l=e._ctx;for(const c in e){if(rC(c))continue;const d=e[c];if(Xn(d))t[c]=qk(c,d,l);else if(d!=null){const m=D3(d);t[c]=()=>m}}},aC=(e,t)=>{const s=D3(t);e.slots.default=()=>s},Zk=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=Rs(t),rv(t,"_",s)):oC(t,e.slots={})}else e.slots={},t&&aC(e,t);rv(e.slots,ox,1)},Kk=(e,t,s)=>{const{vnode:l,slots:c}=e;let d=!0,m=or;if(l.shapeFlag&32){const n=t._;n?s&&n===1?d=!1:(Js(c,t),!s&&n===1&&delete c._):(d=!t.$stable,oC(t,c)),m=t}else t&&(aC(e,t),m={default:1});if(d)for(const n in c)!rC(n)&&!(n in m)&&delete c[n]};function lC(){return{app:null,config:{isNativeTag:Hy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jk=0;function Qk(e,t){return function(l,c=null){Xn(l)||(l=Object.assign({},l)),c!=null&&!hr(c)&&(c=null);const d=lC(),m=new Set;let n=!1;const w=d.app={_uid:Jk++,_component:l,_props:c,_container:null,_context:d,_instance:null,version:U3,get config(){return d.config},set config($){},use($,...ee){return m.has($)||($&&Xn($.install)?(m.add($),$.install(w,...ee)):Xn($)&&(m.add($),$(w,...ee))),w},mixin($){return d.mixins.includes($)||d.mixins.push($),w},component($,ee){return ee?(d.components[$]=ee,w):d.components[$]},directive($,ee){return ee?(d.directives[$]=ee,w):d.directives[$]},mount($,ee,z){if(!n){const Y=Yi(l,c);return Y.appContext=d,ee&&t?t(Y,$):e(Y,$,z),n=!0,w._container=$,$.__vue_app__=w,lx(Y.component)||Y.component.proxy}},unmount(){n&&(e(null,w._container),delete w._container.__vue_app__)},provide($,ee){return d.provides[$]=ee,w}};return w}}function lv(e,t,s,l,c=!1){if(an(e)){e.forEach((Y,Q)=>lv(Y,t&&(an(t)?t[Q]:t),s,l,c));return}if(Pf(l)&&!c)return;const d=l.shapeFlag&4?lx(l.component)||l.component.proxy:l.el,m=c?null:d,{i:n,r:w}=e,$=t&&t.r,ee=n.refs===or?n.refs={}:n.refs,z=n.setupState;if($!=null&&$!==w&&(ss($)?(ee[$]=null,Hs(z,$)&&(z[$]=null)):zo($)&&($.value=null)),Xn(w))id(w,n,12,[m,ee]);else{const Y=ss(w),Q=zo(w);if(Y||Q){const I=()=>{if(e.f){const O=Y?Hs(z,w)?z[w]:ee[w]:w.value;c?an(O)&&a3(O,d):an(O)?O.includes(d)||O.push(d):Y?(ee[w]=[d],Hs(z,w)&&(z[w]=ee[w])):(w.value=[d],e.k&&(ee[e.k]=w.value))}else Y?(ee[w]=m,Hs(z,w)&&(z[w]=m)):Q&&(w.value=m,e.k&&(ee[e.k]=m))};m?(I.id=-1,ma(I,s)):I()}}}let Wu=!1;const ky=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Py=e=>e.nodeType===8;function eP(e){const{mt:t,p:s,o:{patchProp:l,createText:c,nextSibling:d,parentNode:m,remove:n,insert:w,createComment:$}}=e,ee=(A,E)=>{if(!E.hasChildNodes()){s(null,A,E),ov(),E._vnode=A;return}Wu=!1,z(E.firstChild,A,null,null,null),ov(),E._vnode=A,Wu&&console.error("Hydration completed but contains mismatches.")},z=(A,E,P,G,V,C=!1)=>{const ne=Py(A)&&A.data==="[",te=()=>O(A,E,P,G,V,ne),{type:F,ref:N,shapeFlag:X,patchFlag:M}=E;let L=A.nodeType;E.el=A,M===-2&&(C=!1,E.dynamicChildren=null);let f=null;switch(F){case dp:L!==3?E.children===""?(w(E.el=c(""),m(A),A),f=A):f=te():(A.data!==E.children&&(Wu=!0,A.data=E.children),f=d(A));break;case _a:L!==8||ne?f=te():f=d(A);break;case np:if(ne&&(A=d(A),L=A.nodeType),L===1||L===3){f=A;const y=!E.children.length;for(let b=0;b<E.staticCount;b++)y&&(E.children+=f.nodeType===1?f.outerHTML:f.data),b===E.staticCount-1&&(E.anchor=f),f=d(f);return ne?d(f):f}else te();break;case Ts:ne?f=I(A,E,P,G,V,C):f=te();break;default:if(X&1)L!==1||E.type.toLowerCase()!==A.tagName.toLowerCase()?f=te():f=Y(A,E,P,G,V,C);else if(X&6){E.slotScopeIds=V;const y=m(A);if(t(E,y,null,P,G,ky(y),C),f=ne?H(A):d(A),f&&Py(f)&&f.data==="teleport end"&&(f=d(f)),Pf(E)){let b;ne?(b=Yi(Ts),b.anchor=f?f.previousSibling:y.lastChild):b=A.nodeType===3?Ro(""):Yi("div"),b.el=A,E.component.subTree=b}}else X&64?L!==8?f=te():f=E.type.hydrate(A,E,P,G,V,C,e,Q):X&128&&(f=E.type.hydrate(A,E,P,G,ky(m(A)),V,C,e,z))}return N!=null&&lv(N,null,G,E),f},Y=(A,E,P,G,V,C)=>{C=C||!!E.dynamicChildren;const{type:ne,props:te,patchFlag:F,shapeFlag:N,dirs:X}=E,M=ne==="input"&&X||ne==="option";if(M||F!==-1){if(X&&Zh(E,null,P,"created"),te)if(M||!C||F&48)for(const f in te)(M&&f.endsWith("value")||Ff(f)&&!Cf(f))&&l(A,f,null,te[f],!1,void 0,P);else te.onClick&&l(A,"onClick",null,te.onClick,!1,void 0,P);let L;if((L=te&&te.onVnodeBeforeMount)&&Tl(L,P,E),X&&Zh(E,null,P,"beforeMount"),((L=te&&te.onVnodeMounted)||X)&&VE(()=>{L&&Tl(L,P,E),X&&Zh(E,null,P,"mounted")},G),N&16&&!(te&&(te.innerHTML||te.textContent))){let f=Q(A.firstChild,E,A,P,G,V,C);for(;f;){Wu=!0;const y=f;f=f.nextSibling,n(y)}}else N&8&&A.textContent!==E.children&&(Wu=!0,A.textContent=E.children)}return A.nextSibling},Q=(A,E,P,G,V,C,ne)=>{ne=ne||!!E.dynamicChildren;const te=E.children,F=te.length;for(let N=0;N<F;N++){const X=ne?te[N]:te[N]=ac(te[N]);if(A)A=z(A,X,G,V,C,ne);else{if(X.type===dp&&!X.children)continue;Wu=!0,s(null,X,P,null,G,V,ky(P),C)}}return A},I=(A,E,P,G,V,C)=>{const{slotScopeIds:ne}=E;ne&&(V=V?V.concat(ne):ne);const te=m(A),F=Q(d(A),E,te,P,G,V,C);return F&&Py(F)&&F.data==="]"?d(E.anchor=F):(Wu=!0,w(E.anchor=$("]"),te,F),F)},O=(A,E,P,G,V,C)=>{if(Wu=!0,E.el=null,C){const F=H(A);for(;;){const N=d(A);if(N&&N!==F)n(N);else break}}const ne=d(A),te=m(A);return n(A),s(null,E,te,ne,P,G,ky(te),V),ne},H=A=>{let E=0;for(;A;)if(A=d(A),A&&Py(A)&&(A.data==="["&&E++,A.data==="]")){if(E===0)return d(A);E--}return A};return[ee,z]}const ma=VE;function I3(e){return cC(e)}function L3(e){return cC(e,eP)}function cC(e,t){const s=V6();s.__VUE__=!0;const{insert:l,remove:c,patchProp:d,createElement:m,createText:n,createComment:w,setText:$,setElementText:ee,parentNode:z,nextSibling:Y,setScopeId:Q=el,insertStaticContent:I}=e,O=(le,Z,me,Me=null,Ee=null,ze=null,Qe=!1,Ke=null,ct=!!Z.dynamicChildren)=>{if(le===Z)return;le&&!Jh(le,Z)&&(Me=xe(le),ue(le,Ee,ze,!0),le=null),Z.patchFlag===-2&&(ct=!1,Z.dynamicChildren=null);const{type:Ie,ref:Be,shapeFlag:Ue}=Z;switch(Ie){case dp:H(le,Z,me,Me);break;case _a:A(le,Z,me,Me);break;case np:le==null&&E(Z,me,Me,Qe);break;case Ts:M(le,Z,me,Me,Ee,ze,Qe,Ke,ct);break;default:Ue&1?V(le,Z,me,Me,Ee,ze,Qe,Ke,ct):Ue&6?L(le,Z,me,Me,Ee,ze,Qe,Ke,ct):(Ue&64||Ue&128)&&Ie.process(le,Z,me,Me,Ee,ze,Qe,Ke,ct,ce)}Be!=null&&Ee&&lv(Be,le&&le.ref,ze,Z||le,!Z)},H=(le,Z,me,Me)=>{if(le==null)l(Z.el=n(Z.children),me,Me);else{const Ee=Z.el=le.el;Z.children!==le.children&&$(Ee,Z.children)}},A=(le,Z,me,Me)=>{le==null?l(Z.el=w(Z.children||""),me,Me):Z.el=le.el},E=(le,Z,me,Me)=>{[le.el,le.anchor]=I(le.children,Z,me,Me,le.el,le.anchor)},P=({el:le,anchor:Z},me,Me)=>{let Ee;for(;le&&le!==Z;)Ee=Y(le),l(le,me,Me),le=Ee;l(Z,me,Me)},G=({el:le,anchor:Z})=>{let me;for(;le&&le!==Z;)me=Y(le),c(le),le=me;c(Z)},V=(le,Z,me,Me,Ee,ze,Qe,Ke,ct)=>{Qe=Qe||Z.type==="svg",le==null?C(Z,me,Me,Ee,ze,Qe,Ke,ct):F(le,Z,Ee,ze,Qe,Ke,ct)},C=(le,Z,me,Me,Ee,ze,Qe,Ke)=>{let ct,Ie;const{type:Be,props:Ue,shapeFlag:We,transition:st,dirs:wt}=le;if(ct=le.el=m(le.type,ze,Ue&&Ue.is,Ue),We&8?ee(ct,le.children):We&16&&te(le.children,ct,null,Me,Ee,ze&&Be!=="foreignObject",Qe,Ke),wt&&Zh(le,null,Me,"created"),Ue){for(const Vt in Ue)Vt!=="value"&&!Cf(Vt)&&d(ct,Vt,null,Ue[Vt],ze,le.children,Me,Ee,pe);"value"in Ue&&d(ct,"value",null,Ue.value),(Ie=Ue.onVnodeBeforeMount)&&Tl(Ie,Me,le)}ne(ct,le,le.scopeId,Qe,Me),wt&&Zh(le,null,Me,"beforeMount");const Ut=(!Ee||Ee&&!Ee.pendingBranch)&&st&&!st.persisted;Ut&&st.beforeEnter(ct),l(ct,Z,me),((Ie=Ue&&Ue.onVnodeMounted)||Ut||wt)&&ma(()=>{Ie&&Tl(Ie,Me,le),Ut&&st.enter(ct),wt&&Zh(le,null,Me,"mounted")},Ee)},ne=(le,Z,me,Me,Ee)=>{if(me&&Q(le,me),Me)for(let ze=0;ze<Me.length;ze++)Q(le,Me[ze]);if(Ee){let ze=Ee.subTree;if(Z===ze){const Qe=Ee.vnode;ne(le,Qe,Qe.scopeId,Qe.slotScopeIds,Ee.parent)}}},te=(le,Z,me,Me,Ee,ze,Qe,Ke,ct=0)=>{for(let Ie=ct;Ie<le.length;Ie++){const Be=le[Ie]=Ke?Zu(le[Ie]):ac(le[Ie]);O(null,Be,Z,me,Me,Ee,ze,Qe,Ke)}},F=(le,Z,me,Me,Ee,ze,Qe)=>{const Ke=Z.el=le.el;let{patchFlag:ct,dynamicChildren:Ie,dirs:Be}=Z;ct|=le.patchFlag&16;const Ue=le.props||or,We=Z.props||or;let st;me&&ff(me,!1),(st=We.onVnodeBeforeUpdate)&&Tl(st,me,Z,le),Be&&Zh(Z,le,me,"beforeUpdate"),me&&ff(me,!0);const wt=Ee&&Z.type!=="foreignObject";if(Ie?N(le.dynamicChildren,Ie,Ke,me,Me,wt,ze):Qe||j(le,Z,Ke,null,me,Me,wt,ze,!1),ct>0){if(ct&16)X(Ke,Z,Ue,We,me,Me,Ee);else if(ct&2&&Ue.class!==We.class&&d(Ke,"class",null,We.class,Ee),ct&4&&d(Ke,"style",Ue.style,We.style,Ee),ct&8){const Ut=Z.dynamicProps;for(let Vt=0;Vt<Ut.length;Vt++){const yi=Ut[Vt],si=Ue[yi],Ai=We[yi];(Ai!==si||yi==="value")&&d(Ke,yi,si,Ai,Ee,le.children,me,Me,pe)}}ct&1&&le.children!==Z.children&&ee(Ke,Z.children)}else!Qe&&Ie==null&&X(Ke,Z,Ue,We,me,Me,Ee);((st=We.onVnodeUpdated)||Be)&&ma(()=>{st&&Tl(st,me,Z,le),Be&&Zh(Z,le,me,"updated")},Me)},N=(le,Z,me,Me,Ee,ze,Qe)=>{for(let Ke=0;Ke<Z.length;Ke++){const ct=le[Ke],Ie=Z[Ke],Be=ct.el&&(ct.type===Ts||!Jh(ct,Ie)||ct.shapeFlag&70)?z(ct.el):me;O(ct,Ie,Be,null,Me,Ee,ze,Qe,!0)}},X=(le,Z,me,Me,Ee,ze,Qe)=>{if(me!==Me){if(me!==or)for(const Ke in me)!Cf(Ke)&&!(Ke in Me)&&d(le,Ke,me[Ke],null,Qe,Z.children,Ee,ze,pe);for(const Ke in Me){if(Cf(Ke))continue;const ct=Me[Ke],Ie=me[Ke];ct!==Ie&&Ke!=="value"&&d(le,Ke,Ie,ct,Qe,Z.children,Ee,ze,pe)}"value"in Me&&d(le,"value",me.value,Me.value)}},M=(le,Z,me,Me,Ee,ze,Qe,Ke,ct)=>{const Ie=Z.el=le?le.el:n(""),Be=Z.anchor=le?le.anchor:n("");let{patchFlag:Ue,dynamicChildren:We,slotScopeIds:st}=Z;st&&(Ke=Ke?Ke.concat(st):st),le==null?(l(Ie,me,Me),l(Be,me,Me),te(Z.children,me,Be,Ee,ze,Qe,Ke,ct)):Ue>0&&Ue&64&&We&&le.dynamicChildren?(N(le.dynamicChildren,We,me,Ee,ze,Qe,Ke),(Z.key!=null||Ee&&Z===Ee.subTree)&&O3(le,Z,!0)):j(le,Z,me,Be,Ee,ze,Qe,Ke,ct)},L=(le,Z,me,Me,Ee,ze,Qe,Ke,ct)=>{Z.slotScopeIds=Ke,le==null?Z.shapeFlag&512?Ee.ctx.activate(Z,me,Me,Qe,ct):f(Z,me,Me,Ee,ze,Qe,ct):y(le,Z,ct)},f=(le,Z,me,Me,Ee,ze,Qe)=>{const Ke=le.component=gC(le,Me,Ee);if($1(le)&&(Ke.ctx.renderer=ce),yC(Ke),Ke.asyncDep){if(Ee&&Ee.registerDep(Ke,b),!le.el){const ct=Ke.subTree=Yi(_a);A(null,ct,Z,me)}return}b(Ke,le,Z,me,Ee,ze,Qe)},y=(le,Z,me)=>{const Me=Z.component=le.component;if(Pk(le,Z,me))if(Me.asyncDep&&!Me.asyncResolved){S(Me,Z,me);return}else Me.next=Z,Sk(Me.update),Me.update();else Z.el=le.el,Me.vnode=Z},b=(le,Z,me,Me,Ee,ze,Qe)=>{const Ke=()=>{if(le.isMounted){let{next:Be,bu:Ue,u:We,parent:st,vnode:wt}=le,Ut=Be,Vt;ff(le,!1),Be?(Be.el=wt.el,S(le,Be,Qe)):Be=wt,Ue&&nm(Ue),(Vt=Be.props&&Be.props.onVnodeBeforeUpdate)&&Tl(Vt,st,Be,wt),ff(le,!0);const yi=Wy(le),si=le.subTree;le.subTree=yi,O(si,yi,z(si.el),xe(si),le,Ee,ze),Be.el=yi.el,Ut===null&&y3(le,yi.el),We&&ma(We,Ee),(Vt=Be.props&&Be.props.onVnodeUpdated)&&ma(()=>Tl(Vt,st,Be,wt),Ee)}else{let Be;const{el:Ue,props:We}=Z,{bm:st,m:wt,parent:Ut}=le,Vt=Pf(Z);if(ff(le,!1),st&&nm(st),!Vt&&(Be=We&&We.onVnodeBeforeMount)&&Tl(Be,Ut,Z),ff(le,!0),Ue&&_e){const yi=()=>{le.subTree=Wy(le),_e(Ue,le.subTree,le,Ee,null)};Vt?Z.type.__asyncLoader().then(()=>!le.isUnmounted&&yi()):yi()}else{const yi=le.subTree=Wy(le);O(null,yi,me,Me,le,Ee,ze),Z.el=yi.el}if(wt&&ma(wt,Ee),!Vt&&(Be=We&&We.onVnodeMounted)){const yi=Z;ma(()=>Tl(Be,Ut,yi),Ee)}(Z.shapeFlag&256||Ut&&Pf(Ut.vnode)&&Ut.vnode.shapeFlag&256)&&le.a&&ma(le.a,Ee),le.isMounted=!0,Z=me=Me=null}},ct=le.effect=new Sm(Ke,()=>Zv(Ie),le.scope),Ie=le.update=()=>ct.run();Ie.id=le.uid,ff(le,!0),Ie()},S=(le,Z,me)=>{Z.component=le;const Me=le.vnode.props;le.vnode=Z,le.next=null,Yk(le,Z.props,Me,me),Kk(le,Z.children,me),Em(),yS(),Cm()},j=(le,Z,me,Me,Ee,ze,Qe,Ke,ct=!1)=>{const Ie=le&&le.children,Be=le?le.shapeFlag:0,Ue=Z.children,{patchFlag:We,shapeFlag:st}=Z;if(We>0){if(We&128){W(Ie,Ue,me,Me,Ee,ze,Qe,Ke,ct);return}else if(We&256){J(Ie,Ue,me,Me,Ee,ze,Qe,Ke,ct);return}}st&8?(Be&16&&pe(Ie,Ee,ze),Ue!==Ie&&ee(me,Ue)):Be&16?st&16?W(Ie,Ue,me,Me,Ee,ze,Qe,Ke,ct):pe(Ie,Ee,ze,!0):(Be&8&&ee(me,""),st&16&&te(Ue,me,Me,Ee,ze,Qe,Ke,ct))},J=(le,Z,me,Me,Ee,ze,Qe,Ke,ct)=>{le=le||tm,Z=Z||tm;const Ie=le.length,Be=Z.length,Ue=Math.min(Ie,Be);let We;for(We=0;We<Ue;We++){const st=Z[We]=ct?Zu(Z[We]):ac(Z[We]);O(le[We],st,me,null,Ee,ze,Qe,Ke,ct)}Ie>Be?pe(le,Ee,ze,!0,!1,Ue):te(Z,me,Me,Ee,ze,Qe,Ke,ct,Ue)},W=(le,Z,me,Me,Ee,ze,Qe,Ke,ct)=>{let Ie=0;const Be=Z.length;let Ue=le.length-1,We=Be-1;for(;Ie<=Ue&&Ie<=We;){const st=le[Ie],wt=Z[Ie]=ct?Zu(Z[Ie]):ac(Z[Ie]);if(Jh(st,wt))O(st,wt,me,null,Ee,ze,Qe,Ke,ct);else break;Ie++}for(;Ie<=Ue&&Ie<=We;){const st=le[Ue],wt=Z[We]=ct?Zu(Z[We]):ac(Z[We]);if(Jh(st,wt))O(st,wt,me,null,Ee,ze,Qe,Ke,ct);else break;Ue--,We--}if(Ie>Ue){if(Ie<=We){const st=We+1,wt=st<Be?Z[st].el:Me;for(;Ie<=We;)O(null,Z[Ie]=ct?Zu(Z[Ie]):ac(Z[Ie]),me,wt,Ee,ze,Qe,Ke,ct),Ie++}}else if(Ie>We)for(;Ie<=Ue;)ue(le[Ie],Ee,ze,!0),Ie++;else{const st=Ie,wt=Ie,Ut=new Map;for(Ie=wt;Ie<=We;Ie++){const Ri=Z[Ie]=ct?Zu(Z[Ie]):ac(Z[Ie]);Ri.key!=null&&Ut.set(Ri.key,Ie)}let Vt,yi=0;const si=We-wt+1;let Ai=!1,$i=0;const Fi=new Array(si);for(Ie=0;Ie<si;Ie++)Fi[Ie]=0;for(Ie=st;Ie<=Ue;Ie++){const Ri=le[Ie];if(yi>=si){ue(Ri,Ee,ze,!0);continue}let yn;if(Ri.key!=null)yn=Ut.get(Ri.key);else for(Vt=wt;Vt<=We;Vt++)if(Fi[Vt-wt]===0&&Jh(Ri,Z[Vt])){yn=Vt;break}yn===void 0?ue(Ri,Ee,ze,!0):(Fi[yn-wt]=Ie+1,yn>=$i?$i=yn:Ai=!0,O(Ri,Z[yn],me,null,Ee,ze,Qe,Ke,ct),yi++)}const Zi=Ai?tP(Fi):tm;for(Vt=Zi.length-1,Ie=si-1;Ie>=0;Ie--){const Ri=wt+Ie,yn=Z[Ri],Tn=Ri+1<Be?Z[Ri+1].el:Me;Fi[Ie]===0?O(null,yn,me,Tn,Ee,ze,Qe,Ke,ct):Ai&&(Vt<0||Ie!==Zi[Vt]?re(yn,me,Tn,2):Vt--)}}},re=(le,Z,me,Me,Ee=null)=>{const{el:ze,type:Qe,transition:Ke,children:ct,shapeFlag:Ie}=le;if(Ie&6){re(le.component.subTree,Z,me,Me);return}if(Ie&128){le.suspense.move(Z,me,Me);return}if(Ie&64){Qe.move(le,Z,me,ce);return}if(Qe===Ts){l(ze,Z,me);for(let Ue=0;Ue<ct.length;Ue++)re(ct[Ue],Z,me,Me);l(le.anchor,Z,me);return}if(Qe===np){P(le,Z,me);return}if(Me!==2&&Ie&1&&Ke)if(Me===0)Ke.beforeEnter(ze),l(ze,Z,me),ma(()=>Ke.enter(ze),Ee);else{const{leave:Ue,delayLeave:We,afterLeave:st}=Ke,wt=()=>l(ze,Z,me),Ut=()=>{Ue(ze,()=>{wt(),st&&st()})};We?We(ze,wt,Ut):Ut()}else l(ze,Z,me)},ue=(le,Z,me,Me=!1,Ee=!1)=>{const{type:ze,props:Qe,ref:Ke,children:ct,dynamicChildren:Ie,shapeFlag:Be,patchFlag:Ue,dirs:We}=le;if(Ke!=null&&lv(Ke,null,me,le,!0),Be&256){Z.ctx.deactivate(le);return}const st=Be&1&&We,wt=!Pf(le);let Ut;if(wt&&(Ut=Qe&&Qe.onVnodeBeforeUnmount)&&Tl(Ut,Z,le),Be&6)se(le.component,me,Me);else{if(Be&128){le.suspense.unmount(me,Me);return}st&&Zh(le,null,Z,"beforeUnmount"),Be&64?le.type.remove(le,Z,me,Ee,ce,Me):Ie&&(ze!==Ts||Ue>0&&Ue&64)?pe(Ie,Z,me,!1,!0):(ze===Ts&&Ue&384||!Ee&&Be&16)&&pe(ct,Z,me),Me&&ve(le)}(wt&&(Ut=Qe&&Qe.onVnodeUnmounted)||st)&&ma(()=>{Ut&&Tl(Ut,Z,le),st&&Zh(le,null,Z,"unmounted")},me)},ve=le=>{const{type:Z,el:me,anchor:Me,transition:Ee}=le;if(Z===Ts){q(me,Me);return}if(Z===np){G(le);return}const ze=()=>{c(me),Ee&&!Ee.persisted&&Ee.afterLeave&&Ee.afterLeave()};if(le.shapeFlag&1&&Ee&&!Ee.persisted){const{leave:Qe,delayLeave:Ke}=Ee,ct=()=>Qe(me,ze);Ke?Ke(le.el,ze,ct):ct()}else ze()},q=(le,Z)=>{let me;for(;le!==Z;)me=Y(le),c(le),le=me;c(Z)},se=(le,Z,me)=>{const{bum:Me,scope:Ee,update:ze,subTree:Qe,um:Ke}=le;Me&&nm(Me),Ee.stop(),ze&&(ze.active=!1,ue(Qe,le,Z,me)),Ke&&ma(Ke,Z),ma(()=>{le.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&le.asyncDep&&!le.asyncResolved&&le.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},pe=(le,Z,me,Me=!1,Ee=!1,ze=0)=>{for(let Qe=ze;Qe<le.length;Qe++)ue(le[Qe],Z,me,Me,Ee)},xe=le=>le.shapeFlag&6?xe(le.component.subTree):le.shapeFlag&128?le.suspense.next():Y(le.anchor||le.el),Pe=(le,Z,me)=>{le==null?Z._vnode&&ue(Z._vnode,null,null,!0):O(Z._vnode||null,le,Z,null,null,null,me),yS(),ov(),Z._vnode=le},ce={p:O,um:ue,m:re,r:ve,mt:f,mc:te,pc:j,pbc:N,n:xe,o:e};let ye,_e;return t&&([ye,_e]=t(ce)),{render:Pe,hydrate:ye,createApp:Qk(Pe,ye)}}function ff({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function O3(e,t,s=!1){const l=e.children,c=t.children;if(an(l)&&an(c))for(let d=0;d<l.length;d++){const m=l[d];let n=c[d];n.shapeFlag&1&&!n.dynamicChildren&&((n.patchFlag<=0||n.patchFlag===32)&&(n=c[d]=Zu(c[d]),n.el=m.el),s||O3(m,n)),n.type===dp&&(n.el=m.el)}}function tP(e){const t=e.slice(),s=[0];let l,c,d,m,n;const w=e.length;for(l=0;l<w;l++){const $=e[l];if($!==0){if(c=s[s.length-1],e[c]<$){t[l]=c,s.push(l);continue}for(d=0,m=s.length-1;d<m;)n=d+m>>1,e[s[n]]<$?d=n+1:m=n;$<e[s[d]]&&(d>0&&(t[l]=s[d-1]),s[d]=l)}}for(d=s.length,m=s[d-1];d-- >0;)s[d]=m,m=t[m];return s}const iP=e=>e.__isTeleport,m1=e=>e&&(e.disabled||e.disabled===""),kS=e=>typeof SVGElement<"u"&&e instanceof SVGElement,mw=(e,t)=>{const s=e&&e.to;return ss(s)?t?t(s):null:s},nP={__isTeleport:!0,process(e,t,s,l,c,d,m,n,w,$){const{mc:ee,pc:z,pbc:Y,o:{insert:Q,querySelector:I,createText:O,createComment:H}}=$,A=m1(t.props);let{shapeFlag:E,children:P,dynamicChildren:G}=t;if(e==null){const V=t.el=O(""),C=t.anchor=O("");Q(V,s,l),Q(C,s,l);const ne=t.target=mw(t.props,I),te=t.targetAnchor=O("");ne&&(Q(te,ne),m=m||kS(ne));const F=(N,X)=>{E&16&&ee(P,N,X,c,d,m,n,w)};A?F(s,C):ne&&F(ne,te)}else{t.el=e.el;const V=t.anchor=e.anchor,C=t.target=e.target,ne=t.targetAnchor=e.targetAnchor,te=m1(e.props),F=te?s:C,N=te?V:ne;if(m=m||kS(C),G?(Y(e.dynamicChildren,G,F,c,d,m,n),O3(e,t,!0)):w||z(e,t,F,N,c,d,m,n,!1),A)te||Dy(t,s,V,$,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const X=t.target=mw(t.props,I);X&&Dy(t,X,null,$,0)}else te&&Dy(t,C,ne,$,1)}dC(t)},remove(e,t,s,l,{um:c,o:{remove:d}},m){const{shapeFlag:n,children:w,anchor:$,targetAnchor:ee,target:z,props:Y}=e;if(z&&d(ee),(m||!m1(Y))&&(d($),n&16))for(let Q=0;Q<w.length;Q++){const I=w[Q];c(I,t,s,!0,!!I.dynamicChildren)}},move:Dy,hydrate:sP};function Dy(e,t,s,{o:{insert:l},m:c},d=2){d===0&&l(e.targetAnchor,t,s);const{el:m,anchor:n,shapeFlag:w,children:$,props:ee}=e,z=d===2;if(z&&l(m,t,s),(!z||m1(ee))&&w&16)for(let Y=0;Y<$.length;Y++)c($[Y],t,s,2);z&&l(n,t,s)}function sP(e,t,s,l,c,d,{o:{nextSibling:m,parentNode:n,querySelector:w}},$){const ee=t.target=mw(t.props,w);if(ee){const z=ee._lpa||ee.firstChild;if(t.shapeFlag&16)if(m1(t.props))t.anchor=$(m(e),t,n(e),s,l,c,d),t.targetAnchor=z;else{t.anchor=m(e);let Y=z;for(;Y;)if(Y=m(Y),Y&&Y.nodeType===8&&Y.data==="teleport anchor"){t.targetAnchor=Y,ee._lpa=t.targetAnchor&&m(t.targetAnchor);break}$(z,t,ee,s,l,c,d)}dC(t)}return t.anchor&&m(t.anchor)}const hC=nP;function dC(e){const t=e.ctx;if(t&&t.ut){let s=e.children[0].el;for(;s!==e.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",t.uid),s=s.nextSibling;t.ut()}}const Ts=Symbol(void 0),dp=Symbol(void 0),_a=Symbol(void 0),np=Symbol(void 0),g1=[];let El=null;function Mi(e=!1){g1.push(El=e?null:[])}function uC(){g1.pop(),El=g1[g1.length-1]||null}let Rf=1;function cv(e){Rf+=e}function pC(e){return e.dynamicChildren=Rf>0?El||tm:null,uC(),Rf>0&&El&&El.push(e),e}function Pi(e,t,s,l,c,d){return pC(at(e,t,s,l,c,d,!0))}function Hc(e,t,s,l,c){return pC(Yi(e,t,s,l,c,!0))}function Qd(e){return e?e.__v_isVNode===!0:!1}function Jh(e,t){return e.type===t.type&&e.key===t.key}function fC(e){}const ox="__vInternal",mC=({key:e})=>e??null,Xy=({ref:e,ref_key:t,ref_for:s})=>e!=null?ss(e)||zo(e)||Xn(e)?{i:ga,r:e,k:t,f:!!s}:e:null;function at(e,t=null,s=null,l=0,c=null,d=e===Ts?0:1,m=!1,n=!1){const w={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&mC(t),ref:t&&Xy(t),scopeId:Qv,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:l,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:ga};return n?(R3(w,s),d&128&&e.normalize(w)):s&&(w.shapeFlag|=ss(s)?8:16),Rf>0&&!m&&El&&(w.patchFlag>0||d&6)&&w.patchFlag!==32&&El.push(w),w}const Yi=rP;function rP(e,t=null,s=null,l=0,c=null,d=!1){if((!e||e===KE)&&(e=_a),Qd(e)){const n=yh(e,t,!0);return s&&R3(n,s),Rf>0&&!d&&El&&(n.shapeFlag&6?El[El.indexOf(e)]=n:El.push(n)),n.patchFlag|=-2,n}if(hP(e)&&(e=e.__vccOpts),t){t=A1(t);let{class:n,style:w}=t;n&&!ss(n)&&(t.class=Dr(n)),hr(w)&&(Wv(w)&&!an(w)&&(w=Js({},w)),t.style=nu(w))}const m=ss(e)?1:UE(e)?128:iP(e)?64:hr(e)?4:Xn(e)?2:0;return at(e,t,s,l,c,m,d,!0)}function A1(e){return e?Wv(e)||ox in e?Js({},e):e:null}function yh(e,t,s=!1){const{props:l,ref:c,patchFlag:d,children:m}=e,n=t?ax(l||{},t):l;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:n,key:n&&mC(n),ref:t&&t.ref?s&&c?an(c)?c.concat(Xy(t)):[c,Xy(t)]:Xy(t):c,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ts?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yh(e.ssContent),ssFallback:e.ssFallback&&yh(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Ro(e=" ",t=0){return Yi(dp,null,e,t)}function bh(e,t){const s=Yi(np,null,e);return s.staticCount=t,s}function Wn(e="",t=!1){return t?(Mi(),Hc(_a,null,e)):Yi(_a,null,e)}function ac(e){return e==null||typeof e=="boolean"?Yi(_a):an(e)?Yi(Ts,null,e.slice()):typeof e=="object"?Zu(e):Yi(dp,null,String(e))}function Zu(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:yh(e)}function R3(e,t){let s=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(an(t))s=16;else if(typeof t=="object")if(l&65){const c=t.default;c&&(c._c&&(c._d=!1),R3(e,c()),c._c&&(c._d=!0));return}else{s=32;const c=t._;!c&&!(ox in t)?t._ctx=ga:c===3&&ga&&(ga.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Xn(t)?(t={default:t,_ctx:ga},s=32):(t=String(t),l&64?(s=16,t=[Ro(t)]):s=8);e.children=t,e.shapeFlag|=s}function ax(...e){const t={};for(let s=0;s<e.length;s++){const l=e[s];for(const c in l)if(c==="class")t.class!==l.class&&(t.class=Dr([t.class,l.class]));else if(c==="style")t.style=nu([t.style,l.style]);else if(Ff(c)){const d=t[c],m=l[c];m&&d!==m&&!(an(d)&&d.includes(m))&&(t[c]=d?[].concat(d,m):m)}else c!==""&&(t[c]=l[c])}return t}function Tl(e,t,s,l=null){Ml(e,t,7,[s,l])}const oP=lC();let aP=0;function gC(e,t,s){const l=e.type,c=(t?t.appContext:e.appContext)||oP,d={uid:aP++,vnode:e,type:l,parent:t,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,scope:new jv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(c.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sC(l,c),emitsOptions:NE(l,c),emit:null,emitted:null,propsDefaults:or,inheritAttrs:l.inheritAttrs,ctx:or,data:or,props:or,attrs:or,slots:or,refs:or,setupState:or,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=Ck.bind(null,d),e.ce&&e.ce(d),d}let Bo=null;const ru=()=>Bo||ga,up=e=>{Bo=e,e.scope.on()},sp=()=>{Bo&&Bo.scope.off(),Bo=null};function _C(e){return e.vnode.shapeFlag&4}let fm=!1;function yC(e,t=!1){fm=t;const{props:s,children:l}=e.vnode,c=_C(e);Xk(e,s,c,t),Zk(e,l);const d=c?lP(e,t):void 0;return fm=!1,d}function lP(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=Xv(new Proxy(e.ctx,dw));const{setup:l}=s;if(l){const c=e.setupContext=l.length>1?bC(e):null;up(e),Em();const d=id(l,e,0,[e.props,c]);if(Cm(),sp(),l3(d)){if(d.then(sp,sp),t)return d.then(m=>{gw(e,m,t)}).catch(m=>{yp(m,e,0)});e.asyncDep=d}else gw(e,d,t)}else xC(e,t)}function gw(e,t,s){Xn(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:hr(t)&&(e.setupState=qv(t)),xC(e,s)}let hv,_w;function B3(e){hv=e,_w=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Uk))}}const vC=()=>!hv;function xC(e,t,s){const l=e.type;if(!e.render){if(!t&&hv&&!l.render){const c=l.template||P3(e).template;if(c){const{isCustomElement:d,compilerOptions:m}=e.appContext.config,{delimiters:n,compilerOptions:w}=l,$=Js(Js({isCustomElement:d,delimiters:n},m),w);l.render=hv(c,$)}}e.render=l.render||el,_w&&_w(e)}up(e),Em(),Gk(e),Cm(),sp()}function cP(e){return new Proxy(e.attrs,{get(t,s){return dc(e,"get","$attrs"),t[s]}})}function bC(e){const t=l=>{e.exposed=l||{}};let s;return{get attrs(){return s||(s=cP(e))},slots:e.slots,emit:e.emit,expose:t}}function lx(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(qv(Xv(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in f1)return f1[s](e)},has(t,s){return s in t||s in f1}}))}function yw(e,t=!0){return Xn(e)?e.displayName||e.name:e.name||t&&e.__name}function hP(e){return Xn(e)&&"__vccOpts"in e}const km=(e,t)=>bk(e,t,fm);function wC(){return null}function TC(){return null}function SC(e){}function EC(e,t){return null}function CC(){return MC().slots}function z3(){return MC().attrs}function MC(){const e=ru();return e.setupContext||(e.setupContext=bC(e))}function AC(e,t){const s=an(e)?e.reduce((l,c)=>(l[c]={},l),{}):e;for(const l in t){const c=s[l];c?an(c)||Xn(c)?s[l]={type:c,default:t[l]}:c.default=t[l]:c===null&&(s[l]={default:t[l]})}return s}function kC(e,t){const s={};for(const l in e)t.includes(l)||Object.defineProperty(s,l,{enumerable:!0,get:()=>e[l]});return s}function PC(e){const t=ru();let s=e();return sp(),l3(s)&&(s=s.catch(l=>{throw up(t),l})),[s,()=>up(t)]}function Sl(e,t,s){const l=arguments.length;return l===2?hr(t)&&!an(t)?Qd(t)?Yi(e,null,[t]):Yi(e,t):Yi(e,null,t):(l>3?s=Array.prototype.slice.call(arguments,2):l===3&&Qd(s)&&(s=[s]),Yi(e,t,s))}const F3=Symbol(""),N3=()=>kf(F3);function DC(){}function IC(e,t,s,l){const c=s[l];if(c&&j3(c,e))return c;const d=t();return d.memo=e.slice(),s[l]=d}function j3(e,t){const s=e.memo;if(s.length!=t.length)return!1;for(let l=0;l<s.length;l++)if(um(s[l],t[l]))return!1;return Rf>0&&El&&El.push(e),!0}const U3="3.2.45",dP={createComponentInstance:gC,setupComponent:yC,renderComponentRoot:Wy,setCurrentRenderingInstance:C1,isVNode:Qd,normalizeVNode:ac},LC=dP,OC=null,RC=null,uP="http://www.w3.org/2000/svg",wf=typeof document<"u"?document:null,PS=wf&&wf.createElement("template"),pP={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,l)=>{const c=t?wf.createElementNS(uP,e):wf.createElement(e,s?{is:s}:void 0);return e==="select"&&l&&l.multiple!=null&&c.setAttribute("multiple",l.multiple),c},createText:e=>wf.createTextNode(e),createComment:e=>wf.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wf.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,l,c,d){const m=s?s.previousSibling:t.lastChild;if(c&&(c===d||c.nextSibling))for(;t.insertBefore(c.cloneNode(!0),s),!(c===d||!(c=c.nextSibling)););else{PS.innerHTML=l?`<svg>${e}</svg>`:e;const n=PS.content;if(l){const w=n.firstChild;for(;w.firstChild;)n.appendChild(w.firstChild);n.removeChild(w)}t.insertBefore(n,s)}return[m?m.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function fP(e,t,s){const l=e._vtc;l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function mP(e,t,s){const l=e.style,c=ss(s);if(s&&!c){for(const d in s)vw(l,d,s[d]);if(t&&!ss(t))for(const d in t)s[d]==null&&vw(l,d,"")}else{const d=l.display;c?t!==s&&(l.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(l.display=d)}}const DS=/\s*!important$/;function vw(e,t,s){if(an(s))s.forEach(l=>vw(e,t,l));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const l=gP(e,t);DS.test(s)?e.setProperty(cc(l),s.replace(DS,""),"important"):e[l]=s}}const IS=["Webkit","Moz","ms"],Pb={};function gP(e,t){const s=Pb[t];if(s)return s;let l=na(t);if(l!=="filter"&&l in e)return Pb[t]=l;l=_p(l);for(let c=0;c<IS.length;c++){const d=IS[c]+l;if(d in e)return Pb[t]=d}return t}const LS="http://www.w3.org/1999/xlink";function _P(e,t,s,l,c){if(l&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(LS,t.slice(6,t.length)):e.setAttributeNS(LS,t,s);else{const d=R6(t);s==null||d&&!oE(s)?e.removeAttribute(t):e.setAttribute(t,d?"":s)}}function yP(e,t,s,l,c,d,m){if(t==="innerHTML"||t==="textContent"){l&&m(l,c,d),e[t]=s??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const w=s??"";(e.value!==w||e.tagName==="OPTION")&&(e.value=w),s==null&&e.removeAttribute(t);return}let n=!1;if(s===""||s==null){const w=typeof e[t];w==="boolean"?s=oE(s):s==null&&w==="string"?(s="",n=!0):w==="number"&&(s=0,n=!0)}try{e[t]=s}catch{}n&&e.removeAttribute(t)}function $d(e,t,s,l){e.addEventListener(t,s,l)}function vP(e,t,s,l){e.removeEventListener(t,s,l)}function xP(e,t,s,l,c=null){const d=e._vei||(e._vei={}),m=d[t];if(l&&m)m.value=l;else{const[n,w]=bP(t);if(l){const $=d[t]=SP(l,c);$d(e,n,$,w)}else m&&(vP(e,n,m,w),d[t]=void 0)}}const OS=/(?:Once|Passive|Capture)$/;function bP(e){let t;if(OS.test(e)){t={};let l;for(;l=e.match(OS);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):cc(e.slice(2)),t]}let Db=0;const wP=Promise.resolve(),TP=()=>Db||(wP.then(()=>Db=0),Db=Date.now());function SP(e,t){const s=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=s.attached)return;Ml(EP(l,s.value),t,5,[l])};return s.value=e,s.attached=TP(),s}function EP(e,t){if(an(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(l=>c=>!c._stopped&&l&&l(c))}else return t}const RS=/^on[a-z]/,CP=(e,t,s,l,c=!1,d,m,n,w)=>{t==="class"?fP(e,l,c):t==="style"?mP(e,s,l):Ff(t)?o3(t)||xP(e,t,s,l,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):MP(e,t,l,c))?yP(e,t,l,d,m,n,w):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),_P(e,t,l,c))};function MP(e,t,s,l){return l?!!(t==="innerHTML"||t==="textContent"||t in e&&RS.test(t)&&Xn(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||RS.test(t)&&ss(s)?!1:t in e}function G3(e,t){const s=ix(e);class l extends H1{constructor(d){super(s,d,t)}}return l.def=s,l}const BC=e=>G3(e,H3),AP=typeof HTMLElement<"u"?HTMLElement:class{};class H1 extends AP{constructor(t,s={},l){super(),this._def=t,this._props=s,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&l?l(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Mm(()=>{this._connected||(dv(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let l=0;l<this.attributes.length;l++)this._setAttr(this.attributes[l].name);new MutationObserver(l=>{for(const c of l)this._setAttr(c.attributeName)}).observe(this,{attributes:!0});const t=(l,c=!1)=>{const{props:d,styles:m}=l;let n;if(d&&!an(d))for(const w in d){const $=d[w];($===Number||$&&$.type===Number)&&(w in this._props&&(this._props[w]=Kd(this._props[w])),(n||(n=Object.create(null)))[na(w)]=!0)}this._numberProps=n,c&&this._resolveProps(l),this._applyStyles(m),this._update()},s=this._def.__asyncLoader;s?s().then(l=>t(l,!0)):t(this._def)}_resolveProps(t){const{props:s}=t,l=an(s)?s:Object.keys(s||{});for(const c of Object.keys(this))c[0]!=="_"&&l.includes(c)&&this._setProp(c,this[c],!0,!1);for(const c of l.map(na))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(d){this._setProp(c,d)}})}_setAttr(t){let s=this.getAttribute(t);const l=na(t);this._numberProps&&this._numberProps[l]&&(s=Kd(s)),this._setProp(l,s,!1)}_getProp(t){return this._props[t]}_setProp(t,s,l=!0,c=!0){s!==this._props[t]&&(this._props[t]=s,c&&this._instance&&this._update(),l&&(s===!0?this.setAttribute(cc(t),""):typeof s=="string"||typeof s=="number"?this.setAttribute(cc(t),s+""):s||this.removeAttribute(cc(t))))}_update(){dv(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Yi(this._def,Js({},this._props));return this._instance||(t.ce=s=>{this._instance=s,s.isCE=!0;const l=(d,m)=>{this.dispatchEvent(new CustomEvent(d,{detail:m}))};s.emit=(d,...m)=>{l(d,m),cc(d)!==d&&l(cc(d),m)};let c=this;for(;c=c&&(c.parentNode||c.host);)if(c instanceof H1){s.parent=c._instance,s.provides=c._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(s=>{const l=document.createElement("style");l.textContent=s,this.shadowRoot.appendChild(l)})}}function zC(e="$style"){{const t=ru();if(!t)return or;const s=t.type.__cssModules;if(!s)return or;const l=s[e];return l||or}}function FC(e){const t=ru();if(!t)return;const s=t.ut=(c=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(d=>bw(d,c))},l=()=>{const c=e(t.proxy);xw(t.subTree,c),s(c)};x3(l),sd(()=>{const c=new MutationObserver(l);c.observe(t.subTree.el.parentNode,{childList:!0}),$f(()=>c.disconnect())})}function xw(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{xw(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)bw(e.el,t);else if(e.type===Ts)e.children.forEach(s=>xw(s,t));else if(e.type===np){let{el:s,anchor:l}=e;for(;s&&(bw(s,t),s!==l);)s=s.nextSibling}}function bw(e,t){if(e.nodeType===1){const s=e.style;for(const l in t)s.setProperty(`--${l}`,t[l])}}const Xu="transition",a1="animation",W1=(e,{slots:t})=>Sl(tx,jC(e),t);W1.displayName="Transition";const NC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},kP=W1.props=Js({},tx.props,NC),mf=(e,t=[])=>{an(e)?e.forEach(s=>s(...t)):e&&e(...t)},BS=e=>e?an(e)?e.some(t=>t.length>1):e.length>1:!1;function jC(e){const t={};for(const M in e)M in NC||(t[M]=e[M]);if(e.css===!1)return t;const{name:s="v",type:l,duration:c,enterFromClass:d=`${s}-enter-from`,enterActiveClass:m=`${s}-enter-active`,enterToClass:n=`${s}-enter-to`,appearFromClass:w=d,appearActiveClass:$=m,appearToClass:ee=n,leaveFromClass:z=`${s}-leave-from`,leaveActiveClass:Y=`${s}-leave-active`,leaveToClass:Q=`${s}-leave-to`}=e,I=PP(c),O=I&&I[0],H=I&&I[1],{onBeforeEnter:A,onEnter:E,onEnterCancelled:P,onLeave:G,onLeaveCancelled:V,onBeforeAppear:C=A,onAppear:ne=E,onAppearCancelled:te=P}=t,F=(M,L,f)=>{qu(M,L?ee:n),qu(M,L?$:m),f&&f()},N=(M,L)=>{M._isLeaving=!1,qu(M,z),qu(M,Q),qu(M,Y),L&&L()},X=M=>(L,f)=>{const y=M?ne:E,b=()=>F(L,M,f);mf(y,[L,b]),zS(()=>{qu(L,M?w:d),Ud(L,M?ee:n),BS(y)||FS(L,l,O,b)})};return Js(t,{onBeforeEnter(M){mf(A,[M]),Ud(M,d),Ud(M,m)},onBeforeAppear(M){mf(C,[M]),Ud(M,w),Ud(M,$)},onEnter:X(!1),onAppear:X(!0),onLeave(M,L){M._isLeaving=!0;const f=()=>N(M,L);Ud(M,z),GC(),Ud(M,Y),zS(()=>{M._isLeaving&&(qu(M,z),Ud(M,Q),BS(G)||FS(M,l,H,f))}),mf(G,[M,f])},onEnterCancelled(M){F(M,!1),mf(P,[M])},onAppearCancelled(M){F(M,!0),mf(te,[M])},onLeaveCancelled(M){N(M),mf(V,[M])}})}function PP(e){if(e==null)return null;if(hr(e))return[Ib(e.enter),Ib(e.leave)];{const t=Ib(e);return[t,t]}}function Ib(e){return Kd(e)}function Ud(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(t)}function qu(e,t){t.split(/\s+/).forEach(l=>l&&e.classList.remove(l));const{_vtc:s}=e;s&&(s.delete(t),s.size||(e._vtc=void 0))}function zS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let DP=0;function FS(e,t,s,l){const c=e._endId=++DP,d=()=>{c===e._endId&&l()};if(s)return setTimeout(d,s);const{type:m,timeout:n,propCount:w}=UC(e,t);if(!m)return l();const $=m+"end";let ee=0;const z=()=>{e.removeEventListener($,Y),d()},Y=Q=>{Q.target===e&&++ee>=w&&z()};setTimeout(()=>{ee<w&&z()},n+1),e.addEventListener($,Y)}function UC(e,t){const s=window.getComputedStyle(e),l=I=>(s[I]||"").split(", "),c=l(`${Xu}Delay`),d=l(`${Xu}Duration`),m=NS(c,d),n=l(`${a1}Delay`),w=l(`${a1}Duration`),$=NS(n,w);let ee=null,z=0,Y=0;t===Xu?m>0&&(ee=Xu,z=m,Y=d.length):t===a1?$>0&&(ee=a1,z=$,Y=w.length):(z=Math.max(m,$),ee=z>0?m>$?Xu:a1:null,Y=ee?ee===Xu?d.length:w.length:0);const Q=ee===Xu&&/\b(transform|all)(,|$)/.test(l(`${Xu}Property`).toString());return{type:ee,timeout:z,propCount:Y,hasTransform:Q}}function NS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,l)=>jS(s)+jS(e[l])))}function jS(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function GC(){return document.body.offsetHeight}const VC=new WeakMap,$C=new WeakMap,IP={name:"TransitionGroup",props:Js({},kP,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=ru(),l=ex();let c,d;return Gf(()=>{if(!c.length)return;const m=e.moveClass||`${e.name||"v"}-move`;if(!BP(c[0].el,s.vnode.el,m))return;c.forEach(LP),c.forEach(OP);const n=c.filter(RP);GC(),n.forEach(w=>{const $=w.el,ee=$.style;Ud($,m),ee.transform=ee.webkitTransform=ee.transitionDuration="";const z=$._moveCb=Y=>{Y&&Y.target!==$||(!Y||/transform$/.test(Y.propertyName))&&($.removeEventListener("transitionend",z),$._moveCb=null,qu($,m))};$.addEventListener("transitionend",z)})}),()=>{const m=Rs(e),n=jC(m);let w=m.tag||Ts;c=d,d=t.default?V1(t.default()):[];for(let $=0;$<d.length;$++){const ee=d[$];ee.key!=null&&hp(ee,Of(ee,n,l,s))}if(c)for(let $=0;$<c.length;$++){const ee=c[$];hp(ee,Of(ee,n,l,s)),VC.set(ee,ee.el.getBoundingClientRect())}return Yi(w,null,d)}}},HC=IP;function LP(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function OP(e){$C.set(e,e.el.getBoundingClientRect())}function RP(e){const t=VC.get(e),s=$C.get(e),l=t.left-s.left,c=t.top-s.top;if(l||c){const d=e.el.style;return d.transform=d.webkitTransform=`translate(${l}px,${c}px)`,d.transitionDuration="0s",e}}function BP(e,t,s){const l=e.cloneNode();e._vtc&&e._vtc.forEach(m=>{m.split(/\s+/).forEach(n=>n&&l.classList.remove(n))}),s.split(/\s+/).forEach(m=>m&&l.classList.add(m)),l.style.display="none";const c=t.nodeType===1?t:t.parentNode;c.appendChild(l);const{hasTransform:d}=UC(l);return c.removeChild(l),d}const pp=e=>{const t=e.props["onUpdate:modelValue"]||!1;return an(t)?s=>nm(t,s):t};function zP(e){e.target.composing=!0}function US(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const eu={created(e,{modifiers:{lazy:t,trim:s,number:l}},c){e._assign=pp(c);const d=l||c.props&&c.props.type==="number";$d(e,t?"change":"input",m=>{if(m.target.composing)return;let n=e.value;s&&(n=n.trim()),d&&(n=Kd(n)),e._assign(n)}),s&&$d(e,"change",()=>{e.value=e.value.trim()}),t||($d(e,"compositionstart",zP),$d(e,"compositionend",US),$d(e,"change",US))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:l,number:c}},d){if(e._assign=pp(d),e.composing||document.activeElement===e&&e.type!=="range"&&(s||l&&e.value.trim()===t||(c||e.type==="number")&&Kd(e.value)===t))return;const m=t??"";e.value!==m&&(e.value=m)}},mm={deep:!0,created(e,t,s){e._assign=pp(s),$d(e,"change",()=>{const l=e._modelValue,c=gm(e),d=e.checked,m=e._assign;if(an(l)){const n=Fv(l,c),w=n!==-1;if(d&&!w)m(l.concat(c));else if(!d&&w){const $=[...l];$.splice(n,1),m($)}}else if(Nf(l)){const n=new Set(l);d?n.add(c):n.delete(c),m(n)}else m(WC(e,d))})},mounted:GS,beforeUpdate(e,t,s){e._assign=pp(s),GS(e,t,s)}};function GS(e,{value:t,oldValue:s},l){e._modelValue=t,an(t)?e.checked=Fv(t,l.props.value)>-1:Nf(t)?e.checked=t.has(l.props.value):t!==s&&(e.checked=op(t,WC(e,!0)))}const cx={created(e,{value:t},s){e.checked=op(t,s.props.value),e._assign=pp(s),$d(e,"change",()=>{e._assign(gm(e))})},beforeUpdate(e,{value:t,oldValue:s},l){e._assign=pp(l),t!==s&&(e.checked=op(t,l.props.value))}},Hd={deep:!0,created(e,{value:t,modifiers:{number:s}},l){const c=Nf(t);$d(e,"change",()=>{const d=Array.prototype.filter.call(e.options,m=>m.selected).map(m=>s?Kd(gm(m)):gm(m));e._assign(e.multiple?c?new Set(d):d:d[0])}),e._assign=pp(l)},mounted(e,{value:t}){VS(e,t)},beforeUpdate(e,t,s){e._assign=pp(s)},updated(e,{value:t}){VS(e,t)}};function VS(e,t){const s=e.multiple;if(!(s&&!an(t)&&!Nf(t))){for(let l=0,c=e.options.length;l<c;l++){const d=e.options[l],m=gm(d);if(s)an(t)?d.selected=Fv(t,m)>-1:d.selected=t.has(m);else if(op(gm(d),t)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function gm(e){return"_value"in e?e._value:e.value}function WC(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const V3={created(e,t,s){Iy(e,t,s,null,"created")},mounted(e,t,s){Iy(e,t,s,null,"mounted")},beforeUpdate(e,t,s,l){Iy(e,t,s,l,"beforeUpdate")},updated(e,t,s,l){Iy(e,t,s,l,"updated")}};function XC(e,t){switch(e){case"SELECT":return Hd;case"TEXTAREA":return eu;default:switch(t){case"checkbox":return mm;case"radio":return cx;default:return eu}}}function Iy(e,t,s,l,c){const m=XC(e.tagName,s.props&&s.props.type)[c];m&&m(e,t,s,l)}function FP(){eu.getSSRProps=({value:e})=>({value:e}),cx.getSSRProps=({value:e},t)=>{if(t.props&&op(t.props.value,e))return{checked:!0}},mm.getSSRProps=({value:e},t)=>{if(an(e)){if(t.props&&Fv(e,t.props.value)>-1)return{checked:!0}}else if(Nf(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},V3.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const s=XC(t.type.toUpperCase(),t.props&&t.props.type);if(s.getSSRProps)return s.getSSRProps(e,t)}}const NP=["ctrl","shift","alt","meta"],jP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>NP.some(s=>e[`${s}Key`]&&!t.includes(s))},YC=(e,t)=>(s,...l)=>{for(let c=0;c<t.length;c++){const d=jP[t[c]];if(d&&d(s,t))return}return e(s,...l)},UP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qC=(e,t)=>s=>{if(!("key"in s))return;const l=cc(s.key);if(t.some(c=>c===l||UP[c]===l))return e(s)},$3={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):l1(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:l}){!t!=!s&&(l?t?(l.beforeEnter(e),l1(e,!0),l.enter(e)):l.leave(e,()=>{l1(e,!1)}):l1(e,t))},beforeUnmount(e,{value:t}){l1(e,t)}};function l1(e,t){e.style.display=t?e._vod:"none"}function GP(){$3.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const ZC=Js({patchProp:CP},pP);let _1,$S=!1;function KC(){return _1||(_1=I3(ZC))}function JC(){return _1=$S?_1:L3(ZC),$S=!0,_1}const dv=(...e)=>{KC().render(...e)},H3=(...e)=>{JC().hydrate(...e)},W3=(...e)=>{const t=KC().createApp(...e),{mount:s}=t;return t.mount=l=>{const c=eM(l);if(!c)return;const d=t._component;!Xn(d)&&!d.render&&!d.template&&(d.template=c.innerHTML),c.innerHTML="";const m=s(c,!1,c instanceof SVGElement);return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),m},t},QC=(...e)=>{const t=JC().createApp(...e),{mount:s}=t;return t.mount=l=>{const c=eM(l);if(c)return s(c,!0,c instanceof SVGElement)},t};function eM(e){return ss(e)?document.querySelector(e):e}let HS=!1;const tM=()=>{HS||(HS=!0,FP(),GP())},VP=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:tx,Comment:_a,EffectScope:jv,Fragment:Ts,KeepAlive:qE,ReactiveEffect:Sm,Static:np,Suspense:GE,Teleport:hC,Text:dp,Transition:W1,TransitionGroup:HC,VueElement:H1,callWithAsyncErrorHandling:Ml,callWithErrorHandling:id,camelize:na,capitalize:_p,cloneVNode:yh,compatUtils:RC,computed:km,createApp:W3,createBlock:Hc,createCommentVNode:Wn,createElementBlock:Pi,createElementVNode:at,createHydrationRenderer:L3,createPropsRestProxy:kC,createRenderer:I3,createSSRApp:QC,createSlots:QE,createStaticVNode:bh,createTextVNode:Ro,createVNode:Yi,customRef:IE,defineAsyncComponent:YE,defineComponent:ix,defineCustomElement:G3,defineEmits:TC,defineExpose:SC,defineProps:wC,defineSSRCustomElement:BC,get devtools(){return bf},effect:gE,effectScope:hE,getCurrentInstance:ru,getCurrentScope:uE,getTransitionRawChildren:V1,guardReactiveProps:A1,h:Sl,handleError:yp,hydrate:H3,initCustomFormatter:DC,initDirectivesForSSR:tM,inject:kf,isMemoSame:j3,isProxy:Wv,isReactive:ip,isReadonly:cp,isRef:zo,isRuntimeOnly:vC,isShallow:pm,isVNode:Qd,markRaw:Xv,mergeDefaults:AC,mergeProps:ax,nextTick:Mm,normalizeClass:Dr,normalizeProps:sv,normalizeStyle:nu,onActivated:b3,onBeforeMount:T3,onBeforeUnmount:Vf,onBeforeUpdate:sx,onDeactivated:w3,onErrorCaptured:M3,onMounted:sd,onRenderTracked:C3,onRenderTriggered:E3,onScopeDispose:pE,onServerPrefetch:S3,onUnmounted:$f,onUpdated:Gf,openBlock:Mi,popScopeId:Uf,provide:Am,proxyRefs:qv,pushScopeId:jf,queuePostFlushCb:Kv,reactive:U1,readonly:$v,ref:Zr,registerRuntimeCompiler:B3,render:dv,renderList:Fo,renderSlot:fh,resolveComponent:ts,resolveDirective:rx,resolveDynamicComponent:JE,resolveFilter:OC,resolveTransitionHooks:Of,setBlockTracking:cv,setDevtoolsHook:_3,setTransitionHooks:hp,shallowReactive:u3,shallowReadonly:AE,shallowRef:kE,ssrContextKey:F3,ssrUtils:LC,stop:_E,toDisplayString:hn,toHandlerKey:Mf,toHandlers:tC,toRaw:Rs,toRef:m3,toRefs:LE,transformVNodeArgs:fC,triggerRef:DE,unref:xo,useAttrs:z3,useCssModule:zC,useCssVars:FC,useSSRContext:N3,useSlots:CC,useTransitionState:ex,vModelCheckbox:mm,vModelDynamic:V3,vModelRadio:cx,vModelSelect:Hd,vModelText:eu,vShow:$3,version:U3,warn:RE,watch:$c,watchEffect:$E,watchPostEffect:x3,watchSyncEffect:HE,withAsyncContext:PC,withCtx:Ur,withDefaults:EC,withDirectives:La,withKeys:qC,withMemo:IC,withModifiers:YC,withScopeId:jE},Symbol.toStringTag,{value:"Module"}));function X3(e){throw e}function iM(e){}function Gr(e,t,s,l){const c=e,d=new SyntaxError(String(c));return d.code=e,d.loc=t,d}const k1=Symbol(""),y1=Symbol(""),Y3=Symbol(""),uv=Symbol(""),nM=Symbol(""),Bf=Symbol(""),sM=Symbol(""),rM=Symbol(""),q3=Symbol(""),Z3=Symbol(""),X1=Symbol(""),K3=Symbol(""),oM=Symbol(""),J3=Symbol(""),pv=Symbol(""),Q3=Symbol(""),eT=Symbol(""),tT=Symbol(""),iT=Symbol(""),aM=Symbol(""),lM=Symbol(""),hx=Symbol(""),fv=Symbol(""),nT=Symbol(""),sT=Symbol(""),P1=Symbol(""),Y1=Symbol(""),rT=Symbol(""),ww=Symbol(""),$P=Symbol(""),Tw=Symbol(""),mv=Symbol(""),HP=Symbol(""),WP=Symbol(""),oT=Symbol(""),XP=Symbol(""),YP=Symbol(""),aT=Symbol(""),cM=Symbol(""),_m={[k1]:"Fragment",[y1]:"Teleport",[Y3]:"Suspense",[uv]:"KeepAlive",[nM]:"BaseTransition",[Bf]:"openBlock",[sM]:"createBlock",[rM]:"createElementBlock",[q3]:"createVNode",[Z3]:"createElementVNode",[X1]:"createCommentVNode",[K3]:"createTextVNode",[oM]:"createStaticVNode",[J3]:"resolveComponent",[pv]:"resolveDynamicComponent",[Q3]:"resolveDirective",[eT]:"resolveFilter",[tT]:"withDirectives",[iT]:"renderList",[aM]:"renderSlot",[lM]:"createSlots",[hx]:"toDisplayString",[fv]:"mergeProps",[nT]:"normalizeClass",[sT]:"normalizeStyle",[P1]:"normalizeProps",[Y1]:"guardReactiveProps",[rT]:"toHandlers",[ww]:"camelize",[$P]:"capitalize",[Tw]:"toHandlerKey",[mv]:"setBlockTracking",[HP]:"pushScopeId",[WP]:"popScopeId",[oT]:"withCtx",[XP]:"unref",[YP]:"isRef",[aT]:"withMemo",[cM]:"isMemoSame"};function qP(e){Object.getOwnPropertySymbols(e).forEach(t=>{_m[t]=e[t]})}const uc={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function ZP(e,t=uc){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function D1(e,t,s,l,c,d,m,n=!1,w=!1,$=!1,ee=uc){return e&&(n?(e.helper(Bf),e.helper(xm(e.inSSR,$))):e.helper(vm(e.inSSR,$)),m&&e.helper(tT)),{type:13,tag:t,props:s,children:l,patchFlag:c,dynamicProps:d,directives:m,isBlock:n,disableTracking:w,isComponent:$,loc:ee}}function q1(e,t=uc){return{type:17,loc:t,elements:e}}function Gc(e,t=uc){return{type:15,loc:t,properties:e}}function to(e,t){return{type:16,loc:uc,key:ss(e)?us(e,!0):e,value:t}}function us(e,t=!1,s=uc,l=0){return{type:4,loc:s,content:e,isStatic:t,constType:t?3:l}}function _h(e,t=uc){return{type:8,loc:t,children:e}}function bo(e,t=[],s=uc){return{type:14,loc:s,callee:e,arguments:t}}function ym(e,t=void 0,s=!1,l=!1,c=uc){return{type:18,params:e,returns:t,newline:s,isSlot:l,loc:c}}function Sw(e,t,s,l=!0){return{type:19,test:e,consequent:t,alternate:s,newline:l,loc:uc}}function KP(e,t,s=!1){return{type:20,index:e,value:t,isVNode:s,loc:uc}}function JP(e){return{type:21,body:e,loc:uc}}const Cl=e=>e.type===4&&e.isStatic,Q0=(e,t)=>e===t||e===cc(t);function hM(e){if(Q0(e,"Teleport"))return y1;if(Q0(e,"Suspense"))return Y3;if(Q0(e,"KeepAlive"))return uv;if(Q0(e,"BaseTransition"))return nM}const QP=/^\d|[^\$\w]/,lT=e=>!QP.test(e),eD=/[A-Za-z_$\xA0-\uFFFF]/,tD=/[\.\?\w$\xA0-\uFFFF]/,iD=/\s+[.[]\s*|\s*[.[]\s+/g,nD=e=>{e=e.trim().replace(iD,m=>m.trim());let t=0,s=[],l=0,c=0,d=null;for(let m=0;m<e.length;m++){const n=e.charAt(m);switch(t){case 0:if(n==="[")s.push(t),t=1,l++;else if(n==="(")s.push(t),t=2,c++;else if(!(m===0?eD:tD).test(n))return!1;break;case 1:n==="'"||n==='"'||n==="`"?(s.push(t),t=3,d=n):n==="["?l++:n==="]"&&(--l||(t=s.pop()));break;case 2:if(n==="'"||n==='"'||n==="`")s.push(t),t=3,d=n;else if(n==="(")c++;else if(n===")"){if(m===e.length-1)return!1;--c||(t=s.pop())}break;case 3:n===d&&(t=s.pop(),d=null);break}}return!l&&!c},dM=nD;function uM(e,t,s){const c={source:e.source.slice(t,t+s),start:gv(e.start,e.source,t),end:e.end};return s!=null&&(c.end=gv(e.start,e.source,t+s)),c}function gv(e,t,s=t.length){return _v(Js({},e),t,s)}function _v(e,t,s=t.length){let l=0,c=-1;for(let d=0;d<s;d++)t.charCodeAt(d)===10&&(l++,c=d);return e.offset+=s,e.line+=l,e.column=c===-1?e.column+s:s-c,e}function jc(e,t,s=!1){for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&(s||c.exp)&&(ss(t)?c.name===t:t.test(c.name)))return c}}function dx(e,t,s=!1,l=!1){for(let c=0;c<e.props.length;c++){const d=e.props[c];if(d.type===6){if(s)continue;if(d.name===t&&(d.value||l))return d}else if(d.name==="bind"&&(d.exp||l)&&Sf(d.arg,t))return d}}function Sf(e,t){return!!(e&&Cl(e)&&e.content===t)}function sD(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Lb(e){return e.type===5||e.type===2}function rD(e){return e.type===7&&e.name==="slot"}function yv(e){return e.type===1&&e.tagType===3}function vv(e){return e.type===1&&e.tagType===2}function vm(e,t){return e||t?q3:Z3}function xm(e,t){return e||t?sM:rM}const oD=new Set([P1,Y1]);function pM(e,t=[]){if(e&&!ss(e)&&e.type===14){const s=e.callee;if(!ss(s)&&oD.has(s))return pM(e.arguments[0],t.concat(e))}return[e,t]}function xv(e,t,s){let l,c=e.type===13?e.props:e.arguments[2],d=[],m;if(c&&!ss(c)&&c.type===14){const n=pM(c);c=n[0],d=n[1],m=d[d.length-1]}if(c==null||ss(c))l=Gc([t]);else if(c.type===14){const n=c.arguments[0];!ss(n)&&n.type===15?WS(t,n)||n.properties.unshift(t):c.callee===rT?l=bo(s.helper(fv),[Gc([t]),c]):c.arguments.unshift(Gc([t])),!l&&(l=c)}else c.type===15?(WS(t,c)||c.properties.unshift(t),l=c):(l=bo(s.helper(fv),[Gc([t]),c]),m&&m.callee===Y1&&(m=d[d.length-2]));e.type===13?m?m.arguments[0]=l:e.props=l:m?m.arguments[0]=l:e.arguments[2]=l}function WS(e,t){let s=!1;if(e.key.type===4){const l=e.key.content;s=t.properties.some(c=>c.key.type===4&&c.key.content===l)}return s}function I1(e,t){return`_${t}_${e.replace(/[^\w]/g,(s,l)=>s==="-"?"_":e.charCodeAt(l).toString())}`}function aD(e){return e.type===14&&e.callee===aT?e.arguments[1].returns:e}function cT(e,{helper:t,removeHelper:s,inSSR:l}){e.isBlock||(e.isBlock=!0,s(vm(l,e.isComponent)),t(Bf),t(xm(l,e.isComponent)))}function XS(e,t){const s=t.options?t.options.compatConfig:t.compatConfig,l=s&&s[e];return e==="MODE"?l||3:l}function Df(e,t){const s=XS("MODE",t),l=XS(e,t);return s===3?l===!0:l!==!1}function L1(e,t,s,...l){return Df(e,t)}const lD=/&(gt|lt|amp|apos|quot);/g,cD={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},YS={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Hy,isPreTag:Hy,isCustomElement:Hy,decodeEntities:e=>e.replace(lD,(t,s)=>cD[s]),onError:X3,onWarn:iM,comments:!1};function hD(e,t={}){const s=dD(e,t),l=hc(s);return ZP(hT(s,0,[]),Wc(s,l))}function dD(e,t){const s=Js({},YS);let l;for(l in t)s[l]=t[l]===void 0?YS[l]:t[l];return{options:s,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:s.onWarn}}function hT(e,t,s){const l=ux(s),c=l?l.ns:0,d=[];for(;!xD(e,t,s);){const n=e.source;let w;if(t===0||t===1){if(!e.inVPre&&Oa(n,e.options.delimiters[0]))w=yD(e,t);else if(t===0&&n[0]==="<")if(n.length===1)rr(e,5,1);else if(n[1]==="!")Oa(n,"<!--")?w=pD(e):Oa(n,"<!DOCTYPE")?w=c1(e):Oa(n,"<![CDATA[")?c!==0?w=uD(e,s):(rr(e,1),w=c1(e)):(rr(e,11),w=c1(e));else if(n[1]==="/")if(n.length===2)rr(e,5,2);else if(n[2]===">"){rr(e,14,2),jo(e,3);continue}else if(/[a-z]/i.test(n[2])){rr(e,23),Ew(e,1,l);continue}else rr(e,12,2),w=c1(e);else/[a-z]/i.test(n[1])?(w=fD(e,s),Df("COMPILER_NATIVE_TEMPLATE",e)&&w&&w.tag==="template"&&!w.props.some($=>$.type===7&&fM($.name))&&(w=w.children)):n[1]==="?"?(rr(e,21,1),w=c1(e)):rr(e,12,1)}if(w||(w=vD(e,t)),an(w))for(let $=0;$<w.length;$++)qS(d,w[$]);else qS(d,w)}let m=!1;if(t!==2&&t!==1){const n=e.options.whitespace!=="preserve";for(let w=0;w<d.length;w++){const $=d[w];if($.type===2)if(e.inPre)$.content=$.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test($.content))n&&($.content=$.content.replace(/[\t\r\n\f ]+/g," "));else{const ee=d[w-1],z=d[w+1];!ee||!z||n&&(ee.type===3&&z.type===3||ee.type===3&&z.type===1||ee.type===1&&z.type===3||ee.type===1&&z.type===1&&/[\r\n]/.test($.content))?(m=!0,d[w]=null):$.content=" "}else $.type===3&&!e.options.comments&&(m=!0,d[w]=null)}if(e.inPre&&l&&e.options.isPreTag(l.tag)){const w=d[0];w&&w.type===2&&(w.content=w.content.replace(/^\r?\n/,""))}}return m?d.filter(Boolean):d}function qS(e,t){if(t.type===2){const s=ux(e);if(s&&s.type===2&&s.loc.end.offset===t.loc.start.offset){s.content+=t.content,s.loc.end=t.loc.end,s.loc.source+=t.loc.source;return}}e.push(t)}function uD(e,t){jo(e,9);const s=hT(e,3,t);return e.source.length===0?rr(e,6):jo(e,3),s}function pD(e){const t=hc(e);let s;const l=/--(\!)?>/.exec(e.source);if(!l)s=e.source.slice(4),jo(e,e.source.length),rr(e,7);else{l.index<=3&&rr(e,0),l[1]&&rr(e,10),s=e.source.slice(4,l.index);const c=e.source.slice(0,l.index);let d=1,m=0;for(;(m=c.indexOf("<!--",d))!==-1;)jo(e,m-d+1),m+4<c.length&&rr(e,16),d=m+1;jo(e,l.index+l[0].length-d+1)}return{type:3,content:s,loc:Wc(e,t)}}function c1(e){const t=hc(e),s=e.source[1]==="?"?1:2;let l;const c=e.source.indexOf(">");return c===-1?(l=e.source.slice(s),jo(e,e.source.length)):(l=e.source.slice(s,c),jo(e,c+1)),{type:3,content:l,loc:Wc(e,t)}}function fD(e,t){const s=e.inPre,l=e.inVPre,c=ux(t),d=Ew(e,0,c),m=e.inPre&&!s,n=e.inVPre&&!l;if(d.isSelfClosing||e.options.isVoidTag(d.tag))return m&&(e.inPre=!1),n&&(e.inVPre=!1),d;t.push(d);const w=e.options.getTextMode(d,c),$=hT(e,w,t);t.pop();{const ee=d.props.find(z=>z.type===6&&z.name==="inline-template");if(ee&&L1("COMPILER_INLINE_TEMPLATE",e,ee.loc)){const z=Wc(e,d.loc.end);ee.value={type:2,content:z.source,loc:z}}}if(d.children=$,Cw(e.source,d.tag))Ew(e,1,c);else if(rr(e,24,0,d.loc.start),e.source.length===0&&d.tag.toLowerCase()==="script"){const ee=$[0];ee&&Oa(ee.loc.source,"<!--")&&rr(e,8)}return d.loc=Wc(e,d.loc.start),m&&(e.inPre=!1),n&&(e.inVPre=!1),d}const fM=Al("if,else,else-if,for,slot");function Ew(e,t,s){const l=hc(e),c=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),d=c[1],m=e.options.getNamespace(d,s);jo(e,c[0].length),O1(e);const n=hc(e),w=e.source;e.options.isPreTag(d)&&(e.inPre=!0);let $=ZS(e,t);t===0&&!e.inVPre&&$.some(Y=>Y.type===7&&Y.name==="pre")&&(e.inVPre=!0,Js(e,n),e.source=w,$=ZS(e,t).filter(Y=>Y.name!=="v-pre"));let ee=!1;if(e.source.length===0?rr(e,9):(ee=Oa(e.source,"/>"),t===1&&ee&&rr(e,4),jo(e,ee?2:1)),t===1)return;let z=0;return e.inVPre||(d==="slot"?z=2:d==="template"?$.some(Y=>Y.type===7&&fM(Y.name))&&(z=3):mD(d,$,e)&&(z=1)),{type:1,ns:m,tag:d,tagType:z,props:$,isSelfClosing:ee,children:[],loc:Wc(e,l),codegenNode:void 0}}function mD(e,t,s){const l=s.options;if(l.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||hM(e)||l.isBuiltInComponent&&l.isBuiltInComponent(e)||l.isNativeTag&&!l.isNativeTag(e))return!0;for(let c=0;c<t.length;c++){const d=t[c];if(d.type===6){if(d.name==="is"&&d.value){if(d.value.content.startsWith("vue:"))return!0;if(L1("COMPILER_IS_ON_ELEMENT",s,d.loc))return!0}}else{if(d.name==="is")return!0;if(d.name==="bind"&&Sf(d.arg,"is")&&L1("COMPILER_IS_ON_ELEMENT",s,d.loc))return!0}}}function ZS(e,t){const s=[],l=new Set;for(;e.source.length>0&&!Oa(e.source,">")&&!Oa(e.source,"/>");){if(Oa(e.source,"/")){rr(e,22),jo(e,1),O1(e);continue}t===1&&rr(e,3);const c=gD(e,l);c.type===6&&c.value&&c.name==="class"&&(c.value.content=c.value.content.replace(/\s+/g," ").trim()),t===0&&s.push(c),/^[^\t\r\n\f />]/.test(e.source)&&rr(e,15),O1(e)}return s}function gD(e,t){const s=hc(e),c=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(c)&&rr(e,2),t.add(c),c[0]==="="&&rr(e,19);{const n=/["'<]/g;let w;for(;w=n.exec(c);)rr(e,17,w.index)}jo(e,c.length);let d;/^[\t\r\n\f ]*=/.test(e.source)&&(O1(e),jo(e,1),O1(e),d=_D(e),d||rr(e,13));const m=Wc(e,s);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(c)){const n=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(c);let w=Oa(c,"."),$=n[1]||(w||Oa(c,":")?"bind":Oa(c,"@")?"on":"slot"),ee;if(n[2]){const Y=$==="slot",Q=c.lastIndexOf(n[2]),I=Wc(e,KS(e,s,Q),KS(e,s,Q+n[2].length+(Y&&n[3]||"").length));let O=n[2],H=!0;O.startsWith("[")?(H=!1,O.endsWith("]")?O=O.slice(1,O.length-1):(rr(e,27),O=O.slice(1))):Y&&(O+=n[3]||""),ee={type:4,content:O,isStatic:H,constType:H?3:0,loc:I}}if(d&&d.isQuoted){const Y=d.loc;Y.start.offset++,Y.start.column++,Y.end=gv(Y.start,d.content),Y.source=Y.source.slice(1,-1)}const z=n[3]?n[3].slice(1).split("."):[];return w&&z.push("prop"),$==="bind"&&ee&&z.includes("sync")&&L1("COMPILER_V_BIND_SYNC",e,m,ee.loc.source)&&($="model",z.splice(z.indexOf("sync"),1)),{type:7,name:$,exp:d&&{type:4,content:d.content,isStatic:!1,constType:0,loc:d.loc},arg:ee,modifiers:z,loc:m}}return!e.inVPre&&Oa(c,"v-")&&rr(e,26),{type:6,name:c,value:d&&{type:2,content:d.content,loc:d.loc},loc:m}}function _D(e){const t=hc(e);let s;const l=e.source[0],c=l==='"'||l==="'";if(c){jo(e,1);const d=e.source.indexOf(l);d===-1?s=v1(e,e.source.length,4):(s=v1(e,d,4),jo(e,1))}else{const d=/^[^\t\r\n\f >]+/.exec(e.source);if(!d)return;const m=/["'<=`]/g;let n;for(;n=m.exec(d[0]);)rr(e,18,n.index);s=v1(e,d[0].length,4)}return{content:s,isQuoted:c,loc:Wc(e,t)}}function yD(e,t){const[s,l]=e.options.delimiters,c=e.source.indexOf(l,s.length);if(c===-1){rr(e,25);return}const d=hc(e);jo(e,s.length);const m=hc(e),n=hc(e),w=c-s.length,$=e.source.slice(0,w),ee=v1(e,w,t),z=ee.trim(),Y=ee.indexOf(z);Y>0&&_v(m,$,Y);const Q=w-(ee.length-z.length-Y);return _v(n,$,Q),jo(e,l.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:z,loc:Wc(e,m,n)},loc:Wc(e,d)}}function vD(e,t){const s=t===3?["]]>"]:["<",e.options.delimiters[0]];let l=e.source.length;for(let m=0;m<s.length;m++){const n=e.source.indexOf(s[m],1);n!==-1&&l>n&&(l=n)}const c=hc(e);return{type:2,content:v1(e,l,t),loc:Wc(e,c)}}function v1(e,t,s){const l=e.source.slice(0,t);return jo(e,t),s===2||s===3||!l.includes("&")?l:e.options.decodeEntities(l,s===4)}function hc(e){const{column:t,line:s,offset:l}=e;return{column:t,line:s,offset:l}}function Wc(e,t,s){return s=s||hc(e),{start:t,end:s,source:e.originalSource.slice(t.offset,s.offset)}}function ux(e){return e[e.length-1]}function Oa(e,t){return e.startsWith(t)}function jo(e,t){const{source:s}=e;_v(e,s,t),e.source=s.slice(t)}function O1(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&jo(e,t[0].length)}function KS(e,t,s){return gv(t,e.originalSource.slice(t.offset,s),s)}function rr(e,t,s,l=hc(e)){s&&(l.offset+=s,l.column+=s),e.options.onError(Gr(t,{start:l,end:l,source:""}))}function xD(e,t,s){const l=e.source;switch(t){case 0:if(Oa(l,"</")){for(let c=s.length-1;c>=0;--c)if(Cw(l,s[c].tag))return!0}break;case 1:case 2:{const c=ux(s);if(c&&Cw(l,c.tag))return!0;break}case 3:if(Oa(l,"]]>"))return!0;break}return!l}function Cw(e,t){return Oa(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function bD(e,t){Yy(e,t,mM(e,e.children[0]))}function mM(e,t){const{children:s}=e;return s.length===1&&t.type===1&&!vv(t)}function Yy(e,t,s=!1){const{children:l}=e,c=l.length;let d=0;for(let m=0;m<l.length;m++){const n=l[m];if(n.type===1&&n.tagType===0){const w=s?0:Vc(n,t);if(w>0){if(w>=2){n.codegenNode.patchFlag=-1+"",n.codegenNode=t.hoist(n.codegenNode),d++;continue}}else{const $=n.codegenNode;if($.type===13){const ee=vM($);if((!ee||ee===512||ee===1)&&_M(n,t)>=2){const z=yM(n);z&&($.props=t.hoist(z))}$.dynamicProps&&($.dynamicProps=t.hoist($.dynamicProps))}}}if(n.type===1){const w=n.tagType===1;w&&t.scopes.vSlot++,Yy(n,t),w&&t.scopes.vSlot--}else if(n.type===11)Yy(n,t,n.children.length===1);else if(n.type===9)for(let w=0;w<n.branches.length;w++)Yy(n.branches[w],t,n.branches[w].children.length===1)}d&&t.transformHoist&&t.transformHoist(l,t,e),d&&d===c&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&an(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(q1(e.codegenNode.children)))}function Vc(e,t){const{constantCache:s}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const l=s.get(e);if(l!==void 0)return l;const c=e.codegenNode;if(c.type!==13||c.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(vM(c))return s.set(e,0),0;{let n=3;const w=_M(e,t);if(w===0)return s.set(e,0),0;w<n&&(n=w);for(let $=0;$<e.children.length;$++){const ee=Vc(e.children[$],t);if(ee===0)return s.set(e,0),0;ee<n&&(n=ee)}if(n>1)for(let $=0;$<e.props.length;$++){const ee=e.props[$];if(ee.type===7&&ee.name==="bind"&&ee.exp){const z=Vc(ee.exp,t);if(z===0)return s.set(e,0),0;z<n&&(n=z)}}if(c.isBlock){for(let $=0;$<e.props.length;$++)if(e.props[$].type===7)return s.set(e,0),0;t.removeHelper(Bf),t.removeHelper(xm(t.inSSR,c.isComponent)),c.isBlock=!1,t.helper(vm(t.inSSR,c.isComponent))}return s.set(e,n),n}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Vc(e.content,t);case 4:return e.constType;case 8:let m=3;for(let n=0;n<e.children.length;n++){const w=e.children[n];if(ss(w)||ap(w))continue;const $=Vc(w,t);if($===0)return 0;$<m&&(m=$)}return m;default:return 0}}const wD=new Set([nT,sT,P1,Y1]);function gM(e,t){if(e.type===14&&!ss(e.callee)&&wD.has(e.callee)){const s=e.arguments[0];if(s.type===4)return Vc(s,t);if(s.type===14)return gM(s,t)}return 0}function _M(e,t){let s=3;const l=yM(e);if(l&&l.type===15){const{properties:c}=l;for(let d=0;d<c.length;d++){const{key:m,value:n}=c[d],w=Vc(m,t);if(w===0)return w;w<s&&(s=w);let $;if(n.type===4?$=Vc(n,t):n.type===14?$=gM(n,t):$=0,$===0)return $;$<s&&(s=$)}}return s}function yM(e){const t=e.codegenNode;if(t.type===13)return t.props}function vM(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function TD(e,{filename:t="",prefixIdentifiers:s=!1,hoistStatic:l=!1,cacheHandlers:c=!1,nodeTransforms:d=[],directiveTransforms:m={},transformHoist:n=null,isBuiltInComponent:w=el,isCustomElement:$=el,expressionPlugins:ee=[],scopeId:z=null,slotted:Y=!0,ssr:Q=!1,inSSR:I=!1,ssrCssVars:O="",bindingMetadata:H=or,inline:A=!1,isTS:E=!1,onError:P=X3,onWarn:G=iM,compatConfig:V}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),ne={selfName:C&&_p(na(C[1])),prefixIdentifiers:s,hoistStatic:l,cacheHandlers:c,nodeTransforms:d,directiveTransforms:m,transformHoist:n,isBuiltInComponent:w,isCustomElement:$,expressionPlugins:ee,scopeId:z,slotted:Y,ssr:Q,inSSR:I,ssrCssVars:O,bindingMetadata:H,inline:A,isTS:E,onError:P,onWarn:G,compatConfig:V,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(te){const F=ne.helpers.get(te)||0;return ne.helpers.set(te,F+1),te},removeHelper(te){const F=ne.helpers.get(te);if(F){const N=F-1;N?ne.helpers.set(te,N):ne.helpers.delete(te)}},helperString(te){return`_${_m[ne.helper(te)]}`},replaceNode(te){ne.parent.children[ne.childIndex]=ne.currentNode=te},removeNode(te){const F=ne.parent.children,N=te?F.indexOf(te):ne.currentNode?ne.childIndex:-1;!te||te===ne.currentNode?(ne.currentNode=null,ne.onNodeRemoved()):ne.childIndex>N&&(ne.childIndex--,ne.onNodeRemoved()),ne.parent.children.splice(N,1)},onNodeRemoved:()=>{},addIdentifiers(te){},removeIdentifiers(te){},hoist(te){ss(te)&&(te=us(te)),ne.hoists.push(te);const F=us(`_hoisted_${ne.hoists.length}`,!1,te.loc,2);return F.hoisted=te,F},cache(te,F=!1){return KP(ne.cached++,te,F)}};return ne.filters=new Set,ne}function SD(e,t){const s=TD(e,t);px(e,s),t.hoistStatic&&bD(e,s),t.ssr||ED(e,s),e.helpers=[...s.helpers.keys()],e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.filters=[...s.filters]}function ED(e,t){const{helper:s}=t,{children:l}=e;if(l.length===1){const c=l[0];if(mM(e,c)&&c.codegenNode){const d=c.codegenNode;d.type===13&&cT(d,t),e.codegenNode=d}else e.codegenNode=c}else if(l.length>1){let c=64;e.codegenNode=D1(t,s(k1),void 0,e.children,c+"",void 0,void 0,!0,void 0,!1)}}function CD(e,t){let s=0;const l=()=>{s--};for(;s<e.children.length;s++){const c=e.children[s];ss(c)||(t.parent=e,t.childIndex=s,t.onNodeRemoved=l,px(c,t))}}function px(e,t){t.currentNode=e;const{nodeTransforms:s}=t,l=[];for(let d=0;d<s.length;d++){const m=s[d](e,t);if(m&&(an(m)?l.push(...m):l.push(m)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(X1);break;case 5:t.ssr||t.helper(hx);break;case 9:for(let d=0;d<e.branches.length;d++)px(e.branches[d],t);break;case 10:case 11:case 1:case 0:CD(e,t);break}t.currentNode=e;let c=l.length;for(;c--;)l[c]()}function xM(e,t){const s=ss(e)?l=>l===e:l=>e.test(l);return(l,c)=>{if(l.type===1){const{props:d}=l;if(l.tagType===3&&d.some(rD))return;const m=[];for(let n=0;n<d.length;n++){const w=d[n];if(w.type===7&&s(w.name)){d.splice(n,1),n--;const $=t(l,w,c);$&&m.push($)}}return m}}}const fx="/*#__PURE__*/",bM=e=>`${_m[e]}: _${_m[e]}`;function MD(e,{mode:t="function",prefixIdentifiers:s=t==="module",sourceMap:l=!1,filename:c="template.vue.html",scopeId:d=null,optimizeImports:m=!1,runtimeGlobalName:n="Vue",runtimeModuleName:w="vue",ssrRuntimeModuleName:$="vue/server-renderer",ssr:ee=!1,isTS:z=!1,inSSR:Y=!1}){const Q={mode:t,prefixIdentifiers:s,sourceMap:l,filename:c,scopeId:d,optimizeImports:m,runtimeGlobalName:n,runtimeModuleName:w,ssrRuntimeModuleName:$,ssr:ee,isTS:z,inSSR:Y,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(O){return`_${_m[O]}`},push(O,H){Q.code+=O},indent(){I(++Q.indentLevel)},deindent(O=!1){O?--Q.indentLevel:I(--Q.indentLevel)},newline(){I(Q.indentLevel)}};function I(O){Q.push(`
`+"  ".repeat(O))}return Q}function AD(e,t={}){const s=MD(e,t);t.onContextCreated&&t.onContextCreated(s);const{mode:l,push:c,prefixIdentifiers:d,indent:m,deindent:n,newline:w,scopeId:$,ssr:ee}=s,z=e.helpers.length>0,Y=!d&&l!=="module";kD(e,s);const I=ee?"ssrRender":"render",H=(ee?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(c(`function ${I}(${H}) {`),m(),Y&&(c("with (_ctx) {"),m(),z&&(c(`const { ${e.helpers.map(bM).join(", ")} } = _Vue`),c(`
`),w())),e.components.length&&(Ob(e.components,"component",s),(e.directives.length||e.temps>0)&&w()),e.directives.length&&(Ob(e.directives,"directive",s),e.temps>0&&w()),e.filters&&e.filters.length&&(w(),Ob(e.filters,"filter",s),w()),e.temps>0){c("let ");for(let A=0;A<e.temps;A++)c(`${A>0?", ":""}_temp${A}`)}return(e.components.length||e.directives.length||e.temps)&&(c(`
`),w()),ee||c("return "),e.codegenNode?Ra(e.codegenNode,s):c("null"),Y&&(n(),c("}")),n(),c("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function kD(e,t){const{ssr:s,prefixIdentifiers:l,push:c,newline:d,runtimeModuleName:m,runtimeGlobalName:n,ssrRuntimeModuleName:w}=t,$=n;if(e.helpers.length>0&&(c(`const _Vue = ${$}
`),e.hoists.length)){const ee=[q3,Z3,X1,K3,oM].filter(z=>e.helpers.includes(z)).map(bM).join(", ");c(`const { ${ee} } = _Vue
`)}PD(e.hoists,t),d(),c("return ")}function Ob(e,t,{helper:s,push:l,newline:c,isTS:d}){const m=s(t==="filter"?eT:t==="component"?J3:Q3);for(let n=0;n<e.length;n++){let w=e[n];const $=w.endsWith("__self");$&&(w=w.slice(0,-6)),l(`const ${I1(w,t)} = ${m}(${JSON.stringify(w)}${$?", true":""})${d?"!":""}`),n<e.length-1&&c()}}function PD(e,t){if(!e.length)return;t.pure=!0;const{push:s,newline:l,helper:c,scopeId:d,mode:m}=t;l();for(let n=0;n<e.length;n++){const w=e[n];w&&(s(`const _hoisted_${n+1} = `),Ra(w,t),l())}t.pure=!1}function dT(e,t){const s=e.length>3||!1;t.push("["),s&&t.indent(),Z1(e,t,s),s&&t.deindent(),t.push("]")}function Z1(e,t,s=!1,l=!0){const{push:c,newline:d}=t;for(let m=0;m<e.length;m++){const n=e[m];ss(n)?c(n):an(n)?dT(n,t):Ra(n,t),m<e.length-1&&(s?(l&&c(","),d()):l&&c(", "))}}function Ra(e,t){if(ss(e)){t.push(e);return}if(ap(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Ra(e.codegenNode,t);break;case 2:DD(e,t);break;case 4:wM(e,t);break;case 5:ID(e,t);break;case 12:Ra(e.codegenNode,t);break;case 8:TM(e,t);break;case 3:OD(e,t);break;case 13:RD(e,t);break;case 14:zD(e,t);break;case 15:FD(e,t);break;case 17:ND(e,t);break;case 18:jD(e,t);break;case 19:UD(e,t);break;case 20:GD(e,t);break;case 21:Z1(e.body,t,!0,!1);break}}function DD(e,t){t.push(JSON.stringify(e.content),e)}function wM(e,t){const{content:s,isStatic:l}=e;t.push(l?JSON.stringify(s):s,e)}function ID(e,t){const{push:s,helper:l,pure:c}=t;c&&s(fx),s(`${l(hx)}(`),Ra(e.content,t),s(")")}function TM(e,t){for(let s=0;s<e.children.length;s++){const l=e.children[s];ss(l)?t.push(l):Ra(l,t)}}function LD(e,t){const{push:s}=t;if(e.type===8)s("["),TM(e,t),s("]");else if(e.isStatic){const l=lT(e.content)?e.content:JSON.stringify(e.content);s(l,e)}else s(`[${e.content}]`,e)}function OD(e,t){const{push:s,helper:l,pure:c}=t;c&&s(fx),s(`${l(X1)}(${JSON.stringify(e.content)})`,e)}function RD(e,t){const{push:s,helper:l,pure:c}=t,{tag:d,props:m,children:n,patchFlag:w,dynamicProps:$,directives:ee,isBlock:z,disableTracking:Y,isComponent:Q}=e;ee&&s(l(tT)+"("),z&&s(`(${l(Bf)}(${Y?"true":""}), `),c&&s(fx);const I=z?xm(t.inSSR,Q):vm(t.inSSR,Q);s(l(I)+"(",e),Z1(BD([d,m,n,w,$]),t),s(")"),z&&s(")"),ee&&(s(", "),Ra(ee,t),s(")"))}function BD(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(s=>s||"null")}function zD(e,t){const{push:s,helper:l,pure:c}=t,d=ss(e.callee)?e.callee:l(e.callee);c&&s(fx),s(d+"(",e),Z1(e.arguments,t),s(")")}function FD(e,t){const{push:s,indent:l,deindent:c,newline:d}=t,{properties:m}=e;if(!m.length){s("{}",e);return}const n=m.length>1||!1;s(n?"{":"{ "),n&&l();for(let w=0;w<m.length;w++){const{key:$,value:ee}=m[w];LD($,t),s(": "),Ra(ee,t),w<m.length-1&&(s(","),d())}n&&c(),s(n?"}":" }")}function ND(e,t){dT(e.elements,t)}function jD(e,t){const{push:s,indent:l,deindent:c}=t,{params:d,returns:m,body:n,newline:w,isSlot:$}=e;$&&s(`_${_m[oT]}(`),s("(",e),an(d)?Z1(d,t):d&&Ra(d,t),s(") => "),(w||n)&&(s("{"),l()),m?(w&&s("return "),an(m)?dT(m,t):Ra(m,t)):n&&Ra(n,t),(w||n)&&(c(),s("}")),$&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function UD(e,t){const{test:s,consequent:l,alternate:c,newline:d}=e,{push:m,indent:n,deindent:w,newline:$}=t;if(s.type===4){const z=!lT(s.content);z&&m("("),wM(s,t),z&&m(")")}else m("("),Ra(s,t),m(")");d&&n(),t.indentLevel++,d||m(" "),m("? "),Ra(l,t),t.indentLevel--,d&&$(),d||m(" "),m(": ");const ee=c.type===19;ee||t.indentLevel++,Ra(c,t),ee||t.indentLevel--,d&&w(!0)}function GD(e,t){const{push:s,helper:l,indent:c,deindent:d,newline:m}=t;s(`_cache[${e.index}] || (`),e.isVNode&&(c(),s(`${l(mv)}(-1),`),m()),s(`_cache[${e.index}] = `),Ra(e.value,t),e.isVNode&&(s(","),m(),s(`${l(mv)}(1),`),m(),s(`_cache[${e.index}]`),d()),s(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const VD=xM(/^(if|else|else-if)$/,(e,t,s)=>$D(e,t,s,(l,c,d)=>{const m=s.parent.children;let n=m.indexOf(l),w=0;for(;n-->=0;){const $=m[n];$&&$.type===9&&(w+=$.branches.length)}return()=>{if(d)l.codegenNode=QS(c,w,s);else{const $=HD(l.codegenNode);$.alternate=QS(c,w+l.branches.length-1,s)}}}));function $D(e,t,s,l){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const c=t.exp?t.exp.loc:e.loc;s.onError(Gr(28,t.loc)),t.exp=us("true",!1,c)}if(t.name==="if"){const c=JS(e,t),d={type:9,loc:e.loc,branches:[c]};if(s.replaceNode(d),l)return l(d,c,!0)}else{const c=s.parent.children;let d=c.indexOf(e);for(;d-->=-1;){const m=c[d];if(m&&m.type===3){s.removeNode(m);continue}if(m&&m.type===2&&!m.content.trim().length){s.removeNode(m);continue}if(m&&m.type===9){t.name==="else-if"&&m.branches[m.branches.length-1].condition===void 0&&s.onError(Gr(30,e.loc)),s.removeNode();const n=JS(e,t);m.branches.push(n);const w=l&&l(m,n,!1);px(n,s),w&&w(),s.currentNode=null}else s.onError(Gr(30,e.loc));break}}}function JS(e,t){const s=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:s&&!jc(e,"for")?e.children:[e],userKey:dx(e,"key"),isTemplateIf:s}}function QS(e,t,s){return e.condition?Sw(e.condition,e5(e,t,s),bo(s.helper(X1),['""',"true"])):e5(e,t,s)}function e5(e,t,s){const{helper:l}=s,c=to("key",us(`${t}`,!1,uc,2)),{children:d}=e,m=d[0];if(d.length!==1||m.type!==1)if(d.length===1&&m.type===11){const w=m.codegenNode;return xv(w,c,s),w}else{let w=64;return D1(s,l(k1),Gc([c]),d,w+"",void 0,void 0,!0,!1,!1,e.loc)}else{const w=m.codegenNode,$=aD(w);return $.type===13&&cT($,s),xv($,c,s),w}}function HD(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const WD=xM("for",(e,t,s)=>{const{helper:l,removeHelper:c}=s;return XD(e,t,s,d=>{const m=bo(l(iT),[d.source]),n=yv(e),w=jc(e,"memo"),$=dx(e,"key"),ee=$&&($.type===6?us($.value.content,!0):$.exp),z=$?to("key",ee):null,Y=d.source.type===4&&d.source.constType>0,Q=Y?64:$?128:256;return d.codegenNode=D1(s,l(k1),void 0,m,Q+"",void 0,void 0,!0,!Y,!1,e.loc),()=>{let I;const{children:O}=d,H=O.length!==1||O[0].type!==1,A=vv(e)?e:n&&e.children.length===1&&vv(e.children[0])?e.children[0]:null;if(A?(I=A.codegenNode,n&&z&&xv(I,z,s)):H?I=D1(s,l(k1),z?Gc([z]):void 0,e.children,64+"",void 0,void 0,!0,void 0,!1):(I=O[0].codegenNode,n&&z&&xv(I,z,s),I.isBlock!==!Y&&(I.isBlock?(c(Bf),c(xm(s.inSSR,I.isComponent))):c(vm(s.inSSR,I.isComponent))),I.isBlock=!Y,I.isBlock?(l(Bf),l(xm(s.inSSR,I.isComponent))):l(vm(s.inSSR,I.isComponent))),w){const E=ym(Mw(d.parseResult,[us("_cached")]));E.body=JP([_h(["const _memo = (",w.exp,")"]),_h(["if (_cached",...ee?[" && _cached.key === ",ee]:[],` && ${s.helperString(cM)}(_cached, _memo)) return _cached`]),_h(["const _item = ",I]),us("_item.memo = _memo"),us("return _item")]),m.arguments.push(E,us("_cache"),us(String(s.cached++)))}else m.arguments.push(ym(Mw(d.parseResult),I,!0))}})});function XD(e,t,s,l){if(!t.exp){s.onError(Gr(31,t.loc));return}const c=SM(t.exp);if(!c){s.onError(Gr(32,t.loc));return}const{addIdentifiers:d,removeIdentifiers:m,scopes:n}=s,{source:w,value:$,key:ee,index:z}=c,Y={type:11,loc:t.loc,source:w,valueAlias:$,keyAlias:ee,objectIndexAlias:z,parseResult:c,children:yv(e)?e.children:[e]};s.replaceNode(Y),n.vFor++;const Q=l&&l(Y);return()=>{n.vFor--,Q&&Q()}}const YD=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,t5=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,qD=/^\(|\)$/g;function SM(e,t){const s=e.loc,l=e.content,c=l.match(YD);if(!c)return;const[,d,m]=c,n={source:Ly(s,m.trim(),l.indexOf(m,d.length)),value:void 0,key:void 0,index:void 0};let w=d.trim().replace(qD,"").trim();const $=d.indexOf(w),ee=w.match(t5);if(ee){w=w.replace(t5,"").trim();const z=ee[1].trim();let Y;if(z&&(Y=l.indexOf(z,$+w.length),n.key=Ly(s,z,Y)),ee[2]){const Q=ee[2].trim();Q&&(n.index=Ly(s,Q,l.indexOf(Q,n.key?Y+z.length:$+w.length)))}}return w&&(n.value=Ly(s,w,$)),n}function Ly(e,t,s){return us(t,!1,uM(e,s,t.length))}function Mw({value:e,key:t,index:s},l=[]){return ZD([e,t,s,...l])}function ZD(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((s,l)=>s||us("_".repeat(l+1),!1))}const i5=us("undefined",!1),KD=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=jc(e,"slot");if(s)return s.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},JD=(e,t,s)=>ym(e,t,!1,!0,t.length?t[0].loc:s);function QD(e,t,s=JD){t.helper(oT);const{children:l,loc:c}=e,d=[],m=[];let n=t.scopes.vSlot>0||t.scopes.vFor>0;const w=jc(e,"slot",!0);if(w){const{arg:H,exp:A}=w;H&&!Cl(H)&&(n=!0),d.push(to(H||us("default",!0),s(A,l,c)))}let $=!1,ee=!1;const z=[],Y=new Set;let Q=0;for(let H=0;H<l.length;H++){const A=l[H];let E;if(!yv(A)||!(E=jc(A,"slot",!0))){A.type!==3&&z.push(A);continue}if(w){t.onError(Gr(37,E.loc));break}$=!0;const{children:P,loc:G}=A,{arg:V=us("default",!0),exp:C,loc:ne}=E;let te;Cl(V)?te=V?V.content:"default":n=!0;const F=s(C,P,G);let N,X,M;if(N=jc(A,"if"))n=!0,m.push(Sw(N.exp,Oy(V,F,Q++),i5));else if(X=jc(A,/^else(-if)?$/,!0)){let L=H,f;for(;L--&&(f=l[L],f.type===3););if(f&&yv(f)&&jc(f,"if")){l.splice(H,1),H--;let y=m[m.length-1];for(;y.alternate.type===19;)y=y.alternate;y.alternate=X.exp?Sw(X.exp,Oy(V,F,Q++),i5):Oy(V,F,Q++)}else t.onError(Gr(30,X.loc))}else if(M=jc(A,"for")){n=!0;const L=M.parseResult||SM(M.exp);L?m.push(bo(t.helper(iT),[L.source,ym(Mw(L),Oy(V,F),!0)])):t.onError(Gr(32,M.loc))}else{if(te){if(Y.has(te)){t.onError(Gr(38,ne));continue}Y.add(te),te==="default"&&(ee=!0)}d.push(to(V,F))}}if(!w){const H=(A,E)=>{const P=s(A,E,c);return t.compatConfig&&(P.isNonScopedSlot=!0),to("default",P)};$?z.length&&z.some(A=>EM(A))&&(ee?t.onError(Gr(39,z[0].loc)):d.push(H(void 0,z))):d.push(H(void 0,l))}const I=n?2:qy(e.children)?3:1;let O=Gc(d.concat(to("_",us(I+"",!1))),c);return m.length&&(O=bo(t.helper(lM),[O,q1(m)])),{slots:O,hasDynamicSlots:n}}function Oy(e,t,s){const l=[to("name",e),to("fn",t)];return s!=null&&l.push(to("key",us(String(s),!0))),Gc(l)}function qy(e){for(let t=0;t<e.length;t++){const s=e[t];switch(s.type){case 1:if(s.tagType===2||qy(s.children))return!0;break;case 9:if(qy(s.branches))return!0;break;case 10:case 11:if(qy(s.children))return!0;break}}return!1}function EM(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():EM(e.content)}const CM=new WeakMap,eI=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:l,props:c}=e,d=e.tagType===1;let m=d?tI(e,t):`"${l}"`;const n=hr(m)&&m.callee===pv;let w,$,ee,z=0,Y,Q,I,O=n||m===y1||m===Y3||!d&&(l==="svg"||l==="foreignObject");if(c.length>0){const H=MM(e,t,void 0,d,n);w=H.props,z=H.patchFlag,Q=H.dynamicPropNames;const A=H.directives;I=A&&A.length?q1(A.map(E=>nI(E,t))):void 0,H.shouldUseBlock&&(O=!0)}if(e.children.length>0)if(m===uv&&(O=!0,z|=1024),d&&m!==y1&&m!==uv){const{slots:A,hasDynamicSlots:E}=QD(e,t);$=A,E&&(z|=1024)}else if(e.children.length===1&&m!==y1){const A=e.children[0],E=A.type,P=E===5||E===8;P&&Vc(A,t)===0&&(z|=1),P||E===2?$=A:$=e.children}else $=e.children;z!==0&&(ee=String(z),Q&&Q.length&&(Y=sI(Q))),e.codegenNode=D1(t,m,w,$,ee,Y,I,!!O,!1,d,e.loc)};function tI(e,t,s=!1){let{tag:l}=e;const c=Aw(l),d=dx(e,"is");if(d)if(c||Df("COMPILER_IS_ON_ELEMENT",t)){const w=d.type===6?d.value&&us(d.value.content,!0):d.exp;if(w)return bo(t.helper(pv),[w])}else d.type===6&&d.value.content.startsWith("vue:")&&(l=d.value.content.slice(4));const m=!c&&jc(e,"is");if(m&&m.exp)return bo(t.helper(pv),[m.exp]);const n=hM(l)||t.isBuiltInComponent(l);return n?(s||t.helper(n),n):(t.helper(J3),t.components.add(l),I1(l,"component"))}function MM(e,t,s=e.props,l,c,d=!1){const{tag:m,loc:n,children:w}=e;let $=[];const ee=[],z=[],Y=w.length>0;let Q=!1,I=0,O=!1,H=!1,A=!1,E=!1,P=!1,G=!1;const V=[],C=F=>{$.length&&(ee.push(Gc(n5($),n)),$=[]),F&&ee.push(F)},ne=({key:F,value:N})=>{if(Cl(F)){const X=F.content,M=Ff(X);if(M&&(!l||c)&&X.toLowerCase()!=="onclick"&&X!=="onUpdate:modelValue"&&!Cf(X)&&(E=!0),M&&Cf(X)&&(G=!0),N.type===20||(N.type===4||N.type===8)&&Vc(N,t)>0)return;X==="ref"?O=!0:X==="class"?H=!0:X==="style"?A=!0:X!=="key"&&!V.includes(X)&&V.push(X),l&&(X==="class"||X==="style")&&!V.includes(X)&&V.push(X)}else P=!0};for(let F=0;F<s.length;F++){const N=s[F];if(N.type===6){const{loc:X,name:M,value:L}=N;let f=!0;if(M==="ref"&&(O=!0,t.scopes.vFor>0&&$.push(to(us("ref_for",!0),us("true")))),M==="is"&&(Aw(m)||L&&L.content.startsWith("vue:")||Df("COMPILER_IS_ON_ELEMENT",t)))continue;$.push(to(us(M,!0,uM(X,0,M.length)),us(L?L.content:"",f,L?L.loc:X)))}else{const{name:X,arg:M,exp:L,loc:f}=N,y=X==="bind",b=X==="on";if(X==="slot"){l||t.onError(Gr(40,f));continue}if(X==="once"||X==="memo"||X==="is"||y&&Sf(M,"is")&&(Aw(m)||Df("COMPILER_IS_ON_ELEMENT",t))||b&&d)continue;if((y&&Sf(M,"key")||b&&Y&&Sf(M,"vue:before-update"))&&(Q=!0),y&&Sf(M,"ref")&&t.scopes.vFor>0&&$.push(to(us("ref_for",!0),us("true"))),!M&&(y||b)){if(P=!0,L)if(y){if(C(),Df("COMPILER_V_BIND_OBJECT_ORDER",t)){ee.unshift(L);continue}ee.push(L)}else C({type:14,loc:f,callee:t.helper(rT),arguments:l?[L]:[L,"true"]});else t.onError(Gr(y?34:35,f));continue}const S=t.directiveTransforms[X];if(S){const{props:j,needRuntime:J}=S(N,e,t);!d&&j.forEach(ne),b&&M&&!Cl(M)?C(Gc(j,n)):$.push(...j),J&&(z.push(N),ap(J)&&CM.set(N,J))}else j6(X)||(z.push(N),Y&&(Q=!0))}}let te;if(ee.length?(C(),ee.length>1?te=bo(t.helper(fv),ee,n):te=ee[0]):$.length&&(te=Gc(n5($),n)),P?I|=16:(H&&!l&&(I|=2),A&&!l&&(I|=4),V.length&&(I|=8),E&&(I|=32)),!Q&&(I===0||I===32)&&(O||G||z.length>0)&&(I|=512),!t.inSSR&&te)switch(te.type){case 15:let F=-1,N=-1,X=!1;for(let f=0;f<te.properties.length;f++){const y=te.properties[f].key;Cl(y)?y.content==="class"?F=f:y.content==="style"&&(N=f):y.isHandlerKey||(X=!0)}const M=te.properties[F],L=te.properties[N];X?te=bo(t.helper(P1),[te]):(M&&!Cl(M.value)&&(M.value=bo(t.helper(nT),[M.value])),L&&(A||L.value.type===4&&L.value.content.trim()[0]==="["||L.value.type===17)&&(L.value=bo(t.helper(sT),[L.value])));break;case 14:break;default:te=bo(t.helper(P1),[bo(t.helper(Y1),[te])]);break}return{props:te,directives:z,patchFlag:I,dynamicPropNames:V,shouldUseBlock:Q}}function n5(e){const t=new Map,s=[];for(let l=0;l<e.length;l++){const c=e[l];if(c.key.type===8||!c.key.isStatic){s.push(c);continue}const d=c.key.content,m=t.get(d);m?(d==="style"||d==="class"||Ff(d))&&iI(m,c):(t.set(d,c),s.push(c))}return s}function iI(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=q1([e.value,t.value],e.loc)}function nI(e,t){const s=[],l=CM.get(e);l?s.push(t.helperString(l)):(t.helper(Q3),t.directives.add(e.name),s.push(I1(e.name,"directive")));const{loc:c}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const d=us("true",!1,c);s.push(Gc(e.modifiers.map(m=>to(m,d)),c))}return q1(s,e.loc)}function sI(e){let t="[";for(let s=0,l=e.length;s<l;s++)t+=JSON.stringify(e[s]),s<l-1&&(t+=", ");return t+"]"}function Aw(e){return e==="component"||e==="Component"}const rI=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},oI=/-(\w)/g,s5=rI(e=>e.replace(oI,(t,s)=>s?s.toUpperCase():"")),aI=(e,t)=>{if(vv(e)){const{children:s,loc:l}=e,{slotName:c,slotProps:d}=lI(e,t),m=[t.prefixIdentifiers?"_ctx.$slots":"$slots",c,"{}","undefined","true"];let n=2;d&&(m[2]=d,n=3),s.length&&(m[3]=ym([],s,!1,!1,l),n=4),t.scopeId&&!t.slotted&&(n=5),m.splice(n),e.codegenNode=bo(t.helper(aM),m,l)}};function lI(e,t){let s='"default"',l;const c=[];for(let d=0;d<e.props.length;d++){const m=e.props[d];m.type===6?m.value&&(m.name==="name"?s=JSON.stringify(m.value.content):(m.name=s5(m.name),c.push(m))):m.name==="bind"&&Sf(m.arg,"name")?m.exp&&(s=m.exp):(m.name==="bind"&&m.arg&&Cl(m.arg)&&(m.arg.content=s5(m.arg.content)),c.push(m))}if(c.length>0){const{props:d,directives:m}=MM(e,t,c,!1,!1);l=d,m.length&&t.onError(Gr(36,m[0].loc))}return{slotName:s,slotProps:l}}const cI=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,AM=(e,t,s,l)=>{const{loc:c,modifiers:d,arg:m}=e;!e.exp&&!d.length&&s.onError(Gr(35,c));let n;if(m.type===4)if(m.isStatic){let z=m.content;z.startsWith("vue:")&&(z=`vnode-${z.slice(4)}`);const Y=t.tagType!==0||z.startsWith("vnode")||!/[A-Z]/.test(z)?Mf(na(z)):`on:${z}`;n=us(Y,!0,m.loc)}else n=_h([`${s.helperString(Tw)}(`,m,")"]);else n=m,n.children.unshift(`${s.helperString(Tw)}(`),n.children.push(")");let w=e.exp;w&&!w.content.trim()&&(w=void 0);let $=s.cacheHandlers&&!w&&!s.inVOnce;if(w){const z=dM(w.content),Y=!(z||cI.test(w.content)),Q=w.content.includes(";");(Y||$&&z)&&(w=_h([`${Y?"$event":"(...args)"} => ${Q?"{":"("}`,w,Q?"}":")"]))}let ee={props:[to(n,w||us("() => {}",!1,c))]};return l&&(ee=l(ee)),$&&(ee.props[0].value=s.cache(ee.props[0].value)),ee.props.forEach(z=>z.key.isHandlerKey=!0),ee},hI=(e,t,s)=>{const{exp:l,modifiers:c,loc:d}=e,m=e.arg;return m.type!==4?(m.children.unshift("("),m.children.push(') || ""')):m.isStatic||(m.content=`${m.content} || ""`),c.includes("camel")&&(m.type===4?m.isStatic?m.content=na(m.content):m.content=`${s.helperString(ww)}(${m.content})`:(m.children.unshift(`${s.helperString(ww)}(`),m.children.push(")"))),s.inSSR||(c.includes("prop")&&r5(m,"."),c.includes("attr")&&r5(m,"^")),!l||l.type===4&&!l.content.trim()?(s.onError(Gr(34,d)),{props:[to(m,us("",!0,d))]}):{props:[to(m,l)]}},r5=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},dI=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let l,c=!1;for(let d=0;d<s.length;d++){const m=s[d];if(Lb(m)){c=!0;for(let n=d+1;n<s.length;n++){const w=s[n];if(Lb(w))l||(l=s[d]=_h([m],m.loc)),l.children.push(" + ",w),s.splice(n,1),n--;else{l=void 0;break}}}}if(!(!c||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(d=>d.type===7&&!t.directiveTransforms[d.name])&&e.tag!=="template")))for(let d=0;d<s.length;d++){const m=s[d];if(Lb(m)||m.type===8){const n=[];(m.type!==2||m.content!==" ")&&n.push(m),!t.ssr&&Vc(m,t)===0&&n.push(1+""),s[d]={type:12,content:m,loc:m.loc,codegenNode:bo(t.helper(K3),n)}}}}},o5=new WeakSet,uI=(e,t)=>{if(e.type===1&&jc(e,"once",!0))return o5.has(e)||t.inVOnce?void 0:(o5.add(e),t.inVOnce=!0,t.helper(mv),()=>{t.inVOnce=!1;const s=t.currentNode;s.codegenNode&&(s.codegenNode=t.cache(s.codegenNode,!0))})},kM=(e,t,s)=>{const{exp:l,arg:c}=e;if(!l)return s.onError(Gr(41,e.loc)),Ry();const d=l.loc.source,m=l.type===4?l.content:d,n=s.bindingMetadata[d];if(n==="props"||n==="props-aliased")return s.onError(Gr(44,l.loc)),Ry();const w=!1;if(!m.trim()||!dM(m)&&!w)return s.onError(Gr(42,l.loc)),Ry();const $=c||us("modelValue",!0),ee=c?Cl(c)?`onUpdate:${c.content}`:_h(['"onUpdate:" + ',c]):"onUpdate:modelValue";let z;const Y=s.isTS?"($event: any)":"$event";z=_h([`${Y} => ((`,l,") = $event)"]);const Q=[to($,e.exp),to(ee,z)];if(e.modifiers.length&&t.tagType===1){const I=e.modifiers.map(H=>(lT(H)?H:JSON.stringify(H))+": true").join(", "),O=c?Cl(c)?`${c.content}Modifiers`:_h([c,' + "Modifiers"']):"modelModifiers";Q.push(to(O,us(`{ ${I} }`,!1,e.loc,2)))}return Ry(Q)};function Ry(e=[]){return{props:e}}const pI=/[\w).+\-_$\]]/,fI=(e,t)=>{Df("COMPILER_FILTER",t)&&(e.type===5&&bv(e.content,t),e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&bv(s.exp,t)}))};function bv(e,t){if(e.type===4)a5(e,t);else for(let s=0;s<e.children.length;s++){const l=e.children[s];typeof l=="object"&&(l.type===4?a5(l,t):l.type===8?bv(e,t):l.type===5&&bv(l.content,t))}}function a5(e,t){const s=e.content;let l=!1,c=!1,d=!1,m=!1,n=0,w=0,$=0,ee=0,z,Y,Q,I,O=[];for(Q=0;Q<s.length;Q++)if(Y=z,z=s.charCodeAt(Q),l)z===39&&Y!==92&&(l=!1);else if(c)z===34&&Y!==92&&(c=!1);else if(d)z===96&&Y!==92&&(d=!1);else if(m)z===47&&Y!==92&&(m=!1);else if(z===124&&s.charCodeAt(Q+1)!==124&&s.charCodeAt(Q-1)!==124&&!n&&!w&&!$)I===void 0?(ee=Q+1,I=s.slice(0,Q).trim()):H();else{switch(z){case 34:c=!0;break;case 39:l=!0;break;case 96:d=!0;break;case 40:$++;break;case 41:$--;break;case 91:w++;break;case 93:w--;break;case 123:n++;break;case 125:n--;break}if(z===47){let A=Q-1,E;for(;A>=0&&(E=s.charAt(A),E===" ");A--);(!E||!pI.test(E))&&(m=!0)}}I===void 0?I=s.slice(0,Q).trim():ee!==0&&H();function H(){O.push(s.slice(ee,Q).trim()),ee=Q+1}if(O.length){for(Q=0;Q<O.length;Q++)I=mI(I,O[Q],t);e.content=I}}function mI(e,t,s){s.helper(eT);const l=t.indexOf("(");if(l<0)return s.filters.add(t),`${I1(t,"filter")}(${e})`;{const c=t.slice(0,l),d=t.slice(l+1);return s.filters.add(c),`${I1(c,"filter")}(${e}${d!==")"?","+d:d}`}}const l5=new WeakSet,gI=(e,t)=>{if(e.type===1){const s=jc(e,"memo");return!s||l5.has(e)?void 0:(l5.add(e),()=>{const l=e.codegenNode||t.currentNode.codegenNode;l&&l.type===13&&(e.tagType!==1&&cT(l,t),e.codegenNode=bo(t.helper(aT),[s.exp,ym(void 0,l),"_cache",String(t.cached++)]))})}};function _I(e){return[[uI,VD,gI,WD,fI,aI,eI,KD,dI],{on:AM,bind:hI,model:kM}]}function yI(e,t={}){const s=t.onError||X3,l=t.mode==="module";t.prefixIdentifiers===!0?s(Gr(47)):l&&s(Gr(48));const c=!1;t.cacheHandlers&&s(Gr(49)),t.scopeId&&!l&&s(Gr(50));const d=ss(e)?hD(e,t):e,[m,n]=_I();return SD(d,Js({},t,{prefixIdentifiers:c,nodeTransforms:[...m,...t.nodeTransforms||[]],directiveTransforms:Js({},n,t.directiveTransforms||{})})),AD(d,Js({},t,{prefixIdentifiers:c}))}const vI=()=>({props:[]}),PM=Symbol(""),DM=Symbol(""),IM=Symbol(""),LM=Symbol(""),kw=Symbol(""),OM=Symbol(""),RM=Symbol(""),BM=Symbol(""),zM=Symbol(""),FM=Symbol("");qP({[PM]:"vModelRadio",[DM]:"vModelCheckbox",[IM]:"vModelText",[LM]:"vModelSelect",[kw]:"vModelDynamic",[OM]:"withModifiers",[RM]:"withKeys",[BM]:"vShow",[zM]:"Transition",[FM]:"TransitionGroup"});let Z0;function xI(e,t=!1){return Z0||(Z0=document.createElement("div")),t?(Z0.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Z0.children[0].getAttribute("foo")):(Z0.innerHTML=e,Z0.textContent)}const bI=Al("style,iframe,script,noscript",!0),wI={isVoidTag:L6,isNativeTag:e=>D6(e)||I6(e),isPreTag:e=>e==="pre",decodeEntities:xI,isBuiltInComponent:e=>{if(Q0(e,"Transition"))return zM;if(Q0(e,"TransitionGroup"))return FM},getNamespace(e,t){let s=t?t.ns:0;if(t&&s===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(l=>l.type===6&&l.name==="encoding"&&l.value!=null&&(l.value.content==="text/html"||l.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(s=0);else t&&s===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(s=0);if(s===0){if(e==="svg")return 1;if(e==="math")return 2}return s},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(bI(e))return 2}return 0}},TI=e=>{e.type===1&&e.props.forEach((t,s)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[s]={type:7,name:"bind",arg:us("style",!0,t.loc),exp:SI(t.value.content,t.loc),modifiers:[],loc:t.loc})})},SI=(e,t)=>{const s=rE(e);return us(JSON.stringify(s),!1,t,3)};function qd(e,t){return Gr(e,t)}const EI=(e,t,s)=>{const{exp:l,loc:c}=e;return l||s.onError(qd(51,c)),t.children.length&&(s.onError(qd(52,c)),t.children.length=0),{props:[to(us("innerHTML",!0,c),l||us("",!0))]}},CI=(e,t,s)=>{const{exp:l,loc:c}=e;return l||s.onError(qd(53,c)),t.children.length&&(s.onError(qd(54,c)),t.children.length=0),{props:[to(us("textContent",!0),l?Vc(l,s)>0?l:bo(s.helperString(hx),[l],c):us("",!0))]}},MI=(e,t,s)=>{const l=kM(e,t,s);if(!l.props.length||t.tagType===1)return l;e.arg&&s.onError(qd(56,e.arg.loc));const{tag:c}=t,d=s.isCustomElement(c);if(c==="input"||c==="textarea"||c==="select"||d){let m=IM,n=!1;if(c==="input"||d){const w=dx(t,"type");if(w){if(w.type===7)m=kw;else if(w.value)switch(w.value.content){case"radio":m=PM;break;case"checkbox":m=DM;break;case"file":n=!0,s.onError(qd(57,e.loc));break}}else sD(t)&&(m=kw)}else c==="select"&&(m=LM);n||(l.needRuntime=s.helper(m))}else s.onError(qd(55,e.loc));return l.props=l.props.filter(m=>!(m.key.type===4&&m.key.content==="modelValue")),l},AI=Al("passive,once,capture"),kI=Al("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),PI=Al("left,right"),NM=Al("onkeyup,onkeydown,onkeypress",!0),DI=(e,t,s,l)=>{const c=[],d=[],m=[];for(let n=0;n<t.length;n++){const w=t[n];w==="native"&&L1("COMPILER_V_ON_NATIVE",s)||AI(w)?m.push(w):PI(w)?Cl(e)?NM(e.content)?c.push(w):d.push(w):(c.push(w),d.push(w)):kI(w)?d.push(w):c.push(w)}return{keyModifiers:c,nonKeyModifiers:d,eventOptionModifiers:m}},c5=(e,t)=>Cl(e)&&e.content.toLowerCase()==="onclick"?us(t,!0):e.type!==4?_h(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,II=(e,t,s)=>AM(e,t,s,l=>{const{modifiers:c}=e;if(!c.length)return l;let{key:d,value:m}=l.props[0];const{keyModifiers:n,nonKeyModifiers:w,eventOptionModifiers:$}=DI(d,c,s,e.loc);if(w.includes("right")&&(d=c5(d,"onContextmenu")),w.includes("middle")&&(d=c5(d,"onMouseup")),w.length&&(m=bo(s.helper(OM),[m,JSON.stringify(w)])),n.length&&(!Cl(d)||NM(d.content))&&(m=bo(s.helper(RM),[m,JSON.stringify(n)])),$.length){const ee=$.map(_p).join("");d=Cl(d)?us(`${d.content}${ee}`,!0):_h(["(",d,`) + "${ee}"`])}return{props:[to(d,m)]}}),LI=(e,t,s)=>{const{exp:l,loc:c}=e;return l||s.onError(qd(59,c)),{props:[],needRuntime:s.helper(BM)}},OI=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(qd(61,e.loc)),t.removeNode())},RI=[TI],BI={cloak:vI,html:EI,text:CI,model:MI,on:II,show:LI};function zI(e,t={}){return yI(e,Js({},wI,t,{nodeTransforms:[OI,...RI,...t.nodeTransforms||[]],directiveTransforms:Js({},BI,t.directiveTransforms||{}),transformHoist:null}))}const h5=Object.create(null);function jM(e,t){if(!ss(e))if(e.nodeType)e=e.innerHTML;else return el;const s=e,l=h5[s];if(l)return l;if(e[0]==="#"){const n=document.querySelector(e);e=n?n.innerHTML:""}const c=Js({hoistStatic:!0,onError:void 0,onWarn:el},t);!c.isCustomElement&&typeof customElements<"u"&&(c.isCustomElement=n=>!!customElements.get(n));const{code:d}=zI(e,c),m=new Function("Vue",d)(VP);return m._rc=!0,h5[s]=m}B3(jM);const FI=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:tx,Comment:_a,EffectScope:jv,Fragment:Ts,KeepAlive:qE,ReactiveEffect:Sm,Static:np,Suspense:GE,Teleport:hC,Text:dp,Transition:W1,TransitionGroup:HC,VueElement:H1,callWithAsyncErrorHandling:Ml,callWithErrorHandling:id,camelize:na,capitalize:_p,cloneVNode:yh,compatUtils:RC,compile:jM,computed:km,createApp:W3,createBlock:Hc,createCommentVNode:Wn,createElementBlock:Pi,createElementVNode:at,createHydrationRenderer:L3,createPropsRestProxy:kC,createRenderer:I3,createSSRApp:QC,createSlots:QE,createStaticVNode:bh,createTextVNode:Ro,createVNode:Yi,customRef:IE,defineAsyncComponent:YE,defineComponent:ix,defineCustomElement:G3,defineEmits:TC,defineExpose:SC,defineProps:wC,defineSSRCustomElement:BC,get devtools(){return bf},effect:gE,effectScope:hE,getCurrentInstance:ru,getCurrentScope:uE,getTransitionRawChildren:V1,guardReactiveProps:A1,h:Sl,handleError:yp,hydrate:H3,initCustomFormatter:DC,initDirectivesForSSR:tM,inject:kf,isMemoSame:j3,isProxy:Wv,isReactive:ip,isReadonly:cp,isRef:zo,isRuntimeOnly:vC,isShallow:pm,isVNode:Qd,markRaw:Xv,mergeDefaults:AC,mergeProps:ax,nextTick:Mm,normalizeClass:Dr,normalizeProps:sv,normalizeStyle:nu,onActivated:b3,onBeforeMount:T3,onBeforeUnmount:Vf,onBeforeUpdate:sx,onDeactivated:w3,onErrorCaptured:M3,onMounted:sd,onRenderTracked:C3,onRenderTriggered:E3,onScopeDispose:pE,onServerPrefetch:S3,onUnmounted:$f,onUpdated:Gf,openBlock:Mi,popScopeId:Uf,provide:Am,proxyRefs:qv,pushScopeId:jf,queuePostFlushCb:Kv,reactive:U1,readonly:$v,ref:Zr,registerRuntimeCompiler:B3,render:dv,renderList:Fo,renderSlot:fh,resolveComponent:ts,resolveDirective:rx,resolveDynamicComponent:JE,resolveFilter:OC,resolveTransitionHooks:Of,setBlockTracking:cv,setDevtoolsHook:_3,setTransitionHooks:hp,shallowReactive:u3,shallowReadonly:AE,shallowRef:kE,ssrContextKey:F3,ssrUtils:LC,stop:_E,toDisplayString:hn,toHandlerKey:Mf,toHandlers:tC,toRaw:Rs,toRef:m3,toRefs:LE,transformVNodeArgs:fC,triggerRef:DE,unref:xo,useAttrs:z3,useCssModule:zC,useCssVars:FC,useSSRContext:N3,useSlots:CC,useTransitionState:ex,vModelCheckbox:mm,vModelDynamic:V3,vModelRadio:cx,vModelSelect:Hd,vModelText:eu,vShow:$3,version:U3,warn:RE,watch:$c,watchEffect:$E,watchPostEffect:x3,watchSyncEffect:HE,withAsyncContext:PC,withCtx:Ur,withDefaults:EC,withDirectives:La,withKeys:qC,withMemo:IC,withModifiers:YC,withScopeId:jE},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var UM;function tn(){return UM.apply(null,arguments)}function NI(e){UM=e}function vh(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function If(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function qs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function uT(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(qs(e,t))return!1;return!0}function wl(e){return e===void 0}function tu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function K1(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function GM(e,t){var s=[],l,c=e.length;for(l=0;l<c;++l)s.push(t(e[l],l));return s}function Ku(e,t){for(var s in t)qs(t,s)&&(e[s]=t[s]);return qs(t,"toString")&&(e.toString=t.toString),qs(t,"valueOf")&&(e.valueOf=t.valueOf),e}function rd(e,t,s,l){return u8(e,t,s,l,!0).utc()}function jI(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ns(e){return e._pf==null&&(e._pf=jI()),e._pf}var Pw;Array.prototype.some?Pw=Array.prototype.some:Pw=function(e){var t=Object(this),s=t.length>>>0,l;for(l=0;l<s;l++)if(l in t&&e.call(this,t[l],l,t))return!0;return!1};function pT(e){if(e._isValid==null){var t=ns(e),s=Pw.call(t.parsedDateParts,function(c){return c!=null}),l=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s);if(e._strict&&(l=l&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=l;else return l}return e._isValid}function mx(e){var t=rd(NaN);return e!=null?Ku(ns(t),e):ns(t).userInvalidated=!0,t}var d5=tn.momentProperties=[],Rb=!1;function fT(e,t){var s,l,c,d=d5.length;if(wl(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),wl(t._i)||(e._i=t._i),wl(t._f)||(e._f=t._f),wl(t._l)||(e._l=t._l),wl(t._strict)||(e._strict=t._strict),wl(t._tzm)||(e._tzm=t._tzm),wl(t._isUTC)||(e._isUTC=t._isUTC),wl(t._offset)||(e._offset=t._offset),wl(t._pf)||(e._pf=ns(t)),wl(t._locale)||(e._locale=t._locale),d>0)for(s=0;s<d;s++)l=d5[s],c=t[l],wl(c)||(e[l]=c);return e}function J1(e){fT(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Rb===!1&&(Rb=!0,tn.updateOffset(this),Rb=!1)}function xh(e){return e instanceof J1||e!=null&&e._isAMomentObject!=null}function VM(e){tn.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Xc(e,t){var s=!0;return Ku(function(){if(tn.deprecationHandler!=null&&tn.deprecationHandler(null,e),s){var l=[],c,d,m,n=arguments.length;for(d=0;d<n;d++){if(c="",typeof arguments[d]=="object"){c+=`
[`+d+"] ";for(m in arguments[0])qs(arguments[0],m)&&(c+=m+": "+arguments[0][m]+", ");c=c.slice(0,-2)}else c=arguments[d];l.push(c)}VM(e+`
Arguments: `+Array.prototype.slice.call(l).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var u5={};function $M(e,t){tn.deprecationHandler!=null&&tn.deprecationHandler(e,t),u5[e]||(VM(t),u5[e]=!0)}tn.suppressDeprecationWarnings=!1;tn.deprecationHandler=null;function od(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function UI(e){var t,s;for(s in e)qs(e,s)&&(t=e[s],od(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Dw(e,t){var s=Ku({},e),l;for(l in t)qs(t,l)&&(If(e[l])&&If(t[l])?(s[l]={},Ku(s[l],e[l]),Ku(s[l],t[l])):t[l]!=null?s[l]=t[l]:delete s[l]);for(l in e)qs(e,l)&&!qs(t,l)&&If(e[l])&&(s[l]=Ku({},s[l]));return s}function mT(e){e!=null&&this.set(e)}var Iw;Object.keys?Iw=Object.keys:Iw=function(e){var t,s=[];for(t in e)qs(e,t)&&s.push(t);return s};var GI={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function VI(e,t,s){var l=this._calendar[e]||this._calendar.sameElse;return od(l)?l.call(t,s):l}function nd(e,t,s){var l=""+Math.abs(e),c=t-l.length,d=e>=0;return(d?s?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+l}var gT=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,By=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bb={},om={};function An(e,t,s,l){var c=l;typeof l=="string"&&(c=function(){return this[l]()}),e&&(om[e]=c),t&&(om[t[0]]=function(){return nd(c.apply(this,arguments),t[1],t[2])}),s&&(om[s]=function(){return this.localeData().ordinal(c.apply(this,arguments),e)})}function $I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function HI(e){var t=e.match(gT),s,l;for(s=0,l=t.length;s<l;s++)om[t[s]]?t[s]=om[t[s]]:t[s]=$I(t[s]);return function(c){var d="",m;for(m=0;m<l;m++)d+=od(t[m])?t[m].call(c,e):t[m];return d}}function Zy(e,t){return e.isValid()?(t=HM(t,e.localeData()),Bb[t]=Bb[t]||HI(t),Bb[t](e)):e.localeData().invalidDate()}function HM(e,t){var s=5;function l(c){return t.longDateFormat(c)||c}for(By.lastIndex=0;s>=0&&By.test(e);)e=e.replace(By,l),By.lastIndex=0,s-=1;return e}var WI={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function XI(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(gT).map(function(l){return l==="MMMM"||l==="MM"||l==="DD"||l==="dddd"?l.slice(1):l}).join(""),this._longDateFormat[e])}var YI="Invalid date";function qI(){return this._invalidDate}var ZI="%d",KI=/\d{1,2}/;function JI(e){return this._ordinal.replace("%d",e)}var QI={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function eL(e,t,s,l){var c=this._relativeTime[s];return od(c)?c(e,t,s,l):c.replace(/%d/i,e)}function tL(e,t){var s=this._relativeTime[e>0?"future":"past"];return od(s)?s(t):s.replace(/%s/i,t)}var x1={};function za(e,t){var s=e.toLowerCase();x1[s]=x1[s+"s"]=x1[t]=e}function Yc(e){return typeof e=="string"?x1[e]||x1[e.toLowerCase()]:void 0}function _T(e){var t={},s,l;for(l in e)qs(e,l)&&(s=Yc(l),s&&(t[s]=e[l]));return t}var WM={};function Fa(e,t){WM[e]=t}function iL(e){var t=[],s;for(s in e)qs(e,s)&&t.push({unit:s,priority:WM[s]});return t.sort(function(l,c){return l.priority-c.priority}),t}function gx(e){return e%4===0&&e%100!==0||e%400===0}function Uc(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function vs(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=Uc(t)),s}function Pm(e,t){return function(s){return s!=null?(XM(this,e,s),tn.updateOffset(this,t),this):wv(this,e)}}function wv(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function XM(e,t,s){e.isValid()&&!isNaN(s)&&(t==="FullYear"&&gx(e.year())&&e.month()===1&&e.date()===29?(s=vs(s),e._d["set"+(e._isUTC?"UTC":"")+t](s,e.month(),wx(s,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](s))}function nL(e){return e=Yc(e),od(this[e])?this[e]():this}function sL(e,t){if(typeof e=="object"){e=_T(e);var s=iL(e),l,c=s.length;for(l=0;l<c;l++)this[s[l].unit](e[s[l].unit])}else if(e=Yc(e),od(this[e]))return this[e](t);return this}var YM=/\d/,pc=/\d\d/,qM=/\d{3}/,yT=/\d{4}/,_x=/[+-]?\d{6}/,Lr=/\d\d?/,ZM=/\d\d\d\d?/,KM=/\d\d\d\d\d\d?/,yx=/\d{1,3}/,vT=/\d{1,4}/,vx=/[+-]?\d{1,6}/,Dm=/\d+/,xx=/[+-]?\d+/,rL=/Z|[+-]\d\d:?\d\d/gi,bx=/Z|[+-]\d\d(?::?\d\d)?/gi,oL=/[+-]?\d+(\.\d{1,3})?/,Q1=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Tv;Tv={};function ln(e,t,s){Tv[e]=od(t)?t:function(l,c){return l&&s?s:t}}function aL(e,t){return qs(Tv,e)?Tv[e](t._strict,t._locale):new RegExp(lL(e))}function lL(e){return lc(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,l,c,d){return s||l||c||d}))}function lc(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Lw={};function ur(e,t){var s,l=t,c;for(typeof e=="string"&&(e=[e]),tu(t)&&(l=function(d,m){m[t]=vs(d)}),c=e.length,s=0;s<c;s++)Lw[e[s]]=l}function e_(e,t){ur(e,function(s,l,c,d){c._w=c._w||{},t(s,c._w,c,d)})}function cL(e,t,s){t!=null&&qs(Lw,e)&&Lw[e](t,s._a,s,e)}var Ba=0,Wd=1,Qh=2,No=3,gh=4,Xd=5,Ef=6,hL=7,dL=8;function uL(e,t){return(e%t+t)%t}var ho;Array.prototype.indexOf?ho=Array.prototype.indexOf:ho=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function wx(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=uL(t,12);return e+=(t-s)/12,s===1?gx(e)?29:28:31-s%7%2}An("M",["MM",2],"Mo",function(){return this.month()+1});An("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});An("MMMM",0,0,function(e){return this.localeData().months(this,e)});za("month","M");Fa("month",8);ln("M",Lr);ln("MM",Lr,pc);ln("MMM",function(e,t){return t.monthsShortRegex(e)});ln("MMMM",function(e,t){return t.monthsRegex(e)});ur(["M","MM"],function(e,t){t[Wd]=vs(e)-1});ur(["MMM","MMMM"],function(e,t,s,l){var c=s._locale.monthsParse(e,l,s._strict);c!=null?t[Wd]=c:ns(s).invalidMonth=e});var pL="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),JM="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),QM=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fL=Q1,mL=Q1;function gL(e,t){return e?vh(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||QM).test(t)?"format":"standalone"][e.month()]:vh(this._months)?this._months:this._months.standalone}function _L(e,t){return e?vh(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[QM.test(t)?"format":"standalone"][e.month()]:vh(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function yL(e,t,s){var l,c,d,m=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],l=0;l<12;++l)d=rd([2e3,l]),this._shortMonthsParse[l]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[l]=this.months(d,"").toLocaleLowerCase();return s?t==="MMM"?(c=ho.call(this._shortMonthsParse,m),c!==-1?c:null):(c=ho.call(this._longMonthsParse,m),c!==-1?c:null):t==="MMM"?(c=ho.call(this._shortMonthsParse,m),c!==-1?c:(c=ho.call(this._longMonthsParse,m),c!==-1?c:null)):(c=ho.call(this._longMonthsParse,m),c!==-1?c:(c=ho.call(this._shortMonthsParse,m),c!==-1?c:null))}function vL(e,t,s){var l,c,d;if(this._monthsParseExact)return yL.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),l=0;l<12;l++){if(c=rd([2e3,l]),s&&!this._longMonthsParse[l]&&(this._longMonthsParse[l]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[l]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!s&&!this._monthsParse[l]&&(d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[l]=new RegExp(d.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[l].test(e))return l;if(s&&t==="MMM"&&this._shortMonthsParse[l].test(e))return l;if(!s&&this._monthsParse[l].test(e))return l}}function e8(e,t){var s;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=vs(t);else if(t=e.localeData().monthsParse(t),!tu(t))return e}return s=Math.min(e.date(),wx(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,s),e}function t8(e){return e!=null?(e8(this,e),tn.updateOffset(this,!0),this):wv(this,"Month")}function xL(){return wx(this.year(),this.month())}function bL(e){return this._monthsParseExact?(qs(this,"_monthsRegex")||i8.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(qs(this,"_monthsShortRegex")||(this._monthsShortRegex=fL),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function wL(e){return this._monthsParseExact?(qs(this,"_monthsRegex")||i8.call(this),e?this._monthsStrictRegex:this._monthsRegex):(qs(this,"_monthsRegex")||(this._monthsRegex=mL),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function i8(){function e(m,n){return n.length-m.length}var t=[],s=[],l=[],c,d;for(c=0;c<12;c++)d=rd([2e3,c]),t.push(this.monthsShort(d,"")),s.push(this.months(d,"")),l.push(this.months(d,"")),l.push(this.monthsShort(d,""));for(t.sort(e),s.sort(e),l.sort(e),c=0;c<12;c++)t[c]=lc(t[c]),s[c]=lc(s[c]);for(c=0;c<24;c++)l[c]=lc(l[c]);this._monthsRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}An("Y",0,0,function(){var e=this.year();return e<=9999?nd(e,4):"+"+e});An(0,["YY",2],0,function(){return this.year()%100});An(0,["YYYY",4],0,"year");An(0,["YYYYY",5],0,"year");An(0,["YYYYYY",6,!0],0,"year");za("year","y");Fa("year",1);ln("Y",xx);ln("YY",Lr,pc);ln("YYYY",vT,yT);ln("YYYYY",vx,_x);ln("YYYYYY",vx,_x);ur(["YYYYY","YYYYYY"],Ba);ur("YYYY",function(e,t){t[Ba]=e.length===2?tn.parseTwoDigitYear(e):vs(e)});ur("YY",function(e,t){t[Ba]=tn.parseTwoDigitYear(e)});ur("Y",function(e,t){t[Ba]=parseInt(e,10)});function b1(e){return gx(e)?366:365}tn.parseTwoDigitYear=function(e){return vs(e)+(vs(e)>68?1900:2e3)};var n8=Pm("FullYear",!0);function TL(){return gx(this.year())}function SL(e,t,s,l,c,d,m){var n;return e<100&&e>=0?(n=new Date(e+400,t,s,l,c,d,m),isFinite(n.getFullYear())&&n.setFullYear(e)):n=new Date(e,t,s,l,c,d,m),n}function R1(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Sv(e,t,s){var l=7+t-s,c=(7+R1(e,0,l).getUTCDay()-t)%7;return-c+l-1}function s8(e,t,s,l,c){var d=(7+s-l)%7,m=Sv(e,l,c),n=1+7*(t-1)+d+m,w,$;return n<=0?(w=e-1,$=b1(w)+n):n>b1(e)?(w=e+1,$=n-b1(e)):(w=e,$=n),{year:w,dayOfYear:$}}function B1(e,t,s){var l=Sv(e.year(),t,s),c=Math.floor((e.dayOfYear()-l-1)/7)+1,d,m;return c<1?(m=e.year()-1,d=c+Zd(m,t,s)):c>Zd(e.year(),t,s)?(d=c-Zd(e.year(),t,s),m=e.year()+1):(m=e.year(),d=c),{week:d,year:m}}function Zd(e,t,s){var l=Sv(e,t,s),c=Sv(e+1,t,s);return(b1(e)-l+c)/7}An("w",["ww",2],"wo","week");An("W",["WW",2],"Wo","isoWeek");za("week","w");za("isoWeek","W");Fa("week",5);Fa("isoWeek",5);ln("w",Lr);ln("ww",Lr,pc);ln("W",Lr);ln("WW",Lr,pc);e_(["w","ww","W","WW"],function(e,t,s,l){t[l.substr(0,1)]=vs(e)});function EL(e){return B1(e,this._week.dow,this._week.doy).week}var CL={dow:0,doy:6};function ML(){return this._week.dow}function AL(){return this._week.doy}function kL(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function PL(e){var t=B1(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}An("d",0,"do","day");An("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});An("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});An("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});An("e",0,0,"weekday");An("E",0,0,"isoWeekday");za("day","d");za("weekday","e");za("isoWeekday","E");Fa("day",11);Fa("weekday",11);Fa("isoWeekday",11);ln("d",Lr);ln("e",Lr);ln("E",Lr);ln("dd",function(e,t){return t.weekdaysMinRegex(e)});ln("ddd",function(e,t){return t.weekdaysShortRegex(e)});ln("dddd",function(e,t){return t.weekdaysRegex(e)});e_(["dd","ddd","dddd"],function(e,t,s,l){var c=s._locale.weekdaysParse(e,l,s._strict);c!=null?t.d=c:ns(s).invalidWeekday=e});e_(["d","e","E"],function(e,t,s,l){t[l]=vs(e)});function DL(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function IL(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function xT(e,t){return e.slice(t,7).concat(e.slice(0,t))}var LL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),r8="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),OL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),RL=Q1,BL=Q1,zL=Q1;function FL(e,t){var s=vh(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?xT(s,this._week.dow):e?s[e.day()]:s}function NL(e){return e===!0?xT(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function jL(e){return e===!0?xT(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function UL(e,t,s){var l,c,d,m=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],l=0;l<7;++l)d=rd([2e3,1]).day(l),this._minWeekdaysParse[l]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[l]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[l]=this.weekdays(d,"").toLocaleLowerCase();return s?t==="dddd"?(c=ho.call(this._weekdaysParse,m),c!==-1?c:null):t==="ddd"?(c=ho.call(this._shortWeekdaysParse,m),c!==-1?c:null):(c=ho.call(this._minWeekdaysParse,m),c!==-1?c:null):t==="dddd"?(c=ho.call(this._weekdaysParse,m),c!==-1||(c=ho.call(this._shortWeekdaysParse,m),c!==-1)?c:(c=ho.call(this._minWeekdaysParse,m),c!==-1?c:null)):t==="ddd"?(c=ho.call(this._shortWeekdaysParse,m),c!==-1||(c=ho.call(this._weekdaysParse,m),c!==-1)?c:(c=ho.call(this._minWeekdaysParse,m),c!==-1?c:null)):(c=ho.call(this._minWeekdaysParse,m),c!==-1||(c=ho.call(this._weekdaysParse,m),c!==-1)?c:(c=ho.call(this._shortWeekdaysParse,m),c!==-1?c:null))}function GL(e,t,s){var l,c,d;if(this._weekdaysParseExact)return UL.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),l=0;l<7;l++){if(c=rd([2e3,1]).day(l),s&&!this._fullWeekdaysParse[l]&&(this._fullWeekdaysParse[l]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[l]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[l]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[l]||(d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[l]=new RegExp(d.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[l].test(e))return l;if(s&&t==="ddd"&&this._shortWeekdaysParse[l].test(e))return l;if(s&&t==="dd"&&this._minWeekdaysParse[l].test(e))return l;if(!s&&this._weekdaysParse[l].test(e))return l}}function VL(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=DL(e,this.localeData()),this.add(e-t,"d")):t}function $L(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function HL(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=IL(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function WL(e){return this._weekdaysParseExact?(qs(this,"_weekdaysRegex")||bT.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(qs(this,"_weekdaysRegex")||(this._weekdaysRegex=RL),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function XL(e){return this._weekdaysParseExact?(qs(this,"_weekdaysRegex")||bT.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(qs(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=BL),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function YL(e){return this._weekdaysParseExact?(qs(this,"_weekdaysRegex")||bT.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(qs(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zL),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function bT(){function e(ee,z){return z.length-ee.length}var t=[],s=[],l=[],c=[],d,m,n,w,$;for(d=0;d<7;d++)m=rd([2e3,1]).day(d),n=lc(this.weekdaysMin(m,"")),w=lc(this.weekdaysShort(m,"")),$=lc(this.weekdays(m,"")),t.push(n),s.push(w),l.push($),c.push(n),c.push(w),c.push($);t.sort(e),s.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function wT(){return this.hours()%12||12}function qL(){return this.hours()||24}An("H",["HH",2],0,"hour");An("h",["hh",2],0,wT);An("k",["kk",2],0,qL);An("hmm",0,0,function(){return""+wT.apply(this)+nd(this.minutes(),2)});An("hmmss",0,0,function(){return""+wT.apply(this)+nd(this.minutes(),2)+nd(this.seconds(),2)});An("Hmm",0,0,function(){return""+this.hours()+nd(this.minutes(),2)});An("Hmmss",0,0,function(){return""+this.hours()+nd(this.minutes(),2)+nd(this.seconds(),2)});function o8(e,t){An(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}o8("a",!0);o8("A",!1);za("hour","h");Fa("hour",13);function a8(e,t){return t._meridiemParse}ln("a",a8);ln("A",a8);ln("H",Lr);ln("h",Lr);ln("k",Lr);ln("HH",Lr,pc);ln("hh",Lr,pc);ln("kk",Lr,pc);ln("hmm",ZM);ln("hmmss",KM);ln("Hmm",ZM);ln("Hmmss",KM);ur(["H","HH"],No);ur(["k","kk"],function(e,t,s){var l=vs(e);t[No]=l===24?0:l});ur(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e});ur(["h","hh"],function(e,t,s){t[No]=vs(e),ns(s).bigHour=!0});ur("hmm",function(e,t,s){var l=e.length-2;t[No]=vs(e.substr(0,l)),t[gh]=vs(e.substr(l)),ns(s).bigHour=!0});ur("hmmss",function(e,t,s){var l=e.length-4,c=e.length-2;t[No]=vs(e.substr(0,l)),t[gh]=vs(e.substr(l,2)),t[Xd]=vs(e.substr(c)),ns(s).bigHour=!0});ur("Hmm",function(e,t,s){var l=e.length-2;t[No]=vs(e.substr(0,l)),t[gh]=vs(e.substr(l))});ur("Hmmss",function(e,t,s){var l=e.length-4,c=e.length-2;t[No]=vs(e.substr(0,l)),t[gh]=vs(e.substr(l,2)),t[Xd]=vs(e.substr(c))});function ZL(e){return(e+"").toLowerCase().charAt(0)==="p"}var KL=/[ap]\.?m?\.?/i,JL=Pm("Hours",!0);function QL(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var l8={calendar:GI,longDateFormat:WI,invalidDate:YI,ordinal:ZI,dayOfMonthOrdinalParse:KI,relativeTime:QI,months:pL,monthsShort:JM,week:CL,weekdays:LL,weekdaysMin:OL,weekdaysShort:r8,meridiemParse:KL},jr={},h1={},z1;function e9(e,t){var s,l=Math.min(e.length,t.length);for(s=0;s<l;s+=1)if(e[s]!==t[s])return s;return l}function p5(e){return e&&e.toLowerCase().replace("_","-")}function t9(e){for(var t=0,s,l,c,d;t<e.length;){for(d=p5(e[t]).split("-"),s=d.length,l=p5(e[t+1]),l=l?l.split("-"):null;s>0;){if(c=Tx(d.slice(0,s).join("-")),c)return c;if(l&&l.length>=s&&e9(d,l)>=s-1)break;s--}t++}return z1}function i9(e){return e.match("^[^/\\\\]*$")!=null}function Tx(e){var t=null,s;if(jr[e]===void 0&&typeof tv<"u"&&tv&&tv.exports&&i9(e))try{t=z1._abbr,s=require,s("./locale/"+e),rp(t)}catch{jr[e]=null}return jr[e]}function rp(e,t){var s;return e&&(wl(t)?s=ou(e):s=TT(e,t),s?z1=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),z1._abbr}function TT(e,t){if(t!==null){var s,l=l8;if(t.abbr=e,jr[e]!=null)$M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),l=jr[e]._config;else if(t.parentLocale!=null)if(jr[t.parentLocale]!=null)l=jr[t.parentLocale]._config;else if(s=Tx(t.parentLocale),s!=null)l=s._config;else return h1[t.parentLocale]||(h1[t.parentLocale]=[]),h1[t.parentLocale].push({name:e,config:t}),null;return jr[e]=new mT(Dw(l,t)),h1[e]&&h1[e].forEach(function(c){TT(c.name,c.config)}),rp(e),jr[e]}else return delete jr[e],null}function n9(e,t){if(t!=null){var s,l,c=l8;jr[e]!=null&&jr[e].parentLocale!=null?jr[e].set(Dw(jr[e]._config,t)):(l=Tx(e),l!=null&&(c=l._config),t=Dw(c,t),l==null&&(t.abbr=e),s=new mT(t),s.parentLocale=jr[e],jr[e]=s),rp(e)}else jr[e]!=null&&(jr[e].parentLocale!=null?(jr[e]=jr[e].parentLocale,e===rp()&&rp(e)):jr[e]!=null&&delete jr[e]);return jr[e]}function ou(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return z1;if(!vh(e)){if(t=Tx(e),t)return t;e=[e]}return t9(e)}function s9(){return Iw(jr)}function ST(e){var t,s=e._a;return s&&ns(e).overflow===-2&&(t=s[Wd]<0||s[Wd]>11?Wd:s[Qh]<1||s[Qh]>wx(s[Ba],s[Wd])?Qh:s[No]<0||s[No]>24||s[No]===24&&(s[gh]!==0||s[Xd]!==0||s[Ef]!==0)?No:s[gh]<0||s[gh]>59?gh:s[Xd]<0||s[Xd]>59?Xd:s[Ef]<0||s[Ef]>999?Ef:-1,ns(e)._overflowDayOfYear&&(t<Ba||t>Qh)&&(t=Qh),ns(e)._overflowWeeks&&t===-1&&(t=hL),ns(e)._overflowWeekday&&t===-1&&(t=dL),ns(e).overflow=t),e}var r9=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,o9=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,a9=/Z|[+-]\d\d(?::?\d\d)?/,zy=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],zb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],l9=/^\/?Date\((-?\d+)/i,c9=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,h9={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function c8(e){var t,s,l=e._i,c=r9.exec(l)||o9.exec(l),d,m,n,w,$=zy.length,ee=zb.length;if(c){for(ns(e).iso=!0,t=0,s=$;t<s;t++)if(zy[t][1].exec(c[1])){m=zy[t][0],d=zy[t][2]!==!1;break}if(m==null){e._isValid=!1;return}if(c[3]){for(t=0,s=ee;t<s;t++)if(zb[t][1].exec(c[3])){n=(c[2]||" ")+zb[t][0];break}if(n==null){e._isValid=!1;return}}if(!d&&n!=null){e._isValid=!1;return}if(c[4])if(a9.exec(c[4]))w="Z";else{e._isValid=!1;return}e._f=m+(n||"")+(w||""),CT(e)}else e._isValid=!1}function d9(e,t,s,l,c,d){var m=[u9(e),JM.indexOf(t),parseInt(s,10),parseInt(l,10),parseInt(c,10)];return d&&m.push(parseInt(d,10)),m}function u9(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function p9(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function f9(e,t,s){if(e){var l=r8.indexOf(e),c=new Date(t[0],t[1],t[2]).getDay();if(l!==c)return ns(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function m9(e,t,s){if(e)return h9[e];if(t)return 0;var l=parseInt(s,10),c=l%100,d=(l-c)/100;return d*60+c}function h8(e){var t=c9.exec(p9(e._i)),s;if(t){if(s=d9(t[4],t[3],t[2],t[5],t[6],t[7]),!f9(t[1],s,e))return;e._a=s,e._tzm=m9(t[8],t[9],t[10]),e._d=R1.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ns(e).rfc2822=!0}else e._isValid=!1}function g9(e){var t=l9.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(c8(e),e._isValid===!1)delete e._isValid;else return;if(h8(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:tn.createFromInputFallback(e)}tn.createFromInputFallback=Xc("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function J0(e,t,s){return e??t??s}function _9(e){var t=new Date(tn.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ET(e){var t,s,l=[],c,d,m;if(!e._d){for(c=_9(e),e._w&&e._a[Qh]==null&&e._a[Wd]==null&&y9(e),e._dayOfYear!=null&&(m=J0(e._a[Ba],c[Ba]),(e._dayOfYear>b1(m)||e._dayOfYear===0)&&(ns(e)._overflowDayOfYear=!0),s=R1(m,0,e._dayOfYear),e._a[Wd]=s.getUTCMonth(),e._a[Qh]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=l[t]=c[t];for(;t<7;t++)e._a[t]=l[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[No]===24&&e._a[gh]===0&&e._a[Xd]===0&&e._a[Ef]===0&&(e._nextDay=!0,e._a[No]=0),e._d=(e._useUTC?R1:SL).apply(null,l),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[No]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(ns(e).weekdayMismatch=!0)}}function y9(e){var t,s,l,c,d,m,n,w,$;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,m=4,s=J0(t.GG,e._a[Ba],B1(Ir(),1,4).year),l=J0(t.W,1),c=J0(t.E,1),(c<1||c>7)&&(w=!0)):(d=e._locale._week.dow,m=e._locale._week.doy,$=B1(Ir(),d,m),s=J0(t.gg,e._a[Ba],$.year),l=J0(t.w,$.week),t.d!=null?(c=t.d,(c<0||c>6)&&(w=!0)):t.e!=null?(c=t.e+d,(t.e<0||t.e>6)&&(w=!0)):c=d),l<1||l>Zd(s,d,m)?ns(e)._overflowWeeks=!0:w!=null?ns(e)._overflowWeekday=!0:(n=s8(s,l,c,d,m),e._a[Ba]=n.year,e._dayOfYear=n.dayOfYear)}tn.ISO_8601=function(){};tn.RFC_2822=function(){};function CT(e){if(e._f===tn.ISO_8601){c8(e);return}if(e._f===tn.RFC_2822){h8(e);return}e._a=[],ns(e).empty=!0;var t=""+e._i,s,l,c,d,m,n=t.length,w=0,$,ee;for(c=HM(e._f,e._locale).match(gT)||[],ee=c.length,s=0;s<ee;s++)d=c[s],l=(t.match(aL(d,e))||[])[0],l&&(m=t.substr(0,t.indexOf(l)),m.length>0&&ns(e).unusedInput.push(m),t=t.slice(t.indexOf(l)+l.length),w+=l.length),om[d]?(l?ns(e).empty=!1:ns(e).unusedTokens.push(d),cL(d,l,e)):e._strict&&!l&&ns(e).unusedTokens.push(d);ns(e).charsLeftOver=n-w,t.length>0&&ns(e).unusedInput.push(t),e._a[No]<=12&&ns(e).bigHour===!0&&e._a[No]>0&&(ns(e).bigHour=void 0),ns(e).parsedDateParts=e._a.slice(0),ns(e).meridiem=e._meridiem,e._a[No]=v9(e._locale,e._a[No],e._meridiem),$=ns(e).era,$!==null&&(e._a[Ba]=e._locale.erasConvertYear($,e._a[Ba])),ET(e),ST(e)}function v9(e,t,s){var l;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(l=e.isPM(s),l&&t<12&&(t+=12),!l&&t===12&&(t=0)),t)}function x9(e){var t,s,l,c,d,m,n=!1,w=e._f.length;if(w===0){ns(e).invalidFormat=!0,e._d=new Date(NaN);return}for(c=0;c<w;c++)d=0,m=!1,t=fT({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[c],CT(t),pT(t)&&(m=!0),d+=ns(t).charsLeftOver,d+=ns(t).unusedTokens.length*10,ns(t).score=d,n?d<l&&(l=d,s=t):(l==null||d<l||m)&&(l=d,s=t,m&&(n=!0));Ku(e,s||t)}function b9(e){if(!e._d){var t=_T(e._i),s=t.day===void 0?t.date:t.day;e._a=GM([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(l){return l&&parseInt(l,10)}),ET(e)}}function w9(e){var t=new J1(ST(d8(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function d8(e){var t=e._i,s=e._f;return e._locale=e._locale||ou(e._l),t===null||s===void 0&&t===""?mx({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),xh(t)?new J1(ST(t)):(K1(t)?e._d=t:vh(s)?x9(e):s?CT(e):T9(e),pT(e)||(e._d=null),e))}function T9(e){var t=e._i;wl(t)?e._d=new Date(tn.now()):K1(t)?e._d=new Date(t.valueOf()):typeof t=="string"?g9(e):vh(t)?(e._a=GM(t.slice(0),function(s){return parseInt(s,10)}),ET(e)):If(t)?b9(e):tu(t)?e._d=new Date(t):tn.createFromInputFallback(e)}function u8(e,t,s,l,c){var d={};return(t===!0||t===!1)&&(l=t,t=void 0),(s===!0||s===!1)&&(l=s,s=void 0),(If(e)&&uT(e)||vh(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=c,d._l=s,d._i=e,d._f=t,d._strict=l,w9(d)}function Ir(e,t,s,l){return u8(e,t,s,l,!1)}var S9=Xc("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ir.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:mx()}),E9=Xc("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ir.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:mx()});function p8(e,t){var s,l;if(t.length===1&&vh(t[0])&&(t=t[0]),!t.length)return Ir();for(s=t[0],l=1;l<t.length;++l)(!t[l].isValid()||t[l][e](s))&&(s=t[l]);return s}function C9(){var e=[].slice.call(arguments,0);return p8("isBefore",e)}function M9(){var e=[].slice.call(arguments,0);return p8("isAfter",e)}var A9=function(){return Date.now?Date.now():+new Date},d1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function k9(e){var t,s=!1,l,c=d1.length;for(t in e)if(qs(e,t)&&!(ho.call(d1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(l=0;l<c;++l)if(e[d1[l]]){if(s)return!1;parseFloat(e[d1[l]])!==vs(e[d1[l]])&&(s=!0)}return!0}function P9(){return this._isValid}function D9(){return wh(NaN)}function Sx(e){var t=_T(e),s=t.year||0,l=t.quarter||0,c=t.month||0,d=t.week||t.isoWeek||0,m=t.day||0,n=t.hour||0,w=t.minute||0,$=t.second||0,ee=t.millisecond||0;this._isValid=k9(t),this._milliseconds=+ee+$*1e3+w*6e4+n*1e3*60*60,this._days=+m+d*7,this._months=+c+l*3+s*12,this._data={},this._locale=ou(),this._bubble()}function Ky(e){return e instanceof Sx}function Ow(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function I9(e,t,s){var l=Math.min(e.length,t.length),c=Math.abs(e.length-t.length),d=0,m;for(m=0;m<l;m++)(s&&e[m]!==t[m]||!s&&vs(e[m])!==vs(t[m]))&&d++;return d+c}function f8(e,t){An(e,0,0,function(){var s=this.utcOffset(),l="+";return s<0&&(s=-s,l="-"),l+nd(~~(s/60),2)+t+nd(~~s%60,2)})}f8("Z",":");f8("ZZ","");ln("Z",bx);ln("ZZ",bx);ur(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=MT(bx,e)});var L9=/([\+\-]|\d\d)/gi;function MT(e,t){var s=(t||"").match(e),l,c,d;return s===null?null:(l=s[s.length-1]||[],c=(l+"").match(L9)||["-",0,0],d=+(c[1]*60)+vs(c[2]),d===0?0:c[0]==="+"?d:-d)}function AT(e,t){var s,l;return t._isUTC?(s=t.clone(),l=(xh(e)||K1(e)?e.valueOf():Ir(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+l),tn.updateOffset(s,!1),s):Ir(e).local()}function Rw(e){return-Math.round(e._d.getTimezoneOffset())}tn.updateOffset=function(){};function O9(e,t,s){var l=this._offset||0,c;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=MT(bx,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(c=Rw(this)),this._offset=e,this._isUTC=!0,c!=null&&this.add(c,"m"),l!==e&&(!t||this._changeInProgress?_8(this,wh(e-l,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,tn.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?l:Rw(this)}function R9(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function B9(e){return this.utcOffset(0,e)}function z9(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Rw(this),"m")),this}function F9(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=MT(rL,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function N9(e){return this.isValid()?(e=e?Ir(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function j9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function U9(){if(!wl(this._isDSTShifted))return this._isDSTShifted;var e={},t;return fT(e,this),e=d8(e),e._a?(t=e._isUTC?rd(e._a):Ir(e._a),this._isDSTShifted=this.isValid()&&I9(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function G9(){return this.isValid()?!this._isUTC:!1}function V9(){return this.isValid()?this._isUTC:!1}function m8(){return this.isValid()?this._isUTC&&this._offset===0:!1}var $9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,H9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function wh(e,t){var s=e,l=null,c,d,m;return Ky(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:tu(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(l=$9.exec(e))?(c=l[1]==="-"?-1:1,s={y:0,d:vs(l[Qh])*c,h:vs(l[No])*c,m:vs(l[gh])*c,s:vs(l[Xd])*c,ms:vs(Ow(l[Ef]*1e3))*c}):(l=H9.exec(e))?(c=l[1]==="-"?-1:1,s={y:gf(l[2],c),M:gf(l[3],c),w:gf(l[4],c),d:gf(l[5],c),h:gf(l[6],c),m:gf(l[7],c),s:gf(l[8],c)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(m=W9(Ir(s.from),Ir(s.to)),s={},s.ms=m.milliseconds,s.M=m.months),d=new Sx(s),Ky(e)&&qs(e,"_locale")&&(d._locale=e._locale),Ky(e)&&qs(e,"_isValid")&&(d._isValid=e._isValid),d}wh.fn=Sx.prototype;wh.invalid=D9;function gf(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function f5(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function W9(e,t){var s;return e.isValid()&&t.isValid()?(t=AT(t,e),e.isBefore(t)?s=f5(e,t):(s=f5(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function g8(e,t){return function(s,l){var c,d;return l!==null&&!isNaN(+l)&&($M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=s,s=l,l=d),c=wh(s,l),_8(this,c,e),this}}function _8(e,t,s,l){var c=t._milliseconds,d=Ow(t._days),m=Ow(t._months);e.isValid()&&(l=l??!0,m&&e8(e,wv(e,"Month")+m*s),d&&XM(e,"Date",wv(e,"Date")+d*s),c&&e._d.setTime(e._d.valueOf()+c*s),l&&tn.updateOffset(e,d||m))}var X9=g8(1,"add"),Y9=g8(-1,"subtract");function y8(e){return typeof e=="string"||e instanceof String}function q9(e){return xh(e)||K1(e)||y8(e)||tu(e)||K9(e)||Z9(e)||e===null||e===void 0}function Z9(e){var t=If(e)&&!uT(e),s=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,d,m=l.length;for(c=0;c<m;c+=1)d=l[c],s=s||qs(e,d);return t&&s}function K9(e){var t=vh(e),s=!1;return t&&(s=e.filter(function(l){return!tu(l)&&y8(e)}).length===0),t&&s}function J9(e){var t=If(e)&&!uT(e),s=!1,l=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,d;for(c=0;c<l.length;c+=1)d=l[c],s=s||qs(e,d);return t&&s}function Q9(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function eO(e,t){arguments.length===1&&(arguments[0]?q9(arguments[0])?(e=arguments[0],t=void 0):J9(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||Ir(),l=AT(s,this).startOf("day"),c=tn.calendarFormat(this,l)||"sameElse",d=t&&(od(t[c])?t[c].call(this,s):t[c]);return this.format(d||this.localeData().calendar(c,this,Ir(s)))}function tO(){return new J1(this)}function iO(e,t){var s=xh(e)?e:Ir(e);return this.isValid()&&s.isValid()?(t=Yc(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function nO(e,t){var s=xh(e)?e:Ir(e);return this.isValid()&&s.isValid()?(t=Yc(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function sO(e,t,s,l){var c=xh(e)?e:Ir(e),d=xh(t)?t:Ir(t);return this.isValid()&&c.isValid()&&d.isValid()?(l=l||"()",(l[0]==="("?this.isAfter(c,s):!this.isBefore(c,s))&&(l[1]===")"?this.isBefore(d,s):!this.isAfter(d,s))):!1}function rO(e,t){var s=xh(e)?e:Ir(e),l;return this.isValid()&&s.isValid()?(t=Yc(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(l=s.valueOf(),this.clone().startOf(t).valueOf()<=l&&l<=this.clone().endOf(t).valueOf())):!1}function oO(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function aO(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function lO(e,t,s){var l,c,d;if(!this.isValid())return NaN;if(l=AT(e,this),!l.isValid())return NaN;switch(c=(l.utcOffset()-this.utcOffset())*6e4,t=Yc(t),t){case"year":d=Jy(this,l)/12;break;case"month":d=Jy(this,l);break;case"quarter":d=Jy(this,l)/3;break;case"second":d=(this-l)/1e3;break;case"minute":d=(this-l)/6e4;break;case"hour":d=(this-l)/36e5;break;case"day":d=(this-l-c)/864e5;break;case"week":d=(this-l-c)/6048e5;break;default:d=this-l}return s?d:Uc(d)}function Jy(e,t){if(e.date()<t.date())return-Jy(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),l=e.clone().add(s,"months"),c,d;return t-l<0?(c=e.clone().add(s-1,"months"),d=(t-l)/(l-c)):(c=e.clone().add(s+1,"months"),d=(t-l)/(c-l)),-(s+d)||0}tn.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";tn.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function cO(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function hO(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?Zy(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):od(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Zy(s,"Z")):Zy(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function dO(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,l,c,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',l=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(s+l+c+d)}function uO(e){e||(e=this.isUtc()?tn.defaultFormatUtc:tn.defaultFormat);var t=Zy(this,e);return this.localeData().postformat(t)}function pO(e,t){return this.isValid()&&(xh(e)&&e.isValid()||Ir(e).isValid())?wh({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fO(e){return this.from(Ir(),e)}function mO(e,t){return this.isValid()&&(xh(e)&&e.isValid()||Ir(e).isValid())?wh({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gO(e){return this.to(Ir(),e)}function v8(e){var t;return e===void 0?this._locale._abbr:(t=ou(e),t!=null&&(this._locale=t),this)}var x8=Xc("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function b8(){return this._locale}var Ev=1e3,am=60*Ev,Cv=60*am,w8=(365*400+97)*24*Cv;function lm(e,t){return(e%t+t)%t}function T8(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-w8:new Date(e,t,s).valueOf()}function S8(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-w8:Date.UTC(e,t,s)}function _O(e){var t,s;if(e=Yc(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?S8:T8,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=lm(t+(this._isUTC?0:this.utcOffset()*am),Cv);break;case"minute":t=this._d.valueOf(),t-=lm(t,am);break;case"second":t=this._d.valueOf(),t-=lm(t,Ev);break}return this._d.setTime(t),tn.updateOffset(this,!0),this}function yO(e){var t,s;if(e=Yc(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?S8:T8,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Cv-lm(t+(this._isUTC?0:this.utcOffset()*am),Cv)-1;break;case"minute":t=this._d.valueOf(),t+=am-lm(t,am)-1;break;case"second":t=this._d.valueOf(),t+=Ev-lm(t,Ev)-1;break}return this._d.setTime(t),tn.updateOffset(this,!0),this}function vO(){return this._d.valueOf()-(this._offset||0)*6e4}function xO(){return Math.floor(this.valueOf()/1e3)}function bO(){return new Date(this.valueOf())}function wO(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function TO(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function SO(){return this.isValid()?this.toISOString():null}function EO(){return pT(this)}function CO(){return Ku({},ns(this))}function MO(){return ns(this).overflow}function AO(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}An("N",0,0,"eraAbbr");An("NN",0,0,"eraAbbr");An("NNN",0,0,"eraAbbr");An("NNNN",0,0,"eraName");An("NNNNN",0,0,"eraNarrow");An("y",["y",1],"yo","eraYear");An("y",["yy",2],0,"eraYear");An("y",["yyy",3],0,"eraYear");An("y",["yyyy",4],0,"eraYear");ln("N",kT);ln("NN",kT);ln("NNN",kT);ln("NNNN",NO);ln("NNNNN",jO);ur(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,l){var c=s._locale.erasParse(e,l,s._strict);c?ns(s).era=c:ns(s).invalidEra=e});ln("y",Dm);ln("yy",Dm);ln("yyy",Dm);ln("yyyy",Dm);ln("yo",UO);ur(["y","yy","yyy","yyyy"],Ba);ur(["yo"],function(e,t,s,l){var c;s._locale._eraYearOrdinalRegex&&(c=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[Ba]=s._locale.eraYearOrdinalParse(e,c):t[Ba]=parseInt(e,10)});function kO(e,t){var s,l,c,d=this._eras||ou("en")._eras;for(s=0,l=d.length;s<l;++s){switch(typeof d[s].since){case"string":c=tn(d[s].since).startOf("day"),d[s].since=c.valueOf();break}switch(typeof d[s].until){case"undefined":d[s].until=1/0;break;case"string":c=tn(d[s].until).startOf("day").valueOf(),d[s].until=c.valueOf();break}}return d}function PO(e,t,s){var l,c,d=this.eras(),m,n,w;for(e=e.toUpperCase(),l=0,c=d.length;l<c;++l)if(m=d[l].name.toUpperCase(),n=d[l].abbr.toUpperCase(),w=d[l].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(n===e)return d[l];break;case"NNNN":if(m===e)return d[l];break;case"NNNNN":if(w===e)return d[l];break}else if([m,n,w].indexOf(e)>=0)return d[l]}function DO(e,t){var s=e.since<=e.until?1:-1;return t===void 0?tn(e.since).year():tn(e.since).year()+(t-e.offset)*s}function IO(){var e,t,s,l=this.localeData().eras();for(e=0,t=l.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),l[e].since<=s&&s<=l[e].until||l[e].until<=s&&s<=l[e].since)return l[e].name;return""}function LO(){var e,t,s,l=this.localeData().eras();for(e=0,t=l.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),l[e].since<=s&&s<=l[e].until||l[e].until<=s&&s<=l[e].since)return l[e].narrow;return""}function OO(){var e,t,s,l=this.localeData().eras();for(e=0,t=l.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),l[e].since<=s&&s<=l[e].until||l[e].until<=s&&s<=l[e].since)return l[e].abbr;return""}function RO(){var e,t,s,l,c=this.localeData().eras();for(e=0,t=c.length;e<t;++e)if(s=c[e].since<=c[e].until?1:-1,l=this.clone().startOf("day").valueOf(),c[e].since<=l&&l<=c[e].until||c[e].until<=l&&l<=c[e].since)return(this.year()-tn(c[e].since).year())*s+c[e].offset;return this.year()}function BO(e){return qs(this,"_erasNameRegex")||PT.call(this),e?this._erasNameRegex:this._erasRegex}function zO(e){return qs(this,"_erasAbbrRegex")||PT.call(this),e?this._erasAbbrRegex:this._erasRegex}function FO(e){return qs(this,"_erasNarrowRegex")||PT.call(this),e?this._erasNarrowRegex:this._erasRegex}function kT(e,t){return t.erasAbbrRegex(e)}function NO(e,t){return t.erasNameRegex(e)}function jO(e,t){return t.erasNarrowRegex(e)}function UO(e,t){return t._eraYearOrdinalRegex||Dm}function PT(){var e=[],t=[],s=[],l=[],c,d,m=this.eras();for(c=0,d=m.length;c<d;++c)t.push(lc(m[c].name)),e.push(lc(m[c].abbr)),s.push(lc(m[c].narrow)),l.push(lc(m[c].name)),l.push(lc(m[c].abbr)),l.push(lc(m[c].narrow));this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}An(0,["gg",2],0,function(){return this.weekYear()%100});An(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ex(e,t){An(0,[e,e.length],0,t)}Ex("gggg","weekYear");Ex("ggggg","weekYear");Ex("GGGG","isoWeekYear");Ex("GGGGG","isoWeekYear");za("weekYear","gg");za("isoWeekYear","GG");Fa("weekYear",1);Fa("isoWeekYear",1);ln("G",xx);ln("g",xx);ln("GG",Lr,pc);ln("gg",Lr,pc);ln("GGGG",vT,yT);ln("gggg",vT,yT);ln("GGGGG",vx,_x);ln("ggggg",vx,_x);e_(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,l){t[l.substr(0,2)]=vs(e)});e_(["gg","GG"],function(e,t,s,l){t[l]=tn.parseTwoDigitYear(e)});function GO(e){return E8.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function VO(e){return E8.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function $O(){return Zd(this.year(),1,4)}function HO(){return Zd(this.isoWeekYear(),1,4)}function WO(){var e=this.localeData()._week;return Zd(this.year(),e.dow,e.doy)}function XO(){var e=this.localeData()._week;return Zd(this.weekYear(),e.dow,e.doy)}function E8(e,t,s,l,c){var d;return e==null?B1(this,l,c).year:(d=Zd(e,l,c),t>d&&(t=d),YO.call(this,e,t,s,l,c))}function YO(e,t,s,l,c){var d=s8(e,t,s,l,c),m=R1(d.year,0,d.dayOfYear);return this.year(m.getUTCFullYear()),this.month(m.getUTCMonth()),this.date(m.getUTCDate()),this}An("Q",0,"Qo","quarter");za("quarter","Q");Fa("quarter",7);ln("Q",YM);ur("Q",function(e,t){t[Wd]=(vs(e)-1)*3});function qO(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}An("D",["DD",2],"Do","date");za("date","D");Fa("date",9);ln("D",Lr);ln("DD",Lr,pc);ln("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ur(["D","DD"],Qh);ur("Do",function(e,t){t[Qh]=vs(e.match(Lr)[0])});var C8=Pm("Date",!0);An("DDD",["DDDD",3],"DDDo","dayOfYear");za("dayOfYear","DDD");Fa("dayOfYear",4);ln("DDD",yx);ln("DDDD",qM);ur(["DDD","DDDD"],function(e,t,s){s._dayOfYear=vs(e)});function ZO(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}An("m",["mm",2],0,"minute");za("minute","m");Fa("minute",14);ln("m",Lr);ln("mm",Lr,pc);ur(["m","mm"],gh);var KO=Pm("Minutes",!1);An("s",["ss",2],0,"second");za("second","s");Fa("second",15);ln("s",Lr);ln("ss",Lr,pc);ur(["s","ss"],Xd);var JO=Pm("Seconds",!1);An("S",0,0,function(){return~~(this.millisecond()/100)});An(0,["SS",2],0,function(){return~~(this.millisecond()/10)});An(0,["SSS",3],0,"millisecond");An(0,["SSSS",4],0,function(){return this.millisecond()*10});An(0,["SSSSS",5],0,function(){return this.millisecond()*100});An(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});An(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});An(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});An(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});za("millisecond","ms");Fa("millisecond",16);ln("S",yx,YM);ln("SS",yx,pc);ln("SSS",yx,qM);var Ju,M8;for(Ju="SSSS";Ju.length<=9;Ju+="S")ln(Ju,Dm);function QO(e,t){t[Ef]=vs(("0."+e)*1e3)}for(Ju="S";Ju.length<=9;Ju+="S")ur(Ju,QO);M8=Pm("Milliseconds",!1);An("z",0,0,"zoneAbbr");An("zz",0,0,"zoneName");function e7(){return this._isUTC?"UTC":""}function t7(){return this._isUTC?"Coordinated Universal Time":""}var Ni=J1.prototype;Ni.add=X9;Ni.calendar=eO;Ni.clone=tO;Ni.diff=lO;Ni.endOf=yO;Ni.format=uO;Ni.from=pO;Ni.fromNow=fO;Ni.to=mO;Ni.toNow=gO;Ni.get=nL;Ni.invalidAt=MO;Ni.isAfter=iO;Ni.isBefore=nO;Ni.isBetween=sO;Ni.isSame=rO;Ni.isSameOrAfter=oO;Ni.isSameOrBefore=aO;Ni.isValid=EO;Ni.lang=x8;Ni.locale=v8;Ni.localeData=b8;Ni.max=E9;Ni.min=S9;Ni.parsingFlags=CO;Ni.set=sL;Ni.startOf=_O;Ni.subtract=Y9;Ni.toArray=wO;Ni.toObject=TO;Ni.toDate=bO;Ni.toISOString=hO;Ni.inspect=dO;typeof Symbol<"u"&&Symbol.for!=null&&(Ni[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ni.toJSON=SO;Ni.toString=cO;Ni.unix=xO;Ni.valueOf=vO;Ni.creationData=AO;Ni.eraName=IO;Ni.eraNarrow=LO;Ni.eraAbbr=OO;Ni.eraYear=RO;Ni.year=n8;Ni.isLeapYear=TL;Ni.weekYear=GO;Ni.isoWeekYear=VO;Ni.quarter=Ni.quarters=qO;Ni.month=t8;Ni.daysInMonth=xL;Ni.week=Ni.weeks=kL;Ni.isoWeek=Ni.isoWeeks=PL;Ni.weeksInYear=WO;Ni.weeksInWeekYear=XO;Ni.isoWeeksInYear=$O;Ni.isoWeeksInISOWeekYear=HO;Ni.date=C8;Ni.day=Ni.days=VL;Ni.weekday=$L;Ni.isoWeekday=HL;Ni.dayOfYear=ZO;Ni.hour=Ni.hours=JL;Ni.minute=Ni.minutes=KO;Ni.second=Ni.seconds=JO;Ni.millisecond=Ni.milliseconds=M8;Ni.utcOffset=O9;Ni.utc=B9;Ni.local=z9;Ni.parseZone=F9;Ni.hasAlignedHourOffset=N9;Ni.isDST=j9;Ni.isLocal=G9;Ni.isUtcOffset=V9;Ni.isUtc=m8;Ni.isUTC=m8;Ni.zoneAbbr=e7;Ni.zoneName=t7;Ni.dates=Xc("dates accessor is deprecated. Use date instead.",C8);Ni.months=Xc("months accessor is deprecated. Use month instead",t8);Ni.years=Xc("years accessor is deprecated. Use year instead",n8);Ni.zone=Xc("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",R9);Ni.isDSTShifted=Xc("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",U9);function i7(e){return Ir(e*1e3)}function n7(){return Ir.apply(null,arguments).parseZone()}function A8(e){return e}var Zs=mT.prototype;Zs.calendar=VI;Zs.longDateFormat=XI;Zs.invalidDate=qI;Zs.ordinal=JI;Zs.preparse=A8;Zs.postformat=A8;Zs.relativeTime=eL;Zs.pastFuture=tL;Zs.set=UI;Zs.eras=kO;Zs.erasParse=PO;Zs.erasConvertYear=DO;Zs.erasAbbrRegex=zO;Zs.erasNameRegex=BO;Zs.erasNarrowRegex=FO;Zs.months=gL;Zs.monthsShort=_L;Zs.monthsParse=vL;Zs.monthsRegex=wL;Zs.monthsShortRegex=bL;Zs.week=EL;Zs.firstDayOfYear=AL;Zs.firstDayOfWeek=ML;Zs.weekdays=FL;Zs.weekdaysMin=jL;Zs.weekdaysShort=NL;Zs.weekdaysParse=GL;Zs.weekdaysRegex=WL;Zs.weekdaysShortRegex=XL;Zs.weekdaysMinRegex=YL;Zs.isPM=ZL;Zs.meridiem=QL;function Mv(e,t,s,l){var c=ou(),d=rd().set(l,t);return c[s](d,e)}function k8(e,t,s){if(tu(e)&&(t=e,e=void 0),e=e||"",t!=null)return Mv(e,t,s,"month");var l,c=[];for(l=0;l<12;l++)c[l]=Mv(e,l,s,"month");return c}function DT(e,t,s,l){typeof e=="boolean"?(tu(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,tu(t)&&(s=t,t=void 0),t=t||"");var c=ou(),d=e?c._week.dow:0,m,n=[];if(s!=null)return Mv(t,(s+d)%7,l,"day");for(m=0;m<7;m++)n[m]=Mv(t,(m+d)%7,l,"day");return n}function s7(e,t){return k8(e,t,"months")}function r7(e,t){return k8(e,t,"monthsShort")}function o7(e,t,s){return DT(e,t,s,"weekdays")}function a7(e,t,s){return DT(e,t,s,"weekdaysShort")}function l7(e,t,s){return DT(e,t,s,"weekdaysMin")}rp("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=vs(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}});tn.lang=Xc("moment.lang is deprecated. Use moment.locale instead.",rp);tn.langData=Xc("moment.langData is deprecated. Use moment.localeData instead.",ou);var Nd=Math.abs;function c7(){var e=this._data;return this._milliseconds=Nd(this._milliseconds),this._days=Nd(this._days),this._months=Nd(this._months),e.milliseconds=Nd(e.milliseconds),e.seconds=Nd(e.seconds),e.minutes=Nd(e.minutes),e.hours=Nd(e.hours),e.months=Nd(e.months),e.years=Nd(e.years),this}function P8(e,t,s,l){var c=wh(t,s);return e._milliseconds+=l*c._milliseconds,e._days+=l*c._days,e._months+=l*c._months,e._bubble()}function h7(e,t){return P8(this,e,t,1)}function d7(e,t){return P8(this,e,t,-1)}function m5(e){return e<0?Math.floor(e):Math.ceil(e)}function u7(){var e=this._milliseconds,t=this._days,s=this._months,l=this._data,c,d,m,n,w;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=m5(Bw(s)+t)*864e5,t=0,s=0),l.milliseconds=e%1e3,c=Uc(e/1e3),l.seconds=c%60,d=Uc(c/60),l.minutes=d%60,m=Uc(d/60),l.hours=m%24,t+=Uc(m/24),w=Uc(D8(t)),s+=w,t-=m5(Bw(w)),n=Uc(s/12),s%=12,l.days=t,l.months=s,l.years=n,this}function D8(e){return e*4800/146097}function Bw(e){return e*146097/4800}function p7(e){if(!this.isValid())return NaN;var t,s,l=this._milliseconds;if(e=Yc(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+l/864e5,s=this._months+D8(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(Bw(this._months)),e){case"week":return t/7+l/6048e5;case"day":return t+l/864e5;case"hour":return t*24+l/36e5;case"minute":return t*1440+l/6e4;case"second":return t*86400+l/1e3;case"millisecond":return Math.floor(t*864e5)+l;default:throw new Error("Unknown unit "+e)}}function f7(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+vs(this._months/12)*31536e6:NaN}function au(e){return function(){return this.as(e)}}var m7=au("ms"),g7=au("s"),_7=au("m"),y7=au("h"),v7=au("d"),x7=au("w"),b7=au("M"),w7=au("Q"),T7=au("y");function S7(){return wh(this)}function E7(e){return e=Yc(e),this.isValid()?this[e+"s"]():NaN}function Hf(e){return function(){return this.isValid()?this._data[e]:NaN}}var C7=Hf("milliseconds"),M7=Hf("seconds"),A7=Hf("minutes"),k7=Hf("hours"),P7=Hf("days"),D7=Hf("months"),I7=Hf("years");function L7(){return Uc(this.days()/7)}var Vd=Math.round,em={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function O7(e,t,s,l,c){return c.relativeTime(t||1,!!s,e,l)}function R7(e,t,s,l){var c=wh(e).abs(),d=Vd(c.as("s")),m=Vd(c.as("m")),n=Vd(c.as("h")),w=Vd(c.as("d")),$=Vd(c.as("M")),ee=Vd(c.as("w")),z=Vd(c.as("y")),Y=d<=s.ss&&["s",d]||d<s.s&&["ss",d]||m<=1&&["m"]||m<s.m&&["mm",m]||n<=1&&["h"]||n<s.h&&["hh",n]||w<=1&&["d"]||w<s.d&&["dd",w];return s.w!=null&&(Y=Y||ee<=1&&["w"]||ee<s.w&&["ww",ee]),Y=Y||$<=1&&["M"]||$<s.M&&["MM",$]||z<=1&&["y"]||["yy",z],Y[2]=t,Y[3]=+e>0,Y[4]=l,O7.apply(null,Y)}function B7(e){return e===void 0?Vd:typeof e=="function"?(Vd=e,!0):!1}function z7(e,t){return em[e]===void 0?!1:t===void 0?em[e]:(em[e]=t,e==="s"&&(em.ss=t-1),!0)}function F7(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,l=em,c,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(l=Object.assign({},em,t),t.s!=null&&t.ss==null&&(l.ss=t.s-1)),c=this.localeData(),d=R7(this,!s,l,c),s&&(d=c.pastFuture(+this,d)),c.postformat(d)}var Fb=Math.abs;function K0(e){return(e>0)-(e<0)||+e}function Cx(){if(!this.isValid())return this.localeData().invalidDate();var e=Fb(this._milliseconds)/1e3,t=Fb(this._days),s=Fb(this._months),l,c,d,m,n=this.asSeconds(),w,$,ee,z;return n?(l=Uc(e/60),c=Uc(l/60),e%=60,l%=60,d=Uc(s/12),s%=12,m=e?e.toFixed(3).replace(/\.?0+$/,""):"",w=n<0?"-":"",$=K0(this._months)!==K0(n)?"-":"",ee=K0(this._days)!==K0(n)?"-":"",z=K0(this._milliseconds)!==K0(n)?"-":"",w+"P"+(d?$+d+"Y":"")+(s?$+s+"M":"")+(t?ee+t+"D":"")+(c||l||e?"T":"")+(c?z+c+"H":"")+(l?z+l+"M":"")+(e?z+m+"S":"")):"P0D"}var Bs=Sx.prototype;Bs.isValid=P9;Bs.abs=c7;Bs.add=h7;Bs.subtract=d7;Bs.as=p7;Bs.asMilliseconds=m7;Bs.asSeconds=g7;Bs.asMinutes=_7;Bs.asHours=y7;Bs.asDays=v7;Bs.asWeeks=x7;Bs.asMonths=b7;Bs.asQuarters=w7;Bs.asYears=T7;Bs.valueOf=f7;Bs._bubble=u7;Bs.clone=S7;Bs.get=E7;Bs.milliseconds=C7;Bs.seconds=M7;Bs.minutes=A7;Bs.hours=k7;Bs.days=P7;Bs.weeks=L7;Bs.months=D7;Bs.years=I7;Bs.humanize=F7;Bs.toISOString=Cx;Bs.toString=Cx;Bs.toJSON=Cx;Bs.locale=v8;Bs.localeData=b8;Bs.toIsoString=Xc("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cx);Bs.lang=x8;An("X",0,0,"unix");An("x",0,0,"valueOf");ln("x",xx);ln("X",oL);ur("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)});ur("x",function(e,t,s){s._d=new Date(vs(e))});//! moment.js
tn.version="2.29.4";NI(Ir);tn.fn=Ni;tn.min=C9;tn.max=M9;tn.now=A9;tn.utc=rd;tn.unix=i7;tn.months=s7;tn.isDate=K1;tn.locale=rp;tn.invalid=mx;tn.duration=wh;tn.isMoment=xh;tn.weekdays=o7;tn.parseZone=n7;tn.localeData=ou;tn.isDuration=Ky;tn.monthsShort=r7;tn.weekdaysMin=l7;tn.defineLocale=TT;tn.updateLocale=n9;tn.locales=s9;tn.weekdaysShort=a7;tn.normalizeUnits=Yc;tn.relativeTimeRounding=B7;tn.relativeTimeThreshold=z7;tn.calendarFormat=Q9;tn.prototype=Ni;tn.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var zw={},N7={get exports(){return zw},set exports(e){zw=e}};(function(e,t){(function(s,l){e.exports=l()})(wo,function(){var s,l,c;function d(n,w){if(!s)s=w;else if(!l)l=w;else{var $="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+s+")(sharedChunk); ("+l+")(sharedChunk); self.onerror = null;",ee={};s(ee),c=w(ee),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(c.workerUrl=window.URL.createObjectURL(new Blob([$],{type:"text/javascript"})))}}d(["exports"],function(n){var w=typeof self<"u"?self:{},$="2.12.0";let ee;const z={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(ee==null){const r=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ee={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):r}catch{ee=r}}return ee},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Y={supported:!1,testSupport:function(r){!O&&I&&(H?A(r):Q=r)}};let Q,I,O=!1,H=!1;function A(r){const i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,I),r.isContextLost())return;Y.supported=!0}catch{}r.deleteTexture(i),O=!0}w.document&&(I=w.document.createElement("img"),I.onload=function(){Q&&A(Q),Q=null,H=!0},I.onerror=function(){O=!0,Q=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const E="01";var P=G;function G(r,i,o,h){this.cx=3*r,this.bx=3*(o-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(h-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=i,this.p2x=o,this.p2y=h}G.prototype={sampleCurveX:function(r){return((this.ax*r+this.bx)*r+this.cx)*r},sampleCurveY:function(r){return((this.ay*r+this.by)*r+this.cy)*r},sampleCurveDerivativeX:function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},solveCurveX:function(r,i){if(i===void 0&&(i=1e-6),r<0)return 0;if(r>1)return 1;for(var o=r,h=0;h<8;h++){var p=this.sampleCurveX(o)-r;if(Math.abs(p)<i)return o;var v=this.sampleCurveDerivativeX(o);if(Math.abs(v)<1e-6)break;o-=p/v}var T=0,R=1;for(o=r,h=0;h<20&&(p=this.sampleCurveX(o),!(Math.abs(p-r)<i));h++)r>p?T=o:R=o,o=.5*(R-T)+T;return o},solve:function(r,i){return this.sampleCurveY(this.solveCurveX(r,i))}};var V=C;function C(r,i){this.x=r,this.y=i}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,i){return this.clone()._rotateAround(r,i)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var i=r.x-this.x,o=r.y-this.y;return i*i+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,i){return Math.atan2(this.x*i-this.y*r,this.x*r+this.y*i)},_matMult:function(r){var i=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=i,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var i=Math.cos(r),o=Math.sin(r),h=o*this.x+i*this.y;return this.x=i*this.x-o*this.y,this.y=h,this},_rotateAround:function(r,i){var o=Math.cos(r),h=Math.sin(r),p=i.y+h*(this.x-i.x)+o*(this.y-i.y);return this.x=i.x+o*(this.x-i.x)-h*(this.y-i.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},C.convert=function(r){return r instanceof C?r:Array.isArray(r)?new C(r[0],r[1]):r};const ne=Math.PI/180,te=180/Math.PI;function F(r){return r*ne}function N(r){return r*te}const X=[[0,0],[1,0],[1,1],[0,1]];function M(r){if(r<=0)return 0;if(r>=1)return 1;const i=r*r,o=i*r;return 4*(r<.5?o:3*(r-i)+o-.75)}function L(r,i,o,h){const p=new P(r,i,o,h);return function(v){return p.solve(v)}}const f=L(.25,.1,.25,1);function y(r,i,o){return Math.min(o,Math.max(i,r))}function b(r,i,o){return(o=y((o-r)/(i-r),0,1))*o*(3-2*o)}function S(r,i,o){const h=o-i,p=((r-i)%h+h)%h+i;return p===i?o:p}function j(r,i,o){if(!r.length)return o(null,[]);let h=r.length;const p=new Array(r.length);let v=null;r.forEach((T,R)=>{i(T,(K,ie)=>{K&&(v=K),p[R]=ie,--h==0&&o(v,p)})})}function J(r){const i=[];for(const o in r)i.push(r[o]);return i}function W(r,...i){for(const o of i)for(const h in o)r[h]=o[h];return r}let re=1;function ue(){return re++}function ve(){return function r(i){return i?(i^Math.random()*(16>>i/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,r)}()}function q(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function se(r){return!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)}function pe(r,i){r.forEach(o=>{i[o]&&(i[o]=i[o].bind(i))})}function xe(r,i){return r.indexOf(i,r.length-i.length)!==-1}function Pe(r,i,o){const h={};for(const p in r)h[p]=i.call(o||this,r[p],p,r);return h}function ce(r,i,o){const h={};for(const p in r)i.call(o||this,r[p],p,r)&&(h[p]=r[p]);return h}function ye(r){return Array.isArray(r)?r.map(ye):typeof r=="object"&&r?Pe(r,ye):r}const _e={};function le(r){_e[r]||(typeof console<"u"&&console.warn(r),_e[r]=!0)}function Z(r,i,o){return(o.y-r.y)*(i.x-r.x)>(i.y-r.y)*(o.x-r.x)}function me(r){let i=0;for(let o,h,p=0,v=r.length,T=v-1;p<v;T=p++)o=r[p],h=r[T],i+=(h.x-o.x)*(o.y+h.y);return i}function Me(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ee(r){const i={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(o,h,p,v)=>{const T=p||v;return i[h]=!T||T.toLowerCase(),""}),i["max-age"]){const o=parseInt(i["max-age"],10);isNaN(o)?delete i["max-age"]:i["max-age"]=o}return i}let ze=null;function Qe(r){if(ze==null){const i=r.navigator?r.navigator.userAgent:null;ze=!!r.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return ze}function Ke(r){try{const i=w[r];return i.setItem("_mapbox_test_",1),i.removeItem("_mapbox_test_"),!0}catch{return!1}}function ct(r,i){return[r[4*i],r[4*i+1],r[4*i+2],r[4*i+3]]}const Ie="mapbox-tiles";let Be,Ue,We=500,st=50;function wt(){try{return w.caches}catch{}}function Ut(){wt()&&!Be&&(Be=w.caches.open(Ie))}function Vt(r){const i=r.indexOf("?");if(i<0)return r;const o=function(p){const v=p.indexOf("?");return v>0?p.slice(v+1).split("&"):[]}(r),h=o.filter(p=>{const v=p.split("=");return v[0]==="language"||v[0]==="worldview"});return h.length?`${r.slice(0,i)}?${h.join("&")}`:r.slice(0,i)}let yi=1/0;const si={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(si);class Ai extends Error{constructor(i,o,h){o===401&&Is(h)&&(i+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(i),this.status=o,this.url=h}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const $i=Me()?()=>self.worker&&self.worker.referrer:()=>(w.location.protocol==="blob:"?w.parent:w).location.href,Fi=function(r,i){if(!(/^file:/.test(o=r.url)||/^file:/.test($i())&&!/^\w+:/.test(o))){if(w.fetch&&w.Request&&w.AbortController&&w.Request.prototype.hasOwnProperty("signal"))return function(h,p){const v=new w.AbortController,T=new w.Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,referrer:$i(),signal:v.signal});let R=!1,K=!1;const ie=(fe=T.url).indexOf("sku=")>0&&Is(fe);var fe;h.type==="json"&&T.headers.set("Accept","application/json");const we=(De,Le,Ne)=>{if(K)return;if(De&&De.message!=="SecurityError"&&le(De),Le&&Ne)return Te(Le);const Ye=Date.now();w.fetch(T).then(ut=>{if(ut.ok){const yt=ie?ut.clone():null;return Te(ut,yt,Ye)}return p(new Ai(ut.statusText,ut.status,h.url))}).catch(ut=>{ut.code!==20&&p(new Error(ut.message))})},Te=(De,Le,Ne)=>{(h.type==="arrayBuffer"?De.arrayBuffer():h.type==="json"?De.json():De.text()).then(Ye=>{K||(Le&&Ne&&function(ut,yt,dt){if(Ut(),!Be)return;const mt={status:yt.status,statusText:yt.statusText,headers:new w.Headers};yt.headers.forEach((Ht,$t)=>mt.headers.set($t,Ht));const St=Ee(yt.headers.get("Cache-Control")||"");if(St["no-store"])return;St["max-age"]&&mt.headers.set("Expires",new Date(dt+1e3*St["max-age"]).toUTCString());const bt=mt.headers.get("Expires");bt&&(new Date(bt).getTime()-dt<42e4||function(Ht,$t){if(Ue===void 0)try{new Response(new ReadableStream),Ue=!0}catch{Ue=!1}Ue?$t(Ht.body):Ht.blob().then($t)}(yt,Ht=>{const $t=new w.Response(Ht,mt);Ut(),Be&&Be.then(oi=>oi.put(Vt(ut.url),$t)).catch(oi=>le(oi.message))}))}(T,Le,Ne),R=!0,p(null,Ye,De.headers.get("Cache-Control"),De.headers.get("Expires")))}).catch(Ye=>{K||p(new Error(Ye.message))})};return ie?function(De,Le){if(Ut(),!Be)return Le(null);const Ne=Vt(De.url);Be.then(Ye=>{Ye.match(Ne).then(ut=>{const yt=function(dt){if(!dt)return!1;const mt=new Date(dt.headers.get("Expires")||0),St=Ee(dt.headers.get("Cache-Control")||"");return mt>Date.now()&&!St["no-cache"]}(ut);Ye.delete(Ne),yt&&Ye.put(Ne,ut.clone()),Le(null,ut,yt)}).catch(Le)}).catch(Le)}(T,we):we(null,null),{cancel:()=>{K=!0,R||v.abort()}}}(r,i);if(Me()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,i,void 0,!0)}var o;return function(h,p){const v=new w.XMLHttpRequest;v.open(h.method||"GET",h.url,!0),h.type==="arrayBuffer"&&(v.responseType="arraybuffer");for(const T in h.headers)v.setRequestHeader(T,h.headers[T]);return h.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=h.credentials==="include",v.onerror=()=>{p(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let T=v.response;if(h.type==="json")try{T=JSON.parse(v.response)}catch(R){return p(R)}p(null,T,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else p(new Ai(v.statusText,v.status,h.url))},v.send(h.body),{cancel:()=>v.abort()}}(r,i)},Zi=function(r,i){return Fi(W(r,{type:"arrayBuffer"}),i)};function Ri(r){const i=w.document.createElement("a");return i.href=r,i.protocol===w.document.location.protocol&&i.host===w.document.location.host}const yn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Tn,Yn;Tn=[],Yn=0;const Tr=function(r,i){if(Y.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),Yn>=z.MAX_PARALLEL_IMAGE_REQUESTS){const v={requestParameters:r,callback:i,cancelled:!1,cancel(){this.cancelled=!0}};return Tn.push(v),v}Yn++;let o=!1;const h=()=>{if(!o)for(o=!0,Yn--;Tn.length&&Yn<z.MAX_PARALLEL_IMAGE_REQUESTS;){const v=Tn.shift(),{requestParameters:T,callback:R,cancelled:K}=v;K||(v.cancel=Tr(T,R).cancel)}},p=Zi(r,(v,T,R,K)=>{h(),v?i(v):T&&(w.createImageBitmap?function(ie,fe){const we=new w.Blob([new Uint8Array(ie)],{type:"image/png"});w.createImageBitmap(we).then(Te=>{fe(null,Te)}).catch(Te=>{fe(new Error(`Could not load image because of ${Te.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(T,(ie,fe)=>i(ie,fe,R,K)):function(ie,fe){const we=new w.Image,Te=w.URL;we.onload=()=>{fe(null,we),Te.revokeObjectURL(we.src),we.onload=null,w.requestAnimationFrame(()=>{we.src=yn})},we.onerror=()=>fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const De=new w.Blob([new Uint8Array(ie)],{type:"image/png"});we.src=ie.byteLength?Te.createObjectURL(De):yn}(T,(ie,fe)=>i(ie,fe,R,K)))});return{cancel:()=>{p.cancel(),h()}}},ps="NO_ACCESS_TOKEN";function Ds(r){return r.indexOf("mapbox:")===0}function Is(r){return z.API_URL_REGEX.test(r)}function ja(r){return z.API_CDN_URL_REGEX.test(r)}function mc(r){return z.API_STYLE_REGEX.test(r)&&!Pl(r)}function Pl(r){return z.API_SPRITE_REGEX.test(r)}const il=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function io(r){const i=r.match(il);if(!i)throw new Error("Unable to parse URL object");return{protocol:i[1],authority:i[2],path:i[3]||"/",params:i[4]?i[4].split("&"):[]}}function nl(r){const i=r.params.length?`?${r.params.join("&")}`:"";return`${r.protocol}://${r.authority}${r.path}${i}`}function qc(r){if(!r)return null;const i=r.split(".");if(!i||i.length!==3)return null;try{return JSON.parse(decodeURIComponent(w.atob(i[1]).split("").map(o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class lt{constructor(i){this.type=i,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(i){const o=qc(z.ACCESS_TOKEN);let h="";return h=o&&o.u?w.btoa(encodeURIComponent(o.u).replace(/%([0-9A-F]{2})/g,(p,v)=>String.fromCharCode(Number("0x"+v)))):z.ACCESS_TOKEN||"",i?`mapbox.eventData.${i}:${h}`:`mapbox.eventData:${h}`}fetchEventData(){const i=Ke("localStorage"),o=this.getStorageKey(),h=this.getStorageKey("uuid");if(i)try{const p=w.localStorage.getItem(o);p&&(this.eventData=JSON.parse(p));const v=w.localStorage.getItem(h);v&&(this.anonId=v)}catch{le("Unable to read from LocalStorage")}}saveEventData(){const i=Ke("localStorage"),o=this.getStorageKey(),h=this.getStorageKey("uuid");if(i)try{w.localStorage.setItem(h,this.anonId),Object.keys(this.eventData).length>=1&&w.localStorage.setItem(o,JSON.stringify(this.eventData))}catch{le("Unable to write to LocalStorage")}}processRequests(i){}postEvent(i,o,h,p){if(!z.EVENTS_URL)return;const v=io(z.EVENTS_URL);v.params.push(`access_token=${p||z.ACCESS_TOKEN||""}`);const T={event:this.type,created:new Date(i).toISOString()},R=o?W(T,o):T,K={url:nl(v),headers:{"Content-Type":"text/plain"},body:JSON.stringify([R])};this.pendingRequest=function(ie,fe){return Fi(W(ie,{method:"POST"}),fe)}(K,ie=>{this.pendingRequest=null,h(ie),this.saveEventData(),this.processRequests(p)})}queueRequest(i,o){this.queue.push(i),this.processRequests(o)}}const Oe=new class extends lt{constructor(r){super("appUserTurnstile"),this._customAccessToken=r}postTurnstileEvent(r,i){z.EVENTS_URL&&z.ACCESS_TOKEN&&Array.isArray(r)&&r.some(o=>Ds(o)||Is(o))&&this.queueRequest(Date.now(),i)}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const i=qc(z.ACCESS_TOKEN),o=i?i.u:z.ACCESS_TOKEN;let h=o!==this.eventData.tokenU;se(this.anonId)||(this.anonId=ve(),h=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const v=new Date(this.eventData.lastSuccess),T=new Date(p),R=(p-this.eventData.lastSuccess)/864e5;h=h||R>=1||R<-1||v.getDate()!==T.getDate()}else h=!0;h?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:$,skuId:E,"enabled.telemetry":!1,userId:this.anonId},v=>{v||(this.eventData.lastSuccess=p,this.eventData.tokenU=o)},r):this.processRequests()}},Ve=Oe.postTurnstileEvent.bind(Oe),ot=new class extends lt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(r,i,o,h){this.skuToken=i,this.errorCb=h,z.EVENTS_URL&&(o||z.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(ps)))}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:o}=this.queue.shift();i&&this.success[i]||(this.anonId||this.fetchEventData(),se(this.anonId)||(this.anonId=ve()),this.postEvent(o,{sdkIdentifier:"mapbox-gl-js",sdkVersion:$,skuId:E,skuToken:this.skuToken,userId:this.anonId},h=>{h?this.errorCb(h):i&&(this.success[i]=!0)},r))}},pt=ot.postMapLoadEvent.bind(ot),Et=new class extends lt{constructor(){super("gljs.performance")}postPerformanceEvent(r,i){z.EVENTS_URL&&(r||z.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:i},r)}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:i,performanceData:o}=this.queue.shift(),h=function(p){const v=w.performance.getEntriesByType("resource"),T=w.performance.getEntriesByType("mark"),R=function(Te){const De={};if(Te){for(const Le in Te)if(Le!=="other")for(const Ne of Te[Le]){const Ye=`${Le}ResolveRangeMin`,ut=`${Le}ResolveRangeMax`,yt=`${Le}RequestCount`,dt=`${Le}RequestCachedCount`;De[Ye]=Math.min(De[Ye]||1/0,Ne.startTime),De[ut]=Math.max(De[ut]||-1/0,Ne.responseEnd);const mt=St=>{De[St]===void 0&&(De[St]=0),++De[St]};Ne.transferSize!==void 0&&Ne.transferSize===0&&mt(dt),mt(yt)}}return De}(function(Te,De){const Le={};if(Te)for(const Ne of Te){const Ye=De(Ne);Le[Ye]===void 0&&(Le[Ye]=[]),Le[Ye].push(Ne)}return Le}(v,_i)),K=w.devicePixelRatio,ie=w.navigator.connection||w.navigator.mozConnection||w.navigator.webkitConnection,fe={counters:[],metadata:[],attributes:[]},we=(Te,De,Le)=>{Le!=null&&Te.push({name:De,value:Le.toString()})};for(const Te in R)we(fe.counters,Te,R[Te]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(we(fe.counters,"interactionRangeMin",p.interactionRange[0]),we(fe.counters,"interactionRangeMax",p.interactionRange[1])),T)for(const Te of Object.keys(li)){const De=li[Te],Le=T.find(Ne=>Ne.name===De);Le&&we(fe.counters,De,Le.startTime)}return we(fe.counters,"visibilityHidden",p.visibilityHidden),we(fe.attributes,"style",function(Te){if(Te)for(const De of Te){const Le=De.name.split("?")[0];if(mc(Le)){const Ne=Le.split("/").slice(-2);if(Ne.length===2)return`mapbox://styles/${Ne[0]}/${Ne[1]}`}}}(v)),we(fe.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),we(fe.attributes,"fogEnabled",p.fogEnabled?"true":"false"),we(fe.attributes,"projection",p.projection),we(fe.attributes,"zoom",p.zoom),we(fe.metadata,"devicePixelRatio",K),we(fe.metadata,"connectionEffectiveType",ie?ie.effectiveType:void 0),we(fe.metadata,"navigatorUserAgent",w.navigator.userAgent),we(fe.metadata,"screenWidth",w.screen.width),we(fe.metadata,"screenHeight",w.screen.height),we(fe.metadata,"windowWidth",w.innerWidth),we(fe.metadata,"windowHeight",w.innerHeight),we(fe.metadata,"mapWidth",p.width/K),we(fe.metadata,"mapHeight",p.height/K),we(fe.metadata,"webglRenderer",p.renderer),we(fe.metadata,"webglVendor",p.vendor),we(fe.metadata,"sdkVersion",$),we(fe.metadata,"sdkIdentifier","mapbox-gl-js"),fe}(o);for(const p of h.metadata);for(const p of h.counters);for(const p of h.attributes);this.postEvent(i,h,()=>{},r)}},Ot=Et.postPerformanceEvent.bind(Et),Bt=new class extends lt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(r,i,o,h){if(!z.API_URL||!z.SESSION_PATH)return;const p=io(z.API_URL+z.SESSION_PATH);p.params.push(`sku=${i||""}`),p.params.push(`access_token=${h||z.ACCESS_TOKEN||""}`);const v={url:nl(p),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(T,R){return Fi(W(T,{method:"GET"}),R)}(v,T=>{this.pendingRequest=null,o(T),this.saveEventData(),this.processRequests(h)})}getSessionAPI(r,i,o,h){this.skuToken=i,this.errorCb=h,z.SESSION_PATH&&z.API_URL&&(o||z.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(ps)))}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:o}=this.queue.shift();i&&this.success[i]||this.getSession(o,this.skuToken,h=>{h?this.errorCb(h):i&&(this.success[i]=!0)},r)}},Mt=Bt.getSessionAPI.bind(Bt),jt=new Set,li={create:"create",load:"load",fullLoad:"fullLoad"},Bi={mark(r){w.performance.mark(r)},measure(r,i,o){w.performance.measure(r,i,o)}};function _i(r){const i=r.name.split("?")[0];return ja(i)&&i.includes("mapbox-gl.js")?"javascript":ja(i)&&i.includes("mapbox-gl.css")?"css":function(o){return z.API_FONTS_REGEX.test(o)}(i)?"fontRange":Pl(i)?"sprite":mc(i)?"style":function(o){return z.API_TILEJSON_REGEX.test(o)}(i)?"tilejson":"other"}const on=w.performance;function sn(r){const i=r?r.url.toString():void 0;return on.getEntriesByName(i)}let qi,dn,Fn,is;const Qi={now:()=>Fn!==void 0?Fn:w.performance.now(),setNow(r){Fn=r},restoreNow(){Fn=void 0},frame(r){const i=w.requestAnimationFrame(r);return{cancel:()=>w.cancelAnimationFrame(i)}},getImageData(r,i=0){const{width:o,height:h}=r;is||(is=w.document.createElement("canvas"));const p=is.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(o>is.width||h>is.height)&&(is.width=o,is.height=h),p.clearRect(-i,-i,o+2*i,h+2*i),p.drawImage(r,0,0,o,h),p.getImageData(-i,-i,o+2*i,h+2*i)},resolveURL:r=>(qi||(qi=w.document.createElement("a")),qi.href=r,qi.href),get devicePixelRatio(){return w.devicePixelRatio},get prefersReducedMotion(){return!!w.matchMedia&&(dn==null&&(dn=w.matchMedia("(prefers-reduced-motion: reduce)")),dn.matches)}};function Ss(r,i,o){o[r]&&o[r].indexOf(i)!==-1||(o[r]=o[r]||[],o[r].push(i))}function cs(r,i,o){if(o&&o[r]){const h=o[r].indexOf(i);h!==-1&&o[r].splice(h,1)}}class ya{constructor(i,o={}){W(this,o),this.type=i}}class sl extends ya{constructor(i,o={}){super("error",W({error:i},o))}}class To{on(i,o){return this._listeners=this._listeners||{},Ss(i,o,this._listeners),this}off(i,o){return cs(i,o,this._listeners),cs(i,o,this._oneTimeListeners),this}once(i,o){return o?(this._oneTimeListeners=this._oneTimeListeners||{},Ss(i,o,this._oneTimeListeners),this):new Promise(h=>this.once(i,h))}fire(i,o){typeof i=="string"&&(i=new ya(i,o||{}));const h=i.type;if(this.listens(h)){i.target=this;const p=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(const R of p)R.call(this,i);const v=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(const R of v)cs(h,R,this._oneTimeListeners),R.call(this,i);const T=this._eventedParent;T&&(W(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(i))}else i instanceof sl&&console.error(i.error);return this}listens(i){return!!(this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i))}setEventedParent(i,o){return this._eventedParent=i,this._eventedParentData=o,this}}var ni=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Go(r,...i){for(const o of i)for(const h in o)r[h]=o[h];return r}function ar(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function lr(r){if(Array.isArray(r))return r.map(lr);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const i={};for(const o in r)i[o]=lr(r[o]);return i}return ar(r)}class gc extends Error{constructor(i,o){super(o),this.message=o,this.key=i}}var Kr=gc;class Th{constructor(i,o=[]){this.parent=i,this.bindings={};for(const[h,p]of o)this.bindings[h]=p}concat(i){return new Th(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}var ld=Th;const Or={kind:"null"},Oi={kind:"number"},zn={kind:"string"},Nn={kind:"boolean"},Vo={kind:"color"},va={kind:"object"},vn={kind:"value"},_c={kind:"collator"},ra={kind:"formatted"},Ua={kind:"resolvedImage"};function Sr(r,i){return{kind:"array",itemType:r,N:i}}function xs(r){if(r.kind==="array"){const i=xs(r.itemType);return typeof r.N=="number"?`array<${i}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${i}>`}return r.kind}const Vr=[Or,Oi,zn,Nn,Vo,ra,va,Sr(vn),Ua];function Ga(r,i){if(i.kind==="error")return null;if(r.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!Ga(r.itemType,i.itemType))&&(typeof r.N!="number"||r.N===i.N))return null}else{if(r.kind===i.kind)return null;if(r.kind==="value"){for(const o of Vr)if(!Ga(o,i))return null}}return`Expected ${xs(r)} but found ${xs(i)} instead.`}function Dl(r,i){return i.some(o=>o.kind===r.kind)}function oa(r,i){return i.some(o=>o==="null"?r===null:o==="array"?Array.isArray(r):o==="object"?r&&!Array.isArray(r)&&typeof r=="object":o===typeof r)}var Il,rl={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Va(r){return(r=Math.round(r))<0?0:r>255?255:r}function ol(r){return Va(r[r.length-1]==="%"?parseFloat(r)/100*255:parseInt(r))}function Zc(r){return(i=r[r.length-1]==="%"?parseFloat(r)/100:parseFloat(r))<0?0:i>1?1:i;var i}function Kc(r,i,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?r+(i-r)*o*6:2*o<1?i:3*o<2?r+(i-r)*(2/3-o)*6:r}try{Il={}.parseCSSColor=function(r){var i,o=r.replace(/ /g,"").toLowerCase();if(o in rl)return rl[o].slice();if(o[0]==="#")return o.length===4?(i=parseInt(o.substr(1),16))>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null:o.length===7&&(i=parseInt(o.substr(1),16))>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null;var h=o.indexOf("("),p=o.indexOf(")");if(h!==-1&&p+1===o.length){var v=o.substr(0,h),T=o.substr(h+1,p-(h+1)).split(","),R=1;switch(v){case"rgba":if(T.length!==4)return null;R=Zc(T.pop());case"rgb":return T.length!==3?null:[ol(T[0]),ol(T[1]),ol(T[2]),R];case"hsla":if(T.length!==4)return null;R=Zc(T.pop());case"hsl":if(T.length!==3)return null;var K=(parseFloat(T[0])%360+360)%360/360,ie=Zc(T[1]),fe=Zc(T[2]),we=fe<=.5?fe*(ie+1):fe+ie-fe*ie,Te=2*fe-we;return[Va(255*Kc(Te,we,K+1/3)),Va(255*Kc(Te,we,K)),Va(255*Kc(Te,we,K-1/3)),R];default:return null}}return null}}catch{}class no{constructor(i,o,h,p=1){this.r=i,this.g=o,this.b=h,this.a=p}static parse(i){if(!i)return;if(i instanceof no)return i;if(typeof i!="string")return;const o=Il(i);return o?new no(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3]):void 0}toString(){const[i,o,h,p]=this.toArray();return`rgba(${Math.round(i)},${Math.round(o)},${Math.round(h)},${p})`}toArray(){const{r:i,g:o,b:h,a:p}=this;return p===0?[0,0,0,0]:[255*i/p,255*o/p,255*h/p,p]}toArray01(){const{r:i,g:o,b:h,a:p}=this;return p===0?[0,0,0,0]:[i/p,o/p,h/p,p]}toArray01PremultipliedAlpha(){const{r:i,g:o,b:h,a:p}=this;return[i,o,h,p]}}no.black=new no(0,0,0,1),no.white=new no(1,1,1,1),no.transparent=new no(0,0,0,0),no.red=new no(1,0,0,1),no.blue=new no(0,0,1,1);var ir=no;class Ll{constructor(i,o,h){this.sensitivity=i?o?"variant":"case":o?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,o){return this.collator.compare(i,o)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class cd{constructor(i,o,h,p,v){this.text=i.normalize?i.normalize():i,this.image=o,this.scale=h,this.fontStack=p,this.textColor=v}}class Rr{constructor(i){this.sections=i}static fromString(i){return new Rr([new cd(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Rr?i:Rr.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}serialize(){const i=["format"];for(const o of this.sections){if(o.image){i.push(["image",o.image.name]);continue}i.push(o.text);const h={};o.fontStack&&(h["text-font"]=["literal",o.fontStack.split(",")]),o.scale&&(h["font-scale"]=o.scale),o.textColor&&(h["text-color"]=["rgba"].concat(o.textColor.toArray())),i.push(h)}return i}}class $o{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new $o({name:i,available:!1}):null}serialize(){return["image",this.name]}}function lu(r,i,o,h){return typeof r=="number"&&r>=0&&r<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof o=="number"&&o>=0&&o<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[r,i,o,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[r,i,o,h]:[r,i,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Sh(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof ir||r instanceof Ll||r instanceof Rr||r instanceof $o)return!0;if(Array.isArray(r)){for(const i of r)if(!Sh(i))return!1;return!0}if(typeof r=="object"){for(const i in r)if(!Sh(r[i]))return!1;return!0}return!1}function yr(r){if(r===null)return Or;if(typeof r=="string")return zn;if(typeof r=="boolean")return Nn;if(typeof r=="number")return Oi;if(r instanceof ir)return Vo;if(r instanceof Ll)return _c;if(r instanceof Rr)return ra;if(r instanceof $o)return Ua;if(Array.isArray(r)){const i=r.length;let o;for(const h of r){const p=yr(h);if(o){if(o===p)continue;o=vn;break}o=p}return Sr(o||vn,i)}return va}function Ol(r){const i=typeof r;return r===null?"":i==="string"||i==="number"||i==="boolean"?String(r):r instanceof ir||r instanceof Rr||r instanceof $o?r.toString():JSON.stringify(r)}class Eh{constructor(i,o){this.type=i,this.value=o}static parse(i,o){if(i.length!==2)return o.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Sh(i[1]))return o.error("invalid value");const h=i[1];let p=yr(h);const v=o.expectedType;return p.kind!=="array"||p.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(p=v),new Eh(p,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ir?["rgba"].concat(this.value.toArray()):this.value instanceof Rr?this.value.serialize():this.value}}var Rl=Eh,Er=class{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}};const al={string:zn,number:Oi,boolean:Nn,object:va};class Ch{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");let h,p=1;const v=i[0];if(v==="array"){let R,K;if(i.length>2){const ie=i[1];if(typeof ie!="string"||!(ie in al)||ie==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);R=al[ie],p++}else R=vn;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return o.error('The length argument to "array" must be a positive integer literal',2);K=i[2],p++}h=Sr(R,K)}else h=al[v];const T=[];for(;p<i.length;p++){const R=o.parse(i[p],p,vn);if(!R)return null;T.push(R)}return new Ch(h,T)}evaluate(i){for(let o=0;o<this.args.length;o++){const h=this.args[o].evaluate(i);if(!Ga(this.type,yr(h)))return h;if(o===this.args.length-1)throw new Er(`Expected value to be of type ${xs(this.type)}, but found ${xs(yr(h))} instead.`)}return null}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=this.type,o=[i.kind];if(i.kind==="array"){const h=i.itemType;if(h.kind==="string"||h.kind==="number"||h.kind==="boolean"){o.push(h.kind);const p=i.N;(typeof p=="number"||this.args.length>1)&&o.push(p)}}return o.concat(this.args.map(h=>h.serialize()))}}var rs=Ch;class fs{constructor(i){this.type=ra,this.sections=i}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");const h=i[1];if(!Array.isArray(h)&&typeof h=="object")return o.error("First argument must be an image or text section.");const p=[];let v=!1;for(let T=1;T<=i.length-1;++T){const R=i[T];if(v&&typeof R=="object"&&!Array.isArray(R)){v=!1;let K=null;if(R["font-scale"]&&(K=o.parse(R["font-scale"],1,Oi),!K))return null;let ie=null;if(R["text-font"]&&(ie=o.parse(R["text-font"],1,Sr(zn)),!ie))return null;let fe=null;if(R["text-color"]&&(fe=o.parse(R["text-color"],1,Vo),!fe))return null;const we=p[p.length-1];we.scale=K,we.font=ie,we.textColor=fe}else{const K=o.parse(i[T],1,vn);if(!K)return null;const ie=K.type.kind;if(ie!=="string"&&ie!=="value"&&ie!=="null"&&ie!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,p.push({content:K,scale:null,font:null,textColor:null})}}return new fs(p)}evaluate(i){return new Rr(this.sections.map(o=>{const h=o.content.evaluate(i);return yr(h)===Ua?new cd("",h,null,null,null):new cd(Ol(h),null,o.scale?o.scale.evaluate(i):null,o.font?o.font.evaluate(i).join(","):null,o.textColor?o.textColor.evaluate(i):null)}))}eachChild(i){for(const o of this.sections)i(o.content),o.scale&&i(o.scale),o.font&&i(o.font),o.textColor&&i(o.textColor)}outputDefined(){return!1}serialize(){const i=["format"];for(const o of this.sections){i.push(o.content.serialize());const h={};o.scale&&(h["font-scale"]=o.scale.serialize()),o.font&&(h["text-font"]=o.font.serialize()),o.textColor&&(h["text-color"]=o.textColor.serialize()),i.push(h)}return i}}class Mh{constructor(i){this.type=Ua,this.input=i}static parse(i,o){if(i.length!==2)return o.error("Expected two arguments.");const h=o.parse(i[1],1,zn);return h?new Mh(h):o.error("No image name provided.")}evaluate(i){const o=this.input.evaluate(i),h=$o.fromString(o);return h&&i.availableImages&&(h.available=i.availableImages.indexOf(o)>-1),h}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const xp={"to-boolean":Nn,"to-color":Vo,"to-number":Oi,"to-string":zn};class hd{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");const h=i[0];if((h==="to-boolean"||h==="to-string")&&i.length!==2)return o.error("Expected one argument.");const p=xp[h],v=[];for(let T=1;T<i.length;T++){const R=o.parse(i[T],T,vn);if(!R)return null;v.push(R)}return new hd(p,v)}evaluate(i){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(i));if(this.type.kind==="color"){let o,h;for(const p of this.args){if(o=p.evaluate(i),h=null,o instanceof ir)return o;if(typeof o=="string"){const v=i.parseColor(o);if(v)return v}else if(Array.isArray(o)&&(h=o.length<3||o.length>4?`Invalid rbga value ${JSON.stringify(o)}: expected an array containing either three or four numeric values.`:lu(o[0],o[1],o[2],o[3]),!h))return new ir(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new Er(h||`Could not parse color from value '${typeof o=="string"?o:String(JSON.stringify(o))}'`)}if(this.type.kind==="number"){let o=null;for(const h of this.args){if(o=h.evaluate(i),o===null)return 0;const p=Number(o);if(!isNaN(p))return p}throw new Er(`Could not convert ${JSON.stringify(o)} to number.`)}return this.type.kind==="formatted"?Rr.fromString(Ol(this.args[0].evaluate(i))):this.type.kind==="resolvedImage"?$o.fromString(Ol(this.args[0].evaluate(i))):Ol(this.args[0].evaluate(i))}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){if(this.type.kind==="formatted")return new fs([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Mh(this.args[0]).serialize();const i=[`to-${this.type.kind}`];return this.eachChild(o=>{i.push(o.serialize())}),i}}var aa=hd;const Jc=["Unknown","Point","LineString","Polygon"];var Ah=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Jc[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const r=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:o,y:h}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(o*i-r[0])+this.featureDistanceData.bearing[1]*(h*i-r[1])}return 0}parseColor(r){let i=this._parseColorCache[r];return i||(i=this._parseColorCache[r]=ir.parse(r)),i}};class Bl{constructor(i,o,h,p){this.name=i,this.type=o,this._evaluate=h,this.args=p}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(i=>i.serialize()))}static parse(i,o){const h=i[0],p=Bl.definitions[h];if(!p)return o.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(p)?p[0]:p.type,T=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,R=T.filter(([ie])=>!Array.isArray(ie)||ie.length===i.length-1);let K=null;for(const[ie,fe]of R){K=new Ms(o.registry,o.path,null,o.scope);const we=[];let Te=!1;for(let De=1;De<i.length;De++){const Le=i[De],Ne=Array.isArray(ie)?ie[De-1]:ie.type,Ye=K.parse(Le,1+we.length,Ne);if(!Ye){Te=!0;break}we.push(Ye)}if(!Te)if(Array.isArray(ie)&&ie.length!==we.length)K.error(`Expected ${ie.length} arguments, but found ${we.length} instead.`);else{for(let De=0;De<we.length;De++){const Le=Array.isArray(ie)?ie[De]:ie.type,Ne=we[De];K.concat(De+1).checkSubtype(Le,Ne.type)}if(K.errors.length===0)return new Bl(h,v,fe,we)}}if(R.length===1)o.errors.push(...K.errors);else{const ie=(R.length?R:T).map(([we])=>{return Te=we,Array.isArray(Te)?`(${Te.map(xs).join(", ")})`:`(${xs(Te.type)}...)`;var Te}).join(" | "),fe=[];for(let we=1;we<i.length;we++){const Te=o.parse(i[we],1+fe.length);if(!Te)return null;fe.push(xs(Te.type))}o.error(`Expected arguments of type ${ie}, but found (${fe.join(", ")}) instead.`)}return null}static register(i,o){Bl.definitions=o;for(const h in o)i[h]=Bl}}var ll=Bl;class vr{constructor(i,o,h){this.type=_c,this.locale=h,this.caseSensitive=i,this.diacriticSensitive=o}static parse(i,o){if(i.length!==2)return o.error("Expected one argument.");const h=i[1];if(typeof h!="object"||Array.isArray(h))return o.error("Collator options argument must be an object.");const p=o.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,Nn);if(!p)return null;const v=o.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,Nn);if(!v)return null;let T=null;return h.locale&&(T=o.parse(h.locale,1,zn),!T)?null:new vr(p,v,T)}evaluate(i){return new Ll(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}serialize(){const i={};return i["case-sensitive"]=this.caseSensitive.serialize(),i["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(i.locale=this.locale.serialize()),["collator",i]}}const U=8192;function he(r,i){r[0]=Math.min(r[0],i[0]),r[1]=Math.min(r[1],i[1]),r[2]=Math.max(r[2],i[0]),r[3]=Math.max(r[3],i[1])}function be(r,i){return!(r[0]<=i[0]||r[2]>=i[2]||r[1]<=i[1]||r[3]>=i[3])}function Se(r,i){const o=(180+r[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,p=Math.pow(2,i.z);return[Math.round(o*p*U),Math.round(h*p*U)]}function Fe(r,i,o){const h=r[0]-i[0],p=r[1]-i[1],v=r[0]-o[0],T=r[1]-o[1];return h*T-v*p==0&&h*v<=0&&p*T<=0}function je(r,i){let o=!1;for(let T=0,R=i.length;T<R;T++){const K=i[T];for(let ie=0,fe=K.length;ie<fe-1;ie++){if(Fe(r,K[ie],K[ie+1]))return!1;(p=K[ie])[1]>(h=r)[1]!=(v=K[ie+1])[1]>h[1]&&h[0]<(v[0]-p[0])*(h[1]-p[1])/(v[1]-p[1])+p[0]&&(o=!o)}}var h,p,v;return o}function He(r,i){for(let o=0;o<i.length;o++)if(je(r,i[o]))return!0;return!1}function Ct(r,i,o,h){const p=h[0]-o[0],v=h[1]-o[1],T=(r[0]-o[0])*v-p*(r[1]-o[1]),R=(i[0]-o[0])*v-p*(i[1]-o[1]);return T>0&&R<0||T<0&&R>0}function vt(r,i,o){for(const ie of o)for(let fe=0;fe<ie.length-1;++fe)if((R=[(T=ie[fe+1])[0]-(v=ie[fe])[0],T[1]-v[1]])[0]*(K=[(p=i)[0]-(h=r)[0],p[1]-h[1]])[1]-R[1]*K[0]!=0&&Ct(h,p,v,T)&&Ct(v,T,h,p))return!0;var h,p,v,T,R,K;return!1}function Gt(r,i){for(let o=0;o<r.length;++o)if(!je(r[o],i))return!1;for(let o=0;o<r.length-1;++o)if(vt(r[o],r[o+1],i))return!1;return!0}function ii(r,i){for(let o=0;o<i.length;o++)if(Gt(r,i[o]))return!0;return!1}function fi(r,i,o){const h=[];for(let p=0;p<r.length;p++){const v=[];for(let T=0;T<r[p].length;T++){const R=Se(r[p][T],o);he(i,R),v.push(R)}h.push(v)}return h}function Kt(r,i,o){const h=[];for(let p=0;p<r.length;p++){const v=fi(r[p],i,o);h.push(v)}return h}function ei(r,i,o,h){if(r[0]<o[0]||r[0]>o[2]){const p=.5*h;let v=r[0]-o[0]>p?-h:o[0]-r[0]>p?h:0;v===0&&(v=r[0]-o[2]>p?-h:o[2]-r[0]>p?h:0),r[0]+=v}he(i,r)}function Di(r,i,o,h){const p=Math.pow(2,h.z)*U,v=[h.x*U,h.y*U],T=[];if(!r)return T;for(const R of r)for(const K of R){const ie=[K.x+v[0],K.y+v[1]];ei(ie,i,o,p),T.push(ie)}return T}function On(r,i,o,h){const p=Math.pow(2,h.z)*U,v=[h.x*U,h.y*U],T=[];if(!r)return T;for(const K of r){const ie=[];for(const fe of K){const we=[fe.x+v[0],fe.y+v[1]];he(i,we),ie.push(we)}T.push(ie)}if(i[2]-i[0]<=p/2){(R=i)[0]=R[1]=1/0,R[2]=R[3]=-1/0;for(const K of T)for(const ie of K)ei(ie,i,o,p)}var R;return T}class en{constructor(i,o){this.type=Nn,this.geojson=i,this.geometries=o}static parse(i,o){if(i.length!==2)return o.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Sh(i[1])){const h=i[1];if(h.type==="FeatureCollection")for(let p=0;p<h.features.length;++p){const v=h.features[p].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new en(h,h.features[p].geometry)}else if(h.type==="Feature"){const p=h.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new en(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new en(h,h)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(o,h){const p=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],T=o.canonicalID();if(!T)return!1;if(h.type==="Polygon"){const R=fi(h.coordinates,v,T),K=Di(o.geometry(),p,v,T);if(!be(p,v))return!1;for(const ie of K)if(!je(ie,R))return!1}if(h.type==="MultiPolygon"){const R=Kt(h.coordinates,v,T),K=Di(o.geometry(),p,v,T);if(!be(p,v))return!1;for(const ie of K)if(!He(ie,R))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(o,h){const p=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],T=o.canonicalID();if(!T)return!1;if(h.type==="Polygon"){const R=fi(h.coordinates,v,T),K=On(o.geometry(),p,v,T);if(!be(p,v))return!1;for(const ie of K)if(!Gt(ie,R))return!1}if(h.type==="MultiPolygon"){const R=Kt(h.coordinates,v,T),K=On(o.geometry(),p,v,T);if(!be(p,v))return!1;for(const ie of K)if(!ii(ie,R))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Qs=en;function Fs(r){if(r instanceof ll&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof Qs)return!1;let i=!0;return r.eachChild(o=>{i&&!Fs(o)&&(i=!1)}),i}function Vn(r){if(r instanceof ll&&r.name==="feature-state")return!1;let i=!0;return r.eachChild(o=>{i&&!Vn(o)&&(i=!1)}),i}function $n(r,i){if(r instanceof ll&&i.indexOf(r.name)>=0)return!1;let o=!0;return r.eachChild(h=>{o&&!$n(h,i)&&(o=!1)}),o}class Sn{constructor(i,o){this.type=o.type,this.name=i,this.boundExpression=o}static parse(i,o){if(i.length!==2||typeof i[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");const h=i[1];return o.scope.has(h)?new Sn(h,o.scope.get(h)):o.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Jr=Sn;class qn{constructor(i,o=[],h,p=new ld,v=[]){this.registry=i,this.path=o,this.key=o.map(T=>`[${T}]`).join(""),this.scope=p,this.errors=v,this.expectedType=h}parse(i,o,h,p,v={}){return o?this.concat(o,h,p)._parse(i,v):this._parse(i,v)}_parse(i,o){function h(p,v,T){return T==="assert"?new rs(v,[p]):T==="coerce"?new aa(v,[p]):p}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=i[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[p];if(v){let T=v.parse(i,this);if(!T)return null;if(this.expectedType){const R=this.expectedType,K=T.type;if(R.kind!=="string"&&R.kind!=="number"&&R.kind!=="boolean"&&R.kind!=="object"&&R.kind!=="array"||K.kind!=="value")if(R.kind!=="color"&&R.kind!=="formatted"&&R.kind!=="resolvedImage"||K.kind!=="value"&&K.kind!=="string"){if(this.checkSubtype(R,K))return null}else T=h(T,R,o.typeAnnotation||"coerce");else T=h(T,R,o.typeAnnotation||"assert")}if(!(T instanceof Rl)&&T.type.kind!=="resolvedImage"&&xa(T)){const R=new Ah;try{T=new Rl(T.type,T.evaluate(R))}catch(K){return this.error(K.message),null}}return T}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,o,h){const p=typeof i=="number"?this.path.concat(i):this.path,v=h?this.scope.concat(h):this.scope;return new qn(this.registry,p,o||null,v,this.errors)}error(i,...o){const h=`${this.key}${o.map(p=>`[${p}]`).join("")}`;this.errors.push(new Kr(h,i))}checkSubtype(i,o){const h=Ga(i,o);return h&&this.error(h),h}}var Ms=qn;function xa(r){if(r instanceof Jr)return xa(r.boundExpression);if(r instanceof ll&&r.name==="error"||r instanceof vr||r instanceof Qs)return!1;const i=r instanceof aa||r instanceof rs;let o=!0;return r.eachChild(h=>{o=i?o&&xa(h):o&&h instanceof Rl}),!!o&&Fs(r)&&$n(r,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function zl(r,i){const o=r.length-1;let h,p,v=0,T=o,R=0;for(;v<=T;)if(R=Math.floor((v+T)/2),h=r[R],p=r[R+1],h<=i){if(R===o||i<p)return R;v=R+1}else{if(!(h>i))throw new Er("Input is not a number.");T=R-1}return 0}class Br{constructor(i,o,h){this.type=i,this.input=o,this.labels=[],this.outputs=[];for(const[p,v]of h)this.labels.push(p),this.outputs.push(v)}static parse(i,o){if(i.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return o.error("Expected an even number of arguments.");const h=o.parse(i[1],1,Oi);if(!h)return null;const p=[];let v=null;o.expectedType&&o.expectedType.kind!=="value"&&(v=o.expectedType);for(let T=1;T<i.length;T+=2){const R=T===1?-1/0:i[T],K=i[T+1],ie=T,fe=T+1;if(typeof R!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ie);if(p.length&&p[p.length-1][0]>=R)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ie);const we=o.parse(K,fe,v);if(!we)return null;v=v||we.type,p.push([R,we])}return new Br(v,h,p)}evaluate(i){const o=this.labels,h=this.outputs;if(o.length===1)return h[0].evaluate(i);const p=this.input.evaluate(i);if(p<=o[0])return h[0].evaluate(i);const v=o.length;return p>=o[v-1]?h[v-1].evaluate(i):h[zl(o,p)].evaluate(i)}eachChild(i){i(this.input);for(const o of this.outputs)i(o)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){const i=["step",this.input.serialize()];for(let o=0;o<this.labels.length;o++)o>0&&i.push(this.labels[o]),i.push(this.outputs[o].serialize());return i}}var So=Br;function Dn(r,i,o){return r*(1-o)+i*o}var $r=Object.freeze({__proto__:null,number:Dn,color:function(r,i,o){return new ir(Dn(r.r,i.r,o),Dn(r.g,i.g,o),Dn(r.b,i.b,o),Dn(r.a,i.a,o))},array:function(r,i,o){return r.map((h,p)=>Dn(h,i[p],o))}});const la=.95047,uo=1.08883,Ho=4/29,Fl=6/29,$a=3*Fl*Fl,kh=Math.PI/180,ms=180/Math.PI;function Wo(r){return r>.008856451679035631?Math.pow(r,1/3):r/$a+Ho}function Qc(r){return r>Fl?r*r*r:$a*(r-Ho)}function yc(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function so(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Nl(r){const i=so(r.r),o=so(r.g),h=so(r.b),p=Wo((.4124564*i+.3575761*o+.1804375*h)/la),v=Wo((.2126729*i+.7151522*o+.072175*h)/1);return{l:116*v-16,a:500*(p-v),b:200*(v-Wo((.0193339*i+.119192*o+.9503041*h)/uo)),alpha:r.a}}function vc(r){let i=(r.l+16)/116,o=isNaN(r.a)?i:i+r.a/500,h=isNaN(r.b)?i:i-r.b/200;return i=1*Qc(i),o=la*Qc(o),h=uo*Qc(h),new ir(yc(3.2404542*o-1.5371385*i-.4985314*h),yc(-.969266*o+1.8760108*i+.041556*h),yc(.0556434*o-.2040259*i+1.0572252*h),r.alpha)}function dd(r,i,o){const h=i-r;return r+o*(h>180||h<-180?h-360*Math.round(h/360):h)}const xc={forward:Nl,reverse:vc,interpolate:function(r,i,o){return{l:Dn(r.l,i.l,o),a:Dn(r.a,i.a,o),b:Dn(r.b,i.b,o),alpha:Dn(r.alpha,i.alpha,o)}}},bc={forward:function(r){const{l:i,a:o,b:h}=Nl(r),p=Math.atan2(h,o)*ms;return{h:p<0?p+360:p,c:Math.sqrt(o*o+h*h),l:i,alpha:r.a}},reverse:function(r){const i=r.h*kh,o=r.c;return vc({l:r.l,a:Math.cos(i)*o,b:Math.sin(i)*o,alpha:r.alpha})},interpolate:function(r,i,o){return{h:dd(r.h,i.h,o),c:Dn(r.c,i.c,o),l:Dn(r.l,i.l,o),alpha:Dn(r.alpha,i.alpha,o)}}};var cu=Object.freeze({__proto__:null,lab:xc,hcl:bc});class jl{constructor(i,o,h,p,v){this.type=i,this.operator=o,this.interpolation=h,this.input=p,this.labels=[],this.outputs=[];for(const[T,R]of v)this.labels.push(T),this.outputs.push(R)}static interpolationFactor(i,o,h,p){let v=0;if(i.name==="exponential")v=ud(o,i.base,h,p);else if(i.name==="linear")v=ud(o,1,h,p);else if(i.name==="cubic-bezier"){const T=i.controlPoints;v=new P(T[0],T[1],T[2],T[3]).solve(ud(o,1,h,p))}return v}static parse(i,o){let[h,p,v,...T]=i;if(!Array.isArray(p)||p.length===0)return o.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const ie=p[1];if(typeof ie!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:ie}}else{if(p[0]!=="cubic-bezier")return o.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const ie=p.slice(1);if(ie.length!==4||ie.some(fe=>typeof fe!="number"||fe<0||fe>1))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:ie}}}if(i.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(v=o.parse(v,2,Oi),!v)return null;const R=[];let K=null;h==="interpolate-hcl"||h==="interpolate-lab"?K=Vo:o.expectedType&&o.expectedType.kind!=="value"&&(K=o.expectedType);for(let ie=0;ie<T.length;ie+=2){const fe=T[ie],we=T[ie+1],Te=ie+3,De=ie+4;if(typeof fe!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Te);if(R.length&&R[R.length-1][0]>=fe)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Te);const Le=o.parse(we,De,K);if(!Le)return null;K=K||Le.type,R.push([fe,Le])}return K.kind==="number"||K.kind==="color"||K.kind==="array"&&K.itemType.kind==="number"&&typeof K.N=="number"?new jl(K,h,p,v,R):o.error(`Type ${xs(K)} is not interpolatable.`)}evaluate(i){const o=this.labels,h=this.outputs;if(o.length===1)return h[0].evaluate(i);const p=this.input.evaluate(i);if(p<=o[0])return h[0].evaluate(i);const v=o.length;if(p>=o[v-1])return h[v-1].evaluate(i);const T=zl(o,p),R=jl.interpolationFactor(this.interpolation,p,o[T],o[T+1]),K=h[T].evaluate(i),ie=h[T+1].evaluate(i);return this.operator==="interpolate"?$r[this.type.kind.toLowerCase()](K,ie,R):this.operator==="interpolate-hcl"?bc.reverse(bc.interpolate(bc.forward(K),bc.forward(ie),R)):xc.reverse(xc.interpolate(xc.forward(K),xc.forward(ie),R))}eachChild(i){i(this.input);for(const o of this.outputs)i(o)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){let i;i=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const o=[this.operator,i,this.input.serialize()];for(let h=0;h<this.labels.length;h++)o.push(this.labels[h],this.outputs[h].serialize());return o}}function ud(r,i,o,h){const p=h-o,v=r-o;return p===0?0:i===1?v/p:(Math.pow(i,v)-1)/(Math.pow(i,p)-1)}var ba=jl;class Ha{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expectected at least one argument.");let h=null;const p=o.expectedType;p&&p.kind!=="value"&&(h=p);const v=[];for(const R of i.slice(1)){const K=o.parse(R,1+v.length,h,void 0,{typeAnnotation:"omit"});if(!K)return null;h=h||K.type,v.push(K)}const T=p&&v.some(R=>Ga(p,R.type));return new Ha(T?vn:h,v)}evaluate(i){let o,h=null,p=0;for(const v of this.args){if(p++,h=v.evaluate(i),h&&h instanceof $o&&!h.available&&(o||(o=h),h=null,p===this.args.length))return o;if(h!==null)break}return h}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=["coalesce"];return this.eachChild(o=>{i.push(o.serialize())}),i}}var Ul=Ha;class Ph{constructor(i,o){this.type=o.type,this.bindings=[].concat(i),this.result=o}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const o of this.bindings)i(o[1]);i(this.result)}static parse(i,o){if(i.length<4)return o.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const h=[];for(let v=1;v<i.length-1;v+=2){const T=i[v];if(typeof T!="string")return o.error(`Expected string, but found ${typeof T} instead.`,v);if(/[^a-zA-Z0-9_]/.test(T))return o.error("Variable names must contain only alphanumeric characters or '_'.",v);const R=o.parse(i[v+1],v+1);if(!R)return null;h.push([T,R])}const p=o.parse(i[i.length-1],i.length-1,o.expectedType,h);return p?new Ph(h,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const i=["let"];for(const[o,h]of this.bindings)i.push(o,h.serialize());return i.push(this.result.serialize()),i}}var wc=Ph;class Xo{constructor(i,o,h){this.type=i,this.index=o,this.input=h}static parse(i,o){if(i.length!==3)return o.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,Oi),p=o.parse(i[2],2,Sr(o.expectedType||vn));return h&&p?new Xo(p.type.itemType,h,p):null}evaluate(i){const o=this.index.evaluate(i),h=this.input.evaluate(i);if(o<0)throw new Er(`Array index out of bounds: ${o} < 0.`);if(o>=h.length)throw new Er(`Array index out of bounds: ${o} > ${h.length-1}.`);if(o!==Math.floor(o))throw new Er(`Array index must be an integer, but found ${o} instead.`);return h[o]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Hr=Xo;class cl{constructor(i,o){this.type=Nn,this.needle=i,this.haystack=o}static parse(i,o){if(i.length!==3)return o.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,vn),p=o.parse(i[2],2,vn);return h&&p?Dl(h.type,[Nn,zn,Oi,Or,vn])?new cl(h,p):o.error(`Expected first argument to be of type boolean, string, number or null, but found ${xs(h.type)} instead`):null}evaluate(i){const o=this.needle.evaluate(i),h=this.haystack.evaluate(i);if(h==null)return!1;if(!oa(o,["boolean","string","number","null"]))throw new Er(`Expected first argument to be of type boolean, string, number or null, but found ${xs(yr(o))} instead.`);if(!oa(h,["string","array"]))throw new Er(`Expected second argument to be of type array or string, but found ${xs(yr(h))} instead.`);return h.indexOf(o)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var pd=cl;class eh{constructor(i,o,h){this.type=Oi,this.needle=i,this.haystack=o,this.fromIndex=h}static parse(i,o){if(i.length<=2||i.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,vn),p=o.parse(i[2],2,vn);if(!h||!p)return null;if(!Dl(h.type,[Nn,zn,Oi,Or,vn]))return o.error(`Expected first argument to be of type boolean, string, number or null, but found ${xs(h.type)} instead`);if(i.length===4){const v=o.parse(i[3],3,Oi);return v?new eh(h,p,v):null}return new eh(h,p)}evaluate(i){const o=this.needle.evaluate(i),h=this.haystack.evaluate(i);if(!oa(o,["boolean","string","number","null"]))throw new Er(`Expected first argument to be of type boolean, string, number or null, but found ${xs(yr(o))} instead.`);if(!oa(h,["string","array"]))throw new Er(`Expected second argument to be of type array or string, but found ${xs(yr(h))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(i);return h.indexOf(o,p)}return h.indexOf(o)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const i=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),i]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var bp=eh;class os{constructor(i,o,h,p,v,T){this.inputType=i,this.type=o,this.input=h,this.cases=p,this.outputs=v,this.otherwise=T}static parse(i,o){if(i.length<5)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return o.error("Expected an even number of arguments.");let h,p;o.expectedType&&o.expectedType.kind!=="value"&&(p=o.expectedType);const v={},T=[];for(let ie=2;ie<i.length-1;ie+=2){let fe=i[ie];const we=i[ie+1];Array.isArray(fe)||(fe=[fe]);const Te=o.concat(ie);if(fe.length===0)return Te.error("Expected at least one branch label.");for(const Le of fe){if(typeof Le!="number"&&typeof Le!="string")return Te.error("Branch labels must be numbers or strings.");if(typeof Le=="number"&&Math.abs(Le)>Number.MAX_SAFE_INTEGER)return Te.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Le=="number"&&Math.floor(Le)!==Le)return Te.error("Numeric branch labels must be integer values.");if(h){if(Te.checkSubtype(h,yr(Le)))return null}else h=yr(Le);if(v[String(Le)]!==void 0)return Te.error("Branch labels must be unique.");v[String(Le)]=T.length}const De=o.parse(we,ie,p);if(!De)return null;p=p||De.type,T.push(De)}const R=o.parse(i[1],1,vn);if(!R)return null;const K=o.parse(i[i.length-1],i.length-1,p);return K?R.type.kind!=="value"&&o.concat(1).checkSubtype(h,R.type)?null:new os(h,p,R,v,T,K):null}evaluate(i){const o=this.input.evaluate(i);return(yr(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["match",this.input.serialize()],o=Object.keys(this.cases).sort(),h=[],p={};for(const T of o){const R=p[this.cases[T]];R===void 0?(p[this.cases[T]]=h.length,h.push([this.cases[T],[T]])):h[R][1].push(T)}const v=T=>this.inputType.kind==="number"?Number(T):T;for(const[T,R]of h)i.push(R.length===1?v(R[0]):R.map(v)),i.push(this.outputs[T].serialize());return i.push(this.otherwise.serialize()),i}}var po=os;class Wr{constructor(i,o,h){this.type=i,this.branches=o,this.otherwise=h}static parse(i,o){if(i.length<4)return o.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return o.error("Expected an odd number of arguments.");let h;o.expectedType&&o.expectedType.kind!=="value"&&(h=o.expectedType);const p=[];for(let T=1;T<i.length-1;T+=2){const R=o.parse(i[T],T,Nn);if(!R)return null;const K=o.parse(i[T+1],T+1,h);if(!K)return null;p.push([R,K]),h=h||K.type}const v=o.parse(i[i.length-1],i.length-1,h);return v?new Wr(h,p,v):null}evaluate(i){for(const[o,h]of this.branches)if(o.evaluate(i))return h.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[o,h]of this.branches)i(o),i(h);i(this.otherwise)}outputDefined(){return this.branches.every(([i,o])=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["case"];return this.eachChild(o=>{i.push(o.serialize())}),i}}var Eo=Wr;class Gl{constructor(i,o,h,p){this.type=i,this.input=o,this.beginIndex=h,this.endIndex=p}static parse(i,o){if(i.length<=2||i.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,vn),p=o.parse(i[2],2,Oi);if(!h||!p)return null;if(!Dl(h.type,[Sr(vn),zn,vn]))return o.error(`Expected first argument to be of type array or string, but found ${xs(h.type)} instead`);if(i.length===4){const v=o.parse(i[3],3,Oi);return v?new Gl(h.type,h,p,v):null}return new Gl(h.type,h,p)}evaluate(i){const o=this.input.evaluate(i),h=this.beginIndex.evaluate(i);if(!oa(o,["string","array"]))throw new Er(`Expected first argument to be of type array or string, but found ${xs(yr(o))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(i);return o.slice(h,p)}return o.slice(h)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const i=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),i]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var hu=Gl;function du(r,i){return r==="=="||r==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function uu(r,i,o,h){return h.compare(i,o)===0}function Co(r,i,o){const h=r!=="=="&&r!=="!=";return class I8{constructor(v,T,R){this.type=Nn,this.lhs=v,this.rhs=T,this.collator=R,this.hasUntypedArgument=v.type.kind==="value"||T.type.kind==="value"}static parse(v,T){if(v.length!==3&&v.length!==4)return T.error("Expected two or three arguments.");const R=v[0];let K=T.parse(v[1],1,vn);if(!K)return null;if(!du(R,K.type))return T.concat(1).error(`"${R}" comparisons are not supported for type '${xs(K.type)}'.`);let ie=T.parse(v[2],2,vn);if(!ie)return null;if(!du(R,ie.type))return T.concat(2).error(`"${R}" comparisons are not supported for type '${xs(ie.type)}'.`);if(K.type.kind!==ie.type.kind&&K.type.kind!=="value"&&ie.type.kind!=="value")return T.error(`Cannot compare types '${xs(K.type)}' and '${xs(ie.type)}'.`);h&&(K.type.kind==="value"&&ie.type.kind!=="value"?K=new rs(ie.type,[K]):K.type.kind!=="value"&&ie.type.kind==="value"&&(ie=new rs(K.type,[ie])));let fe=null;if(v.length===4){if(K.type.kind!=="string"&&ie.type.kind!=="string"&&K.type.kind!=="value"&&ie.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(fe=T.parse(v[3],3,_c),!fe)return null}return new I8(K,ie,fe)}evaluate(v){const T=this.lhs.evaluate(v),R=this.rhs.evaluate(v);if(h&&this.hasUntypedArgument){const K=yr(T),ie=yr(R);if(K.kind!==ie.kind||K.kind!=="string"&&K.kind!=="number")throw new Er(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${K.kind}, ${ie.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){const K=yr(T),ie=yr(R);if(K.kind!=="string"||ie.kind!=="string")return i(v,T,R)}return this.collator?o(v,T,R,this.collator.evaluate(v)):i(v,T,R)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}serialize(){const v=[r];return this.eachChild(T=>{v.push(T.serialize())}),v}}}const It=Co("==",function(r,i,o){return i===o},uu),ci=Co("!=",function(r,i,o){return i!==o},function(r,i,o,h){return!uu(0,i,o,h)}),ti=Co("<",function(r,i,o){return i<o},function(r,i,o,h){return h.compare(i,o)<0}),Ki=Co(">",function(r,i,o){return i>o},function(r,i,o,h){return h.compare(i,o)>0}),In=Co("<=",function(r,i,o){return i<=o},function(r,i,o,h){return h.compare(i,o)<=0}),hs=Co(">=",function(r,i,o){return i>=o},function(r,i,o,h){return h.compare(i,o)>=0});class pr{constructor(i,o,h,p,v,T){this.type=zn,this.number=i,this.locale=o,this.currency=h,this.unit=p,this.minFractionDigits=v,this.maxFractionDigits=T}static parse(i,o){if(i.length!==3)return o.error("Expected two arguments.");const h=o.parse(i[1],1,Oi);if(!h)return null;const p=i[2];if(typeof p!="object"||Array.isArray(p))return o.error("NumberFormat options argument must be an object.");let v=null;if(p.locale&&(v=o.parse(p.locale,1,zn),!v))return null;let T=null;if(p.currency&&(T=o.parse(p.currency,1,zn),!T))return null;let R=null;if(p.unit&&(R=o.parse(p.unit,1,zn),!R))return null;let K=null;if(p["min-fraction-digits"]&&(K=o.parse(p["min-fraction-digits"],1,Oi),!K))return null;let ie=null;return p["max-fraction-digits"]&&(ie=o.parse(p["max-fraction-digits"],1,Oi),!ie)?null:new pr(h,v,T,R,K,ie)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(i):void 0,unit:this.unit?this.unit.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.unit&&i(this.unit),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const i={};return this.locale&&(i.locale=this.locale.serialize()),this.currency&&(i.currency=this.currency.serialize()),this.unit&&(i.unit=this.unit.serialize()),this.minFractionDigits&&(i["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(i["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),i]}}class gs{constructor(i){this.type=Oi,this.input=i}static parse(i,o){if(i.length!==2)return o.error(`Expected 1 argument, but found ${i.length-1} instead.`);const h=o.parse(i[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?o.error(`Expected argument of type string or array, but found ${xs(h.type)} instead.`):new gs(h):null}evaluate(i){const o=this.input.evaluate(i);if(typeof o=="string"||Array.isArray(o))return o.length;throw new Er(`Expected value to be of type string or array, but found ${xs(yr(o))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){const i=["length"];return this.eachChild(o=>{i.push(o.serialize())}),i}}const Tc={"==":It,"!=":ci,">":Ki,"<":ti,">=":hs,"<=":In,array:rs,at:Hr,boolean:rs,case:Eo,coalesce:Ul,collator:vr,format:fs,image:Mh,in:pd,"index-of":bp,interpolate:ba,"interpolate-hcl":ba,"interpolate-lab":ba,length:gs,let:wc,literal:Rl,match:po,number:rs,"number-format":pr,object:rs,slice:hu,step:So,string:rs,"to-boolean":aa,"to-color":aa,"to-number":aa,"to-string":aa,var:Jr,within:Qs};function Dh(r,[i,o,h,p]){i=i.evaluate(r),o=o.evaluate(r),h=h.evaluate(r);const v=p?p.evaluate(r):1,T=lu(i,o,h,v);if(T)throw new Er(T);return new ir(i/255*v,o/255*v,h/255*v,v)}function fo(r,i){return r in i}function Je(r,i){const o=i[r];return o===void 0?null:o}function xt(r){return{type:r}}ll.register(Tc,{error:[{kind:"error"},[zn],(r,[i])=>{throw new Er(i.evaluate(r))}],typeof:[zn,[vn],(r,[i])=>xs(yr(i.evaluate(r)))],"to-rgba":[Sr(Oi,4),[Vo],(r,[i])=>i.evaluate(r).toArray()],rgb:[Vo,[Oi,Oi,Oi],Dh],rgba:[Vo,[Oi,Oi,Oi,Oi],Dh],has:{type:Nn,overloads:[[[zn],(r,[i])=>fo(i.evaluate(r),r.properties())],[[zn,va],(r,[i,o])=>fo(i.evaluate(r),o.evaluate(r))]]},get:{type:vn,overloads:[[[zn],(r,[i])=>Je(i.evaluate(r),r.properties())],[[zn,va],(r,[i,o])=>Je(i.evaluate(r),o.evaluate(r))]]},"feature-state":[vn,[zn],(r,[i])=>Je(i.evaluate(r),r.featureState||{})],properties:[va,[],r=>r.properties()],"geometry-type":[zn,[],r=>r.geometryType()],id:[vn,[],r=>r.id()],zoom:[Oi,[],r=>r.globals.zoom],pitch:[Oi,[],r=>r.globals.pitch||0],"distance-from-center":[Oi,[],r=>r.distanceFromCenter()],"heatmap-density":[Oi,[],r=>r.globals.heatmapDensity||0],"line-progress":[Oi,[],r=>r.globals.lineProgress||0],"sky-radial-progress":[Oi,[],r=>r.globals.skyRadialProgress||0],accumulated:[vn,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[Oi,xt(Oi),(r,i)=>{let o=0;for(const h of i)o+=h.evaluate(r);return o}],"*":[Oi,xt(Oi),(r,i)=>{let o=1;for(const h of i)o*=h.evaluate(r);return o}],"-":{type:Oi,overloads:[[[Oi,Oi],(r,[i,o])=>i.evaluate(r)-o.evaluate(r)],[[Oi],(r,[i])=>-i.evaluate(r)]]},"/":[Oi,[Oi,Oi],(r,[i,o])=>i.evaluate(r)/o.evaluate(r)],"%":[Oi,[Oi,Oi],(r,[i,o])=>i.evaluate(r)%o.evaluate(r)],ln2:[Oi,[],()=>Math.LN2],pi:[Oi,[],()=>Math.PI],e:[Oi,[],()=>Math.E],"^":[Oi,[Oi,Oi],(r,[i,o])=>Math.pow(i.evaluate(r),o.evaluate(r))],sqrt:[Oi,[Oi],(r,[i])=>Math.sqrt(i.evaluate(r))],log10:[Oi,[Oi],(r,[i])=>Math.log(i.evaluate(r))/Math.LN10],ln:[Oi,[Oi],(r,[i])=>Math.log(i.evaluate(r))],log2:[Oi,[Oi],(r,[i])=>Math.log(i.evaluate(r))/Math.LN2],sin:[Oi,[Oi],(r,[i])=>Math.sin(i.evaluate(r))],cos:[Oi,[Oi],(r,[i])=>Math.cos(i.evaluate(r))],tan:[Oi,[Oi],(r,[i])=>Math.tan(i.evaluate(r))],asin:[Oi,[Oi],(r,[i])=>Math.asin(i.evaluate(r))],acos:[Oi,[Oi],(r,[i])=>Math.acos(i.evaluate(r))],atan:[Oi,[Oi],(r,[i])=>Math.atan(i.evaluate(r))],min:[Oi,xt(Oi),(r,i)=>Math.min(...i.map(o=>o.evaluate(r)))],max:[Oi,xt(Oi),(r,i)=>Math.max(...i.map(o=>o.evaluate(r)))],abs:[Oi,[Oi],(r,[i])=>Math.abs(i.evaluate(r))],round:[Oi,[Oi],(r,[i])=>{const o=i.evaluate(r);return o<0?-Math.round(-o):Math.round(o)}],floor:[Oi,[Oi],(r,[i])=>Math.floor(i.evaluate(r))],ceil:[Oi,[Oi],(r,[i])=>Math.ceil(i.evaluate(r))],"filter-==":[Nn,[zn,vn],(r,[i,o])=>r.properties()[i.value]===o.value],"filter-id-==":[Nn,[vn],(r,[i])=>r.id()===i.value],"filter-type-==":[Nn,[zn],(r,[i])=>r.geometryType()===i.value],"filter-<":[Nn,[zn,vn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h<p}],"filter-id-<":[Nn,[vn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o<h}],"filter->":[Nn,[zn,vn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h>p}],"filter-id->":[Nn,[vn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o>h}],"filter-<=":[Nn,[zn,vn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h<=p}],"filter-id-<=":[Nn,[vn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o<=h}],"filter->=":[Nn,[zn,vn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h>=p}],"filter-id->=":[Nn,[vn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o>=h}],"filter-has":[Nn,[vn],(r,[i])=>i.value in r.properties()],"filter-has-id":[Nn,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Nn,[Sr(zn)],(r,[i])=>i.value.indexOf(r.geometryType())>=0],"filter-id-in":[Nn,[Sr(vn)],(r,[i])=>i.value.indexOf(r.id())>=0],"filter-in-small":[Nn,[zn,Sr(vn)],(r,[i,o])=>o.value.indexOf(r.properties()[i.value])>=0],"filter-in-large":[Nn,[zn,Sr(vn)],(r,[i,o])=>function(h,p,v,T){for(;v<=T;){const R=v+T>>1;if(p[R]===h)return!0;p[R]>h?T=R-1:v=R+1}return!1}(r.properties()[i.value],o.value,0,o.value.length-1)],all:{type:Nn,overloads:[[[Nn,Nn],(r,[i,o])=>i.evaluate(r)&&o.evaluate(r)],[xt(Nn),(r,i)=>{for(const o of i)if(!o.evaluate(r))return!1;return!0}]]},any:{type:Nn,overloads:[[[Nn,Nn],(r,[i,o])=>i.evaluate(r)||o.evaluate(r)],[xt(Nn),(r,i)=>{for(const o of i)if(o.evaluate(r))return!0;return!1}]]},"!":[Nn,[Nn],(r,[i])=>!i.evaluate(r)],"is-supported-script":[Nn,[zn],(r,[i])=>{const o=r.globals&&r.globals.isSupportedScript;return!o||o(i.evaluate(r))}],upcase:[zn,[zn],(r,[i])=>i.evaluate(r).toUpperCase()],downcase:[zn,[zn],(r,[i])=>i.evaluate(r).toLowerCase()],concat:[zn,xt(vn),(r,i)=>i.map(o=>Ol(o.evaluate(r))).join("")],"resolved-locale":[zn,[_c],(r,[i])=>i.evaluate(r).resolvedLocale()]});var Pt=Tc;function hi(r){return{result:"success",value:r}}function Lt(r){return{result:"error",value:r}}function Qt(r){return r["property-type"]==="data-driven"}function Si(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function ji(r){return!!r.expression&&r.expression.interpolated}function bi(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function mn(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function xn(r){return r}function wn(r,i){const o=i.type==="color",h=r.stops&&typeof r.stops[0][0]=="object",p=h||!(h||r.property!==void 0),v=r.type||(ji(i)?"exponential":"interval");if(o&&((r=Go({},r)).stops&&(r.stops=r.stops.map(ie=>[ie[0],ir.parse(ie[1])])),r.default=ir.parse(r.default?r.default:i.default)),r.colorSpace&&r.colorSpace!=="rgb"&&!cu[r.colorSpace])throw new Error(`Unknown color space: ${r.colorSpace}`);let T,R,K;if(v==="exponential")T=cr;else if(v==="interval")T=gn;else if(v==="categorical"){T=Qn,R=Object.create(null);for(const ie of r.stops)R[ie[0]]=ie[1];K=typeof r.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);T=fr}if(h){const ie={},fe=[];for(let De=0;De<r.stops.length;De++){const Le=r.stops[De],Ne=Le[0].zoom;ie[Ne]===void 0&&(ie[Ne]={zoom:Ne,type:r.type,property:r.property,default:r.default,stops:[]},fe.push(Ne)),ie[Ne].stops.push([Le[0].value,Le[1]])}const we=[];for(const De of fe)we.push([ie[De].zoom,wn(ie[De],i)]);const Te={name:"linear"};return{kind:"composite",interpolationType:Te,interpolationFactor:ba.interpolationFactor.bind(void 0,Te),zoomStops:we.map(De=>De[0]),evaluate:({zoom:De},Le)=>cr({stops:we,base:r.base},i,De).evaluate(De,Le)}}if(p){const ie=v==="exponential"?{name:"exponential",base:r.base!==void 0?r.base:1}:null;return{kind:"camera",interpolationType:ie,interpolationFactor:ba.interpolationFactor.bind(void 0,ie),zoomStops:r.stops.map(fe=>fe[0]),evaluate:({zoom:fe})=>T(r,i,fe,R,K)}}return{kind:"source",evaluate(ie,fe){const we=fe&&fe.properties?fe.properties[r.property]:void 0;return we===void 0?Rn(r.default,i.default):T(r,i,we,R,K)}}}function Rn(r,i,o){return r!==void 0?r:i!==void 0?i:o!==void 0?o:void 0}function Qn(r,i,o,h,p){return Rn(typeof o===p?h[o]:void 0,r.default,i.default)}function gn(r,i,o){if(bi(o)!=="number")return Rn(r.default,i.default);const h=r.stops.length;if(h===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[h-1][0])return r.stops[h-1][1];const p=zl(r.stops.map(v=>v[0]),o);return r.stops[p][1]}function cr(r,i,o){const h=r.base!==void 0?r.base:1;if(bi(o)!=="number")return Rn(r.default,i.default);const p=r.stops.length;if(p===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[p-1][0])return r.stops[p-1][1];const v=zl(r.stops.map(fe=>fe[0]),o),T=function(fe,we,Te,De){const Le=De-Te,Ne=fe-Te;return Le===0?0:we===1?Ne/Le:(Math.pow(we,Ne)-1)/(Math.pow(we,Le)-1)}(o,h,r.stops[v][0],r.stops[v+1][0]),R=r.stops[v][1],K=r.stops[v+1][1];let ie=$r[i.type]||xn;if(r.colorSpace&&r.colorSpace!=="rgb"){const fe=cu[r.colorSpace];ie=(we,Te)=>fe.reverse(fe.interpolate(fe.forward(we),fe.forward(Te),T))}return typeof R.evaluate=="function"?{evaluate(...fe){const we=R.evaluate.apply(void 0,fe),Te=K.evaluate.apply(void 0,fe);if(we!==void 0&&Te!==void 0)return ie(we,Te,T)}}:ie(R,K,T)}function fr(r,i,o){return i.type==="color"?o=ir.parse(o):i.type==="formatted"?o=Rr.fromString(o.toString()):i.type==="resolvedImage"?o=$o.fromString(o.toString()):bi(o)===i.type||i.type==="enum"&&i.values[o]||(o=void 0),Rn(o,r.default,i.default)}class Xr{constructor(i,o){this.expression=i,this._warningHistory={},this._evaluator=new Ah,this._defaultValue=o?function(h){return h.type==="color"&&(mn(h.default)||Array.isArray(h.default))?new ir(0,0,0,0):h.type==="color"?ir.parse(h.default)||null:h.default===void 0?null:h.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null}evaluateWithoutErrorHandling(i,o,h,p,v,T,R,K){return this._evaluator.globals=i,this._evaluator.feature=o,this._evaluator.featureState=h,this._evaluator.canonical=p||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=T,this._evaluator.featureTileCoord=R||null,this._evaluator.featureDistanceData=K||null,this.expression.evaluate(this._evaluator)}evaluate(i,o,h,p,v,T,R,K){this._evaluator.globals=i,this._evaluator.feature=o||null,this._evaluator.featureState=h||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=T||null,this._evaluator.featureTileCoord=R||null,this._evaluator.featureDistanceData=K||null;try{const ie=this.expression.evaluate(this._evaluator);if(ie==null||typeof ie=="number"&&ie!=ie)return this._defaultValue;if(this._enumValues&&!(ie in this._enumValues))throw new Er(`Expected value to be one of ${Object.keys(this._enumValues).map(fe=>JSON.stringify(fe)).join(", ")}, but found ${JSON.stringify(ie)} instead.`);return ie}catch(ie){return this._warningHistory[ie.message]||(this._warningHistory[ie.message]=!0,typeof console<"u"&&console.warn(ie.message)),this._defaultValue}}}function As(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in Pt}function ro(r,i){const o=new Ms(Pt,[],i?function(p){const v={color:Vo,string:zn,number:Oi,enum:zn,boolean:Nn,formatted:ra,resolvedImage:Ua};return p.type==="array"?Sr(v[p.value]||vn,p.length):v[p.type]}(i):void 0),h=o.parse(r,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?hi(new Xr(h,i)):Lt(o.errors)}class Mo{constructor(i,o){this.kind=i,this._styleExpression=o,this.isStateDependent=i!=="constant"&&!Vn(o.expression)}evaluateWithoutErrorHandling(i,o,h,p,v,T){return this._styleExpression.evaluateWithoutErrorHandling(i,o,h,p,v,T)}evaluate(i,o,h,p,v,T){return this._styleExpression.evaluate(i,o,h,p,v,T)}}class xr{constructor(i,o,h,p){this.kind=i,this.zoomStops=h,this._styleExpression=o,this.isStateDependent=i!=="camera"&&!Vn(o.expression),this.interpolationType=p}evaluateWithoutErrorHandling(i,o,h,p,v,T){return this._styleExpression.evaluateWithoutErrorHandling(i,o,h,p,v,T)}evaluate(i,o,h,p,v,T){return this._styleExpression.evaluate(i,o,h,p,v,T)}interpolationFactor(i,o,h){return this.interpolationType?ba.interpolationFactor(this.interpolationType,i,o,h):0}}function Vl(r,i){if((r=ro(r,i)).result==="error")return r;const o=r.value.expression,h=Fs(o);if(!h&&!Qt(i))return Lt([new Kr("","data expressions not supported")]);const p=$n(o,["zoom","pitch","distance-from-center"]);if(!p&&!Si(i))return Lt([new Kr("","zoom expressions not supported")]);const v=fd(o);return v||p?v instanceof Kr?Lt([v]):v instanceof ba&&!ji(i)?Lt([new Kr("",'"interpolate" expressions cannot be used with this property')]):hi(v?new xr(h?"camera":"composite",r.value,v.labels,v instanceof ba?v.interpolation:void 0):new Mo(h?"constant":"source",r.value)):Lt([new Kr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class $l{constructor(i,o){this._parameters=i,this._specification=o,Go(this,wn(this._parameters,this._specification))}static deserialize(i){return new $l(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function fd(r){let i=null;if(r instanceof wc)i=fd(r.result);else if(r instanceof Ul){for(const o of r.args)if(i=fd(o),i)break}else(r instanceof So||r instanceof ba)&&r.input instanceof ll&&r.input.name==="zoom"&&(i=r);return i instanceof Kr||r.eachChild(o=>{const h=fd(o);h instanceof Kr?i=h:!i&&h?i=new Kr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&h&&i!==h&&(i=new Kr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}class Gi{constructor(i,o,h,p){this.message=(i?`${i}: `:"")+h,p&&(this.identifier=p),o!=null&&o.__line__&&(this.line=o.__line__)}}function wa(r){const i=r.key,o=r.value,h=r.valueSpec||{},p=r.objectElementValidators||{},v=r.style,T=r.styleSpec;let R=[];const K=bi(o);if(K!=="object")return[new Gi(i,o,`object expected, ${K} found`)];for(const ie in o){const fe=ie.split(".")[0],we=h[fe]||h["*"];let Te;p[fe]?Te=p[fe]:h[fe]?Te=Cn:p["*"]?Te=p["*"]:h["*"]&&(Te=Cn),Te?R=R.concat(Te({key:(i&&`${i}.`)+ie,value:o[ie],valueSpec:we,style:v,styleSpec:T,object:o,objectKey:ie},o)):R.push(new Gi(i,o[ie],`unknown property "${ie}"`))}for(const ie in h)p[ie]||h[ie].required&&h[ie].default===void 0&&o[ie]===void 0&&R.push(new Gi(i,o,`missing required property "${ie}"`));return R}function Sc(r){const i=r.value,o=r.valueSpec,h=r.style,p=r.styleSpec,v=r.key,T=r.arrayElementValidator||Cn;if(bi(i)!=="array")return[new Gi(v,i,`array expected, ${bi(i)} found`)];if(o.length&&i.length!==o.length)return[new Gi(v,i,`array length ${o.length} expected, length ${i.length} found`)];if(o["min-length"]&&i.length<o["min-length"])return[new Gi(v,i,`array length at least ${o["min-length"]} expected, length ${i.length} found`)];let R={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum,function:void 0};p.$version<7&&(R.function=o.function),bi(o.value)==="object"&&(R=o.value);let K=[];for(let ie=0;ie<i.length;ie++)K=K.concat(T({array:i,arrayIndex:ie,value:i[ie],valueSpec:R,style:h,styleSpec:p,key:`${v}[${ie}]`}));return K}function md(r){const i=r.key,o=r.value,h=r.valueSpec;let p=bi(o);if(p==="number"&&o!=o&&(p="NaN"),p!=="number")return[new Gi(i,o,`number expected, ${p} found`)];if("minimum"in h){let v=h.minimum;if(bi(h.minimum)==="array"&&(v=h.minimum[r.arrayIndex]),o<v)return[new Gi(i,o,`${o} is less than the minimum value ${v}`)]}if("maximum"in h){let v=h.maximum;if(bi(h.maximum)==="array"&&(v=h.maximum[r.arrayIndex]),o>v)return[new Gi(i,o,`${o} is greater than the maximum value ${v}`)]}return[]}function pu(r){const i=r.valueSpec,o=ar(r.value.type);let h,p,v,T={};const R=o!=="categorical"&&r.value.property===void 0,K=!R,ie=bi(r.value.stops)==="array"&&bi(r.value.stops[0])==="array"&&bi(r.value.stops[0][0])==="object",fe=wa({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(De){if(o==="identity")return[new Gi(De.key,De.value,'identity function may not have a "stops" property')];let Le=[];const Ne=De.value;return Le=Le.concat(Sc({key:De.key,value:Ne,valueSpec:De.valueSpec,style:De.style,styleSpec:De.styleSpec,arrayElementValidator:we})),bi(Ne)==="array"&&Ne.length===0&&Le.push(new Gi(De.key,Ne,"array must have at least one stop")),Le},default:function(De){return Cn({key:De.key,value:De.value,valueSpec:i,style:De.style,styleSpec:De.styleSpec})}}});return o==="identity"&&R&&fe.push(new Gi(r.key,r.value,'missing required property "property"')),o==="identity"||r.value.stops||fe.push(new Gi(r.key,r.value,'missing required property "stops"')),o==="exponential"&&r.valueSpec.expression&&!ji(r.valueSpec)&&fe.push(new Gi(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(K&&!Qt(r.valueSpec)?fe.push(new Gi(r.key,r.value,"property functions not supported")):R&&!Si(r.valueSpec)&&fe.push(new Gi(r.key,r.value,"zoom functions not supported"))),o!=="categorical"&&!ie||r.value.property!==void 0||fe.push(new Gi(r.key,r.value,'"property" property is required')),fe;function we(De){let Le=[];const Ne=De.value,Ye=De.key;if(bi(Ne)!=="array")return[new Gi(Ye,Ne,`array expected, ${bi(Ne)} found`)];if(Ne.length!==2)return[new Gi(Ye,Ne,`array length 2 expected, length ${Ne.length} found`)];if(ie){if(bi(Ne[0])!=="object")return[new Gi(Ye,Ne,`object expected, ${bi(Ne[0])} found`)];if(Ne[0].zoom===void 0)return[new Gi(Ye,Ne,"object stop key must have zoom")];if(Ne[0].value===void 0)return[new Gi(Ye,Ne,"object stop key must have value")];const ut=ar(Ne[0].zoom);if(typeof ut!="number")return[new Gi(Ye,Ne[0].zoom,"stop zoom values must be numbers")];if(v&&v>ut)return[new Gi(Ye,Ne[0].zoom,"stop zoom values must appear in ascending order")];ut!==v&&(v=ut,p=void 0,T={}),Le=Le.concat(wa({key:`${Ye}[0]`,value:Ne[0],valueSpec:{zoom:{}},style:De.style,styleSpec:De.styleSpec,objectElementValidators:{zoom:md,value:Te}}))}else Le=Le.concat(Te({key:`${Ye}[0]`,value:Ne[0],valueSpec:{},style:De.style,styleSpec:De.styleSpec},Ne));return As(lr(Ne[1]))?Le.concat([new Gi(`${Ye}[1]`,Ne[1],"expressions are not allowed in function stops.")]):Le.concat(Cn({key:`${Ye}[1]`,value:Ne[1],valueSpec:i,style:De.style,styleSpec:De.styleSpec}))}function Te(De,Le){const Ne=bi(De.value),Ye=ar(De.value),ut=De.value!==null?De.value:Le;if(h){if(Ne!==h)return[new Gi(De.key,ut,`${Ne} stop domain type must match previous stop domain type ${h}`)]}else h=Ne;if(Ne!=="number"&&Ne!=="string"&&Ne!=="boolean"&&typeof Ye!="number"&&typeof Ye!="string"&&typeof Ye!="boolean")return[new Gi(De.key,ut,"stop domain value must be a number, string, or boolean")];if(Ne!=="number"&&o!=="categorical"){let yt=`number expected, ${Ne} found`;return Qt(i)&&o===void 0&&(yt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Gi(De.key,ut,yt)]}return o!=="categorical"||Ne!=="number"||typeof Ye=="number"&&isFinite(Ye)&&Math.floor(Ye)===Ye?o!=="categorical"&&Ne==="number"&&typeof Ye=="number"&&typeof p=="number"&&p!==void 0&&Ye<p?[new Gi(De.key,ut,"stop domain values must appear in ascending order")]:(p=Ye,o==="categorical"&&Ye in T?[new Gi(De.key,ut,"stop domain values must be unique")]:(T[Ye]=!0,[])):[new Gi(De.key,ut,`integer expected, found ${String(Ye)}`)]}}function Ih(r){const i=(r.expressionContext==="property"?Vl:ro)(lr(r.value),r.valueSpec);if(i.result==="error")return i.value.map(h=>new Gi(`${r.key}${h.key}`,r.value,h.message));const o=i.value.expression||i.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!o.outputDefined())return[new Gi(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!Vn(o))return[new Gi(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter")return wp(o,r);if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!$n(o,["zoom","feature-state"]))return[new Gi(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!Fs(o))return[new Gi(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function wp(r,i){const o=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(i.valueSpec&&i.valueSpec.expression)for(const p of i.valueSpec.expression.parameters)o.delete(p);if(o.size===0)return[];const h=[];return r instanceof ll&&o.has(r.name)?[new Gi(i.key,i.value,`["${r.name}"] expression is not supported in a filter for a ${i.object.type} layer with id: ${i.object.id}`)]:(r.eachChild(p=>{h.push(...wp(p,i))}),h)}function fu(r){const i=r.key,o=r.value,h=r.valueSpec,p=[];return Array.isArray(h.values)?h.values.indexOf(ar(o))===-1&&p.push(new Gi(i,o,`expected one of [${h.values.join(", ")}], ${JSON.stringify(o)} found`)):Object.keys(h.values).indexOf(ar(o))===-1&&p.push(new Gi(i,o,`expected one of [${Object.keys(h.values).join(", ")}], ${JSON.stringify(o)} found`)),p}function Lh(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const i of r.slice(1))if(!Lh(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}function nr(r,i="fill"){if(r==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Lh(r)||(r=hl(r));const o=r;let h=!0;try{h=function(ie){if(!Oh(ie))return ie;let fe=lr(ie);return gd(fe),fe=Ns(fe),fe}(o)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(o,null,2)}
        `)}const p=ni[`filter_${i}`],v=ro(h,p);let T=null;if(v.result==="error")throw new Error(v.value.map(ie=>`${ie.key}: ${ie.message}`).join(", "));T=(ie,fe,we)=>v.value.evaluate(ie,fe,{},we);let R=null,K=null;if(h!==o){const ie=ro(o,p);if(ie.result==="error")throw new Error(ie.value.map(fe=>`${fe.key}: ${fe.message}`).join(", "));R=(fe,we,Te,De,Le)=>ie.value.evaluate(fe,we,{},Te,void 0,void 0,De,Le),K=!Fs(ie.value.expression)}return{filter:T,dynamicFilter:R||void 0,needGeometry:mu(h),needFeature:!!K}}function Ns(r){if(!Array.isArray(r))return r;const i=function(o){if(Xf.has(o[0])){for(let h=1;h<o.length;h++)if(Oh(o[h]))return!0}return o}(r);return i===!0?i:i.map(o=>Ns(o))}function gd(r){let i=!1;const o=[];if(r[0]==="case"){for(let h=1;h<r.length-1;h+=2)i=i||Oh(r[h]),o.push(r[h+1]);o.push(r[r.length-1])}else if(r[0]==="match"){i=i||Oh(r[1]);for(let h=2;h<r.length-1;h+=2)o.push(r[h+1]);o.push(r[r.length-1])}else if(r[0]==="step"){i=i||Oh(r[1]);for(let h=1;h<r.length-1;h+=2)o.push(r[h+1])}i&&(r.length=0,r.push("any",...o));for(let h=1;h<r.length;h++)gd(r[h])}function Oh(r){if(!Array.isArray(r))return!1;if((i=r[0])==="pitch"||i==="distance-from-center")return!0;var i;for(let o=1;o<r.length;o++)if(Oh(r[o]))return!0;return!1}const Xf=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Om(r,i){return r<i?-1:r>i?1:0}function mu(r){if(!Array.isArray(r))return!1;if(r[0]==="within")return!0;for(let i=1;i<r.length;i++)if(mu(r[i]))return!0;return!1}function hl(r){if(!r)return!0;const i=r[0];return r.length<=1?i!=="any":i==="=="?_d(r[1],r[2],"=="):i==="!="?Ec(_d(r[1],r[2],"==")):i==="<"||i===">"||i==="<="||i===">="?_d(r[1],r[2],i):i==="any"?(o=r.slice(1),["any"].concat(o.map(hl))):i==="all"?["all"].concat(r.slice(1).map(hl)):i==="none"?["all"].concat(r.slice(1).map(hl).map(Ec)):i==="in"?Hl(r[1],r.slice(2)):i==="!in"?Ec(Hl(r[1],r.slice(2))):i==="has"?Rh(r[1]):i==="!has"?Ec(Rh(r[1])):i!=="within"||r;var o}function _d(r,i,o){switch(r){case"$type":return[`filter-type-${o}`,i];case"$id":return[`filter-id-${o}`,i];default:return[`filter-${o}`,r,i]}}function Hl(r,i){if(i.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(o=>typeof o!=typeof i[0])?["filter-in-large",r,["literal",i.sort(Om)]]:["filter-in-small",r,["literal",i]]}}function Rh(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function Ec(r){return["!",r]}function Cc(r){return Lh(lr(r.value))?Ih(Go({},r,{expressionContext:"filter",valueSpec:r.styleSpec[`filter_${r.layerType||"fill"}`]})):th(r)}function th(r){const i=r.value,o=r.key;if(bi(i)!=="array")return[new Gi(o,i,`array expected, ${bi(i)} found`)];const h=r.styleSpec;let p,v=[];if(i.length<1)return[new Gi(o,i,"filter array must have at least 1 element")];switch(v=v.concat(fu({key:`${o}[0]`,value:i[0],valueSpec:h.filter_operator,style:r.style,styleSpec:r.styleSpec})),ar(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&ar(i[1])==="$type"&&v.push(new Gi(o,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&v.push(new Gi(o,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(p=bi(i[1]),p!=="string"&&v.push(new Gi(`${o}[1]`,i[1],`string expected, ${p} found`)));for(let T=2;T<i.length;T++)p=bi(i[T]),ar(i[1])==="$type"?v=v.concat(fu({key:`${o}[${T}]`,value:i[T],valueSpec:h.geometry_type,style:r.style,styleSpec:r.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&v.push(new Gi(`${o}[${T}]`,i[T],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let T=1;T<i.length;T++)v=v.concat(th({key:`${o}[${T}]`,value:i[T],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":p=bi(i[1]),i.length!==2?v.push(new Gi(o,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="string"&&v.push(new Gi(`${o}[1]`,i[1],`string expected, ${p} found`));break;case"within":p=bi(i[1]),i.length!==2?v.push(new Gi(o,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="object"&&v.push(new Gi(`${o}[1]`,i[1],`object expected, ${p} found`))}return v}function Tp(r,i){const o=r.key,h=r.style,p=r.styleSpec,v=r.value,T=r.objectKey,R=p[`${i}_${r.layerType}`];if(!R)return[];const K=T.match(/^(.*)-transition$/);if(i==="paint"&&K&&R[K[1]]&&R[K[1]].transition)return Cn({key:o,value:v,valueSpec:p.transition,style:h,styleSpec:p});const ie=r.valueSpec||R[T];if(!ie)return[new Gi(o,v,`unknown property "${T}"`)];let fe;if(bi(v)==="string"&&Qt(ie)&&!ie.tokens&&(fe=/^{([^}]+)}$/.exec(v)))return[new Gi(o,v,`"${T}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(fe[1])} }\`.`)];const we=[];return r.layerType==="symbol"&&(T==="text-field"&&h&&!h.glyphs&&we.push(new Gi(o,v,'use of "text-field" requires a style "glyphs" property')),T==="text-font"&&mn(lr(v))&&ar(v.type)==="identity"&&we.push(new Gi(o,v,'"text-font" does not support identity functions'))),we.concat(Cn({key:r.key,value:v,valueSpec:ie,style:h,styleSpec:p,expressionContext:"property",propertyType:i,propertyKey:T}))}function Sp(r){return Tp(r,"paint")}function Yf(r){return Tp(r,"layout")}function gu(r){let i=[];const o=r.value,h=r.key,p=r.style,v=r.styleSpec;o.type||o.ref||i.push(new Gi(h,o,'either "type" or "ref" is required'));let T=ar(o.type);const R=ar(o.ref);if(o.id){const K=ar(o.id);for(let ie=0;ie<r.arrayIndex;ie++){const fe=p.layers[ie];ar(fe.id)===K&&i.push(new Gi(h,o.id,`duplicate layer id "${o.id}", previously used at line ${fe.id.__line__}`))}}if("ref"in o){let K;["type","source","source-layer","filter","layout"].forEach(ie=>{ie in o&&i.push(new Gi(h,o[ie],`"${ie}" is prohibited for ref layers`))}),p.layers.forEach(ie=>{ar(ie.id)===R&&(K=ie)}),K?K.ref?i.push(new Gi(h,o.ref,"ref cannot reference another ref layer")):T=ar(K.type):typeof R=="string"&&i.push(new Gi(h,o.ref,`ref layer "${R}" not found`))}else if(T!=="background"&&T!=="sky")if(o.source){const K=p.sources&&p.sources[o.source],ie=K&&ar(K.type);K?ie==="vector"&&T==="raster"?i.push(new Gi(h,o.source,`layer "${o.id}" requires a raster source`)):ie==="raster"&&T!=="raster"?i.push(new Gi(h,o.source,`layer "${o.id}" requires a vector source`)):ie!=="vector"||o["source-layer"]?ie==="raster-dem"&&T!=="hillshade"?i.push(new Gi(h,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!o.paint||!o.paint["line-gradient"]&&!o.paint["line-trim-offset"]||ie==="geojson"&&K.lineMetrics||i.push(new Gi(h,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new Gi(h,o,`layer "${o.id}" must specify a "source-layer"`)):i.push(new Gi(h,o.source,`source "${o.source}" not found`))}else i.push(new Gi(h,o,'missing required property "source"'));return i=i.concat(wa({key:h,value:o,valueSpec:v.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Cn({key:`${h}.type`,value:o.type,valueSpec:v.layer.type,style:r.style,styleSpec:r.styleSpec,object:o,objectKey:"type"}),filter:K=>Cc(Go({layerType:T},K)),layout:K=>wa({layer:o,key:K.key,value:K.value,valueSpec:{},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{"*":ie=>Yf(Go({layerType:T},ie))}}),paint:K=>wa({layer:o,key:K.key,value:K.value,valueSpec:{},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{"*":ie=>Sp(Go({layerType:T},ie))}})}})),i}function Wl(r){const i=r.value,o=r.key,h=bi(i);return h!=="string"?[new Gi(o,i,`string expected, ${h} found`)]:[]}const Bh={promoteId:function({key:r,value:i}){if(bi(i)==="string")return Wl({key:r,value:i});{const o=[];for(const h in i)o.push(...Wl({key:`${r}.${h}`,value:i[h]}));return o}}};function zh(r){const i=r.value,o=r.key,h=r.styleSpec,p=r.style;if(!i.type)return[new Gi(o,i,'"type" is required')];const v=ar(i.type);let T;switch(v){case"vector":case"raster":case"raster-dem":return T=wa({key:o,value:i,valueSpec:h[`source_${v.replace("-","_")}`],style:r.style,styleSpec:h,objectElementValidators:Bh}),T;case"geojson":if(T=wa({key:o,value:i,valueSpec:h.source_geojson,style:p,styleSpec:h,objectElementValidators:Bh}),i.cluster)for(const R in i.clusterProperties){const[K,ie]=i.clusterProperties[R],fe=typeof K=="string"?[K,["accumulated"],["get",R]]:K;T.push(...Ih({key:`${o}.${R}.map`,value:ie,expressionContext:"cluster-map"})),T.push(...Ih({key:`${o}.${R}.reduce`,value:fe,expressionContext:"cluster-reduce"}))}return T;case"video":return wa({key:o,value:i,valueSpec:h.source_video,style:p,styleSpec:h});case"image":return wa({key:o,value:i,valueSpec:h.source_image,style:p,styleSpec:h});case"canvas":return[new Gi(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return fu({key:`${o}.type`,value:i.type,valueSpec:{values:Ep(h)},style:p,styleSpec:h})}}function Ep(r){return r.source.reduce((i,o)=>{const h=r[o];return h.type.type==="enum"&&(i=i.concat(Object.keys(h.type.values))),i},[])}function qe(r){const i=r.value,o=r.styleSpec,h=o.light,p=r.style;let v=[];const T=bi(i);if(i===void 0)return v;if(T!=="object")return v=v.concat([new Gi("light",i,`object expected, ${T} found`)]),v;for(const R in i){const K=R.match(/^(.*)-transition$/);v=v.concat(K&&h[K[1]]&&h[K[1]].transition?Cn({key:R,value:i[R],valueSpec:o.transition,style:p,styleSpec:o}):h[R]?Cn({key:R,value:i[R],valueSpec:h[R],style:p,styleSpec:o}):[new Gi(R,i[R],`unknown property "${R}"`)])}return v}function Xl(r){const i=r.value,o=r.key,h=r.style,p=r.styleSpec,v=p.terrain;let T=[];const R=bi(i);if(i===void 0)return T;if(R!=="object")return T=T.concat([new Gi("terrain",i,`object expected, ${R} found`)]),T;for(const K in i){const ie=K.match(/^(.*)-transition$/);T=T.concat(ie&&v[ie[1]]&&v[ie[1]].transition?Cn({key:K,value:i[K],valueSpec:p.transition,style:h,styleSpec:p}):v[K]?Cn({key:K,value:i[K],valueSpec:v[K],style:h,styleSpec:p}):[new Gi(K,i[K],`unknown property "${K}"`)])}if(i.source){const K=h.sources&&h.sources[i.source],ie=K&&ar(K.type);K?ie!=="raster-dem"&&T.push(new Gi(o,i.source,`terrain cannot be used with a source of type ${String(ie)}, it only be used with a "raster-dem" source type`)):T.push(new Gi(o,i.source,`source "${i.source}" not found`))}else T.push(new Gi(o,i,'terrain is missing required property "source"'));return T}function yd(r){const i=r.value,o=r.style,h=r.styleSpec,p=h.fog;let v=[];const T=bi(i);if(i===void 0)return v;if(T!=="object")return v=v.concat([new Gi("fog",i,`object expected, ${T} found`)]),v;for(const R in i){const K=R.match(/^(.*)-transition$/);v=v.concat(K&&p[K[1]]&&p[K[1]].transition?Cn({key:R,value:i[R],valueSpec:h.transition,style:o,styleSpec:h}):p[R]?Cn({key:R,value:i[R],valueSpec:p[R],style:o,styleSpec:h}):[new Gi(R,i[R],`unknown property "${R}"`)])}return v}const ca={"*":()=>[],array:Sc,boolean:function(r){const i=r.value,o=r.key,h=bi(i);return h!=="boolean"?[new Gi(o,i,`boolean expected, ${h} found`)]:[]},number:md,color:function(r){const i=r.key,o=r.value,h=bi(o);return h!=="string"?[new Gi(i,o,`color expected, ${h} found`)]:Il(o)===null?[new Gi(i,o,`color expected, "${o}" found`)]:[]},enum:fu,filter:Cc,function:pu,layer:gu,object:wa,source:zh,light:qe,terrain:Xl,fog:yd,string:Wl,formatted:function(r){return Wl(r).length===0?[]:Ih(r)},resolvedImage:function(r){return Wl(r).length===0?[]:Ih(r)},projection:function(r){const i=r.value,o=r.styleSpec,h=o.projection,p=r.style;let v=[];const T=bi(i);if(T==="object")for(const R in i)v=v.concat(Cn({key:R,value:i[R],valueSpec:h[R],style:p,styleSpec:o}));else T!=="string"&&(v=v.concat([new Gi("projection",i,`object or string expected, ${T} found`)]));return v}};function Cn(r){const i=r.value,o=r.valueSpec,h=r.styleSpec;return o.expression&&mn(ar(i))?pu(r):o.expression&&As(lr(i))?Ih(r):o.type&&ca[o.type]?ca[o.type](r):wa(Go({},r,{valueSpec:o.type?h[o.type]:o}))}function Rm(r){const i=r.value,o=r.key,h=Wl(r);return h.length||(i.indexOf("{fontstack}")===-1&&h.push(new Gi(o,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&h.push(new Gi(o,i,'"glyphs" url must include a "{range}" token'))),h}function Cp(r,i=ni){return Yl(Cn({key:"",value:r,valueSpec:i.$root,styleSpec:i,style:r,objectElementValidators:{glyphs:Rm,"*":()=>[]}}))}const Bm=r=>Yl(Sp(r)),ih=r=>Yl(Yf(r));function Yl(r){return r.slice().sort((i,o)=>i.line&&o.line?i.line-o.line:0)}function qf(r,i){let o=!1;if(i&&i.length)for(const h of i)r.fire(new sl(new Error(h.message))),o=!0;return o}var Fh=dl;function dl(r,i,o){var h=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;var p=new Int32Array(this.arrayBuffer);r=p[0],this.d=(i=p[1])+2*(o=p[2]);for(var v=0;v<this.d*this.d;v++){var T=p[3+v],R=p[3+v+1];h.push(T===R?null:p.subarray(T,R))}var K=p[3+h.length+1];this.keys=p.subarray(p[3+h.length],K),this.bboxes=p.subarray(K),this.insert=this._insertReadonly}else{this.d=i+2*o;for(var ie=0;ie<this.d*this.d;ie++)h.push([]);this.keys=[],this.bboxes=[]}this.n=i,this.extent=r,this.padding=o,this.scale=i/r,this.uid=0;var fe=o/i*r;this.min=-fe,this.max=r+fe}dl.prototype.insert=function(r,i,o,h,p){this._forEachCell(i,o,h,p,this._insertCell,this.uid++),this.keys.push(r),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(h),this.bboxes.push(p)},dl.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},dl.prototype._insertCell=function(r,i,o,h,p,v){this.cells[p].push(v)},dl.prototype.query=function(r,i,o,h,p){var v=this.min,T=this.max;if(r<=v&&i<=v&&T<=o&&T<=h&&!p)return Array.prototype.slice.call(this.keys);var R=[];return this._forEachCell(r,i,o,h,this._queryCell,R,{},p),R},dl.prototype._queryCell=function(r,i,o,h,p,v,T,R){var K=this.cells[p];if(K!==null)for(var ie=this.keys,fe=this.bboxes,we=0;we<K.length;we++){var Te=K[we];if(T[Te]===void 0){var De=4*Te;(R?R(fe[De+0],fe[De+1],fe[De+2],fe[De+3]):r<=fe[De+2]&&i<=fe[De+3]&&o>=fe[De+0]&&h>=fe[De+1])?(T[Te]=!0,v.push(ie[Te])):T[Te]=!1}}},dl.prototype._forEachCell=function(r,i,o,h,p,v,T,R){for(var K=this._convertToCellCoord(r),ie=this._convertToCellCoord(i),fe=this._convertToCellCoord(o),we=this._convertToCellCoord(h),Te=K;Te<=fe;Te++)for(var De=ie;De<=we;De++){var Le=this.d*De+Te;if((!R||R(this._convertFromCellCoord(Te),this._convertFromCellCoord(De),this._convertFromCellCoord(Te+1),this._convertFromCellCoord(De+1)))&&p.call(this,r,i,o,h,Le,v,T,R))return}},dl.prototype._convertFromCellCoord=function(r){return(r-this.padding)/this.scale},dl.prototype._convertToCellCoord=function(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))},dl.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var r=this.cells,i=3+this.cells.length+1+1,o=0,h=0;h<this.cells.length;h++)o+=this.cells[h].length;var p=new Int32Array(i+o+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var v=i,T=0;T<r.length;T++){var R=r[T];p[3+T]=v,p.set(R,v),v+=R.length}return p[3+r.length]=v,p.set(this.keys,v),p[3+r.length+1]=v+=this.keys.length,p.set(this.bboxes,v),v+=this.bboxes.length,p.buffer};const _u={};function zi(r,i,o={}){Object.defineProperty(r,"_classRegistryKey",{value:i,writeable:!1}),_u[i]={klass:r,omit:o.omit||[]}}zi(Object,"Object"),Fh.serialize=function(r,i){const o=r.toArrayBuffer();return i&&i.push(o),{buffer:o}},Fh.deserialize=function(r){return new Fh(r.buffer)},Object.defineProperty(Fh,"name",{value:"Grid"}),zi(Fh,"Grid"),zi(ir,"Color"),zi(Error,"Error"),zi(Ai,"AJAXError"),zi($o,"ResolvedImage"),zi($l,"StylePropertyFunction"),zi(Xr,"StyleExpression",{omit:["_evaluator"]}),zi(xr,"ZoomDependentExpression"),zi(Mo,"ZoomConstantExpression"),zi(ll,"CompoundExpression",{omit:["_evaluate"]});for(const r in Pt)_u[Pt[r]._classRegistryKey]||zi(Pt[r],`Expression${r}`);function Zf(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function Kf(r){return w.ImageBitmap&&r instanceof w.ImageBitmap}function Mc(r,i){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp)return r;if(Zf(r)||Kf(r))return i&&i.push(r),r;if(ArrayBuffer.isView(r)){const o=r;return i&&i.push(o.buffer),o}if(r instanceof w.ImageData)return i&&i.push(r.data.buffer),r;if(Array.isArray(r)){const o=[];for(const h of r)o.push(Mc(h,i));return o}if(typeof r=="object"){const o=r.constructor,h=o._classRegistryKey;if(!h)throw new Error(`can't serialize object of unregistered class ${h}`);const p=o.serialize?o.serialize(r,i):{};if(!o.serialize){for(const v in r)r.hasOwnProperty(v)&&(_u[h].omit.indexOf(v)>=0||(p[v]=Mc(r[v],i)));r instanceof Error&&(p.message=r.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(p.$name=h),p}throw new Error("can't serialize object of type "+typeof r)}function vd(r){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||Zf(r)||Kf(r)||ArrayBuffer.isView(r)||r instanceof w.ImageData)return r;if(Array.isArray(r))return r.map(vd);if(typeof r=="object"){const i=r.$name||"Object",{klass:o}=_u[i];if(!o)throw new Error(`can't deserialize unregistered class ${i}`);if(o.deserialize)return o.deserialize(r);const h=Object.create(o.prototype);for(const p of Object.keys(r))p!=="$name"&&(h[p]=vd(r[p]));return h}throw new Error("can't deserialize object of type "+typeof r)}const Mp=r=>r>=1536&&r<=1791,ul=r=>r>=1872&&r<=1919,Ap=r=>r>=2208&&r<=2303,kp=r=>r>=11904&&r<=12031,Pp=r=>r>=12032&&r<=12255,Dp=r=>r>=12272&&r<=12287,Nh=r=>r>=12288&&r<=12351,Wa=r=>r>=12352&&r<=12447,yu=r=>r>=12448&&r<=12543,Jf=r=>r>=12544&&r<=12591,ha=r=>r>=12704&&r<=12735,Qf=r=>r>=12736&&r<=12783,e0=r=>r>=12784&&r<=12799,t0=r=>r>=12800&&r<=13055,i0=r=>r>=13056&&r<=13311,n0=r=>r>=13312&&r<=19903,vu=r=>r>=19968&&r<=40959,Ip=r=>r>=40960&&r<=42127,s0=r=>r>=42128&&r<=42191,Lp=r=>r>=44032&&r<=55215,nh=r=>r>=63744&&r<=64255,_=r=>r>=64336&&r<=65023,a=r=>r>=65040&&r<=65055,u=r=>r>=65072&&r<=65103,x=r=>r>=65104&&r<=65135,D=r=>r>=65136&&r<=65279,B=r=>r>=65280&&r<=65519;function oe(r){for(const i of r)if(ke(i.charCodeAt(0)))return!0;return!1}function de(r){for(const i of r)if(!ge(i.charCodeAt(0)))return!1;return!0}function ge(r){return!(Mp(r)||ul(r)||Ap(r)||_(r)||D(r))}function ke(r){return!(r!==746&&r!==747&&(r<4352||!(ha(r)||Jf(r)||u(r)&&!(r>=65097&&r<=65103)||nh(r)||i0(r)||kp(r)||Qf(r)||!(!Nh(r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||n0(r)||vu(r)||t0(r)||(i=>i>=12592&&i<=12687)(r)||(i=>i>=43360&&i<=43391)(r)||(i=>i>=55216&&i<=55295)(r)||(i=>i>=4352&&i<=4607)(r)||Lp(r)||Wa(r)||Dp(r)||(i=>i>=12688&&i<=12703)(r)||Pp(r)||e0(r)||yu(r)&&r!==12540||!(!B(r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!x(r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||(i=>i>=5120&&i<=5759)(r)||(i=>i>=6320&&i<=6399)(r)||a(r)||(i=>i>=19904&&i<=19967)(r)||Ip(r)||s0(r))))}function Ce(r){return!(ke(r)||function(i){return!!((o=>o>=128&&o<=255)(i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||(o=>o>=8192&&o<=8303)(i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||(o=>o>=8448&&o<=8527)(i)||(o=>o>=8528&&o<=8591)(i)||(o=>o>=8960&&o<=9215)(i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||(o=>o>=9216&&o<=9279)(i)&&i!==9251||(o=>o>=9280&&o<=9311)(i)||(o=>o>=9312&&o<=9471)(i)||(o=>o>=9632&&o<=9727)(i)||(o=>o>=9728&&o<=9983)(i)&&!(i>=9754&&i<=9759)||(o=>o>=11008&&o<=11263)(i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||Nh(i)||yu(i)||(o=>o>=57344&&o<=63743)(i)||u(i)||x(i)||B(i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(r))}function Re(r){return r>=1424&&r<=2303||_(r)||D(r)}function $e(r,i){return!(!i&&Re(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||(o=>o>=6016&&o<=6143)(r))}function tt(r){for(const i of r)if(Re(i.charCodeAt(0)))return!0;return!1}const it="deferred",rt="loading",Xe="loaded";let Ze=null,ht="unavailable",nt=null;const ft=function(r){r&&typeof r=="string"&&r.indexOf("NetworkError")>-1&&(ht="error"),Ze&&Ze(r)};function Tt(){gt.fire(new ya("pluginStateChange",{pluginStatus:ht,pluginURL:nt}))}const gt=new To,kt=function(){return ht},Wt=function(){if(ht!==it||!nt)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ht=rt,Tt(),nt&&Zi({url:nt},r=>{r?ft(r):(ht=Xe,Tt())})},Nt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ht===Xe||Nt.applyArabicShaping!=null,isLoading:()=>ht===rt,setState(r){ht=r.pluginStatus,nt=r.pluginURL},isParsed:()=>Nt.applyArabicShaping!=null&&Nt.processBidirectionalText!=null&&Nt.processStyledBidirectionalText!=null,getPluginURL:()=>nt};class Dt{constructor(i,o){this.zoom=i,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.transition=o.transition,this.pitch=o.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(i){return function(o,h){for(const p of o)if(!$e(p.charCodeAt(0),h))return!1;return!0}(i,Nt.isLoaded())}}class pi{constructor(i,o){this.property=i,this.value=o,this.expression=function(h,p){if(mn(h))return new $l(h,p);if(As(h)){const v=Vl(h,p);if(v.result==="error")throw new Error(v.value.map(T=>`${T.key}: ${T.message}`).join(", "));return v.value}{let v=h;return typeof h=="string"&&p.type==="color"&&(v=ir.parse(h)),{kind:"constant",evaluate:()=>v}}}(o===void 0?i.specification.default:o,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,o,h){return this.property.possiblyEvaluate(this,i,o,h)}}class Ft{constructor(i){this.property=i,this.value=new pi(i,void 0)}transitioned(i,o){return new Yt(this.property,this.value,o,W({},i.transition,this.transition),i.now)}untransitioned(){return new Yt(this.property,this.value,null,{},0)}}class ri{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return ye(this._values[i].value.value)}setValue(i,o){this._values.hasOwnProperty(i)||(this._values[i]=new Ft(this._values[i].property)),this._values[i].value=new pi(this._values[i].property,o===null?void 0:ye(o))}getTransition(i){return ye(this._values[i].transition)}setTransition(i,o){this._values.hasOwnProperty(i)||(this._values[i]=new Ft(this._values[i].property)),this._values[i].transition=ye(o)||void 0}serialize(){const i={};for(const o of Object.keys(this._values)){const h=this.getValue(o);h!==void 0&&(i[o]=h);const p=this.getTransition(o);p!==void 0&&(i[`${o}-transition`]=p)}return i}transitioned(i,o){const h=new vi(this._properties);for(const p of Object.keys(this._values))h._values[p]=this._values[p].transitioned(i,o._values[p]);return h}untransitioned(){const i=new vi(this._properties);for(const o of Object.keys(this._values))i._values[o]=this._values[o].untransitioned();return i}}class Yt{constructor(i,o,h,p,v){const T=p.delay||0,R=p.duration||0;v=v||0,this.property=i,this.value=o,this.begin=v+T,this.end=this.begin+R,i.specification.transition&&(p.delay||p.duration)&&(this.prior=h)}possiblyEvaluate(i,o,h){const p=i.now||0,v=this.value.possiblyEvaluate(i,o,h),T=this.prior;if(T){if(p>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(p<this.begin)return T.possiblyEvaluate(i,o,h);{const R=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(i,o,h),v,M(R))}}return v}}class vi{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,o,h){const p=new wi(this._properties);for(const v of Object.keys(this._values))p._values[v]=this._values[v].possiblyEvaluate(i,o,h);return p}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class qt{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}getValue(i){return ye(this._values[i].value)}setValue(i,o){this._values[i]=new pi(this._values[i].property,o===null?void 0:ye(o))}serialize(){const i={};for(const o of Object.keys(this._values)){const h=this.getValue(o);h!==void 0&&(i[o]=h)}return i}possiblyEvaluate(i,o,h){const p=new wi(this._properties);for(const v of Object.keys(this._values))p._values[v]=this._values[v].possiblyEvaluate(i,o,h);return p}}class di{constructor(i,o,h){this.property=i,this.value=o,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,o,h,p){return this.property.evaluate(this.value,this.parameters,i,o,h,p)}}class wi{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Rt{constructor(i){this.specification=i}possiblyEvaluate(i,o){return i.expression.evaluate(o)}interpolate(i,o,h){const p=$r[this.specification.type];return p?p(i,o,h):i}}class Xt{constructor(i,o){this.specification=i,this.overrides=o}possiblyEvaluate(i,o,h,p){return new di(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(o,null,{},h,p)}:i.expression,o)}interpolate(i,o,h){if(i.value.kind!=="constant"||o.value.kind!=="constant")return i;if(i.value.value===void 0||o.value.value===void 0)return new di(this,{kind:"constant",value:void 0},i.parameters);const p=$r[this.specification.type];return p?new di(this,{kind:"constant",value:p(i.value.value,o.value.value,h)},i.parameters):i}evaluate(i,o,h,p,v,T){return i.kind==="constant"?i.value:i.evaluate(o,h,p,v,T)}}class Hi{constructor(i){this.specification=i}possiblyEvaluate(i,o,h,p){return!!i.expression.evaluate(o,null,{},h,p)}interpolate(){return!1}}class nn{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const o=new Dt(0,{});for(const h in i){const p=i[h];p.specification.overridable&&this.overridableProperties.push(h);const v=this.defaultPropertyValues[h]=new pi(p,void 0),T=this.defaultTransitionablePropertyValues[h]=new Ft(p);this.defaultTransitioningPropertyValues[h]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=v.possiblyEvaluate(o)}}}function Wi(r,i){return 256*(r=y(Math.floor(r),0,255))+y(Math.floor(i),0,255)}zi(Xt,"DataDrivenProperty"),zi(Rt,"DataConstantProperty"),zi(Hi,"ColorRampProperty");const fn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Bn{constructor(i,o){this._structArray=i,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class rn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,o){return i._trim(),o&&(i.isTransferred=!0,o.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const o=Object.create(this.prototype);return o.arrayBuffer=i.arrayBuffer,o.length=i.length,o.capacity=i.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Vi(r,i=1){let o=0,h=0;return{members:r.map(p=>{const v=fn[p.type].BYTES_PER_ELEMENT,T=o=Es(o,Math.max(i,v)),R=p.components||1;return h=Math.max(h,v),o+=v*R,{name:p.name,type:p.type,components:R,offset:T}}),size:Es(o,Math.max(h,i)),alignment:i}}function Es(r,i){return Math.ceil(r/i)*i}class ds extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o){const h=this.length;return this.resize(h+1),this.emplace(h,i,o)}emplace(i,o,h){const p=2*i;return this.int16[p+0]=o,this.int16[p+1]=h,i}}ds.prototype.bytesPerElement=4,zi(ds,"StructArrayLayout2i4");class ks extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,h)}emplace(i,o,h,p){const v=3*i;return this.int16[v+0]=o,this.int16[v+1]=h,this.int16[v+2]=p,i}}ks.prototype.bytesPerElement=6,zi(ks,"StructArrayLayout3i6");class bs extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=4*i;return this.int16[T+0]=o,this.int16[T+1]=h,this.int16[T+2]=p,this.int16[T+3]=v,i}}bs.prototype.bytesPerElement=8,zi(bs,"StructArrayLayout4i8");class Yo extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R){const K=this.length;return this.resize(K+1),this.emplace(K,i,o,h,p,v,T,R)}emplace(i,o,h,p,v,T,R,K){const ie=6*i,fe=12*i,we=3*i;return this.int16[ie+0]=o,this.int16[ie+1]=h,this.uint8[fe+4]=p,this.uint8[fe+5]=v,this.uint8[fe+6]=T,this.uint8[fe+7]=R,this.float32[we+2]=K,i}}Yo.prototype.bytesPerElement=12,zi(Yo,"StructArrayLayout2i4ub1f12");class Ao extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=4*i;return this.float32[T+0]=o,this.float32[T+1]=h,this.float32[T+2]=p,this.float32[T+3]=v,i}}Ao.prototype.bytesPerElement=16,zi(Ao,"StructArrayLayout4f16");class mo extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,h,p,v)}emplace(i,o,h,p,v,T){const R=6*i,K=3*i;return this.uint16[R+0]=o,this.uint16[R+1]=h,this.uint16[R+2]=p,this.uint16[R+3]=v,this.float32[K+2]=T,i}}mo.prototype.bytesPerElement=12,zi(mo,"StructArrayLayout4ui1f12");class Xa extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=4*i;return this.uint16[T+0]=o,this.uint16[T+1]=h,this.uint16[T+2]=p,this.uint16[T+3]=v,i}}Xa.prototype.bytesPerElement=8,zi(Xa,"StructArrayLayout4ui8");class js extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T){const R=this.length;return this.resize(R+1),this.emplace(R,i,o,h,p,v,T)}emplace(i,o,h,p,v,T,R){const K=6*i;return this.int16[K+0]=o,this.int16[K+1]=h,this.int16[K+2]=p,this.int16[K+3]=v,this.int16[K+4]=T,this.int16[K+5]=R,i}}js.prototype.bytesPerElement=12,zi(js,"StructArrayLayout6i12");class ws extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R,K,ie,fe,we,Te){const De=this.length;return this.resize(De+1),this.emplace(De,i,o,h,p,v,T,R,K,ie,fe,we,Te)}emplace(i,o,h,p,v,T,R,K,ie,fe,we,Te,De){const Le=12*i;return this.int16[Le+0]=o,this.int16[Le+1]=h,this.int16[Le+2]=p,this.int16[Le+3]=v,this.uint16[Le+4]=T,this.uint16[Le+5]=R,this.uint16[Le+6]=K,this.uint16[Le+7]=ie,this.int16[Le+8]=fe,this.int16[Le+9]=we,this.int16[Le+10]=Te,this.int16[Le+11]=De,i}}ws.prototype.bytesPerElement=24,zi(ws,"StructArrayLayout4i4ui4i24");class as extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T){const R=this.length;return this.resize(R+1),this.emplace(R,i,o,h,p,v,T)}emplace(i,o,h,p,v,T,R){const K=10*i,ie=5*i;return this.int16[K+0]=o,this.int16[K+1]=h,this.int16[K+2]=p,this.float32[ie+2]=v,this.float32[ie+3]=T,this.float32[ie+4]=R,i}}as.prototype.bytesPerElement=20,zi(as,"StructArrayLayout3i3f20");class mr extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.uint32[1*i+0]=o,i}}mr.prototype.bytesPerElement=4,zi(mr,"StructArrayLayout1ul4");class oo extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R,K,ie,fe,we,Te,De){const Le=this.length;return this.resize(Le+1),this.emplace(Le,i,o,h,p,v,T,R,K,ie,fe,we,Te,De)}emplace(i,o,h,p,v,T,R,K,ie,fe,we,Te,De,Le){const Ne=20*i,Ye=10*i;return this.int16[Ne+0]=o,this.int16[Ne+1]=h,this.int16[Ne+2]=p,this.int16[Ne+3]=v,this.int16[Ne+4]=T,this.float32[Ye+3]=R,this.float32[Ye+4]=K,this.float32[Ye+5]=ie,this.float32[Ye+6]=fe,this.int16[Ne+14]=we,this.uint32[Ye+8]=Te,this.uint16[Ne+18]=De,this.uint16[Ne+19]=Le,i}}oo.prototype.bytesPerElement=40,zi(oo,"StructArrayLayout5i4f1i1ul2ui40");class Us extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R){const K=this.length;return this.resize(K+1),this.emplace(K,i,o,h,p,v,T,R)}emplace(i,o,h,p,v,T,R,K){const ie=8*i;return this.int16[ie+0]=o,this.int16[ie+1]=h,this.int16[ie+2]=p,this.int16[ie+4]=v,this.int16[ie+5]=T,this.int16[ie+6]=R,this.int16[ie+7]=K,i}}Us.prototype.bytesPerElement=16,zi(Us,"StructArrayLayout3i2i2i16");class go extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,h,p,v)}emplace(i,o,h,p,v,T){const R=4*i,K=8*i;return this.float32[R+0]=o,this.float32[R+1]=h,this.float32[R+2]=p,this.int16[K+6]=v,this.int16[K+7]=T,i}}go.prototype.bytesPerElement=16,zi(go,"StructArrayLayout2f1f2i16");class xd extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=12*i,R=3*i;return this.uint8[T+0]=o,this.uint8[T+1]=h,this.float32[R+1]=p,this.float32[R+2]=v,i}}xd.prototype.bytesPerElement=12,zi(xd,"StructArrayLayout2ub2f12");class Ya extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,h)}emplace(i,o,h,p){const v=3*i;return this.float32[v+0]=o,this.float32[v+1]=h,this.float32[v+2]=p,i}}Ya.prototype.bytesPerElement=12,zi(Ya,"StructArrayLayout3f12");class ao extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,h)}emplace(i,o,h,p){const v=3*i;return this.uint16[v+0]=o,this.uint16[v+1]=h,this.uint16[v+2]=p,i}}ao.prototype.bytesPerElement=6,zi(ao,"StructArrayLayout3ui6");class qo extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R,K,ie,fe,we,Te,De,Le,Ne,Ye,ut,yt,dt,mt,St){const bt=this.length;return this.resize(bt+1),this.emplace(bt,i,o,h,p,v,T,R,K,ie,fe,we,Te,De,Le,Ne,Ye,ut,yt,dt,mt,St)}emplace(i,o,h,p,v,T,R,K,ie,fe,we,Te,De,Le,Ne,Ye,ut,yt,dt,mt,St,bt){const Ht=30*i,$t=15*i,oi=60*i;return this.int16[Ht+0]=o,this.int16[Ht+1]=h,this.int16[Ht+2]=p,this.float32[$t+2]=v,this.float32[$t+3]=T,this.uint16[Ht+8]=R,this.uint16[Ht+9]=K,this.uint32[$t+5]=ie,this.uint32[$t+6]=fe,this.uint32[$t+7]=we,this.uint16[Ht+16]=Te,this.uint16[Ht+17]=De,this.uint16[Ht+18]=Le,this.float32[$t+10]=Ne,this.float32[$t+11]=Ye,this.uint8[oi+48]=ut,this.uint8[oi+49]=yt,this.uint8[oi+50]=dt,this.uint32[$t+13]=mt,this.int16[Ht+28]=St,this.uint8[oi+58]=bt,i}}qo.prototype.bytesPerElement=60,zi(qo,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class pl extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R,K,ie,fe,we,Te,De,Le,Ne,Ye,ut,yt,dt,mt,St,bt,Ht,$t,oi,Ei,Zt,ai,ui,gi){const Ci=this.length;return this.resize(Ci+1),this.emplace(Ci,i,o,h,p,v,T,R,K,ie,fe,we,Te,De,Le,Ne,Ye,ut,yt,dt,mt,St,bt,Ht,$t,oi,Ei,Zt,ai,ui,gi)}emplace(i,o,h,p,v,T,R,K,ie,fe,we,Te,De,Le,Ne,Ye,ut,yt,dt,mt,St,bt,Ht,$t,oi,Ei,Zt,ai,ui,gi,Ci){const Jt=38*i,Ii=19*i;return this.int16[Jt+0]=o,this.int16[Jt+1]=h,this.int16[Jt+2]=p,this.float32[Ii+2]=v,this.float32[Ii+3]=T,this.int16[Jt+8]=R,this.int16[Jt+9]=K,this.int16[Jt+10]=ie,this.int16[Jt+11]=fe,this.int16[Jt+12]=we,this.int16[Jt+13]=Te,this.uint16[Jt+14]=De,this.uint16[Jt+15]=Le,this.uint16[Jt+16]=Ne,this.uint16[Jt+17]=Ye,this.uint16[Jt+18]=ut,this.uint16[Jt+19]=yt,this.uint16[Jt+20]=dt,this.uint16[Jt+21]=mt,this.uint16[Jt+22]=St,this.uint16[Jt+23]=bt,this.uint16[Jt+24]=Ht,this.uint16[Jt+25]=$t,this.uint16[Jt+26]=oi,this.uint16[Jt+27]=Ei,this.uint16[Jt+28]=Zt,this.uint32[Ii+15]=ai,this.float32[Ii+16]=ui,this.float32[Ii+17]=gi,this.float32[Ii+18]=Ci,i}}pl.prototype.bytesPerElement=76,zi(pl,"StructArrayLayout3i2f6i15ui1ul3f76");class Ta extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.float32[1*i+0]=o,i}}Ta.prototype.bytesPerElement=4,zi(Ta,"StructArrayLayout1f4");class jn extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,h,p,v)}emplace(i,o,h,p,v,T){const R=5*i;return this.float32[R+0]=o,this.float32[R+1]=h,this.float32[R+2]=p,this.float32[R+3]=v,this.float32[R+4]=T,i}}jn.prototype.bytesPerElement=20,zi(jn,"StructArrayLayout5f20");class jh extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=6*i;return this.uint32[3*i+0]=o,this.uint16[T+2]=h,this.uint16[T+3]=p,this.uint16[T+4]=v,i}}jh.prototype.bytesPerElement=12,zi(jh,"StructArrayLayout1ul3ui12");class fl extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o){const h=this.length;return this.resize(h+1),this.emplace(h,i,o)}emplace(i,o,h){const p=2*i;return this.uint16[p+0]=o,this.uint16[p+1]=h,i}}fl.prototype.bytesPerElement=4,zi(fl,"StructArrayLayout2ui4");class sh extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.uint16[1*i+0]=o,i}}sh.prototype.bytesPerElement=2,zi(sh,"StructArrayLayout1ui2");class Op extends rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o){const h=this.length;return this.resize(h+1),this.emplace(h,i,o)}emplace(i,o,h){const p=2*i;return this.float32[p+0]=o,this.float32[p+1]=h,i}}Op.prototype.bytesPerElement=8,zi(Op,"StructArrayLayout2f8");class t_ extends Bn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}t_.prototype.size=40;class zm extends oo{get(i){return new t_(this,i)}}zi(zm,"CollisionBoxArray");class qa extends Bn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(i){this._structArray.uint8[this._pos1+49]=i}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(i){this._structArray.uint8[this._pos1+50]=i}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(i){this._structArray.uint32[this._pos4+13]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(i){this._structArray.uint8[this._pos1+58]=i}}qa.prototype.size=60;class i_ extends qo{get(i){return new qa(this,i)}}zi(i_,"PlacedSymbolArray");class Rp extends Bn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(i){this._structArray.uint32[this._pos4+15]=i}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Rp.prototype.size=76;class r0 extends pl{get(i){return new Rp(this,i)}}zi(r0,"SymbolInstanceArray");class Fm extends Ta{getoffsetX(i){return this.float32[1*i+0]}}zi(Fm,"GlyphOffsetArray");class Nm extends ds{getx(i){return this.int16[2*i+0]}gety(i){return this.int16[2*i+1]}}zi(Nm,"SymbolLineVertexArray");class Sa extends Bn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Sa.prototype.size=12;class rh extends jh{get(i){return new Sa(this,i)}}zi(rh,"FeatureIndexArray");class o0 extends fl{geta_centroid_pos0(i){return this.uint16[2*i+0]}geta_centroid_pos1(i){return this.uint16[2*i+1]}}zi(o0,"FillExtrusionCentroidArray");const n_=Vi([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),a0=Vi([{name:"a_dash",components:4,type:"Uint16"}]);var bd={exports:{}},l0={exports:{}};l0.exports=function(r,i){var o,h,p,v,T,R,K,ie;for(h=r.length-(o=3&r.length),p=i,T=3432918353,R=461845907,ie=0;ie<h;)K=255&r.charCodeAt(ie)|(255&r.charCodeAt(++ie))<<8|(255&r.charCodeAt(++ie))<<16|(255&r.charCodeAt(++ie))<<24,++ie,p=27492+(65535&(v=5*(65535&(p=(p^=K=(65535&(K=(K=(65535&K)*T+(((K>>>16)*T&65535)<<16)&4294967295)<<15|K>>>17))*R+(((K>>>16)*R&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(K=0,o){case 3:K^=(255&r.charCodeAt(ie+2))<<16;case 2:K^=(255&r.charCodeAt(ie+1))<<8;case 1:p^=K=(65535&(K=(K=(65535&(K^=255&r.charCodeAt(ie)))*T+(((K>>>16)*T&65535)<<16)&4294967295)<<15|K>>>17))*R+(((K>>>16)*R&65535)<<16)&4294967295}return p^=r.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var jm={exports:{}};jm.exports=function(r,i){for(var o,h=r.length,p=i^h,v=0;h>=4;)o=1540483477*(65535&(o=255&r.charCodeAt(v)|(255&r.charCodeAt(++v))<<8|(255&r.charCodeAt(++v))<<16|(255&r.charCodeAt(++v))<<24))+((1540483477*(o>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),h-=4,++v;switch(h){case 3:p^=(255&r.charCodeAt(v+2))<<16;case 2:p^=(255&r.charCodeAt(v+1))<<8;case 1:p=1540483477*(65535&(p^=255&r.charCodeAt(v)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var c0=l0.exports,Um=jm.exports;bd.exports=c0,bd.exports.murmur3=c0,bd.exports.murmur2=Um;class ql{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,o,h,p){this.ids.push(s_(i)),this.positions.push(o,h,p)}getPositions(i){const o=s_(i);let h=0,p=this.ids.length-1;for(;h<p;){const T=h+p>>1;this.ids[T]>=o?p=T:h=T+1}const v=[];for(;this.ids[h]===o;)v.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return v}static serialize(i,o){const h=new Float64Array(i.ids),p=new Uint32Array(i.positions);return Ac(h,p,0,h.length-1),o&&o.push(h.buffer,p.buffer),{ids:h,positions:p}}static deserialize(i){const o=new ql;return o.ids=i.ids,o.positions=i.positions,o.indexed=!0,o}}function s_(r){const i=+r;return!isNaN(i)&&Number.MIN_SAFE_INTEGER<=i&&i<=Number.MAX_SAFE_INTEGER?i:bd.exports(String(r))}function Ac(r,i,o,h){for(;o<h;){const p=r[o+h>>1];let v=o-1,T=h+1;for(;;){do v++;while(r[v]<p);do T--;while(r[T]>p);if(v>=T)break;Bp(r,v,T),Bp(i,3*v,3*T),Bp(i,3*v+1,3*T+1),Bp(i,3*v+2,3*T+2)}T-o<h-T?(Ac(r,i,o,T),o=T+1):(Ac(r,i,T+1,h),h=T)}}function Bp(r,i,o){const h=r[i];r[i]=r[o],r[o]=h}zi(ql,"FeaturePositionMap");class kc{constructor(i){this.gl=i.gl,this.initialized=!1}fetchUniformLocation(i,o){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(i,o),this.initialized=!0),!!this.location}}class xu extends kc{constructor(i){super(i),this.current=0}set(i,o,h){this.fetchUniformLocation(i,o)&&this.current!==h&&(this.current=h,this.gl.uniform1f(this.location,h))}}class r_ extends kc{constructor(i){super(i),this.current=[0,0,0,0]}set(i,o,h){this.fetchUniformLocation(i,o)&&(h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]&&h[3]===this.current[3]||(this.current=h,this.gl.uniform4f(this.location,h[0],h[1],h[2],h[3])))}}class o_ extends kc{constructor(i){super(i),this.current=ir.transparent}set(i,o,h){this.fetchUniformLocation(i,o)&&(h.r===this.current.r&&h.g===this.current.g&&h.b===this.current.b&&h.a===this.current.a||(this.current=h,this.gl.uniform4f(this.location,h.r,h.g,h.b,h.a)))}}const Ix=new Float32Array(16),a_=new Float32Array(9),l_=new Float32Array(4);function Gm(r){return[Wi(255*r.r,255*r.g),Wi(255*r.b,255*r.a)]}class bu{constructor(i,o,h){this.value=i,this.uniformNames=o.map(p=>`u_${p}`),this.type=h}setUniform(i,o,h,p,v){o.set(i,v,p.constantOr(this.value))}getBinding(i,o){return this.type==="color"?new o_(i):new xu(i)}}class wd{constructor(i,o){this.uniformNames=o.map(h=>`u_${h}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(i){this.pixelRatio=i.pixelRatio||1,this.pattern=i.tl.concat(i.br)}setUniform(i,o,h,p,v){const T=v==="u_pattern"||v==="u_dash"?this.pattern:v==="u_pixel_ratio"?this.pixelRatio:null;T&&o.set(i,v,T)}getBinding(i,o){return o==="u_pattern"||o==="u_dash"?new r_(i):new xu(i)}}class zr{constructor(i,o,h,p){this.expression=i,this.type=h,this.maxValue=0,this.paintVertexAttributes=o.map(v=>({name:`a_${v}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(i,o,h,p,v,T){const R=this.paintVertexArray.length,K=this.expression.evaluate(new Dt(0),o,{},v,p,T);this.paintVertexArray.resize(i),this._setPaintValue(R,i,K)}updatePaintArray(i,o,h,p,v){const T=this.expression.evaluate({zoom:0},h,p,void 0,v);this._setPaintValue(i,o,T)}_setPaintValue(i,o,h){if(this.type==="color"){const p=Gm(h);for(let v=i;v<o;v++)this.paintVertexArray.emplace(v,p[0],p[1])}else{for(let p=i;p<o;p++)this.paintVertexArray.emplace(p,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Qr{constructor(i,o,h,p,v,T){this.expression=i,this.uniformNames=o.map(R=>`u_${R}_t`),this.type=h,this.useIntegerZoom=p,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=o.map(R=>({name:`a_${R}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(i,o,h,p,v,T){const R=this.expression.evaluate(new Dt(this.zoom),o,{},v,p,T),K=this.expression.evaluate(new Dt(this.zoom+1),o,{},v,p,T),ie=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(ie,i,R,K)}updatePaintArray(i,o,h,p,v){const T=this.expression.evaluate({zoom:this.zoom},h,p,void 0,v),R=this.expression.evaluate({zoom:this.zoom+1},h,p,void 0,v);this._setPaintValue(i,o,T,R)}_setPaintValue(i,o,h,p){if(this.type==="color"){const v=Gm(h),T=Gm(p);for(let R=i;R<o;R++)this.paintVertexArray.emplace(R,v[0],v[1],T[0],T[1])}else{for(let v=i;v<o;v++)this.paintVertexArray.emplace(v,h,p);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(p))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,o,h,p,v){const T=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,R=y(this.expression.interpolationFactor(T,this.zoom,this.zoom+1),0,1);o.set(i,v,R)}getBinding(i,o){return new xu(i)}}class Uh{constructor(i,o,h,p,v){this.expression=i,this.layerId=v,this.paintVertexAttributes=(h==="array"?a0:n_).members;for(let T=0;T<o.length;++T);this.paintVertexArray=new p}populatePaintArray(i,o,h){const p=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValues(p,i,o.patterns&&o.patterns[this.layerId],h)}updatePaintArray(i,o,h,p,v,T){this._setPaintValues(i,o,h.patterns&&h.patterns[this.layerId],T)}_setPaintValues(i,o,h,p){if(!p||!h)return;const v=p[h];if(!v)return;const{tl:T,br:R,pixelRatio:K}=v;for(let ie=i;ie<o;ie++)this.paintVertexArray.emplace(ie,T[0],T[1],R[0],R[1],K)}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Gh{constructor(i,o,h=()=>!0){this.binders={},this._buffers=[];const p=[];for(const v in i.paint._values){if(!h(v))continue;const T=i.paint.get(v);if(!(T instanceof di&&Qt(T.property.specification)))continue;const R=c_(v,i.type),K=T.value,ie=T.property.specification.type,fe=T.property.useIntegerZoom,we=v==="line-dasharray"||v.endsWith("pattern"),Te=v==="line-dasharray"&&i.layout.get("line-cap").value.kind!=="constant";if(K.kind!=="constant"||Te)if(K.kind==="source"||Te||we){const De=Vm(v,ie,"source");this.binders[v]=we?new Uh(K,R,ie,De,i.id):new zr(K,R,ie,De),p.push(`/a_${v}`)}else{const De=Vm(v,ie,"composite");this.binders[v]=new Qr(K,R,ie,fe,o,De),p.push(`/z_${v}`)}else this.binders[v]=we?new wd(K.value,R):new bu(K.value,R,ie),p.push(`/u_${v}`)}this.cacheKey=p.sort().join("")}getMaxValue(i){const o=this.binders[i];return o instanceof zr||o instanceof Qr?o.maxValue:0}populatePaintArrays(i,o,h,p,v,T){for(const R in this.binders){const K=this.binders[R];(K instanceof zr||K instanceof Qr||K instanceof Uh)&&K.populatePaintArray(i,o,h,p,v,T)}}setConstantPatternPositions(i){for(const o in this.binders){const h=this.binders[o];h instanceof wd&&h.setConstantPatternPositions(i)}}updatePaintArrays(i,o,h,p,v,T){let R=!1;for(const K in i){const ie=o.getPositions(K);for(const fe of ie){const we=h.feature(fe.index);for(const Te in this.binders){const De=this.binders[Te];if((De instanceof zr||De instanceof Qr||De instanceof Uh)&&De.expression.isStateDependent===!0){const Le=p.paint.get(Te);De.expression=Le.value,De.updatePaintArray(fe.start,fe.end,we,i[K],v,T),R=!0}}}}return R}defines(){const i=[];for(const o in this.binders){const h=this.binders[o];(h instanceof bu||h instanceof wd)&&i.push(...h.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return i}getBinderAttributes(){const i=[];for(const o in this.binders){const h=this.binders[o];if(h instanceof zr||h instanceof Qr||h instanceof Uh)for(let p=0;p<h.paintVertexAttributes.length;p++)i.push(h.paintVertexAttributes[p].name)}return i}getBinderUniforms(){const i=[];for(const o in this.binders){const h=this.binders[o];if(h instanceof bu||h instanceof wd||h instanceof Qr)for(const p of h.uniformNames)i.push(p)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i){const o=[];for(const h in this.binders){const p=this.binders[h];if(p instanceof bu||p instanceof wd||p instanceof Qr)for(const v of p.uniformNames)o.push({name:v,property:h,binding:p.getBinding(i,v)})}return o}setUniforms(i,o,h,p,v){for(const{name:T,property:R,binding:K}of h)this.binders[R].setUniform(i,K,v,p.get(R),T)}updatePaintBuffers(){this._buffers=[];for(const i in this.binders){const o=this.binders[i];(o instanceof zr||o instanceof Qr||o instanceof Uh)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}}upload(i){for(const o in this.binders){const h=this.binders[o];(h instanceof zr||h instanceof Qr||h instanceof Uh)&&h.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const o=this.binders[i];(o instanceof zr||o instanceof Qr||o instanceof Uh)&&o.destroy()}}}class Pc{constructor(i,o,h=()=>!0){this.programConfigurations={};for(const p of i)this.programConfigurations[p.id]=new Gh(p,o,h);this.needsUpload=!1,this._featureMap=new ql,this._bufferOffset=0}populatePaintArrays(i,o,h,p,v,T,R){for(const K in this.programConfigurations)this.programConfigurations[K].populatePaintArrays(i,o,p,v,T,R);o.id!==void 0&&this._featureMap.add(o.id,h,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,o,h,p,v){for(const T of h)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(i,this._featureMap,o,T,p,v)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const o in this.programConfigurations)this.programConfigurations[o].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}const wu={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function c_(r,i){return wu[r]||[r.replace(`${i}-`,"").replace(/-/g,"_")]}const h_={"line-pattern":{source:mo,composite:mo},"fill-pattern":{source:mo,composite:mo},"fill-extrusion-pattern":{source:mo,composite:mo},"line-dasharray":{source:Xa,composite:Xa}},Lx={color:{source:Op,composite:Ao},number:{source:Ta,composite:Op}};function Vm(r,i,o){const h=h_[r];return h&&h[o]||Lx[i][o]}zi(bu,"ConstantBinder"),zi(wd,"PatternConstantBinder"),zi(zr,"SourceExpressionBinder"),zi(Uh,"PatternCompositeBinder"),zi(Qr,"CompositeExpressionBinder"),zi(Gh,"ProgramConfiguration",{omit:["_buffers"]}),zi(Pc,"ProgramConfigurationSet");const oh="-transition";class da extends To{constructor(i,o){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&i.type!=="sky"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),o.layout&&(this._unevaluatedLayout=new qt(o.layout)),o.paint)){this._transitionablePaint=new ri(o.paint);for(const h in i.paint)this.setPaintProperty(h,i.paint[h],{validate:!1});for(const h in i.layout)this.setLayoutProperty(h,i.layout[h],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new wi(o.paint)}}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,o,h={}){o!=null&&this._validate(ih,`layers.${this.id}.layout.${i}`,i,o,h)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,o):this.visibility=o)}getPaintProperty(i){return xe(i,oh)?this._transitionablePaint.getTransition(i.slice(0,-oh.length)):this._transitionablePaint.getValue(i)}setPaintProperty(i,o,h={}){if(o!=null&&this._validate(Bm,`layers.${this.id}.paint.${i}`,i,o,h))return!1;if(xe(i,oh))return this._transitionablePaint.setTransition(i.slice(0,-oh.length),o||void 0),!1;{const p=this._transitionablePaint._values[i],v=p.value.isDataDriven(),T=p.value;this._transitionablePaint.setValue(i,o),this._handleSpecialPaintPropertyUpdate(i);const R=this._transitionablePaint._values[i].value,K=R.isDataDriven(),ie=xe(i,"pattern")||i==="line-dasharray";return K||v||ie||this._handleOverridablePaintPropertyUpdate(i,T,R)}}_handleSpecialPaintPropertyUpdate(i){}getProgramIds(){return null}getProgramConfiguration(i){return null}_handleOverridablePaintPropertyUpdate(i,o,h){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,o){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,o)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,o)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),ce(i,(o,h)=>!(o===void 0||h==="layout"&&!Object.keys(o).length||h==="paint"&&!Object.keys(o).length))}_validate(i,o,h,p,v={}){return(!v||v.validate!==!1)&&qf(this,i.call(Cp,{key:o,layerType:this.type,objectKey:h,value:p,styleSpec:ni,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const o=this.paint.get(i);if(o instanceof di&&Qt(o.property.specification)&&(o.value.kind==="source"||o.value.kind==="composite")&&o.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=nr(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Ox=Vi([{name:"a_pos",components:2,type:"Int16"}],4),d_=Vi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Cr{constructor(i=[]){this.segments=i}prepareSegment(i,o,h,p){let v=this.segments[this.segments.length-1];return i>Cr.MAX_VERTEX_ARRAY_LENGTH&&le(`Max vertices per segment is ${Cr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!v||v.vertexLength+i>Cr.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==p)&&(v={vertexOffset:o.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0},p!==void 0&&(v.sortKey=p),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const i of this.segments)for(const o in i.vaos)i.vaos[o].destroy()}static simpleSegment(i,o,h,p){return new Cr([{vertexOffset:i,primitiveOffset:o,vertexLength:h,primitiveLength:p,vaos:{},sortKey:0}])}}Cr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zi(Cr,"SegmentVector");var cn=8192;class ah{constructor(i,o){i&&(o?this.setSouthWest(i).setNorthEast(o):i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1]))}setNorthEast(i){return this._ne=i instanceof Jn?new Jn(i.lng,i.lat):Jn.convert(i),this}setSouthWest(i){return this._sw=i instanceof Jn?new Jn(i.lng,i.lat):Jn.convert(i),this}extend(i){const o=this._sw,h=this._ne;let p,v;if(i instanceof Jn)p=i,v=i;else{if(!(i instanceof ah))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(ah.convert(i)):this.extend(Jn.convert(i)):typeof i=="object"&&i!==null&&i.hasOwnProperty("lat")&&i.hasOwnProperty("lon")?this.extend(Jn.convert(i)):this;if(p=i._sw,v=i._ne,!p||!v)return this}return o||h?(o.lng=Math.min(p.lng,o.lng),o.lat=Math.min(p.lat,o.lat),h.lng=Math.max(v.lng,h.lng),h.lat=Math.max(v.lat,h.lat)):(this._sw=new Jn(p.lng,p.lat),this._ne=new Jn(v.lng,v.lat)),this}getCenter(){return new Jn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Jn(this.getWest(),this.getNorth())}getSouthEast(){return new Jn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:o,lat:h}=Jn.convert(i);let p=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&p}static convert(i){return!i||i instanceof ah?i:new ah(i)}}const Td=63710088e-1;class Jn{constructor(i,o){if(isNaN(i)||isNaN(o))throw new Error(`Invalid LngLat object: (${i}, ${o})`);if(this.lng=+i,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Jn(S(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const o=Math.PI/180,h=this.lat*o,p=i.lat*o,v=Math.sin(h)*Math.sin(p)+Math.cos(h)*Math.cos(p)*Math.cos((i.lng-this.lng)*o);return Td*Math.acos(Math.min(v,1))}toBounds(i=0){const o=360*i/40075017,h=o/Math.cos(Math.PI/180*this.lat);return new ah(new Jn(this.lng-h,this.lat-o),new Jn(this.lng+h,this.lat+o))}static convert(i){if(i instanceof Jn)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new Jn(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new Jn(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const zp=2*Math.PI*Td;function $m(r){return zp*Math.cos(r*Math.PI/180)}function Zl(r){return(180+r)/360}function Za(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function Ka(r,i){return r/$m(i)}function ua(r){return 360*r-180}function _o(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}function Hm(r,i){return r*$m(_o(i))}const yo=85.051129;function Wm(r){return 1/Math.cos(r*Math.PI/180)}class Sd{constructor(i,o,h=0){this.x=+i,this.y=+o,this.z=+h}static fromLngLat(i,o=0){const h=Jn.convert(i);return new Sd(Zl(h.lng),Za(h.lat),Ka(o,h.lat))}toLngLat(){return new Jn(ua(this.x),_o(this.y))}toAltitude(){return Hm(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/zp*Wm(_o(this.y))}}function Xm(r,i,o,h,p,v,T,R,K){const ie=(i+h)/2,fe=(o+p)/2,we=new V(ie,fe);R(we),function(Te,De,Le,Ne,Ye,ut){const yt=Le-Ye,dt=Ne-ut;return Math.abs((Ne-De)*yt-(Le-Te)*dt)/Math.hypot(yt,dt)}(we.x,we.y,v.x,v.y,T.x,T.y)>=K?(Xm(r,i,o,ie,fe,v,we,R,K),Xm(r,ie,fe,h,p,we,T,R,K)):r.push(T)}function Ym(r,i,o){let h=r[0],p=h.x,v=h.y;i(h);const T=[h];for(let R=1;R<r.length;R++){const K=r[R],{x:ie,y:fe}=K;i(K),Xm(T,p,v,ie,fe,h,K,i,o),p=ie,v=fe,h=K}return T}function qm(r,i,o,h){if(h(i,o)){const p=i.add(o)._mult(.5);qm(r,i,p,h),qm(r,p,o,h)}else r.push(o)}function Rx(r,i){let o=r[0];const h=[o];for(let p=1;p<r.length;p++){const v=r[p];qm(h,o,v,i),o=v}return h}const Kl=Math.pow(2,14)-1,h0=-Kl-1;function Zm(r,i){const o=Math.round(r.x*i),h=Math.round(r.y*i);return r.x=y(o,h0,Kl),r.y=y(h,h0,Kl),(o<r.x||o>r.x+1||h<r.y||h>r.y+1)&&le("Geometry exceeds allowed extent, reduce your vector tile buffer size"),r}function Jl(r,i,o){const h=r.loadGeometry(),p=r.extent,v=cn/p;if(i&&o&&o.projection.isReprojectedInTileSpace){const T=1<<i.z,{scale:R,x:K,y:ie,projection:fe}=o,we=Te=>{const De=ua((i.x+Te.x/p)/T),Le=_o((i.y+Te.y/p)/T),Ne=fe.project(De,Le);Te.x=(Ne.x*R-K)*p,Te.y=(Ne.y*R-ie)*p};for(let Te=0;Te<h.length;Te++)if(r.type!==1)h[Te]=Ym(h[Te],we,1);else{const De=[];for(const Le of h[Te])Le.x<0||Le.x>=p||Le.y<0||Le.y>=p||(we(Le),De.push(Le));h[Te]=De}}for(const T of h)for(const R of T)Zm(R,v);return h}function Dc(r,i){return{type:r.type,id:r.id,properties:r.properties,geometry:i?Jl(r):[]}}function lh(r,i,o,h,p){r.emplaceBack(2*i+(h+1)/2,2*o+(p+1)/2)}function En(r,i,o){r.emplaceBack(i.x,i.y,i.z,o[0]*16384,o[1]*16384,o[2]*16384)}class Tu{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.projection=i.projection,this.layoutVertexArray=new ds,this.indexArray=new ao,this.segments=new Cr,this.programConfigurations=new Pc(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,h,p){const v=this.layers[0],T=[];let R=null;v.type==="circle"&&(R=v.layout.get("circle-sort-key"));for(const{feature:ie,id:fe,index:we,sourceLayerIndex:Te}of i){const De=this.layers[0]._featureFilter.needGeometry,Le=Dc(ie,De);if(!this.layers[0]._featureFilter.filter(new Dt(this.zoom),Le,h))continue;const Ne=R?R.evaluate(Le,{},h):void 0,Ye={id:fe,properties:ie.properties,type:ie.type,sourceLayerIndex:Te,index:we,geometry:De?Le.geometry:Jl(ie,h,p),patterns:{},sortKey:Ne};T.push(Ye)}R&&T.sort((ie,fe)=>ie.sortKey-fe.sortKey);let K=null;p.projection.name==="globe"&&(this.globeExtVertexArray=new js,K=p.projection);for(const ie of T){const{geometry:fe,index:we,sourceLayerIndex:Te}=ie,De=i[we].feature;this.addFeature(ie,fe,we,o.availableImages,h,K),o.featureIndex.insert(De,fe,we,Te,this.index)}}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Ox.members),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,d_.members))),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(i,o,h,p,v,T){for(const R of o)for(const K of R){const ie=K.x,fe=K.y;if(ie<0||ie>=cn||fe<0||fe>=cn)continue;if(T){const De=T.projectTilePoint(ie,fe,v),Le=T.upVector(v,ie,fe),Ne=this.globeExtVertexArray;En(Ne,De,Le),En(Ne,De,Le),En(Ne,De,Le),En(Ne,De,Le)}const we=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),Te=we.vertexLength;lh(this.layoutVertexArray,ie,fe,-1,-1),lh(this.layoutVertexArray,ie,fe,1,-1),lh(this.layoutVertexArray,ie,fe,1,1),lh(this.layoutVertexArray,ie,fe,-1,1),this.indexArray.emplaceBack(Te,Te+1,Te+2),this.indexArray.emplaceBack(Te,Te+2,Te+3),we.vertexLength+=4,we.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,{},p,v)}}function d0(r,i){for(let o=0;o<r.length;o++)if(Cd(i,r[o]))return!0;for(let o=0;o<i.length;o++)if(Cd(r,i[o]))return!0;return!!u0(r,i)}function Ed(r,i,o){return!!Cd(r,i)||!!Jm(i,r,o)}function u_(r,i){if(r.length===1)return Qm(i,r[0]);for(let o=0;o<i.length;o++){const h=i[o];for(let p=0;p<h.length;p++)if(Cd(r,h[p]))return!0}for(let o=0;o<r.length;o++)if(Qm(i,r[o]))return!0;for(let o=0;o<i.length;o++)if(u0(r,i[o]))return!0;return!1}function Km(r,i,o){if(r.length>1){if(u0(r,i))return!0;for(let h=0;h<i.length;h++)if(Jm(i[h],r,o))return!0}for(let h=0;h<r.length;h++)if(Jm(r[h],i,o))return!0;return!1}function u0(r,i){if(r.length===0||i.length===0)return!1;for(let o=0;o<r.length-1;o++){const h=r[o],p=r[o+1];for(let v=0;v<i.length-1;v++)if(Zo(h,p,i[v],i[v+1]))return!0}return!1}function Zo(r,i,o,h){return Z(r,o,h)!==Z(i,o,h)&&Z(r,i,o)!==Z(r,i,h)}function Jm(r,i,o){const h=o*o;if(i.length===1)return r.distSqr(i[0])<h;for(let p=1;p<i.length;p++)if(p_(r,i[p-1],i[p])<h)return!0;return!1}function p_(r,i,o){const h=i.distSqr(o);if(h===0)return r.distSqr(i);const p=((r.x-i.x)*(o.x-i.x)+(r.y-i.y)*(o.y-i.y))/h;return r.distSqr(p<0?i:p>1?o:o.sub(i)._mult(p)._add(i))}function Qm(r,i){let o,h,p,v=!1;for(let T=0;T<r.length;T++){o=r[T];for(let R=0,K=o.length-1;R<o.length;K=R++)h=o[R],p=o[K],h.y>i.y!=p.y>i.y&&i.x<(p.x-h.x)*(i.y-h.y)/(p.y-h.y)+h.x&&(v=!v)}return v}function Cd(r,i){let o=!1;for(let h=0,p=r.length-1;h<r.length;p=h++){const v=r[h],T=r[p];v.y>i.y!=T.y>i.y&&i.x<(T.x-v.x)*(i.y-v.y)/(T.y-v.y)+v.x&&(o=!o)}return o}function eg(r,i,o,h,p){for(const T of r)if(i<=T.x&&o<=T.y&&h>=T.x&&p>=T.y)return!0;const v=[new V(i,o),new V(i,p),new V(h,p),new V(h,o)];if(r.length>2){for(const T of v)if(Cd(r,T))return!0}for(let T=0;T<r.length-1;T++)if(Bx(r[T],r[T+1],v))return!0;return!1}function Bx(r,i,o){const h=o[0],p=o[2];if(r.x<h.x&&i.x<h.x||r.x>p.x&&i.x>p.x||r.y<h.y&&i.y<h.y||r.y>p.y&&i.y>p.y)return!1;const v=Z(r,i,o[0]);return v!==Z(r,i,o[1])||v!==Z(r,i,o[2])||v!==Z(r,i,o[3])}function Su(r,i,o){const h=i.paint.get(r).value;return h.kind==="constant"?h.value:o.programConfigurations.get(i.id).getMaxValue(r)}function p0(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Ic(r,i,o,h,p){if(!i[0]&&!i[1])return r;const v=V.convert(i)._mult(p);o==="viewport"&&v._rotate(-h);const T=[];for(let R=0;R<r.length;R++)T.push(r[R].sub(v));return T}function Ko(r,i,o,h){const p=V.convert(r)._mult(h);return i==="viewport"&&p._rotate(-o),p}zi(Tu,"CircleBucket",{omit:["layers"]});const tg=new nn({"circle-sort-key":new Xt(ni.layout_circle["circle-sort-key"])});var zx={paint:new nn({"circle-radius":new Xt(ni.paint_circle["circle-radius"]),"circle-color":new Xt(ni.paint_circle["circle-color"]),"circle-blur":new Xt(ni.paint_circle["circle-blur"]),"circle-opacity":new Xt(ni.paint_circle["circle-opacity"]),"circle-translate":new Rt(ni.paint_circle["circle-translate"]),"circle-translate-anchor":new Rt(ni.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Rt(ni.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Rt(ni.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Xt(ni.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Xt(ni.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Xt(ni.paint_circle["circle-stroke-opacity"])}),layout:tg},Eu=1e-6,Ea=typeof Float32Array<"u"?Float32Array:Array;function f_(){var r=new Ea(9);return Ea!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Cu(r,i,o){var h=i[0],p=i[1],v=i[2],T=i[3],R=i[4],K=i[5],ie=i[6],fe=i[7],we=i[8],Te=o[0],De=o[1],Le=o[2],Ne=o[3],Ye=o[4],ut=o[5],yt=o[6],dt=o[7],mt=o[8];return r[0]=Te*h+De*T+Le*ie,r[1]=Te*p+De*R+Le*fe,r[2]=Te*v+De*K+Le*we,r[3]=Ne*h+Ye*T+ut*ie,r[4]=Ne*p+Ye*R+ut*fe,r[5]=Ne*v+Ye*K+ut*we,r[6]=yt*h+dt*T+mt*ie,r[7]=yt*p+dt*R+mt*fe,r[8]=yt*v+dt*K+mt*we,r}function ml(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function f0(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=i[4],R=i[5],K=i[6],ie=i[7],fe=i[8],we=i[9],Te=i[10],De=i[11],Le=i[12],Ne=i[13],Ye=i[14],ut=i[15],yt=o*R-h*T,dt=o*K-p*T,mt=o*ie-v*T,St=h*K-p*R,bt=h*ie-v*R,Ht=p*ie-v*K,$t=fe*Ne-we*Le,oi=fe*Ye-Te*Le,Ei=fe*ut-De*Le,Zt=we*Ye-Te*Ne,ai=we*ut-De*Ne,ui=Te*ut-De*Ye,gi=yt*ui-dt*ai+mt*Zt+St*Ei-bt*oi+Ht*$t;return gi?(r[0]=(R*ui-K*ai+ie*Zt)*(gi=1/gi),r[1]=(p*ai-h*ui-v*Zt)*gi,r[2]=(Ne*Ht-Ye*bt+ut*St)*gi,r[3]=(Te*bt-we*Ht-De*St)*gi,r[4]=(K*Ei-T*ui-ie*oi)*gi,r[5]=(o*ui-p*Ei+v*oi)*gi,r[6]=(Ye*mt-Le*Ht-ut*dt)*gi,r[7]=(fe*Ht-Te*mt+De*dt)*gi,r[8]=(T*ai-R*Ei+ie*$t)*gi,r[9]=(h*Ei-o*ai-v*$t)*gi,r[10]=(Le*bt-Ne*mt+ut*yt)*gi,r[11]=(we*mt-fe*bt-De*yt)*gi,r[12]=(R*oi-T*Zt-K*$t)*gi,r[13]=(o*Zt-h*oi+p*$t)*gi,r[14]=(Ne*dt-Le*St-Ye*yt)*gi,r[15]=(fe*St-we*dt+Te*yt)*gi,r):null}function Md(r,i,o){var h=i[0],p=i[1],v=i[2],T=i[3],R=i[4],K=i[5],ie=i[6],fe=i[7],we=i[8],Te=i[9],De=i[10],Le=i[11],Ne=i[12],Ye=i[13],ut=i[14],yt=i[15],dt=o[0],mt=o[1],St=o[2],bt=o[3];return r[0]=dt*h+mt*R+St*we+bt*Ne,r[1]=dt*p+mt*K+St*Te+bt*Ye,r[2]=dt*v+mt*ie+St*De+bt*ut,r[3]=dt*T+mt*fe+St*Le+bt*yt,r[4]=(dt=o[4])*h+(mt=o[5])*R+(St=o[6])*we+(bt=o[7])*Ne,r[5]=dt*p+mt*K+St*Te+bt*Ye,r[6]=dt*v+mt*ie+St*De+bt*ut,r[7]=dt*T+mt*fe+St*Le+bt*yt,r[8]=(dt=o[8])*h+(mt=o[9])*R+(St=o[10])*we+(bt=o[11])*Ne,r[9]=dt*p+mt*K+St*Te+bt*Ye,r[10]=dt*v+mt*ie+St*De+bt*ut,r[11]=dt*T+mt*fe+St*Le+bt*yt,r[12]=(dt=o[12])*h+(mt=o[13])*R+(St=o[14])*we+(bt=o[15])*Ne,r[13]=dt*p+mt*K+St*Te+bt*Ye,r[14]=dt*v+mt*ie+St*De+bt*ut,r[15]=dt*T+mt*fe+St*Le+bt*yt,r}function Fp(r,i,o){var h,p,v,T,R,K,ie,fe,we,Te,De,Le,Ne=o[0],Ye=o[1],ut=o[2];return i===r?(r[12]=i[0]*Ne+i[4]*Ye+i[8]*ut+i[12],r[13]=i[1]*Ne+i[5]*Ye+i[9]*ut+i[13],r[14]=i[2]*Ne+i[6]*Ye+i[10]*ut+i[14],r[15]=i[3]*Ne+i[7]*Ye+i[11]*ut+i[15]):(p=i[1],v=i[2],T=i[3],R=i[4],K=i[5],ie=i[6],fe=i[7],we=i[8],Te=i[9],De=i[10],Le=i[11],r[0]=h=i[0],r[1]=p,r[2]=v,r[3]=T,r[4]=R,r[5]=K,r[6]=ie,r[7]=fe,r[8]=we,r[9]=Te,r[10]=De,r[11]=Le,r[12]=h*Ne+R*Ye+we*ut+i[12],r[13]=p*Ne+K*Ye+Te*ut+i[13],r[14]=v*Ne+ie*Ye+De*ut+i[14],r[15]=T*Ne+fe*Ye+Le*ut+i[15]),r}function Ad(r,i,o){var h=o[0],p=o[1],v=o[2];return r[0]=i[0]*h,r[1]=i[1]*h,r[2]=i[2]*h,r[3]=i[3]*h,r[4]=i[4]*p,r[5]=i[5]*p,r[6]=i[6]*p,r[7]=i[7]*p,r[8]=i[8]*v,r[9]=i[9]*v,r[10]=i[10]*v,r[11]=i[11]*v,r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],r}function ig(r,i,o){var h=Math.sin(o),p=Math.cos(o),v=i[4],T=i[5],R=i[6],K=i[7],ie=i[8],fe=i[9],we=i[10],Te=i[11];return i!==r&&(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[4]=v*p+ie*h,r[5]=T*p+fe*h,r[6]=R*p+we*h,r[7]=K*p+Te*h,r[8]=ie*p-v*h,r[9]=fe*p-T*h,r[10]=we*p-R*h,r[11]=Te*p-K*h,r}function Np(r,i,o){var h=Math.sin(o),p=Math.cos(o),v=i[0],T=i[1],R=i[2],K=i[3],ie=i[8],fe=i[9],we=i[10],Te=i[11];return i!==r&&(r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[0]=v*p-ie*h,r[1]=T*p-fe*h,r[2]=R*p-we*h,r[3]=K*p-Te*h,r[8]=v*h+ie*p,r[9]=T*h+fe*p,r[10]=R*h+we*p,r[11]=K*h+Te*p,r}function ng(r,i){return r[0]=i[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=i[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function m_(r,i,o){var h,p,v,T=o[0],R=o[1],K=o[2],ie=Math.hypot(T,R,K);return ie<Eu?null:(T*=ie=1/ie,R*=ie,K*=ie,h=Math.sin(i),p=Math.cos(i),r[0]=T*T*(v=1-p)+p,r[1]=R*T*v+K*h,r[2]=K*T*v-R*h,r[3]=0,r[4]=T*R*v-K*h,r[5]=R*R*v+p,r[6]=K*R*v+T*h,r[7]=0,r[8]=T*K*v+R*h,r[9]=R*K*v-T*h,r[10]=K*K*v+p,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}Math.hypot||(Math.hypot=function(){for(var r=0,i=arguments.length;i--;)r+=arguments[i]*arguments[i];return Math.sqrt(r)});var sg=Md;function m0(){var r=new Ea(3);return Ea!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function Mu(r){var i=new Ea(3);return i[0]=r[0],i[1]=r[1],i[2]=r[2],i}function kd(r){return Math.hypot(r[0],r[1],r[2])}function Pd(r,i,o){var h=new Ea(3);return h[0]=r,h[1]=i,h[2]=o,h}function Lc(r,i,o){return r[0]=i[0]+o[0],r[1]=i[1]+o[1],r[2]=i[2]+o[2],r}function Au(r,i,o){return r[0]=i[0]-o[0],r[1]=i[1]-o[1],r[2]=i[2]-o[2],r}function rg(r,i,o){return r[0]=i[0]*o[0],r[1]=i[1]*o[1],r[2]=i[2]*o[2],r}function Ca(r,i,o){return r[0]=Math.min(i[0],o[0]),r[1]=Math.min(i[1],o[1]),r[2]=Math.min(i[2],o[2]),r}function Ql(r,i,o){return r[0]=Math.max(i[0],o[0]),r[1]=Math.max(i[1],o[1]),r[2]=Math.max(i[2],o[2]),r}function Ja(r,i,o){return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r}function ku(r,i,o,h){return r[0]=i[0]+o[0]*h,r[1]=i[1]+o[1]*h,r[2]=i[2]+o[2]*h,r}function Jo(r,i){var o=i[0],h=i[1],p=i[2],v=o*o+h*h+p*p;return v>0&&(v=1/Math.sqrt(v)),r[0]=i[0]*v,r[1]=i[1]*v,r[2]=i[2]*v,r}function gl(r,i){return r[0]*i[0]+r[1]*i[1]+r[2]*i[2]}function og(r,i,o){var h=i[0],p=i[1],v=i[2],T=o[0],R=o[1],K=o[2];return r[0]=p*K-v*R,r[1]=v*T-h*K,r[2]=h*R-p*T,r}function br(r,i,o){var h=i[0],p=i[1],v=i[2],T=o[3]*h+o[7]*p+o[11]*v+o[15];return r[0]=(o[0]*h+o[4]*p+o[8]*v+o[12])/(T=T||1),r[1]=(o[1]*h+o[5]*p+o[9]*v+o[13])/T,r[2]=(o[2]*h+o[6]*p+o[10]*v+o[14])/T,r}function g_(r,i,o){var h=o[0],p=o[1],v=o[2],T=i[0],R=i[1],K=i[2],ie=p*K-v*R,fe=v*T-h*K,we=h*R-p*T,Te=p*we-v*fe,De=v*ie-h*we,Le=h*fe-p*ie,Ne=2*o[3];return fe*=Ne,we*=Ne,De*=2,Le*=2,r[0]=T+(ie*=Ne)+(Te*=2),r[1]=R+fe+De,r[2]=K+we+Le,r}var jp,ec=Au,Fx=rg,Nx=kd;function __(r,i,o){return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[3]=i[3]*o,r}function y_(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=o*o+h*h+p*p+v*v;return T>0&&(T=1/Math.sqrt(T)),r[0]=o*T,r[1]=h*T,r[2]=p*T,r[3]=v*T,r}function Vh(r,i,o){var h=i[0],p=i[1],v=i[2],T=i[3];return r[0]=o[0]*h+o[4]*p+o[8]*v+o[12]*T,r[1]=o[1]*h+o[5]*p+o[9]*v+o[13]*T,r[2]=o[2]*h+o[6]*p+o[10]*v+o[14]*T,r[3]=o[3]*h+o[7]*p+o[11]*v+o[15]*T,r}function ag(){var r=new Ea(4);return Ea!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function lg(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function v_(r,i,o){o*=.5;var h=i[0],p=i[1],v=i[2],T=i[3],R=Math.sin(o),K=Math.cos(o);return r[0]=h*K+T*R,r[1]=p*K+v*R,r[2]=v*K-p*R,r[3]=T*K-h*R,r}function x_(r,i,o){o*=.5;var h=i[0],p=i[1],v=i[2],T=i[3],R=Math.sin(o),K=Math.cos(o);return r[0]=h*K-v*R,r[1]=p*K+T*R,r[2]=v*K+h*R,r[3]=T*K-p*R,r}m0(),jp=new Ea(4),Ea!=Float32Array&&(jp[0]=0,jp[1]=0,jp[2]=0,jp[3]=0);var jx=y_;m0(),Pd(1,0,0),Pd(0,1,0),ag(),ag(),f_();class g0{constructor(i,o){this.pos=i,this.dir=o}intersectsPlane(i,o,h){const p=gl(o,this.dir);if(Math.abs(p)<1e-6)return!1;const v=((i[0]-this.pos[0])*o[0]+(i[1]-this.pos[1])*o[1]+(i[2]-this.pos[2])*o[2])/p;return h[0]=this.pos[0]+this.dir[0]*v,h[1]=this.pos[1]+this.dir[1]*v,h[2]=this.pos[2]+this.dir[2]*v,!0}closestPointOnSphere(i,o,h){if(function(De,Le){var Ne=De[0],Ye=De[1],ut=De[2],yt=Le[0],dt=Le[1],mt=Le[2];return Math.abs(Ne-yt)<=Eu*Math.max(1,Math.abs(Ne),Math.abs(yt))&&Math.abs(Ye-dt)<=Eu*Math.max(1,Math.abs(Ye),Math.abs(dt))&&Math.abs(ut-mt)<=Eu*Math.max(1,Math.abs(ut),Math.abs(mt))}(this.pos,i)||o===0)return h[0]=h[1]=h[2]=0,!1;const[p,v,T]=this.dir,R=this.pos[0]-i[0],K=this.pos[1]-i[1],ie=this.pos[2]-i[2],fe=p*p+v*v+T*T,we=2*(R*p+K*v+ie*T),Te=we*we-4*fe*(R*R+K*K+ie*ie-o*o);if(Te<0){const De=Math.max(-we/2,0),Le=R+p*De,Ne=K+v*De,Ye=ie+T*De,ut=Math.hypot(Le,Ne,Ye);return h[0]=Le*o/ut,h[1]=Ne*o/ut,h[2]=Ye*o/ut,!1}{const De=(-we-Math.sqrt(Te))/(2*fe);if(De<0){const Le=Math.hypot(R,K,ie);return h[0]=R*o/Le,h[1]=K*o/Le,h[2]=ie*o/Le,!1}return h[0]=R+p*De,h[1]=K+v*De,h[2]=ie+T*De,!0}}}class cg{constructor(i,o,h,p,v){this.TL=i,this.TR=o,this.BR=h,this.BL=p,this.horizon=v}static fromInvProjectionMatrix(i,o,h){const p=[-1,1,1],v=[1,1,1],T=[1,-1,1],R=[-1,-1,1],K=br(p,p,i),ie=br(v,v,i),fe=br(T,T,i),we=br(R,R,i);return new cg(K,ie,fe,we,o/h)}}class hg{constructor(i,o){this.points=i,this.planes=o}static fromInvProjectionMatrix(i,o,h,p){const v=Math.pow(2,h),T=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(K=>{const ie=Vh([],K,i),fe=1/ie[3]/o*v;return function(we,Te,De){return we[0]=Te[0]*De[0],we[1]=Te[1]*De[1],we[2]=Te[2]*De[2],we[3]=Te[3]*De[3],we}(ie,ie,[fe,fe,p?1/ie[3]:fe,fe])}),R=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(K=>{const ie=Jo([],og([],ec([],T[K[0]],T[K[1]]),ec([],T[K[2]],T[K[1]]))),fe=-gl(ie,T[K[1]]);return ie.concat(fe)});return new hg(T,R)}}class Qo{static fromPoints(i){const o=[1/0,1/0,1/0],h=[-1/0,-1/0,-1/0];for(const p of i)Ca(o,o,p),Ql(h,h,p);return new Qo(o,h)}static applyTransform(i,o){const h=i.getCorners();for(let p=0;p<h.length;++p)br(h[p],h[p],o);return Qo.fromPoints(h)}constructor(i,o){this.min=i,this.max=o,this.center=Ja([],Lc([],this.min,this.max),.5)}quadrant(i){const o=[i%2==0,i<2],h=Mu(this.min),p=Mu(this.max);for(let v=0;v<o.length;v++)h[v]=o[v]?this.min[v]:this.center[v],p[v]=o[v]?this.center[v]:this.max[v];return p[2]=this.max[2],new Qo(h,p)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}distanceZ(i){return Math.max(Math.min(this.max[2],i[2]),this.min[2])-i[2]}getCorners(){const i=this.min,o=this.max;return[[i[0],i[1],i[2]],[o[0],i[1],i[2]],[o[0],o[1],i[2]],[i[0],o[1],i[2]],[i[0],i[1],o[2]],[o[0],i[1],o[2]],[o[0],o[1],o[2]],[i[0],o[1],o[2]]]}intersects(i){const o=this.getCorners();let h=!0;for(let p=0;p<i.planes.length;p++){const v=i.planes[p];let T=0;for(let R=0;R<o.length;R++)T+=gl(v,o[R])+v[3]>=0;if(T===0)return 0;T!==o.length&&(h=!1)}if(h)return 2;for(let p=0;p<3;p++){let v=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let R=0;R<i.points.length;R++){const K=i.points[R][p]-this.min[p];v=Math.min(v,K),T=Math.max(T,K)}if(T<0||v>this.max[p]-this.min[p])return 0}return 1}}function b_(r,i,o,h,p,v,T,R,K){if(v&&r.queryGeometry.isAboveHorizon)return!1;v&&(K*=r.pixelToTileUnitsFactor);const ie=r.tileID.canonical,fe=o.projection.upVectorScale(ie,o.center.lat,o.worldSize).metersToTile;for(const we of i)for(const Te of we){const De=Te.add(R),Le=p&&o.elevation?o.elevation.exaggeration()*p.getElevationAt(De.x,De.y,!0):0,Ne=o.projection.projectTilePoint(De.x,De.y,ie);if(Le>0){const dt=o.projection.upVector(ie,De.x,De.y);Ne.x+=dt[0]*fe*Le,Ne.y+=dt[1]*fe*Le,Ne.z+=dt[2]*fe*Le}const Ye=v?De:Ux(Ne.x,Ne.y,Ne.z,h),ut=v?r.tilespaceRays.map(dt=>Gx(dt,Le)):r.queryGeometry.screenGeometry,yt=Vh([],[Ne.x,Ne.y,Ne.z,1],h);if(!T&&v?K*=yt[3]/o.cameraToCenterDistance:T&&!v&&(K*=o.cameraToCenterDistance/yt[3]),v){const dt=_o((Te.y/cn+ie.y)/(1<<ie.z));K/=o.projection.pixelsPerMeter(dt,1)/Ka(1,dt)}if(Ed(ut,Ye,K))return!0}return!1}function Ux(r,i,o,h){const p=Vh([],[r,i,o,1],h);return new V(p[0]/p[3],p[1]/p[3])}const w_=Pd(0,0,0),_l=Pd(0,0,1);function Gx(r,i){const o=m0();return w_[2]=i,r.intersectsPlane(w_,_l,o),new V(o[0],o[1])}class T_ extends Tu{}function S_(r,{width:i,height:o},h,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==i*o*h)throw new RangeError("mismatched image size")}else p=new Uint8Array(i*o*h);return r.width=i,r.height=o,r.data=p,r}function dg(r,i,o){const{width:h,height:p}=i;h===r.width&&p===r.height||(ug(r,i,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,h),height:Math.min(r.height,p)},o),r.width=h,r.height=p,r.data=i.data)}function ug(r,i,o,h,p,v){if(p.width===0||p.height===0)return i;if(p.width>r.width||p.height>r.height||o.x>r.width-p.width||o.y>r.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>i.width||p.height>i.height||h.x>i.width-p.width||h.y>i.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const T=r.data,R=i.data;for(let K=0;K<p.height;K++){const ie=((o.y+K)*r.width+o.x)*v,fe=((h.y+K)*i.width+h.x)*v;for(let we=0;we<p.width*v;we++)R[fe+we]=T[ie+we]}return i}zi(T_,"HeatmapBucket",{omit:["layers"]});class ch{constructor(i,o){S_(this,i,1,o)}resize(i){dg(this,new ch(i),1)}clone(){return new ch({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,o,h,p,v){ug(i,o,h,p,v,1)}}class Ma{constructor(i,o){S_(this,i,4,o)}resize(i){dg(this,new Ma(i),4)}replace(i,o){o?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new Ma({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,o,h,p,v){ug(i,o,h,p,v,4)}}zi(ch,"AlphaImage"),zi(Ma,"RGBAImage");var Vx={paint:new nn({"heatmap-radius":new Xt(ni.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Xt(ni.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Rt(ni.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Hi(ni.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Rt(ni.paint_heatmap["heatmap-opacity"])})};function Up(r){const i={},o=r.resolution||256,h=r.clips?r.clips.length:1,p=r.image||new Ma({width:o,height:h}),v=(T,R,K)=>{i[r.evaluationKey]=K;const ie=r.expression.evaluate(i);p.data[T+R+0]=Math.floor(255*ie.r/ie.a),p.data[T+R+1]=Math.floor(255*ie.g/ie.a),p.data[T+R+2]=Math.floor(255*ie.b/ie.a),p.data[T+R+3]=Math.floor(255*ie.a)};if(r.clips)for(let T=0,R=0;T<h;++T,R+=4*o)for(let K=0,ie=0;K<o;K++,ie+=4){const fe=K/(o-1),{start:we,end:Te}=r.clips[T];v(R,ie,we*(1-fe)+Te*fe)}else for(let T=0,R=0;T<o;T++,R+=4)v(0,R,T/(o-1));return p}var $x={paint:new nn({"hillshade-illumination-direction":new Rt(ni.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Rt(ni.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Rt(ni.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Rt(ni.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Rt(ni.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Rt(ni.paint_hillshade["hillshade-accent-color"])})};const Hx=Vi([{name:"a_pos",components:2,type:"Int16"}],4),{members:Wx}=Hx;var Gp={exports:{}};function _0(r,i,o){o=o||2;var h,p,v,T,R,K,ie,fe=i&&i.length,we=fe?i[0]*o:r.length,Te=E_(r,0,we,o,!0),De=[];if(!Te||Te.next===Te.prev)return De;if(fe&&(Te=function(Ne,Ye,ut,yt){var dt,mt,St,bt=[];for(dt=0,mt=Ye.length;dt<mt;dt++)(St=E_(Ne,Ye[dt]*yt,dt<mt-1?Ye[dt+1]*yt:Ne.length,yt,!1))===St.next&&(St.steiner=!0),bt.push(e2(St));for(bt.sort(Kx),dt=0;dt<bt.length;dt++)ut=Jx(bt[dt],ut);return ut}(r,i,Te,o)),r.length>80*o){h=v=r[0],p=T=r[1];for(var Le=o;Le<we;Le+=o)(R=r[Le])<h&&(h=R),(K=r[Le+1])<p&&(p=K),R>v&&(v=R),K>T&&(T=K);ie=(ie=Math.max(v-h,T-p))!==0?32767/ie:0}return Vp(Te,De,o,h,p,ie,0),De}function E_(r,i,o,h,p){var v,T;if(p===gg(r,i,o,h)>0)for(v=i;v<o;v+=h)T=M_(v,r[v],r[v+1],T);else for(v=o-h;v>=i;v-=h)T=M_(v,r[v],r[v+1],T);return T&&Du(T,T.next)&&(Hp(T),T=T.next),T}function Dd(r,i){if(!r)return r;i||(i=r);var o,h=r;do if(o=!1,h.steiner||!Du(h,h.next)&&Mr(h.prev,h,h.next)!==0)h=h.next;else{if(Hp(h),(h=i=h.prev)===h.next)break;o=!0}while(o||h!==i);return i}function Vp(r,i,o,h,p,v,T){if(r){!T&&v&&function(fe,we,Te,De){var Le=fe;do Le.z===0&&(Le.z=pg(Le.x,Le.y,we,Te,De)),Le.prevZ=Le.prev,Le.nextZ=Le.next,Le=Le.next;while(Le!==fe);Le.prevZ.nextZ=null,Le.prevZ=null,function(Ne){var Ye,ut,yt,dt,mt,St,bt,Ht,$t=1;do{for(ut=Ne,Ne=null,mt=null,St=0;ut;){for(St++,yt=ut,bt=0,Ye=0;Ye<$t&&(bt++,yt=yt.nextZ);Ye++);for(Ht=$t;bt>0||Ht>0&&yt;)bt!==0&&(Ht===0||!yt||ut.z<=yt.z)?(dt=ut,ut=ut.nextZ,bt--):(dt=yt,yt=yt.nextZ,Ht--),mt?mt.nextZ=dt:Ne=dt,dt.prevZ=mt,mt=dt;ut=yt}mt.nextZ=null,$t*=2}while(St>1)}(Le)}(r,h,p,v);for(var R,K,ie=r;r.prev!==r.next;)if(R=r.prev,K=r.next,v?Yx(r,h,p,v):Xx(r))i.push(R.i/o|0),i.push(r.i/o|0),i.push(K.i/o|0),Hp(r),r=K.next,ie=K.next;else if((r=K)===ie){T?T===1?Vp(r=qx(Dd(r),i,o),i,o,h,p,v,2):T===2&&Zx(r,i,o,h,p,v):Vp(Dd(r),i,o,h,p,v,1);break}}}function Xx(r){var i=r.prev,o=r,h=r.next;if(Mr(i,o,h)>=0)return!1;for(var p=i.x,v=o.x,T=h.x,R=i.y,K=o.y,ie=h.y,fe=p<v?p<T?p:T:v<T?v:T,we=R<K?R<ie?R:ie:K<ie?K:ie,Te=p>v?p>T?p:T:v>T?v:T,De=R>K?R>ie?R:ie:K>ie?K:ie,Le=h.next;Le!==i;){if(Le.x>=fe&&Le.x<=Te&&Le.y>=we&&Le.y<=De&&Pu(p,R,v,K,T,ie,Le.x,Le.y)&&Mr(Le.prev,Le,Le.next)>=0)return!1;Le=Le.next}return!0}function Yx(r,i,o,h){var p=r.prev,v=r,T=r.next;if(Mr(p,v,T)>=0)return!1;for(var R=p.x,K=v.x,ie=T.x,fe=p.y,we=v.y,Te=T.y,De=R<K?R<ie?R:ie:K<ie?K:ie,Le=fe<we?fe<Te?fe:Te:we<Te?we:Te,Ne=R>K?R>ie?R:ie:K>ie?K:ie,Ye=fe>we?fe>Te?fe:Te:we>Te?we:Te,ut=pg(De,Le,i,o,h),yt=pg(Ne,Ye,i,o,h),dt=r.prevZ,mt=r.nextZ;dt&&dt.z>=ut&&mt&&mt.z<=yt;){if(dt.x>=De&&dt.x<=Ne&&dt.y>=Le&&dt.y<=Ye&&dt!==p&&dt!==T&&Pu(R,fe,K,we,ie,Te,dt.x,dt.y)&&Mr(dt.prev,dt,dt.next)>=0||(dt=dt.prevZ,mt.x>=De&&mt.x<=Ne&&mt.y>=Le&&mt.y<=Ye&&mt!==p&&mt!==T&&Pu(R,fe,K,we,ie,Te,mt.x,mt.y)&&Mr(mt.prev,mt,mt.next)>=0))return!1;mt=mt.nextZ}for(;dt&&dt.z>=ut;){if(dt.x>=De&&dt.x<=Ne&&dt.y>=Le&&dt.y<=Ye&&dt!==p&&dt!==T&&Pu(R,fe,K,we,ie,Te,dt.x,dt.y)&&Mr(dt.prev,dt,dt.next)>=0)return!1;dt=dt.prevZ}for(;mt&&mt.z<=yt;){if(mt.x>=De&&mt.x<=Ne&&mt.y>=Le&&mt.y<=Ye&&mt!==p&&mt!==T&&Pu(R,fe,K,we,ie,Te,mt.x,mt.y)&&Mr(mt.prev,mt,mt.next)>=0)return!1;mt=mt.nextZ}return!0}function qx(r,i,o){var h=r;do{var p=h.prev,v=h.next.next;!Du(p,v)&&fg(p,h,h.next,v)&&$p(p,v)&&$p(v,p)&&(i.push(p.i/o|0),i.push(h.i/o|0),i.push(v.i/o|0),Hp(h),Hp(h.next),h=r=v),h=h.next}while(h!==r);return Dd(h)}function Zx(r,i,o,h,p,v){var T=r;do{for(var R=T.next.next;R!==T.prev;){if(T.i!==R.i&&t2(T,R)){var K=C_(T,R);return T=Dd(T,T.next),K=Dd(K,K.next),Vp(T,i,o,h,p,v,0),void Vp(K,i,o,h,p,v,0)}R=R.next}T=T.next}while(T!==r)}function Kx(r,i){return r.x-i.x}function Jx(r,i){var o=function(p,v){var T,R=v,K=p.x,ie=p.y,fe=-1/0;do{if(ie<=R.y&&ie>=R.next.y&&R.next.y!==R.y){var we=R.x+(ie-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(we<=K&&we>fe&&(fe=we,T=R.x<R.next.x?R:R.next,we===K))return T}R=R.next}while(R!==v);if(!T)return null;var Te,De=T,Le=T.x,Ne=T.y,Ye=1/0;R=T;do K>=R.x&&R.x>=Le&&K!==R.x&&Pu(ie<Ne?K:fe,ie,Le,Ne,ie<Ne?fe:K,ie,R.x,R.y)&&(Te=Math.abs(ie-R.y)/(K-R.x),$p(R,p)&&(Te<Ye||Te===Ye&&(R.x>T.x||R.x===T.x&&Qx(T,R)))&&(T=R,Ye=Te)),R=R.next;while(R!==De);return T}(r,i);if(!o)return i;var h=C_(o,r);return Dd(h,h.next),Dd(o,o.next)}function Qx(r,i){return Mr(r.prev,r,i.prev)<0&&Mr(i.next,r,r.next)<0}function pg(r,i,o,h,p){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-o)*p|0)|r<<8))|r<<4))|r<<2))|r<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-h)*p|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function e2(r){var i=r,o=r;do(i.x<o.x||i.x===o.x&&i.y<o.y)&&(o=i),i=i.next;while(i!==r);return o}function Pu(r,i,o,h,p,v,T,R){return(p-T)*(i-R)>=(r-T)*(v-R)&&(r-T)*(h-R)>=(o-T)*(i-R)&&(o-T)*(v-R)>=(p-T)*(h-R)}function t2(r,i){return r.next.i!==i.i&&r.prev.i!==i.i&&!function(o,h){var p=o;do{if(p.i!==o.i&&p.next.i!==o.i&&p.i!==h.i&&p.next.i!==h.i&&fg(p,p.next,o,h))return!0;p=p.next}while(p!==o);return!1}(r,i)&&($p(r,i)&&$p(i,r)&&function(o,h){var p=o,v=!1,T=(o.x+h.x)/2,R=(o.y+h.y)/2;do p.y>R!=p.next.y>R&&p.next.y!==p.y&&T<(p.next.x-p.x)*(R-p.y)/(p.next.y-p.y)+p.x&&(v=!v),p=p.next;while(p!==o);return v}(r,i)&&(Mr(r.prev,r,i.prev)||Mr(r,i.prev,i))||Du(r,i)&&Mr(r.prev,r,r.next)>0&&Mr(i.prev,i,i.next)>0)}function Mr(r,i,o){return(i.y-r.y)*(o.x-i.x)-(i.x-r.x)*(o.y-i.y)}function Du(r,i){return r.x===i.x&&r.y===i.y}function fg(r,i,o,h){var p=v0(Mr(r,i,o)),v=v0(Mr(r,i,h)),T=v0(Mr(o,h,r)),R=v0(Mr(o,h,i));return p!==v&&T!==R||!(p!==0||!y0(r,o,i))||!(v!==0||!y0(r,h,i))||!(T!==0||!y0(o,r,h))||!(R!==0||!y0(o,i,h))}function y0(r,i,o){return i.x<=Math.max(r.x,o.x)&&i.x>=Math.min(r.x,o.x)&&i.y<=Math.max(r.y,o.y)&&i.y>=Math.min(r.y,o.y)}function v0(r){return r>0?1:r<0?-1:0}function $p(r,i){return Mr(r.prev,r,r.next)<0?Mr(r,i,r.next)>=0&&Mr(r,r.prev,i)>=0:Mr(r,i,r.prev)<0||Mr(r,r.next,i)<0}function C_(r,i){var o=new mg(r.i,r.x,r.y),h=new mg(i.i,i.x,i.y),p=r.next,v=i.prev;return r.next=i,i.prev=r,o.next=p,p.prev=o,h.next=o,o.prev=h,v.next=h,h.prev=v,h}function M_(r,i,o,h){var p=new mg(r,i,o);return h?(p.next=h.next,p.prev=h,h.next.prev=p,h.next=p):(p.prev=p,p.next=p),p}function Hp(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function mg(r,i,o){this.i=r,this.x=i,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function gg(r,i,o,h){for(var p=0,v=i,T=o-h;v<o;v+=h)p+=(r[T]-r[v])*(r[v+1]+r[T+1]),T=v;return p}function A_(r,i,o,h,p){k_(r,i,o||0,h||r.length-1,p||i2)}function k_(r,i,o,h,p){for(;h>o;){if(h-o>600){var v=h-o+1,T=i-o+1,R=Math.log(v),K=.5*Math.exp(2*R/3),ie=.5*Math.sqrt(R*K*(v-K)/v)*(T-v/2<0?-1:1);k_(r,i,Math.max(o,Math.floor(i-T*K/v+ie)),Math.min(h,Math.floor(i+(v-T)*K/v+ie)),p)}var fe=r[i],we=o,Te=h;for($h(r,o,i),p(r[h],fe)>0&&$h(r,o,h);we<Te;){for($h(r,we,Te),we++,Te--;p(r[we],fe)<0;)we++;for(;p(r[Te],fe)>0;)Te--}p(r[o],fe)===0?$h(r,o,Te):$h(r,++Te,h),Te<=i&&(o=Te+1),i<=Te&&(h=Te-1)}}function $h(r,i,o){var h=r[i];r[i]=r[o],r[o]=h}function i2(r,i){return r<i?-1:r>i?1:0}function _g(r,i){const o=r.length;if(o<=1)return[r];const h=[];let p,v;for(let T=0;T<o;T++){const R=me(r[T]);R!==0&&(r[T].area=Math.abs(R),v===void 0&&(v=R<0),v===R<0?(p&&h.push(p),p=[r[T]]):p.push(r[T]))}if(p&&h.push(p),i>1)for(let T=0;T<h.length;T++)h[T].length<=i||(A_(h[T],i,1,h[T].length-1,n2),h[T]=h[T].slice(0,i));return h}function n2(r,i){return i.area-r.area}function yg(r,i,o){const h=o.patternDependencies;let p=!1;for(const v of i){const T=v.paint.get(`${r}-pattern`);T.isConstant()||(p=!0);const R=T.constantOr(null);R&&(p=!0,h[R]=!0)}return p}function vg(r,i,o,h,p){const v=p.patternDependencies;for(const T of i){const R=T.paint.get(`${r}-pattern`).value;if(R.kind!=="constant"){let K=R.evaluate({zoom:h},o,{},p.availableImages);K=K&&K.name?K.name:K,v[K]=!0,o.patterns[T.id]=K}}return o}Gp.exports=_0,Gp.exports.default=_0,_0.deviation=function(r,i,o,h){var p=i&&i.length,v=Math.abs(gg(r,0,p?i[0]*o:r.length,o));if(p)for(var T=0,R=i.length;T<R;T++)v-=Math.abs(gg(r,i[T]*o,T<R-1?i[T+1]*o:r.length,o));var K=0;for(T=0;T<h.length;T+=3){var ie=h[T]*o,fe=h[T+1]*o,we=h[T+2]*o;K+=Math.abs((r[ie]-r[we])*(r[fe+1]-r[ie+1])-(r[ie]-r[fe])*(r[we+1]-r[ie+1]))}return v===0&&K===0?0:Math.abs((K-v)/v)},_0.flatten=function(r){for(var i=r[0][0].length,o={vertices:[],holes:[],dimensions:i},h=0,p=0;p<r.length;p++){for(var v=0;v<r[p].length;v++)for(var T=0;T<i;T++)o.vertices.push(r[p][v][T]);p>0&&o.holes.push(h+=r[p-1].length)}return o};class x0{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ds,this.indexArray=new ao,this.indexArray2=new fl,this.programConfigurations=new Pc(i.layers,i.zoom),this.segments=new Cr,this.segments2=new Cr,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.projection=i.projection}populate(i,o,h,p){this.hasPattern=yg("fill",this.layers,o);const v=this.layers[0].layout.get("fill-sort-key"),T=[];for(const{feature:R,id:K,index:ie,sourceLayerIndex:fe}of i){const we=this.layers[0]._featureFilter.needGeometry,Te=Dc(R,we);if(!this.layers[0]._featureFilter.filter(new Dt(this.zoom),Te,h))continue;const De=v?v.evaluate(Te,{},h,o.availableImages):void 0,Le={id:K,properties:R.properties,type:R.type,sourceLayerIndex:fe,index:ie,geometry:we?Te.geometry:Jl(R,h,p),patterns:{},sortKey:De};T.push(Le)}v&&T.sort((R,K)=>R.sortKey-K.sortKey);for(const R of T){const{geometry:K,index:ie,sourceLayerIndex:fe}=R;if(this.hasPattern){const we=vg("fill",this.layers,R,this.zoom,o);this.patternFeatures.push(we)}else this.addFeature(R,K,ie,h,{},o.availableImages);o.featureIndex.insert(i[ie].feature,K,ie,fe,this.index)}}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}addFeatures(i,o,h,p,v){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,o,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Wx),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,o,h,p,v,T=[]){for(const R of _g(o,500)){let K=0;for(const Le of R)K+=Le.length;const ie=this.segments.prepareSegment(K,this.layoutVertexArray,this.indexArray),fe=ie.vertexLength,we=[],Te=[];for(const Le of R){if(Le.length===0)continue;Le!==R[0]&&Te.push(we.length/2);const Ne=this.segments2.prepareSegment(Le.length,this.layoutVertexArray,this.indexArray2),Ye=Ne.vertexLength;this.layoutVertexArray.emplaceBack(Le[0].x,Le[0].y),this.indexArray2.emplaceBack(Ye+Le.length-1,Ye),we.push(Le[0].x),we.push(Le[0].y);for(let ut=1;ut<Le.length;ut++)this.layoutVertexArray.emplaceBack(Le[ut].x,Le[ut].y),this.indexArray2.emplaceBack(Ye+ut-1,Ye+ut),we.push(Le[ut].x),we.push(Le[ut].y);Ne.vertexLength+=Le.length,Ne.primitiveLength+=Le.length}const De=Gp.exports(we,Te);for(let Le=0;Le<De.length;Le+=3)this.indexArray.emplaceBack(fe+De[Le],fe+De[Le+1],fe+De[Le+2]);ie.vertexLength+=K,ie.primitiveLength+=De.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,v,T,p)}}zi(x0,"FillBucket",{omit:["layers","patternFeatures"]});const s2=new nn({"fill-sort-key":new Xt(ni.layout_fill["fill-sort-key"])});var r2={paint:new nn({"fill-antialias":new Rt(ni.paint_fill["fill-antialias"]),"fill-opacity":new Xt(ni.paint_fill["fill-opacity"]),"fill-color":new Xt(ni.paint_fill["fill-color"]),"fill-outline-color":new Xt(ni.paint_fill["fill-outline-color"]),"fill-translate":new Rt(ni.paint_fill["fill-translate"]),"fill-translate-anchor":new Rt(ni.paint_fill["fill-translate-anchor"]),"fill-pattern":new Xt(ni.paint_fill["fill-pattern"])}),layout:s2};const o2=Vi([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),a2=Vi([{name:"a_centroid_pos",components:2,type:"Uint16"}]),l2=Vi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:c2}=o2;var b0={},h2=V,P_=Iu;function Iu(r,i,o,h,p){this.properties={},this.extent=o,this.type=0,this._pbf=r,this._geometry=-1,this._keys=h,this._values=p,r.readFields(D_,this,i)}function D_(r,i,o){r==1?i.id=o.readVarint():r==2?function(h,p){for(var v=h.readVarint()+h.pos;h.pos<v;){var T=p._keys[h.readVarint()],R=p._values[h.readVarint()];p.properties[T]=R}}(o,i):r==3?i.type=o.readVarint():r==4&&(i._geometry=o.pos)}function I_(r){for(var i,o,h=0,p=0,v=r.length,T=v-1;p<v;T=p++)h+=((o=r[T]).x-(i=r[p]).x)*(i.y+o.y);return h}Iu.types=["Unknown","Point","LineString","Polygon"],Iu.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var i,o=r.readVarint()+r.pos,h=1,p=0,v=0,T=0,R=[];r.pos<o;){if(p<=0){var K=r.readVarint();h=7&K,p=K>>3}if(p--,h===1||h===2)v+=r.readSVarint(),T+=r.readSVarint(),h===1&&(i&&R.push(i),i=[]),i.push(new h2(v,T));else{if(h!==7)throw new Error("unknown command "+h);i&&i.push(i[0].clone())}}return i&&R.push(i),R},Iu.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var i=r.readVarint()+r.pos,o=1,h=0,p=0,v=0,T=1/0,R=-1/0,K=1/0,ie=-1/0;r.pos<i;){if(h<=0){var fe=r.readVarint();o=7&fe,h=fe>>3}if(h--,o===1||o===2)(p+=r.readSVarint())<T&&(T=p),p>R&&(R=p),(v+=r.readSVarint())<K&&(K=v),v>ie&&(ie=v);else if(o!==7)throw new Error("unknown command "+o)}return[T,K,R,ie]},Iu.prototype.toGeoJSON=function(r,i,o){var h,p,v=this.extent*Math.pow(2,o),T=this.extent*r,R=this.extent*i,K=this.loadGeometry(),ie=Iu.types[this.type];function fe(De){for(var Le=0;Le<De.length;Le++){var Ne=De[Le];De[Le]=[360*(Ne.x+T)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ne.y+R)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var we=[];for(h=0;h<K.length;h++)we[h]=K[h][0];fe(K=we);break;case 2:for(h=0;h<K.length;h++)fe(K[h]);break;case 3:for(K=function(De){var Le=De.length;if(Le<=1)return[De];for(var Ne,Ye,ut=[],yt=0;yt<Le;yt++){var dt=I_(De[yt]);dt!==0&&(Ye===void 0&&(Ye=dt<0),Ye===dt<0?(Ne&&ut.push(Ne),Ne=[De[yt]]):Ne.push(De[yt]))}return Ne&&ut.push(Ne),ut}(K),h=0;h<K.length;h++)for(p=0;p<K[h].length;p++)fe(K[h][p])}K.length===1?K=K[0]:ie="Multi"+ie;var Te={type:"Feature",geometry:{type:ie,coordinates:K},properties:this.properties};return"id"in this&&(Te.id=this.id),Te};var d2=P_,L_=O_;function O_(r,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(u2,this,i),this.length=this._features.length}function u2(r,i,o){r===15?i.version=o.readVarint():r===1?i.name=o.readString():r===5?i.extent=o.readVarint():r===2?i._features.push(o.pos):r===3?i._keys.push(o.readString()):r===4&&i._values.push(function(h){for(var p=null,v=h.readVarint()+h.pos;h.pos<v;){var T=h.readVarint()>>3;p=T===1?h.readString():T===2?h.readFloat():T===3?h.readDouble():T===4?h.readVarint64():T===5?h.readVarint():T===6?h.readSVarint():T===7?h.readBoolean():null}return p}(o))}O_.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var i=this._pbf.readVarint()+this._pbf.pos;return new d2(this._pbf,i,this.extent,this._keys,this._values)};var w0=L_;function p2(r,i,o){if(r===3){var h=new w0(o,o.readVarint()+o.pos);h.length&&(i[h.name]=h)}}var xg=b0.VectorTile=function(r,i){this.layers=r.readFields(p2,{},i)},T0=b0.VectorTileFeature=P_;function S0(r,i,o,h){const p=[],v=h===0?(T,R,K,ie,fe,we)=>{T.push(new V(we,K+(we-R)/(ie-R)*(fe-K)))}:(T,R,K,ie,fe,we)=>{T.push(new V(R+(we-K)/(fe-K)*(ie-R),we))};for(const T of r){const R=[];for(const K of T){if(K.length<=2)continue;const ie=[];for(let Te=0;Te<K.length-1;Te++){const De=K[Te].x,Le=K[Te].y,Ne=K[Te+1].x,Ye=K[Te+1].y,ut=h===0?De:Le,yt=h===0?Ne:Ye;ut<i?yt>i&&v(ie,De,Le,Ne,Ye,i):ut>o?yt<o&&v(ie,De,Le,Ne,Ye,o):ie.push(K[Te]),yt<i&&ut>=i&&v(ie,De,Le,Ne,Ye,i),yt>o&&ut<=o&&v(ie,De,Le,Ne,Ye,o)}let fe=K[K.length-1];const we=h===0?fe.x:fe.y;we>=i&&we<=o&&ie.push(fe),ie.length&&(fe=ie[ie.length-1],ie[0].x===fe.x&&ie[0].y===fe.y||ie.push(ie[0]),R.push(ie))}R.length&&p.push(R)}return p}b0.VectorTileLayer=L_;const f2=T0.types,m2=Math.pow(2,13);function Wp(r,i,o,h,p,v,T,R){r.emplaceBack((i<<1)+T,(o<<1)+v,(Math.floor(h*m2)<<1)+p,Math.round(R))}function Xp(r,i,o){r.emplaceBack(i.x,i.y,i.z,o[0]*16384,o[1]*16384,o[2]*16384)}class R_{constructor(){this.acc=new V(0,0),this.polyCount=[]}startRing(i){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new V(i.x,i.y),this.max=new V(i.x,i.y))}append(i,o){this.currentPolyCount.edges++,this.acc._add(i);const h=this.min,p=this.max;i.x<h.x?h.x=i.x:i.x>p.x&&(p.x=i.x),i.y<h.y?h.y=i.y:i.y>p.y&&(p.y=i.y),((i.x===0||i.x===cn)&&i.x===o.x)!=((i.y===0||i.y===cn)&&i.y===o.y)&&this.processBorderOverlap(i,o),o.x<0!=i.x<0&&this.addBorderIntersection(0,Dn(o.y,i.y,(0-o.x)/(i.x-o.x))),o.x>cn!=i.x>cn&&this.addBorderIntersection(1,Dn(o.y,i.y,(cn-o.x)/(i.x-o.x))),o.y<0!=i.y<0&&this.addBorderIntersection(2,Dn(o.x,i.x,(0-o.y)/(i.y-o.y))),o.y>cn!=i.y>cn&&this.addBorderIntersection(3,Dn(o.x,i.x,(cn-o.y)/(i.y-o.y)))}addBorderIntersection(i,o){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const h=this.borders[i];o<h[0]&&(h[0]=o),o>h[1]&&(h[1]=o)}processBorderOverlap(i,o){if(i.x===o.x){if(i.y===o.y)return;const h=i.x===0?0:1;this.addBorderIntersection(h,o.y),this.addBorderIntersection(h,i.y)}else{const h=i.y===0?2:3;this.addBorderIntersection(h,o.x),this.addBorderIntersection(h,i.x)}}centroid(){const i=this.polyCount.reduce((o,h)=>o+h.edges,0);return i!==0?this.acc.div(i)._round():new V(0,0)}span(){return new V(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((i,o)=>i+ +(o[0]!==Number.MAX_VALUE),0)}}class Yp{constructor(i){this.zoom=i.zoom,this.canonical=i.canonical,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=i.projection,this.layoutVertexArray=new bs,this.centroidVertexArray=new o0,this.indexArray=new ao,this.programConfigurations=new Pc(i.layers,i.zoom),this.segments=new Cr,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.enableTerrain=i.enableTerrain}populate(i,o,h,p){this.features=[],this.hasPattern=yg("fill-extrusion",this.layers,o),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(v){const T=Math.exp(Math.PI*(1-v.y/(1<<v.z)*2));return 80150034*T/(T*T+1)/cn/(1<<v.z)}(h),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:v,id:T,index:R,sourceLayerIndex:K}of i){const ie=this.layers[0]._featureFilter.needGeometry,fe=Dc(v,ie);if(!this.layers[0]._featureFilter.filter(new Dt(this.zoom),fe,h))continue;const we={id:T,sourceLayerIndex:K,index:R,geometry:ie?fe.geometry:Jl(v,h,p),properties:v.properties,type:v.type,patterns:{}},Te=this.layoutVertexArray.length;this.hasPattern?this.features.push(vg("fill-extrusion",this.layers,we,this.zoom,o)):this.addFeature(we,we.geometry,R,h,{},o.availableImages,p),o.featureIndex.insert(v,we.geometry,R,K,this.index,Te)}this.sortBorders()}addFeatures(i,o,h,p,v){for(const T of this.features){const{geometry:R}=T;this.addFeature(T,R,T.index,o,h,p,v)}this.sortBorders()}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,c2),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=i.createVertexBuffer(this.layoutVertexExtArray,l2.members,!0))),this.programConfigurations.upload(i),this.uploaded=!0}uploadCentroid(i){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,a2.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,o,h,p,v,T,R){const K=[new V(0,0),new V(cn,cn)],ie=R.projection,fe=ie.name==="globe",we=this.enableTerrain&&!fe?new R_:null,Te=f2[i.type]==="Polygon";fe&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new js);const De=_g(o,500);for(let ut=De.length-1;ut>=0;ut--){const yt=De[ut];(yt.length===0||(Le=yt[0]).every(dt=>dt.x<=0)||Le.every(dt=>dt.x>=cn)||Le.every(dt=>dt.y<=0)||Le.every(dt=>dt.y>=cn))&&De.splice(ut,1)}var Le;let Ne;if(fe)Ne=Sg(De,K,p);else{Ne=[];for(const ut of De)Ne.push({polygon:ut,bounds:K})}const Ye=Te?this.edgeRadius:0;for(const{polygon:ut,bounds:yt}of Ne){let dt=0,mt=0;for(const bt of ut)Te&&!bt[0].equals(bt[bt.length-1])&&bt.push(bt[0]),mt+=Te?bt.length-1:bt.length;const St=this.segments.prepareSegment((Te?5:4)*mt,this.layoutVertexArray,this.indexArray);if(Te){const bt=[],Ht=[];dt=St.vertexLength;for(const oi of ut){let Ei,Zt;oi.length&&oi!==ut[0]&&Ht.push(bt.length/2),Ei=oi[1].sub(oi[0])._perp()._unit();for(let ai=1;ai<oi.length;ai++){const ui=oi[ai],gi=oi[ai===oi.length-1?1:ai+1];let{x:Ci,y:Jt}=ui;if(Ye){Zt=gi.sub(ui)._perp()._unit();const Ii=Ei.add(Zt)._unit(),pn=Ye*Math.min(4,1/(Ei.x*Ii.x+Ei.y*Ii.y));Ci+=pn*Ii.x,Jt+=pn*Ii.y,Ei=Zt}Wp(this.layoutVertexArray,Ci,Jt,0,0,1,1,0),St.vertexLength++,bt.push(ui.x,ui.y),fe&&Xp(this.layoutVertexExtArray,ie.projectTilePoint(Ci,Jt,p),ie.upVector(p,Ci,Jt))}}const $t=Gp.exports(bt,Ht);for(let oi=0;oi<$t.length;oi+=3)this.indexArray.emplaceBack(dt+$t[oi],dt+$t[oi+2],dt+$t[oi+1]),St.primitiveLength++}for(const bt of ut){we&&bt.length&&we.startRing(bt[0]);let Ht,$t,oi,Ei=bt.length>4&&wg(bt[bt.length-2],bt[0],bt[1]),Zt=Ye?E0(bt[bt.length-2],bt[0],bt[1],Ye):0;$t=bt[1].sub(bt[0])._perp()._unit();let ai=!0;for(let ui=1,gi=0;ui<bt.length;ui++){let Ci=bt[ui-1],Jt=bt[ui];const Ii=bt[ui===bt.length-1?1:ui+1];if(we&&Te&&we.currentPolyCount.top++,bg(Jt,Ci,yt)){Ye&&($t=Ii.sub(Jt)._perp()._unit(),ai=!ai);continue}we&&we.append(Jt,Ci);const pn=Jt.sub(Ci)._perp(),Ui=pn.x/(Math.abs(pn.x)+Math.abs(pn.y)),Ji=pn.y>0?1:0,Li=Ci.dist(Jt);if(gi+Li>32768&&(gi=0),Ye){oi=Ii.sub(Jt)._perp()._unit();let Gn=z_(Ci,Jt,Ii,B_($t,oi),Ye);isNaN(Gn)&&(Gn=0);const bn=Jt.sub(Ci)._unit();Ci=Ci.add(bn.mult(Zt))._round(),Jt=Jt.add(bn.mult(-Gn))._round(),Zt=Gn,$t=oi}const _n=St.vertexLength,Zn=bt.length>4&&wg(Ci,Jt,Ii);let Hn=C0(gi,Ei,ai);if(Wp(this.layoutVertexArray,Ci.x,Ci.y,Ui,Ji,0,0,Hn),Wp(this.layoutVertexArray,Ci.x,Ci.y,Ui,Ji,0,1,Hn),gi+=Li,Hn=C0(gi,Zn,!ai),Ei=Zn,Wp(this.layoutVertexArray,Jt.x,Jt.y,Ui,Ji,0,0,Hn),Wp(this.layoutVertexArray,Jt.x,Jt.y,Ui,Ji,0,1,Hn),St.vertexLength+=4,this.indexArray.emplaceBack(_n+0,_n+1,_n+2),this.indexArray.emplaceBack(_n+1,_n+3,_n+2),St.primitiveLength+=2,Ye){const Gn=dt+(ui===1?bt.length-2:ui-2),bn=ui===1?dt:Gn+1;if(this.indexArray.emplaceBack(_n+1,Gn,_n+3),this.indexArray.emplaceBack(Gn,bn,_n+3),St.primitiveLength+=2,Ht===void 0&&(Ht=_n),!bg(Ii,bt[ui],yt)){const Ls=ui===bt.length-1?Ht:St.vertexLength;this.indexArray.emplaceBack(_n+2,_n+3,Ls),this.indexArray.emplaceBack(_n+3,Ls+1,Ls),this.indexArray.emplaceBack(_n+3,bn,Ls+1),St.primitiveLength+=3}ai=!ai}if(fe){const Gn=this.layoutVertexExtArray,bn=ie.projectTilePoint(Ci.x,Ci.y,p),Ls=ie.projectTilePoint(Jt.x,Jt.y,p),Pn=ie.upVector(p,Ci.x,Ci.y),Kn=ie.upVector(p,Jt.x,Jt.y);Xp(Gn,bn,Pn),Xp(Gn,bn,Pn),Xp(Gn,Ls,Kn),Xp(Gn,Ls,Kn)}}Te&&(dt+=bt.length-1)}}if(we&&we.polyCount.length>0){if(we.borders){we.vertexArrayOffset=this.centroidVertexArray.length;const ut=we.borders,yt=this.featuresOnBorder.push(we)-1;for(let dt=0;dt<4;dt++)ut[dt][0]!==Number.MAX_VALUE&&this.borders[dt].push(yt)}this.encodeCentroid(we.borders?void 0:we.centroid(),we)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,v,T,p)}sortBorders(){for(let i=0;i<4;i++)this.borders[i].sort((o,h)=>this.featuresOnBorder[o].borders[i][0]-this.featuresOnBorder[h].borders[i][0])}encodeCentroid(i,o,h=!0){let p,v;if(i)if(i.y!==0){const R=o.span()._mult(this.tileToMeter);p=(Math.max(i.x,1)<<3)+Math.min(7,Math.round(R.x/10)),v=(Math.max(i.y,1)<<3)+Math.min(7,Math.round(R.y/10))}else p=Math.ceil(7*(i.x+450)),v=0;else p=0,v=+h;let T=h?this.centroidVertexArray.length:o.vertexArrayOffset;for(const R of o.polyCount){h&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*R.edges+R.top);for(let K=0;K<R.top;K++)this.centroidVertexArray.emplace(T++,p,v);for(let K=0;K<2*R.edges;K++)this.centroidVertexArray.emplace(T++,0,v),this.centroidVertexArray.emplace(T++,p,v)}}}function B_(r,i){const o=r.add(i)._unit();return r.x*o.x+r.y*o.y}function E0(r,i,o,h){const p=i.sub(r)._perp()._unit(),v=o.sub(i)._perp()._unit();return z_(r,i,o,B_(p,v),h)}function z_(r,i,o,h,p){const v=Math.sqrt(1-h*h);return Math.min(r.dist(i)/3,i.dist(o)/3,p*v/h)}function bg(r,i,o){return r.x<o[0].x&&i.x<o[0].x||r.x>o[1].x&&i.x>o[1].x||r.y<o[0].y&&i.y<o[0].y||r.y>o[1].y&&i.y>o[1].y}function wg(r,i,o){if(r.x<0||r.x>=cn||i.x<0||i.x>=cn||o.x<0||o.x>=cn)return!1;const h=o.sub(i),p=h.perp(),v=r.sub(i);return(h.x*v.x+h.y*v.y)/Math.sqrt((h.x*h.x+h.y*h.y)*(v.x*v.x+v.y*v.y))>-.866&&p.x*v.x+p.y*v.y<0}function C0(r,i,o){const h=i?2|r:-3&r;return o?1|h:-2&h}function Tg(){const r=Math.PI/32,i=Math.tan(r),o=Td;return o*Math.sqrt(1+2*i*i)-o}function Sg(r,i,o){const h=1<<o.z,p=ua(o.x/h),v=ua((o.x+1)/h),T=_o(o.y/h),R=_o((o.y+1)/h);return function(K,ie,fe,we,Te=0,De){const Le=[];if(!K.length||!fe||!we)return Le;const Ne=(bt,Ht)=>{for(const $t of bt)Le.push({polygon:$t,bounds:Ht})},Ye=Math.ceil(Math.log2(fe)),ut=Math.ceil(Math.log2(we)),yt=Ye-ut,dt=[];for(let bt=0;bt<Math.abs(yt);bt++)dt.push(yt>0?0:1);for(let bt=0;bt<Math.min(Ye,ut);bt++)dt.push(0),dt.push(1);let mt=K;if(mt=S0(mt,ie[0].y-Te,ie[1].y+Te,1),mt=S0(mt,ie[0].x-Te,ie[1].x+Te,0),!mt.length)return Le;const St=[];for(dt.length?St.push({polygons:mt,bounds:ie,depth:0}):Ne(mt,ie);St.length;){const bt=St.pop(),Ht=bt.depth,$t=dt[Ht],oi=bt.bounds[0],Ei=bt.bounds[1],Zt=$t===0?oi.x:oi.y,ai=$t===0?Ei.x:Ei.y,ui=De?De($t,Zt,ai):.5*(Zt+ai),gi=S0(bt.polygons,Zt-Te,ui+Te,$t),Ci=S0(bt.polygons,ui-Te,ai+Te,$t);if(gi.length){const Jt=[oi,new V($t===0?ui:Ei.x,$t===1?ui:Ei.y)];dt.length>Ht+1?St.push({polygons:gi,bounds:Jt,depth:Ht+1}):Ne(gi,Jt)}if(Ci.length){const Jt=[new V($t===0?ui:oi.x,$t===1?ui:oi.y),Ei];dt.length>Ht+1?St.push({polygons:Ci,bounds:Jt,depth:Ht+1}):Ne(Ci,Jt)}}return Le}(r,i,Math.ceil((v-p)/11.25),Math.ceil((T-R)/11.25),1,(K,ie,fe)=>{if(K===0)return .5*(ie+fe);{const we=_o((o.y+ie/cn)/h);return(Za(.5*(_o((o.y+fe/cn)/h)+we))*h-o.y)*cn}})}zi(Yp,"FillExtrusionBucket",{omit:["layers","features"]}),zi(R_,"PartMetadata");const F_=new nn({"fill-extrusion-edge-radius":new Rt(ni["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var N_={paint:new nn({"fill-extrusion-opacity":new Rt(ni["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Xt(ni["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Rt(ni["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Rt(ni["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Xt(ni["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Xt(ni["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Xt(ni["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Rt(ni["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Rt(ni["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Rt(ni["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:F_};function j_(r,i,o){var h=2*Math.PI*6378137/256/Math.pow(2,o);return[r*h-2*Math.PI*6378137/2,i*h-2*Math.PI*6378137/2]}class M0{constructor(i,o,h){this.z=i,this.x=o,this.y=h,this.key=Hh(0,i,i,o,h)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,o){const h=function(v,T,R){var K=j_(256*v,256*(T=Math.pow(2,R)-T-1),R),ie=j_(256*(v+1),256*(T+1),R);return K[0]+","+K[1]+","+ie[0]+","+ie[1]}(this.x,this.y,this.z),p=function(v,T,R){let K,ie="";for(let fe=v;fe>0;fe--)K=1<<fe-1,ie+=(T&K?1:0)+(R&K?2:0);return ie}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(o==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",h)}toString(){return`${this.z}/${this.x}/${this.y}`}}class U_{constructor(i,o){this.wrap=i,this.canonical=o,this.key=Hh(i,o.z,o.z,o.x,o.y)}}class lo{constructor(i,o,h,p,v){this.overscaledZ=i,this.wrap=o,this.canonical=new M0(h,+p,+v),this.key=o===0&&i===h?this.canonical.key:Hh(o,i,h,p,v)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){const o=this.canonical.z-i;return i>this.canonical.z?new lo(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new lo(i,this.wrap,i,this.canonical.x>>o,this.canonical.y>>o)}calculateScaledKey(i,o=!0){if(this.overscaledZ===i&&o)return this.key;if(i>this.canonical.z)return Hh(this.wrap*+o,i,this.canonical.z,this.canonical.x,this.canonical.y);{const h=this.canonical.z-i;return Hh(this.wrap*+o,i,i,this.canonical.x>>h,this.canonical.y>>h)}}isChildOf(i){if(i.wrap!==this.wrap)return!1;const o=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>o&&i.canonical.y===this.canonical.y>>o}children(i){if(this.overscaledZ>=i)return[new lo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const o=this.canonical.z+1,h=2*this.canonical.x,p=2*this.canonical.y;return[new lo(o,this.wrap,o,h,p),new lo(o,this.wrap,o,h+1,p),new lo(o,this.wrap,o,h,p+1),new lo(o,this.wrap,o,h+1,p+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new lo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new lo(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new U_(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Hh(r,i,o,h,p){const v=1<<Math.min(o,22);let T=v*(p%v)+h%v;return r&&o<22&&(T+=v*v*((r<0?-2*r-1:2*r)%(1<<2*(22-o)))),16*(32*T+o)+(i-o)}zi(M0,"CanonicalTileID"),zi(lo,"OverscaledTileID",{omit:["projMatrix"]});class Lu extends V{constructor(i,o,h){super(i,o),this.z=h}}function qp(r,i){return r.x*i.x+r.y*i.y}function A0(r,i){if(r.length===1){let o=0;const h=i[o++];let p;for(;!p||h.equals(p);)if(p=i[o++],!p)return 1/0;for(;o<i.length;o++){const v=i[o],T=r[0],R=p.sub(h),K=v.sub(h),ie=T.sub(h),fe=qp(R,R),we=qp(R,K),Te=qp(K,K),De=qp(ie,R),Le=qp(ie,K),Ne=fe*Te-we*we,Ye=(Te*De-we*Le)/Ne,ut=(fe*Le-we*De)/Ne,yt=h.z*(1-Ye-ut)+p.z*Ye+v.z*ut;if(isFinite(yt))return yt}return 1/0}{let o=1/0;for(const h of i)o=Math.min(o,h.z);return o}}function Eg(r,i,o,h,p,v,T,R){const K=T*p.getElevationAt(r,i,!0,!0),ie=v[0]!==0,fe=ie?v[1]===0?T*(v[0]/7-450):T*function(we,Te,De){const Le=Math.floor(Te[0]/8),Ne=Math.floor(Te[1]/8),Ye=10*(Te[0]-8*Le),ut=10*(Te[1]-8*Ne),yt=we.getElevationAt(Le,Ne,!0,!0),dt=we.getMeterToDEM(De),mt=Math.floor(.5*(Ye*dt-1)),St=Math.floor(.5*(ut*dt-1)),bt=we.tileCoordToPixel(Le,Ne),Ht=2*mt+1,$t=2*St+1,oi=function(Ci,Jt,Ii,pn,Ui){return[Ci.getElevationAtPixel(Jt,Ii,!0),Ci.getElevationAtPixel(Jt+Ui,Ii,!0),Ci.getElevationAtPixel(Jt,Ii+Ui,!0),Ci.getElevationAtPixel(Jt+pn,Ii+Ui,!0)]}(we,bt.x-mt,bt.y-St,Ht,$t),Ei=Math.abs(oi[0]-oi[1]),Zt=Math.abs(oi[2]-oi[3]),ai=Math.abs(oi[0]-oi[2])+Math.abs(oi[1]-oi[3]),ui=Math.min(.25,.5*dt*(Ei+Zt)/Ht),gi=Math.min(.25,.5*dt*ai/$t);return yt+Math.max(ui*Ye,gi*ut)}(p,v,R):K;return{base:K+(o===0)?-1:o,top:ie?Math.max(fe+h,K+o+2):K+h}}const g2=Vi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:_2}=g2,y2=Vi([{name:"a_packed",components:4,type:"Float32"}]),{members:v2}=y2,x2=T0.types,b2=Math.cos(Math.PI/180*37.5);class k0{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.projection=i.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(o=>{this.gradients[o.id]={}}),this.layoutVertexArray=new Yo,this.layoutVertexArray2=new Ao,this.indexArray=new ao,this.programConfigurations=new Pc(i.layers,i.zoom),this.segments=new Cr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,h,p){this.hasPattern=yg("line",this.layers,o);const v=this.layers[0].layout.get("line-sort-key"),T=[];for(const{feature:fe,id:we,index:Te,sourceLayerIndex:De}of i){const Le=this.layers[0]._featureFilter.needGeometry,Ne=Dc(fe,Le);if(!this.layers[0]._featureFilter.filter(new Dt(this.zoom),Ne,h))continue;const Ye=v?v.evaluate(Ne,{},h):void 0,ut={id:we,properties:fe.properties,type:fe.type,sourceLayerIndex:De,index:Te,geometry:Le?Ne.geometry:Jl(fe,h,p),patterns:{},sortKey:Ye};T.push(ut)}v&&T.sort((fe,we)=>fe.sortKey-we.sortKey);const{lineAtlas:R,featureIndex:K}=o,ie=this.addConstantDashes(R);for(const fe of T){const{geometry:we,index:Te,sourceLayerIndex:De}=fe;if(ie&&this.addFeatureDashes(fe,R),this.hasPattern){const Le=vg("line",this.layers,fe,this.zoom,o);this.patternFeatures.push(Le)}else this.addFeature(fe,we,Te,h,R.positions,o.availableImages);K.insert(i[Te].feature,we,Te,De,this.index)}}addConstantDashes(i){let o=!1;for(const h of this.layers){const p=h.paint.get("line-dasharray").value,v=h.layout.get("line-cap").value;if(p.kind!=="constant"||v.kind!=="constant")o=!0;else{const T=v.value,R=p.value;if(!R)continue;i.addDash(R,T)}}return o}addFeatureDashes(i,o){const h=this.zoom;for(const p of this.layers){const v=p.paint.get("line-dasharray").value,T=p.layout.get("line-cap").value;if(v.kind==="constant"&&T.kind==="constant")continue;let R,K;if(v.kind==="constant"){if(R=v.value,!R)continue}else R=v.evaluate({zoom:h},i);K=T.kind==="constant"?T.value:T.evaluate({zoom:h},i),o.addDash(R,K),i.patterns[p.id]=o.getKey(R,K)}}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}addFeatures(i,o,h,p,v){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,o,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,v2)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,_2),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&i.properties.hasOwnProperty("mapbox_clip_start")&&i.properties.hasOwnProperty("mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,o,h,p,v,T){const R=this.layers[0].layout,K=R.get("line-join").evaluate(i,{}),ie=R.get("line-cap").evaluate(i,{}),fe=R.get("line-miter-limit"),we=R.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const Te of o)this.addLine(Te,i,K,ie,fe,we);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,v,T,p)}addLine(i,o,h,p,v,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ut=0;ut<i.length-1;ut++)this.totalDistance+=i[ut].dist(i[ut+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const R=x2[o.type]==="Polygon";let K=i.length;for(;K>=2&&i[K-1].equals(i[K-2]);)K--;let ie=0;for(;ie<K-1&&i[ie].equals(i[ie+1]);)ie++;if(K<(R?3:2))return;h==="bevel"&&(v=1.05);const fe=this.overscaling<=16?122880/(512*this.overscaling):0,we=this.segments.prepareSegment(10*K,this.layoutVertexArray,this.indexArray);let Te,De,Le,Ne,Ye;this.e1=this.e2=-1,R&&(Te=i[K-2],Ye=i[ie].sub(Te)._unit()._perp());for(let ut=ie;ut<K;ut++){if(Le=ut===K-1?R?i[ie+1]:void 0:i[ut+1],Le&&i[ut].equals(Le))continue;Ye&&(Ne=Ye),Te&&(De=Te),Te=i[ut],Ye=Le?Le.sub(Te)._unit()._perp():Ne,Ne=Ne||Ye;let yt=Ne.add(Ye);yt.x===0&&yt.y===0||yt._unit();const dt=Ne.x*Ye.x+Ne.y*Ye.y,mt=yt.x*Ye.x+yt.y*Ye.y,St=mt!==0?1/mt:1/0,bt=2*Math.sqrt(2-2*mt),Ht=mt<b2&&De&&Le,$t=Ne.x*Ye.y-Ne.y*Ye.x>0;if(Ht&&ut>ie){const Zt=Te.dist(De);if(Zt>2*fe){const ai=Te.sub(Te.sub(De)._mult(fe/Zt)._round());this.updateDistance(De,ai),this.addCurrentVertex(ai,Ne,0,0,we),De=ai}}const oi=De&&Le;let Ei=oi?h:R?"butt":p;if(oi&&Ei==="round"&&(St<T?Ei="miter":St<=2&&(Ei="fakeround")),Ei==="miter"&&St>v&&(Ei="bevel"),Ei==="bevel"&&(St>2&&(Ei="flipbevel"),St<v&&(Ei="miter")),De&&this.updateDistance(De,Te),Ei==="miter")yt._mult(St),this.addCurrentVertex(Te,yt,0,0,we);else if(Ei==="flipbevel"){if(St>100)yt=Ye.mult(-1);else{const Zt=St*Ne.add(Ye).mag()/Ne.sub(Ye).mag();yt._perp()._mult(Zt*($t?-1:1))}this.addCurrentVertex(Te,yt,0,0,we),this.addCurrentVertex(Te,yt.mult(-1),0,0,we)}else if(Ei==="bevel"||Ei==="fakeround"){const Zt=-Math.sqrt(St*St-1),ai=$t?Zt:0,ui=$t?0:Zt;if(De&&this.addCurrentVertex(Te,Ne,ai,ui,we),Ei==="fakeround"){const gi=Math.round(180*bt/Math.PI/20);for(let Ci=1;Ci<gi;Ci++){let Jt=Ci/gi;if(Jt!==.5){const pn=Jt-.5;Jt+=Jt*pn*(Jt-1)*((1.0904+dt*(dt*(3.55645-1.43519*dt)-3.2452))*pn*pn+(.848013+dt*(.215638*dt-1.06021)))}const Ii=Ye.sub(Ne)._mult(Jt)._add(Ne)._unit()._mult($t?-1:1);this.addHalfVertex(Te,Ii.x,Ii.y,!1,$t,0,we)}}Le&&this.addCurrentVertex(Te,Ye,-ai,-ui,we)}else if(Ei==="butt")this.addCurrentVertex(Te,yt,0,0,we);else if(Ei==="square"){const Zt=De?1:-1;De||this.addCurrentVertex(Te,yt,Zt,Zt,we),this.addCurrentVertex(Te,yt,0,0,we),De&&this.addCurrentVertex(Te,yt,Zt,Zt,we)}else Ei==="round"&&(De&&(this.addCurrentVertex(Te,Ne,0,0,we),this.addCurrentVertex(Te,Ne,1,1,we,!0)),Le&&(this.addCurrentVertex(Te,Ye,-1,-1,we,!0),this.addCurrentVertex(Te,Ye,0,0,we)));if(Ht&&ut<K-1){const Zt=Te.dist(Le);if(Zt>2*fe){const ai=Te.add(Le.sub(Te)._mult(fe/Zt)._round());this.updateDistance(Te,ai),this.addCurrentVertex(ai,Ye,0,0,we),Te=ai}}}}addCurrentVertex(i,o,h,p,v,T=!1){const R=o.y*p-o.x,K=-o.y-o.x*p;this.addHalfVertex(i,o.x+o.y*h,o.y-o.x*h,T,!1,h,v),this.addHalfVertex(i,R,K,T,!0,-p,v)}addHalfVertex({x:i,y:o},h,p,v,T,R,K){this.layoutVertexArray.emplaceBack((i<<1)+(v?1:0),(o<<1)+(T?1:0),Math.round(63*h)+128,Math.round(63*p)+128,1+(R===0?0:R<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const ie=K.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,ie),K.primitiveLength++),T?this.e2=ie:this.e1=ie}updateScaledDistance(){if(this.lineClips){const i=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=i*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(i,o){this.distance+=i.dist(o),this.updateScaledDistance()}}zi(k0,"LineBucket",{omit:["layers","patternFeatures"]});const w2=new nn({"line-cap":new Xt(ni.layout_line["line-cap"]),"line-join":new Xt(ni.layout_line["line-join"]),"line-miter-limit":new Rt(ni.layout_line["line-miter-limit"]),"line-round-limit":new Rt(ni.layout_line["line-round-limit"]),"line-sort-key":new Xt(ni.layout_line["line-sort-key"])});var G_={paint:new nn({"line-opacity":new Xt(ni.paint_line["line-opacity"]),"line-color":new Xt(ni.paint_line["line-color"]),"line-translate":new Rt(ni.paint_line["line-translate"]),"line-translate-anchor":new Rt(ni.paint_line["line-translate-anchor"]),"line-width":new Xt(ni.paint_line["line-width"]),"line-gap-width":new Xt(ni.paint_line["line-gap-width"]),"line-offset":new Xt(ni.paint_line["line-offset"]),"line-blur":new Xt(ni.paint_line["line-blur"]),"line-dasharray":new Xt(ni.paint_line["line-dasharray"]),"line-pattern":new Xt(ni.paint_line["line-pattern"]),"line-gradient":new Hi(ni.paint_line["line-gradient"]),"line-trim-offset":new Rt(ni.paint_line["line-trim-offset"])}),layout:w2};const V_=new class extends Xt{possiblyEvaluate(r,i){return i=new Dt(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(r,i)}evaluate(r,i,o,h){return i=W({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(r,i,o,h)}}(G_.paint.properties["line-width"].specification);function $_(r,i){return i>0?i+2*r:r}V_.useIntegerZoom=!0;const T2=Vi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),tc=Vi([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),S2=Vi([{name:"a_projected_pos",components:4,type:"Float32"}],4);Vi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const E2=Vi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Id=Vi([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Vi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Un=Vi([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),C2=Vi([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Vi([{name:"triangle",components:3,type:"Uint16"}]),Vi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Vi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Vi([{type:"Float32",name:"offsetX"}]),Vi([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Gs=24;const Xs=128;function Cg(r,i){const{expression:o}=i;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new Dt(r+1))};if(o.kind==="source")return{kind:"source"};{const{zoomStops:h,interpolationType:p}=o;let v=0;for(;v<h.length&&h[v]<=r;)v++;v=Math.max(0,v-1);let T=v;for(;T<h.length&&h[T]<r+1;)T++;T=Math.min(h.length-1,T);const R=h[v],K=h[T];return o.kind==="composite"?{kind:"composite",minZoom:R,maxZoom:K,interpolationType:p}:{kind:"camera",minZoom:R,maxZoom:K,minSize:o.evaluate(new Dt(R)),maxSize:o.evaluate(new Dt(K)),interpolationType:p}}}function ic(r,{uSize:i,uSizeT:o},{lowerSize:h,upperSize:p}){return r.kind==="source"?h/Xs:r.kind==="composite"?Dn(h/Xs,p/Xs,o):i}function Ou(r,i){let o=0,h=0;if(r.kind==="constant")h=r.layoutSize;else if(r.kind!=="source"){const{interpolationType:p,minZoom:v,maxZoom:T}=r,R=p?y(ba.interpolationFactor(p,i,v,T),0,1):0;r.kind==="camera"?h=Dn(r.minSize,r.maxSize,R):o=R}return{uSizeT:o,uSize:h}}var M2=Object.freeze({__proto__:null,getSizeData:Cg,evaluateSizeForFeature:ic,evaluateSizeForZoom:Ou,SIZE_PACK_FACTOR:Xs});function A2(r,i,o){return r.sections.forEach(h=>{h.text=function(p,v,T){const R=v.layout.get("text-transform").evaluate(T,{});return R==="uppercase"?p=p.toLocaleUpperCase():R==="lowercase"&&(p=p.toLocaleLowerCase()),Nt.applyArabicShaping&&(p=Nt.applyArabicShaping(p)),p}(h.text,i,o)}),r}const Zp={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function k2(r){return r==="︶"||r==="﹈"||r==="︸"||r==="﹄"||r==="﹂"||r==="︾"||r==="︼"||r==="︺"||r==="︘"||r==="﹀"||r==="︐"||r==="︓"||r==="︔"||r==="｀"||r==="￣"||r==="︑"||r==="︒"}function Mg(r){return r==="︵"||r==="﹇"||r==="︷"||r==="﹃"||r==="﹁"||r==="︽"||r==="︻"||r==="︹"||r==="︗"||r==="︿"}var Kp=Cs,Oc=function(r,i,o,h,p){var v,T,R=8*p-h-1,K=(1<<R)-1,ie=K>>1,fe=-7,we=o?p-1:0,Te=o?-1:1,De=r[i+we];for(we+=Te,v=De&(1<<-fe)-1,De>>=-fe,fe+=R;fe>0;v=256*v+r[i+we],we+=Te,fe-=8);for(T=v&(1<<-fe)-1,v>>=-fe,fe+=h;fe>0;T=256*T+r[i+we],we+=Te,fe-=8);if(v===0)v=1-ie;else{if(v===K)return T?NaN:1/0*(De?-1:1);T+=Math.pow(2,h),v-=ie}return(De?-1:1)*T*Math.pow(2,v-h)},Ag=function(r,i,o,h,p,v){var T,R,K,ie=8*v-p-1,fe=(1<<ie)-1,we=fe>>1,Te=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,De=h?0:v-1,Le=h?1:-1,Ne=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(R=isNaN(i)?1:0,T=fe):(T=Math.floor(Math.log(i)/Math.LN2),i*(K=Math.pow(2,-T))<1&&(T--,K*=2),(i+=T+we>=1?Te/K:Te*Math.pow(2,1-we))*K>=2&&(T++,K/=2),T+we>=fe?(R=0,T=fe):T+we>=1?(R=(i*K-1)*Math.pow(2,p),T+=we):(R=i*Math.pow(2,we-1)*Math.pow(2,p),T=0));p>=8;r[o+De]=255&R,De+=Le,R/=256,p-=8);for(T=T<<p|R,ie+=p;ie>0;r[o+De]=255&T,De+=Le,T/=256,ie-=8);r[o+De-Le]|=128*Ne};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Cs(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}Cs.Varint=0,Cs.Fixed64=1,Cs.Bytes=2,Cs.Fixed32=5;var gr=4294967296,Ar=1/gr,kg=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function hh(r){return r.type===Cs.Bytes?r.readVarint()+r.pos:r.pos+1}function Ru(r,i,o){return o?4294967296*i+(r>>>0):4294967296*(i>>>0)+(r>>>0)}function H_(r,i,o){var h=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));o.realloc(h);for(var p=o.pos-1;p>=r;p--)o.buf[p+h]=o.buf[p]}function P2(r,i){for(var o=0;o<r.length;o++)i.writeVarint(r[o])}function D2(r,i){for(var o=0;o<r.length;o++)i.writeSVarint(r[o])}function I2(r,i){for(var o=0;o<r.length;o++)i.writeFloat(r[o])}function W_(r,i){for(var o=0;o<r.length;o++)i.writeDouble(r[o])}function Jp(r,i){for(var o=0;o<r.length;o++)i.writeBoolean(r[o])}function Pg(r,i){for(var o=0;o<r.length;o++)i.writeFixed32(r[o])}function L2(r,i){for(var o=0;o<r.length;o++)i.writeSFixed32(r[o])}function X_(r,i){for(var o=0;o<r.length;o++)i.writeFixed64(r[o])}function P0(r,i){for(var o=0;o<r.length;o++)i.writeSFixed64(r[o])}function ea(r,i){return(r[i]|r[i+1]<<8|r[i+2]<<16)+16777216*r[i+3]}function nc(r,i,o){r[o]=i,r[o+1]=i>>>8,r[o+2]=i>>>16,r[o+3]=i>>>24}function Y_(r,i){return(r[i]|r[i+1]<<8|r[i+2]<<16)+(r[i+3]<<24)}function O2(r,i,o){i.glyphs=[],r===1&&o.readMessage(R2,i)}function R2(r,i,o){if(r===3){const{id:h,bitmap:p,width:v,height:T,left:R,top:K,advance:ie}=o.readMessage(B2,{});i.glyphs.push({id:h,bitmap:new ch({width:v+6,height:T+6},p),metrics:{width:v,height:T,left:R,top:K,advance:ie}})}else r===4?i.ascender=o.readSVarint():r===5&&(i.descender=o.readSVarint())}function B2(r,i,o){r===1?i.id=o.readVarint():r===2?i.bitmap=o.readBytes():r===3?i.width=o.readVarint():r===4?i.height=o.readVarint():r===5?i.left=o.readSVarint():r===6?i.top=o.readSVarint():r===7&&(i.advance=o.readVarint())}function Dg(r){let i=0,o=0;for(const T of r)i+=T.w*T.h,o=Math.max(o,T.w);r.sort((T,R)=>R.h-T.h);const h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),o),h:1/0}];let p=0,v=0;for(const T of r)for(let R=h.length-1;R>=0;R--){const K=h[R];if(!(T.w>K.w||T.h>K.h)){if(T.x=K.x,T.y=K.y,v=Math.max(v,T.y+T.h),p=Math.max(p,T.x+T.w),T.w===K.w&&T.h===K.h){const ie=h.pop();R<h.length&&(h[R]=ie)}else T.h===K.h?(K.x+=T.w,K.w-=T.w):T.w===K.w?(K.y+=T.h,K.h-=T.h):(h.push({x:K.x+T.w,y:K.y,w:K.w-T.w,h:T.h}),K.y+=T.h,K.h-=T.h);break}}return{w:p,h:v,fill:i/(p*v)||0}}Cs.prototype={destroy:function(){this.buf=null},readFields:function(r,i,o){for(o=o||this.length;this.pos<o;){var h=this.readVarint(),p=h>>3,v=this.pos;this.type=7&h,r(p,i,this),this.pos===v&&this.skip(h)}return i},readMessage:function(r,i){return this.readFields(r,i,this.readVarint()+this.pos)},readFixed32:function(){var r=ea(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=Y_(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=ea(this.buf,this.pos)+ea(this.buf,this.pos+4)*gr;return this.pos+=8,r},readSFixed64:function(){var r=ea(this.buf,this.pos)+Y_(this.buf,this.pos+4)*gr;return this.pos+=8,r},readFloat:function(){var r=Oc(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=Oc(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var i,o,h=this.buf;return i=127&(o=h[this.pos++]),o<128?i:(i|=(127&(o=h[this.pos++]))<<7,o<128?i:(i|=(127&(o=h[this.pos++]))<<14,o<128?i:(i|=(127&(o=h[this.pos++]))<<21,o<128?i:function(p,v,T){var R,K,ie=T.buf;if(R=(112&(K=ie[T.pos++]))>>4,K<128||(R|=(127&(K=ie[T.pos++]))<<3,K<128)||(R|=(127&(K=ie[T.pos++]))<<10,K<128)||(R|=(127&(K=ie[T.pos++]))<<17,K<128)||(R|=(127&(K=ie[T.pos++]))<<24,K<128)||(R|=(1&(K=ie[T.pos++]))<<31,K<128))return Ru(p,R,v);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(o=h[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var r=this.readVarint()+this.pos,i=this.pos;return this.pos=r,r-i>=12&&kg?function(o,h,p){return kg.decode(o.subarray(h,p))}(this.buf,i,r):function(o,h,p){for(var v="",T=h;T<p;){var R,K,ie,fe=o[T],we=null,Te=fe>239?4:fe>223?3:fe>191?2:1;if(T+Te>p)break;Te===1?fe<128&&(we=fe):Te===2?(192&(R=o[T+1]))==128&&(we=(31&fe)<<6|63&R)<=127&&(we=null):Te===3?(K=o[T+2],(192&(R=o[T+1]))==128&&(192&K)==128&&((we=(15&fe)<<12|(63&R)<<6|63&K)<=2047||we>=55296&&we<=57343)&&(we=null)):Te===4&&(K=o[T+2],ie=o[T+3],(192&(R=o[T+1]))==128&&(192&K)==128&&(192&ie)==128&&((we=(15&fe)<<18|(63&R)<<12|(63&K)<<6|63&ie)<=65535||we>=1114112)&&(we=null)),we===null?(we=65533,Te=1):we>65535&&(we-=65536,v+=String.fromCharCode(we>>>10&1023|55296),we=56320|1023&we),v+=String.fromCharCode(we),T+=Te}return v}(this.buf,i,r)},readBytes:function(){var r=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,r);return this.pos=r,i},readPackedVarint:function(r,i){if(this.type!==Cs.Bytes)return r.push(this.readVarint(i));var o=hh(this);for(r=r||[];this.pos<o;)r.push(this.readVarint(i));return r},readPackedSVarint:function(r){if(this.type!==Cs.Bytes)return r.push(this.readSVarint());var i=hh(this);for(r=r||[];this.pos<i;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==Cs.Bytes)return r.push(this.readBoolean());var i=hh(this);for(r=r||[];this.pos<i;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==Cs.Bytes)return r.push(this.readFloat());var i=hh(this);for(r=r||[];this.pos<i;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==Cs.Bytes)return r.push(this.readDouble());var i=hh(this);for(r=r||[];this.pos<i;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==Cs.Bytes)return r.push(this.readFixed32());var i=hh(this);for(r=r||[];this.pos<i;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==Cs.Bytes)return r.push(this.readSFixed32());var i=hh(this);for(r=r||[];this.pos<i;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==Cs.Bytes)return r.push(this.readFixed64());var i=hh(this);for(r=r||[];this.pos<i;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==Cs.Bytes)return r.push(this.readSFixed64());var i=hh(this);for(r=r||[];this.pos<i;)r.push(this.readSFixed64());return r},skip:function(r){var i=7&r;if(i===Cs.Varint)for(;this.buf[this.pos++]>127;);else if(i===Cs.Bytes)this.pos=this.readVarint()+this.pos;else if(i===Cs.Fixed32)this.pos+=4;else{if(i!==Cs.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(r,i){this.writeVarint(r<<3|i)},realloc:function(r){for(var i=this.length||16;i<this.pos+r;)i*=2;if(i!==this.length){var o=new Uint8Array(i);o.set(this.buf),this.buf=o,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),nc(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),nc(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),nc(this.buf,-1&r,this.pos),nc(this.buf,Math.floor(r*Ar),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),nc(this.buf,-1&r,this.pos),nc(this.buf,Math.floor(r*Ar),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(i,o){var h,p;if(i>=0?(h=i%4294967296|0,p=i/4294967296|0):(p=~(-i/4294967296),4294967295^(h=~(-i%4294967296))?h=h+1|0:(h=0,p=p+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),function(v,T,R){R.buf[R.pos++]=127&v|128,v>>>=7,R.buf[R.pos++]=127&v|128,v>>>=7,R.buf[R.pos++]=127&v|128,v>>>=7,R.buf[R.pos++]=127&v|128,R.buf[R.pos]=127&(v>>>=7)}(h,0,o),function(v,T){var R=(7&v)<<4;T.buf[T.pos++]|=R|((v>>>=3)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v)))))}(p,o)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(Boolean(r))},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var i=this.pos;this.pos=function(h,p,v){for(var T,R,K=0;K<p.length;K++){if((T=p.charCodeAt(K))>55295&&T<57344){if(!R){T>56319||K+1===p.length?(h[v++]=239,h[v++]=191,h[v++]=189):R=T;continue}if(T<56320){h[v++]=239,h[v++]=191,h[v++]=189,R=T;continue}T=R-55296<<10|T-56320|65536,R=null}else R&&(h[v++]=239,h[v++]=191,h[v++]=189,R=null);T<128?h[v++]=T:(T<2048?h[v++]=T>>6|192:(T<65536?h[v++]=T>>12|224:(h[v++]=T>>18|240,h[v++]=T>>12&63|128),h[v++]=T>>6&63|128),h[v++]=63&T|128)}return v}(this.buf,r,this.pos);var o=this.pos-i;o>=128&&H_(i,o,this),this.pos=i-1,this.writeVarint(o),this.pos+=o},writeFloat:function(r){this.realloc(4),Ag(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),Ag(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var i=r.length;this.writeVarint(i),this.realloc(i);for(var o=0;o<i;o++)this.buf[this.pos++]=r[o]},writeRawMessage:function(r,i){this.pos++;var o=this.pos;r(i,this);var h=this.pos-o;h>=128&&H_(o,h,this),this.pos=o-1,this.writeVarint(h),this.pos+=h},writeMessage:function(r,i,o){this.writeTag(r,Cs.Bytes),this.writeRawMessage(i,o)},writePackedVarint:function(r,i){i.length&&this.writeMessage(r,P2,i)},writePackedSVarint:function(r,i){i.length&&this.writeMessage(r,D2,i)},writePackedBoolean:function(r,i){i.length&&this.writeMessage(r,Jp,i)},writePackedFloat:function(r,i){i.length&&this.writeMessage(r,I2,i)},writePackedDouble:function(r,i){i.length&&this.writeMessage(r,W_,i)},writePackedFixed32:function(r,i){i.length&&this.writeMessage(r,Pg,i)},writePackedSFixed32:function(r,i){i.length&&this.writeMessage(r,L2,i)},writePackedFixed64:function(r,i){i.length&&this.writeMessage(r,X_,i)},writePackedSFixed64:function(r,i){i.length&&this.writeMessage(r,P0,i)},writeBytesField:function(r,i){this.writeTag(r,Cs.Bytes),this.writeBytes(i)},writeFixed32Field:function(r,i){this.writeTag(r,Cs.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(r,i){this.writeTag(r,Cs.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(r,i){this.writeTag(r,Cs.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(r,i){this.writeTag(r,Cs.Fixed64),this.writeSFixed64(i)},writeVarintField:function(r,i){this.writeTag(r,Cs.Varint),this.writeVarint(i)},writeSVarintField:function(r,i){this.writeTag(r,Cs.Varint),this.writeSVarint(i)},writeStringField:function(r,i){this.writeTag(r,Cs.Bytes),this.writeString(i)},writeFloatField:function(r,i){this.writeTag(r,Cs.Fixed32),this.writeFloat(i)},writeDoubleField:function(r,i){this.writeTag(r,Cs.Fixed64),this.writeDouble(i)},writeBooleanField:function(r,i){this.writeVarintField(r,Boolean(i))}};class D0{constructor(i,{pixelRatio:o,version:h,stretchX:p,stretchY:v,content:T}){this.paddedRect=i,this.pixelRatio=o,this.stretchX=p,this.stretchY=v,this.content=T,this.version=h}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Rc{constructor(i,o){const h={},p={};this.haveRenderCallbacks=[];const v=[];this.addImages(i,h,v),this.addImages(o,p,v);const{w:T,h:R}=Dg(v),K=new Ma({width:T||1,height:R||1});for(const ie in i){const fe=i[ie],we=h[ie].paddedRect;Ma.copy(fe.data,K,{x:0,y:0},{x:we.x+1,y:we.y+1},fe.data)}for(const ie in o){const fe=o[ie],we=p[ie].paddedRect,Te=we.x+1,De=we.y+1,Le=fe.data.width,Ne=fe.data.height;Ma.copy(fe.data,K,{x:0,y:0},{x:Te,y:De},fe.data),Ma.copy(fe.data,K,{x:0,y:Ne-1},{x:Te,y:De-1},{width:Le,height:1}),Ma.copy(fe.data,K,{x:0,y:0},{x:Te,y:De+Ne},{width:Le,height:1}),Ma.copy(fe.data,K,{x:Le-1,y:0},{x:Te-1,y:De},{width:1,height:Ne}),Ma.copy(fe.data,K,{x:0,y:0},{x:Te+Le,y:De},{width:1,height:Ne})}this.image=K,this.iconPositions=h,this.patternPositions=p}addImages(i,o,h){for(const p in i){const v=i[p],T={x:0,y:0,w:v.data.width+2,h:v.data.height+2};h.push(T),o[p]=new D0(T,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(i,o){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(h=>i.hasImage(h)),i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const h in i.updatedImages)this.patchUpdatedImage(this.iconPositions[h],i.getImage(h),o),this.patchUpdatedImage(this.patternPositions[h],i.getImage(h),o)}patchUpdatedImage(i,o,h){if(!i||!o||i.version===o.version)return;i.version=o.version;const[p,v]=i.tl;h.update(o.data,void 0,{x:p,y:v})}}zi(D0,"ImagePosition"),zi(Rc,"ImageAtlas");const Mn={horizontal:1,vertical:2,horizontalOnly:3};class Bu{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,o){const h=new Bu;return h.scale=i||1,h.fontStack=o,h}static forImage(i){const o=new Bu;return o.imageName=i,o}}class ko{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,o){const h=new ko;for(let p=0;p<i.sections.length;p++){const v=i.sections[p];v.image?h.addImageSection(v):h.addTextSection(v,o)}return h}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSections(){return this.sections}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(i){this.text=function(o,h){let p="";for(let v=0;v<o.length;v++){const T=o.charCodeAt(v+1)||null,R=o.charCodeAt(v-1)||null;p+=!h&&(T&&Ce(T)&&!Zp[o[v+1]]||R&&Ce(R)&&!Zp[o[v-1]])||!Zp[o[v]]?o[v]:Zp[o[v]]}return p}(this.text,i)}trim(){let i=0;for(let h=0;h<this.text.length&&L0[this.text.charCodeAt(h)];h++)i++;let o=this.text.length;for(let h=this.text.length-1;h>=0&&h>=i&&L0[this.text.charCodeAt(h)];h--)o--;this.text=this.text.substring(i,o),this.sectionIndex=this.sectionIndex.slice(i,o)}substring(i,o){const h=new ko;return h.text=this.text.substring(i,o),h.sectionIndex=this.sectionIndex.slice(i,o),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,o)=>Math.max(i,this.sections[o].scale),0)}addTextSection(i,o){this.text+=i.text,this.sections.push(Bu.forText(i.scale,i.fontStack||o));const h=this.sections.length-1;for(let p=0;p<i.text.length;++p)this.sectionIndex.push(h)}addImageSection(i){const o=i.image?i.image.name:"";if(o.length===0)return void le("Can't add FormattedSection with an empty image.");const h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push(Bu.forImage(o)),this.sectionIndex.push(this.sections.length-1)):le("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function I0(r,i,o,h,p,v,T,R,K,ie,fe,we,Te,De,Le){const Ne=ko.fromFeature(r,p);we===Mn.vertical&&Ne.verticalizePunctuation(Te);let Ye=[];const ut=function(bt,Ht,$t,oi,Ei,Zt){if(!bt)return[];const ai=[],ui=function(Ii,pn,Ui,Ji,Li,_n){let Zn=0;for(let Hn=0;Hn<Ii.length();Hn++){const Gn=Ii.getSection(Hn);Zn+=q_(Ii.getCharCode(Hn),Gn,Ji,Li,pn,_n)}return Zn/Math.max(1,Math.ceil(Zn/Ui))}(bt,Ht,$t,oi,Ei,Zt),gi=bt.text.indexOf("​")>=0;let Ci=0;for(let Ii=0;Ii<bt.length();Ii++){const pn=bt.getSection(Ii),Ui=bt.getCharCode(Ii);if(L0[Ui]||(Ci+=q_(Ui,pn,oi,Ei,Ht,Zt)),Ii<bt.length()-1){const Ji=!((Jt=Ui)<11904||!(ha(Jt)||Jf(Jt)||u(Jt)||nh(Jt)||i0(Jt)||kp(Jt)||Qf(Jt)||Nh(Jt)||n0(Jt)||vu(Jt)||t0(Jt)||B(Jt)||Wa(Jt)||Dp(Jt)||Pp(Jt)||e0(Jt)||yu(Jt)||a(Jt)||s0(Jt)||Ip(Jt)));(Ys[Ui]||Ji||pn.imageName)&&ai.push(Z_(Ii+1,Ci,ui,ai,O0(Ui,bt.getCharCode(Ii+1),Ji&&gi),!1))}}var Jt;return K_(Z_(bt.length(),Ci,ui,ai,0,!0))}(Ne,ie,v,i,h,De),{processBidirectionalText:yt,processStyledBidirectionalText:dt}=Nt;if(yt&&Ne.sections.length===1){const bt=yt(Ne.toString(),ut);for(const Ht of bt){const $t=new ko;$t.text=Ht,$t.sections=Ne.sections;for(let oi=0;oi<Ht.length;oi++)$t.sectionIndex.push(0);Ye.push($t)}}else if(dt){const bt=dt(Ne.text,Ne.sectionIndex,ut);for(const Ht of bt){const $t=new ko;$t.text=Ht[0],$t.sectionIndex=Ht[1],$t.sections=Ne.sections,Ye.push($t)}}else Ye=function(bt,Ht){const $t=[],oi=bt.text;let Ei=0;for(const Zt of Ht)$t.push(bt.substring(Ei,Zt)),Ei=Zt;return Ei<oi.length&&$t.push(bt.substring(Ei,oi.length)),$t}(Ne,ut);const mt=[],St={positionedLines:mt,text:Ne.toString(),top:fe[1],bottom:fe[1],left:fe[0],right:fe[0],writingMode:we,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(bt,Ht,$t,oi,Ei,Zt,ai,ui,gi,Ci,Jt,Ii){let pn=0,Ui=0,Ji=0;const Li=ui==="right"?1:ui==="left"?0:.5;let _n=!1;for(const Pn of Ei){const Kn=Pn.getSections();for(const Vs of Kn){if(Vs.imageName)continue;const er=Ht[Vs.fontStack];if(er&&(_n=er.ascender!==void 0&&er.descender!==void 0,!_n))break}if(!_n)break}let Zn=0;for(const Pn of Ei){Pn.trim();const Kn=Pn.getMaxScale(),Vs=(Kn-1)*Gs,er={positionedGlyphs:[],lineOffset:0};bt.positionedLines[Zn]=er;const Ks=er.positionedGlyphs;let tr=0;if(!Pn.length()){Ui+=Zt,++Zn;continue}let sr=0,Pr=0;for(let Os=0;Os<Pn.length();Os++){const eo=Pn.getSection(Os),qr=Pn.getSectionIndex(Os),ys=Pn.getCharCode(Os);let _r=eo.scale,co=null,$s=null,Nr=null,fa=Gs,Do=0;const Io=!(gi===Mn.horizontal||!Jt&&!ke(ys)||Jt&&(L0[ys]||(Hn=ys,Mp(Hn)||ul(Hn)||Ap(Hn)||_(Hn)||D(Hn))));if(eo.imageName){const Pa=oi[eo.imageName];if(!Pa)continue;Nr=eo.imageName,bt.iconsInText=bt.iconsInText||!0,$s=Pa.paddedRect;const Lo=Pa.displaySize;_r=_r*Gs/Ii,co={width:Lo[0],height:Lo[1],left:1,top:-3,advance:Io?Lo[1]:Lo[0],localGlyph:!1},Do=_n?-co.height*_r:Kn*Gs-17-Lo[1]*_r,fa=co.advance;const Fd=(Io?Lo[0]:Lo[1])*_r-Gs*Kn;Fd>0&&Fd>tr&&(tr=Fd)}else{const Pa=$t[eo.fontStack];if(!Pa)continue;Pa[ys]&&($s=Pa[ys]);const Lo=Ht[eo.fontStack];if(!Lo)continue;const Fd=Lo.glyphs[ys];if(!Fd)continue;if(co=Fd.metrics,fa=ys!==8203?Gs:0,_n){const q0=Lo.ascender!==void 0?Math.abs(Lo.ascender):0,n1=Lo.descender!==void 0?Math.abs(Lo.descender):0,s1=(q0+n1)*_r;sr<s1&&(sr=s1,Pr=(q0-n1)/2*_r),Do=-q0*_r}else Do=(Kn-_r)*Gs-17}Io?(bt.verticalizable=!0,Ks.push({glyph:ys,imageName:Nr,x:pn,y:Ui+Do,vertical:Io,scale:_r,localGlyph:co.localGlyph,fontStack:eo.fontStack,sectionIndex:qr,metrics:co,rect:$s}),pn+=fa*_r+Ci):(Ks.push({glyph:ys,imageName:Nr,x:pn,y:Ui+Do,vertical:Io,scale:_r,localGlyph:co.localGlyph,fontStack:eo.fontStack,sectionIndex:qr,metrics:co,rect:$s}),pn+=co.advance*_r+Ci)}Ks.length!==0&&(Ji=Math.max(pn-Ci,Ji),_n?J_(Ks,Li,tr,Pr,Zt*Kn/2):J_(Ks,Li,tr,0,Zt/2)),pn=0;const Po=Zt*Kn+tr;er.lineOffset=Math.max(tr,Vs),Ui+=Po,++Zn}var Hn;const Gn=Ui,{horizontalAlign:bn,verticalAlign:Ls}=Lg(ai);(function(Pn,Kn,Vs,er,Ks,tr){const sr=(Kn-Vs)*Ks,Pr=-tr*er;for(const Po of Pn)for(const Os of Po.positionedGlyphs)Os.x+=sr,Os.y+=Pr})(bt.positionedLines,Li,bn,Ls,Ji,Gn),bt.top+=-Ls*Gn,bt.bottom=bt.top+Gn,bt.left+=-bn*Ji,bt.right=bt.left+Ji,bt.hasBaseline=_n}(St,i,o,h,Ye,T,R,K,we,ie,Te,Le),!function(bt){for(const Ht of bt)if(Ht.positionedGlyphs.length!==0)return!1;return!0}(mt)&&St}const L0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ys={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function q_(r,i,o,h,p,v){if(i.imageName){const T=h[i.imageName];return T?T.displaySize[0]*i.scale*Gs/v+p:0}{const T=o[i.fontStack],R=T&&T.glyphs[r];return R?R.metrics.advance*i.scale+p:0}}function Ig(r,i,o,h){const p=Math.pow(r-i,2);return h?r<i?p/2:2*p:p+Math.abs(o)*o}function O0(r,i,o){let h=0;return r===10&&(h-=1e4),o&&(h+=150),r!==40&&r!==65288||(h+=50),i!==41&&i!==65289||(h+=50),h}function Z_(r,i,o,h,p,v){let T=null,R=Ig(i,o,p,v);for(const K of h){const ie=Ig(i-K.x,o,p,v)+K.badness;ie<=R&&(T=K,R=ie)}return{index:r,x:i,priorBreak:T,badness:R}}function K_(r){return r?K_(r.priorBreak).concat(r.index):[]}function Lg(r){let i=.5,o=.5;switch(r){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:i,verticalAlign:o}}function J_(r,i,o,h,p){if(!(i||o||h||p))return;const v=r.length-1,T=r[v],R=(T.x+T.metrics.advance*T.scale)*i;for(let K=0;K<=v;K++)r[K].x-=R,r[K].y+=o+h+p}function z2(r,i,o){const{horizontalAlign:h,verticalAlign:p}=Lg(o),v=i[0]-r.displaySize[0]*h,T=i[1]-r.displaySize[1]*p;return{image:r,top:T,bottom:T+r.displaySize[1],left:v,right:v+r.displaySize[0]}}function Q_(r,i,o,h,p,v){const T=r.image;let R;if(T.content){const Ye=T.content,ut=T.pixelRatio||1;R=[Ye[0]/ut,Ye[1]/ut,T.displaySize[0]-Ye[2]/ut,T.displaySize[1]-Ye[3]/ut]}const K=i.left*v,ie=i.right*v;let fe,we,Te,De;o==="width"||o==="both"?(De=p[0]+K-h[3],we=p[0]+ie+h[1]):(De=p[0]+(K+ie-T.displaySize[0])/2,we=De+T.displaySize[0]);const Le=i.top*v,Ne=i.bottom*v;return o==="height"||o==="both"?(fe=p[1]+Le-h[0],Te=p[1]+Ne+h[2]):(fe=p[1]+(Le+Ne-T.displaySize[1])/2,Te=fe+T.displaySize[1]),{image:T,top:fe,right:we,bottom:Te,left:De,collisionPadding:R}}class dh extends V{constructor(i,o,h,p,v){super(i,o),this.angle=p,this.z=h,v!==void 0&&(this.segment=v)}clone(){return new dh(this.x,this.y,this.z,this.angle,this.segment)}}function ey(r,i,o,h,p){if(i.segment===void 0)return!0;let v=i,T=i.segment+1,R=0;for(;R>-o/2;){if(T--,T<0)return!1;R-=r[T].dist(v),v=r[T]}R+=r[T].dist(r[T+1]),T++;const K=[];let ie=0;for(;R<o/2;){const fe=r[T],we=r[T+1];if(!we)return!1;let Te=r[T-1].angleTo(fe)-fe.angleTo(we);for(Te=Math.abs((Te+3*Math.PI)%(2*Math.PI)-Math.PI),K.push({distance:R,angleDelta:Te}),ie+=Te;R-K[0].distance>h;)ie-=K.shift().angleDelta;if(ie>p)return!1;T++,R+=fe.dist(we)}return!0}function ty(r){let i=0;for(let o=0;o<r.length-1;o++)i+=r[o].dist(r[o+1]);return i}function iy(r,i,o){return r?.6*i*o:0}function ny(r,i){return Math.max(r?r.right-r.left:0,i?i.right-i.left:0)}function F2(r,i,o,h,p,v){const T=iy(o,p,v),R=ny(o,h)*v;let K=0;const ie=ty(r)/2;for(let fe=0;fe<r.length-1;fe++){const we=r[fe],Te=r[fe+1],De=we.dist(Te);if(K+De>ie){const Le=(ie-K)/De,Ne=Dn(we.x,Te.x,Le),Ye=Dn(we.y,Te.y,Le),ut=new dh(Ne,Ye,0,Te.angleTo(we),fe);return!T||ey(r,ut,R,T,i)?ut:void 0}K+=De}}function N2(r,i,o,h,p,v,T,R,K){const ie=iy(h,v,T),fe=ny(h,p),we=fe*T,Te=r[0].x===0||r[0].x===K||r[0].y===0||r[0].y===K;return i-we<i/4&&(i=we+i/4),R0(r,Te?i/2*R%i:(fe/2+2*v)*T*R%i,i,ie,o,we,Te,!1,K)}function R0(r,i,o,h,p,v,T,R,K){const ie=v/2,fe=ty(r);let we=0,Te=i-o,De=[];for(let Le=0;Le<r.length-1;Le++){const Ne=r[Le],Ye=r[Le+1],ut=Ne.dist(Ye),yt=Ye.angleTo(Ne);for(;Te+o<we+ut;){Te+=o;const dt=(Te-we)/ut,mt=Dn(Ne.x,Ye.x,dt),St=Dn(Ne.y,Ye.y,dt);if(mt>=0&&mt<K&&St>=0&&St<K&&Te-ie>=0&&Te+ie<=fe){const bt=new dh(mt,St,0,yt,Le);bt._round(),h&&!ey(r,bt,v,h,p)||De.push(bt)}}we+=ut}return R||De.length||T||(De=R0(r,we/2,o,h,p,v,T,!0,K)),De}function sy(r,i,o,h,p){const v=[];for(let T=0;T<r.length;T++){const R=r[T];let K;for(let ie=0;ie<R.length-1;ie++){let fe=R[ie],we=R[ie+1];fe.x<i&&we.x<i||(fe.x<i?fe=new V(i,fe.y+(i-fe.x)/(we.x-fe.x)*(we.y-fe.y))._round():we.x<i&&(we=new V(i,fe.y+(i-fe.x)/(we.x-fe.x)*(we.y-fe.y))._round()),fe.y<o&&we.y<o||(fe.y<o?fe=new V(fe.x+(o-fe.y)/(we.y-fe.y)*(we.x-fe.x),o)._round():we.y<o&&(we=new V(fe.x+(o-fe.y)/(we.y-fe.y)*(we.x-fe.x),o)._round()),fe.x>=h&&we.x>=h||(fe.x>=h?fe=new V(h,fe.y+(h-fe.x)/(we.x-fe.x)*(we.y-fe.y))._round():we.x>=h&&(we=new V(h,fe.y+(h-fe.x)/(we.x-fe.x)*(we.y-fe.y))._round()),fe.y>=p&&we.y>=p||(fe.y>=p?fe=new V(fe.x+(p-fe.y)/(we.y-fe.y)*(we.x-fe.x),p)._round():we.y>=p&&(we=new V(fe.x+(p-fe.y)/(we.y-fe.y)*(we.x-fe.x),p)._round()),K&&fe.equals(K[K.length-1])||(K=[fe],v.push(K)),K.push(we)))))}}return v}zi(dh,"Anchor");const Ld=1e20;function ry(r,i,o,h,p,v,T,R,K){for(let ie=i;ie<i+h;ie++)oy(r,o*v+ie,v,p,T,R,K);for(let ie=o;ie<o+p;ie++)oy(r,ie*v+i,1,h,T,R,K)}function oy(r,i,o,h,p,v,T){v[0]=0,T[0]=-Ld,T[1]=Ld,p[0]=r[i];for(let R=1,K=0,ie=0;R<h;R++){p[R]=r[i+R*o];const fe=R*R;do{const we=v[K];ie=(p[R]-p[we]+fe-we*we)/(R-we)/2}while(ie<=T[K]&&--K>-1);K++,v[K]=R,T[K]=ie,T[K+1]=Ld}for(let R=0,K=0;R<h;R++){for(;T[K+1]<R;)K++;const ie=v[K],fe=R-ie;r[i+R*o]=p[ie]+fe*fe}}const Og={none:0,ideographs:1,all:2};class kr{constructor(i,o,h){this.requestManager=i,this.localGlyphMode=o,this.localFontFamily=h,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(i){this.url=i}getGlyphs(i,o){const h=[];for(const p in i)for(const v of i[p])h.push({stack:p,id:v});j(h,({stack:p,id:v},T)=>{let R=this.entries[p];R||(R=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let K=R.glyphs[v];if(K!==void 0)return void T(null,{stack:p,id:v,glyph:K});if(K=this._tinySDF(R,p,v),K)return R.glyphs[v]=K,void T(null,{stack:p,id:v,glyph:K});const ie=Math.floor(v/256);if(256*ie>65535)return void T(new Error("glyphs > 65535 not supported"));if(R.ranges[ie])return void T(null,{stack:p,id:v,glyph:K});let fe=R.requests[ie];fe||(fe=R.requests[ie]=[],kr.loadGlyphRange(p,ie,this.url,this.requestManager,(we,Te)=>{if(Te){R.ascender=Te.ascender,R.descender=Te.descender;for(const De in Te.glyphs)this._doesCharSupportLocalGlyph(+De)||(R.glyphs[+De]=Te.glyphs[+De]);R.ranges[ie]=!0}for(const De of fe)De(we,Te);delete R.requests[ie]})),fe.push((we,Te)=>{we?T(we):Te&&T(null,{stack:p,id:v,glyph:Te.glyphs[v]||null})})},(p,v)=>{if(p)o(p);else if(v){const T={};for(const{stack:R,id:K,glyph:ie}of v)T[R]===void 0&&(T[R]={}),T[R].glyphs===void 0&&(T[R].glyphs={}),T[R].glyphs[K]=ie&&{id:ie.id,bitmap:ie.bitmap.clone(),metrics:ie.metrics},T[R].ascender=this.entries[R].ascender,T[R].descender=this.entries[R].descender;o(null,T)}})}_doesCharSupportLocalGlyph(i){return this.localGlyphMode!==Og.none&&(this.localGlyphMode===Og.all?!!this.localFontFamily:!!this.localFontFamily&&(vu(i)||Lp(i)||Wa(i)||yu(i)||Nh(i)))}_tinySDF(i,o,h){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(h))return;let v=i.tinySDF;if(!v){let Ne="400";/bold/i.test(o)?Ne="900":/medium/i.test(o)?Ne="500":/light/i.test(o)&&(Ne="200"),v=i.tinySDF=new kr.TinySDF({fontFamily:p,fontWeight:Ne,fontSize:48,buffer:6,radius:16}),v.fontWeight=Ne}if(this.localGlyphs[v.fontWeight][h])return this.localGlyphs[v.fontWeight][h];const T=String.fromCharCode(h),{data:R,width:K,height:ie,glyphWidth:fe,glyphHeight:we,glyphLeft:Te,glyphTop:De,glyphAdvance:Le}=v.draw(T);return this.localGlyphs[v.fontWeight][h]={id:h,bitmap:new ch({width:K,height:ie},R),metrics:{width:fe/2,height:we/2,left:Te/2,top:De/2-27,advance:Le/2,localGlyph:!0}}}}function pa(r,i,o,h){const p=[],v=r.image,T=v.pixelRatio,R=v.paddedRect.w-2,K=v.paddedRect.h-2,ie=r.right-r.left,fe=r.bottom-r.top,we=v.stretchX||[[0,R]],Te=v.stretchY||[[0,K]],De=(Zt,ai)=>Zt+ai[1]-ai[0],Le=we.reduce(De,0),Ne=Te.reduce(De,0),Ye=R-Le,ut=K-Ne;let yt=0,dt=Le,mt=0,St=Ne,bt=0,Ht=Ye,$t=0,oi=ut;if(v.content&&h){const Zt=v.content;yt=B0(we,0,Zt[0]),mt=B0(Te,0,Zt[1]),dt=B0(we,Zt[0],Zt[2]),St=B0(Te,Zt[1],Zt[3]),bt=Zt[0]-yt,$t=Zt[1]-mt,Ht=Zt[2]-Zt[0]-dt,oi=Zt[3]-Zt[1]-St}const Ei=(Zt,ai,ui,gi)=>{const Ci=z0(Zt.stretch-yt,dt,ie,r.left),Jt=Qp(Zt.fixed-bt,Ht,Zt.stretch,Le),Ii=z0(ai.stretch-mt,St,fe,r.top),pn=Qp(ai.fixed-$t,oi,ai.stretch,Ne),Ui=z0(ui.stretch-yt,dt,ie,r.left),Ji=Qp(ui.fixed-bt,Ht,ui.stretch,Le),Li=z0(gi.stretch-mt,St,fe,r.top),_n=Qp(gi.fixed-$t,oi,gi.stretch,Ne),Zn=new V(Ci,Ii),Hn=new V(Ui,Ii),Gn=new V(Ui,Li),bn=new V(Ci,Li),Ls=new V(Jt/T,pn/T),Pn=new V(Ji/T,_n/T),Kn=i*Math.PI/180;if(Kn){const Ks=Math.sin(Kn),tr=Math.cos(Kn),sr=[tr,-Ks,Ks,tr];Zn._matMult(sr),Hn._matMult(sr),bn._matMult(sr),Gn._matMult(sr)}const Vs=Zt.stretch+Zt.fixed,er=ai.stretch+ai.fixed;return{tl:Zn,tr:Hn,bl:bn,br:Gn,tex:{x:v.paddedRect.x+1+Vs,y:v.paddedRect.y+1+er,w:ui.stretch+ui.fixed-Vs,h:gi.stretch+gi.fixed-er},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ls,pixelOffsetBR:Pn,minFontScaleX:Ht/T/ie,minFontScaleY:oi/T/fe,isSDF:o}};if(h&&(v.stretchX||v.stretchY)){const Zt=ay(we,Ye,Le),ai=ay(Te,ut,Ne);for(let ui=0;ui<Zt.length-1;ui++){const gi=Zt[ui],Ci=Zt[ui+1];for(let Jt=0;Jt<ai.length-1;Jt++)p.push(Ei(gi,ai[Jt],Ci,ai[Jt+1]))}}else p.push(Ei({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:R+1},{fixed:0,stretch:K+1}));return p}function B0(r,i,o){let h=0;for(const p of r)h+=Math.max(i,Math.min(o,p[1]))-Math.max(i,Math.min(o,p[0]));return h}function ay(r,i,o){const h=[{fixed:-1,stretch:0}];for(const[p,v]of r){const T=h[h.length-1];h.push({fixed:p-T.stretch,stretch:T.stretch}),h.push({fixed:p-T.stretch,stretch:T.stretch+(v-p)})}return h.push({fixed:i+1,stretch:o}),h}function z0(r,i,o,h){return r/i*o+h}function Qp(r,i,o,h){return r-i*o/h}function j2(r,i,o,h){const p=i+r.positionedLines[h].lineOffset;return h===0?o+p/2:o+(p+(i+r.positionedLines[h-1].lineOffset))/2}kr.loadGlyphRange=function(r,i,o,h,p){const v=256*i,T=v+255,R=h.transformRequest(h.normalizeGlyphsURL(o).replace("{fontstack}",r).replace("{range}",`${v}-${T}`),si.Glyphs);Zi(R,(K,ie)=>{if(K)p(K);else if(ie){const fe={},we=function(Te){return new Kp(Te).readFields(O2,{})}(ie);for(const Te of we.glyphs)fe[Te.id]=Te;p(null,{glyphs:fe,ascender:we.ascender,descender:we.descender})}})},kr.TinySDF=class{constructor({fontSize:r=24,buffer:i=3,radius:o=8,cutoff:h=.25,fontFamily:p="sans-serif",fontWeight:v="normal",fontStyle:T="normal"}={}){this.buffer=i,this.cutoff=h,this.radius=o;const R=this.size=r+4*i,K=this._createCanvas(R),ie=this.ctx=K.getContext("2d",{willReadFrequently:!0});ie.font=`${T} ${v} ${r}px ${p}`,ie.textBaseline="alphabetic",ie.textAlign="left",ie.fillStyle="black",this.gridOuter=new Float64Array(R*R),this.gridInner=new Float64Array(R*R),this.f=new Float64Array(R),this.z=new Float64Array(R+1),this.v=new Uint16Array(R)}_createCanvas(r){const i=document.createElement("canvas");return i.width=i.height=r,i}draw(r){const{width:i,actualBoundingBoxAscent:o,actualBoundingBoxDescent:h,actualBoundingBoxLeft:p,actualBoundingBoxRight:v}=this.ctx.measureText(r),T=Math.ceil(o),R=Math.min(this.size-this.buffer,Math.ceil(v-p)),K=Math.min(this.size-this.buffer,T+Math.ceil(h)),ie=R+2*this.buffer,fe=K+2*this.buffer,we=Math.max(ie*fe,0),Te=new Uint8ClampedArray(we),De={data:Te,width:ie,height:fe,glyphWidth:R,glyphHeight:K,glyphTop:T,glyphLeft:0,glyphAdvance:i};if(R===0||K===0)return De;const{ctx:Le,buffer:Ne,gridInner:Ye,gridOuter:ut}=this;Le.clearRect(Ne,Ne,R,K),Le.fillText(r,Ne,Ne+T);const yt=Le.getImageData(Ne,Ne,R,K);ut.fill(Ld,0,we),Ye.fill(0,0,we);for(let dt=0;dt<K;dt++)for(let mt=0;mt<R;mt++){const St=yt.data[4*(dt*R+mt)+3]/255;if(St===0)continue;const bt=(dt+Ne)*ie+mt+Ne;if(St===1)ut[bt]=0,Ye[bt]=Ld;else{const Ht=.5-St;ut[bt]=Ht>0?Ht*Ht:0,Ye[bt]=Ht<0?Ht*Ht:0}}ry(ut,0,0,ie,fe,ie,this.f,this.v,this.z),ry(Ye,Ne,Ne,R,K,ie,this.f,this.v,this.z);for(let dt=0;dt<we;dt++){const mt=Math.sqrt(ut[dt])-Math.sqrt(Ye[dt]);Te[dt]=Math.round(255-255*(mt/this.radius+this.cutoff))}return De}};class U2{constructor(i=[],o=G2){if(this.data=i,this.length=this.data.length,this.compare=o,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:o,compare:h}=this,p=o[i];for(;i>0;){const v=i-1>>1,T=o[v];if(h(p,T)>=0)break;o[i]=T,i=v}o[i]=p}_down(i){const{data:o,compare:h}=this,p=this.length>>1,v=o[i];for(;i<p;){let T=1+(i<<1),R=o[T];const K=T+1;if(K<this.length&&h(o[K],R)<0&&(T=K,R=o[K]),h(R,v)>=0)break;o[i]=R,i=T}o[i]=v}}function G2(r,i){return r<i?-1:r>i?1:0}function ly(r,i=1,o=!1){let h=1/0,p=1/0,v=-1/0,T=-1/0;const R=r[0];for(let De=0;De<R.length;De++){const Le=R[De];(!De||Le.x<h)&&(h=Le.x),(!De||Le.y<p)&&(p=Le.y),(!De||Le.x>v)&&(v=Le.x),(!De||Le.y>T)&&(T=Le.y)}const K=Math.min(v-h,T-p);let ie=K/2;const fe=new U2([],V2);if(K===0)return new V(h,p);for(let De=h;De<v;De+=K)for(let Le=p;Le<T;Le+=K)fe.push(new zu(De+ie,Le+ie,ie,r));let we=function(De){let Le=0,Ne=0,Ye=0;const ut=De[0];for(let yt=0,dt=ut.length,mt=dt-1;yt<dt;mt=yt++){const St=ut[yt],bt=ut[mt],Ht=St.x*bt.y-bt.x*St.y;Ne+=(St.x+bt.x)*Ht,Ye+=(St.y+bt.y)*Ht,Le+=3*Ht}return new zu(Ne/Le,Ye/Le,0,De)}(r),Te=fe.length;for(;fe.length;){const De=fe.pop();(De.d>we.d||!we.d)&&(we=De,o&&console.log("found best %d after %d probes",Math.round(1e4*De.d)/1e4,Te)),De.max-we.d<=i||(ie=De.h/2,fe.push(new zu(De.p.x-ie,De.p.y-ie,ie,r)),fe.push(new zu(De.p.x+ie,De.p.y-ie,ie,r)),fe.push(new zu(De.p.x-ie,De.p.y+ie,ie,r)),fe.push(new zu(De.p.x+ie,De.p.y+ie,ie,r)),Te+=4)}return o&&(console.log(`num probes: ${Te}`),console.log(`best distance: ${we.d}`)),we.p}function V2(r,i){return i.max-r.max}function zu(r,i,o,h){this.p=new V(r,i),this.h=o,this.d=function(p,v){let T=!1,R=1/0;for(let K=0;K<v.length;K++){const ie=v[K];for(let fe=0,we=ie.length,Te=we-1;fe<we;Te=fe++){const De=ie[fe],Le=ie[Te];De.y>p.y!=Le.y>p.y&&p.x<(Le.x-De.x)*(p.y-De.y)/(Le.y-De.y)+De.x&&(T=!T),R=Math.min(R,p_(p,De,Le))}}return(T?1:-1)*Math.sqrt(R)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}const Rg=Number.POSITIVE_INFINITY,cy=Math.sqrt(2);function Bg(r,[i,o]){let h=0,p=0;if(o===Rg){i<0&&(i=0);const v=i/cy;switch(r){case"top-right":case"top-left":p=v-7;break;case"bottom-right":case"bottom-left":p=7-v;break;case"bottom":p=7-i;break;case"top":p=i-7}switch(r){case"top-right":case"bottom-right":h=-v;break;case"top-left":case"bottom-left":h=v;break;case"left":h=i;break;case"right":h=-i}}else{switch(i=Math.abs(i),o=Math.abs(o),r){case"top-right":case"top-left":case"top":p=o-7;break;case"bottom-right":case"bottom-left":case"bottom":p=7-o}switch(r){case"top-right":case"bottom-right":case"right":h=-i;break;case"top-left":case"bottom-left":case"left":h=i}}return[h,p]}function $2(r,i,o,h,p,v,T,R,K,ie){r.createArrays(),r.tilePixelRatio=cn/(512*r.overscaling),r.compareText={},r.iconsNeedLinear=!1;const fe=r.layers[0].layout,we=r.layers[0]._unevaluatedLayout._values,Te={};if(r.textSizeData.kind==="composite"){const{minZoom:Ne,maxZoom:Ye}=r.textSizeData;Te.compositeTextSizes=[we["text-size"].possiblyEvaluate(new Dt(Ne),R),we["text-size"].possiblyEvaluate(new Dt(Ye),R)]}if(r.iconSizeData.kind==="composite"){const{minZoom:Ne,maxZoom:Ye}=r.iconSizeData;Te.compositeIconSizes=[we["icon-size"].possiblyEvaluate(new Dt(Ne),R),we["icon-size"].possiblyEvaluate(new Dt(Ye),R)]}Te.layoutTextSize=we["text-size"].possiblyEvaluate(new Dt(K+1),R),Te.layoutIconSize=we["icon-size"].possiblyEvaluate(new Dt(K+1),R),Te.textMaxSize=we["text-size"].possiblyEvaluate(new Dt(18),R);const De=fe.get("text-rotation-alignment")==="map"&&fe.get("symbol-placement")!=="point",Le=fe.get("text-size");for(const Ne of r.features){const Ye=fe.get("text-font").evaluate(Ne,{},R).join(","),ut=Le.evaluate(Ne,{},R),yt=Te.layoutTextSize.evaluate(Ne,{},R),dt=(Te.layoutIconSize.evaluate(Ne,{},R),{horizontal:{},vertical:void 0}),mt=Ne.text;let St,bt=[0,0];if(mt){const oi=mt.toString(),Ei=fe.get("text-letter-spacing").evaluate(Ne,{},R)*Gs,Zt=fe.get("text-line-height").evaluate(Ne,{},R)*Gs,ai=de(oi)?Ei:0,ui=fe.get("text-anchor").evaluate(Ne,{},R),gi=fe.get("text-variable-anchor");if(!gi){const Ui=fe.get("text-radial-offset").evaluate(Ne,{},R);bt=Ui?Bg(ui,[Ui*Gs,Rg]):fe.get("text-offset").evaluate(Ne,{},R).map(Ji=>Ji*Gs)}let Ci=De?"center":fe.get("text-justify").evaluate(Ne,{},R);const Jt=fe.get("symbol-placement")==="point",Ii=Jt?fe.get("text-max-width").evaluate(Ne,{},R)*Gs:1/0,pn=Ui=>{r.allowVerticalPlacement&&oe(oi)&&(dt.vertical=I0(mt,i,o,p,Ye,Ii,Zt,ui,Ui,ai,bt,Mn.vertical,!0,yt,ut))};if(!De&&gi){const Ui=Ci==="auto"?gi.map(Li=>zg(Li)):[Ci];let Ji=!1;for(let Li=0;Li<Ui.length;Li++){const _n=Ui[Li];if(!dt.horizontal[_n])if(Ji)dt.horizontal[_n]=dt.horizontal[0];else{const Zn=I0(mt,i,o,p,Ye,Ii,Zt,"center",_n,ai,bt,Mn.horizontal,!1,yt,ut);Zn&&(dt.horizontal[_n]=Zn,Ji=Zn.positionedLines.length===1)}}pn("left")}else{if(Ci==="auto"&&(Ci=zg(ui)),Jt||fe.get("text-writing-mode").indexOf("horizontal")>=0||!oe(oi)){const Ui=I0(mt,i,o,p,Ye,Ii,Zt,ui,Ci,ai,bt,Mn.horizontal,!1,yt,ut);Ui&&(dt.horizontal[Ci]=Ui)}pn(Jt?"left":Ci)}}let Ht=!1;if(Ne.icon&&Ne.icon.name){const oi=h[Ne.icon.name];oi&&(St=z2(p[Ne.icon.name],fe.get("icon-offset").evaluate(Ne,{},R),fe.get("icon-anchor").evaluate(Ne,{},R)),Ht=oi.sdf,r.sdfIcons===void 0?r.sdfIcons=oi.sdf:r.sdfIcons!==oi.sdf&&le("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(oi.pixelRatio!==r.pixelRatio||fe.get("icon-rotate").constantOr(1)!==0)&&(r.iconsNeedLinear=!0))}const $t=hy(dt.horizontal)||dt.vertical;r.iconsInText||(r.iconsInText=!!$t&&$t.iconsInText),($t||St)&&H2(r,Ne,dt,St,h,Te,yt,0,bt,Ht,T,R,ie)}v&&r.generateCollisionDebugBuffers(K,r.collisionBoxArray)}function zg(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function H2(r,i,o,h,p,v,T,R,K,ie,fe,we,Te){let De=v.textMaxSize.evaluate(i,{},we);De===void 0&&(De=T);const Le=r.layers[0].layout,Ne=Le.get("icon-offset").evaluate(i,{},we),Ye=hy(o.horizontal)||o.vertical,ut=Te.name==="globe",yt=T/24,dt=r.tilePixelRatio*De/24,mt=(ai=r.overscaling,r.zoom>18&&ai>2&&(ai>>=1),Math.max(cn/(512*ai),1)*Le.get("symbol-spacing")),St=Le.get("text-padding")*r.tilePixelRatio,bt=Le.get("icon-padding")*r.tilePixelRatio,Ht=F(Le.get("text-max-angle")),$t=Le.get("text-rotation-alignment")==="map"&&Le.get("symbol-placement")!=="point",oi=Le.get("icon-rotation-alignment")==="map"&&Le.get("symbol-placement")!=="point",Ei=Le.get("symbol-placement"),Zt=mt/2;var ai;const ui=Le.get("icon-text-fit");let gi;h&&ui!=="none"&&(r.allowVerticalPlacement&&o.vertical&&(gi=Q_(h,o.vertical,ui,Le.get("icon-text-fit-padding"),Ne,yt)),Ye&&(h=Q_(h,Ye,ui,Le.get("icon-text-fit-padding"),Ne,yt)));const Ci=(Jt,Ii,pn)=>{if(Ii.x<0||Ii.x>=cn||Ii.y<0||Ii.y>=cn)return;let Ui=null;if(ut){const{x:Ji,y:Li,z:_n}=Te.projectTilePoint(Ii.x,Ii.y,pn);Ui={anchor:new dh(Ji,Li,_n,0,void 0),up:Te.upVector(pn,Ii.x,Ii.y)}}(function(Ji,Li,_n,Zn,Hn,Gn,bn,Ls,Pn,Kn,Vs,er,Ks,tr,sr,Pr,Po,Os,eo,qr,ys,_r,co,$s,Nr){const fa=Ji.addToLineVertexArray(Li,Zn);let Do,Io,Pa,Lo,Fd,q0,n1,s1=0,YT=0,qT=0,ZT=0,_b=-1,yb=-1;const qh={};let KT=bd.exports("");const uf=_n?_n.anchor:Li;let vb=0,xb=0;if(Pn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[vb,xb]=Pn.layout.get("text-offset").evaluate(ys,{},Nr).map(xl=>xl*Gs):(vb=Pn.layout.get("text-radial-offset").evaluate(ys,{},Nr)*Gs,xb=Rg),Ji.allowVerticalPlacement&&Hn.vertical){const xl=Hn.vertical;if(sr)q0=Fg(xl),Ls&&(n1=Fg(Ls));else{const bl=Pn.layout.get("text-rotate").evaluate(ys,{},Nr)+90;Pa=F0(Kn,uf,Li,Vs,er,Ks,xl,tr,bl,Pr),Ls&&(Lo=F0(Kn,uf,Li,Vs,er,Ks,Ls,Os,bl))}}if(Gn){const xl=Pn.layout.get("icon-rotate").evaluate(ys,{},Nr),bl=Pn.layout.get("icon-text-fit")!=="none",r1=pa(Gn,xl,co,bl),wb=Ls?pa(Ls,xl,co,bl):void 0;Io=F0(Kn,uf,Li,Vs,er,Ks,Gn,Os,xl),s1=4*r1.length;const JT=Ji.iconSizeData;let pf=null;JT.kind==="source"?(pf=[Xs*Pn.layout.get("icon-size").evaluate(ys,{},Nr)],pf[0]>Wh&&le(`${Ji.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):JT.kind==="composite"&&(pf=[Xs*_r.compositeIconSizes[0].evaluate(ys,{},Nr),Xs*_r.compositeIconSizes[1].evaluate(ys,{},Nr)],(pf[0]>Wh||pf[1]>Wh)&&le(`${Ji.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Ji.addSymbols(Ji.icon,r1,pf,qr,eo,ys,!1,_n,Li,fa.lineStartIndex,fa.lineLength,-1,$s,Nr),_b=Ji.icon.placedSymbolArray.length-1,wb&&(YT=4*wb.length,Ji.addSymbols(Ji.icon,wb,pf,qr,eo,ys,Mn.vertical,_n,Li,fa.lineStartIndex,fa.lineLength,-1,$s,Nr),yb=Ji.icon.placedSymbolArray.length-1)}for(const xl in Hn.horizontal){const bl=Hn.horizontal[xl];Do||(KT=bd.exports(bl.text),sr?Fd=Fg(bl):Do=F0(Kn,uf,Li,Vs,er,Ks,bl,tr,Pn.layout.get("text-rotate").evaluate(ys,{},Nr),Pr));const r1=bl.positionedLines.length===1;if(qT+=Od(Ji,_n,Li,bl,bn,Pn,sr,ys,Pr,fa,Hn.vertical?Mn.horizontal:Mn.horizontalOnly,r1?Object.keys(Hn.horizontal):[xl],qh,_b,_r,$s,Nr),r1)break}Hn.vertical&&(ZT+=Od(Ji,_n,Li,Hn.vertical,bn,Pn,sr,ys,Pr,fa,Mn.vertical,["vertical"],qh,yb,_r,$s,Nr));let Vu=-1;const bb=(xl,bl)=>xl?Math.max(xl,bl):bl;Vu=bb(Fd,Vu),Vu=bb(q0,Vu),Vu=bb(n1,Vu);const t4=Vu>-1?1:0;Ji.glyphOffsetArray.length>=Xh.MAX_GLYPHS&&le("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ys.sortKey!==void 0&&Ji.addToSortKeyRanges(Ji.symbolInstances.length,ys.sortKey),Ji.symbolInstances.emplaceBack(uf.x,uf.y,uf.z,Li.x,Li.y,qh.right>=0?qh.right:-1,qh.center>=0?qh.center:-1,qh.left>=0?qh.left:-1,qh.vertical>=0?qh.vertical:-1,_b,yb,KT,Do!==void 0?Do:Ji.collisionBoxArray.length,Do!==void 0?Do+1:Ji.collisionBoxArray.length,Pa!==void 0?Pa:Ji.collisionBoxArray.length,Pa!==void 0?Pa+1:Ji.collisionBoxArray.length,Io!==void 0?Io:Ji.collisionBoxArray.length,Io!==void 0?Io+1:Ji.collisionBoxArray.length,Lo||Ji.collisionBoxArray.length,Lo?Lo+1:Ji.collisionBoxArray.length,Vs,qT,ZT,s1,YT,t4,0,vb,xb,Vu)})(r,Ii,Ui,Jt,o,h,p,gi,r.layers[0],r.collisionBoxArray,i.index,i.sourceLayerIndex,r.index,St,$t,K,0,bt,oi,Ne,i,v,ie,fe,we)};if(Ei==="line")for(const Jt of sy(i.geometry,0,0,cn,cn)){const Ii=N2(Jt,mt,Ht,o.vertical||Ye,h,24,dt,r.overscaling,cn);for(const pn of Ii){const Ui=Ye;Ui&&W2(r,Ui.text,Zt,pn)||Ci(Jt,pn,we)}}else if(Ei==="line-center"){for(const Jt of i.geometry)if(Jt.length>1){const Ii=F2(Jt,Ht,o.vertical||Ye,h,24,dt);Ii&&Ci(Jt,Ii,we)}}else if(i.type==="Polygon")for(const Jt of _g(i.geometry,0)){const Ii=ly(Jt,16);Ci(Jt[0],new dh(Ii.x,Ii.y,0,0,void 0),we)}else if(i.type==="LineString")for(const Jt of i.geometry)Ci(Jt,new dh(Jt[0].x,Jt[0].y,0,0,void 0),we);else if(i.type==="Point")for(const Jt of i.geometry)for(const Ii of Jt)Ci([Ii],new dh(Ii.x,Ii.y,0,0,void 0),we)}const Wh=32640;function Od(r,i,o,h,p,v,T,R,K,ie,fe,we,Te,De,Le,Ne,Ye){const ut=function(mt,St,bt,Ht,$t,oi,Ei,Zt){const ai=[];if(St.positionedLines.length===0)return ai;const ui=Ht.layout.get("text-rotate").evaluate(oi,{})*Math.PI/180,gi=function(Ui){const Ji=Ui[0],Li=Ui[1],_n=Ji*Li;return _n>0?[Ji,-Li]:_n<0?[-Ji,Li]:Ji===0?[Li,Ji]:[Li,-Ji]}(bt);let Ci=Math.abs(St.top-St.bottom);for(const Ui of St.positionedLines)Ci-=Ui.lineOffset;const Jt=St.positionedLines.length,Ii=Ci/Jt;let pn=St.top-bt[1];for(let Ui=0;Ui<Jt;++Ui){const Ji=St.positionedLines[Ui];pn=j2(St,Ii,pn,Ui);for(const Li of Ji.positionedGlyphs){if(!Li.rect)continue;const _n=Li.rect||{};let Zn=4,Hn=!0,Gn=1,bn=0;if(Li.imageName){const $s=Ei[Li.imageName];if(!$s)continue;if($s.sdf){le("SDF images are not supported in formatted text and will be ignored.");continue}Hn=!1,Gn=$s.pixelRatio,Zn=1/Gn}const Ls=($t||Zt)&&Li.vertical,Pn=Li.metrics.advance*Li.scale/2,Kn=Li.metrics,Vs=Li.rect;if(Vs===null)continue;Zt&&St.verticalizable&&(bn=Li.imageName?Pn-Li.metrics.width*Li.scale/2:0);const er=$t?[Li.x+Pn,Li.y]:[0,0];let Ks=[0,0],tr=[0,0],sr=!1;$t||(Ls?(tr=[Li.x+Pn+gi[0],Li.y+gi[1]-bn],sr=!0):Ks=[Li.x+Pn+bt[0],Li.y+bt[1]-bn]);const Pr=Vs.w*Li.scale/(Gn*(Li.localGlyph?2:1)),Po=Vs.h*Li.scale/(Gn*(Li.localGlyph?2:1));let Os,eo,qr,ys;if(Ls){const $s=Li.y-pn,Nr=new V(-Pn,Pn-$s),fa=-Math.PI/2,Do=new V(...tr);Os=new V(-Pn+Ks[0],Ks[1]),Os._rotateAround(fa,Nr)._add(Do),Os.x+=-$s+Pn,Os.y-=(Kn.left-Zn)*Li.scale;const Io=Li.imageName?Kn.advance*Li.scale:Gs*Li.scale,Pa=String.fromCharCode(Li.glyph);k2(Pa)?Os.x+=(1-Zn)*Li.scale:Mg(Pa)?Os.x+=Io-Kn.height*Li.scale+(-Zn-1)*Li.scale:Os.x+=Li.imageName||Kn.width+2*Zn===Vs.w&&Kn.height+2*Zn===Vs.h?(Io-Po)/2:(Io-(Kn.height+2*Zn)*Li.scale)/2,eo=new V(Os.x,Os.y-Pr),qr=new V(Os.x+Po,Os.y),ys=new V(Os.x+Po,Os.y-Pr)}else{const $s=(Kn.left-Zn)*Li.scale-Pn+Ks[0],Nr=(-Kn.top-Zn)*Li.scale+Ks[1],fa=$s+Pr,Do=Nr+Po;Os=new V($s,Nr),eo=new V(fa,Nr),qr=new V($s,Do),ys=new V(fa,Do)}if(ui){let $s;$s=$t?new V(0,0):sr?new V(gi[0],gi[1]):new V(bt[0],bt[1]),Os._rotateAround(ui,$s),eo._rotateAround(ui,$s),qr._rotateAround(ui,$s),ys._rotateAround(ui,$s)}const _r=new V(0,0),co=new V(0,0);ai.push({tl:Os,tr:eo,bl:qr,br:ys,tex:_n,writingMode:St.writingMode,glyphOffset:er,sectionIndex:Li.sectionIndex,isSDF:Hn,pixelOffsetTL:_r,pixelOffsetBR:co,minFontScaleX:0,minFontScaleY:0})}}return ai}(0,h,K,v,T,R,p,r.allowVerticalPlacement),yt=r.textSizeData;let dt=null;yt.kind==="source"?(dt=[Xs*v.layout.get("text-size").evaluate(R,{},Ye)],dt[0]>Wh&&le(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):yt.kind==="composite"&&(dt=[Xs*Le.compositeTextSizes[0].evaluate(R,{},Ye),Xs*Le.compositeTextSizes[1].evaluate(R,{},Ye)],(dt[0]>Wh||dt[1]>Wh)&&le(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),r.addSymbols(r.text,ut,dt,K,T,R,fe,i,o,ie.lineStartIndex,ie.lineLength,De,Ne,Ye);for(const mt of we)Te[mt]=r.text.placedSymbolArray.length-1;return 4*ut.length}function hy(r){for(const i in r)return r[i];return null}function F0(r,i,o,h,p,v,T,R,K,ie){let fe=T.top,we=T.bottom,Te=T.left,De=T.right;const Le=T.collisionPadding;if(Le&&(Te-=Le[0],fe-=Le[1],De+=Le[2],we+=Le[3]),K){const Ne=new V(Te,fe),Ye=new V(De,fe),ut=new V(Te,we),yt=new V(De,we),dt=F(K);let mt=new V(0,0);ie&&(mt=new V(ie[0],ie[1])),Ne._rotateAround(dt,mt),Ye._rotateAround(dt,mt),ut._rotateAround(dt,mt),yt._rotateAround(dt,mt),Te=Math.min(Ne.x,Ye.x,ut.x,yt.x),De=Math.max(Ne.x,Ye.x,ut.x,yt.x),fe=Math.min(Ne.y,Ye.y,ut.y,yt.y),we=Math.max(Ne.y,Ye.y,ut.y,yt.y)}return r.emplaceBack(i.x,i.y,i.z,o.x,o.y,Te,fe,De,we,R,h,p,v),r.length-1}function Fg(r){r.collisionPadding&&(r.top-=r.collisionPadding[1],r.bottom+=r.collisionPadding[3]);const i=r.bottom-r.top;return i>0?Math.max(10,i):null}function W2(r,i,o,h){const p=r.compareText;if(i in p){const v=p[i];for(let T=v.length-1;T>=0;T--)if(h.dist(v[T])<o)return!0}else p[i]=[];return p[i].push(h),!1}const X2=Vi([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Ng}=X2,jg=Vi([{name:"a_pos_3",components:3,type:"Int16"}]);var ef=Vi([{name:"a_pos",type:"Int16",components:2}]);const uh=cn/Math.PI/2,Ug=2*Ka(1,0)*uh*Math.PI,Fu=64,Nu=[Fu,32,16],yl=-uh,vl=uh,Y2=[new Qo([yl,yl,yl],[vl,vl,vl]),new Qo([yl,yl,yl],[0,0,vl]),new Qo([0,yl,yl],[vl,0,vl]),new Qo([yl,0,yl],[0,vl,vl]),new Qo([0,0,yl],[vl,vl,vl])];function dy(r,i,o,h=!0){const p=Ja([],r._camera.position,r.worldSize),v=[i,o,1,1];Vh(v,v,r.pixelMatrixInverse),__(v,v,1/v[3]);const T=Jo([],ec([],v,p)),R=r.globeMatrix,K=[R[12],R[13],R[14]],ie=ec([],K,p),fe=kd(ie),we=Jo([],ie),Te=r.worldSize/(2*Math.PI),De=gl(we,T),Le=Math.asin(Te/fe);if(Le<Math.acos(De)){if(!h)return null;const Ei=[],Zt=[];Ja(Ei,T,fe/De),Jo(Zt,ec(Zt,Ei,ie)),Jo(T,Lc(T,ie,Ja(T,Zt,Math.tan(Le)*fe)))}const Ne=[];new g0(p,T).closestPointOnSphere(K,Te,Ne);const Ye=Jo([],ct(R,0)),ut=Jo([],ct(R,1)),yt=Jo([],ct(R,2)),dt=gl(Ye,Ne),mt=gl(ut,Ne),St=gl(yt,Ne),bt=N(Math.asin(-mt/Te));let Ht=N(Math.atan2(dt,St));Ht=r.center.lng+function(Ei,Zt){const ai=(Zt-Ei+180)%360-180;return ai<-180?ai+360:ai}(r.center.lng,Ht);const $t=Zl(Ht),oi=y(Za(bt),0,1);return new Sd($t,oi)}class q2{constructor(i,o,h){this.a=ec([],i,h),this.b=ec([],o,h),this.center=h;const p=Jo([],this.a),v=Jo([],this.b);this.angle=Math.acos(gl(p,v))}}function Gg(r,i){if(r.angle===0)return null;let o;return o=r.a[i]===0?1/r.angle*.5*Math.PI:1/r.angle*Math.atan(r.b[i]/r.a[i]/Math.sin(r.angle)-1/Math.tan(r.angle)),o<0||o>1?null:function(h,p,v,T){const R=Math.sin(v);return h*(Math.sin((1-T)*v)/R)+p*(Math.sin(T*v)/R)}(r.a[i],r.b[i],r.angle,y(o,0,1))+r.center[i]}function Bc(r){if(r.z<=1)return Y2[r.z+2*r.y+r.x];const i=Vg(N0(r));return Qo.fromPoints(i)}function Rd(r,i,o){return Ja(r,r,1-o),ku(r,r,i,o)}function uy(r,i){const o=Bd(i.zoom);if(o===0)return Bc(r);const h=N0(r),p=Vg(h),v=Zl(h.getWest())*i.worldSize,T=Zl(h.getEast())*i.worldSize,R=Za(h.getNorth())*i.worldSize,K=Za(h.getSouth())*i.worldSize,ie=[v,R,0],fe=[T,R,0],we=[v,K,0],Te=[T,K,0],De=f0([],i.globeMatrix);return br(ie,ie,De),br(fe,fe,De),br(we,we,De),br(Te,Te,De),p[0]=Rd(p[0],we,o),p[1]=Rd(p[1],Te,o),p[2]=Rd(p[2],fe,o),p[3]=Rd(p[3],ie,o),Qo.fromPoints(p)}function py(r,i,o){for(const h of r)br(h,h,i),Ja(h,h,o)}function Z2(r,i,o){const h=i/r.worldSize,p=r.globeMatrix;if(o.z<=1){const $t=Bc(o).getCorners();return py($t,p,h),Qo.fromPoints($t)}const v=N0(o),T=Vg(v);py(T,p,h);const R=Number.MAX_VALUE,K=[-R,-R,-R],ie=[R,R,R];if(v.contains(r.center)){for(const Ei of T)Ca(ie,ie,Ei),Ql(K,K,Ei);K[2]=0;const $t=r.point,oi=[$t.x*h,$t.y*h,0];return Ca(ie,ie,oi),Ql(K,K,oi),new Qo(ie,K)}const fe=[p[12]*h,p[13]*h,p[14]*h],we=v.getCenter(),Te=y(r.center.lat,-85.051129,yo),De=y(we.lat,-85.051129,yo),Le=Zl(r.center.lng),Ne=Za(Te);let Ye=Le-Zl(we.lng);const ut=Ne-Za(De);Ye>.5?Ye-=1:Ye<-.5&&(Ye+=1);let yt=0;Math.abs(Ye)>Math.abs(ut)?yt=Ye>=0?1:3:(yt=ut>=0?0:2,ku(fe,fe,[p[4]*h,p[5]*h,p[6]*h],-Math.sin(F(ut>=0?v.getSouth():v.getNorth()))*uh));const dt=T[yt],mt=T[(yt+1)%4],St=new q2(dt,mt,fe),bt=[Gg(St,0)||dt[0],Gg(St,1)||dt[1],Gg(St,2)||dt[2]],Ht=Bd(r.zoom);if(Ht>0){const $t=function({x:Ei,y:Zt,z:ai},ui,gi,Ci,Jt){const Ii=1/(1<<ai);let pn=Ei*Ii,Ui=pn+Ii,Ji=Zt*Ii,Li=Ji+Ii,_n=0;const Zn=(pn+Ui)/2-Ci;return Zn>.5?_n=-1:Zn<-.5&&(_n=1),pn=((pn+_n)*ui-(Ci*=ui))*gi+Ci,Ui=((Ui+_n)*ui-Ci)*gi+Ci,Ji=(Ji*ui-(Jt*=ui))*gi+Jt,Li=(Li*ui-Jt)*gi+Jt,[[pn,Li,0],[Ui,Li,0],[Ui,Ji,0],[pn,Ji,0]]}(o,i,r._pixelsPerMercatorPixel,Le,Ne);for(let Ei=0;Ei<T.length;Ei++)Rd(T[Ei],$t[Ei],Ht);const oi=Lc([],$t[yt],$t[(yt+1)%4]);Ja(oi,oi,.5),Rd(bt,oi,Ht)}for(const $t of T)Ca(ie,ie,$t),Ql(K,K,$t);return ie[2]=Math.min(dt[2],mt[2]),Ca(ie,ie,bt),Ql(K,K,bt),new Qo(ie,K)}function N0({x:r,y:i,z:o}){const h=1/(1<<o),p=new Jn(ua(r*h),_o((i+1)*h)),v=new Jn(ua((r+1)*h),_o(i*h));return new ah(p,v)}function Vg(r){const i=F(r.getNorth()),o=F(r.getSouth()),h=Math.cos(i),p=Math.cos(o),v=Math.sin(i),T=Math.sin(o),R=r.getWest(),K=r.getEast();return[ju(p,T,R),ju(p,T,K),ju(h,v,K),ju(h,v,R)]}function ju(r,i,o,h=uh){return o=F(o),[r*Math.sin(o)*h,-i*h,r*Math.cos(o)*h]}function tf(r,i,o){return ju(Math.cos(F(r)),Math.sin(F(r)),i,o)}function nf(r,i,o,h){const p=1<<o.z,v=(r/cn+o.x)/p;return tf(_o((i/cn+o.y)/p),ua(v),h)}function j0({min:r,max:i}){return 16383/Math.max(i[0]-r[0],i[1]-r[1],i[2]-r[2])}const fy=new Float64Array(16);function sf(r){const i=j0(r),o=ng(fy,[i,i,i]);return Fp(o,o,((h=[])[0]=-(p=r.min)[0],h[1]=-p[1],h[2]=-p[2],h));var h,p}function $g(r){const i=(h=r.min,(o=fy)[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=h[0],o[13]=h[1],o[14]=h[2],o[15]=1,o);var o,h;const p=1/j0(r);return Ad(i,i,[p,p,p])}function U0(r,i,o,h,p){const v=function(K){const ie=cn/(2*Math.PI);return K/(2*Math.PI)/ie}(o),T=[r,i,-o/(2*Math.PI)],R=ml(new Float64Array(16));return Fp(R,R,T),Ad(R,R,[v,v,v]),ig(R,R,F(-p)),Np(R,R,F(-h)),R}function Bd(r){return b(5,6,r)}function Hg(r,i){const o=tf(i.lat,i.lng),h=function(Le){const Ne=tf(Le._center.lat,Le._center.lng);let Ye=og([],Pd(0,1,0),Ne);const ut=m_([],-Le.angle,Ne);Ye=br(Ye,Ye,ut),m_(ut,-Le._pitch,Ye);const yt=Jo([],Ne);return Ja(yt,yt,Le.cameraToCenterDistance/Le.pixelsPerMeter*Ug),br(yt,yt,ut),Lc([],Ne,yt)}(r);return T=(p=Au([],h,o))[0],R=p[1],K=p[2],ie=(v=o)[0],fe=v[1],we=v[2],De=(Te=Math.sqrt(T*T+R*R+K*K)*Math.sqrt(ie*ie+fe*fe+we*we))&&gl(p,v)/Te,Math.acos(Math.min(Math.max(De,-1),1));var p,v,T,R,K,ie,fe,we,Te,De}function Wg(r,i){return Hg(r,i)>Math.PI/2*1.01}const my=F(85),K2=Math.cos(my),Xg=Math.sin(my);function gy(r,i){const o=r.fovAboveCenter,h=r.elevation?r.elevation.getMinElevationBelowMSL()*i:0,p=(r._camera.position[2]*r.worldSize-h)/Math.cos(r._pitch),v=Math.sin(o)*p/Math.sin(Math.max(Math.PI/2-r._pitch-o,.01)),T=Math.sin(r._pitch)*v+p;return Math.min(1.01*T,p*(1/r._horizonShift))}function zd(r,i){if(!i.isReprojectedInTileSpace)return{scale:1<<r.z,x:r.x,y:r.y,x2:r.x+1,y2:r.y+1,projection:i};const o=Math.pow(2,-r.z),h=r.x*o,p=(r.x+1)*o,v=r.y*o,T=(r.y+1)*o,R=ua(h),K=ua(p),ie=_o(v),fe=_o(T),we=i.project(R,ie),Te=i.project(K,ie),De=i.project(K,fe),Le=i.project(R,fe);let Ne=Math.min(we.x,Te.x,De.x,Le.x),Ye=Math.min(we.y,Te.y,De.y,Le.y),ut=Math.max(we.x,Te.x,De.x,Le.x),yt=Math.max(we.y,Te.y,De.y,Le.y);const dt=o/16;function mt(bt,Ht,$t,oi,Ei,Zt){const ai=($t+Ei)/2,ui=(oi+Zt)/2,gi=i.project(ua(ai),_o(ui)),Ci=Math.max(0,Ne-gi.x,Ye-gi.y,gi.x-ut,gi.y-yt);Ne=Math.min(Ne,gi.x),ut=Math.max(ut,gi.x),Ye=Math.min(Ye,gi.y),yt=Math.max(yt,gi.y),Ci>dt&&(mt(bt,gi,$t,oi,ai,ui),mt(gi,Ht,ai,ui,Ei,Zt))}mt(we,Te,h,v,p,v),mt(Te,De,p,v,p,T),mt(De,Le,p,T,h,T),mt(Le,we,h,T,h,v),Ne-=dt,Ye-=dt,ut+=dt,yt+=dt;const St=1/Math.max(ut-Ne,yt-Ye);return{scale:St,x:Ne*St,y:Ye*St,x2:ut*St,y2:yt*St,projection:i}}const J2=ml(new Float32Array(16));class Yr{constructor(i){this.spec=i,this.name=i.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(i,o){return{x:0,y:0,z:0}}unproject(i,o){return new Jn(0,0)}projectTilePoint(i,o,h){return{x:i,y:o,z:0}}locationPoint(i,o,h=!0){return i._coordinatePoint(i.locationCoordinate(o),h)}pixelsPerMeter(i,o){return Ka(1,i)*o}pixelSpaceConversion(i,o,h){return 1}farthestPixelDistance(i){return gy(i,i.pixelsPerMeter)}pointCoordinate(i,o,h,p){const v=i.horizonLineFromTop(!1),T=new V(o,Math.max(v,h));return i.rayIntersectionCoordinate(i.pointRayIntersection(T,p))}pointCoordinate3D(i,o,h){const p=new V(o,h);if(i.elevation)return i.elevation.pointCoordinate(p);{const v=this.pointCoordinate(i,p.x,p.y,0);return[v.x,v.y,v.z]}}isPointAboveHorizon(i,o){if(i.elevation)return!this.pointCoordinate3D(i,o.x,o.y);const h=i.horizonLineFromTop();return o.y<h}createInversionMatrix(i,o){return J2}createTileMatrix(i,o,h){let p,v,T;const R=h.canonical,K=ml(new Float64Array(16));if(this.isReprojectedInTileSpace){const ie=zd(R,this);p=1,v=ie.x+h.wrap*ie.scale,T=ie.y,Ad(K,K,[p/ie.scale,p/ie.scale,i.pixelsPerMeter/o])}else p=o/i.zoomScale(R.z),v=(R.x+Math.pow(2,R.z)*h.wrap)*p,T=R.y*p;return Fp(K,K,[v,T,0]),Ad(K,K,[p/cn,p/cn,1]),K}upVector(i,o,h){return[0,0,1]}upVectorScale(i,o,h){return{metersToTile:1}}}class Yg extends Yr{constructor(i){super(i),this.range=[4,7],this.center=i.center||[-96,37.5];const[o,h]=this.parallels=i.parallels||[29.5,45.5],p=Math.sin(F(o));this.n=(p+Math.sin(F(h)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(i,o){const{n:h,c:p,r0:v}=this,T=F(i-this.center[0]),R=F(o),K=Math.sqrt(p-2*h*Math.sin(R))/h;return{x:K*Math.sin(T*h),y:K*Math.cos(T*h)-v,z:0}}unproject(i,o){const{n:h,c:p,r0:v}=this,T=v+o;let R=Math.atan2(i,Math.abs(T))*Math.sign(T);T*h<0&&(R-=Math.PI*Math.sign(i)*Math.sign(T));const K=F(this.center[0])*h;R=S(R,-Math.PI-K,Math.PI-K);const ie=y(N(R/h)+this.center[0],-180,180),fe=Math.asin(y((p-(i*i+T*T)*h*h)/(2*h),-1,1)),we=y(N(fe),-85.051129,yo);return new Jn(ie,we)}}const rf=1.340264,of=-.081106,af=893e-6,lf=.003796,Uu=Math.sqrt(3)/2;class Q2 extends Yr{project(i,o){o=o/180*Math.PI,i=i/180*Math.PI;const h=Math.asin(Uu*Math.sin(o)),p=h*h,v=p*p*p;return{x:.5*(i*Math.cos(h)/(Uu*(rf+3*of*p+v*(7*af+9*lf*p)))/Math.PI+.5),y:1-.5*(h*(rf+of*p+v*(af+lf*p))/Math.PI+1),z:0}}unproject(i,o){i=(2*i-.5)*Math.PI;let h=o=(2*(1-o)-1)*Math.PI,p=h*h,v=p*p*p;for(let fe,we,Te,De=0;De<12&&(we=h*(rf+of*p+v*(af+lf*p))-o,Te=rf+3*of*p+v*(7*af+9*lf*p),fe=we/Te,h=y(h-fe,-Math.PI/3,Math.PI/3),p=h*h,v=p*p*p,!(Math.abs(fe)<1e-12));++De);const T=Uu*i*(rf+3*of*p+v*(7*af+9*lf*p))/Math.cos(h),R=Math.asin(Math.sin(h)/Uu),K=y(180*T/Math.PI,-180,180),ie=y(180*R/Math.PI,-85.051129,yo);return new Jn(K,ie)}}class qg extends Yr{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0}project(i,o){return{x:.5+i/360,y:.5-o/360,z:0}}unproject(i,o){const h=360*(i-.5),p=y(360*(.5-o),-85.051129,yo);return new Jn(h,p)}}const Gu=Math.PI/2;function G0(r){return Math.tan((Gu+r)/2)}class eb extends Yr{constructor(i){super(i),this.center=i.center||[0,30];const[o,h]=this.parallels=i.parallels||[30,30];let p=F(o),v=F(h);this.southernCenter=p+v<0,this.southernCenter&&(p=-p,v=-v);const T=Math.cos(p),R=G0(p);this.n=p===v?Math.sin(p):Math.log(T/Math.cos(v))/Math.log(G0(v)/R),this.f=T*Math.pow(G0(p),this.n)/this.n}project(i,o){o=F(o),this.southernCenter&&(o=-o),i=F(i-this.center[0]);const h=1e-6,{n:p,f:v}=this;v>0?o<-Gu+h&&(o=-Gu+h):o>Gu-h&&(o=Gu-h);const T=v/Math.pow(G0(o),p);let R=T*Math.sin(p*i),K=v-T*Math.cos(p*i);return R=.5*(R/Math.PI+.5),K=.5*(K/Math.PI+.5),{x:R,y:this.southernCenter?K:1-K,z:0}}unproject(i,o){i=(2*i-.5)*Math.PI,this.southernCenter&&(o=1-o),o=(2*(1-o)-.5)*Math.PI;const{n:h,f:p}=this,v=p-o,T=Math.sign(v),R=Math.sign(h)*Math.sqrt(i*i+v*v);let K=Math.atan2(i,Math.abs(v))*T;v*h<0&&(K-=Math.PI*Math.sign(i)*T);const ie=y(N(K/h)+this.center[0],-180,180),fe=y(N(2*Math.atan(Math.pow(p/R,1/h))-Gu),-85.051129,yo);return new Jn(ie,this.southernCenter?-fe:fe)}}class _y extends Yr{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(i,o){return{x:Zl(i),y:Za(o),z:0}}unproject(i,o){const h=ua(i),p=_o(o);return new Jn(h,p)}}const Zg=F(yo);class tb extends Yr{project(i,o){const h=(o=F(o))*o,p=h*h;return{x:.5*((i=F(i))*(.8707-.131979*h+p*(p*(.003971*h-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(o*(1.007226+h*(.015085+p*(.028874*h-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(i,o){i=(2*i-.5)*Math.PI;let h=o=(2*(1-o)-1)*Math.PI,p=25,v=0,T=h*h;do{T=h*h;const ie=T*T;v=(h*(1.007226+T*(.015085+ie*(.028874*T-.044475-.005916*ie)))-o)/(1.007226+T*(.045255+ie*(.259866*T-.311325-.005916*11*ie))),h=y(h-v,-Zg,Zg)}while(Math.abs(v)>1e-6&&--p>0);T=h*h;const R=y(N(i/(.8707+T*(T*(T*T*T*(.003971-.001529*T)-.013791)-.131979))),-180,180),K=N(h);return new Jn(R,K)}}const yy=F(yo);class ib extends Yr{project(i,o){o=F(o),i=F(i);const h=Math.cos(o),p=2/Math.PI,v=Math.acos(h*Math.cos(i/2)),T=Math.sin(v)/v,R=.5*(i*p+2*h*Math.sin(i/2)/T)||0,K=.5*(o+Math.sin(o)/T)||0;return{x:.5*(R/Math.PI+.5),y:1-.5*(K/Math.PI+1),z:0}}unproject(i,o){let h=i=(2*i-.5)*Math.PI,p=o=(2*(1-o)-1)*Math.PI,v=25;const T=1e-6;let R=0,K=0;do{const ie=Math.cos(p),fe=Math.sin(p),we=2*fe*ie,Te=fe*fe,De=ie*ie,Le=Math.cos(h/2),Ne=Math.sin(h/2),Ye=2*Le*Ne,ut=Ne*Ne,yt=1-De*Le*Le,dt=yt?1/yt:0,mt=yt?Math.acos(ie*Le)*Math.sqrt(1/yt):0,St=.5*(2*mt*ie*Ne+2*h/Math.PI)-i,bt=.5*(mt*fe+p)-o,Ht=.5*dt*(De*ut+mt*ie*Le*Te)+1/Math.PI,$t=dt*(Ye*we/4-mt*fe*Ne),oi=.125*dt*(we*Ne-mt*fe*De*Ye),Ei=.5*dt*(Te*Le+mt*ut*ie)+.5,Zt=$t*oi-Ei*Ht;R=(bt*$t-St*Ei)/Zt,K=(St*oi-bt*Ht)/Zt,h=y(h-R,-Math.PI,Math.PI),p=y(p-K,-yy,yy)}while((Math.abs(R)>T||Math.abs(K)>T)&&--v>0);return new Jn(N(h),N(p))}}class V0 extends Yr{constructor(i){super(i),this.center=i.center||[0,0],this.parallels=i.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(F(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(i,o){const{scale:h,cosPhi:p}=this;return{x:F(i)*p*h+.5,y:-Math.sin(F(o))/p*h+.5,z:0}}unproject(i,o){const{scale:h,cosPhi:p}=this,v=-(o-.5)/h,T=y(N((i-.5)/h)/p,-180,180),R=Math.asin(y(v*p,-1,1)),K=y(N(R),-85.051129,yo);return new Jn(T,K)}}class Kg extends _y{constructor(i){super(i),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(i,o,h){const p=nf(i,o,h);return br(p,p,sf(Bc(h))),{x:p[0],y:p[1],z:p[2]}}locationPoint(i,o){const h=tf(o.lat,o.lng),p=Jo([],h),v=i.elevation?i.elevation.getAtPointOrZero(i.locationCoordinate(o),i._centerAltitude):i._centerAltitude;ku(h,h,p,Ka(1,0)*cn*v);const T=ml(new Float64Array(16));return Md(T,i.pixelMatrix,i.globeMatrix),br(h,h,T),new V(h[0],h[1])}pixelsPerMeter(i,o){return Ka(1,0)*o}pixelSpaceConversion(i,o,h){const p=Ka(1,i)*o,v=Dn(Ka(1,45)*o,p,h);return this.pixelsPerMeter(i,o)/v}createTileMatrix(i,o,h){const p=$g(Bc(h.canonical));return Md(new Float64Array(16),i.globeMatrix,p)}createInversionMatrix(i,o){const{center:h}=i,p=sf(Bc(o));return Np(p,p,F(h.lng)),ig(p,p,F(h.lat)),Ad(p,p,[i._pixelsPerMercatorPixel,i._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(i,o,h,p){return dy(i,o,h,!0)||new Sd(0,0)}pointCoordinate3D(i,o,h){const p=this.pointCoordinate(i,o,h,0);return[p.x,p.y,p.z]}isPointAboveHorizon(i,o){return!dy(i,o.x,o.y,!1)}farthestPixelDistance(i){const o=function(p,v){const T=p.cameraToCenterDistance,R=p._centerAltitude*v,K=p._camera,ie=p._camera.forward(),fe=Lc([],Ja([],ie,-T),[0,0,R]),we=p.worldSize/(2*Math.PI),Te=[0,0,-we],De=p.width/p.height,Le=Math.tan(p.fovAboveCenter),Ne=Ja([],K.up(),Le),Ye=Ja([],K.right(),Le*De),ut=Jo([],Lc([],Lc([],ie,Ne),Ye)),yt=[];let dt;if(new g0(fe,ut).closestPointOnSphere(Te,we,yt)){const mt=Lc([],yt,Te),St=ec([],mt,fe);dt=Math.cos(p.fovAboveCenter)*kd(St)}else{const mt=ec([],fe,Te),St=ec([],Te,fe);Jo(St,St);const bt=kd(mt)-we;dt=Math.sqrt(bt*(bt+2*we));const Ht=Math.acos(dt/(we+bt))-Math.acos(gl(ie,St));dt*=Math.cos(Ht)}return 1.01*dt}(i,this.pixelsPerMeter(i.center.lat,i.worldSize)),h=Bd(i.zoom);if(h>0){const p=gy(i,Ka(1,i.center.lat)*i.worldSize),v=i.worldSize/(2*Math.PI),T=Math.max(i.width,i.height)/i.worldSize*Math.PI;return Dn(o,p+v*(1-Math.cos(T)),Math.pow(h,10))}return o}upVector(i,o,h){return nf(o,h,i,1)}upVectorScale(i){return{metersToTile:Ug*j0(Bc(i))}}}function vy(r){const i=r.parallels,o=!!i&&Math.abs(i[0]+i[1])<.01;switch(r.name){case"mercator":return new _y(r);case"equirectangular":return new qg(r);case"naturalEarth":return new tb(r);case"equalEarth":return new Q2(r);case"winkelTripel":return new ib(r);case"albers":return o?new V0(r):new Yg(r);case"lambertConformalConic":return o?new V0(r):new eb(r);case"globe":return new Kg(r)}throw new Error(`Invalid projection name: ${r.name}`)}const nb=T0.types,sb=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function $0(r,i,o,h,p,v,T,R,K,ie,fe,we,Te){const De=R?Math.min(Wh,Math.round(R[0])):0,Le=R?Math.min(Wh,Math.round(R[1])):0;r.emplaceBack(i,o,Math.round(32*h),Math.round(32*p),v,T,(De<<1)+(K?1:0),Le,16*ie,16*fe,256*we,256*Te)}function H0(r,i,o,h,p,v,T){r.emplaceBack(i,o,h,p,v,T)}function W0(r,i,o,h,p){r.emplaceBack(i,o,h,p),r.emplaceBack(i,o,h,p),r.emplaceBack(i,o,h,p),r.emplaceBack(i,o,h,p)}function rb(r){for(const i of r.sections)if(tt(i.text))return!0;return!1}class Jg{constructor(i){this.layoutVertexArray=new ws,this.indexArray=new ao,this.programConfigurations=i,this.segments=new Cr,this.dynamicLayoutVertexArray=new Ao,this.opacityVertexArray=new mr,this.placedSymbolArray=new i_,this.globeExtVertexArray=new as}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,o,h,p){this.isEmpty()||(h&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,T2.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,S2.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,sb,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,tc.members,!0)),this.opacityVertexBuffer.itemSize=1),(h||p)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}zi(Jg,"SymbolBuffers");class Qg{constructor(i,o,h){this.layoutVertexArray=new i,this.layoutAttributes=o,this.indexArray=new h,this.segments=new Cr,this.collisionVertexArray=new xd,this.collisionVertexArrayExt=new Ya}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,E2.members,!0),this.collisionVertexBufferExt=i.createVertexBuffer(this.collisionVertexArrayExt,Id.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}zi(Qg,"CollisionBuffers");class Xh{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(T=>T.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ml([]),this.placementViewportMatrix=ml([]);const o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Cg(this.zoom,o["text-size"]),this.iconSizeData=Cg(this.zoom,o["icon-size"]);const h=this.layers[0].layout,p=h.get("symbol-sort-key"),v=h.get("symbol-z-order");this.canOverlap=h.get("text-allow-overlap")||h.get("icon-allow-overlap")||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&p.constantOr(1)!==void 0,this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=h.get("text-writing-mode").map(T=>Mn[T]),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=i.sourceID,this.projection=i.projection}createArrays(){this.text=new Jg(new Pc(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new Jg(new Pc(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Fm,this.lineVertexArray=new Nm,this.symbolInstances=new r0}calculateGlyphDependencies(i,o,h,p,v){for(let T=0;T<i.length;T++)if(o[i.charCodeAt(T)]=!0,p&&v){const R=Zp[i.charAt(T)];R&&(o[R.charCodeAt(0)]=!0)}}populate(i,o,h,p){const v=this.layers[0],T=v.layout,R=this.projection.name==="globe",K=T.get("text-font"),ie=T.get("text-field"),fe=T.get("icon-image"),we=(ie.value.kind!=="constant"||ie.value.value instanceof Rr&&!ie.value.value.isEmpty()||ie.value.value.toString().length>0)&&(K.value.kind!=="constant"||K.value.value.length>0),Te=fe.value.kind!=="constant"||!!fe.value.value||Object.keys(fe.parameters).length>0,De=T.get("symbol-sort-key");if(this.features=[],!we&&!Te)return;const Le=o.iconDependencies,Ne=o.glyphDependencies,Ye=o.availableImages,ut=new Dt(this.zoom);for(const{feature:yt,id:dt,index:mt,sourceLayerIndex:St}of i){const bt=v._featureFilter.needGeometry,Ht=Dc(yt,bt);if(!v._featureFilter.filter(ut,Ht,h))continue;if(bt||(Ht.geometry=Jl(yt,h,p)),R&&yt.type!==1&&h.z<=5){const Zt=Ht.geometry,ai=.98078528056,ui=(gi,Ci)=>gl(nf(gi.x,gi.y,h,1),nf(Ci.x,Ci.y,h,1))<ai;for(let gi=0;gi<Zt.length;gi++)Zt[gi]=Rx(Zt[gi],ui)}let $t,oi;if(we){const Zt=v.getValueAndResolveTokens("text-field",Ht,h,Ye),ai=Rr.factory(Zt);rb(ai)&&(this.hasRTLText=!0),(!this.hasRTLText||kt()==="unavailable"||this.hasRTLText&&Nt.isParsed())&&($t=A2(ai,v,Ht))}if(Te){const Zt=v.getValueAndResolveTokens("icon-image",Ht,h,Ye);oi=Zt instanceof $o?Zt:$o.fromString(Zt)}if(!$t&&!oi)continue;const Ei=this.sortFeaturesByKey?De.evaluate(Ht,{},h):void 0;if(this.features.push({id:dt,text:$t,icon:oi,index:mt,sourceLayerIndex:St,geometry:Ht.geometry,properties:yt.properties,type:nb[yt.type],sortKey:Ei}),oi&&(Le[oi.name]=!0),$t){const Zt=K.evaluate(Ht,{},h).join(","),ai=T.get("text-rotation-alignment")==="map"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Mn.vertical)>=0;for(const ui of $t.sections)if(ui.image)Le[ui.image.name]=!0;else{const gi=oe($t.toString()),Ci=ui.fontStack||Zt,Jt=Ne[Ci]=Ne[Ci]||{};this.calculateGlyphDependencies(ui.text,Jt,ai,this.allowVerticalPlacement,gi)}}}T.get("symbol-placement")==="line"&&(this.features=function(yt){const dt={},mt={},St=[];let bt=0;function Ht(Zt){St.push(yt[Zt]),bt++}function $t(Zt,ai,ui){const gi=mt[Zt];return delete mt[Zt],mt[ai]=gi,St[gi].geometry[0].pop(),St[gi].geometry[0]=St[gi].geometry[0].concat(ui[0]),gi}function oi(Zt,ai,ui){const gi=dt[ai];return delete dt[ai],dt[Zt]=gi,St[gi].geometry[0].shift(),St[gi].geometry[0]=ui[0].concat(St[gi].geometry[0]),gi}function Ei(Zt,ai,ui){const gi=ui?ai[0][ai[0].length-1]:ai[0][0];return`${Zt}:${gi.x}:${gi.y}`}for(let Zt=0;Zt<yt.length;Zt++){const ai=yt[Zt],ui=ai.geometry,gi=ai.text?ai.text.toString():null;if(!gi){Ht(Zt);continue}const Ci=Ei(gi,ui),Jt=Ei(gi,ui,!0);if(Ci in mt&&Jt in dt&&mt[Ci]!==dt[Jt]){const Ii=oi(Ci,Jt,ui),pn=$t(Ci,Jt,St[Ii].geometry);delete dt[Ci],delete mt[Jt],mt[Ei(gi,St[pn].geometry,!0)]=pn,St[Ii].geometry=null}else Ci in mt?$t(Ci,Jt,ui):Jt in dt?oi(Ci,Jt,ui):(Ht(Zt),dt[Ci]=bt-1,mt[Jt]=bt-1)}return St.filter(Zt=>Zt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((yt,dt)=>yt.sortKey-dt.sortKey)}update(i,o,h,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,o,this.layers,h,p),this.icon.programConfigurations.updatePaintArrays(i,o,this.layers,h,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=vy(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,o){const h=this.lineVertexArray.length;if(i.segment!==void 0)for(const{x:p,y:v}of o)this.lineVertexArray.emplaceBack(p,v);return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(i,o,h,p,v,T,R,K,ie,fe,we,Te,De,Le){const Ne=i.indexArray,Ye=i.layoutVertexArray,ut=i.globeExtVertexArray,yt=i.segments.prepareSegment(4*o.length,Ye,Ne,this.canOverlap?T.sortKey:void 0),dt=this.glyphOffsetArray.length,mt=yt.vertexLength,St=this.allowVerticalPlacement&&R===Mn.vertical?Math.PI/2:0,bt=T.text&&T.text.sections;for(let $t=0;$t<o.length;$t++){const{tl:oi,tr:Ei,bl:Zt,br:ai,tex:ui,pixelOffsetTL:gi,pixelOffsetBR:Ci,minFontScaleX:Jt,minFontScaleY:Ii,glyphOffset:pn,isSDF:Ui,sectionIndex:Ji}=o[$t],Li=yt.vertexLength,_n=pn[1];if($0(Ye,ie.x,ie.y,oi.x,_n+oi.y,ui.x,ui.y,h,Ui,gi.x,gi.y,Jt,Ii),$0(Ye,ie.x,ie.y,Ei.x,_n+Ei.y,ui.x+ui.w,ui.y,h,Ui,Ci.x,gi.y,Jt,Ii),$0(Ye,ie.x,ie.y,Zt.x,_n+Zt.y,ui.x,ui.y+ui.h,h,Ui,gi.x,Ci.y,Jt,Ii),$0(Ye,ie.x,ie.y,ai.x,_n+ai.y,ui.x+ui.w,ui.y+ui.h,h,Ui,Ci.x,Ci.y,Jt,Ii),K){const{x:Zn,y:Hn,z:Gn}=K.anchor,[bn,Ls,Pn]=K.up;H0(ut,Zn,Hn,Gn,bn,Ls,Pn),H0(ut,Zn,Hn,Gn,bn,Ls,Pn),H0(ut,Zn,Hn,Gn,bn,Ls,Pn),H0(ut,Zn,Hn,Gn,bn,Ls,Pn),W0(i.dynamicLayoutVertexArray,Zn,Hn,Gn,St)}else W0(i.dynamicLayoutVertexArray,ie.x,ie.y,ie.z,St);Ne.emplaceBack(Li,Li+1,Li+2),Ne.emplaceBack(Li+1,Li+2,Li+3),yt.vertexLength+=4,yt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(pn[0]),$t!==o.length-1&&Ji===o[$t+1].sectionIndex||i.programConfigurations.populatePaintArrays(Ye.length,T,T.index,{},De,Le,bt&&bt[Ji])}const Ht=K?K.anchor:ie;i.placedSymbolArray.emplaceBack(Ht.x,Ht.y,Ht.z,ie.x,ie.y,dt,this.glyphOffsetArray.length-dt,mt,fe,we,ie.segment,h?h[0]:0,h?h[1]:0,p[0],p[1],R,0,!1,0,Te,0)}_commitLayoutVertex(i,o,h,p,v,T,R){i.emplaceBack(o,h,p,v,T,Math.round(R.x),Math.round(R.y))}_addCollisionDebugVertices(i,o,h,p,v,T,R){const K=h.segments.prepareSegment(4,h.layoutVertexArray,h.indexArray),ie=K.vertexLength,fe=R.tileAnchorX,we=R.tileAnchorY;for(let De=0;De<4;De++)h.collisionVertexArray.emplaceBack(0,0,0,0);h.collisionVertexArrayExt.emplaceBack(o,-i.padding,-i.padding),h.collisionVertexArrayExt.emplaceBack(o,i.padding,-i.padding),h.collisionVertexArrayExt.emplaceBack(o,i.padding,i.padding),h.collisionVertexArrayExt.emplaceBack(o,-i.padding,i.padding),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,fe,we,new V(i.x1,i.y1)),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,fe,we,new V(i.x2,i.y1)),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,fe,we,new V(i.x2,i.y2)),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,fe,we,new V(i.x1,i.y2)),K.vertexLength+=4;const Te=h.indexArray;Te.emplaceBack(ie,ie+1),Te.emplaceBack(ie+1,ie+2),Te.emplaceBack(ie+2,ie+3),Te.emplaceBack(ie+3,ie),K.primitiveLength+=4}_addTextDebugCollisionBoxes(i,o,h,p,v,T){for(let R=p;R<v;R++){const K=h.get(R),ie=this.getSymbolInstanceTextSize(i,T,o,R);this._addCollisionDebugVertices(K,ie,this.textCollisionBox,K.projectedAnchorX,K.projectedAnchorY,K.projectedAnchorZ,T)}}_addIconDebugCollisionBoxes(i,o,h,p,v,T){for(let R=p;R<v;R++){const K=h.get(R),ie=this.getSymbolInstanceIconSize(i,o,T.placedIconSymbolIndex);this._addCollisionDebugVertices(K,ie,this.iconCollisionBox,K.projectedAnchorX,K.projectedAnchorY,K.projectedAnchorZ,T)}}generateCollisionDebugBuffers(i,o){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Qg(Us,Un.members,fl),this.iconCollisionBox=new Qg(Us,Un.members,fl);const h=Ou(this.iconSizeData,i),p=Ou(this.textSizeData,i);for(let v=0;v<this.symbolInstances.length;v++){const T=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(p,i,o,T.textBoxStartIndex,T.textBoxEndIndex,T),this._addTextDebugCollisionBoxes(p,i,o,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T),this._addIconDebugCollisionBoxes(h,i,o,T.iconBoxStartIndex,T.iconBoxEndIndex,T),this._addIconDebugCollisionBoxes(h,i,o,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T)}}getSymbolInstanceTextSize(i,o,h,p){const v=this.text.placedSymbolArray.get(o.rightJustifiedTextSymbolIndex>=0?o.rightJustifiedTextSymbolIndex:o.centerJustifiedTextSymbolIndex>=0?o.centerJustifiedTextSymbolIndex:o.leftJustifiedTextSymbolIndex>=0?o.leftJustifiedTextSymbolIndex:o.verticalPlacedTextSymbolIndex>=0?o.verticalPlacedTextSymbolIndex:p),T=ic(this.textSizeData,i,v)/Gs;return this.tilePixelRatio*T}getSymbolInstanceIconSize(i,o,h){const p=this.icon.placedSymbolArray.get(h),v=ic(this.iconSizeData,i,p);return this.tilePixelRatio*v}_commitDebugCollisionVertexUpdate(i,o,h){i.emplaceBack(o,-h,-h),i.emplaceBack(o,h,-h),i.emplaceBack(o,h,h),i.emplaceBack(o,-h,h)}_updateTextDebugCollisionBoxes(i,o,h,p,v,T){for(let R=p;R<v;R++){const K=h.get(R),ie=this.getSymbolInstanceTextSize(i,T,o,R);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,ie,K.padding)}}_updateIconDebugCollisionBoxes(i,o,h,p,v,T){for(let R=p;R<v;R++){const K=h.get(R),ie=this.getSymbolInstanceIconSize(i,o,T);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,ie,K.padding)}}updateCollisionDebugBuffers(i,o){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=Ou(this.iconSizeData,i),p=Ou(this.textSizeData,i);for(let v=0;v<this.symbolInstances.length;v++){const T=this.symbolInstances.get(v);this._updateTextDebugCollisionBoxes(p,i,o,T.textBoxStartIndex,T.textBoxEndIndex,T),this._updateTextDebugCollisionBoxes(p,i,o,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T),this._updateIconDebugCollisionBoxes(h,i,o,T.iconBoxStartIndex,T.iconBoxEndIndex,T.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(h,i,o,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(i,o,h,p,v,T,R,K,ie){const fe={};if(o<h){const{x1:we,y1:Te,x2:De,y2:Le,padding:Ne,projectedAnchorX:Ye,projectedAnchorY:ut,projectedAnchorZ:yt,tileAnchorX:dt,tileAnchorY:mt,featureIndex:St}=i.get(o);fe.textBox={x1:we,y1:Te,x2:De,y2:Le,padding:Ne,projectedAnchorX:Ye,projectedAnchorY:ut,projectedAnchorZ:yt,tileAnchorX:dt,tileAnchorY:mt},fe.textFeatureIndex=St}if(p<v){const{x1:we,y1:Te,x2:De,y2:Le,padding:Ne,projectedAnchorX:Ye,projectedAnchorY:ut,projectedAnchorZ:yt,tileAnchorX:dt,tileAnchorY:mt,featureIndex:St}=i.get(p);fe.verticalTextBox={x1:we,y1:Te,x2:De,y2:Le,padding:Ne,projectedAnchorX:Ye,projectedAnchorY:ut,projectedAnchorZ:yt,tileAnchorX:dt,tileAnchorY:mt},fe.verticalTextFeatureIndex=St}if(T<R){const{x1:we,y1:Te,x2:De,y2:Le,padding:Ne,projectedAnchorX:Ye,projectedAnchorY:ut,projectedAnchorZ:yt,tileAnchorX:dt,tileAnchorY:mt,featureIndex:St}=i.get(T);fe.iconBox={x1:we,y1:Te,x2:De,y2:Le,padding:Ne,projectedAnchorX:Ye,projectedAnchorY:ut,projectedAnchorZ:yt,tileAnchorX:dt,tileAnchorY:mt},fe.iconFeatureIndex=St}if(K<ie){const{x1:we,y1:Te,x2:De,y2:Le,padding:Ne,projectedAnchorX:Ye,projectedAnchorY:ut,projectedAnchorZ:yt,tileAnchorX:dt,tileAnchorY:mt,featureIndex:St}=i.get(K);fe.verticalIconBox={x1:we,y1:Te,x2:De,y2:Le,padding:Ne,projectedAnchorX:Ye,projectedAnchorY:ut,projectedAnchorZ:yt,tileAnchorX:dt,tileAnchorY:mt},fe.verticalIconFeatureIndex=St}return fe}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let o=0;o<this.symbolInstances.length;o++){const h=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,o){const h=i.placedSymbolArray.get(o),p=h.vertexStartIndex+4*h.numGlyphs;for(let v=h.vertexStartIndex;v<p;v+=4)i.indexArray.emplaceBack(v,v+1,v+2),i.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const o=Math.sin(i),h=Math.cos(i),p=[],v=[],T=[];for(let R=0;R<this.symbolInstances.length;++R){T.push(R);const K=this.symbolInstances.get(R);p.push(0|Math.round(o*K.tileAnchorX+h*K.tileAnchorY)),v.push(K.featureIndex)}return T.sort((R,K)=>p[R]-p[K]||v[K]-v[R]),T}addToSortKeyRanges(i,o){const h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===o?h.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const o of this.symbolInstanceIndexes){const h=this.symbolInstances.get(o);this.featureSortOrder.push(h.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:v,leftJustifiedTextSymbolIndex:T,verticalPlacedTextSymbolIndex:R,placedIconSymbolIndex:K,verticalPlacedIconSymbolIndex:ie}=h;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),v>=0&&v!==p&&this.addIndicesForPlacedSymbol(this.text,v),T>=0&&T!==v&&T!==p&&this.addIndicesForPlacedSymbol(this.text,T),R>=0&&this.addIndicesForPlacedSymbol(this.text,R),K>=0&&this.addIndicesForPlacedSymbol(this.icon,K),ie>=0&&this.addIndicesForPlacedSymbol(this.icon,ie)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}zi(Xh,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Xh.MAX_GLYPHS=65535,Xh.addDynamicAttributes=W0;const ob=new nn({"symbol-placement":new Rt(ni.layout_symbol["symbol-placement"]),"symbol-spacing":new Rt(ni.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Rt(ni.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Xt(ni.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Rt(ni.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Rt(ni.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Rt(ni.layout_symbol["icon-ignore-placement"]),"icon-optional":new Rt(ni.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Rt(ni.layout_symbol["icon-rotation-alignment"]),"icon-size":new Xt(ni.layout_symbol["icon-size"]),"icon-text-fit":new Rt(ni.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Rt(ni.layout_symbol["icon-text-fit-padding"]),"icon-image":new Xt(ni.layout_symbol["icon-image"]),"icon-rotate":new Xt(ni.layout_symbol["icon-rotate"]),"icon-padding":new Rt(ni.layout_symbol["icon-padding"]),"icon-keep-upright":new Rt(ni.layout_symbol["icon-keep-upright"]),"icon-offset":new Xt(ni.layout_symbol["icon-offset"]),"icon-anchor":new Xt(ni.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Rt(ni.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Rt(ni.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Rt(ni.layout_symbol["text-rotation-alignment"]),"text-field":new Xt(ni.layout_symbol["text-field"]),"text-font":new Xt(ni.layout_symbol["text-font"]),"text-size":new Xt(ni.layout_symbol["text-size"]),"text-max-width":new Xt(ni.layout_symbol["text-max-width"]),"text-line-height":new Xt(ni.layout_symbol["text-line-height"]),"text-letter-spacing":new Xt(ni.layout_symbol["text-letter-spacing"]),"text-justify":new Xt(ni.layout_symbol["text-justify"]),"text-radial-offset":new Xt(ni.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Rt(ni.layout_symbol["text-variable-anchor"]),"text-anchor":new Xt(ni.layout_symbol["text-anchor"]),"text-max-angle":new Rt(ni.layout_symbol["text-max-angle"]),"text-writing-mode":new Rt(ni.layout_symbol["text-writing-mode"]),"text-rotate":new Xt(ni.layout_symbol["text-rotate"]),"text-padding":new Rt(ni.layout_symbol["text-padding"]),"text-keep-upright":new Rt(ni.layout_symbol["text-keep-upright"]),"text-transform":new Xt(ni.layout_symbol["text-transform"]),"text-offset":new Xt(ni.layout_symbol["text-offset"]),"text-allow-overlap":new Rt(ni.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Rt(ni.layout_symbol["text-ignore-placement"]),"text-optional":new Rt(ni.layout_symbol["text-optional"])});var e1={paint:new nn({"icon-opacity":new Xt(ni.paint_symbol["icon-opacity"]),"icon-color":new Xt(ni.paint_symbol["icon-color"]),"icon-halo-color":new Xt(ni.paint_symbol["icon-halo-color"]),"icon-halo-width":new Xt(ni.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Xt(ni.paint_symbol["icon-halo-blur"]),"icon-translate":new Rt(ni.paint_symbol["icon-translate"]),"icon-translate-anchor":new Rt(ni.paint_symbol["icon-translate-anchor"]),"text-opacity":new Xt(ni.paint_symbol["text-opacity"]),"text-color":new Xt(ni.paint_symbol["text-color"],{runtimeType:Vo,getOverride:r=>r.textColor,hasOverride:r=>!!r.textColor}),"text-halo-color":new Xt(ni.paint_symbol["text-halo-color"]),"text-halo-width":new Xt(ni.paint_symbol["text-halo-width"]),"text-halo-blur":new Xt(ni.paint_symbol["text-halo-blur"]),"text-translate":new Rt(ni.paint_symbol["text-translate"]),"text-translate-anchor":new Rt(ni.paint_symbol["text-translate-anchor"])}),layout:ob};class xy{constructor(i){this.type=i.property.overrides?i.property.overrides.runtimeType:Or,this.defaultValue=i}evaluate(i){if(i.formattedSection){const o=this.defaultValue.property.overrides;if(o&&o.hasOverride(i.formattedSection))return o.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}zi(xy,"FormatSectionOverride",{omit:["defaultValue"]});class X0 extends da{constructor(i){super(i,e1)}recalculate(i,o){super.recalculate(i,o),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const h=this.layout.get("text-writing-mode");if(h){const p=[];for(const v of h)p.indexOf(v)<0&&p.push(v);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(i,o,h,p){const v=this.layout.get(i).evaluate(o,{},h,p),T=this._unevaluatedLayout._values[i];return T.isDataDriven()||As(T.value)||!v?v:function(R,K){return K.replace(/{([^{}]+)}/g,(ie,fe)=>fe in R?String(R[fe]):"")}(o.properties,v)}createBucket(i){return new Xh(i)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const i of e1.paint.overridableProperties){if(!X0.hasPaintOverride(this.layout,i))continue;const o=this.paint.get(i),h=new xy(o),p=new Xr(h,o.property.specification);let v=null;v=o.value.kind==="constant"||o.value.kind==="source"?new Mo("source",p):new xr("composite",p,o.value.zoomStops,o.value._interpolationType),this.paint._values[i]=new di(o.property,v,o.parameters)}}_handleOverridablePaintPropertyUpdate(i,o,h){return!(!this.layout||o.isDataDriven()||h.isDataDriven())&&X0.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,o){const h=i.get("text-field"),p=e1.paint.properties[o];let v=!1;const T=R=>{for(const K of R)if(p.overrides&&p.overrides.hasOverride(K))return void(v=!0)};if(h.value.kind==="constant"&&h.value.value instanceof Rr)T(h.value.value.sections);else if(h.value.kind==="source"){const R=ie=>{v||(ie instanceof Rl&&yr(ie.value)===ra?T(ie.value.sections):ie instanceof fs?T(ie.sections):ie.eachChild(R))},K=h.value;K._styleExpression&&R(K._styleExpression.expression)}return v}getProgramConfiguration(i){return new Gh(this,i)}}var ab={paint:new nn({"background-color":new Rt(ni.paint_background["background-color"]),"background-pattern":new Rt(ni.paint_background["background-pattern"]),"background-opacity":new Rt(ni.paint_background["background-opacity"])})},lb={paint:new nn({"raster-opacity":new Rt(ni.paint_raster["raster-opacity"]),"raster-hue-rotate":new Rt(ni.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Rt(ni.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Rt(ni.paint_raster["raster-brightness-max"]),"raster-saturation":new Rt(ni.paint_raster["raster-saturation"]),"raster-contrast":new Rt(ni.paint_raster["raster-contrast"]),"raster-resampling":new Rt(ni.paint_raster["raster-resampling"]),"raster-fade-duration":new Rt(ni.paint_raster["raster-fade-duration"])})};class cb extends da{constructor(i){super(i,{}),this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(i){this.implementation.onAdd&&this.implementation.onAdd(i,i.painter.context.gl)}onRemove(i){this.implementation.onRemove&&this.implementation.onRemove(i,i.painter.context.gl)}}var hb={paint:new nn({"sky-type":new Rt(ni.paint_sky["sky-type"]),"sky-atmosphere-sun":new Rt(ni.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Rt(ni.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Rt(ni.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Rt(ni.paint_sky["sky-gradient-radius"]),"sky-gradient":new Hi(ni.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Rt(ni.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Rt(ni.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Rt(ni.paint_sky["sky-opacity"])})};function t1(r,i,o){const h=[0,0,1],p=lg([]);return x_(p,p,o?-F(r)+Math.PI:F(r)),v_(p,p,-F(i)),g_(h,h,p),Jo(h,h)}const db={circle:class extends da{constructor(r){super(r,zx)}createBucket(r){return new Tu(r)}queryRadius(r){const i=r;return Su("circle-radius",this,i)+Su("circle-stroke-width",this,i)+p0(this.paint.get("circle-translate"))}queryIntersectsFeature(r,i,o,h,p,v,T,R){const K=Ko(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),ie=this.paint.get("circle-radius").evaluate(i,o)+this.paint.get("circle-stroke-width").evaluate(i,o);return b_(r,h,v,T,R,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",K,ie)}getProgramIds(){return["circle"]}getProgramConfiguration(r){return new Gh(this,r)}},heatmap:class extends da{createBucket(r){return new T_(r)}constructor(r){super(r,Vx),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Up({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(r){return Su("heatmap-radius",this,r)}queryIntersectsFeature(r,i,o,h,p,v,T,R){const K=this.paint.get("heatmap-radius").evaluate(i,o);return b_(r,h,v,T,R,!0,!0,new V(0,0),K)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(r){return new Gh(this,r)}},hillshade:class extends da{constructor(r){super(r,$x)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends da{constructor(r){super(r,r2)}getProgramIds(){const r=this.paint.get("fill-pattern"),i=r&&r.constantOr(1),o=[i?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&o.push(i&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),o}getProgramConfiguration(r){return new Gh(this,r)}recalculate(r,i){super.recalculate(r,i);const o=this.paint._values["fill-outline-color"];o.value.kind==="constant"&&o.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new x0(r)}queryRadius(){return p0(this.paint.get("fill-translate"))}queryIntersectsFeature(r,i,o,h,p,v){return!r.queryGeometry.isAboveHorizon&&u_(Ic(r.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),h)}isTileClipped(){return!0}},"fill-extrusion":class extends da{constructor(r){super(r,N_)}createBucket(r){return new Yp(r)}queryRadius(){return p0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(r){return new Gh(this,r)}queryIntersectsFeature(r,i,o,h,p,v,T,R,K){const ie=Ko(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),fe=this.paint.get("fill-extrusion-height").evaluate(i,o),we=this.paint.get("fill-extrusion-base").evaluate(i,o),Te=[0,0],De=R&&v.elevation,Le=v.elevation?v.elevation.exaggeration():1,Ne=r.tile.getBucket(this);if(De&&Ne instanceof Yp){const mt=Ne.centroidVertexArray,St=K+1;St<mt.length&&(Te[0]=mt.geta_centroid_pos0(St),Te[1]=mt.geta_centroid_pos1(St))}if(Te[0]===0&&Te[1]===1)return!1;v.projection.name==="globe"&&(h=Sg([h],[new V(0,0),new V(cn,cn)],r.tileID.canonical).map(mt=>mt.polygon).flat());const Ye=De?R:null,[ut,yt]=function(mt,St,bt,Ht,$t,oi,Ei,Zt,ai,ui,gi){return mt.projection.name==="globe"?function(Ci,Jt,Ii,pn,Ui,Ji,Li,_n,Zn,Hn,Gn){const bn=[],Ls=[],Pn=Ci.projection.upVectorScale(Gn,Ci.center.lat,Ci.worldSize).metersToTile,Kn=[0,0,0,1],Vs=[0,0,0,1],er=(tr,sr,Pr,Po)=>{tr[0]=sr,tr[1]=Pr,tr[2]=Po,tr[3]=1},Ks=Tg();Ii>0&&(Ii+=Ks),pn+=Ks;for(const tr of Jt){const sr=[],Pr=[];for(const Po of tr){const Os=Po.x+Ui.x,eo=Po.y+Ui.y,qr=Ci.projection.projectTilePoint(Os,eo,Gn),ys=Ci.projection.upVector(Gn,Po.x,Po.y);let _r=Ii,co=pn;if(Li){const $s=Eg(Os,eo,Ii,pn,Li,_n,Zn,Hn);_r+=$s.base,co+=$s.top}Ii!==0?er(Kn,qr.x+ys[0]*Pn*_r,qr.y+ys[1]*Pn*_r,qr.z+ys[2]*Pn*_r):er(Kn,qr.x,qr.y,qr.z),er(Vs,qr.x+ys[0]*Pn*co,qr.y+ys[1]*Pn*co,qr.z+ys[2]*Pn*co),br(Kn,Kn,Ji),br(Vs,Vs,Ji),sr.push(new Lu(Kn[0],Kn[1],Kn[2])),Pr.push(new Lu(Vs[0],Vs[1],Vs[2]))}bn.push(sr),Ls.push(Pr)}return[bn,Ls]}(mt,St,bt,Ht,$t,oi,Ei,Zt,ai,ui,gi):Ei?function(Ci,Jt,Ii,pn,Ui,Ji,Li,_n,Zn){const Hn=[],Gn=[],bn=[0,0,0,1];for(const Ls of Ci){const Pn=[],Kn=[];for(const Vs of Ls){const er=Vs.x+pn.x,Ks=Vs.y+pn.y,tr=Eg(er,Ks,Jt,Ii,Ji,Li,_n,Zn);bn[0]=er,bn[1]=Ks,bn[2]=tr.base,bn[3]=1,Vh(bn,bn,Ui),bn[3]=Math.max(bn[3],1e-5);const sr=new Lu(bn[0]/bn[3],bn[1]/bn[3],bn[2]/bn[3]);bn[0]=er,bn[1]=Ks,bn[2]=tr.top,bn[3]=1,Vh(bn,bn,Ui),bn[3]=Math.max(bn[3],1e-5);const Pr=new Lu(bn[0]/bn[3],bn[1]/bn[3],bn[2]/bn[3]);Pn.push(sr),Kn.push(Pr)}Hn.push(Pn),Gn.push(Kn)}return[Hn,Gn]}(St,bt,Ht,$t,oi,Ei,Zt,ai,ui):function(Ci,Jt,Ii,pn,Ui){const Ji=[],Li=[],_n=Ui[8]*Jt,Zn=Ui[9]*Jt,Hn=Ui[10]*Jt,Gn=Ui[11]*Jt,bn=Ui[8]*Ii,Ls=Ui[9]*Ii,Pn=Ui[10]*Ii,Kn=Ui[11]*Ii;for(const Vs of Ci){const er=[],Ks=[];for(const tr of Vs){const sr=tr.x+pn.x,Pr=tr.y+pn.y,Po=Ui[0]*sr+Ui[4]*Pr+Ui[12],Os=Ui[1]*sr+Ui[5]*Pr+Ui[13],eo=Ui[2]*sr+Ui[6]*Pr+Ui[14],qr=Ui[3]*sr+Ui[7]*Pr+Ui[15],ys=Po+_n,_r=Os+Zn,co=eo+Hn,$s=Math.max(qr+Gn,1e-5),Nr=Po+bn,fa=Os+Ls,Do=eo+Pn,Io=Math.max(qr+Kn,1e-5);er.push(new Lu(ys/$s,_r/$s,co/$s)),Ks.push(new Lu(Nr/Io,fa/Io,Do/Io))}Ji.push(er),Li.push(Ks)}return[Ji,Li]}(St,bt,Ht,$t,oi)}(v,h,we,fe,ie,T,Ye,Te,Le,v.center.lat,r.tileID.canonical),dt=r.queryGeometry;return function(mt,St,bt){let Ht=1/0;u_(bt,St)&&(Ht=A0(bt,St[0]));for(let $t=0;$t<St.length;$t++){const oi=St[$t],Ei=mt[$t];for(let Zt=0;Zt<oi.length-1;Zt++){const ai=oi[Zt],ui=[ai,oi[Zt+1],Ei[Zt+1],Ei[Zt],ai];d0(bt,ui)&&(Ht=Math.min(Ht,A0(bt,ui)))}}return Ht!==1/0&&Ht}(ut,yt,dt.isPointQuery()?dt.screenBounds:dt.screenGeometry)}},line:class extends da{constructor(r){super(r,G_),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(r){if(r==="line-gradient"){const i=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=i._styleExpression&&i._styleExpression.expression instanceof So,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,i){super.recalculate(r,i),this.paint._values["line-floorwidth"]=V_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new k0(r)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(r){return new Gh(this,r)}queryRadius(r){const i=r,o=$_(Su("line-width",this,i),Su("line-gap-width",this,i)),h=Su("line-offset",this,i);return o/2+Math.abs(h)+p0(this.paint.get("line-translate"))}queryIntersectsFeature(r,i,o,h,p,v){if(r.queryGeometry.isAboveHorizon)return!1;const T=Ic(r.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),R=r.pixelToTileUnitsFactor/2*$_(this.paint.get("line-width").evaluate(i,o),this.paint.get("line-gap-width").evaluate(i,o)),K=this.paint.get("line-offset").evaluate(i,o);return K&&(h=function(ie,fe){const we=[],Te=new V(0,0);for(let De=0;De<ie.length;De++){const Le=ie[De],Ne=[];for(let Ye=0;Ye<Le.length;Ye++){const ut=Le[Ye-1],yt=Le[Ye],dt=Le[Ye+1],mt=Ye===0?Te:yt.sub(ut)._unit()._perp(),St=Ye===Le.length-1?Te:dt.sub(yt)._unit()._perp(),bt=mt._add(St)._unit();bt._mult(1/(bt.x*St.x+bt.y*St.y)),Ne.push(bt._mult(fe)._add(yt))}we.push(Ne)}return we}(h,K*r.pixelToTileUnitsFactor)),function(ie,fe,we){for(let Te=0;Te<fe.length;Te++){const De=fe[Te];if(ie.length>=3){for(let Le=0;Le<De.length;Le++)if(Cd(ie,De[Le]))return!0}if(Km(ie,De,we))return!0}return!1}(T,h,R)}isTileClipped(){return!0}},symbol:X0,background:class extends da{constructor(r){super(r,ab)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends da{constructor(r){super(r,lb)}getProgramIds(){return["raster"]}},sky:class extends da{constructor(r){super(r,hb),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="sky-gradient"?this._updateColorRamp():r!=="sky-atmosphere-sun"&&r!=="sky-atmosphere-halo-color"&&r!=="sky-atmosphere-color"&&r!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Up({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(r){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const i=r.style.light.properties.get("position");return this._lightPosition.azimuthal!==i.azimuthal||this._lightPosition.polar!==i.polar}return!1}getCenter(r,i){if(this.paint.get("sky-type")==="atmosphere"){const h=this.paint.get("sky-atmosphere-sun"),p=!h,v=r.style.light,T=v.properties.get("position");return p&&v.properties.get("anchor")==="viewport"&&le("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?t1(T.azimuthal,90-T.polar,i):t1(h[0],90-h[1],i)}const o=this.paint.get("sky-gradient-center");return t1(o[0],90-o[1],i)}is3D(){return!1}isSky(){return!0}markSkyboxValid(r){this._skyboxInvalidated=!1,this._lightPosition=r.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const r=this.paint.get("sky-type");return r==="atmosphere"?["skyboxCapture","skybox"]:r==="gradient"?["skyboxGradient"]:null}}};class cf{constructor(i,o,h,p){this.context=i,this.format=h,this.texture=i.gl.createTexture(),this.update(o,p)}update(i,o,h){const{width:p,height:v}=i,{context:T}=this,{gl:R}=T,{HTMLImageElement:K,HTMLCanvasElement:ie,HTMLVideoElement:fe,ImageData:we,ImageBitmap:Te}=w;if(R.bindTexture(R.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===R.RGBA&&(!o||o.premultiply!==!1)),h||this.size&&this.size[0]===p&&this.size[1]===v){const{x:De,y:Le}=h||{x:0,y:0};i instanceof K||i instanceof ie||i instanceof fe||i instanceof we||Te&&i instanceof Te?R.texSubImage2D(R.TEXTURE_2D,0,De,Le,R.RGBA,R.UNSIGNED_BYTE,i):R.texSubImage2D(R.TEXTURE_2D,0,De,Le,p,v,R.RGBA,R.UNSIGNED_BYTE,i.data)}else this.size=[p,v],i instanceof K||i instanceof ie||i instanceof fe||i instanceof we||Te&&i instanceof Te?R.texImage2D(R.TEXTURE_2D,0,this.format,this.format,R.UNSIGNED_BYTE,i):R.texImage2D(R.TEXTURE_2D,0,this.format,p,v,0,this.format,R.UNSIGNED_BYTE,i.data);this.useMipmap=Boolean(o&&o.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&R.generateMipmap(R.TEXTURE_2D)}bind(i,o){const{context:h}=this,{gl:p}=h;p.bindTexture(p.TEXTURE_2D,this.texture),i!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,i),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?i===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:i),this.filter=i),o!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,o),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}class g{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class k{constructor(){this.tasks={},this.taskQueue=[],pe(["process"],this),this.invoker=new g(this.process),this.nextId=0}add(i,o){const h=this.nextId++,p=function({type:v,isSymbolTile:T,zoom:R}){return R=R||0,v==="message"?0:v!=="maybePrepare"||T?v!=="parseTile"||T?v==="parseTile"&&T?300-R:v==="maybePrepare"&&T?400-R:500:200-R:100-R}(o);if(p===0){Me();try{i()}finally{}return{cancel:()=>{}}}return this.tasks[h]={fn:i,metadata:o,priority:p,id:h},this.taskQueue.push(h),this.invoker.trigger(),{cancel:()=>{delete this.tasks[h]}}}process(){Me();try{if(this.taskQueue=this.taskQueue.filter(h=>!!this.tasks[h]),!this.taskQueue.length)return;const i=this.pick();if(i===null)return;const o=this.tasks[i];if(delete this.tasks[i],this.taskQueue.length&&this.invoker.trigger(),!o)return;o.fn()}finally{}}pick(){let i=null,o=1/0;for(let p=0;p<this.taskQueue.length;p++){const v=this.tasks[this.taskQueue[p]];v.priority<o&&(o=v.priority,i=p)}if(i===null)return null;const h=this.taskQueue[i];return this.taskQueue.splice(i,1),h}remove(){this.invoker.remove()}}class ae{constructor(i){this._stringToNumber={},this._numberToString=[];for(let o=0;o<i.length;o++){const h=i[o];this._stringToNumber[h]=o,this._numberToString[o]=h}}encode(i){return this._stringToNumber[i]}decode(i){return this._numberToString[i]}}const Ae=["tile","layer","source","sourceLayer","state"];class Ge{constructor(i,o,h,p,v){this.type="Feature",this._vectorTileFeature=i,this._z=o,this._x=h,this._y=p,this.properties=i.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(i.id=this.id);for(const o of Ae)this[o]!==void 0&&(i[o]=this[o]);return i}}const et=32,_t=33,At=new Uint16Array(8184);for(let r=0;r<2046;r++){let i=r+2,o=0,h=0,p=0,v=0,T=0,R=0;for(1&i?p=v=T=et:o=h=R=et;(i>>=1)>1;){const ie=o+p>>1,fe=h+v>>1;1&i?(p=o,v=h,o=T,h=R):(o=p,h=v,p=T,v=R),T=ie,R=fe}const K=4*r;At[K+0]=o,At[K+1]=h,At[K+2]=p,At[K+3]=v}const zt=new Uint16Array(2178),mi=new Uint8Array(1089),xi=new Uint16Array(1089);function ki(r){return r===0?-.03125:r===32?.03125:0}var Xi=Vi([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const un={type:2,extent:cn,loadGeometry:()=>[[new V(0,0),new V(8193,0),new V(8193,8193),new V(0,8193),new V(0,0)]]};class kn{constructor(i,o,h,p,v){this.tileID=i,this.uid=ue(),this.uses=0,this.tileSize=o,this.tileZoom=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=v,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(i){const o=i+this.timeAdded;o<Qi.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=zd(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(i,o,h){if(this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(p,v){const T={};if(!v)return T;for(const R of p){const K=R.layerIds.map(ie=>v.getLayer(ie)).filter(Boolean);if(K.length!==0){R.layers=K,R.stateDependentLayerIds&&(R.stateDependentLayers=R.stateDependentLayerIds.map(ie=>K.filter(fe=>fe.id===ie)[0]));for(const ie of K)T[ie.id]=R}}return T}(i.buckets,o.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const v=this.buckets[p];if(v instanceof Xh){if(this.hasSymbolBuckets=!0,!h)break;v.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const v=this.buckets[p];if(v instanceof Xh&&v.hasRTLText){this.hasRTLText=!0,Nt.isLoading()||Nt.isLoaded()||kt()!=="deferred"||Wt();break}}this.queryPadding=0;for(const p in this.buckets){const v=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(p).queryRadius(v))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage),i.lineAtlas&&(this.lineAtlas=i.lineAtlas)}else this.collisionBoxArray=new zm}unloadVectorData(){if(this.hasData()){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(i){return this.buckets[i.id]}upload(i){for(const h in this.buckets){const p=this.buckets[h];p.uploadPending()&&p.upload(i)}const o=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new cf(i,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new cf(i,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new cf(i,this.lineAtlas.image,o.ALPHA),this.lineAtlas.uploaded=!0)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,o,h,p,v,T,R,K){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:R,transform:T,params:v,tileTransform:this.tileTransform},i,o,h):{}}querySourceFeatures(i,o){const h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;const p=h.loadVTLayers(),v=o?o.sourceLayer:"",T=p._geojsonTileLayer||p[v];if(!T)return;const R=nr(o&&o.filter),{z:K,x:ie,y:fe}=this.tileID.canonical,we={z:K,x:ie,y:fe};for(let Te=0;Te<T.length;Te++){const De=T.feature(Te);if(R.needGeometry){const Ye=Dc(De,!0);if(!R.filter(new Dt(this.tileID.overscaledZ),Ye,this.tileID.canonical))continue}else if(!R.filter(new Dt(this.tileID.overscaledZ),De))continue;const Le=h.getId(De,v),Ne=new Ge(De,K,ie,fe,Le);Ne.tile=we,i.push(Ne)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const o=this.expirationTime;if(i.cacheControl){const h=Ee(i.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const h=Date.now();let p=!1;if(this.expirationTime>h)p=!1;else if(o)if(this.expirationTime<o)p=!0;else{const v=this.expirationTime-o;v?this.expirationTime=h+Math.max(v,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0||!o)return;const h=this.latestFeatureIndex.loadVTLayers(),p=o.style.listImages();for(const v in this.buckets){if(!o.style.hasLayer(v))continue;const T=this.buckets[v],R=T.layers[0].sourceLayer||"_geojsonTileLayer",K=h[R],ie=i[R];if(!K||!ie||Object.keys(ie).length===0)continue;if(T.update(ie,K,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),T instanceof k0||T instanceof x0){const we=o.style._getSourceCache(T.layers[0].source);o._terrain&&o._terrain.enabled&&we&&T.programConfigurations.needsUpload&&o._terrain._clearRenderCacheForTile(we.id,this.tileID)}const fe=o&&o.style&&o.style.getLayer(v);fe&&(this.queryPadding=Math.max(this.queryPadding,fe.queryRadius(T)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Qi.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=Qi.now()+i}setTexture(i,o){const h=o.context,p=h.gl;this.texture=this.texture||o.getTileTexture(i.width),this.texture?this.texture.update(i,{useMipmap:!0}):(this.texture=new cf(h,i,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),h.extTextureFilterAnisotropic&&p.texParameterf(p.TEXTURE_2D,h.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,h.extTextureFilterAnisotropicMax))}setDependencies(i,o){const h={};for(const p of o)h[p]=!0;this.dependencies[i]=h}hasDependency(i,o){for(const h of i){const p=this.dependencies[h];if(p){for(const v of o)if(p[v])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(i,o){if(!o||o.name==="mercator"||this._tileDebugBuffer)return;const h=Jl(un,this.tileID.canonical,this.tileTransform)[0],p=new ds,v=new sh;for(let T=0;T<h.length;T++){const{x:R,y:K}=h[T];p.emplaceBack(R,K),v.emplaceBack(T)}v.emplaceBack(0),this._tileDebugIndexBuffer=i.createIndexBuffer(v),this._tileDebugBuffer=i.createVertexBuffer(p,ef.members),this._tileDebugSegments=Cr.simpleSegment(0,0,p.length,v.length)}_makeTileBoundsBuffers(i,o){if(this._tileBoundsBuffer||!o||o.name==="mercator")return;const h=Jl(un,this.tileID.canonical,this.tileTransform)[0];let p,v;if(this.isRaster){const T=function(R,K){const ie=zd(R,K),fe=Math.pow(2,R.z);for(let Ye=0;Ye<_t;Ye++)for(let ut=0;ut<_t;ut++){const yt=ua((R.x+(ut+ki(ut))/et)/fe),dt=_o((R.y+(Ye+ki(Ye))/et)/fe),mt=K.project(yt,dt),St=Ye*_t+ut;zt[2*St+0]=Math.round((mt.x*ie.scale-ie.x)*cn),zt[2*St+1]=Math.round((mt.y*ie.scale-ie.y)*cn)}mi.fill(0),xi.fill(0);for(let Ye=2045;Ye>=0;Ye--){const ut=4*Ye,yt=At[ut+0],dt=At[ut+1],mt=At[ut+2],St=At[ut+3],bt=yt+mt>>1,Ht=dt+St>>1,$t=bt+Ht-dt,oi=Ht+yt-bt,Ei=dt*_t+yt,Zt=St*_t+mt,ai=Ht*_t+bt,ui=Math.hypot((zt[2*Ei+0]+zt[2*Zt+0])/2-zt[2*ai+0],(zt[2*Ei+1]+zt[2*Zt+1])/2-zt[2*ai+1])>=16;if(mi[ai]=mi[ai]||(ui?1:0),Ye<1022){const gi=(dt+oi>>1)*_t+(yt+$t>>1),Ci=(St+oi>>1)*_t+(mt+$t>>1);mi[ai]=mi[ai]||mi[gi]||mi[Ci]}}const we=new bs,Te=new ao;let De=0;function Le(Ye,ut){const yt=ut*_t+Ye;return xi[yt]===0&&(we.emplaceBack(zt[2*yt+0],zt[2*yt+1],Ye*cn/et,ut*cn/et),xi[yt]=++De),xi[yt]-1}function Ne(Ye,ut,yt,dt,mt,St){const bt=Ye+yt>>1,Ht=ut+dt>>1;if(Math.abs(Ye-mt)+Math.abs(ut-St)>1&&mi[Ht*_t+bt])Ne(mt,St,Ye,ut,bt,Ht),Ne(yt,dt,mt,St,bt,Ht);else{const $t=Le(Ye,ut),oi=Le(yt,dt),Ei=Le(mt,St);Te.emplaceBack($t,oi,Ei)}}return Ne(0,0,et,et,et,0),Ne(et,et,0,0,0,et),{vertices:we,indices:Te}}(this.tileID.canonical,o);p=T.vertices,v=T.indices}else{p=new bs,v=new ao;for(const{x:R,y:K}of h)p.emplaceBack(R,K,0,0);const T=Gp.exports(p.int16,void 0,4);for(let R=0;R<T.length;R+=3)v.emplaceBack(T[R],T[R+1],T[R+2])}this._tileBoundsBuffer=i.createVertexBuffer(p,Xi.members),this._tileBoundsIndexBuffer=i.createIndexBuffer(v),this._tileBoundsSegments=Cr.simpleSegment(0,0,p.length,v.length)}_makeGlobeTileDebugBuffers(i,o){const h=o.projection;if(!h||h.name!=="globe"||o.freezeTileCoverage)return;const p=this.tileID.canonical,v=sf(uy(p,o)),T=Bd(o.zoom);let R;T>0&&(R=f0(new Float64Array(16),o.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(i,p,o,v,R,T),this._makeGlobeTileDebugTextBuffer(i,p,o,v,R,T)}_globePoint(i,o,h,p,v,T,R){let K=nf(i,o,h);if(T){const ie=1<<h.z,fe=Zl(p.center.lng),we=Za(p.center.lat),Te=(h.x+.5)/ie-fe;let De=0;Te>.5?De=-1:Te<-.5&&(De=1);let Le=(i/cn+h.x)/ie+De,Ne=(o/cn+h.y)/ie;Le=(Le-fe)*p._pixelsPerMercatorPixel+fe,Ne=(Ne-we)*p._pixelsPerMercatorPixel+we;const Ye=[Le*p.worldSize,Ne*p.worldSize,0];br(Ye,Ye,T),K=Rd(K,Ye,R)}return br(K,K,v)}_makeGlobeTileDebugBorderBuffer(i,o,h,p,v,T){const R=new ds,K=new sh,ie=new ks,fe=(Te,De,Le,Ne,Ye)=>{const ut=(Le-Te)/(Ye-1),yt=(Ne-De)/(Ye-1),dt=R.length;for(let mt=0;mt<Ye;mt++){const St=Te+mt*ut,bt=De+mt*yt;R.emplaceBack(St,bt);const Ht=this._globePoint(St,bt,o,h,p,v,T);ie.emplaceBack(Ht[0],Ht[1],Ht[2]),K.emplaceBack(dt+mt)}},we=cn;fe(0,0,we,0,16),fe(we,0,we,we,16),fe(we,we,0,we,16),fe(0,we,0,0,16),this._tileDebugIndexBuffer=i.createIndexBuffer(K),this._tileDebugBuffer=i.createVertexBuffer(R,ef.members),this._globeTileDebugBorderBuffer=i.createVertexBuffer(ie,jg.members),this._tileDebugSegments=Cr.simpleSegment(0,0,R.length,K.length)}_makeGlobeTileDebugTextBuffer(i,o,h,p,v,T){const R=new ds,K=new ao,ie=new ks,fe=25;K.reserve(32),R.reserve(fe),ie.reserve(fe);const we=(Te,De)=>fe*Te+De;for(let Te=0;Te<fe;Te++){const De=2048*Te;for(let Le=0;Le<fe;Le++){const Ne=2048*Le;R.emplaceBack(Ne,De);const Ye=this._globePoint(Ne,De,o,h,p,v,T);ie.emplaceBack(Ye[0],Ye[1],Ye[2])}}for(let Te=0;Te<4;Te++)for(let De=0;De<4;De++){const Le=we(Te,De),Ne=we(Te,De+1),Ye=we(Te+1,De),ut=we(Te+1,De+1);K.emplaceBack(Le,Ne,Ye),K.emplaceBack(Ye,Ne,ut)}this._tileDebugTextIndexBuffer=i.createIndexBuffer(K),this._tileDebugTextBuffer=i.createVertexBuffer(R,ef.members),this._globeTileDebugTextBuffer=i.createVertexBuffer(ie,jg.members),this._tileDebugTextSegments=Cr.simpleSegment(0,0,fe,32)}}class es{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,o,h){const p=String(o);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][p]=this.stateChanges[i][p]||{},W(this.stateChanges[i][p],h),this.deletedStates[i]===null){this.deletedStates[i]={};for(const v in this.state[i])v!==p&&(this.deletedStates[i][v]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][p]===null){this.deletedStates[i][p]={};for(const v in this.state[i][p])h[v]||(this.deletedStates[i][p][v]=null)}else for(const v in h)this.deletedStates[i]&&this.deletedStates[i][p]&&this.deletedStates[i][p][v]===null&&delete this.deletedStates[i][p][v]}removeFeatureState(i,o,h){if(this.deletedStates[i]===null)return;const p=String(o);if(this.deletedStates[i]=this.deletedStates[i]||{},h&&o!==void 0)this.deletedStates[i][p]!==null&&(this.deletedStates[i][p]=this.deletedStates[i][p]||{},this.deletedStates[i][p][h]=null);else if(o!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][p])for(h in this.deletedStates[i][p]={},this.stateChanges[i][p])this.deletedStates[i][p][h]=null;else this.deletedStates[i][p]=null;else this.deletedStates[i]=null}getState(i,o){const h=String(o),p=W({},(this.state[i]||{})[h],(this.stateChanges[i]||{})[h]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const v=this.deletedStates[i][o];if(v===null)return{};for(const T in v)delete p[T]}return p}initializeTileState(i,o){i.setFeatureState(this.state,o)}coalesceChanges(i,o){const h={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const v={};for(const T in this.stateChanges[p])this.state[p][T]||(this.state[p][T]={}),W(this.state[p][T],this.stateChanges[p][T]),v[T]=this.state[p][T];h[p]=v}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const v={};if(this.deletedStates[p]===null)for(const T in this.state[p])v[T]={},this.state[p][T]={};else for(const T in this.deletedStates[p]){if(this.deletedStates[p][T]===null)this.state[p][T]={};else for(const R of Object.keys(this.deletedStates[p][T]))delete this.state[p][T][R];v[T]=this.state[p][T]}h[p]=h[p]||{},W(h[p],v)}if(this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0)for(const p in i)i[p].setFeatureState(h,o)}}class Ln{constructor(i){this.size=i,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(i,o){const h=this.toIdx(i,o);return{min:this.minimums[h],max:this.maximums[h]}}isLeaf(i,o){return this.leaves[this.toIdx(i,o)]}toIdx(i,o){return o*this.size+i}}function ls(r,i,o,h){let p=0,v=Number.MAX_VALUE;for(let T=0;T<3;T++)if(Math.abs(h[T])<1e-15){if(o[T]<r[T]||o[T]>i[T])return null}else{const R=1/h[T];let K=(r[T]-o[T])*R,ie=(i[T]-o[T])*R;if(K>ie){const fe=K;K=ie,ie=fe}if(K>p&&(p=K),ie<v&&(v=ie),p>v)return null}return p}function _s(r,i,o,h,p,v,T,R,K,ie,fe){const we=h-r,Te=p-i,De=v-o,Le=T-r,Ne=R-i,Ye=K-o,ut=fe[1]*Ye-fe[2]*Ne,yt=fe[2]*Le-fe[0]*Ye,dt=fe[0]*Ne-fe[1]*Le,mt=we*ut+Te*yt+De*dt;if(Math.abs(mt)<1e-15)return null;const St=1/mt,bt=ie[0]-r,Ht=ie[1]-i,$t=ie[2]-o,oi=(bt*ut+Ht*yt+$t*dt)*St;if(oi<0||oi>1)return null;const Ei=Ht*De-$t*Te,Zt=$t*we-bt*De,ai=bt*Te-Ht*we,ui=(fe[0]*Ei+fe[1]*Zt+fe[2]*ai)*St;return ui<0||oi+ui>1?null:(Le*Ei+Ne*Zt+Ye*ai)*St}function Aa(r,i,o){return(r-i)/(o-i)}function ta(r,i,o,h,p,v,T,R,K){const ie=1<<o,fe=v-h,we=T-p,Te=(r+1)/ie*fe+h,De=(i+0)/ie*we+p,Le=(i+1)/ie*we+p;R[0]=(r+0)/ie*fe+h,R[1]=De,K[0]=Te,K[1]=Le}class ka{constructor(i){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=i,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const o=function(v){const T=Math.ceil(Math.log2(v.dim/8)),R=[];let K=Math.ceil(Math.pow(2,T));const ie=1/K,fe=(De,Le,Ne,Ye,ut)=>{const yt=Ye?1:0,dt=(De+1)*Ne-yt,mt=Le*Ne,St=(Le+1)*Ne-yt;ut[0]=De*Ne,ut[1]=mt,ut[2]=dt,ut[3]=St};let we=new Ln(K);const Te=[];for(let De=0;De<K*K;De++){fe(De%K,Math.floor(De/K),ie,!1,Te);const Le=vo(Te[0],Te[1],v),Ne=vo(Te[2],Te[1],v),Ye=vo(Te[2],Te[3],v),ut=vo(Te[0],Te[3],v);we.minimums.push(Math.min(Le,Ne,Ye,ut)),we.maximums.push(Math.max(Le,Ne,Ye,ut)),we.leaves.push(1)}for(R.push(we),K/=2;K>=1;K/=2){const De=R[R.length-1];we=new Ln(K);for(let Le=0;Le<K*K;Le++){fe(Le%K,Math.floor(Le/K),2,!0,Te);const Ne=De.getElevation(Te[0],Te[1]),Ye=De.getElevation(Te[2],Te[1]),ut=De.getElevation(Te[2],Te[3]),yt=De.getElevation(Te[0],Te[3]),dt=De.isLeaf(Te[0],Te[1]),mt=De.isLeaf(Te[2],Te[1]),St=De.isLeaf(Te[2],Te[3]),bt=De.isLeaf(Te[0],Te[3]),Ht=Math.min(Ne.min,Ye.min,ut.min,yt.min),$t=Math.max(Ne.max,Ye.max,ut.max,yt.max),oi=dt&&mt&&St&&bt;we.maximums.push($t),we.minimums.push(Ht),we.leaves.push($t-Ht<=5&&oi?1:0)}R.push(we)}return R}(this.dem),h=o.length-1,p=o[h];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(o,0,0,h,0)}raycastRoot(i,o,h,p,v,T,R=1){return ls([i,o,-100],[h,p,this.maximums[0]*R],v,T)}raycast(i,o,h,p,v,T,R=1){if(!this.nodeCount)return null;const K=this.raycastRoot(i,o,h,p,v,T,R);if(K==null)return null;const ie=[],fe=[],we=[],Te=[],De=[{idx:0,t:K,nodex:0,nodey:0,depth:0}];for(;De.length>0;){const{idx:Le,t:Ne,nodex:Ye,nodey:ut,depth:yt}=De.pop();if(this.leaves[Le]){ta(Ye,ut,yt,i,o,h,p,we,Te);const mt=1<<yt,St=(Ye+0)/mt,bt=(Ye+1)/mt,Ht=(ut+0)/mt,$t=(ut+1)/mt,oi=vo(St,Ht,this.dem)*R,Ei=vo(bt,Ht,this.dem)*R,Zt=vo(bt,$t,this.dem)*R,ai=vo(St,$t,this.dem)*R,ui=_s(we[0],we[1],oi,Te[0],we[1],Ei,Te[0],Te[1],Zt,v,T),gi=_s(Te[0],Te[1],Zt,we[0],Te[1],ai,we[0],we[1],oi,v,T),Ci=Math.min(ui!==null?ui:Number.MAX_VALUE,gi!==null?gi:Number.MAX_VALUE);if(Ci!==Number.MAX_VALUE)return Ci;{const Jt=ku([],v,T,Ne);if(Fr(oi,Ei,ai,Zt,Aa(Jt[0],we[0],Te[0]),Aa(Jt[1],we[1],Te[1]))>=Jt[2])return Ne}continue}let dt=0;for(let mt=0;mt<this._siblingOffset.length;mt++){ta((Ye<<1)+this._siblingOffset[mt][0],(ut<<1)+this._siblingOffset[mt][1],yt+1,i,o,h,p,we,Te),we[2]=-100,Te[2]=this.maximums[this.childOffsets[Le]+mt]*R;const St=ls(we,Te,v,T);if(St!=null){const bt=St;ie[mt]=bt;let Ht=!1;for(let $t=0;$t<dt&&!Ht;$t++)bt>=ie[fe[$t]]&&(fe.splice($t,0,mt),Ht=!0);Ht||(fe[dt]=mt),dt++}}for(let mt=0;mt<dt;mt++){const St=fe[mt];De.push({idx:this.childOffsets[Le]+St,t:ie[St],nodex:(Ye<<1)+this._siblingOffset[St][0],nodey:(ut<<1)+this._siblingOffset[St][1],depth:yt+1})}}return null}_addNode(i,o,h){return this.minimums.push(i),this.maximums.push(o),this.leaves.push(h),this.childOffsets.push(0),this.nodeCount++}_construct(i,o,h,p,v){if(i[p].isLeaf(o,h)===1)return;this.childOffsets[v]||(this.childOffsets[v]=this.nodeCount);const T=p-1,R=i[T];let K=0,ie=0;for(let fe=0;fe<this._siblingOffset.length;fe++){const we=2*o+this._siblingOffset[fe][0],Te=2*h+this._siblingOffset[fe][1],De=R.getElevation(we,Te),Le=R.isLeaf(we,Te),Ne=this._addNode(De.min,De.max,Le);Le&&(K|=1<<fe),ie||(ie=Ne)}for(let fe=0;fe<this._siblingOffset.length;fe++)K&1<<fe||this._construct(i,2*o+this._siblingOffset[fe][0],2*h+this._siblingOffset[fe][1],T,ie+fe)}}function Fr(r,i,o,h,p,v){return Dn(Dn(r,o,v),Dn(i,h,v),p)}function vo(r,i,o){const h=o.dim,p=y(r*h-.5,0,h-1),v=y(i*h-.5,0,h-1),T=Math.floor(p),R=Math.floor(v),K=Math.min(T+1,h-1),ie=Math.min(R+1,h-1);return Fr(o.get(T,R),o.get(K,R),o.get(T,ie),o.get(K,ie),p-T,v-R)}const zc={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class hf{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(i,o,h,p=!1,v=!1){if(this.uid=i,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(h&&h!=="mapbox"&&h!=="terrarium")return le(`"${h}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=o.height;const T=this.dim=o.height-2,R=new Uint32Array(o.data.buffer);if(this.pixels=new Uint8Array(o.data.buffer),this.encoding=h||"mapbox",this.borderReady=p,!p){for(let K=0;K<T;K++)R[this._idx(-1,K)]=R[this._idx(0,K)],R[this._idx(T,K)]=R[this._idx(T-1,K)],R[this._idx(K,-1)]=R[this._idx(K,0)],R[this._idx(K,T)]=R[this._idx(K,T-1)];R[this._idx(-1,-1)]=R[this._idx(0,0)],R[this._idx(T,-1)]=R[this._idx(T-1,0)],R[this._idx(-1,T)]=R[this._idx(0,T-1)],R[this._idx(T,T)]=R[this._idx(T-1,T-1)],v&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new ka(this)}get(i,o,h=!1){h&&(i=y(i,-1,this.dim),o=y(o,-1,this.dim));const p=4*this._idx(i,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(i){return zc[i]}get unpackVector(){return zc[this.encoding]}_idx(i,o){if(i<-1||i>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(i+1)}_unpackMapbox(i,o,h){return(256*i*256+256*o+h)/10-1e4}_unpackTerrarium(i,o,h){return 256*i+o+h/256-32768}static pack(i,o){const h=[0,0,0,0],p=hf.getUnpackVector(o);let v=Math.floor((i+p[3])/p[2]);return h[2]=v%256,v=Math.floor(v/256),h[1]=v%256,v=Math.floor(v/256),h[0]=v,h}getPixels(){return new Ma({width:this.stride,height:this.stride},this.pixels)}backfillBorder(i,o,h){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let p=o*this.dim,v=o*this.dim+this.dim,T=h*this.dim,R=h*this.dim+this.dim;switch(o){case-1:p=v-1;break;case 1:v=p+1}switch(h){case-1:T=R-1;break;case 1:R=T+1}const K=-o*this.dim,ie=-h*this.dim;for(let fe=T;fe<R;fe++)for(let we=p;we<v;we++){const Te=4*this._idx(we,fe),De=4*this._idx(we+K,fe+ie);this.pixels[Te+0]=i.pixels[De+0],this.pixels[Te+1]=i.pixels[De+1],this.pixels[Te+2]=i.pixels[De+2],this.pixels[Te+3]=i.pixels[De+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}zi(hf,"DEMData"),zi(ka,"DemMinMaxQuadTree",{omit:["dem"]});class JA{constructor(i,o){this.max=i,this.onRemove=o,this.reset()}reset(){for(const i in this.data)for(const o of this.data[i])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(i,o,h){const p=i.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const v={value:o,timeout:void 0};if(h!==void 0&&(v.timeout=setTimeout(()=>{this.remove(i,v)},h)),this.data[p].push(v),this.order.push(p),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const o=this.data[i].shift();return o.timeout&&clearTimeout(o.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),o.value}getByKey(i){const o=this.data[i];return o?o[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,o){if(!this.has(i))return this;const h=i.wrapped().key,p=o===void 0?0:this.data[h].indexOf(o),v=this.data[h][p];return this.data[h].splice(p,1),v.timeout&&clearTimeout(v.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(v.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(i){const o=[];for(const h in this.data)for(const p of this.data[h])i(p.value)||o.push(p);for(const h of o)this.remove(h.value.tileID,h)}}class Y0{constructor(i,o,h){this.func=i,this.mask=o,this.range=h}}Y0.ReadOnly=!1,Y0.ReadWrite=!0,Y0.disabled=new Y0(519,Y0.ReadOnly,[0,1]);const ub=7680;class pb{constructor(i,o,h,p,v,T){this.test=i,this.ref=o,this.mask=h,this.fail=p,this.depthFail=v,this.pass=T}}pb.disabled=new pb({func:519,mask:0},0,0,ub,ub,ub);class Yh{constructor(i,o,h){this.blendFunction=i,this.blendColor=o,this.mask=h}}Yh.Replace=[1,0],Yh.disabled=new Yh(Yh.Replace,ir.transparent,[!1,!1,!1,!1]),Yh.unblended=new Yh(Yh.Replace,ir.transparent,[!0,!0,!0,!0]),Yh.alphaBlended=new Yh([1,771],ir.transparent,[!0,!0,!0,!0]);const fb=1029,mb=2305;class ph{constructor(i,o,h){this.enable=i,this.mode=o,this.frontFace=h}}ph.disabled=new ph(!1,fb,mb),ph.backCCW=new ph(!0,fb,mb),ph.backCW=new ph(!0,fb,2304),ph.frontCW=new ph(!0,1028,2304),ph.frontCCW=new ph(!0,1028,mb);class df extends To{constructor(i,o,h){super(),this.id=i,this._onlySymbols=h,o.on("data",p=>{p.dataType==="source"&&p.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&p.dataType==="source"&&p.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),o.on("error",()=>{this._sourceErrored=!0}),this._source=o,this._tiles={},this._cache=new JA(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=o.minTileCacheSize,this._maxTileCacheSize=o.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new es,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(i){this.map=i,this._minTileCacheSize=this._minTileCacheSize===void 0&&i?i._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&i?i._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const i in this._tiles){const o=this._tiles[i];if(o.state!=="loaded"&&o.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(i,o){return i.isSymbolTile=this._onlySymbols,this._source.loadTile(i,o)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){if(this._source.abortTile)return this._source.abortTile(i,()=>{})}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const h=this._tiles[o];h.upload(i),h.prepare(this.map.style.imageManager)}}getIds(){return J(this._tiles).map(i=>i.tileID).sort(jT).map(i=>i.key)}getRenderableIds(i){const o=[];for(const h in this._tiles)this._isIdRenderable(+h,i)&&o.push(this._tiles[h]);return i?o.sort((h,p)=>{const v=h.tileID,T=p.tileID,R=new V(v.canonical.x,v.canonical.y)._rotate(this.transform.angle),K=new V(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return v.overscaledZ-T.overscaledZ||K.y-R.y||K.x-R.x}).map(h=>h.tileID.key):o.map(h=>h.tileID).sort(jT).map(h=>h.key)}hasRenderableParent(i){const o=this.findLoadedParent(i,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(i,o){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(o||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(+i,"reloading")}}_reloadTile(i,o){const h=this._tiles[i];h&&(h.state!=="loading"&&(h.state=o),this._loadTile(h,this._tileLoaded.bind(this,h,i,o)))}_tileLoaded(i,o,h,p){if(p)if(i.state="errored",p.status!==404)this._source.fire(new sl(p,{tile:i}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const v=this.map.painter.terrain;this.update(this.transform,v.getScaledDemTileSize(),!0),v.resetTileLookupCache(this.id)}else this.update(this.transform);else i.timeAdded=Qi.now(),h==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(o,i),this._source.type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),this._source.fire(new ya("data",{dataType:"source",tile:i,coord:i.tileID,sourceCacheId:this.id}))}_backfillDEM(i){const o=this.getRenderableIds();for(let p=0;p<o.length;p++){const v=o[p];if(i.neighboringTiles&&i.neighboringTiles[v]){const T=this.getTileByID(v);h(i,T),h(T,i)}}function h(p,v){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let T=v.tileID.canonical.x-p.tileID.canonical.x;const R=v.tileID.canonical.y-p.tileID.canonical.y,K=Math.pow(2,p.tileID.canonical.z),ie=v.tileID.key;T===0&&R===0||Math.abs(R)>1||(Math.abs(T)>1&&(Math.abs(T+K)===1?T+=K:Math.abs(T-K)===1&&(T-=K)),v.dem&&p.dem&&(p.dem.backfillBorder(v.dem,T,R),p.neighboringTiles&&p.neighboringTiles[ie]&&(p.neighboringTiles[ie].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,o,h,p){for(const v in this._tiles){let T=this._tiles[v];if(p[v]||!T.hasData()||T.tileID.overscaledZ<=o||T.tileID.overscaledZ>h)continue;let R=T.tileID;for(;T&&T.tileID.overscaledZ>o+1;){const ie=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[ie.key],T&&T.hasData()&&(R=ie)}let K=R;for(;K.overscaledZ>o;)if(K=K.scaledTo(K.overscaledZ-1),i[K.key]){p[R.key]=R;break}}}findLoadedParent(i,o){if(i.key in this._loadedParentTiles){const h=this._loadedParentTiles[i.key];return h&&h.tileID.overscaledZ>=o?h:null}for(let h=i.overscaledZ-1;h>=o;h--){const p=i.scaledTo(h),v=this._getLoadedTile(p);if(v)return v}}_getLoadedTile(i){const o=this._tiles[i.key];return o&&o.hasData()?o:this._cache.getByKey(this._source.reparseOverscaled?i.wrapped().key:i.canonical.key)}updateCacheSize(i,o){o=o||this._source.tileSize;const h=Math.ceil(i.width/o)+1,p=Math.ceil(i.height/o)+1,v=Math.floor(h*p*5),T=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,v):v,R=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,T):T;this._cache.setMaxSize(R)}handleWrapJump(i){const o=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,o){const h={};for(const p in this._tiles){const v=this._tiles[p];v.tileID=v.tileID.unwrapTo(v.tileID.wrap+o),h[v.tileID.key]=v}this._tiles=h;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(i,o,h){if(this.transform=i,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!h)return;let p;this.updateCacheSize(i,o),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(R=>new lo(R.canonical.z,R.wrap,R.canonical.z,R.canonical.x,R.canonical.y)):(p=i.coveringTiles({tileSize:o||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!h,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(R=>this._source.hasTile(R)))):p=[];const v=this._updateRetainedTiles(p);if(UT(this._source.type)&&p.length!==0){const R={},K={},ie=Object.keys(v);for(const we of ie){const Te=v[we],De=this._tiles[we];if(!De||De.fadeEndTime&&De.fadeEndTime<=Qi.now())continue;const Le=this.findLoadedParent(Te,Math.max(Te.overscaledZ-df.maxOverzooming,this._source.minzoom));Le&&(this._addTile(Le.tileID),R[Le.tileID.key]=Le.tileID),K[we]=Te}const fe=p[p.length-1].overscaledZ;for(const we in this._tiles){const Te=this._tiles[we];if(v[we]||!Te.hasData())continue;let De=Te.tileID;for(;De.overscaledZ>fe;){De=De.scaledTo(De.overscaledZ-1);const Le=this._tiles[De.key];if(Le&&Le.hasData()&&K[De.key]){v[we]=Te.tileID;break}}}for(const we in R)v[we]||(this._coveredTiles[we]=!0,v[we]=R[we])}for(const R in v)this._tiles[R].clearFadeHold();const T=function(R,K){const ie=[];for(const fe in R)fe in K||ie.push(fe);return ie}(this._tiles,v);for(const R of T){const K=this._tiles[R];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(+R)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(+i)}_updateRetainedTiles(i){const o={};if(i.length===0)return o;const h={},p=i.reduce((ie,fe)=>Math.min(ie,fe.overscaledZ),1/0),v=i[0].overscaledZ,T=Math.max(v-df.maxOverzooming,this._source.minzoom),R=Math.max(v+df.maxUnderzooming,this._source.minzoom),K={};for(const ie of i){const fe=this._addTile(ie);o[ie.key]=ie,fe.hasData()||p<this._source.maxzoom&&(K[ie.key]=ie)}this._retainLoadedChildren(K,p,R,o);for(const ie of i){let fe=this._tiles[ie.key];if(fe.hasData())continue;if(ie.canonical.z>=this._source.maxzoom){const Te=ie.children(this._source.maxzoom)[0],De=this.getTile(Te);if(De&&De.hasData()){o[Te.key]=Te;continue}}else{const Te=ie.children(this._source.maxzoom);if(o[Te[0].key]&&o[Te[1].key]&&o[Te[2].key]&&o[Te[3].key])continue}let we=fe.wasRequested();for(let Te=ie.overscaledZ-1;Te>=T;--Te){const De=ie.scaledTo(Te);if(h[De.key]||(h[De.key]=!0,fe=this.getTile(De),!fe&&we&&(fe=this._addTile(De)),fe&&(o[De.key]=De,we=fe.wasRequested(),fe.hasData())))break}}return o}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const o=[];let h,p=this._tiles[i].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){h=this._loadedParentTiles[p.key];break}o.push(p.key);const v=p.scaledTo(p.overscaledZ-1);if(h=this._getLoadedTile(v),h)break;p=v}for(const v of o)this._loadedParentTiles[v]=h}}_addTile(i){let o=this._tiles[i.key];if(o)return o;o=this._cache.getAndRemove(i),o&&(this._setTileReloadTimer(i.key,o),o.tileID=i,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,o)));const h=Boolean(o);if(!h){const p=this.map?this.map.painter:null;o=new kn(i,this._source.tileSize*i.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(o,this._tileLoaded.bind(this,o,i.key,o.state))}return o?(o.uses++,this._tiles[i.key]=o,h||this._source.fire(new ya("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o):null}_setTileReloadTimer(i,o){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const h=o.getExpiryTimeout();h&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},h))}_removeTile(i){const o=this._tiles[i];o&&(o.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),o.uses>0||(o.hasData()&&o.state!=="reloading"?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(+i);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(i,o,h){const p=[],v=this.transform;if(!v)return p;const T=v.projection.name==="globe",R=Zl(v.center.lng);for(const K in this._tiles){const ie=this._tiles[K];if(h&&ie.clearQueryDebugViz(),ie.holdingForFade())continue;let fe;if(T){const we=ie.tileID.canonical;if(we.z===0){const Te=[Math.abs(y(R,...i1(we,-1))-R),Math.abs(y(R,...i1(we,1))-R)];fe=[0,2*Te.indexOf(Math.min(...Te))-1]}else{const Te=[Math.abs(y(R,...i1(we,-1))-R),Math.abs(y(R,...i1(we,0))-R),Math.abs(y(R,...i1(we,1))-R)];fe=[Te.indexOf(Math.min(...Te))-1]}}else fe=[0];for(const we of fe){const Te=i.containsTile(ie,v,o,we);Te&&p.push(Te)}}return p}getVisibleCoordinates(i){const o=this.getRenderableIds(i).map(h=>this._tiles[h].tileID);for(const h of o)h.projMatrix=this.transform.calculateProjMatrix(h.toUnwrapped());return o}hasTransition(){if(this._source.hasTransition())return!0;if(UT(this._source.type))for(const i in this._tiles){const o=this._tiles[i];if(o.fadeEndTime!==void 0&&o.fadeEndTime>=Qi.now())return!0}return!1}setFeatureState(i,o,h){this._state.updateState(i=i||"_geojsonTileLayer",o,h)}removeFeatureState(i,o,h){this._state.removeFeatureState(i=i||"_geojsonTileLayer",o,h)}getFeatureState(i,o){return this._state.getState(i=i||"_geojsonTileLayer",o)}setDependencies(i,o,h){const p=this._tiles[i];p&&p.setDependencies(o,h)}reloadTilesForDependencies(i,o){for(const h in this._tiles)this._tiles[h].hasDependency(i,o)&&this._reloadTile(+h,"reloading");this._cache.filter(h=>!h.hasDependency(i,o))}_preloadTiles(i,o){const h=new Map,p=Array.isArray(i)?i:[i],v=this.map.painter.terrain,T=this.usedForTerrain&&v?v.getScaledDemTileSize():this._source.tileSize;for(const R of p){const K=R.coveringTiles({tileSize:T,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const ie of K)h.set(ie.key,ie);this.usedForTerrain&&R.updateElevation(!1)}j(Array.from(h.values()),(R,K)=>{const ie=new kn(R,this._source.tileSize*R.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(ie,fe=>{this._source.type==="raster-dem"&&ie.dem&&this._backfillDEM(ie),K(fe,ie)})},o)}}function jT(r,i){const o=Math.abs(2*r.wrap)-+(r.wrap<0),h=Math.abs(2*i.wrap)-+(i.wrap<0);return r.overscaledZ-i.overscaledZ||h-o||i.canonical.y-r.canonical.y||i.canonical.x-r.canonical.x}function UT(r){return r==="raster"||r==="image"||r==="video"||r==="custom"}function i1(r,i){const o=1<<r.z;return[r.x/o+i,(r.x+1)/o+i]}df.maxOverzooming=10,df.maxUnderzooming=3;class by{constructor(i,o,h){this._demTile=i,this._dem=this._demTile.dem,this._scale=o,this._offset=h}static create(i,o,h){const p=h||i.findDEMTileFor(o);if(!p||!p.dem)return;const v=p.dem,T=p.tileID,R=1<<o.canonical.z-T.canonical.z;return new by(p,p.tileSize/cn/R,[(o.canonical.x/R-T.canonical.x)*v.dim,(o.canonical.y/R-T.canonical.y)*v.dim])}tileCoordToPixel(i,o){const h=o*this._scale+this._offset[1],p=Math.floor(i*this._scale+this._offset[0]),v=Math.floor(h);return new V(p,v)}getElevationAt(i,o,h,p){const v=i*this._scale+this._offset[0],T=o*this._scale+this._offset[1],R=Math.floor(v),K=Math.floor(T),ie=this._dem;return p=!!p,h?Dn(Dn(ie.get(R,K,p),ie.get(R,K+1,p),T-K),Dn(ie.get(R+1,K,p),ie.get(R+1,K+1,p),T-K),v-R):ie.get(R,K,p)}getElevationAtPixel(i,o,h){return this._dem.get(i,o,!!h)}getMeterToDEM(i){return(1<<this._demTile.tileID.canonical.z)*Ka(1,i)*this._dem.stride}}class GT{constructor(i,o){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new Fh(cn,16,0),this.featureIndexArray=new rh,this.promoteId=o}insert(i,o,h,p,v,T=0){const R=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,p,v,T);const K=this.grid;for(let ie=0;ie<o.length;ie++){const fe=o[ie],we=[1/0,1/0,-1/0,-1/0];for(let Te=0;Te<fe.length;Te++){const De=fe[Te];we[0]=Math.min(we[0],De.x),we[1]=Math.min(we[1],De.y),we[2]=Math.max(we[2],De.x),we[3]=Math.max(we[3],De.y)}we[0]<cn&&we[1]<cn&&we[2]>=0&&we[3]>=0&&K.insert(R,we[0],we[1],we[2],we[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new xg(new Kp(this.rawTileData)).layers,this.sourceLayerCoder=new ae(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const i in this.vtLayers)this.vtFeatures[i]=[]}return this.vtLayers}query(i,o,h,p){this.loadVTLayers();const v=i.params||{},T=nr(v.filter),R=i.tileResult,K=i.transform,ie=R.bufferedTilespaceBounds,fe=this.grid.query(ie.min.x,ie.min.y,ie.max.x,ie.max.y,(Le,Ne,Ye,ut)=>eg(R.bufferedTilespaceGeometry,Le,Ne,Ye,ut));fe.sort(QA);let we=null;K.elevation&&fe.length>0&&(we=by.create(K.elevation,this.tileID));const Te={};let De;for(let Le=0;Le<fe.length;Le++){const Ne=fe[Le];if(Ne===De)continue;De=Ne;const Ye=this.featureIndexArray.get(Ne);let ut=null;this.loadMatchingFeature(Te,Ye,T,v.layers,v.availableImages,o,h,p,(yt,dt,mt,St=0)=>(ut||(ut=Jl(yt,this.tileID.canonical,i.tileTransform)),dt.queryIntersectsFeature(R,yt,mt,ut,this.z,i.transform,i.pixelPosMatrix,we,St)))}return Te}loadMatchingFeature(i,o,h,p,v,T,R,K,ie){const{featureIndex:fe,bucketIndex:we,sourceLayerIndex:Te,layoutVertexArrayOffset:De}=o,Le=this.bucketLayerIDs[we];if(p&&!function(yt,dt){for(let mt=0;mt<yt.length;mt++)if(dt.indexOf(yt[mt])>=0)return!0;return!1}(p,Le))return;const Ne=this.sourceLayerCoder.decode(Te),Ye=this.vtLayers[Ne].feature(fe);if(h.needGeometry){const yt=Dc(Ye,!0);if(!h.filter(new Dt(this.tileID.overscaledZ),yt,this.tileID.canonical))return}else if(!h.filter(new Dt(this.tileID.overscaledZ),Ye))return;const ut=this.getId(Ye,Ne);for(let yt=0;yt<Le.length;yt++){const dt=Le[yt];if(p&&p.indexOf(dt)<0)continue;const mt=T[dt];if(!mt)continue;let St={};ut!==void 0&&K&&(St=K.getState(mt.sourceLayer||"_geojsonTileLayer",ut));const bt=W({},R[dt]);bt.paint=VT(bt.paint,mt.paint,Ye,St,v),bt.layout=VT(bt.layout,mt.layout,Ye,St,v);const Ht=!ie||ie(Ye,mt,St,De);if(!Ht)continue;const $t=new Ge(Ye,this.z,this.x,this.y,ut);$t.layer=bt;let oi=i[dt];oi===void 0&&(oi=i[dt]=[]),oi.push({featureIndex:fe,feature:$t,intersectionZ:Ht})}}lookupSymbolFeatures(i,o,h,p,v,T,R,K){const ie={};this.loadVTLayers();const fe=nr(v);for(const we of i)this.loadMatchingFeature(ie,{bucketIndex:h,sourceLayerIndex:p,featureIndex:we,layoutVertexArrayOffset:0},fe,T,R,K,o);return ie}loadFeature(i){const{featureIndex:o,sourceLayerIndex:h}=i;this.loadVTLayers();const p=this.sourceLayerCoder.decode(h),v=this.vtFeatures[p];if(v[o])return v[o];const T=this.vtLayers[p].feature(o);return v[o]=T,T}hasLayer(i){for(const o of this.bucketLayerIDs)for(const h of o)if(i===h)return!0;return!1}getId(i,o){let h=i.id;if(this.promoteId){const p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[o];p!=null&&(h=i.properties[p]),typeof h=="boolean"&&(h=Number(h))}return h}}function VT(r,i,o,h,p){return Pe(r,(v,T)=>{const R=i instanceof wi?i.get(T):null;return R&&R.evaluate?R.evaluate(o,h,p):R})}function QA(r,i){return i-r}zi(GT,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class $T{constructor(i,o){this.width=i,this.height=o,this.nextRow=0,this.image=new ch({width:i,height:o}),this.positions={},this.uploaded=!1}getDash(i,o){const h=this.getKey(i,o);return this.positions[h]}trim(){const i=this.width,o=this.height=q(this.nextRow);this.image.resize({width:i,height:o})}getKey(i,o){return i.join(",")+o}getDashRanges(i,o,h){const p=[];let v=i.length%2==1?-i[i.length-1]*h:0,T=i[0]*h,R=!0;p.push({left:v,right:T,isDash:R,zeroLength:i[0]===0});let K=i[0];for(let ie=1;ie<i.length;ie++){R=!R;const fe=i[ie];v=K*h,K+=fe,T=K*h,p.push({left:v,right:T,isDash:R,zeroLength:fe===0})}return p}addRoundDash(i,o,h){const p=o/2;for(let v=-h;v<=h;v++){const T=this.width*(this.nextRow+h+v);let R=0,K=i[R];for(let ie=0;ie<this.width;ie++){ie/K.right>1&&(K=i[++R]);const fe=Math.abs(ie-K.left),we=Math.abs(ie-K.right),Te=Math.min(fe,we);let De;const Le=v/h*(p+1);if(K.isDash){const Ne=p-Math.abs(Le);De=Math.sqrt(Te*Te+Ne*Ne)}else De=p-Math.sqrt(Te*Te+Le*Le);this.image.data[T+ie]=Math.max(0,Math.min(255,De+128))}}}addRegularDash(i,o){for(let K=i.length-1;K>=0;--K){const ie=i[K],fe=i[K+1];ie.zeroLength?i.splice(K,1):fe&&fe.isDash===ie.isDash&&(fe.left=ie.left,i.splice(K,1))}const h=i[0],p=i[i.length-1];h.isDash===p.isDash&&(h.left=p.left-this.width,p.right=h.right+this.width);const v=this.width*this.nextRow;let T=0,R=i[T];for(let K=0;K<this.width;K++){K/R.right>1&&(R=i[++T]);const ie=Math.abs(K-R.left),fe=Math.abs(K-R.right),we=Math.min(ie,fe);this.image.data[v+K]=Math.max(0,Math.min(255,(R.isDash?we:-we)+o+128))}}addDash(i,o){const h=this.getKey(i,o);if(this.positions[h])return this.positions[h];const p=o==="round",v=p?7:0,T=2*v+1;if(this.nextRow+T>this.height)return le("LineAtlas out of space"),null;i.length===0&&i.push(1);let R=0;for(let fe=0;fe<i.length;fe++)i[fe]<0&&(le("Negative value is found in line dasharray, replacing values with 0"),i[fe]=0),R+=i[fe];if(R!==0){const fe=this.width/R,we=this.getDashRanges(i,this.width,fe);p?this.addRoundDash(we,fe,v):this.addRegularDash(we,o==="square"?.5*fe:0)}const K=this.nextRow+v;this.nextRow+=T;const ie={tl:[K,v],br:[R,0]};return this.positions[h]=ie,ie}}zi($T,"LineAtlas");class HT{constructor(i){const o={},h=[];for(const R in i){const K=i[R],ie=o[R]={};for(const fe in K.glyphs){const we=K.glyphs[+fe];if(!we||we.bitmap.width===0||we.bitmap.height===0)continue;const Te=we.metrics.localGlyph?2:1,De={x:0,y:0,w:we.bitmap.width+2*Te,h:we.bitmap.height+2*Te};h.push(De),ie[fe]=De}}const{w:p,h:v}=Dg(h),T=new ch({width:p||1,height:v||1});for(const R in i){const K=i[R];for(const ie in K.glyphs){const fe=K.glyphs[+ie];if(!fe||fe.bitmap.width===0||fe.bitmap.height===0)continue;const we=o[R][ie],Te=fe.metrics.localGlyph?2:1;ch.copy(fe.bitmap,T,{x:0,y:0},{x:we.x+Te,y:we.y+Te},fe.bitmap)}}this.image=T,this.positions=o}}zi(HT,"GlyphAtlas");class e4{constructor(i){this.tileID=new lo(i.tileID.overscaledZ,i.tileID.wrap,i.tileID.canonical.z,i.tileID.canonical.x,i.tileID.canonical.y),this.tileZoom=i.tileZoom,this.uid=i.uid,this.zoom=i.zoom,this.canonical=i.tileID.canonical,this.pixelRatio=i.pixelRatio,this.tileSize=i.tileSize,this.source=i.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=i.showCollisionBoxes,this.collectResourceTiming=!!i.collectResourceTiming,this.returnDependencies=!!i.returnDependencies,this.promoteId=i.promoteId,this.enableTerrain=!!i.enableTerrain,this.isSymbolTile=i.isSymbolTile,this.tileTransform=zd(i.tileID.canonical,i.projection),this.projection=i.projection}parse(i,o,h,p,v){this.status="parsing",this.data=i,this.collisionBoxArray=new zm;const T=new ae(Object.keys(i.layers).sort()),R=new GT(this.tileID,this.promoteId);R.bucketLayerIDs=[];const K={},ie=new $T(256,256),fe={featureIndex:R,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:ie,availableImages:h},we=o.familiesBySource[this.source];for(const St in we){const bt=i.layers[St];if(!bt)continue;let Ht=!1,$t=!1;for(const Zt of we[St])Zt[0].type==="symbol"?Ht=!0:$t=!0;if(this.isSymbolTile===!0&&!Ht||this.isSymbolTile===!1&&!$t)continue;bt.version===1&&le(`Vector tile source "${this.source}" layer "${St}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const oi=T.encode(St),Ei=[];for(let Zt=0;Zt<bt.length;Zt++){const ai=bt.feature(Zt),ui=R.getId(ai,St);Ei.push({feature:ai,id:ui,index:Zt,sourceLayerIndex:oi})}for(const Zt of we[St]){const ai=Zt[0];this.isSymbolTile!==void 0&&ai.type==="symbol"!==this.isSymbolTile||ai.minzoom&&this.zoom<Math.floor(ai.minzoom)||ai.maxzoom&&this.zoom>=ai.maxzoom||ai.visibility!=="none"&&(gb(Zt,this.zoom,h),(K[ai.id]=ai.createBucket({index:R.bucketLayerIDs.length,layers:Zt,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:oi,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:h})).populate(Ei,fe,this.tileID.canonical,this.tileTransform),R.bucketLayerIDs.push(Zt.map(ui=>ui.id)))}}let Te,De,Le,Ne;ie.trim();const Ye={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},ut=Pe(fe.glyphDependencies,St=>Object.keys(St).map(Number));Object.keys(ut).length?p.send("getGlyphs",{uid:this.uid,stacks:ut},(St,bt)=>{Te||(Te=St,De=bt,mt.call(this))},void 0,!1,Ye):De={};const yt=Object.keys(fe.iconDependencies);yt.length?p.send("getImages",{icons:yt,source:this.source,tileID:this.tileID,type:"icons"},(St,bt)=>{Te||(Te=St,Le=bt,mt.call(this))},void 0,!1,Ye):Le={};const dt=Object.keys(fe.patternDependencies);function mt(){if(Te)return v(Te);if(De&&Le&&Ne){const St=new HT(De),bt=new Rc(Le,Ne);for(const Ht in K){const $t=K[Ht];$t instanceof Xh?(gb($t.layers,this.zoom,h),$2($t,De,St.positions,Le,bt.iconPositions,this.showCollisionBoxes,h,this.tileID.canonical,this.tileZoom,this.projection)):$t.hasPattern&&($t instanceof k0||$t instanceof x0||$t instanceof Yp)&&(gb($t.layers,this.zoom,h),$t.addFeatures(fe,this.tileID.canonical,bt.patternPositions,h,this.tileTransform))}this.status="done",v(null,{buckets:J(K).filter(Ht=>!Ht.isEmpty()),featureIndex:R,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:St.image,lineAtlas:ie,imageAtlas:bt,glyphMap:this.returnDependencies?De:null,iconMap:this.returnDependencies?Le:null,glyphPositions:this.returnDependencies?St.positions:null})}}dt.length?p.send("getImages",{icons:dt,source:this.source,tileID:this.tileID,type:"patterns"},(St,bt)=>{Te||(Te=St,Ne=bt,mt.call(this))},void 0,!1,Ye):Ne={},mt.call(this)}}function gb(r,i,o){const h=new Dt(i);for(const p of r)p.recalculate(h,o)}class WT{constructor(i){this.entries={},this.scheduler=i}request(i,o,h,p){const v=this.entries[i]=this.entries[i]||{callbacks:[]};if(v.result){const[T,R]=v.result;return this.scheduler?this.scheduler.add(()=>{p(T,R)},o):p(T,R),()=>{}}return v.callbacks.push(p),v.cancel||(v.cancel=h((T,R)=>{v.result=[T,R];for(const K of v.callbacks)this.scheduler?this.scheduler.add(()=>{K(T,R)},o):K(T,R);setTimeout(()=>delete this.entries[i],3e3)})),()=>{v.result||(v.callbacks=v.callbacks.filter(T=>T!==p),v.callbacks.length||(v.cancel(),delete this.entries[i]))}}}function XT(r,i,o){const h=JSON.stringify(r.request);return r.data&&(this.deduped.entries[h]={result:[null,r.data]}),this.deduped.request(h,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom},p=>{const v=Zi(r.request,(T,R,K,ie)=>{T?p(T):R&&p(null,{vectorTile:o?void 0:new xg(new Kp(R)),rawData:R,cacheControl:K,expires:ie})});return()=>{v.cancel(),p()}},i)}n.ARRAY_TYPE=Ea,n.AUTH_ERR_MSG=ps,n.Aabb=Qo,n.Actor=class{constructor(r,i,o){this.target=r,this.parent=i,this.mapId=o,this.callbacks={},this.cancelCallbacks={},pe(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Me()?r:w,this.scheduler=new k}send(r,i,o,h,p=!1,v){const T=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(o.metadata=v,this.callbacks[T]=o);const R=Qe(this.globalScope)?void 0:[];return this.target.postMessage({id:T,type:r,hasCallback:!!o,targetMapId:h,mustQueue:p,sourceMapId:this.mapId,data:Mc(i,R)},R),{cancel:()=>{o&&delete this.callbacks[T],this.target.postMessage({id:T,type:"<cancel>",targetMapId:h,sourceMapId:this.mapId})}}}receive(r){const i=r.data,o=i.id;if(o&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const h=this.cancelCallbacks[o];delete this.cancelCallbacks[o],h&&h.cancel()}else if(i.mustQueue||Me()){const h=this.callbacks[o];this.cancelCallbacks[o]=this.scheduler.add(()=>this.processTask(o,i),h&&h.metadata||{type:"message"})}else this.processTask(o,i)}processTask(r,i){if(i.type==="<response>"){const o=this.callbacks[r];delete this.callbacks[r],o&&(i.error?o(vd(i.error)):o(null,vd(i.data)))}else{const o=Qe(this.globalScope)?void 0:[],h=i.hasCallback?(v,T)=>{delete this.cancelCallbacks[r],this.target.postMessage({id:r,type:"<response>",sourceMapId:this.mapId,error:v?Mc(v):null,data:Mc(T,o)},o)}:v=>{},p=vd(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,p,h);else if(this.parent.getWorkerSource){const v=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,v[0],p.source)[v[1]](p,h)}else h(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},n.CanonicalTileID=M0,n.Color=ir,n.ColorMode=Yh,n.CullFaceMode=ph,n.DEMData=hf,n.DataConstantProperty=Rt,n.DedupedRequest=WT,n.DepthMode=Y0,n.EXTENT=cn,n.Elevation=class{isDataAvailableAtPoint(r){const i=this._source();if(this.isUsingMockSource()||!i||r.y<0||r.y>1)return!1;const o=i.getSource().maxzoom,h=1<<o,p=Math.floor(r.x),v=Math.floor((r.x-p)*h),T=Math.floor(r.y*h),R=this.findDEMTileFor(new lo(o,p,o,v,T));return!(!R||!R.dem)}getAtPointOrZero(r,i=0){return this.getAtPoint(r,i)||0}getAtPoint(r,i,o=!0){if(this.isUsingMockSource())return null;i==null&&(i=null);const h=this._source();if(!h||r.y<0||r.y>1)return i;const p=h.getSource().maxzoom,v=1<<p,T=Math.floor(r.x),R=r.x-T,K=new lo(p,T,p,Math.floor(R*v),Math.floor(r.y*v)),ie=this.findDEMTileFor(K);if(!ie||!ie.dem)return i;const fe=ie.dem,we=1<<ie.tileID.canonical.z,Te=(R*we-ie.tileID.canonical.x)*fe.dim,De=(r.y*we-ie.tileID.canonical.y)*fe.dim,Le=Math.floor(Te),Ne=Math.floor(De);return(o?this.exaggeration():1)*Dn(Dn(fe.get(Le,Ne),fe.get(Le,Ne+1),De-Ne),Dn(fe.get(Le+1,Ne),fe.get(Le+1,Ne+1),De-Ne),Te-Le)}getAtTileOffset(r,i,o){const h=1<<r.canonical.z;return this.getAtPointOrZero(new Sd(r.wrap+(r.canonical.x+i/cn)/h,(r.canonical.y+o/cn)/h))}getAtTileOffsetFunc(r,i,o,h){return p=>{const v=this.getAtTileOffset(r,p.x,p.y),T=h.upVector(r.canonical,p.x,p.y);return Ja(T,T,v*h.upVectorScale(r.canonical,i,o).metersToTile),T}}getForTilePoints(r,i,o,h){if(this.isUsingMockSource())return!1;const p=by.create(this,r,h);return!!p&&(i.forEach(v=>{v[2]=this.exaggeration()*p.getElevationAt(v[0],v[1],o)}),!0)}getMinMaxForTile(r){if(this.isUsingMockSource())return null;const i=this.findDEMTileFor(r);if(!i||!i.dem)return null;const o=i.dem.tree,h=i.tileID,p=1<<r.canonical.z-h.canonical.z;let v=r.canonical.x/p-h.canonical.x,T=r.canonical.y/p-h.canonical.y,R=0;for(let K=0;K<r.canonical.z-h.canonical.z&&!o.leaves[R];K++){v*=2,T*=2;const ie=2*Math.floor(T)+Math.floor(v);R=o.childOffsets[R]+ie,v%=1,T%=1}return{min:this.exaggeration()*o.minimums[R],max:this.exaggeration()*o.maximums[R]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(r,i,o){throw new Error("Pure virtual method called.")}pointCoordinate(r){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(r){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},n.ErrorEvent=sl,n.EvaluationParameters=Dt,n.Event=ya,n.Evented=To,n.FillExtrusionBucket=Yp,n.Frustum=hg,n.FrustumCorners=cg,n.GLOBE_METERS_TO_ECEF=Ug,n.GLOBE_RADIUS=uh,n.GLOBE_SCALE_MATCH_LATITUDE=45,n.GLOBE_ZOOM_THRESHOLD_MAX=6,n.GLOBE_ZOOM_THRESHOLD_MIN=5,n.GlobeSharedBuffers=class{constructor(r){this._createGrid(r),this._createPoles(r)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const r of this._poleSegments)r.destroy();for(const r of this._gridSegments)r.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const r of this._wireframeSegments)r.destroy()}}_createGrid(r){const i=new ds,o=new ao,h=65;for(let p=0;p<h;p++)for(let v=0;v<h;v++)i.emplaceBack(v,p);this._gridSegments=[];for(let p=0,v=0;p<Nu.length;p++){const T=Nu[p];for(let K=0;K<T;K++)for(let ie=0;ie<64;ie++){const fe=K*h+ie;o.emplaceBack(fe+1,fe,fe+h),o.emplaceBack(fe+h,fe+h+1,fe+1)}const R=64*T*2;this._gridSegments.push(Cr.simpleSegment(0,v,(T+1)*h,R)),v+=R}this._gridBuffer=r.createVertexBuffer(i,ef.members),this._gridIndexBuffer=r.createIndexBuffer(o,!0)}_createPoles(r){const i=new ao;for(let p=0;p<=Fu;p++)i.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=r.createIndexBuffer(i,!0);const o=new jn,h=new jn;this._poleSegments=[];for(let p=0,v=0;p<5;p++){const T=360/(1<<p);o.emplaceBack(0,-uh,0,.5,0),h.emplaceBack(0,-uh,0,.5,1);for(let R=0;R<=Fu;R++){const K=R/Fu,ie=Dn(0,T,K),[fe,we,Te]=ju(K2,Xg,ie,uh);o.emplaceBack(fe,we,Te,K,0),h.emplaceBack(fe,we,Te,K,1)}this._poleSegments.push(Cr.simpleSegment(v,0,66,64)),v+=66}this._poleNorthVertexBuffer=r.createVertexBuffer(o,Ng,!1),this._poleSouthVertexBuffer=r.createVertexBuffer(h,Ng,!1)}getGridBuffers(r){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[r]]}getPoleBuffers(r){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[r]]}getWirefameBuffers(r,i){if(!this._wireframeSegments){const o=new fl,h=Fu,p=h+1;this._wireframeSegments=[];for(let v=0,T=0;v<Nu.length;v++){const R=Nu[v];for(let ie=0;ie<R;ie++)for(let fe=0;fe<h;fe++){const we=ie*p+fe;o.emplaceBack(we,we+1),o.emplaceBack(we,we+p),o.emplaceBack(we,we+p+1)}const K=R*h*3;this._wireframeSegments.push(Cr.simpleSegment(0,T,(R+1)*p,K)),T+=K}this._wireframeIndexBuffer=r.createIndexBuffer(o)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[i]]}},n.GlyphManager=kr,n.ImagePosition=D0,n.LivePerformanceUtils=Bi,n.LngLat=Jn,n.LngLatBounds=ah,n.LocalGlyphMode=Og,n.MAX_MERCATOR_LATITUDE=yo,n.MercatorCoordinate=Sd,n.ONE_EM=Gs,n.OverscaledTileID=lo,n.PerformanceMarkers=li,n.Properties=nn,n.RGBAImage=Ma,n.Ray=g0,n.RequestManager=class{constructor(r,i,o){this._transformRequestFn=r,this._customAccessToken=i,this._silenceAuthErrors=!!o,this._createSkuToken()}_createSkuToken(){const r=function(){let i="";for(let o=0;o<10;o++)i+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",E,i].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,i){return this._transformRequestFn&&this._transformRequestFn(r,i)||{url:r}}normalizeStyleURL(r,i){if(!Ds(r))return r;const o=io(r);return o.path=`/styles/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||i)}normalizeGlyphsURL(r,i){if(!Ds(r))return r;const o=io(r);return o.path=`/fonts/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||i)}normalizeSourceURL(r,i,o,h){if(!Ds(r))return r;const p=io(r);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),o&&p.params.push(`language=${o}`),h&&p.params.push(`worldview=${h}`),this._makeAPIURL(p,this._customAccessToken||i)}normalizeSpriteURL(r,i,o,h){const p=io(r);return Ds(r)?(p.path=`/styles/v1${p.path}/sprite${i}${o}`,this._makeAPIURL(p,this._customAccessToken||h)):(p.path+=`${i}${o}`,nl(p))}normalizeTileURL(r,i,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!Ds(r))return r;const h=io(r);h.path=h.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${i||o&&h.authority!=="raster"&&o===512?"@2x":""}${Y.supported?".webp":"$1"}`),h.authority==="raster"?h.path=`/${z.RASTER_URL_PREFIX}${h.path}`:(h.path=h.path.replace(/^.+\/v4\//,"/"),h.path=`/${z.TILE_URL_VERSION}${h.path}`);const p=this._customAccessToken||function(v){for(const T of v){const R=T.match(/^access_token=(.*)$/);if(R)return R[1]}return null}(h.params)||z.ACCESS_TOKEN;return z.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&h.params.push(`sku=${this._skuToken}`),this._makeAPIURL(h,p)}canonicalizeTileURL(r,i){const o=io(r);if(!o.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!o.path.match(/\.[\w]+$/))return r;let h="mapbox://";o.path.match(/^\/raster\/v1\//)?h+=`raster/${o.path.replace(`/${z.RASTER_URL_PREFIX}/`,"")}`:h+=`tiles/${o.path.replace(`/${z.TILE_URL_VERSION}/`,"")}`;let p=o.params;return i&&(p=p.filter(v=>!v.match(/^access_token=/))),p.length&&(h+=`?${p.join("&")}`),h}canonicalizeTileset(r,i){const o=!!i&&Ds(i),h=[];for(const p of r.tiles||[])Is(p)?h.push(this.canonicalizeTileURL(p,o)):h.push(p);return h}_makeAPIURL(r,i){const o="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",h=io(z.API_URL);if(r.protocol=h.protocol,r.authority=h.authority,r.protocol==="http"){const p=r.params.indexOf("secure");p>=0&&r.params.splice(p,1)}if(h.path!=="/"&&(r.path=`${h.path}${r.path}`),!z.REQUIRE_ACCESS_TOKEN)return nl(r);if(i=i||z.ACCESS_TOKEN,!this._silenceAuthErrors){if(!i)throw new Error(`An API access token is required to use Mapbox GL. ${o}`);if(i[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${o}`)}return r.params=r.params.filter(p=>p.indexOf("access_token")===-1),r.params.push(`access_token=${i||""}`),nl(r)}},n.ResourceType=si,n.SegmentVector=Cr,n.SourceCache=df,n.StencilMode=pb,n.StructArrayLayout1ui2=sh,n.StructArrayLayout2f1f2i16=go,n.StructArrayLayout2i4=ds,n.StructArrayLayout2ui4=fl,n.StructArrayLayout3f12=Ya,n.StructArrayLayout3ui6=ao,n.StructArrayLayout4i8=bs,n.StructArrayLayout5f20=jn,n.Texture=cf,n.Tile=kn,n.Transitionable=ri,n.Uniform1f=xu,n.Uniform1i=class extends kc{constructor(r){super(r),this.current=0}set(r,i,o){this.fetchUniformLocation(r,i)&&this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},n.Uniform2f=class extends kc{constructor(r){super(r),this.current=[0,0]}set(r,i,o){this.fetchUniformLocation(r,i)&&(o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1])))}},n.Uniform3f=class extends kc{constructor(r){super(r),this.current=[0,0,0]}set(r,i,o){this.fetchUniformLocation(r,i)&&(o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2])))}},n.Uniform4f=r_,n.UniformColor=o_,n.UniformMatrix2f=class extends kc{constructor(r){super(r),this.current=l_}set(r,i,o){if(this.fetchUniformLocation(r,i)){for(let h=0;h<4;h++)if(o[h]!==this.current[h]){this.current=o,this.gl.uniformMatrix2fv(this.location,!1,o);break}}}},n.UniformMatrix3f=class extends kc{constructor(r){super(r),this.current=a_}set(r,i,o){if(this.fetchUniformLocation(r,i)){for(let h=0;h<9;h++)if(o[h]!==this.current[h]){this.current=o,this.gl.uniformMatrix3fv(this.location,!1,o);break}}}},n.UniformMatrix4f=class extends kc{constructor(r){super(r),this.current=Ix}set(r,i,o){if(this.fetchUniformLocation(r,i)){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let h=1;h<16;h++)if(o[h]!==this.current[h]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}}},n.UnwrappedTileID=U_,n.ValidationError=Gi,n.VectorTileFeature=T0,n.VectorTileWorkerSource=class extends To{constructor(r,i,o,h,p){super(),this.actor=r,this.layerIndex=i,this.availableImages=o,this.loadVectorData=p||XT,this.loading={},this.loaded={},this.deduped=new WT(r.scheduler),this.isSpriteLoaded=h,this.scheduler=r.scheduler}loadTile(r,i){const o=r.uid,h=r&&r.request,p=h&&h.collectResourceTiming,v=this.loading[o]=new e4(r);v.abort=this.loadVectorData(r,(T,R)=>{const K=!this.loading[o];if(delete this.loading[o],K||T||!R)return v.status="done",K||(this.loaded[o]=v),i(T);const ie=R.rawData,fe={};R.expires&&(fe.expires=R.expires),R.cacheControl&&(fe.cacheControl=R.cacheControl),v.vectorTile=R.vectorTile||new xg(new Kp(ie));const we=()=>{v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,(Te,De)=>{if(Te||!De)return i(Te);const Le={};if(p){const Ne=sn(h);Ne.length>0&&(Le.resourceTiming=JSON.parse(JSON.stringify(Ne)))}i(null,W({rawTileData:ie.slice(0)},De,fe,Le))})};this.isSpriteLoaded?we():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(we,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom}):we()}),this.loaded=this.loaded||{},this.loaded[o]=v})}reloadTile(r,i){const o=this.loaded,h=r.uid,p=this;if(o&&o[h]){const v=o[h];v.showCollisionBoxes=r.showCollisionBoxes,v.enableTerrain=!!r.enableTerrain,v.projection=r.projection,v.tileTransform=zd(r.tileID.canonical,r.projection);const T=(R,K)=>{const ie=v.reloadCallback;ie&&(delete v.reloadCallback,v.parse(v.vectorTile,p.layerIndex,this.availableImages,p.actor,ie)),i(R,K)};v.status==="parsing"?v.reloadCallback=T:v.status==="done"&&(v.vectorTile?v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,T):T())}}abortTile(r,i){const o=r.uid,h=this.loading[o];h&&(h.abort&&h.abort(),delete this.loading[o]),i()}removeTile(r,i){const o=this.loaded,h=r.uid;o&&o[h]&&delete o[h],i()}},n.WritingMode=Mn,n.add=Lc,n.addDynamicAttributes=W0,n.adjoint=function(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=i[4],R=i[5],K=i[6],ie=i[7],fe=i[8];return r[0]=T*fe-R*ie,r[1]=p*ie-h*fe,r[2]=h*R-p*T,r[3]=R*K-v*fe,r[4]=o*fe-p*K,r[5]=p*v-o*R,r[6]=v*ie-T*K,r[7]=h*K-o*ie,r[8]=o*T-h*v,r},n.asyncAll=j,n.bezier=L,n.bindAll=pe,n.boundsAttributes=Xi,n.bufferConvexPolygon=function(r,i){const o=[];for(let h=0;h<r.length;h++){const p=S(h-1,-1,r.length-1),v=S(h+1,-1,r.length-1),T=r[h],R=r[v],K=r[p].sub(T).unit(),ie=R.sub(T).unit(),fe=ie.angleWithSep(K.x,K.y),we=K.add(ie).unit().mult(-1*i/Math.sin(fe/2));o.push(T.add(we))}return o},n.cacheEntryPossiblyAdded=function(r){yi++,yi>st&&(r.getActor().send("enforceCacheSizeLimit",We),yi=0)},n.calculateGlobeLabelMatrix=function(r,i){const{x:o,y:h}=r.point,p=U0(o,h,r.worldSize/r._pixelsPerMercatorPixel,0,0);return Md(p,p,$g(Bc(i)))},n.calculateGlobeMatrix=function(r){const{x:i,y:o}=r.point,{lng:h,lat:p}=r._center;return U0(i,o,r.worldSize,h,p)},n.calculateGlobeMercatorMatrix=function(r){const i=r.pixelsPerMeter,o=i/Ka(1,r.center.lat),h=ml(new Float64Array(16));return Fp(h,h,[r.point.x,r.point.y,0]),Ad(h,h,[o,o,i]),Float32Array.from(h)},n.circumferenceAtLatitude=$m,n.clamp=y,n.clearTileCache=function(r){if(!wt())return;const i=w.caches.delete(Ie);r&&i.catch(r).then(()=>r())},n.clipLine=sy,n.clone=function(r){var i=new Ea(16);return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],i},n.clone$1=ye,n.collisionCircleLayout=C2,n.config=z,n.conjugate=function(r,i){return r[0]=-i[0],r[1]=-i[1],r[2]=-i[2],r[3]=i[3],r},n.create=function(){var r=new Ea(16);return Ea!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},n.create$1=f_,n.createExpression=ro,n.createLayout=Vi,n.createStyleLayer=function(r){return r.type==="custom"?new cb(r):new db[r.type](r)},n.cross=og,n.degToRad=F,n.distance=function(r,i){return Math.hypot(i[0]-r[0],i[1]-r[1],i[2]-r[2])},n.div=function(r,i,o){return r[0]=i[0]/o[0],r[1]=i[1]/o[1],r[2]=i[2]/o[2],r},n.dot=gl,n.earthRadius=Td,n.ease=f,n.easeCubicInOut=M,n.ecefToLatLng=function([r,i,o]){const h=Math.hypot(r,i,o),p=Math.atan2(r,o),v=.5*Math.PI-Math.acos(-i/h);return new Jn(N(p),N(v))},n.emitValidationErrors=qf,n.endsWith=xe,n.enforceCacheSizeLimit=function(r){Ut(),Be&&Be.then(i=>{i.keys().then(o=>{for(let h=0;h<o.length-r;h++)i.delete(o[h])})})},n.evaluateSizeForFeature=ic,n.evaluateSizeForZoom=Ou,n.evaluateVariableOffset=Bg,n.evented=gt,n.exactEquals=function(r,i){return r[0]===i[0]&&r[1]===i[1]&&r[2]===i[2]&&r[3]===i[3]},n.exactEquals$1=function(r,i){return r[0]===i[0]&&r[1]===i[1]&&r[2]===i[2]},n.exported=Qi,n.exported$1=Y,n.extend=W,n.extend$1=Go,n.fillExtrusionHeightLift=Tg,n.filterObject=ce,n.fromMat4=function(r,i){return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[4],r[4]=i[5],r[5]=i[6],r[6]=i[8],r[7]=i[9],r[8]=i[10],r},n.fromQuat=function(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=o+o,R=h+h,K=p+p,ie=o*T,fe=h*T,we=h*R,Te=p*T,De=p*R,Le=p*K,Ne=v*T,Ye=v*R,ut=v*K;return r[0]=1-we-Le,r[1]=fe+ut,r[2]=Te-Ye,r[3]=0,r[4]=fe-ut,r[5]=1-ie-Le,r[6]=De+Ne,r[7]=0,r[8]=Te+Ye,r[9]=De-Ne,r[10]=1-ie-we,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},n.fromRotation=function(r,i){var o=Math.sin(i),h=Math.cos(i);return r[0]=h,r[1]=o,r[2]=0,r[3]=-o,r[4]=h,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},n.fromScaling=ng,n.furthestTileCorner=function(r){const i=Math.round((r+45+360)%360/90)%4;return X[i]},n.getAABBPointSquareDist=function(r,i,o){let h=0;for(let p=0;p<2;++p){const v=o?o[p]:0;r[p]>v&&(h+=(r[p]-v)*(r[p]-v)),i[p]<v&&(h+=(v-i[p])*(v-i[p]))}return h},n.getAnchorAlignment=Lg,n.getAnchorJustification=zg,n.getBounds=function(r){let i=1/0,o=1/0,h=-1/0,p=-1/0;for(const v of r)i=Math.min(i,v.x),o=Math.min(o,v.y),h=Math.max(h,v.x),p=Math.max(p,v.y);return{min:new V(i,o),max:new V(h,p)}},n.getColumn=ct,n.getGridMatrix=function(r,i,o,h){const p=i.getNorth(),v=i.getSouth(),T=i.getWest(),R=i.getEast(),K=1<<r.z,ie=R-T,fe=p-v,we=ie/Fu,Te=-fe/Nu[o],De=[0,we,0,Te,0,0,p,T,0];if(r.z>0){const Le=180/h;Cu(De,De,[Le/ie+1,0,0,0,Le/fe+1,0,-.5*Le/we,.5*Le/Te,1])}return De[2]=K,De[5]=r.x,De[8]=r.y,De},n.getImage=Tr,n.getJSON=function(r,i){return Fi(W(r,{type:"json"}),i)},n.getLatitudinalLod=function(r){const i=80.051129;r=y(r,-80.051129,i)/i*90;const o=Math.pow(Math.abs(Math.sin(F(r))),3);return Math.round(o*(Nu.length-1))},n.getMapSessionAPI=Mt,n.getPerformanceMeasurement=sn,n.getProjection=vy,n.getRTLTextPluginStatus=kt,n.getReferrer=$i,n.getTilePoint=function(r,{x:i,y:o},h=0){return new V(((i-h)*r.scale-r.x)*cn,(o*r.scale-r.y)*cn)},n.getTileVec3=function(r,i,o=0){return Pd(((i.x-o)*r.scale-r.x)*cn,(i.y*r.scale-r.y)*cn,Hm(i.z,i.y))},n.getVideo=function(r,i){const o=w.document.createElement("video");o.muted=!0,o.onloadstart=function(){i(null,o)};for(let h=0;h<r.length;h++){const p=w.document.createElement("source");Ri(r[h])||(o.crossOrigin="Anonymous"),p.src=r[h],o.appendChild(p)}return{cancel:()=>{}}},n.globeCenterToScreenPoint=function(r){const i=[0,0,0],o=ml(new Float64Array(16));return Md(o,r.pixelMatrix,r.globeMatrix),br(i,i,o),new V(i[0],i[1])},n.globeDenormalizeECEF=$g,n.globeECEFOrigin=function(r,i){const o=[0,0,0];return br(o,o,sf(Bc(i.canonical))),br(o,o,r),o},n.globeNormalizeECEF=sf,n.globePixelsToTileUnits=function(r,i){return cn/(512*Math.pow(2,r))*j0(Bc(i))},n.globePoleMatrixForTile=function(r,i,o){const h=ml(new Float64Array(16)),p=(i/(1<<r)-.5)*Math.PI*2;return Np(h,o.globeMatrix,p),Float32Array.from(h)},n.globeTileBounds=Bc,n.globeTiltAtLngLat=Hg,n.globeToMercatorTransition=Bd,n.globeUseCustomAntiAliasing=function(r,i,o){const h=Bd(o.zoom),p=r.style.map._antialias,v=!!i.extStandardDerivatives,T=i.extStandardDerivativesForceOff||r.terrain&&r.terrain.exaggeration()>0;return h===0&&!p&&!T&&v},n.identity=ml,n.identity$1=lg,n.invert=f0,n.isFullscreen=function(){return!!w.document.fullscreenElement||!!w.document.webkitFullscreenElement},n.isLngLatBehindGlobe=Wg,n.isMapAuthenticated=function(r){return jt.has(r)},n.isMapboxURL=Ds,n.isSafariWithAntialiasingBug=function(r){const i=r.navigator?r.navigator.userAgent:null;return!!Qe(r)&&i&&(i.match("Version/15.4")||i.match("Version/15.5")||i.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},n.latFromMercatorY=_o,n.latLngToECEF=tf,n.len=Nx,n.length=kd,n.length$1=function(r){return Math.hypot(r[0],r[1],r[2],r[3])},n.lngFromMercatorX=ua,n.loadVectorTile=XT,n.makeRequest=Fi,n.mapValue=function(r,i,o,h,p){return y((r-i)/(o-i)*(p-h)+h,h,p)},n.mercatorScale=Wm,n.mercatorXfromLng=Zl,n.mercatorYfromLat=Za,n.mercatorZfromAltitude=Ka,n.mul=sg,n.mul$1=Fx,n.multiply=Md,n.multiply$1=Cu,n.multiply$2=rg,n.nextPowerOfTwo=q,n.normalize=Jo,n.normalize$1=jx,n.normalize$2=y_,n.number=Dn,n.ortho=function(r,i,o,h,p,v,T){var R=1/(i-o),K=1/(h-p),ie=1/(v-T);return r[0]=-2*R,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*K,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*ie,r[11]=0,r[12]=(i+o)*R,r[13]=(p+h)*K,r[14]=(T+v)*ie,r[15]=1,r},n.pbf=Kp,n.perspective=function(r,i,o,h,p){var v,T=1/Math.tan(i/2);return r[0]=T/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=T,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,p!=null&&p!==1/0?(r[10]=(p+h)*(v=1/(h-p)),r[14]=2*p*h*v):(r[10]=-1,r[14]=-2*h),r},n.pick=function(r,i){const o={};for(let h=0;h<i.length;h++){const p=i[h];p in r&&(o[p]=r[p])}return o},n.plugin=Nt,n.pointGeometry=V,n.polesInViewport=function(r){const i=ml(new Float64Array(16));Md(i,r.pixelMatrix,r.globeMatrix);const o=[0,yl,0],h=[0,vl,0];return br(o,o,i),br(h,h,i),[o[0]>0&&o[0]<=r.width&&o[1]>0&&o[1]<=r.height&&!Wg(r,new Jn(r.center.lat,90)),h[0]>0&&h[0]<=r.width&&h[1]>0&&h[1]<=r.height&&!Wg(r,new Jn(r.center.lat,-90))]},n.polygonContainsPoint=Cd,n.polygonIntersectsBox=eg,n.polygonIntersectsPolygon=d0,n.polygonizeBounds=function(r,i,o=0,h=!0){const p=new V(o,o),v=r.sub(p),T=i.add(p),R=[v,new V(T.x,v.y),T,new V(v.x,T.y)];return h&&R.push(v.clone()),R},n.posAttributes=ef,n.postMapLoadEvent=pt,n.postPerformanceEvent=Ot,n.postTurnstileEvent=Ve,n.potpack=Dg,n.prevPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.floor(Math.log(r)/Math.LN2))},n.radToDeg=N,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.registerForPluginStateChange=function(r){return r({pluginStatus:ht,pluginURL:nt}),gt.on("pluginStateChange",r),r},n.removeAuthState=function(r){jt.delete(r)},n.renderColorRamp=Up,n.resample=Ym,n.rotateX=ig,n.rotateX$1=v_,n.rotateY=Np,n.rotateY$1=x_,n.rotateZ=function(r,i,o){var h=Math.sin(o),p=Math.cos(o),v=i[0],T=i[1],R=i[2],K=i[3],ie=i[4],fe=i[5],we=i[6],Te=i[7];return i!==r&&(r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[0]=v*p+ie*h,r[1]=T*p+fe*h,r[2]=R*p+we*h,r[3]=K*p+Te*h,r[4]=ie*p-v*h,r[5]=fe*p-T*h,r[6]=we*p-R*h,r[7]=Te*p-K*h,r},n.rotateZ$1=function(r,i,o){o*=.5;var h=i[0],p=i[1],v=i[2],T=i[3],R=Math.sin(o),K=Math.cos(o);return r[0]=h*K+p*R,r[1]=p*K-h*R,r[2]=v*K+T*R,r[3]=T*K-v*R,r},n.scale=Ad,n.scale$1=__,n.scale$2=Ja,n.scaleAndAdd=ku,n.set=function(r,i,o,h){return r[0]=i,r[1]=o,r[2]=h,r},n.setCacheLimits=function(r,i){We=r,st=i},n.setColumn=function(r,i,o){r[4*i+0]=o[0],r[4*i+1]=o[1],r[4*i+2]=o[2],r[4*i+3]=o[3]},n.setRTLTextPlugin=function(r,i,o=!1){if(ht===it||ht===rt||ht===Xe)throw new Error("setRTLTextPlugin cannot be called multiple times.");nt=Qi.resolveURL(r),ht=it,Ze=i,Tt(),o||Wt()},n.smoothstep=b,n.spec=ni,n.squaredLength=function(r){var i=r[0],o=r[1],h=r[2];return i*i+o*o+h*h},n.storeAuthState=function(r,i){i?jt.add(r):jt.delete(r)},n.sub=ec,n.subtract=Au,n.symbolSize=M2,n.tileAABB=function(r,i,o,h,p,v,T,R,K){if(K.name==="globe")return Z2(r,i,new M0(o,h,p));const ie=zd({z:o,x:h,y:p},K);return new Qo([(v+ie.x/ie.scale)*i,i*(ie.y/ie.scale),T],[(v+ie.x2/ie.scale)*i,i*(ie.y2/ie.scale),R])},n.tileCornersToBounds=N0,n.tileTransform=zd,n.transformMat3=function(r,i,o){var h=i[0],p=i[1],v=i[2];return r[0]=h*o[0]+p*o[3]+v*o[6],r[1]=h*o[1]+p*o[4]+v*o[7],r[2]=h*o[2]+p*o[5]+v*o[8],r},n.transformMat4=br,n.transformMat4$1=Vh,n.transformQuat=g_,n.transitionTileAABBinECEF=uy,n.translate=Fp,n.transpose=function(r,i){if(r===i){var o=i[1],h=i[2],p=i[5];r[1]=i[3],r[2]=i[6],r[3]=o,r[5]=i[7],r[6]=h,r[7]=p}else r[0]=i[0],r[1]=i[3],r[2]=i[6],r[3]=i[1],r[4]=i[4],r[5]=i[7],r[6]=i[2],r[7]=i[5],r[8]=i[8];return r},n.triggerPluginCompletionEvent=ft,n.uniqueId=ue,n.updateGlobeVertexNormal=function(r,i,o,h,p){const v=5*i+2;r.float32[v+0]=o,r.float32[v+1]=h,r.float32[v+2]=p},n.validateCustomStyleLayer=function(r){const i=[],o=r.id;return o===void 0&&i.push({message:`layers.${o}: missing required property "id"`}),r.render===void 0&&i.push({message:`layers.${o}: missing required method "render"`}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&i.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),i},n.validateFilter=r=>Yl(Cc(r)),n.validateFog=r=>Yl(yd(r)),n.validateLayer=r=>Yl(gu(r)),n.validateLight=r=>Yl(qe(r)),n.validateSource=r=>Yl(zh(r)),n.validateStyle=Cp,n.validateTerrain=r=>Yl(Xl(r)),n.values=J,n.vectorTile=b0,n.version=$,n.warnOnce=le,n.window=w,n.wrap=S}),d(["./shared"],function(n){function w(lt){if(typeof lt=="number"||typeof lt=="boolean"||typeof lt=="string"||lt==null)return JSON.stringify(lt);if(Array.isArray(lt)){let Ve="[";for(const ot of lt)Ve+=`${w(ot)},`;return`${Ve}]`}let Oe="{";for(const Ve of Object.keys(lt).sort())Oe+=`${Ve}:${w(lt[Ve])},`;return`${Oe}}`}function $(lt){let Oe="";for(const Ve of n.refProperties)Oe+=`/${w(lt[Ve])}`;return Oe}class ee{constructor(Oe){this.keyCache={},Oe&&this.replace(Oe)}replace(Oe){this._layerConfigs={},this._layers={},this.update(Oe,[])}update(Oe,Ve){for(const pt of Oe)this._layerConfigs[pt.id]=pt,(this._layers[pt.id]=n.createStyleLayer(pt)).compileFilter(),this.keyCache[pt.id]&&delete this.keyCache[pt.id];for(const pt of Ve)delete this.keyCache[pt],delete this._layerConfigs[pt],delete this._layers[pt];this.familiesBySource={};const ot=function(pt,Et){const Ot={};for(let Mt=0;Mt<pt.length;Mt++){const jt=Et&&Et[pt[Mt].id]||$(pt[Mt]);Et&&(Et[pt[Mt].id]=jt);let li=Ot[jt];li||(li=Ot[jt]=[]),li.push(pt[Mt])}const Bt=[];for(const Mt in Ot)Bt.push(Ot[Mt]);return Bt}(n.values(this._layerConfigs),this.keyCache);for(const pt of ot){const Et=pt.map(Bi=>this._layers[Bi.id]),Ot=Et[0];if(Ot.visibility==="none")continue;const Bt=Ot.source||"";let Mt=this.familiesBySource[Bt];Mt||(Mt=this.familiesBySource[Bt]={});const jt=Ot.sourceLayer||"_geojsonTileLayer";let li=Mt[jt];li||(li=Mt[jt]=[]),li.push(Et)}}}class z{loadTile(Oe,Ve){const{uid:ot,encoding:pt,rawImageData:Et,padding:Ot,buildQuadTree:Bt}=Oe,Mt=n.window.ImageBitmap&&Et instanceof n.window.ImageBitmap?this.getImageData(Et,Ot):Et;Ve(null,new n.DEMData(ot,Mt,pt,Ot<1,Bt))}getImageData(Oe,Ve){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Oe.width,Oe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Oe.width,this.offscreenCanvas.height=Oe.height,this.offscreenCanvasContext.drawImage(Oe,0,0,Oe.width,Oe.height);const ot=this.offscreenCanvasContext.getImageData(-Ve,-Ve,Oe.width+2*Ve,Oe.height+2*Ve);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ot}}var Y=function lt(Oe,Ve){var ot,pt=Oe&&Oe.type;if(pt==="FeatureCollection")for(ot=0;ot<Oe.features.length;ot++)lt(Oe.features[ot],Ve);else if(pt==="GeometryCollection")for(ot=0;ot<Oe.geometries.length;ot++)lt(Oe.geometries[ot],Ve);else if(pt==="Feature")lt(Oe.geometry,Ve);else if(pt==="Polygon")Q(Oe.coordinates,Ve);else if(pt==="MultiPolygon")for(ot=0;ot<Oe.coordinates.length;ot++)Q(Oe.coordinates[ot],Ve);return Oe};function Q(lt,Oe){if(lt.length!==0){I(lt[0],Oe);for(var Ve=1;Ve<lt.length;Ve++)I(lt[Ve],!Oe)}}function I(lt,Oe){for(var Ve=0,ot=0,pt=0,Et=lt.length,Ot=Et-1;pt<Et;Ot=pt++){var Bt=(lt[pt][0]-lt[Ot][0])*(lt[Ot][1]+lt[pt][1]),Mt=Ve+Bt;ot+=Math.abs(Ve)>=Math.abs(Bt)?Ve-Mt+Bt:Bt-Mt+Ve,Ve=Mt}Ve+ot>=0!=!!Oe&&lt.reverse()}const O=n.VectorTileFeature.prototype.toGeoJSON;class H{constructor(Oe){this._feature=Oe,this.extent=n.EXTENT,this.type=Oe.type,this.properties=Oe.tags,"id"in Oe&&!isNaN(Oe.id)&&(this.id=parseInt(Oe.id,10))}loadGeometry(){if(this._feature.type===1){const Oe=[];for(const Ve of this._feature.geometry)Oe.push([new n.pointGeometry(Ve[0],Ve[1])]);return Oe}{const Oe=[];for(const Ve of this._feature.geometry){const ot=[];for(const pt of Ve)ot.push(new n.pointGeometry(pt[0],pt[1]));Oe.push(ot)}return Oe}}toGeoJSON(Oe,Ve,ot){return O.call(this,Oe,Ve,ot)}}class A{constructor(Oe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=Oe.length,this._features=Oe}feature(Oe){return new H(this._features[Oe])}}var E={exports:{}},P=n.pointGeometry,G=n.vectorTile.VectorTileFeature,V=C;function C(lt,Oe){this.options=Oe||{},this.features=lt,this.length=lt.length}function ne(lt,Oe){this.id=typeof lt.id=="number"?lt.id:void 0,this.type=lt.type,this.rawGeometry=lt.type===1?[lt.geometry]:lt.geometry,this.properties=lt.tags,this.extent=Oe||4096}C.prototype.feature=function(lt){return new ne(this.features[lt],this.options.extent)},ne.prototype.loadGeometry=function(){var lt=this.rawGeometry;this.geometry=[];for(var Oe=0;Oe<lt.length;Oe++){for(var Ve=lt[Oe],ot=[],pt=0;pt<Ve.length;pt++)ot.push(new P(Ve[pt][0],Ve[pt][1]));this.geometry.push(ot)}return this.geometry},ne.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var lt=this.geometry,Oe=1/0,Ve=-1/0,ot=1/0,pt=-1/0,Et=0;Et<lt.length;Et++)for(var Ot=lt[Et],Bt=0;Bt<Ot.length;Bt++){var Mt=Ot[Bt];Oe=Math.min(Oe,Mt.x),Ve=Math.max(Ve,Mt.x),ot=Math.min(ot,Mt.y),pt=Math.max(pt,Mt.y)}return[Oe,ot,Ve,pt]},ne.prototype.toGeoJSON=G.prototype.toGeoJSON;var te=n.pbf,F=V;function N(lt){var Oe=new te;return function(Ve,ot){for(var pt in Ve.layers)ot.writeMessage(3,X,Ve.layers[pt])}(lt,Oe),Oe.finish()}function X(lt,Oe){var Ve;Oe.writeVarintField(15,lt.version||1),Oe.writeStringField(1,lt.name||""),Oe.writeVarintField(5,lt.extent||4096);var ot={keys:[],values:[],keycache:{},valuecache:{}};for(Ve=0;Ve<lt.length;Ve++)ot.feature=lt.feature(Ve),Oe.writeMessage(2,M,ot);var pt=ot.keys;for(Ve=0;Ve<pt.length;Ve++)Oe.writeStringField(3,pt[Ve]);var Et=ot.values;for(Ve=0;Ve<Et.length;Ve++)Oe.writeMessage(4,S,Et[Ve])}function M(lt,Oe){var Ve=lt.feature;Ve.id!==void 0&&Oe.writeVarintField(1,Ve.id),Oe.writeMessage(2,L,lt),Oe.writeVarintField(3,Ve.type),Oe.writeMessage(4,b,Ve)}function L(lt,Oe){var Ve=lt.feature,ot=lt.keys,pt=lt.values,Et=lt.keycache,Ot=lt.valuecache;for(var Bt in Ve.properties){var Mt=Ve.properties[Bt],jt=Et[Bt];if(Mt!==null){jt===void 0&&(ot.push(Bt),Et[Bt]=jt=ot.length-1),Oe.writeVarint(jt);var li=typeof Mt;li!=="string"&&li!=="boolean"&&li!=="number"&&(Mt=JSON.stringify(Mt));var Bi=li+":"+Mt,_i=Ot[Bi];_i===void 0&&(pt.push(Mt),Ot[Bi]=_i=pt.length-1),Oe.writeVarint(_i)}}}function f(lt,Oe){return(Oe<<3)+(7&lt)}function y(lt){return lt<<1^lt>>31}function b(lt,Oe){for(var Ve=lt.loadGeometry(),ot=lt.type,pt=0,Et=0,Ot=Ve.length,Bt=0;Bt<Ot;Bt++){var Mt=Ve[Bt],jt=1;ot===1&&(jt=Mt.length),Oe.writeVarint(f(1,jt));for(var li=ot===3?Mt.length-1:Mt.length,Bi=0;Bi<li;Bi++){Bi===1&&ot!==1&&Oe.writeVarint(f(2,li-1));var _i=Mt[Bi].x-pt,on=Mt[Bi].y-Et;Oe.writeVarint(y(_i)),Oe.writeVarint(y(on)),pt+=_i,Et+=on}ot===3&&Oe.writeVarint(f(7,1))}}function S(lt,Oe){var Ve=typeof lt;Ve==="string"?Oe.writeStringField(1,lt):Ve==="boolean"?Oe.writeBooleanField(7,lt):Ve==="number"&&(lt%1!=0?Oe.writeDoubleField(3,lt):lt<0?Oe.writeSVarintField(6,lt):Oe.writeVarintField(5,lt))}function j(lt,Oe,Ve,ot,pt,Et){if(pt-ot<=Ve)return;const Ot=ot+pt>>1;J(lt,Oe,Ot,ot,pt,Et%2),j(lt,Oe,Ve,ot,Ot-1,Et+1),j(lt,Oe,Ve,Ot+1,pt,Et+1)}function J(lt,Oe,Ve,ot,pt,Et){for(;pt>ot;){if(pt-ot>600){const jt=pt-ot+1,li=Ve-ot+1,Bi=Math.log(jt),_i=.5*Math.exp(2*Bi/3),on=.5*Math.sqrt(Bi*_i*(jt-_i)/jt)*(li-jt/2<0?-1:1);J(lt,Oe,Ve,Math.max(ot,Math.floor(Ve-li*_i/jt+on)),Math.min(pt,Math.floor(Ve+(jt-li)*_i/jt+on)),Et)}const Ot=Oe[2*Ve+Et];let Bt=ot,Mt=pt;for(W(lt,Oe,ot,Ve),Oe[2*pt+Et]>Ot&&W(lt,Oe,ot,pt);Bt<Mt;){for(W(lt,Oe,Bt,Mt),Bt++,Mt--;Oe[2*Bt+Et]<Ot;)Bt++;for(;Oe[2*Mt+Et]>Ot;)Mt--}Oe[2*ot+Et]===Ot?W(lt,Oe,ot,Mt):(Mt++,W(lt,Oe,Mt,pt)),Mt<=Ve&&(ot=Mt+1),Ve<=Mt&&(pt=Mt-1)}}function W(lt,Oe,Ve,ot){re(lt,Ve,ot),re(Oe,2*Ve,2*ot),re(Oe,2*Ve+1,2*ot+1)}function re(lt,Oe,Ve){const ot=lt[Oe];lt[Oe]=lt[Ve],lt[Ve]=ot}function ue(lt,Oe,Ve,ot){const pt=lt-Ve,Et=Oe-ot;return pt*pt+Et*Et}E.exports=N,E.exports.fromVectorTileJs=N,E.exports.fromGeojsonVt=function(lt,Oe){Oe=Oe||{};var Ve={};for(var ot in lt)Ve[ot]=new F(lt[ot].features,Oe),Ve[ot].name=ot,Ve[ot].version=Oe.version,Ve[ot].extent=Oe.extent;return N({layers:Ve})},E.exports.GeoJSONWrapper=F;const ve=lt=>lt[0],q=lt=>lt[1];class se{constructor(Oe,Ve=ve,ot=q,pt=64,Et=Float64Array){this.nodeSize=pt,this.points=Oe;const Ot=Oe.length<65536?Uint16Array:Uint32Array,Bt=this.ids=new Ot(Oe.length),Mt=this.coords=new Et(2*Oe.length);for(let jt=0;jt<Oe.length;jt++)Bt[jt]=jt,Mt[2*jt]=Ve(Oe[jt]),Mt[2*jt+1]=ot(Oe[jt]);j(Bt,Mt,pt,0,Bt.length-1,0)}range(Oe,Ve,ot,pt){return function(Et,Ot,Bt,Mt,jt,li,Bi){const _i=[0,Et.length-1,0],on=[];let sn,qi;for(;_i.length;){const dn=_i.pop(),Fn=_i.pop(),is=_i.pop();if(Fn-is<=Bi){for(let cs=is;cs<=Fn;cs++)sn=Ot[2*cs],qi=Ot[2*cs+1],sn>=Bt&&sn<=jt&&qi>=Mt&&qi<=li&&on.push(Et[cs]);continue}const Qi=Math.floor((is+Fn)/2);sn=Ot[2*Qi],qi=Ot[2*Qi+1],sn>=Bt&&sn<=jt&&qi>=Mt&&qi<=li&&on.push(Et[Qi]);const Ss=(dn+1)%2;(dn===0?Bt<=sn:Mt<=qi)&&(_i.push(is),_i.push(Qi-1),_i.push(Ss)),(dn===0?jt>=sn:li>=qi)&&(_i.push(Qi+1),_i.push(Fn),_i.push(Ss))}return on}(this.ids,this.coords,Oe,Ve,ot,pt,this.nodeSize)}within(Oe,Ve,ot){return function(pt,Et,Ot,Bt,Mt,jt){const li=[0,pt.length-1,0],Bi=[],_i=Mt*Mt;for(;li.length;){const on=li.pop(),sn=li.pop(),qi=li.pop();if(sn-qi<=jt){for(let Ss=qi;Ss<=sn;Ss++)ue(Et[2*Ss],Et[2*Ss+1],Ot,Bt)<=_i&&Bi.push(pt[Ss]);continue}const dn=Math.floor((qi+sn)/2),Fn=Et[2*dn],is=Et[2*dn+1];ue(Fn,is,Ot,Bt)<=_i&&Bi.push(pt[dn]);const Qi=(on+1)%2;(on===0?Ot-Mt<=Fn:Bt-Mt<=is)&&(li.push(qi),li.push(dn-1),li.push(Qi)),(on===0?Ot+Mt>=Fn:Bt+Mt>=is)&&(li.push(dn+1),li.push(sn),li.push(Qi))}return Bi}(this.ids,this.coords,Oe,Ve,ot,this.nodeSize)}}const pe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:lt=>lt},xe=Math.fround||(Pe=new Float32Array(1),lt=>(Pe[0]=+lt,Pe[0]));var Pe;class ce{constructor(Oe){this.options=ze(Object.create(pe),Oe),this.trees=new Array(this.options.maxZoom+1)}load(Oe){const{log:Ve,minZoom:ot,maxZoom:pt,nodeSize:Et}=this.options;Ve&&console.time("total time");const Ot=`prepare ${Oe.length} points`;Ve&&console.time(Ot),this.points=Oe;let Bt=[];for(let Mt=0;Mt<Oe.length;Mt++)Oe[Mt].geometry&&Bt.push(_e(Oe[Mt],Mt));this.trees[pt+1]=new se(Bt,Qe,Ke,Et,Float32Array),Ve&&console.timeEnd(Ot);for(let Mt=pt;Mt>=ot;Mt--){const jt=+Date.now();Bt=this._cluster(Bt,Mt),this.trees[Mt]=new se(Bt,Qe,Ke,Et,Float32Array),Ve&&console.log("z%d: %d clusters in %dms",Mt,Bt.length,+Date.now()-jt)}return Ve&&console.timeEnd("total time"),this}getClusters(Oe,Ve){let ot=((Oe[0]+180)%360+360)%360-180;const pt=Math.max(-90,Math.min(90,Oe[1]));let Et=Oe[2]===180?180:((Oe[2]+180)%360+360)%360-180;const Ot=Math.max(-90,Math.min(90,Oe[3]));if(Oe[2]-Oe[0]>=360)ot=-180,Et=180;else if(ot>Et){const li=this.getClusters([ot,pt,180,Ot],Ve),Bi=this.getClusters([-180,pt,Et,Ot],Ve);return li.concat(Bi)}const Bt=this.trees[this._limitZoom(Ve)],Mt=Bt.range(me(ot),Me(Ot),me(Et),Me(pt)),jt=[];for(const li of Mt){const Bi=Bt.points[li];jt.push(Bi.numPoints?le(Bi):this.points[Bi.index])}return jt}getChildren(Oe){const Ve=this._getOriginId(Oe),ot=this._getOriginZoom(Oe),pt="No cluster with the specified id.",Et=this.trees[ot];if(!Et)throw new Error(pt);const Ot=Et.points[Ve];if(!Ot)throw new Error(pt);const Bt=this.options.radius/(this.options.extent*Math.pow(2,ot-1)),Mt=Et.within(Ot.x,Ot.y,Bt),jt=[];for(const li of Mt){const Bi=Et.points[li];Bi.parentId===Oe&&jt.push(Bi.numPoints?le(Bi):this.points[Bi.index])}if(jt.length===0)throw new Error(pt);return jt}getLeaves(Oe,Ve,ot){const pt=[];return this._appendLeaves(pt,Oe,Ve=Ve||10,ot=ot||0,0),pt}getTile(Oe,Ve,ot){const pt=this.trees[this._limitZoom(Oe)],Et=Math.pow(2,Oe),{extent:Ot,radius:Bt}=this.options,Mt=Bt/Ot,jt=(ot-Mt)/Et,li=(ot+1+Mt)/Et,Bi={features:[]};return this._addTileFeatures(pt.range((Ve-Mt)/Et,jt,(Ve+1+Mt)/Et,li),pt.points,Ve,ot,Et,Bi),Ve===0&&this._addTileFeatures(pt.range(1-Mt/Et,jt,1,li),pt.points,Et,ot,Et,Bi),Ve===Et-1&&this._addTileFeatures(pt.range(0,jt,Mt/Et,li),pt.points,-1,ot,Et,Bi),Bi.features.length?Bi:null}getClusterExpansionZoom(Oe){let Ve=this._getOriginZoom(Oe)-1;for(;Ve<=this.options.maxZoom;){const ot=this.getChildren(Oe);if(Ve++,ot.length!==1)break;Oe=ot[0].properties.cluster_id}return Ve}_appendLeaves(Oe,Ve,ot,pt,Et){const Ot=this.getChildren(Ve);for(const Bt of Ot){const Mt=Bt.properties;if(Mt&&Mt.cluster?Et+Mt.point_count<=pt?Et+=Mt.point_count:Et=this._appendLeaves(Oe,Mt.cluster_id,ot,pt,Et):Et<pt?Et++:Oe.push(Bt),Oe.length===ot)break}return Et}_addTileFeatures(Oe,Ve,ot,pt,Et,Ot){for(const Bt of Oe){const Mt=Ve[Bt],jt=Mt.numPoints;let li,Bi,_i;if(jt)li=Z(Mt),Bi=Mt.x,_i=Mt.y;else{const qi=this.points[Mt.index];li=qi.properties,Bi=me(qi.geometry.coordinates[0]),_i=Me(qi.geometry.coordinates[1])}const on={type:1,geometry:[[Math.round(this.options.extent*(Bi*Et-ot)),Math.round(this.options.extent*(_i*Et-pt))]],tags:li};let sn;jt?sn=Mt.id:this.options.generateId?sn=Mt.index:this.points[Mt.index].id&&(sn=this.points[Mt.index].id),sn!==void 0&&(on.id=sn),Ot.features.push(on)}}_limitZoom(Oe){return Math.max(this.options.minZoom,Math.min(Math.floor(+Oe),this.options.maxZoom+1))}_cluster(Oe,Ve){const ot=[],{radius:pt,extent:Et,reduce:Ot,minPoints:Bt}=this.options,Mt=pt/(Et*Math.pow(2,Ve));for(let jt=0;jt<Oe.length;jt++){const li=Oe[jt];if(li.zoom<=Ve)continue;li.zoom=Ve;const Bi=this.trees[Ve+1],_i=Bi.within(li.x,li.y,Mt),on=li.numPoints||1;let sn=on;for(const qi of _i){const dn=Bi.points[qi];dn.zoom>Ve&&(sn+=dn.numPoints||1)}if(sn>on&&sn>=Bt){let qi=li.x*on,dn=li.y*on,Fn=Ot&&on>1?this._map(li,!0):null;const is=(jt<<5)+(Ve+1)+this.points.length;for(const Qi of _i){const Ss=Bi.points[Qi];if(Ss.zoom<=Ve)continue;Ss.zoom=Ve;const cs=Ss.numPoints||1;qi+=Ss.x*cs,dn+=Ss.y*cs,Ss.parentId=is,Ot&&(Fn||(Fn=this._map(li,!0)),Ot(Fn,this._map(Ss)))}li.parentId=is,ot.push(ye(qi/sn,dn/sn,is,sn,Fn))}else if(ot.push(li),sn>1)for(const qi of _i){const dn=Bi.points[qi];dn.zoom<=Ve||(dn.zoom=Ve,ot.push(dn))}}return ot}_getOriginId(Oe){return Oe-this.points.length>>5}_getOriginZoom(Oe){return(Oe-this.points.length)%32}_map(Oe,Ve){if(Oe.numPoints)return Ve?ze({},Oe.properties):Oe.properties;const ot=this.points[Oe.index].properties,pt=this.options.map(ot);return Ve&&pt===ot?ze({},pt):pt}}function ye(lt,Oe,Ve,ot,pt){return{x:xe(lt),y:xe(Oe),zoom:1/0,id:Ve,parentId:-1,numPoints:ot,properties:pt}}function _e(lt,Oe){const[Ve,ot]=lt.geometry.coordinates;return{x:xe(me(Ve)),y:xe(Me(ot)),zoom:1/0,index:Oe,parentId:-1}}function le(lt){return{type:"Feature",id:lt.id,properties:Z(lt),geometry:{type:"Point",coordinates:[(Oe=lt.x,360*(Oe-.5)),Ee(lt.y)]}};var Oe}function Z(lt){const Oe=lt.numPoints,Ve=Oe>=1e4?`${Math.round(Oe/1e3)}k`:Oe>=1e3?Math.round(Oe/100)/10+"k":Oe;return ze(ze({},lt.properties),{cluster:!0,cluster_id:lt.id,point_count:Oe,point_count_abbreviated:Ve})}function me(lt){return lt/360+.5}function Me(lt){const Oe=Math.sin(lt*Math.PI/180),Ve=.5-.25*Math.log((1+Oe)/(1-Oe))/Math.PI;return Ve<0?0:Ve>1?1:Ve}function Ee(lt){const Oe=(180-360*lt)*Math.PI/180;return 360*Math.atan(Math.exp(Oe))/Math.PI-90}function ze(lt,Oe){for(const Ve in Oe)lt[Ve]=Oe[Ve];return lt}function Qe(lt){return lt.x}function Ke(lt){return lt.y}function ct(lt,Oe,Ve,ot){for(var pt,Et=ot,Ot=Ve-Oe>>1,Bt=Ve-Oe,Mt=lt[Oe],jt=lt[Oe+1],li=lt[Ve],Bi=lt[Ve+1],_i=Oe+3;_i<Ve;_i+=3){var on=Ie(lt[_i],lt[_i+1],Mt,jt,li,Bi);if(on>Et)pt=_i,Et=on;else if(on===Et){var sn=Math.abs(_i-Ot);sn<Bt&&(pt=_i,Bt=sn)}}Et>ot&&(pt-Oe>3&&ct(lt,Oe,pt,ot),lt[pt+2]=Et,Ve-pt>3&&ct(lt,pt,Ve,ot))}function Ie(lt,Oe,Ve,ot,pt,Et){var Ot=pt-Ve,Bt=Et-ot;if(Ot!==0||Bt!==0){var Mt=((lt-Ve)*Ot+(Oe-ot)*Bt)/(Ot*Ot+Bt*Bt);Mt>1?(Ve=pt,ot=Et):Mt>0&&(Ve+=Ot*Mt,ot+=Bt*Mt)}return(Ot=lt-Ve)*Ot+(Bt=Oe-ot)*Bt}function Be(lt,Oe,Ve,ot){var pt={id:lt===void 0?null:lt,type:Oe,geometry:Ve,tags:ot,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Et){var Ot=Et.geometry,Bt=Et.type;if(Bt==="Point"||Bt==="MultiPoint"||Bt==="LineString")Ue(Et,Ot);else if(Bt==="Polygon"||Bt==="MultiLineString")for(var Mt=0;Mt<Ot.length;Mt++)Ue(Et,Ot[Mt]);else if(Bt==="MultiPolygon")for(Mt=0;Mt<Ot.length;Mt++)for(var jt=0;jt<Ot[Mt].length;jt++)Ue(Et,Ot[Mt][jt])}(pt),pt}function Ue(lt,Oe){for(var Ve=0;Ve<Oe.length;Ve+=3)lt.minX=Math.min(lt.minX,Oe[Ve]),lt.minY=Math.min(lt.minY,Oe[Ve+1]),lt.maxX=Math.max(lt.maxX,Oe[Ve]),lt.maxY=Math.max(lt.maxY,Oe[Ve+1])}function We(lt,Oe,Ve,ot){if(Oe.geometry){var pt=Oe.geometry.coordinates,Et=Oe.geometry.type,Ot=Math.pow(Ve.tolerance/((1<<Ve.maxZoom)*Ve.extent),2),Bt=[],Mt=Oe.id;if(Ve.promoteId?Mt=Oe.properties[Ve.promoteId]:Ve.generateId&&(Mt=ot||0),Et==="Point")st(pt,Bt);else if(Et==="MultiPoint")for(var jt=0;jt<pt.length;jt++)st(pt[jt],Bt);else if(Et==="LineString")wt(pt,Bt,Ot,!1);else if(Et==="MultiLineString"){if(Ve.lineMetrics){for(jt=0;jt<pt.length;jt++)wt(pt[jt],Bt=[],Ot,!1),lt.push(Be(Mt,"LineString",Bt,Oe.properties));return}Ut(pt,Bt,Ot,!1)}else if(Et==="Polygon")Ut(pt,Bt,Ot,!0);else{if(Et!=="MultiPolygon"){if(Et==="GeometryCollection"){for(jt=0;jt<Oe.geometry.geometries.length;jt++)We(lt,{id:Mt,geometry:Oe.geometry.geometries[jt],properties:Oe.properties},Ve,ot);return}throw new Error("Input data is not a valid GeoJSON object.")}for(jt=0;jt<pt.length;jt++){var li=[];Ut(pt[jt],li,Ot,!0),Bt.push(li)}}lt.push(Be(Mt,Et,Bt,Oe.properties))}}function st(lt,Oe){Oe.push(Vt(lt[0])),Oe.push(yi(lt[1])),Oe.push(0)}function wt(lt,Oe,Ve,ot){for(var pt,Et,Ot=0,Bt=0;Bt<lt.length;Bt++){var Mt=Vt(lt[Bt][0]),jt=yi(lt[Bt][1]);Oe.push(Mt),Oe.push(jt),Oe.push(0),Bt>0&&(Ot+=ot?(pt*jt-Mt*Et)/2:Math.sqrt(Math.pow(Mt-pt,2)+Math.pow(jt-Et,2))),pt=Mt,Et=jt}var li=Oe.length-3;Oe[2]=1,ct(Oe,0,li,Ve),Oe[li+2]=1,Oe.size=Math.abs(Ot),Oe.start=0,Oe.end=Oe.size}function Ut(lt,Oe,Ve,ot){for(var pt=0;pt<lt.length;pt++){var Et=[];wt(lt[pt],Et,Ve,ot),Oe.push(Et)}}function Vt(lt){return lt/360+.5}function yi(lt){var Oe=Math.sin(lt*Math.PI/180),Ve=.5-.25*Math.log((1+Oe)/(1-Oe))/Math.PI;return Ve<0?0:Ve>1?1:Ve}function si(lt,Oe,Ve,ot,pt,Et,Ot,Bt){if(ot/=Oe,Et>=(Ve/=Oe)&&Ot<ot)return lt;if(Ot<Ve||Et>=ot)return null;for(var Mt=[],jt=0;jt<lt.length;jt++){var li=lt[jt],Bi=li.geometry,_i=li.type,on=pt===0?li.minX:li.minY,sn=pt===0?li.maxX:li.maxY;if(on>=Ve&&sn<ot)Mt.push(li);else if(!(sn<Ve||on>=ot)){var qi=[];if(_i==="Point"||_i==="MultiPoint")Ai(Bi,qi,Ve,ot,pt);else if(_i==="LineString")$i(Bi,qi,Ve,ot,pt,!1,Bt.lineMetrics);else if(_i==="MultiLineString")Zi(Bi,qi,Ve,ot,pt,!1);else if(_i==="Polygon")Zi(Bi,qi,Ve,ot,pt,!0);else if(_i==="MultiPolygon")for(var dn=0;dn<Bi.length;dn++){var Fn=[];Zi(Bi[dn],Fn,Ve,ot,pt,!0),Fn.length&&qi.push(Fn)}if(qi.length){if(Bt.lineMetrics&&_i==="LineString"){for(dn=0;dn<qi.length;dn++)Mt.push(Be(li.id,_i,qi[dn],li.tags));continue}_i!=="LineString"&&_i!=="MultiLineString"||(qi.length===1?(_i="LineString",qi=qi[0]):_i="MultiLineString"),_i!=="Point"&&_i!=="MultiPoint"||(_i=qi.length===3?"Point":"MultiPoint"),Mt.push(Be(li.id,_i,qi,li.tags))}}}return Mt.length?Mt:null}function Ai(lt,Oe,Ve,ot,pt){for(var Et=0;Et<lt.length;Et+=3){var Ot=lt[Et+pt];Ot>=Ve&&Ot<=ot&&(Oe.push(lt[Et]),Oe.push(lt[Et+1]),Oe.push(lt[Et+2]))}}function $i(lt,Oe,Ve,ot,pt,Et,Ot){for(var Bt,Mt,jt=Fi(lt),li=pt===0?yn:Tn,Bi=lt.start,_i=0;_i<lt.length-3;_i+=3){var on=lt[_i],sn=lt[_i+1],qi=lt[_i+2],dn=lt[_i+3],Fn=lt[_i+4],is=pt===0?on:sn,Qi=pt===0?dn:Fn,Ss=!1;Ot&&(Bt=Math.sqrt(Math.pow(on-dn,2)+Math.pow(sn-Fn,2))),is<Ve?Qi>Ve&&(Mt=li(jt,on,sn,dn,Fn,Ve),Ot&&(jt.start=Bi+Bt*Mt)):is>ot?Qi<ot&&(Mt=li(jt,on,sn,dn,Fn,ot),Ot&&(jt.start=Bi+Bt*Mt)):Ri(jt,on,sn,qi),Qi<Ve&&is>=Ve&&(Mt=li(jt,on,sn,dn,Fn,Ve),Ss=!0),Qi>ot&&is<=ot&&(Mt=li(jt,on,sn,dn,Fn,ot),Ss=!0),!Et&&Ss&&(Ot&&(jt.end=Bi+Bt*Mt),Oe.push(jt),jt=Fi(lt)),Ot&&(Bi+=Bt)}var cs=lt.length-3;on=lt[cs],sn=lt[cs+1],qi=lt[cs+2],(is=pt===0?on:sn)>=Ve&&is<=ot&&Ri(jt,on,sn,qi),cs=jt.length-3,Et&&cs>=3&&(jt[cs]!==jt[0]||jt[cs+1]!==jt[1])&&Ri(jt,jt[0],jt[1],jt[2]),jt.length&&Oe.push(jt)}function Fi(lt){var Oe=[];return Oe.size=lt.size,Oe.start=lt.start,Oe.end=lt.end,Oe}function Zi(lt,Oe,Ve,ot,pt,Et){for(var Ot=0;Ot<lt.length;Ot++)$i(lt[Ot],Oe,Ve,ot,pt,Et,!1)}function Ri(lt,Oe,Ve,ot){lt.push(Oe),lt.push(Ve),lt.push(ot)}function yn(lt,Oe,Ve,ot,pt,Et){var Ot=(Et-Oe)/(ot-Oe);return lt.push(Et),lt.push(Ve+(pt-Ve)*Ot),lt.push(1),Ot}function Tn(lt,Oe,Ve,ot,pt,Et){var Ot=(Et-Ve)/(pt-Ve);return lt.push(Oe+(ot-Oe)*Ot),lt.push(Et),lt.push(1),Ot}function Yn(lt,Oe){for(var Ve=[],ot=0;ot<lt.length;ot++){var pt,Et=lt[ot],Ot=Et.type;if(Ot==="Point"||Ot==="MultiPoint"||Ot==="LineString")pt=Tr(Et.geometry,Oe);else if(Ot==="MultiLineString"||Ot==="Polygon"){pt=[];for(var Bt=0;Bt<Et.geometry.length;Bt++)pt.push(Tr(Et.geometry[Bt],Oe))}else if(Ot==="MultiPolygon")for(pt=[],Bt=0;Bt<Et.geometry.length;Bt++){for(var Mt=[],jt=0;jt<Et.geometry[Bt].length;jt++)Mt.push(Tr(Et.geometry[Bt][jt],Oe));pt.push(Mt)}Ve.push(Be(Et.id,Ot,pt,Et.tags))}return Ve}function Tr(lt,Oe){var Ve=[];Ve.size=lt.size,lt.start!==void 0&&(Ve.start=lt.start,Ve.end=lt.end);for(var ot=0;ot<lt.length;ot+=3)Ve.push(lt[ot]+Oe,lt[ot+1],lt[ot+2]);return Ve}function ps(lt,Oe){if(lt.transformed)return lt;var Ve,ot,pt,Et=1<<lt.z,Ot=lt.x,Bt=lt.y;for(Ve=0;Ve<lt.features.length;Ve++){var Mt=lt.features[Ve],jt=Mt.geometry,li=Mt.type;if(Mt.geometry=[],li===1)for(ot=0;ot<jt.length;ot+=2)Mt.geometry.push(Ds(jt[ot],jt[ot+1],Oe,Et,Ot,Bt));else for(ot=0;ot<jt.length;ot++){var Bi=[];for(pt=0;pt<jt[ot].length;pt+=2)Bi.push(Ds(jt[ot][pt],jt[ot][pt+1],Oe,Et,Ot,Bt));Mt.geometry.push(Bi)}}return lt.transformed=!0,lt}function Ds(lt,Oe,Ve,ot,pt,Et){return[Math.round(Ve*(lt*ot-pt)),Math.round(Ve*(Oe*ot-Et))]}function Is(lt,Oe,Ve,ot,pt){for(var Et=Oe===pt.maxZoom?0:pt.tolerance/((1<<Oe)*pt.extent),Ot={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ve,y:ot,z:Oe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Bt=0;Bt<lt.length;Bt++){Ot.numFeatures++,ja(Ot,lt[Bt],Et,pt);var Mt=lt[Bt].minX,jt=lt[Bt].minY,li=lt[Bt].maxX,Bi=lt[Bt].maxY;Mt<Ot.minX&&(Ot.minX=Mt),jt<Ot.minY&&(Ot.minY=jt),li>Ot.maxX&&(Ot.maxX=li),Bi>Ot.maxY&&(Ot.maxY=Bi)}return Ot}function ja(lt,Oe,Ve,ot){var pt=Oe.geometry,Et=Oe.type,Ot=[];if(Et==="Point"||Et==="MultiPoint")for(var Bt=0;Bt<pt.length;Bt+=3)Ot.push(pt[Bt]),Ot.push(pt[Bt+1]),lt.numPoints++,lt.numSimplified++;else if(Et==="LineString")mc(Ot,pt,lt,Ve,!1,!1);else if(Et==="MultiLineString"||Et==="Polygon")for(Bt=0;Bt<pt.length;Bt++)mc(Ot,pt[Bt],lt,Ve,Et==="Polygon",Bt===0);else if(Et==="MultiPolygon")for(var Mt=0;Mt<pt.length;Mt++){var jt=pt[Mt];for(Bt=0;Bt<jt.length;Bt++)mc(Ot,jt[Bt],lt,Ve,!0,Bt===0)}if(Ot.length){var li=Oe.tags||null;if(Et==="LineString"&&ot.lineMetrics){for(var Bi in li={},Oe.tags)li[Bi]=Oe.tags[Bi];li.mapbox_clip_start=pt.start/pt.size,li.mapbox_clip_end=pt.end/pt.size}var _i={geometry:Ot,type:Et==="Polygon"||Et==="MultiPolygon"?3:Et==="LineString"||Et==="MultiLineString"?2:1,tags:li};Oe.id!==null&&(_i.id=Oe.id),lt.features.push(_i)}}function mc(lt,Oe,Ve,ot,pt,Et){var Ot=ot*ot;if(ot>0&&Oe.size<(pt?Ot:ot))Ve.numPoints+=Oe.length/3;else{for(var Bt=[],Mt=0;Mt<Oe.length;Mt+=3)(ot===0||Oe[Mt+2]>Ot)&&(Ve.numSimplified++,Bt.push(Oe[Mt]),Bt.push(Oe[Mt+1])),Ve.numPoints++;pt&&function(jt,li){for(var Bi=0,_i=0,on=jt.length,sn=on-2;_i<on;sn=_i,_i+=2)Bi+=(jt[_i]-jt[sn])*(jt[_i+1]+jt[sn+1]);if(Bi>0===li)for(_i=0,on=jt.length;_i<on/2;_i+=2){var qi=jt[_i],dn=jt[_i+1];jt[_i]=jt[on-2-_i],jt[_i+1]=jt[on-1-_i],jt[on-2-_i]=qi,jt[on-1-_i]=dn}}(Bt,Et),lt.push(Bt)}}function Pl(lt,Oe){var Ve=(Oe=this.options=function(pt,Et){for(var Ot in Et)pt[Ot]=Et[Ot];return pt}(Object.create(this.options),Oe)).debug;if(Ve&&console.time("preprocess data"),Oe.maxZoom<0||Oe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Oe.promoteId&&Oe.generateId)throw new Error("promoteId and generateId cannot be used together.");var ot=function(pt,Et){var Ot=[];if(pt.type==="FeatureCollection")for(var Bt=0;Bt<pt.features.length;Bt++)We(Ot,pt.features[Bt],Et,Bt);else We(Ot,pt.type==="Feature"?pt:{geometry:pt},Et);return Ot}(lt,Oe);this.tiles={},this.tileCoords=[],Ve&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Oe.indexMaxZoom,Oe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ot=function(pt,Et){var Ot=Et.buffer/Et.extent,Bt=pt,Mt=si(pt,1,-1-Ot,Ot,0,-1,2,Et),jt=si(pt,1,1-Ot,2+Ot,0,-1,2,Et);return(Mt||jt)&&(Bt=si(pt,1,-Ot,1+Ot,0,-1,2,Et)||[],Mt&&(Bt=Yn(Mt,1).concat(Bt)),jt&&(Bt=Bt.concat(Yn(jt,-1)))),Bt}(ot,Oe),ot.length&&this.splitTile(ot,0,0,0),Ve&&(ot.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function il(lt,Oe,Ve){return 32*((1<<lt)*Ve+Oe)+lt}function io(lt,Oe){const Ve=lt.tileID.canonical;if(!this._geoJSONIndex)return Oe(null,null);const ot=this._geoJSONIndex.getTile(Ve.z,Ve.x,Ve.y);if(!ot)return Oe(null,null);const pt=new A(ot.features);let Et=E.exports(pt);Et.byteOffset===0&&Et.byteLength===Et.buffer.byteLength||(Et=new Uint8Array(Et)),Oe(null,{vectorTile:pt,rawData:Et.buffer})}Pl.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Pl.prototype.splitTile=function(lt,Oe,Ve,ot,pt,Et,Ot){for(var Bt=[lt,Oe,Ve,ot],Mt=this.options,jt=Mt.debug;Bt.length;){ot=Bt.pop(),Ve=Bt.pop(),Oe=Bt.pop(),lt=Bt.pop();var li=1<<Oe,Bi=il(Oe,Ve,ot),_i=this.tiles[Bi];if(!_i&&(jt>1&&console.time("creation"),_i=this.tiles[Bi]=Is(lt,Oe,Ve,ot,Mt),this.tileCoords.push({z:Oe,x:Ve,y:ot}),jt)){jt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Oe,Ve,ot,_i.numFeatures,_i.numPoints,_i.numSimplified),console.timeEnd("creation"));var on="z"+Oe;this.stats[on]=(this.stats[on]||0)+1,this.total++}if(_i.source=lt,pt){if(Oe===Mt.maxZoom||Oe===pt)continue;var sn=1<<pt-Oe;if(Ve!==Math.floor(Et/sn)||ot!==Math.floor(Ot/sn))continue}else if(Oe===Mt.indexMaxZoom||_i.numPoints<=Mt.indexMaxPoints)continue;if(_i.source=null,lt.length!==0){jt>1&&console.time("clipping");var qi,dn,Fn,is,Qi,Ss,cs=.5*Mt.buffer/Mt.extent,ya=.5-cs,sl=.5+cs,To=1+cs;qi=dn=Fn=is=null,Qi=si(lt,li,Ve-cs,Ve+sl,0,_i.minX,_i.maxX,Mt),Ss=si(lt,li,Ve+ya,Ve+To,0,_i.minX,_i.maxX,Mt),lt=null,Qi&&(qi=si(Qi,li,ot-cs,ot+sl,1,_i.minY,_i.maxY,Mt),dn=si(Qi,li,ot+ya,ot+To,1,_i.minY,_i.maxY,Mt),Qi=null),Ss&&(Fn=si(Ss,li,ot-cs,ot+sl,1,_i.minY,_i.maxY,Mt),is=si(Ss,li,ot+ya,ot+To,1,_i.minY,_i.maxY,Mt),Ss=null),jt>1&&console.timeEnd("clipping"),Bt.push(qi||[],Oe+1,2*Ve,2*ot),Bt.push(dn||[],Oe+1,2*Ve,2*ot+1),Bt.push(Fn||[],Oe+1,2*Ve+1,2*ot),Bt.push(is||[],Oe+1,2*Ve+1,2*ot+1)}}},Pl.prototype.getTile=function(lt,Oe,Ve){var ot=this.options,pt=ot.extent,Et=ot.debug;if(lt<0||lt>24)return null;var Ot=1<<lt,Bt=il(lt,Oe=(Oe%Ot+Ot)%Ot,Ve);if(this.tiles[Bt])return ps(this.tiles[Bt],pt);Et>1&&console.log("drilling down to z%d-%d-%d",lt,Oe,Ve);for(var Mt,jt=lt,li=Oe,Bi=Ve;!Mt&&jt>0;)jt--,li=Math.floor(li/2),Bi=Math.floor(Bi/2),Mt=this.tiles[il(jt,li,Bi)];return Mt&&Mt.source?(Et>1&&console.log("found parent tile z%d-%d-%d",jt,li,Bi),Et>1&&console.time("drilling down"),this.splitTile(Mt.source,jt,li,Bi,lt,Oe,Ve),Et>1&&console.timeEnd("drilling down"),this.tiles[Bt]?ps(this.tiles[Bt],pt):null):null};class nl extends n.VectorTileWorkerSource{constructor(Oe,Ve,ot,pt,Et){super(Oe,Ve,ot,pt,io),Et&&(this.loadGeoJSON=Et)}loadData(Oe,Ve){const ot=Oe&&Oe.request,pt=ot&&ot.collectResourceTiming;this.loadGeoJSON(Oe,(Et,Ot)=>{if(Et||!Ot)return Ve(Et);if(typeof Ot!="object")return Ve(new Error(`Input data given to '${Oe.source}' is not a valid GeoJSON object.`));{Y(Ot,!0);try{if(Oe.filter){const Mt=n.createExpression(Oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Mt.result==="error")throw new Error(Mt.value.map(li=>`${li.key}: ${li.message}`).join(", "));Ot={type:"FeatureCollection",features:Ot.features.filter(li=>Mt.value.evaluate({zoom:0},li))}}this._geoJSONIndex=Oe.cluster?new ce(function({superclusterOptions:Mt,clusterProperties:jt}){if(!jt||!Mt)return Mt;const li={},Bi={},_i={accumulated:null,zoom:0},on={properties:null},sn=Object.keys(jt);for(const qi of sn){const[dn,Fn]=jt[qi],is=n.createExpression(Fn),Qi=n.createExpression(typeof dn=="string"?[dn,["accumulated"],["get",qi]]:dn);li[qi]=is.value,Bi[qi]=Qi.value}return Mt.map=qi=>{on.properties=qi;const dn={};for(const Fn of sn)dn[Fn]=li[Fn].evaluate(_i,on);return dn},Mt.reduce=(qi,dn)=>{on.properties=dn;for(const Fn of sn)_i.accumulated=qi[Fn],qi[Fn]=Bi[Fn].evaluate(_i,on)},Mt}(Oe)).load(Ot.features):function(Mt,jt){return new Pl(Mt,jt)}(Ot,Oe.geojsonVtOptions)}catch(Mt){return Ve(Mt)}this.loaded={};const Bt={};if(pt){const Mt=n.getPerformanceMeasurement(ot);Mt&&(Bt.resourceTiming={},Bt.resourceTiming[Oe.source]=JSON.parse(JSON.stringify(Mt)))}Ve(null,Bt)}})}reloadTile(Oe,Ve){const ot=this.loaded;return ot&&ot[Oe.uid]?super.reloadTile(Oe,Ve):this.loadTile(Oe,Ve)}loadGeoJSON(Oe,Ve){if(Oe.request)n.getJSON(Oe.request,Ve);else{if(typeof Oe.data!="string")return Ve(new Error(`Input data given to '${Oe.source}' is not a valid GeoJSON object.`));try{return Ve(null,JSON.parse(Oe.data))}catch{return Ve(new Error(`Input data given to '${Oe.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Oe,Ve){try{Ve(null,this._geoJSONIndex.getClusterExpansionZoom(Oe.clusterId))}catch(ot){Ve(ot)}}getClusterChildren(Oe,Ve){try{Ve(null,this._geoJSONIndex.getChildren(Oe.clusterId))}catch(ot){Ve(ot)}}getClusterLeaves(Oe,Ve){try{Ve(null,this._geoJSONIndex.getLeaves(Oe.clusterId,Oe.limit,Oe.offset))}catch(ot){Ve(ot)}}}class qc{constructor(Oe){this.self=Oe,this.actor=new n.Actor(Oe,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=n.getProjection({name:"mercator"}),this.workerSourceTypes={vector:n.VectorTileWorkerSource,geojson:nl},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Ve,ot)=>{if(this.workerSourceTypes[Ve])throw new Error(`Worker source with name "${Ve}" already registered.`);this.workerSourceTypes[Ve]=ot},this.self.registerRTLTextPlugin=Ve=>{if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=Ve.applyArabicShaping,n.plugin.processBidirectionalText=Ve.processBidirectionalText,n.plugin.processStyledBidirectionalText=Ve.processStyledBidirectionalText}}clearCaches(Oe,Ve,ot){delete this.layerIndexes[Oe],delete this.availableImages[Oe],delete this.workerSources[Oe],delete this.demWorkerSources[Oe],ot()}checkIfReady(Oe,Ve,ot){ot()}setReferrer(Oe,Ve){this.referrer=Ve}spriteLoaded(Oe,Ve){this.isSpriteLoaded[Oe]=Ve;for(const ot in this.workerSources[Oe]){const pt=this.workerSources[Oe][ot];for(const Et in pt)pt[Et]instanceof n.VectorTileWorkerSource&&(pt[Et].isSpriteLoaded=Ve,pt[Et].fire(new n.Event("isSpriteLoaded")))}}setImages(Oe,Ve,ot){this.availableImages[Oe]=Ve;for(const pt in this.workerSources[Oe]){const Et=this.workerSources[Oe][pt];for(const Ot in Et)Et[Ot].availableImages=Ve}ot()}enableTerrain(Oe,Ve,ot){this.terrain=Ve,ot()}setProjection(Oe,Ve){this.projections[Oe]=n.getProjection(Ve)}setLayers(Oe,Ve,ot){this.getLayerIndex(Oe).replace(Ve),ot()}updateLayers(Oe,Ve,ot){this.getLayerIndex(Oe).update(Ve.layers,Ve.removedIds),ot()}loadTile(Oe,Ve,ot){const pt=this.enableTerrain?n.extend({enableTerrain:this.terrain},Ve):Ve;pt.projection=this.projections[Oe]||this.defaultProjection,this.getWorkerSource(Oe,Ve.type,Ve.source).loadTile(pt,ot)}loadDEMTile(Oe,Ve,ot){const pt=this.enableTerrain?n.extend({buildQuadTree:this.terrain},Ve):Ve;this.getDEMWorkerSource(Oe,Ve.source).loadTile(pt,ot)}reloadTile(Oe,Ve,ot){const pt=this.enableTerrain?n.extend({enableTerrain:this.terrain},Ve):Ve;pt.projection=this.projections[Oe]||this.defaultProjection,this.getWorkerSource(Oe,Ve.type,Ve.source).reloadTile(pt,ot)}abortTile(Oe,Ve,ot){this.getWorkerSource(Oe,Ve.type,Ve.source).abortTile(Ve,ot)}removeTile(Oe,Ve,ot){this.getWorkerSource(Oe,Ve.type,Ve.source).removeTile(Ve,ot)}removeSource(Oe,Ve,ot){if(!this.workerSources[Oe]||!this.workerSources[Oe][Ve.type]||!this.workerSources[Oe][Ve.type][Ve.source])return;const pt=this.workerSources[Oe][Ve.type][Ve.source];delete this.workerSources[Oe][Ve.type][Ve.source],pt.removeSource!==void 0?pt.removeSource(Ve,ot):ot()}loadWorkerSource(Oe,Ve,ot){try{this.self.importScripts(Ve.url),ot()}catch(pt){ot(pt.toString())}}syncRTLPluginState(Oe,Ve,ot){try{n.plugin.setState(Ve);const pt=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&pt!=null){this.self.importScripts(pt);const Et=n.plugin.isParsed();ot(Et?void 0:new Error(`RTL Text Plugin failed to import scripts from ${pt}`),Et)}}catch(pt){ot(pt.toString())}}getAvailableImages(Oe){let Ve=this.availableImages[Oe];return Ve||(Ve=[]),Ve}getLayerIndex(Oe){let Ve=this.layerIndexes[Oe];return Ve||(Ve=this.layerIndexes[Oe]=new ee),Ve}getWorkerSource(Oe,Ve,ot){if(this.workerSources[Oe]||(this.workerSources[Oe]={}),this.workerSources[Oe][Ve]||(this.workerSources[Oe][Ve]={}),!this.workerSources[Oe][Ve][ot]){const pt={send:(Et,Ot,Bt,Mt,jt,li)=>{this.actor.send(Et,Ot,Bt,Oe,jt,li)},scheduler:this.actor.scheduler};this.workerSources[Oe][Ve][ot]=new this.workerSourceTypes[Ve](pt,this.getLayerIndex(Oe),this.getAvailableImages(Oe),this.isSpriteLoaded[Oe])}return this.workerSources[Oe][Ve][ot]}getDEMWorkerSource(Oe,Ve){return this.demWorkerSources[Oe]||(this.demWorkerSources[Oe]={}),this.demWorkerSources[Oe][Ve]||(this.demWorkerSources[Oe][Ve]=new z),this.demWorkerSources[Oe][Ve]}enforceCacheSizeLimit(Oe,Ve){n.enforceCacheSizeLimit(Ve)}getWorkerPerformanceMetrics(Oe,Ve,ot){ot(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new qc(self)),qc}),d(["./shared"],function(n){function w(_,a){if(Array.isArray(_)){if(!Array.isArray(a)||_.length!==a.length)return!1;for(let u=0;u<_.length;u++)if(!w(_[u],a[u]))return!1;return!0}if(typeof _=="object"&&_!==null&&a!==null){if(typeof a!="object"||Object.keys(_).length!==Object.keys(a).length)return!1;for(const u in _)if(!w(_[u],a[u]))return!1;return!0}return _===a}var $=ee;function ee(_){return!function(a){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var x,D,B=new Blob([""],{type:"text/javascript"}),oe=URL.createObjectURL(B);try{D=new Worker(oe),x=!0}catch{x=!1}return D&&D.terminate(),URL.revokeObjectURL(oe),x}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var x=document.createElement("canvas");x.width=x.height=1;var D=x.getContext("2d");if(!D)return!1;var B=D.getImageData(0,0,1,1);return B&&B.width===x.width}()?(z[u=a&&a.failIfMajorPerformanceCaveat]===void 0&&(z[u]=function(x){var D,B=function(oe){var de=document.createElement("canvas"),ge=Object.create(ee.webGLContextAttributes);return ge.failIfMajorPerformanceCaveat=oe,de.getContext("webgl",ge)||de.getContext("experimental-webgl",ge)}(x);if(!B)return!1;try{D=B.createShader(B.VERTEX_SHADER)}catch{return!1}return!(!D||B.isContextLost())&&(B.shaderSource(D,"void main() {}"),B.compileShader(D),B.getShaderParameter(D,B.COMPILE_STATUS)===!0)}(u)),z[u]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var u}(_)}var z={};function Y(_,a,u){const x=n.window.document.createElement(_);return a!==void 0&&(x.className=a),u&&u.appendChild(x),x}function Q(_,a,u){const x=n.window.document.createElementNS("http://www.w3.org/2000/svg",_);for(const D of Object.keys(a))x.setAttributeNS(null,D,a[D]);return u&&u.appendChild(x),x}ee.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const I=n.window.document&&n.window.document.documentElement.style,O=I&&I.userSelect!==void 0?"userSelect":"WebkitUserSelect";let H;function A(){I&&O&&(H=I[O],I[O]="none")}function E(){I&&O&&(I[O]=H)}function P(_){_.preventDefault(),_.stopPropagation(),n.window.removeEventListener("click",P,!0)}function G(){n.window.addEventListener("click",P,!0),n.window.setTimeout(()=>{n.window.removeEventListener("click",P,!0)},0)}function V(_,a){const u=_.getBoundingClientRect();return te(_,u,a)}function C(_,a){const u=_.getBoundingClientRect(),x=[];for(let D=0;D<a.length;D++)x.push(te(_,u,a[D]));return x}function ne(_){return n.window.InstallTrigger!==void 0&&_.button===2&&_.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:_.button}function te(_,a,u){const x=_.offsetWidth===a.width?1:_.offsetWidth/a.width;return new n.pointGeometry((u.clientX-a.left)*x,(u.clientY-a.top)*x)}function F(_,a){var u=a[0],x=a[1],D=a[2],B=a[3],oe=u*B-D*x;return oe?(_[0]=B*(oe=1/oe),_[1]=-x*oe,_[2]=-D*oe,_[3]=u*oe,_):null}function N(_){const{userImage:a}=_;return!!(a&&a.render&&a.render())&&(_.data.replace(new Uint8Array(a.data.buffer)),!0)}class X extends n.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:u,callback:x}of this.requestors)this._notify(u,x);this.requestors=[]}}hasImage(a){return!!this.getImage(a)}getImage(a){return this.images[a]}addImage(a,u){this._validate(a,u)&&(this.images[a]=u)}_validate(a,u){let x=!0;return this._validateStretch(u.stretchX,u.data&&u.data.width)||(this.fire(new n.ErrorEvent(new Error(`Image "${a}" has invalid "stretchX" value`))),x=!1),this._validateStretch(u.stretchY,u.data&&u.data.height)||(this.fire(new n.ErrorEvent(new Error(`Image "${a}" has invalid "stretchY" value`))),x=!1),this._validateContent(u.content,u)||(this.fire(new n.ErrorEvent(new Error(`Image "${a}" has invalid "content" value`))),x=!1),x}_validateStretch(a,u){if(!a)return!0;let x=0;for(const D of a){if(D[0]<x||D[1]<D[0]||u<D[1])return!1;x=D[1]}return!0}_validateContent(a,u){return!(a&&(a.length!==4||a[0]<0||u.data.width<a[0]||a[1]<0||u.data.height<a[1]||a[2]<0||u.data.width<a[2]||a[3]<0||u.data.height<a[3]||a[2]<a[0]||a[3]<a[1]))}updateImage(a,u){u.version=this.images[a].version+1,this.images[a]=u,this.updatedImages[a]=!0}removeImage(a){const u=this.images[a];delete this.images[a],delete this.patterns[a],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,u){let x=!0;if(!this.isLoaded())for(const D of a)this.images[D]||(x=!1);this.isLoaded()||x?this._notify(a,u):this.requestors.push({ids:a,callback:u})}_notify(a,u){const x={};for(const D of a){this.images[D]||this.fire(new n.Event("styleimagemissing",{id:D}));const B=this.images[D];B?x[D]={data:B.data.clone(),pixelRatio:B.pixelRatio,sdf:B.sdf,version:B.version,stretchX:B.stretchX,stretchY:B.stretchY,content:B.content,hasRenderCallback:Boolean(B.userImage&&B.userImage.render)}:n.warnOnce(`Image "${D}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}u(null,x)}getPixelSize(){const{width:a,height:u}=this.atlasImage;return{width:a,height:u}}getPattern(a){const u=this.patterns[a],x=this.getImage(a);if(!x)return null;if(u&&u.position.version===x.version)return u.position;if(u)u.position.version=x.version;else{const D={w:x.data.width+2,h:x.data.height+2,x:0,y:0},B=new n.ImagePosition(D,x);this.patterns[a]={bin:D,position:B}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const u=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(a,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const B in this.patterns)a.push(this.patterns[B].bin);const{w:u,h:x}=n.potpack(a),D=this.atlasImage;D.resize({width:u||1,height:x||1});for(const B in this.patterns){const{bin:oe}=this.patterns[B],de=oe.x+1,ge=oe.y+1,ke=this.images[B].data,Ce=ke.width,Re=ke.height;n.RGBAImage.copy(ke,D,{x:0,y:0},{x:de,y:ge},{width:Ce,height:Re}),n.RGBAImage.copy(ke,D,{x:0,y:Re-1},{x:de,y:ge-1},{width:Ce,height:1}),n.RGBAImage.copy(ke,D,{x:0,y:0},{x:de,y:ge+Re},{width:Ce,height:1}),n.RGBAImage.copy(ke,D,{x:Ce-1,y:0},{x:de-1,y:ge},{width:1,height:Re}),n.RGBAImage.copy(ke,D,{x:0,y:0},{x:de+Ce,y:ge},{width:1,height:Re})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const u of a){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const x=this.images[u];N(x)&&this.updateImage(u,x)}}}const M=new n.Properties({anchor:new n.DataConstantProperty(n.spec.light.anchor),position:new class{constructor(){this.specification=n.spec.light.position}possiblyEvaluate(_,a){return function([u,x,D]){const B=n.degToRad(x+90),oe=n.degToRad(D);return{x:u*Math.cos(B)*Math.sin(oe),y:u*Math.sin(B)*Math.sin(oe),z:u*Math.cos(oe),azimuthal:x,polar:D}}(_.expression.evaluate(a))}interpolate(_,a,u){return{x:n.number(_.x,a.x,u),y:n.number(_.y,a.y,u),z:n.number(_.z,a.z,u),azimuthal:n.number(_.azimuthal,a.azimuthal,u),polar:n.number(_.polar,a.polar,u)}}},color:new n.DataConstantProperty(n.spec.light.color),intensity:new n.DataConstantProperty(n.spec.light.intensity)}),L="-transition";class f extends n.Evented{constructor(a){super(),this._transitionable=new n.Transitionable(M),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,u={}){if(!this._validate(n.validateLight,a,u))for(const x in a){const D=a[x];n.endsWith(x,L)?this._transitionable.setTransition(x.slice(0,-L.length),D):this._transitionable.setValue(x,D)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,u,x){return(!x||x.validate!==!1)&&n.emitValidationErrors(this,a.call(n.validateStyle,n.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}const y=new n.Properties({source:new n.DataConstantProperty(n.spec.terrain.source),exaggeration:new n.DataConstantProperty(n.spec.terrain.exaggeration)}),b="-transition";class S extends n.Evented{constructor(a,u){super(),this._transitionable=new n.Transitionable(y),this.set(a),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=u}get(){return this._transitionable.serialize()}set(a){for(const u in a){const x=a[u];n.endsWith(u,b)?this._transitionable.setTransition(u.slice(0,-b.length),x):this._transitionable.setValue(u,x)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}}function j(_,a,u,x){const D=n.smoothstep(45,65,u),[B,oe]=J(_,x),de=n.length(a);let ge=1-Math.min(1,Math.exp((de-B)/(oe-B)*-6));return ge*=ge*ge,ge=Math.min(1,1.00747*ge),ge*D*_.alpha}function J(_,a){const u=.5/Math.tan(.5*a);return[_.range[0]+u,_.range[1]+u]}const W=new n.Properties({range:new n.DataConstantProperty(n.spec.fog.range),color:new n.DataConstantProperty(n.spec.fog.color),"high-color":new n.DataConstantProperty(n.spec.fog["high-color"]),"space-color":new n.DataConstantProperty(n.spec.fog["space-color"]),"horizon-blend":new n.DataConstantProperty(n.spec.fog["horizon-blend"]),"star-intensity":new n.DataConstantProperty(n.spec.fog["star-intensity"])}),re="-transition";class ue extends n.Evented{constructor(a,u){super(),this._transitionable=new n.Transitionable(W),this.set(a),this._transitioning=this._transitionable.untransitioned(),this._transform=u}get state(){const a=this._transform,u=a.projection.name==="globe",x=n.globeToMercatorTransition(a.zoom),D=this.properties.get("range"),B=[.5,3];return{range:u?[n.number(B[0],D[0],x),n.number(B[1],D[1],x)]:D,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(a,u={}){if(!this._validate(n.validateFog,a,u)){for(const x of Object.keys(n.spec.fog))a&&a[x]===void 0&&(a[x]=n.spec.fog[x].default);for(const x in a){const D=a[x];n.endsWith(x,re)?this._transitionable.setTransition(x.slice(0,-re.length),D):this._transitionable.setValue(x,D)}}}getOpacity(a){if(!this._transform.projection.supportsFog)return 0;const u=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:n.smoothstep(45,65,a))*u.a}getOpacityAtLatLng(a,u){return this._transform.projection.supportsFog?function(x,D,B){const oe=n.MercatorCoordinate.fromLngLat(D),de=B.elevation?B.elevation.getAtPointOrZero(oe):0,ge=[oe.x,oe.y,de];return n.transformMat4(ge,ge,B.mercatorFogMatrix),j(x,ge,B.pitch,B._fov)}(this.state,a,u):0}getFovAdjustedRange(a){return this._transform.projection.supportsFog?J(this.state,a):[0,1]}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,u,x){return(!x||x.validate!==!1)&&n.emitValidationErrors(this,a.call(n.validateStyle,n.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}class ve{constructor(a,u){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=n.uniqueId();const x=this.workerPool.acquire(this.id);for(let D=0;D<x.length;D++){const B=new ve.Actor(x[D],u,this.id);B.name=`Worker ${D}`,this.actors.push(B)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(a,u,x){n.asyncAll(this.actors,(D,B)=>{D.send(a,u,B)},x=x||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(a=>{a.remove()}),this.actors=[],this.workerPool.release(this.id)}}function q(_,a,u){return a*(n.EXTENT/(_.tileSize*Math.pow(2,u-_.tileID.overscaledZ)))}ve.Actor=n.Actor;class se{constructor(a,u,x,D){this.screenBounds=a,this.cameraPoint=u,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=x,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,D)}static createFromScreenPoints(a,u){let x,D;if(a instanceof n.pointGeometry||typeof a[0]=="number"){const B=n.pointGeometry.convert(a);x=[B],D=u.isPointAboveHorizon(B)}else{const B=n.pointGeometry.convert(a[0]),oe=n.pointGeometry.convert(a[1]);x=[B,oe],D=n.polygonizeBounds(B,oe).every(de=>u.isPointAboveHorizon(de))}return new se(x,u.getCameraPoint(),D,u)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(a){return n.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],a)}bufferedCameraGeometry(a){const u=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],D=n.polygonizeBounds(u,x,0,!1);return this.cameraPoint.y>x.y&&(this.cameraPoint.x>u.x&&this.cameraPoint.x<x.x?D.splice(3,0,this.cameraPoint):this.cameraPoint.x>=x.x?D[2]=this.cameraPoint:this.cameraPoint.x<=u.x&&(D[3]=this.cameraPoint)),n.bufferConvexPolygon(D,a)}bufferedCameraGeometryGlobe(a){const u=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],D=n.polygonizeBounds(u,x,a),B=this.cameraPoint.clone();switch(3*((B.y>u.y)+(B.y>x.y))+((B.x>u.x)+(B.x>x.x))){case 0:D[0]=B,D[4]=B.clone();break;case 1:D.splice(1,0,B);break;case 2:D[1]=B;break;case 3:D.splice(4,0,B);break;case 5:D.splice(2,0,B);break;case 6:D[3]=B;break;case 7:D.splice(3,0,B);break;case 8:D[2]=B}return D}containsTile(a,u,x,D=0){const B=a.queryPadding/u._pixelsPerMercatorPixel+1,oe=x?this._bufferedCameraMercator(B,u):this._bufferedScreenMercator(B,u);let de=a.tileID.wrap+(oe.unwrapped?D:0);const ge=oe.polygon.map(Xe=>n.getTilePoint(a.tileTransform,Xe,de));if(!n.polygonIntersectsBox(ge,0,0,n.EXTENT,n.EXTENT))return;de=a.tileID.wrap+(this.screenGeometryMercator.unwrapped?D:0);const ke=this.screenGeometryMercator.polygon.map(Xe=>n.getTileVec3(a.tileTransform,Xe,de)),Ce=ke.map(Xe=>new n.pointGeometry(Xe[0],Xe[1])),Re=u.getFreeCameraOptions().position||new n.MercatorCoordinate(0,0,0),$e=n.getTileVec3(a.tileTransform,Re,de),tt=ke.map(Xe=>{const Ze=n.sub(Xe,Xe,$e);return n.normalize(Ze,Ze),new n.Ray($e,Ze)}),it=q(a,1,u.zoom)*u._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Ce,tilespaceRays:tt,bufferedTilespaceGeometry:ge,bufferedTilespaceBounds:(rt=n.getBounds(ge),rt.min.x=n.clamp(rt.min.x,0,n.EXTENT),rt.min.y=n.clamp(rt.min.y,0,n.EXTENT),rt.max.x=n.clamp(rt.max.x,0,n.EXTENT),rt.max.y=n.clamp(rt.max.y,0,n.EXTENT),rt),tile:a,tileID:a.tileID,pixelToTileUnitsFactor:it};var rt}_bufferedScreenMercator(a,u){const x=Pe(a);if(this._screenRaycastCache[x])return this._screenRaycastCache[x];{let D;return D=u.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(a),u):{polygon:this.bufferedScreenGeometry(a).map(B=>u.pointCoordinate3D(B)),unwrapped:!0},this._screenRaycastCache[x]=D,D}}_bufferedCameraMercator(a,u){const x=Pe(a);if(this._cameraRaycastCache[x])return this._cameraRaycastCache[x];{let D;return D=u.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(a),u):{polygon:this.bufferedCameraGeometry(a).map(B=>u.pointCoordinate3D(B)),unwrapped:!0},this._cameraRaycastCache[x]=D,D}}_projectAndResample(a,u){const x=function(B,oe){const de=n.multiply([],oe.pixelMatrix,oe.globeMatrix),ge=[0,-n.GLOBE_RADIUS,0,1],ke=[0,n.GLOBE_RADIUS,0,1],Ce=[0,0,0,1];n.transformMat4$1(ge,ge,de),n.transformMat4$1(ke,ke,de),n.transformMat4$1(Ce,Ce,de);const Re=new n.pointGeometry(ge[0]/ge[3],ge[1]/ge[3]),$e=new n.pointGeometry(ke[0]/ke[3],ke[1]/ke[3]),tt=n.polygonContainsPoint(B,Re)&&ge[3]<Ce[3],it=n.polygonContainsPoint(B,$e)&&ke[3]<Ce[3];if(!tt&&!it)return null;const rt=function(kt,Wt,Nt){for(let Dt=1;Dt<kt.length;Dt++){const pi=xe(Wt.pointCoordinate3D(kt[Dt-1]).x),Ft=xe(Wt.pointCoordinate3D(kt[Dt]).x);if(Nt<0){if(pi<Ft)return{idx:Dt,t:-pi/(Ft-1-pi)}}else if(Ft<pi)return{idx:Dt,t:(1-pi)/(Ft+1-pi)}}return null}(B,oe,tt?-1:1);if(!rt)return null;const{idx:Xe,t:Ze}=rt;let ht=Xe>1?pe(B.slice(0,Xe),oe):[],nt=Xe<B.length?pe(B.slice(Xe),oe):[];ht=ht.map(kt=>new n.pointGeometry(xe(kt.x),kt.y)),nt=nt.map(kt=>new n.pointGeometry(xe(kt.x),kt.y));const ft=[...ht];ft.length===0&&ft.push(nt[nt.length-1]);const Tt=n.number(ft[ft.length-1].y,(nt.length===0?ht[0]:nt[0]).y,Ze);let gt;return gt=tt?[new n.pointGeometry(0,Tt),new n.pointGeometry(0,0),new n.pointGeometry(1,0),new n.pointGeometry(1,Tt)]:[new n.pointGeometry(1,Tt),new n.pointGeometry(1,1),new n.pointGeometry(0,1),new n.pointGeometry(0,Tt)],ft.push(...gt),nt.length===0?ft.push(ht[0]):ft.push(...nt),{polygon:ft.map(kt=>new n.MercatorCoordinate(kt.x,kt.y)),unwrapped:!1}}(a,u);if(x)return x;const D=function(B,oe){let de=!1,ge=-1/0,ke=0;for(let Re=0;Re<B.length-1;Re++)B[Re].x>ge&&(ge=B[Re].x,ke=Re);for(let Re=0;Re<B.length-1;Re++){const $e=(ke+Re)%(B.length-1),tt=B[$e],it=B[$e+1];Math.abs(tt.x-it.x)>.5&&(tt.x<it.x?(tt.x+=1,$e===0&&(B[B.length-1].x+=1)):(it.x+=1,$e+1===B.length-1&&(B[0].x+=1)),de=!0)}const Ce=n.mercatorXfromLng(oe.center.lng);return de&&Ce<Math.abs(Ce-1)&&B.forEach(Re=>{Re.x-=1}),{polygon:B,unwrapped:de}}(pe(a,u).map(B=>new n.pointGeometry(xe(B.x),B.y)),u);return{polygon:D.polygon.map(B=>new n.MercatorCoordinate(B.x,B.y)),unwrapped:D.unwrapped}}}function pe(_,a){return n.resample(_,u=>{const x=a.pointCoordinate3D(u);u.x=x.x,u.y=x.y},1/256)}function xe(_){return _<0?1+_%1:_%1}function Pe(_){return 100*_|0}function ce(_,a,u,x,D){const B=function(oe,de){if(oe)return D(oe);if(de){_.url&&de.tiles&&_.tiles&&delete _.tiles;const ge=n.pick(n.extend(de,_),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);de.vector_layers&&(ge.vectorLayers=de.vector_layers,ge.vectorLayerIds=ge.vectorLayers.map(ke=>ke.id)),ge.tiles=a.canonicalizeTileset(ge,_.url),D(null,ge)}};return _.url?n.getJSON(a.transformRequest(a.normalizeSourceURL(_.url,null,u,x),n.ResourceType.Source),B):n.exported.frame(()=>B(null,_))}class ye{constructor(a,u,x){this.bounds=n.LngLatBounds.convert(this.validateBounds(a)),this.minzoom=u||0,this.maxzoom=x||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const u=Math.pow(2,a.z),x=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*u),D=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*u),B=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*u),oe=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*u);return a.x>=x&&a.x<B&&a.y>=D&&a.y<oe}}class _e{constructor(a,u,x){this.context=a;const D=a.gl;this.buffer=D.createBuffer(),this.dynamicDraw=Boolean(x),this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),D.bufferData(D.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?D.DYNAMIC_DRAW:D.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const u=this.context.gl;this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const le={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Z{constructor(a,u,x,D){this.length=u.length,this.attributes=x,this.itemSize=u.bytesPerElement,this.dynamicDraw=D,this.context=a;const B=a.gl;this.buffer=B.createBuffer(),a.bindVertexBuffer.set(this.buffer),B.bufferData(B.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?B.DYNAMIC_DRAW:B.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,u){for(let x=0;x<this.attributes.length;x++){const D=u.attributes[this.attributes[x].name];D!==void 0&&a.enableVertexAttribArray(D)}}setVertexAttribPointers(a,u,x){for(let D=0;D<this.attributes.length;D++){const B=this.attributes[D],oe=u.attributes[B.name];oe!==void 0&&a.vertexAttribPointer(oe,B.components,a[le[B.type]],!1,this.itemSize,B.offset+this.itemSize*(x||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class me{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Me extends me{getDefault(){return n.Color.transparent}set(a){const u=this.current;(a.r!==u.r||a.g!==u.g||a.b!==u.b||a.a!==u.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Ee extends me{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class ze extends me{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class Qe extends me{getDefault(){return[!0,!0,!0,!0]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||a[3]!==u[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Ke extends me{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class ct extends me{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class Ie extends me{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const u=this.current;(a.func!==u.func||a.ref!==u.ref||a.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class Be extends me{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Ue extends me{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=a,this.dirty=!1}}class We extends me{getDefault(){return[0,1]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class st extends me{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=a,this.dirty=!1}}class wt extends me{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Ut extends me{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.BLEND):u.disable(u.BLEND),this.current=a,this.dirty=!1}}class Vt extends me{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class yi extends me{getDefault(){return n.Color.transparent}set(a){const u=this.current;(a.r!==u.r||a.g!==u.g||a.b!==u.b||a.a!==u.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class si extends me{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class Ai extends me{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=a,this.dirty=!1}}class $i extends me{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class Fi extends me{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class Zi extends me{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Ri extends me{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class yn extends me{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||a[3]!==u[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Tn extends me{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class Yn extends me{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Tr extends me{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class ps extends me{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Ds extends me{getDefault(){return null}set(a){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Is extends me{constructor(a){super(a),this.vao=a.extVertexArrayObject}getDefault(){return null}set(a){this.vao&&(a!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(a),this.current=a,this.dirty=!1)}}class ja extends me{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class mc extends me{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class Pl extends me{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class il extends me{constructor(a,u){super(a),this.context=a,this.parent=u}getDefault(){return null}}class io extends il{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class nl extends il{attachment(){return this.gl.DEPTH_ATTACHMENT}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,this.attachment(),u.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class qc extends nl{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class lt{constructor(a,u,x,D){this.context=a,this.width=u,this.height=x;const B=this.framebuffer=a.gl.createFramebuffer();this.colorAttachment=new io(a,B),D&&(this.depthAttachment=new nl(a,B))}destroy(){const a=this.context.gl,u=this.colorAttachment.get();if(u&&a.deleteTexture(u),this.depthAttachment){const x=this.depthAttachment.get();x&&a.deleteRenderbuffer(x)}a.deleteFramebuffer(this.framebuffer)}}class Oe{constructor(a){this.gl=a,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Me(this),this.clearDepth=new Ee(this),this.clearStencil=new ze(this),this.colorMask=new Qe(this),this.depthMask=new Ke(this),this.stencilMask=new ct(this),this.stencilFunc=new Ie(this),this.stencilOp=new Be(this),this.stencilTest=new Ue(this),this.depthRange=new We(this),this.depthTest=new st(this),this.depthFunc=new wt(this),this.blend=new Ut(this),this.blendFunc=new Vt(this),this.blendColor=new yi(this),this.blendEquation=new si(this),this.cullFace=new Ai(this),this.cullFaceSide=new $i(this),this.frontFace=new Fi(this),this.program=new Zi(this),this.activeTexture=new Ri(this),this.viewport=new yn(this),this.bindFramebuffer=new Tn(this),this.bindRenderbuffer=new Yn(this),this.bindTexture=new Tr(this),this.bindVertexBuffer=new ps(this),this.bindElementBuffer=new Ds(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Is(this),this.pixelStoreUnpack=new ja(this),this.pixelStoreUnpackPremultiplyAlpha=new mc(this),this.pixelStoreUnpackFlipY=new Pl(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=a.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=a.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=a.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=a.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(a.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=a.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=a.getExtension("OES_standard_derivatives"),this.extTimerQuery=a.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,u){return new _e(this,a,u)}createVertexBuffer(a,u,x){return new Z(this,a,u,x)}createRenderbuffer(a,u,x){const D=this.gl,B=D.createRenderbuffer();return this.bindRenderbuffer.set(B),D.renderbufferStorage(D.RENDERBUFFER,a,u,x),this.bindRenderbuffer.set(null),B}createFramebuffer(a,u,x){return new lt(this,a,u,x)}clear({color:a,depth:u,stencil:x}){const D=this.gl;let B=0;a&&(B|=D.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(B|=D.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),x!==void 0&&(B|=D.STENCIL_BUFFER_BIT,this.clearStencil.set(x),this.stencilMask.set(255)),D.clear(B)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){w(a.blendFunction,n.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ve extends n.Evented{constructor(a,u,x,D){super(),this.id=a,this.dispatcher=x,this.setEventedParent(D),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},u),n.extend(this,n.pick(u,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ce(this._options,this.map._requestManager,null,null,(a,u)=>{this._tileJSONRequest=null,this._loaded=!0,a?this.fire(new n.ErrorEvent(a)):u&&(n.extend(this,u),u.bounds&&(this.tileBounds=new ye(u.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(u.tiles),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return n.extend({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,u){const x=n.exported.devicePixelRatio>=2,D=this.map._requestManager.normalizeTileURL(a.tileID.canonical.url(this.tiles,this.scheme),x,this.tileSize);a.request=n.getImage(this.map._requestManager.transformRequest(D,n.ResourceType.Tile),(B,oe,de,ge)=>(delete a.request,a.aborted?(a.state="unloaded",u(null)):B?(a.state="errored",u(B)):oe?(this.map._refreshExpiredTiles&&a.setExpiryData({cacheControl:de,expires:ge}),a.setTexture(oe,this.map.painter),a.state="loaded",n.cacheEntryPossiblyAdded(this.dispatcher),void u(null)):u(null)))}static loadTileData(a,u,x){a.setTexture(u,x)}static unloadTileData(a,u){a.texture&&u.saveTileTexture(a.texture)}abortTile(a,u){a.request&&(a.request.cancel(),delete a.request),u()}unloadTile(a,u){a.texture&&this.map.painter.saveTileTexture(a.texture),u()}hasTransition(){return!1}}let ot;function pt(_,a,u,x,D,B,oe,de){const ge=[_,u,D,a,x,B,1,1,1],ke=[oe,de,1],Ce=n.adjoint([],ge),[Re,$e,tt]=n.transformMat3(ke,ke,n.transpose(Ce,Ce));return n.multiply$1(ge,[Re,0,0,0,$e,0,0,0,tt],ge)}class Et extends n.Evented{constructor(a,u,x,D){super(),this.id=a,this.dispatcher=x,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(D),this.options=u,this._dirty=!1}load(a,u){this._loaded=u||!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),(x,D)=>{if(this._imageRequest=null,this._loaded=!0,x)this.fire(new n.ErrorEvent(x));else if(D){const{HTMLImageElement:B}=n.window;this.image=D instanceof B?n.exported.getImageData(D):D,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,a&&(this.coordinates=a),this._finishLoading()}})}loaded(){return this._loaded}updateImage(a){return this.image&&a.url?(this._imageRequest&&a.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=a.url,this.load(a.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(a){this.coordinates=a,this._boundsArray=void 0;const u=a.map(n.MercatorCoordinate.fromLngLat);return this.tileID=function(x){let D=1/0,B=1/0,oe=-1/0,de=-1/0;for(const Re of x)D=Math.min(D,Re.x),B=Math.min(B,Re.y),oe=Math.max(oe,Re.x),de=Math.max(de,Re.y);const ge=Math.max(oe-D,de-B),ke=Math.max(0,Math.floor(-Math.log(ge)/Math.LN2)),Ce=Math.pow(2,ke);return new n.CanonicalTileID(ke,Math.floor((D+oe)/2*Ce),Math.floor((B+de)/2*Ce))}(u),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(a){for(const ge in this.tiles){const ke=this.tiles[ge];ke.state!=="loaded"&&(ke.state="loaded",ke.texture=this.texture)}if(this._boundsArray)return;const u=n.tileTransform(this.tileID,this.map.transform.projection),[x,D,B,oe]=this.coordinates.map(ge=>{const ke=u.projection.project(ge[0],ge[1]);return n.getTilePoint(u,ke)._round()});this.perspectiveTransform=function(ge,ke,Ce,Re,$e,tt,it,rt,Xe,Ze){const ht=pt(0,0,ge,0,0,ke,ge,ke),nt=pt(Ce,Re,$e,tt,it,rt,Xe,Ze);return n.multiply$1(nt,n.adjoint(ht,ht),nt),[nt[6]/nt[8]*ge/n.EXTENT,nt[7]/nt[8]*ke/n.EXTENT]}(this.width,this.height,x.x,x.y,D.x,D.y,oe.x,oe.y,B.x,B.y);const de=this._boundsArray=new n.StructArrayLayout4i8;de.emplaceBack(x.x,x.y,0,0),de.emplaceBack(D.x,D.y,n.EXTENT,0),de.emplaceBack(oe.x,oe.y,0,n.EXTENT),de.emplaceBack(B.x,B.y,n.EXTENT,n.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=a.createVertexBuffer(de,n.boundsAttributes.members),this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const a=this.map.painter.context,u=a.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new n.Texture(a,this.image,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(a)}loadTile(a,u){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},u(null)):(a.state="errored",u(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ot={vector:class extends n.Evented{constructor(_,a,u,x){if(super(),this.id=_,this.dispatcher=u,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(a,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},a),this._collectResourceTiming=a.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x),this._tileWorkers={},this._deduped=new n.DedupedRequest}load(_){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"}));const a=Array.isArray(this.map._language)?this.map._language.join():this.map._language,u=this.map._worldview;this._tileJSONRequest=ce(this._options,this.map._requestManager,a,u,(x,D)=>{this._tileJSONRequest=null,this._loaded=!0,x?(a&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${a}`),u&&u.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${u}`),this.fire(new n.ErrorEvent(x))):D&&(n.extend(this,D),D.bounds&&(this.tileBounds=new ye(D.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(D.tiles,this.map._requestManager._customAccessToken),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))),_&&_(x)})}loaded(){return this._loaded}hasTile(_){return!this.tileBounds||this.tileBounds.contains(_.canonical)}onAdd(_){this.map=_,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const _=this.map.style._getSourceCaches(this.id);for(const a of _)a.clearTiles()})}setSourceProperty(_){_(),this.reload()}setTiles(_){return this._options.tiles=_,this.reload(),this}setUrl(_){return this.url=_,this._options.url=_,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return n.extend({},this._options)}loadTile(_,a){const u=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(u,n.ResourceType.Tile),data:void 0,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,tileSize:this.tileSize*_.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:_.isSymbolTile};if(x.request.collectResourceTiming=this._collectResourceTiming,_.actor&&_.state!=="expired")_.state==="loading"?_.reloadCallback=a:_.request=_.actor.send("reloadTile",x,D.bind(this));else if(_.actor=this._tileWorkers[u]=this._tileWorkers[u]||this.dispatcher.getActor(),this.dispatcher.ready)_.request=_.actor.send("loadTile",x,D.bind(this),void 0,!0);else{const B=n.loadVectorTile.call({deduped:this._deduped},x,(oe,de)=>{oe||!de?D.call(this,oe):(x.data={cacheControl:de.cacheControl,expires:de.expires,rawData:de.rawData.slice(0)},_.actor&&_.actor.send("loadTile",x,D.bind(this),void 0,!0))},!0);_.request={cancel:B}}function D(B,oe){return delete _.request,_.aborted?a(null):B&&B.status!==404?a(B):(oe&&oe.resourceTiming&&(_.resourceTiming=oe.resourceTiming),this.map._refreshExpiredTiles&&oe&&_.setExpiryData(oe),_.loadVectorData(oe,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),a(null),void(_.reloadCallback&&(this.loadTile(_,_.reloadCallback),_.reloadCallback=null)))}}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.actor&&_.actor.send("abortTile",{uid:_.uid,type:this.type,source:this.id})}unloadTile(_){_.unloadVectorData(),_.actor&&_.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Ve,"raster-dem":class extends Ve{constructor(_,a,u,x){super(_,a,u,x),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},a),this.encoding=a.encoding||"mapbox"}loadTile(_,a){const u=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function x(D,B){D&&(_.state="errored",a(D)),B&&(_.dem=B,_.dem.onDeserialize(),_.needsHillshadePrepare=!0,_.needsDEMTextureUpload=!0,_.state="loaded",a(null))}_.request=n.getImage(this.map._requestManager.transformRequest(u,n.ResourceType.Tile),function(D,B,oe,de){if(delete _.request,_.aborted)_.state="unloaded",a(null);else if(D)_.state="errored",a(D);else if(B){this.map._refreshExpiredTiles&&_.setExpiryData({cacheControl:oe,expires:de});const ge=n.window.ImageBitmap&&B instanceof n.window.ImageBitmap&&(ot==null&&(ot=n.window.OffscreenCanvas&&new n.window.OffscreenCanvas(1,1).getContext("2d")&&typeof n.window.createImageBitmap=="function"),ot),ke=1-(B.width-n.prevPowerOfTwo(B.width))/2;ke<1||_.neighboringTiles||(_.neighboringTiles=this._getNeighboringTiles(_.tileID));const Ce=ge?B:n.exported.getImageData(B,ke),Re={uid:_.uid,coord:_.tileID,source:this.id,rawImageData:Ce,encoding:this.encoding,padding:ke};_.actor&&_.state!=="expired"||(_.actor=this.dispatcher.getActor(),_.actor.send("loadDEMTile",Re,x.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(_){const a=_.canonical,u=Math.pow(2,a.z),x=(a.x-1+u)%u,D=a.x===0?_.wrap-1:_.wrap,B=(a.x+1+u)%u,oe=a.x+1===u?_.wrap+1:_.wrap,de={};return de[new n.OverscaledTileID(_.overscaledZ,D,a.z,x,a.y).key]={backfilled:!1},de[new n.OverscaledTileID(_.overscaledZ,oe,a.z,B,a.y).key]={backfilled:!1},a.y>0&&(de[new n.OverscaledTileID(_.overscaledZ,D,a.z,x,a.y-1).key]={backfilled:!1},de[new n.OverscaledTileID(_.overscaledZ,_.wrap,a.z,a.x,a.y-1).key]={backfilled:!1},de[new n.OverscaledTileID(_.overscaledZ,oe,a.z,B,a.y-1).key]={backfilled:!1}),a.y+1<u&&(de[new n.OverscaledTileID(_.overscaledZ,D,a.z,x,a.y+1).key]={backfilled:!1},de[new n.OverscaledTileID(_.overscaledZ,_.wrap,a.z,a.x,a.y+1).key]={backfilled:!1},de[new n.OverscaledTileID(_.overscaledZ,oe,a.z,B,a.y+1).key]={backfilled:!1}),de}unloadTile(_){_.demTexture&&this.map.painter.saveTileTexture(_.demTexture),_.fbo&&(_.fbo.destroy(),delete _.fbo),_.dem&&delete _.dem,delete _.neighboringTiles,_.state="unloaded"}},geojson:class extends n.Evented{constructor(_,a,u,x){super(),this.id=_,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=u.getActor(),this.setEventedParent(x),this._data=a.data,this._options=n.extend({},a),this._collectResourceTiming=a.collectResourceTiming,a.maxzoom!==void 0&&(this.maxzoom=a.maxzoom),a.type&&(this.type=a.type),a.attribution&&(this.attribution=a.attribution),this.promoteId=a.promoteId;const D=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:a.cluster||!1,geojsonVtOptions:{buffer:(a.buffer!==void 0?a.buffer:128)*D,tolerance:(a.tolerance!==void 0?a.tolerance:.375)*D,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:a.lineMetrics||!1,generateId:a.generateId||!1},superclusterOptions:{maxZoom:a.clusterMaxZoom!==void 0?a.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,a.clusterMinPoints||2),extent:n.EXTENT,radius:(a.clusterRadius!==void 0?a.clusterRadius:50)*D,log:!1,generateId:a.generateId||!1},clusterProperties:a.clusterProperties,filter:a.filter},a.workerOptions)}onAdd(_){this.map=_,this.setData(this._data)}setData(_){return this._data=_,this._updateWorkerData(),this}getClusterExpansionZoom(_,a){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:_,source:this.id},a),this}getClusterChildren(_,a){return this.actor.send("geojson.getClusterChildren",{clusterId:_,source:this.id},a),this}getClusterLeaves(_,a,u,x){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:_,limit:a,offset:u},x),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new n.Event("dataloading",{dataType:"source"})),this._loaded=!1;const _=n.extend({},this.workerOptions),a=this._data;typeof a=="string"?(_.request=this.map._requestManager.transformRequest(n.exported.resolveURL(a),n.ResourceType.Source),_.request.collectResourceTiming=this._collectResourceTiming):_.data=JSON.stringify(a),this._pendingLoad=this.actor.send(`${this.type}.loadData`,_,(u,x)=>{if(this._loaded=!0,this._pendingLoad=null,u)this.fire(new n.ErrorEvent(u));else{const D={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&x&&x.resourceTiming&&x.resourceTiming[this.id]&&(D.resourceTiming=x.resourceTiming[this.id]),this.fire(new n.Event("data",D)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(_,a){const u=_.actor?"reloadTile":"loadTile";_.actor=this.actor,_.request=this.actor.send(u,{type:this.type,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(x,D)=>(delete _.request,_.unloadVectorData(),_.aborted?a(null):x?a(x):(_.loadVectorData(D,this.map.painter,u==="reloadTile"),a(null))),void 0,u==="loadTile")}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.aborted=!0}unloadTile(_){_.unloadVectorData(),this.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return n.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Et{constructor(_,a,u,x){super(_,a,u,x),this.roundZoom=!0,this.type="video",this.options=a}load(){this._loaded=!1;const _=this.options;this.urls=[];for(const a of _.urls)this.urls.push(this.map._requestManager.transformRequest(a,n.ResourceType.Source).url);n.getVideo(this.urls,(a,u)=>{this._loaded=!0,a?this.fire(new n.ErrorEvent(a)):u&&(this.video=u,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(_){if(this.video){const a=this.video.seekable;_<a.start(0)||_>a.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${a.start(0)} and ${a.end(0)}-second mark.`))):this.video.currentTime=_}}getVideo(){return this.video}onAdd(_){this.map||(this.map=_,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,a=_.gl;this.texture?this.video.paused||(this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(_,this.video,a.RGBA),this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(_)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Et,canvas:class extends Et{constructor(_,a,u,x){super(_,a,u,x),a.coordinates?Array.isArray(a.coordinates)&&a.coordinates.length===4&&!a.coordinates.some(D=>!Array.isArray(D)||D.length!==2||D.some(B=>typeof B!="number"))||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${_}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${_}`,null,'missing required property "coordinates"'))),a.animate&&typeof a.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${_}`,null,'optional "animate" property must be a boolean value'))),a.canvas?typeof a.canvas=="string"||a.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${_}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${_}`,null,'missing required property "canvas"'))),this.options=a,this.animate=a.animate===void 0||a.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(_){this.map=_,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const a=this.map.painter.context;this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(a,this.canvas,a.gl.RGBA,{premultiply:!0}),this._prepareData(a)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const _ of[this.canvas.width,this.canvas.height])if(isNaN(_)||_<=0)return!0;return!1}},custom:class extends n.Evented{constructor(_,a,u,x){super(),this.id=_,this.type="custom",this._dataType="raster",this._dispatcher=u,this._implementation=a,this.setEventedParent(x),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new n.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new n.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ye(this._implementation.bounds,this.minzoom,this.maxzoom)),a.update=this._update.bind(this),a.clearTiles=this._clearTiles.bind(this),a.coveringTiles=this._coveringTiles.bind(this),n.extend(this,n.pick(a,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return n.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(_){this._map=_,this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(_),this.load()}onRemove(_){this._implementation.onRemove&&this._implementation.onRemove(_)}hasTile(_){if(this._implementation.hasTile){const{x:a,y:u,z:x}=_.canonical;return this._implementation.hasTile({x:a,y:u,z:x})}return!this.tileBounds||this.tileBounds.contains(_.canonical)}loadTile(_,a){const{x:u,y:x,z:D}=_.tileID.canonical,B=new n.window.AbortController;_.request=Promise.resolve(this._implementation.loadTile({x:u,y:x,z:D},{signal:B.signal})).then(function(oe){return delete _.request,_.aborted?(_.state="unloaded",a(null)):oe===void 0?(_.state="errored",a(null)):oe===null?(this.loadTileData(_,{width:this.tileSize,height:this.tileSize,data:null}),_.state="loaded",a(null)):function(de){return de instanceof n.window.ImageData||de instanceof n.window.HTMLCanvasElement||de instanceof n.window.ImageBitmap||de instanceof n.window.HTMLImageElement}(oe)?(this.loadTileData(_,oe),_.state="loaded",void a(null)):(_.state="errored",a(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(oe=>{oe.code!==20&&(_.state="errored",a(oe))}),_.request.cancel=()=>B.abort()}loadTileData(_,a){Ve.loadTileData(_,a,this._map.painter)}unloadTileData(_){Ve.unloadTileData(_,this._map.painter)}unloadTile(_,a){if(this.unloadTileData(_),this._implementation.unloadTile){const{x:u,y:x,z:D}=_.tileID.canonical;this._implementation.unloadTile({x:u,y:x,z:D})}a()}abortTile(_,a){_.request&&_.request.cancel&&(_.request.cancel(),delete _.request),a()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(_=>({x:_.canonical.x,y:_.canonical.y,z:_.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Bt=function(_,a,u,x){const D=new Ot[a.type](_,a,u,x);if(D.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${D.id}`);return n.bindAll(["load","abort","unload","serialize","prepare"],D),D};function Mt(_,a){const u=n.identity([]);return n.scale(u,u,[.5*_.width,.5*-_.height,1]),n.translate(u,u,[1,-1,0]),n.multiply(u,u,_.calculateProjMatrix(a.toUnwrapped())),Float32Array.from(u)}function jt(_,a,u,x,D,B,oe,de=!1){const ge=_.tilesIn(x,oe,de);ge.sort(Bi);const ke=[];for(const Re of ge)ke.push({wrappedTileID:Re.tile.tileID.wrapped().key,queryResults:Re.tile.queryRenderedFeatures(a,u,_._state,Re,D,B,Mt(_.transform,Re.tile.tileID),de)});const Ce=function(Re){const $e={},tt={};for(const it of Re){const rt=it.queryResults,Xe=it.wrappedTileID,Ze=tt[Xe]=tt[Xe]||{};for(const ht in rt){const nt=rt[ht],ft=Ze[ht]=Ze[ht]||{},Tt=$e[ht]=$e[ht]||[];for(const gt of nt)ft[gt.featureIndex]||(ft[gt.featureIndex]=!0,Tt.push(gt))}}return $e}(ke);for(const Re in Ce)Ce[Re].forEach($e=>{const tt=$e.feature,it=tt.layer;it&&it.type!=="background"&&it.type!=="sky"&&(tt.source=it.source,it["source-layer"]&&(tt.sourceLayer=it["source-layer"]),tt.state=tt.id!==void 0?_.getFeatureState(it["source-layer"],tt.id):{})});return Ce}function li(_,a){const u=_.getRenderableIds().map(B=>_.getTileByID(B)),x=[],D={};for(let B=0;B<u.length;B++){const oe=u[B],de=oe.tileID.canonical.key;D[de]||(D[de]=!0,oe.querySourceFeatures(x,a))}return x}function Bi(_,a){const u=_.tileID,x=a.tileID;return u.overscaledZ-x.overscaledZ||u.canonical.y-x.canonical.y||u.wrap-x.wrap||u.canonical.x-x.canonical.x}function _i(){return nh.workerClass!=null?new nh.workerClass:new n.window.Worker(nh.workerUrl)}const on="mapboxgl_preloaded_worker_pool";class sn{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<sn.workerCount;)this.workers.push(new _i);return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[on]}numActive(){return Object.keys(this.active).length}}let qi;function dn(){return qi||(qi=new sn),qi}function Fn(_,a){const u={};for(const x in _)x!=="ref"&&(u[x]=_[x]);return n.refProperties.forEach(x=>{x in a&&(u[x]=a[x])}),u}function is(_){_=_.slice();const a=Object.create(null);for(let u=0;u<_.length;u++)a[_[u].id]=_[u];for(let u=0;u<_.length;u++)"ref"in _[u]&&(_[u]=Fn(_[u],a[_[u].ref]));return _}sn.workerCount=2;const Qi={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Ss(_,a,u){u.push({command:Qi.addSource,args:[_,a[_]]})}function cs(_,a,u){a.push({command:Qi.removeSource,args:[_]}),u[_]=!0}function ya(_,a,u,x){cs(_,u,x),Ss(_,a,u)}function sl(_,a,u){let x;for(x in _[u])if(_[u].hasOwnProperty(x)&&x!=="data"&&!w(_[u][x],a[u][x]))return!1;for(x in a[u])if(a[u].hasOwnProperty(x)&&x!=="data"&&!w(_[u][x],a[u][x]))return!1;return!0}function To(_,a,u,x,D,B){let oe;for(oe in a=a||{},_=_||{})_.hasOwnProperty(oe)&&(w(_[oe],a[oe])||u.push({command:B,args:[x,oe,a[oe],D]}));for(oe in a)a.hasOwnProperty(oe)&&!_.hasOwnProperty(oe)&&(w(_[oe],a[oe])||u.push({command:B,args:[x,oe,a[oe],D]}))}function ni(_){return _.id}function Go(_,a){return _[a.id]=a,_}class ar{constructor(a,u){this.reset(a,u)}reset(a,u){this.points=a||[],this._distances=[0];for(let x=1;x<this.points.length;x++)this._distances[x]=this._distances[x-1]+this.points[x].dist(this.points[x-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=n.clamp(a,0,1);let u=1,x=this._distances[u];const D=a*this.paddedLength+this.padding;for(;x<D&&u<this._distances.length;)x=this._distances[++u];const B=u-1,oe=this._distances[B],de=x-oe,ge=de>0?(D-oe)/de:0;return this.points[B].mult(1-ge).add(this.points[u].mult(ge))}}class lr{constructor(a,u,x){const D=this.boxCells=[],B=this.circleCells=[];this.xCellCount=Math.ceil(a/x),this.yCellCount=Math.ceil(u/x);for(let oe=0;oe<this.xCellCount*this.yCellCount;oe++)D.push([]),B.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=u,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,u,x,D,B){this._forEachCell(u,x,D,B,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(u),this.bboxes.push(x),this.bboxes.push(D),this.bboxes.push(B)}insertCircle(a,u,x,D){this._forEachCell(u-D,x-D,u+D,x+D,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(u),this.circles.push(x),this.circles.push(D)}_insertBoxCell(a,u,x,D,B,oe){this.boxCells[B].push(oe)}_insertCircleCell(a,u,x,D,B,oe){this.circleCells[B].push(oe)}_query(a,u,x,D,B,oe){if(x<0||a>this.width||D<0||u>this.height)return!B&&[];const de=[];if(a<=0&&u<=0&&this.width<=x&&this.height<=D){if(B)return!0;for(let ge=0;ge<this.boxKeys.length;ge++)de.push({key:this.boxKeys[ge],x1:this.bboxes[4*ge],y1:this.bboxes[4*ge+1],x2:this.bboxes[4*ge+2],y2:this.bboxes[4*ge+3]});for(let ge=0;ge<this.circleKeys.length;ge++){const ke=this.circles[3*ge],Ce=this.circles[3*ge+1],Re=this.circles[3*ge+2];de.push({key:this.circleKeys[ge],x1:ke-Re,y1:Ce-Re,x2:ke+Re,y2:Ce+Re})}return oe?de.filter(oe):de}return this._forEachCell(a,u,x,D,this._queryCell,de,{hitTest:B,seenUids:{box:{},circle:{}}},oe),B?de.length>0:de}_queryCircle(a,u,x,D,B){const oe=a-x,de=a+x,ge=u-x,ke=u+x;if(de<0||oe>this.width||ke<0||ge>this.height)return!D&&[];const Ce=[];return this._forEachCell(oe,ge,de,ke,this._queryCellCircle,Ce,{hitTest:D,circle:{x:a,y:u,radius:x},seenUids:{box:{},circle:{}}},B),D?Ce.length>0:Ce}query(a,u,x,D,B){return this._query(a,u,x,D,!1,B)}hitTest(a,u,x,D,B){return this._query(a,u,x,D,!0,B)}hitTestCircle(a,u,x,D){return this._queryCircle(a,u,x,!0,D)}_queryCell(a,u,x,D,B,oe,de,ge){const ke=de.seenUids,Ce=this.boxCells[B];if(Ce!==null){const $e=this.bboxes;for(const tt of Ce)if(!ke.box[tt]){ke.box[tt]=!0;const it=4*tt;if(a<=$e[it+2]&&u<=$e[it+3]&&x>=$e[it+0]&&D>=$e[it+1]&&(!ge||ge(this.boxKeys[tt]))){if(de.hitTest)return oe.push(!0),!0;oe.push({key:this.boxKeys[tt],x1:$e[it],y1:$e[it+1],x2:$e[it+2],y2:$e[it+3]})}}}const Re=this.circleCells[B];if(Re!==null){const $e=this.circles;for(const tt of Re)if(!ke.circle[tt]){ke.circle[tt]=!0;const it=3*tt;if(this._circleAndRectCollide($e[it],$e[it+1],$e[it+2],a,u,x,D)&&(!ge||ge(this.circleKeys[tt]))){if(de.hitTest)return oe.push(!0),!0;{const rt=$e[it],Xe=$e[it+1],Ze=$e[it+2];oe.push({key:this.circleKeys[tt],x1:rt-Ze,y1:Xe-Ze,x2:rt+Ze,y2:Xe+Ze})}}}}}_queryCellCircle(a,u,x,D,B,oe,de,ge){const ke=de.circle,Ce=de.seenUids,Re=this.boxCells[B];if(Re!==null){const tt=this.bboxes;for(const it of Re)if(!Ce.box[it]){Ce.box[it]=!0;const rt=4*it;if(this._circleAndRectCollide(ke.x,ke.y,ke.radius,tt[rt+0],tt[rt+1],tt[rt+2],tt[rt+3])&&(!ge||ge(this.boxKeys[it])))return oe.push(!0),!0}}const $e=this.circleCells[B];if($e!==null){const tt=this.circles;for(const it of $e)if(!Ce.circle[it]){Ce.circle[it]=!0;const rt=3*it;if(this._circlesCollide(tt[rt],tt[rt+1],tt[rt+2],ke.x,ke.y,ke.radius)&&(!ge||ge(this.circleKeys[it])))return oe.push(!0),!0}}}_forEachCell(a,u,x,D,B,oe,de,ge){const ke=this._convertToXCellCoord(a),Ce=this._convertToYCellCoord(u),Re=this._convertToXCellCoord(x),$e=this._convertToYCellCoord(D);for(let tt=ke;tt<=Re;tt++)for(let it=Ce;it<=$e;it++)if(B.call(this,a,u,x,D,this.xCellCount*it+tt,oe,de,ge))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,u,x,D,B,oe){const de=D-a,ge=B-u,ke=x+oe;return ke*ke>de*de+ge*ge}_circleAndRectCollide(a,u,x,D,B,oe,de){const ge=(oe-D)/2,ke=Math.abs(a-(D+ge));if(ke>ge+x)return!1;const Ce=(de-B)/2,Re=Math.abs(u-(B+Ce));if(Re>Ce+x)return!1;if(ke<=ge||Re<=Ce)return!0;const $e=ke-ge,tt=Re-Ce;return $e*$e+tt*tt<=x*x}}const gc=Math.tan(85*Math.PI/180);function Kr(_,a,u,x,D,B,oe){const de=n.create();if(u)if(B.name==="globe"){const ge=n.calculateGlobeLabelMatrix(D,a);n.multiply(de,de,ge)}else{const ge=F([],oe);de[0]=ge[0],de[1]=ge[1],de[4]=ge[2],de[5]=ge[3],x||n.rotateZ(de,de,D.angle)}else n.multiply(de,D.labelPlaneMatrix,_);return de}function Th(_,a,u,x,D,B,oe){const de=Kr(_,a,u,x,D,B,oe);return B.name==="globe"&&u||(de[2]=de[6]=de[10]=de[14]=0),de}function ld(_,a,u,x,D,B,oe){if(u){if(B.name==="globe"){const de=Kr(_,a,u,x,D,B,oe);return n.invert(de,de),n.multiply(de,_,de),de}{const de=n.clone(_),ge=n.identity([]);return ge[0]=oe[0],ge[1]=oe[1],ge[4]=oe[2],ge[5]=oe[3],n.multiply(de,de,ge),x||n.rotateZ(de,de,-D.angle),de}}return D.glCoordMatrix}function Or(_,a,u,x){const D=[_,a,u,1];u?n.transformMat4$1(D,D,x):xs(D,D,x);const B=D[3];return D[0]/=B,D[1]/=B,D[2]/=B,D}function Oi(_,a){return Math.min(.5+_/a*.5,1.5)}function zn(_,a){const u=_[0]/_[3],x=_[1]/_[3];return u>=-a[0]&&u<=a[0]&&x>=-a[1]&&x<=a[1]}function Nn(_,a,u,x,D,B,oe,de,ge,ke){const Ce=u.transform,Re=x?_.textSizeData:_.iconSizeData,$e=n.evaluateSizeForZoom(Re,u.transform.zoom),tt=Ce.projection.name==="globe",it=[256/u.width*2+1,256/u.height*2+1],rt=x?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;rt.clear();let Xe=null;tt&&(Xe=x?_.text.globeExtVertexArray:_.icon.globeExtVertexArray);const Ze=_.lineVertexArray,ht=x?_.text.placedSymbolArray:_.icon.placedSymbolArray,nt=u.transform.width/u.transform.height;let ft,Tt=!1;for(let gt=0;gt<ht.length;gt++){const kt=ht.get(gt),{numGlyphs:Wt,writingMode:Nt}=kt;if(Nt!==n.WritingMode.vertical||Tt||ft===n.WritingMode.horizontal||(Tt=!0),ft=Nt,(kt.hidden||Nt===n.WritingMode.vertical)&&!Tt){Sr(Wt,rt);continue}Tt=!1;const Dt=new n.pointGeometry(kt.tileAnchorX,kt.tileAnchorY);let{x:pi,y:Ft,z:ri}=Ce.projection.projectTilePoint(Dt.x,Dt.y,ke.canonical);if(ge){const[nn,Wi,fn]=ge(Dt);pi+=nn,Ft+=Wi,ri+=fn}const Yt=[pi,Ft,ri,1];if(n.transformMat4$1(Yt,Yt,a),!zn(Yt,it)){Sr(Wt,rt);continue}const vi=Oi(u.transform.cameraToCenterDistance,Yt[3]),qt=n.evaluateSizeForFeature(Re,$e,kt),di=oe?qt/vi:qt*vi,wi=Or(pi,Ft,ri,D);if(wi[3]<=0){Sr(Wt,rt);continue}let Rt={};const Xt=oe?null:ge,Hi=vn(kt,di,!1,de,a,D,B,_.glyphOffsetArray,Ze,rt,Xe,wi,Dt,Rt,nt,Xt,Ce.projection,ke,oe);Tt=Hi.useVertical,Xt&&Hi.needsFlipping&&(Rt={}),(Hi.notEnoughRoom||Tt||Hi.needsFlipping&&vn(kt,di,!0,de,a,D,B,_.glyphOffsetArray,Ze,rt,Xe,wi,Dt,Rt,nt,Xt,Ce.projection,ke,oe).notEnoughRoom)&&Sr(Wt,rt)}x?(_.text.dynamicLayoutVertexBuffer.updateData(rt),Xe&&_.text.globeExtVertexBuffer.updateData(Xe)):(_.icon.dynamicLayoutVertexBuffer.updateData(rt),Xe&&_.icon.globeExtVertexBuffer.updateData(Xe))}function Vo(_,a,u,x,D,B,oe,de,ge,ke,Ce,Re,$e,tt,it,rt){const{lineStartIndex:Xe,glyphStartIndex:Ze,segment:ht}=de,nt=Ze+de.numGlyphs,ft=Xe+de.lineLength,Tt=a.getoffsetX(Ze),gt=a.getoffsetX(nt-1),kt=Ua(_*Tt,u,x,D,B,oe,ht,Xe,ft,ge,ke,Ce,Re,$e,!0,tt,it,rt);if(!kt)return null;const Wt=Ua(_*gt,u,x,D,B,oe,ht,Xe,ft,ge,ke,Ce,Re,$e,!0,tt,it,rt);return Wt?{first:kt,last:Wt}:null}function va(_,a,u,x){return _===n.WritingMode.horizontal&&Math.abs(x)>Math.abs(u)?{useVertical:!0}:_===n.WritingMode.vertical?x>0?{needsFlipping:!0}:null:a!==0&&function(D,B){return D===0||Math.abs(B/D)>gc}(u,x)?a===1?{needsFlipping:!0}:null:u<0?{needsFlipping:!0}:null}function vn(_,a,u,x,D,B,oe,de,ge,ke,Ce,Re,$e,tt,it,rt,Xe,Ze,ht){const nt=a/24,ft=_.lineOffsetX*nt,Tt=_.lineOffsetY*nt,{lineStartIndex:gt,glyphStartIndex:kt,numGlyphs:Wt,segment:Nt,writingMode:Dt,flipState:pi}=_,Ft=gt+_.lineLength,ri=Yt=>{if(Ce){const[wi,Rt,Xt]=Yt.up,Hi=ke.length;n.updateGlobeVertexNormal(Ce,Hi+0,wi,Rt,Xt),n.updateGlobeVertexNormal(Ce,Hi+1,wi,Rt,Xt),n.updateGlobeVertexNormal(Ce,Hi+2,wi,Rt,Xt),n.updateGlobeVertexNormal(Ce,Hi+3,wi,Rt,Xt)}const[vi,qt,di]=Yt.point;n.addDynamicAttributes(ke,vi,qt,di,Yt.angle)};if(Wt>1){const Yt=Vo(nt,de,ft,Tt,u,Re,$e,_,ge,B,tt,rt,!1,Xe,Ze,ht);if(!Yt)return{notEnoughRoom:!0};if(x&&!u){let[vi,qt,di]=Yt.first.point,[wi,Rt,Xt]=Yt.last.point;[vi,qt]=Or(vi,qt,di,oe),[wi,Rt]=Or(wi,Rt,Xt,oe);const Hi=va(Dt,pi,(wi-vi)*it,Rt-qt);if(_.flipState=Hi&&Hi.needsFlipping?1:2,Hi)return Hi}ri(Yt.first);for(let vi=kt+1;vi<kt+Wt-1;vi++){const qt=Ua(nt*de.getoffsetX(vi),ft,Tt,u,Re,$e,Nt,gt,Ft,ge,B,tt,rt,!1,!1,Xe,Ze,ht);if(!qt)return ke.length-=4*(vi-kt),{notEnoughRoom:!0};ri(qt)}ri(Yt.last)}else{if(x&&!u){const vi=Or($e.x,$e.y,0,D),qt=gt+Nt+1,di=new n.pointGeometry(ge.getx(qt),ge.gety(qt)),wi=Or(di.x,di.y,0,D),Rt=wi[3]>0?wi:ra($e,di,vi,1,D,void 0,Xe,Ze.canonical),Xt=va(Dt,pi,(Rt[0]-vi[0])*it,Rt[1]-vi[1]);if(_.flipState=Xt&&Xt.needsFlipping?1:2,Xt)return Xt}const Yt=Ua(nt*de.getoffsetX(kt),ft,Tt,u,Re,$e,Nt,gt,Ft,ge,B,tt,rt,!1,!1,Xe,Ze,ht);if(!Yt)return{notEnoughRoom:!0};ri(Yt)}return{}}function _c(_,a,u,x,D){const{x:B,y:oe,z:de}=x.projectTilePoint(_.x,_.y,a);if(!D)return Or(B,oe,de,u);const[ge,ke,Ce]=D(_);return Or(B+ge,oe+ke,de+Ce,u)}function ra(_,a,u,x,D,B,oe,de){const ge=_c(_.sub(a)._unit()._add(_),de,D,oe,B);return n.sub(ge,u,ge),n.normalize(ge,ge),n.scaleAndAdd(ge,u,ge,x)}function Ua(_,a,u,x,D,B,oe,de,ge,ke,Ce,Re,$e,tt,it,rt,Xe,Ze){const ht=x?_-a:_+a;let nt=ht>0?1:-1,ft=0;x&&(nt*=-1,ft=Math.PI),nt<0&&(ft+=Math.PI);let Tt=de+oe+(nt>0?0:1)|0,gt=D,kt=D,Wt=0,Nt=0;const Dt=Math.abs(ht),pi=[],Ft=[];let ri=B,Yt=ri;const vi=()=>ra(Yt,ri,kt,Dt-Wt+1,Ce,$e,rt,Xe.canonical);for(;Wt+Nt<=Dt;){if(Tt+=nt,Tt<de||Tt>=ge)return null;if(kt=gt,Yt=ri,pi.push(kt),tt&&Ft.push(Yt),ri=new n.pointGeometry(ke.getx(Tt),ke.gety(Tt)),gt=Re[Tt],!gt){const fn=_c(ri,Xe.canonical,Ce,rt,$e);gt=fn[3]>0?Re[Tt]=fn:vi()}Wt+=Nt,Nt=n.distance(kt,gt)}it&&$e&&(Re[Tt]&&(gt=vi(),Nt=n.distance(kt,gt)),Re[Tt]=gt);const qt=(Dt-Wt)/Nt,di=ri.sub(Yt)._mult(qt)._add(Yt),wi=n.sub([],gt,kt),Rt=n.scaleAndAdd([],kt,wi,qt);let Xt=[0,0,1],Hi=wi[0],nn=wi[1];if(Ze&&(Xt=rt.upVector(Xe.canonical,di.x,di.y),Xt[0]!==0||Xt[1]!==0||Xt[2]!==1)){const fn=[Xt[2],0,-Xt[0]],Bn=n.cross([],Xt,fn);n.normalize(fn,fn),n.normalize(Bn,Bn),Hi=n.dot(wi,fn),nn=n.dot(wi,Bn)}if(u){const fn=n.cross([],Xt,wi);n.normalize(fn,fn),n.scaleAndAdd(Rt,Rt,fn,u*nt)}const Wi=ft+Math.atan2(nn,Hi);return pi.push(Rt),tt&&Ft.push(di),{point:Rt,angle:Wi,path:pi,tilePath:Ft,up:Xt}}function Sr(_,a){const u=a.length,x=u+4*_;a.resize(x),a.float32.fill(-1/0,4*u,4*x)}function xs(_,a,u){const x=a[0],D=a[1];return _[0]=u[0]*x+u[4]*D+u[12],_[1]=u[1]*x+u[5]*D+u[13],_[3]=u[3]*x+u[7]*D+u[15],_}const Vr=100;class Ga{constructor(a,u,x=new lr(a.width+200,a.height+200,25),D=new lr(a.width+200,a.height+200,25)){this.transform=a,this.grid=x,this.ignoredGrid=D,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+Vr,this.screenBottomBoundary=a.height+Vr,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.fogState=u}placeCollisionBox(a,u,x,D,B,oe,de,ge){let ke=x.projectedAnchorX,Ce=x.projectedAnchorY,Re=x.projectedAnchorZ;const $e=x.elevation,tt=x.tileID,it=a.getProjection();if($e&&tt){const[gt,kt,Wt]=it.upVector(tt.canonical,x.tileAnchorX,x.tileAnchorY),Nt=it.upVectorScale(tt.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;ke+=gt*$e*Nt,Ce+=kt*$e*Nt,Re+=Wt*$e*Nt}const rt=this.projectAndGetPerspectiveRatio(de,ke,Ce,Re,x.tileID,it.name==="globe"||!!$e||this.transform.pitch>0,it),Xe=oe*rt.perspectiveRatio,Ze=(x.x1*u+D.x-x.padding)*Xe+rt.point.x,ht=(x.y1*u+D.y-x.padding)*Xe+rt.point.y,nt=(x.x2*u+D.x+x.padding)*Xe+rt.point.x,ft=(x.y2*u+D.y+x.padding)*Xe+rt.point.y,Tt=rt.perspectiveRatio<=.55||rt.occluded;return!this.isInsideGrid(Ze,ht,nt,ft)||!B&&this.grid.hitTest(Ze,ht,nt,ft,ge)||Tt?{box:[],offscreen:!1,occluded:rt.occluded}:{box:[Ze,ht,nt,ft],offscreen:this.isOffscreen(Ze,ht,nt,ft),occluded:!1}}placeCollisionCircles(a,u,x,D,B,oe,de,ge,ke,Ce,Re,$e,tt,it,rt){const Xe=[],Ze=this.transform.elevation,ht=a.getProjection(),nt=Ze?Ze.getAtTileOffsetFunc(rt,this.transform.center.lat,this.transform.worldSize,ht):null,ft=new n.pointGeometry(x.tileAnchorX,x.tileAnchorY);let{x:Tt,y:gt,z:kt}=ht.projectTilePoint(ft.x,ft.y,rt.canonical);if(nt){const[di,wi,Rt]=nt(ft);Tt+=di,gt+=wi,kt+=Rt}const Wt=ht.name==="globe",Nt=this.projectAndGetPerspectiveRatio(de,Tt,gt,kt,rt,Wt||!!Ze||this.transform.pitch>0,ht),{perspectiveRatio:Dt}=Nt,pi=(Re?oe/Dt:oe*Dt)/n.ONE_EM,Ft=Or(Tt,gt,kt,ge),ri=Nt.signedDistanceFromCamera>0?Vo(pi,B,x.lineOffsetX*pi,x.lineOffsetY*pi,!1,Ft,ft,x,D,ge,{},Ze&&!Re?nt:null,Re&&!!Ze,ht,rt,Re):null;let Yt=!1,vi=!1,qt=!0;if(ri&&!Nt.occluded){const di=.5*tt*Dt+it,wi=new n.pointGeometry(-100,-100),Rt=new n.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Xt=new ar,{first:Hi,last:nn}=ri,Wi=Hi.path.length;let fn=[];for(let Vi=Wi-1;Vi>=1;Vi--)fn.push(Hi.path[Vi]);for(let Vi=1;Vi<nn.path.length;Vi++)fn.push(nn.path[Vi]);const Bn=2.5*di;ke&&(fn=fn.map(([Vi,Es,ds],ks)=>(nt&&!Wt&&(ds=nt(ks<Wi-1?Hi.tilePath[Wi-1-ks]:nn.tilePath[ks-Wi+2])[2]),Or(Vi,Es,ds,ke))),fn.some(Vi=>Vi[3]<=0)&&(fn=[]));let rn=[];if(fn.length>0){let Vi=1/0,Es=-1/0,ds=1/0,ks=-1/0;for(const bs of fn)Vi=Math.min(Vi,bs[0]),ds=Math.min(ds,bs[1]),Es=Math.max(Es,bs[0]),ks=Math.max(ks,bs[1]);Es>=wi.x&&Vi<=Rt.x&&ks>=wi.y&&ds<=Rt.y&&(rn=[fn.map(bs=>new n.pointGeometry(bs[0],bs[1]))],(Vi<wi.x||Es>Rt.x||ds<wi.y||ks>Rt.y)&&(rn=n.clipLine(rn,wi.x,wi.y,Rt.x,Rt.y)))}for(const Vi of rn){Xt.reset(Vi,.25*di);let Es=0;Es=Xt.length<=.5*di?1:Math.ceil(Xt.paddedLength/Bn)+1;for(let ds=0;ds<Es;ds++){const ks=ds/Math.max(Es-1,1),bs=Xt.lerp(ks),Yo=bs.x+Vr,Ao=bs.y+Vr;Xe.push(Yo,Ao,di,0);const mo=Yo-di,Xa=Ao-di,js=Yo+di,ws=Ao+di;if(qt=qt&&this.isOffscreen(mo,Xa,js,ws),vi=vi||this.isInsideGrid(mo,Xa,js,ws),!u&&this.grid.hitTestCircle(Yo,Ao,di,$e)&&(Yt=!0,!Ce))return{circles:[],offscreen:!1,collisionDetected:Yt,occluded:!1}}}}return{circles:!Ce&&Yt||!vi?[]:Xe,offscreen:qt,collisionDetected:Yt,occluded:Nt.occluded}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const u=[];let x=1/0,D=1/0,B=-1/0,oe=-1/0;for(const Ce of a){const Re=new n.pointGeometry(Ce.x+Vr,Ce.y+Vr);x=Math.min(x,Re.x),D=Math.min(D,Re.y),B=Math.max(B,Re.x),oe=Math.max(oe,Re.y),u.push(Re)}const de=this.grid.query(x,D,B,oe).concat(this.ignoredGrid.query(x,D,B,oe)),ge={},ke={};for(const Ce of de){const Re=Ce.key;if(ge[Re.bucketInstanceId]===void 0&&(ge[Re.bucketInstanceId]={}),ge[Re.bucketInstanceId][Re.featureIndex])continue;const $e=[new n.pointGeometry(Ce.x1,Ce.y1),new n.pointGeometry(Ce.x2,Ce.y1),new n.pointGeometry(Ce.x2,Ce.y2),new n.pointGeometry(Ce.x1,Ce.y2)];n.polygonIntersectsPolygon(u,$e)&&(ge[Re.bucketInstanceId][Re.featureIndex]=!0,ke[Re.bucketInstanceId]===void 0&&(ke[Re.bucketInstanceId]=[]),ke[Re.bucketInstanceId].push(Re.featureIndex))}return ke}insertCollisionBox(a,u,x,D,B){(u?this.ignoredGrid:this.grid).insert({bucketInstanceId:x,featureIndex:D,collisionGroupID:B},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,u,x,D,B){const oe=u?this.ignoredGrid:this.grid,de={bucketInstanceId:x,featureIndex:D,collisionGroupID:B};for(let ge=0;ge<a.length;ge+=4)oe.insertCircle(de,a[ge],a[ge+1],a[ge+2])}projectAndGetPerspectiveRatio(a,u,x,D,B,oe,de){const ge=[u,x,D,1];let ke=!1;if(D||this.transform.pitch>0){n.transformMat4$1(ge,ge,a);const Re=de.name==="globe";this.fogState&&B&&!Re&&(ke=function(tt,it,rt,Xe,Ze,ht){const nt=ht.calculateFogTileMatrix(Ze),ft=[it,rt,Xe];return n.transformMat4(ft,ft,nt),j(tt,ft,ht.pitch,ht._fov)}(this.fogState,u,x,D,B.toUnwrapped(),this.transform)>.9)}else xs(ge,ge,a);const Ce=ge[3];return{point:new n.pointGeometry((ge[0]/Ce+1)/2*this.transform.width+Vr,(-ge[1]/Ce+1)/2*this.transform.height+Vr),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(de)/Ce*.5,1.5),signedDistanceFromCamera:Ce,occluded:oe&&ge[2]>Ce||ke}}isOffscreen(a,u,x,D){return x<Vr||a>=this.screenRightBoundary||D<Vr||u>this.screenBottomBoundary}isInsideGrid(a,u,x,D){return x>=0&&a<this.gridRightBoundary&&D>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const a=n.identity([]);return n.translate(a,a,[-100,-100,0]),a}}function Dl(_,a,u){const x=a.createTileMatrix(_,_.worldSize,u.toUnwrapped());return n.multiply(new Float32Array(16),_.projMatrix,x)}function oa(_,a,u){if(a.projection.name===u.projection.name)return _.projMatrix;const x=u.clone();return x.setProjection(a.projection),Dl(x,a.getProjection(),_)}function Il(_,a,u){return a.name===u.projection.name?_.projMatrix:Dl(u,a,_)}class rl{constructor(a,u,x,D){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?u:-u))):D&&x?1:0,this.placed=x}isHidden(){return this.opacity===0&&!this.placed}}class Va{constructor(a,u,x,D,B,oe=!1){this.text=new rl(a?a.text:null,u,x,B),this.icon=new rl(a?a.icon:null,u,D,B),this.clipped=oe}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ol{constructor(a,u,x,D=!1){this.text=a,this.icon=u,this.skipFade=x,this.clipped=D}}class Zc{constructor(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]}}class Kc{constructor(a,u,x,D,B){this.bucketInstanceId=a,this.featureIndex=u,this.sourceLayerIndex=x,this.bucketIndex=D,this.tileID=B}}class no{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const u=++this.maxGroupID;this.collisionGroups[a]={ID:u,predicate:x=>x.collisionGroupID===u}}return this.collisionGroups[a]}}function ir(_,a,u,x,D){const{horizontalAlign:B,verticalAlign:oe}=n.getAnchorAlignment(_),de=-(B-.5)*a,ge=-(oe-.5)*u,ke=n.evaluateVariableOffset(_,x);return new n.pointGeometry(de+ke[0]*D,ge+ke[1]*D)}function Ll(_,a,u,x,D){const B=new n.pointGeometry(_,a);return u&&B._rotate(x?D:-D),B}class cd{constructor(a,u,x,D,B){this.transform=a.clone(),this.projection=a.projection.name,this.collisionIndex=new Ga(this.transform,B),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=u,this.retainedQueryData={},this.collisionGroups=new no(x),this.collisionCircleArrays={},this.prevPlacement=D,D&&(D.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,u,x,D){const B=x.getBucket(u),oe=x.latestFeatureIndex;if(!B||!oe||u.id!==B.layerIds[0])return;const de=B.layers[0].layout,ge=x.collisionBoxArray,ke=Math.pow(2,this.transform.zoom-x.tileID.overscaledZ),Ce=x.tileSize/n.EXTENT,Re=x.tileID.toUnwrapped();this.transform.setProjection(B.projection);const $e=(tt=x.tileID,it=B.getProjection(),rt=this.transform,it.name===this.projection?rt.calculateProjMatrix(tt.toUnwrapped()):Dl(rt,it,tt));var tt,it,rt;const Xe=de.get("text-pitch-alignment")==="map",Ze=de.get("text-rotation-alignment")==="map";u.compileFilter();const ht=u.dynamicFilter(),nt=u.dynamicFilterNeedsFeature(),ft=this.transform.calculatePixelsToTileUnitsMatrix(x),Tt=Th($e,x.tileID.canonical,Xe,Ze,this.transform,B.getProjection(),ft);let gt=null;if(Xe){const Nt=ld($e,x.tileID.canonical,Xe,Ze,this.transform,B.getProjection(),ft);gt=n.multiply([],this.transform.labelPlaneMatrix,Nt)}let kt=null;ht&&x.latestFeatureIndex&&(kt={unwrappedTileID:Re,dynamicFilter:ht,dynamicFilterNeedsFeature:nt,featureIndex:x.latestFeatureIndex}),this.retainedQueryData[B.bucketInstanceId]=new Kc(B.bucketInstanceId,oe,B.sourceLayerIndex,B.index,x.tileID);const Wt={bucket:B,layout:de,posMatrix:$e,textLabelPlaneMatrix:Tt,labelToScreenMatrix:gt,clippingData:kt,scale:ke,textPixelRatio:Ce,holdingForFade:x.holdingForFade(),collisionBoxArray:ge,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(B.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:n.evaluateSizeForZoom(B.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(B.sourceID)};if(D)for(const Nt of B.sortKeyRanges){const{sortKey:Dt,symbolInstanceStart:pi,symbolInstanceEnd:Ft}=Nt;a.push({sortKey:Dt,symbolInstanceStart:pi,symbolInstanceEnd:Ft,parameters:Wt})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:B.symbolInstances.length,parameters:Wt})}attemptAnchorPlacement(a,u,x,D,B,oe,de,ge,ke,Ce,Re,$e,tt,it,rt,Xe,Ze,ht){const{textOffset0:nt,textOffset1:ft,crossTileID:Tt}=$e,gt=[nt,ft],kt=ir(a,x,D,gt,B),Wt=this.collisionIndex.placeCollisionBox(it,B,u,Ll(kt.x,kt.y,oe,de,this.transform.angle),Re,ge,ke,Ce.predicate);if(Xe){const Nt=it.getSymbolInstanceIconSize(ht,this.transform.zoom,$e.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(it,Nt,Xe,Ll(kt.x,kt.y,oe,de,this.transform.angle),Re,ge,ke,Ce.predicate).box.length===0)return}if(Wt.box.length>0){let Nt;return this.prevPlacement&&this.prevPlacement.variableOffsets[Tt]&&this.prevPlacement.placements[Tt]&&this.prevPlacement.placements[Tt].text&&(Nt=this.prevPlacement.variableOffsets[Tt].anchor),this.variableOffsets[Tt]={textOffset:gt,width:x,height:D,anchor:a,textScale:B,prevAnchor:Nt},this.markUsedJustification(it,a,$e,rt),it.allowVerticalPlacement&&(this.markUsedOrientation(it,rt,$e),this.placedOrientations[Tt]=rt),{shift:kt,placedGlyphBoxes:Wt}}}placeLayerBucketPart(a,u,x,D){const{bucket:B,layout:oe,posMatrix:de,textLabelPlaneMatrix:ge,labelToScreenMatrix:ke,clippingData:Ce,textPixelRatio:Re,holdingForFade:$e,collisionBoxArray:tt,partiallyEvaluatedTextSize:it,partiallyEvaluatedIconSize:rt,collisionGroup:Xe}=a.parameters,Ze=oe.get("text-optional"),ht=oe.get("icon-optional"),nt=oe.get("text-allow-overlap"),ft=oe.get("icon-allow-overlap"),Tt=oe.get("text-rotation-alignment")==="map",gt=oe.get("text-pitch-alignment")==="map",kt=oe.get("icon-text-fit")!=="none",Wt=oe.get("symbol-z-order")==="viewport-y";this.transform.setProjection(B.projection);let Nt=nt&&(ft||!B.hasIconData()||ht),Dt=ft&&(nt||!B.hasTextData()||Ze);!B.collisionArrays&&tt&&B.deserializeCollisionBoxes(tt),x&&D&&B.updateCollisionDebugBuffers(this.transform.zoom,tt);const pi=(Ft,ri,Yt)=>{const{crossTileID:vi,numVerticalGlyphVertices:qt}=Ft;if(Ce){const js={zoom:this.transform.zoom,pitch:this.transform.pitch};let ws=null;if(Ce.dynamicFilterNeedsFeature){const as=this.retainedQueryData[B.bucketInstanceId];ws=Ce.featureIndex.loadFeature({featureIndex:Ft.featureIndex,bucketIndex:as.bucketIndex,sourceLayerIndex:as.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Ce.dynamicFilter)(js,ws,this.retainedQueryData[B.bucketInstanceId].tileID.canonical,new n.pointGeometry(Ft.tileAnchorX,Ft.tileAnchorY),this.transform.calculateDistanceTileData(Ce.unwrappedTileID)))return this.placements[vi]=new ol(!1,!1,!1,!0),void(u[vi]=!0)}if(u[vi])return;if($e)return void(this.placements[vi]=new ol(!1,!1,!1));let di=!1,wi=!1,Rt=!0,Xt=!1,Hi=!1,nn=null,Wi={box:null,offscreen:null,occluded:null},fn={box:null,offscreen:null,occluded:null},Bn=null,rn=null,Vi=null,Es=0,ds=0,ks=0;Yt.textFeatureIndex?Es=Yt.textFeatureIndex:Ft.useRuntimeCollisionCircles&&(Es=Ft.featureIndex),Yt.verticalTextFeatureIndex&&(ds=Yt.verticalTextFeatureIndex);const bs=js=>{js.tileID=this.retainedQueryData[B.bucketInstanceId].tileID;const ws=this.transform.elevation;(ws||js.elevation)&&(js.elevation=ws?ws.getAtTileOffset(js.tileID,js.tileAnchorX,js.tileAnchorY):0)},Yo=Yt.textBox;if(Yo){bs(Yo);const js=as=>{let mr=n.WritingMode.horizontal;if(B.allowVerticalPlacement&&!as&&this.prevPlacement){const oo=this.prevPlacement.placedOrientations[vi];oo&&(this.placedOrientations[vi]=oo,mr=oo,this.markUsedOrientation(B,mr,Ft))}return mr},ws=(as,mr)=>{if(B.allowVerticalPlacement&&qt>0&&Yt.verticalTextBox){for(const oo of B.writingModes)if(oo===n.WritingMode.vertical?(Wi=mr(),fn=Wi):Wi=as(),Wi&&Wi.box&&Wi.box.length)break}else Wi=as()};if(oe.get("text-variable-anchor")){let as=oe.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[vi]){const Us=this.prevPlacement.variableOffsets[vi];as.indexOf(Us.anchor)>0&&(as=as.filter(go=>go!==Us.anchor),as.unshift(Us.anchor))}const mr=(Us,go,xd)=>{const Ya=B.getSymbolInstanceTextSize(it,Ft,this.transform.zoom,ri),ao=(Us.x2-Us.x1)*Ya+2*Us.padding,qo=(Us.y2-Us.y1)*Ya+2*Us.padding,pl=kt&&!ft?go:null;pl&&bs(pl);let Ta={box:[],offscreen:!1,occluded:!1};const jn=nt?2*as.length:as.length;for(let jh=0;jh<jn;++jh){const fl=this.attemptAnchorPlacement(as[jh%as.length],Us,ao,qo,Ya,Tt,gt,Re,de,Xe,jh>=as.length,Ft,ri,B,xd,pl,it,rt);if(fl&&(Ta=fl.placedGlyphBoxes,Ta&&Ta.box&&Ta.box.length)){di=!0,nn=fl.shift;break}}return Ta};ws(()=>mr(Yo,Yt.iconBox,n.WritingMode.horizontal),()=>{const Us=Yt.verticalTextBox;return Us&&bs(Us),B.allowVerticalPlacement&&!(Wi&&Wi.box&&Wi.box.length)&&qt>0&&Us?mr(Us,Yt.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Wi&&(di=Wi.box,Rt=Wi.offscreen,Xt=Wi.occluded);const oo=js(Wi&&Wi.box);if(!di&&this.prevPlacement){const Us=this.prevPlacement.variableOffsets[vi];Us&&(this.variableOffsets[vi]=Us,this.markUsedJustification(B,Us.anchor,Ft,oo))}}else{const as=(mr,oo)=>{const Us=B.getSymbolInstanceTextSize(it,Ft,this.transform.zoom,ri),go=this.collisionIndex.placeCollisionBox(B,Us,mr,new n.pointGeometry(0,0),nt,Re,de,Xe.predicate);return go&&go.box&&go.box.length&&(this.markUsedOrientation(B,oo,Ft),this.placedOrientations[vi]=oo),go};ws(()=>as(Yo,n.WritingMode.horizontal),()=>{const mr=Yt.verticalTextBox;return B.allowVerticalPlacement&&qt>0&&mr?(bs(mr),as(mr,n.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),js(Wi&&Wi.box&&Wi.box.length)}}if(Bn=Wi,di=Bn&&Bn.box&&Bn.box.length>0,Rt=Bn&&Bn.offscreen,Xt=Bn&&Bn.occluded,Ft.useRuntimeCollisionCircles){const js=B.text.placedSymbolArray.get(Ft.centerJustifiedTextSymbolIndex>=0?Ft.centerJustifiedTextSymbolIndex:Ft.verticalPlacedTextSymbolIndex),ws=n.evaluateSizeForFeature(B.textSizeData,it,js),as=oe.get("text-padding");rn=this.collisionIndex.placeCollisionCircles(B,nt,js,B.lineVertexArray,B.glyphOffsetArray,ws,de,ge,ke,x,gt,Xe.predicate,Ft.collisionCircleDiameter*ws/n.ONE_EM,as,this.retainedQueryData[B.bucketInstanceId].tileID),di=nt||rn.circles.length>0&&!rn.collisionDetected,Rt=Rt&&rn.offscreen,Xt=rn.occluded}if(Yt.iconFeatureIndex&&(ks=Yt.iconFeatureIndex),Yt.iconBox){const js=ws=>{bs(ws);const as=kt&&nn?Ll(nn.x,nn.y,Tt,gt,this.transform.angle):new n.pointGeometry(0,0),mr=B.getSymbolInstanceIconSize(rt,this.transform.zoom,Ft.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(B,mr,ws,as,ft,Re,de,Xe.predicate)};fn&&fn.box&&fn.box.length&&Yt.verticalIconBox?(Vi=js(Yt.verticalIconBox),wi=Vi.box.length>0):(Vi=js(Yt.iconBox),wi=Vi.box.length>0),Rt=Rt&&Vi.offscreen,Hi=Vi.occluded}const Ao=Ze||Ft.numHorizontalGlyphVertices===0&&qt===0,mo=ht||Ft.numIconVertices===0;if(Ao||mo?mo?Ao||(wi=wi&&di):di=wi&&di:wi=di=wi&&di,di&&Bn&&Bn.box&&this.collisionIndex.insertCollisionBox(Bn.box,oe.get("text-ignore-placement"),B.bucketInstanceId,fn&&fn.box&&ds?ds:Es,Xe.ID),wi&&Vi&&this.collisionIndex.insertCollisionBox(Vi.box,oe.get("icon-ignore-placement"),B.bucketInstanceId,ks,Xe.ID),rn&&(di&&this.collisionIndex.insertCollisionCircles(rn.circles,oe.get("text-ignore-placement"),B.bucketInstanceId,Es,Xe.ID),x)){const js=B.bucketInstanceId;let ws=this.collisionCircleArrays[js];ws===void 0&&(ws=this.collisionCircleArrays[js]=new Zc);for(let as=0;as<rn.circles.length;as+=4)ws.circles.push(rn.circles[as+0]),ws.circles.push(rn.circles[as+1]),ws.circles.push(rn.circles[as+2]),ws.circles.push(rn.collisionDetected?1:0)}const Xa=B.projection.name!=="globe";Nt=Nt&&(Xa||!Xt),Dt=Dt&&(Xa||!Hi),this.placements[vi]=new ol(di||Nt,wi||Dt,Rt||B.justReloaded),u[vi]=!0};if(Wt){const Ft=B.getSortedSymbolIndexes(this.transform.angle);for(let ri=Ft.length-1;ri>=0;--ri){const Yt=Ft[ri];pi(B.symbolInstances.get(Yt),Yt,B.collisionArrays[Yt])}}else for(let Ft=a.symbolInstanceStart;Ft<a.symbolInstanceEnd;Ft++)pi(B.symbolInstances.get(Ft),Ft,B.collisionArrays[Ft]);if(x&&B.bucketInstanceId in this.collisionCircleArrays){const Ft=this.collisionCircleArrays[B.bucketInstanceId];n.invert(Ft.invProjMatrix,de),Ft.viewportMatrix=this.collisionIndex.getViewportMatrix()}B.justReloaded=!1}markUsedJustification(a,u,x,D){const{leftJustifiedTextSymbolIndex:B,centerJustifiedTextSymbolIndex:oe,rightJustifiedTextSymbolIndex:de,verticalPlacedTextSymbolIndex:ge,crossTileID:ke}=x,Ce=n.getAnchorJustification(u),Re=D===n.WritingMode.vertical?ge:Ce==="left"?B:Ce==="center"?oe:Ce==="right"?de:-1;B>=0&&(a.text.placedSymbolArray.get(B).crossTileID=Re>=0&&B!==Re?0:ke),oe>=0&&(a.text.placedSymbolArray.get(oe).crossTileID=Re>=0&&oe!==Re?0:ke),de>=0&&(a.text.placedSymbolArray.get(de).crossTileID=Re>=0&&de!==Re?0:ke),ge>=0&&(a.text.placedSymbolArray.get(ge).crossTileID=Re>=0&&ge!==Re?0:ke)}markUsedOrientation(a,u,x){const D=u===n.WritingMode.horizontal||u===n.WritingMode.horizontalOnly?u:0,B=u===n.WritingMode.vertical?u:0,{leftJustifiedTextSymbolIndex:oe,centerJustifiedTextSymbolIndex:de,rightJustifiedTextSymbolIndex:ge,verticalPlacedTextSymbolIndex:ke}=x,Ce=a.text.placedSymbolArray;oe>=0&&(Ce.get(oe).placedOrientation=D),de>=0&&(Ce.get(de).placedOrientation=D),ge>=0&&(Ce.get(ge).placedOrientation=D),ke>=0&&(Ce.get(ke).placedOrientation=B)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let x=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const D=u?u.symbolFadeChange(a):1,B=u?u.opacities:{},oe=u?u.variableOffsets:{},de=u?u.placedOrientations:{};for(const ge in this.placements){const ke=this.placements[ge],Ce=B[ge];Ce?(this.opacities[ge]=new Va(Ce,D,ke.text,ke.icon,null,ke.clipped),x=x||ke.text!==Ce.text.placed||ke.icon!==Ce.icon.placed):(this.opacities[ge]=new Va(null,D,ke.text,ke.icon,ke.skipFade,ke.clipped),x=x||ke.text||ke.icon)}for(const ge in B){const ke=B[ge];if(!this.opacities[ge]){const Ce=new Va(ke,D,!1,!1);Ce.isHidden()||(this.opacities[ge]=Ce,x=x||ke.text.placed||ke.icon.placed)}}for(const ge in oe)this.variableOffsets[ge]||!this.opacities[ge]||this.opacities[ge].isHidden()||(this.variableOffsets[ge]=oe[ge]);for(const ge in de)this.placedOrientations[ge]||!this.opacities[ge]||this.opacities[ge].isHidden()||(this.placedOrientations[ge]=de[ge]);x?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:a)}updateLayerOpacities(a,u){const x={};for(const D of u){const B=D.getBucket(a);B&&D.latestFeatureIndex&&a.id===B.layerIds[0]&&this.updateBucketOpacities(B,x,D.collisionBoxArray)}}updateBucketOpacities(a,u,x){a.hasTextData()&&a.text.opacityVertexArray.clear(),a.hasIconData()&&a.icon.opacityVertexArray.clear(),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const D=a.layers[0].layout,B=!!a.layers[0].dynamicFilter(),oe=new Va(null,0,!1,!1,!0),de=D.get("text-allow-overlap"),ge=D.get("icon-allow-overlap"),ke=D.get("text-variable-anchor"),Ce=D.get("text-rotation-alignment")==="map",Re=D.get("text-pitch-alignment")==="map",$e=D.get("icon-text-fit")!=="none",tt=new Va(null,0,de&&(ge||!a.hasIconData()||D.get("icon-optional")),ge&&(de||!a.hasTextData()||D.get("text-optional")),!0);!a.collisionArrays&&x&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(x);const it=(Xe,Ze,ht)=>{for(let nt=0;nt<Ze/4;nt++)Xe.opacityVertexArray.emplaceBack(ht)};let rt=0;for(let Xe=0;Xe<a.symbolInstances.length;Xe++){const Ze=a.symbolInstances.get(Xe),{numHorizontalGlyphVertices:ht,numVerticalGlyphVertices:nt,crossTileID:ft,numIconVertices:Tt}=Ze;let gt=this.opacities[ft];u[ft]?gt=oe:gt||(gt=tt,this.opacities[ft]=gt),u[ft]=!0;const kt=ht>0||nt>0,Wt=Tt>0,Nt=this.placedOrientations[ft],Dt=Nt===n.WritingMode.vertical,pi=Nt===n.WritingMode.horizontal||Nt===n.WritingMode.horizontalOnly;if(!kt&&!Wt||gt.isHidden()||rt++,kt){const Ft=Er(gt.text);it(a.text,ht,Dt?al:Ft),it(a.text,nt,pi?al:Ft);const ri=gt.text.isHidden(),{leftJustifiedTextSymbolIndex:Yt,centerJustifiedTextSymbolIndex:vi,rightJustifiedTextSymbolIndex:qt,verticalPlacedTextSymbolIndex:di}=Ze,wi=a.text.placedSymbolArray,Rt=ri||Dt?1:0;Yt>=0&&(wi.get(Yt).hidden=Rt),vi>=0&&(wi.get(vi).hidden=Rt),qt>=0&&(wi.get(qt).hidden=Rt),di>=0&&(wi.get(di).hidden=ri||pi?1:0);const Xt=this.variableOffsets[ft];Xt&&this.markUsedJustification(a,Xt.anchor,Ze,Nt);const Hi=this.placedOrientations[ft];Hi&&(this.markUsedJustification(a,"left",Ze,Hi),this.markUsedOrientation(a,Hi,Ze))}if(Wt){const Ft=Er(gt.icon),{placedIconSymbolIndex:ri,verticalPlacedIconSymbolIndex:Yt}=Ze,vi=a.icon.placedSymbolArray,qt=gt.icon.isHidden()?1:0;ri>=0&&(it(a.icon,Tt,Dt?al:Ft),vi.get(ri).hidden=qt),Yt>=0&&(it(a.icon,Ze.numVerticalIconVertices,pi?al:Ft),vi.get(Yt).hidden=qt)}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const Ft=a.collisionArrays[Xe];if(Ft){let ri=new n.pointGeometry(0,0),Yt=!0;if(Ft.textBox||Ft.verticalTextBox){if(ke){const qt=this.variableOffsets[ft];qt?(ri=ir(qt.anchor,qt.width,qt.height,qt.textOffset,qt.textScale),Ce&&ri._rotate(Re?this.transform.angle:-this.transform.angle)):Yt=!1}B&&(Yt=!gt.clipped),Ft.textBox&&Rr(a.textCollisionBox.collisionVertexArray,gt.text.placed,!Yt||Dt,ri.x,ri.y),Ft.verticalTextBox&&Rr(a.textCollisionBox.collisionVertexArray,gt.text.placed,!Yt||pi,ri.x,ri.y)}const vi=Yt&&Boolean(!pi&&Ft.verticalIconBox);Ft.iconBox&&Rr(a.iconCollisionBox.collisionVertexArray,gt.icon.placed,vi,$e?ri.x:0,$e?ri.y:0),Ft.verticalIconBox&&Rr(a.iconCollisionBox.collisionVertexArray,gt.icon.placed,!vi,$e?ri.x:0,$e?ri.y:0)}}}if(a.fullyClipped=rt===0,a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.bucketInstanceId in this.collisionCircleArrays){const Xe=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=Xe.invProjMatrix,a.placementViewportMatrix=Xe.viewportMatrix,a.collisionCircleArray=Xe.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,u){const x=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*x>a}setStale(){this.stale=!0}}function Rr(_,a,u,x,D){_.emplaceBack(a?1:0,u?1:0,x||0,D||0),_.emplaceBack(a?1:0,u?1:0,x||0,D||0),_.emplaceBack(a?1:0,u?1:0,x||0,D||0),_.emplaceBack(a?1:0,u?1:0,x||0,D||0)}const $o=Math.pow(2,25),lu=Math.pow(2,24),Sh=Math.pow(2,17),yr=Math.pow(2,16),Ol=Math.pow(2,9),Eh=Math.pow(2,8),Rl=Math.pow(2,1);function Er(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const a=_.placed?1:0,u=Math.floor(127*_.opacity);return u*$o+a*lu+u*Sh+a*yr+u*Ol+a*Eh+u*Rl+a}const al=0;class Ch{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&a.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,u,x,D,B){const oe=this._bucketParts;for(;this._currentTileIndex<a.length;)if(u.getBucketParts(oe,D,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,B())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,oe.sort((de,ge)=>de.sortKey-ge.sortKey));this._currentPartIndex<oe.length;){const de=oe[this._currentPartIndex];if(u.placeLayerBucketPart(de,this._seenCrossTileIDs,x,de.symbolInstanceStart===0),this._currentPartIndex++,B())return!0}return!1}}class rs{constructor(a,u,x,D,B,oe,de,ge){this.placement=new cd(a,B,oe,de,ge),this._currentPlacementIndex=u.length-1,this._forceFullPlacement=x,this._showCollisionBoxes=D,this._done=!1}isDone(){return this._done}continuePlacement(a,u,x){const D=n.exported.now(),B=()=>{const oe=n.exported.now()-D;return!this._forceFullPlacement&&oe>2};for(;this._currentPlacementIndex>=0;){const oe=u[a[this._currentPlacementIndex]],de=this.placement.collisionIndex.transform.zoom;if(oe.type==="symbol"&&(!oe.minzoom||oe.minzoom<=de)&&(!oe.maxzoom||oe.maxzoom>de)){if(this._inProgressLayer||(this._inProgressLayer=new Ch(oe)),this._inProgressLayer.continuePlacement(x[oe.source],this.placement,this._showCollisionBoxes,oe,B))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const fs=512/n.EXTENT/2;class Mh{constructor(a,u,x){this.tileID=a,this.indexedSymbolInstances={},this.bucketInstanceId=x;for(let D=0;D<u.length;D++){const B=u.get(D),oe=B.key;this.indexedSymbolInstances[oe]||(this.indexedSymbolInstances[oe]=[]),this.indexedSymbolInstances[oe].push({crossTileID:B.crossTileID,coord:this.getScaledCoordinates(B,a)})}}getScaledCoordinates(a,u){const x=fs/Math.pow(2,u.canonical.z-this.tileID.canonical.z);return{x:Math.floor((u.canonical.x*n.EXTENT+a.tileAnchorX)*x),y:Math.floor((u.canonical.y*n.EXTENT+a.tileAnchorY)*x)}}findMatches(a,u,x){const D=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let B=0;B<a.length;B++){const oe=a.get(B);if(oe.crossTileID)continue;const de=this.indexedSymbolInstances[oe.key];if(!de)continue;const ge=this.getScaledCoordinates(oe,u);for(const ke of de)if(Math.abs(ke.coord.x-ge.x)<=D&&Math.abs(ke.coord.y-ge.y)<=D&&!x[ke.crossTileID]){x[ke.crossTileID]=!0,oe.crossTileID=ke.crossTileID;break}}}}class xp{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class hd{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const u=Math.round((a-this.lng)/360);if(u!==0)for(const x in this.indexes){const D=this.indexes[x],B={};for(const oe in D){const de=D[oe];de.tileID=de.tileID.unwrapTo(de.tileID.wrap+u),B[de.tileID.key]=de}this.indexes[x]=B}this.lng=a}addBucket(a,u,x){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let B=0;B<u.symbolInstances.length;B++)u.symbolInstances.get(B).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const D=this.usedCrossTileIDs[a.overscaledZ];for(const B in this.indexes){const oe=this.indexes[B];if(Number(B)>a.overscaledZ)for(const de in oe){const ge=oe[de];ge.tileID.isChildOf(a)&&ge.findMatches(u.symbolInstances,a,D)}else{const de=oe[a.scaledTo(Number(B)).key];de&&de.findMatches(u.symbolInstances,a,D)}}for(let B=0;B<u.symbolInstances.length;B++){const oe=u.symbolInstances.get(B);oe.crossTileID||(oe.crossTileID=x.generate(),D[oe.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Mh(a,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(a,u){for(const x in u.indexedSymbolInstances)for(const D of u.indexedSymbolInstances[x])delete this.usedCrossTileIDs[a][D.crossTileID]}removeStaleBuckets(a){let u=!1;for(const x in this.indexes){const D=this.indexes[x];for(const B in D)a[D[B].bucketInstanceId]||(this.removeBucketCrossTileIDs(x,D[B]),delete D[B],u=!0)}return u}}class aa{constructor(){this.layerIndexes={},this.crossTileIDs=new xp,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,u,x,D){let B=this.layerIndexes[a.id];B===void 0&&(B=this.layerIndexes[a.id]=new hd);let oe=!1;const de={};D.name!=="globe"&&B.handleWrapJump(x);for(const ge of u){const ke=ge.getBucket(a);ke&&a.id===ke.layerIds[0]&&(ke.bucketInstanceId||(ke.bucketInstanceId=++this.maxBucketInstanceId),B.addBucket(ge.tileID,ke,this.crossTileIDs)&&(oe=!0),de[ke.bucketInstanceId]=!0)}return B.removeStaleBuckets(de)&&(oe=!0),oe}pruneUnusedLayers(a){const u={};a.forEach(x=>{u[x]=!0});for(const x in this.layerIndexes)u[x]||delete this.layerIndexes[x]}}const Jc=(_,a)=>n.emitValidationErrors(_,a&&a.filter(u=>u.identifier!=="source.canvas")),Ah=n.pick(Qi,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Bl=n.pick(Qi,["setCenter","setZoom","setBearing","setPitch"]),ll={version:8,layers:[],sources:{}},vr={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class U extends n.Evented{constructor(a,u={}){super(),this.map=a,this.dispatcher=new ve(dn(),this),this.imageManager=new X,this.imageManager.setEventedParent(this),this.glyphManager=new n.GlyphManager(a._requestManager,u.localFontFamily?n.LocalGlyphMode.all:u.localIdeographFontFamily?n.LocalGlyphMode.ideographs:n.LocalGlyphMode.none,u.localFontFamily||u.localIdeographFontFamily),this.crossTileSymbolIndex=new aa,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());const x=this;this._rtlTextPluginCallback=U.registerForPluginStateChange(D=>{x.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:D.pluginStatus,pluginURL:D.pluginURL},(B,oe)=>{if(n.triggerPluginCompletionEvent(B),oe&&oe.every(de=>de))for(const de in x._sourceCaches){const ge=x._sourceCaches[de],ke=ge.getSource().type;ke!=="vector"&&ke!=="geojson"||ge.reload()}})}),this.on("data",D=>{if(D.dataType!=="source"||D.sourceDataType!=="metadata")return;const B=this.getSource(D.sourceId);if(B&&B.vectorLayerIds)for(const oe in this._layers){const de=this._layers[oe];de.source===B.id&&this._validateLayer(de)}})}loadURL(a,u={}){this.fire(new n.Event("dataloading",{dataType:"style"}));const x=typeof u.validate=="boolean"?u.validate:!n.isMapboxURL(a);a=this.map._requestManager.normalizeStyleURL(a,u.accessToken);const D=this.map._requestManager.transformRequest(a,n.ResourceType.Style);this._request=n.getJSON(D,(B,oe)=>{this._request=null,B?this.fire(new n.ErrorEvent(B)):oe&&this._load(oe,x)})}loadJSON(a,u={}){this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.exported.frame(()=>{this._request=null,this._load(a,u.validate!==!1)})}loadEmpty(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(ll,!1)}_updateLayerCount(a,u){const x=u?1:-1;a.is3D()&&(this._num3DLayers+=x),a.type==="circle"&&(this._numCircleLayers+=x),a.type==="symbol"&&(this._numSymbolLayers+=x)}_load(a,u){if(u&&Jc(this,n.validateStyle(a)))return;this._loaded=!0,this.stylesheet=n.clone$1(a),this._updateMapProjection();for(const D in a.sources)this.addSource(D,a.sources[D],{validate:!1});this._changed=!1,a.sprite?this._loadSprite(a.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(a.glyphs);const x=is(this.stylesheet.layers);this._order=x.map(D=>D.id),this._layers={},this._serializedLayers={};for(let D of x)D=n.createStyleLayer(D),D.setEventedParent(this,{layer:{id:D.id}}),this._layers[D.id]=D,this._serializedLayers[D.id]=D.serialize(),this._updateLayerCount(D,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new f(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(a){a?this.stylesheet.projection=a:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(a){this._spriteRequest=function(u,x,D){let B,oe,de;const ge=n.exported.devicePixelRatio>1?"@2x":"";let ke=n.getJSON(x.transformRequest(x.normalizeSpriteURL(u,ge,".json"),n.ResourceType.SpriteJSON),($e,tt)=>{ke=null,de||(de=$e,B=tt,Re())}),Ce=n.getImage(x.transformRequest(x.normalizeSpriteURL(u,ge,".png"),n.ResourceType.SpriteImage),($e,tt)=>{Ce=null,de||(de=$e,oe=tt,Re())});function Re(){if(de)D(de);else if(B&&oe){const $e=n.exported.getImageData(oe),tt={};for(const it in B){const{width:rt,height:Xe,x:Ze,y:ht,sdf:nt,pixelRatio:ft,stretchX:Tt,stretchY:gt,content:kt}=B[it],Wt=new n.RGBAImage({width:rt,height:Xe});n.RGBAImage.copy($e,Wt,{x:Ze,y:ht},{x:0,y:0},{width:rt,height:Xe}),tt[it]={data:Wt,pixelRatio:ft,sdf:nt,stretchX:Tt,stretchY:gt,content:kt}}D(null,tt)}}return{cancel(){ke&&(ke.cancel(),ke=null),Ce&&(Ce.cancel(),Ce=null)}}}(a,this.map._requestManager,(u,x)=>{if(this._spriteRequest=null,u)this.fire(new n.ErrorEvent(u));else if(x)for(const D in x)this.imageManager.addImage(D,x[D]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new n.Event("data",{dataType:"style"}))})}_validateLayer(a){const u=this.getSource(a.source);if(!u)return;const x=a.sourceLayer;x&&(u.type==="geojson"||u.vectorLayerIds&&u.vectorLayerIds.indexOf(x)===-1)&&this.fire(new n.ErrorEvent(new Error(`Source layer "${x}" does not exist on source "${u.id}" as specified by style layer "${a.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this._sourceCaches)if(!this._sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(a){const u=[];for(const x of a){const D=this._layers[x];D.type!=="custom"&&u.push(D.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const a in this._sourceCaches)if(this._sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(a){return!!this.terrain&&vr[a.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(a){if(!this._loaded)return;const u=this._changed;if(this._changed){const D=Object.keys(this._updatedLayers),B=Object.keys(this._removedLayers);(D.length||B.length)&&this._updateWorkerLayers(D,B);for(const oe in this._updatedSources){const de=this._updatedSources[oe];de==="reload"?this._reloadSource(oe):de==="clear"&&this._clearSource(oe)}this._updateTilesForChangedImages();for(const oe in this._updatedPaintProps)this._layers[oe].updateTransitions(a);this.light.updateTransitions(a),this.fog&&this.fog.updateTransitions(a),this._resetUpdates()}const x={};for(const D in this._sourceCaches){const B=this._sourceCaches[D];x[D]=B.used,B.used=!1}for(const D of this._order){const B=this._layers[D];if(B.recalculate(a,this._availableImages),!B.isHidden(a.zoom)){const de=this._getLayerSourceCache(B);de&&(de.used=!0)}const oe=this.map.painter;if(oe){const de=B.getProgramIds();if(!de)continue;const ge=B.getProgramConfiguration(a.zoom);for(const ke of de)oe.useProgram(ke,ge)}}for(const D in x){const B=this._sourceCaches[D];x[D]!==B.used&&B.getSource().fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:B.getSource().id}))}this.light.recalculate(a),this.terrain&&this.terrain.recalculate(a),this.fog&&this.fog.recalculate(a),this.z=a.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),u&&this.fire(new n.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const u in this._sourceCaches)this._sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateWorkerLayers(a,u){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(a),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(a){if(this._checkLoaded(),Jc(this,n.validateStyle(a)))return!1;(a=n.clone$1(a)).layers=is(a.layers);const u=function(D,B){if(!D)return[{command:Qi.setStyle,args:[B]}];let oe=[];try{if(!w(D.version,B.version))return[{command:Qi.setStyle,args:[B]}];w(D.center,B.center)||oe.push({command:Qi.setCenter,args:[B.center]}),w(D.zoom,B.zoom)||oe.push({command:Qi.setZoom,args:[B.zoom]}),w(D.bearing,B.bearing)||oe.push({command:Qi.setBearing,args:[B.bearing]}),w(D.pitch,B.pitch)||oe.push({command:Qi.setPitch,args:[B.pitch]}),w(D.sprite,B.sprite)||oe.push({command:Qi.setSprite,args:[B.sprite]}),w(D.glyphs,B.glyphs)||oe.push({command:Qi.setGlyphs,args:[B.glyphs]}),w(D.transition,B.transition)||oe.push({command:Qi.setTransition,args:[B.transition]}),w(D.light,B.light)||oe.push({command:Qi.setLight,args:[B.light]}),w(D.fog,B.fog)||oe.push({command:Qi.setFog,args:[B.fog]}),w(D.projection,B.projection)||oe.push({command:Qi.setProjection,args:[B.projection]});const de={},ge=[];(function(Re,$e,tt,it){let rt;for(rt in $e=$e||{},Re=Re||{})Re.hasOwnProperty(rt)&&($e.hasOwnProperty(rt)||cs(rt,tt,it));for(rt in $e)$e.hasOwnProperty(rt)&&(Re.hasOwnProperty(rt)?w(Re[rt],$e[rt])||(Re[rt].type==="geojson"&&$e[rt].type==="geojson"&&sl(Re,$e,rt)?tt.push({command:Qi.setGeoJSONSourceData,args:[rt,$e[rt].data]}):ya(rt,$e,tt,it)):Ss(rt,$e,tt))})(D.sources,B.sources,ge,de);const ke=[];D.layers&&D.layers.forEach(Re=>{Re.source&&de[Re.source]?oe.push({command:Qi.removeLayer,args:[Re.id]}):ke.push(Re)});let Ce=D.terrain;Ce&&de[Ce.source]&&(oe.push({command:Qi.setTerrain,args:[void 0]}),Ce=void 0),oe=oe.concat(ge),w(Ce,B.terrain)||oe.push({command:Qi.setTerrain,args:[B.terrain]}),function(Re,$e,tt){$e=$e||[];const it=(Re=Re||[]).map(ni),rt=$e.map(ni),Xe=Re.reduce(Go,{}),Ze=$e.reduce(Go,{}),ht=it.slice(),nt=Object.create(null);let ft,Tt,gt,kt,Wt,Nt,Dt;for(ft=0,Tt=0;ft<it.length;ft++)gt=it[ft],Ze.hasOwnProperty(gt)?Tt++:(tt.push({command:Qi.removeLayer,args:[gt]}),ht.splice(ht.indexOf(gt,Tt),1));for(ft=0,Tt=0;ft<rt.length;ft++)gt=rt[rt.length-1-ft],ht[ht.length-1-ft]!==gt&&(Xe.hasOwnProperty(gt)?(tt.push({command:Qi.removeLayer,args:[gt]}),ht.splice(ht.lastIndexOf(gt,ht.length-Tt),1)):Tt++,Nt=ht[ht.length-ft],tt.push({command:Qi.addLayer,args:[Ze[gt],Nt]}),ht.splice(ht.length-ft,0,gt),nt[gt]=!0);for(ft=0;ft<rt.length;ft++)if(gt=rt[ft],kt=Xe[gt],Wt=Ze[gt],!nt[gt]&&!w(kt,Wt))if(w(kt.source,Wt.source)&&w(kt["source-layer"],Wt["source-layer"])&&w(kt.type,Wt.type)){for(Dt in To(kt.layout,Wt.layout,tt,gt,null,Qi.setLayoutProperty),To(kt.paint,Wt.paint,tt,gt,null,Qi.setPaintProperty),w(kt.filter,Wt.filter)||tt.push({command:Qi.setFilter,args:[gt,Wt.filter]}),w(kt.minzoom,Wt.minzoom)&&w(kt.maxzoom,Wt.maxzoom)||tt.push({command:Qi.setLayerZoomRange,args:[gt,Wt.minzoom,Wt.maxzoom]}),kt)kt.hasOwnProperty(Dt)&&Dt!=="layout"&&Dt!=="paint"&&Dt!=="filter"&&Dt!=="metadata"&&Dt!=="minzoom"&&Dt!=="maxzoom"&&(Dt.indexOf("paint.")===0?To(kt[Dt],Wt[Dt],tt,gt,Dt.slice(6),Qi.setPaintProperty):w(kt[Dt],Wt[Dt])||tt.push({command:Qi.setLayerProperty,args:[gt,Dt,Wt[Dt]]}));for(Dt in Wt)Wt.hasOwnProperty(Dt)&&!kt.hasOwnProperty(Dt)&&Dt!=="layout"&&Dt!=="paint"&&Dt!=="filter"&&Dt!=="metadata"&&Dt!=="minzoom"&&Dt!=="maxzoom"&&(Dt.indexOf("paint.")===0?To(kt[Dt],Wt[Dt],tt,gt,Dt.slice(6),Qi.setPaintProperty):w(kt[Dt],Wt[Dt])||tt.push({command:Qi.setLayerProperty,args:[gt,Dt,Wt[Dt]]}))}else tt.push({command:Qi.removeLayer,args:[gt]}),Nt=ht[ht.lastIndexOf(gt)+1],tt.push({command:Qi.addLayer,args:[Wt,Nt]})}(ke,B.layers,oe)}catch(de){console.warn("Unable to compute style diff:",de),oe=[{command:Qi.setStyle,args:[B]}]}return oe}(this.serialize(),a).filter(D=>!(D.command in Bl));if(u.length===0)return!1;const x=u.filter(D=>!(D.command in Ah));if(x.length>0)throw new Error(`Unimplemented: ${x.map(D=>D.command).join(", ")}.`);return u.forEach(D=>{D.command!=="setTransition"&&D.command!=="setProjection"&&this[D.command].apply(this,D.args)}),this.stylesheet=a,this._updateMapProjection(),!0}addImage(a,u){return this.getImage(a)?this.fire(new n.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(a,u),this._afterImageUpdated(a),this)}updateImage(a,u){this.imageManager.updateImage(a,u)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){return this.getImage(a)?(this.imageManager.removeImage(a),this._afterImageUpdated(a),this):this.fire(new n.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(a,u,x={}){if(this._checkLoaded(),this.getSource(a)!==void 0)throw new Error("There is already a source with this ID");if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(n.validateSource,`sources.${a}`,u,null,x))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const D=Bt(a,u,this.dispatcher,this);D.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(a),source:D.serialize(),sourceId:a}));const B=oe=>{const de=(oe?"symbol:":"other:")+a,ge=this._sourceCaches[de]=new n.SourceCache(de,D,oe);(oe?this._symbolSourceCaches:this._otherSourceCaches)[a]=ge,ge.style=this,ge.onAdd(this.map)};B(!1),u.type!=="vector"&&u.type!=="geojson"||B(!0),D.onAdd&&D.onAdd(this.map),this._changed=!0}removeSource(a){this._checkLoaded();const u=this.getSource(a);if(!u)throw new Error("There is no source with this ID");for(const D in this._layers)if(this._layers[D].source===a)return this.fire(new n.ErrorEvent(new Error(`Source "${a}" cannot be removed while layer "${D}" is using it.`)));if(this.terrain&&this.terrain.get().source===a)return this.fire(new n.ErrorEvent(new Error(`Source "${a}" cannot be removed while terrain is using it.`)));const x=this._getSourceCaches(a);for(const D of x)delete this._sourceCaches[D.id],delete this._updatedSources[D.id],D.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:D.getSource().id})),D.setEventedParent(null),D.clearTiles();return delete this._otherSourceCaches[a],delete this._symbolSourceCaches[a],u.setEventedParent(null),u.onRemove&&u.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(a,u){this._checkLoaded(),this.getSource(a).setData(u),this._changed=!0}getSource(a){const u=this._getSourceCache(a);return u&&u.getSource()}_getSources(){const a=[];for(const u in this._otherSourceCaches){const x=this._getSourceCache(u);x&&a.push(x.getSource())}return a}addLayer(a,u,x={}){this._checkLoaded();const D=a.id;if(this.getLayer(D))return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${D}" already exists on this map`)));let B;if(a.type==="custom"){if(Jc(this,n.validateCustomStyleLayer(a)))return;B=n.createStyleLayer(a)}else{if(typeof a.source=="object"&&(this.addSource(D,a.source),a=n.clone$1(a),a=n.extend(a,{source:D})),this._validate(n.validateLayer,`layers.${D}`,a,{arrayIndex:-1},x))return;B=n.createStyleLayer(a),this._validateLayer(B),B.setEventedParent(this,{layer:{id:D}}),this._serializedLayers[B.id]=B.serialize(),this._updateLayerCount(B,!0)}const oe=u?this._order.indexOf(u):this._order.length;if(u&&oe===-1)return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`)));this._order.splice(oe,0,D),this._layerOrderChanged=!0,this._layers[D]=B;const de=this._getLayerSourceCache(B);if(this._removedLayers[D]&&B.source&&de&&B.type!=="custom"){const ge=this._removedLayers[D];delete this._removedLayers[D],ge.type!==B.type?this._updatedSources[B.source]="clear":(this._updatedSources[B.source]="reload",de.pause())}this._updateLayer(B),B.onAdd&&B.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(a,u){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===u)return;const x=this._order.indexOf(a);this._order.splice(x,1);const D=u?this._order.indexOf(u):this._order.length;u&&D===-1?this.fire(new n.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`))):(this._order.splice(D,0,a),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(a){this._checkLoaded();const u=this._layers[a];if(!u)return void this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be removed.`)));u.setEventedParent(null),this._updateLayerCount(u,!1);const x=this._order.indexOf(a);this._order.splice(x,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=u,delete this._layers[a],delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],u.onRemove&&u.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(a){return this._layers[a]}hasLayer(a){return a in this._layers}hasLayerType(a){for(const u in this._layers)if(this._layers[u].type===a)return!0;return!1}setLayerZoomRange(a,u,x){this._checkLoaded();const D=this.getLayer(a);D?D.minzoom===u&&D.maxzoom===x||(u!=null&&(D.minzoom=u),x!=null&&(D.maxzoom=x),this._updateLayer(D)):this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(a,u,x={}){this._checkLoaded();const D=this.getLayer(a);if(D){if(!w(D.filter,u))return u==null?(D.filter=void 0,void this._updateLayer(D)):void(this._validate(n.validateFilter,`layers.${D.id}.filter`,u,{layerType:D.type},x)||(D.filter=n.clone$1(u),this._updateLayer(D)))}else this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be filtered.`)))}getFilter(a){const u=this.getLayer(a);return u&&n.clone$1(u.filter)}setLayoutProperty(a,u,x,D={}){this._checkLoaded();const B=this.getLayer(a);B?w(B.getLayoutProperty(u),x)||(B.setLayoutProperty(u,x,D),this._updateLayer(B)):this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(a,u){const x=this.getLayer(a);if(x)return x.getLayoutProperty(u);this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style.`)))}setPaintProperty(a,u,x,D={}){this._checkLoaded();const B=this.getLayer(a);B?w(B.getPaintProperty(u),x)||(B.setPaintProperty(u,x,D)&&this._updateLayer(B),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(a,u){const x=this.getLayer(a);return x&&x.getPaintProperty(u)}setFeatureState(a,u){this._checkLoaded();const x=a.source,D=a.sourceLayer,B=this.getSource(x);if(!B)return void this.fire(new n.ErrorEvent(new Error(`The source '${x}' does not exist in the map's style.`)));const oe=B.type;if(oe==="geojson"&&D)return void this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(oe==="vector"&&!D)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));a.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided.")));const de=this._getSourceCaches(x);for(const ge of de)ge.setFeatureState(D,a.id,u)}removeFeatureState(a,u){this._checkLoaded();const x=a.source,D=this.getSource(x);if(!D)return void this.fire(new n.ErrorEvent(new Error(`The source '${x}' does not exist in the map's style.`)));const B=D.type,oe=B==="vector"?a.sourceLayer:void 0;if(B==="vector"&&!oe)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(u&&typeof a.id!="string"&&typeof a.id!="number")return void this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const de=this._getSourceCaches(x);for(const ge of de)ge.removeFeatureState(oe,a.id,u)}getFeatureState(a){this._checkLoaded();const u=a.source,x=a.sourceLayer,D=this.getSource(u);if(D){if(D.type!=="vector"||x)return a.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(u)[0].getFeatureState(x,a.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const a={};for(const u in this._sourceCaches){const x=this._sourceCaches[u].getSource();a[x.id]||(a[x.id]=x.serialize())}return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:a,layers:this._serializeLayers(this._order)},u=>u!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0;const u=this._getLayerSourceCache(a);a.source&&!this._updatedSources[a.source]&&u&&u.getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",u.pause()),this._changed=!0,a.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(a){const u=oe=>this._layers[oe].type==="fill-extrusion",x={},D=[];for(let oe=this._order.length-1;oe>=0;oe--){const de=this._order[oe];if(u(de)){x[de]=oe;for(const ge of a){const ke=ge[de];if(ke)for(const Ce of ke)D.push(Ce)}}}D.sort((oe,de)=>de.intersectionZ-oe.intersectionZ);const B=[];for(let oe=this._order.length-1;oe>=0;oe--){const de=this._order[oe];if(u(de))for(let ge=D.length-1;ge>=0;ge--){const ke=D[ge].feature;if(x[ke.layer.id]<oe)break;B.push(ke),D.pop()}else for(const ge of a){const ke=ge[de];if(ke)for(const Ce of ke)B.push(Ce.feature)}}return B}queryRenderedFeatures(a,u,x){u&&u.filter&&this._validate(n.validateFilter,"queryRenderedFeatures.filter",u.filter,null,u);const D={};if(u&&u.layers){if(!Array.isArray(u.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const ge of u.layers){const ke=this._layers[ge];if(!ke)return this.fire(new n.ErrorEvent(new Error(`The layer '${ge}' does not exist in the map's style and cannot be queried for features.`))),[];D[ke.source]=!0}}const B=[];u.availableImages=this._availableImages;const oe=u&&u.layers?u.layers.some(ge=>{const ke=this.getLayer(ge);return ke&&ke.is3D()}):this.has3DLayers(),de=se.createFromScreenPoints(a,x);for(const ge in this._sourceCaches){const ke=this._sourceCaches[ge].getSource().id;u.layers&&!D[ke]||B.push(jt(this._sourceCaches[ge],this._layers,this._serializedLayers,de,u,x,oe,!!this.map._showQueryGeometry))}return this.placement&&B.push(function(ge,ke,Ce,Re,$e,tt,it){const rt={},Xe=tt.queryRenderedSymbols(Re),Ze=[];for(const ht of Object.keys(Xe).map(Number))Ze.push(it[ht]);Ze.sort(Bi);for(const ht of Ze){const nt=ht.featureIndex.lookupSymbolFeatures(Xe[ht.bucketInstanceId],ke,ht.bucketIndex,ht.sourceLayerIndex,$e.filter,$e.layers,$e.availableImages,ge);for(const ft in nt){const Tt=rt[ft]=rt[ft]||[],gt=nt[ft];gt.sort((kt,Wt)=>{const Nt=ht.featureSortOrder;if(Nt){const Dt=Nt.indexOf(kt.featureIndex);return Nt.indexOf(Wt.featureIndex)-Dt}return Wt.featureIndex-kt.featureIndex});for(const kt of gt)Tt.push(kt)}}for(const ht in rt)rt[ht].forEach(nt=>{const ft=nt.feature,Tt=Ce(ge[ht]).getFeatureState(ft.layer["source-layer"],ft.id);ft.source=ft.layer.source,ft.layer["source-layer"]&&(ft.sourceLayer=ft.layer["source-layer"]),ft.state=Tt});return rt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),de.screenGeometry,u,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(B)}querySourceFeatures(a,u){u&&u.filter&&this._validate(n.validateFilter,"querySourceFeatures.filter",u.filter,null,u);const x=this._getSourceCaches(a);let D=[];for(const B of x)D=D.concat(li(B,u));return D}addSourceType(a,u,x){return U.getSourceType(a)?x(new Error(`A source type called "${a}" already exists.`)):(U.setSourceType(a,u),u.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:u.workerSourceURL},x):x(null,null))}getLight(){return this.light.getLight()}setLight(a,u={}){this._checkLoaded();const x=this.light.getLight();let D=!1;for(const oe in a)if(!w(a[oe],x[oe])){D=!0;break}if(!D)return;const B=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(a,u),this.light.updateTransitions(B)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(a,u=1){if(this._checkLoaded(),!a)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(u===1){if(typeof a.source=="object"){const x="terrain-dem-src";this.addSource(x,a.source),a=n.clone$1(a),a=n.extend(a,{source:x})}if(this._validate(n.validateTerrain,"terrain",a))return}if(!this.terrain||this.terrain&&u!==this.terrain.drapeRenderMode)this._createTerrain(a,u);else{const x=this.terrain,D=x.get();for(const B of Object.keys(n.spec.terrain))!a.hasOwnProperty(B)&&n.spec.terrain[B].default&&(a[B]=n.spec.terrain[B].default);for(const B in a)if(!w(a[B],D[B])){x.set(a),this.stylesheet.terrain=a;const oe=this._setTransitionParameters({duration:0});x.updateTransitions(oe);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(a){const u=this.fog=new ue(a,this.map.transform);this.stylesheet.fog=a;const x=this._setTransitionParameters({duration:0});u.updateTransitions(x)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const a of this.map._markers)a._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(a){if(this._checkLoaded(),!a)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const u=this.fog,x=u.get();Object.keys(a).length===0&&u.set(a);for(const D in a)if(!w(a[D],x[D])){u.set(a),this.stylesheet.fog=a;const B=this._setTransitionParameters({duration:0});u.updateTransitions(B);break}}else this._createFog(a);this._markersNeedUpdate=!0}_setTransitionParameters(a){return{now:n.exported.now(),transition:n.extend(a,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const a=this._order.filter(x=>this.isLayerDraped(this._layers[x])),u=this._order.filter(x=>!this.isLayerDraped(this._layers[x]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...a),this._drapedFirstOrder.push(...u)}_createTerrain(a,u){const x=this.terrain=new S(a,u);this.stylesheet.terrain=a,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const D=this._setTransitionParameters({duration:0});x.updateTransitions(D)}_force3DLayerUpdate(){for(const a in this._layers){const u=this._layers[a];u.type==="fill-extrusion"&&this._updateLayer(u)}}_forceSymbolLayerUpdate(){for(const a in this._layers){const u=this._layers[a];u.type==="symbol"&&this._updateLayer(u)}}_validate(a,u,x,D,B={}){return(!B||B.validate!==!1)&&Jc(this,a.call(n.validateStyle,n.extend({key:u,style:this.serialize(),value:x,styleSpec:n.spec},D)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const a in this._layers)this._layers[a].setEventedParent(null);for(const a in this._sourceCaches)this._sourceCaches[a].clearTiles(),this._sourceCaches[a].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(a){const u=this._getSourceCaches(a);for(const x of u)x.clearTiles()}_reloadSource(a){const u=this._getSourceCaches(a);for(const x of u)x.resume(),x.reload()}_reloadSources(){for(const a of this._getSources())a.reload&&a.reload()}_updateSources(a){for(const u in this._sourceCaches)this._sourceCaches[u].update(a)}_generateCollisionBoxes(){for(const a in this._sourceCaches){const u=this._sourceCaches[a];u.resume(),u.reload()}}_updatePlacement(a,u,x,D,B=!1){let oe=!1,de=!1;const ge={};for(const ke of this._order){const Ce=this._layers[ke];if(Ce.type!=="symbol")continue;if(!ge[Ce.source]){const $e=this._getLayerSourceCache(Ce);if(!$e)continue;ge[Ce.source]=$e.getRenderableIds(!0).map(tt=>$e.getTileByID(tt)).sort((tt,it)=>it.tileID.overscaledZ-tt.tileID.overscaledZ||(tt.tileID.isLessThan(it.tileID)?-1:1))}const Re=this.crossTileSymbolIndex.addLayer(Ce,ge[Ce.source],a.center.lng,a.projection);oe=oe||Re}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),B=B||this._layerOrderChanged||x===0,this._layerOrderChanged&&this.fire(new n.Event("neworder")),(B||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.exported.now(),a.zoom))&&(this.pauseablePlacement=new rs(a,this._order,B,u,x,D,this.placement,this.fog&&a.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ge),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.exported.now()),de=!0),oe&&this.pauseablePlacement.placement.setStale()),de||oe)for(const ke of this._order){const Ce=this._layers[ke];Ce.type==="symbol"&&this.placement.updateLayerOpacities(Ce,ge[Ce.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.exported.now())}_releaseSymbolFadeTiles(){for(const a in this._sourceCaches)this._sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,u,x){this.imageManager.getImages(u.icons,x),this._updateTilesForChangedImages();const D=B=>{B&&B.setDependencies(u.tileID.key,u.type,u.icons)};D(this._otherSourceCaches[u.source]),D(this._symbolSourceCaches[u.source])}getGlyphs(a,u,x){this.glyphManager.getGlyphs(u.stacks,x)}getResource(a,u,x){return n.makeRequest(u,x)}_getSourceCache(a){return this._otherSourceCaches[a]}_getLayerSourceCache(a){return a.type==="symbol"?this._symbolSourceCaches[a.source]:this._otherSourceCaches[a.source]}_getSourceCaches(a){const u=[];return this._otherSourceCaches[a]&&u.push(this._otherSourceCaches[a]),this._symbolSourceCaches[a]&&u.push(this._symbolSourceCaches[a]),u}_isSourceCacheLoaded(a){const u=this._getSourceCaches(a);return u.length===0?(this.fire(new n.ErrorEvent(new Error(`There is no source with ID '${a}'`))),!1):u.every(x=>x.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}U.getSourceType=function(_){return Ot[_]},U.setSourceType=function(_,a){Ot[_]=a},U.registerForPluginStateChange=n.registerForPluginStateChange;var he=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,be="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Se=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Fe=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,je=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let He={},Ct={};const vt=[];ei(he,vt),ei(Se,vt),ei(Fe,vt),ei(je,vt),He=Di("",Se),Ct=Di(je,Fe);const Gt=Di(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),ii=he,fi=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var Kt={background:Di(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Di(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Di(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Di("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Di(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Di(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Di("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Di("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Di("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Di(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Di(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Di(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Di(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Di(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Di(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Di(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Di(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Di(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Di(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Di(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Di(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Di(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Di(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Di(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Di(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Di(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,be),skyboxGradient:Di(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,be),skyboxCapture:Di(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Di(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Di(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function ei(_,a){const u=_.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let x of u)if(x=x.trim(),x[0]==="#"&&x.includes("if")&&!x.includes("endif")){x=x.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const D=x.split(" ");for(const B of D)a.includes(B)||a.push(B)}}function Di(_,a){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,x=a.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),D={},B=[...vt];return ei(_,B),ei(a,B),{fragmentSource:_=_.replace(u,(oe,de,ge,ke,Ce)=>(D[Ce]=!0,de==="define"?`
#ifndef HAS_UNIFORM_u_${Ce}
varying ${ge} ${ke} ${Ce};
#else
uniform ${ge} ${ke} u_${Ce};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ce}
    ${ge} ${ke} ${Ce} = u_${Ce};
#endif
`)),vertexSource:a=a.replace(u,(oe,de,ge,ke,Ce)=>{const Re=ke==="float"?"vec2":"vec4",$e=Ce.match(/color/)?"color":Re;return D[Ce]?de==="define"?`
#ifndef HAS_UNIFORM_u_${Ce}
uniform lowp float u_${Ce}_t;
attribute ${ge} ${Re} a_${Ce};
varying ${ge} ${ke} ${Ce};
#else
uniform ${ge} ${ke} u_${Ce};
#endif
`:$e==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ce}
    ${Ce} = a_${Ce};
#else
    ${ge} ${ke} ${Ce} = u_${Ce};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ce}
    ${Ce} = unpack_mix_${$e}(a_${Ce}, u_${Ce}_t);
#else
    ${ge} ${ke} ${Ce} = u_${Ce};
#endif
`:de==="define"?`
#ifndef HAS_UNIFORM_u_${Ce}
uniform lowp float u_${Ce}_t;
attribute ${ge} ${Re} a_${Ce};
#else
uniform ${ge} ${ke} u_${Ce};
#endif
`:$e==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ce}
    ${ge} ${ke} ${Ce} = a_${Ce};
#else
    ${ge} ${ke} ${Ce} = u_${Ce};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ce}
    ${ge} ${ke} ${Ce} = unpack_mix_${$e}(a_${Ce}, u_${Ce}_t);
#else
    ${ge} ${ke} ${Ce} = u_${Ce};
#endif
`}),staticAttributes:x,usedDefines:B}}class On{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(a,u,x,D,B,oe,de){this.context=a;let ge=this.boundPaintVertexBuffers.length!==D.length;for(let Ce=0;!ge&&Ce<D.length;Ce++)this.boundPaintVertexBuffers[Ce]!==D[Ce]&&(ge=!0);let ke=this.boundDynamicVertexBuffers.length!==de.length;for(let Ce=0;!ke&&Ce<de.length;Ce++)this.boundDynamicVertexBuffers[Ce]!==de[Ce]&&(ke=!0);if(!a.extVertexArrayObject||!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==x||ge||ke||this.boundIndexBuffer!==B||this.boundVertexOffset!==oe)this.freshBind(u,x,D,B,oe,de);else{a.bindVertexArrayOES.set(this.vao);for(const Ce of de)Ce&&Ce.bind();B&&B.dynamicDraw&&B.bind()}}freshBind(a,u,x,D,B,oe){let de;const ge=a.numAttributes,ke=this.context,Ce=ke.gl;if(ke.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ke.extVertexArrayObject.createVertexArrayOES(),ke.bindVertexArrayOES.set(this.vao),de=0,this.boundProgram=a,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=x,this.boundIndexBuffer=D,this.boundVertexOffset=B,this.boundDynamicVertexBuffers=oe;else{de=ke.currentNumAttributes||0;for(let Re=ge;Re<de;Re++)Ce.disableVertexAttribArray(Re)}u.enableAttributes(Ce,a),u.bind(),u.setVertexAttribPointers(Ce,a,B);for(const Re of x)Re.enableAttributes(Ce,a),Re.bind(),Re.setVertexAttribPointers(Ce,a,B);for(const Re of oe)Re&&(Re.enableAttributes(Ce,a),Re.bind(),Re.setVertexAttribPointers(Ce,a,B));D&&D.bind(),ke.currentNumAttributes=ge}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function en(_,a){const u=Math.pow(2,a.canonical.z),x=a.canonical.y;return[new n.MercatorCoordinate(0,x/u).toLngLat().lat,new n.MercatorCoordinate(0,(x+1)/u).toLngLat().lat]}function Qs(_,a,u,x,D,B,oe){const de=_.context,ge=de.gl,ke=u.fbo;if(!ke)return;_.prepareDrawTile();const Ce=_.useProgram("hillshade");de.activeTexture.set(ge.TEXTURE0),ge.bindTexture(ge.TEXTURE_2D,ke.colorAttachment.get());const Re=((rt,Xe,Ze,ht)=>{const nt=Ze.paint.get("hillshade-shadow-color"),ft=Ze.paint.get("hillshade-highlight-color"),Tt=Ze.paint.get("hillshade-accent-color");let gt=Ze.paint.get("hillshade-illumination-direction")*(Math.PI/180);Ze.paint.get("hillshade-illumination-anchor")==="viewport"&&(gt-=rt.transform.angle);const kt=!rt.options.moving;return{u_matrix:ht||rt.transform.calculateProjMatrix(Xe.tileID.toUnwrapped(),kt),u_image:0,u_latrange:en(0,Xe.tileID),u_light:[Ze.paint.get("hillshade-exaggeration"),gt],u_shadow:nt,u_highlight:ft,u_accent:Tt}})(_,u,x,_.terrain?a.projMatrix:null);_.prepareDrawProgram(de,Ce,a.toUnwrapped());const{tileBoundsBuffer:$e,tileBoundsIndexBuffer:tt,tileBoundsSegments:it}=_.getTileBoundsBuffers(u);Ce.draw(de,ge.TRIANGLES,D,B,oe,n.CullFaceMode.disabled,Re,x.id,$e,tt,it)}function Fs(_,a,u){if(!a.needsDEMTextureUpload)return;const x=_.context,D=x.gl;x.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||_.getTileTexture(u.stride);const B=u.getPixels();a.demTexture?a.demTexture.update(B,{premultiply:!1}):a.demTexture=new n.Texture(x,B,D.RGBA,{premultiply:!1}),a.needsDEMTextureUpload=!1}function Vn(_,a,u,x,D,B){const oe=_.context,de=oe.gl;if(!a.dem)return;const ge=a.dem;if(oe.activeTexture.set(de.TEXTURE1),Fs(_,a,ge),!a.demTexture)return;a.demTexture.bind(de.NEAREST,de.CLAMP_TO_EDGE);const ke=ge.dim;oe.activeTexture.set(de.TEXTURE0);let Ce=a.fbo;if(!Ce){const it=new n.Texture(oe,{width:ke,height:ke,data:null},de.RGBA);it.bind(de.LINEAR,de.CLAMP_TO_EDGE),Ce=a.fbo=oe.createFramebuffer(ke,ke,!0),Ce.colorAttachment.set(it.texture)}oe.bindFramebuffer.set(Ce.framebuffer),oe.viewport.set([0,0,ke,ke]);const{tileBoundsBuffer:Re,tileBoundsIndexBuffer:$e,tileBoundsSegments:tt}=_.getMercatorTileBoundsBuffers();_.useProgram("hillshadePrepare").draw(oe,de.TRIANGLES,x,D,B,n.CullFaceMode.disabled,((it,rt)=>{const Xe=rt.stride,Ze=n.create();return n.ortho(Ze,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(Ze,Ze,[0,-n.EXTENT,0]),{u_matrix:Ze,u_image:1,u_dimension:[Xe,Xe],u_zoom:it.overscaledZ,u_unpack:rt.unpackVector}})(a.tileID,ge),u.id,Re,$e,tt),a.needsHillshadePrepare=!1}const $n=_=>({u_matrix:new n.UniformMatrix4f(_),u_image0:new n.Uniform1i(_),u_skirt_height:new n.Uniform1f(_)}),Sn=(_,a)=>({u_matrix:_,u_image0:0,u_skirt_height:a}),Jr=(_,a,u,x,D,B,oe,de,ge,ke,Ce,Re,$e,tt)=>({u_proj_matrix:Float32Array.from(_),u_globe_matrix:a,u_normalize_matrix:Float32Array.from(x),u_merc_matrix:u,u_zoom_transition:D,u_merc_center:B,u_image0:0,u_frustum_tl:oe,u_frustum_tr:de,u_frustum_br:ge,u_frustum_bl:ke,u_globe_pos:Ce,u_globe_radius:Re,u_viewport:$e,u_grid_matrix:tt?Float32Array.from(tt):new Float32Array(9)});function qn(_,a){return _!=null&&a!=null&&!(!_.hasData()||!a.hasData())&&_.demTexture!=null&&a.demTexture!=null&&_.tileID.key!==a.tileID.key}const Ms=new class{constructor(){this.operations={}}newMorphing(_,a,u,x,D){if(_ in this.operations){const B=this.operations[_];B.to.tileID.key!==u.tileID.key&&(B.queued=u)}else this.operations[_]={startTime:x,phase:0,duration:D,from:a,to:u,queued:null}}getMorphValuesForProxy(_){if(!(_ in this.operations))return null;const a=this.operations[_];return{from:a.from,to:a.to,phase:a.phase}}update(_){for(const a in this.operations){const u=this.operations[a];for(u.phase=(_-u.startTime)/u.duration;u.phase>=1||!this._validOp(u);)if(!this._nextOp(u,_)){delete this.operations[a];break}}}_nextOp(_,a){return!!_.queued&&(_.from=_.to,_.to=_.queued,_.queued=null,_.phase=0,_.startTime=a,!0)}_validOp(_){return _.from.hasData()&&_.to.hasData()}},xa={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function zl(_,a){const u=1<<_.z;return!a&&(_.x===0||_.x===u-1)||_.y===0||_.y===u-1}const Br=_=>({u_matrix:_});function So(_,a,u,x,D){if(D>0){const B=n.exported.now(),oe=(B-_.timeAdded)/D,de=a?(B-a.timeAdded)/D:-1,ge=u.getSource(),ke=x.coveringZoomLevel({tileSize:ge.tileSize,roundZoom:ge.roundZoom}),Ce=!a||Math.abs(a.tileID.overscaledZ-ke)>Math.abs(_.tileID.overscaledZ-ke),Re=Ce&&_.refreshedUponExpiration?1:n.clamp(Ce?oe:1-de,0,1);return _.refreshedUponExpiration&&oe>=1&&(_.refreshedUponExpiration=!1),a?{opacity:1,mix:1-Re}:{opacity:Re,mix:0}}return{opacity:1,mix:0}}class Dn extends n.SourceCache{constructor(a){const u={type:"raster-dem",maxzoom:a.transform.maxZoom},x=new ve(dn(),null),D=Bt("mock-dem",u,x,a.style);super("mock-dem",D,!1),D.setEventedParent(this),this._sourceLoaded=!0}_loadTile(a,u){a.state="loaded",u(null)}}class $r extends n.SourceCache{constructor(a){const u=Bt("proxy",{type:"geojson",maxzoom:a.transform.maxZoom},new ve(dn(),null),a.style);super("proxy",u,!1),u.setEventedParent(this),this.map=this.getSource().map=a,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(a,u,x){if(a.freezeTileCoverage)return;this.transform=a;const D=a.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((B,oe)=>{if(B[oe.key]="",!this._tiles[oe.key]){const de=new n.Tile(oe,this._source.tileSize*oe.overscaleFactor(),a.tileZoom);de.state="loaded",this._tiles[oe.key]=de}return B},{});for(const B in this._tiles)B in D||(this.freeFBO(B),this._tiles[B].unloadVectorData(),delete this._tiles[B])}freeFBO(a){const u=this.proxyCachedFBO[a];if(u!==void 0){const x=Object.values(u);this.renderCachePool.push(...x),delete this.proxyCachedFBO[a]}}deallocRenderCache(){this.renderCache.forEach(a=>a.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class la extends n.OverscaledTileID{constructor(a,u,x){super(a.overscaledZ,a.wrap,a.canonical.z,a.canonical.x,a.canonical.y),this.proxyTileKey=u,this.projMatrix=x}}class uo extends n.Elevation{constructor(a,u){super(),this.painter=a,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[x,D,B]=function(ge){const ke=new n.StructArrayLayout4i8,Ce=new n.StructArrayLayout3ui6,Re=131;ke.reserve(17161),Ce.reserve(33800);const $e=n.EXTENT/128,tt=n.EXTENT+$e/2,it=tt+$e;for(let Xe=-$e;Xe<it;Xe+=$e)for(let Ze=-$e;Ze<it;Ze+=$e){const ht=Ze<0||Ze>tt||Xe<0||Xe>tt?24575:0,nt=n.clamp(Math.round(Ze),0,n.EXTENT),ft=n.clamp(Math.round(Xe),0,n.EXTENT);ke.emplaceBack(nt+ht,ft,nt,ft)}const rt=(Xe,Ze)=>{const ht=Ze*Re+Xe;Ce.emplaceBack(ht+1,ht,ht+Re),Ce.emplaceBack(ht+Re,ht+Re+1,ht+1)};for(let Xe=1;Xe<129;Xe++)for(let Ze=1;Ze<129;Ze++)rt(Ze,Xe);return[0,129].forEach(Xe=>{for(let Ze=0;Ze<130;Ze++)rt(Ze,Xe),rt(Xe,Ze)}),[ke,Ce,32768]}(),oe=a.context;this.gridBuffer=oe.createVertexBuffer(x,n.boundsAttributes.members),this.gridIndexBuffer=oe.createIndexBuffer(D),this.gridSegments=n.SegmentVector.simpleSegment(0,0,x.length,D.length),this.gridNoSkirtSegments=n.SegmentVector.simpleSegment(0,0,x.length,B),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new $r(u.map),this.orthoMatrix=n.create(),n.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,n.EXTENT,0,n.EXTENT,0,1);const de=oe.gl;this._overlapStencilMode=new n.StencilMode({func:de.GEQUAL,mask:255},0,255,de.KEEP,de.KEEP,de.REPLACE),this._previousZoom=a.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=u,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Dn(u.map)}set style(a){a.on("data",this._onStyleDataEvent.bind(this)),a.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=a,this._checkRenderCacheEfficiency()}update(a,u,x){if(a&&a.terrain){this._style!==a&&(this.style=a),this.enabled=!0;const D=a.terrain.properties;this.sourceCache=a.terrain.drapeRenderMode===0?this._mockSourceCache:a._getSourceCache(D.get("source")),this._exaggeration=D.get("exaggeration");const B=()=>{this.sourceCache.used&&n.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const oe=this.getScaledDemTileSize();this.sourceCache.update(u,oe,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,B(),this._initializing=!0),B(),u.updateElevation(!0,x),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(u),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(a){this._findCoveringTileCache[a]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const a=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||a.efficiency!==100&&n.warnOnce(`Terrain render cache efficiency is not optimal (${a.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${a.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(a){a.coord&&a.dataType==="source"?this._clearRenderCacheForTile(a.sourceCacheId,a.coord):a.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const a in this._style._sourceCaches)this._style._sourceCaches[a].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(a=>a.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const a=2*this.proxySourceCache.getSource().tileSize;return[a,a]}set useVertexMorphing(a){this._useVertexMorphing=a}updateTileBinding(a){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const u=this.proxySourceCache,x=this.painter.transform;this._initializing&&(this._initializing=x._centerAltitude===0&&this.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(x.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const D=this.proxyCoords=u.getIds().map(ge=>{const ke=u.getTileByID(ge).tileID;return ke.projMatrix=x.calculateProjMatrix(ke.toUnwrapped()),ke});(function(ge,ke){const Ce=ke.transform.pointCoordinate(ke.transform.getCameraPoint()),Re=new n.pointGeometry(Ce.x,Ce.y);ge.sort(($e,tt)=>{if(tt.overscaledZ-$e.overscaledZ)return tt.overscaledZ-$e.overscaledZ;const it=new n.pointGeometry($e.canonical.x+(1<<$e.canonical.z)*$e.wrap,$e.canonical.y),rt=new n.pointGeometry(tt.canonical.x+(1<<tt.canonical.z)*tt.wrap,tt.canonical.y),Xe=Re.mult(1<<$e.canonical.z);return Xe.x-=.5,Xe.y-=.5,Xe.distSqr(it)-Xe.distSqr(rt)})})(D,this.painter),this._previousZoom=x.zoom;const B=this.proxyToSource||{};this.proxyToSource={},D.forEach(ge=>{this.proxyToSource[ge.key]={}}),this.terrainTileForTile={};const oe=this._style._sourceCaches;for(const ge in oe){const ke=oe[ge];if(!ke.used||(ke!==this.sourceCache&&this.resetTileLookupCache(ke.id),this._setupProxiedCoordsForOrtho(ke,a[ge],B),ke.usedForTerrain))continue;const Ce=a[ge];ke.getSource().reparseOverscaled&&this._assignTerrainTiles(Ce)}this.proxiedCoords[u.id]=D.map(ge=>new la(ge,ge.key,this.orthoMatrix)),this._assignTerrainTiles(D),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(B),this.renderingToTexture=!1,this._updateTimestamp=n.exported.now();const de={};this._visibleDemTiles=[];for(const ge of this.proxyCoords){const ke=this.terrainTileForTile[ge.key];if(!ke)continue;const Ce=ke.tileID.key;Ce in de||(this._visibleDemTiles.push(ke),de[Ce]=Ce)}}_assignTerrainTiles(a){this._initializing||a.forEach(u=>{if(this.terrainTileForTile[u.key])return;const x=this._findTileCoveringTileID(u,this.sourceCache);x&&(this.terrainTileForTile[u.key]=x)})}_prepareDEMTextures(){const a=this.painter.context,u=a.gl;for(const x in this.terrainTileForTile){const D=this.terrainTileForTile[x],B=D.dem;!B||D.demTexture&&!D.needsDEMTextureUpload||(a.activeTexture.set(u.TEXTURE1),Fs(this.painter,D,B))}}_prepareDemTileUniforms(a,u,x,D){if(!u||u.demTexture==null)return!1;const B=a.tileID.canonical,oe=Math.pow(2,u.tileID.canonical.z-B.z),de=D||"";return x[`u_dem_tl${de}`]=[B.x*oe%1,B.y*oe%1],x[`u_dem_scale${de}`]=oe,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const a=this.painter.context,u=a.gl;if(!this._emptyDepthBufferTexture){const x=new n.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new n.Texture(a,x,u.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let a=0;const u=this._visibleDemTiles.reduce((x,D)=>{if(!D.dem)return x;const B=D.dem.tree.minimums[0];return B>0&&a++,x+B},0);return a?u/a:0}_updateEmptyDEMTexture(){const a=this.painter.context,u=a.gl;a.activeTexture.set(u.TEXTURE2);const x=this._getLoadedAreaMinimum(),D=new n.RGBAImage({width:1,height:1},new Uint8Array(n.DEMData.pack(x,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let B=this._emptyDEMTexture;return B?B.update(D,{premultiply:!1}):B=this._emptyDEMTexture=new n.Texture(a,D,u.RGBA,{premultiply:!1}),B}setupElevationDraw(a,u,x){const D=this.painter.context,B=D.gl,oe=(de=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:n.DEMData.getUnpackVector(de),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var de;oe.u_dem_size=this.sourceCache.getSource().tileSize,oe.u_exaggeration=this.exaggeration();let ge=null,ke=null,Ce=1;if(x&&x.morphing&&this._useVertexMorphing){const Re=x.morphing.srcDemTile,$e=x.morphing.dstDemTile;Ce=x.morphing.phase,Re&&$e&&(this._prepareDemTileUniforms(a,Re,oe,"_prev")&&(ke=Re),this._prepareDemTileUniforms(a,$e,oe)&&(ge=$e))}if(ke&&ge?(D.activeTexture.set(B.TEXTURE2),ge.demTexture.bind(B.NEAREST,B.CLAMP_TO_EDGE,B.NEAREST),D.activeTexture.set(B.TEXTURE4),ke.demTexture.bind(B.NEAREST,B.CLAMP_TO_EDGE,B.NEAREST),oe.u_dem_lerp=Ce):(ge=this.terrainTileForTile[a.tileID.key],D.activeTexture.set(B.TEXTURE2),(this._prepareDemTileUniforms(a,ge,oe)?ge.demTexture:this.emptyDEMTexture).bind(B.NEAREST,B.CLAMP_TO_EDGE)),D.activeTexture.set(B.TEXTURE3),x&&x.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(B.NEAREST,B.CLAMP_TO_EDGE),this._depthFBO&&(oe.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(B.NEAREST,B.CLAMP_TO_EDGE),oe.u_depth_size_inv=[1,1]),x&&x.useMeterToDem&&ge){const Re=(1<<ge.tileID.canonical.z)*n.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;oe.u_meter_to_dem=Re}if(x&&x.labelPlaneMatrixInv&&(oe.u_label_plane_matrix_inv=x.labelPlaneMatrixInv),u.setTerrainUniformValues(D,oe),this.painter.transform.projection.name==="globe"){const Re=this.globeUniformValues(this.painter.transform,a.tileID.canonical,x&&x.useDenormalizedUpVectorScale);u.setGlobeUniformValues(D,Re)}}globeUniformValues(a,u,x){const D=a.projection;return{u_tile_tl_up:D.upVector(u,0,0),u_tile_tr_up:D.upVector(u,n.EXTENT,0),u_tile_br_up:D.upVector(u,n.EXTENT,n.EXTENT),u_tile_bl_up:D.upVector(u,0,n.EXTENT),u_tile_up_scale:x?n.GLOBE_METERS_TO_ECEF:D.upVectorScale(u,a.center.lat,a.worldSize).metersToTile}}renderToBackBuffer(a){const u=this.painter,x=this.painter.context;a.length!==0&&(x.bindFramebuffer.set(null),x.viewport.set([0,0,u.width,u.height]),u.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(D,B,oe,de,ge){if(D.transform.projection.name==="globe")(function(ke,Ce,Re,$e,tt){const it=ke.context,rt=it.gl;let Xe,Ze;const ht=ke.options.showTerrainWireframe?2:0,nt=ke.transform,ft=n.globeUseCustomAntiAliasing(ke,it,nt),Tt=(vi,qt)=>{if(Ze===vi)return;const di=[xa[vi],"PROJECTION_GLOBE_VIEW"];ft&&di.push("CUSTOM_ANTIALIASING"),qt&&di.push(xa[ht]),Xe=ke.useProgram("globeRaster",null,di),Ze=vi},gt=ke.colorModeForRenderPass(),kt=new n.DepthMode(rt.LEQUAL,n.DepthMode.ReadWrite,ke.depthRangeFor3D);Ms.update(tt);const Wt=n.calculateGlobeMercatorMatrix(nt),Nt=[n.mercatorXfromLng(nt.center.lng),n.mercatorYfromLat(nt.center.lat)],Dt=ht?[!1,!0]:[!1],pi=ke.globeSharedBuffers,Ft=[nt.width*n.exported.devicePixelRatio,nt.height*n.exported.devicePixelRatio],ri=Float32Array.from(nt.globeMatrix),Yt={useDenormalizedUpVectorScale:!0};if(Dt.forEach(vi=>{Ze=-1;const qt=vi?rt.LINES:rt.TRIANGLES;for(const di of $e){const wi=Re.getTile(di),Rt=n.StencilMode.disabled,Xt=Ce.prevTerrainTileForTile[di.key],Hi=Ce.terrainTileForTile[di.key];qn(Xt,Hi)&&Ms.newMorphing(di.key,Xt,Hi,tt,250),it.activeTexture.set(rt.TEXTURE0),wi.texture.bind(rt.LINEAR,rt.CLAMP_TO_EDGE);const nn=Ms.getMorphValuesForProxy(di.key),Wi=nn?1:0;nn&&n.extend$1(Yt,{morphing:{srcDemTile:nn.from,dstDemTile:nn.to,phase:n.easeCubicInOut(nn.phase)}});const fn=n.tileCornersToBounds(di.canonical),Bn=n.getLatitudinalLod(fn.getCenter().lat),rn=n.getGridMatrix(di.canonical,fn,Bn,nt.worldSize/nt._pixelsPerMercatorPixel),Vi=n.globeNormalizeECEF(n.globeTileBounds(di.canonical)),Es=Jr(nt.projMatrix,ri,Wt,Vi,n.globeToMercatorTransition(nt.zoom),Nt,nt.frustumCorners.TL,nt.frustumCorners.TR,nt.frustumCorners.BR,nt.frustumCorners.BL,nt.globeCenterInViewSpace,nt.globeRadius,Ft,rn);if(Tt(Wi,vi),Ce.setupElevationDraw(wi,Xe,Yt),ke.prepareDrawProgram(it,Xe,di.toUnwrapped()),pi){const[ds,ks,bs]=vi?pi.getWirefameBuffers(ke.context,Bn):pi.getGridBuffers(Bn);Xe.draw(it,qt,kt,Rt,gt,n.CullFaceMode.backCCW,Es,"globe_raster",ds,ks,bs)}}}),pi){const vi=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];ft&&vi.push("CUSTOM_ANTIALIASING"),Xe=ke.useProgram("globeRaster",null,vi);for(const qt of $e){const{x:di,y:wi,z:Rt}=qt.canonical,Xt=wi===0,Hi=wi===(1<<Rt)-1,[nn,Wi,fn,Bn]=pi.getPoleBuffers(Rt);if(Bn&&(Xt||Hi)){const rn=Re.getTile(qt);it.activeTexture.set(rt.TEXTURE0),rn.texture.bind(rt.LINEAR,rt.CLAMP_TO_EDGE);let Vi=n.globePoleMatrixForTile(Rt,di,nt);const Es=n.globeNormalizeECEF(n.globeTileBounds(qt.canonical)),ds=(ks,bs)=>ks.draw(it,rt.TRIANGLES,kt,n.StencilMode.disabled,gt,n.CullFaceMode.disabled,Jr(nt.projMatrix,Vi,Vi,Es,0,Nt,nt.frustumCorners.TL,nt.frustumCorners.TR,nt.frustumCorners.BR,nt.frustumCorners.BL,nt.globeCenterInViewSpace,nt.globeRadius,Ft),"globe_pole_raster",bs,fn,Bn);Ce.setupElevationDraw(rn,Xe,Yt),ke.prepareDrawProgram(it,Xe,qt.toUnwrapped()),Xt&&ds(Xe,nn),Hi&&(Vi=n.scale(n.create(),Vi,[1,-1,1]),ds(Xe,Wi))}}}})(D,B,oe,de,ge);else{const ke=D.context,Ce=ke.gl;let Re,$e;const tt=D.options.showTerrainWireframe?2:0,it=(nt,ft)=>{if($e===nt)return;const Tt=[xa[nt]];ft&&Tt.push(xa[tt]),Re=D.useProgram("terrainRaster",null,Tt),$e=nt},rt=D.colorModeForRenderPass(),Xe=new n.DepthMode(Ce.LEQUAL,n.DepthMode.ReadWrite,D.depthRangeFor3D);Ms.update(ge);const Ze=D.transform,ht=6*Math.pow(1.5,22-Ze.zoom)*B.exaggeration();(tt?[!1,!0]:[!1]).forEach(nt=>{$e=-1;const ft=nt?Ce.LINES:Ce.TRIANGLES,[Tt,gt]=nt?B.getWirefameBuffer():[B.gridIndexBuffer,B.gridSegments];for(const kt of de){const Wt=oe.getTile(kt),Nt=n.StencilMode.disabled,Dt=B.prevTerrainTileForTile[kt.key],pi=B.terrainTileForTile[kt.key];qn(Dt,pi)&&Ms.newMorphing(kt.key,Dt,pi,ge,250),ke.activeTexture.set(Ce.TEXTURE0),Wt.texture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE,Ce.LINEAR_MIPMAP_NEAREST);const Ft=Ms.getMorphValuesForProxy(kt.key),ri=Ft?1:0;let Yt;Ft&&(Yt={morphing:{srcDemTile:Ft.from,dstDemTile:Ft.to,phase:n.easeCubicInOut(Ft.phase)}});const vi=Sn(kt.projMatrix,zl(kt.canonical,Ze.renderWorldCopies)?ht/10:ht);it(ri,nt),B.setupElevationDraw(Wt,Re,Yt),D.prepareDrawProgram(ke,Re,kt.toUnwrapped()),Re.draw(ke,ft,Xe,Nt,rt,n.CullFaceMode.backCCW,vi,"terrain_raster",B.gridBuffer,Tt,gt)}})}}(u,this,this.proxySourceCache,a,this._updateTimestamp),this.renderingToTexture=!0,u.gpuTimingDeferredRenderEnd(),a.splice(0,a.length))}renderBatch(a){if(this._drapedRenderBatches.length===0)return a+1;this.renderingToTexture=!0;const u=this.painter,x=this.painter.context,D=this.proxySourceCache,B=this.proxiedCoords[D.id],oe=this._drapedRenderBatches.shift(),de=[],ge=u.style.order;let ke=0;for(const Ce of B){const Re=D.getTileByID(Ce.proxyTileKey),$e=D.proxyCachedFBO[Ce.key]?D.proxyCachedFBO[Ce.key][a]:void 0,tt=$e!==void 0?D.renderCache[$e]:this.pool[ke++],it=$e!==void 0;if(Re.texture=tt.tex,it&&!tt.dirty){de.push(Re.tileID);continue}let rt;x.bindFramebuffer.set(tt.fb.framebuffer),this.renderedToTile=!1,tt.dirty&&(x.clear({color:n.Color.transparent,stencil:0}),tt.dirty=!1);for(let Xe=oe.start;Xe<=oe.end;++Xe){const Ze=u.style._layers[ge[Xe]];if(Ze.isHidden(u.transform.zoom))continue;const ht=u.style._getLayerSourceCache(Ze),nt=ht?this.proxyToSource[Ce.key][ht.id]:[Ce];if(!nt)continue;const ft=nt;x.viewport.set([0,0,tt.fb.width,tt.fb.height]),rt!==(ht?ht.id:null)&&(this._setupStencil(tt,nt,Ze,ht),rt=ht?ht.id:null),u.renderLayer(u,ht,Ze,ft)}this.renderedToTile?(tt.dirty=!0,de.push(Re.tileID)):it||--ke,ke===5&&(ke=0,this.renderToBackBuffer(de))}return this.renderToBackBuffer(de),this.renderingToTexture=!1,x.bindFramebuffer.set(null),x.viewport.set([0,0,u.width,u.height]),oe.end+1}postRender(){}renderCacheEfficiency(a){const u=a.order.length;if(u===0)return{efficiency:100};let x,D=0,B=0,oe=!1;for(let de=0;de<u;++de){const ge=a._layers[a.order[de]];this._style.isLayerDraped(ge)?(oe&&++D,++B):oe||(oe=!0,x=ge.id)}return B===0?{efficiency:100}:{efficiency:100*(1-D/B),firstUndrapedLayer:x}}getMinElevationBelowMSL(){let a=0;return this._visibleDemTiles.filter(u=>u.dem).forEach(u=>{a=Math.min(a,u.dem.tree.minimums[0])}),a===0?a:(a-30)*this._exaggeration}raycast(a,u,x){if(!this._visibleDemTiles)return null;const D=this._visibleDemTiles.filter(B=>B.dem).map(B=>{const oe=B.tileID,de=1<<oe.overscaledZ,{x:ge,y:ke}=oe.canonical,Ce=ge/de,Re=(ge+1)/de,$e=ke/de,tt=(ke+1)/de;return{minx:Ce,miny:$e,maxx:Re,maxy:tt,t:B.dem.tree.raycastRoot(Ce,$e,Re,tt,a,u,x),tile:B}});D.sort((B,oe)=>(B.t!==null?B.t:Number.MAX_VALUE)-(oe.t!==null?oe.t:Number.MAX_VALUE));for(const B of D){if(B.t==null)return null;const oe=B.tile.dem.tree.raycast(B.minx,B.miny,B.maxx,B.maxy,a,u,x);if(oe!=null)return oe}return null}_createFBO(){const a=this.painter.context,u=a.gl,x=this.drapeBufferSize;a.activeTexture.set(u.TEXTURE0);const D=new n.Texture(a,{width:x[0],height:x[1],data:null},u.RGBA);D.bind(u.LINEAR,u.CLAMP_TO_EDGE);const B=a.createFramebuffer(x[0],x[1],!1);return B.colorAttachment.set(D.texture),B.depthAttachment=new qc(a,B.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=a.createRenderbuffer(a.gl.DEPTH_STENCIL,x[0],x[1]),this._stencilRef=0,B.depthAttachment.set(this._sharedDepthStencil),a.clear({stencil:0})):B.depthAttachment.set(this._sharedDepthStencil),a.extTextureFilterAnisotropic&&!a.extTextureFilterAnisotropicForceOff&&u.texParameterf(u.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax),{fb:B,tex:D,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const a in this._style._sourceCaches)if(this._style._sourceCaches[a].hasTransition())return!0;return this._style.order.some(a=>{const u=this._style._layers[a],x=u.isHidden(this.painter.transform.zoom);return u.type!=="custom"&&!x&&u.hasTransition()})}_clearRasterFadeFromRenderCache(){let a=!1;for(const u in this._style._sourceCaches)if(this._style._sourceCaches[u]._source instanceof Ve){a=!0;break}if(a)for(let u=0;u<this._style.order.length;++u){const x=this._style._layers[this._style.order[u]],D=x.isHidden(this.painter.transform.zoom),B=this._style._getLayerSourceCache(x);if(x.type!=="raster"||D||!B)continue;const oe=x.paint.get("raster-fade-duration");for(const de of this.proxyCoords){const ge=this.proxyToSource[de.key][B.id];if(ge)for(const ke of ge){const Ce=So(B.getTile(ke),B.findLoadedParent(ke,0),B,this.painter.transform,oe);(Ce.opacity!==1||Ce.mix!==0)&&this._clearRenderCacheForTile(B.id,ke)}}}}_setupDrapedRenderBatches(){const a=this._style.order,u=a.length;if(u===0)return;const x=[];let D,B=0,oe=this._style._layers[a[B]];for(;!this._style.isLayerDraped(oe)&&oe.isHidden(this.painter.transform.zoom)&&++B<u;)oe=this._style._layers[a[B]];for(;B<u;++B){const de=this._style._layers[a[B]];de.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(de)?D===void 0&&(D=B):D!==void 0&&(x.push({start:D,end:B-1}),D=void 0))}D!==void 0&&x.push({start:D,end:B-1}),this._drapedRenderBatches=x}_setupRenderCache(a){const u=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,u.renderCache.length>u.renderCachePool.length){const oe=Object.values(u.proxyCachedFBO);u.proxyCachedFBO={};for(let de=0;de<oe.length;++de){const ge=Object.values(oe[de]);u.renderCachePool.push(...ge)}}return}this._clearRasterFadeFromRenderCache();const x=this.proxyCoords,D=this._tilesDirty;for(let oe=x.length-1;oe>=0;oe--){const de=x[oe];if(u.getTileByID(de.key),u.proxyCachedFBO[de.key]!==void 0){const ge=a[de.key],ke=this.proxyToSource[de.key];let Ce=0;for(const Re in ke){const $e=ke[Re],tt=ge[Re];if(!tt||tt.length!==$e.length||$e.some((it,rt)=>it!==tt[rt]||D[Re]&&D[Re].hasOwnProperty(it.key))){Ce=-1;break}++Ce}for(const Re in u.proxyCachedFBO[de.key])u.renderCache[u.proxyCachedFBO[de.key][Re]].dirty=Ce<0||Ce!==Object.values(ge).length}}const B=[...this._drapedRenderBatches];B.sort((oe,de)=>de.end-de.start-(oe.end-oe.start));for(const oe of B)for(const de of x){if(u.proxyCachedFBO[de.key])continue;let ge=u.renderCachePool.pop();ge===void 0&&u.renderCache.length<50&&(ge=u.renderCache.length,u.renderCache.push(this._createFBO())),ge!==void 0&&(u.proxyCachedFBO[de.key]={},u.proxyCachedFBO[de.key][oe.start]=ge,u.renderCache[ge].dirty=!0)}this._tilesDirty={}}_setupStencil(a,u,x,D){if(!D||!this._sourceTilesOverlap[D.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const B=this.painter.context,oe=B.gl;if(u.length<=1)return void(this._overlapStencilType=!1);let de;if(x.isTileClipped())de=u.length,this._overlapStencilMode.test={func:oe.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(u[0].overscaledZ>u[u.length-1].overscaledZ))return void(this._overlapStencilType=!1);de=1,this._overlapStencilMode.test={func:oe.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+de>255&&(B.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=de,this._overlapStencilMode.ref=this._stencilRef,x.isTileClipped()&&this._renderTileClippingMasks(u,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(a){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[a.key]),this._overlapStencilMode):n.StencilMode.disabled}_renderTileClippingMasks(a,u){const x=this.painter,D=this.painter.context,B=D.gl;x._tileClippingMaskIDs={},D.setColorMode(n.ColorMode.disabled),D.setDepthMode(n.DepthMode.disabled);const oe=x.useProgram("clippingMask");for(const de of a){const ge=x._tileClippingMaskIDs[de.key]=--u;oe.draw(D,B.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:B.ALWAYS,mask:0},ge,255,B.KEEP,B.KEEP,B.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,Br(de.projMatrix),"$clipping",x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}}pointCoordinate(a){const u=this.painter.transform;if(a.x<0||a.x>u.width||a.y<0||a.y>u.height)return null;const x=[a.x,a.y,1,1];n.transformMat4$1(x,x,u.pixelMatrixInverse),n.scale$1(x,x,1/x[3]),x[0]/=u.worldSize,x[1]/=u.worldSize;const D=u._camera.position,B=n.mercatorZfromAltitude(1,u.center.lat),oe=[D[0],D[1],D[2]/B,0],de=n.subtract([],x.slice(0,3),oe);n.normalize(de,de);const ge=this.raycast(oe,de,this._exaggeration);return ge!==null&&ge?(n.scaleAndAdd(oe,oe,de,ge),oe[3]=oe[2],oe[2]*=B,oe):null}drawDepth(){const a=this.painter,u=a.context,x=this.proxySourceCache,D=Math.ceil(a.width),B=Math.ceil(a.height);if(!this._depthFBO||this._depthFBO.width===D&&this._depthFBO.height===B||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const oe=u.gl,de=u.createFramebuffer(D,B,!0);u.activeTexture.set(oe.TEXTURE0);const ge=new n.Texture(u,{width:D,height:B,data:null},oe.RGBA);ge.bind(oe.NEAREST,oe.CLAMP_TO_EDGE),de.colorAttachment.set(ge.texture);const ke=u.createRenderbuffer(u.gl.DEPTH_COMPONENT16,D,B);de.depthAttachment.set(ke),this._depthFBO=de,this._depthTexture=ge}u.bindFramebuffer.set(this._depthFBO.framebuffer),u.viewport.set([0,0,D,B]),function(oe,de,ge,ke){if(oe.transform.projection.name==="globe")return;const Ce=oe.context,Re=Ce.gl;Ce.clear({depth:1});const $e=oe.useProgram("terrainDepth"),tt=new n.DepthMode(Re.LESS,n.DepthMode.ReadWrite,oe.depthRangeFor3D);for(const it of ke){const rt=ge.getTile(it),Xe=Sn(it.projMatrix,0);de.setupElevationDraw(rt,$e),$e.draw(Ce,Re.TRIANGLES,tt,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.backCCW,Xe,"terrain_depth",de.gridBuffer,de.gridIndexBuffer,de.gridNoSkirtSegments)}}(a,this,x,this.proxyCoords)}_setupProxiedCoordsForOrtho(a,u,x){if(a.getSource()instanceof Et)return this._setupProxiedCoordsForImageSource(a,u,x);this._findCoveringTileCache[a.id]=this._findCoveringTileCache[a.id]||{};const D=this.proxiedCoords[a.id]=[],B=this.proxyCoords;for(let de=0;de<B.length;de++){const ge=B[de],ke=this._findTileCoveringTileID(ge,a);if(ke){const Ce=this._createProxiedId(ge,ke,x[ge.key]&&x[ge.key][a.id]);D.push(Ce),this.proxyToSource[ge.key][a.id]=[Ce]}}let oe=!1;for(let de=0;de<u.length;de++){const ge=a.getTile(u[de]);if(!ge||!ge.hasData())continue;const ke=this._findTileCoveringTileID(ge.tileID,this.proxySourceCache);if(ke&&ke.tileID.canonical.z!==ge.tileID.canonical.z){const Ce=this.proxyToSource[ke.tileID.key][a.id],Re=this._createProxiedId(ke.tileID,ge,x[ke.tileID.key]&&x[ke.tileID.key][a.id]);Ce?Ce.splice(Ce.length-1,0,Re):this.proxyToSource[ke.tileID.key][a.id]=[Re],D.push(Re),oe=!0}}this._sourceTilesOverlap[a.id]=oe}_setupProxiedCoordsForImageSource(a,u,x){if(!a.getSource().loaded())return;const D=this.proxiedCoords[a.id]=[],B=this.proxyCoords,oe=a.getSource(),de=new n.pointGeometry(oe.tileID.x,oe.tileID.y)._div(1<<oe.tileID.z),ge=oe.coordinates.map(n.MercatorCoordinate.fromLngLat).reduce((Ce,Re)=>(Ce.min.x=Math.min(Ce.min.x,Re.x-de.x),Ce.min.y=Math.min(Ce.min.y,Re.y-de.y),Ce.max.x=Math.max(Ce.max.x,Re.x-de.x),Ce.max.y=Math.max(Ce.max.y,Re.y-de.y),Ce),{min:new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new n.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),ke=(Ce,Re)=>{const $e=Ce.wrap+Ce.canonical.x/(1<<Ce.canonical.z),tt=Ce.canonical.y/(1<<Ce.canonical.z),it=n.EXTENT/(1<<Ce.canonical.z),rt=Re.wrap+Re.canonical.x/(1<<Re.canonical.z),Xe=Re.canonical.y/(1<<Re.canonical.z);return $e+it<rt+ge.min.x||$e>rt+ge.max.x||tt+it<Xe+ge.min.y||tt>Xe+ge.max.y};for(let Ce=0;Ce<B.length;Ce++){const Re=B[Ce];for(let $e=0;$e<u.length;$e++){const tt=a.getTile(u[$e]);if(!tt||!tt.hasData()||ke(Re,tt.tileID))continue;const it=this._createProxiedId(Re,tt,x[Re.key]&&x[Re.key][a.id]),rt=this.proxyToSource[Re.key][a.id];rt?rt.push(it):this.proxyToSource[Re.key][a.id]=[it],D.push(it)}}}_createProxiedId(a,u,x){let D=this.orthoMatrix;if(x){const B=x.find(oe=>oe.key===u.tileID.key);if(B)return B}if(u.tileID.key!==a.key){const B=a.canonical.z-u.tileID.canonical.z;let oe,de,ge;D=n.create();const ke=u.tileID.wrap-a.wrap<<a.overscaledZ;B>0?(oe=n.EXTENT>>B,de=oe*((u.tileID.canonical.x<<B)-a.canonical.x+ke),ge=oe*((u.tileID.canonical.y<<B)-a.canonical.y)):(oe=n.EXTENT<<-B,de=n.EXTENT*(u.tileID.canonical.x-(a.canonical.x+ke<<-B)),ge=n.EXTENT*(u.tileID.canonical.y-(a.canonical.y<<-B))),n.ortho(D,0,oe,0,oe,0,1),n.translate(D,D,[de,ge,0])}return new la(u.tileID,a.key,D)}_findTileCoveringTileID(a,u){let x=u.getTile(a);if(x&&x.hasData())return x;const D=this._findCoveringTileCache[u.id],B=D[a.key];if(x=B?u.getTileByID(B):null,x&&x.hasData()||B===null)return x;let oe=x?x.tileID:a,de=oe.overscaledZ;const ge=u.getSource().minzoom,ke=[];if(!B){const Re=u.getSource().maxzoom;if(a.canonical.z>=Re){const $e=a.canonical.z-Re;u.getSource().reparseOverscaled?(de=Math.max(a.canonical.z+2,u.transform.tileZoom),oe=new n.OverscaledTileID(de,a.wrap,Re,a.canonical.x>>$e,a.canonical.y>>$e)):$e!==0&&(de=Re,oe=new n.OverscaledTileID(de,a.wrap,Re,a.canonical.x>>$e,a.canonical.y>>$e))}oe.key!==a.key&&(ke.push(oe.key),x=u.getTile(oe))}const Ce=Re=>{ke.forEach($e=>{D[$e]=Re}),ke.length=0};for(de-=1;de>=ge&&(!x||!x.hasData());de--){x&&Ce(x.tileID.key);const Re=oe.calculateScaledKey(de);if(x=u.getTileByID(Re),x&&x.hasData())break;const $e=D[Re];if($e===null)break;$e===void 0?ke.push(Re):x=u.getTileByID($e)}return Ce(x?x.tileID.key:null),x&&x.hasData()?x:null}findDEMTileFor(a){return this.enabled?this._findTileCoveringTileID(a,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(a,u){let x=this._tilesDirty[a];x||(x=this._tilesDirty[a]={}),x[u.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const a=function(u){let x=0;const D=new n.StructArrayLayout2ui4,B=131;for(let oe=1;oe<129;oe++){for(let de=1;de<129;de++)x=oe*B+de,D.emplaceBack(x,x+1),D.emplaceBack(x,x+B),D.emplaceBack(x+1,x+B),oe===128&&D.emplaceBack(x+B,x+B+1);D.emplaceBack(x+1,x+1+B)}return D}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(a),this.wireframeSegments=n.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,a.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Ho{static cacheKey(a,u,x,D){let B=`${u}${D?D.cacheKey:""}`;for(const oe of x)a.usedDefines.includes(oe)&&(B+=`/${oe}`);return B}constructor(a,u,x,D,B,oe){const de=a.gl;this.program=de.createProgram();const ge=function(Xe){const Ze=[];for(let ht=0;ht<Xe.length;ht++){if(Xe[ht]===null)continue;const nt=Xe[ht].split(" ");Ze.push(nt.pop())}return Ze}(x.staticAttributes),ke=D?D.getBinderAttributes():[],Ce=ge.concat(ke);let Re=D?D.defines():[];Re=Re.concat(oe.map(Xe=>`#define ${Xe}`));const $e=Re.concat(a.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(fi):fi,fi,ii,Gt.fragmentSource,Ct.fragmentSource,x.fragmentSource).join(`
`),tt=Re.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,ii,Gt.vertexSource,Ct.vertexSource,He.vertexSource,x.vertexSource).join(`
`),it=de.createShader(de.FRAGMENT_SHADER);if(de.isContextLost())return void(this.failedToCreate=!0);de.shaderSource(it,$e),de.compileShader(it),de.attachShader(this.program,it);const rt=de.createShader(de.VERTEX_SHADER);if(de.isContextLost())this.failedToCreate=!0;else{de.shaderSource(rt,tt),de.compileShader(rt),de.attachShader(this.program,rt),this.attributes={},this.numAttributes=Ce.length;for(let Xe=0;Xe<this.numAttributes;Xe++)Ce[Xe]&&(de.bindAttribLocation(this.program,Xe,Ce[Xe]),this.attributes[Ce[Xe]]=Xe);de.linkProgram(this.program),de.deleteShader(rt),de.deleteShader(it),this.fixedUniforms=B(a),this.binderUniforms=D?D.getUniforms(a):[],oe.includes("TERRAIN")&&(this.terrainUniforms=(Xe=>({u_dem:new n.Uniform1i(Xe),u_dem_prev:new n.Uniform1i(Xe),u_dem_unpack:new n.Uniform4f(Xe),u_dem_tl:new n.Uniform2f(Xe),u_dem_scale:new n.Uniform1f(Xe),u_dem_tl_prev:new n.Uniform2f(Xe),u_dem_scale_prev:new n.Uniform1f(Xe),u_dem_size:new n.Uniform1f(Xe),u_dem_lerp:new n.Uniform1f(Xe),u_exaggeration:new n.Uniform1f(Xe),u_depth:new n.Uniform1i(Xe),u_depth_size_inv:new n.Uniform2f(Xe),u_meter_to_dem:new n.Uniform1f(Xe),u_label_plane_matrix_inv:new n.UniformMatrix4f(Xe)}))(a)),oe.includes("GLOBE")&&(this.globeUniforms=(Xe=>({u_tile_tl_up:new n.Uniform3f(Xe),u_tile_tr_up:new n.Uniform3f(Xe),u_tile_br_up:new n.Uniform3f(Xe),u_tile_bl_up:new n.Uniform3f(Xe),u_tile_up_scale:new n.Uniform1f(Xe)}))(a)),oe.includes("FOG")&&(this.fogUniforms=(Xe=>({u_fog_matrix:new n.UniformMatrix4f(Xe),u_fog_range:new n.Uniform2f(Xe),u_fog_color:new n.Uniform4f(Xe),u_fog_horizon_blend:new n.Uniform1f(Xe),u_fog_temporal_offset:new n.Uniform1f(Xe),u_frustum_tl:new n.Uniform3f(Xe),u_frustum_tr:new n.Uniform3f(Xe),u_frustum_br:new n.Uniform3f(Xe),u_frustum_bl:new n.Uniform3f(Xe),u_globe_pos:new n.Uniform3f(Xe),u_globe_radius:new n.Uniform1f(Xe),u_globe_transition:new n.Uniform1f(Xe),u_is_globe:new n.Uniform1i(Xe),u_viewport:new n.Uniform2f(Xe)}))(a))}}setTerrainUniformValues(a,u){if(!this.terrainUniforms)return;const x=this.terrainUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const D in u)x[D]&&x[D].set(this.program,D,u[D])}}setGlobeUniformValues(a,u){if(!this.globeUniforms)return;const x=this.globeUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const D in u)x[D]&&x[D].set(this.program,D,u[D])}}setFogUniformValues(a,u){if(!this.fogUniforms)return;const x=this.fogUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const D in u)x[D].set(this.program,D,u[D])}}draw(a,u,x,D,B,oe,de,ge,ke,Ce,Re,$e,tt,it,rt){const Xe=a.gl;if(this.failedToCreate)return;a.program.set(this.program),a.setDepthMode(x),a.setStencilMode(D),a.setColorMode(B),a.setCullFace(oe);for(const ht of Object.keys(this.fixedUniforms))this.fixedUniforms[ht].set(this.program,ht,de[ht]);it&&it.setUniforms(this.program,a,this.binderUniforms,$e,{zoom:tt});const Ze={[Xe.LINES]:2,[Xe.TRIANGLES]:3,[Xe.LINE_STRIP]:1}[u];for(const ht of Re.get()){const nt=ht.vaos||(ht.vaos={});(nt[ge]||(nt[ge]=new On)).bind(a,this,ke,it?it.getPaintVertexBuffers():[],Ce,ht.vertexOffset,rt||[]),Xe.drawElements(u,ht.primitiveLength*Ze,Xe.UNSIGNED_SHORT,ht.primitiveOffset*Ze*2)}}}function Fl(_,a){const u=Math.pow(2,a.tileID.overscaledZ),x=a.tileSize*Math.pow(2,_.transform.tileZoom)/u,D=x*(a.tileID.canonical.x+a.tileID.wrap*u),B=x*a.tileID.canonical.y;return{u_image:0,u_texsize:a.imageAtlasTexture.size,u_tile_units_to_pixels:1/q(a,1,_.transform.tileZoom),u_pixel_coord_upper:[D>>16,B>>16],u_pixel_coord_lower:[65535&D,65535&B]}}const $a=n.create(),kh=(_,a,u,x,D,B,oe,de,ge,ke,Ce)=>{const Re=a.style.light,$e=Re.properties.get("position"),tt=[$e.x,$e.y,$e.z],it=n.create$1();Re.properties.get("anchor")==="viewport"&&(n.fromRotation(it,-a.transform.angle),n.transformMat3(tt,tt,it));const rt=Re.properties.get("color"),Xe=a.transform,Ze={u_matrix:_,u_lightpos:tt,u_lightintensity:Re.properties.get("intensity"),u_lightcolor:[rt.r,rt.g,rt.b],u_vertical_gradient:+u,u_opacity:x,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:$a,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:D,u_edge_radius:B};return Xe.projection.name==="globe"&&(Ze.u_tile_id=[oe.canonical.x,oe.canonical.y,1<<oe.canonical.z],Ze.u_zoom_transition=ge,Ze.u_inv_rot_matrix=Ce,Ze.u_merc_center=ke,Ze.u_up_dir=Xe.projection.upVector(new n.CanonicalTileID(0,0,0),ke[0]*n.EXTENT,ke[1]*n.EXTENT),Ze.u_height_lift=de),Ze},ms=(_,a,u,x,D,B,oe,de,ge,ke,Ce,Re)=>{const $e=kh(_,a,u,x,D,B,oe,ge,ke,Ce,Re),tt={u_height_factor:-Math.pow(2,oe.overscaledZ)/de.tileSize/8};return n.extend($e,Fl(a,de),tt)},Wo=_=>({u_matrix:_}),Qc=(_,a,u)=>n.extend(Wo(_),Fl(a,u)),yc=(_,a)=>({u_matrix:_,u_world:a}),so=(_,a,u,x)=>n.extend(Qc(_,a,u),{u_world:x}),Nl=n.create(),vc=(_,a,u,x,D,B)=>{const oe=_.transform,de=oe.projection.name==="globe";let ge;if(B.paint.get("circle-pitch-alignment")==="map")if(de){const Ce=n.globePixelsToTileUnits(oe.zoom,a.canonical)*oe._pixelsPerMercatorPixel;ge=Float32Array.from([Ce,0,0,Ce])}else ge=oe.calculatePixelsToTileUnitsMatrix(u);else ge=new Float32Array([oe.pixelsToGLUnits[0],0,0,oe.pixelsToGLUnits[1]]);const ke={u_camera_to_center_distance:oe.cameraToCenterDistance,u_matrix:_.translatePosMatrix(a.projMatrix,u,B.paint.get("circle-translate"),B.paint.get("circle-translate-anchor")),u_device_pixel_ratio:n.exported.devicePixelRatio,u_extrude_scale:ge,u_inv_rot_matrix:Nl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(de){ke.u_inv_rot_matrix=x,ke.u_merc_center=D,ke.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],ke.u_zoom_transition=n.globeToMercatorTransition(oe.zoom);const Ce=D[0]*n.EXTENT,Re=D[1]*n.EXTENT;ke.u_up_dir=oe.projection.upVector(new n.CanonicalTileID(0,0,0),Ce,Re)}return ke},dd=_=>{const a=[];return _.paint.get("circle-pitch-alignment")==="map"&&a.push("PITCH_WITH_MAP"),_.paint.get("circle-pitch-scale")==="map"&&a.push("SCALE_WITH_MAP"),a},xc=(_,a,u,x)=>{const D=n.EXTENT/u.tileSize;return{u_matrix:_,u_camera_to_center_distance:a.getCameraToCenterDistance(x),u_extrude_scale:[a.pixelsToGLUnits[0]/D,a.pixelsToGLUnits[1]/D]}},bc=(_,a,u=1)=>({u_matrix:_,u_color:a,u_overlay:0,u_overlay_scale:u}),cu=n.create(),jl=(_,a,u,x,D,B,oe)=>{const de=_.transform,ge=de.projection.name==="globe",ke=ge?n.globePixelsToTileUnits(de.zoom,a.canonical)*de._pixelsPerMercatorPixel:q(u,1,B),Ce={u_matrix:a.projMatrix,u_extrude_scale:ke,u_intensity:oe,u_inv_rot_matrix:cu,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(ge){Ce.u_inv_rot_matrix=x,Ce.u_merc_center=D,Ce.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],Ce.u_zoom_transition=n.globeToMercatorTransition(de.zoom);const Re=D[0]*n.EXTENT,$e=D[1]*n.EXTENT;Ce.u_up_dir=de.projection.upVector(new n.CanonicalTileID(0,0,0),Re,$e)}return Ce},ud=(_,a,u,x,D,B,oe)=>{const de=_.transform,ge=de.calculatePixelsToTileUnitsMatrix(a);return{u_matrix:Ul(_,a,u,x),u_pixels_to_tile_units:ge,u_device_pixel_ratio:B,u_units_to_pixels:[1/de.pixelsToGLUnits[0],1/de.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:D,u_texsize:Ph(u)?a.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Ha(a,_.transform),u_alpha_discard_threshold:0,u_trim_offset:oe}},ba=(_,a,u,x,D)=>{const B=_.transform;return{u_matrix:Ul(_,a,u,x),u_texsize:a.imageAtlasTexture.size,u_pixels_to_tile_units:B.calculatePixelsToTileUnitsMatrix(a),u_device_pixel_ratio:D,u_image:0,u_tile_units_to_pixels:Ha(a,B),u_units_to_pixels:[1/B.pixelsToGLUnits[0],1/B.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Ha(_,a){return 1/q(_,1,a.tileZoom)}function Ul(_,a,u,x){return _.translatePosMatrix(x||a.tileID.projMatrix,a,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}function Ph(_){const a=_.paint.get("line-dasharray").value;return a.value||a.kind!=="constant"}const wc=(_,a,u,x,D,B)=>{return{u_matrix:_,u_tl_parent:a,u_scale_parent:u,u_fade_t:x.mix,u_opacity:x.opacity*D.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:D.paint.get("raster-brightness-min"),u_brightness_high:D.paint.get("raster-brightness-max"),u_saturation_factor:(de=D.paint.get("raster-saturation"),de>0?1-1/(1.001-de):-de),u_contrast_factor:(oe=D.paint.get("raster-contrast"),oe>0?1/(1-oe):1+oe),u_spin_weights:Xo(D.paint.get("raster-hue-rotate")),u_perspective_transform:B};var oe,de};function Xo(_){_*=Math.PI/180;const a=Math.sin(_),u=Math.cos(_);return[(2*u+1)/3,(-Math.sqrt(3)*a-u+1)/3,(Math.sqrt(3)*a-u+1)/3]}const Hr=n.create(),cl=(_,a,u,x,D,B,oe,de,ge,ke,Ce,Re,$e,tt,it,rt)=>{const Xe=D.transform,Ze={u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:Xe.cameraToCenterDistance,u_rotate_symbol:+u,u_aspect_ratio:Xe.width/Xe.height,u_fade_change:D.options.fadeDuration?D.symbolFadeChange:1,u_matrix:B,u_label_plane_matrix:oe,u_coord_matrix:de,u_is_text:+ge,u_pitch_with_map:+x,u_texsize:ke,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Hr,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Hr,u_up_vector:[0,-1,0]};return rt.name==="globe"&&(Ze.u_tile_id=[Ce.canonical.x,Ce.canonical.y,1<<Ce.canonical.z],Ze.u_zoom_transition=Re,Ze.u_inv_rot_matrix=tt,Ze.u_merc_center=$e,Ze.u_camera_forward=Xe._camera.forward(),Ze.u_ecef_origin=n.globeECEFOrigin(Xe.globeMatrix,Ce.toUnwrapped()),Ze.u_tile_matrix=Float32Array.from(Xe.globeMatrix),Ze.u_up_vector=it),Ze},pd=(_,a,u,x,D,B,oe,de,ge,ke,Ce,Re,$e,tt,it,rt,Xe)=>n.extend(cl(_,a,u,x,D,B,oe,de,ge,ke,Re,$e,tt,it,rt,Xe),{u_gamma_scale:x?D.transform.cameraToCenterDistance*Math.cos(D.terrain?0:D.transform._pitch):1,u_device_pixel_ratio:n.exported.devicePixelRatio,u_is_halo:+Ce}),eh=(_,a,u,x,D,B,oe,de,ge,ke,Ce,Re,$e,tt,it,rt)=>n.extend(pd(_,a,u,x,D,B,oe,de,!0,ge,!0,Ce,Re,$e,tt,it,rt),{u_texsize_icon:ke,u_texture_icon:1}),bp=(_,a,u)=>({u_matrix:_,u_opacity:a,u_color:u}),os=(_,a,u,x,D)=>n.extend(function(B,oe,de){const ge=oe.imageManager.getPattern(B.toString()),{width:ke,height:Ce}=oe.imageManager.getPixelSize(),Re=Math.pow(2,de.tileID.overscaledZ),$e=de.tileSize*Math.pow(2,oe.transform.tileZoom)/Re,tt=$e*(de.tileID.canonical.x+de.tileID.wrap*Re),it=$e*de.tileID.canonical.y;return{u_image:0,u_pattern_tl:ge.tl,u_pattern_br:ge.br,u_texsize:[ke,Ce],u_pattern_size:ge.displaySize,u_tile_units_to_pixels:1/q(de,1,oe.transform.tileZoom),u_pixel_coord_upper:[tt>>16,it>>16],u_pixel_coord_lower:[65535&tt,65535&it]}}(x,u,D),{u_matrix:_,u_opacity:a}),po={fillExtrusion:_=>({u_matrix:new n.UniformMatrix4f(_),u_lightpos:new n.Uniform3f(_),u_lightintensity:new n.Uniform1f(_),u_lightcolor:new n.Uniform3f(_),u_vertical_gradient:new n.Uniform1f(_),u_opacity:new n.Uniform1f(_),u_edge_radius:new n.Uniform1f(_),u_ao:new n.Uniform2f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_up_dir:new n.Uniform3f(_),u_height_lift:new n.Uniform1f(_)}),fillExtrusionPattern:_=>({u_matrix:new n.UniformMatrix4f(_),u_lightpos:new n.Uniform3f(_),u_lightintensity:new n.Uniform1f(_),u_lightcolor:new n.Uniform3f(_),u_vertical_gradient:new n.Uniform1f(_),u_height_factor:new n.Uniform1f(_),u_edge_radius:new n.Uniform1f(_),u_ao:new n.Uniform2f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_up_dir:new n.Uniform3f(_),u_height_lift:new n.Uniform1f(_),u_image:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_pixel_coord_upper:new n.Uniform2f(_),u_pixel_coord_lower:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_),u_opacity:new n.Uniform1f(_)}),fill:_=>({u_matrix:new n.UniformMatrix4f(_)}),fillPattern:_=>({u_matrix:new n.UniformMatrix4f(_),u_image:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_pixel_coord_upper:new n.Uniform2f(_),u_pixel_coord_lower:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_)}),fillOutline:_=>({u_matrix:new n.UniformMatrix4f(_),u_world:new n.Uniform2f(_)}),fillOutlinePattern:_=>({u_matrix:new n.UniformMatrix4f(_),u_world:new n.Uniform2f(_),u_image:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_pixel_coord_upper:new n.Uniform2f(_),u_pixel_coord_lower:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_)}),circle:_=>({u_camera_to_center_distance:new n.Uniform1f(_),u_extrude_scale:new n.UniformMatrix2f(_),u_device_pixel_ratio:new n.Uniform1f(_),u_matrix:new n.UniformMatrix4f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_up_dir:new n.Uniform3f(_)}),collisionBox:_=>({u_matrix:new n.UniformMatrix4f(_),u_camera_to_center_distance:new n.Uniform1f(_),u_extrude_scale:new n.Uniform2f(_)}),collisionCircle:_=>({u_matrix:new n.UniformMatrix4f(_),u_inv_matrix:new n.UniformMatrix4f(_),u_camera_to_center_distance:new n.Uniform1f(_),u_viewport_size:new n.Uniform2f(_)}),debug:_=>({u_color:new n.UniformColor(_),u_matrix:new n.UniformMatrix4f(_),u_overlay:new n.Uniform1i(_),u_overlay_scale:new n.Uniform1f(_)}),clippingMask:_=>({u_matrix:new n.UniformMatrix4f(_)}),heatmap:_=>({u_extrude_scale:new n.Uniform1f(_),u_intensity:new n.Uniform1f(_),u_matrix:new n.UniformMatrix4f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_up_dir:new n.Uniform3f(_)}),heatmapTexture:_=>({u_image:new n.Uniform1i(_),u_color_ramp:new n.Uniform1i(_),u_opacity:new n.Uniform1f(_)}),hillshade:_=>({u_matrix:new n.UniformMatrix4f(_),u_image:new n.Uniform1i(_),u_latrange:new n.Uniform2f(_),u_light:new n.Uniform2f(_),u_shadow:new n.UniformColor(_),u_highlight:new n.UniformColor(_),u_accent:new n.UniformColor(_)}),hillshadePrepare:_=>({u_matrix:new n.UniformMatrix4f(_),u_image:new n.Uniform1i(_),u_dimension:new n.Uniform2f(_),u_zoom:new n.Uniform1f(_),u_unpack:new n.Uniform4f(_)}),line:_=>({u_matrix:new n.UniformMatrix4f(_),u_pixels_to_tile_units:new n.UniformMatrix2f(_),u_device_pixel_ratio:new n.Uniform1f(_),u_units_to_pixels:new n.Uniform2f(_),u_dash_image:new n.Uniform1i(_),u_gradient_image:new n.Uniform1i(_),u_image_height:new n.Uniform1f(_),u_texsize:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_),u_alpha_discard_threshold:new n.Uniform1f(_),u_trim_offset:new n.Uniform2f(_)}),linePattern:_=>({u_matrix:new n.UniformMatrix4f(_),u_texsize:new n.Uniform2f(_),u_pixels_to_tile_units:new n.UniformMatrix2f(_),u_device_pixel_ratio:new n.Uniform1f(_),u_image:new n.Uniform1i(_),u_units_to_pixels:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_),u_alpha_discard_threshold:new n.Uniform1f(_)}),raster:_=>({u_matrix:new n.UniformMatrix4f(_),u_tl_parent:new n.Uniform2f(_),u_scale_parent:new n.Uniform1f(_),u_fade_t:new n.Uniform1f(_),u_opacity:new n.Uniform1f(_),u_image0:new n.Uniform1i(_),u_image1:new n.Uniform1i(_),u_brightness_low:new n.Uniform1f(_),u_brightness_high:new n.Uniform1f(_),u_saturation_factor:new n.Uniform1f(_),u_contrast_factor:new n.Uniform1f(_),u_spin_weights:new n.Uniform3f(_),u_perspective_transform:new n.Uniform2f(_)}),symbolIcon:_=>({u_is_size_zoom_constant:new n.Uniform1i(_),u_is_size_feature_constant:new n.Uniform1i(_),u_size_t:new n.Uniform1f(_),u_size:new n.Uniform1f(_),u_camera_to_center_distance:new n.Uniform1f(_),u_rotate_symbol:new n.Uniform1i(_),u_aspect_ratio:new n.Uniform1f(_),u_fade_change:new n.Uniform1f(_),u_matrix:new n.UniformMatrix4f(_),u_label_plane_matrix:new n.UniformMatrix4f(_),u_coord_matrix:new n.UniformMatrix4f(_),u_is_text:new n.Uniform1i(_),u_pitch_with_map:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_camera_forward:new n.Uniform3f(_),u_tile_matrix:new n.UniformMatrix4f(_),u_up_vector:new n.Uniform3f(_),u_ecef_origin:new n.Uniform3f(_),u_texture:new n.Uniform1i(_)}),symbolSDF:_=>({u_is_size_zoom_constant:new n.Uniform1i(_),u_is_size_feature_constant:new n.Uniform1i(_),u_size_t:new n.Uniform1f(_),u_size:new n.Uniform1f(_),u_camera_to_center_distance:new n.Uniform1f(_),u_rotate_symbol:new n.Uniform1i(_),u_aspect_ratio:new n.Uniform1f(_),u_fade_change:new n.Uniform1f(_),u_matrix:new n.UniformMatrix4f(_),u_label_plane_matrix:new n.UniformMatrix4f(_),u_coord_matrix:new n.UniformMatrix4f(_),u_is_text:new n.Uniform1i(_),u_pitch_with_map:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_texture:new n.Uniform1i(_),u_gamma_scale:new n.Uniform1f(_),u_device_pixel_ratio:new n.Uniform1f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_camera_forward:new n.Uniform3f(_),u_tile_matrix:new n.UniformMatrix4f(_),u_up_vector:new n.Uniform3f(_),u_ecef_origin:new n.Uniform3f(_),u_is_halo:new n.Uniform1i(_)}),symbolTextAndIcon:_=>({u_is_size_zoom_constant:new n.Uniform1i(_),u_is_size_feature_constant:new n.Uniform1i(_),u_size_t:new n.Uniform1f(_),u_size:new n.Uniform1f(_),u_camera_to_center_distance:new n.Uniform1f(_),u_rotate_symbol:new n.Uniform1i(_),u_aspect_ratio:new n.Uniform1f(_),u_fade_change:new n.Uniform1f(_),u_matrix:new n.UniformMatrix4f(_),u_label_plane_matrix:new n.UniformMatrix4f(_),u_coord_matrix:new n.UniformMatrix4f(_),u_is_text:new n.Uniform1i(_),u_pitch_with_map:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_texsize_icon:new n.Uniform2f(_),u_texture:new n.Uniform1i(_),u_texture_icon:new n.Uniform1i(_),u_gamma_scale:new n.Uniform1f(_),u_device_pixel_ratio:new n.Uniform1f(_),u_is_halo:new n.Uniform1i(_)}),background:_=>({u_matrix:new n.UniformMatrix4f(_),u_opacity:new n.Uniform1f(_),u_color:new n.UniformColor(_)}),backgroundPattern:_=>({u_matrix:new n.UniformMatrix4f(_),u_opacity:new n.Uniform1f(_),u_image:new n.Uniform1i(_),u_pattern_tl:new n.Uniform2f(_),u_pattern_br:new n.Uniform2f(_),u_texsize:new n.Uniform2f(_),u_pattern_size:new n.Uniform2f(_),u_pixel_coord_upper:new n.Uniform2f(_),u_pixel_coord_lower:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_)}),terrainRaster:$n,terrainDepth:$n,skybox:_=>({u_matrix:new n.UniformMatrix4f(_),u_sun_direction:new n.Uniform3f(_),u_cubemap:new n.Uniform1i(_),u_opacity:new n.Uniform1f(_),u_temporal_offset:new n.Uniform1f(_)}),skyboxGradient:_=>({u_matrix:new n.UniformMatrix4f(_),u_color_ramp:new n.Uniform1i(_),u_center_direction:new n.Uniform3f(_),u_radius:new n.Uniform1f(_),u_opacity:new n.Uniform1f(_),u_temporal_offset:new n.Uniform1f(_)}),skyboxCapture:_=>({u_matrix_3f:new n.UniformMatrix3f(_),u_sun_direction:new n.Uniform3f(_),u_sun_intensity:new n.Uniform1f(_),u_color_tint_r:new n.Uniform4f(_),u_color_tint_m:new n.Uniform4f(_),u_luminance:new n.Uniform1f(_)}),globeRaster:_=>({u_proj_matrix:new n.UniformMatrix4f(_),u_globe_matrix:new n.UniformMatrix4f(_),u_normalize_matrix:new n.UniformMatrix4f(_),u_merc_matrix:new n.UniformMatrix4f(_),u_zoom_transition:new n.Uniform1f(_),u_merc_center:new n.Uniform2f(_),u_image0:new n.Uniform1i(_),u_grid_matrix:new n.UniformMatrix3f(_),u_frustum_tl:new n.Uniform3f(_),u_frustum_tr:new n.Uniform3f(_),u_frustum_br:new n.Uniform3f(_),u_frustum_bl:new n.Uniform3f(_),u_globe_pos:new n.Uniform3f(_),u_globe_radius:new n.Uniform1f(_),u_viewport:new n.Uniform2f(_)}),globeAtmosphere:_=>({u_frustum_tl:new n.Uniform3f(_),u_frustum_tr:new n.Uniform3f(_),u_frustum_br:new n.Uniform3f(_),u_frustum_bl:new n.Uniform3f(_),u_horizon:new n.Uniform1f(_),u_transition:new n.Uniform1f(_),u_fadeout_range:new n.Uniform1f(_),u_color:new n.Uniform4f(_),u_high_color:new n.Uniform4f(_),u_space_color:new n.Uniform4f(_),u_star_intensity:new n.Uniform1f(_),u_star_density:new n.Uniform1f(_),u_star_size:new n.Uniform1f(_),u_temporal_offset:new n.Uniform1f(_),u_horizon_angle:new n.Uniform1f(_),u_rotation_matrix:new n.UniformMatrix4f(_)})};let Wr;function Eo(_,a,u,x,D,B,oe){const de=_.context,ge=de.gl,ke=_.transform,Ce=_.useProgram("collisionBox"),Re=[];let $e=0,tt=0;for(let ft=0;ft<x.length;ft++){const Tt=x[ft],gt=a.getTile(Tt),kt=gt.getBucket(u);if(!kt)continue;const Wt=oa(Tt,kt,ke);let Nt=Wt;D[0]===0&&D[1]===0||(Nt=_.translatePosMatrix(Wt,gt,D,B));const Dt=oe?kt.textCollisionBox:kt.iconCollisionBox,pi=kt.collisionCircleArray;if(pi.length>0){const Ft=n.create(),ri=Nt;n.mul(Ft,kt.placementInvProjMatrix,ke.glCoordMatrix),n.mul(Ft,Ft,kt.placementViewportMatrix),Re.push({circleArray:pi,circleOffset:tt,transform:ri,invTransform:Ft,projection:kt.getProjection()}),$e+=pi.length/4,tt=$e}Dt&&(_.terrain&&_.terrain.setupElevationDraw(gt,Ce),Ce.draw(de,ge.LINES,n.DepthMode.disabled,n.StencilMode.disabled,_.colorModeForRenderPass(),n.CullFaceMode.disabled,xc(Nt,ke,gt,kt.getProjection()),u.id,Dt.layoutVertexBuffer,Dt.indexBuffer,Dt.segments,null,ke.zoom,null,[Dt.collisionVertexBuffer,Dt.collisionVertexBufferExt]))}if(!oe||!Re.length)return;const it=_.useProgram("collisionCircle"),rt=new n.StructArrayLayout2f1f2i16;rt.resize(4*$e),rt._trim();let Xe=0;for(const ft of Re)for(let Tt=0;Tt<ft.circleArray.length/4;Tt++){const gt=4*Tt,kt=ft.circleArray[gt+0],Wt=ft.circleArray[gt+1],Nt=ft.circleArray[gt+2],Dt=ft.circleArray[gt+3];rt.emplace(Xe++,kt,Wt,Nt,Dt,0),rt.emplace(Xe++,kt,Wt,Nt,Dt,1),rt.emplace(Xe++,kt,Wt,Nt,Dt,2),rt.emplace(Xe++,kt,Wt,Nt,Dt,3)}(!Wr||Wr.length<2*$e)&&(Wr=function(ft){const Tt=2*ft,gt=new n.StructArrayLayout3ui6;gt.resize(Tt),gt._trim();for(let kt=0;kt<Tt;kt++){const Wt=6*kt;gt.uint16[Wt+0]=4*kt+0,gt.uint16[Wt+1]=4*kt+1,gt.uint16[Wt+2]=4*kt+2,gt.uint16[Wt+3]=4*kt+2,gt.uint16[Wt+4]=4*kt+3,gt.uint16[Wt+5]=4*kt+0}return gt}($e));const Ze=de.createIndexBuffer(Wr,!0),ht=de.createVertexBuffer(rt,n.collisionCircleLayout.members,!0);for(const ft of Re){const Tt={u_matrix:ft.transform,u_inv_matrix:ft.invTransform,u_camera_to_center_distance:(nt=ke).getCameraToCenterDistance(ft.projection),u_viewport_size:[nt.width,nt.height]};it.draw(de,ge.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,_.colorModeForRenderPass(),n.CullFaceMode.disabled,Tt,u.id,ht,Ze,n.SegmentVector.simpleSegment(0,2*ft.circleOffset,ft.circleArray.length,ft.circleArray.length/2),null,ke.zoom)}var nt;ht.destroy(),Ze.destroy()}const Gl=n.create();function hu({width:_,height:a,anchor:u,textOffset:x,textScale:D},B){const{horizontalAlign:oe,verticalAlign:de}=n.getAnchorAlignment(u),ge=-(oe-.5)*_,ke=-(de-.5)*a,Ce=n.evaluateVariableOffset(u,x);return new n.pointGeometry((ge/D+Ce[0])*B,(ke/D+Ce[1])*B)}function du(_,a,u,x,D,B,oe,de,ge,ke,Ce){const Re=_.text.placedSymbolArray,$e=_.text.dynamicLayoutVertexArray,tt=_.icon.dynamicLayoutVertexArray,it={},rt=_.getProjection(),Xe=Il(de,rt,B),Ze=B.elevation,ht=rt.upVectorScale(de.canonical,B.center.lat,B.worldSize).metersToTile;$e.clear();for(let nt=0;nt<Re.length;nt++){const ft=Re.get(nt),{tileAnchorX:Tt,tileAnchorY:gt,numGlyphs:kt}=ft,Wt=_.allowVerticalPlacement&&!ft.placedOrientation,Nt=ft.hidden||!ft.crossTileID||Wt?null:x[ft.crossTileID];if(Nt){let Dt=0,pi=0,Ft=0;if(Ze){const Hi=Ze?Ze.getAtTileOffset(de,Tt,gt):0,[nn,Wi,fn]=rt.upVector(de.canonical,Tt,gt);Dt=Hi*nn*ht,pi=Hi*Wi*ht,Ft=Hi*fn*ht}let[ri,Yt,vi,qt]=Or(ft.projectedAnchorX+Dt,ft.projectedAnchorY+pi,ft.projectedAnchorZ+Ft,u?Xe:oe);const di=Oi(B.getCameraToCenterDistance(rt),qt);let wi=D.evaluateSizeForFeature(_.textSizeData,ke,ft)*di/n.ONE_EM;u&&(wi*=_.tilePixelRatio/ge);const Rt=hu(Nt,wi);u?({x:ri,y:Yt,z:vi}=rt.projectTilePoint(Tt+Rt.x,gt+Rt.y,de.canonical),[ri,Yt,vi]=Or(ri+Dt,Yt+pi,vi+Ft,oe)):(a&&Rt._rotate(-B.angle),ri+=Rt.x,Yt+=Rt.y,vi=0);const Xt=_.allowVerticalPlacement&&ft.placedOrientation===n.WritingMode.vertical?Math.PI/2:0;for(let Hi=0;Hi<kt;Hi++)n.addDynamicAttributes($e,ri,Yt,vi,Xt);Ce&&ft.associatedIconIndex>=0&&(it[ft.associatedIconIndex]={x:ri,y:Yt,z:vi,angle:Xt})}else Sr(kt,$e)}if(Ce){tt.clear();const nt=_.icon.placedSymbolArray;for(let ft=0;ft<nt.length;ft++){const Tt=nt.get(ft),{numGlyphs:gt}=Tt,kt=it[ft];if(Tt.hidden||!kt)Sr(gt,tt);else{const{x:Wt,y:Nt,z:Dt,angle:pi}=kt;for(let Ft=0;Ft<gt;Ft++)n.addDynamicAttributes(tt,Wt,Nt,Dt,pi)}}_.icon.dynamicLayoutVertexBuffer.updateData(tt)}_.text.dynamicLayoutVertexBuffer.updateData($e)}function uu(_,a,u){return u.iconsInText&&a?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function Co(_,a,u,x,D,B,oe,de,ge,ke,Ce,Re){const $e=_.context,tt=$e.gl,it=_.transform,rt=de==="map",Xe=ge==="map",Ze=rt&&u.layout.get("symbol-placement")!=="point",ht=rt&&!Xe&&!Ze,nt=u.layout.get("symbol-sort-key").constantOr(1)!==void 0;let ft=!1;const Tt=_.depthModeForSublayer(0,n.DepthMode.ReadOnly),gt=[n.mercatorXfromLng(it.center.lng),n.mercatorYfromLat(it.center.lat)],kt=u.layout.get("text-variable-anchor"),Wt=it.projection.name==="globe",Nt=[],Dt=[0,-1,0];let pi=Dt;!Wt&&!it.mercatorFromTransition||rt||(pi=function(Ft){const ri=Ft._camera.getWorldToCamera(Ft.worldSize,1),Yt=n.multiply([],ri,Ft.globeMatrix);n.invert(Yt,Yt);const vi=[0,0,0],qt=[0,1,0,0];return n.transformMat4$1(qt,qt,Yt),vi[0]=qt[0],vi[1]=qt[1],vi[2]=qt[2],n.normalize(vi,vi),vi}(it));for(const Ft of x){const ri=a.getTile(Ft),Yt=ri.getBucket(u);if(!Yt||Yt.projection.name==="mercator"&&Wt)continue;const vi=D?Yt.text:Yt.icon;if(!vi||Yt.fullyClipped||!vi.segments.get().length)continue;const qt=vi.programConfigurations.get(u.id),di=D||Yt.sdfIcons,wi=D?Yt.textSizeData:Yt.iconSizeData,Rt=Xe||it.pitch!==0,Xt=n.evaluateSizeForZoom(wi,it.zoom);let Hi,nn,Wi,fn,Bn=[0,0],rn=null;if(D){if(nn=ri.glyphAtlasTexture,Wi=tt.LINEAR,Hi=ri.glyphAtlasTexture.size,Yt.iconsInText){Bn=ri.imageAtlasTexture.size,rn=ri.imageAtlasTexture;const qo=wi.kind==="composite"||wi.kind==="camera";fn=Rt||_.options.rotating||_.options.zooming||qo?tt.LINEAR:tt.NEAREST}}else{const qo=u.layout.get("icon-size").constantOr(0)!==1||Yt.iconsNeedLinear;nn=ri.imageAtlasTexture,Wi=di||_.options.rotating||_.options.zooming||qo||Rt?tt.LINEAR:tt.NEAREST,Hi=ri.imageAtlasTexture.size}const Vi=Yt.projection.name==="globe",Es=Vi?pi:Dt,ds=Vi?n.globeToMercatorTransition(it.zoom):0,ks=Il(Ft,Yt.getProjection(),it),bs=it.calculatePixelsToTileUnitsMatrix(ri),Yo=Kr(ks,ri.tileID.canonical,Xe,rt,it,Yt.getProjection(),bs),Ao=_.terrain&&Xe&&Ze?n.invert(n.create(),Yo):Gl,mo=ld(ks,ri.tileID.canonical,Xe,rt,it,Yt.getProjection(),bs),Xa=kt&&Yt.hasTextData(),js=u.layout.get("icon-text-fit")!=="none"&&Xa&&Yt.hasIconData();if(Ze){const qo=it.elevation,pl=qo?qo.getAtTileOffsetFunc(Ft,it.center.lat,it.worldSize,Yt.getProjection()):null,Ta=Th(ks,ri.tileID.canonical,Xe,rt,it,Yt.getProjection(),bs);Nn(Yt,ks,_,D,Ta,mo,Xe,ke,pl,Ft)}const ws=Ze||D&&kt||js,as=_.translatePosMatrix(ks,ri,B,oe),mr=ws?Gl:Yo,oo=_.translatePosMatrix(mo,ri,B,oe,!0),Us=Yt.getProjection().createInversionMatrix(it,Ft.canonical),go=[];_.terrainRenderModeElevated()&&Xe&&go.push("PITCH_WITH_MAP_TERRAIN"),Vi&&go.push("PROJECTION_GLOBE_VIEW"),ws&&go.push("PROJECTED_POS_ON_VIEWPORT");const xd=di&&u.paint.get(D?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ya;Ya=di?Yt.iconsInText?eh(wi.kind,Xt,ht,Xe,_,as,mr,oo,Hi,Bn,Ft,ds,gt,Us,Es,Yt.getProjection()):pd(wi.kind,Xt,ht,Xe,_,as,mr,oo,D,Hi,!0,Ft,ds,gt,Us,Es,Yt.getProjection()):cl(wi.kind,Xt,ht,Xe,_,as,mr,oo,D,Hi,Ft,ds,gt,Us,Es,Yt.getProjection());const ao={program:_.useProgram(uu(di,D,Yt),qt,go),buffers:vi,uniformValues:Ya,atlasTexture:nn,atlasTextureIcon:rn,atlasInterpolation:Wi,atlasInterpolationIcon:fn,isSDF:di,hasHalo:xd,tile:ri,labelPlaneMatrixInv:Ao};if(nt&&Yt.canOverlap){ft=!0;const qo=vi.segments.get();for(const pl of qo)Nt.push({segments:new n.SegmentVector([pl]),sortKey:pl.sortKey,state:ao})}else Nt.push({segments:vi.segments,sortKey:0,state:ao})}ft&&Nt.sort((Ft,ri)=>Ft.sortKey-ri.sortKey);for(const Ft of Nt){const ri=Ft.state;if(_.terrain&&_.terrain.setupElevationDraw(ri.tile,ri.program,{useDepthForOcclusion:!Wt,labelPlaneMatrixInv:ri.labelPlaneMatrixInv}),$e.activeTexture.set(tt.TEXTURE0),ri.atlasTexture.bind(ri.atlasInterpolation,tt.CLAMP_TO_EDGE),ri.atlasTextureIcon&&($e.activeTexture.set(tt.TEXTURE1),ri.atlasTextureIcon&&ri.atlasTextureIcon.bind(ri.atlasInterpolationIcon,tt.CLAMP_TO_EDGE)),ri.isSDF){const Yt=ri.uniformValues;ri.hasHalo&&(Yt.u_is_halo=1,It(ri.buffers,Ft.segments,u,_,ri.program,Tt,Ce,Re,Yt)),Yt.u_is_halo=0}It(ri.buffers,Ft.segments,u,_,ri.program,Tt,Ce,Re,ri.uniformValues)}}function It(_,a,u,x,D,B,oe,de,ge){const ke=x.context,Ce=[_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer,_.globeExtVertexBuffer];D.draw(ke,ke.gl.TRIANGLES,B,oe,de,n.CullFaceMode.disabled,ge,u.id,_.layoutVertexBuffer,_.indexBuffer,a,u.paint,x.transform.zoom,_.programConfigurations.get(u.id),Ce)}function ci(_,a,u,x,D,B,oe){const de=_.context.gl,ge=u.paint.get("fill-pattern"),ke=ge&&ge.constantOr(1);let Ce,Re,$e,tt,it;oe?(Re=ke&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ce=de.LINES):(Re=ke?"fillPattern":"fill",Ce=de.TRIANGLES);for(const rt of x){const Xe=a.getTile(rt);if(ke&&!Xe.patternsLoaded())continue;const Ze=Xe.getBucket(u);if(!Ze)continue;_.prepareDrawTile();const ht=Ze.programConfigurations.get(u.id),nt=_.useProgram(Re,ht);ke&&(_.context.activeTexture.set(de.TEXTURE0),Xe.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),ht.updatePaintBuffers());const ft=ge.constantOr(null);if(ft&&Xe.imageAtlas){const gt=Xe.imageAtlas.patternPositions[ft.toString()];gt&&ht.setConstantPatternPositions(gt)}const Tt=_.translatePosMatrix(rt.projMatrix,Xe,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(oe){tt=Ze.indexBuffer2,it=Ze.segments2;const gt=_.terrain&&_.terrain.renderingToTexture?_.terrain.drapeBufferSize:[de.drawingBufferWidth,de.drawingBufferHeight];$e=Re==="fillOutlinePattern"&&ke?so(Tt,_,Xe,gt):yc(Tt,gt)}else tt=Ze.indexBuffer,it=Ze.segments,$e=ke?Qc(Tt,_,Xe):Wo(Tt);_.prepareDrawProgram(_.context,nt,rt.toUnwrapped()),nt.draw(_.context,Ce,D,_.stencilModeForClipping(rt),B,n.CullFaceMode.disabled,$e,u.id,Ze.layoutVertexBuffer,tt,it,u.paint,_.transform.zoom,ht)}}function ti(_,a,u,x,D,B,oe){const de=_.context,ge=de.gl,ke=_.transform,Ce=u.paint.get("fill-extrusion-pattern"),Re=Ce.constantOr(1),$e=u.paint.get("fill-extrusion-opacity"),tt=[u.paint.get("fill-extrusion-ambient-occlusion-intensity"),u.paint.get("fill-extrusion-ambient-occlusion-radius")],it=u.layout.get("fill-extrusion-edge-radius"),rt=ke.projection.name==="globe"?n.fillExtrusionHeightLift():0,Xe=ke.projection.name==="globe",Ze=Xe?n.globeToMercatorTransition(ke.zoom):0,ht=[n.mercatorXfromLng(ke.center.lng),n.mercatorYfromLat(ke.center.lat)],nt=[];Xe&&(nt.push("PROJECTION_GLOBE_VIEW"),_.style.terrainSetForDrapingOnly()&&nt.push("TERRAIN")),tt[0]>0&&nt.push("FAUX_AO");for(const ft of x){const Tt=a.getTile(ft),gt=Tt.getBucket(u);if(!gt||gt.projection.name!==ke.projection.name)continue;const kt=gt.programConfigurations.get(u.id),Wt=_.useProgram(Re?"fillExtrusionPattern":"fillExtrusion",kt,nt);if(_.terrain){const vi=_.terrain;if(_.style.terrainSetForDrapingOnly())vi.setupElevationDraw(Tt,Wt,{useMeterToDem:!0});else{if(!gt.enableTerrain)continue;if(vi.setupElevationDraw(Tt,Wt,{useMeterToDem:!0}),Ki(de,a,ft,gt,u,vi),!gt.centroidVertexBuffer){const qt=Wt.attributes.a_centroid_pos;qt!==void 0&&ge.vertexAttrib2f(qt,0,0)}}}Re&&(_.context.activeTexture.set(ge.TEXTURE0),Tt.imageAtlasTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),kt.updatePaintBuffers());const Nt=Ce.constantOr(null);if(Nt&&Tt.imageAtlas){const vi=Tt.imageAtlas.patternPositions[Nt.toString()];vi&&kt.setConstantPatternPositions(vi)}const Dt=_.translatePosMatrix(ft.projMatrix,Tt,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),pi=ke.projection.createInversionMatrix(ke,ft.canonical),Ft=u.paint.get("fill-extrusion-vertical-gradient"),ri=Re?ms(Dt,_,Ft,$e,tt,it,ft,Tt,rt,Ze,ht,pi):kh(Dt,_,Ft,$e,tt,it,ft,rt,Ze,ht,pi);_.prepareDrawProgram(de,Wt,ft.toUnwrapped());const Yt=[];_.terrain&&Yt.push(gt.centroidVertexBuffer),Xe&&Yt.push(gt.layoutVertexExtBuffer),Wt.draw(de,de.gl.TRIANGLES,D,B,oe,n.CullFaceMode.backCCW,ri,u.id,gt.layoutVertexBuffer,gt.indexBuffer,gt.segments,u.paint,_.transform.zoom,kt,Yt)}}function Ki(_,a,u,x,D,B){const oe=[Ze=>{let ht=Ze.canonical.x-1,nt=Ze.wrap;return ht<0&&(ht=(1<<Ze.canonical.z)-1,nt--),new n.OverscaledTileID(Ze.overscaledZ,nt,Ze.canonical.z,ht,Ze.canonical.y)},Ze=>{let ht=Ze.canonical.x+1,nt=Ze.wrap;return ht===1<<Ze.canonical.z&&(ht=0,nt++),new n.OverscaledTileID(Ze.overscaledZ,nt,Ze.canonical.z,ht,Ze.canonical.y)},Ze=>new n.OverscaledTileID(Ze.overscaledZ,Ze.wrap,Ze.canonical.z,Ze.canonical.x,(Ze.canonical.y===0?1<<Ze.canonical.z:Ze.canonical.y)-1),Ze=>new n.OverscaledTileID(Ze.overscaledZ,Ze.wrap,Ze.canonical.z,Ze.canonical.x,Ze.canonical.y===(1<<Ze.canonical.z)-1?0:Ze.canonical.y+1)],de=Ze=>{const ht=a.getSource().minzoom,nt=Tt=>{const gt=a.getTileByID(Tt);if(gt&&gt.hasData())return gt.getBucket(D)},ft=[0,-1,1];for(const Tt of ft){if(Ze.overscaledZ+Tt<ht)continue;const gt=nt(Ze.calculateScaledKey(Ze.overscaledZ+Tt));if(gt)return gt}},ge=[0,0,0],ke=(Ze,ht)=>(ge[0]=Math.min(Ze.min.y,ht.min.y),ge[1]=Math.max(Ze.max.y,ht.max.y),ge[2]=n.EXTENT-ht.min.x>Ze.max.x?ht.min.x-n.EXTENT:Ze.max.x,ge),Ce=(Ze,ht)=>(ge[0]=Math.min(Ze.min.x,ht.min.x),ge[1]=Math.max(Ze.max.x,ht.max.x),ge[2]=n.EXTENT-ht.min.y>Ze.max.y?ht.min.y-n.EXTENT:Ze.max.y,ge),Re=[(Ze,ht)=>ke(Ze,ht),(Ze,ht)=>ke(ht,Ze),(Ze,ht)=>Ce(Ze,ht),(Ze,ht)=>Ce(ht,Ze)],$e=new n.pointGeometry(0,0);let tt,it,rt;const Xe=(Ze,ht,nt,ft,Tt)=>{const gt=[[ft?nt:Ze,ft?Ze:nt,0],[ft?nt:ht,ft?ht:nt,0]],kt=Tt<0?n.EXTENT+Tt:Tt,Wt=[ft?kt:(Ze+ht)/2,ft?(Ze+ht)/2:kt,0];return nt===0&&Tt<0||nt!==0&&Tt>0?B.getForTilePoints(rt,[Wt],!0,it):gt.push(Wt),B.getForTilePoints(u,gt,!0,tt),Math.max(gt[0][2],gt[1][2],Wt[2])/B.exaggeration()};for(let Ze=0;Ze<4;Ze++){const ht=(Ze<2?1:5)-Ze,nt=x.borders[Ze];if(nt.length===0)continue;const ft=rt=oe[Ze](u),Tt=de(ft);if(!(Tt&&Tt instanceof n.FillExtrusionBucket&&Tt.enableTerrain)||x.borderDoneWithNeighborZ[Ze]===Tt.canonical.z&&Tt.borderDoneWithNeighborZ[ht]===x.canonical.z||(it=B.findDEMTileFor(ft),!it||!it.dem))continue;if(!tt){const Nt=B.findDEMTileFor(u);if(!Nt||!Nt.dem)return;tt=Nt}const gt=Tt.borders[ht];let kt=0;const Wt=Tt.borderDoneWithNeighborZ[ht]!==x.canonical.z;if(x.canonical.z===Tt.canonical.z){for(let Nt=0;Nt<nt.length;Nt++){const Dt=x.featuresOnBorder[nt[Nt]],pi=Dt.borders[Ze];let Ft;for(;kt<gt.length&&(Ft=Tt.featuresOnBorder[gt[kt]],!(Ft.borders[ht][1]>pi[0]+3));)Wt&&Tt.encodeCentroid(void 0,Ft,!1),kt++;if(Ft&&kt<gt.length){const ri=kt;let Yt=0;for(;!(Ft.borders[ht][0]>pi[1]-3)&&(Yt++,++kt!==gt.length);)Ft=Tt.featuresOnBorder[gt[kt]];if(Ft=Tt.featuresOnBorder[gt[ri]],Dt.intersectsCount()>1||Ft.intersectsCount()>1||Yt!==1){Yt!==1&&(kt=ri),x.encodeCentroid(void 0,Dt,!1),Wt&&Tt.encodeCentroid(void 0,Ft,!1);continue}const vi=Re[Ze](Dt,Ft),qt=Ze%2?n.EXTENT-1:0;$e.x=Xe(vi[0],Math.min(n.EXTENT-1,vi[1]),qt,Ze<2,vi[2]),$e.y=0,x.encodeCentroid($e,Dt,!1),Wt&&Tt.encodeCentroid($e,Ft,!1)}else x.encodeCentroid(void 0,Dt,!1)}x.borderDoneWithNeighborZ[Ze]=Tt.canonical.z,x.needsCentroidUpdate=!0,Wt&&(Tt.borderDoneWithNeighborZ[ht]=x.canonical.z,Tt.needsCentroidUpdate=!0)}else{for(const Nt of nt)x.encodeCentroid(void 0,x.featuresOnBorder[Nt],!1);if(Wt){for(const Nt of gt)Tt.encodeCentroid(void 0,Tt.featuresOnBorder[Nt],!1);Tt.borderDoneWithNeighborZ[ht]=x.canonical.z,Tt.needsCentroidUpdate=!0}x.borderDoneWithNeighborZ[Ze]=Tt.canonical.z,x.needsCentroidUpdate=!0}}(x.needsCentroidUpdate||!x.centroidVertexBuffer&&x.centroidVertexArray.length!==0)&&x.uploadCentroid(_)}const In=new n.Color(1,0,0,1),hs=new n.Color(0,1,0,1),pr=new n.Color(0,0,1,1),gs=new n.Color(1,0,1,1),Tc=new n.Color(0,1,1,1);function Dh(_,a,u){const x=_.context,D=_.transform,B=x.gl,oe=D.projection.name==="globe",de=oe?["PROJECTION_GLOBE_VIEW"]:null;let ge=u.projMatrix;if(oe&&n.globeToMercatorTransition(D.zoom)>0){const Dt=n.transitionTileAABBinECEF(u.canonical,D),pi=n.globeDenormalizeECEF(Dt);ge=n.multiply(new Float32Array(16),D.globeMatrix,pi),n.multiply(ge,D.projMatrix,ge)}const ke=_.useProgram("debug",null,de),Ce=a.getTileByID(u.key);_.terrain&&_.terrain.setupElevationDraw(Ce,ke);const Re=n.DepthMode.disabled,$e=n.StencilMode.disabled,tt=_.colorModeForRenderPass(),it="$debug";x.activeTexture.set(B.TEXTURE0),_.emptyTexture.bind(B.LINEAR,B.CLAMP_TO_EDGE),oe?Ce._makeGlobeTileDebugBuffers(_.context,D):Ce._makeDebugTileBoundsBuffers(_.context,D.projection);const rt=Ce._tileDebugBuffer||_.debugBuffer,Xe=Ce._tileDebugIndexBuffer||_.debugIndexBuffer,Ze=Ce._tileDebugSegments||_.debugSegments;ke.draw(x,B.LINE_STRIP,Re,$e,tt,n.CullFaceMode.disabled,bc(ge,n.Color.red),it,rt,Xe,Ze,null,null,null,[Ce._globeTileDebugBorderBuffer]);const ht=Ce.latestRawTileData,nt=Math.floor((ht&&ht.byteLength||0)/1024),ft=a.getTile(u).tileSize,Tt=512/Math.min(ft,512)*(u.overscaledZ/D.zoom)*.5;let gt=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(gt+=` => ${u.overscaledZ}`),gt+=` ${nt}kb`,function(Dt,pi){Dt.initDebugOverlayCanvas();const Ft=Dt.debugOverlayCanvas,ri=Dt.context.gl,Yt=Dt.debugOverlayCanvas.getContext("2d");Yt.clearRect(0,0,Ft.width,Ft.height),Yt.shadowColor="white",Yt.shadowBlur=2,Yt.lineWidth=1.5,Yt.strokeStyle="white",Yt.textBaseline="top",Yt.font="bold 36px Open Sans, sans-serif",Yt.fillText(pi,5,5),Yt.strokeText(pi,5,5),Dt.debugOverlayTexture.update(Ft),Dt.debugOverlayTexture.bind(ri.LINEAR,ri.CLAMP_TO_EDGE)}(_,gt);const kt=Ce._tileDebugTextBuffer||_.debugBuffer,Wt=Ce._tileDebugTextIndexBuffer||_.quadTriangleIndexBuffer,Nt=Ce._tileDebugTextSegments||_.debugSegments;ke.draw(x,B.TRIANGLES,Re,$e,n.ColorMode.alphaBlended,n.CullFaceMode.disabled,bc(ge,n.Color.transparent,Tt),it,kt,Wt,Nt,null,null,null,[Ce._globeTileDebugTextBuffer])}function fo(_,a,u,x){xt(_,0,a+u/2,_.transform.width,u,x)}function Je(_,a,u,x){xt(_,a-u/2,0,u,_.transform.height,x)}function xt(_,a,u,x,D,B){const oe=_.context,de=oe.gl;de.enable(de.SCISSOR_TEST),de.scissor(a*n.exported.devicePixelRatio,u*n.exported.devicePixelRatio,x*n.exported.devicePixelRatio,D*n.exported.devicePixelRatio),oe.clear({color:B}),de.disable(de.SCISSOR_TEST)}const Pt=n.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:hi}=Pt;function Lt(_,a,u,x){_.emplaceBack(a,u,x)}class Qt{constructor(a){this.vertexArray=new n.StructArrayLayout3f12,this.indices=new n.StructArrayLayout3ui6,Lt(this.vertexArray,-1,-1,1),Lt(this.vertexArray,1,-1,1),Lt(this.vertexArray,-1,1,1),Lt(this.vertexArray,1,1,1),Lt(this.vertexArray,-1,-1,-1),Lt(this.vertexArray,1,-1,-1),Lt(this.vertexArray,-1,1,-1),Lt(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=a.createVertexBuffer(this.vertexArray,hi),this.indexBuffer=a.createIndexBuffer(this.indices),this.segment=n.SegmentVector.simpleSegment(0,0,36,12)}}function Si(_,a,u,x,D,B){const oe=_.gl,de=a.paint.get("sky-atmosphere-color"),ge=a.paint.get("sky-atmosphere-halo-color"),ke=a.paint.get("sky-atmosphere-sun-intensity"),Ce=((Re,$e,tt,it,rt)=>({u_matrix_3f:Re,u_sun_direction:$e,u_sun_intensity:tt,u_color_tint_r:[it.r,it.g,it.b,it.a],u_color_tint_m:[rt.r,rt.g,rt.b,rt.a],u_luminance:5e-5}))(n.fromMat4(n.create$1(),x),D,ke,de,ge);oe.framebufferTexture2D(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_CUBE_MAP_POSITIVE_X+B,a.skyboxTexture,0),u.draw(_,oe.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.frontCW,Ce,"skyboxCapture",a.skyboxGeometry.vertexBuffer,a.skyboxGeometry.indexBuffer,a.skyboxGeometry.segment)}const ji=n.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class bi{constructor(a){const u=new n.StructArrayLayout5f20;u.emplaceBack(-1,1,1,0,0),u.emplaceBack(1,1,1,1,0),u.emplaceBack(1,-1,1,1,1),u.emplaceBack(-1,-1,1,0,1);const x=new n.StructArrayLayout3ui6;x.emplaceBack(0,1,2),x.emplaceBack(2,3,0),this.vertexBuffer=a.createVertexBuffer(u,ji.members),this.indexBuffer=a.createIndexBuffer(x),this.segments=n.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const mn={symbol:function(_,a,u,x,D){if(_.renderPass!=="translucent")return;const B=n.StencilMode.disabled,oe=_.colorModeForRenderPass();u.layout.get("text-variable-anchor")&&function(de,ge,ke,Ce,Re,$e,tt){const it=ge.transform,rt=Re==="map",Xe=$e==="map";for(const Ze of de){const ht=Ce.getTile(Ze),nt=ht.getBucket(ke);if(!nt||!nt.text||!nt.text.segments.get().length)continue;const ft=n.evaluateSizeForZoom(nt.textSizeData,it.zoom),Tt=Il(Ze,nt.getProjection(),it),gt=it.calculatePixelsToTileUnitsMatrix(ht),kt=Kr(Tt,ht.tileID.canonical,Xe,rt,it,nt.getProjection(),gt),Wt=ke.layout.get("icon-text-fit")!=="none"&&nt.hasIconData();if(ft){const Nt=Math.pow(2,it.zoom-ht.tileID.overscaledZ);du(nt,rt,Xe,tt,n.symbolSize,it,kt,Ze,Nt,ft,Wt)}}}(x,_,u,a,u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),D),u.paint.get("icon-opacity").constantOr(1)!==0&&Co(_,a,u,x,!1,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),u.layout.get("icon-rotation-alignment"),u.layout.get("icon-pitch-alignment"),u.layout.get("icon-keep-upright"),B,oe),u.paint.get("text-opacity").constantOr(1)!==0&&Co(_,a,u,x,!0,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),u.layout.get("text-keep-upright"),B,oe),a.map.showCollisionBoxes&&(Eo(_,a,u,x,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),!0),Eo(_,a,u,x,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),!1))},circle:function(_,a,u,x){if(_.renderPass!=="translucent")return;const D=u.paint.get("circle-opacity"),B=u.paint.get("circle-stroke-width"),oe=u.paint.get("circle-stroke-opacity"),de=u.layout.get("circle-sort-key").constantOr(1)!==void 0;if(D.constantOr(1)===0&&(B.constantOr(1)===0||oe.constantOr(1)===0))return;const ge=_.context,ke=ge.gl,Ce=_.transform,Re=_.depthModeForSublayer(0,n.DepthMode.ReadOnly),$e=n.StencilMode.disabled,tt=_.colorModeForRenderPass(),it=Ce.projection.name==="globe",rt=[n.mercatorXfromLng(Ce.center.lng),n.mercatorYfromLat(Ce.center.lat)],Xe=[];for(let ht=0;ht<x.length;ht++){const nt=x[ht],ft=a.getTile(nt),Tt=ft.getBucket(u);if(!Tt||Tt.projection.name!==Ce.projection.name)continue;const gt=Tt.programConfigurations.get(u.id),kt=dd(u);it&&kt.push("PROJECTION_GLOBE_VIEW");const Wt=_.useProgram("circle",gt,kt),Nt=Tt.layoutVertexBuffer,Dt=Tt.globeExtVertexBuffer,pi=Tt.indexBuffer,Ft=Ce.projection.createInversionMatrix(Ce,nt.canonical),ri={programConfiguration:gt,program:Wt,layoutVertexBuffer:Nt,globeExtVertexBuffer:Dt,indexBuffer:pi,uniformValues:vc(_,nt,ft,Ft,rt,u),tile:ft};if(de){const Yt=Tt.segments.get();for(const vi of Yt)Xe.push({segments:new n.SegmentVector([vi]),sortKey:vi.sortKey,state:ri})}else Xe.push({segments:Tt.segments,sortKey:0,state:ri})}de&&Xe.sort((ht,nt)=>ht.sortKey-nt.sortKey);const Ze={useDepthForOcclusion:!it};for(const ht of Xe){const{programConfiguration:nt,program:ft,layoutVertexBuffer:Tt,globeExtVertexBuffer:gt,indexBuffer:kt,uniformValues:Wt,tile:Nt}=ht.state,Dt=ht.segments;_.terrain&&_.terrain.setupElevationDraw(Nt,ft,Ze),_.prepareDrawProgram(ge,ft,Nt.tileID.toUnwrapped()),ft.draw(ge,ke.TRIANGLES,Re,$e,tt,n.CullFaceMode.disabled,Wt,u.id,Tt,kt,Dt,u.paint,Ce.zoom,nt,[gt])}},heatmap:function(_,a,u,x){if(u.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const D=_.context,B=D.gl,oe=n.StencilMode.disabled,de=new n.ColorMode([B.ONE,B.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(tt,it,rt,Xe){const Ze=tt.gl,ht=it.width*Xe,nt=it.height*Xe;tt.activeTexture.set(Ze.TEXTURE1),tt.viewport.set([0,0,ht,nt]);let ft=rt.heatmapFbo;if(!ft||ft&&(ft.width!==ht||ft.height!==nt)){ft&&ft.destroy();const Tt=Ze.createTexture();Ze.bindTexture(Ze.TEXTURE_2D,Tt),Ze.texParameteri(Ze.TEXTURE_2D,Ze.TEXTURE_WRAP_S,Ze.CLAMP_TO_EDGE),Ze.texParameteri(Ze.TEXTURE_2D,Ze.TEXTURE_WRAP_T,Ze.CLAMP_TO_EDGE),Ze.texParameteri(Ze.TEXTURE_2D,Ze.TEXTURE_MIN_FILTER,Ze.LINEAR),Ze.texParameteri(Ze.TEXTURE_2D,Ze.TEXTURE_MAG_FILTER,Ze.LINEAR),ft=rt.heatmapFbo=tt.createFramebuffer(ht,nt,!1),function(gt,kt,Wt,Nt,Dt,pi){const Ft=gt.gl;Ft.texImage2D(Ft.TEXTURE_2D,0,Ft.RGBA,Dt,pi,0,Ft.RGBA,gt.extRenderToTextureHalfFloat?gt.extTextureHalfFloat.HALF_FLOAT_OES:Ft.UNSIGNED_BYTE,null),Nt.colorAttachment.set(Wt)}(tt,0,Tt,ft,ht,nt)}else Ze.bindTexture(Ze.TEXTURE_2D,ft.colorAttachment.get()),tt.bindFramebuffer.set(ft.framebuffer)})(D,_,u,_.transform.projection.name==="globe"?.5:.25),D.clear({color:n.Color.transparent});const ge=_.transform,ke=ge.projection.name==="globe",Ce=ke?["PROJECTION_GLOBE_VIEW"]:null,Re=ke?n.CullFaceMode.frontCCW:n.CullFaceMode.disabled,$e=[n.mercatorXfromLng(ge.center.lng),n.mercatorYfromLat(ge.center.lat)];for(let tt=0;tt<x.length;tt++){const it=x[tt];if(a.hasRenderableParent(it))continue;const rt=a.getTile(it),Xe=rt.getBucket(u);if(!Xe||Xe.projection.name!==ge.projection.name)continue;const Ze=Xe.programConfigurations.get(u.id),ht=_.useProgram("heatmap",Ze,Ce),{zoom:nt}=_.transform;_.terrain&&_.terrain.setupElevationDraw(rt,ht),_.prepareDrawProgram(D,ht,it.toUnwrapped());const ft=ge.projection.createInversionMatrix(ge,it.canonical);ht.draw(D,B.TRIANGLES,n.DepthMode.disabled,oe,de,Re,jl(_,it,rt,ft,$e,nt,u.paint.get("heatmap-intensity")),u.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,u.paint,_.transform.zoom,Ze,ke?[Xe.globeExtVertexBuffer]:null)}D.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(D,B){const oe=D.context,de=oe.gl,ge=B.heatmapFbo;if(!ge)return;oe.activeTexture.set(de.TEXTURE0),de.bindTexture(de.TEXTURE_2D,ge.colorAttachment.get()),oe.activeTexture.set(de.TEXTURE1);let ke=B.colorRampTexture;ke||(ke=B.colorRampTexture=new n.Texture(oe,B.colorRamp,de.RGBA)),ke.bind(de.LINEAR,de.CLAMP_TO_EDGE),D.useProgram("heatmapTexture").draw(oe,de.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,D.colorModeForRenderPass(),n.CullFaceMode.disabled,((Ce,Re,$e,tt)=>({u_image:0,u_color_ramp:1,u_opacity:Re.paint.get("heatmap-opacity")}))(0,B),B.id,D.viewportBuffer,D.quadTriangleIndexBuffer,D.viewportSegments,B.paint,D.transform.zoom)}(_,u))},line:function(_,a,u,x){if(_.renderPass!=="translucent")return;const D=u.paint.get("line-opacity"),B=u.paint.get("line-width");if(D.constantOr(1)===0||B.constantOr(1)===0)return;const oe=_.depthModeForSublayer(0,n.DepthMode.ReadOnly),de=_.colorModeForRenderPass(),ge=_.terrain&&_.terrain.renderingToTexture?1:n.exported.devicePixelRatio,ke=u.paint.get("line-dasharray"),Ce=ke.constantOr(1),Re=u.layout.get("line-cap"),$e=u.paint.get("line-pattern"),tt=$e.constantOr(1),it=u.paint.get("line-gradient"),rt=tt?"linePattern":"line",Xe=_.context,Ze=Xe.gl,ht=(ft=>{const Tt=[];Ph(ft)&&Tt.push("RENDER_LINE_DASH"),ft.paint.get("line-gradient")&&Tt.push("RENDER_LINE_GRADIENT");const gt=ft.paint.get("line-trim-offset");gt[0]===0&&gt[1]===0||Tt.push("RENDER_LINE_TRIM_OFFSET");const kt=ft.paint.get("line-pattern").constantOr(1),Wt=ft.paint.get("line-opacity").constantOr(1)!==1;return!kt&&Wt&&Tt.push("RENDER_LINE_ALPHA_DISCARD"),Tt})(u);let nt=ht.includes("RENDER_LINE_ALPHA_DISCARD");_.terrain&&_.terrain.clipOrMaskOverlapStencilType()&&(nt=!1);for(const ft of x){const Tt=a.getTile(ft);if(tt&&!Tt.patternsLoaded())continue;const gt=Tt.getBucket(u);if(!gt)continue;_.prepareDrawTile();const kt=gt.programConfigurations.get(u.id),Wt=_.useProgram(rt,kt,ht),Nt=$e.constantOr(null);if(Nt&&Tt.imageAtlas){const di=Tt.imageAtlas.patternPositions[Nt.toString()];di&&kt.setConstantPatternPositions(di)}const Dt=ke.constantOr(null),pi=Re.constantOr(null);if(!tt&&Dt&&pi&&Tt.lineAtlas){const di=Tt.lineAtlas.getDash(Dt,pi);di&&kt.setConstantPatternPositions(di)}let[Ft,ri]=u.paint.get("line-trim-offset");(pi==="round"||pi==="square")&&Ft!==ri&&(Ft===0&&(Ft-=1),ri===1&&(ri+=1));const Yt=_.terrain?ft.projMatrix:null,vi=tt?ba(_,Tt,u,Yt,ge):ud(_,Tt,u,Yt,gt.lineClipsArray.length,ge,[Ft,ri]);if(it){const di=gt.gradients[u.id];let wi=di.texture;if(u.gradientVersion!==di.version){let Rt=256;if(u.stepInterpolant){const Xt=a.getSource().maxzoom,Hi=ft.canonical.z===Xt?Math.ceil(1<<_.transform.maxZoom-ft.canonical.z):1;Rt=n.clamp(n.nextPowerOfTwo(gt.maxLineLength/n.EXTENT*1024*Hi),256,Xe.maxTextureSize)}di.gradient=n.renderColorRamp({expression:u.gradientExpression(),evaluationKey:"lineProgress",resolution:Rt,image:di.gradient||void 0,clips:gt.lineClipsArray}),di.texture?di.texture.update(di.gradient):di.texture=new n.Texture(Xe,di.gradient,Ze.RGBA),di.version=u.gradientVersion,wi=di.texture}Xe.activeTexture.set(Ze.TEXTURE1),wi.bind(u.stepInterpolant?Ze.NEAREST:Ze.LINEAR,Ze.CLAMP_TO_EDGE)}Ce&&(Xe.activeTexture.set(Ze.TEXTURE0),Tt.lineAtlasTexture.bind(Ze.LINEAR,Ze.REPEAT),kt.updatePaintBuffers()),tt&&(Xe.activeTexture.set(Ze.TEXTURE0),Tt.imageAtlasTexture.bind(Ze.LINEAR,Ze.CLAMP_TO_EDGE),kt.updatePaintBuffers()),_.prepareDrawProgram(Xe,Wt,ft.toUnwrapped());const qt=di=>{Wt.draw(Xe,Ze.TRIANGLES,oe,di,de,n.CullFaceMode.disabled,vi,u.id,gt.layoutVertexBuffer,gt.indexBuffer,gt.segments,u.paint,_.transform.zoom,kt,[gt.layoutVertexBuffer2])};if(nt){const di=_.stencilModeForClipping(ft).ref;di===0&&_.terrain&&Xe.clear({stencil:0});const wi={func:Ze.EQUAL,mask:255};vi.u_alpha_discard_threshold=.8,qt(new n.StencilMode(wi,di,255,Ze.KEEP,Ze.KEEP,Ze.INVERT)),vi.u_alpha_discard_threshold=0,qt(new n.StencilMode(wi,di,255,Ze.KEEP,Ze.KEEP,Ze.KEEP))}else qt(_.stencilModeForClipping(ft))}nt&&(_.resetStencilClippingMasks(),_.terrain&&Xe.clear({stencil:0}))},fill:function(_,a,u,x){const D=u.paint.get("fill-color"),B=u.paint.get("fill-opacity");if(B.constantOr(1)===0)return;const oe=_.colorModeForRenderPass(),de=u.paint.get("fill-pattern"),ge=_.opaquePassEnabledForLayer()&&!de.constantOr(1)&&D.constantOr(n.Color.transparent).a===1&&B.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===ge){const ke=_.depthModeForSublayer(1,_.renderPass==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly);ci(_,a,u,x,ke,oe,!1)}if(_.renderPass==="translucent"&&u.paint.get("fill-antialias")){const ke=_.depthModeForSublayer(u.getPaintProperty("fill-outline-color")?2:0,n.DepthMode.ReadOnly);ci(_,a,u,x,ke,oe,!0)}},"fill-extrusion":function(_,a,u,x){const D=u.paint.get("fill-extrusion-opacity");if(D!==0&&_.renderPass==="translucent"){const B=new n.DepthMode(_.context.gl.LEQUAL,n.DepthMode.ReadWrite,_.depthRangeFor3D);if(D!==1||u.paint.get("fill-extrusion-pattern").constantOr(1))ti(_,a,u,x,B,n.StencilMode.disabled,n.ColorMode.disabled),ti(_,a,u,x,B,_.stencilModeFor3D(),_.colorModeForRenderPass()),_.resetStencilClippingMasks();else{const oe=_.colorModeForRenderPass();ti(_,a,u,x,B,n.StencilMode.disabled,oe)}}},hillshade:function(_,a,u,x){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const D=_.context,B=_.depthModeForSublayer(0,n.DepthMode.ReadOnly),oe=_.colorModeForRenderPass(),de=_.terrain&&_.terrain.renderingToTexture,[ge,ke]=_.renderPass!=="translucent"||de?[{},x]:_.stencilConfigForOverlap(x);for(const Ce of ke){const Re=a.getTile(Ce);if(Re.needsHillshadePrepare&&_.renderPass==="offscreen")Vn(_,Re,u,B,n.StencilMode.disabled,oe);else if(_.renderPass==="translucent"){const $e=de&&_.terrain?_.terrain.stencilModeForRTTOverlap(Ce):ge[Ce.overscaledZ];Qs(_,Ce,Re,u,B,$e,oe)}}D.viewport.set([0,0,_.width,_.height]),_.resetStencilClippingMasks()},raster:function(_,a,u,x,D,B){if(_.renderPass!=="translucent"||u.paint.get("raster-opacity")===0||!x.length)return;const oe=_.context,de=oe.gl,ge=a.getSource(),ke=_.useProgram("raster"),Ce=_.colorModeForRenderPass(),Re=_.terrain&&_.terrain.renderingToTexture,[$e,tt]=ge instanceof Et||Re?[{},x]:_.stencilConfigForOverlap(x),it=tt[tt.length-1].overscaledZ,rt=!_.options.moving;for(const Xe of tt){const Ze=Re?n.DepthMode.disabled:_.depthModeForSublayer(Xe.overscaledZ-it,u.paint.get("raster-opacity")===1?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly,de.LESS),ht=Xe.toUnwrapped(),nt=a.getTile(Xe);if(Re&&(!nt||!nt.hasData()))continue;const ft=Re?Xe.projMatrix:_.transform.calculateProjMatrix(ht,rt),Tt=_.terrain&&Re?_.terrain.stencilModeForRTTOverlap(Xe):$e[Xe.overscaledZ],gt=B?0:u.paint.get("raster-fade-duration");nt.registerFadeDuration(gt);const kt=a.findLoadedParent(Xe,0),Wt=So(nt,kt,a,_.transform,gt);let Nt,Dt;_.terrain&&_.terrain.prepareDrawTile();const pi=u.paint.get("raster-resampling")==="nearest"?de.NEAREST:de.LINEAR;oe.activeTexture.set(de.TEXTURE0),nt.texture.bind(pi,de.CLAMP_TO_EDGE),oe.activeTexture.set(de.TEXTURE1),kt?(kt.texture.bind(pi,de.CLAMP_TO_EDGE),Nt=Math.pow(2,kt.tileID.overscaledZ-nt.tileID.overscaledZ),Dt=[nt.tileID.canonical.x*Nt%1,nt.tileID.canonical.y*Nt%1]):nt.texture.bind(pi,de.CLAMP_TO_EDGE);const Ft=wc(ft,Dt||[0,0],Nt||1,Wt,u,ge instanceof Et?ge.perspectiveTransform:[0,0]);if(_.prepareDrawProgram(oe,ke,ht),ge instanceof Et)ge.boundsBuffer&&ge.boundsSegments&&ke.draw(oe,de.TRIANGLES,Ze,n.StencilMode.disabled,Ce,n.CullFaceMode.disabled,Ft,u.id,ge.boundsBuffer,_.quadTriangleIndexBuffer,ge.boundsSegments);else{const{tileBoundsBuffer:ri,tileBoundsIndexBuffer:Yt,tileBoundsSegments:vi}=_.getTileBoundsBuffers(nt);ke.draw(oe,de.TRIANGLES,Ze,Tt,Ce,n.CullFaceMode.disabled,Ft,u.id,ri,Yt,vi)}}_.resetStencilClippingMasks()},background:function(_,a,u,x){const D=u.paint.get("background-color"),B=u.paint.get("background-opacity");if(B===0)return;const oe=_.context,de=oe.gl,ge=_.transform,ke=ge.tileSize,Ce=u.paint.get("background-pattern");if(_.isPatternMissing(Ce))return;const Re=!Ce&&D.a===1&&B===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==Re)return;const $e=n.StencilMode.disabled,tt=_.depthModeForSublayer(0,Re==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly),it=_.colorModeForRenderPass(),rt=_.useProgram(Ce?"backgroundPattern":"background");let Xe,Ze=x;Ze||(Xe=_.getBackgroundTiles(),Ze=Object.values(Xe).map(ht=>ht.tileID)),Ce&&(oe.activeTexture.set(de.TEXTURE0),_.imageManager.bind(_.context));for(const ht of Ze){const nt=ht.toUnwrapped(),ft=x?ht.projMatrix:_.transform.calculateProjMatrix(nt);_.prepareDrawTile();const Tt=a?a.getTile(ht):Xe?Xe[ht.key]:new n.Tile(ht,ke,ge.zoom,_),gt=Ce?os(ft,B,_,Ce,{tileID:ht,tileSize:ke}):bp(ft,B,D);_.prepareDrawProgram(oe,rt,nt);const{tileBoundsBuffer:kt,tileBoundsIndexBuffer:Wt,tileBoundsSegments:Nt}=_.getTileBoundsBuffers(Tt);rt.draw(oe,de.TRIANGLES,tt,$e,it,n.CullFaceMode.disabled,gt,u.id,kt,Wt,Nt)}},sky:function(_,a,u){const x=_.transform,D=x.projection.name==="mercator"||x.projection.name==="globe"?1:n.smoothstep(7,8,x.zoom),B=u.paint.get("sky-opacity")*D;if(B===0)return;const oe=_.context,de=u.paint.get("sky-type"),ge=new n.DepthMode(oe.gl.LEQUAL,n.DepthMode.ReadOnly,[0,1]),ke=_.frameCounter/1e3%1;de==="atmosphere"?_.renderPass==="offscreen"?u.needsSkyboxCapture(_)&&(function(Ce,Re,$e,tt){const it=Ce.context,rt=it.gl;let Xe=Re.skyboxFbo;if(!Xe){Xe=Re.skyboxFbo=it.createFramebuffer(32,32,!1),Re.skyboxGeometry=new Qt(it),Re.skyboxTexture=it.gl.createTexture(),rt.bindTexture(rt.TEXTURE_CUBE_MAP,Re.skyboxTexture),rt.texParameteri(rt.TEXTURE_CUBE_MAP,rt.TEXTURE_WRAP_S,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_CUBE_MAP,rt.TEXTURE_WRAP_T,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_CUBE_MAP,rt.TEXTURE_MIN_FILTER,rt.LINEAR),rt.texParameteri(rt.TEXTURE_CUBE_MAP,rt.TEXTURE_MAG_FILTER,rt.LINEAR);for(let ft=0;ft<6;++ft)rt.texImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,rt.RGBA,32,32,0,rt.RGBA,rt.UNSIGNED_BYTE,null)}it.bindFramebuffer.set(Xe.framebuffer),it.viewport.set([0,0,32,32]);const Ze=Re.getCenter(Ce,!0),ht=Ce.useProgram("skyboxCapture"),nt=new Float64Array(16);n.identity(nt),n.rotateY(nt,nt,.5*-Math.PI),Si(it,Re,ht,nt,Ze,0),n.identity(nt),n.rotateY(nt,nt,.5*Math.PI),Si(it,Re,ht,nt,Ze,1),n.identity(nt),n.rotateX(nt,nt,.5*-Math.PI),Si(it,Re,ht,nt,Ze,2),n.identity(nt),n.rotateX(nt,nt,.5*Math.PI),Si(it,Re,ht,nt,Ze,3),n.identity(nt),Si(it,Re,ht,nt,Ze,4),n.identity(nt),n.rotateY(nt,nt,Math.PI),Si(it,Re,ht,nt,Ze,5),it.viewport.set([0,0,Ce.width,Ce.height])}(_,u),u.markSkyboxValid(_)):_.renderPass==="sky"&&function(Ce,Re,$e,tt,it){const rt=Ce.context,Xe=rt.gl,Ze=Ce.transform,ht=Ce.useProgram("skybox");rt.activeTexture.set(Xe.TEXTURE0),Xe.bindTexture(Xe.TEXTURE_CUBE_MAP,Re.skyboxTexture);const nt=((ft,Tt,gt,kt,Wt)=>({u_matrix:ft,u_sun_direction:Tt,u_cubemap:0,u_opacity:kt,u_temporal_offset:Wt}))(Ze.skyboxMatrix,Re.getCenter(Ce,!1),0,tt,it);Ce.prepareDrawProgram(rt,ht),ht.draw(rt,Xe.TRIANGLES,$e,n.StencilMode.disabled,Ce.colorModeForRenderPass(),n.CullFaceMode.backCW,nt,"skybox",Re.skyboxGeometry.vertexBuffer,Re.skyboxGeometry.indexBuffer,Re.skyboxGeometry.segment)}(_,u,ge,B,ke):de==="gradient"&&_.renderPass==="sky"&&function(Ce,Re,$e,tt,it){const rt=Ce.context,Xe=rt.gl,Ze=Ce.transform,ht=Ce.useProgram("skyboxGradient");Re.skyboxGeometry||(Re.skyboxGeometry=new Qt(rt)),rt.activeTexture.set(Xe.TEXTURE0);let nt=Re.colorRampTexture;nt||(nt=Re.colorRampTexture=new n.Texture(rt,Re.colorRamp,Xe.RGBA)),nt.bind(Xe.LINEAR,Xe.CLAMP_TO_EDGE);const ft=((Tt,gt,kt,Wt,Nt)=>({u_matrix:Tt,u_color_ramp:0,u_center_direction:gt,u_radius:n.degToRad(kt),u_opacity:Wt,u_temporal_offset:Nt}))(Ze.skyboxMatrix,Re.getCenter(Ce,!1),Re.paint.get("sky-gradient-radius"),tt,it);Ce.prepareDrawProgram(rt,ht),ht.draw(rt,Xe.TRIANGLES,$e,n.StencilMode.disabled,Ce.colorModeForRenderPass(),n.CullFaceMode.backCW,ft,"skyboxGradient",Re.skyboxGeometry.vertexBuffer,Re.skyboxGeometry.indexBuffer,Re.skyboxGeometry.segment)}(_,u,ge,B,ke)},debug:function(_,a,u){for(let x=0;x<u.length;x++)Dh(_,a,u[x])},custom:function(_,a,u){const x=_.context,D=u.implementation;if(_.transform.projection.unsupportedLayers&&_.transform.projection.unsupportedLayers.includes("custom"))n.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(_.renderPass==="offscreen"){const B=D.prerender;B&&(_.setCustomLayerDefaults(),x.setColorMode(_.colorModeForRenderPass()),B.call(D,x.gl,_.transform.customLayerMatrix()),x.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),x.setColorMode(_.colorModeForRenderPass()),x.setStencilMode(n.StencilMode.disabled);const B=D.renderingMode==="3d"?new n.DepthMode(_.context.gl.LEQUAL,n.DepthMode.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,n.DepthMode.ReadOnly);x.setDepthMode(B),D.render(x.gl,_.transform.customLayerMatrix()),x.setDirty(),_.setBaseState(),x.bindFramebuffer.set(null)}}};class xn{constructor(a,u){this.context=new Oe(a),this.transform=u,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=n.SourceCache.maxUnderzooming+n.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new aa,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(a,u){const x=!!a&&!!a.terrain&&this.transform.projection.supportsTerrain;if(!(x||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new uo(this,a));const D=this._terrain;this.transform.elevation=x?D:null,D.update(a,this.transform,u)}_updateFog(a){const u=a.fog;if(!u||this.transform.projection.name==="globe"||u.getOpacity(this.transform.pitch)<1||u.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[x,D]=u.getFovAdjustedRange(this.transform._fov);if(x>D)return void(this.transform.fogCullDistSq=null);const B=x+.78*(D-x);this.transform.fogCullDistSq=B*B}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(a,u){if(this.width=a*n.exported.devicePixelRatio,this.height=u*n.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const x of this.style.order)this.style._layers[x].resize()}setup(){const a=this.context,u=new n.StructArrayLayout2i4;u.emplaceBack(0,0),u.emplaceBack(n.EXTENT,0),u.emplaceBack(0,n.EXTENT),u.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=a.createVertexBuffer(u,n.posAttributes.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);const x=new n.StructArrayLayout2i4;x.emplaceBack(0,0),x.emplaceBack(n.EXTENT,0),x.emplaceBack(0,n.EXTENT),x.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=a.createVertexBuffer(x,n.posAttributes.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);const D=new n.StructArrayLayout2i4;D.emplaceBack(-1,-1),D.emplaceBack(1,-1),D.emplaceBack(-1,1),D.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(D,n.posAttributes.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);const B=new n.StructArrayLayout4i8;B.emplaceBack(0,0,0,0),B.emplaceBack(n.EXTENT,0,n.EXTENT,0),B.emplaceBack(0,n.EXTENT,0,n.EXTENT),B.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.mercatorBoundsBuffer=a.createVertexBuffer(B,n.boundsAttributes.members),this.mercatorBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);const oe=new n.StructArrayLayout3ui6;oe.emplaceBack(0,1,2),oe.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(oe);const de=new n.StructArrayLayout1ui2;for(const ke of[0,1,3,2,0])de.emplaceBack(ke);this.debugIndexBuffer=a.createIndexBuffer(de),this.emptyTexture=new n.Texture(a,new n.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),a.gl.RGBA),this.identityMat=n.create();const ge=this.context.gl;this.stencilClearMode=new n.StencilMode({func:ge.ALWAYS,mask:0},0,255,ge.ZERO,ge.ZERO,ge.ZERO),this.loadTimeStamps.push(n.window.performance.now()),this.atmosphereBuffer=new bi(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(a){return a._makeTileBoundsBuffers(this.context,this.transform.projection),a._tileBoundsBuffer?{tileBoundsBuffer:a._tileBoundsBuffer,tileBoundsIndexBuffer:a._tileBoundsIndexBuffer,tileBoundsSegments:a._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const a=this.context,u=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(a,u.TRIANGLES,n.DepthMode.disabled,this.stencilClearMode,n.ColorMode.disabled,n.CullFaceMode.disabled,Br(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(a,u,x){if(!u||this.currentStencilSource===u.id||!a.isTileClipped()||!x||x.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let de=!1;for(const ge of x)if(this._tileClippingMaskIDs[ge.key]===void 0){de=!0;break}if(!de)return}this.currentStencilSource=u.id;const D=this.context,B=D.gl;this.nextStencilID+x.length>256&&this.clearStencil(),D.setColorMode(n.ColorMode.disabled),D.setDepthMode(n.DepthMode.disabled);const oe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const de of x){const ge=u.getTile(de),ke=this._tileClippingMaskIDs[de.key]=this.nextStencilID++,{tileBoundsBuffer:Ce,tileBoundsIndexBuffer:Re,tileBoundsSegments:$e}=this.getTileBoundsBuffers(ge);oe.draw(D,B.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:B.ALWAYS,mask:0},ke,255,B.KEEP,B.KEEP,B.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,Br(de.projMatrix),"$clipping",Ce,Re,$e)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,u=this.context.gl;return new n.StencilMode({func:u.NOTEQUAL,mask:255},a,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(a){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(a);const u=this.context.gl;return new n.StencilMode({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,u.KEEP,u.KEEP,u.REPLACE)}stencilConfigForOverlap(a){const u=this.context.gl,x=a.sort((oe,de)=>de.overscaledZ-oe.overscaledZ),D=x[x.length-1].overscaledZ,B=x[0].overscaledZ-D+1;if(B>1){this.currentStencilSource=void 0,this.nextStencilID+B>256&&this.clearStencil();const oe={};for(let de=0;de<B;de++)oe[de+D]=new n.StencilMode({func:u.GEQUAL,mask:255},de+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=B,[oe,x]}return[{[D]:n.StencilMode.disabled},x]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new n.ColorMode([a.CONSTANT_COLOR,a.ONE],new n.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?n.ColorMode.unblended:n.ColorMode.alphaBlended}depthModeForSublayer(a,u,x){if(!this.opaquePassEnabledForLayer())return n.DepthMode.disabled;const D=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new n.DepthMode(x||this.context.gl.LEQUAL,u,[D,D])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,u){this.style=a,this.options=u,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(n.exported.now()),this.imageManager.beginFrame();const x=this.style.order,D=this.style._sourceCaches;for(const ge in D){const ke=D[ge];ke.used&&ke.prepare(this.context)}const B={},oe={},de={};for(const ge in D){const ke=D[ge];B[ge]=ke.getVisibleCoordinates(),oe[ge]=B[ge].slice().reverse(),de[ge]=ke.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ge=0;ge<x.length;ge++)if(this.style._layers[x[ge]].is3D()){this.opaquePassCutoff=ge;break}if(this.terrain&&(this.terrain.updateTileBinding(de),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new n.GlobeSharedBuffers(this.context)),n.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const ge of x){const ke=this.style._layers[ge],Ce=a._getLayerSourceCache(ke);if(!ke.hasOffscreenPass()||ke.isHidden(this.transform.zoom))continue;const Re=Ce?oe[Ce.id]:void 0;(ke.type==="custom"||ke.isSky()||Re&&Re.length)&&this.renderLayer(this,Ce,ke,Re)}if(this.depthRangeFor3D=[0,1-(a.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:u.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=x.length-1;this.currentLayer>=0;this.currentLayer--){const ge=this.style._layers[x[this.currentLayer]],ke=a._getLayerSourceCache(ge);if(ge.isSky())continue;const Ce=ke?oe[ke.id]:void 0;this._renderTileClippingMasks(ge,ke,Ce),this.renderLayer(this,ke,ge,Ce)}if(this.style.fog&&this.transform.projection.supportsFog&&function(ge,ke){const Ce=ge.context,Re=Ce.gl,$e=ge.transform,tt=new n.DepthMode(Re.LEQUAL,n.DepthMode.ReadOnly,[0,1]),it=ge.useProgram("globeAtmosphere",null,$e.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),rt=n.globeToMercatorTransition($e.zoom),Xe=ke.properties.get("color").toArray01(),Ze=ke.properties.get("high-color").toArray01(),ht=ke.properties.get("space-color").toArray01PremultipliedAlpha(),nt=n.identity$1([]);n.rotateY$1(nt,nt,-n.degToRad($e._center.lng)),n.rotateX$1(nt,nt,n.degToRad($e._center.lat)),n.rotateZ$1(nt,nt,$e.angle),n.rotateX$1(nt,nt,-$e._pitch);const ft=n.fromQuat(new Float32Array(16),nt),Tt=n.mapValue(ke.properties.get("star-intensity"),0,1,0,.25),gt=5e-4,kt=n.mapValue(ke.properties.get("horizon-blend"),0,1,gt,.25),Wt=n.globeUseCustomAntiAliasing(ge,Ce,$e)&&kt===gt?$e.worldSize/(2*Math.PI*1.025)-1:$e.globeRadius,Nt=ge.frameCounter/1e3%1,Dt=n.length($e.globeCenterInViewSpace),pi=Math.sqrt(Math.pow(Dt,2)-Math.pow(Wt,2)),Ft=Math.acos(pi/Dt),ri=((vi,qt,di,wi,Rt,Xt,Hi,nn,Wi,fn,Bn,rn,Vi,Es)=>({u_frustum_tl:vi,u_frustum_tr:qt,u_frustum_br:di,u_frustum_bl:wi,u_horizon:Rt,u_transition:Xt,u_fadeout_range:Hi,u_color:nn,u_high_color:Wi,u_space_color:fn,u_star_intensity:Bn,u_star_size:5*n.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:rn,u_horizon_angle:Vi,u_rotation_matrix:Es}))($e.frustumCorners.TL,$e.frustumCorners.TR,$e.frustumCorners.BR,$e.frustumCorners.BL,$e.frustumCorners.horizon,rt,kt,Xe,Ze,ht,Tt,Nt,Ft,ft);ge.prepareDrawProgram(Ce,it);const Yt=ge.atmosphereBuffer;Yt&&it.draw(Ce,Re.TRIANGLES,tt,n.StencilMode.disabled,n.ColorMode.alphaBlended,n.CullFaceMode.backCW,ri,"skybox",Yt.vertexBuffer,Yt.indexBuffer,Yt.segments)}(this,this.style.fog),this.renderPass="sky",(n.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<x.length;this.currentLayer++){const ge=this.style._layers[x[this.currentLayer]],ke=a._getLayerSourceCache(ge);ge.isSky()&&this.renderLayer(this,ke,ge,ke?oe[ke.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<x.length;){const ge=this.style._layers[x[this.currentLayer]],ke=a._getLayerSourceCache(ge);if(ge.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(ge)){if(ge.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Ce=ke?(ge.type==="symbol"?de:oe)[ke.id]:void 0;this._renderTileClippingMasks(ge,ke,ke?B[ke.id]:void 0),this.renderLayer(this,ke,ge,Ce),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let ge=null;n.values(this.style._layers).forEach(ke=>{const Ce=a._getLayerSourceCache(ke);Ce&&!ke.isHidden(this.transform.zoom)&&(!ge||ge.getSource().maxzoom<Ce.getSource().maxzoom)&&(ge=Ce)}),ge&&this.options.showTileBoundaries&&mn.debug(this,ge,ge.getVisibleCoordinates())}this.options.showPadding&&function(ge){const ke=ge.transform.padding;fo(ge,ge.transform.height-(ke.top||0),3,In),fo(ge,ke.bottom||0,3,hs),Je(ge,ke.left||0,3,pr),Je(ge,ge.transform.width-(ke.right||0),3,gs);const Ce=ge.transform.centerPoint;(function(Re,$e,tt,it){xt(Re,$e-1,tt-10,2,20,it),xt(Re,$e-10,tt-1,20,2,it)})(ge,Ce.x,ge.transform.height-Ce.y,Tc)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(n.window.performance.now()),this.saveCanvasCopy())}}renderLayer(a,u,x,D){x.isHidden(this.transform.zoom)||(x.type==="background"||x.type==="sky"||x.type==="custom"||D&&D.length)&&(this.id=x.id,this.gpuTimingStart(x),a.transform.projection.unsupportedLayers&&a.transform.projection.unsupportedLayers.includes(x.type)||mn[x.type](a,u,x,D,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(a){if(!this.options.gpuTiming)return;const u=this.context.extTimerQuery;let x=this.gpuTimers[a.id];x||(x=this.gpuTimers[a.id]={calls:0,cpuTime:0,query:u.createQueryEXT()}),x.calls++,u.beginQueryEXT(u.TIME_ELAPSED_EXT,x.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const a=this.context.extTimerQuery,u=a.createQueryEXT();this.deferredRenderGpuTimeQueries.push(u),a.beginQueryEXT(a.TIME_ELAPSED_EXT,u)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}collectGpuTimers(){const a=this.gpuTimers;return this.gpuTimers={},a}collectDeferredRenderGpuQueries(){const a=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],a}queryGpuTimers(a){const u={};for(const x in a){const D=a[x],B=this.context.extTimerQuery,oe=B.getQueryObjectEXT(D.query,B.QUERY_RESULT_EXT)/1e6;B.deleteQueryEXT(D.query),u[x]=oe}return u}queryGpuTimeDeferredRender(a){if(!this.options.gpuTimingDeferredRender)return 0;const u=this.context.extTimerQuery;let x=0;for(const D of a)x+=u.getQueryObjectEXT(D,u.QUERY_RESULT_EXT)/1e6,u.deleteQueryEXT(D);return x}translatePosMatrix(a,u,x,D,B){if(!x[0]&&!x[1])return a;const oe=B?D==="map"?this.transform.angle:0:D==="viewport"?-this.transform.angle:0;if(oe){const ke=Math.sin(oe),Ce=Math.cos(oe);x=[x[0]*Ce-x[1]*ke,x[0]*ke+x[1]*Ce]}const de=[B?x[0]:q(u,x[0],this.transform.zoom),B?x[1]:q(u,x[1],this.transform.zoom),0],ge=new Float32Array(16);return n.translate(ge,a,de),ge}saveTileTexture(a){const u=this._tileTextures[a.size[0]];u?u.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const u=this._tileTextures[a];return u&&u.length>0?u.pop():null}isPatternMissing(a){return a===null||a!==void 0&&!this.imageManager.getPattern(a.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const a=this.terrain&&this.terrain.renderingToTexture,u=this.terrain&&this.terrain.exaggeration()===0,x=this.style&&this.style.fog,D=[];return this.terrainRenderModeElevated()&&D.push("TERRAIN"),this.transform.projection.name==="globe"&&D.push("GLOBE"),u&&D.push("ZERO_EXAGGERATION"),x&&!a&&x.getOpacity(this.transform.pitch)!==0&&D.push("FOG"),a&&D.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&D.push("OVERDRAW_INSPECTOR"),D}useProgram(a,u,x){this.cache=this.cache||{};const D=x||[],B=this.currentGlobalDefines().concat(D),oe=Ho.cacheKey(Kt[a],a,B,u);return this.cache[oe]||(this.cache[oe]=new Ho(this.context,a,Kt[a],u,po[a],B)),this.cache[oe]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(a,u,x){if(this.terrain&&this.terrain.renderingToTexture)return;const D=this.style.fog;if(D){const B=D.getOpacity(this.transform.pitch),oe=((de,ge,ke,Ce,Re,$e,tt,it,rt,Xe,Ze)=>{const ht=de.transform,nt=ge.properties.get("color").toArray01();nt[3]=Ce;const ft=de.frameCounter/1e3%1;return{u_fog_matrix:ke?ht.calculateFogTileMatrix(ke):de.identityMat,u_fog_range:ge.getFovAdjustedRange(ht._fov),u_fog_color:nt,u_fog_horizon_blend:ge.properties.get("horizon-blend"),u_fog_temporal_offset:ft,u_frustum_tl:Re,u_frustum_tr:$e,u_frustum_br:tt,u_frustum_bl:it,u_globe_pos:rt,u_globe_radius:Xe,u_viewport:Ze,u_globe_transition:n.globeToMercatorTransition(ht.zoom),u_is_globe:+(ht.projection.name==="globe")}})(this,D,x,B,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*n.exported.devicePixelRatio,this.transform.height*n.exported.devicePixelRatio]);u.setFogUniformValues(a,oe)}}setTileLoadedFlag(a){this.tileLoaded=a}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const a=this.context.gl,u=a.createTexture();return a.bindTexture(a.TEXTURE_2D,u),a.copyTexImage2D(a.TEXTURE_2D,0,a.RGBA,0,0,a.drawingBufferWidth,a.drawingBufferHeight,0),u}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const a=this.style&&this.style.fog;return!!a&&a.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const a=this._backgroundTiles,u=this._backgroundTiles={},x=this.transform.coveringTiles({tileSize:512});for(const D of x)u[D.key]=a[D.key]||new n.Tile(D,512,this.transform.tileZoom,this);return u}clearBackgroundTiles(){this._backgroundTiles={}}}class wn{constructor(a=0,u=0,x=0,D=0){if(isNaN(a)||a<0||isNaN(u)||u<0||isNaN(x)||x<0||isNaN(D)||D<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=u,this.left=x,this.right=D}interpolate(a,u,x){return u.top!=null&&a.top!=null&&(this.top=n.number(a.top,u.top,x)),u.bottom!=null&&a.bottom!=null&&(this.bottom=n.number(a.bottom,u.bottom,x)),u.left!=null&&a.left!=null&&(this.left=n.number(a.left,u.left,x)),u.right!=null&&a.right!=null&&(this.right=n.number(a.right,u.right,x)),this}getCenter(a,u){const x=n.clamp((this.left+a-this.right)/2,0,a),D=n.clamp((this.top+u-this.bottom)/2,0,u);return new n.pointGeometry(x,D)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new wn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Rn(_,a){const u=n.getColumn(_,3);n.fromQuat(_,a),n.setColumn(_,3,u)}function Qn(_,a){const u=n.identity$1([]);return n.rotateZ$1(u,u,-a),n.rotateX$1(u,u,-_),u}function gn(_,a){const u=[_[0],_[1],0],x=[a[0],a[1],0];if(n.length(u)>=1e-15){const oe=n.normalize([],u);n.scale$2(x,oe,n.dot(x,oe)),a[0]=x[0],a[1]=x[1]}const D=n.cross([],a,_);if(n.len(D)<1e-15)return null;const B=Math.atan2(-D[1],D[0]);return Qn(Math.atan2(Math.sqrt(_[0]*_[0]+_[1]*_[1]),-_[2]),B)}class cr{constructor(a,u){this.position=a,this.orientation=u}get position(){return this._position}set position(a){if(a){const u=a instanceof n.MercatorCoordinate?a:new n.MercatorCoordinate(a[0],a[1],a[2]);this._renderWorldCopies&&(u.x=n.wrap(u.x,0,1)),this._position=u}else this._position=null}lookAtPoint(a,u){if(this.orientation=null,!this.position)return;const x=this._elevation?this._elevation.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(a)):0,D=this.position,B=n.MercatorCoordinate.fromLngLat(a,x),oe=[B.x-D.x,B.y-D.y,B.z-D.z];u||(u=[0,0,1]),u[2]=Math.abs(u[2]),this.orientation=gn(oe,u)}setPitchBearing(a,u){this.orientation=Qn(n.degToRad(a),n.degToRad(-u))}}class fr{constructor(a,u){this._transform=n.identity([]),this.orientation=u,this.position=a}get mercatorPosition(){const a=this.position;return new n.MercatorCoordinate(a[0],a[1],a[2])}get position(){const a=n.getColumn(this._transform,3);return[a[0],a[1],a[2]]}set position(a){var u;a&&n.setColumn(this._transform,3,[(u=a)[0],u[1],u[2],1])}get orientation(){return this._orientation}set orientation(a){this._orientation=a||n.identity$1([]),a&&Rn(this._transform,this._orientation)}getPitchBearing(){const a=this.forward(),u=this.right();return{bearing:Math.atan2(-u[1],u[0]),pitch:Math.atan2(Math.sqrt(a[0]*a[0]+a[1]*a[1]),-a[2])}}setPitchBearing(a,u){this._orientation=Qn(a,u),Rn(this._transform,this._orientation)}forward(){const a=n.getColumn(this._transform,2);return[-a[0],-a[1],-a[2]]}up(){const a=n.getColumn(this._transform,1);return[-a[0],-a[1],-a[2]]}right(){const a=n.getColumn(this._transform,0);return[a[0],a[1],a[2]]}getCameraToWorld(a,u){const x=new Float64Array(16);return n.invert(x,this.getWorldToCamera(a,u)),x}getWorldToCameraPosition(a,u,x){const D=this.position;n.scale$2(D,D,-a);const B=new Float64Array(16);return n.fromScaling(B,[x,x,x]),n.translate(B,B,D),B[10]*=u,B}getWorldToCamera(a,u){const x=new Float64Array(16),D=new Float64Array(4),B=this.position;return n.conjugate(D,this._orientation),n.scale$2(B,B,-a),n.fromQuat(x,D),n.translate(x,x,B),x[1]*=-1,x[5]*=-1,x[9]*=-1,x[13]*=-1,x[8]*=u,x[9]*=u,x[10]*=u,x[11]*=u,x}getCameraToClipPerspective(a,u,x,D){const B=new Float64Array(16);return n.perspective(B,a,u,x,D),B}getDistanceToElevation(a,u=!1){const x=a===0?0:n.mercatorZfromAltitude(a,u?n.latFromMercatorY(this.position[1]):this.position[1]),D=this.forward();return(x-this.position[2])/D[2]}clone(){return new fr([...this.position],[...this.orientation])}}function Xr(_,a){const u=ro(_.projection,_.zoom,_.width,_.height),x=function(B,oe,de,ge,ke){const Ce=new n.LngLat(de.lng-180*Mo,de.lat),Re=new n.LngLat(de.lng+180*Mo,de.lat),$e=B.project(Ce.lng,Ce.lat),tt=B.project(Re.lng,Re.lat),it=-Math.atan2(tt.y-$e.y,tt.x-$e.x),rt=n.MercatorCoordinate.fromLngLat(de);rt.y=n.clamp(rt.y,-.999975,.999975);const Xe=rt.toLngLat(),Ze=B.project(Xe.lng,Xe.lat),ht=n.MercatorCoordinate.fromLngLat(Xe);ht.x+=Mo;const nt=ht.toLngLat(),ft=B.project(nt.lng,nt.lat),Tt=Vl(ft.x-Ze.x,ft.y-Ze.y,it),gt=n.MercatorCoordinate.fromLngLat(Xe);gt.y+=Mo;const kt=gt.toLngLat(),Wt=B.project(kt.lng,kt.lat),Nt=Vl(Wt.x-Ze.x,Wt.y-Ze.y,it),Dt=Math.abs(Tt.x)/Math.abs(Nt.y),pi=n.identity([]);n.rotateZ(pi,pi,-it*(1-(ke?0:ge)));const Ft=n.identity([]);return n.scale(Ft,Ft,[1,1-(1-Dt)*ge,1]),Ft[4]=-Nt.x/Nt.y*ge,n.rotateZ(Ft,Ft,it),n.multiply(Ft,pi,Ft),Ft}(_.projection,0,_.center,u,a),D=As(_);return n.scale(x,x,[D,D,1]),x}function As(_){const a=_.projection,u=ro(_.projection,_.zoom,_.width,_.height),x=xr(a,_.center),D=xr(a,n.LngLat.convert(a.center));return Math.pow(2,x*u+(1-u)*D)}function ro(_,a,u,x,D=1/0){const B=_.range;if(!B)return 0;const oe=Math.min(D,Math.max(u,x)),de=Math.log(oe/1024)/Math.LN2;return n.smoothstep(B[0]+de,B[1]+de,a)}const Mo=1/4e4;function xr(_,a){const u=n.clamp(a.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),x=new n.LngLat(a.lng-180*Mo,u),D=new n.LngLat(a.lng+180*Mo,u),B=_.project(x.lng,u),oe=_.project(D.lng,u),de=n.MercatorCoordinate.fromLngLat(x),ge=n.MercatorCoordinate.fromLngLat(D),ke=oe.x-B.x,Ce=oe.y-B.y,Re=ge.x-de.x,$e=ge.y-de.y,tt=Math.sqrt((Re*Re+$e*$e)/(ke*ke+Ce*Ce));return Math.log(tt)/Math.LN2}function Vl(_,a,u){const x=Math.cos(u),D=Math.sin(u);return{x:_*x-a*D,y:_*D+a*x}}class $l{constructor(a,u,x,D,B,oe,de){this.tileSize=512,this._renderWorldCopies=B===void 0||B,this._minZoom=a||0,this._maxZoom=u||22,this._minPitch=x??0,this._maxPitch=D??60,this.setProjection(oe),this.setMaxBounds(de),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new wn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new fr,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const a=new $l(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return a._elevation=this._elevation,a._centerAltitude=this._centerAltitude,a._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,a.tileSize=this.tileSize,a.mercatorFromTransition=this.mercatorFromTransition,a.width=this.width,a.height=this.height,a.cameraElevationReference=this.cameraElevationReference,a._center=this._center,a._setZoom(this.zoom),a._seaLevelZoom=this._seaLevelZoom,a.angle=this.angle,a._fov=this._fov,a._pitch=this._pitch,a._nearZ=this._nearZ,a._farZ=this._farZ,a._averageElevation=this._averageElevation,a._unmodified=this._unmodified,a._edgeInsets=this._edgeInsets.clone(),a._camera=this._camera.clone(),a._calcMatrices(),a.freezeTileCoverage=this.freezeTileCoverage,a.frustumCorners=this.frustumCorners,a}get elevation(){return this._elevation}set elevation(a){this._elevation!==a&&(this._elevation=a,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(a,u=!1){const x=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||x)&&this._updateCameraOnTerrain(),(a||x)&&this._constrainCamera(u),this._calcMatrices()}getProjection(){return n.pick(this.projection,["name","center","parallels"])}setProjection(a){this.projectionOptions=a||{name:"mercator"};const u=this.projection?this.getProjection():void 0;this.projection=n.getProjection(this.projectionOptions);const x=!w(u,this.getProjection());return x&&this._calcMatrices(),this.mercatorFromTransition=!1,x}setMercatorFromTransition(){const a=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=n.getProjection({name:"mercator"});const u=a!==this.projection.name;return u&&this._calcMatrices(),u}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const a=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get cameraWorldSize(){const a=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return n.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new n.pointGeometry(this.width,this.height)}get bearing(){return n.wrap(this.rotation,-180,180)}set bearing(a){this.rotation=a}get rotation(){return-this.angle/Math.PI*180}set rotation(a){const u=-a*Math.PI/180;var x;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=(x=new n.ARRAY_TYPE(4),n.ARRAY_TYPE!=Float32Array&&(x[1]=0,x[2]=0),x[0]=1,x[3]=1,x),function(D,B,oe){var de=B[0],ge=B[1],ke=B[2],Ce=B[3],Re=Math.sin(oe),$e=Math.cos(oe);D[0]=de*$e+ke*Re,D[1]=ge*$e+Ce*Re,D[2]=de*-Re+ke*$e,D[3]=ge*-Re+Ce*$e}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const u=n.clamp(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const a=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/a)}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=n.degToRad(a),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(a){this._averageElevation=a,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(a){const u=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._setZoom(u),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(a){this._zoom=a,this.scale=this.zoomScale(a),this.tileZoom=Math.floor(a),this.zoomFraction=a-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const a=this._elevation;this._centerAltitude=a.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=a.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const a=this._elevation,u=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],x=this.horizonLineFromTop();let D=0,B=0;for(let oe=0;oe<u.length;oe++){const de=new n.pointGeometry(u[oe][0]*this.width,x+u[oe][1]*(this.height-x)),ge=a.pointCoordinate(de);if(!ge)continue;const ke=1/Math.hypot(ge[0]-this._camera.position[0],ge[1]-this._camera.position[1]);D+=ge[3]*ke,B+=ke}return B===0?NaN:D/B}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const a=this._seaLevelZoom,u=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),x=this.pixelsPerMeter/this.worldSize*u,D=this._mercatorZfromZoom(a),B=this._mercatorZfromZoom(this._maxZoom),oe=Math.max(D-x,B);this._setZoom(this._zoomFromMercatorZ(oe))}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}computeZoomRelativeTo(a){const u=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,a.toAltitude()));let x;x=a.z<this._camera.position[2]?[u.x,u.y,u.z]:[a.x,a.y,a.z];const D=n.length(n.sub([],this._camera.position,x));return n.clamp(this._zoomFromMercatorZ(D),this._minZoom,this._maxZoom)}setFreeCameraOptions(a){if(!this.height||!a.position&&!a.orientation)return;this._updateCameraState();let u=!1;if(a.orientation&&!n.exactEquals(a.orientation,this._camera.orientation)&&(u=this._setCameraOrientation(a.orientation)),a.position){const x=[a.position.x,a.position.y,a.position.z];n.exactEquals$1(x,this._camera.position)||(this._setCameraPosition(x),u=!0)}u&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const a=this._camera.position,u=new cr;return u.position=new n.MercatorCoordinate(a[0],a[1],a[2]),u.orientation=this._camera.orientation,u._elevation=this.elevation,u._renderWorldCopies=this.renderWorldCopies,u}_setCameraOrientation(a){if(!n.length$1(a))return!1;n.normalize$1(a,a);const u=n.transformQuat([],[0,0,-1],a),x=n.transformQuat([],[0,-1,0],a);if(x[2]<0)return!1;const D=gn(u,x);return!!D&&(this._camera.orientation=D,!0)}_setCameraPosition(a){const u=this.zoomScale(this.minZoom)*this.tileSize,x=this.zoomScale(this.maxZoom)*this.tileSize,D=this.cameraToCenterDistance;a[2]=n.clamp(a[2],D/x,D/u),this._camera.position=a}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,u,x){this._unmodified=!1,this._edgeInsets.interpolate(a,u,x),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const u=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,u)}getVisibleUnwrappedCoordinates(a){const u=[new n.UnwrappedTileID(0,a)];if(this.renderWorldCopies){const x=this.pointCoordinate(new n.pointGeometry(0,0)),D=this.pointCoordinate(new n.pointGeometry(this.width,0)),B=this.pointCoordinate(new n.pointGeometry(this.width,this.height)),oe=this.pointCoordinate(new n.pointGeometry(0,this.height)),de=Math.floor(Math.min(x.x,D.x,B.x,oe.x)),ge=Math.floor(Math.max(x.x,D.x,B.x,oe.x)),ke=1;for(let Ce=de-ke;Ce<=ge+ke;Ce++)Ce!==0&&u.push(new n.UnwrappedTileID(Ce,a))}return u}coveringTiles(a){let u=this.coveringZoomLevel(a);const x=u,D=this.elevation&&!a.isTerrainDEM,B=this.projection.name==="mercator";if(a.minzoom!==void 0&&u<a.minzoom)return[];a.maxzoom!==void 0&&u>a.maxzoom&&(u=a.maxzoom);const oe=this.locationCoordinate(this.center),de=this.center.lat,ge=1<<u,ke=[ge*oe.x,ge*oe.y,0],Ce=this.projection.name==="globe",Re=!Ce,$e=n.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,u,Re),tt=Ce?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),it=ge*n.mercatorZfromAltitude(1,this.center.lat),rt=this._camera.position[2]/n.mercatorZfromAltitude(1,this.center.lat),Xe=[ge*tt.x,ge*tt.y,rt*(Re?1:it)],Ze=this.cameraToCenterDistance/a.tileSize*(a.roundZoom?1:.502),ht=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?u:0,nt=a.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,ft=a.isTerrainDEM?-nt:this._elevation?this._elevation.getMinElevationBelowMSL():0,Tt=this.projection.isReprojectedInTileSpace?As(this):1,gt=qt=>{const wi=new n.MercatorCoordinate(qt.x+25e-6,qt.y,qt.z),Rt=new n.MercatorCoordinate(qt.x,qt.y+25e-6,qt.z),Xt=qt.toLngLat(),Hi=wi.toLngLat(),nn=Rt.toLngLat(),Wi=this.locationCoordinate(Xt),fn=this.locationCoordinate(Hi),Bn=this.locationCoordinate(nn),rn=Math.hypot(fn.x-Wi.x,fn.y-Wi.y),Vi=Math.hypot(Bn.x-Wi.x,Bn.y-Wi.y);return Math.sqrt(rn*Vi)*Tt/25e-6},kt=qt=>{const di=nt,wi=ft;return{aabb:n.tileAABB(this,ge,0,0,0,qt,wi,di,this.projection),zoom:0,x:0,y:0,minZ:wi,maxZ:di,wrap:qt,fullyVisible:!1}},Wt=[];let Nt=[];const Dt=u,pi=a.reparseOverscaled?x:u,Ft=qt=>qt*qt,ri=Ft((rt-this._centerAltitude)*it),Yt=qt=>{if(!this._elevation||!qt.tileID||!B)return;const di=this._elevation.getMinMaxForTile(qt.tileID),wi=qt.aabb;di?(wi.min[2]=di.min,wi.max[2]=di.max,wi.center[2]=(wi.min[2]+wi.max[2])/2):(qt.shouldSplit=vi(qt),qt.shouldSplit||(wi.min[2]=wi.max[2]=wi.center[2]=this._centerAltitude))},vi=qt=>{if(qt.zoom<ht)return!0;if(qt.zoom===Dt)return!1;if(qt.shouldSplit!=null)return qt.shouldSplit;const di=qt.aabb.distanceX(Xe),wi=qt.aabb.distanceY(Xe);let Rt=ri,Xt=1;if(Ce){Rt=Ft(qt.aabb.distanceZ(Xe));const Wi=Math.pow(2,qt.zoom),fn=n.latFromMercatorY((qt.y+1)/Wi),Bn=n.latFromMercatorY(qt.y/Wi),rn=Math.min(Math.max(de,fn),Bn),Vi=n.circumferenceAtLatitude(rn)/n.circumferenceAtLatitude(de);if(Xt=rn===de?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Vi/this._mercatorScaleRatio),this.zoom<=n.GLOBE_ZOOM_THRESHOLD_MIN&&qt.zoom===Dt-1&&Vi>=.9)return!0}else if(D&&(Rt=Ft(qt.aabb.distanceZ(Xe)*it)),this.projection.isReprojectedInTileSpace&&x<=5){const Wi=Math.pow(2,qt.zoom),fn=gt(new n.MercatorCoordinate((qt.x+.5)/Wi,(qt.y+.5)/Wi));Xt=fn>.85?1:fn}const Hi=di*di+wi*wi+Rt,nn=Ft((1<<Dt-qt.zoom)*Ze*Xt*((Wi,fn)=>{if(fn*Ft(.707)<Wi)return 1;const Bn=Math.sqrt(fn/Wi);return Bn/(1.4144271570014144+(Math.pow(1.1,Bn-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Rt,ri),Hi));return Hi<nn};if(this.renderWorldCopies)for(let qt=1;qt<=3;qt++)Wt.push(kt(-qt)),Wt.push(kt(qt));for(Wt.push(kt(0));Wt.length>0;){const qt=Wt.pop(),di=qt.x,wi=qt.y;let Rt=qt.fullyVisible;if(!Rt){const Xt=qt.aabb.intersects($e);if(Xt===0)continue;Rt=Xt===2}if(qt.zoom!==Dt&&vi(qt))for(let Xt=0;Xt<4;Xt++){const Hi=(di<<1)+Xt%2,nn=(wi<<1)+(Xt>>1),Wi={aabb:B?qt.aabb.quadrant(Xt):n.tileAABB(this,ge,qt.zoom+1,Hi,nn,qt.wrap,qt.minZ,qt.maxZ,this.projection),zoom:qt.zoom+1,x:Hi,y:nn,wrap:qt.wrap,fullyVisible:Rt,tileID:void 0,shouldSplit:void 0,minZ:qt.minZ,maxZ:qt.maxZ};D&&!Ce&&(Wi.tileID=new n.OverscaledTileID(qt.zoom+1===Dt?pi:qt.zoom+1,qt.wrap,qt.zoom+1,Hi,nn),Yt(Wi)),Wt.push(Wi)}else{const Xt=qt.zoom===Dt?pi:qt.zoom;if(a.minzoom&&a.minzoom>Xt)continue;const Hi=ke[0]-(.5+di+(qt.wrap<<qt.zoom))*(1<<u-qt.zoom),nn=ke[1]-.5-wi,Wi=qt.tileID?qt.tileID:new n.OverscaledTileID(Xt,qt.wrap,qt.zoom,di,wi);Nt.push({tileID:Wi,distanceSq:Hi*Hi+nn*nn})}}if(this.fogCullDistSq){const qt=this.fogCullDistSq,di=this.horizonLineFromTop();Nt=Nt.filter(wi=>{const Rt=[0,0,0,1],Xt=[n.EXTENT,n.EXTENT,0,1],Hi=this.calculateFogTileMatrix(wi.tileID.toUnwrapped());n.transformMat4$1(Rt,Rt,Hi),n.transformMat4$1(Xt,Xt,Hi);const nn=n.getAABBPointSquareDist(Rt,Xt);if(nn===0)return!0;let Wi=!1;const fn=this._elevation;if(fn&&nn>qt&&di!==0){const Bn=this.calculateProjMatrix(wi.tileID.toUnwrapped());let rn;a.isTerrainDEM||(rn=fn.getMinMaxForTile(wi.tileID)),rn||(rn={min:ft,max:nt});const Vi=n.furthestTileCorner(this.rotation),Es=[Vi[0]*n.EXTENT,Vi[1]*n.EXTENT,rn.max];n.transformMat4(Es,Es,Bn),Wi=(1-Es[1])*this.height*.5<di}return nn<qt||Wi})}return Nt.sort((qt,di)=>qt.distanceSq-di.distanceSq).map(qt=>qt.tileID)}resize(a,u){this.width=a,this.height=u,this.pixelsToGLUnits=[2/a,-2/u],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const u=n.clamp(a.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),x=this.projection.project(a.lng,u);return new n.pointGeometry(x.x*this.worldSize,x.y*this.worldSize)}unproject(a){return this.projection.unproject(a.x/this.worldSize,a.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(a,u){let x,D;const B=this.centerPoint;if(this.projection.name==="globe"){const de=this.worldSize;x=(u.x-B.x)/de,D=(u.y-B.y)/de}else{const de=this.pointCoordinate(u),ge=this.pointCoordinate(B);x=de.x-ge.x,D=de.y-ge.y}const oe=this.locationCoordinate(a);this.setLocation(new n.MercatorCoordinate(oe.x-x,oe.y-D))}setLocation(a){this.center=this.coordinateLocation(a),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(a){return this.projection.locationPoint(this,a)}locationPoint3D(a){return this.projection.locationPoint(this,a,!0)}pointLocation(a){return this.coordinateLocation(this.pointCoordinate(a))}pointLocation3D(a){return this.coordinateLocation(this.pointCoordinate3D(a))}locationCoordinate(a,u){const x=u?n.mercatorZfromAltitude(u,a.lat):void 0,D=this.projection.project(a.lng,a.lat);return new n.MercatorCoordinate(D.x,D.y,x)}coordinateLocation(a){return this.projection.unproject(a.x,a.y)}pointRayIntersection(a,u){const x=u??this._centerAltitude,D=[a.x,a.y,0,1],B=[a.x,a.y,1,1];n.transformMat4$1(D,D,this.pixelMatrixInverse),n.transformMat4$1(B,B,this.pixelMatrixInverse);const oe=B[3];n.scale$1(D,D,1/D[3]),n.scale$1(B,B,1/oe);const de=D[2],ge=B[2];return{p0:D,p1:B,t:de===ge?0:(x-de)/(ge-de)}}screenPointToMercatorRay(a){const u=[a.x,a.y,0,1],x=[a.x,a.y,1,1];return n.transformMat4$1(u,u,this.pixelMatrixInverse),n.transformMat4$1(x,x,this.pixelMatrixInverse),n.scale$1(u,u,1/u[3]),n.scale$1(x,x,1/x[3]),u[2]=n.mercatorZfromAltitude(u[2],this._center.lat)*this.worldSize,x[2]=n.mercatorZfromAltitude(x[2],this._center.lat)*this.worldSize,n.scale$1(u,u,1/this.worldSize),n.scale$1(x,x,1/this.worldSize),new n.Ray([u[0],u[1],u[2]],n.normalize([],n.sub([],x,u)))}rayIntersectionCoordinate(a){const{p0:u,p1:x,t:D}=a,B=n.mercatorZfromAltitude(u[2],this._center.lat),oe=n.mercatorZfromAltitude(x[2],this._center.lat);return new n.MercatorCoordinate(n.number(u[0],x[0],D)/this.worldSize,n.number(u[1],x[1],D)/this.worldSize,n.number(B,oe,D))}pointCoordinate(a,u=this._centerAltitude){return this.projection.pointCoordinate(this,a.x,a.y,u)}pointCoordinate3D(a){if(!this.elevation)return this.pointCoordinate(a);let u=this.projection.pointCoordinate3D(this,a.x,a.y);if(u)return new n.MercatorCoordinate(u[0],u[1],u[2]);let x=0,D=this.horizonLineFromTop();if(a.y>D)return this.pointCoordinate(a);const B=.02*D,oe=a.clone();for(let de=0;de<10&&D-x>B;de++){oe.y=n.number(x,D,.66);const ge=this.projection.pointCoordinate3D(this,oe.x,oe.y);ge?(D=oe.y,u=ge):x=oe.y}return u?new n.MercatorCoordinate(u[0],u[1],u[2]):this.pointCoordinate(a)}isPointAboveHorizon(a){return this.projection.isPointAboveHorizon(this,a)}_coordinatePoint(a,u){const x=u&&this.elevation?this.elevation.getAtPointOrZero(a,this._centerAltitude):this._centerAltitude,D=[a.x*this.worldSize,a.y*this.worldSize,x+a.toAltitude(),1];return n.transformMat4$1(D,D,this.pixelMatrix),D[3]>0?new n.pointGeometry(D[0]/D[3],D[1]/D[3]):new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:a,left:u}=this._edgeInsets,x=this.height-this._edgeInsets.bottom,D=this.width-this._edgeInsets.right,B=this.pointCoordinate3D(new n.pointGeometry(u,a)),oe=this.pointCoordinate3D(new n.pointGeometry(D,a)),de=this.pointCoordinate3D(new n.pointGeometry(D,x)),ge=this.pointCoordinate3D(new n.pointGeometry(u,x));let ke=Math.min(B.x,ge.x),Ce=Math.max(oe.x,de.x),Re=Math.min(B.y,oe.y),$e=Math.max(ge.y,de.y);const tt=Math.pow(2,-this.zoom)/16,it=(gt,kt,Wt,Nt)=>{const Dt=(gt+Wt)/2,pi=(kt+Nt)/2,Ft=new n.pointGeometry(Dt,pi),ri=this.pointCoordinate3D(Ft),Yt=Math.max(0,ke-ri.x,Re-ri.y,ri.x-Ce,ri.y-$e);ke=Math.min(ke,ri.x),Ce=Math.max(Ce,ri.x),Re=Math.min(Re,ri.y),$e=Math.max($e,ri.y),Yt>tt&&(it(gt,kt,Dt,pi),it(Dt,pi,Wt,Nt))};it(u,a,D,a),it(D,a,D,x),it(D,x,u,x),it(u,x,u,a);const[rt,Xe]=n.polesInViewport(this),Ze=rt||Xe,ht=rt?90:n.latFromMercatorY(Re),nt=Ze?180:n.lngFromMercatorX(Ce),ft=Xe?-90:n.latFromMercatorY($e),Tt=Ze?-180:n.lngFromMercatorX(ke);return new n.LngLatBounds(new n.LngLat(Tt,ft),new n.LngLat(nt,ht))}_getBounds(a,u){if(this.projection.name==="globe")return this._getGlobeBounds();const x=new n.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),D=new n.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),B=new n.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),oe=new n.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let de=this.pointCoordinate(x,a),ge=this.pointCoordinate(D,a);const ke=this.pointCoordinate(B,u),Ce=this.pointCoordinate(oe,u),Re=($e,tt)=>(tt.y-$e.y)/(tt.x-$e.x);return de.y>1&&ge.y>=0?de=new n.MercatorCoordinate((1-Ce.y)/Re(Ce,de)+Ce.x,1):de.y<0&&ge.y<=1&&(de=new n.MercatorCoordinate(-Ce.y/Re(Ce,de)+Ce.x,0)),ge.y>1&&de.y>=0?ge=new n.MercatorCoordinate((1-ke.y)/Re(ke,ge)+ke.x,1):ge.y<0&&de.y<=1&&(ge=new n.MercatorCoordinate(-ke.y/Re(ke,ge)+ke.x,0)),new n.LngLatBounds().extend(this.coordinateLocation(de)).extend(this.coordinateLocation(ge)).extend(this.coordinateLocation(Ce)).extend(this.coordinateLocation(ke))}_getBounds3D(){const a=this.elevation;if(!a.visibleDemTiles.length||a.isUsingMockSource())return this._getBounds(0,0);const u=a.visibleDemTiles.reduce((x,D)=>{if(D.dem){const B=D.dem.tree;x.min=Math.min(x.min,B.minimums[0]),x.max=Math.max(x.max,B.maximums[0])}return x},{min:Number.MAX_VALUE,max:0});return this._getBounds(u.min*a.exaggeration(),u.max*a.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(a=!0){const u=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,x=this.height/2-u*(1-this._horizonShift);return a?Math.max(0,x):x}getMaxBounds(){return this.maxBounds}setMaxBounds(a){this.maxBounds=a,this.minLat=-n.MAX_MERCATOR_LATITUDE,this.maxLat=n.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,a&&(this.minLat=a.getSouth(),this.maxLat=a.getNorth(),this.minLng=a.getWest(),this.maxLng=a.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=n.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=n.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=n.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=n.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(a,u){return this.projection.createTileMatrix(this,u,a)}calculateDistanceTileData(a){const u=a.key,x=this._distanceTileDataCache;if(x[u])return x[u];const D=a.canonical,B=1/this.height,oe=this.cameraWorldSize,de=oe/this.zoomScale(D.z),ge=(D.x+Math.pow(2,D.z)*a.wrap)*de,ke=D.y*de,Ce=this.point;Ce.x*=oe/this.worldSize,Ce.y*=oe/this.worldSize;const Re=this.angle,$e=Math.sin(-Re),tt=-Math.cos(-Re);return x[u]={bearing:[$e,tt],center:[(Ce.x-ge)*B,(Ce.y-ke)*B],scale:de/n.EXTENT*B},x[u]}calculateFogTileMatrix(a){const u=a.key,x=this._fogTileMatrixCache;if(x[u])return x[u];const D=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,a);return n.multiply(D,this.worldToFogMatrix,D),x[u]=new Float32Array(D),x[u]}calculateProjMatrix(a,u=!1){const x=a.key,D=u?this._alignedProjMatrixCache:this._projMatrixCache;if(D[x])return D[x];const B=this.calculatePosMatrix(a,this.worldSize);return n.multiply(B,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:u?this.alignedProjMatrix:this.projMatrix,B),D[x]=new Float32Array(B),D[x]}calculatePixelsToTileUnitsMatrix(a){const u=a.tileID.key,x=this._pixelsToTileUnitsCache;if(x[u])return x[u];const D=function(B,oe){const{scale:de}=B.tileTransform,ge=de*n.EXTENT/(B.tileSize*Math.pow(2,oe.zoom-B.tileID.overscaledZ+B.tileID.canonical.z));return ke=new Float32Array(4),$e=(Ce=oe.inverseAdjustmentMatrix)[1],tt=Ce[2],it=Ce[3],Xe=(Re=[ge,ge])[1],ke[0]=Ce[0]*(rt=Re[0]),ke[1]=$e*rt,ke[2]=tt*Xe,ke[3]=it*Xe,ke;var ke,Ce,Re,$e,tt,it,rt,Xe}(a,this);return x[u]=D,x[u]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const a=this._elevation;this._updateCameraState();const u=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(u),D=this._camera.forward(),B=n.mercatorZfromAltitude(1,this._center.lat);x[2]/=B,D[2]/=B,n.normalize(D,D);const oe=a.raycast(x,D,a.exaggeration());if(oe){const de=n.scaleAndAdd([],x,D,oe),ge=new n.MercatorCoordinate(de[0],de[1],n.mercatorZfromAltitude(de[2],n.latFromMercatorY(de[1]))),ke=(ge.z+n.length([ge.x-x[0],ge.y-x[1],ge.z-x[2]*B]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(ke),this._centerAltitude=ge.toAltitude(),this._center=this.coordinateLocation(ge),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(a=!1){if(!this._elevation)return;const u=this._elevation,x=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,D=this._computeCameraPosition(x),B=u.getAtPointOrZero(new n.MercatorCoordinate(...D)),oe=this.pixelsPerMeter/this.worldSize*B,de=this._minimumHeightOverTerrain(),ge=D[2]-oe;if(ge<=de)if(ge<0||a){const ke=this.locationCoordinate(this._center,this._centerAltitude),Ce=[D[0],D[1],ke.z-D[2]],Re=n.length(Ce);Ce[2]-=(de-ge)/this._pixelsPerMercatorPixel;const $e=n.length(Ce);if($e===0)return;n.scale$2(Ce,Ce,Re/$e*this._pixelsPerMercatorPixel),this._camera.position=[D[0],D[1],ke.z*this._pixelsPerMercatorPixel-Ce[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const a=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||a){const $e=this.center;return $e.lat=n.clamp($e.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!a)&&($e.lng=n.clamp($e.lng,this.minLng,this.maxLng)),this.center=$e,void(this._constraining=!1)}const u=this._unmodified,{x,y:D}=this.point;let B=0,oe=x,de=D;const ge=this.width/2,ke=this.height/2,Ce=this.worldMinY*this.scale,Re=this.worldMaxY*this.scale;if(D-ke<Ce&&(de=Ce+ke),D+ke>Re&&(de=Re-ke),Re-Ce<this.height&&(B=Math.max(B,this.height/(Re-Ce)),de=(Re+Ce)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const $e=this.worldMinX*this.scale,tt=this.worldMaxX*this.scale,it=this.worldSize/2-($e+tt)/2;oe=(x+it+this.worldSize)%this.worldSize-it,oe-ge<$e&&(oe=$e+ge),oe+ge>tt&&(oe=tt-ge),tt-$e<this.width&&(B=Math.max(B,this.width/(tt-$e)),oe=(tt+$e)/2)}oe===x&&de===D||(this.center=this.unproject(new n.pointGeometry(oe,de))),B&&(this.zoom+=this.scaleZoom(B)),this._constrainCamera(),this._unmodified=u,this._constraining=!1}_minZoomForBounds(){let a=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(a=Math.max(a,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),a}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,u=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=n.mercatorZfromAltitude(1,this.center.lat)/n.mercatorZfromAltitude(1,n.GLOBE_SCALE_MATCH_LATITUDE));const x=ro(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,x),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const D=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?u:1),B=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);B[8]=2*-a.x/this.width,B[9]=2*a.y/this.height;let oe=n.mul([],B,D);if(this.projection.isReprojectedInTileSpace){const Tt=this.locationCoordinate(this.center),gt=n.identity([]);n.translate(gt,gt,[Tt.x*this.worldSize,Tt.y*this.worldSize,0]),n.multiply(gt,gt,Xr(this)),n.translate(gt,gt,[-Tt.x*this.worldSize,-Tt.y*this.worldSize,0]),n.multiply(oe,oe,gt),this.inverseAdjustmentMatrix=function(kt){const Wt=Xr(kt,!0);return F([],[Wt[0],Wt[1],Wt[4],Wt[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=n.scale([],oe,[this.worldSize,this.worldSize,this.worldSize/u,1]),this.projMatrix=oe,this.invProjMatrix=n.invert(new Float64Array(16),this.projMatrix);const de=n.invert([],B);this.frustumCorners=n.FrustumCorners.fromInvProjectionMatrix(de,this.horizonLineFromTop(),this.height);const ge=new Float32Array(16);n.identity(ge),n.scale(ge,ge,[1,-1,1]),n.rotateX(ge,ge,this._pitch),n.rotateZ(ge,ge,this.angle);const ke=n.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Ce=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;ke[8]=2*-a.x/this.width,ke[9]=2*(a.y+Ce)/this.height,this.skyboxMatrix=n.multiply(ge,ke,ge);const Re=this.point,$e=Re.x,tt=Re.y,it=this.width%2/2,rt=this.height%2/2,Xe=Math.cos(this.angle),Ze=Math.sin(this.angle),ht=$e-Math.round($e)+Xe*it+Ze*rt,nt=tt-Math.round(tt)+Xe*rt+Ze*it,ft=new Float64Array(oe);if(n.translate(ft,ft,[ht>.5?ht-1:ht,nt>.5?nt-1:nt,0]),this.alignedProjMatrix=ft,oe=n.create(),n.scale(oe,oe,[this.width/2,-this.height/2,1]),n.translate(oe,oe,[1,-1,0]),this.labelPlaneMatrix=oe,oe=n.create(),n.scale(oe,oe,[1,-1,1]),n.translate(oe,oe,[-1,-1,0]),n.scale(oe,oe,[2/this.width,2/this.height,1]),this.glCoordMatrix=oe,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},oe=n.invert(new Float64Array(16),this.pixelMatrix),!oe)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=oe,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=n.calculateGlobeMatrix(this);const Tt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=n.transformMat4(Tt,Tt,D),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=oe;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const a=this.cameraWorldSizeForFog,u=this.cameraPixelsPerMeter,x=this._camera.position,D=1/this.height/this._pixelsPerMercatorPixel,B=[a,a,u];n.scale$2(B,B,D),n.scale$2(x,x,-1),n.multiply$2(x,x,B);const oe=n.create();n.translate(oe,oe,x),n.scale(oe,oe,B),this.mercatorFogMatrix=oe,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(a,u,D)}_computeCameraPosition(a){const u=(a=a||this.pixelsPerMeter)/this.pixelsPerMeter,x=this._camera.forward(),D=this.point,B=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*u-a/this.worldSize*this._centerAltitude;return[D.x/this.worldSize-x[0]*B,D.y/this.worldSize-x[1]*B,a/this.worldSize*this._centerAltitude-x[2]*B]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(a){const u=this._maxCameraBoundsDistance()*Math.cos(this._pitch),x=this._camera.position[2],D=a[2];let B=1;this.projection.wrap&&(this.center=this.center.wrap()),D>0&&(B=Math.min((u-x)/D,1)),this._camera.position=n.scaleAndAdd([],this._camera.position,a,B),this._updateStateFromCamera()}_updateStateFromCamera(){const a=this._camera.position,u=this._camera.forward(),{pitch:x,bearing:D}=this._camera.getPitchBearing(),B=n.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,oe=this._mercatorZfromZoom(this._maxZoom)*Math.cos(n.degToRad(this._maxPitch)),de=Math.max((a[2]-B)/Math.cos(x),oe),ge=this._zoomFromMercatorZ(de);n.scaleAndAdd(a,a,u,de),this._pitch=n.clamp(x,n.degToRad(this.minPitch),n.degToRad(this.maxPitch)),this.angle=n.wrap(D,-Math.PI,Math.PI),this._setZoom(n.clamp(ge,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new n.MercatorCoordinate(a[0],a[1],a[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(a){return Math.pow(2,a)*this.tileSize}_mercatorZfromZoom(a){return this.cameraToCenterDistance/this._worldSizeFromZoom(a)}_minimumHeightOverTerrain(){const a=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(a)}_zoomFromMercatorZ(a){return this.scaleZoom(this.cameraToCenterDistance/(a*this.tileSize))}zoomFromMercatorZAdjusted(a){const u=oe=>{const de=this.getCameraToCenterDistance(this.projection,oe);return this.scaleZoom(de/(a*this.tileSize))};let x,D=u(this.zoom),B=Math.abs(D-u(D));for(;x!==B;)D=u(D),x=B,B=Math.abs(D-u(D));return D}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(n.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(a,u){const x=Math.min(a.x,u.x),D=Math.max(a.x,u.x),B=Math.min(a.y,u.y),oe=Math.max(a.y,u.y);if(B<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const de=[new n.pointGeometry(x,B),new n.pointGeometry(D,oe),new n.pointGeometry(x,oe),new n.pointGeometry(D,B)],ge=this.renderWorldCopies?-3:0,ke=this.renderWorldCopies?4:1;for(const Ce of de){const Re=this.pointRayIntersection(Ce);if(Re.t<0)return!0;const $e=this.rayIntersectionCoordinate(Re);if($e.x<ge||$e.y<0||$e.x>ke||$e.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+n.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new n.pointGeometry(0,0),new n.pointGeometry(this.width,this.height))}zoomDeltaToMovement(a,u){const x=n.length(n.sub([],this._camera.position,a)),D=this._zoomFromMercatorZ(x)+u;return x-this._mercatorZfromZoom(D)}getCameraPoint(){if(this.projection.name==="globe"){const a=function([u,x,D],B){const oe=[u,x,D,1];n.transformMat4$1(oe,oe,B);const de=oe[3]=Math.max(oe[3],1e-6);return oe[0]/=de,oe[1]/=de,oe[2]/=de,oe}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new n.pointGeometry(a[0],a[1])}{const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.pointGeometry(0,a))}}getCameraToCenterDistance(a,u=this.zoom){const x=ro(a,u,this.width,this.height,1024),D=a.pixelSpaceConversion(this.center.lat,this.worldSize,x);return .5/Math.tan(.5*this._fov)*this.height*D}getWorldToCameraMatrix(){const a=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&n.multiply(a,a,this.globeMatrix),a}}function fd(_,a){let u=!1,x=null;const D=()=>{x=null,u&&(_(),x=setTimeout(D,a),u=!1)};return()=>(u=!0,x||D(),x)}class Gi{constructor(a){this._hashName=a&&encodeURIComponent(a),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=fd(this._updateHashUnthrottled.bind(this),300)}addTo(a){return this._map=a,n.window.addEventListener("hashchange",this._onHashChange,!1),a.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),n.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const a=this._map;if(!a)return"";const u=wa(a);if(this._hashName){const x=this._hashName;let D=!1;const B=n.window.location.hash.slice(1).split("&").map(oe=>{const de=oe.split("=")[0];return de===x?(D=!0,`${de}=${u}`):oe}).filter(oe=>oe);return D||B.push(`${x}=${u}`),`#${B.join("&")}`}return`#${u}`}_getCurrentHash(){const a=n.window.location.hash.replace("#","");if(this._hashName){let u;return a.split("&").map(x=>x.split("=")).forEach(x=>{x[0]===this._hashName&&(u=x)}),(u&&u[1]||"").split("/")}return a.split("/")}_onHashChange(){const a=this._map;if(!a)return!1;const u=this._getCurrentHash();if(u.length>=3&&!u.some(x=>isNaN(x))){const x=a.dragRotate.isEnabled()&&a.touchZoomRotate.isEnabled()?+(u[3]||0):a.getBearing();return a.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:x,pitch:+(u[4]||0)}),!0}return!1}_updateHashUnthrottled(){const a=n.window.location.href.replace(/(#.+)?$/,this.getHashString());n.window.history.replaceState(n.window.history.state,null,a)}}function wa(_,a){const u=_.getCenter(),x=Math.round(100*_.getZoom())/100,D=Math.ceil((x*Math.LN2+Math.log(512/360/.5))/Math.LN10),B=Math.pow(10,D),oe=Math.round(u.lng*B)/B,de=Math.round(u.lat*B)/B,ge=_.getBearing(),ke=_.getPitch();let Ce=a?`/${oe}/${de}/${x}`:`${x}/${de}/${oe}`;return(ge||ke)&&(Ce+="/"+Math.round(10*ge)/10),ke&&(Ce+=`/${Math.round(ke)}`),Ce}const Sc={linearity:.3,easing:n.bezier(0,0,.3,1)},md=n.extend({deceleration:2500,maxSpeed:1400},Sc),pu=n.extend({deceleration:20,maxSpeed:1400},Sc),Ih=n.extend({deceleration:1e3,maxSpeed:360},Sc),wp=n.extend({deceleration:1e3,maxSpeed:90},Sc);class fu{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.exported.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,u=n.exported.now();for(;a.length>0&&u-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const u={zoom:0,bearing:0,pitch:0,pan:new n.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:B}of this._inertiaBuffer)u.zoom+=B.zoomDelta||0,u.bearing+=B.bearingDelta||0,u.pitch+=B.pitchDelta||0,B.panDelta&&u.pan._add(B.panDelta),B.around&&(u.around=B.around),B.pinchAround&&(u.pinchAround=B.pinchAround);const x=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,D={};if(u.pan.mag()){const B=nr(u.pan.mag(),x,n.extend({},md,a||{}));D.offset=u.pan.mult(B.amount/u.pan.mag()),D.center=this._map.transform.center,Lh(D,B)}if(u.zoom){const B=nr(u.zoom,x,pu);D.zoom=this._map.transform.zoom+B.amount,Lh(D,B)}if(u.bearing){const B=nr(u.bearing,x,Ih);D.bearing=this._map.transform.bearing+n.clamp(B.amount,-179,179),Lh(D,B)}if(u.pitch){const B=nr(u.pitch,x,wp);D.pitch=this._map.transform.pitch+B.amount,Lh(D,B)}if(D.zoom||D.bearing){const B=u.pinchAround===void 0?u.around:u.pinchAround;D.around=B?this._map.unproject(B):this._map.getCenter()}return this.clear(),D.noMoveStart=!0,D}}function Lh(_,a){(!_.duration||_.duration<a.duration)&&(_.duration=a.duration,_.easing=a.easing)}function nr(_,a,u){const{maxSpeed:x,linearity:D,deceleration:B}=u,oe=n.clamp(_*D/(a/1e3),-x,x),de=Math.abs(oe)/(B*D);return{easing:u.easing,duration:1e3*de,amount:oe*(de/2)}}class Ns extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,x,D={}){const B=V(u.getCanvasContainer(),x),oe=u.unproject(B);super(a,n.extend({point:B,lngLat:oe,originalEvent:x},D)),this._defaultPrevented=!1,this.target=u}}class gd extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,x){const D=a==="touchend"?x.changedTouches:x.touches,B=C(u.getCanvasContainer(),D),oe=B.map(ge=>u.unproject(ge)),de=B.reduce((ge,ke,Ce,Re)=>ge.add(ke.div(Re.length)),new n.pointGeometry(0,0));super(a,{points:B,point:de,lngLats:oe,lngLat:u.unproject(de),originalEvent:x}),this._defaultPrevented=!1}}class Oh extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,x){super(a,{originalEvent:x}),this._defaultPrevented=!1}}class Xf{constructor(a,u){this._map=a,this._clickTolerance=u.clickTolerance}reset(){this._mousedownPos=void 0}wheel(a){return this._firePreventable(new Oh(a.type,this._map,a))}mousedown(a,u){return this._mousedownPos=u,this._firePreventable(new Ns(a.type,this._map,a))}mouseup(a){this._map.fire(new Ns(a.type,this._map,a))}preclick(a){const u=n.extend({},a);u.type="preclick",this._map.fire(new Ns(u.type,this._map,u))}click(a,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||(this.preclick(a),this._map.fire(new Ns(a.type,this._map,a)))}dblclick(a){return this._firePreventable(new Ns(a.type,this._map,a))}mouseover(a){this._map.fire(new Ns(a.type,this._map,a))}mouseout(a){this._map.fire(new Ns(a.type,this._map,a))}touchstart(a){return this._firePreventable(new gd(a.type,this._map,a))}touchmove(a){this._map.fire(new gd(a.type,this._map,a))}touchend(a){this._map.fire(new gd(a.type,this._map,a))}touchcancel(a){this._map.fire(new gd(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Om{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(a){this._map.fire(new Ns(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ns("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._map.fire(new Ns(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class mu{constructor(a,u){this._map=a,this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,u){this.isEnabled()&&a.shiftKey&&a.button===0&&(A(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(a,u){if(!this._active)return;const x=u,D=this._startPos,B=this._lastPos;if(!D||!B||B.equals(x)||!this._box&&x.dist(D)<this._clickTolerance)return;this._lastPos=x,this._box||(this._box=Y("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",a));const oe=Math.min(D.x,x.x),de=Math.max(D.x,x.x),ge=Math.min(D.y,x.y),ke=Math.max(D.y,x.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${oe}px,${ge}px)`,this._box.style.width=de-oe+"px",this._box.style.height=ke-ge+"px")})}mouseupWindow(a,u){if(!this._active)return;const x=this._startPos,D=u;if(x&&a.button===0){if(this.reset(),G(),x.x!==D.x||x.y!==D.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:a})),{cameraAnimation:B=>B.fitScreenCoordinates(x,D,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",a)}}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),E(),delete this._startPos,delete this._lastPos}_fireEvent(a,u){return this._map.fire(new n.Event(a,{originalEvent:u}))}}function hl(_,a){const u={};for(let x=0;x<_.length;x++)u[_[x].identifier]=a[x];return u}class _d{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(a,u,x){(this.centroid||x.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=a.timeStamp),x.length===this.numTouches&&(this.centroid=function(D){const B=new n.pointGeometry(0,0);for(const oe of D)B._add(oe);return B.div(D.length)}(u),this.touches=hl(x,u)))}touchmove(a,u,x){if(this.aborted||!this.centroid)return;const D=hl(x,u);for(const B in this.touches){const oe=this.touches[B],de=D[B];(!de||de.dist(oe)>30)&&(this.aborted=!0)}}touchend(a,u,x){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),x.length===0){const D=!this.aborted&&this.centroid;if(this.reset(),D)return D}}}class Hl{constructor(a){this.singleTap=new _d(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(a,u,x){this.singleTap.touchstart(a,u,x)}touchmove(a,u,x){this.singleTap.touchmove(a,u,x)}touchend(a,u,x){const D=this.singleTap.touchend(a,u,x);if(D){const B=a.timeStamp-this.lastTime<500,oe=!this.lastTap||this.lastTap.dist(D)<30;if(B&&oe||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=D,this.count===this.numTaps)return this.reset(),D}}}class Rh{constructor(){this._zoomIn=new Hl({numTouches:1,numTaps:2}),this._zoomOut=new Hl({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,u,x){this._zoomIn.touchstart(a,u,x),this._zoomOut.touchstart(a,u,x)}touchmove(a,u,x){this._zoomIn.touchmove(a,u,x),this._zoomOut.touchmove(a,u,x)}touchend(a,u,x){const D=this._zoomIn.touchend(a,u,x),B=this._zoomOut.touchend(a,u,x);return D?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:oe=>oe.easeTo({duration:300,zoom:oe.getZoom()+1,around:oe.unproject(D)},{originalEvent:a})}):B?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:oe=>oe.easeTo({duration:300,zoom:oe.getZoom()-1,around:oe.unproject(B)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Ec={0:1,2:2};class Cc{constructor(a){this.reset(),this._clickTolerance=a.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(a,u){return!1}_move(a,u){return{}}mousedown(a,u){if(this._lastPoint)return;const x=ne(a);this._correctButton(a,x)&&(this._lastPoint=u,this._eventButton=x)}mousemoveWindow(a,u){const x=this._lastPoint;if(x){if(a.preventDefault(),this._eventButton!=null&&function(D,B){const oe=Ec[B];return D.buttons===void 0||(D.buttons&oe)!==oe}(a,this._eventButton))this.reset();else if(this._moved||!(u.dist(x)<this._clickTolerance))return this._moved=!0,this._lastPoint=u,this._move(x,u)}}mouseupWindow(a){this._lastPoint&&ne(a)===this._eventButton&&(this._moved&&G(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class th extends Cc{mousedown(a,u){super.mousedown(a,u),this._lastPoint&&(this._active=!0)}_correctButton(a,u){return u===0&&!a.ctrlKey}_move(a,u){return{around:u,panDelta:u.sub(a)}}}class Tp extends Cc{_correctButton(a,u){return u===0&&a.ctrlKey||u===2}_move(a,u){const x=.8*(u.x-a.x);if(x)return this._active=!0,{bearingDelta:x}}contextmenu(a){a.preventDefault()}}class Sp extends Cc{_correctButton(a,u){return u===0&&a.ctrlKey||u===2}_move(a,u){const x=-.5*(u.y-a.y);if(x)return this._active=!0,{pitchDelta:x}}contextmenu(a){a.preventDefault()}}class Yf{constructor(a,u){this._map=a,this._el=a.getCanvasContainer(),this._minTouches=1,this._clickTolerance=u.clickTolerance||1,this.reset(),n.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new n.pointGeometry(0,0)}touchstart(a,u,x){return this._calculateTransform(a,u,x)}touchmove(a,u,x){if(this._active&&!(x.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(x.length===1&&!n.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return a.cancelable&&a.preventDefault(),this._calculateTransform(a,u,x)}}touchend(a,u,x){this._calculateTransform(a,u,x),this._active&&x.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,u,x){x.length>0&&(this._active=!0);const D=hl(x,u),B=new n.pointGeometry(0,0),oe=new n.pointGeometry(0,0);let de=0;for(const ke in D){const Ce=D[ke],Re=this._touches[ke];Re&&(B._add(Ce),oe._add(Ce.sub(Re)),de++,D[ke]=Ce)}if(this._touches=D,de<this._minTouches||!oe.mag())return;const ge=oe.div(de);return this._sum._add(ge),this._sum.mag()<this._clickTolerance?void 0:{around:B.div(de),panDelta:ge}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Y("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class gu{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(a){}_move(a,u,x){return{}}touchstart(a,u,x){this._firstTwoTouches||x.length<2||(this._firstTwoTouches=[x[0].identifier,x[1].identifier],this._start([u[0],u[1]]))}touchmove(a,u,x){const D=this._firstTwoTouches;if(!D)return;a.preventDefault();const[B,oe]=D,de=Wl(x,u,B),ge=Wl(x,u,oe);if(!de||!ge)return;const ke=this._aroundCenter?null:de.add(ge).div(2);return this._move([de,ge],ke,a)}touchend(a,u,x){if(!this._firstTwoTouches)return;const[D,B]=this._firstTwoTouches,oe=Wl(x,u,D),de=Wl(x,u,B);oe&&de||(this._active&&G(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Wl(_,a,u){for(let x=0;x<_.length;x++)if(_[x].identifier===u)return a[x]}function Bh(_,a){return Math.log(_/a)/Math.LN2}class zh extends gu{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,u){const x=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(Bh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Bh(this._distance,x),pinchAround:u}}}function Ep(_,a){return 180*_.angleWith(a)/Math.PI}class qe extends gu{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,u){const x=this._vector;if(this._vector=a[0].sub(a[1]),x&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ep(this._vector,x),pinchAround:u}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const u=25/(Math.PI*this._minDiameter)*360,x=this._startVector;if(!x)return!1;const D=Ep(a,x);return Math.abs(D)<u}}function Xl(_){return Math.abs(_.y)>Math.abs(_.x)}class yd extends gu{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(a){this._lastPoints=a,Xl(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,u,x){const D=this._lastPoints;if(!D)return;const B=a[0].sub(D[0]),oe=a[1].sub(D[1]);return this._map._cooperativeGestures&&!n.isFullscreen()&&x.touches.length<3||(this._valid=this.gestureBeginsVertically(B,oe,x.timeStamp),!this._valid)?void 0:(this._lastPoints=a,this._active=!0,{pitchDelta:(B.y+oe.y)/2*-.5})}gestureBeginsVertically(a,u,x){if(this._valid!==void 0)return this._valid;const D=a.mag()>=2,B=u.mag()>=2;if(!D&&!B)return;if(!D||!B)return this._firstMove==null&&(this._firstMove=x),x-this._firstMove<100&&void 0;const oe=a.y>0==u.y>0;return Xl(a)&&Xl(u)&&oe}}const ca={panStep:100,bearingStep:15,pitchStep:10};class Cn{constructor(){const a=ca;this._panStep=a.panStep,this._bearingStep=a.bearingStep,this._pitchStep=a.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let u=0,x=0,D=0,B=0,oe=0;switch(a.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:a.shiftKey?x=-1:(a.preventDefault(),B=-1);break;case 39:a.shiftKey?x=1:(a.preventDefault(),B=1);break;case 38:a.shiftKey?D=1:(a.preventDefault(),oe=-1);break;case 40:a.shiftKey?D=-1:(a.preventDefault(),oe=1);break;default:return}return this._rotationDisabled&&(x=0,D=0),{cameraAnimation:de=>{const ge=de.getZoom();de.easeTo({duration:300,easeId:"keyboardHandler",easing:Rm,zoom:u?Math.round(ge)+u*(a.shiftKey?2:1):ge,bearing:de.getBearing()+x*this._bearingStep,pitch:de.getPitch()+D*this._pitchStep,offset:[-B*this._panStep,-oe*this._panStep],center:de.getCenter()},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Rm(_){return _*(2-_)}const Cp=4.000244140625;class Bm{constructor(a,u){this._map=a,this._el=a.getCanvasContainer(),this._handler=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,n.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(a.ctrlKey||a.metaKey||this.isZooming()||n.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let u=a.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const x=n.exported.now(),D=x-(this._lastWheelEventTime||0);this._lastWheelEventTime=x,u!==0&&u%Cp==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":D>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(D*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),a.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=a,this._delta-=u,this._active||this._start(a)),a.preventDefault()}_onTimeout(a){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(a)}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=V(this._el,a);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:u,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._map.transform;this._type==="wheel"&&a.projection.wrap&&(a._center.lng>=180||a._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const u=()=>a._terrainEnabled()&&this._aroundCoord?a.computeZoomRelativeTo(this._aroundCoord):a.zoom;if(this._delta!==0){const ge=this._type==="wheel"&&Math.abs(this._delta)>Cp?this._wheelZoomRate:this._defaultZoomRate;let ke=2/(1+Math.exp(-Math.abs(this._delta*ge)));this._delta<0&&ke!==0&&(ke=1/ke);const Ce=u(),Re=Math.pow(2,Ce),$e=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):Re;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom($e*ke))),this._type==="wheel"&&(this._startZoom=Ce,this._easing=this._smoothOutEasing(200)),this._delta=0}const x=typeof this._targetZoom=="number"?this._targetZoom:u(),D=this._startZoom,B=this._easing;let oe,de=!1;if(this._type==="wheel"&&D&&B){const ge=Math.min((n.exported.now()-this._lastWheelEventTime)/200,1),ke=B(ge);oe=n.number(D,x,ke),ge<1?this._frameId||(this._frameId=!0):de=!0}else oe=x,de=!0;return this._active=!0,de&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!de,zoomDelta:oe-u(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let u=n.ease;if(this._prevEase){const x=this._prevEase,D=(n.exported.now()-x.start)/x.duration,B=x.easing(D+.01)-x.easing(D),oe=.27/Math.sqrt(B*B+1e-4)*.01,de=Math.sqrt(.0729-oe*oe);u=n.bezier(oe,de,.25,1)}return this._prevEase={start:n.exported.now(),duration:a,easing:u},u}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Y("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(n.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class ih{constructor(a,u){this._clickZoom=a,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Yl{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(a,u){return a.preventDefault(),{cameraAnimation:x=>{x.easeTo({duration:300,zoom:x.getZoom()+(a.shiftKey?-1:1),around:x.unproject(u)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qf{constructor(){this._tap=new Hl({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(a,u,x){this._swipePoint||(this._tapTime&&a.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?x.length>0&&(this._swipePoint=u[0],this._swipeTouch=x[0].identifier):this._tap.touchstart(a,u,x))}touchmove(a,u,x){if(this._tapTime){if(this._swipePoint){if(x[0].identifier!==this._swipeTouch)return;const D=u[0],B=D.y-this._swipePoint.y;return this._swipePoint=D,a.preventDefault(),this._active=!0,{zoomDelta:B/128}}}else this._tap.touchmove(a,u,x)}touchend(a,u,x){this._tapTime?this._swipePoint&&x.length===0&&this.reset():this._tap.touchend(a,u,x)&&(this._tapTime=a.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fh{constructor(a,u,x){this._el=a,this._mousePan=u,this._touchPan=x}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class dl{constructor(a,u,x){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=u,this._mousePitch=x}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class _u{constructor(a,u,x,D){this._el=a,this._touchZoom=u,this._touchRotate=x,this._tapDragZoom=D,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const zi=_=>_.zoom||_.drag||_.pitch||_.rotate;class Zf extends n.Event{}class Kf{constructor(){this.constants=[1,1,.01],this.radius=0}setup(a,u){const x=n.sub([],u,a);this.radius=n.length(x[2]<0?n.div([],x,this.constants):[x[0],x[1],0])}projectRay(a){n.div(a,a,this.constants),n.normalize(a,a),n.mul$1(a,a,this.constants);const u=n.scale$2([],a,this.radius);if(u[2]>0){const x=n.scale$2([],[0,0,1],n.dot(u,[0,0,1])),D=n.scale$2([],n.normalize([],[u[0],u[1],0]),this.radius),B=n.add([],u,n.scale$2([],n.sub([],n.add([],D,x),u),2));u[0]=B[0],u[1]=B[1]}return u}}function Mc(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class vd{constructor(a,u){this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fu(a),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Kf,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(u),n.bindAll(["handleEvent","handleWindowEvent"],this);const x=this._el;this._listeners=[[x,"touchstart",{passive:!0}],[x,"touchmove",{passive:!1}],[x,"touchend",void 0],[x,"touchcancel",void 0],[x,"mousedown",void 0],[x,"mousemove",void 0],[x,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[x,"mouseover",void 0],[x,"mouseout",void 0],[x,"dblclick",void 0],[x,"click",void 0],[x,"keydown",{capture:!1}],[x,"keyup",void 0],[x,"wheel",{passive:!1}],[x,"contextmenu",void 0],[n.window,"blur",void 0]];for(const[D,B,oe]of this._listeners)D.addEventListener(B,D===n.window.document?this.handleWindowEvent:this.handleEvent,oe)}destroy(){for(const[a,u,x]of this._listeners)a.removeEventListener(u,a===n.window.document?this.handleWindowEvent:this.handleEvent,x)}_addDefaultHandlers(a){const u=this._map,x=u.getCanvasContainer();this._add("mapEvent",new Xf(u,a));const D=u.boxZoom=new mu(u,a);this._add("boxZoom",D);const B=new Rh,oe=new Yl;u.doubleClickZoom=new ih(oe,B),this._add("tapZoom",B),this._add("clickZoom",oe);const de=new qf;this._add("tapDragZoom",de);const ge=u.touchPitch=new yd(u);this._add("touchPitch",ge);const ke=new Tp(a),Ce=new Sp(a);u.dragRotate=new dl(a,ke,Ce),this._add("mouseRotate",ke,["mousePitch"]),this._add("mousePitch",Ce,["mouseRotate"]);const Re=new th(a),$e=new Yf(u,a);u.dragPan=new Fh(x,Re,$e),this._add("mousePan",Re),this._add("touchPan",$e,["touchZoom","touchRotate"]);const tt=new qe,it=new zh;u.touchZoomRotate=new _u(x,it,tt,de),this._add("touchRotate",tt,["touchPan","touchZoom"]),this._add("touchZoom",it,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Om(u));const rt=u.scrollZoom=new Bm(u,this);this._add("scrollZoom",rt,["mousePan"]);const Xe=u.keyboard=new Cn;this._add("keyboard",Xe);for(const Ze of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])a.interactive&&a[Ze]&&u[Ze].enable(a[Ze])}_add(a,u,x){this._handlers.push({handlerName:a,handler:u,allowed:x}),this._handlersById[a]=u}stop(a){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!zi(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(a,u,x){for(const D in a)if(D!==x&&(!u||u.indexOf(D)<0))return!0;return!1}handleWindowEvent(a){this.handleEvent(a,`${a.type}Window`)}_getMapTouches(a){const u=[];for(const x of a)this._el.contains(x.target)&&u.push(x);return u}handleEvent(a,u){this._updatingCamera=!0;const x=a.type==="renderFrame",D=x?void 0:a,B={needsRenderFrame:!1},oe={},de={},ge=a.touches?this._getMapTouches(a.touches):void 0,ke=ge?C(this._el,ge):x?void 0:V(this._el,a);for(const{handlerName:$e,handler:tt,allowed:it}of this._handlers){if(!tt.isEnabled())continue;let rt;this._blockedByActive(de,it,$e)?tt.reset():tt[u||a.type]&&(rt=tt[u||a.type](a,ke,ge),this.mergeHandlerResult(B,oe,rt,$e,D),rt&&rt.needsRenderFrame&&this._triggerRenderFrame()),(rt||tt.isActive())&&(de[$e]=tt)}const Ce={};for(const $e in this._previousActiveHandlers)de[$e]||(Ce[$e]=D);this._previousActiveHandlers=de,(Object.keys(Ce).length||Mc(B))&&(this._changes.push([B,oe,Ce]),this._triggerRenderFrame()),(Object.keys(de).length||Mc(B))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Re}=B;Re&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Re(this._map))}mergeHandlerResult(a,u,x,D,B){if(!x)return;n.extend(a,x);const oe={handlerName:D,originalEvent:x.originalEvent||B};x.zoomDelta!==void 0&&(u.zoom=oe),x.panDelta!==void 0&&(u.drag=oe),x.pitchDelta!==void 0&&(u.pitch=oe),x.bearingDelta!==void 0&&(u.rotate=oe)}_applyChanges(){const a={},u={},x={};for(const[D,B,oe]of this._changes)D.panDelta&&(a.panDelta=(a.panDelta||new n.pointGeometry(0,0))._add(D.panDelta)),D.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+D.zoomDelta),D.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+D.bearingDelta),D.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+D.pitchDelta),D.around!==void 0&&(a.around=D.around),D.aroundCoord!==void 0&&(a.aroundCoord=D.aroundCoord),D.pinchAround!==void 0&&(a.pinchAround=D.pinchAround),D.noInertia&&(a.noInertia=D.noInertia),n.extend(u,B),n.extend(x,oe);this._updateMapTransform(a,u,x),this._changes=[]}_updateMapTransform(a,u,x){const D=this._map,B=D.transform,oe=ht=>[ht.x,ht.y,ht.z];if((ht=>{const nt=this._eventsInProgress.drag;return nt&&!this._handlersById[nt.handlerName].isActive()})()&&!Mc(a)){const ht=B.zoom;B.cameraElevationReference="sea",B.recenterOnTerrain(),B.cameraElevationReference="ground",ht!==B.zoom&&this._map._update(!0)}if(B._isCameraConstrained&&D._stop(!0),!Mc(a))return void this._fireEvents(u,x,!0);let{panDelta:de,zoomDelta:ge,bearingDelta:ke,pitchDelta:Ce,around:Re,aroundCoord:$e,pinchAround:tt}=a;B._isCameraConstrained&&(ge>0&&(ge=0),B._isCameraConstrained=!1),tt!==void 0&&(Re=tt),(ht=>u.drag&&!this._eventsInProgress.drag)()&&Re&&(this._dragOrigin=oe(B.pointCoordinate3D(Re)),this._trackingEllipsoid.setup(B._camera.position,this._dragOrigin)),B.cameraElevationReference="sea",D._stop(!0),Re=Re||D.transform.centerPoint,ke&&(B.bearing+=ke),Ce&&(B.pitch+=Ce),B._updateCameraState();const it=[0,0,0];if(de)if(B.projection.name==="mercator"){const ht=this._trackingEllipsoid.projectRay(B.screenPointToMercatorRay(Re).dir),nt=this._trackingEllipsoid.projectRay(B.screenPointToMercatorRay(Re.sub(de)).dir);it[0]=nt[0]-ht[0],it[1]=nt[1]-ht[1]}else{const ht=B.pointCoordinate(Re);if(B.projection.name==="globe"){de=de.rotate(-B.angle);const nt=B._pixelsPerMercatorPixel/B.worldSize;it[0]=-de.x*n.mercatorScale(n.latFromMercatorY(ht.y))*nt,it[1]=-de.y*n.mercatorScale(B.center.lat)*nt}else{const nt=B.pointCoordinate(Re.sub(de));ht&&nt&&(it[0]=nt.x-ht.x,it[1]=nt.y-ht.y)}}const rt=B.zoom,Xe=[0,0,0];if(ge){const ht=oe($e||B.pointCoordinate3D(Re)),nt={dir:n.normalize([],n.sub([],ht,B._camera.position))};if(nt.dir[2]<0){const ft=B.zoomDeltaToMovement(ht,ge);n.scale$2(Xe,nt.dir,ft)}}const Ze=n.add(it,it,Xe);B._translateCameraConstrained(Ze),ge&&Math.abs(B.zoom-rt)>1e-4&&B.recenterOnTerrain(),B.cameraElevationReference="ground",this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(u,x,!0)}_fireEvents(a,u,x){const D=zi(this._eventsInProgress),B=zi(a),oe={};for(const Ce in a){const{originalEvent:Re}=a[Ce];this._eventsInProgress[Ce]||(oe[`${Ce}start`]=Re),this._eventsInProgress[Ce]=a[Ce]}!D&&B&&this._fireEvent("movestart",B.originalEvent);for(const Ce in oe)this._fireEvent(Ce,oe[Ce]);B&&this._fireEvent("move",B.originalEvent);for(const Ce in a){const{originalEvent:Re}=a[Ce];this._fireEvent(Ce,Re)}const de={};let ge;for(const Ce in this._eventsInProgress){const{handlerName:Re,originalEvent:$e}=this._eventsInProgress[Ce];this._handlersById[Re].isActive()||(delete this._eventsInProgress[Ce],ge=u[Re]||$e,de[`${Ce}end`]=ge)}for(const Ce in de)this._fireEvent(Ce,de[Ce]);const ke=zi(this._eventsInProgress);if(x&&(D||B)&&!ke){this._updatingCamera=!0;const Ce=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Re=$e=>$e!==0&&-this._bearingSnap<$e&&$e<this._bearingSnap;Ce?(Re(Ce.bearing||this._map.getBearing())&&(Ce.bearing=0),this._map.easeTo(Ce,{originalEvent:ge})):(this._map.fire(new n.Event("moveend",{originalEvent:ge})),Re(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(a,u){this._map.fire(new n.Event(a,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{this._frameId=void 0,this.handleEvent(new Zf("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Mp="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class ul extends n.Evented{constructor(a,u){super(),this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=u.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}getCenter(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(a,u){return this.jumpTo({center:a},u)}panBy(a,u,x){return a=n.pointGeometry.convert(a).mult(-1),this.panTo(this.transform.center,n.extend({offset:a},u),x)}panTo(a,u,x){return this.easeTo(n.extend({center:a},u),x)}getZoom(){return this.transform.zoom}setZoom(a,u){return this.jumpTo({zoom:a},u),this}zoomTo(a,u,x){return this.easeTo(n.extend({zoom:a},u),x)}zoomIn(a,u){return this.zoomTo(this.getZoom()+1,a,u),this}zoomOut(a,u){return this.zoomTo(this.getZoom()-1,a,u),this}getBearing(){return this.transform.bearing}setBearing(a,u){return this.jumpTo({bearing:a},u),this}getPadding(){return this.transform.padding}setPadding(a,u){return this.jumpTo({padding:a},u),this}rotateTo(a,u,x){return this.easeTo(n.extend({bearing:a},u),x)}resetNorth(a,u){return this.rotateTo(0,n.extend({duration:1e3},a),u),this}resetNorthPitch(a,u){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},a),u),this}snapToNorth(a,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,u):this}getPitch(){return this.transform.pitch}setPitch(a,u){return this.jumpTo({pitch:a},u),this}cameraForBounds(a,u){a=n.LngLatBounds.convert(a);const x=u&&u.bearing||0,D=u&&u.pitch||0,B=a.getNorthWest(),oe=a.getSouthEast();return this._cameraForBounds(this.transform,B,oe,x,D,u)}_extendCameraOptions(a){const u={top:0,bottom:0,right:0,left:0};if(typeof(a=n.extend({padding:u,offset:[0,0],maxZoom:this.transform.maxZoom},a)).padding=="number"){const x=a.padding;a.padding={top:x,bottom:x,right:x,left:x}}return a.padding=n.extend(u,a.padding),a}_minimumAABBFrustumDistance(a,u){const x=u.max[0]-u.min[0],D=u.max[1]-u.min[1];return x/D>a.aspect?x/(2*Math.tan(.5*a.fovX)*a.aspect):D/(2*Math.tan(.5*a.fovY)*a.aspect)}_cameraForBoundsOnGlobe(a,u,x,D,B,oe){const de=a.clone(),ge=this._extendCameraOptions(oe);de.bearing=D,de.pitch=B;const ke=n.LngLat.convert(u),Ce=n.LngLat.convert(x),Re=.5*(ke.lat+Ce.lat),$e=.5*(ke.lng+Ce.lng),tt=n.latLngToECEF(Re,$e),it=n.normalize([],tt),rt=n.normalize([],n.cross([],it,[0,1,0])),Xe=n.cross([],rt,it),Ze=[rt[0],rt[1],rt[2],0,Xe[0],Xe[1],Xe[2],0,it[0],it[1],it[2],0,0,0,0,1],ht=[tt,n.latLngToECEF(ke.lat,ke.lng),n.latLngToECEF(Ce.lat,ke.lng),n.latLngToECEF(Ce.lat,Ce.lng),n.latLngToECEF(ke.lat,Ce.lng),n.latLngToECEF(Re,ke.lng),n.latLngToECEF(Re,Ce.lng),n.latLngToECEF(ke.lat,$e),n.latLngToECEF(Ce.lat,$e)];let nt=n.Aabb.fromPoints(ht.map(Rt=>[n.dot(rt,Rt),n.dot(Xe,Rt),n.dot(it,Rt)]));const ft=n.transformMat4([],nt.center,Ze);n.squaredLength(ft)===0&&n.set(ft,0,0,1),n.normalize(ft,ft),n.scale$2(ft,ft,n.GLOBE_RADIUS),de.center=n.ecefToLatLng(ft);const Tt=de.getWorldToCameraMatrix(),gt=n.invert(new Float64Array(16),Tt);nt=n.Aabb.applyTransform(nt,n.multiply([],Tt,Ze)),n.transformMat4(ft,ft,Tt);const kt=.5*(nt.max[2]-nt.min[2]),Wt=this._minimumAABBFrustumDistance(de,nt),Nt=n.scale$2([],[0,0,1],kt),Dt=n.add(Nt,ft,Nt),pi=Wt+(de.pitch===0?0:n.distance(ft,Dt)),Ft=de.globeCenterInViewSpace,ri=n.sub([],ft,[Ft[0],Ft[1],Ft[2]]);n.normalize(ri,ri),n.scale$2(ri,ri,pi);const Yt=n.add([],ft,ri);n.transformMat4(Yt,Yt,gt);const vi=n.earthRadius/n.GLOBE_RADIUS,qt=n.length(Yt),di=n.mercatorZfromAltitude(qt*vi-n.earthRadius,0),wi=Math.min(de.zoomFromMercatorZAdjusted(di),ge.maxZoom);return wi>.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(de.setProjection({name:"mercator"}),de.zoom=wi,this._cameraForBounds(de,u,x,D,B,oe)):{center:de.center,zoom:wi,bearing:D,pitch:B}}queryTerrainElevation(a,u){const x=this.transform.elevation;return x?(u=n.extend({},{exaggerated:!0},u),x.getAtPoint(n.MercatorCoordinate.fromLngLat(a),null,u.exaggerated)):null}_cameraForBounds(a,u,x,D,B,oe){if(a.projection.name==="globe")return this._cameraForBoundsOnGlobe(a,u,x,D,B,oe);const de=a.clone(),ge=this._extendCameraOptions(oe),ke=de.padding;de.bearing=D,de.pitch=B;const Ce=n.LngLat.convert(u),Re=n.LngLat.convert(x),$e=new n.LngLat(Ce.lng,Re.lat),tt=new n.LngLat(Re.lng,Ce.lat),it=de.project(Ce),rt=de.project(Re),Xe=this.queryTerrainElevation(Ce),Ze=this.queryTerrainElevation(Re),ht=this.queryTerrainElevation($e),nt=this.queryTerrainElevation(tt),ft=[[it.x,it.y,Math.min(Xe||0,Ze||0,ht||0,nt||0)],[rt.x,rt.y,Math.max(Xe||0,Ze||0,ht||0,nt||0)]];let Tt=n.Aabb.fromPoints(ft);const gt=de.getWorldToCameraMatrix(),kt=n.invert(new Float64Array(16),gt);Tt=n.Aabb.applyTransform(Tt,gt);const Wt=n.sub([],Tt.max,Tt.min),Nt=ke.left||0,Dt=ke.right||0,pi=ke.bottom||0,Ft=ke.top||0,{left:ri,right:Yt,top:vi,bottom:qt}=ge.padding,di=.5*(Nt+Dt),wi=.5*(Ft+pi),Rt=Math.min(de.scaleZoom(de.scale*Math.min((de.width-(Nt+Dt+ri+Yt))/Wt[0],(de.height-(pi+Ft+qt+vi))/Wt[1])),ge.maxZoom),Xt=de.scale/de.zoomScale(Rt);Tt=new n.Aabb([Tt.min[0]-(ri+di)*Xt,Tt.min[1]-(qt+wi)*Xt,Tt.min[2]],[Tt.max[0]+(Yt+di)*Xt,Tt.max[1]+(vi+wi)*Xt,Tt.max[2]]);const Hi=.5*Wt[2],nn=this._minimumAABBFrustumDistance(de,Tt),Wi=[0,0,1,0];n.transformMat4$1(Wi,Wi,gt),n.normalize$2(Wi,Wi);const fn=n.scale$2([],Wi,nn+Hi),Bn=n.add([],Tt.center,fn),rn=(typeof ge.offset.x=="number"&&typeof ge.offset.y=="number"?new n.pointGeometry(ge.offset.x,ge.offset.y):n.pointGeometry.convert(ge.offset)).rotate(-n.degToRad(D));Tt.center[0]-=rn.x*Xt,Tt.center[1]+=rn.y*Xt,n.transformMat4(Tt.center,Tt.center,kt),n.transformMat4(Bn,Bn,kt);const Vi=[Tt.center[0],Tt.center[1],Bn[2]*de.pixelsPerMeter];n.scale$2(Vi,Vi,1/de.worldSize);const Es=n.lngFromMercatorX(Vi[0]),ds=n.latFromMercatorY(Vi[1]),ks=Math.min(de._zoomFromMercatorZ(Vi[2]),ge.maxZoom),bs=new n.LngLat(Es,ds);return de.mercatorFromTransition&&ks<.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(de.setProjection({name:"globe"}),de.zoom=ks,this._cameraForBounds(de,u,x,D,B,oe)):{center:bs,zoom:ks,bearing:D,pitch:B}}fitBounds(a,u,x){const D=this.cameraForBounds(a,u);return this._fitInternal(D,u,x)}fitScreenCoordinates(a,u,x,D,B){const oe=n.pointGeometry.convert(a),de=n.pointGeometry.convert(u),ge=new n.pointGeometry(Math.min(oe.x,de.x),Math.min(oe.y,de.y)),ke=new n.pointGeometry(Math.max(oe.x,de.x),Math.max(oe.y,de.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(oe,de))return this;const Ce=this.transform.pointLocation3D(ge),Re=this.transform.pointLocation3D(ke),$e=this.transform.pointLocation3D(new n.pointGeometry(ge.x,ke.y)),tt=this.transform.pointLocation3D(new n.pointGeometry(ke.x,ge.y)),it=[Math.min(Ce.lng,Re.lng,$e.lng,tt.lng),Math.min(Ce.lat,Re.lat,$e.lat,tt.lat)],rt=[Math.max(Ce.lng,Re.lng,$e.lng,tt.lng),Math.max(Ce.lat,Re.lat,$e.lat,tt.lat)],Xe=D&&D.pitch?D.pitch:this.getPitch(),Ze=this._cameraForBounds(this.transform,it,rt,x,Xe,D);return this._fitInternal(Ze,D,B)}_fitInternal(a,u,x){return a?(delete(u=n.extend(a,u)).padding,u.linear?this.easeTo(u,x):this.flyTo(u,x)):this}jumpTo(a,u){this.stop();const x=a.preloadOnly?this.transform.clone():this.transform;let D=!1,B=!1,oe=!1;return"zoom"in a&&x.zoom!==+a.zoom&&(D=!0,x.zoom=+a.zoom),a.center!==void 0&&(x.center=n.LngLat.convert(a.center)),"bearing"in a&&x.bearing!==+a.bearing&&(B=!0,x.bearing=+a.bearing),"pitch"in a&&x.pitch!==+a.pitch&&(oe=!0,x.pitch=+a.pitch),a.padding==null||x.isPaddingEqual(a.padding)||(x.padding=a.padding),a.preloadOnly?(this._preloadTiles(x),this):(this.fire(new n.Event("movestart",u)).fire(new n.Event("move",u)),D&&this.fire(new n.Event("zoomstart",u)).fire(new n.Event("zoom",u)).fire(new n.Event("zoomend",u)),B&&this.fire(new n.Event("rotatestart",u)).fire(new n.Event("rotate",u)).fire(new n.Event("rotateend",u)),oe&&this.fire(new n.Event("pitchstart",u)).fire(new n.Event("pitch",u)).fire(new n.Event("pitchend",u)),this.fire(new n.Event("moveend",u)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||n.warnOnce(Mp),this.transform.getFreeCameraOptions()}setFreeCameraOptions(a,u){const x=this.transform;if(!x.projection.supportsFreeCamera)return n.warnOnce(Mp),this;this.stop();const D=x.zoom,B=x.pitch,oe=x.bearing;x.setFreeCameraOptions(a);const de=D!==x.zoom,ge=B!==x.pitch,ke=oe!==x.bearing;return this.fire(new n.Event("movestart",u)).fire(new n.Event("move",u)),de&&this.fire(new n.Event("zoomstart",u)).fire(new n.Event("zoom",u)).fire(new n.Event("zoomend",u)),ke&&this.fire(new n.Event("rotatestart",u)).fire(new n.Event("rotate",u)).fire(new n.Event("rotateend",u)),ge&&this.fire(new n.Event("pitchstart",u)).fire(new n.Event("pitch",u)).fire(new n.Event("pitchend",u)),this.fire(new n.Event("moveend",u)),this}easeTo(a,u){this._stop(!1,a.easeId),((a=n.extend({offset:[0,0],duration:500,easing:n.ease},a)).animate===!1||!a.essential&&n.exported.prefersReducedMotion)&&(a.duration=0);const x=this.transform,D=this.getZoom(),B=this.getBearing(),oe=this.getPitch(),de=this.getPadding(),ge="zoom"in a?+a.zoom:D,ke="bearing"in a?this._normalizeBearing(a.bearing,B):B,Ce="pitch"in a?+a.pitch:oe,Re="padding"in a?a.padding:x.padding,$e=n.pointGeometry.convert(a.offset);let tt,it,rt;if(x.projection.name==="globe"){const Nt=n.MercatorCoordinate.fromLngLat(x.center),Dt=$e.rotate(-x.angle);Nt.x+=Dt.x/x.worldSize,Nt.y+=Dt.y/x.worldSize;const pi=Nt.toLngLat(),Ft=n.LngLat.convert(a.center||pi);this._normalizeCenter(Ft),tt=x.centerPoint.add(Dt),it=new n.pointGeometry(Nt.x,Nt.y).mult(x.worldSize),rt=new n.pointGeometry(n.mercatorXfromLng(Ft.lng),n.mercatorYfromLat(Ft.lat)).mult(x.worldSize).sub(it)}else{tt=x.centerPoint.add($e);const Nt=x.pointLocation(tt),Dt=n.LngLat.convert(a.center||Nt);this._normalizeCenter(Dt),it=x.project(Nt),rt=x.project(Dt).sub(it)}const Xe=x.zoomScale(ge-D);let Ze,ht;a.around&&(Ze=n.LngLat.convert(a.around),ht=x.locationPoint(Ze));const nt=this._zooming||ge!==D,ft=this._rotating||B!==ke,Tt=this._pitching||Ce!==oe,gt=!x.isPaddingEqual(Re),kt=Nt=>Dt=>{if(nt&&(Nt.zoom=n.number(D,ge,Dt)),ft&&(Nt.bearing=n.number(B,ke,Dt)),Tt&&(Nt.pitch=n.number(oe,Ce,Dt)),gt&&(Nt.interpolatePadding(de,Re,Dt),tt=Nt.centerPoint.add($e)),Ze)Nt.setLocationAtPoint(Ze,ht);else{const pi=Nt.zoomScale(Nt.zoom-D),Ft=ge>D?Math.min(2,Xe):Math.max(.5,Xe),ri=Math.pow(Ft,1-Dt),Yt=Nt.unproject(it.add(rt.mult(Dt*ri)).mult(pi));Nt.setLocationAtPoint(Nt.renderWorldCopies?Yt.wrap():Yt,tt)}return a.preloadOnly||this._fireMoveEvents(u),Nt};if(a.preloadOnly){const Nt=this._emulate(kt,a.duration,x);return this._preloadTiles(Nt),this}const Wt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=nt,this._rotating=ft,this._pitching=Tt,this._padding=gt,this._easeId=a.easeId,this._prepareEase(u,a.noMoveStart,Wt),this._ease(kt(x),Nt=>{x.recenterOnTerrain(),this._afterEase(u,Nt)},a),this}_prepareEase(a,u,x={}){this._moving=!0,this.transform.cameraElevationReference="sea",u||x.moving||this.fire(new n.Event("movestart",a)),this._zooming&&!x.zooming&&this.fire(new n.Event("zoomstart",a)),this._rotating&&!x.rotating&&this.fire(new n.Event("rotatestart",a)),this._pitching&&!x.pitching&&this.fire(new n.Event("pitchstart",a))}_fireMoveEvents(a){this.fire(new n.Event("move",a)),this._zooming&&this.fire(new n.Event("zoom",a)),this._rotating&&this.fire(new n.Event("rotate",a)),this._pitching&&this.fire(new n.Event("pitch",a))}_afterEase(a,u){if(this._easeId&&u&&this._easeId===u)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const x=this._zooming,D=this._rotating,B=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,x&&this.fire(new n.Event("zoomend",a)),D&&this.fire(new n.Event("rotateend",a)),B&&this.fire(new n.Event("pitchend",a)),this.fire(new n.Event("moveend",a))}flyTo(a,u){if(!a.essential&&n.exported.prefersReducedMotion){const Rt=n.pick(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Rt,u)}this.stop(),a=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},a);const x=this.transform,D=this.getZoom(),B=this.getBearing(),oe=this.getPitch(),de=this.getPadding(),ge="zoom"in a?n.clamp(+a.zoom,x.minZoom,x.maxZoom):D,ke="bearing"in a?this._normalizeBearing(a.bearing,B):B,Ce="pitch"in a?+a.pitch:oe,Re="padding"in a?a.padding:x.padding,$e=x.zoomScale(ge-D),tt=n.pointGeometry.convert(a.offset);let it=x.centerPoint.add(tt);const rt=x.pointLocation(it),Xe=n.LngLat.convert(a.center||rt);this._normalizeCenter(Xe);const Ze=x.project(rt),ht=x.project(Xe).sub(Ze);let nt=a.curve;const ft=Math.max(x.width,x.height),Tt=ft/$e,gt=ht.mag();if("minZoom"in a){const Rt=n.clamp(Math.min(a.minZoom,D,ge),x.minZoom,x.maxZoom),Xt=ft/x.zoomScale(Rt-D);nt=Math.sqrt(Xt/gt*2)}const kt=nt*nt;function Wt(Rt){const Xt=(Tt*Tt-ft*ft+(Rt?-1:1)*kt*kt*gt*gt)/(2*(Rt?Tt:ft)*kt*gt);return Math.log(Math.sqrt(Xt*Xt+1)-Xt)}function Nt(Rt){return(Math.exp(Rt)-Math.exp(-Rt))/2}function Dt(Rt){return(Math.exp(Rt)+Math.exp(-Rt))/2}const pi=Wt(0);let Ft=function(Rt){return Dt(pi)/Dt(pi+nt*Rt)},ri=function(Rt){return ft*((Dt(pi)*(Nt(Xt=pi+nt*Rt)/Dt(Xt))-Nt(pi))/kt)/gt;var Xt},Yt=(Wt(1)-pi)/nt;if(Math.abs(gt)<1e-6||!isFinite(Yt)){if(Math.abs(ft-Tt)<1e-6)return this.easeTo(a,u);const Rt=Tt<ft?-1:1;Yt=Math.abs(Math.log(Tt/ft))/nt,ri=function(){return 0},Ft=function(Xt){return Math.exp(Rt*nt*Xt)}}a.duration="duration"in a?+a.duration:1e3*Yt/("screenSpeed"in a?+a.screenSpeed/nt:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0);const vi=B!==ke,qt=Ce!==oe,di=!x.isPaddingEqual(Re),wi=Rt=>Xt=>{const Hi=Xt*Yt,nn=1/Ft(Hi);Rt.zoom=Xt===1?ge:D+Rt.scaleZoom(nn),vi&&(Rt.bearing=n.number(B,ke,Xt)),qt&&(Rt.pitch=n.number(oe,Ce,Xt)),di&&(Rt.interpolatePadding(de,Re,Xt),it=Rt.centerPoint.add(tt));const Wi=Xt===1?Xe:Rt.unproject(Ze.add(ht.mult(ri(Hi))).mult(nn));return Rt.setLocationAtPoint(Rt.renderWorldCopies?Wi.wrap():Wi,it),Rt._updateCameraOnTerrain(),a.preloadOnly||this._fireMoveEvents(u),Rt};if(a.preloadOnly){const Rt=this._emulate(wi,a.duration,x);return this._preloadTiles(Rt),this}return this._zooming=!0,this._rotating=vi,this._pitching=qt,this._padding=di,this._prepareEase(u,!1),this._ease(wi(x),()=>this._afterEase(u),a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,u){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const x=this._onEaseEnd;this._onEaseEnd=void 0,x.call(this,u)}if(!a){const x=this.handlers;x&&x.stop(!1)}return this}_ease(a,u,x){x.animate===!1||x.duration===0?(a(1),u()):(this._easeStart=n.exported.now(),this._easeOptions=x,this._onEaseFrame=a,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const a=Math.min((n.exported.now()-this._easeStart)/this._easeOptions.duration,1),u=this._onEaseFrame;u&&u(this._easeOptions.easing(a)),a<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(a,u){a=n.wrap(a,-180,180);const x=Math.abs(a-u);return Math.abs(a-360-u)<x&&(a-=360),Math.abs(a+360-u)<x&&(a+=360),a}_normalizeCenter(a){const u=this.transform;if(!u.renderWorldCopies||u.maxBounds)return;const x=a.lng-u.center.lng;a.lng+=x>180?-360:x<-180?360:0}_emulate(a,u,x){const D=Math.ceil(15*u/1e3),B=[],oe=a(x.clone());for(let de=0;de<=D;de++){const ge=oe(de/D);B.push(ge.clone())}return B}}class Ap{constructor(a={}){this.options=a,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(a){const u=this.options&&this.options.compact;return this._map=a,this._container=Y("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=Y("button","mapboxgl-ctrl-attrib-button",this._container),Y("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=Y("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),u&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),u===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(a,u){const x=this._map._getUIString(`AttributionControl.${u}`);a.setAttribute("aria-label",x),a.removeAttribute("title"),a.firstElementChild&&a.firstElementChild.setAttribute("title",x)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let a=this._editLink;a||(a=this._editLink=this._container.querySelector(".mapbox-improve-map"));const u=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(a){const x=u.reduce((D,B,oe)=>(B.value&&(D+=`${B.key}=${B.value}${oe<u.length-1?"&":""}`),D),"?");a.href=`${n.config.FEEDBACK_URL}/${x}#${wa(this._map,!0)}`,a.rel="noopener nofollow",this._setElementTitle(a,"MapFeedback")}}_updateData(a){!a||a.sourceDataType!=="metadata"&&a.sourceDataType!=="visibility"&&a.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let a=[];if(this._map.style.stylesheet){const D=this._map.style.stylesheet;this.styleOwner=D.owner,this.styleId=D.id}const u=this._map.style._sourceCaches;for(const D in u){const B=u[D];if(B.used){const oe=B.getSource();oe.attribution&&a.indexOf(oe.attribution)<0&&a.push(oe.attribution)}}a.sort((D,B)=>D.length-B.length),a=a.filter((D,B)=>{for(let oe=B+1;oe<a.length;oe++)if(a[oe].indexOf(D)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=[...this.options.customAttribution,...a]:a.unshift(this.options.customAttribution));const x=a.join(" | ");x!==this._attribHTML&&(this._attribHTML=x,a.length?(this._innerContainer.innerHTML=x,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class kp{constructor(){n.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(a){this._map=a,this._container=Y("div","mapboxgl-ctrl");const u=Y("a","mapboxgl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://www.mapbox.com/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(a){a&&a.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const a=this._map.style._sourceCaches;if(Object.entries(a).length===0)return!0;for(const u in a){const x=a[u].getSource();if(x.hasOwnProperty("mapbox_logo")&&!x.mapbox_logo)return!1}return!0}_updateCompact(){const a=this._container.children;if(a.length){const u=a[0];this._map.getCanvasContainer().offsetWidth<250?u.classList.add("mapboxgl-compact"):u.classList.remove("mapboxgl-compact")}}}class Pp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const u=++this._id;return this._queue.push({callback:a,id:u,cancelled:!1}),u}remove(a){const u=this._currentlyRunning,x=u?this._queue.concat(u):this._queue;for(const D of x)if(D.id===a)return void(D.cancelled=!0)}run(a=0){const u=this._currentlyRunning=this._queue;this._queue=[];for(const x of u)if(!x.cancelled&&(x.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Dp(_,a,u){if(_=new n.LngLat(_.lng,_.lat),a){const x=new n.LngLat(_.lng-360,_.lat),D=new n.LngLat(_.lng+360,_.lat),B=360*Math.ceil(Math.abs(_.lng-u.center.lng)/360),oe=u.locationPoint(_).distSqr(a),de=a.x<0||a.y<0||a.x>u.width||a.y>u.height;u.locationPoint(x).distSqr(a)<oe&&(de||Math.abs(x.lng-u.center.lng)<B)?_=x:u.locationPoint(D).distSqr(a)<oe&&(de||Math.abs(D.lng-u.center.lng)<B)&&(_=D)}for(;Math.abs(_.lng-u.center.lng)>180;){const x=u.locationPoint(_);if(x.x>=0&&x.y>=0&&x.x<=u.width&&x.y<=u.height)break;_.lng>u.center.lng?_.lng-=360:_.lng+=360}return _}const Nh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Wa extends n.Evented{constructor(a,u){if(super(),(a instanceof n.window.HTMLElement||u)&&(a=n.extend({element:a},u)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=a&&a.occludedOpacity||.2,a&&a.element)this._element=a.element,this._offset=n.pointGeometry.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=Y("div");const D=41,B=27,oe=Q("svg",{display:"block",height:D*this._scale+"px",width:B*this._scale+"px",viewBox:`0 0 ${B} ${D}`},this._element),de=Q("radialGradient",{id:"shadowGradient"},Q("defs",{},oe));Q("stop",{offset:"10%","stop-opacity":.4},de),Q("stop",{offset:"100%","stop-opacity":.05},de),Q("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},oe),Q("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},oe),Q("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},oe),Q("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},oe),this._offset=n.pointGeometry.convert(a&&a.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",D=>{D.preventDefault()}),this._element.addEventListener("mousedown",D=>{D.preventDefault()});const x=this._element.classList;for(const D in Nh)x.remove(`mapboxgl-marker-anchor-${D}`);x.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(a){return a===this._map||(this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._updateMoving),a.on("moveend",this._update),a.on("remove",this._clearFadeTimer),a._addMarker(this),this.setDraggable(this._draggable),this._update(),a.on("click",this._onMapClick)),this}remove(){const a=this._map;return a&&(a.off("click",this._onMapClick),a.off("move",this._updateMoving),a.off("moveend",this._update),a.off("mousedown",this._addDragHandler),a.off("touchstart",this._addDragHandler),a.off("mouseup",this._onUp),a.off("touchend",this._onUp),a.off("mousemove",this._onMove),a.off("touchmove",this._onMove),a.off("remove",this._clearFadeTimer),a._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=n.LngLat.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const D=Math.sqrt(Math.pow(13.5,2)/2);a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[D,-1*(38.1-13.5+D)],"bottom-right":[-D,-1*(38.1-13.5+D)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,a._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(a){const u=a.code,x=a.charCode||a.keyCode;u!=="Space"&&u!=="Enter"&&x!==32&&x!==13||this.togglePopup()}_onMapClick(a){const u=a.originalEvent.target,x=this._element;this._popup&&(u===x||x.contains(u))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?(a.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(a.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const a=this._map,u=this._pos;if(!a||!u)return!1;const x=a.unproject(u),D=a.getFreeCameraOptions();if(!D.position)return!1;const B=D.position.toLngLat();return B.distanceTo(x)<.9*B.distanceTo(this._lngLat)}_evaluateOpacity(){const a=this._map;if(!a)return;const u=this._pos;if(!u||u.x<0||u.x>a.transform.width||u.y<0||u.y>a.transform.height)return void this._clearFadeTimer();const x=a.unproject(u);let D;a._showingGlobe()&&n.isLngLatBehindGlobe(a.transform,this._lngLat)?D=0:(D=1-a._queryFogOpacity(x),a.transform._terrainEnabled()&&a.getTerrain()&&this._behindTerrain()&&(D*=this._occludedOpacity)),this._element.style.opacity=`${D}`,this._element.style.pointerEvents=D>0?"auto":"none",this._popup&&this._popup._setOpacity(D),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const a=this._pos;if(!a||!this._map)return;const u=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${a.x}px,${a.y}px)
            ${Nh[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${u.x}px,${u.y}px)
        `}_calculateXYTransform(){const a=this._pos,u=this._map,x=this.getPitchAlignment();if(!u||!a||x!=="map")return"";if(!u._showingGlobe()){const ge=u.getPitch();return ge?`rotateX(${ge}deg)`:""}const D=n.radToDeg(n.globeTiltAtLngLat(u.transform,this._lngLat)),B=a.sub(n.globeCenterToScreenPoint(u.transform)),oe=Math.abs(B.x)+Math.abs(B.y);if(oe===0)return"";const de=D/oe;return`rotateX(${-B.y*de}deg) rotateY(${B.x*de}deg)`}_calculateZTransform(){const a=this._pos,u=this._map;if(!u||!a)return"";let x=0;const D=this.getRotationAlignment();if(D==="map")if(u._showingGlobe()){const B=u.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),oe=u.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(B);x=n.radToDeg(Math.atan2(oe.y,oe.x))-90}else x=-u.getBearing();else if(D==="horizon"){const B=n.smoothstep(4,6,u.getZoom()),oe=n.globeCenterToScreenPoint(u.transform);oe.y+=B*u.transform.height;const de=a.sub(oe),ge=n.radToDeg(Math.atan2(de.y,de.x));x=(ge>90?ge-270:ge+90)*(1-B)}return x+=this._rotation,x?`rotateZ(${x}deg)`:""}_update(a){n.window.cancelAnimationFrame(this._updateFrameId);const u=this._map;u&&(u.transform.renderWorldCopies&&(this._lngLat=Dp(this._lngLat,this._pos,u.transform)),this._pos=u.project(this._lngLat),a===!0?this._updateFrameId=n.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),u._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(u._showingGlobe()||u.getTerrain()||u.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(a){return this._offset=n.pointGeometry.convert(a),this._update(),this}_onMove(a){const u=this._map;if(!u)return;const x=this._pointerdownPos,D=this._positionDelta;if(x&&D){if(!this._isDragging){const B=this._clickTolerance||u._clickTolerance;if(a.point.dist(x)<B)return;this._isDragging=!0}this._pos=a.point.sub(D),this._lngLat=u.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const a=this._map;a&&(a.off("mousemove",this._onMove),a.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"}_addDragHandler(a){const u=this._map,x=this._pos;u&&x&&this._element.contains(a.originalEvent.target)&&(a.preventDefault(),this._positionDelta=a.point.sub(x),this._pointerdownPos=a.point,this._state="pending",u.on("mousemove",this._onMove),u.on("touchmove",this._onMove),u.once("mouseup",this._onUp),u.once("touchend",this._onUp))}setDraggable(a){this._draggable=!!a;const u=this._map;return u&&(a?(u.on("mousedown",this._addDragHandler),u.on("touchstart",this._addDragHandler)):(u.off("mousedown",this._addDragHandler),u.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(a){return this._occludedOpacity=a||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const yu={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Jf=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ha(_=new n.pointGeometry(0,0),a="bottom"){if(typeof _=="number"){const u=Math.round(Math.sqrt(.5*Math.pow(_,2)));switch(a){case"top":return new n.pointGeometry(0,_);case"top-left":return new n.pointGeometry(u,u);case"top-right":return new n.pointGeometry(-u,u);case"bottom":return new n.pointGeometry(0,-_);case"bottom-left":return new n.pointGeometry(u,-u);case"bottom-right":return new n.pointGeometry(-u,-u);case"left":return new n.pointGeometry(_,0);case"right":return new n.pointGeometry(-_,0)}return new n.pointGeometry(0,0)}return _ instanceof n.pointGeometry||Array.isArray(_)?n.pointGeometry.convert(_):n.pointGeometry.convert(_[a]||[0,0])}class Qf{constructor(a){this.jumpTo(a)}getValue(a){if(a<=this._startTime)return this._start;if(a>=this._endTime)return this._end;const u=n.easeCubicInOut((a-this._startTime)/(this._endTime-this._startTime));return this._start*(1-u)+this._end*u}isEasing(a){return a>=this._startTime&&a<=this._endTime}jumpTo(a){this._startTime=-1/0,this._endTime=-1/0,this._start=a,this._end=a}easeTo(a,u,x){this._start=this.getValue(u),this._end=a,this._startTime=u,this._endTime=u+x}}const e0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},t0={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},i0={showCompass:!0,showZoom:!0,visualizePitch:!1};class n0{constructor(a,u,x=!1){this._clickTolerance=10,this.element=u,this.mouseRotate=new Tp({clickTolerance:a.dragRotate._mouseRotate._clickTolerance}),this.map=a,x&&(this.mousePitch=new Sp({clickTolerance:a.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),u.addEventListener("mousedown",this.mousedown),u.addEventListener("touchstart",this.touchstart,{passive:!1}),u.addEventListener("touchmove",this.touchmove),u.addEventListener("touchend",this.touchend),u.addEventListener("touchcancel",this.reset)}down(a,u){this.mouseRotate.mousedown(a,u),this.mousePitch&&this.mousePitch.mousedown(a,u),A()}move(a,u){const x=this.map,D=this.mouseRotate.mousemoveWindow(a,u),B=D&&D.bearingDelta;if(B&&x.setBearing(x.getBearing()+B),this.mousePitch){const oe=this.mousePitch.mousemoveWindow(a,u),de=oe&&oe.pitchDelta;de&&x.setPitch(x.getPitch()+de)}}off(){const a=this.element;a.removeEventListener("mousedown",this.mousedown),a.removeEventListener("touchstart",this.touchstart,{passive:!1}),a.removeEventListener("touchmove",this.touchmove),a.removeEventListener("touchend",this.touchend),a.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){E(),n.window.removeEventListener("mousemove",this.mousemove),n.window.removeEventListener("mouseup",this.mouseup)}mousedown(a){this.down(n.extend({},a,{ctrlKey:!0,preventDefault:()=>a.preventDefault()}),V(this.element,a)),n.window.addEventListener("mousemove",this.mousemove),n.window.addEventListener("mouseup",this.mouseup)}mousemove(a){this.move(a,V(this.element,a))}mouseup(a){this.mouseRotate.mouseupWindow(a),this.mousePitch&&this.mousePitch.mouseupWindow(a),this.offTemp()}touchstart(a){a.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=C(this.element,a.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>a.preventDefault()},this._startPos))}touchmove(a){a.targetTouches.length!==1?this.reset():(this._lastPos=C(this.element,a.targetTouches)[0],this.move({preventDefault:()=>a.preventDefault()},this._lastPos))}touchend(a){a.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const vu={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Ip={maxWidth:100,unit:"metric"};function s0(_,a,u){const x=Lp(a),D=x/a,B={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[u];this._map._requestDomTask(()=>{this._container.style.width=_*D+"px",this._container.innerHTML=`${x}&nbsp;${B}`})}function Lp(_){const a=Math.pow(10,`${Math.floor(_)}`.length-1);let u=_/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:u>=1?1:function(x){const D=Math.pow(10,Math.ceil(-Math.log(x)/Math.LN10));return Math.round(x*D)/D}(u),a*u}const nh={version:n.version,supported:$,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:class extends ul{constructor(_){if(n.LivePerformanceUtils.mark(n.PerformanceMarkers.create),(_=n.extend({},t0,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(_.antialias&&n.isSafariWithAntialiasingBug(n.window)&&(_.antialias=!1,n.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new $l(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),_),this._interactive=_.interactive,this._minTileCacheSize=_.minTileCacheSize,this._maxTileCacheSize=_.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=_.crossSourceCollisions,this._collectResourceTiming=_.collectResourceTiming,this._optimizeForTerrain=_.optimizeForTerrain,this._language=this._parseLanguage(_.language),this._worldview=_.worldview,this._renderTaskQueue=new Pp,this._domRenderTaskQueue=new Pp,this._controls=[],this._markers=[],this._popups=[],this._mapId=n.uniqueId(),this._locale=n.extend({},e0,_.locale),this._clickTolerance=_.clickTolerance,this._cooperativeGestures=_.cooperativeGestures,this._performanceMetricsCollection=_.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Qf(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new n.RequestManager(_.transformRequest,_.accessToken,_.testMode),this._silenceAuthErrors=!!_.testMode,typeof _.container=="string"){if(this._container=n.window.document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof n.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(this._container.childNodes.length>0&&n.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),_.maxBounds&&this.setMaxBounds(_.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),n.window!==void 0&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1),n.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new vd(this,_),this._localFontFamily=_.localFontFamily,this._localIdeographFontFamily=_.localIdeographFontFamily,_.style&&this.setStyle(_.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),_.projection&&this.setProjection(_.projection),this._hash=_.hash&&new Gi(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,n.extend({},_.fitBoundsOptions,{duration:0})))),this.resize(),_.attributionControl&&this.addControl(new Ap({customAttribution:_.customAttribution})),this._logoControl=new kp,this.addControl(this._logoControl,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",a=>{this._update(a.dataType==="style"),this.fire(new n.Event(`${a.dataType}data`,a))}),this.on("dataloading",a=>{this.fire(new n.Event(`${a.dataType}dataloading`,a))})}_getMapId(){return this._mapId}addControl(_,a){if(a===void 0&&(a=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=_.onAdd(this);this._controls.push(_);const x=this._controlPositions[a];return a.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(_);return a>-1&&this._controls.splice(a,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(_){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const a=!this._moving;return a&&this.fire(new n.Event("movestart",_)).fire(new n.Event("move",_)),this.fire(new n.Event("resize",_)),a&&this.fire(new n.Event("moveend",_)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(_){return this.transform.setMaxBounds(n.LngLatBounds.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_?this.setZoom(_):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_?this.setZoom(_):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_?this.setPitch(_):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_?this.setPitch(_):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(_){return _==="auto"?n.window.navigator.language:Array.isArray(_)?_.length===0?void 0:_.map(a=>a==="auto"?n.window.navigator.language:a):_}setLanguage(_){const a=this._parseLanguage(_);if(!this.style||a===this._language)return this;this._language=a,this.style._reloadSources();for(const u of this._controls)u._setLanguage&&u._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(_){return this.style&&_!==this._worldview?(this._worldview=_,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(_){return this._lazyInitEmptyStyle(),_?typeof _=="string"&&(_={name:_}):_=null,this._useExplicitProjection=!!_,this._prioritizeAndUpdateProjection(_,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const _=this.transform,a=_.projection.name;let u;a==="globe"&&_.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?(_.setMercatorFromTransition(),u=!0):a==="mercator"&&_.zoom<n.GLOBE_ZOOM_THRESHOLD_MAX&&(_.setProjection({name:"globe"}),u=!0),u&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(_,a){return this._updateProjection(_||a||{name:"mercator"})}_updateProjection(_){let a;if(a=_.name==="globe"&&this.transform.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(_),this.style.applyProjectionUpdate(),a){this.painter.clearBackgroundTiles();for(const u in this.style._sourceCaches)this.style._sourceCaches[u].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(_){return this.transform.locationPoint3D(n.LngLat.convert(_))}unproject(_){return this.transform.pointLocation3D(n.pointGeometry.convert(_))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(_,a,u){if(_==="mouseenter"||_==="mouseover"){let x=!1;const D=oe=>{const de=a.filter(ke=>this.getLayer(ke)),ge=de.length?this.queryRenderedFeatures(oe.point,{layers:de}):[];ge.length?x||(x=!0,u.call(this,new Ns(_,this,oe.originalEvent,{features:ge}))):x=!1},B=()=>{x=!1};return{layers:new Set(a),listener:u,delegates:{mousemove:D,mouseout:B}}}if(_==="mouseleave"||_==="mouseout"){let x=!1;const D=oe=>{const de=a.filter(ge=>this.getLayer(ge));(de.length?this.queryRenderedFeatures(oe.point,{layers:de}):[]).length?x=!0:x&&(x=!1,u.call(this,new Ns(_,this,oe.originalEvent)))},B=oe=>{x&&(x=!1,u.call(this,new Ns(_,this,oe.originalEvent)))};return{layers:new Set(a),listener:u,delegates:{mousemove:D,mouseout:B}}}{const x=D=>{const B=a.filter(de=>this.getLayer(de)),oe=B.length?this.queryRenderedFeatures(D.point,{layers:B}):[];oe.length&&(D.features=oe,u.call(this,D),delete D.features)};return{layers:new Set(a),listener:u,delegates:{[_]:x}}}}on(_,a,u){if(u===void 0)return super.on(_,a);Array.isArray(a)||(a=[a]);const x=this._createDelegatedListener(_,a,u);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(x);for(const D in x.delegates)this.on(D,x.delegates[D]);return this}once(_,a,u){if(u===void 0)return super.once(_,a);Array.isArray(a)||(a=[a]);const x=this._createDelegatedListener(_,a,u);for(const D in x.delegates)this.once(D,x.delegates[D]);return this}off(_,a,u){if(u===void 0)return super.off(_,a);a=new Set(Array.isArray(a)?a:[a]);const x=(B,oe)=>{if(B.size!==oe.size)return!1;for(const de of B)if(!oe.has(de))return!1;return!0},D=this._delegatedListeners?this._delegatedListeners[_]:void 0;return D&&(B=>{for(let oe=0;oe<B.length;oe++){const de=B[oe];if(de.listener===u&&x(de.layers,a)){for(const ge in de.delegates)this.off(ge,de.delegates[ge]);return B.splice(oe,1),this}}})(D),this}queryRenderedFeatures(_,a){return this.style?(a!==void 0||_===void 0||_ instanceof n.pointGeometry||Array.isArray(_)||(a=_,_=void 0),this.style.queryRenderedFeatures(_=_||[[0,0],[this.transform.width,this.transform.height]],a=a||{},this.transform)):[]}querySourceFeatures(_,a){return this.style.querySourceFeatures(_,a)}setStyle(_,a){return(a=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&a.localFontFamily===this._localFontFamily&&this.style&&_?(this._diffStyle(_,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._localFontFamily=a.localFontFamily,this._updateStyle(_,a))}_getUIString(_){const a=this._locale[_];if(a==null)throw new Error(`Missing UI string '${_}'`);return a}_updateStyle(_,a){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),_&&(this.style=new U(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_):this.style.loadJSON(_)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new U(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,a){if(typeof _=="string"){const u=this._requestManager.normalizeStyleURL(_),x=this._requestManager.transformRequest(u,n.ResourceType.Style);n.getJSON(x,(D,B)=>{D?this.fire(new n.ErrorEvent(D)):B&&this._updateDiff(B,a)})}else typeof _=="object"&&this._updateDiff(_,a)}_updateDiff(_,a){try{this.style.setState(_)&&this._update(!0)}catch(u){n.warnOnce(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(_,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(n.warnOnce("There is no style added to the map."),!1)}addSource(_,a){return this._lazyInitEmptyStyle(),this.style.addSource(_,a),this._update(!0)}isSourceLoaded(_){return!!this.style&&this.style._isSourceCacheLoaded(_)}areTilesLoaded(){const _=this.style&&this.style._sourceCaches;for(const a in _){const u=_[a]._tiles;for(const x in u){const D=u[x];if(D.state!=="loaded"&&D.state!=="errored")return!1}}return!0}addSourceType(_,a,u){this._lazyInitEmptyStyle(),this.style.addSourceType(_,a,u)}removeSource(_){return this.style.removeSource(_),this._updateTerrain(),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,a,{pixelRatio:u=1,sdf:x=!1,stretchX:D,stretchY:B,content:oe}={}){if(this._lazyInitEmptyStyle(),a instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&a instanceof n.window.ImageBitmap){const{width:de,height:ge,data:ke}=n.exported.getImageData(a);this.style.addImage(_,{data:new n.RGBAImage({width:de,height:ge},ke),pixelRatio:u,stretchX:D,stretchY:B,content:oe,sdf:x,version:0})}else if(a.width===void 0||a.height===void 0)this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:de,height:ge}=a,ke=a;this.style.addImage(_,{data:new n.RGBAImage({width:de,height:ge},new Uint8Array(ke.data)),pixelRatio:u,stretchX:D,stretchY:B,content:oe,sdf:x,version:0,userImage:ke}),ke.onAdd&&ke.onAdd(this,_)}}updateImage(_,a){const u=this.style.getImage(_);if(!u)return void this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const x=a instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&a instanceof n.window.ImageBitmap?n.exported.getImageData(a):a,{width:D,height:B}=x;D!==void 0&&B!==void 0?D===u.data.width&&B===u.data.height?(u.data.replace(x.data,!(a instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&a instanceof n.window.ImageBitmap)),this.style.updateImage(_,u)):this.fire(new n.ErrorEvent(new Error(`The width and height of the updated image (${D}, ${B})
                must be that same as the previous version of the image
                (${u.data.width}, ${u.data.height})`))):this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,a){n.getImage(this._requestManager.transformRequest(_,n.ResourceType.Image),(u,x)=>{a(u,x instanceof n.window.HTMLImageElement?n.exported.getImageData(x):x)})}listImages(){return this.style.listImages()}addLayer(_,a){return this._lazyInitEmptyStyle(),this.style.addLayer(_,a),this._update(!0)}moveLayer(_,a){return this.style.moveLayer(_,a),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}setLayerZoomRange(_,a,u){return this.style.setLayerZoomRange(_,a,u),this._update(!0)}setFilter(_,a,u={}){return this.style.setFilter(_,a,u),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,a,u,x={}){return this.style.setPaintProperty(_,a,u,x),this._update(!0)}getPaintProperty(_,a){return this.style.getPaintProperty(_,a)}setLayoutProperty(_,a,u,x={}){return this.style.setLayoutProperty(_,a,u,x),this._update(!0)}getLayoutProperty(_,a){return this.style.getLayoutProperty(_,a)}setLight(_,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,a),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(_){return this._lazyInitEmptyStyle(),!_&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(_),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(_){return this._lazyInitEmptyStyle(),this.style.setFog(_),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(_){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(n.LngLat.convert(_),this.transform):0}setFeatureState(_,a){return this.style.setFeatureState(_,a),this._update()}removeFeatureState(_,a){return this.style.removeFeatureState(_,a),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}_updateContainerDimensions(){if(!this._container)return;const _=this._container.getBoundingClientRect().width||400,a=this._container.getBoundingClientRect().height||300;let u,x,D,B=this._container;for(;B&&(!x||!D);){const oe=n.window.getComputedStyle(B).transform;oe&&oe!=="none"&&(u=oe.match(/matrix.*\((.+)\)/)[1].split(", "),u[0]&&u[0]!=="0"&&u[0]!=="1"&&(x=u[0]),u[3]&&u[3]!=="0"&&u[3]!=="1"&&(D=u[3])),B=B.parentElement}this._containerWidth=x?Math.abs(_/x):_,this._containerHeight=D?Math.abs(a/D):a}_detectMissingCSS(){n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const _=this._container;_.classList.add("mapboxgl-map"),(this._missingCSSCanary=Y("div","mapboxgl-canary",_)).style.visibility="hidden",this._detectMissingCSS();const a=this._canvasContainer=Y("div","mapboxgl-canvas-container",_);this._interactive&&a.classList.add("mapboxgl-interactive"),this._canvas=Y("canvas","mapboxgl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const u=this._controlContainer=Y("div","mapboxgl-control-container",_),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(D=>{x[D]=Y("div",`mapboxgl-ctrl-${D}`,u)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,a){const u=n.exported.devicePixelRatio||1;this._canvas.width=u*Math.ceil(_),this._canvas.height=u*Math.ceil(a),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${a}px`}_addMarker(_){this._markers.push(_)}_removeMarker(_){const a=this._markers.indexOf(_);a!==-1&&this._markers.splice(a,1)}_addPopup(_){this._popups.push(_)}_removePopup(_){const a=this._popups.indexOf(_);a!==-1&&this._popups.splice(a,1)}_setupPainter(){const _=n.extend({},$.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),a=this._canvas.getContext("webgl",_)||this._canvas.getContext("experimental-webgl",_);a?(n.storeAuthState(a,!0),this.painter=new xn(a,this.transform),this.on("data",u=>{u.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),n.exported$1.testSupport(a)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(_){_.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:_}))}_contextRestored(_){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:_}))}_onMapScroll(_){if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_requestDomTask(_){!this.loaded()||this.loaded()&&!this.isMoving()?_():this._domRenderTaskQueue.add(_)}_render(_){let a;const u=this.painter.context.extTimerQuery,x=n.exported.now();if(this.listens("gpu-timing-frame")&&(a=u.createQueryEXT(),u.beginQueryEXT(u.TIME_ELAPSED_EXT,a)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],n.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],n.window.performance.now())),this._renderTaskQueue.run(_),this._domRenderTaskQueue.run(_),this._removed)return;this._updateProjectionTransition();const D=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const de=this.transform.zoom,ge=this.transform.pitch,ke=n.exported.now(),Ce=new n.EvaluationParameters(de,{now:ke,fadeDuration:D,pitch:ge,transition:this.style.getTransition()});this.style.update(Ce)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let B=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),B=this._updateAverageElevation(x),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):B=this._updateAverageElevation(x),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,D,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:D,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),a){const de=n.exported.now()-x;u.endQueryEXT(u.TIME_ELAPSED_EXT,a),setTimeout(()=>{const ge=u.getQueryObjectEXT(a,u.QUERY_RESULT_EXT)/1e6;u.deleteQueryEXT(a),this.fire(new n.Event("gpu-timing-frame",{cpuTime:de,gpuTime:ge})),n.window.performance.mark("frame-gpu",{startTime:x,detail:{gpuTime:ge}})},50)}if(this.listens("gpu-timing-layer")){const de=this.painter.collectGpuTimers();setTimeout(()=>{const ge=this.painter.queryGpuTimers(de);this.fire(new n.Event("gpu-timing-layer",{layerTimes:ge}))},50)}if(this.listens("gpu-timing-deferred-render")){const de=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const ge=this.painter.queryGpuTimeDeferredRender(de);this.fire(new n.Event("gpu-timing-deferred-render",{gpuTime:ge}))},50)}const oe=this._sourcesDirty||this._styleDirty||this._placementDirty||B;if(oe||this._repaint)this.triggerRepaint();else{const de=!this.isMoving()&&this.loaded();if(de&&(B=this._updateAverageElevation(x,!0)),B)this.triggerRepaint();else if(this._triggerFrame(!1),de&&(this.fire(new n.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const ge=this._calculateSpeedIndex();this.fire(new n.Event("speedindexcompleted",{speedIndex:ge})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||oe||(this._fullyLoaded=!0,n.LivePerformanceUtils.mark(n.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&n.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(_){for(const a of this._markers)_&&!this.getRenderWorldCopies()&&(a._lngLat=a._lngLat.wrap()),a._update();for(const a of this._popups)!_||this.getRenderWorldCopies()||a._trackPointer||(a._lngLat=a._lngLat.wrap()),a._update()}_updateAverageElevation(_,a=!1){const u=x=>(this.transform.averageElevation=x,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&u(0);if((a||_-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(_)){const x=this.transform.averageElevation;let D=this.transform.sampleAverageElevation(),B=!1;this.transform.elevation&&(B=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(D)?D=0:this._averageElevationLastSampledAt=_;const oe=Math.abs(x-D);if(oe>1){if(this._isInitialLoad||B)return this._averageElevation.jumpTo(D),u(D);this._averageElevation.easeTo(D,_,300)}else if(oe>1e-4)return this._averageElevation.jumpTo(D),u(D)}return!!this._averageElevation.isEasing(_)&&u(this._averageElevation.getValue(_))}_authenticate(){n.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,_=>{if(_&&(_.message===n.AUTH_ERR_MSG||_.status===401)){const a=this.painter.context.gl;n.storeAuthState(a,!1),this._logoControl instanceof kp&&this._logoControl._updateLogo(),a&&a.clear(a.DEPTH_BUFFER_BIT|a.COLOR_BUFFER_BIT|a.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new n.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),n.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const _=this._isDragging();this.painter.updateTerrain(this.style,_)}_calculateSpeedIndex(){const _=this.painter.canvasCopy(),a=this.painter.getCanvasCopiesAndTimestamps();a.timeStamps.push(performance.now());const u=this.painter.context.gl,x=u.createFramebuffer();function D(B){u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,B,0);const oe=new Uint8Array(u.drawingBufferWidth*u.drawingBufferHeight*4);return u.readPixels(0,0,u.drawingBufferWidth,u.drawingBufferHeight,u.RGBA,u.UNSIGNED_BYTE,oe),oe}return u.bindFramebuffer(u.FRAMEBUFFER,x),this._canvasPixelComparison(D(_),a.canvasCopies.map(D),a.timeStamps)}_canvasPixelComparison(_,a,u){let x=u[1]-u[0];const D=_.length/4;for(let B=0;B<a.length;B++){const oe=a[B];let de=0;for(let ge=0;ge<oe.length;ge+=4)oe[ge]===_[ge]&&oe[ge+1]===_[ge+1]&&oe[ge+2]===_[ge+2]&&oe[ge+3]===_[ge+3]&&(de+=1);x+=(u[B+2]-u[B+1])*(1-de/D)}return x}remove(){this._hash&&this._hash.remove();for(const a of this._controls)a.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),n.window!==void 0&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1),n.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),n.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new n.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(_){this._renderNextFrame=this._renderNextFrame||_,this.style&&!this._frame&&(this._frame=n.exported.frame(a=>{const u=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,u&&this._render(a)}))}_preloadTiles(_){const a=this.style?Object.values(this.style._sourceCaches):[];return n.asyncAll(a,(u,x)=>u._preloadTiles(_,x),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(_){this._trackResize&&this.resize({originalEvent:_})._update()}_onVisibilityChange(){n.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(_){this._showTerrainWireframe!==_&&(this._showTerrainWireframe=_,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(_){this._speedIndexTiming!==_&&(this._speedIndexTiming=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(_){this._showTileAABBs!==_&&(this._showTileAABBs=_,_&&this._update())}_setCacheLimits(_,a){n.setCacheLimits(_,a)}get version(){return n.version}},NavigationControl:class{constructor(_){this.options=n.extend({},i0,_),this._container=Y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",a=>{this._map&&this._map.zoomIn({},{originalEvent:a})}),Y("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",a=>{this._map&&this._map.zoomOut({},{originalEvent:a})}),Y("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",a=>{const u=this._map;u&&(this.options.visualizePitch?u.resetNorthPitch({},{originalEvent:a}):u.resetNorth({},{originalEvent:a}))}),this._compassIcon=Y("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _=this._map;if(!_)return;const a=_.getZoom(),u=a===_.getMaxZoom(),x=a===_.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=x,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",x.toString())}_rotateCompassArrow(){const _=this._map;if(!_)return;const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(_.transform.pitch*(Math.PI/180)),.5)}) rotateX(${_.transform.pitch}deg) rotateZ(${_.transform.angle*(180/Math.PI)}deg)`:`rotate(${_.transform.angle*(180/Math.PI)}deg)`;_._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=a)})}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),_.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&_.on("pitch",this._rotateCompassArrow),_.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new n0(_,this._compass,this.options.visualizePitch)),this._container}onRemove(){const _=this._map;_&&(this._container.remove(),this.options.showZoom&&_.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&_.off("pitch",this._rotateCompassArrow),_.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(_,a){const u=Y("button",_,this._container);return u.type="button",u.addEventListener("click",a),u}_setButtonTitle(_,a){if(!this._map)return;const u=this._map._getUIString(`NavigationControl.${a}`);_.setAttribute("aria-label",u),_.firstElementChild&&_.firstElementChild.setAttribute("title",u)}},GeolocateControl:class extends n.Evented{constructor(_){super(),this.options=n.extend({geolocation:n.window.navigator.geolocation},vu,_),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=fd(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(_){return this._map=_,this._container=Y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(_){const a=(u=!!this.options.geolocation)=>{this._supportsGeolocation=u,_(u)};this._supportsGeolocation!==void 0?_(this._supportsGeolocation):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(u=>a(u.state!=="denied")).catch(()=>a()):a()}_isOutOfMapMaxBounds(_){const a=this._map.getMaxBounds(),u=_.coords;return!!a&&(u.longitude<a.getWest()||u.longitude>a.getEast()||u.latitude<a.getSouth()||u.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(_){if(this._map){if(this._isOutOfMapMaxBounds(_))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",_)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(_),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(_),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",_)),this._finish()}}_updateCamera(_){const a=new n.LngLat(_.coords.longitude,_.coords.latitude),u=_.coords.accuracy,x=this._map.getBearing(),D=n.extend({bearing:x},this.options.fitBoundsOptions);this._map.fitBounds(a.toBounds(u),D,{geolocateSource:!0})}_updateMarker(_){if(_){const a=new n.LngLat(_.coords.longitude,_.coords.latitude);this._accuracyCircleMarker.setLngLat(a).addTo(this._map),this._userLocationDotMarker.setLngLat(a).addTo(this._map),this._accuracy=_.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const _=this._map.transform,a=n.mercatorZfromAltitude(1,_._center.lat)*_.worldSize,u=Math.ceil(2*this._accuracy*a);this._circleElement.style.width=`${u}px`,this._circleElement.style.height=`${u}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(_){if(this._map){if(this.options.trackUserLocation)if(_.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(_.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",_)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(_){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=Y("button","mapboxgl-ctrl-geolocate",this._container),Y("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",_===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}else{const a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Y("div","mapboxgl-user-location"),this._dotElement.appendChild(Y("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(Y("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Wa({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=Y("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Wa({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",a=>{a.geolocateSource||this._watchState!=="ACTIVE_LOCK"||a.originalEvent&&a.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new n.Event("trackuserlocationend")))})}}_onDeviceOrientation(_){this._userLocationDotMarker&&(_.webkitCompassHeading?this._heading=_.webkitCompassHeading:_.absolute===!0&&(this._heading=-1*_.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(_={maximumAge:6e5,timeout:0},this._noTimeout=!0):(_=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,_),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const _=()=>{n.window.addEventListener("ondeviceorientationabsolute"in n.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};n.window.DeviceMotionEvent!==void 0&&typeof n.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(a=>{a==="granted"&&_()}).catch(console.error):_()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),n.window.removeEventListener("deviceorientation",this._onDeviceOrientation),n.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Ap,ScaleControl:class{constructor(_){this.options=n.extend({},Ip,_),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=s0.bind(this)),n.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const _=this.options.maxWidth||100,a=this._map,u=a._containerHeight/2,x=a._containerWidth/2-_/2,D=a.unproject([x,u]),B=a.unproject([x+_,u]),oe=D.distanceTo(B);if(this.options.unit==="imperial"){const de=3.2808*oe;de>5280?this._setScale(_,de/5280,"mile"):this._setScale(_,de,"foot")}else this.options.unit==="nautical"?this._setScale(_,oe/1852,"nautical-mile"):oe>=1e3?this._setScale(_,oe/1e3,"kilometer"):this._setScale(_,oe,"meter")}_setScale(_,a,u){const x=Lp(a),D=x/a;this._map._requestDomTask(()=>{this._container.style.width=_*D+"px",this._container.innerHTML=u!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:u}).format(x):`${x}&nbsp;nm`})}onAdd(_){return this._map=_,this._language=_.getLanguage(),this._container=Y("div","mapboxgl-ctrl mapboxgl-ctrl-scale",_.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(_){this._language=_,this._update()}setUnit(_){this.options.unit=_,this._update()}},FullscreenControl:class{constructor(_){this._fullscreen=!1,_&&_.container&&(_.container instanceof n.window.HTMLElement?this._container=_.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in n.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=Y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!n.window.document.fullscreenEnabled&&!n.window.document.webkitFullscreenEnabled)}_setupUI(){const _=this._fullscreenButton=Y("button","mapboxgl-ctrl-fullscreen",this._controlContainer);Y("span","mapboxgl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",_)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(n.window.document.fullscreenElement||n.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends n.Evented{constructor(_){super(),this.options=n.extend(Object.create(yu),_),n.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(_&&_.className?_.className.trim().split(/\s+/):[])}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&_.on("preclick",this._onClose),this.options.closeOnMove&&_.on("move",this._onClose),_.on("remove",this.remove),this._update(),_._addPopup(this),this._focusFirstElement(),this._trackPointer?(_.on("mousemove",this._onMouseEvent),_.on("mouseup",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")):_.on("move",this._update),this.fire(new n.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const _=this._map;return _&&(_.off("move",this._update),_.off("move",this._onClose),_.off("preclick",this._onClose),_.off("click",this._onClose),_.off("remove",this.remove),_.off("mousemove",this._onMouseEvent),_.off("mouseup",this._onMouseEvent),_.off("drag",this._onMouseEvent),_._canvasContainer&&_._canvasContainer.classList.remove("mapboxgl-track-pointer"),_._removePopup(this),this._map=void 0),this.fire(new n.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(_){this._lngLat=n.LngLat.convert(_),this._pos=null,this._trackPointer=!1,this._update();const a=this._map;return a&&(a.on("move",this._update),a.off("mousemove",this._onMouseEvent),a._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const _=this._map;return _&&(_.off("move",this._update),_.on("mousemove",this._onMouseEvent),_.on("drag",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(n.window.document.createTextNode(_))}setHTML(_){const a=n.window.document.createDocumentFragment(),u=n.window.document.createElement("body");let x;for(u.innerHTML=_;x=u.firstChild,x;)a.appendChild(x);return this.setDOMContent(a)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){let a=this._content;if(a)for(;a.hasChildNodes();)a.firstChild&&a.removeChild(a.firstChild);else a=this._content=Y("div","mapboxgl-popup-content",this._container||void 0);if(a.appendChild(_),this.options.closeButton){const u=this._closeButton=Y("button","mapboxgl-popup-close-button",a);u.type="button",u.setAttribute("aria-label","Close popup"),u.setAttribute("aria-hidden","true"),u.innerHTML="&#215;",u.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(_){return this._classList.add(_),this._updateClassList(),this}removeClassName(_){return this._classList.delete(_),this._updateClassList(),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){let a;return this._classList.delete(_)?a=!1:(this._classList.add(_),a=!0),this._updateClassList(),a}_onMouseEvent(_){this._update(_.point)}_getAnchor(_){if(this.options.anchor)return this.options.anchor;const a=this._map,u=this._container,x=this._pos;if(!a||!u||!x)return"bottom";const D=u.offsetWidth,B=u.offsetHeight,oe=x.x<D/2,de=x.x>a.transform.width-D/2;if(x.y+_<B)return oe?"top-left":de?"top-right":"top";if(x.y>a.transform.height-B){if(oe)return"bottom-left";if(de)return"bottom-right"}return oe?"left":de?"right":"bottom"}_updateClassList(){const _=this._container;if(!_)return;const a=[...this._classList];a.push("mapboxgl-popup"),this._anchor&&a.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&a.push("mapboxgl-popup-track-pointer"),_.className=a.join(" ")}_update(_){const a=this._map,u=this._content;if(!a||!this._lngLat&&!this._trackPointer||!u)return;let x=this._container;if(x||(x=this._container=Y("div","mapboxgl-popup",a.getContainer()),this._tip=Y("div","mapboxgl-popup-tip",x),x.appendChild(u)),this.options.maxWidth&&x.style.maxWidth!==this.options.maxWidth&&(x.style.maxWidth=this.options.maxWidth),a.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Dp(this._lngLat,this._pos,a.transform)),!this._trackPointer||_){const D=this._pos=this._trackPointer&&_?_:a.project(this._lngLat),B=ha(this.options.offset),oe=this._anchor=this._getAnchor(B.y),de=ha(this.options.offset,oe),ge=D.add(de).round();a._requestDomTask(()=>{this._container&&oe&&(this._container.style.transform=`${Nh[oe]} translate(${ge.x}px,${ge.y}px)`)})}if(!this._marker&&a._showingGlobe()){const D=n.isLngLatBehindGlobe(a.transform,this._lngLat)?0:1;this._setOpacity(D)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(Jf);_&&_.focus()}_onClose(){this.remove()}_setOpacity(_){this._container&&(this._container.style.opacity=`${_}`),this._content&&(this._content.style.pointerEvents=_?"auto":"none")}},Marker:Wa,Style:U,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.pointGeometry,MercatorCoordinate:n.MercatorCoordinate,FreeCameraOptions:cr,Evented:n.Evented,config:n.config,prewarm:function(){dn().acquire(on)},clearPrewarmedResources:function(){const _=qi;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(on),qi=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(_){n.config.ACCESS_TOKEN=_},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(_){n.config.API_URL=_},get workerCount(){return sn.workerCount},set workerCount(_){sn.workerCount=_},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_){n.config.MAX_PARALLEL_IMAGE_REQUESTS=_},clearStorage(_){n.clearTileCache(_)},workerUrl:"",workerClass:null,setNow:n.exported.setNow,restoreNow:n.exported.restoreNow};return nh});var m=c;return m})})(N7);const tl=zw;var Im=U7,j7=Object.prototype.hasOwnProperty;function U7(){for(var e={},t=0;t<arguments.length;t++){var s=arguments[t];for(var l in s)j7.call(s,l)&&(e[l]=s[l])}return e}var Fw={},G7={get exports(){return Fw},set exports(e){Fw=e}};(function(e,t){(function(){var s={};e.exports=s,s.simpleFilter=function(l,c){return c.filter(function(d){return s.test(l,d)})},s.test=function(l,c){return s.match(l,c)!==null},s.match=function(l,c,d){d=d||{};var m=0,n=[],w=c.length,$=0,ee=0,z=d.pre||"",Y=d.post||"",Q=d.caseSensitive&&c||c.toLowerCase(),I;l=d.caseSensitive&&l||l.toLowerCase();for(var O=0;O<w;O++)I=c[O],Q[O]===l[m]?(I=z+I+Y,m+=1,ee+=1+ee):ee=0,$+=ee,n[n.length]=I;return m===l.length?($=Q===l?1/0:$,{rendered:n.join(""),score:$}):null},s.filter=function(l,c,d){return!c||c.length===0?[]:typeof l!="string"?c:(d=d||{},c.reduce(function(m,n,w,$){var ee=n;d.extract&&(ee=d.extract(n));var z=s.match(l,ee,d);return z!=null&&(m[m.length]={string:z.rendered,score:z.score,index:w,original:n}),m},[]).sort(function(m,n){var w=n.score-m.score;return w||m.index-n.index}))}})()})(G7);var kl=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};kl.prototype.show=function(){this.element.style.display="block"};kl.prototype.hide=function(){this.element.style.display="none"};kl.prototype.add=function(e){this.items.push(e)};kl.prototype.clear=function(){this.items=[],this.active=0};kl.prototype.isEmpty=function(){return!this.items.length};kl.prototype.isVisible=function(){return this.element.style.display==="block"};kl.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};kl.prototype.drawItem=function(e,t){var s=document.createElement("li"),l=document.createElement("a");t&&(s.className+=" active"),l.innerHTML=e.string,s.appendChild(l),this.element.appendChild(s),s.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),s.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))};kl.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};kl.prototype.move=function(e){this.active=e,this.draw()};kl.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};kl.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};kl.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var V7=kl,$7=Im,H7=Fw,W7=V7,Na=function(e,t,s){return s=s||{},this.options=$7({minLength:2,limit:5,filter:!0,hideOnBlur:!0},s),this.el=e,this.data=t||[],this.list=new W7(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(l){this.handleKeyUp(l.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(l){this.handleKeyDown(l)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(l){this.handlePaste(l)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};Na.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};Na.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};Na.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};Na.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};Na.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates(function(t){for(var s=0;s<t.length&&(this.list.add(t[s]),s!==this.options.limit-1);s++);this.list.draw()}.bind(this))};Na.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};Na.prototype.update=function(e){this.data=e,this.handleKeyUp()};Na.prototype.clear=function(){this.data=[],this.list.clear()};Na.prototype.normalize=function(e){return e=e.toLowerCase(),e};Na.prototype.match=function(e,t){return e.indexOf(t)>-1};Na.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};Na.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:function(l){return this.getItemValue(l)}.bind(this)},s;this.options.filter?(s=H7.filter(this.query,this.data,t),s=s.map(function(l){return{original:l.original,string:this.render(l.original,l.string)}}.bind(this))):s=this.data.map(function(l){var c=this.render(l);return{original:l,string:c}}.bind(this)),e(s)};Na.prototype.getItemValue=function(e){return e};Na.prototype.render=function(e,t){if(t)return t;for(var s=e.original?this.getItemValue(e.original):this.getItemValue(e),l=this.normalize(s),c=l.lastIndexOf(this.query);c>-1;){var d=c+this.query.length;s=s.slice(0,c)+"<strong>"+s.slice(c,d)+"</strong>"+s.slice(d),c=l.slice(0,c).lastIndexOf(this.query)}return s};Na.prototype.renderError=function(e){this.list.drawError(e)};var X7=Na,L8=X7,Y7=L8;typeof window<"u"&&(window.Suggestions=L8);var q7="Expected a function",g5=0/0,Z7="[object Symbol]",K7=/^\s+|\s+$/g,J7=/^[-+]0x[0-9a-f]+$/i,Q7=/^0b[01]+$/i,eR=/^0o[0-7]+$/i,tR=parseInt,iR=typeof wo=="object"&&wo&&wo.Object===Object&&wo,nR=typeof self=="object"&&self&&self.Object===Object&&self,sR=iR||nR||Function("return this")(),rR=Object.prototype,oR=rR.toString,aR=Math.max,lR=Math.min,Nb=function(){return sR.Date.now()};function cR(e,t,s){var l,c,d,m,n,w,$=0,ee=!1,z=!1,Y=!0;if(typeof e!="function")throw new TypeError(q7);t=_5(t)||0,Nw(s)&&(ee=!!s.leading,z="maxWait"in s,d=z?aR(_5(s.maxWait)||0,t):d,Y="trailing"in s?!!s.trailing:Y);function Q(C){var ne=l,te=c;return l=c=void 0,$=C,m=e.apply(te,ne),m}function I(C){return $=C,n=setTimeout(A,t),ee?Q(C):m}function O(C){var ne=C-w,te=C-$,F=t-ne;return z?lR(F,d-te):F}function H(C){var ne=C-w,te=C-$;return w===void 0||ne>=t||ne<0||z&&te>=d}function A(){var C=Nb();if(H(C))return E(C);n=setTimeout(A,O(C))}function E(C){return n=void 0,Y&&l?Q(C):(l=c=void 0,m)}function P(){n!==void 0&&clearTimeout(n),$=0,l=w=c=n=void 0}function G(){return n===void 0?m:E(Nb())}function V(){var C=Nb(),ne=H(C);if(l=arguments,c=this,w=C,ne){if(n===void 0)return I(w);if(z)return n=setTimeout(A,t),Q(w)}return n===void 0&&(n=setTimeout(A,t)),m}return V.cancel=P,V.flush=G,V}function Nw(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function hR(e){return!!e&&typeof e=="object"}function dR(e){return typeof e=="symbol"||hR(e)&&oR.call(e)==Z7}function _5(e){if(typeof e=="number")return e;if(dR(e))return g5;if(Nw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Nw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(K7,"");var s=Q7.test(e);return s||eR.test(e)?tR(e.slice(2),s?2:8):J7.test(e)?g5:+e}var uR=cR,Av={},pR={get exports(){return Av},set exports(e){Av=e}},cm=typeof Reflect=="object"?Reflect:null,y5=cm&&typeof cm.apply=="function"?cm.apply:function(t,s,l){return Function.prototype.apply.call(t,s,l)},Qy;cm&&typeof cm.ownKeys=="function"?Qy=cm.ownKeys:Object.getOwnPropertySymbols?Qy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Qy=function(t){return Object.getOwnPropertyNames(t)};function fR(e){console&&console.warn&&console.warn(e)}var O8=Number.isNaN||function(t){return t!==t};function dr(){dr.init.call(this)}pR.exports=dr;Av.once=yR;dr.EventEmitter=dr;dr.prototype._events=void 0;dr.prototype._eventsCount=0;dr.prototype._maxListeners=void 0;var v5=10;function Mx(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(dr,"defaultMaxListeners",{enumerable:!0,get:function(){return v5},set:function(e){if(typeof e!="number"||e<0||O8(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");v5=e}});dr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};dr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||O8(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function R8(e){return e._maxListeners===void 0?dr.defaultMaxListeners:e._maxListeners}dr.prototype.getMaxListeners=function(){return R8(this)};dr.prototype.emit=function(t){for(var s=[],l=1;l<arguments.length;l++)s.push(arguments[l]);var c=t==="error",d=this._events;if(d!==void 0)c=c&&d.error===void 0;else if(!c)return!1;if(c){var m;if(s.length>0&&(m=s[0]),m instanceof Error)throw m;var n=new Error("Unhandled error."+(m?" ("+m.message+")":""));throw n.context=m,n}var w=d[t];if(w===void 0)return!1;if(typeof w=="function")y5(w,this,s);else for(var $=w.length,ee=j8(w,$),l=0;l<$;++l)y5(ee[l],this,s);return!0};function B8(e,t,s,l){var c,d,m;if(Mx(s),d=e._events,d===void 0?(d=e._events=Object.create(null),e._eventsCount=0):(d.newListener!==void 0&&(e.emit("newListener",t,s.listener?s.listener:s),d=e._events),m=d[t]),m===void 0)m=d[t]=s,++e._eventsCount;else if(typeof m=="function"?m=d[t]=l?[s,m]:[m,s]:l?m.unshift(s):m.push(s),c=R8(e),c>0&&m.length>c&&!m.warned){m.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+m.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=m.length,fR(n)}return e}dr.prototype.addListener=function(t,s){return B8(this,t,s,!1)};dr.prototype.on=dr.prototype.addListener;dr.prototype.prependListener=function(t,s){return B8(this,t,s,!0)};function mR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function z8(e,t,s){var l={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},c=mR.bind(l);return c.listener=s,l.wrapFn=c,c}dr.prototype.once=function(t,s){return Mx(s),this.on(t,z8(this,t,s)),this};dr.prototype.prependOnceListener=function(t,s){return Mx(s),this.prependListener(t,z8(this,t,s)),this};dr.prototype.removeListener=function(t,s){var l,c,d,m,n;if(Mx(s),c=this._events,c===void 0)return this;if(l=c[t],l===void 0)return this;if(l===s||l.listener===s)--this._eventsCount===0?this._events=Object.create(null):(delete c[t],c.removeListener&&this.emit("removeListener",t,l.listener||s));else if(typeof l!="function"){for(d=-1,m=l.length-1;m>=0;m--)if(l[m]===s||l[m].listener===s){n=l[m].listener,d=m;break}if(d<0)return this;d===0?l.shift():gR(l,d),l.length===1&&(c[t]=l[0]),c.removeListener!==void 0&&this.emit("removeListener",t,n||s)}return this};dr.prototype.off=dr.prototype.removeListener;dr.prototype.removeAllListeners=function(t){var s,l,c;if(l=this._events,l===void 0)return this;if(l.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):l[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete l[t]),this;if(arguments.length===0){var d=Object.keys(l),m;for(c=0;c<d.length;++c)m=d[c],m!=="removeListener"&&this.removeAllListeners(m);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(s=l[t],typeof s=="function")this.removeListener(t,s);else if(s!==void 0)for(c=s.length-1;c>=0;c--)this.removeListener(t,s[c]);return this};function F8(e,t,s){var l=e._events;if(l===void 0)return[];var c=l[t];return c===void 0?[]:typeof c=="function"?s?[c.listener||c]:[c]:s?_R(c):j8(c,c.length)}dr.prototype.listeners=function(t){return F8(this,t,!0)};dr.prototype.rawListeners=function(t){return F8(this,t,!1)};dr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):N8.call(e,t)};dr.prototype.listenerCount=N8;function N8(e){var t=this._events;if(t!==void 0){var s=t[e];if(typeof s=="function")return 1;if(s!==void 0)return s.length}return 0}dr.prototype.eventNames=function(){return this._eventsCount>0?Qy(this._events):[]};function j8(e,t){for(var s=new Array(t),l=0;l<t;++l)s[l]=e[l];return s}function gR(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function _R(e){for(var t=new Array(e.length),s=0;s<t.length;++s)t[s]=e[s].listener||e[s];return t}function yR(e,t){return new Promise(function(s,l){function c(m){e.removeListener(t,d),l(m)}function d(){typeof e.removeListener=="function"&&e.removeListener("error",c),s([].slice.call(arguments))}U8(e,t,d,{once:!0}),t!=="error"&&vR(e,c,{once:!0})})}function vR(e,t,s){typeof e.on=="function"&&U8(e,"error",t,s)}function U8(e,t,s,l){if(typeof e.on=="function")l.once?e.once(t,s):e.on(t,s);else if(typeof e.addEventListener=="function")e.addEventListener(t,function c(d){l.once&&e.removeEventListener(t,c),s(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var xR={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function bR(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function wR(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var s=t[1],l=t[2].split(";"),c=null,d=l.reduce(function(m,n){var w=bR(n);return w?w.key==="rel"?(c||(c=w.value),m):(m[w.key]=w.value,m):m},{});return c?{url:s,rel:c,params:d}:null}function TR(e){return e?e.split(/,\s*</).reduce(function(t,s){var l=wR(s);if(!l)return t;var c=l.rel.split(/\s+/);return c.forEach(function(d){t[d]||(t[d]={url:l.url,params:l.params})}),t},{}):{}}var SR=TR,ER=SR;function IT(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=ER(this.headers.link)}IT.prototype.hasNextPage=function(){return!!this.links.next};IT.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var CR=IT,Ax={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},x5=Ax;function MR(e){var t=e.type||x5.ERROR_HTTP,s;if(e.body)try{s=JSON.parse(e.body)}catch{s=e.body}else s=null;var l=e.message||null;l||(typeof s=="string"?l=s:s&&typeof s.message=="string"?l=s.message:t===x5.ERROR_REQUEST_ABORTED&&(l="Request aborted")),this.message=l,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=s}var AR=MR;function kR(e){var t=e.indexOf(":"),s=e.substring(0,t).trim().toLowerCase(),l=e.substring(t+1).trim();return{name:s,value:l}}function PR(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(s){var l=kR(s);t[l.name]=l.value}),t}var DR=PR,IR=CR,b5=AR,jb=Ax,LR=DR,kv={};function OR(e){var t=kv[e.id];t&&(t.abort(),delete kv[e.id])}function RR(e,t){return new IR(e,{body:t.response,headers:LR(t.getAllResponseHeaders()),statusCode:t.status})}function w5(e){var t=e.total,s=e.loaded,l=100*s/t;return{total:t,transferred:s,percent:l}}function G8(e,t){return new Promise(function(s,l){t.onprogress=function(m){e.emitter.emit(jb.EVENT_PROGRESS_DOWNLOAD,w5(m))};var c=e.file;c&&(t.upload.onprogress=function(m){e.emitter.emit(jb.EVENT_PROGRESS_UPLOAD,w5(m))}),t.onerror=function(m){l(m)},t.onabort=function(){var m=new b5({request:e,type:jb.ERROR_REQUEST_ABORTED});l(m)},t.onload=function(){if(delete kv[e.id],t.status<200||t.status>=400){var m=new b5({request:e,body:t.response,statusCode:t.status});l(m);return}s(t)};var d=e.body;typeof d=="string"?t.send(d):d?t.send(JSON.stringify(d)):c?t.send(c):t.send(),kv[e.id]=t}).then(function(s){return RR(e,s)})}function V8(e,t){var s=e.url(t),l=new window.XMLHttpRequest;return l.open(e.method,s),Object.keys(e.headers).forEach(function(c){l.setRequestHeader(c,e.headers[c])}),l}function BR(e){return Promise.resolve().then(function(){var t=V8(e,e.client.accessToken);return G8(e,t)})}var zR={browserAbort:OR,sendRequestXhr:G8,browserSend:BR,createRequestXhr:V8},Pv={},FR={get exports(){return Pv},set exports(e){Pv=e}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */(function(e,t){(function(s){var l=t,c=e&&e.exports==l&&e,d=typeof wo=="object"&&wo;(d.global===d||d.window===d)&&(s=d);var m=function(I){this.message=I};m.prototype=new Error,m.prototype.name="InvalidCharacterError";var n=function(I){throw new m(I)},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$=/[\t\n\f\r ]/g,ee=function(I){I=String(I).replace($,"");var O=I.length;O%4==0&&(I=I.replace(/==?$/,""),O=I.length),(O%4==1||/[^+a-zA-Z0-9/]/.test(I))&&n("Invalid character: the string to be decoded is not correctly encoded.");for(var H=0,A,E,P="",G=-1;++G<O;)E=w.indexOf(I.charAt(G)),A=H%4?A*64+E:E,H++%4&&(P+=String.fromCharCode(255&A>>(-2*H&6)));return P},z=function(I){I=String(I),/[^\0-\xFF]/.test(I)&&n("The string to be encoded contains characters outside of the Latin1 range.");for(var O=I.length%3,H="",A=-1,E,P,G,V,C=I.length-O;++A<C;)E=I.charCodeAt(A)<<16,P=I.charCodeAt(++A)<<8,G=I.charCodeAt(++A),V=E+P+G,H+=w.charAt(V>>18&63)+w.charAt(V>>12&63)+w.charAt(V>>6&63)+w.charAt(V&63);return O==2?(E=I.charCodeAt(A)<<8,P=I.charCodeAt(++A),V=E+P,H+=w.charAt(V>>10)+w.charAt(V>>4&63)+w.charAt(V<<2&63)+"="):O==1&&(V=I.charCodeAt(A),H+=w.charAt(V>>2)+w.charAt(V<<4&63)+"=="),H},Y={encode:z,decode:ee,version:"0.1.0"};if(l&&!l.nodeType)if(c)c.exports=Y;else for(var Q in Y)Y.hasOwnProperty(Q)&&(l[Q]=Y[Q]);else s.base64=Y})(wo)})(FR,Pv);var NR=Pv,Ub={};function jR(e){if(Ub[e])return Ub[e];var t=e.split("."),s=t[0],l=t[1];if(!l)throw new Error("Invalid token");var c=UR(l),d={usage:s,user:c.u};return _f(c,"a")&&(d.authorization=c.a),_f(c,"exp")&&(d.expires=c.exp*1e3),_f(c,"iat")&&(d.created=c.iat*1e3),_f(c,"scopes")&&(d.scopes=c.scopes),_f(c,"client")&&(d.client=c.client),_f(c,"ll")&&(d.lastLogin=c.ll),_f(c,"iu")&&(d.impersonator=c.iu),Ub[e]=d,d}function UR(e){try{return JSON.parse(NR.decode(e))}catch{throw new Error("Invalid token")}}function _f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var $8=jR,jw={},GR={get exports(){return jw},set exports(e){jw=e}};(function(e){var t=Object.prototype.hasOwnProperty,s="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(s=!1));function c(w,$,ee){this.fn=w,this.context=$,this.once=ee||!1}function d(w,$,ee,z,Y){if(typeof ee!="function")throw new TypeError("The listener must be a function");var Q=new c(ee,z||w,Y),I=s?s+$:$;return w._events[I]?w._events[I].fn?w._events[I]=[w._events[I],Q]:w._events[I].push(Q):(w._events[I]=Q,w._eventsCount++),w}function m(w,$){--w._eventsCount===0?w._events=new l:delete w._events[$]}function n(){this._events=new l,this._eventsCount=0}n.prototype.eventNames=function(){var $=[],ee,z;if(this._eventsCount===0)return $;for(z in ee=this._events)t.call(ee,z)&&$.push(s?z.slice(1):z);return Object.getOwnPropertySymbols?$.concat(Object.getOwnPropertySymbols(ee)):$},n.prototype.listeners=function($){var ee=s?s+$:$,z=this._events[ee];if(!z)return[];if(z.fn)return[z.fn];for(var Y=0,Q=z.length,I=new Array(Q);Y<Q;Y++)I[Y]=z[Y].fn;return I},n.prototype.listenerCount=function($){var ee=s?s+$:$,z=this._events[ee];return z?z.fn?1:z.length:0},n.prototype.emit=function($,ee,z,Y,Q,I){var O=s?s+$:$;if(!this._events[O])return!1;var H=this._events[O],A=arguments.length,E,P;if(H.fn){switch(H.once&&this.removeListener($,H.fn,void 0,!0),A){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,ee),!0;case 3:return H.fn.call(H.context,ee,z),!0;case 4:return H.fn.call(H.context,ee,z,Y),!0;case 5:return H.fn.call(H.context,ee,z,Y,Q),!0;case 6:return H.fn.call(H.context,ee,z,Y,Q,I),!0}for(P=1,E=new Array(A-1);P<A;P++)E[P-1]=arguments[P];H.fn.apply(H.context,E)}else{var G=H.length,V;for(P=0;P<G;P++)switch(H[P].once&&this.removeListener($,H[P].fn,void 0,!0),A){case 1:H[P].fn.call(H[P].context);break;case 2:H[P].fn.call(H[P].context,ee);break;case 3:H[P].fn.call(H[P].context,ee,z);break;case 4:H[P].fn.call(H[P].context,ee,z,Y);break;default:if(!E)for(V=1,E=new Array(A-1);V<A;V++)E[V-1]=arguments[V];H[P].fn.apply(H[P].context,E)}}return!0},n.prototype.on=function($,ee,z){return d(this,$,ee,z,!1)},n.prototype.once=function($,ee,z){return d(this,$,ee,z,!0)},n.prototype.removeListener=function($,ee,z,Y){var Q=s?s+$:$;if(!this._events[Q])return this;if(!ee)return m(this,Q),this;var I=this._events[Q];if(I.fn)I.fn===ee&&(!Y||I.once)&&(!z||I.context===z)&&m(this,Q);else{for(var O=0,H=[],A=I.length;O<A;O++)(I[O].fn!==ee||Y&&!I[O].once||z&&I[O].context!==z)&&H.push(I[O]);H.length?this._events[Q]=H.length===1?H[0]:H:m(this,Q)}return this},n.prototype.removeAllListeners=function($){var ee;return $?(ee=s?s+$:$,this._events[ee]&&m(this,ee)):(this._events=new l,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=s,n.EventEmitter=n,e.exports=n})(GR);function VR(e){return e.map(encodeURIComponent).join(",")}function H8(e){return Array.isArray(e)?VR(e):encodeURIComponent(String(e))}function W8(e,t,s){if(s===!1||s===null)return e;var l=/\?/.test(e)?"&":"?",c=encodeURIComponent(t);return s!==void 0&&s!==""&&s!==!0&&(c+="="+H8(s)),""+e+l+c}function $R(e,t){if(!t)return e;var s=e;return Object.keys(t).forEach(function(l){var c=t[l];c!==void 0&&(Array.isArray(c)&&(c=c.filter(function(d){return d!=null}).join(",")),s=W8(s,l,c))}),s}function HR(e,t){if(!t||e.slice(0,4)==="http")return e;var s=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+s+e}function WR(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(s,l){var c=t[l];if(c===void 0)throw new Error("Unspecified route parameter "+l);var d=H8(c);return"/"+d}):e}var XR={appendQueryObject:$R,appendQueryParam:W8,prependOrigin:HR,interpolateRouteParams:WR},YR=$8,LT=Im,qR=jw,Fy=XR,T5=Ax,ZR=1;function fp(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var s={};t.body&&(s["content-type"]="application/json");var l=LT(s,t.headers),c=Object.keys(l).reduce(function(d,m){return d[m.toLowerCase()]=l[m],d},{});this.id=ZR++,this._options=t,this.emitter=new qR,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=c}fp.prototype.url=function(t){var s=Fy.prependOrigin(this.path,this.origin);s=Fy.appendQueryObject(s,this.query);var l=this.params,c=t??this.client.accessToken;if(c){s=Fy.appendQueryParam(s,"access_token",c);var d=YR(c).user;l=LT({ownerId:d},l)}return s=Fy.interpolateRouteParams(s,l),s};fp.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(s){return t.response=s,t.emitter.emit(T5.EVENT_RESPONSE,s),s},function(s){throw t.error=s,t.emitter.emit(T5.EVENT_ERROR,s),s})};fp.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};fp.prototype.eachPage=function(t){var s=this;function l(m){function n(){delete s._nextPageRequest;var w=m.nextPage();w&&(s._nextPageRequest=w,d(w))}t(null,m,n)}function c(m){t(m,null,function(){})}function d(m){m.send().then(l,c)}d(this)};fp.prototype.clone=function(){return this._extend()};fp.prototype._extend=function(t){var s=LT(this._options,t);return new fp(this.client,s)};var KR=fp,JR=$8,QR=KR,eB=Ax;function X8(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");JR(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||eB.API_ORIGIN}X8.prototype.createRequest=function(t){return new QR(this,t)};var Y8=X8,q8=zR,Z8=Y8;function bm(e){Z8.call(this,e)}bm.prototype=Object.create(Z8.prototype);bm.prototype.constructor=bm;bm.prototype.sendRequest=q8.browserSend;bm.prototype.abortRequest=q8.browserAbort;function tB(e){return new bm(e)}var K8=tB,iB=K8,nB=iB,sB=Object.prototype.toString,rB=function(e){var t;return sB.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},oB=rB,aB=Im,J8="value",Gb=`
  `,wr={};wr.assert=function(e,t){return t=t||{},function(s){var l=mp(e,s);if(l){var c=OT(l,t);throw t.apiName&&(c=t.apiName+": "+c),new Error(c)}}};wr.shape=function(t){var s=dB(t);return function(c){var d=mp(wr.plainObject,c);if(d)return d;for(var m,n,w=[],$=0;$<s.length;$++)m=s[$].key,n=s[$].value,d=mp(n,c[m]),d&&w.push([m].concat(d));return w.length<2?w[0]:function(ee){w=w.map(function(Q){var I=Q[0],O=OT(Q,ee).split(`
`).join(Gb);return"- "+I+": "+O});var z=ee.path.join("."),Y=z===J8?"":" of "+z;return"The following properties"+Y+" have invalid values:"+Gb+w.join(Gb)}}};wr.strictShape=function(t){var s=wr.shape(t);return function(c){var d=s(c);if(d)return d;var m=Object.keys(c).reduce(function(n,w){return t[w]===void 0&&n.push(w),n},[]);if(m.length!==0)return function(){return"The following keys are invalid: "+m.join(", ")}}};wr.arrayOf=function(t){return Q8(t)};wr.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return Q8(t)};function Q8(e){var t=Array.isArray(e),s=function(l){return t?e[l]:e};return function(c){var d=mp(wr.plainArray,c);if(d)return d;if(t&&c.length!==e.length)return"an array with "+e.length+" items";for(var m=0;m<c.length;m++)if(d=mp(s(m),c[m]),d)return[m].concat(d)}}wr.required=function(t){function s(l){return l==null?function(c){return eA(c,tA(c.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return s.__required=!0,s};wr.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(l){var c=t.map(function(d){return mp(d,l)}).filter(Boolean);if(c.length===t.length)return c.every(function(d){return d.length===1&&typeof d[0]=="string"})?lB(c.map(function(d){return d[0]})):c.reduce(function(d,m){return m.length>d.length?m:d})}};wr.equal=function(t){return function(l){if(l!==t)return JSON.stringify(t)}};wr.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),s=t.map(function(l){return wr.equal(l)});return wr.oneOfType.apply(this,s)};wr.range=function(t){var s=t[0],l=t[1];return function(d){var m=mp(wr.number,d);if(m||d<s||d>l)return"number between "+s+" & "+l+" (inclusive)"}};wr.any=function(){};wr.boolean=function(t){if(typeof t!="boolean")return"boolean"};wr.number=function(t){if(typeof t!="number")return"number"};wr.plainArray=function(t){if(!Array.isArray(t))return"array"};wr.plainObject=function(t){if(!oB(t))return"object"};wr.string=function(t){if(typeof t!="string")return"string"};wr.func=function(t){if(typeof t!="function")return"function"};function mp(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var s=e(t);if(s)return Array.isArray(s)?s:[s]}}function OT(e,t){var s=e.length,l=e[s-1],c=e.slice(0,s-1);return c.length===0&&(c=[J8]),t=aB(t,{path:c}),typeof l=="function"?l(t):eA(t,cB(l))}function lB(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function cB(e){return"must be "+hB(e)+"."}function hB(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function eA(e,t){var s=tA(e.path),l=e.path.join(".")+" "+t,c=s?"Item at position ":"";return c+l}function tA(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function dB(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}wr.validate=mp;wr.processMessage=OT;var uB=wr,pB=Im,hm=uB;function fB(e){if(typeof window<"u")return e instanceof wo.Blob||e instanceof wo.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function mB(e,t){return hm.assert(hm.strictShape(e),t)}function gB(e){var t="date";if(typeof e=="boolean")return t;try{var s=new Date(e);if(s.getTime&&isNaN(s.getTime()))return t}catch{return t}}function _B(e){return hm.tuple(hm.number,hm.number)(e)}var yB=pB(hm,{file:fB,date:gB,coordinates:_B,assertShape:mB});function vB(e,t){var s=function(l,c){return t.indexOf(l)!==-1&&c!==void 0};return typeof t=="function"&&(s=t),Object.keys(e).filter(function(l){return s(l,e[l])}).reduce(function(l,c){return l[c]=e[c],l},{})}var xB=vB;function bB(e,t){return Object.keys(e).reduce(function(s,l){return s[l]=t(l,e[l]),s},{})}var wB=bB,TB=wB;function SB(e){return TB(e,function(t,s){return typeof s=="boolean"?JSON.stringify(s):s})}var EB=SB,CB=Y8,MB=K8;function AB(e){return function(t){var s;CB.prototype.isPrototypeOf(t)?s=t:s=MB(t);var l=Object.create(e);return l.client=s,l}}var kB=AB,iA=Im,Ps=yB,Dv=xB,nA=EB,PB=kB,RT={},sA=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];RT.forwardGeocode=function(e){Ps.assertShape({query:Ps.required(Ps.string),mode:Ps.oneOf("mapbox.places","mapbox.places-permanent"),countries:Ps.arrayOf(Ps.string),proximity:Ps.oneOf(Ps.coordinates,"ip"),types:Ps.arrayOf(Ps.oneOf(sA)),autocomplete:Ps.boolean,bbox:Ps.arrayOf(Ps.number),limit:Ps.number,language:Ps.arrayOf(Ps.string),routing:Ps.boolean,fuzzyMatch:Ps.boolean,worldview:Ps.string})(e),e.mode=e.mode||"mapbox.places";var t=nA(iA({country:e.countries},Dv(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Dv(e,["mode","query"]),query:t})};RT.reverseGeocode=function(e){Ps.assertShape({query:Ps.required(Ps.coordinates),mode:Ps.oneOf("mapbox.places","mapbox.places-permanent"),countries:Ps.arrayOf(Ps.string),types:Ps.arrayOf(Ps.oneOf(sA)),bbox:Ps.arrayOf(Ps.number),limit:Ps.number,language:Ps.arrayOf(Ps.string),reverseMode:Ps.oneOf("distance","score"),routing:Ps.boolean,worldview:Ps.string})(e),e.mode=e.mode||"mapbox.places";var t=nA(iA({country:e.countries},Dv(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Dv(e,["mode","query"]),query:t})};var DB=PB(RT);let IB="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",rA=e=>crypto.getRandomValues(new Uint8Array(e)),oA=(e,t,s)=>{let l=(2<<Math.log(e.length-1)/Math.LN2)-1,c=-~(1.6*l*t/e.length);return(d=t)=>{let m="";for(;;){let n=s(c),w=c;for(;w--;)if(m+=e[n[w]&l]||"",m.length===d)return m}}},LB=(e,t=21)=>oA(e,t,rA),OB=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,s)=>(s&=63,s<36?t+=s.toString(36):s<62?t+=(s-26).toString(36).toUpperCase():s>62?t+="-":t+="_",t),"");const RB=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:LB,customRandom:oA,nanoid:OB,random:rA,urlAlphabet:IB},Symbol.toStringTag,{value:"Module"})),BB=N5(RB);var zB=BB.nanoid;function aA(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}aA.prototype={select:function(e,t){var s=this.getSelectedIndex(e,t),l=this.getEventPayload("search.select",t);if(l.resultIndex=s,l.resultPlaceName=e.place_name,l.resultId=e.id,!(s===this.lastSentIndex&&l.queryString===this.lastSentInput||s==-1)&&(this.lastSentIndex=s,this.lastSentInput=l.queryString,!!l.queryString))return this.push(l)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var s=this.getEventPayload("search.keystroke",t);if(s.lastAction=e.key,!!s.queryString)return this.push(s)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var s=this.getRequestOptions(e);this.request(s,function(l){if(l)return this.handleError(l,t);if(t)return t()}.bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t){var s;t.options.proximity?typeof t.options.proximity=="object"?s=[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?s=[999,999]:s=t.options.proximity:s=null;var l=t._map?t._map.getZoom():void 0,c={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:s,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:l,keyboardLocale:this.locale};return e==="search.select"?c.queryString=t.inputString:e!="search.select"&&t._inputEl?c.queryString=t._inputEl.value:c.queryString=t.inputString,c},request:function(e,t){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},s.open(e.method,e.host+"/"+e.path,!0);for(var l in e.headers){var c=e.headers[l];s.setRequestHeader(l,c)}s.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return zB()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var s=t._typeahead.data,l=e.id,c=s.map(function(m){return m.id}),d=c.indexOf(l);return d}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var FB=aA,NB={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},jB={placeholder:NB},Uw={},UB={get exports(){return Uw},set exports(e){Uw=e}};(function(e){(function(t,s,l){e.exports?e.exports=l():t[s]=l()})(wo,"subtag",function(){var t="",s=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function l(w){return w.match(s)||[]}function c(w){return l(w).filter(function($,ee){return $&&ee})}function d(w){return w=l(w),{language:w[1]||t,extlang:w[2]||t,script:w[3]||t,region:w[4]||t}}function m(w,$,ee){Object.defineProperty(w,$,{value:ee,enumerable:!0})}function n(w,$,ee){function z(Y){return l(Y)[w]||t}m(z,"pattern",$),m(d,ee,z)}return n(1,/^[a-zA-Z]{2,3}$/,"language"),n(2,/^[a-zA-Z]{3}$/,"extlang"),n(3,/^[a-zA-Z]{4}$/,"script"),n(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),m(d,"split",c),d})})(UB);function lA(){}lA.prototype={isSupport:function(){return Boolean(window.navigator.geolocation)},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,s){window.navigator.geolocation.getCurrentPosition(t,s,e)})}};var GB=lA;function VB(e,t){const s=cA(e),l=["address","street","place","country"];var c;if(typeof t=="function")return t(s);const d=l.indexOf(t);return d===-1?c=l:c=l.slice(d),c.reduce(function(m,n){return s[n]?(m!==""&&(m=m+", "),m+s[n]):m},"")}function cA(e){const t=e.address||"",s=e.text||"",l=e.place_name||"",d={address:l.split(",")[0],houseNumber:t,street:s,placeName:l};return e.context.forEach(function(m){const n=m.id.split(".")[0];d[n]=m.text}),d}const $B=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var HB={transformFeatureToGeolocationText:VB,getAddressInfo:cA,REVERSE_GEOCODE_COORD_RGX:$B},WB=Y7,XB=uR,vf=Im,YB=Av.EventEmitter,S5=xR,Vb=nB,$b=DB,qB=FB,ZB=jB,KB=Uw,JB=GB,E5=HB;const Yu={FORWARD:0,LOCAL:1,REVERSE:2};function QB(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function hA(e){this._eventEmitter=new YB,this.options=vf({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new JB}hA.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(s,l){if(!document.body.contains(l))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const c=s.onAdd();l.appendChild(c)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const s=document.querySelectorAll(e);if(s.length===0)throw new Error("Element ",e,"not found.");if(s.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,s[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=$b(Vb({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new qB(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var s=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",XB(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function($){this.eventManager.keyevent($,this)}.bind(this));var l=document.createElement("div");l.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var c=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(c),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),l.appendChild(this._clearEl),l.appendChild(this._loadingEl),t.appendChild(s),t.appendChild(this._inputEl),t.appendChild(l),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var d=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(d),l.appendChild(this._geolocateEl),this._showGeolocateButton()}var m=this._typeahead=new WB(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),m.getItemValue=this.options.getItemValue;var n=m.list.draw,w=this._footerNode=QB();return m.list.draw=function(){n.call(this),w.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),w.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(w)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const s={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const l=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(l),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(s).send().then(function(l){const c=l.body.features[0];if(c){const d=E5.transformFeatureToGeolocationText(c,this.options.addressAccuracy);this._setInputValue(d),c.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:c})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(e,t){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");return s.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),s.setAttribute("viewBox","0 0 18 18"),s.setAttribute("xml:space","preserve"),s.setAttribute("width",18),s.setAttribute("height",18),s.innerHTML=t,s},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,s=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var l=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,c=l?l.value:"";if(!c)return this.fresh=!0,e.keyCode!==s&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[s,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&l.value.length>=this.options.minLength&&this._geocode(l.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&S5[e.properties.short_code])t=vf({},this.options.flyTo),this._map&&this._map.fitBounds(S5[e.properties.short_code].bbox,t);else if(e.bbox){var s=e.bbox;t=vf({},this.options.flyTo),this._map&&this._map.fitBounds([[s[0],s[1]],[s[2],s[3]]],t)}else{var l={zoom:this.options.zoom};t=vf({},l,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var s;return e.localGeocoderOnly?s=Yu.LOCAL:e.reverseGeocode&&E5.REVERSE_GEOCODE_COORD_RGX.test(t)?s=Yu.REVERSE:s=Yu.FORWARD,s},_setupConfig:function(e,t){const s=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],l=/[\s,]+/;var c=this,d=s.reduce(function(n,w){if(c.options[w]===void 0||c.options[w]===null)return n;["countries","types","language"].indexOf(w)>-1?n[w]=c.options[w].split(l):n[w]=c.options[w];const $=typeof c.options[w].longitude=="number"&&typeof c.options[w].latitude=="number";if(w==="proximity"&&$){const ee=c.options[w].longitude,z=c.options[w].latitude;n[w]=[ee,z]}return n},{});switch(e){case Yu.REVERSE:{var m=t.split(l).map(function(n){return parseFloat(n,10)});c.options.flipCoordinates||m.reverse(),d.types&&d.types[0],d=vf(d,{query:m,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(n){n in d&&delete d[n]})}break;case Yu.FORWARD:{const n=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(n)&&(t=t.replace(/,/g," ")),d=vf(d,{query:t})}break}return d},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),s=this._setupConfig(t,e);var l;switch(t){case Yu.LOCAL:l=Promise.resolve();break;case Yu.FORWARD:l=this.geocoderService.forwardGeocode(s).send();break;case Yu.REVERSE:l=this.geocoderService.reverseGeocode(s).send();break}var c=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],d=[],m=null;return l.catch(function(n){m=n}.bind(this)).then(function(n){this._hideLoadingIcon();var w={};return n?n.statusCode=="200"&&(w=n.body,w.request=n.request,w.headers=n.headers):w={type:"FeatureCollection",features:[]},w.config=s,this.fresh&&(this.eventManager.start(this),this.fresh=!1),w.features=w.features?c.concat(w.features):c,this.options.externalGeocoder?(d=this.options.externalGeocoder(e,w.features)||Promise.resolve([]),d.then(function($){return w.features=w.features?$.concat(w.features):$,w},function(){return w})):w}.bind(this)).then(function(n){if(m)throw m;this.options.filter&&n.features.length&&(n.features=n.features.filter(this.options.filter)),n.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",n),this._typeahead.update(n.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",n))}.bind(this)).catch(function(n){this._hideLoadingIcon(),this._hideAttribution(),c.length&&this.options.localGeocoder||d.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(c)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:c}),this._eventEmitter.emit("error",{error:n})}.bind(this)),l},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var s=t.features[0];this._typeahead.selected=s,this._inputEl.value=s.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=KB.language(e),s=ZB.placeholder[t];if(s)return s}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=$b(Vb({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=$b(Vb({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},s=vf({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(s),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var ez=hA;function tz(){return{map:kf("mapbox-map")}}var Hb=new Map,iz=/onMb([A-Z])(.+)/;function nz(e){return Hb.has(e)||Hb.set(e,e.replace(iz,(t,s,l)=>s.toLowerCase()+l)),Hb.get(e)}function dA(e,t,s=[],l=null){const c=z3(),d=km(()=>Object.entries(c).filter(([$,ee])=>$.startsWith("on")&&typeof ee=="function").map(([$])=>$)),m=new Map;function n($){Array.isArray($)&&$.forEach(ee=>{const z=m.get(ee);typeof z=="function"&&z()})}function w($){Array.isArray($)&&$.forEach(ee=>{const z=nz(ee);if(!s.includes(z))return;const Y=(...Q)=>{e(`mb-${z}`,...Q)};l?(xo(t).on(z,l,Y),m.set(ee,()=>{xo(t).off(z,l,Y)})):(xo(t).on(z,Y),m.set(ee,()=>{xo(t).off(z,Y)}))})}$c(d,($,ee)=>{const z=Array.isArray($)?(ee??[]).filter(Q=>!$.includes(Q)):ee??[],Y=Array.isArray(ee)?($??[]).filter(Q=>!ee.includes(Q)):$??[];if(xo(t))n(z),w(Y);else{const Q=$c(t,I=>{I&&(n(z),w(Y),Q())})}},{immediate:!0})}function sz(e){return e.charAt(0).toUpperCase()+e.slice(1)}function uA(e,t,s){function l(c){Object.keys(e).filter(d=>e[d]!==void 0&&e[d]!==null).forEach(d=>{var m,n;const w=d==="mapStyle"?"setStyle":`set${sz(d)}`,$=typeof c[w]=="function",ee=typeof s[d]>"u"||"bind"in s[d]?(n=(m=s[d])==null?void 0:m.bind)!=null?n:!1:!0;if(!$||!ee)return;const{type:z}=e[d],Y={deep:z===Object||Array.isArray(z)&&z.includes(Object)};$c(()=>e[d],Q=>{c[w](Q)},Y)})}if(xo(t))l(xo(t));else{const c=$c(t,d=>{d&&(l(d),c())})}}function rz(e,{propsConfig:t,props:s,emit:l,events:c=[]}){const{map:d}=tz(),m=Zr();return Array.isArray(c)&&c.length&&dA(l,m,c),typeof t<"u"&&uA(s,m,t),$c(()=>s.position,n=>{xo(d)&&xo(d).removeControl(xo(m)).addControl(xo(m),n)}),sd(async()=>{const n=new e(s);xo(d)&&xo(d).addControl(n,s.position),await Mm(),m.value=n}),$f(()=>{xo(m)&&xo(d)&&xo(d).removeControl(xo(m))}),{control:m,map:d}}var pA=(e,t)=>{const s=e.__vccOpts||e;for(const[l,c]of t)s[l]=c;return s};if(!tl)throw new Error("mapboxgl is not installed.");if(!ez)throw new Error("MapboxGeocoder is not installed.");var oz={key:0},az={key:1};if(!tl)throw new Error("mapboxgl is not installed.");var{LngLatBounds:C5,LngLat:lz}=tl,M5={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[C5,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[lz,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[C5,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},cz=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],hz={inheritAttrs:!1},dz=Object.assign(hz,{__name:"MapboxMap",props:M5,setup(e,{expose:t,emit:s}){const l=e,c=Zr();Am("mapbox-map",c);const d=Zr(),m=Zr(!1),n=km(()=>{const{accessToken:w,mapStyle:$,...ee}=l;return!ee.container&&d.value&&(ee.container=d.value),{style:$,...ee}});return dA(s,c,cz),uA(l,c,M5),sd(()=>{tl.accessToken=l.accessToken,c.value=new tl.Map(n.value),c.value.on("load",()=>{m.value=!0}),s("mb-created",c.value);const w=new ResizeObserver(()=>{c.value.resize()});w.observe(n.value.container),$f(()=>{w.disconnect(),c.value.remove()})}),t({map:c}),(w,$)=>(Mi(),Pi(Ts,null,[at("div",ax({ref_key:"root",ref:d},w.$attrs),null,16),m.value?(Mi(),Pi("div",oz,[fh(w.$slots,"default")])):(Mi(),Pi("div",az,[fh(w.$slots,"loader")]))],64))}}),kx=pA(dz,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!tl)throw new Error("mapboxgl is not installed.");var A5={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},uz={__name:"MapboxNavigationControl",props:A5,setup(e,{expose:t}){const s=e,{NavigationControl:l}=tl,{control:c}=rz(l,{props:s,propsConfig:A5});return t({control:c}),(d,m)=>(Mi(),Pi("div"))}},Px=pA(uz,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const zs=(e,t)=>{const s=e.__vccOpts||e;for(const[l,c]of t)s[l]=c;return s},pz={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},fz={class:"ships-list position-absolute",ref:"cSearch"},mz={class:"card",style:{height:"100%"}},gz={class:"card-header search"},_z={action:"#",method:"get",style:{width:"100%"}},yz={class:"input-icon"},vz=bh('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),xz={class:"card-actions btn-actions"},bz={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},wz=at("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Tz=at("polyline",{points:"15 6 9 12 15 18"},null,-1),Sz=[wz,Tz],Ez={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Cz=at("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Mz=at("polyline",{points:"6 9 12 15 18 9"},null,-1),Az=[Cz,Mz],kz={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},Pz={class:"divide-y pointer"},Dz=["onClick"],Iz={class:"row"},Lz=at("div",{class:"col-auto"},[at("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),Oz={class:"col p-0"},Rz={class:"text-truncate"},Bz={class:"text-muted text-sm"},zz={key:0,class:"col-auto"},Fz=at("div",{class:"badge bg-success"},null,-1),Nz=at("span",{class:"text-xs ml-1"},"Online",-1),jz=[Fz,Nz],Uz={key:1,class:"col-auto"},Gz=at("div",{class:"badge bg-danger"},null,-1),Vz=at("span",{class:"text-xs ml-1"},"Offline",-1),$z=[Gz,Vz];function Hz(e,t,s,l,c,d){return Mi(),Pi("div",fz,[at("div",mz,[at("div",gz,[at("form",_z,[at("div",yz,[vz,La(at("input",{type:"text",onKeyup:t[0]||(t[0]=(...m)=>d.search&&d.search(...m)),"onUpdate:modelValue":t[1]||(t[1]=m=>c.keyword=m),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[eu,c.keyword]])])]),at("div",xz,[at("a",{href:"#",class:"btn-action",onClick:t[2]||(t[2]=(...m)=>d.searchExpand&&d.searchExpand(...m))},[c.isExpand?Wn("",!0):(Mi(),Pi("svg",bz,Sz)),c.isExpand?(Mi(),Pi("svg",Ez,Az)):Wn("",!0)])])]),at("div",kz,[at("div",Pz,[(Mi(!0),Pi(Ts,null,Fo(d.filters,m=>(Mi(),Pi("div",{key:m.id,onClick:n=>d.selected(m)},[at("div",Iz,[Lz,at("div",Oz,[at("div",Rz,hn(m.name),1),at("div",Bz,hn(m.imo_number),1)]),m.connected?(Mi(),Pi("div",zz,jz)):Wn("",!0),m.connected?Wn("",!0):(Mi(),Pi("div",Uz,$z))])],8,Dz))),128))])],512)])],512)}const fA=zs(pz,[["render",Hz]]),Wz={data(){return{isExpand:!0,notifications:[{id:1,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:2,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:3,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:4,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:5,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:6,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:7,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:8,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Lm=e=>(jf("data-v-cbda607e"),e=e(),Uf(),e),Xz={class:"ships-notification",ref:"cSearch"},Yz={class:"card",style:{height:"100%"}},qz={class:"card-header search"},Zz=Lm(()=>at("h4",{class:"card-title"}," Active Notifications ",-1)),Kz={class:"card-actions btn-actions"},Jz={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Qz=Lm(()=>at("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),eF=Lm(()=>at("polyline",{points:"15 6 9 12 15 18"},null,-1)),tF=[Qz,eF],iF={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},nF=Lm(()=>at("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),sF=Lm(()=>at("polyline",{points:"6 9 12 15 18 9"},null,-1)),rF=[nF,sF],oF={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},aF={class:"divide-y"},lF=bh('<div class="notif-status" data-v-cbda607e><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/alarm.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Alarm</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/volume.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>4</span></div><div data-v-cbda607e>Warning</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/caution.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Caution</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/info-blue.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Info</div></div></div>',1),cF={class:"row"},hF=Lm(()=>at("div",{class:"col-auto"},[at("img",{src:"img/icons/caution.png",alt:"",width:"20"})],-1)),dF={class:"col"},uF={class:"fw-bold"},pF={class:"text-sm"};function fF(e,t,s,l,c,d){return Mi(),Pi("div",Xz,[at("div",Yz,[at("div",qz,[Zz,at("div",Kz,[at("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...m)=>d.notifExpand&&d.notifExpand(...m))},[c.isExpand?Wn("",!0):(Mi(),Pi("svg",Jz,tF)),c.isExpand?(Mi(),Pi("svg",iF,rF)):Wn("",!0)])])]),at("div",oF,[at("div",aF,[lF,(Mi(!0),Pi(Ts,null,Fo(c.notifications,m=>(Mi(),Pi("div",{key:m.id,class:"py-2 border-bottom border-white"},[at("div",cF,[hF,at("div",dF,[at("div",uF,hn(m.title),1),Ro(" "+hn(m.desc)+" ",1),at("div",pF,hn(m.date),1)])])]))),128))])],512)])],512)}const mA=zs(Wz,[["render",fF],["__scopeId","data-v-cbda607e"]]),mF={},gF={class:"ships-records"},_F=bh('<div class="card" data-v-b06cef02><div class="card-header" data-v-b06cef02><div class="text-center" data-v-b06cef02><img src="img/singapore.png" alt="" data-v-b06cef02><div class="text-white" data-v-b06cef02>PRO</div></div><div class="w-100 d-flex align-items-start justify-content-between" data-v-b06cef02><div class="card-title" data-v-b06cef02><div data-v-b06cef02>Widuri</div><small class="text-white" data-v-b06cef02>Fleet II</small></div><div class="card-status" data-v-b06cef02><div class="status-box bg-online" data-v-b06cef02></div><div class="text-white" data-v-b06cef02>Online</div></div></div></div><div class="card-body" data-v-b06cef02><div data-v-b06cef02>under way using engine</div><div class="d-flex align-items-center justify-content-between" data-v-b06cef02><div data-v-b06cef02>ATD 27/5</div><div data-v-b06cef02>ETA 10/6</div></div><div class="d-flex align-items-center justify-content-between mb-3" data-v-b06cef02><div data-v-b06cef02>Singapura</div><div data-v-b06cef02>Jakarta</div></div><div class="ships-route-ltr" data-v-b06cef02></div></div></div>',1),yF=[_F];function vF(e,t,s,l,c,d){return Mi(),Pi("div",gF,yF)}const gA=zs(mF,[["render",vF],["__scopeId","data-v-b06cef02"]]),xF={},bF={class:"ships-navigations"},wF=bh('<div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div><div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div>',2),TF=[wF];function SF(e,t,s,l,c,d){return Mi(),Pi("div",bF,TF)}const _A=zs(xF,[["render",SF],["__scopeId","data-v-23fc79b0"]]),EF={},CF={class:"ships-camera"},MF=bh('<a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Front View</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a><a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Bridge</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a>',2),AF=[MF];function kF(e,t,s,l,c,d){return Mi(),Pi("div",CF,AF)}const yA=zs(EF,[["render",kF],["__scopeId","data-v-34ce2568"]]),PF={data(){return{isExpand:!0,parameter:[{id:1,title:"SPEED THROUGH WATER",value:"13.8",format:"KNOTS"},{id:2,title:"SPEED OVER GROUND",value:"14.9",format:"KNOTS"},{id:3,title:"ME SHAFT POWER",value:"4852",format:"KW"},{id:4,title:"ME RPM",value:"95",format:"RPM"},{id:5,title:"ME FO",value:"26.5",format:"FO"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},vp=e=>(jf("data-v-82e529c6"),e=e(),Uf(),e),DF={class:"ships-parameter",ref:"cSearch"},IF={class:"card",style:{height:"100%"}},LF={class:"card-header search"},OF=vp(()=>at("h4",{class:"card-title"}," KEY PARAMETER ",-1)),RF={class:"card-actions btn-actions"},BF={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},zF=vp(()=>at("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),FF=vp(()=>at("polyline",{points:"15 6 9 12 15 18"},null,-1)),NF=[zF,FF],jF={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},UF=vp(()=>at("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),GF=vp(()=>at("polyline",{points:"6 9 12 15 18 9"},null,-1)),VF=[UF,GF],$F={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},HF={class:"divide-y"},WF=vp(()=>at("ul",{class:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist"},[at("li",{class:"nav-item",role:"presentation"},[at("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"DAILY AVG")]),at("li",{class:"nav-item",role:"presentation"},[at("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"PRESENT VALUES")])],-1)),XF={class:"tab-content",id:"pills-tabContent"},YF={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},qF={class:"row align-items-center"},ZF={class:"col-6"},KF={class:"fw-bold"},JF={class:"col-6 text-center"},QF={class:"fw-normal"},eN={class:"text-sm"},tN=vp(()=>at("div",{class:"py-2 border-bottom border-white"},[at("div",{class:"row align-items-center"},[at("div",{class:"col-12"},[at("div",{class:""},"NOTE: Daily average is calculated at 12 PM UTC")])])],-1)),iN=vp(()=>at("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"}," ... ",-1));function nN(e,t,s,l,c,d){return Mi(),Pi("div",DF,[at("div",IF,[at("div",LF,[OF,at("div",RF,[at("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...m)=>d.notifExpand&&d.notifExpand(...m))},[c.isExpand?Wn("",!0):(Mi(),Pi("svg",BF,NF)),c.isExpand?(Mi(),Pi("svg",jF,VF)):Wn("",!0)])])]),at("div",$F,[at("div",HF,[WF,at("div",XF,[at("div",YF,[(Mi(!0),Pi(Ts,null,Fo(c.parameter,m=>(Mi(),Pi("div",{key:m.id,class:"py-2 border-bottom border-white"},[at("div",qF,[at("div",ZF,[at("div",KF,hn(m.title),1)]),at("div",JF,[at("h2",QF,hn(m.value),1),at("div",eN,hn(m.format),1)])])]))),128)),tN]),iN])])],512)])],512)}const vA=zs(PF,[["render",nN],["__scopeId","data-v-82e529c6"]]);var sN=["second","minute","hour","day","week","month","year"];function rN(e,t){if(t===0)return["just now","right now"];var s=sN[Math.floor(t/2)];return e>1&&(s+="s"),[e+" "+s+" ago","in "+e+" "+s]}var oN=["秒","分钟","小时","天","周","个月","年"];function aN(e,t){if(t===0)return["刚刚","片刻后"];var s=oN[~~(t/2)];return[e+" "+s+"前",e+" "+s+"后"]}var Gw={},xA=function(e,t){Gw[e]=t},lN=function(e){return Gw[e]||Gw.en_US},Wb=[60,60,24,7,365/7/12,12];function k5(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function cN(e,t){var s=e<0?1:0;e=Math.abs(e);for(var l=e,c=0;e>=Wb[c]&&c<Wb.length;c++)e/=Wb[c];return e=Math.floor(e),c*=2,e>(c===0?9:1)&&(c+=1),t(e,c,l)[s].replace("%s",e.toString())}function hN(e,t){var s=t?k5(t):new Date;return(+s-+k5(e))/1e3}var wm=function(e,t,s){var l=hN(e,s&&s.relativeDate);return cN(l,lN(t))};xA("en_US",rN);xA("zh_CN",aN);const dN="/build/assets/blue-a47985d3.png",uN="/build/assets/green-342241e2.png",pN="/build/assets/red-f4bfe255.png";var Vw={},fN={get exports(){return Vw},set exports(e){Vw=e}};(function(e,t){(function(s,l){e.exports=l()})(wo,()=>(()=>{var s={187:m=>{function n(S,j,J){J=J||2;var W,re,ue,ve,q,se,pe,xe=j&&j.length,Pe=xe?j[0]*J:S.length,ce=w(S,0,Pe,J,!0),ye=[];if(!ce||ce.next===ce.prev)return ye;if(xe&&(ce=function(le,Z,me,Me){var Ee,ze,Qe,Ke=[];for(Ee=0,ze=Z.length;Ee<ze;Ee++)(Qe=w(le,Z[Ee]*Me,Ee<ze-1?Z[Ee+1]*Me:le.length,Me,!1))===Qe.next&&(Qe.steiner=!0),Ke.push(P(Qe));for(Ke.sort(O),Ee=0;Ee<Ke.length;Ee++)me=$(me=H(Ke[Ee],me),me.next);return me}(S,j,ce,J)),S.length>80*J){W=ue=S[0],re=ve=S[1];for(var _e=J;_e<Pe;_e+=J)(q=S[_e])<W&&(W=q),(se=S[_e+1])<re&&(re=se),q>ue&&(ue=q),se>ve&&(ve=se);pe=(pe=Math.max(ue-W,ve-re))!==0?1/pe:0}return ee(ce,ye,J,W,re,pe),ye}function w(S,j,J,W,re){var ue,ve;if(re===b(S,j,J,W)>0)for(ue=j;ue<J;ue+=W)ve=L(ue,S[ue],S[ue+1],ve);else for(ue=J-W;ue>=j;ue-=W)ve=L(ue,S[ue],S[ue+1],ve);return ve&&ne(ve,ve.next)&&(f(ve),ve=ve.next),ve}function $(S,j){if(!S)return S;j||(j=S);var J,W=S;do if(J=!1,W.steiner||!ne(W,W.next)&&C(W.prev,W,W.next)!==0)W=W.next;else{if(f(W),(W=j=W.prev)===W.next)break;J=!0}while(J||W!==j);return j}function ee(S,j,J,W,re,ue,ve){if(S){!ve&&ue&&function(xe,Pe,ce,ye){var _e=xe;do _e.z===null&&(_e.z=E(_e.x,_e.y,Pe,ce,ye)),_e.prevZ=_e.prev,_e.nextZ=_e.next,_e=_e.next;while(_e!==xe);_e.prevZ.nextZ=null,_e.prevZ=null,function(le){var Z,me,Me,Ee,ze,Qe,Ke,ct,Ie=1;do{for(me=le,le=null,ze=null,Qe=0;me;){for(Qe++,Me=me,Ke=0,Z=0;Z<Ie&&(Ke++,Me=Me.nextZ);Z++);for(ct=Ie;Ke>0||ct>0&&Me;)Ke!==0&&(ct===0||!Me||me.z<=Me.z)?(Ee=me,me=me.nextZ,Ke--):(Ee=Me,Me=Me.nextZ,ct--),ze?ze.nextZ=Ee:le=Ee,Ee.prevZ=ze,ze=Ee;me=Me}ze.nextZ=null,Ie*=2}while(Qe>1)}(_e)}(S,W,re,ue);for(var q,se,pe=S;S.prev!==S.next;)if(q=S.prev,se=S.next,ue?Y(S,W,re,ue):z(S))j.push(q.i/J),j.push(S.i/J),j.push(se.i/J),f(S),S=se.next,pe=se.next;else if((S=se)===pe){ve?ve===1?ee(S=Q($(S),j,J),j,J,W,re,ue,2):ve===2&&I(S,j,J,W,re,ue):ee($(S),j,J,W,re,ue,1);break}}}function z(S){var j=S.prev,J=S,W=S.next;if(C(j,J,W)>=0)return!1;for(var re=S.next.next;re!==S.prev;){if(G(j.x,j.y,J.x,J.y,W.x,W.y,re.x,re.y)&&C(re.prev,re,re.next)>=0)return!1;re=re.next}return!0}function Y(S,j,J,W){var re=S.prev,ue=S,ve=S.next;if(C(re,ue,ve)>=0)return!1;for(var q=re.x<ue.x?re.x<ve.x?re.x:ve.x:ue.x<ve.x?ue.x:ve.x,se=re.y<ue.y?re.y<ve.y?re.y:ve.y:ue.y<ve.y?ue.y:ve.y,pe=re.x>ue.x?re.x>ve.x?re.x:ve.x:ue.x>ve.x?ue.x:ve.x,xe=re.y>ue.y?re.y>ve.y?re.y:ve.y:ue.y>ve.y?ue.y:ve.y,Pe=E(q,se,j,J,W),ce=E(pe,xe,j,J,W),ye=S.prevZ,_e=S.nextZ;ye&&ye.z>=Pe&&_e&&_e.z<=ce;){if(ye!==S.prev&&ye!==S.next&&G(re.x,re.y,ue.x,ue.y,ve.x,ve.y,ye.x,ye.y)&&C(ye.prev,ye,ye.next)>=0||(ye=ye.prevZ,_e!==S.prev&&_e!==S.next&&G(re.x,re.y,ue.x,ue.y,ve.x,ve.y,_e.x,_e.y)&&C(_e.prev,_e,_e.next)>=0))return!1;_e=_e.nextZ}for(;ye&&ye.z>=Pe;){if(ye!==S.prev&&ye!==S.next&&G(re.x,re.y,ue.x,ue.y,ve.x,ve.y,ye.x,ye.y)&&C(ye.prev,ye,ye.next)>=0)return!1;ye=ye.prevZ}for(;_e&&_e.z<=ce;){if(_e!==S.prev&&_e!==S.next&&G(re.x,re.y,ue.x,ue.y,ve.x,ve.y,_e.x,_e.y)&&C(_e.prev,_e,_e.next)>=0)return!1;_e=_e.nextZ}return!0}function Q(S,j,J){var W=S;do{var re=W.prev,ue=W.next.next;!ne(re,ue)&&te(re,W,W.next,ue)&&X(re,ue)&&X(ue,re)&&(j.push(re.i/J),j.push(W.i/J),j.push(ue.i/J),f(W),f(W.next),W=S=ue),W=W.next}while(W!==S);return $(W)}function I(S,j,J,W,re,ue){var ve=S;do{for(var q=ve.next.next;q!==ve.prev;){if(ve.i!==q.i&&V(ve,q)){var se=M(ve,q);return ve=$(ve,ve.next),se=$(se,se.next),ee(ve,j,J,W,re,ue),void ee(se,j,J,W,re,ue)}q=q.next}ve=ve.next}while(ve!==S)}function O(S,j){return S.x-j.x}function H(S,j){var J=function(ue,ve){var q,se=ve,pe=ue.x,xe=ue.y,Pe=-1/0;do{if(xe<=se.y&&xe>=se.next.y&&se.next.y!==se.y){var ce=se.x+(xe-se.y)*(se.next.x-se.x)/(se.next.y-se.y);if(ce<=pe&&ce>Pe){if(Pe=ce,ce===pe){if(xe===se.y)return se;if(xe===se.next.y)return se.next}q=se.x<se.next.x?se:se.next}}se=se.next}while(se!==ve);if(!q)return null;if(pe===Pe)return q;var ye,_e=q,le=q.x,Z=q.y,me=1/0;se=q;do pe>=se.x&&se.x>=le&&pe!==se.x&&G(xe<Z?pe:Pe,xe,le,Z,xe<Z?Pe:pe,xe,se.x,se.y)&&(ye=Math.abs(xe-se.y)/(pe-se.x),X(se,ue)&&(ye<me||ye===me&&(se.x>q.x||se.x===q.x&&A(q,se)))&&(q=se,me=ye)),se=se.next;while(se!==_e);return q}(S,j);if(!J)return j;var W=M(J,S),re=$(J,J.next);return $(W,W.next),j===J?re:j}function A(S,j){return C(S.prev,S,j.prev)<0&&C(j.next,S,S.next)<0}function E(S,j,J,W,re){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-J)*re)|S<<8))|S<<4))|S<<2))|S<<1))|(j=1431655765&((j=858993459&((j=252645135&((j=16711935&((j=32767*(j-W)*re)|j<<8))|j<<4))|j<<2))|j<<1))<<1}function P(S){var j=S,J=S;do(j.x<J.x||j.x===J.x&&j.y<J.y)&&(J=j),j=j.next;while(j!==S);return J}function G(S,j,J,W,re,ue,ve,q){return(re-ve)*(j-q)-(S-ve)*(ue-q)>=0&&(S-ve)*(W-q)-(J-ve)*(j-q)>=0&&(J-ve)*(ue-q)-(re-ve)*(W-q)>=0}function V(S,j){return S.next.i!==j.i&&S.prev.i!==j.i&&!function(J,W){var re=J;do{if(re.i!==J.i&&re.next.i!==J.i&&re.i!==W.i&&re.next.i!==W.i&&te(re,re.next,J,W))return!0;re=re.next}while(re!==J);return!1}(S,j)&&(X(S,j)&&X(j,S)&&function(J,W){var re=J,ue=!1,ve=(J.x+W.x)/2,q=(J.y+W.y)/2;do re.y>q!=re.next.y>q&&re.next.y!==re.y&&ve<(re.next.x-re.x)*(q-re.y)/(re.next.y-re.y)+re.x&&(ue=!ue),re=re.next;while(re!==J);return ue}(S,j)&&(C(S.prev,S,j.prev)||C(S,j.prev,j))||ne(S,j)&&C(S.prev,S,S.next)>0&&C(j.prev,j,j.next)>0)}function C(S,j,J){return(j.y-S.y)*(J.x-j.x)-(j.x-S.x)*(J.y-j.y)}function ne(S,j){return S.x===j.x&&S.y===j.y}function te(S,j,J,W){var re=N(C(S,j,J)),ue=N(C(S,j,W)),ve=N(C(J,W,S)),q=N(C(J,W,j));return re!==ue&&ve!==q||!(re!==0||!F(S,J,j))||!(ue!==0||!F(S,W,j))||!(ve!==0||!F(J,S,W))||!(q!==0||!F(J,j,W))}function F(S,j,J){return j.x<=Math.max(S.x,J.x)&&j.x>=Math.min(S.x,J.x)&&j.y<=Math.max(S.y,J.y)&&j.y>=Math.min(S.y,J.y)}function N(S){return S>0?1:S<0?-1:0}function X(S,j){return C(S.prev,S,S.next)<0?C(S,j,S.next)>=0&&C(S,S.prev,j)>=0:C(S,j,S.prev)<0||C(S,S.next,j)<0}function M(S,j){var J=new y(S.i,S.x,S.y),W=new y(j.i,j.x,j.y),re=S.next,ue=j.prev;return S.next=j,j.prev=S,J.next=re,re.prev=J,W.next=J,J.prev=W,ue.next=W,W.prev=ue,W}function L(S,j,J,W){var re=new y(S,j,J);return W?(re.next=W.next,re.prev=W,W.next.prev=re,W.next=re):(re.prev=re,re.next=re),re}function f(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function y(S,j,J){this.i=S,this.x=j,this.y=J,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function b(S,j,J,W){for(var re=0,ue=j,ve=J-W;ue<J;ue+=W)re+=(S[ve]-S[ue])*(S[ue+1]+S[ve+1]),ve=ue;return re}m.exports=n,m.exports.default=n,n.deviation=function(S,j,J,W){var re=j&&j.length,ue=re?j[0]*J:S.length,ve=Math.abs(b(S,0,ue,J));if(re)for(var q=0,se=j.length;q<se;q++){var pe=j[q]*J,xe=q<se-1?j[q+1]*J:S.length;ve-=Math.abs(b(S,pe,xe,J))}var Pe=0;for(q=0;q<W.length;q+=3){var ce=W[q]*J,ye=W[q+1]*J,_e=W[q+2]*J;Pe+=Math.abs((S[ce]-S[_e])*(S[ye+1]-S[ce+1])-(S[ce]-S[ye])*(S[_e+1]-S[ce+1]))}return ve===0&&Pe===0?0:Math.abs((Pe-ve)/ve)},n.flatten=function(S){for(var j=S[0][0].length,J={vertices:[],holes:[],dimensions:j},W=0,re=0;re<S.length;re++){for(var ue=0;ue<S[re].length;ue++)for(var ve=0;ve<j;ve++)J.vertices.push(S[re][ue][ve]);re>0&&(W+=S[re-1].length,J.holes.push(W))}return J}},825:m=>{m.exports=`precision highp float;

uniform sampler2D u_ROITexture;
uniform vec2 u_ScreenSize;

void main(void) {
    gl_FragColor = texture2D(u_ROITexture, vec2(gl_FragCoord.x/u_ScreenSize.x, gl_FragCoord.y/u_ScreenSize.y));
}`},928:m=>{m.exports=`attribute vec4 a_Position;
uniform mat4 u_MvpMatrix;

void main() {
    gl_Position = u_MvpMatrix * a_Position;
}`},499:m=>{m.exports=`precision highp float;

uniform float ui;
uniform vec2 xi;
uniform float p;
uniform vec2 u_FramebufferSize;
uniform mat4 u_MvpMatrixInverse;
uniform float u_PointRadius;
uniform vec2 u_XiImageSpace;
uniform int u_FasterPointRadius;

void main() {
    vec2 x = vec2(2. * gl_FragCoord.x/u_FramebufferSize.x - 1., 2. * gl_FragCoord.y/u_FramebufferSize.y - 1.);
    float wi = 1.0/pow(distance(x, u_XiImageSpace), p);

    float outsideRange = 1.;
    if (u_FasterPointRadius > 0) {
        vec4 xWorldSpace = u_MvpMatrixInverse * vec4(x, 1, 1);
        xWorldSpace /= xWorldSpace.w;
        
        if (distance(vec2(xWorldSpace), xi) > u_PointRadius) {
            outsideRange = 0.;
        }
    }

    gl_FragColor = vec4(ui*wi, wi, outsideRange, 1.0);
}`},854:m=>{m.exports=`attribute vec2 a_Position;
uniform mat4 u_MvpMatrix;

void main() {
    gl_Position = u_MvpMatrix * vec4(a_Position, 0.0, 1.0);
}`},106:m=>{m.exports=`precision highp float;

VALUE_TO_COLOR
VALUE_TO_COLOR_4

uniform sampler2D u_IDWTexture;
uniform vec2 u_FramebufferSize;
uniform float u_Opacity;
uniform float u_AverageThreshold;
uniform float u_Average;

void main(void) {
    vec4 data = texture2D(u_IDWTexture, vec2(gl_FragCoord.x/u_FramebufferSize.x, gl_FragCoord.y/u_FramebufferSize.y));
    float u = data.x/data.y;
    bool outsideRange = data.z == 0.;

    float opacity = u_Opacity;
    if (abs(u - u_Average) < u_AverageThreshold || outsideRange) {
        opacity = 0.;
    }

    gl_FragColor = valueToColor4(u, opacity);
}`},15:m=>{m.exports=`attribute vec2 a_Position;
uniform mat4 u_MvpMatrix;
uniform mat4 modelMatrix;

void main() {
    gl_Position = u_MvpMatrix * modelMatrix * vec4(a_Position, 0.0, 1.0);
}`}},l={};function c(m){var n=l[m];if(n!==void 0)return n.exports;var w=l[m]={exports:{}};return s[m](w,w.exports,c),w.exports}c.n=m=>{var n=m&&m.__esModule?()=>m.default:()=>m;return c.d(n,{a:n}),n},c.d=(m,n)=>{for(var w in n)c.o(n,w)&&!c.o(m,w)&&Object.defineProperty(m,w,{enumerable:!0,get:n[w]})},c.o=(m,n)=>Object.prototype.hasOwnProperty.call(m,n),c.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var d={};return(()=>{var E,bA,G,wA,C,TA,te,SA,N,EA,M,CA,f,MA,b,AA,j,kA,W,PA,ue,DA,q,IA,pe,LA,Pe,$w,ye,Hw;c.r(d),c.d(d,{create:()=>A});class m{constructor(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}translate(Z,me,Me){return this.elements[12]+=this.elements[0]*Z+this.elements[4]*me+this.elements[8]*Me,this.elements[13]+=this.elements[1]*Z+this.elements[5]*me+this.elements[9]*Me,this.elements[14]+=this.elements[2]*Z+this.elements[6]*me+this.elements[10]*Me,this.elements[15]+=this.elements[3]*Z+this.elements[7]*me+this.elements[11]*Me,this}scale(Z,me,Me){return this.elements[0]*=Z,this.elements[4]*=me,this.elements[8]*=Me,this.elements[1]*=Z,this.elements[5]*=me,this.elements[9]*=Me,this.elements[2]*=Z,this.elements[6]*=me,this.elements[10]*=Me,this.elements[3]*=Z,this.elements[7]*=me,this.elements[11]*=Me,this}static dot(Z,me){const Me=new Float32Array(4);for(let Ee=0;Ee<4;Ee++)Me[Ee]=Z[Ee+0]*me[0]+Z[Ee+4]*me[1]+Z[Ee+8]*me[2]+Z[Ee+12]*me[3];return Me}static inverse(Z){const me=new Float32Array(16);me[0]=Z[5]*Z[10]*Z[15]-Z[5]*Z[11]*Z[14]-Z[9]*Z[6]*Z[15]+Z[9]*Z[7]*Z[14]+Z[13]*Z[6]*Z[11]-Z[13]*Z[7]*Z[10],me[4]=-Z[4]*Z[10]*Z[15]+Z[4]*Z[11]*Z[14]+Z[8]*Z[6]*Z[15]-Z[8]*Z[7]*Z[14]-Z[12]*Z[6]*Z[11]+Z[12]*Z[7]*Z[10],me[8]=Z[4]*Z[9]*Z[15]-Z[4]*Z[11]*Z[13]-Z[8]*Z[5]*Z[15]+Z[8]*Z[7]*Z[13]+Z[12]*Z[5]*Z[11]-Z[12]*Z[7]*Z[9],me[12]=-Z[4]*Z[9]*Z[14]+Z[4]*Z[10]*Z[13]+Z[8]*Z[5]*Z[14]-Z[8]*Z[6]*Z[13]-Z[12]*Z[5]*Z[10]+Z[12]*Z[6]*Z[9],me[1]=-Z[1]*Z[10]*Z[15]+Z[1]*Z[11]*Z[14]+Z[9]*Z[2]*Z[15]-Z[9]*Z[3]*Z[14]-Z[13]*Z[2]*Z[11]+Z[13]*Z[3]*Z[10],me[5]=Z[0]*Z[10]*Z[15]-Z[0]*Z[11]*Z[14]-Z[8]*Z[2]*Z[15]+Z[8]*Z[3]*Z[14]+Z[12]*Z[2]*Z[11]-Z[12]*Z[3]*Z[10],me[9]=-Z[0]*Z[9]*Z[15]+Z[0]*Z[11]*Z[13]+Z[8]*Z[1]*Z[15]-Z[8]*Z[3]*Z[13]-Z[12]*Z[1]*Z[11]+Z[12]*Z[3]*Z[9],me[13]=Z[0]*Z[9]*Z[14]-Z[0]*Z[10]*Z[13]-Z[8]*Z[1]*Z[14]+Z[8]*Z[2]*Z[13]+Z[12]*Z[1]*Z[10]-Z[12]*Z[2]*Z[9],me[2]=Z[1]*Z[6]*Z[15]-Z[1]*Z[7]*Z[14]-Z[5]*Z[2]*Z[15]+Z[5]*Z[3]*Z[14]+Z[13]*Z[2]*Z[7]-Z[13]*Z[3]*Z[6],me[6]=-Z[0]*Z[6]*Z[15]+Z[0]*Z[7]*Z[14]+Z[4]*Z[2]*Z[15]-Z[4]*Z[3]*Z[14]-Z[12]*Z[2]*Z[7]+Z[12]*Z[3]*Z[6],me[10]=Z[0]*Z[5]*Z[15]-Z[0]*Z[7]*Z[13]-Z[4]*Z[1]*Z[15]+Z[4]*Z[3]*Z[13]+Z[12]*Z[1]*Z[7]-Z[12]*Z[3]*Z[5],me[14]=-Z[0]*Z[5]*Z[14]+Z[0]*Z[6]*Z[13]+Z[4]*Z[1]*Z[14]-Z[4]*Z[2]*Z[13]-Z[12]*Z[1]*Z[6]+Z[12]*Z[2]*Z[5],me[3]=-Z[1]*Z[6]*Z[11]+Z[1]*Z[7]*Z[10]+Z[5]*Z[2]*Z[11]-Z[5]*Z[3]*Z[10]-Z[9]*Z[2]*Z[7]+Z[9]*Z[3]*Z[6],me[7]=Z[0]*Z[6]*Z[11]-Z[0]*Z[7]*Z[10]-Z[4]*Z[2]*Z[11]+Z[4]*Z[3]*Z[10]+Z[8]*Z[2]*Z[7]-Z[8]*Z[3]*Z[6],me[11]=-Z[0]*Z[5]*Z[11]+Z[0]*Z[7]*Z[9]+Z[4]*Z[1]*Z[11]-Z[4]*Z[3]*Z[9]-Z[8]*Z[1]*Z[7]+Z[8]*Z[3]*Z[5],me[15]=Z[0]*Z[5]*Z[10]-Z[0]*Z[6]*Z[9]-Z[4]*Z[1]*Z[10]+Z[4]*Z[2]*Z[9]+Z[8]*Z[1]*Z[6]-Z[8]*Z[2]*Z[5];let Me=Z[0]*me[0]+Z[1]*me[4]+Z[2]*me[8]+Z[3]*me[12];if(Me!=0){Me=1/Me;for(let Ee=0;Ee<16;Ee++)me[Ee]=me[Ee]*Me;return me}}}function n(le,Z){const me=le.createShader(le.VERTEX_SHADER);return ee(le,me,Z)}function w(le,Z){const me=le.createShader(le.FRAGMENT_SHADER);return ee(le,me,Z)}function $(le,Z,me){const Me=le.createProgram();if(le.attachShader(Me,Z),le.attachShader(Me,me),le.linkProgram(Me),!le.getProgramParameter(Me,le.LINK_STATUS))throw le.getProgramInfoLog(Me);return Me}function ee(le,Z,me){if(le.shaderSource(Z,me),le.compileShader(Z),!le.getShaderParameter(Z,le.COMPILE_STATUS))throw le.getShaderInfoLog(Z);return Z}class z{constructor(Z,me,Me,Ee,ze,Qe){Da(this,E);Da(this,G);Da(this,C);Da(this,te);Da(this,N);this.gl=Z,this.framebufferWidth=me,this.framebufferHeight=Me,this.points=Ee,this.pointsDistance=ze,this.options=Qe,ia(this,E,bA).call(this),ia(this,G,wA).call(this),ia(this,C,TA).call(this),ia(this,te,SA).call(this),ia(this,N,EA).call(this)}setFrameBufferSize(Z,me){this.framebufferWidth=Z,this.framebufferHeight=me,this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.framebufferWidth,this.framebufferHeight,0,this.gl.RGBA,this.gl.FLOAT,null)}delete(){this.gl.deleteTexture(this.texture),this.gl.deleteBuffer(this.verticesBuffer),this.gl.deleteFramebuffer(this.framebuffer)}draw(Z){this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.ONE,this.gl.ONE),this.gl.useProgram(this.program),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this.gl.viewport(0,0,this.framebufferWidth,this.framebufferHeight),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.uniformMatrix4fv(this.uMvpMatrix,!1,Z),this.gl.uniform1f(this.uP,this.options.p),this.gl.uniform2f(this.uFramebufferSize,this.framebufferWidth,this.framebufferHeight),this.options.pointRadius>0&&this.options.fasterPointRadius&&(this.gl.uniform1i(this.u_FasterPointRadius,1),this.gl.uniformMatrix4fv(this.uMvpMatrixInverse,!1,m.inverse(Z)));for(let me=0;me<this.points.length;me++){const Me=this.points[me],Ee=m.dot(Z,[Me[0],Me[1],0,1]);this.gl.uniform2f(this.uXiImageSpace,Ee[0]/Ee[3],Ee[1]/Ee[3]),this.gl.uniform1f(this.uUi,Me[2]),this.gl.uniform2f(this.uXi,Me[0],Me[1]),this.gl.uniform1f(this.uPointRadius,this.pointsDistance[me]),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.verticesBuffer),this.gl.enableVertexAttribArray(this.aPosition),this.gl.vertexAttribPointer(this.aPosition,2,this.gl.FLOAT,!1,0,0),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,this.verticesNumber)}}updatePointsAndDistances(Z,me){this.points=Z,this.pointsDistance=me}}E=new WeakSet,bA=function(){const Z=c(854),me=c(499),Me=n(this.gl,Z),Ee=w(this.gl,me);this.program=$(this.gl,Me,Ee)},G=new WeakSet,wA=function(){this.aPosition=this.gl.getAttribLocation(this.program,"a_Position"),this.uMvpMatrix=this.gl.getUniformLocation(this.program,"u_MvpMatrix"),this.uUi=this.gl.getUniformLocation(this.program,"ui"),this.uXi=this.gl.getUniformLocation(this.program,"xi"),this.uP=this.gl.getUniformLocation(this.program,"p"),this.uFramebufferSize=this.gl.getUniformLocation(this.program,"u_FramebufferSize"),this.uMvpMatrixInverse=this.gl.getUniformLocation(this.program,"u_MvpMatrixInverse"),this.uPointRadius=this.gl.getUniformLocation(this.program,"u_PointRadius"),this.uXiImageSpace=this.gl.getUniformLocation(this.program,"u_XiImageSpace"),this.u_FasterPointRadius=this.gl.getUniformLocation(this.program,"u_FasterPointRadius")},C=new WeakSet,TA=function(){this.verticesBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.verticesBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),this.gl.STATIC_DRAW),this.verticesNumber=4},te=new WeakSet,SA=function(){this.texture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.framebufferWidth,this.framebufferHeight,0,this.gl.RGBA,this.gl.FLOAT,null),this.gl.bindTexture(this.gl.TEXTURE_2D,null)},N=new WeakSet,EA=function(){this.framebuffer=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.texture,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)};var Y=c(187),Q=c.n(Y);class I{constructor(Z,me,Me,Ee,ze,Qe,Ke){Da(this,M);Da(this,f);Da(this,b);Da(this,j);Da(this,W);this.gl=Z,this.framebufferWidth=me,this.framebufferHeight=Me,this.points=Ee,this.pointsDistance=ze,this.average=Qe,this.options=Ke,ia(this,M,CA).call(this),ia(this,f,MA).call(this),ia(this,b,AA).call(this),ia(this,j,kA).call(this),ia(this,W,PA).call(this)}setFrameBufferSize(Z,me){this.framebufferWidth=Z,this.framebufferHeight=me,this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.framebufferWidth,this.framebufferHeight,0,this.gl.RGBA,this.gl.FLOAT,null)}delete(){this.gl.deleteTexture(this.texture),this.gl.deleteBuffer(this.verticesBuffer),this.gl.deleteBuffer(this.indicesBuffer),this.gl.deleteFramebuffer(this.framebuffer)}draw(Z,me,Me){const Ee=this.options.roi.length>0&&this.options.pointRadius==0,ze=Ee?Me.width:this.framebufferWidth,Qe=Ee?Me.height:this.framebufferHeight;if(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,ze,Qe,0,this.gl.RGBA,this.gl.FLOAT,null),this.gl.disable(this.gl.BLEND),this.gl.disable(this.gl.DEPTH_TEST),this.gl.useProgram(this.program),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this.gl.viewport(0,0,ze,Qe),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.uniformMatrix4fv(this.uMvpMatrix,!1,Z),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.verticesBuffer),this.gl.enableVertexAttribArray(this.aPosition),this.gl.vertexAttribPointer(this.aPosition,2,this.gl.FLOAT,!1,0,0),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,me),this.gl.uniform1i(this.uIDWTexture,0),this.gl.uniform2f(this.uFramebufferSize,ze,Qe),this.gl.uniform1f(this.uOpacity,this.options.opacity),this.gl.uniform1f(this.uAverageThreshold,this.options.averageThreshold),this.gl.uniform1f(this.uAverage,this.average),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),this.options.pointRadius>0&&!this.options.fasterPointRadius)this.points.forEach((Ke,ct)=>{const Ie=new m;Ie.translate(Ke[0],Ke[1],0),Ie.scale(this.pointsDistance[ct],this.pointsDistance[ct],0),this.gl.uniformMatrix4fv(this.modelMatrix,!1,Ie.elements),this.gl.drawElements(this.gl.TRIANGLES,this.indicesNumber,this.gl.UNSIGNED_BYTE,0)});else{const Ke=new m;this.gl.uniformMatrix4fv(this.modelMatrix,!1,Ke.elements),this.gl.drawElements(this.gl.TRIANGLES,this.indicesNumber,this.gl.UNSIGNED_BYTE,0)}}updatePointsAndDistances(Z,me){this.points=Z,this.pointsDistance=me}}M=new WeakSet,CA=function(){const Z=c(15),me=c(106).replace("VALUE_TO_COLOR",this.options.valueToColor).replace("VALUE_TO_COLOR_4",this.options.valueToColor4),Me=n(this.gl,Z),Ee=w(this.gl,me);this.program=$(this.gl,Me,Ee)},f=new WeakSet,MA=function(){this.aPosition=this.gl.getAttribLocation(this.program,"a_Position"),this.uMvpMatrix=this.gl.getUniformLocation(this.program,"u_MvpMatrix"),this.uIDWTexture=this.gl.getUniformLocation(this.program,"u_IDWTexture"),this.uFramebufferSize=this.gl.getUniformLocation(this.program,"u_FramebufferSize"),this.uOpacity=this.gl.getUniformLocation(this.program,"u_Opacity"),this.uAverageThreshold=this.gl.getUniformLocation(this.program,"u_AverageThreshold"),this.uAverage=this.gl.getUniformLocation(this.program,"u_Average"),this.modelMatrix=this.gl.getUniformLocation(this.program,"modelMatrix")},b=new WeakSet,AA=function(){const Z=[];let me=[];if(this.options.pointRadius>0&&!this.options.fasterPointRadius){const Ee=2*Math.PI/50;Z.push(0,0);for(let ze=0;ze<50+1;ze++){const Qe=ze*Ee,Ke=Math.cos(Qe),ct=Math.sin(Qe);Z.push(Ke,ct),ze<50&&me.push(0,ze+1,ze+2)}}else this.options.roi.length==0?Z.push(-1,-1,-1,1,1,1,1,-1):this.options.roi.forEach(Me=>{const Ee=mapboxgl.MercatorCoordinate.fromLngLat(Me);Z.push(Ee.x,Ee.y)}),me=Q()(Z);this.verticesBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.verticesBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(Z),this.gl.STATIC_DRAW),this.indicesBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint8Array(me),this.gl.STATIC_DRAW),this.indicesNumber=me.length},j=new WeakSet,kA=function(){this.texture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.framebufferWidth,this.framebufferHeight,0,this.gl.RGBA,this.gl.FLOAT,null),this.gl.bindTexture(this.gl.TEXTURE_2D,null)},W=new WeakSet,PA=function(){this.framebuffer=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.texture,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)};class O{constructor(Z){Da(this,ue);Da(this,q);Da(this,pe);this.gl=Z,ia(this,ue,DA).call(this),ia(this,q,IA).call(this),ia(this,pe,LA).call(this)}delete(){this.gl.deleteBuffer(this.verticesBuffer)}draw(Z,me,Me){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,me.width,me.height),this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.useProgram(this.program),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.verticesBuffer),this.gl.enableVertexAttribArray(this.aPosition),this.gl.vertexAttribPointer(this.aPosition,2,this.gl.FLOAT,!1,0,0),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,Me),this.gl.uniform1i(this.uROITexture,0),this.gl.uniform2f(this.uScreenSize,me.width,me.height),this.gl.uniformMatrix4fv(this.uMvpMatrix,!1,Z),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,this.verticesNumber)}}ue=new WeakSet,DA=function(){const Z=c(928),me=c(825),Me=n(this.gl,Z),Ee=w(this.gl,me);this.program=$(this.gl,Me,Ee)},q=new WeakSet,IA=function(){this.aPosition=this.gl.getAttribLocation(this.program,"a_Position"),this.uMvpMatrix=this.gl.getUniformLocation(this.program,"u_MvpMatrix"),this.uROITexture=this.gl.getUniformLocation(this.program,"u_ROITexture"),this.uScreenSize=this.gl.getUniformLocation(this.program,"u_ScreenSize")},pe=new WeakSet,LA=function(){this.verticesBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.verticesBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),this.gl.STATIC_DRAW),this.verticesNumber=4};class H{constructor(Z){Da(this,Pe);Da(this,ye);this.options=Z}init(Z,me){if(this.canvas=me,!Z.getExtension("OES_texture_float")||!Z.getExtension("WEBGL_color_buffer_float")||!Z.getExtension("EXT_float_blend"))throw"WebGL extension not supported";ia(this,Pe,$w).call(this),ia(this,ye,Hw).call(this),this.idw=new z(Z,this.framebufferWidth,this.framebufferHeight,this.points,this.pointsDistance,this.options),this.roi=new I(Z,this.framebufferWidth,this.framebufferHeight,this.points,this.pointsDistance,this.average,this.options),this.draw=new O(Z)}resizeFramebuffer(){ia(this,ye,Hw).call(this),this.idw.setFrameBufferSize(this.framebufferWidth,this.framebufferHeight),this.roi.setFrameBufferSize(this.framebufferWidth,this.framebufferHeight)}delete(){this.idw.delete(),this.roi.delete(),this.draw.delete()}preRender(Z){this.idw.draw(Z),this.roi.draw(Z,this.idw.texture,this.canvas)}render(Z){this.draw.draw(Z,this.canvas,this.roi.texture)}updatePoints(Z){this.options.points=Z,ia(this,Pe,$w).call(this),this.idw.updatePointsAndDistances(this.points,this.pointsDistance),this.roi.updatePointsAndDistances(this.points,this.pointsDistance)}}Pe=new WeakSet,$w=function(){this.points=[],this.pointsDistance=[];let Z=1/0,me=-1/0;this.options.points.forEach(Me=>{const Ee=mapboxgl.MercatorCoordinate.fromLngLat(Me);this.points.push([Ee.x,Ee.y,Me.val]),this.pointsDistance.push(Ee.meterInMercatorCoordinateUnits()*this.options.pointRadius),Me.val<Z&&(Z=Me.val),Me.val>me&&(me=Me.val)}),Z=Z<this.options.minValue?Z:this.options.minValue,me=me>this.options.maxValue?me:this.options.maxValue,this.average=0,this.points.forEach(Me=>{Me[2]=(Me[2]-Z)/(me-Z),this.average+=Me[2]}),this.average/=this.points.length},ye=new WeakSet,Hw=function(){this.framebufferWidth=Math.ceil(this.canvas.width*this.options.framebufferFactor),this.framebufferHeight=Math.ceil(this.canvas.height*this.options.framebufferFactor)};function A(le){const Z={layerId:"",opacity:.5,minValue:1/0,maxValue:-1/0,p:3,framebufferFactor:.3,points:[],roi:[],averageThreshold:0,valueToColor:`
            vec3 valueToColor(float value) {
                return vec3(max((value-0.5)*2.0, 0.0), 1.0 - 2.0*abs(value - 0.5), max((0.5-value)*2.0, 0.0));
            }
        `,valueToColor4:`
            vec4 valueToColor4(float value, float defaultOpacity) {
                return vec4(valueToColor(value), defaultOpacity);
            }
        `,pointRadius:0,fasterPointRadius:!1};if(typeof le=="object")for(let Me in le)Z[Me]=le[Me];const me=new H(Z);return{id:Z.layerId,type:"custom",onAdd:function(Me,Ee){me.init(Ee,Me._canvas),this.resizeFramebuffer=()=>{me.resizeFramebuffer()},Me.on("resize",this.resizeFramebuffer)},onRemove:function(Me,Ee){me.delete(),Me.off("resize",this.resizeFramebuffer)},prerender:function(Me,Ee){me.preRender(Ee)},render:function(Me,Ee){me.render(Ee)},updatePoints:function(Me){me.updatePoints(Me)}}}})(),d})())})(fN);window.mapboxgl=tl;const mN={components:{"x-search":fA,"x-notification":mA,"x-records":gA,"x-navigation":_A,"x-camera":yA,"x-parameter":vA,MapboxMap:kx,MapboxNavigationControl:Px},data(){return{weatherKey:"dfc256782db426c6a8d3b8daaefa5b33",icons:{ballast:dN,laden:uN,at_port:pN},map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null,fleet:null,showSideInfo:!1,fleets_point:{type:"FeatureCollection",features:[]}}},mounted(){this.timer=setInterval(()=>{this.refreshData()},5*1e3),this.map.loadImage(this.icons.ballast,(e,t)=>{if(e)throw e;this.map.addImage("ship-blue",t)}),this.map.loadImage(this.icons.at_port,(e,t)=>{if(e)throw e;this.map.addImage("ship-red",t)}),this.map.loadImage(this.icons.laden,(e,t)=>{if(e)throw e;this.map.addImage("ship-green",t)}),this.popup=new tl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async fetchData(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,this.fleets_point.features=[],e.forEach(t=>{if(t.navigation){let s="ship-blue";t.fleet_status=="at_port"?s="ship-red":t.fleet_status=="laden"&&(s="ship-green"),this.fleets_point.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.navigation.lng,t.navigation.lat]},properties:{scale:1,id:t.id,heading:t.navigation.heading,name:t.name,image:t.image,status:t.fleet_status,icon:s,sog:t.navigation.sog,cog:t.navigation.cog,last_update:wm(t.last_connection)}})}})},async loaded(){await this.fetchData(),this.buildLayer()},async refreshData(){await this.fetchData();let e=this.map.getSource("ship-position");e&&e.setData(this.fleets_point)},buildLayer(){let e=this;this.map.addSource("ship-position",{type:"geojson",data:this.fleets_point}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-position",layout:{"icon-image":["get","icon"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.12,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const t=new tl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","ship-position",s=>{let l=s.features[0].properties.id;e.showInfo(l)}),this.map.on("mouseenter","ship-position",s=>{e.map.getCanvas().style.cursor="pointer";const l=s.features[0].geometry.coordinates.slice(),c=`<b>${s.features[0].properties.name} [ID]</b> at ${s.features[0].properties.sog} <b>kn</b> / ${s.features[0].properties.cog}&deg;<br>last update: <b>${s.features[0].properties.last_update}</b>`;for(;Math.abs(s.lngLat.lng-l[0])>180;)l[0]+=s.lngLat.lng>l[0]?360:-360;t.setLngLat(l).setHTML(c).addTo(e.map)}),this.map.on("mouseleave","ship-position",()=>{e.map.getCanvas().style.cursor="",t.remove()})},async buildWeathers(){const d=[];for(let ee=0;ee<10;ee++)for(let z=0;z<10;z++)d.push({lat:-40+ee*(40- -40)/10,lng:-140+z*(140- -140)/10,val:0});const m="https://api.openweathermap.org/data/2.5/weather?units=metric&lat=",n=d.map(ee=>m+ee.lat+"&lon="+ee.lng+"&appid="+this.weatherKey),w=await Promise.all(n.map(async ee=>(await fetch(ee)).text()));d.forEach((ee,z)=>{ee.val=JSON.parse(w[z]).main.temp});let $=Vw.create({points:d,layerId:"temp",opacity:.2});this.map.addLayer($)},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const s=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${wm(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},showInfo(e){let t=this.fleets.findIndex(function(s){return s.id===e});t>=0&&(this.fleet=this.fleets[t],this.showSideInfo=!0)},buildTrack(e){console.log(e)}}},gN={class:"position-relative"},_N={class:"pointer-info",ref:"pointerInfo"};function yN(e,t,s,l,c,d){const m=ts("x-search"),n=ts("fleet-side-info"),w=ts("MapboxNavigationControl"),$=ts("MapboxMap");return Mi(),Pi("div",gN,[Yi(m,{fleets:c.fleets,onSelected:d.findFleet},null,8,["fleets","onSelected"]),c.fleet?(Mi(),Hc(n,{key:0,fleet:c.fleet,display:c.showSideInfo,onClose:t[0]||(t[0]=ee=>c.showSideInfo=!1),onHistory:d.buildTrack},null,8,["fleet","display","onHistory"])):Wn("",!0),at("div",_N,null,512),Yi($,{onMbCreated:t[1]||(t[1]=ee=>c.map=ee),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:c.center,zoom:c.zoom},{default:Ur(()=>[Yi(w,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const vN=zs(mN,[["render",yN]]),BT="/build/assets/ship-c94d8078.png",xN=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],bN={components:{MapboxMap:kx,MapboxNavigationControl:Px},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,t={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},s={type:"FeatureCollection",features:[]};xN.forEach((d,m)=>{this.current&&this.calcCrow(this.current[1],this.current[0],d.lat,d.lng)>20||(t.geometry.coordinates.push([d.lng,d.lat]),s.features.push({type:"Feature",properties:{cog:d.cog,sog:d.sog,time:d.terminal_time,lat:d.lat,lng:d.lng,heading:d.heading},geometry:{type:"Point",coordinates:[d.lng,d.lat]}}),this.current=[d.lng,d.lat],this.items.push(d))}),this.map.addSource("route",{type:"geojson",data:t}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:s}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const l=new tl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",d=>{let m=d.features[0].properties;this.positionShip(m)}),this.map.on("mouseenter","points",d=>{e.map.getCanvas().style.cursor="pointer";const m=d.features[0].geometry.coordinates.slice(),n=`<b>Lat : ${d.features[0].properties.lat} | Lng: ${d.features[0].properties.lng}</b> at ${d.features[0].properties.sog} <b>kn</b> / ${d.features[0].properties.cog}&deg;<br>time: <b>${d.features[0].properties.time}</b>`;for(;Math.abs(d.lngLat.lng-m[0])>180;)m[0]+=d.lngLat.lng>m[0]?360:-360;l.setLngLat(m).setHTML(n).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",l.remove()}),this.map.loadImage(BT,(d,m)=>{if(d)throw d;e.map.addImage("ship-icon",m)});let c=this.items[this.items.length-1];this.positionShip({heading:c.heading,lng:c.lng,lat:c.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},calcCrow(n,t,w,l){var c=6371,d=this.toRad(w-n),m=this.toRad(l-t),n=this.toRad(n),w=this.toRad(w),$=Math.sin(d/2)*Math.sin(d/2)+Math.sin(m/2)*Math.sin(m/2)*Math.cos(n)*Math.cos(w),ee=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$)),z=c*ee;return z},toRad(e){return e*Math.PI/180}}},wN={class:"row g-0"},TN={class:"col-9"},SN={class:"position-relative"},EN={class:"pointer-info",ref:"pointerInfo"},CN={class:"col-3"},MN=bh('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),AN={class:"information"},kN={class:"histories"},PN={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},DN=at("thead",null,[at("tr",null,[at("th",null,"Time"),at("th",null,"Lon"),at("th",null,"Lat"),at("th",null,"Speed")])],-1),IN=["onClick"];function LN(e,t,s,l,c,d){const m=ts("MapboxNavigationControl"),n=ts("MapboxMap");return Mi(),Pi("div",wN,[at("div",TN,[at("div",SN,[at("div",EN,null,512),Yi(n,{onMbCreated:t[0]||(t[0]=w=>c.map=w),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[105.987732,-5.898973],zoom:7},{default:Ur(()=>[Yi(m,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])]),at("div",CN,[MN,at("div",AN,[at("div",kN,[at("table",PN,[DN,at("tbody",null,[(Mi(!0),Pi(Ts,null,Fo(c.items,w=>(Mi(),Pi("tr",{key:w.id,onClick:$=>d.toPotition(w),class:"pointer"},[at("td",null,hn(e.$filters.dateformat(w.terminal_time)),1),at("td",null,hn(e.$filters.str_limit(w.lng,7))+"°",1),at("td",null,hn(e.$filters.str_limit(w.lat,6))+"°",1),at("td",null,hn(w.sog),1)],8,IN))),128))])])])])])])}const ON=zs(bN,[["render",LN]]),RN={components:{MapboxMap:kx,MapboxNavigationControl:Px},props:{fleet:Object,style:Object,sidebar:Boolean},data(){return{map:null,current:[],timer:null,popup:new tl.Popup({closeButton:!0,closeOnClick:!1}),histories:[]}},mounted(){this.map.loadImage(BT,(e,t)=>{if(e)throw e;this.map.addImage("ship-icon",t)})},methods:{setHistory(e){this.histories=e;let t=this;this.current.length>0&&this.map.getLayer("route")!=="undefined"&&this.map.getLayer("points")!=="undefined"&&(this.map.removeLayer("route"),this.map.removeSource("route"),this.map.removeLayer("points"),this.map.removeSource("points"));let s={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},l={type:"FeatureCollection",features:[]};this.histories.forEach((n,w)=>{s.geometry.coordinates.push([n.lng,n.lat]),l.features.push({type:"Feature",properties:{cog:n.cog,sog:n.sog,time:n.terminal_time,lat:n.lat,lng:n.lng,heading:n.heading},geometry:{type:"Point",coordinates:[n.lng,n.lat]}}),this.current=[n.lng,n.lat]}),this.map.addSource("route",{type:"geojson",data:s}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),this.map.addSource("points",{type:"geojson",data:l}),this.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const c=new tl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",n=>{let w=n.features[0].properties;this.positionShip(w)}),this.map.on("mouseenter","points",n=>{t.map.getCanvas().style.cursor="pointer";const w=n.features[0].geometry.coordinates.slice(),$=`<b>Lat : ${n.features[0].properties.lat} | Lng: ${n.features[0].properties.lng}</b> at ${n.features[0].properties.sog} <b>kn</b> / ${n.features[0].properties.cog}&deg;<br>time: <b>${n.features[0].properties.time}</b>`;for(;Math.abs(n.lngLat.lng-w[0])>180;)w[0]+=n.lngLat.lng>w[0]?360:-360;c.setLngLat(w).setHTML($).addTo(t.map)}),this.map.on("mouseleave","points",()=>{t.map.getCanvas().style.cursor="",c.remove()});let d=this.histories[this.histories.length-1],m=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:d});this.positionShip(m)},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},loaded(){this.positionShip(this.fleet)},toPotition(e){let t=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:e});this.positionShip(t)},positionShip(e){if(!e.navigation)return;typeof this.map.getLayer("ship-position")<"u"&&this.map.removeLayer("ship-position").removeSource("ship-points"),this.map.addSource("ship-points",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:wm(e.navigation.terminal_time)}}]}}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-points",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.popup.remove();const s=`<b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${wm(e.navigation.updated_at)}</b>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map)}}},BN={class:"position-relative overflow-hidden"},zN={class:"pointer-info",ref:"pointerInfo"};function FN(e,t,s,l,c,d){const m=ts("map-voyage"),n=ts("MapboxNavigationControl"),w=ts("MapboxMap");return Mi(),Pi("div",BN,[Yi(m,{fleet:s.fleet,onHistory:d.setHistory,onSelected:d.toPotition,display:s.sidebar},null,8,["fleet","onHistory","onSelected","display"]),at("div",zN,null,512),Yi(w,{onMbCreated:t[0]||(t[0]=$=>c.map=$),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:nu(s.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[s.fleet.navigation.lng,s.fleet.navigation.lat],zoom:7},{default:Ur(()=>[Yi(n,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","style","center"])])}const NN=zs(RN,[["render",FN]]),jN={props:{fleet:Object,display:Boolean},data(){return{params:{from:null,to:null,interval:900},histories:[]}},methods:{async fetchData(){this.histories=[],(await axios.get(`/api/fleet/${this.fleet.id}/nav/histories`,{params:this.params}).then(t=>t.data)).forEach(t=>{t.lat==0&&t.lng==0||this.histories.push(t)}),this.$emit("history",this.histories)},toggleText(){this.display=!this.display},selected(e){this.$emit("selected",e)}}},UN={class:"voyage-section"},GN={key:0,class:"card voyage-card"},VN={class:"card-header justify-content-between"},$N=["src"],HN=at("h5",{class:"fw-normal m-0"},"Voyage",-1),WN={class:"card-body"},XN=at("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[at("li",{class:"nav-item",role:"presentation"},[at("button",{class:"nav-link justify-content-center active",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")]),at("li",{class:"nav-item",role:"presentation"},[at("button",{class:"nav-link justify-content-center",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),YN={class:"tab-content",id:"pills-tabContent"},qN={class:"tab-pane fade show active",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},ZN={class:"mb-4"},KN={class:"form-group mb-3"},JN=at("label",{for:"startDateInput"},"Start Date",-1),QN={class:"form-group mb-3"},ej=at("label",{for:"endDateInput"},"End Date",-1),tj=at("h6",{class:"text-primary"},"GENERATE REPORT",-1),ij={class:"table text-sm"},nj=at("thead",null,[at("tr",null,[at("th",{scope:"col"},"Time"),at("th",{scope:"col"},"Lon"),at("th",{scope:"col"},"Lat"),at("th",{scope:"col"},"Speed")])],-1),sj=["onClick"],rj={scope:"row"},oj=at("div",{class:"tab-pane fade",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},null,-1),aj=["src"];function lj(e,t,s,l,c,d){return Mi(),Pi("div",UN,[s.display?(Mi(),Pi("div",GN,[at("div",VN,[at("button",{onClick:t[0]||(t[0]=m=>s.display=!s.display),class:"btn btn-link bg-transparent p-0"},[at("img",{src:"/img/icons/close-fill.png",alt:""},null,8,$N)]),HN]),at("div",WN,[XN,at("div",YN,[at("div",qN,[at("div",ZN,[at("div",KN,[JN,La(at("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=m=>c.params.from=m),class:"form-control",id:"startDateInput"},null,512),[[eu,c.params.from]])]),at("div",QN,[ej,La(at("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=m=>c.params.to=m),class:"form-control",id:"endDateInput"},null,512),[[eu,c.params.to]])]),at("button",{onClick:t[3]||(t[3]=(...m)=>d.fetchData&&d.fetchData(...m)),class:"btn btn-outline-primary w-100"},"SHOW")]),tj,at("table",ij,[nj,at("tbody",null,[(Mi(!0),Pi(Ts,null,Fo(c.histories,m=>(Mi(),Pi("tr",{onClick:n=>d.selected(m),key:m.id},[at("td",rj,hn(e.$filters.dateformat(m.terminal_time,"DD/MM/YY HH:mm")),1),at("td",null,hn(m.lng.toFixed(2))+"°",1),at("td",null,hn(m.lat.toFixed(2))+"°",1),at("td",null,hn(m.sog),1)],8,sj))),128))])])]),oj])])])):Wn("",!0),at("button",{onClick:t[4]||(t[4]=m=>s.display=!s.display),class:"btn btn-light btn-open"},[at("img",{src:"/img/icons/location-circle.png",alt:""},null,8,aj),Ro(" Show fleet Track ")])])}const cj=zs(jN,[["render",lj]]),hj={},dj={class:"ships-cctv"},uj=bh('<div class="card" data-v-3e327a0d><div class="card-header" data-v-3e327a0d><div class="card-title" data-v-3e327a0d><div data-v-3e327a0d>Bridge</div></div><div class="card-status" data-v-3e327a0d><a href="#" data-v-3e327a0d><img src="img/icons/fullscreen.png" alt="" data-v-3e327a0d> Fullscreen </a><a href="#" data-v-3e327a0d> Esc to exit </a></div></div><div class="card-body" data-v-3e327a0d><img src="img/image-1.png" alt="" class="w-100" data-v-3e327a0d></div></div>',1),pj=[uj];function fj(e,t,s,l,c,d){return Mi(),Pi("div",dj,pj)}const mj=zs(hj,[["render",fj],["__scopeId","data-v-3e327a0d"]]),gj={components:{"x-search":fA,"x-notification":mA,"x-records":gA,"x-navigation":_A,"x-camera":yA,"x-parameter":vA,"x-cctv":mj,MapboxMap:kx,MapboxNavigationControl:Px},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(BT,(e,t)=>{if(e)throw e;this.map.addImage("ship",t)}),this.popup=new tl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(t=>{this.positionShip(t)})},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const s=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${wm(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let t=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:wm(e.navigation.updated_at)}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const l=new tl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,c=>{let d=c.features[0].properties.id;location.href=`/fleet/${d}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,c=>{t.map.getCanvas().style.cursor="pointer";const d=c.features[0].geometry.coordinates.slice(),m=`<b>${c.features[0].properties.name} [ID]</b> at ${c.features[0].properties.sog} <b>kn</b> / ${c.features[0].properties.cog}&deg;<br>last update: <b>${c.features[0].properties.last_update}</b>`;for(;Math.abs(c.lngLat.lng-d[0])>180;)d[0]+=c.lngLat.lng>d[0]?360:-360;l.setLngLat(d).setHTML(m).addTo(t.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{t.map.getCanvas().style.cursor="",l.remove()})}}},_j={class:"position-relative"};function yj(e,t,s,l,c,d){const m=ts("x-records"),n=ts("x-navigation"),w=ts("x-camera"),$=ts("x-notification"),ee=ts("x-parameter"),z=ts("x-cctv"),Y=ts("MapboxNavigationControl"),Q=ts("MapboxMap");return Mi(),Pi("div",_j,[Yi(m),Yi(n),Yi(w),Yi($),Yi(ee),Yi(z),Yi(Q,{onMbCreated:t[0]||(t[0]=I=>c.map=I),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 0px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:c.center,zoom:c.zoom},{default:Ur(()=>[Yi(Y,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const vj=zs(gj,[["render",yj]]);function P5(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function zT(e={},t={}){Object.keys(t).forEach(s=>{typeof e[s]>"u"?e[s]=t[s]:P5(t[s])&&P5(e[s])&&Object.keys(t[s]).length>0&&zT(e[s],t[s])})}const OA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Wf(){const e=typeof document<"u"?document:{};return zT(e,OA),e}const xj={document:OA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function fc(){const e=typeof window<"u"?window:{};return zT(e,xj),e}function bj(e){const t=e;Object.keys(t).forEach(s=>{try{t[s]=null}catch{}try{delete t[s]}catch{}})}function Ww(e,t=0){return setTimeout(e,t)}function Iv(){return Date.now()}function wj(e){const t=fc();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}function Tj(e,t="x"){const s=fc();let l,c,d;const m=wj(e);return s.WebKitCSSMatrix?(c=m.transform||m.webkitTransform,c.split(",").length>6&&(c=c.split(", ").map(n=>n.replace(",",".")).join(", ")),d=new s.WebKitCSSMatrix(c==="none"?"":c)):(d=m.MozTransform||m.OTransform||m.MsTransform||m.msTransform||m.transform||m.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),l=d.toString().split(",")),t==="x"&&(s.WebKitCSSMatrix?c=d.m41:l.length===16?c=parseFloat(l[12]):c=parseFloat(l[4])),t==="y"&&(s.WebKitCSSMatrix?c=d.m42:l.length===16?c=parseFloat(l[13]):c=parseFloat(l[5])),c||0}function Ny(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function Sj(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function oc(...e){const t=Object(e[0]),s=["__proto__","constructor","prototype"];for(let l=1;l<e.length;l+=1){const c=e[l];if(c!=null&&!Sj(c)){const d=Object.keys(Object(c)).filter(m=>s.indexOf(m)<0);for(let m=0,n=d.length;m<n;m+=1){const w=d[m],$=Object.getOwnPropertyDescriptor(c,w);$!==void 0&&$.enumerable&&(Ny(t[w])&&Ny(c[w])?c[w].__swiper__?t[w]=c[w]:oc(t[w],c[w]):!Ny(t[w])&&Ny(c[w])?(t[w]={},c[w].__swiper__?t[w]=c[w]:oc(t[w],c[w])):t[w]=c[w])}}}return t}function jy(e,t,s){e.style.setProperty(t,s)}function RA({swiper:e,targetPosition:t,side:s}){const l=fc(),c=-e.translate;let d=null,m;const n=e.params.speed;e.wrapperEl.style.scrollSnapType="none",l.cancelAnimationFrame(e.cssModeFrameID);const w=t>c?"next":"prev",$=(z,Y)=>w==="next"&&z>=Y||w==="prev"&&z<=Y,ee=()=>{m=new Date().getTime(),d===null&&(d=m);const z=Math.max(Math.min((m-d)/n,1),0),Y=.5-Math.cos(z*Math.PI)/2;let Q=c+Y*(t-c);if($(Q,t)&&(Q=t),e.wrapperEl.scrollTo({[s]:Q}),$(Q,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:Q})}),l.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=l.requestAnimationFrame(ee)};ee()}function td(e,t=""){return[...e.children].filter(s=>s.matches(t))}function FT(e,t=[]){const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:[t]),s}function Ej(e,t){const s=[];for(;e.previousElementSibling;){const l=e.previousElementSibling;t?l.matches(t)&&s.push(l):s.push(l),e=l}return s}function Cj(e,t){const s=[];for(;e.nextElementSibling;){const l=e.nextElementSibling;t?l.matches(t)&&s.push(l):s.push(l),e=l}return s}function Qu(e,t){return fc().getComputedStyle(e,null).getPropertyValue(t)}function Xw(e){let t=e,s;if(t){for(s=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(s+=1);return s}}function Mj(e,t){const s=[];let l=e.parentElement;for(;l;)t?l.matches(t)&&s.push(l):s.push(l),l=l.parentElement;return s}function D5(e,t,s){const l=fc();return s?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(l.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(l.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let Xb;function Aj(){const e=fc(),t=Wf();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function BA(){return Xb||(Xb=Aj()),Xb}let Yb;function kj({userAgent:e}={}){const t=BA(),s=fc(),l=s.navigator.platform,c=e||s.navigator.userAgent,d={ios:!1,android:!1},m=s.screen.width,n=s.screen.height,w=c.match(/(Android);?[\s\/]+([\d.]+)?/);let $=c.match(/(iPad).*OS\s([\d_]+)/);const ee=c.match(/(iPod)(.*OS\s([\d_]+))?/),z=!$&&c.match(/(iPhone\sOS|iOS)\s([\d_]+)/),Y=l==="Win32";let Q=l==="MacIntel";const I=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!$&&Q&&t.touch&&I.indexOf(`${m}x${n}`)>=0&&($=c.match(/(Version)\/([\d.]+)/),$||($=[0,1,"13_0_0"]),Q=!1),w&&!Y&&(d.os="android",d.android=!0),($||z||ee)&&(d.os="ios",d.ios=!0),d}function Pj(e={}){return Yb||(Yb=kj(e)),Yb}let qb;function Dj(){const e=fc();let t=!1;function s(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(s()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));t=c<16||c===16&&d<2}}return{isSafari:t||s(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function Ij(){return qb||(qb=Dj()),qb}function Lj({swiper:e,on:t,emit:s}){const l=fc();let c=null,d=null;const m=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},n=()=>{!e||e.destroyed||!e.initialized||(c=new ResizeObserver(ee=>{d=l.requestAnimationFrame(()=>{const{width:z,height:Y}=e;let Q=z,I=Y;ee.forEach(({contentBoxSize:O,contentRect:H,target:A})=>{A&&A!==e.el||(Q=H?H.width:(O[0]||O).inlineSize,I=H?H.height:(O[0]||O).blockSize)}),(Q!==z||I!==Y)&&m()})}),c.observe(e.el))},w=()=>{d&&l.cancelAnimationFrame(d),c&&c.unobserve&&e.el&&(c.unobserve(e.el),c=null)},$=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof l.ResizeObserver<"u"){n();return}l.addEventListener("resize",m),l.addEventListener("orientationchange",$)}),t("destroy",()=>{w(),l.removeEventListener("resize",m),l.removeEventListener("orientationchange",$)})}function Oj({swiper:e,extendParams:t,on:s,emit:l}){const c=[],d=fc(),m=($,ee={})=>{const z=d.MutationObserver||d.WebkitMutationObserver,Y=new z(Q=>{if(e.__preventObserver__)return;if(Q.length===1){l("observerUpdate",Q[0]);return}const I=function(){l("observerUpdate",Q[0])};d.requestAnimationFrame?d.requestAnimationFrame(I):d.setTimeout(I,0)});Y.observe($,{attributes:typeof ee.attributes>"u"?!0:ee.attributes,childList:typeof ee.childList>"u"?!0:ee.childList,characterData:typeof ee.characterData>"u"?!0:ee.characterData}),c.push(Y)},n=()=>{if(e.params.observer){if(e.params.observeParents){const $=Mj(e.el);for(let ee=0;ee<$.length;ee+=1)m($[ee])}m(e.el,{childList:e.params.observeSlideChildren}),m(e.wrapperEl,{attributes:!1})}},w=()=>{c.forEach($=>{$.disconnect()}),c.splice(0,c.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",n),s("destroy",w)}const Rj={on(e,t,s){const l=this;if(!l.eventsListeners||l.destroyed||typeof t!="function")return l;const c=s?"unshift":"push";return e.split(" ").forEach(d=>{l.eventsListeners[d]||(l.eventsListeners[d]=[]),l.eventsListeners[d][c](t)}),l},once(e,t,s){const l=this;if(!l.eventsListeners||l.destroyed||typeof t!="function")return l;function c(...d){l.off(e,c),c.__emitterProxy&&delete c.__emitterProxy,t.apply(l,d)}return c.__emitterProxy=t,l.on(e,c,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const l=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[l](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed||!s.eventsListeners||e.split(" ").forEach(l=>{typeof t>"u"?s.eventsListeners[l]=[]:s.eventsListeners[l]&&s.eventsListeners[l].forEach((c,d)=>{(c===t||c.__emitterProxy&&c.__emitterProxy===t)&&s.eventsListeners[l].splice(d,1)})}),s},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let s,l,c;return typeof e[0]=="string"||Array.isArray(e[0])?(s=e[0],l=e.slice(1,e.length),c=t):(s=e[0].events,l=e[0].data,c=e[0].context||t),l.unshift(c),(Array.isArray(s)?s:s.split(" ")).forEach(m=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(n=>{n.apply(c,[m,...l])}),t.eventsListeners&&t.eventsListeners[m]&&t.eventsListeners[m].forEach(n=>{n.apply(c,l)})}),t}};function Bj(){const e=this;let t,s;const l=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=l.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?s=e.params.height:s=l.clientHeight,!(t===0&&e.isHorizontal()||s===0&&e.isVertical())&&(t=t-parseInt(Qu(l,"padding-left")||0,10)-parseInt(Qu(l,"padding-right")||0,10),s=s-parseInt(Qu(l,"padding-top")||0,10)-parseInt(Qu(l,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))}function zj(){const e=this;function t(X){return e.isHorizontal()?X:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[X]}function s(X,M){return parseFloat(X.getPropertyValue(t(M))||0)}const l=e.params,{wrapperEl:c,slidesEl:d,size:m,rtlTranslate:n,wrongRTL:w}=e,$=e.virtual&&l.virtual.enabled,ee=$?e.virtual.slides.length:e.slides.length,z=td(d,`.${e.params.slideClass}, swiper-slide`),Y=$?e.virtual.slides.length:z.length;let Q=[];const I=[],O=[];let H=l.slidesOffsetBefore;typeof H=="function"&&(H=l.slidesOffsetBefore.call(e));let A=l.slidesOffsetAfter;typeof A=="function"&&(A=l.slidesOffsetAfter.call(e));const E=e.snapGrid.length,P=e.slidesGrid.length;let G=l.spaceBetween,V=-H,C=0,ne=0;if(typeof m>"u")return;typeof G=="string"&&G.indexOf("%")>=0?G=parseFloat(G.replace("%",""))/100*m:typeof G=="string"&&(G=parseFloat(G)),e.virtualSize=-G,z.forEach(X=>{n?X.style.marginLeft="":X.style.marginRight="",X.style.marginBottom="",X.style.marginTop=""}),l.centeredSlides&&l.cssMode&&(jy(c,"--swiper-centered-offset-before",""),jy(c,"--swiper-centered-offset-after",""));const te=l.grid&&l.grid.rows>1&&e.grid;te&&e.grid.initSlides(Y);let F;const N=l.slidesPerView==="auto"&&l.breakpoints&&Object.keys(l.breakpoints).filter(X=>typeof l.breakpoints[X].slidesPerView<"u").length>0;for(let X=0;X<Y;X+=1){F=0;let M;if(z[X]&&(M=z[X]),te&&e.grid.updateSlide(X,M,Y,t),!(z[X]&&Qu(M,"display")==="none")){if(l.slidesPerView==="auto"){N&&(z[X].style[t("width")]="");const L=getComputedStyle(M),f=M.style.transform,y=M.style.webkitTransform;if(f&&(M.style.transform="none"),y&&(M.style.webkitTransform="none"),l.roundLengths)F=e.isHorizontal()?D5(M,"width",!0):D5(M,"height",!0);else{const b=s(L,"width"),S=s(L,"padding-left"),j=s(L,"padding-right"),J=s(L,"margin-left"),W=s(L,"margin-right"),re=L.getPropertyValue("box-sizing");if(re&&re==="border-box")F=b+J+W;else{const{clientWidth:ue,offsetWidth:ve}=M;F=b+S+j+J+W+(ve-ue)}}f&&(M.style.transform=f),y&&(M.style.webkitTransform=y),l.roundLengths&&(F=Math.floor(F))}else F=(m-(l.slidesPerView-1)*G)/l.slidesPerView,l.roundLengths&&(F=Math.floor(F)),z[X]&&(z[X].style[t("width")]=`${F}px`);z[X]&&(z[X].swiperSlideSize=F),O.push(F),l.centeredSlides?(V=V+F/2+C/2+G,C===0&&X!==0&&(V=V-m/2-G),X===0&&(V=V-m/2-G),Math.abs(V)<1/1e3&&(V=0),l.roundLengths&&(V=Math.floor(V)),ne%l.slidesPerGroup===0&&Q.push(V),I.push(V)):(l.roundLengths&&(V=Math.floor(V)),(ne-Math.min(e.params.slidesPerGroupSkip,ne))%e.params.slidesPerGroup===0&&Q.push(V),I.push(V),V=V+F+G),e.virtualSize+=F+G,C=F,ne+=1}}if(e.virtualSize=Math.max(e.virtualSize,m)+A,n&&w&&(l.effect==="slide"||l.effect==="coverflow")&&(c.style.width=`${e.virtualSize+G}px`),l.setWrapperSize&&(c.style[t("width")]=`${e.virtualSize+G}px`),te&&e.grid.updateWrapperSize(F,Q,t),!l.centeredSlides){const X=[];for(let M=0;M<Q.length;M+=1){let L=Q[M];l.roundLengths&&(L=Math.floor(L)),Q[M]<=e.virtualSize-m&&X.push(L)}Q=X,Math.floor(e.virtualSize-m)-Math.floor(Q[Q.length-1])>1&&Q.push(e.virtualSize-m)}if($&&l.loop){const X=O[0]+G;if(l.slidesPerGroup>1){const M=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/l.slidesPerGroup),L=X*l.slidesPerGroup;for(let f=0;f<M;f+=1)Q.push(Q[Q.length-1]+L)}for(let M=0;M<e.virtual.slidesBefore+e.virtual.slidesAfter;M+=1)l.slidesPerGroup===1&&Q.push(Q[Q.length-1]+X),I.push(I[I.length-1]+X),e.virtualSize+=X}if(Q.length===0&&(Q=[0]),G!==0){const X=e.isHorizontal()&&n?"marginLeft":t("marginRight");z.filter((M,L)=>!l.cssMode||l.loop?!0:L!==z.length-1).forEach(M=>{M.style[X]=`${G}px`})}if(l.centeredSlides&&l.centeredSlidesBounds){let X=0;O.forEach(L=>{X+=L+(G||0)}),X-=G;const M=X-m;Q=Q.map(L=>L<0?-H:L>M?M+A:L)}if(l.centerInsufficientSlides){let X=0;if(O.forEach(M=>{X+=M+(G||0)}),X-=G,X<m){const M=(m-X)/2;Q.forEach((L,f)=>{Q[f]=L-M}),I.forEach((L,f)=>{I[f]=L+M})}}if(Object.assign(e,{slides:z,snapGrid:Q,slidesGrid:I,slidesSizesGrid:O}),l.centeredSlides&&l.cssMode&&!l.centeredSlidesBounds){jy(c,"--swiper-centered-offset-before",`${-Q[0]}px`),jy(c,"--swiper-centered-offset-after",`${e.size/2-O[O.length-1]/2}px`);const X=-e.snapGrid[0],M=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(L=>L+X),e.slidesGrid=e.slidesGrid.map(L=>L+M)}if(Y!==ee&&e.emit("slidesLengthChange"),Q.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),I.length!==P&&e.emit("slidesGridLengthChange"),l.watchSlidesProgress&&e.updateSlidesOffset(),!$&&!l.cssMode&&(l.effect==="slide"||l.effect==="fade")){const X=`${l.containerModifierClass}backface-hidden`,M=e.el.classList.contains(X);Y<=l.maxBackfaceHiddenSlides?M||e.el.classList.add(X):M&&e.el.classList.remove(X)}}function Fj(e){const t=this,s=[],l=t.virtual&&t.params.virtual.enabled;let c=0,d;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const m=n=>l?t.slides[t.getSlideIndexByData(n)]:t.slides[n];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(n=>{s.push(n)});else for(d=0;d<Math.ceil(t.params.slidesPerView);d+=1){const n=t.activeIndex+d;if(n>t.slides.length&&!l)break;s.push(m(n))}else s.push(m(t.activeIndex));for(d=0;d<s.length;d+=1)if(typeof s[d]<"u"){const n=s[d].offsetHeight;c=n>c?n:c}(c||c===0)&&(t.wrapperEl.style.height=`${c}px`)}function Nj(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let l=0;l<t.length;l+=1)t[l].swiperSlideOffset=(e.isHorizontal()?t[l].offsetLeft:t[l].offsetTop)-s-e.cssOverflowAdjustment()}function jj(e=this&&this.translate||0){const t=this,s=t.params,{slides:l,rtlTranslate:c,snapGrid:d}=t;if(l.length===0)return;typeof l[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let m=-e;c&&(m=e),l.forEach(w=>{w.classList.remove(s.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let n=s.spaceBetween;typeof n=="string"&&n.indexOf("%")>=0?n=parseFloat(n.replace("%",""))/100*t.size:typeof n=="string"&&(n=parseFloat(n));for(let w=0;w<l.length;w+=1){const $=l[w];let ee=$.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(ee-=l[0].swiperSlideOffset);const z=(m+(s.centeredSlides?t.minTranslate():0)-ee)/($.swiperSlideSize+n),Y=(m-d[0]+(s.centeredSlides?t.minTranslate():0)-ee)/($.swiperSlideSize+n),Q=-(m-ee),I=Q+t.slidesSizesGrid[w];(Q>=0&&Q<t.size-1||I>1&&I<=t.size||Q<=0&&I>=t.size)&&(t.visibleSlides.push($),t.visibleSlidesIndexes.push(w),l[w].classList.add(s.slideVisibleClass)),$.progress=c?-z:z,$.originalProgress=c?-Y:Y}}function Uj(e){const t=this;if(typeof e>"u"){const ee=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*ee||0}const s=t.params,l=t.maxTranslate()-t.minTranslate();let{progress:c,isBeginning:d,isEnd:m,progressLoop:n}=t;const w=d,$=m;if(l===0)c=0,d=!0,m=!0;else{c=(e-t.minTranslate())/l;const ee=Math.abs(e-t.minTranslate())<1,z=Math.abs(e-t.maxTranslate())<1;d=ee||c<=0,m=z||c>=1,ee&&(c=0),z&&(c=1)}if(s.loop){const ee=t.getSlideIndexByData(0),z=t.getSlideIndexByData(t.slides.length-1),Y=t.slidesGrid[ee],Q=t.slidesGrid[z],I=t.slidesGrid[t.slidesGrid.length-1],O=Math.abs(e);O>=Y?n=(O-Y)/I:n=(O+I-Q)/I,n>1&&(n-=1)}Object.assign(t,{progress:c,progressLoop:n,isBeginning:d,isEnd:m}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),d&&!w&&t.emit("reachBeginning toEdge"),m&&!$&&t.emit("reachEnd toEdge"),(w&&!d||$&&!m)&&t.emit("fromEdge"),t.emit("progress",c)}function Gj(){const e=this,{slides:t,params:s,slidesEl:l,activeIndex:c}=e,d=e.virtual&&s.virtual.enabled,m=w=>td(l,`.${s.slideClass}${w}, swiper-slide${w}`)[0];t.forEach(w=>{w.classList.remove(s.slideActiveClass,s.slideNextClass,s.slidePrevClass)});let n;if(d)if(s.loop){let w=c-e.virtual.slidesBefore;w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),n=m(`[data-swiper-slide-index="${w}"]`)}else n=m(`[data-swiper-slide-index="${c}"]`);else n=t[c];if(n){n.classList.add(s.slideActiveClass);let w=Cj(n,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!w&&(w=t[0]),w&&w.classList.add(s.slideNextClass);let $=Ej(n,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!$===0&&($=t[t.length-1]),$&&$.classList.add(s.slidePrevClass)}e.emitSlidesClasses()}const ev=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,l=t.closest(s());if(l){const c=l.querySelector(`.${e.params.lazyPreloaderClass}`);c&&c.remove()}},I5=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},Yw=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const l=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),c=e.activeIndex,d=c+l-1;if(e.params.rewind)for(let m=c-t;m<=d+t;m+=1){const n=(m%s+s)%s;n!==c&&n>d&&I5(e,n)}else for(let m=Math.max(d-t,0);m<=Math.min(d+t,s-1);m+=1)m!==c&&m>d&&I5(e,m)};function Vj(e){const{slidesGrid:t,params:s}=e,l=e.rtlTranslate?e.translate:-e.translate;let c;for(let d=0;d<t.length;d+=1)typeof t[d+1]<"u"?l>=t[d]&&l<t[d+1]-(t[d+1]-t[d])/2?c=d:l>=t[d]&&l<t[d+1]&&(c=d+1):l>=t[d]&&(c=d);return s.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0),c}function $j(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:l,params:c,activeIndex:d,realIndex:m,snapIndex:n}=t;let w=e,$;const ee=Y=>{let Q=Y-t.virtual.slidesBefore;return Q<0&&(Q=t.virtual.slides.length+Q),Q>=t.virtual.slides.length&&(Q-=t.virtual.slides.length),Q};if(typeof w>"u"&&(w=Vj(t)),l.indexOf(s)>=0)$=l.indexOf(s);else{const Y=Math.min(c.slidesPerGroupSkip,w);$=Y+Math.floor((w-Y)/c.slidesPerGroup)}if($>=l.length&&($=l.length-1),w===d){$!==n&&(t.snapIndex=$,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=ee(w));return}let z;t.virtual&&c.virtual.enabled&&c.loop?z=ee(w):t.slides[w]?z=parseInt(t.slides[w].getAttribute("data-swiper-slide-index")||w,10):z=w,Object.assign(t,{previousSnapIndex:n,snapIndex:$,previousRealIndex:m,realIndex:z,previousIndex:d,activeIndex:w}),t.initialized&&Yw(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),m!==z&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function Hj(e){const t=this,s=t.params,l=e.closest(`.${s.slideClass}, swiper-slide`);let c=!1,d;if(l){for(let m=0;m<t.slides.length;m+=1)if(t.slides[m]===l){c=!0,d=m;break}}if(l&&c)t.clickedSlide=l,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(l.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const Wj={updateSize:Bj,updateSlides:zj,updateAutoHeight:Fj,updateSlidesOffset:Nj,updateSlidesProgress:jj,updateProgress:Uj,updateSlidesClasses:Gj,updateActiveIndex:$j,updateClickedSlide:Hj};function Xj(e=this.isHorizontal()?"x":"y"){const t=this,{params:s,rtlTranslate:l,translate:c,wrapperEl:d}=t;if(s.virtualTranslate)return l?-c:c;if(s.cssMode)return c;let m=Tj(d,e);return m+=t.cssOverflowAdjustment(),l&&(m=-m),m||0}function Yj(e,t){const s=this,{rtlTranslate:l,params:c,wrapperEl:d,progress:m}=s;let n=0,w=0;const $=0;s.isHorizontal()?n=l?-e:e:w=e,c.roundLengths&&(n=Math.floor(n),w=Math.floor(w)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?n:w,c.cssMode?d[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-n:-w:c.virtualTranslate||(s.isHorizontal()?n-=s.cssOverflowAdjustment():w-=s.cssOverflowAdjustment(),d.style.transform=`translate3d(${n}px, ${w}px, ${$}px)`);let ee;const z=s.maxTranslate()-s.minTranslate();z===0?ee=0:ee=(e-s.minTranslate())/z,ee!==m&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)}function qj(){return-this.snapGrid[0]}function Zj(){return-this.snapGrid[this.snapGrid.length-1]}function Kj(e=0,t=this.params.speed,s=!0,l=!0,c){const d=this,{params:m,wrapperEl:n}=d;if(d.animating&&m.preventInteractionOnTransition)return!1;const w=d.minTranslate(),$=d.maxTranslate();let ee;if(l&&e>w?ee=w:l&&e<$?ee=$:ee=e,d.updateProgress(ee),m.cssMode){const z=d.isHorizontal();if(t===0)n[z?"scrollLeft":"scrollTop"]=-ee;else{if(!d.support.smoothScroll)return RA({swiper:d,targetPosition:-ee,side:z?"left":"top"}),!0;n.scrollTo({[z?"left":"top"]:-ee,behavior:"smooth"})}return!0}return t===0?(d.setTransition(0),d.setTranslate(ee),s&&(d.emit("beforeTransitionStart",t,c),d.emit("transitionEnd"))):(d.setTransition(t),d.setTranslate(ee),s&&(d.emit("beforeTransitionStart",t,c),d.emit("transitionStart")),d.animating||(d.animating=!0,d.onTranslateToWrapperTransitionEnd||(d.onTranslateToWrapperTransitionEnd=function(Y){!d||d.destroyed||Y.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onTranslateToWrapperTransitionEnd),d.onTranslateToWrapperTransitionEnd=null,delete d.onTranslateToWrapperTransitionEnd,s&&d.emit("transitionEnd"))}),d.wrapperEl.addEventListener("transitionend",d.onTranslateToWrapperTransitionEnd))),!0}const Jj={getTranslate:Xj,setTranslate:Yj,minTranslate:qj,maxTranslate:Zj,translateTo:Kj};function Qj(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`),s.emit("setTransition",e,t)}function zA({swiper:e,runCallbacks:t,direction:s,step:l}){const{activeIndex:c,previousIndex:d}=e;let m=s;if(m||(c>d?m="next":c<d?m="prev":m="reset"),e.emit(`transition${l}`),t&&c!==d){if(m==="reset"){e.emit(`slideResetTransition${l}`);return}e.emit(`slideChangeTransition${l}`),m==="next"?e.emit(`slideNextTransition${l}`):e.emit(`slidePrevTransition${l}`)}}function eU(e=!0,t){const s=this,{params:l}=s;l.cssMode||(l.autoHeight&&s.updateAutoHeight(),zA({swiper:s,runCallbacks:e,direction:t,step:"Start"}))}function tU(e=!0,t){const s=this,{params:l}=s;s.animating=!1,!l.cssMode&&(s.setTransition(0),zA({swiper:s,runCallbacks:e,direction:t,step:"End"}))}const iU={setTransition:Qj,transitionStart:eU,transitionEnd:tU};function nU(e=0,t=this.params.speed,s=!0,l,c){typeof e=="string"&&(e=parseInt(e,10));const d=this;let m=e;m<0&&(m=0);const{params:n,snapGrid:w,slidesGrid:$,previousIndex:ee,activeIndex:z,rtlTranslate:Y,wrapperEl:Q,enabled:I}=d;if(d.animating&&n.preventInteractionOnTransition||!I&&!l&&!c)return!1;const O=Math.min(d.params.slidesPerGroupSkip,m);let H=O+Math.floor((m-O)/d.params.slidesPerGroup);H>=w.length&&(H=w.length-1);const A=-w[H];if(n.normalizeSlideIndex)for(let P=0;P<$.length;P+=1){const G=-Math.floor(A*100),V=Math.floor($[P]*100),C=Math.floor($[P+1]*100);typeof $[P+1]<"u"?G>=V&&G<C-(C-V)/2?m=P:G>=V&&G<C&&(m=P+1):G>=V&&(m=P)}if(d.initialized&&m!==z&&(!d.allowSlideNext&&A<d.translate&&A<d.minTranslate()||!d.allowSlidePrev&&A>d.translate&&A>d.maxTranslate()&&(z||0)!==m))return!1;m!==(ee||0)&&s&&d.emit("beforeSlideChangeStart"),d.updateProgress(A);let E;if(m>z?E="next":m<z?E="prev":E="reset",Y&&-A===d.translate||!Y&&A===d.translate)return d.updateActiveIndex(m),n.autoHeight&&d.updateAutoHeight(),d.updateSlidesClasses(),n.effect!=="slide"&&d.setTranslate(A),E!=="reset"&&(d.transitionStart(s,E),d.transitionEnd(s,E)),!1;if(n.cssMode){const P=d.isHorizontal(),G=Y?A:-A;if(t===0){const V=d.virtual&&d.params.virtual.enabled;V&&(d.wrapperEl.style.scrollSnapType="none",d._immediateVirtual=!0),V&&!d._cssModeVirtualInitialSet&&d.params.initialSlide>0?(d._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{Q[P?"scrollLeft":"scrollTop"]=G})):Q[P?"scrollLeft":"scrollTop"]=G,V&&requestAnimationFrame(()=>{d.wrapperEl.style.scrollSnapType="",d._immediateVirtual=!1})}else{if(!d.support.smoothScroll)return RA({swiper:d,targetPosition:G,side:P?"left":"top"}),!0;Q.scrollTo({[P?"left":"top"]:G,behavior:"smooth"})}return!0}return d.setTransition(t),d.setTranslate(A),d.updateActiveIndex(m),d.updateSlidesClasses(),d.emit("beforeTransitionStart",t,l),d.transitionStart(s,E),t===0?d.transitionEnd(s,E):d.animating||(d.animating=!0,d.onSlideToWrapperTransitionEnd||(d.onSlideToWrapperTransitionEnd=function(G){!d||d.destroyed||G.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onSlideToWrapperTransitionEnd),d.onSlideToWrapperTransitionEnd=null,delete d.onSlideToWrapperTransitionEnd,d.transitionEnd(s,E))}),d.wrapperEl.addEventListener("transitionend",d.onSlideToWrapperTransitionEnd)),!0}function sU(e=0,t=this.params.speed,s=!0,l){typeof e=="string"&&(e=parseInt(e,10));const c=this;let d=e;return c.params.loop&&(c.virtual&&c.params.virtual.enabled?d=d+c.virtual.slidesBefore:d=c.getSlideIndexByData(d)),c.slideTo(d,t,s,l)}function rU(e=this.params.speed,t=!0,s){const l=this,{enabled:c,params:d,animating:m}=l;if(!c)return l;let n=d.slidesPerGroup;d.slidesPerView==="auto"&&d.slidesPerGroup===1&&d.slidesPerGroupAuto&&(n=Math.max(l.slidesPerViewDynamic("current",!0),1));const w=l.activeIndex<d.slidesPerGroupSkip?1:n,$=l.virtual&&d.virtual.enabled;if(d.loop){if(m&&!$&&d.loopPreventsSliding)return!1;l.loopFix({direction:"next"}),l._clientLeft=l.wrapperEl.clientLeft}return d.rewind&&l.isEnd?l.slideTo(0,e,t,s):l.slideTo(l.activeIndex+w,e,t,s)}function oU(e=this.params.speed,t=!0,s){const l=this,{params:c,snapGrid:d,slidesGrid:m,rtlTranslate:n,enabled:w,animating:$}=l;if(!w)return l;const ee=l.virtual&&c.virtual.enabled;if(c.loop){if($&&!ee&&c.loopPreventsSliding)return!1;l.loopFix({direction:"prev"}),l._clientLeft=l.wrapperEl.clientLeft}const z=n?l.translate:-l.translate;function Y(A){return A<0?-Math.floor(Math.abs(A)):Math.floor(A)}const Q=Y(z),I=d.map(A=>Y(A));let O=d[I.indexOf(Q)-1];if(typeof O>"u"&&c.cssMode){let A;d.forEach((E,P)=>{Q>=E&&(A=P)}),typeof A<"u"&&(O=d[A>0?A-1:A])}let H=0;if(typeof O<"u"&&(H=m.indexOf(O),H<0&&(H=l.activeIndex-1),c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(H=H-l.slidesPerViewDynamic("previous",!0)+1,H=Math.max(H,0))),c.rewind&&l.isBeginning){const A=l.params.virtual&&l.params.virtual.enabled&&l.virtual?l.virtual.slides.length-1:l.slides.length-1;return l.slideTo(A,e,t,s)}return l.slideTo(H,e,t,s)}function aU(e=this.params.speed,t=!0,s){const l=this;return l.slideTo(l.activeIndex,e,t,s)}function lU(e=this.params.speed,t=!0,s,l=.5){const c=this;let d=c.activeIndex;const m=Math.min(c.params.slidesPerGroupSkip,d),n=m+Math.floor((d-m)/c.params.slidesPerGroup),w=c.rtlTranslate?c.translate:-c.translate;if(w>=c.snapGrid[n]){const $=c.snapGrid[n],ee=c.snapGrid[n+1];w-$>(ee-$)*l&&(d+=c.params.slidesPerGroup)}else{const $=c.snapGrid[n-1],ee=c.snapGrid[n];w-$<=(ee-$)*l&&(d-=c.params.slidesPerGroup)}return d=Math.max(d,0),d=Math.min(d,c.slidesGrid.length-1),c.slideTo(d,e,t,s)}function cU(){const e=this,{params:t,slidesEl:s}=e,l=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let c=e.clickedIndex,d;const m=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;d=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?c<e.loopedSlides-l/2||c>e.slides.length-e.loopedSlides+l/2?(e.loopFix(),c=e.getSlideIndex(td(s,`${m}[data-swiper-slide-index="${d}"]`)[0]),Ww(()=>{e.slideTo(c)})):e.slideTo(c):c>e.slides.length-l?(e.loopFix(),c=e.getSlideIndex(td(s,`${m}[data-swiper-slide-index="${d}"]`)[0]),Ww(()=>{e.slideTo(c)})):e.slideTo(c)}else e.slideTo(c)}const hU={slideTo:nU,slideToLoop:sU,slideNext:rU,slidePrev:oU,slideReset:aU,slideToClosest:lU,slideToClickedSlide:cU};function dU(e){const t=this,{params:s,slidesEl:l}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;td(l,`.${s.slideClass}, swiper-slide`).forEach((d,m)=>{d.setAttribute("data-swiper-slide-index",m)}),t.loopFix({slideRealIndex:e,direction:s.centeredSlides?void 0:"next"})}function uU({slideRealIndex:e,slideTo:t=!0,direction:s,setTranslate:l,activeSlideIndex:c,byController:d,byMousewheel:m}={}){const n=this;if(!n.params.loop)return;n.emit("beforeLoopFix");const{slides:w,allowSlidePrev:$,allowSlideNext:ee,slidesEl:z,params:Y}=n;if(n.allowSlidePrev=!0,n.allowSlideNext=!0,n.virtual&&Y.virtual.enabled){t&&(!Y.centeredSlides&&n.snapIndex===0?n.slideTo(n.virtual.slides.length,0,!1,!0):Y.centeredSlides&&n.snapIndex<Y.slidesPerView?n.slideTo(n.virtual.slides.length+n.snapIndex,0,!1,!0):n.snapIndex===n.snapGrid.length-1&&n.slideTo(n.virtual.slidesBefore,0,!1,!0)),n.allowSlidePrev=$,n.allowSlideNext=ee,n.emit("loopFix");return}const Q=Y.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(Y.slidesPerView,10));let I=Y.loopedSlides||Q;I%Y.slidesPerGroup!==0&&(I+=Y.slidesPerGroup-I%Y.slidesPerGroup),n.loopedSlides=I;const O=[],H=[];let A=n.activeIndex;typeof c>"u"?c=n.getSlideIndex(n.slides.filter(C=>C.classList.contains(Y.slideActiveClass))[0]):A=c;const E=s==="next"||!s,P=s==="prev"||!s;let G=0,V=0;if(c<I){G=Math.max(I-c,Y.slidesPerGroup);for(let C=0;C<I-c;C+=1){const ne=C-Math.floor(C/w.length)*w.length;O.push(w.length-ne-1)}}else if(c>n.slides.length-I*2){V=Math.max(c-(n.slides.length-I*2),Y.slidesPerGroup);for(let C=0;C<V;C+=1){const ne=C-Math.floor(C/w.length)*w.length;H.push(ne)}}if(P&&O.forEach(C=>{n.slides[C].swiperLoopMoveDOM=!0,z.prepend(n.slides[C]),n.slides[C].swiperLoopMoveDOM=!1}),E&&H.forEach(C=>{n.slides[C].swiperLoopMoveDOM=!0,z.append(n.slides[C]),n.slides[C].swiperLoopMoveDOM=!1}),n.recalcSlides(),Y.slidesPerView==="auto"&&n.updateSlides(),Y.watchSlidesProgress&&n.updateSlidesOffset(),t){if(O.length>0&&P)if(typeof e>"u"){const C=n.slidesGrid[A],te=n.slidesGrid[A+G]-C;m?n.setTranslate(n.translate-te):(n.slideTo(A+G,0,!1,!0),l&&(n.touches[n.isHorizontal()?"startX":"startY"]+=te))}else l&&n.slideToLoop(e,0,!1,!0);else if(H.length>0&&E)if(typeof e>"u"){const C=n.slidesGrid[A],te=n.slidesGrid[A-V]-C;m?n.setTranslate(n.translate-te):(n.slideTo(A-V,0,!1,!0),l&&(n.touches[n.isHorizontal()?"startX":"startY"]+=te))}else n.slideToLoop(e,0,!1,!0)}if(n.allowSlidePrev=$,n.allowSlideNext=ee,n.controller&&n.controller.control&&!d){const C={slideRealIndex:e,slideTo:!1,direction:s,setTranslate:l,activeSlideIndex:c,byController:!0};Array.isArray(n.controller.control)?n.controller.control.forEach(ne=>{!ne.destroyed&&ne.params.loop&&ne.loopFix(C)}):n.controller.control instanceof n.constructor&&n.controller.control.params.loop&&n.controller.control.loopFix(C)}n.emit("loopFix")}function pU(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const l=[];e.slides.forEach(c=>{const d=typeof c.swiperSlideIndex>"u"?c.getAttribute("data-swiper-slide-index")*1:c.swiperSlideIndex;l[d]=c}),e.slides.forEach(c=>{c.removeAttribute("data-swiper-slide-index")}),l.forEach(c=>{s.append(c)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const fU={loopCreate:dU,loopFix:uU,loopDestroy:pU};function mU(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function gU(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const _U={setGrabCursor:mU,unsetGrabCursor:gU};function yU(e,t=this){function s(l){if(!l||l===Wf()||l===fc())return null;l.assignedSlot&&(l=l.assignedSlot);const c=l.closest(e);return!c&&!l.getRootNode?null:c||s(l.getRootNode().host)}return s(t)}function vU(e){const t=this,s=Wf(),l=fc(),c=t.touchEventsData;c.evCache.push(e);const{params:d,touches:m,enabled:n}=t;if(!n||!d.simulateTouch&&e.pointerType==="mouse"||t.animating&&d.preventInteractionOnTransition)return;!t.animating&&d.cssMode&&d.loop&&t.loopFix();let w=e;w.originalEvent&&(w=w.originalEvent);let $=w.target;if(d.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains($)||"which"in w&&w.which===3||"button"in w&&w.button>0||c.isTouched&&c.isMoved)return;const ee=!!d.noSwipingClass&&d.noSwipingClass!=="",z=e.composedPath?e.composedPath():e.path;ee&&w.target&&w.target.shadowRoot&&z&&($=z[0]);const Y=d.noSwipingSelector?d.noSwipingSelector:`.${d.noSwipingClass}`,Q=!!(w.target&&w.target.shadowRoot);if(d.noSwiping&&(Q?yU(Y,$):$.closest(Y))){t.allowClick=!0;return}if(d.swipeHandler&&!$.closest(d.swipeHandler))return;m.currentX=w.pageX,m.currentY=w.pageY;const I=m.currentX,O=m.currentY,H=d.edgeSwipeDetection||d.iOSEdgeSwipeDetection,A=d.edgeSwipeThreshold||d.iOSEdgeSwipeThreshold;if(H&&(I<=A||I>=l.innerWidth-A))if(H==="prevent")e.preventDefault();else return;Object.assign(c,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),m.startX=I,m.startY=O,c.touchStartTime=Iv(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,d.threshold>0&&(c.allowThresholdMove=!1);let E=!0;$.matches(c.focusableElements)&&(E=!1,$.nodeName==="SELECT"&&(c.isTouched=!1)),s.activeElement&&s.activeElement.matches(c.focusableElements)&&s.activeElement!==$&&s.activeElement.blur();const P=E&&t.allowTouchMove&&d.touchStartPreventDefault;(d.touchStartForcePreventDefault||P)&&!$.isContentEditable&&w.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!d.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",w)}function xU(e){const t=Wf(),s=this,l=s.touchEventsData,{params:c,touches:d,rtlTranslate:m,enabled:n}=s;if(!n||!c.simulateTouch&&e.pointerType==="mouse")return;let w=e;if(w.originalEvent&&(w=w.originalEvent),!l.isTouched){l.startMoving&&l.isScrolling&&s.emit("touchMoveOpposite",w);return}const $=l.evCache.findIndex(C=>C.pointerId===w.pointerId);$>=0&&(l.evCache[$]=w);const ee=l.evCache.length>1?l.evCache[0]:w,z=ee.pageX,Y=ee.pageY;if(w.preventedByNestedSwiper){d.startX=z,d.startY=Y;return}if(!s.allowTouchMove){w.target.matches(l.focusableElements)||(s.allowClick=!1),l.isTouched&&(Object.assign(d,{startX:z,startY:Y,prevX:s.touches.currentX,prevY:s.touches.currentY,currentX:z,currentY:Y}),l.touchStartTime=Iv());return}if(c.touchReleaseOnEdges&&!c.loop){if(s.isVertical()){if(Y<d.startY&&s.translate<=s.maxTranslate()||Y>d.startY&&s.translate>=s.minTranslate()){l.isTouched=!1,l.isMoved=!1;return}}else if(z<d.startX&&s.translate<=s.maxTranslate()||z>d.startX&&s.translate>=s.minTranslate())return}if(t.activeElement&&w.target===t.activeElement&&w.target.matches(l.focusableElements)){l.isMoved=!0,s.allowClick=!1;return}if(l.allowTouchCallbacks&&s.emit("touchMove",w),w.targetTouches&&w.targetTouches.length>1)return;d.currentX=z,d.currentY=Y;const Q=d.currentX-d.startX,I=d.currentY-d.startY;if(s.params.threshold&&Math.sqrt(Q**2+I**2)<s.params.threshold)return;if(typeof l.isScrolling>"u"){let C;s.isHorizontal()&&d.currentY===d.startY||s.isVertical()&&d.currentX===d.startX?l.isScrolling=!1:Q*Q+I*I>=25&&(C=Math.atan2(Math.abs(I),Math.abs(Q))*180/Math.PI,l.isScrolling=s.isHorizontal()?C>c.touchAngle:90-C>c.touchAngle)}if(l.isScrolling&&s.emit("touchMoveOpposite",w),typeof l.startMoving>"u"&&(d.currentX!==d.startX||d.currentY!==d.startY)&&(l.startMoving=!0),l.isScrolling||s.zoom&&s.params.zoom&&s.params.zoom.enabled&&l.evCache.length>1){l.isTouched=!1;return}if(!l.startMoving)return;s.allowClick=!1,!c.cssMode&&w.cancelable&&w.preventDefault(),c.touchMoveStopPropagation&&!c.nested&&w.stopPropagation();let O=s.isHorizontal()?Q:I,H=s.isHorizontal()?d.currentX-d.previousX:d.currentY-d.previousY;c.oneWayMovement&&(O=Math.abs(O)*(m?1:-1),H=Math.abs(H)*(m?1:-1)),d.diff=O,O*=c.touchRatio,m&&(O=-O,H=-H);const A=s.touchesDirection;s.swipeDirection=O>0?"prev":"next",s.touchesDirection=H>0?"prev":"next";const E=s.params.loop&&!c.cssMode;if(!l.isMoved){if(E&&s.loopFix({direction:s.swipeDirection}),l.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(C)}l.allowMomentumBounce=!1,c.grabCursor&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!0),s.emit("sliderFirstMove",w)}let P;l.isMoved&&A!==s.touchesDirection&&E&&Math.abs(O)>=1&&(s.loopFix({direction:s.swipeDirection,setTranslate:!0}),P=!0),s.emit("sliderMove",w),l.isMoved=!0,l.currentTranslate=O+l.startTranslate;let G=!0,V=c.resistanceRatio;if(c.touchReleaseOnEdges&&(V=0),O>0?(E&&!P&&l.currentTranslate>(c.centeredSlides?s.minTranslate()-s.size/2:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),l.currentTranslate>s.minTranslate()&&(G=!1,c.resistance&&(l.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+l.startTranslate+O)**V))):O<0&&(E&&!P&&l.currentTranslate<(c.centeredSlides?s.maxTranslate()+s.size/2:s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-(c.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(c.slidesPerView,10)))}),l.currentTranslate<s.maxTranslate()&&(G=!1,c.resistance&&(l.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-l.startTranslate-O)**V))),G&&(w.preventedByNestedSwiper=!0),!s.allowSlideNext&&s.swipeDirection==="next"&&l.currentTranslate<l.startTranslate&&(l.currentTranslate=l.startTranslate),!s.allowSlidePrev&&s.swipeDirection==="prev"&&l.currentTranslate>l.startTranslate&&(l.currentTranslate=l.startTranslate),!s.allowSlidePrev&&!s.allowSlideNext&&(l.currentTranslate=l.startTranslate),c.threshold>0)if(Math.abs(O)>c.threshold||l.allowThresholdMove){if(!l.allowThresholdMove){l.allowThresholdMove=!0,d.startX=d.currentX,d.startY=d.currentY,l.currentTranslate=l.startTranslate,d.diff=s.isHorizontal()?d.currentX-d.startX:d.currentY-d.startY;return}}else{l.currentTranslate=l.startTranslate;return}!c.followFinger||c.cssMode||((c.freeMode&&c.freeMode.enabled&&s.freeMode||c.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&c.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(l.currentTranslate),s.setTranslate(l.currentTranslate))}function bU(e){const t=this,s=t.touchEventsData,l=s.evCache.findIndex(P=>P.pointerId===e.pointerId);if(l>=0&&s.evCache.splice(l,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:c,touches:d,rtlTranslate:m,slidesGrid:n,enabled:w}=t;if(!w||!c.simulateTouch&&e.pointerType==="mouse")return;let $=e;if($.originalEvent&&($=$.originalEvent),s.allowTouchCallbacks&&t.emit("touchEnd",$),s.allowTouchCallbacks=!1,!s.isTouched){s.isMoved&&c.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,s.startMoving=!1;return}c.grabCursor&&s.isMoved&&s.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const ee=Iv(),z=ee-s.touchStartTime;if(t.allowClick){const P=$.path||$.composedPath&&$.composedPath();t.updateClickedSlide(P&&P[0]||$.target),t.emit("tap click",$),z<300&&ee-s.lastClickTime<300&&t.emit("doubleTap doubleClick",$)}if(s.lastClickTime=Iv(),Ww(()=>{t.destroyed||(t.allowClick=!0)}),!s.isTouched||!s.isMoved||!t.swipeDirection||d.diff===0||s.currentTranslate===s.startTranslate){s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;return}s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;let Y;if(c.followFinger?Y=m?t.translate:-t.translate:Y=-s.currentTranslate,c.cssMode)return;if(t.params.freeMode&&c.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:Y});return}let Q=0,I=t.slidesSizesGrid[0];for(let P=0;P<n.length;P+=P<c.slidesPerGroupSkip?1:c.slidesPerGroup){const G=P<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof n[P+G]<"u"?Y>=n[P]&&Y<n[P+G]&&(Q=P,I=n[P+G]-n[P]):Y>=n[P]&&(Q=P,I=n[n.length-1]-n[n.length-2])}let O=null,H=null;c.rewind&&(t.isBeginning?H=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(O=0));const A=(Y-n[Q])/I,E=Q<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(z>c.longSwipesMs){if(!c.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(A>=c.longSwipesRatio?t.slideTo(c.rewind&&t.isEnd?O:Q+E):t.slideTo(Q)),t.swipeDirection==="prev"&&(A>1-c.longSwipesRatio?t.slideTo(Q+E):H!==null&&A<0&&Math.abs(A)>c.longSwipesRatio?t.slideTo(H):t.slideTo(Q))}else{if(!c.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&($.target===t.navigation.nextEl||$.target===t.navigation.prevEl)?$.target===t.navigation.nextEl?t.slideTo(Q+E):t.slideTo(Q):(t.swipeDirection==="next"&&t.slideTo(O!==null?O:Q+E),t.swipeDirection==="prev"&&t.slideTo(H!==null?H:Q))}}function L5(){const e=this,{params:t,el:s}=e;if(s&&s.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:l,allowSlidePrev:c,snapGrid:d}=e,m=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const n=m&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!n?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!m?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=c,e.allowSlideNext=l,e.params.watchOverflow&&d!==e.snapGrid&&e.checkOverflow()}function wU(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function TU(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:l}=e;if(!l)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let c;const d=e.maxTranslate()-e.minTranslate();d===0?c=0:c=(e.translate-e.minTranslate())/d,c!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function SU(e){const t=this;ev(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let O5=!1;function EU(){}const FA=(e,t)=>{const s=Wf(),{params:l,el:c,wrapperEl:d,device:m}=e,n=!!l.nested,w=t==="on"?"addEventListener":"removeEventListener",$=t;c[w]("pointerdown",e.onTouchStart,{passive:!1}),s[w]("pointermove",e.onTouchMove,{passive:!1,capture:n}),s[w]("pointerup",e.onTouchEnd,{passive:!0}),s[w]("pointercancel",e.onTouchEnd,{passive:!0}),s[w]("pointerout",e.onTouchEnd,{passive:!0}),s[w]("pointerleave",e.onTouchEnd,{passive:!0}),(l.preventClicks||l.preventClicksPropagation)&&c[w]("click",e.onClick,!0),l.cssMode&&d[w]("scroll",e.onScroll),l.updateOnWindowResize?e[$](m.ios||m.android?"resize orientationchange observerUpdate":"resize observerUpdate",L5,!0):e[$]("observerUpdate",L5,!0),c[w]("load",e.onLoad,{capture:!0})};function CU(){const e=this,t=Wf(),{params:s}=e;e.onTouchStart=vU.bind(e),e.onTouchMove=xU.bind(e),e.onTouchEnd=bU.bind(e),s.cssMode&&(e.onScroll=TU.bind(e)),e.onClick=wU.bind(e),e.onLoad=SU.bind(e),O5||(t.addEventListener("touchstart",EU),O5=!0),FA(e,"on")}function MU(){FA(this,"off")}const AU={attachEvents:CU,detachEvents:MU},R5=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function kU(){const e=this,{realIndex:t,initialized:s,params:l,el:c}=e,d=l.breakpoints;if(!d||d&&Object.keys(d).length===0)return;const m=e.getBreakpoint(d,e.params.breakpointsBase,e.el);if(!m||e.currentBreakpoint===m)return;const w=(m in d?d[m]:void 0)||e.originalParams,$=R5(e,l),ee=R5(e,w),z=l.enabled;$&&!ee?(c.classList.remove(`${l.containerModifierClass}grid`,`${l.containerModifierClass}grid-column`),e.emitContainerClasses()):!$&&ee&&(c.classList.add(`${l.containerModifierClass}grid`),(w.grid.fill&&w.grid.fill==="column"||!w.grid.fill&&l.grid.fill==="column")&&c.classList.add(`${l.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(O=>{const H=l[O]&&l[O].enabled,A=w[O]&&w[O].enabled;H&&!A&&e[O].disable(),!H&&A&&e[O].enable()});const Y=w.direction&&w.direction!==l.direction,Q=l.loop&&(w.slidesPerView!==l.slidesPerView||Y);Y&&s&&e.changeDirection(),oc(e.params,w);const I=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),z&&!I?e.disable():!z&&I&&e.enable(),e.currentBreakpoint=m,e.emit("_beforeBreakpoint",w),Q&&s&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",w)}function PU(e,t="window",s){if(!e||t==="container"&&!s)return;let l=!1;const c=fc(),d=t==="window"?c.innerHeight:s.clientHeight,m=Object.keys(e).map(n=>{if(typeof n=="string"&&n.indexOf("@")===0){const w=parseFloat(n.substr(1));return{value:d*w,point:n}}return{value:n,point:n}});m.sort((n,w)=>parseInt(n.value,10)-parseInt(w.value,10));for(let n=0;n<m.length;n+=1){const{point:w,value:$}=m[n];t==="window"?c.matchMedia(`(min-width: ${$}px)`).matches&&(l=w):$<=s.clientWidth&&(l=w)}return l||"max"}const DU={setBreakpoint:kU,getBreakpoint:PU};function IU(e,t){const s=[];return e.forEach(l=>{typeof l=="object"?Object.keys(l).forEach(c=>{l[c]&&s.push(t+c)}):typeof l=="string"&&s.push(t+l)}),s}function LU(){const e=this,{classNames:t,params:s,rtl:l,el:c,device:d}=e,m=IU(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:l},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&s.grid.fill==="column"},{android:d.android},{ios:d.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...m),c.classList.add(...t),e.emitContainerClasses()}function OU(){const e=this,{el:t,classNames:s}=e;t.classList.remove(...s),e.emitContainerClasses()}const RU={addClasses:LU,removeClasses:OU};function BU(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:l}=s;if(l){const c=e.slides.length-1,d=e.slidesGrid[c]+e.slidesSizesGrid[c]+l*2;e.isLocked=e.size>d}else e.isLocked=e.snapGrid.length===1;s.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),s.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const zU={checkOverflow:BU},B5={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function FU(e,t){return function(l={}){const c=Object.keys(l)[0],d=l[c];if(typeof d!="object"||d===null){oc(t,l);return}if(["navigation","pagination","scrollbar"].indexOf(c)>=0&&e[c]===!0&&(e[c]={auto:!0}),!(c in e&&"enabled"in d)){oc(t,l);return}e[c]===!0&&(e[c]={enabled:!0}),typeof e[c]=="object"&&!("enabled"in e[c])&&(e[c].enabled=!0),e[c]||(e[c]={enabled:!1}),oc(t,l)}}const Zb={eventsEmitter:Rj,update:Wj,translate:Jj,transition:iU,slide:hU,loop:fU,grabCursor:_U,events:AU,breakpoints:DU,checkOverflow:zU,classes:RU},Kb={};let rc=class{constructor(...t){let s,l;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?l=t[0]:[s,l]=t,l||(l={}),l=oc({},l),s&&!l.el&&(l.el=s);const c=Wf();if(l.el&&typeof l.el=="string"&&c.querySelectorAll(l.el).length>1){const w=[];return c.querySelectorAll(l.el).forEach($=>{const ee=oc({},l,{el:$});w.push(new rc(ee))}),w}const d=this;d.__swiper__=!0,d.support=BA(),d.device=Pj({userAgent:l.userAgent}),d.browser=Ij(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],l.modules&&Array.isArray(l.modules)&&d.modules.push(...l.modules);const m={};d.modules.forEach(w=>{w({params:l,swiper:d,extendParams:FU(l,m),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const n=oc({},B5,m);return d.params=oc({},n,Kb,l),d.originalParams=oc({},d.params),d.passedParams=oc({},l),d.params&&d.params.on&&Object.keys(d.params.on).forEach(w=>{d.on(w,d.params.on[w])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:s,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getSlideIndex(t){const{slidesEl:s,params:l}=this,c=td(s,`.${l.slideClass}, swiper-slide`),d=Xw(c[0]);return Xw(t)-d}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(s=>s.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:s,params:l}=t;t.slides=td(s,`.${l.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,s){const l=this;t=Math.min(Math.max(t,0),1);const c=l.minTranslate(),m=(l.maxTranslate()-c)*t+c;l.translateTo(m,typeof s>"u"?0:s),l.updateActiveIndex(),l.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const s=t.el.className.split(" ").filter(l=>l.indexOf("swiper")===0||l.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",s.join(" "))}getSlideClasses(t){const s=this;return s.destroyed?"":t.className.split(" ").filter(l=>l.indexOf("swiper-slide")===0||l.indexOf(s.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const s=[];t.slides.forEach(l=>{const c=t.getSlideClasses(l);s.push({slideEl:l,classNames:c}),t.emit("_slideClass",l,c)}),t.emit("_slideClasses",s)}slidesPerViewDynamic(t="current",s=!1){const l=this,{params:c,slides:d,slidesGrid:m,slidesSizesGrid:n,size:w,activeIndex:$}=l;let ee=1;if(c.centeredSlides){let z=d[$].swiperSlideSize,Y;for(let Q=$+1;Q<d.length;Q+=1)d[Q]&&!Y&&(z+=d[Q].swiperSlideSize,ee+=1,z>w&&(Y=!0));for(let Q=$-1;Q>=0;Q-=1)d[Q]&&!Y&&(z+=d[Q].swiperSlideSize,ee+=1,z>w&&(Y=!0))}else if(t==="current")for(let z=$+1;z<d.length;z+=1)(s?m[z]+n[z]-m[$]<w:m[z]-m[$]<w)&&(ee+=1);else for(let z=$-1;z>=0;z-=1)m[$]-m[z]<w&&(ee+=1);return ee}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:s,params:l}=t;l.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(m=>{m.complete&&ev(t,m)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function c(){const m=t.rtlTranslate?t.translate*-1:t.translate,n=Math.min(Math.max(m,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}let d;if(t.params.freeMode&&t.params.freeMode.enabled)c(),t.params.autoHeight&&t.updateAutoHeight();else{if((t.params.slidesPerView==="auto"||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides){const m=t.virtual&&t.params.virtual.enabled?t.virtual.slides:t.slides;d=t.slideTo(m.length-1,0,!1,!0)}else d=t.slideTo(t.activeIndex,0,!1,!0);d||c()}l.watchOverflow&&s!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,s=!0){const l=this,c=l.params.direction;return t||(t=c==="horizontal"?"vertical":"horizontal"),t===c||t!=="horizontal"&&t!=="vertical"||(l.el.classList.remove(`${l.params.containerModifierClass}${c}`),l.el.classList.add(`${l.params.containerModifierClass}${t}`),l.emitContainerClasses(),l.params.direction=t,l.slides.forEach(d=>{t==="vertical"?d.style.width="":d.style.height=""}),l.emit("changeDirection"),s&&l.update()),l}changeLanguageDirection(t){const s=this;s.rtl&&t==="rtl"||!s.rtl&&t==="ltr"||(s.rtl=t==="rtl",s.rtlTranslate=s.params.direction==="horizontal"&&s.rtl,s.rtl?(s.el.classList.add(`${s.params.containerModifierClass}rtl`),s.el.dir="rtl"):(s.el.classList.remove(`${s.params.containerModifierClass}rtl`),s.el.dir="ltr"),s.update())}mount(t){const s=this;if(s.mounted)return!0;let l=t||s.params.el;if(typeof l=="string"&&(l=document.querySelector(l)),!l)return!1;l.swiper=s,l.shadowEl&&(s.isElement=!0);const c=()=>`.${(s.params.wrapperClass||"").trim().split(" ").join(".")}`;let m=(()=>l&&l.shadowRoot&&l.shadowRoot.querySelector?l.shadowRoot.querySelector(c()):td(l,c())[0])();return!m&&s.params.createElements&&(m=FT("div",s.params.wrapperClass),l.append(m),td(l,`.${s.params.slideClass}`).forEach(n=>{m.append(n)})),Object.assign(s,{el:l,wrapperEl:m,slidesEl:s.isElement?l:m,mounted:!0,rtl:l.dir.toLowerCase()==="rtl"||Qu(l,"direction")==="rtl",rtlTranslate:s.params.direction==="horizontal"&&(l.dir.toLowerCase()==="rtl"||Qu(l,"direction")==="rtl"),wrongRTL:Qu(m,"display")==="-webkit-box"}),!0}init(t){const s=this;return s.initialized||s.mount(t)===!1||(s.emit("beforeInit"),s.params.breakpoints&&s.setBreakpoint(),s.addClasses(),s.updateSize(),s.updateSlides(),s.params.watchOverflow&&s.checkOverflow(),s.params.grabCursor&&s.enabled&&s.setGrabCursor(),s.params.loop&&s.virtual&&s.params.virtual.enabled?s.slideTo(s.params.initialSlide+s.virtual.slidesBefore,0,s.params.runCallbacksOnInit,!1,!0):s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit,!1,!0),s.params.loop&&s.loopCreate(),s.attachEvents(),[...s.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete?ev(s,c):c.addEventListener("load",d=>{ev(s,d.target)})}),Yw(s),s.initialized=!0,Yw(s),s.emit("init"),s.emit("afterInit")),s}destroy(t=!0,s=!0){const l=this,{params:c,el:d,wrapperEl:m,slides:n}=l;return typeof l.params>"u"||l.destroyed||(l.emit("beforeDestroy"),l.initialized=!1,l.detachEvents(),c.loop&&l.loopDestroy(),s&&(l.removeClasses(),d.removeAttribute("style"),m.removeAttribute("style"),n&&n.length&&n.forEach(w=>{w.classList.remove(c.slideVisibleClass,c.slideActiveClass,c.slideNextClass,c.slidePrevClass),w.removeAttribute("style"),w.removeAttribute("data-swiper-slide-index")})),l.emit("destroy"),Object.keys(l.eventsListeners).forEach(w=>{l.off(w)}),t!==!1&&(l.el.swiper=null,bj(l)),l.destroyed=!0),null}static extendDefaults(t){oc(Kb,t)}static get extendedDefaults(){return Kb}static get defaults(){return B5}static installModule(t){rc.prototype.__modules__||(rc.prototype.__modules__=[]);const s=rc.prototype.__modules__;typeof t=="function"&&s.indexOf(t)<0&&s.push(t)}static use(t){return Array.isArray(t)?(t.forEach(s=>rc.installModule(s)),rc):(rc.installModule(t),rc)}};Object.keys(Zb).forEach(e=>{Object.keys(Zb[e]).forEach(t=>{rc.prototype[t]=Zb[e][t]})});rc.use([Lj,Oj]);function NU(e,t,s,l){return e.params.createElements&&Object.keys(l).forEach(c=>{if(!s[c]&&s.auto===!0){let d=td(e.el,`.${l[c]}`)[0];d||(d=FT("div",l[c]),d.className=l[c],e.el.append(d)),s[c]=d,t[c]=d}}),s}function jU({swiper:e,extendParams:t,on:s,emit:l}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const c=I=>(Array.isArray(I)||(I=[I].filter(O=>!!O)),I);function d(I){let O;return I&&typeof I=="string"&&e.isElement&&(O=e.el.shadowRoot.querySelector(I),O)?O:(I&&(typeof I=="string"&&(O=[...document.querySelectorAll(I)]),e.params.uniqueNavElements&&typeof I=="string"&&O.length>1&&e.el.querySelectorAll(I).length===1&&(O=e.el.querySelector(I))),I&&!O?I:O)}function m(I,O){const H=e.params.navigation;I=c(I),I.forEach(A=>{A&&(A.classList[O?"add":"remove"](...H.disabledClass.split(" ")),A.tagName==="BUTTON"&&(A.disabled=O),e.params.watchOverflow&&e.enabled&&A.classList[e.isLocked?"add":"remove"](H.lockClass))})}function n(){const{nextEl:I,prevEl:O}=e.navigation;if(e.params.loop){m(O,!1),m(I,!1);return}m(O,e.isBeginning&&!e.params.rewind),m(I,e.isEnd&&!e.params.rewind)}function w(I){I.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),l("navigationPrev"))}function $(I){I.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),l("navigationNext"))}function ee(){const I=e.params.navigation;if(e.params.navigation=NU(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(I.nextEl||I.prevEl))return;let O=d(I.nextEl),H=d(I.prevEl);Object.assign(e.navigation,{nextEl:O,prevEl:H}),O=c(O),H=c(H);const A=(E,P)=>{E&&E.addEventListener("click",P==="next"?$:w),!e.enabled&&E&&E.classList.add(...I.lockClass.split(" "))};O.forEach(E=>A(E,"next")),H.forEach(E=>A(E,"prev"))}function z(){let{nextEl:I,prevEl:O}=e.navigation;I=c(I),O=c(O);const H=(A,E)=>{A.removeEventListener("click",E==="next"?$:w),A.classList.remove(...e.params.navigation.disabledClass.split(" "))};I.forEach(A=>H(A,"next")),O.forEach(A=>H(A,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?Q():(ee(),n())}),s("toEdge fromEdge lock unlock",()=>{n()}),s("destroy",()=>{z()}),s("enable disable",()=>{let{nextEl:I,prevEl:O}=e.navigation;I=c(I),O=c(O),[...I,...O].filter(H=>!!H).forEach(H=>H.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),s("click",(I,O)=>{let{nextEl:H,prevEl:A}=e.navigation;H=c(H),A=c(A);const E=O.target;if(e.params.navigation.hideOnClick&&!A.includes(E)&&!H.includes(E)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let P;H.length?P=H[0].classList.contains(e.params.navigation.hiddenClass):A.length&&(P=A[0].classList.contains(e.params.navigation.hiddenClass)),l(P===!0?"navigationShow":"navigationHide"),[...H,...A].filter(G=>!!G).forEach(G=>G.classList.toggle(e.params.navigation.hiddenClass))}});const Y=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),ee(),n()},Q=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),z()};Object.assign(e.navigation,{enable:Y,disable:Q,update:n,init:ee,destroy:z})}function Jb(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function UU({swiper:e,extendParams:t,on:s}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let l=null;function c(L){const f=l;f.length!==0&&(f.innerHTML="",f.innerHTML=L)}const d=L=>(Array.isArray(L)||(L=[L].filter(f=>!!f)),L);function m(L=16){const f=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(L).replace(/x/g,f)}function n(L){L=d(L),L.forEach(f=>{f.setAttribute("tabIndex","0")})}function w(L){L=d(L),L.forEach(f=>{f.setAttribute("tabIndex","-1")})}function $(L,f){L=d(L),L.forEach(y=>{y.setAttribute("role",f)})}function ee(L,f){L=d(L),L.forEach(y=>{y.setAttribute("aria-roledescription",f)})}function z(L,f){L=d(L),L.forEach(y=>{y.setAttribute("aria-controls",f)})}function Y(L,f){L=d(L),L.forEach(y=>{y.setAttribute("aria-label",f)})}function Q(L,f){L=d(L),L.forEach(y=>{y.setAttribute("id",f)})}function I(L,f){L=d(L),L.forEach(y=>{y.setAttribute("aria-live",f)})}function O(L){L=d(L),L.forEach(f=>{f.setAttribute("aria-disabled",!0)})}function H(L){L=d(L),L.forEach(f=>{f.setAttribute("aria-disabled",!1)})}function A(L){if(L.keyCode!==13&&L.keyCode!==32)return;const f=e.params.a11y,y=L.target;e.pagination&&e.pagination.el&&(y===e.pagination.el||e.pagination.el.contains(L.target))&&!L.target.matches(Jb(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&y===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?c(f.lastSlideMessage):c(f.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&y===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?c(f.firstSlideMessage):c(f.prevSlideMessage)),e.pagination&&y.matches(Jb(e.params.pagination.bulletClass))&&y.click())}function E(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:L,prevEl:f}=e.navigation;f&&(e.isBeginning?(O(f),w(f)):(H(f),n(f))),L&&(e.isEnd?(O(L),w(L)):(H(L),n(L)))}function P(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function G(){return P()&&e.params.pagination.clickable}function V(){const L=e.params.a11y;P()&&e.pagination.bullets.forEach(f=>{e.params.pagination.clickable&&(n(f),e.params.pagination.renderBullet||($(f,"button"),Y(f,L.paginationBulletMessage.replace(/\{\{index\}\}/,Xw(f)+1)))),f.matches(Jb(e.params.pagination.bulletActiveClass))?f.setAttribute("aria-current","true"):f.removeAttribute("aria-current")})}const C=(L,f,y)=>{n(L),L.tagName!=="BUTTON"&&($(L,"button"),L.addEventListener("keydown",A)),Y(L,y),z(L,f)},ne=()=>{e.a11y.clicked=!0},te=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},F=L=>{if(e.a11y.clicked)return;const f=L.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!f||!e.slides.includes(f))return;const y=e.slides.indexOf(f)===e.activeIndex,b=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(f);y||b||L.sourceCapabilities&&L.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(f),0))},N=()=>{const L=e.params.a11y;L.itemRoleDescriptionMessage&&ee(e.slides,L.itemRoleDescriptionMessage),L.slideRole&&$(e.slides,L.slideRole);const f=e.slides.length;L.slideLabelMessage&&e.slides.forEach((y,b)=>{const S=e.params.loop?parseInt(y.getAttribute("data-swiper-slide-index"),10):b,j=L.slideLabelMessage.replace(/\{\{index\}\}/,S+1).replace(/\{\{slidesLength\}\}/,f);Y(y,j)})},X=()=>{const L=e.params.a11y;e.isElement?e.el.shadowEl.append(l):e.el.append(l);const f=e.el;L.containerRoleDescriptionMessage&&ee(f,L.containerRoleDescriptionMessage),L.containerMessage&&Y(f,L.containerMessage);const y=e.wrapperEl,b=L.id||y.getAttribute("id")||`swiper-wrapper-${m(16)}`,S=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";Q(y,b),I(y,S),N();let{nextEl:j,prevEl:J}=e.navigation?e.navigation:{};j=d(j),J=d(J),j&&j.forEach(W=>C(W,b,L.nextSlideMessage)),J&&J.forEach(W=>C(W,b,L.prevSlideMessage)),G()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(re=>{re.addEventListener("keydown",A)}),e.el.addEventListener("focus",F,!0),e.el.addEventListener("pointerdown",ne,!0),e.el.addEventListener("pointerup",te,!0)};function M(){l&&l.remove();let{nextEl:L,prevEl:f}=e.navigation?e.navigation:{};L=d(L),f=d(f),L&&L.forEach(y=>y.removeEventListener("keydown",A)),f&&f.forEach(y=>y.removeEventListener("keydown",A)),G()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(b=>{b.removeEventListener("keydown",A)}),e.el.removeEventListener("focus",F,!0),e.el.removeEventListener("pointerdown",ne,!0),e.el.removeEventListener("pointerup",te,!0)}s("beforeInit",()=>{l=FT("span",e.params.a11y.notificationClass),l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true")}),s("afterInit",()=>{e.params.a11y.enabled&&X()}),s("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&N()}),s("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&E()}),s("paginationUpdate",()=>{e.params.a11y.enabled&&V()}),s("destroy",()=>{e.params.a11y.enabled&&M()})}function zf(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function ep(e,t){const s=["__proto__","constructor","prototype"];Object.keys(t).filter(l=>s.indexOf(l)<0).forEach(l=>{typeof e[l]>"u"?e[l]=t[l]:zf(t[l])&&zf(e[l])&&Object.keys(t[l]).length>0?t[l].__swiper__?e[l]=t[l]:ep(e[l],t[l]):e[l]=t[l]})}function NA(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function jA(e={}){return e.pagination&&typeof e.pagination.el>"u"}function UA(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function GA(e=""){const t=e.split(" ").map(l=>l.trim()).filter(l=>!!l),s=[];return t.forEach(l=>{s.indexOf(l)<0&&s.push(l)}),s.join(" ")}function GU(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const VA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function z5(e={},t=!0){const s={on:{}},l={},c={};ep(s,rc.defaults),ep(s,rc.extendedDefaults),s._emitClasses=!0,s.init=!1;const d={},m=VA.map(w=>w.replace(/_/,"")),n=Object.assign({},e);return Object.keys(n).forEach(w=>{typeof e[w]>"u"||(m.indexOf(w)>=0?zf(e[w])?(s[w]={},c[w]={},ep(s[w],e[w]),ep(c[w],e[w])):(s[w]=e[w],c[w]=e[w]):w.search(/on[A-Z]/)===0&&typeof e[w]=="function"?t?l[`${w[2].toLowerCase()}${w.substr(3)}`]=e[w]:s.on[`${w[2].toLowerCase()}${w.substr(3)}`]=e[w]:d[w]=e[w])}),["navigation","pagination","scrollbar"].forEach(w=>{s[w]===!0&&(s[w]={}),s[w]===!1&&delete s[w]}),{params:s,passedParams:c,rest:d,events:l}}function VU({el:e,nextEl:t,prevEl:s,paginationEl:l,scrollbarEl:c,swiper:d},m){NA(m)&&t&&s&&(d.params.navigation.nextEl=t,d.originalParams.navigation.nextEl=t,d.params.navigation.prevEl=s,d.originalParams.navigation.prevEl=s),jA(m)&&l&&(d.params.pagination.el=l,d.originalParams.pagination.el=l),UA(m)&&c&&(d.params.scrollbar.el=c,d.originalParams.scrollbar.el=c),d.init(e)}function $U(e,t,s,l,c){const d=[];if(!t)return d;const m=w=>{d.indexOf(w)<0&&d.push(w)};if(s&&l){const w=l.map(c),$=s.map(c);w.join("")!==$.join("")&&m("children"),l.length!==s.length&&m("children")}return VA.filter(w=>w[0]==="_").map(w=>w.replace(/_/,"")).forEach(w=>{if(w in e&&w in t)if(zf(e[w])&&zf(t[w])){const $=Object.keys(e[w]),ee=Object.keys(t[w]);$.length!==ee.length?m(w):($.forEach(z=>{e[w][z]!==t[w][z]&&m(w)}),ee.forEach(z=>{e[w][z]!==t[w][z]&&m(w)}))}else e[w]!==t[w]&&m(w)}),d}function Qb(e,t,s){e===void 0&&(e={});const l=[],c={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},d=(m,n)=>{Array.isArray(m)&&m.forEach(w=>{const $=typeof w.type=="symbol";n==="default"&&(n="container-end"),$&&w.children?d(w.children,n):w.type&&(w.type.name==="SwiperSlide"||w.type.name==="AsyncComponentWrapper")?l.push(w):c[n]&&c[n].push(w)})};return Object.keys(e).forEach(m=>{if(typeof e[m]!="function")return;const n=e[m]();d(n,m)}),s.value=t.value,t.value=l,{slides:l,slots:c}}function HU({swiper:e,slides:t,passedParams:s,changedParams:l,nextEl:c,prevEl:d,scrollbarEl:m,paginationEl:n}){const w=l.filter(te=>te!=="children"&&te!=="direction"&&te!=="wrapperClass"),{params:$,pagination:ee,navigation:z,scrollbar:Y,virtual:Q,thumbs:I}=e;let O,H,A,E,P,G,V,C;l.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&$.thumbs&&!$.thumbs.swiper&&(O=!0),l.includes("controller")&&s.controller&&s.controller.control&&$.controller&&!$.controller.control&&(H=!0),l.includes("pagination")&&s.pagination&&(s.pagination.el||n)&&($.pagination||$.pagination===!1)&&ee&&!ee.el&&(A=!0),l.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||m)&&($.scrollbar||$.scrollbar===!1)&&Y&&!Y.el&&(E=!0),l.includes("navigation")&&s.navigation&&(s.navigation.prevEl||d)&&(s.navigation.nextEl||c)&&($.navigation||$.navigation===!1)&&z&&!z.prevEl&&!z.nextEl&&(P=!0);const ne=te=>{e[te]&&(e[te].destroy(),te==="navigation"?(e.isElement&&(e[te].prevEl.remove(),e[te].nextEl.remove()),$[te].prevEl=void 0,$[te].nextEl=void 0,e[te].prevEl=void 0,e[te].nextEl=void 0):(e.isElement&&e[te].el.remove(),$[te].el=void 0,e[te].el=void 0))};l.includes("loop")&&e.isElement&&($.loop&&!s.loop?G=!0:!$.loop&&s.loop?V=!0:C=!0),w.forEach(te=>{if(zf($[te])&&zf(s[te]))ep($[te],s[te]),(te==="navigation"||te==="pagination"||te==="scrollbar")&&"enabled"in s[te]&&!s[te].enabled&&ne(te);else{const F=s[te];(F===!0||F===!1)&&(te==="navigation"||te==="pagination"||te==="scrollbar")?F===!1&&ne(te):$[te]=s[te]}}),w.includes("controller")&&!H&&e.controller&&e.controller.control&&$.controller&&$.controller.control&&(e.controller.control=$.controller.control),l.includes("children")&&t&&Q&&$.virtual.enabled&&(Q.slides=t,Q.update(!0)),l.includes("children")&&t&&$.loop&&(C=!0),O&&I.init()&&I.update(!0),H&&(e.controller.control=$.controller.control),A&&(e.isElement&&(!n||typeof n=="string")&&(n=document.createElement("div"),n.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(n)),n&&($.pagination.el=n),ee.init(),ee.render(),ee.update()),E&&(e.isElement&&(!m||typeof m=="string")&&(m=document.createElement("div"),m.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(m)),m&&($.scrollbar.el=m),Y.init(),Y.updateSize(),Y.setTranslate()),P&&(e.isElement&&((!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(c)),(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(d))),c&&($.navigation.nextEl=c),d&&($.navigation.prevEl=d),z.init(),z.update()),l.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),l.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),l.includes("direction")&&e.changeDirection(s.direction,!1),(G||C)&&e.loopDestroy(),(V||C)&&e.loopCreate(),e.update()}function WU(e,t,s){if(!s)return null;const l=ee=>{let z=ee;return ee<0?z=t.length+ee:z>=t.length&&(z=z-t.length),z},c=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${s.offset}px`}:{top:`${s.offset}px`},{from:d,to:m}=s,n=e.value.params.loop?-t.length:0,w=e.value.params.loop?t.length*2:t.length,$=[];for(let ee=n;ee<w;ee+=1)ee>=d&&ee<=m&&$.push(t[l(ee)]);return $.map(ee=>(ee.props||(ee.props={}),ee.props.style||(ee.props.style={}),ee.props.swiperRef=e,ee.props.style=c,Sl(ee.type,{...ee.props},ee.children)))}const XU=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},YU={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:s,emit:l}=t;const{tag:c,wrapperTag:d}=e,m=Zr("swiper"),n=Zr(null),w=Zr(!1),$=Zr(!1),ee=Zr(null),z=Zr(null),Y=Zr(null),Q={value:[]},I={value:[]},O=Zr(null),H=Zr(null),A=Zr(null),E=Zr(null),{params:P,passedParams:G}=z5(e,!1);Qb(s,Q,I),Y.value=G,I.value=Q.value;const V=()=>{Qb(s,Q,I),w.value=!0};P.onAny=function(te){for(var F=arguments.length,N=new Array(F>1?F-1:0),X=1;X<F;X++)N[X-1]=arguments[X];l(te,...N)},Object.assign(P.on,{_beforeBreakpoint:V,_containerClasses(te,F){m.value=F}});const C={...P};if(delete C.wrapperClass,z.value=new rc(C),z.value.virtual&&z.value.params.virtual.enabled){z.value.virtual.slides=Q.value;const te={cache:!1,slides:Q.value,renderExternal:F=>{n.value=F},renderExternalUpdate:!1};ep(z.value.params.virtual,te),ep(z.value.originalParams.virtual,te)}Gf(()=>{!$.value&&z.value&&(z.value.emitSlidesClasses(),$.value=!0);const{passedParams:te}=z5(e,!1),F=$U(te,Y.value,Q.value,I.value,N=>N.props&&N.props.key);Y.value=te,(F.length||w.value)&&z.value&&!z.value.destroyed&&HU({swiper:z.value,slides:Q.value,passedParams:te,changedParams:F,nextEl:O.value,prevEl:H.value,scrollbarEl:E.value,paginationEl:A.value}),w.value=!1}),Am("swiper",z),$c(n,()=>{Mm(()=>{XU(z.value)})}),sd(()=>{ee.value&&(VU({el:ee.value,nextEl:O.value,prevEl:H.value,paginationEl:A.value,scrollbarEl:E.value,swiper:z.value},P),l("swiper",z.value))}),Vf(()=>{z.value&&!z.value.destroyed&&z.value.destroy(!0,!1)});function ne(te){return P.virtual?WU(z,te,n.value):(te.forEach((F,N)=>{F.props||(F.props={}),F.props.swiperRef=z,F.props.swiperSlideIndex=N}),te)}return()=>{const{slides:te,slots:F}=Qb(s,Q,I);return Sl(c,{ref:ee,class:GA(m.value)},[F["container-start"],Sl(d,{class:GU(P.wrapperClass)},[F["wrapper-start"],ne(te),F["wrapper-end"]]),NA(e)&&[Sl("div",{ref:H,class:"swiper-button-prev"}),Sl("div",{ref:O,class:"swiper-button-next"})],UA(e)&&Sl("div",{ref:E,class:"swiper-scrollbar"}),jA(e)&&Sl("div",{ref:A,class:"swiper-pagination"}),F["container-end"]])}}},qU={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:s}=t,l=!1;const{swiperRef:c}=e,d=Zr(null),m=Zr("swiper-slide"),n=Zr(!1);function w(z,Y,Q){Y===d.value&&(m.value=Q)}sd(()=>{!c||!c.value||(c.value.on("_slideClass",w),l=!0)}),sx(()=>{l||!c||!c.value||(c.value.on("_slideClass",w),l=!0)}),Gf(()=>{!d.value||!c||!c.value||(typeof e.swiperSlideIndex<"u"&&(d.value.swiperSlideIndex=e.swiperSlideIndex),c.value.destroyed&&m.value!=="swiper-slide"&&(m.value="swiper-slide"))}),Vf(()=>{!c||!c.value||c.value.off("_slideClass",w)});const $=km(()=>({isActive:m.value.indexOf("swiper-slide-active")>=0,isVisible:m.value.indexOf("swiper-slide-visible")>=0,isPrev:m.value.indexOf("swiper-slide-prev")>=0,isNext:m.value.indexOf("swiper-slide-next")>=0}));Am("swiperSlide",$);const ee=()=>{n.value=!0};return()=>Sl(e.tag,{class:GA(`${m.value}`),ref:d,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&c&&c.value&&c.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:ee},e.zoom?Sl("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[s.default&&s.default($.value),e.lazy&&!n.value&&Sl("div",{class:"swiper-lazy-preloader"})]):[s.default&&s.default($.value),e.lazy&&!n.value&&Sl("div",{class:"swiper-lazy-preloader"})])}},ZU={props:{fleet:Object,active:String},components:{Swiper:YU,SwiperSlide:qU},setup(){return{auto:!0,onSwiper:s=>{},onSlideChange:()=>{},modules:[jU,UU]}}},KU={class:"swiper-button-prev"},JU=["src"],QU=["href"],eG=["href"],tG=["href"],iG=["href"],nG=["href"],sG=["href"],rG=["href"],oG=["href"],aG=["href"],lG=["href"],cG=["href"],hG={class:"swiper-button-next"},dG=["src"];function uG(e,t,s,l,c,d){const m=ts("swiper-slide"),n=ts("swiper");return Mi(),Hc(n,{"slides-per-view":"auto","space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:l.onSwiper,onSlideChange:l.onSlideChange},{default:Ur(()=>[at("div",KU,[at("img",{src:"/img/icons/chevron-prev.png",alt:""},null,8,JU)]),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}`,class:Dr(["submenu-item",{active:s.active=="info"}])},"NAVIGASI",10,QU)]),_:1}),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}/engine`,class:Dr(["submenu-item",{active:s.active=="engine"}])},"ENGINE",10,eG)]),_:1}),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}/cargo`,class:Dr(["submenu-item",{active:s.active=="cargo"}])},"CARGO",10,tG)]),_:1}),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}/bunker`,class:Dr(["submenu-item",{active:s.active=="bunker"}])},"BUNKER TANK",10,iG)]),_:1}),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}/balast`,class:Dr(["submenu-item",{active:s.active=="balast"}])},"BALAST TANK",10,nG)]),_:1}),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}/diagnotics`,class:Dr(["submenu-item",{active:s.active=="diagnotics"}])},"DIAGNOSTICS",10,sG)]),_:1}),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}/alarms`,class:Dr(["submenu-item",{active:s.active=="alarms"}])},"ALARM",10,rG)]),_:1}),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}/emision`,class:Dr(["submenu-item",{active:s.active=="emision"}])},"EMISION REPORT",10,oG)]),_:1}),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}/docs`,class:Dr(["submenu-item",{active:s.active=="docs"}])},"DOCUMENTS",10,aG)]),_:1}),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}/reports`,class:Dr(["submenu-item",{active:s.active=="reports"}])},"REPORTS",10,lG)]),_:1}),Yi(m,null,{default:Ur(()=>[at("a",{href:`/fleet/${s.fleet.id}/charter`,class:Dr(["submenu-item",{active:s.active=="charter"}])},"CHARTER",10,cG)]),_:1}),at("div",hG,[at("img",{src:"/img/icons/chevron-next.png",alt:""},null,8,dG)])]),_:1},8,["navigation","onSwiper","onSlideChange"])}const pG=zs(ZU,[["render",uG]]);var gp={},fG={get exports(){return gp},set exports(e){gp=e}},Lv={},mG={get exports(){return Lv},set exports(e){Lv=e}},F5;function $A(){return F5||(F5=1,function(e){(function(t,s){e.exports?(s.default=s,e.exports=t.document?s(t):s):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=s(t))})(typeof window<"u"?window:wo,function(t){function s(c,d,m,n){c.hasOwnProperty(d)||(c[d]=n.apply(null,m),typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:d,module:c[d]}})))}var l={};return s(l,"Core/Globals.js",[],function(){var c;return function(d){d.SVG_NS="http://www.w3.org/2000/svg",d.product="Highcharts",d.version="11.0.1",d.win=typeof t<"u"?t:{},d.doc=d.win.document,d.svg=d.doc&&d.doc.createElementNS&&!!d.doc.createElementNS(d.SVG_NS,"svg").createSVGRect,d.userAgent=d.win.navigator&&d.win.navigator.userAgent||"",d.isChrome=d.userAgent.indexOf("Chrome")!==-1,d.isFirefox=d.userAgent.indexOf("Firefox")!==-1,d.isMS=/(edge|msie|trident)/i.test(d.userAgent)&&!d.win.opera,d.isSafari=!d.isChrome&&d.userAgent.indexOf("Safari")!==-1,d.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(d.userAgent),d.isWebKit=d.userAgent.indexOf("AppleWebKit")!==-1,d.deg2rad=2*Math.PI/360,d.hasBidiBug=d.isFirefox&&4>parseInt(d.userAgent.split("Firefox/")[1],10),d.hasTouch=!!d.win.TouchEvent,d.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],d.noop=function(){},d.supportsPassiveEvents=function(){let m=!1;if(!d.isMS){const n=Object.defineProperty({},"passive",{get:function(){m=!0}});d.win.addEventListener&&d.win.removeEventListener&&(d.win.addEventListener("testPassive",d.noop,n),d.win.removeEventListener("testPassive",d.noop,n))}return m}(),d.charts=[],d.dateFormats={},d.seriesTypes={},d.symbolSizes={},d.chartCount=0}(c||(c={})),c}),s(l,"Core/Utilities.js",[l["Core/Globals.js"]],function(c){function d(y,b,S,j){const J=b?"Highcharts error":"Highcharts warning";y===32&&(y=`${J}: Deprecated member`);const W=Q(y);let re=W?`${J} #${y}: www.highcharts.com/errors/${y}/`:y.toString();if(typeof j<"u"){let ue="";W&&(re+="?"),C(j,function(ve,q){ue+=`
 - ${q}: ${ve}`,W&&(re+=encodeURI(q)+"="+encodeURI(ve))}),re+=ue}te(c,"displayError",{chart:S,code:y,message:re,params:j},function(){if(b)throw Error(re);X.console&&d.messages.indexOf(re)===-1&&console.warn(re)}),d.messages.push(re)}function m(y,b){const S={};return C(y,function(j,J){ee(y[J],!0)&&!y.nodeType&&b[J]?(j=m(y[J],b[J]),Object.keys(j).length&&(S[J]=j)):(ee(y[J])||y[J]!==b[J]||J in y&&!(J in b))&&(S[J]=y[J])}),S}function n(y,b){return parseInt(y,b||10)}function w(y){return typeof y=="string"}function $(y){return y=Object.prototype.toString.call(y),y==="[object Array]"||y==="[object Array Iterator]"}function ee(y,b){return!!y&&typeof y=="object"&&(!b||!$(y))}function z(y){return ee(y)&&typeof y.nodeType=="number"}function Y(y){const b=y&&y.constructor;return!(!ee(y,!0)||z(y)||!b||!b.name||b.name==="Object")}function Q(y){return typeof y=="number"&&!isNaN(y)&&1/0>y&&-1/0<y}function I(y){return typeof y<"u"&&y!==null}function O(y,b,S){const j=w(b)&&!I(S);let J;const W=(re,ue)=>{I(re)?y.setAttribute(ue,re):j?(J=y.getAttribute(ue))||ue!=="class"||(J=y.getAttribute(ue+"Name")):y.removeAttribute(ue)};return w(b)?W(S,b):C(b,W),J}function H(y,b){let S;y||(y={});for(S in b)y[S]=b[S];return y}function A(){const y=arguments,b=y.length;for(let S=0;S<b;S++){const j=y[S];if(typeof j<"u"&&j!==null)return j}}function E(y,b){c.isMS&&!c.svg&&b&&I(b.opacity)&&(b.filter=`alpha(opacity=${100*b.opacity})`),H(y.style,b)}function P(y){return Math.pow(10,Math.floor(Math.log(y)/Math.LN10))}function G(y,b){return 1e14<y?y:parseFloat(y.toPrecision(b||14))}function V(y,b,S){let j;return b==="width"?(b=Math.min(y.offsetWidth,y.scrollWidth),S=y.getBoundingClientRect&&y.getBoundingClientRect().width,S<b&&S>=b-1&&(b=Math.floor(S)),Math.max(0,b-(V(y,"padding-left",!0)||0)-(V(y,"padding-right",!0)||0))):b==="height"?Math.max(0,Math.min(y.offsetHeight,y.scrollHeight)-(V(y,"padding-top",!0)||0)-(V(y,"padding-bottom",!0)||0)):((y=X.getComputedStyle(y,void 0))&&(j=y.getPropertyValue(b),A(S,b!=="opacity")&&(j=n(j))),j)}function C(y,b,S){for(const j in y)Object.hasOwnProperty.call(y,j)&&b.call(S||y[j],y[j],j,y)}function ne(y,b,S){function j(re,ue){const ve=y.removeEventListener;ve&&ve.call(y,re,ue,!1)}function J(re){let ue,ve;y.nodeName&&(b?(ue={},ue[b]=!0):ue=re,C(ue,function(q,se){if(re[se])for(ve=re[se].length;ve--;)j(se,re[se][ve].fn)}))}var W=typeof y=="function"&&y.prototype||y;if(Object.hasOwnProperty.call(W,"hcEvents")){const re=W.hcEvents;b?(W=re[b]||[],S?(re[b]=W.filter(function(ue){return S!==ue.fn}),j(b,S)):(J(re),re[b]=[])):(J(re),delete W.hcEvents)}}function te(y,b,S,j){if(S=S||{},N.createEvent&&(y.dispatchEvent||y.fireEvent&&y!==c)){var J=N.createEvent("Events");J.initEvent(b,!0,!0),S=H(J,S),y.dispatchEvent?y.dispatchEvent(S):y.fireEvent(b,S)}else if(y.hcEvents){S.target||H(S,{preventDefault:function(){S.defaultPrevented=!0},target:y,type:b}),J=[];let W=y,re=!1;for(;W.hcEvents;)Object.hasOwnProperty.call(W,"hcEvents")&&W.hcEvents[b]&&(J.length&&(re=!0),J.unshift.apply(J,W.hcEvents[b])),W=Object.getPrototypeOf(W);re&&J.sort((ue,ve)=>ue.order-ve.order),J.forEach(ue=>{ue.fn.call(y,S)===!1&&S.preventDefault()})}j&&!S.defaultPrevented&&j.call(y,S)}const{charts:F,doc:N,win:X}=c;(d||(d={})).messages=[],Math.easeInOutSine=function(y){return-.5*(Math.cos(Math.PI*y)-1)};var M=Array.prototype.find?function(y,b){return y.find(b)}:function(y,b){let S;const j=y.length;for(S=0;S<j;S++)if(b(y[S],S))return y[S]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(y,b){c[b]=function(S){return d(32,!1,void 0,{[`Highcharts.${b}`]:`use Array.${y}`}),Array.prototype[y].apply(S,[].slice.call(arguments,1))}});let L;const f=function(){const y=Math.random().toString(36).substring(2,9)+"-";let b=0;return function(){return"highcharts-"+(L?"":y)+b++}}();return X.jQuery&&(X.jQuery.fn.highcharts=function(){const y=[].slice.call(arguments);if(this[0])return y[0]?(new c[w(y[0])?y.shift():"Chart"](this[0],y[0],y[1]),this):F[O(this[0],"data-highcharts-chart")]}),M={addEvent:function(y,b,S,j={}){var J=typeof y=="function"&&y.prototype||y;Object.hasOwnProperty.call(J,"hcEvents")||(J.hcEvents={}),J=J.hcEvents,c.Point&&y instanceof c.Point&&y.series&&y.series.chart&&(y.series.chart.runTrackerClick=!0);const W=y.addEventListener;return W&&W.call(y,b,S,c.supportsPassiveEvents?{passive:j.passive===void 0?b.indexOf("touch")!==-1:j.passive,capture:!1}:!1),J[b]||(J[b]=[]),J[b].push({fn:S,order:typeof j.order=="number"?j.order:1/0}),J[b].sort((re,ue)=>re.order-ue.order),function(){ne(y,b,S)}},arrayMax:function(y){let b=y.length,S=y[0];for(;b--;)y[b]>S&&(S=y[b]);return S},arrayMin:function(y){let b=y.length,S=y[0];for(;b--;)y[b]<S&&(S=y[b]);return S},attr:O,clamp:function(y,b,S){return y>b?y<S?y:S:b},cleanRecursively:m,clearTimeout:function(y){I(y)&&clearTimeout(y)},correctFloat:G,createElement:function(y,b,S,j,J){return y=N.createElement(y),b&&H(y,b),J&&E(y,{padding:"0",border:"none",margin:"0"}),S&&E(y,S),j&&j.appendChild(y),y},css:E,defined:I,destroyObjectProperties:function(y,b){C(y,function(S,j){S&&S!==b&&S.destroy&&S.destroy(),delete y[j]})},discardElement:function(y){y&&y.parentElement&&y.parentElement.removeChild(y)},erase:function(y,b){let S=y.length;for(;S--;)if(y[S]===b){y.splice(S,1);break}},error:d,extend:H,extendClass:function(y,b){const S=function(){};return S.prototype=new y,H(S.prototype,b),S},find:M,fireEvent:te,getMagnitude:P,getNestedProperty:function(y,b){for(y=y.split(".");y.length&&I(b);){const S=y.shift();if(typeof S>"u"||S==="__proto__"||(b=b[S],!I(b)||typeof b=="function"||typeof b.nodeType=="number"||b===X))return}return b},getStyle:V,inArray:function(y,b,S){return d(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),b.indexOf(y,S)},isArray:$,isClass:Y,isDOMElement:z,isFunction:function(y){return typeof y=="function"},isNumber:Q,isObject:ee,isString:w,keys:function(y){return d(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(y)},merge:function(){let y,b=arguments,S={};const j=function(W,re){return typeof W!="object"&&(W={}),C(re,function(ue,ve){ve!=="__proto__"&&ve!=="constructor"&&(!ee(ue,!0)||Y(ue)||z(ue)?W[ve]=re[ve]:W[ve]=j(W[ve]||{},ue))}),W};b[0]===!0&&(S=b[1],b=Array.prototype.slice.call(b,2));const J=b.length;for(y=0;y<J;y++)S=j(S,b[y]);return S},normalizeTickInterval:function(y,b,S,j,J){let W=y;S=A(S,P(y));const re=y/S;for(b||(b=J?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],j===!1&&(S===1?b=b.filter(function(ue){return ue%1===0}):.1>=S&&(b=[1/S]))),j=0;j<b.length&&(W=b[j],!(J&&W*S>=y||!J&&re<=(b[j]+(b[j+1]||b[j]))/2));j++);return W=G(W*S,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(y){const b=N.documentElement;return y=y.parentElement||y.parentNode?y.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:y.top+(X.pageYOffset||b.scrollTop)-(b.clientTop||0),left:y.left+(X.pageXOffset||b.scrollLeft)-(b.clientLeft||0),width:y.width,height:y.height}},pad:function(y,b,S){return Array((b||2)+1-String(y).replace("-","").length).join(S||"0")+y},pick:A,pInt:n,pushUnique:function(y,b){return 0>y.indexOf(b)&&!!y.push(b)},relativeLength:function(y,b,S){return/%$/.test(y)?b*parseFloat(y)/100+(S||0):parseFloat(y)},removeEvent:ne,splat:function(y){return $(y)?y:[y]},stableSort:function(y,b){const S=y.length;let j,J;for(J=0;J<S;J++)y[J].safeI=J;for(y.sort(function(W,re){return j=b(W,re),j===0?W.safeI-re.safeI:j}),J=0;J<S;J++)delete y[J].safeI},syncTimeout:function(y,b,S){return 0<b?setTimeout(y,b,S):(y.call(0,S),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:f,useSerialIds:function(y){return L=A(y,L)},wrap:function(y,b,S){const j=y[b];y[b]=function(){const J=arguments,W=this;return S.apply(this,[function(){return j.apply(W,arguments.length?arguments:J)}].concat([].slice.call(arguments)))}}},M}),s(l,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),s(l,"Core/Color/Color.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d){const{isNumber:m,merge:n,pInt:w}=d;class ${static parse(z){return z?new $(z):$.None}constructor(z){this.rgba=[NaN,NaN,NaN,NaN],this.input=z;const Y=c.Color;if(Y&&Y!==$)return new Y(z);this.init(z)}init(z){let Y,Q;if(typeof z=="object"&&typeof z.stops<"u")this.stops=z.stops.map(H=>new $(H[1]));else if(typeof z=="string"){if(this.input=z=$.names[z.toLowerCase()]||z,z.charAt(0)==="#"){var I=z.length,O=parseInt(z.substr(1),16);I===7?Y=[(O&16711680)>>16,(O&65280)>>8,O&255,1]:I===4&&(Y=[(O&3840)>>4|(O&3840)>>8,(O&240)>>4|O&240,(O&15)<<4|O&15,1])}if(!Y)for(O=$.parsers.length;O--&&!Y;)Q=$.parsers[O],(I=Q.regex.exec(z))&&(Y=Q.parse(I))}Y&&(this.rgba=Y)}get(z){const Y=this.input,Q=this.rgba;if(typeof Y=="object"&&typeof this.stops<"u"){const I=n(Y);return I.stops=[].slice.call(I.stops),this.stops.forEach((O,H)=>{I.stops[H]=[I.stops[H][0],O.get(z)]}),I}return Q&&m(Q[0])?z==="rgb"||!z&&Q[3]===1?"rgb("+Q[0]+","+Q[1]+","+Q[2]+")":z==="a"?`${Q[3]}`:"rgba("+Q.join(",")+")":Y}brighten(z){const Y=this.rgba;if(this.stops)this.stops.forEach(function(Q){Q.brighten(z)});else if(m(z)&&z!==0)for(let Q=0;3>Q;Q++)Y[Q]+=w(255*z),0>Y[Q]&&(Y[Q]=0),255<Y[Q]&&(Y[Q]=255);return this}setOpacity(z){return this.rgba[3]=z,this}tweenTo(z,Y){const Q=this.rgba,I=z.rgba;return!m(Q[0])||!m(I[0])?z.input||"none":(z=I[3]!==1||Q[3]!==1,(z?"rgba(":"rgb(")+Math.round(I[0]+(Q[0]-I[0])*(1-Y))+","+Math.round(I[1]+(Q[1]-I[1])*(1-Y))+","+Math.round(I[2]+(Q[2]-I[2])*(1-Y))+(z?","+(I[3]+(Q[3]-I[3])*(1-Y)):"")+")")}}return $.names={white:"#ffffff",black:"#000000"},$.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(ee){return[w(ee[1]),w(ee[2]),w(ee[3]),parseFloat(ee[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(ee){return[w(ee[1]),w(ee[2]),w(ee[3]),1]}}],$.None=new $(""),$}),s(l,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),s(l,"Core/Time.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d){const{win:m}=c,{defined:n,error:w,extend:$,isObject:ee,merge:z,objectEach:Y,pad:Q,pick:I,splat:O,timeUnits:H}=d,A=c.isSafari&&m.Intl&&m.Intl.DateTimeFormat.prototype.formatRange,E=c.isSafari&&m.Intl&&!m.Intl.DateTimeFormat.prototype.formatRange;class P{constructor(V){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=m.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(V)}get(V,C){if(this.variableTimezone||this.timezoneOffset){const ne=C.getTime(),te=ne-this.getTimezoneOffset(C);return C.setTime(te),V=C["getUTC"+V](),C.setTime(ne),V}return this.useUTC?C["getUTC"+V]():C["get"+V]()}set(V,C,ne){if(this.variableTimezone||this.timezoneOffset){if(V==="Milliseconds"||V==="Seconds"||V==="Minutes"&&this.getTimezoneOffset(C)%36e5===0)return C["setUTC"+V](ne);var te=this.getTimezoneOffset(C);return te=C.getTime()-te,C.setTime(te),C["setUTC"+V](ne),V=this.getTimezoneOffset(C),te=C.getTime()+V,C.setTime(te)}return this.useUTC||A&&V==="FullYear"?C["setUTC"+V](ne):C["set"+V](ne)}update(V={}){const C=I(V.useUTC,!0);this.options=V=z(!0,this.options,V),this.Date=V.Date||m.Date||Date,this.timezoneOffset=(this.useUTC=C)&&V.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!V.getTimezoneOffset&&!V.timezone)}makeTime(V,C,ne,te,F,N){let X,M,L;return this.useUTC?(X=this.Date.UTC.apply(0,arguments),M=this.getTimezoneOffset(X),X+=M,L=this.getTimezoneOffset(X),M!==L?X+=L-M:M-36e5!==this.getTimezoneOffset(X-36e5)||E||(X-=36e5)):X=new this.Date(V,C,I(ne,1),I(te,0),I(F,0),I(N,0)).getTime(),X}timezoneOffsetFunction(){const V=this,C=this.options,ne=C.getTimezoneOffset,te=C.moment||m.moment;if(!this.useUTC)return function(F){return 6e4*new Date(F.toString()).getTimezoneOffset()};if(C.timezone){if(te)return function(F){return 6e4*-te.tz(F,C.timezone).utcOffset()};w(25)}return this.useUTC&&ne?function(F){return 6e4*ne(F.valueOf())}:function(){return 6e4*(V.timezoneOffset||0)}}dateFormat(V,C,ne){if(!n(C)||isNaN(C))return c.defaultOptions.lang&&c.defaultOptions.lang.invalidDate||"";V=I(V,"%Y-%m-%d %H:%M:%S");const te=this;var F=new this.Date(C);const N=this.get("Hours",F),X=this.get("Day",F),M=this.get("Date",F),L=this.get("Month",F),f=this.get("FullYear",F),y=c.defaultOptions.lang,b=y&&y.weekdays,S=y&&y.shortWeekdays;return F=$({a:S?S[X]:b[X].substr(0,3),A:b[X],d:Q(M),e:Q(M,2," "),w:X,b:y.shortMonths[L],B:y.months[L],m:Q(L+1),o:L+1,y:f.toString().substr(2,2),Y:f,H:Q(N),k:N,I:Q(N%12||12),l:N%12||12,M:Q(this.get("Minutes",F)),p:12>N?"AM":"PM",P:12>N?"am":"pm",S:Q(F.getSeconds()),L:Q(Math.floor(C%1e3),3)},c.dateFormats),Y(F,function(j,J){for(;V.indexOf("%"+J)!==-1;)V=V.replace("%"+J,typeof j=="function"?j.call(te,C):j)}),ne?V.substr(0,1).toUpperCase()+V.substr(1):V}resolveDTLFormat(V){return ee(V,!0)?V:(V=O(V),{main:V[0],from:V[1],to:V[2]})}getTimeTicks(V,C,ne,te){const F=this,N=[],X={};var M=new F.Date(C);const L=V.unitRange,f=V.count||1;let y;if(te=I(te,1),n(C)){if(F.set("Milliseconds",M,L>=H.second?0:f*Math.floor(F.get("Milliseconds",M)/f)),L>=H.second&&F.set("Seconds",M,L>=H.minute?0:f*Math.floor(F.get("Seconds",M)/f)),L>=H.minute&&F.set("Minutes",M,L>=H.hour?0:f*Math.floor(F.get("Minutes",M)/f)),L>=H.hour&&F.set("Hours",M,L>=H.day?0:f*Math.floor(F.get("Hours",M)/f)),L>=H.day&&F.set("Date",M,L>=H.month?1:Math.max(1,f*Math.floor(F.get("Date",M)/f))),L>=H.month){F.set("Month",M,L>=H.year?0:f*Math.floor(F.get("Month",M)/f));var b=F.get("FullYear",M)}L>=H.year&&F.set("FullYear",M,b-b%f),L===H.week&&(b=F.get("Day",M),F.set("Date",M,F.get("Date",M)-b+te+(b<te?-7:0))),b=F.get("FullYear",M),te=F.get("Month",M);const S=F.get("Date",M),j=F.get("Hours",M);for(C=M.getTime(),!F.variableTimezone&&F.useUTC||!n(ne)||(y=ne-C>4*H.month||F.getTimezoneOffset(C)!==F.getTimezoneOffset(ne)),C=M.getTime(),M=1;C<ne;)N.push(C),C=L===H.year?F.makeTime(b+M*f,0):L===H.month?F.makeTime(b,te+M*f):!y||L!==H.day&&L!==H.week?y&&L===H.hour&&1<f?F.makeTime(b,te,S,j+M*f):C+L*f:F.makeTime(b,te,S+M*f*(L===H.day?1:7)),M++;N.push(C),L<=H.hour&&1e4>N.length&&N.forEach(function(J){J%18e5===0&&F.dateFormat("%H%M%S%L",J)==="000000000"&&(X[J]="day")})}return N.info=$(V,{higherRanks:X,totalRange:L*f}),N}getDateFormat(V,C,ne,te){const F=this.dateFormat("%m-%d %H:%M:%S.%L",C),N={millisecond:15,second:12,minute:9,hour:6,day:3};let X,M="millisecond";for(X in H){if(V===H.week&&+this.dateFormat("%w",C)===ne&&F.substr(6)==="00:00:00.000"){X="week";break}if(H[X]>V){X=M;break}if(N[X]&&F.substr(N[X])!=="01-01 00:00:00.000".substr(N[X]))break;X!=="week"&&(M=X)}return this.resolveDTLFormat(te[X]).main}}return P}),s(l,"Core/Defaults.js",[l["Core/Chart/ChartDefaults.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Color/Palettes.js"],l["Core/Time.js"],l["Core/Utilities.js"]],function(c,d,m,n,w,$){const{isTouchDevice:ee,svg:z}=m,{merge:Y}=$,Q={colors:n.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:c,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:z,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:ee?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};Q.chart.styledMode=!1;const I=new w(Q.time);return c={defaultOptions:Q,defaultTime:I,getOptions:function(){return Q},setOptions:function(O){return Y(!0,Q,O),(O.time||O.global)&&(m.time?m.time.update(Y(Q.global,Q.time,O.global,O.time)):m.time=I),Q}},c}),s(l,"Core/Animation/Fx.js",[l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d,m){const{parse:n}=c,{win:w}=d,{isNumber:$,objectEach:ee}=m;class z{constructor(Q,I,O){this.pos=NaN,this.options=I,this.elem=Q,this.prop=O}dSetter(){var Q=this.paths;const I=Q&&Q[0];Q=Q&&Q[1];const O=this.now||0;let H=[];if(O!==1&&I&&Q)if(I.length===Q.length&&1>O)for(let A=0;A<Q.length;A++){const E=I[A],P=Q[A],G=[];for(let V=0;V<P.length;V++){const C=E[V],ne=P[V];$(C)&&$(ne)&&(P[0]!=="A"||V!==4&&V!==5)?G[V]=C+O*(ne-C):G[V]=ne}H.push(G)}else H=Q;else H=this.toD||[];this.elem.attr("d",H,void 0,!0)}update(){const Q=this.elem,I=this.prop,O=this.now,H=this.options.step;this[I+"Setter"]?this[I+"Setter"]():Q.attr?Q.element&&Q.attr(I,O,null,!0):Q.style[I]=O+this.unit,H&&H.call(Q,O,this)}run(Q,I,O){const H=this,A=H.options,E=function(V){return E.stopped?!1:H.step(V)},P=w.requestAnimationFrame||function(V){setTimeout(V,13)},G=function(){for(let V=0;V<z.timers.length;V++)z.timers[V]()||z.timers.splice(V--,1);z.timers.length&&P(G)};Q!==I||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=Q,this.end=I,this.unit=O,this.now=this.start,this.pos=0,E.elem=this.elem,E.prop=this.prop,E()&&z.timers.push(E)===1&&P(G)):(delete A.curAnim[this.prop],A.complete&&Object.keys(A.curAnim).length===0&&A.complete.call(this.elem))}step(Q){const I=+new Date,O=this.options,H=this.elem,A=O.complete,E=O.duration,P=O.curAnim;let G;return H.attr&&!H.element?Q=!1:Q||I>=E+this.startTime?(this.now=this.end,this.pos=1,this.update(),G=P[this.prop]=!0,ee(P,function(V){V!==!0&&(G=!1)}),G&&A&&A.call(H),Q=!1):(this.pos=O.easing((I-this.startTime)/E),this.now=this.start+(this.end-this.start)*this.pos,this.update(),Q=!0),Q}initPath(Q,I,O){function H(F,N){for(;F.length<ne;){var X=F[0];const M=N[ne-F.length];M&&X[0]==="M"&&(F[0]=M[0]==="C"?["C",X[1],X[2],X[1],X[2],X[1],X[2]]:["L",X[1],X[2]]),F.unshift(X),G&&(X=F.pop(),F.push(F[F.length-1],X))}}function A(F,N){for(;F.length<ne;)if(N=F[Math.floor(F.length/V)-1].slice(),N[0]==="C"&&(N[1]=N[5],N[2]=N[6]),G){const X=F[Math.floor(F.length/V)].slice();F.splice(F.length/2,0,N,X)}else F.push(N)}const E=Q.startX,P=Q.endX;O=O.slice();const G=Q.isArea,V=G?2:1;let C,ne,te;if(I=I&&I.slice(),!I)return[O,O];if(E&&P&&P.length){for(Q=0;Q<E.length;Q++)if(E[Q]===P[0]){C=Q;break}else if(E[0]===P[P.length-E.length+Q]){C=Q,te=!0;break}else if(E[E.length-1]===P[P.length-E.length+Q]){C=E.length-Q;break}typeof C>"u"&&(I=[])}return I.length&&$(C)&&(ne=O.length+C*V,te?(H(I,O),A(O,I)):(H(O,I),A(I,O))),[I,O]}fillSetter(){z.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,n(this.start).tweenTo(n(this.end),this.pos),void 0,!0)}}return z.timers=[],z}),s(l,"Core/Animation/AnimationUtilities.js",[l["Core/Animation/Fx.js"],l["Core/Utilities.js"]],function(c,d){function m(H){return Y(H)?Q({duration:500,defer:0},H):{duration:H?500:0,defer:0}}function n(H,A){let E=c.timers.length;for(;E--;)c.timers[E].elem!==H||A&&A!==c.timers[E].prop||(c.timers[E].stopped=!0)}const{defined:w,getStyle:$,isArray:ee,isNumber:z,isObject:Y,merge:Q,objectEach:I,pick:O}=d;return{animate:function(H,A,E){let P,G="",V,C,ne;Y(E)||(ne=arguments,E={duration:ne[2],easing:ne[3],complete:ne[4]}),z(E.duration)||(E.duration=400),E.easing=typeof E.easing=="function"?E.easing:Math[E.easing]||Math.easeInOutSine,E.curAnim=Q(A),I(A,function(te,F){n(H,F),C=new c(H,E,F),V=void 0,F==="d"&&ee(A.d)?(C.paths=C.initPath(H,H.pathArray,A.d),C.toD=A.d,P=0,V=1):H.attr?P=H.attr(F):(P=parseFloat($(H,F))||0,F!=="opacity"&&(G="px")),V||(V=te),typeof V=="string"&&V.match("px")&&(V=V.replace(/px/g,"")),C.run(P,V,G)})},animObject:m,getDeferredAnimation:function(H,A,E){const P=m(A);let G=0,V=0;return(E?[E]:H.series).forEach(C=>{C=m(C.options.animation),G=A&&w(A.defer)?P.defer:Math.max(G,C.duration+C.defer),V=Math.min(P.duration,C.duration)}),H.renderer.forExport&&(G=0),{defer:Math.max(0,G-V),duration:Math.min(G,V)}},setAnimation:function(H,A){A.renderer.globalAnimation=O(H,A.options.chart.animation,!0)},stop:n}}),s(l,"Core/Renderer/HTML/AST.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d){const{SVG_NS:m,win:n}=c,{attr:w,createElement:$,css:ee,error:z,isFunction:Y,isString:Q,objectEach:I,splat:O}=d;({trustedTypes:d}=n);const H=d&&Y(d.createPolicy)&&d.createPolicy("highcharts",{createHTML:G=>G});d=H?H.createHTML(""):"";try{var A=!!new DOMParser().parseFromString(d,"text/html")}catch{A=!1}const E=A;class P{static filterUserAttributes(V){return I(V,(C,ne)=>{let te=!0;P.allowedAttributes.indexOf(ne)===-1&&(te=!1),["background","dynsrc","href","lowsrc","src"].indexOf(ne)!==-1&&(te=Q(C)&&P.allowedReferences.some(F=>C.indexOf(F)===0)),te||(z(33,!1,void 0,{"Invalid attribute in config":`${ne}`}),delete V[ne]),Q(C)&&V[ne]&&(V[ne]=C.replace(/</g,"&lt;"))}),V}static parseStyle(V){return V.split(";").reduce((C,ne)=>{ne=ne.split(":").map(F=>F.trim());const te=ne.shift();return te&&ne.length&&(C[te.replace(/-([a-z])/g,F=>F[1].toUpperCase())]=ne.join(":")),C},{})}static setElementHTML(V,C){V.innerHTML=P.emptyHTML,C&&new P(C).addToDOM(V)}constructor(V){this.nodes=typeof V=="string"?this.parseMarkup(V):V}addToDOM(V){function C(ne,te){let F;return O(ne).forEach(function(N){var X=N.tagName;const M=N.textContent?c.doc.createTextNode(N.textContent):void 0,L=P.bypassHTMLFiltering;let f;if(X)if(X==="#text")f=M;else if(P.allowedTags.indexOf(X)!==-1||L){X=c.doc.createElementNS(X==="svg"?m:te.namespaceURI||m,X);const y=N.attributes||{};I(N,function(b,S){S!=="tagName"&&S!=="attributes"&&S!=="children"&&S!=="style"&&S!=="textContent"&&(y[S]=b)}),w(X,L?y:P.filterUserAttributes(y)),N.style&&ee(X,N.style),M&&X.appendChild(M),C(N.children||[],X),f=X}else z(33,!1,void 0,{"Invalid tagName in config":X});f&&te.appendChild(f),F=f}),F}return C(this.nodes,V)}parseMarkup(V){const C=[];if(V=V.trim().replace(/ style=(["'])/g," data-style=$1"),E)V=new DOMParser().parseFromString(H?H.createHTML(V):V,"text/html");else{const te=$("div");te.innerHTML=V,V={body:te}}const ne=(te,F)=>{var N=te.nodeName.toLowerCase();const X={tagName:N};if(N==="#text"&&(X.textContent=te.textContent||""),N=te.attributes){const M={};[].forEach.call(N,L=>{L.name==="data-style"?X.style=P.parseStyle(L.value):M[L.name]=L.value}),X.attributes=M}if(te.childNodes.length){const M=[];[].forEach.call(te.childNodes,L=>{ne(L,M)}),M.length&&(X.children=M)}F.push(X)};return[].forEach.call(V.body.childNodes,te=>ne(te,C)),C}}return P.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),P.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),P.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),P.emptyHTML=d,P.bypassHTMLFiltering=!1,P}),s(l,"Core/FormatUtilities.js",[l["Core/Defaults.js"],l["Core/Utilities.js"]],function(c,d){function m(Q,I,O,H){Q=+Q||0,I=+I;const A=n.lang;var E=(Q.toString().split(".")[1]||"").split("e")[0].length;const P=Q.toString().split("e"),G=I;if(I===-1)I=Math.min(E,20);else if(!ee(I))I=2;else if(I&&P[1]&&0>P[1]){var V=I+ +P[1];0<=V?(P[0]=(+P[0]).toExponential(V).split("e")[0],I=V):(P[0]=P[0].split(".")[0]||0,Q=20>I?(P[0]*Math.pow(10,P[1])).toFixed(I):0,P[1]=0)}V=(Math.abs(P[1]?P[0]:Q)+Math.pow(10,-Math.max(I,E)-1)).toFixed(I),E=String(Y(V));const C=3<E.length?E.length%3:0;return O=z(O,A.decimalPoint),H=z(H,A.thousandsSep),Q=(0>Q?"-":"")+(C?E.substr(0,C)+H:""),Q=0>+P[1]&&!G?"0":Q+E.substr(C).replace(/(\d{3})(?=\d)/g,"$1"+H),I&&(Q+=O+V.slice(-I)),P[1]&&+Q!=0&&(Q+="e"+P[1]),Q}const{defaultOptions:n,defaultTime:w}=c,{getNestedProperty:$,isNumber:ee,pick:z,pInt:Y}=d;return{dateFormat:function(Q,I,O){return w.dateFormat(Q,I,O)},format:function(Q,I,O){var H="{";let A=!1,E;const P=/f$/,G=/\.([0-9])/,V=n.lang,C=O&&O.time||w;O=O&&O.numberFormatter||m;const ne=[];for(;Q&&(E=Q.indexOf(H),E!==-1);){var te=Q.slice(0,E);if(A){if(te=te.split(":"),H=$(te.shift()||"",I),te.length&&typeof H=="number")if(te=te.join(":"),P.test(te)){const F=parseInt((te.match(G)||["","-1"])[1],10);H!==null&&(H=O(H,F,V.decimalPoint,-1<te.indexOf(",")?V.thousandsSep:""))}else H=C.dateFormat(te,H);ne.push(H)}else ne.push(te);Q=Q.slice(E+1),H=(A=!A)?"}":"{"}return ne.push(Q),ne.join("")},numberFormat:m}}),s(l,"Core/Renderer/RendererUtilities.js",[l["Core/Utilities.js"]],function(c){const{clamp:d,pick:m,stableSort:n}=c;var w;return function($){function ee(z,Y,Q){const I=z;var O=I.reducedLen||Y,H=(C,ne)=>(ne.rank||0)-(C.rank||0);const A=(C,ne)=>C.target-ne.target;let E,P=!0,G=[],V=0;for(E=z.length;E--;)V+=z[E].size;if(V>O){for(n(z,H),V=E=0;V<=O;)V+=z[E].size,E++;G=z.splice(E-1,z.length)}for(n(z,A),z=z.map(C=>({size:C.size,targets:[C.target],align:m(C.align,.5)}));P;){for(E=z.length;E--;)O=z[E],H=(Math.min.apply(0,O.targets)+Math.max.apply(0,O.targets))/2,O.pos=d(H-O.size*O.align,0,Y-O.size);for(E=z.length,P=!1;E--;)0<E&&z[E-1].pos+z[E-1].size>z[E].pos&&(z[E-1].size+=z[E].size,z[E-1].targets=z[E-1].targets.concat(z[E].targets),z[E-1].align=.5,z[E-1].pos+z[E-1].size>Y&&(z[E-1].pos=Y-z[E-1].size),z.splice(E,1),P=!0)}return I.push.apply(I,G),E=0,z.some(C=>{let ne=0;return(C.targets||[]).some(()=>(I[E].pos=C.pos+ne,typeof Q<"u"&&Math.abs(I[E].pos-I[E].target)>Q?(I.slice(0,E+1).forEach(te=>delete te.pos),I.reducedLen=(I.reducedLen||Y)-.1*Y,I.reducedLen>.1*Y&&ee(I,Y,Q),!0):(ne+=I[E].size,E++,!1)))}),n(I,A),I}$.distribute=ee}(w||(w={})),w}),s(l,"Core/Renderer/SVG/SVGElement.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d,m,n){const{animate:w,animObject:$,stop:ee}=c,{deg2rad:z,doc:Y,svg:Q,SVG_NS:I,win:O}=m,{addEvent:H,attr:A,createElement:E,css:P,defined:G,erase:V,extend:C,fireEvent:ne,isArray:te,isFunction:F,isObject:N,isString:X,merge:M,objectEach:L,pick:f,pInt:y,syncTimeout:b,uniqueKey:S}=n;class j{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=I}_defaultGetter(W){return W=f(this[W+"Value"],this[W],this.element?this.element.getAttribute(W):null,0),/^[\-0-9\.]+$/.test(W)&&(W=parseFloat(W)),W}_defaultSetter(W,re,ue){ue.setAttribute(re,W)}add(W){const re=this.renderer,ue=this.element;let ve;return W&&(this.parentGroup=W),typeof this.textStr<"u"&&this.element.nodeName==="text"&&re.buildText(this),this.added=!0,(!W||W.handleZ||this.zIndex)&&(ve=this.zIndexSetter()),ve||(W?W.element:re.box).appendChild(ue),this.onAdd&&this.onAdd(),this}addClass(W,re){const ue=re?"":this.attr("class")||"";return W=(W||"").split(/ /g).reduce(function(ve,q){return ue.indexOf(q)===-1&&ve.push(q),ve},ue?[ue]:[]).join(" "),W!==ue&&this.attr("class",W),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(W,re,ue){const ve={};var q=this.renderer,se=q.alignedObjects,pe;let xe,Pe;W?(this.alignOptions=W,this.alignByTranslate=re,(!ue||X(ue))&&(this.alignTo=pe=ue||"renderer",V(se,this),se.push(this),ue=void 0)):(W=this.alignOptions,re=this.alignByTranslate,pe=this.alignTo),ue=f(ue,q[pe],pe==="scrollablePlotBox"?q.plotBox:void 0,q),pe=W.align;const ce=W.verticalAlign;return q=(ue.x||0)+(W.x||0),se=(ue.y||0)+(W.y||0),pe==="right"?xe=1:pe==="center"&&(xe=2),xe&&(q+=(ue.width-(W.width||0))/xe),ve[re?"translateX":"x"]=Math.round(q),ce==="bottom"?Pe=1:ce==="middle"&&(Pe=2),Pe&&(se+=(ue.height-(W.height||0))/Pe),ve[re?"translateY":"y"]=Math.round(se),this[this.placed?"animate":"attr"](ve),this.placed=!0,this.alignAttr=ve,this}alignSetter(W){const re={left:"start",center:"middle",right:"end"};re[W]&&(this.alignValue=W,this.element.setAttribute("text-anchor",re[W]))}animate(W,re,ue){const ve=$(f(re,this.renderer.globalAnimation,!0));return re=ve.defer,Y.hidden&&(ve.duration=0),ve.duration!==0?(ue&&(ve.complete=ue),b(()=>{this.element&&w(this,W,ve)},re)):(this.attr(W,void 0,ue||ve.complete),L(W,function(q,se){ve.step&&ve.step.call(this,q,{prop:se,pos:1,elem:this})},this)),this}applyTextOutline(W){const re=this.element;W.indexOf("contrast")!==-1&&(W=W.replace(/contrast/g,this.renderer.getContrast(re.style.fill)));var ue=W.split(" ");if(W=ue[ue.length-1],(ue=ue[0])&&ue!=="none"&&m.svg){this.fakeTS=!0,ue=ue.replace(/(^[\d\.]+)(.*?)$/g,function(se,pe,xe){return 2*Number(pe)+xe}),this.removeTextOutline();const ve=Y.createElementNS(I,"tspan");A(ve,{class:"highcharts-text-outline",fill:W,stroke:W,"stroke-width":ue,"stroke-linejoin":"round"}),W=re.querySelector("textPath")||re,[].forEach.call(W.childNodes,se=>{const pe=se.cloneNode(!0);pe.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(xe=>pe.removeAttribute(xe)),ve.appendChild(pe)});let q=0;[].forEach.call(W.querySelectorAll("text tspan"),se=>{q+=Number(se.getAttribute("dy"))}),ue=Y.createElementNS(I,"tspan"),ue.textContent="​",A(ue,{x:Number(re.getAttribute("x")),dy:-q}),ve.appendChild(ue),W.insertBefore(ve,W.firstChild)}}attr(W,re,ue,ve){const q=this.element,se=j.symbolCustomAttribs;let pe,xe,Pe=this,ce,ye;return typeof W=="string"&&typeof re<"u"&&(pe=W,W={},W[pe]=re),typeof W=="string"?Pe=(this[W+"Getter"]||this._defaultGetter).call(this,W,q):(L(W,function(_e,le){ce=!1,ve||ee(this,le),this.symbolName&&se.indexOf(le)!==-1&&(xe||(this.symbolAttr(W),xe=!0),ce=!0),!this.rotation||le!=="x"&&le!=="y"||(this.doTransform=!0),ce||(ye=this[le+"Setter"]||this._defaultSetter,ye.call(this,_e,le,q))},this),this.afterSetters()),ue&&ue.call(this),Pe}clip(W){return this.attr("clip-path",W?"url("+this.renderer.url+"#"+W.id+")":"none")}crisp(W,re){re=re||W.strokeWidth||0;const ue=Math.round(re)%2/2;return W.x=Math.floor(W.x||this.x||0)+ue,W.y=Math.floor(W.y||this.y||0)+ue,W.width=Math.floor((W.width||this.width||0)-2*ue),W.height=Math.floor((W.height||this.height||0)-2*ue),G(W.strokeWidth)&&(W.strokeWidth=re),W}complexColor(W,re,ue){const ve=this.renderer;let q,se,pe,xe,Pe,ce,ye,_e,le,Z,me=[],Me;ne(this.renderer,"complexColor",{args:arguments},function(){if(W.radialGradient?se="radialGradient":W.linearGradient&&(se="linearGradient"),se){if(pe=W[se],Pe=ve.gradients,ce=W.stops,le=ue.radialReference,te(pe)&&(W[se]=pe={x1:pe[0],y1:pe[1],x2:pe[2],y2:pe[3],gradientUnits:"userSpaceOnUse"}),se==="radialGradient"&&le&&!G(pe.gradientUnits)&&(xe=pe,pe=M(pe,ve.getRadialAttr(le,xe),{gradientUnits:"userSpaceOnUse"})),L(pe,function(Ee,ze){ze!=="id"&&me.push(ze,Ee)}),L(ce,function(Ee){me.push(Ee)}),me=me.join(","),Pe[me])Z=Pe[me].attr("id");else{pe.id=Z=S();const Ee=Pe[me]=ve.createElement(se).attr(pe).add(ve.defs);Ee.radAttr=xe,Ee.stops=[],ce.forEach(function(ze){ze[1].indexOf("rgba")===0?(q=d.parse(ze[1]),ye=q.get("rgb"),_e=q.get("a")):(ye=ze[1],_e=1),ze=ve.createElement("stop").attr({offset:ze[0],"stop-color":ye,"stop-opacity":_e}).add(Ee),Ee.stops.push(ze)})}Me="url("+ve.url+"#"+Z+")",ue.setAttribute(re,Me),ue.gradient=me,W.toString=function(){return Me}}})}css(W){const re=this.styles,ue={},ve=this.element;let q,se=!re;if(W.color&&(W.fill=W.color),re&&L(W,function(pe,xe){re&&re[xe]!==pe&&(ue[xe]=pe,se=!0)}),se){re&&(W=C(re,ue)),W.width===null||W.width==="auto"?delete this.textWidth:ve.nodeName.toLowerCase()==="text"&&W.width&&(q=this.textWidth=y(W.width)),this.styles=W,q&&!Q&&this.renderer.forExport&&delete W.width;const pe=M(W);ve.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(xe=>pe&&delete pe[xe]),P(ve,pe)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),W.textOutline&&this.applyTextOutline(W.textOutline)),this}dashstyleSetter(W){let re=this["stroke-width"];if(re==="inherit"&&(re=1),W=W&&W.toLowerCase()){const ue=W.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(W=ue.length;W--;)ue[W]=""+y(ue[W])*f(re,NaN);W=ue.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",W)}}destroy(){const W=this;var re=W.element||{};const ue=W.renderer;var ve=re.ownerSVGElement;let q=re.nodeName==="SPAN"&&W.parentGroup||void 0;if(re.onclick=re.onmouseout=re.onmouseover=re.onmousemove=re.point=null,ee(W),W.clipPath&&ve){const se=W.clipPath;[].forEach.call(ve.querySelectorAll("[clip-path],[CLIP-PATH]"),function(pe){-1<pe.getAttribute("clip-path").indexOf(se.element.id)&&pe.removeAttribute("clip-path")}),W.clipPath=se.destroy()}if(W.stops){for(ve=0;ve<W.stops.length;ve++)W.stops[ve].destroy();W.stops.length=0,W.stops=void 0}for(W.safeRemoveChild(re);q&&q.div&&q.div.childNodes.length===0;)re=q.parentGroup,W.safeRemoveChild(q.div),delete q.div,q=re;W.alignTo&&V(ue.alignedObjects,W),L(W,function(se,pe){W[pe]&&W[pe].parentGroup===W&&W[pe].destroy&&W[pe].destroy(),delete W[pe]})}dSetter(W,re,ue){te(W)&&(typeof W[0]=="string"&&(W=this.renderer.pathToSegments(W)),this.pathArray=W,W=W.reduce((ve,q,se)=>q&&q.join?(se?ve+" ":"")+q.join(" "):(q||"").toString(),"")),/(NaN| {2}|^$)/.test(W)&&(W="M 0 0"),this[re]!==W&&(ue.setAttribute(re,W),this[re]=W)}fadeOut(W){const re=this;re.animate({opacity:0},{duration:f(W,150),complete:function(){re.hide()}})}fillSetter(W,re,ue){typeof W=="string"?ue.setAttribute(re,W):W&&this.complexColor(W,re,ue)}getBBox(W,re){const{alignValue:ue,element:ve,renderer:q,styles:se,textStr:pe}=this,{cache:xe,cacheKeys:Pe}=q;var ce=ve.namespaceURI===this.SVG_NS;re=f(re,this.rotation,0);var ye=q.styledMode?ve&&j.prototype.getStyle.call(ve,"font-size"):se&&se.fontSize;let _e,le;if(G(pe)&&(le=pe.toString(),le.indexOf("<")===-1&&(le=le.replace(/[0-9]/g,"0")),le+=["",q.rootFontSize,ye,re,this.textWidth,ue,se&&se.textOverflow,se&&se.fontWeight].join()),le&&!W&&(_e=xe[le]),!_e){if(ce||q.forExport){try{var Z=this.fakeTS&&function(Qe){const Ke=ve.querySelector(".highcharts-text-outline");Ke&&P(Ke,{display:Qe})};F(Z)&&Z("none"),_e=ve.getBBox?C({},ve.getBBox()):{width:ve.offsetWidth,height:ve.offsetHeight,x:0,y:0},F(Z)&&Z("")}catch{}(!_e||0>_e.width)&&(_e={x:0,y:0,width:0,height:0})}else _e=this.htmlGetBBox();if(Z=_e.width,W=_e.height,ce&&(_e.height=W={"11px,17":14,"13px,20":16}[`${ye||""},${Math.round(W)}`]||W),re){ce=Number(ve.getAttribute("y")||0)-_e.y,ye={right:1,center:.5}[ue||0]||0;var me=re*z,Me=(re-90)*z,Ee=Z*Math.cos(me);re=Z*Math.sin(me);var ze=Math.cos(Me);me=Math.sin(Me),Z=_e.x+ye*(Z-Ee)+ce*ze,Me=Z+Ee,ze=Me-W*ze,Ee=ze-Ee,ce=_e.y+ce-ye*re+ce*me,ye=ce+re,W=ye-W*me,re=W-re,_e.x=Math.min(Z,Me,ze,Ee),_e.y=Math.min(ce,ye,W,re),_e.width=Math.max(Z,Me,ze,Ee)-_e.x,_e.height=Math.max(ce,ye,W,re)-_e.y}}if(le&&(pe===""||0<_e.height)){for(;250<Pe.length;)delete xe[Pe.shift()];xe[le]||Pe.push(le),xe[le]=_e}return _e}getStyle(W){return O.getComputedStyle(this.element||this,"").getPropertyValue(W)}hasClass(W){return(""+this.attr("class")).split(" ").indexOf(W)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(W,re){this.element=re==="span"?E(re):Y.createElementNS(this.SVG_NS,re),this.renderer=W,ne(this,"afterInit")}on(W,re){const{onEvents:ue}=this;return ue[W]&&ue[W](),ue[W]=H(this.element,W,re),this}opacitySetter(W,re,ue){this.opacity=W=Number(Number(W).toFixed(3)),ue.setAttribute(re,W)}removeClass(W){return this.attr("class",(""+this.attr("class")).replace(X(W)?new RegExp(`(^| )${W}( |$)`):W," ").replace(/ +/g," ").trim())}removeTextOutline(){const W=this.element.querySelector("tspan.highcharts-text-outline");W&&this.safeRemoveChild(W)}safeRemoveChild(W){const re=W.parentNode;re&&re.removeChild(W)}setRadialReference(W){const re=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=W,re&&re.radAttr&&re.animate(this.renderer.getRadialAttr(W,re.radAttr)),this}setTextPath(W,re){re=M(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},re);const ue=this.renderer.url,ve=this.text||this,q=ve.textPath,{attributes:se,enabled:pe}=re;return W=W||q&&q.path,q&&q.undo(),W&&pe?(re=H(ve,"afterModifyTree",xe=>{if(W&&pe){let ce=W.attr("id");ce||W.attr("id",ce=S());var Pe={x:0,y:0};G(se.dx)&&(Pe.dx=se.dx,delete se.dx),G(se.dy)&&(Pe.dy=se.dy,delete se.dy),ve.attr(Pe),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),Pe=xe.nodes.slice(0),xe.nodes.length=0,xe.nodes[0]={tagName:"textPath",attributes:C(se,{"text-anchor":se.textAnchor,href:`${ue}#${ce}`}),children:Pe}}}),ve.textPath={path:W,undo:re}):(ve.attr({dx:0,dy:0}),delete ve.textPath),this.added&&(ve.textCache="",this.renderer.buildText(ve)),this}shadow(W){var re;const{renderer:ue}=this,ve=M(((re=this.parentGroup)===null||re===void 0?void 0:re.rotation)===90?{offsetX:-1,offsetY:-1}:{},N(W)?W:{});return re=ue.shadowDefinition(ve),this.attr({filter:W?`url(${ue.url}#${re})`:"none"})}show(W=!0){return this.attr({visibility:W?"inherit":"visible"})}"stroke-widthSetter"(W,re,ue){this[re]=W,ue.setAttribute(re,W)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const W=this.getStyle("stroke-width");let re=0,ue;return W.indexOf("px")===W.length-2?re=y(W):W!==""&&(ue=Y.createElementNS(I,"rect"),A(ue,{width:W,"stroke-width":0}),this.element.parentNode.appendChild(ue),re=ue.getBBox().width,ue.parentNode.removeChild(ue)),re}symbolAttr(W){const re=this;j.symbolCustomAttribs.forEach(function(ue){re[ue]=f(W[ue],re[ue])}),re.attr({d:re.renderer.symbols[re.symbolName](re.x,re.y,re.width,re.height,re)})}textSetter(W){W!==this.textStr&&(delete this.textPxLength,this.textStr=W,this.added&&this.renderer.buildText(this))}titleSetter(W){const re=this.element,ue=re.getElementsByTagName("title")[0]||Y.createElementNS(this.SVG_NS,"title");re.insertBefore?re.insertBefore(ue,re.firstChild):re.appendChild(ue),ue.textContent=String(f(W,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const W=this.element;return W.parentNode.appendChild(W),this}translate(W,re){return this.attr({translateX:W,translateY:re})}updateTransform(){const{element:W,matrix:re,rotation:ue=0,scaleX:ve,scaleY:q,translateX:se=0,translateY:pe=0}=this,xe=["translate("+se+","+pe+")"];G(re)&&xe.push("matrix("+re.join(",")+")"),ue&&xe.push("rotate("+ue+" "+f(this.rotationOriginX,W.getAttribute("x"),0)+" "+f(this.rotationOriginY,W.getAttribute("y")||0)+")"),(G(ve)||G(q))&&xe.push("scale("+f(ve,1)+" "+f(q,1)+")"),xe.length&&!(this.text||this).textPath&&W.setAttribute("transform",xe.join(" "))}visibilitySetter(W,re,ue){W==="inherit"?ue.removeAttribute(re):this[re]!==W&&ue.setAttribute(re,W),this[re]=W}xGetter(W){return this.element.nodeName==="circle"&&(W==="x"?W="cx":W==="y"&&(W="cy")),this._defaultGetter(W)}zIndexSetter(W,re){var ue=this.renderer,ve=this.parentGroup;const q=(ve||ue).element||ue.box,se=this.element;ue=q===ue.box;let pe=!1,xe;var Pe=this.added;let ce;if(G(W)?(se.setAttribute("data-z-index",W),W=+W,this[re]===W&&(Pe=!1)):G(this[re])&&se.removeAttribute("data-z-index"),this[re]=W,Pe){for((W=this.zIndex)&&ve&&(ve.handleZ=!0),re=q.childNodes,ce=re.length-1;0<=ce&&!pe;ce--)ve=re[ce],Pe=ve.getAttribute("data-z-index"),xe=!G(Pe),ve!==se&&(0>W&&xe&&!ue&&!ce?(q.insertBefore(se,re[ce]),pe=!0):(y(Pe)<=W||xe&&(!G(W)||0<=W))&&(q.insertBefore(se,re[ce+1]),pe=!0));pe||(q.insertBefore(se,re[ue?3:0]),pe=!0)}return pe}}return j.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),j.prototype.strokeSetter=j.prototype.fillSetter,j.prototype.yGetter=j.prototype.xGetter,j.prototype.matrixSetter=j.prototype.rotationOriginXSetter=j.prototype.rotationOriginYSetter=j.prototype.rotationSetter=j.prototype.scaleXSetter=j.prototype.scaleYSetter=j.prototype.translateXSetter=j.prototype.translateYSetter=j.prototype.verticalAlignSetter=function(J,W){this[W]=J,this.doTransform=!0},j}),s(l,"Core/Renderer/RendererRegistry.js",[l["Core/Globals.js"]],function(c){var d;return function(m){m.rendererTypes={};let n;m.getRendererType=function(w=n){return m.rendererTypes[w]||m.rendererTypes[n]},m.registerRendererType=function(w,$,ee){m.rendererTypes[w]=$,(!n||ee)&&(n=w,c.Renderer=$)}}(d||(d={})),d}),s(l,"Core/Renderer/SVG/SVGLabel.js",[l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(c,d){const{defined:m,extend:n,isNumber:w,merge:$,pick:ee,removeEvent:z}=d;class Y extends c{constructor(I,O,H,A,E,P,G,V,C,ne){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(I,"g"),this.textStr=O,this.x=H,this.y=A,this.anchorX=P,this.anchorY=G,this.baseline=C,this.className=ne,this.addClass(ne==="button"?"highcharts-no-tooltip":"highcharts-label"),ne&&this.addClass("highcharts-"+ne),this.text=I.text(void 0,0,0,V).attr({zIndex:1});let te;typeof E=="string"&&((te=/^url\((.*?)\)$/.test(E))||this.renderer.symbols[E])&&(this.symbolKey=E),this.bBox=Y.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=I.styledMode||te,this.deferredAttr={},this.alignFactor=0}alignSetter(I){I={left:0,center:.5,right:1}[I],I!==this.alignFactor&&(this.alignFactor=I,this.bBox&&w(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(I,O){this.anchorX=I,this.boxAttr(O,Math.round(I)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(I,O){this.anchorY=I,this.boxAttr(O,I-this.ySetting)}boxAttr(I,O){this.box?this.box.attr(I,O):this.deferredAttr[I]=O}css(I){if(I){const O={};I=$(I),Y.textProps.forEach(H=>{typeof I[H]<"u"&&(O[H]=I[H],delete I[H])}),this.text.css(O),"fontSize"in O||"fontWeight"in O?this.updateTextPadding():("width"in O||"textOverflow"in O)&&this.updateBoxSize()}return c.prototype.css.call(this,I)}destroy(){z(this.element,"mouseenter"),z(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),c.prototype.destroy.call(this)}fillSetter(I,O){I&&(this.needsBox=!0),this.fill=I,this.boxAttr(O,I)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const I=this.padding,O=ee(this.paddingLeft,I);return{width:this.width,height:this.height,x:this.bBox.x-O,y:this.bBox.y-I}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(I){this.heightSetting=I}onAdd(){this.text.add(this),this.attr({text:ee(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&m(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(I,O){w(I)?I!==this[O]&&(this[O]=I,this.updateTextPadding()):this[O]=void 0}rSetter(I,O){this.boxAttr(O,I)}strokeSetter(I,O){this.stroke=I,this.boxAttr(O,I)}"stroke-widthSetter"(I,O){I&&(this.needsBox=!0),this["stroke-width"]=I,this.boxAttr(O,I)}"text-alignSetter"(I){this.textAlign=I}textSetter(I){typeof I<"u"&&this.text.attr({text:I}),this.updateTextPadding()}updateBoxSize(){var I=this.text;const O={},H=this.padding,A=this.bBox=w(this.widthSetting)&&w(this.heightSetting)&&!this.textAlign||!m(I.textStr)?Y.emptyBBox:I.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||A.height||0)+2*H;const E=this.renderer.fontMetrics(I);this.baselineOffset=H+Math.min((this.text.firstLineMetrics||E).b,A.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-E.h)/2),this.needsBox&&!I.textPath&&(this.box||(I=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),I.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),I.add(this)),I=this.getCrispAdjust(),O.x=I,O.y=(this.baseline?-this.baselineOffset:0)+I,O.width=Math.round(this.width),O.height=Math.round(this.height),this.box.attr(n(O,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const I=this.text;if(!I.textPath){this.updateBoxSize();const O=this.baseline?0:this.baselineOffset;let H=ee(this.paddingLeft,this.padding);m(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(H+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(H!==I.x||O!==I.y)&&(I.attr("x",H),I.hasBoxWidthChanged&&(this.bBox=I.getBBox(!0)),typeof O<"u"&&I.attr("y",O)),I.x=H,I.y=O}}widthSetter(I){this.widthSetting=w(I)?I:void 0}getPaddedWidth(){var I=this.padding;const O=ee(this.paddingLeft,I);return I=ee(this.paddingRight,I),(this.widthSetting||this.bBox.width||0)+O+I}xSetter(I){this.x=I,this.alignFactor&&(I-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(I),this.attr("translateX",this.xSetting)}ySetter(I){this.ySetting=this.y=Math.round(I),this.attr("translateY",this.ySetting)}}return Y.emptyBBox={width:0,height:0,x:0,y:0},Y.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),Y}),s(l,"Core/Renderer/SVG/Symbols.js",[l["Core/Utilities.js"]],function(c){function d(z,Y,Q,I,O){const H=[];if(O){const A=O.start||0,E=ee(O.r,Q);Q=ee(O.r,I||Q),I=(O.end||0)-.001;const P=O.innerR,G=ee(O.open,.001>Math.abs((O.end||0)-A-2*Math.PI)),V=Math.cos(A),C=Math.sin(A),ne=Math.cos(I),te=Math.sin(I),F=ee(O.longArc,.001>I-A-Math.PI?0:1);let N=["A",E,Q,0,F,ee(O.clockwise,1),z+E*ne,Y+Q*te];N.params={start:A,end:I,cx:z,cy:Y},H.push(["M",z+E*V,Y+Q*C],N),w(P)&&(N=["A",P,P,0,F,w(O.clockwise)?1-O.clockwise:0,z+P*V,Y+P*C],N.params={start:I,end:A,cx:z,cy:Y},H.push(G?["M",z+P*ne,Y+P*te]:["L",z+P*ne,Y+P*te],N)),G||H.push(["Z"])}return H}function m(z,Y,Q,I,O){return O&&O.r?n(z,Y,Q,I,O):[["M",z,Y],["L",z+Q,Y],["L",z+Q,Y+I],["L",z,Y+I],["Z"]]}function n(z,Y,Q,I,O){return O=(O==null?void 0:O.r)||0,[["M",z+O,Y],["L",z+Q-O,Y],["A",O,O,0,0,1,z+Q,Y+O],["L",z+Q,Y+I-O],["A",O,O,0,0,1,z+Q-O,Y+I],["L",z+O,Y+I],["A",O,O,0,0,1,z,Y+I-O],["L",z,Y+O],["A",O,O,0,0,1,z+O,Y],["Z"]]}const{defined:w,isNumber:$,pick:ee}=c;return{arc:d,callout:function(z,Y,Q,I,O){const H=Math.min(O&&O.r||0,Q,I),A=H+6,E=O&&O.anchorX;O=O&&O.anchorY||0;const P=n(z,Y,Q,I,{r:H});return $(E)&&(z+E>=Q?O>Y+A&&O<Y+I-A?P.splice(3,1,["L",z+Q,O-6],["L",z+Q+6,O],["L",z+Q,O+6],["L",z+Q,Y+I-H]):P.splice(3,1,["L",z+Q,I/2],["L",E,O],["L",z+Q,I/2],["L",z+Q,Y+I-H]):0>=z+E?O>Y+A&&O<Y+I-A?P.splice(7,1,["L",z,O+6],["L",z-6,O],["L",z,O-6],["L",z,Y+H]):P.splice(7,1,["L",z,I/2],["L",E,O],["L",z,I/2],["L",z,Y+H]):O&&O>I&&E>z+A&&E<z+Q-A?P.splice(5,1,["L",E+6,Y+I],["L",E,Y+I+6],["L",E-6,Y+I],["L",z+H,Y+I]):O&&0>O&&E>z+A&&E<z+Q-A&&P.splice(1,1,["L",E-6,Y],["L",E,Y-6],["L",E+6,Y],["L",Q-H,Y])),P},circle:function(z,Y,Q,I){return d(z+Q/2,Y+I/2,Q/2,I/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(z,Y,Q,I){return[["M",z+Q/2,Y],["L",z+Q,Y+I/2],["L",z+Q/2,Y+I],["L",z,Y+I/2],["Z"]]},rect:m,roundedRect:n,square:m,triangle:function(z,Y,Q,I){return[["M",z+Q/2,Y],["L",z+Q,Y+I],["L",z,Y+I],["Z"]]},"triangle-down":function(z,Y,Q,I){return[["M",z,Y],["L",z+Q,Y],["L",z+Q/2,Y+I],["Z"]]}}}),s(l,"Core/Renderer/SVG/TextBuilder.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d,m){const{doc:n,SVG_NS:w,win:$}=d,{attr:ee,extend:z,fireEvent:Y,isString:Q,objectEach:I,pick:O}=m;class H{constructor(E){const P=E.styles;this.renderer=E.renderer,this.svgElement=E,this.width=E.textWidth,this.textLineHeight=P&&P.lineHeight,this.textOutline=P&&P.textOutline,this.ellipsis=!(!P||P.textOverflow!=="ellipsis"),this.noWrap=!(!P||P.whiteSpace!=="nowrap")}buildSVG(){const E=this.svgElement,P=E.element;var G=E.renderer,V=O(E.textStr,"").toString();const C=V.indexOf("<")!==-1,ne=P.childNodes;G=!E.added&&G.box;const te=/<br.*?>/g;var F=[V,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,E.getStyle("font-size"),this.width].join();if(F!==E.textCache){for(E.textCache=F,delete E.actualWidth,F=ne.length;F--;)P.removeChild(ne[F]);C||this.ellipsis||this.width||E.textPath||V.indexOf(" ")!==-1&&(!this.noWrap||te.test(V))?V!==""&&(G&&G.appendChild(P),V=new c(V),this.modifyTree(V.nodes),V.addToDOM(P),this.modifyDOM(),this.ellipsis&&(P.textContent||"").indexOf("…")!==-1&&E.attr("title",this.unescapeEntities(E.textStr||"",["&lt;","&gt;"])),G&&G.removeChild(P)):P.appendChild(n.createTextNode(this.unescapeEntities(V))),Q(this.textOutline)&&E.applyTextOutline&&E.applyTextOutline(this.textOutline)}}modifyDOM(){const E=this.svgElement,P=ee(E.element,"x");E.firstLineMetrics=void 0;let G;for(;(G=E.element.firstChild)&&/^[\s\u200B]*$/.test(G.textContent||" ");)E.element.removeChild(G);[].forEach.call(E.element.querySelectorAll("tspan.highcharts-br"),(te,F)=>{te.nextSibling&&te.previousSibling&&(F===0&&te.previousSibling.nodeType===1&&(E.firstLineMetrics=E.renderer.fontMetrics(te.previousSibling)),ee(te,{dy:this.getLineHeight(te.nextSibling),x:P}))});const V=this.width||0;if(V){var C=(te,F)=>{var N=te.textContent||"";const X=N.replace(/([^\^])-/g,"$1- ").split(" ");var M=!this.noWrap&&(1<X.length||1<E.element.childNodes.length);const L=this.getLineHeight(F);let f=0,y=E.actualWidth;if(this.ellipsis)N&&this.truncate(te,N,void 0,0,Math.max(0,V-.8*L),(b,S)=>b.substring(0,S)+"…");else if(M){for(N=[],M=[];F.firstChild&&F.firstChild!==te;)M.push(F.firstChild),F.removeChild(F.firstChild);for(;X.length;)X.length&&!this.noWrap&&0<f&&(N.push(te.textContent||""),te.textContent=X.join(" ").replace(/- /g,"-")),this.truncate(te,void 0,X,f===0&&y||0,V,(b,S)=>X.slice(0,S).join(" ").replace(/- /g,"-")),y=E.actualWidth,f++;M.forEach(b=>{F.insertBefore(b,te)}),N.forEach(b=>{F.insertBefore(n.createTextNode(b),te),b=n.createElementNS(w,"tspan"),b.textContent="​",ee(b,{dy:L,x:P}),F.insertBefore(b,te)})}},ne=te=>{[].slice.call(te.childNodes).forEach(F=>{F.nodeType===$.Node.TEXT_NODE?C(F,te):(F.className.baseVal.indexOf("highcharts-br")!==-1&&(E.actualWidth=0),ne(F))})};ne(E.element)}}getLineHeight(E){return E=E.nodeType===$.Node.TEXT_NODE?E.parentElement:E,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(E||this.svgElement.element).h}modifyTree(E){const P=(G,V)=>{const{attributes:C={},children:ne,style:te={},tagName:F}=G,N=this.renderer.styledMode;F==="b"||F==="strong"?N?C.class="highcharts-strong":te.fontWeight="bold":(F==="i"||F==="em")&&(N?C.class="highcharts-emphasized":te.fontStyle="italic"),te&&te.color&&(te.fill=te.color),F==="br"?(C.class="highcharts-br",G.textContent="​",(V=E[V+1])&&V.textContent&&(V.textContent=V.textContent.replace(/^ +/gm,""))):F==="a"&&ne&&ne.some(X=>X.tagName==="#text")&&(G.children=[{children:ne,tagName:"tspan"}]),F!=="#text"&&F!=="a"&&(G.tagName="tspan"),z(G,{attributes:C,style:te}),ne&&ne.filter(X=>X.tagName!=="#text").forEach(P)};E.forEach(P),Y(this.svgElement,"afterModifyTree",{nodes:E})}truncate(E,P,G,V,C,ne){const te=this.svgElement,{rotation:F}=te,N=[];let X=G?1:0,M=(P||G||"").length,L=M,f,y;const b=function(S,j){if(S=j||S,(j=E.parentNode)&&typeof N[S]>"u"&&j.getSubStringLength)try{N[S]=V+j.getSubStringLength(0,G?S+1:S)}catch{}return N[S]};if(te.rotation=0,y=b(E.textContent.length),V+y>C){for(;X<=M;)L=Math.ceil((X+M)/2),G&&(f=ne(G,L)),y=b(L,f&&f.length-1),X===M?X=M+1:y>C?M=L-1:X=L;M===0?E.textContent="":P&&M===P.length-1||(E.textContent=f||ne(P||G,L))}G&&G.splice(0,L),te.actualWidth=y,te.rotation=F}unescapeEntities(E,P){return I(this.renderer.escapes,function(G,V){P&&P.indexOf(G)!==-1||(E=E.toString().replace(new RegExp(G,"g"),V))}),E}}return H}),s(l,"Core/Renderer/SVG/SVGRenderer.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGLabel.js"],l["Core/Renderer/SVG/Symbols.js"],l["Core/Renderer/SVG/TextBuilder.js"],l["Core/Utilities.js"]],function(c,d,m,n,w,$,ee,z,Y){const{charts:Q,deg2rad:I,doc:O,isFirefox:H,isMS:A,isWebKit:E,noop:P,SVG_NS:G,symbolSizes:V,win:C}=m,{addEvent:ne,attr:te,createElement:F,css:N,defined:X,destroyObjectProperties:M,extend:L,isArray:f,isNumber:y,isObject:b,isString:S,merge:j,pick:J,pInt:W,uniqueKey:re}=Y;let ue;class ve{constructor(se,pe,xe,Pe,ce,ye,_e){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(se,pe,xe,Pe,ce,ye,_e)}init(se,pe,xe,Pe,ce,ye,_e){const le=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Z=le.element;_e||le.css(this.getStyle(Pe)),se.appendChild(Z),te(se,"dir","ltr"),se.innerHTML.indexOf("xmlns")===-1&&te(Z,"xmlns",this.SVG_NS),this.box=Z,this.boxWrapper=le,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(O.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=ye,this.forExport=ce,this.styledMode=_e,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=le.getStyle("font-size"),this.setSize(pe,xe,!1);let me;H&&se.getBoundingClientRect&&(pe=function(){N(se,{left:0,top:0}),me=se.getBoundingClientRect(),N(se,{left:Math.ceil(me.left)-me.left+"px",top:Math.ceil(me.top)-me.top+"px"})},pe(),this.unSubPixelFix=ne(C,"resize",pe))}definition(se){return new c([se]).addToDOM(this.defs.element)}getReferenceURL(){if((H||E)&&O.getElementsByTagName("base").length){if(!X(ue)){var se=re();se=new c([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:se},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${se})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(O.body),N(se,{position:"fixed",top:0,left:0,zIndex:9e5});const pe=O.elementFromPoint(6,6);ue=(pe&&pe.id)==="hitme",O.body.removeChild(se)}if(ue)return C.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(se){return this.style=L({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},se)}setStyle(se){this.boxWrapper.css(this.getStyle(se))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const se=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),M(this.gradients||{}),this.gradients=null,this.defs=se.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(se){const pe=new this.Element;return pe.init(this,se),pe}getRadialAttr(se,pe){return{cx:se[0]-se[2]/2+(pe.cx||0)*se[2],cy:se[1]-se[2]/2+(pe.cy||0)*se[2],r:(pe.r||0)*se[2]}}shadowDefinition(se){const pe=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(se).map(Pe=>se[Pe])].join("-").replace(/[^a-z0-9\-]/g,""),xe=j({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},se);return this.defs.element.querySelector(`#${pe}`)||this.definition({tagName:"filter",attributes:{id:pe},children:[{tagName:"feDropShadow",attributes:{dx:xe.offsetX,dy:xe.offsetY,"flood-color":xe.color,"flood-opacity":Math.min(5*xe.opacity,1),stdDeviation:xe.width/2}}]}),pe}buildText(se){new z(se).buildSVG()}getContrast(se){return se=d.parse(se).rgba.map(pe=>(pe/=255,.03928>=pe?pe/12.92:Math.pow((pe+.055)/1.055,2.4))),se=.2126*se[0]+.7152*se[1]+.0722*se[2],1.05/(se+.05)>(se+.05)/.05?"#FFFFFF":"#000000"}button(se,pe,xe,Pe,ce={},ye,_e,le,Z,me){const Me=this.label(se,pe,xe,Z,void 0,void 0,me,void 0,"button"),Ee=this.styledMode;se=ce.states||{};let ze=0;ce=j(ce),delete ce.states;const Qe=j({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},ce.style);delete ce.style;let Ke=c.filterUserAttributes(ce);Me.attr(j({padding:8,r:2},Ke));let ct,Ie,Be;return Ee||(Ke=j({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},Ke),ye=j(Ke,{fill:"#e6e6e6"},c.filterUserAttributes(ye||se.hover||{})),ct=ye.style,delete ye.style,_e=j(Ke,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},c.filterUserAttributes(_e||se.select||{})),Ie=_e.style,delete _e.style,le=j(Ke,{style:{color:"#cccccc"}},c.filterUserAttributes(le||se.disabled||{})),Be=le.style,delete le.style),ne(Me.element,A?"mouseover":"mouseenter",function(){ze!==3&&Me.setState(1)}),ne(Me.element,A?"mouseout":"mouseleave",function(){ze!==3&&Me.setState(ze)}),Me.setState=function(Ue){Ue!==1&&(Me.state=ze=Ue),Me.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Ue||0]),Ee||(Me.attr([Ke,ye,_e,le][Ue||0]),Ue=[Qe,ct,Ie,Be][Ue||0],b(Ue)&&Me.css(Ue))},Ee||(Me.attr(Ke).css(L({cursor:"default"},Qe)),me&&Me.text.css({pointerEvents:"none"})),Me.on("touchstart",Ue=>Ue.stopPropagation()).on("click",function(Ue){ze!==3&&Pe.call(Me,Ue)})}crispLine(se,pe,xe="round"){const Pe=se[0],ce=se[1];return X(Pe[1])&&Pe[1]===ce[1]&&(Pe[1]=ce[1]=Math[xe](Pe[1])-pe%2/2),X(Pe[2])&&Pe[2]===ce[2]&&(Pe[2]=ce[2]=Math[xe](Pe[2])+pe%2/2),se}path(se){const pe=this.styledMode?{}:{fill:"none"};return f(se)?pe.d=se:b(se)&&L(pe,se),this.createElement("path").attr(pe)}circle(se,pe,xe){return se=b(se)?se:typeof se>"u"?{}:{x:se,y:pe,r:xe},pe=this.createElement("circle"),pe.xSetter=pe.ySetter=function(Pe,ce,ye){ye.setAttribute("c"+ce,Pe)},pe.attr(se)}arc(se,pe,xe,Pe,ce,ye){return b(se)?(Pe=se,pe=Pe.y,xe=Pe.r,se=Pe.x):Pe={innerR:Pe,start:ce,end:ye},se=this.symbol("arc",se,pe,xe,xe,Pe),se.r=xe,se}rect(se,pe,xe,Pe,ce,ye){se=b(se)?se:typeof se>"u"?{}:{x:se,y:pe,r:ce,width:Math.max(xe||0,0),height:Math.max(Pe||0,0)};const _e=this.createElement("rect");return this.styledMode||(typeof ye<"u"&&(se["stroke-width"]=ye,L(se,_e.crisp(se))),se.fill="none"),_e.rSetter=function(le,Z,me){_e.r=le,te(me,{rx:le,ry:le})},_e.rGetter=function(){return _e.r||0},_e.attr(se)}roundedRect(se){return this.symbol("roundedRect").attr(se)}setSize(se,pe,xe){this.width=se,this.height=pe,this.boxWrapper.animate({width:se,height:pe},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:J(xe,!0)?void 0:0}),this.alignElements()}g(se){const pe=this.createElement("g");return se?pe.attr({class:"highcharts-"+se}):pe}image(se,pe,xe,Pe,ce,ye){const _e={preserveAspectRatio:"none"},le=function(me,Me){me.setAttributeNS?me.setAttributeNS("http://www.w3.org/1999/xlink","href",Me):me.setAttribute("hc-svg-href",Me)};y(pe)&&(_e.x=pe),y(xe)&&(_e.y=xe),y(Pe)&&(_e.width=Pe),y(ce)&&(_e.height=ce);const Z=this.createElement("image").attr(_e);return pe=function(me){le(Z.element,se),ye.call(Z,me)},ye?(le(Z.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),xe=new C.Image,ne(xe,"load",pe),xe.src=se,xe.complete&&pe({})):le(Z.element,se),Z}symbol(se,pe,xe,Pe,ce,ye){const _e=this,le=/^url\((.*?)\)$/,Z=le.test(se),me=!Z&&(this.symbols[se]?se:"circle"),Me=me&&this.symbols[me];let Ee,ze,Qe,Ke;if(Me)typeof pe=="number"&&(ze=Me.call(this.symbols,Math.round(pe||0),Math.round(xe||0),Pe||0,ce||0,ye)),Ee=this.path(ze),_e.styledMode||Ee.attr("fill","none"),L(Ee,{symbolName:me||void 0,x:pe,y:xe,width:Pe,height:ce}),ye&&L(Ee,ye);else if(Z){Qe=se.match(le)[1];const ct=Ee=this.image(Qe);ct.imgwidth=J(ye&&ye.width,V[Qe]&&V[Qe].width),ct.imgheight=J(ye&&ye.height,V[Qe]&&V[Qe].height),Ke=Ie=>Ie.attr({width:Ie.width,height:Ie.height}),["width","height"].forEach(function(Ie){ct[Ie+"Setter"]=function(Be,Ue){this[Ue]=Be;const{alignByTranslate:We,element:st,width:wt,height:Ut,imgwidth:Vt,imgheight:yi}=this;if(Be=this["img"+Ue],X(Be)){let si=1;ye&&ye.backgroundSize==="within"&&wt&&Ut?(si=Math.min(wt/Vt,Ut/yi),te(st,{width:Math.round(Vt*si),height:Math.round(yi*si)})):st&&st.setAttribute(Ue,Be),We||this.translate(((wt||0)-Vt*si)/2,((Ut||0)-yi*si)/2)}}}),X(pe)&&ct.attr({x:pe,y:xe}),ct.isImg=!0,X(ct.imgwidth)&&X(ct.imgheight)?Ke(ct):(ct.attr({width:0,height:0}),F("img",{onload:function(){const Ie=Q[_e.chartIndex];this.width===0&&(N(this,{position:"absolute",top:"-999em"}),O.body.appendChild(this)),V[Qe]={width:this.width,height:this.height},ct.imgwidth=this.width,ct.imgheight=this.height,ct.element&&Ke(ct),this.parentNode&&this.parentNode.removeChild(this),_e.imgCount--,!_e.imgCount&&Ie&&!Ie.hasLoaded&&Ie.onload()},src:Qe}),this.imgCount++)}return Ee}clipRect(se,pe,xe,Pe){const ce=re()+"-",ye=this.createElement("clipPath").attr({id:ce}).add(this.defs);return se=this.rect(se,pe,xe,Pe,0).add(ye),se.id=ce,se.clipPath=ye,se.count=0,se}text(se,pe,xe,Pe){const ce={};return Pe&&(this.allowHTML||!this.forExport)?this.html(se,pe,xe):(ce.x=Math.round(pe||0),xe&&(ce.y=Math.round(xe)),X(se)&&(ce.text=se),se=this.createElement("text").attr(ce),(!Pe||this.forExport&&!this.allowHTML)&&(se.xSetter=function(ye,_e,le){const Z=le.getElementsByTagName("tspan"),me=le.getAttribute(_e);for(let Me=0,Ee;Me<Z.length;Me++)Ee=Z[Me],Ee.getAttribute(_e)===me&&Ee.setAttribute(_e,ye);le.setAttribute(_e,ye)}),se)}fontMetrics(se){se=W(w.prototype.getStyle.call(se,"font-size")||0);const pe=24>se?se+3:Math.round(1.2*se);return{h:pe,b:Math.round(.8*pe),f:se}}rotCorr(se,pe,xe){let Pe=se;return pe&&xe&&(Pe=Math.max(Pe*Math.cos(pe*I),4)),{x:-se/3*Math.sin(pe*I),y:Pe}}pathToSegments(se){const pe=[],xe=[],Pe={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let ce=0;ce<se.length;ce++)S(xe[0])&&y(se[ce])&&xe.length===Pe[xe[0].toUpperCase()]&&se.splice(ce,0,xe[0].replace("M","L").replace("m","l")),typeof se[ce]=="string"&&(xe.length&&pe.push(xe.slice(0)),xe.length=0),xe.push(se[ce]);return pe.push(xe.slice(0)),pe}label(se,pe,xe,Pe,ce,ye,_e,le,Z){return new $(this,se,pe,xe,Pe,ce,ye,_e,le,Z)}alignElements(){this.alignedObjects.forEach(se=>se.align())}}return L(ve.prototype,{Element:w,SVG_NS:G,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:ee,draw:P}),n.registerRendererType("svg",ve,!0),ve}),s(l,"Core/Renderer/HTML/HTMLElement.js",[l["Core/Globals.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(c,d,m){const{isFirefox:n,isMS:w,isWebKit:$,win:ee}=c,{css:z,defined:Y,extend:Q,pick:I,pInt:O}=m,H=[];class A extends d{static compose(P){if(m.pushUnique(H,P)){const G=A.prototype,V=P.prototype;V.getSpanCorrection=G.getSpanCorrection,V.htmlCss=G.htmlCss,V.htmlGetBBox=G.htmlGetBBox,V.htmlUpdateTransform=G.htmlUpdateTransform,V.setSpanRotation=G.setSpanRotation}return P}getSpanCorrection(P,G,V){this.xCorr=-P*V,this.yCorr=-G}htmlCss(P){const G=this.element.tagName==="SPAN"&&P&&"width"in P,V=I(G&&P.width,void 0);let C;return G&&(delete P.width,this.textWidth=V,C=!0),P&&P.textOverflow==="ellipsis"&&(P.whiteSpace="nowrap",P.overflow="hidden"),this.styles=Q(this.styles,P),z(this.element,P),C&&this.htmlUpdateTransform(),this}htmlGetBBox(){const P=this.element;return{x:P.offsetLeft,y:P.offsetTop,width:P.offsetWidth,height:P.offsetHeight}}htmlUpdateTransform(){if(this.added){var P=this.renderer,G=this.element,V=this.x||0,C=this.y||0,ne=this.textAlign||"left",te={left:0,center:.5,right:1}[ne],F=this.styles,N=F&&F.whiteSpace;if(z(G,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),G.tagName==="SPAN"){F=this.rotation;const M=this.textWidth&&O(this.textWidth),L=[F,ne,G.innerHTML,this.textWidth,this.textAlign].join();let f=!1;if(M!==this.oldTextWidth){if(this.textPxLength)var X=this.textPxLength;else z(G,{width:"",whiteSpace:N||"nowrap"}),X=G.offsetWidth;(M>this.oldTextWidth||X>M)&&(/[ \-]/.test(G.textContent||G.innerText)||G.style.textOverflow==="ellipsis")&&(z(G,{width:X>M||F?M+"px":"auto",display:"block",whiteSpace:N||"normal"}),this.oldTextWidth=M,f=!0)}this.hasBoxWidthChanged=f,L!==this.cTT&&(P=P.fontMetrics(G).b,!Y(F)||F===(this.oldRotation||0)&&ne===this.oldAlign||this.setSpanRotation(F,te,P),this.getSpanCorrection(!Y(F)&&this.textPxLength||G.offsetWidth,P,te,F,ne)),z(G,{left:V+(this.xCorr||0)+"px",top:C+(this.yCorr||0)+"px"}),this.cTT=L,this.oldRotation=F,this.oldAlign=ne}}else this.alignOnAdd=!0}setSpanRotation(P,G,V){const C={},ne=w&&!/Edge/.test(ee.navigator.userAgent)?"-ms-transform":$?"-webkit-transform":n?"MozTransform":ee.opera?"-o-transform":void 0;ne&&(C[ne]=C.transform="rotate("+P+"deg)",C[ne+(n?"Origin":"-origin")]=C.transformOrigin=100*G+"% "+V+"px",z(this.element,C))}}return A}),s(l,"Core/Renderer/HTML/HTMLRenderer.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Utilities.js"]],function(c,d,m,n){const{attr:w,createElement:$,extend:ee,pick:z}=n,Y=[];class Q extends m{static compose(O){return n.pushUnique(Y,O)&&(O.prototype.html=Q.prototype.html),O}html(O,H,A){const E=this.createElement("span"),P=E.element,G=E.renderer,V=function(C,ne){["opacity","visibility"].forEach(function(te){C[te+"Setter"]=function(F,N,X){const M=C.div?C.div.style:ne;d.prototype[te+"Setter"].call(this,F,N,X),M&&(M[N]=F)}}),C.addedSetters=!0};return E.textSetter=function(C){C!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,c.setElementHTML(this.element,z(C,"")),this.textStr=C,E.doTransform=!0)},V(E,E.element.style),E.xSetter=E.ySetter=E.alignSetter=E.rotationSetter=function(C,ne){ne==="align"?E.alignValue=E.textAlign=C:E[ne]=C,E.doTransform=!0},E.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},E.attr({text:O,x:Math.round(H),y:Math.round(A)}).css({position:"absolute"}),G.styledMode||E.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),P.style.whiteSpace="nowrap",E.css=E.htmlCss,E.add=function(C){const ne=G.box.parentNode,te=[];let F;if(this.parentGroup=C){if(F=C.div,!F){for(;C;)te.push(C),C=C.parentGroup;te.reverse().forEach(function(N){function X(y,b){N[b]=y,b==="translateX"?f.left=y+"px":f.top=y+"px",N.doTransform=!0}const M=w(N.element,"class"),L=N.styles||{};F=N.div=N.div||$("div",M?{className:M}:void 0,{position:"absolute",left:(N.translateX||0)+"px",top:(N.translateY||0)+"px",display:N.display,opacity:N.opacity,visibility:N.visibility},F||ne);const f=F.style;ee(N,{classSetter:function(y){return function(b){this.element.setAttribute("class",b),y.className=b}}(F),css:function(y){return E.css.call(N,y),["cursor","pointerEvents"].forEach(b=>{y[b]&&(f[b]=y[b])}),N},on:function(){return te[0].div&&E.on.apply({element:te[0].div,onEvents:N.onEvents},arguments),N},translateXSetter:X,translateYSetter:X}),N.addedSetters||V(N),N.css(L)})}}else F=ne;return F.appendChild(P),E.added=!0,E.alignOnAdd&&E.htmlUpdateTransform(),E},E}}return Q}),s(l,"Core/Axis/AxisDefaults.js",[],function(){var c;return function(d){d.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},d.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:m}=this.axis.chart;return m(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},d.defaultLeftAxisOptions={title:{rotation:270}},d.defaultRightAxisOptions={title:{rotation:90}},d.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},d.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(c||(c={})),c}),s(l,"Core/Foundation.js",[l["Core/Utilities.js"]],function(c){const{addEvent:d,isFunction:m,objectEach:n,removeEvent:w}=c;var $;return function(ee){ee.registerEventOptions=function(z,Y){z.eventOptions=z.eventOptions||{},n(Y.events,function(Q,I){z.eventOptions[I]!==Q&&(z.eventOptions[I]&&(w(z,I,z.eventOptions[I]),delete z.eventOptions[I]),m(Q)&&(z.eventOptions[I]=Q,d(z,I,Q,{order:0})))})}}($||($={})),$}),s(l,"Core/Axis/Tick.js",[l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d,m){const{deg2rad:n}=d,{clamp:w,correctFloat:$,defined:ee,destroyObjectProperties:z,extend:Y,fireEvent:Q,isNumber:I,merge:O,objectEach:H,pick:A}=m;class E{constructor(G,V,C,ne,te){this.isNewLabel=this.isNew=!0,this.axis=G,this.pos=V,this.type=C||"",this.parameters=te||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Q(this,"init"),C||ne||this.addLabel()}addLabel(){const G=this,V=G.axis;var C=V.options;const ne=V.chart;var te=V.categories;const F=V.logarithmic,N=V.names,X=G.pos,M=A(G.options&&G.options.labels,C.labels);var L=V.tickPositions;const f=X===L[0],y=X===L[L.length-1],b=(!M.step||M.step===1)&&V.tickInterval===1;L=L.info;let S=G.label,j,J,W;te=this.parameters.category||(te?A(te[X],N[X],X):X),F&&I(te)&&(te=$(F.lin2log(te))),V.dateTime&&(L?(J=ne.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&L.higherRanks[X]||L.unitName]),j=J.main):I(te)&&(j=V.dateTime.getXDateFormat(te,C.dateTimeLabelFormats||{}))),G.isFirst=f,G.isLast=y;const re={axis:V,chart:ne,dateTimeLabelFormat:j,isFirst:f,isLast:y,pos:X,tick:G,tickPositionInfo:L,value:te};Q(this,"labelFormat",re);const ue=q=>M.formatter?M.formatter.call(q,q):M.format?(q.text=V.defaultLabelFormatter.call(q,q),c.format(M.format,q,ne)):V.defaultLabelFormatter.call(q,q);C=ue.call(re,re);const ve=J&&J.list;G.shortenLabel=ve?function(){for(W=0;W<ve.length;W++)if(Y(re,{dateTimeLabelFormat:ve[W]}),S.attr({text:ue.call(re,re)}),S.getBBox().width<V.getSlotWidth(G)-2*M.padding)return;S.attr({text:""})}:void 0,b&&V._addedPlotLB&&G.moveLabel(C,M),ee(S)||G.movedLabel?S&&S.textStr!==C&&!b&&(!S.textWidth||M.style.width||S.styles.width||S.css({width:null}),S.attr({text:C}),S.textPxLength=S.getBBox().width):(G.label=S=G.createLabel({x:0,y:0},C,M),G.rotation=0)}createLabel(G,V,C){const ne=this.axis,te=ne.chart;return(G=ee(V)&&C.enabled?te.renderer.text(V,G.x,G.y,C.useHTML).add(ne.labelGroup):null)&&(te.styledMode||G.css(O(C.style)),G.textPxLength=G.getBBox().width),G}destroy(){z(this,this.axis)}getPosition(G,V,C,ne){const te=this.axis,F=te.chart,N=ne&&F.oldChartHeight||F.chartHeight;return G={x:G?$(te.translate(V+C,void 0,void 0,ne)+te.transB):te.left+te.offset+(te.opposite?(ne&&F.oldChartWidth||F.chartWidth)-te.right-te.left:0),y:G?N-te.bottom+te.offset-(te.opposite?te.height:0):$(N-te.translate(V+C,void 0,void 0,ne)-te.transB)},G.y=w(G.y,-1e5,1e5),Q(this,"afterGetPosition",{pos:G}),G}getLabelPosition(G,V,C,ne,te,F,N,X){const M=this.axis,L=M.transA,f=M.isLinked&&M.linkedParent?M.linkedParent.reversed:M.reversed,y=M.staggerLines,b=M.tickRotCorr||{x:0,y:0},S=ne||M.reserveSpaceDefault?0:-M.labelOffset*(M.labelAlign==="center"?.5:1),j=te.distance,J={};return C=M.side===0?C.rotation?-j:-C.getBBox().height:M.side===2?b.y+j:Math.cos(C.rotation*n)*(b.y-C.getBBox(!1,0).height/2),ee(te.y)&&(C=M.side===0&&M.horiz?te.y+C:te.y),G=G+A(te.x,[0,1,0,-1][M.side]*j)+S+b.x-(F&&ne?F*L*(f?-1:1):0),V=V+C-(F&&!ne?F*L*(f?1:-1):0),y&&(ne=N/(X||1)%y,M.opposite&&(ne=y-ne-1),V+=M.labelOffset/y*ne),J.x=G,J.y=Math.round(V),Q(this,"afterGetLabelPosition",{pos:J,tickmarkOffset:F,index:N}),J}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(G,V,C,ne,te,F){return F.crispLine([["M",G,V],["L",G+(te?0:-C),V+(te?C:0)]],ne)}handleOverflow(G){const V=this.axis,C=V.options.labels,ne=G.x;var te=V.chart.chartWidth,F=V.chart.spacing;const N=A(V.labelLeft,Math.min(V.pos,F[3]));F=A(V.labelRight,Math.max(V.isRadial?0:V.pos+V.len,te-F[1]));const X=this.label,M=this.rotation,L={left:0,center:.5,right:1}[V.labelAlign||X.attr("align")],f=X.getBBox().width,y=V.getSlotWidth(this),b={};let S=y,j=1,J;M||C.overflow!=="justify"?0>M&&ne-L*f<N?J=Math.round(ne/Math.cos(M*n)-N):0<M&&ne+L*f>F&&(J=Math.round((te-ne)/Math.cos(M*n))):(te=ne+(1-L)*f,ne-L*f<N?S=G.x+S*(1-L)-N:te>F&&(S=F-G.x+S*L,j=-1),S=Math.min(y,S),S<y&&V.labelAlign==="center"&&(G.x+=j*(y-S-L*(y-Math.min(f,S)))),(f>S||V.autoRotation&&(X.styles||{}).width)&&(J=S)),J&&(this.shortenLabel?this.shortenLabel():(b.width=Math.floor(J)+"px",(C.style||{}).textOverflow||(b.textOverflow="ellipsis"),X.css(b)))}moveLabel(G,V){const C=this;var ne=C.label;const te=C.axis;let F=!1;ne&&ne.textStr===G?(C.movedLabel=ne,F=!0,delete C.label):H(te.ticks,function(N){F||N.isNew||N===C||!N.label||N.label.textStr!==G||(C.movedLabel=N.label,F=!0,N.labelPos=C.movedLabel.xy,delete N.label)}),F||!C.labelPos&&!ne||(ne=C.labelPos||ne.xy,C.movedLabel=C.createLabel(ne,G,V),C.movedLabel&&C.movedLabel.attr({opacity:0}))}render(G,V,C){var ne=this.axis,te=ne.horiz,F=this.pos,N=A(this.tickmarkOffset,ne.tickmarkOffset);F=this.getPosition(te,F,N,V),N=F.x;const X=F.y;ne=te&&N===ne.pos+ne.len||!te&&X===ne.pos?-1:1,te=A(C,this.label&&this.label.newOpacity,1),C=A(C,1),this.isActive=!0,this.renderGridLine(V,C,ne),this.renderMark(F,C,ne),this.renderLabel(F,V,te,G),this.isNew=!1,Q(this,"afterRender")}renderGridLine(G,V,C){const ne=this.axis,te=ne.options,F={},N=this.pos,X=this.type,M=A(this.tickmarkOffset,ne.tickmarkOffset),L=ne.chart.renderer;let f=this.gridLine,y=te.gridLineWidth,b=te.gridLineColor,S=te.gridLineDashStyle;this.type==="minor"&&(y=te.minorGridLineWidth,b=te.minorGridLineColor,S=te.minorGridLineDashStyle),f||(ne.chart.styledMode||(F.stroke=b,F["stroke-width"]=y||0,F.dashstyle=S),X||(F.zIndex=1),G&&(V=0),this.gridLine=f=L.path().attr(F).addClass("highcharts-"+(X?X+"-":"")+"grid-line").add(ne.gridGroup)),f&&(C=ne.getPlotLinePath({value:N+M,lineWidth:f.strokeWidth()*C,force:"pass",old:G,acrossPanes:!1}))&&f[G||this.isNew?"attr":"animate"]({d:C,opacity:V})}renderMark(G,V,C){const ne=this.axis;var te=ne.options;const F=ne.chart.renderer,N=this.type,X=ne.tickSize(N?N+"Tick":"tick"),M=G.x;G=G.y;const L=A(te[N!=="minor"?"tickWidth":"minorTickWidth"],!N&&ne.isXAxis?1:0);te=te[N!=="minor"?"tickColor":"minorTickColor"];let f=this.mark;const y=!f;X&&(ne.opposite&&(X[0]=-X[0]),f||(this.mark=f=F.path().addClass("highcharts-"+(N?N+"-":"")+"tick").add(ne.axisGroup),ne.chart.styledMode||f.attr({stroke:te,"stroke-width":L})),f[y?"attr":"animate"]({d:this.getMarkPath(M,G,X[0],f.strokeWidth()*C,ne.horiz,F),opacity:V}))}renderLabel(G,V,C,ne){var te=this.axis;const F=te.horiz,N=te.options,X=this.label,M=N.labels,L=M.step;te=A(this.tickmarkOffset,te.tickmarkOffset);const f=G.x;G=G.y;let y=!0;X&&I(f)&&(X.xy=G=this.getLabelPosition(f,G,X,F,M,te,ne,L),this.isFirst&&!this.isLast&&!N.showFirstLabel||this.isLast&&!this.isFirst&&!N.showLastLabel?y=!1:!F||M.step||M.rotation||V||C===0||this.handleOverflow(G),L&&ne%L&&(y=!1),y&&I(G.y)?(G.opacity=C,X[this.isNewLabel?"attr":"animate"](G).show(!0),this.isNewLabel=!1):(X.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const G=this.label,V=this.axis;G&&!this.isNew&&(G.animate({opacity:0},void 0,G.destroy),delete this.label),V.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return E}),s(l,"Core/Axis/Axis.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/AxisDefaults.js"],l["Core/Color/Color.js"],l["Core/Defaults.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Axis/Tick.js"],l["Core/Utilities.js"]],function(c,d,m,n,w,$,ee,z){const{animObject:Y}=c,{defaultOptions:Q}=n,{registerEventOptions:I}=w,{deg2rad:O}=$,{arrayMax:H,arrayMin:A,clamp:E,correctFloat:P,defined:G,destroyObjectProperties:V,erase:C,error:ne,extend:te,fireEvent:F,isArray:N,isNumber:X,isString:M,merge:L,normalizeTickInterval:f,objectEach:y,pick:b,relativeLength:S,removeEvent:j,splat:J,syncTimeout:W}=z,re=(ve,q)=>f(q,void 0,void 0,b(ve.options.allowDecimals,.5>q||ve.tickAmount!==void 0),!!ve.tickAmount);class ue{constructor(q,se){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(q,se)}init(q,se){const pe=se.isX;this.chart=q,this.horiz=q.inverted&&!this.isZAxis?!pe:pe,this.isXAxis=pe,this.coll=this.coll||(pe?"xAxis":"yAxis"),F(this,"init",{userOptions:se}),this.opposite=b(se.opposite,this.opposite),this.side=b(se.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(se);const xe=this.options,Pe=xe.labels,ce=xe.type;this.userOptions=se,this.minPixelPadding=0,this.reversed=b(xe.reversed,this.reversed),this.visible=xe.visible,this.zoomEnabled=xe.zoomEnabled,this.hasNames=ce==="category"||xe.categories===!0,this.categories=xe.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=G(xe.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=xe.minRange||xe.maxZoom,this.range=xe.range,this.offset=xe.offset||0,this.min=this.max=null,se=b(xe.crosshair,J(q.options.tooltip.crosshairs)[pe?0:1]),this.crosshair=se===!0?{}:se,q.axes.indexOf(this)===-1&&(pe?q.axes.splice(q.xAxis.length,0,this):q.axes.push(this),q[this.coll].push(this)),this.series=this.series||[],q.inverted&&!this.isZAxis&&pe&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=X(Pe.rotation)?Pe.rotation:void 0,I(this,xe),F(this,"afterInit")}setOptions(q){this.options=L(d.defaultXAxisOptions,this.coll==="yAxis"&&d.defaultYAxisOptions,[d.defaultTopAxisOptions,d.defaultRightAxisOptions,d.defaultBottomAxisOptions,d.defaultLeftAxisOptions][this.side],L(Q[this.coll],q)),F(this,"afterSetOptions",{userOptions:q})}defaultLabelFormatter(q){var se=this.axis;({numberFormatter:q}=this.chart);const pe=X(this.value)?this.value:NaN,xe=se.chart.time,Pe=this.dateTimeLabelFormat;var ce=Q.lang;const ye=ce.numericSymbols;ce=ce.numericSymbolMagnitude||1e3;const _e=se.logarithmic?Math.abs(pe):se.tickInterval;let le=ye&&ye.length,Z;if(se.categories)Z=`${this.value}`;else if(Pe)Z=xe.dateFormat(Pe,pe);else if(le&&1e3<=_e)for(;le--&&typeof Z>"u";)se=Math.pow(ce,le+1),_e>=se&&10*pe%se===0&&ye[le]!==null&&pe!==0&&(Z=q(pe/se,-1)+ye[le]);return typeof Z>"u"&&(Z=1e4<=Math.abs(pe)?q(pe,-1):q(pe,-1,void 0,"")),Z}getSeriesExtremes(){const q=this,se=q.chart;let pe;F(this,"getSeriesExtremes",null,function(){q.hasVisibleSeries=!1,q.dataMin=q.dataMax=q.threshold=null,q.softThreshold=!q.isXAxis,q.series.forEach(function(xe){if(xe.visible||!se.options.chart.ignoreHiddenSeries){var Pe=xe.options;let ce=Pe.threshold,ye,_e;q.hasVisibleSeries=!0,q.positiveValuesOnly&&0>=ce&&(ce=null),q.isXAxis?(Pe=xe.xData)&&Pe.length&&(Pe=q.logarithmic?Pe.filter(le=>0<le):Pe,pe=xe.getXExtremes(Pe),ye=pe.min,_e=pe.max,X(ye)||ye instanceof Date||(Pe=Pe.filter(X),pe=xe.getXExtremes(Pe),ye=pe.min,_e=pe.max),Pe.length&&(q.dataMin=Math.min(b(q.dataMin,ye),ye),q.dataMax=Math.max(b(q.dataMax,_e),_e))):(xe=xe.applyExtremes(),X(xe.dataMin)&&(ye=xe.dataMin,q.dataMin=Math.min(b(q.dataMin,ye),ye)),X(xe.dataMax)&&(_e=xe.dataMax,q.dataMax=Math.max(b(q.dataMax,_e),_e)),G(ce)&&(q.threshold=ce),(!Pe.softThreshold||q.positiveValuesOnly)&&(q.softThreshold=!1))}})}),F(this,"afterGetSeriesExtremes")}translate(q,se,pe,xe,Pe,ce){const ye=this.linkedParent||this,_e=xe&&ye.old?ye.old.min:ye.min;if(!X(_e))return NaN;const le=ye.minPixelPadding;Pe=(ye.isOrdinal||ye.brokenAxis&&ye.brokenAxis.hasBreaks||ye.logarithmic&&Pe)&&ye.lin2val;let Z=1,me=0;return xe=xe&&ye.old?ye.old.transA:ye.transA,xe||(xe=ye.transA),pe&&(Z*=-1,me=ye.len),ye.reversed&&(Z*=-1,me-=Z*(ye.sector||ye.len)),se?(ce=(q*Z+me-le)/xe+_e,Pe&&(ce=ye.lin2val(ce))):(Pe&&(q=ye.val2lin(q)),q=Z*(q-_e)*xe,ce=(ye.isRadial?q:P(q))+me+Z*le+(X(ce)?xe*ce:0)),ce}toPixels(q,se){return this.translate(q,!1,!this.horiz,void 0,!0)+(se?0:this.pos)}toValue(q,se){return this.translate(q-(se?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(q){function se(Ue,We,st){return ze!=="pass"&&(Ue<We||Ue>st)&&(ze?Ue=E(Ue,We,st):Be=!0),Ue}const pe=this,xe=pe.chart,Pe=pe.left,ce=pe.top,ye=q.old,_e=q.value,le=q.lineWidth,Z=ye&&xe.oldChartHeight||xe.chartHeight,me=ye&&xe.oldChartWidth||xe.chartWidth,Me=pe.transB;let Ee=q.translatedValue,ze=q.force,Qe,Ke,ct,Ie,Be;return q={value:_e,lineWidth:le,old:ye,force:ze,acrossPanes:q.acrossPanes,translatedValue:Ee},F(this,"getPlotLinePath",q,function(Ue){Ee=b(Ee,pe.translate(_e,void 0,void 0,ye)),Ee=E(Ee,-1e5,1e5),Qe=ct=Math.round(Ee+Me),Ke=Ie=Math.round(Z-Ee-Me),X(Ee)?pe.horiz?(Ke=ce,Ie=Z-pe.bottom,Qe=ct=se(Qe,Pe,Pe+pe.width)):(Qe=Pe,ct=me-pe.right,Ke=Ie=se(Ke,ce,ce+pe.height)):(Be=!0,ze=!1),Ue.path=Be&&!ze?null:xe.renderer.crispLine([["M",Qe,Ke],["L",ct,Ie]],le||1)}),q.path}getLinearTickPositions(q,se,pe){const xe=P(Math.floor(se/q)*q);pe=P(Math.ceil(pe/q)*q);const Pe=[];let ce,ye;if(P(xe+q)===xe&&(ye=20),this.single)return[se];for(se=xe;se<=pe&&(Pe.push(se),se=P(se+q,ye),se!==ce);)ce=se;return Pe}getMinorTickInterval(){const q=this.options;return q.minorTicks===!0?b(q.minorTickInterval,"auto"):q.minorTicks===!1?null:q.minorTickInterval}getMinorTickPositions(){var q=this.options;const se=this.tickPositions,pe=this.minorTickInterval;var xe=this.pointRangePadding||0;const Pe=this.min-xe;xe=this.max+xe;const ce=xe-Pe;let ye=[];if(ce&&ce/pe<this.len/3){const _e=this.logarithmic;if(_e)this.paddedTicks.forEach(function(le,Z,me){Z&&ye.push.apply(ye,_e.getLogTickPositions(pe,me[Z-1],me[Z],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ye=ye.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(pe),Pe,xe,q.startOfWeek));else for(q=Pe+(se[0]-Pe)%pe;q<=xe&&q!==ye[0];q+=pe)ye.push(q)}return ye.length!==0&&this.trimTicks(ye),ye}adjustForMinRange(){const q=this.options,se=this.logarithmic;let pe=this.min;var xe=this.max;let Pe,ce=0,ye,_e,le,Z,me;if(this.isXAxis&&typeof this.minRange>"u"&&!se&&(G(q.min)||G(q.max)||G(q.floor)||G(q.ceiling)?this.minRange=null:(this.series.forEach(function(Ee){if(le=Ee.xData,Z=Ee.xIncrement?1:le.length-1,1<le.length)for(ye=Z;0<ye;ye--)_e=le[ye]-le[ye-1],(!ce||_e<ce)&&(ce=_e)}),this.minRange=Math.min(5*ce,this.dataMax-this.dataMin))),xe-pe<this.minRange){Pe=this.dataMax-this.dataMin>=this.minRange,me=this.minRange;var Me=(me-xe+pe)/2;Me=[pe-Me,b(q.min,pe-Me)],Pe&&(Me[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),pe=H(Me),xe=[pe+me,b(q.max,pe+me)],Pe&&(xe[2]=se?se.log2lin(this.dataMax):this.dataMax),xe=A(xe),xe-pe<me&&(Me[0]=xe-me,Me[1]=b(q.min,xe-me),pe=H(Me))}this.min=pe,this.max=xe}getClosest(){let q;return this.categories?q=1:this.series.forEach(function(se){const pe=se.closestPointRange,xe=se.visible||!se.chart.options.chart.ignoreHiddenSeries;!se.noSharedTooltip&&G(pe)&&xe&&(q=G(q)?Math.min(q,pe):pe)}),q}nameToX(q){const se=N(this.options.categories),pe=se?this.categories:this.names;let xe=q.options.x,Pe;return q.series.requireSorting=!1,G(xe)||(xe=this.options.uniqueNames&&pe?se?pe.indexOf(q.name):b(pe.keys[q.name],-1):q.series.autoIncrement()),xe===-1?!se&&pe&&(Pe=pe.length):Pe=xe,typeof Pe<"u"?(this.names[Pe]=q.name,this.names.keys[q.name]=Pe):q.x&&(Pe=q.x),Pe}updateNames(){const q=this,se=this.names;0<se.length&&(Object.keys(se.keys).forEach(function(pe){delete se.keys[pe]}),se.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(pe){pe.xIncrement=null,(!pe.points||pe.isDirtyData)&&(q.max=Math.max(q.max,pe.xData.length-1),pe.processData(),pe.generatePoints()),pe.data.forEach(function(xe,Pe){let ce;xe&&xe.options&&typeof xe.name<"u"&&(ce=q.nameToX(xe),typeof ce<"u"&&ce!==xe.x&&(xe.x=ce,pe.xData[Pe]=ce))})}))}setAxisTranslation(){const q=this,se=q.max-q.min;var pe=q.linkedParent;const xe=!!q.categories,Pe=q.isXAxis;let ce=q.axisPointRange||0,ye,_e=0,le=0,Z=q.transA;(Pe||xe||ce)&&(ye=q.getClosest(),pe?(_e=pe.minPointOffset,le=pe.pointRangePadding):q.series.forEach(function(me){const Me=xe?1:Pe?b(me.options.pointRange,ye,0):q.axisPointRange||0,Ee=me.options.pointPlacement;ce=Math.max(ce,Me),(!q.single||xe)&&(me=me.is("xrange")?!Pe:Pe,_e=Math.max(_e,me&&M(Ee)?0:Me/2),le=Math.max(le,me&&Ee==="on"?0:Me))}),pe=q.ordinal&&q.ordinal.slope&&ye?q.ordinal.slope/ye:1,q.minPointOffset=_e*=pe,q.pointRangePadding=le*=pe,q.pointRange=Math.min(ce,q.single&&xe?1:se),Pe&&(q.closestPointRange=ye)),q.translationSlope=q.transA=Z=q.staticScale||q.len/(se+le||1),q.transB=q.horiz?q.left:q.bottom,q.minPixelPadding=Z*_e,F(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(q){var se=this.chart;const pe=this.logarithmic,xe=this.options,Pe=this.isXAxis,ce=this.isLinked,ye=xe.tickPixelInterval,_e=this.categories,le=this.softThreshold;let Z=xe.maxPadding,me=xe.minPadding,Me=X(xe.tickInterval)&&0<=xe.tickInterval?xe.tickInterval:void 0,Ee=X(this.threshold)?this.threshold:null,ze,Qe,Ke;if(this.dateTime||_e||ce||this.getTickAmount(),Qe=b(this.userMin,xe.min),Ke=b(this.userMax,xe.max),ce){this.linkedParent=se[this.coll][xe.linkedTo];var ct=this.linkedParent.getExtremes();this.min=b(ct.min,ct.dataMin),this.max=b(ct.max,ct.dataMax),xe.type!==this.linkedParent.options.type&&ne(11,1,se)}else le&&G(Ee)&&(this.dataMin>=Ee?(ct=Ee,me=0):this.dataMax<=Ee&&(ze=Ee,Z=0)),this.min=b(Qe,ct,this.dataMin),this.max=b(Ke,ze,this.dataMax);if(pe&&(this.positiveValuesOnly&&!q&&0>=Math.min(this.min,b(this.dataMin,this.min))&&ne(10,1,se),this.min=P(pe.log2lin(this.min),16),this.max=P(pe.log2lin(this.max),16)),this.range&&G(this.max)&&(this.userMin=this.min=Qe=Math.max(this.dataMin,this.minFromRange()),this.userMax=Ke=this.max,this.range=null),F(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(_e||this.axisPointRange||this.stacking&&this.stacking.usePercentage||ce)&&G(this.min)&&G(this.max)&&(se=this.max-this.min)&&(!G(Qe)&&me&&(this.min-=se*me),!G(Ke)&&Z&&(this.max+=se*Z)),X(this.userMin)||(X(xe.softMin)&&xe.softMin<this.min&&(this.min=Qe=xe.softMin),X(xe.floor)&&(this.min=Math.max(this.min,xe.floor))),X(this.userMax)||(X(xe.softMax)&&xe.softMax>this.max&&(this.max=Ke=xe.softMax),X(xe.ceiling)&&(this.max=Math.min(this.max,xe.ceiling))),le&&G(this.dataMin)&&(Ee=Ee||0,!G(Qe)&&this.min<Ee&&this.dataMin>=Ee?this.min=this.options.minRange?Math.min(Ee,this.max-this.minRange):Ee:!G(Ke)&&this.max>Ee&&this.dataMax<=Ee&&(this.max=this.options.minRange?Math.max(Ee,this.min+this.minRange):Ee)),X(this.min)&&X(this.max)&&!this.chart.polar&&this.min>this.max&&(G(this.options.min)?this.max=this.min:G(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:ce&&this.linkedParent&&!Me&&ye===this.linkedParent.options.tickPixelInterval?Me=this.linkedParent.tickInterval:b(Me,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,_e?1:(this.max-this.min)*ye/Math.max(this.len,ye)),Pe&&!q){const Ie=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Be){Be.forceCrop=Be.forceCropping&&Be.forceCropping(),Be.processData(Ie)}),F(this,"postProcessData",{hasExtremesChanged:Ie})}this.setAxisTranslation(),F(this,"initialAxisTranslation"),this.pointRange&&!Me&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),q=b(xe.minTickInterval,this.dateTime&&!this.series.some(Ie=>Ie.noSharedTooltip)?this.closestPointRange:0),!Me&&this.tickInterval<q&&(this.tickInterval=q),this.dateTime||this.logarithmic||Me||(this.tickInterval=re(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var q=this.options;const se=q.tickPositions,pe=q.tickPositioner;var xe=this.getMinorTickInterval(),Pe=this.hasVerticalPanning(),ce=this.coll==="colorAxis";const ye=(ce||!Pe)&&q.startOnTick;Pe=(ce||!Pe)&&q.endOnTick,ce=[];let _e;if(this.tickmarkOffset=this.categories&&q.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=xe==="auto"&&this.tickInterval?this.tickInterval/q.minorTicksPerMajor:xe,this.single=this.min===this.max&&G(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||q.allowDecimals!==!1),se)ce=se.slice();else if(X(this.min)&&X(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)ce=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,q.units),this.min,this.max,q.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)ce=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(xe=q=this.tickInterval;xe<=2*q&&(ce=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&ce.length>this.tickAmount);)this.tickInterval=re(this,xe*=1.1);else ce=[this.min,this.max],ne(19,!1,this.chart);ce.length>this.len&&(ce=[ce[0],ce[ce.length-1]],ce[0]===ce[1]&&(ce.length=1)),pe&&(this.tickPositions=ce,(_e=pe.apply(this,[this.min,this.max]))&&(ce=_e))}this.tickPositions=ce,this.paddedTicks=ce.slice(0),this.trimTicks(ce,ye,Pe),!this.isLinked&&X(this.min)&&X(this.max)&&(this.single&&2>ce.length&&!this.categories&&!this.series.some(le=>le.is("heatmap")&&le.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),se||_e||this.adjustTickAmount()),F(this,"afterSetTickPositions")}trimTicks(q,se,pe){const xe=q[0],Pe=q[q.length-1],ce=!this.isOrdinal&&this.minPointOffset||0;if(F(this,"trimTicks"),!this.isLinked){if(se&&xe!==-1/0)this.min=xe;else for(;this.min-ce>q[0];)q.shift();if(pe)this.max=Pe;else for(;this.max+ce<q[q.length-1];)q.pop();q.length===0&&G(xe)&&!this.options.tickPositions&&q.push((Pe+xe)/2)}}alignToOthers(){const q=this,se=[this],pe=q.options,xe=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Pe=[];let ce;if(q.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&pe.alignTicks||xe)&&pe.startOnTick!==!1&&pe.endOnTick!==!1&&!q.logarithmic){const ye=le=>{const{horiz:Z,options:me}=le;return[Z?me.left:me.top,me.width,me.height,me.pane].join()},_e=ye(this);this.chart[this.coll].forEach(function(le){const{series:Z}=le;Z.length&&Z.some(me=>me.visible)&&le!==q&&ye(le)===_e&&(ce=!0,se.push(le))})}if(ce&&xe){se.forEach(_e=>{_e=_e.getThresholdAlignment(q),X(_e)&&Pe.push(_e)});const ye=1<Pe.length?Pe.reduce((_e,le)=>_e+le,0)/Pe.length:void 0;se.forEach(_e=>{_e.thresholdAlignment=ye})}return ce}getThresholdAlignment(q){if((!X(this.dataMin)||this!==q&&this.series.some(se=>se.isDirty||se.isDirtyData))&&this.getSeriesExtremes(),X(this.threshold))return q=E((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(q=1-q),q}getTickAmount(){const q=this.options,se=q.tickPixelInterval;let pe=q.tickAmount;!G(q.tickInterval)&&!pe&&this.len<se&&!this.isRadial&&!this.logarithmic&&q.startOnTick&&q.endOnTick&&(pe=2),!pe&&this.alignToOthers()&&(pe=Math.ceil(this.len/se)+1),4>pe&&(this.finalTickAmt=pe,pe=5),this.tickAmount=pe}adjustTickAmount(){const q=this,{finalTickAmt:se,max:pe,min:xe,options:Pe,tickPositions:ce,tickAmount:ye,thresholdAlignment:_e}=q,le=ce&&ce.length;var Z=b(q.threshold,q.softThreshold?0:null),me=q.tickInterval;let Me;if(X(_e)&&(Me=.5>_e?Math.ceil(_e*(ye-1)):Math.floor(_e*(ye-1)),Pe.reversed&&(Me=ye-1-Me)),q.hasData()&&X(xe)&&X(pe)){const Ee=()=>{q.transA*=(le-1)/(ye-1),q.min=Pe.startOnTick?ce[0]:Math.min(xe,ce[0]),q.max=Pe.endOnTick?ce[ce.length-1]:Math.max(pe,ce[ce.length-1])};if(X(Me)&&X(q.threshold)){for(;ce[Me]!==Z||ce.length!==ye||ce[0]>xe||ce[ce.length-1]<pe;){for(ce.length=0,ce.push(q.threshold);ce.length<ye;)ce[Me]===void 0||ce[Me]>q.threshold?ce.unshift(P(ce[0]-me)):ce.push(P(ce[ce.length-1]+me));if(me>8*q.tickInterval)break;me*=2}Ee()}else if(le<ye){for(;ce.length<ye;)ce.length%2||xe===Z?ce.push(P(ce[ce.length-1]+me)):ce.unshift(P(ce[0]-me));Ee()}if(G(se)){for(me=Z=ce.length;me--;)(se===3&&me%2===1||2>=se&&0<me&&me<Z-1)&&ce.splice(me,1);q.finalTickAmt=void 0}}}setScale(){let q=!1,se=!1;this.series.forEach(function(xe){q=q||xe.isDirtyData||xe.isDirty,se=se||xe.xAxis&&xe.xAxis.isDirty||!1}),this.setAxisSize();const pe=this.len!==(this.old&&this.old.len);pe||q||se||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=pe||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),q&&this.panningState&&(this.panningState.isDirty=!0),F(this,"afterSetScale")}setExtremes(q,se,pe,xe,Pe){const ce=this,ye=ce.chart;pe=b(pe,!0),ce.series.forEach(function(_e){delete _e.kdTree}),Pe=te(Pe,{min:q,max:se}),F(ce,"setExtremes",Pe,function(){ce.userMin=q,ce.userMax=se,ce.eventArgs=Pe,pe&&ye.redraw(xe)})}zoom(q,se){const pe=this,xe=this.dataMin,Pe=this.dataMax,ce=this.options,ye=Math.min(xe,b(ce.min,xe)),_e=Math.max(Pe,b(ce.max,Pe));return q={newMin:q,newMax:se},F(this,"zoom",q,function(le){let Z=le.newMin,me=le.newMax;(Z!==pe.min||me!==pe.max)&&(pe.allowZoomOutside||(G(xe)&&(Z<ye&&(Z=ye),Z>_e&&(Z=_e)),G(Pe)&&(me<ye&&(me=ye),me>_e&&(me=_e))),pe.displayBtn=typeof Z<"u"||typeof me<"u",pe.setExtremes(Z,me,!1,void 0,{trigger:"zoom"})),le.zoomed=!0}),q.zoomed}setAxisSize(){const q=this.chart;var se=this.options;const pe=se.offsets||[0,0,0,0],xe=this.horiz,Pe=this.width=Math.round(S(b(se.width,q.plotWidth-pe[3]+pe[1]),q.plotWidth)),ce=this.height=Math.round(S(b(se.height,q.plotHeight-pe[0]+pe[2]),q.plotHeight)),ye=this.top=Math.round(S(b(se.top,q.plotTop+pe[0]),q.plotHeight,q.plotTop));se=this.left=Math.round(S(b(se.left,q.plotLeft+pe[3]),q.plotWidth,q.plotLeft)),this.bottom=q.chartHeight-ce-ye,this.right=q.chartWidth-Pe-se,this.len=Math.max(xe?Pe:ce,0),this.pos=xe?se:ye}getExtremes(){const q=this.logarithmic;return{min:q?P(q.lin2log(this.min)):this.min,max:q?P(q.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(q){var se=this.logarithmic;const pe=se?se.lin2log(this.min):this.min;return se=se?se.lin2log(this.max):this.max,q===null||q===-1/0?q=pe:q===1/0?q=se:pe>q?q=pe:se<q&&(q=se),this.translate(q,0,1,0,1)}autoLabelAlign(q){const se=(b(q,0)-90*this.side+720)%360;return q={align:"center"},F(this,"autoLabelAlign",q,function(pe){15<se&&165>se?pe.align="right":195<se&&345>se&&(pe.align="left")}),q.align}tickSize(q){const se=this.options,pe=b(se[q==="tick"?"tickWidth":"minorTickWidth"],q==="tick"&&this.isXAxis&&!this.categories?1:0);let xe=se[q==="tick"?"tickLength":"minorTickLength"],Pe;return pe&&xe&&(se[q+"Position"]==="inside"&&(xe=-xe),Pe=[xe,pe]),q={tickSize:Pe},F(this,"afterTickSize",q),q.tickSize}labelMetrics(){const q=this.chart.renderer;var se=this.ticks;return se=se[Object.keys(se)[0]]||{},this.chart.renderer.fontMetrics(se.label||se.movedLabel||q.box)}unsquish(){const q=this.options.labels;var se=this.horiz;const pe=this.tickInterval,xe=this.len/(((this.categories?1:0)+this.max-this.min)/pe),Pe=q.rotation,ce=.75*this.labelMetrics().h,ye=Math.max(this.max-this.min,0),_e=function(Ee){let ze=Ee/(xe||1);return ze=1<ze?Math.ceil(ze):1,ze*pe>ye&&Ee!==1/0&&xe!==1/0&&ye&&(ze=Math.ceil(ye/pe)),P(ze*pe)};let le=pe,Z,me=Number.MAX_VALUE,Me;if(se){if(q.staggerLines||(X(Pe)?Me=[Pe]:xe<q.autoRotationLimit&&(Me=q.autoRotation)),Me){let Ee;for(const ze of Me)(ze===Pe||ze&&-90<=ze&&90>=ze)&&(se=_e(Math.abs(ce/Math.sin(O*ze))),Ee=se+Math.abs(ze/360),Ee<me&&(me=Ee,Z=ze,le=se))}}else le=_e(ce);return this.autoRotation=Me,this.labelRotation=b(Z,X(Pe)?Pe:0),q.step?pe:le}getSlotWidth(q){const se=this.chart,pe=this.horiz,xe=this.options.labels,Pe=Math.max(this.tickPositions.length-(this.categories?0:1),1),ce=se.margin[3];if(q&&X(q.slotWidth))return q.slotWidth;if(pe&&2>xe.step)return xe.rotation?0:(this.staggerLines||1)*this.len/Pe;if(!pe){if(q=xe.style.width,q!==void 0)return parseInt(String(q),10);if(ce)return ce-se.spacing[3]}return .33*se.chartWidth}renderUnsquish(){const q=this.chart,se=q.renderer,pe=this.tickPositions,xe=this.ticks,Pe=this.options.labels,ce=Pe.style,ye=this.horiz,_e=this.getSlotWidth();var le=Math.max(1,Math.round(_e-2*Pe.padding));const Z={},me=this.labelMetrics(),Me=ce.textOverflow;let Ee,ze,Qe=0;if(M(Pe.rotation)||(Z.rotation=Pe.rotation||0),pe.forEach(function(ct){ct=xe[ct],ct.movedLabel&&ct.replaceMovedLabel(),ct&&ct.label&&ct.label.textPxLength>Qe&&(Qe=ct.label.textPxLength)}),this.maxLabelLength=Qe,this.autoRotation)Qe>le&&Qe>me.h?Z.rotation=this.labelRotation:this.labelRotation=0;else if(_e&&(Ee=le,!Me))for(ze="clip",le=pe.length;!ye&&le--;){var Ke=pe[le];(Ke=xe[Ke].label)&&(Ke.styles&&Ke.styles.textOverflow==="ellipsis"?Ke.css({textOverflow:"clip"}):Ke.textPxLength>_e&&Ke.css({width:_e+"px"}),Ke.getBBox().height>this.len/pe.length-(me.h-me.f)&&(Ke.specificTextOverflow="ellipsis"))}Z.rotation&&(Ee=Qe>.5*q.chartHeight?.33*q.chartHeight:Qe,Me||(ze="ellipsis")),(this.labelAlign=Pe.align||this.autoLabelAlign(this.labelRotation))&&(Z.align=this.labelAlign),pe.forEach(function(ct){const Ie=(ct=xe[ct])&&ct.label,Be=ce.width,Ue={};Ie&&(Ie.attr(Z),ct.shortenLabel?ct.shortenLabel():Ee&&!Be&&ce.whiteSpace!=="nowrap"&&(Ee<Ie.textPxLength||Ie.element.tagName==="SPAN")?(Ue.width=Ee+"px",Me||(Ue.textOverflow=Ie.specificTextOverflow||ze),Ie.css(Ue)):Ie.styles&&Ie.styles.width&&!Ue.width&&!Be&&Ie.css({width:null}),delete Ie.specificTextOverflow,ct.rotation=Z.rotation)},this),this.tickRotCorr=se.rotCorr(me.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(q){return q.hasData()})||this.options.showEmpty&&G(this.min)&&G(this.max)}addTitle(q){const se=this.chart.renderer,pe=this.horiz,xe=this.opposite,Pe=this.options.title,ce=this.chart.styledMode;let ye;this.axisTitle||((ye=Pe.textAlign)||(ye=(pe?{low:"left",middle:"center",high:"right"}:{low:xe?"right":"left",middle:"center",high:xe?"left":"right"})[Pe.align]),this.axisTitle=se.text(Pe.text||"",0,0,Pe.useHTML).attr({zIndex:7,rotation:Pe.rotation,align:ye}).addClass("highcharts-axis-title"),ce||this.axisTitle.css(L(Pe.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),ce||Pe.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[q?"show":"hide"](q)}generateTick(q){const se=this.ticks;se[q]?se[q].addLabel():se[q]=new ee(this,q)}getOffset(){const q=this,{chart:se,horiz:pe,options:xe,side:Pe,ticks:ce,tickPositions:ye,coll:_e,axisParent:le}=q,Z=se.renderer,me=se.inverted&&!q.isZAxis?[1,0,3,2][Pe]:Pe;var Me=q.hasData();const Ee=xe.title;var ze=xe.labels;const Qe=X(xe.crossing);var Ke=se.axisOffset;const ct=se.clipOffset,Ie=[-1,1,1,-1][Pe],Be=xe.className;let Ue,We=0,st;var wt=0;let Ut=0;if(q.showAxis=Ue=Me||xe.showEmpty,q.staggerLines=q.horiz&&ze.staggerLines||void 0,!q.axisGroup){const Vt=(yi,si,Ai)=>Z.g(yi).attr({zIndex:Ai}).addClass(`highcharts-${_e.toLowerCase()}${si} `+(this.isRadial?`highcharts-radial-axis${si} `:"")+(Be||"")).add(le);q.gridGroup=Vt("grid","-grid",xe.gridZIndex),q.axisGroup=Vt("axis","",xe.zIndex),q.labelGroup=Vt("axis-labels","-labels",ze.zIndex)}Me||q.isLinked?(ye.forEach(function(Vt){q.generateTick(Vt)}),q.renderUnsquish(),q.reserveSpaceDefault=Pe===0||Pe===2||{1:"left",3:"right"}[Pe]===q.labelAlign,b(ze.reserveSpace,Qe?!1:null,q.labelAlign==="center"?!0:null,q.reserveSpaceDefault)&&ye.forEach(function(Vt){Ut=Math.max(ce[Vt].getLabelSize(),Ut)}),q.staggerLines&&(Ut*=q.staggerLines),q.labelOffset=Ut*(q.opposite?-1:1)):y(ce,function(Vt,yi){Vt.destroy(),delete ce[yi]}),Ee&&Ee.text&&Ee.enabled!==!1&&(q.addTitle(Ue),Ue&&!Qe&&Ee.reserveSpace!==!1&&(q.titleOffset=We=q.axisTitle.getBBox()[pe?"height":"width"],st=Ee.offset,wt=G(st)?0:b(Ee.margin,pe?5:10))),q.renderLine(),q.offset=Ie*b(xe.offset,Ke[Pe]?Ke[Pe]+(xe.margin||0):0),q.tickRotCorr=q.tickRotCorr||{x:0,y:0},Me=Pe===0?-q.labelMetrics().h:Pe===2?q.tickRotCorr.y:0,wt=Math.abs(Ut)+wt,Ut&&(wt=wt-Me+Ie*(pe?b(ze.y,q.tickRotCorr.y+Ie*ze.distance):b(ze.x,Ie*ze.distance))),q.axisTitleMargin=b(st,wt),q.getMaxLabelDimensions&&(q.maxLabelDimensions=q.getMaxLabelDimensions(ce,ye)),_e!=="colorAxis"&&(ze=this.tickSize("tick"),Ke[Pe]=Math.max(Ke[Pe],(q.axisTitleMargin||0)+We+Ie*q.offset,wt,ye&&ye.length&&ze?ze[0]+Ie*q.offset:0),Ke=!q.axisLine||xe.offset?0:2*Math.floor(q.axisLine.strokeWidth()/2),ct[me]=Math.max(ct[me],Ke)),F(this,"afterGetOffset")}getLinePath(q){const se=this.chart,pe=this.opposite;var xe=this.offset;const Pe=this.horiz,ce=this.left+(pe?this.width:0)+xe;return xe=se.chartHeight-this.bottom-(pe?this.height:0)+xe,pe&&(q*=-1),se.renderer.crispLine([["M",Pe?this.left:ce,Pe?xe:this.top],["L",Pe?se.chartWidth-this.right:ce,Pe?xe:se.chartHeight-this.bottom]],q)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(q){var se=this.horiz,pe=this.left;const xe=this.top;var Pe=this.len;const ce=this.options.title,ye=se?pe:xe,_e=this.opposite,le=this.offset,Z=ce.x,me=ce.y,Me=this.chart.renderer.fontMetrics(q);return q=q?Math.max(q.getBBox(!1,0).height-Me.h-1,0):0,Pe={low:ye+(se?0:Pe),middle:ye+Pe/2,high:ye+(se?Pe:0)}[ce.align],pe=(se?xe+this.height:pe)+(se?1:-1)*(_e?-1:1)*(this.axisTitleMargin||0)+[-q,q,Me.f,-q][this.side],se={x:se?Pe+Z:pe+(_e?this.width:0)+le+Z,y:se?pe+me-(_e?this.height:0)+le:Pe+me},F(this,"afterGetTitlePosition",{titlePosition:se}),se}renderMinorTick(q,se){const pe=this.minorTicks;pe[q]||(pe[q]=new ee(this,q,"minor")),se&&pe[q].isNew&&pe[q].render(null,!0),pe[q].render(null,!1,1)}renderTick(q,se,pe){const xe=this.ticks;(!this.isLinked||q>=this.min&&q<=this.max||this.grid&&this.grid.isColumn)&&(xe[q]||(xe[q]=new ee(this,q)),pe&&xe[q].isNew&&xe[q].render(se,!0,-1),xe[q].render(se))}render(){const q=this,se=q.chart,pe=q.logarithmic,xe=q.options,Pe=q.isLinked,ce=q.tickPositions,ye=q.axisTitle,_e=q.ticks,le=q.minorTicks,Z=q.alternateBands,me=xe.stackLabels,Me=xe.alternateGridColor,Ee=xe.crossing,ze=q.tickmarkOffset,Qe=q.axisLine,Ke=q.showAxis,ct=Y(se.renderer.globalAnimation);let Ie,Be;if(q.labelEdge.length=0,q.overlap=!1,[_e,le,Z].forEach(function(Ue){y(Ue,function(We){We.isActive=!1})}),X(Ee)){const Ue=this.isXAxis?se.yAxis[0]:se.xAxis[0],We=[1,-1,-1,1][this.side];Ue&&(this.offset=We*Ue.toPixels(Ee,!0))}if(q.hasData()||Pe){const Ue=q.chart.hasRendered&&q.old&&X(q.old.min);q.minorTickInterval&&!q.categories&&q.getMinorTickPositions().forEach(function(We){q.renderMinorTick(We,Ue)}),ce.length&&(ce.forEach(function(We,st){q.renderTick(We,st,Ue)}),ze&&(q.min===0||q.single)&&(_e[-1]||(_e[-1]=new ee(q,-1,null,!0)),_e[-1].render(-1))),Me&&ce.forEach(function(We,st){Be=typeof ce[st+1]<"u"?ce[st+1]+ze:q.max-ze,st%2===0&&We<q.max&&Be<=q.max+(se.polar?-ze:ze)&&(Z[We]||(Z[We]=new $.PlotLineOrBand(q)),Ie=We+ze,Z[We].options={from:pe?pe.lin2log(Ie):Ie,to:pe?pe.lin2log(Be):Be,color:Me,className:"highcharts-alternate-grid"},Z[We].render(),Z[We].isActive=!0)}),q._addedPlotLB||(q._addedPlotLB=!0,(xe.plotLines||[]).concat(xe.plotBands||[]).forEach(function(We){q.addPlotBandOrLine(We)}))}[_e,le,Z].forEach(function(Ue){const We=[],st=ct.duration;y(Ue,function(wt,Ut){wt.isActive||(wt.render(Ut,!1,0),wt.isActive=!1,We.push(Ut))}),W(function(){let wt=We.length;for(;wt--;)Ue[We[wt]]&&!Ue[We[wt]].isActive&&(Ue[We[wt]].destroy(),delete Ue[We[wt]])},Ue!==Z&&se.hasRendered&&st?st:0)}),Qe&&(Qe[Qe.isPlaced?"animate":"attr"]({d:this.getLinePath(Qe.strokeWidth())}),Qe.isPlaced=!0,Qe[Ke?"show":"hide"](Ke)),ye&&Ke&&(ye[ye.isNew?"attr":"animate"](q.getTitlePosition(ye)),ye.isNew=!1),me&&me.enabled&&q.stacking&&q.stacking.renderStackTotals(),q.old={len:q.len,max:q.max,min:q.min,transA:q.transA,userMax:q.userMax,userMin:q.userMin},q.isDirty=!1,F(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(q){q.render()})),this.series.forEach(function(q){q.isDirty=!0})}getKeepProps(){return this.keepProps||ue.keepProps}destroy(q){const se=this,pe=se.plotLinesAndBands,xe=this.eventOptions;if(F(this,"destroy",{keepEvents:q}),q||j(se),[se.ticks,se.minorTicks,se.alternateBands].forEach(function(Pe){V(Pe)}),pe)for(q=pe.length;q--;)pe[q].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Pe){se[Pe]&&(se[Pe]=se[Pe].destroy())});for(const Pe in se.plotLinesAndBandsGroups)se.plotLinesAndBandsGroups[Pe]=se.plotLinesAndBandsGroups[Pe].destroy();y(se,function(Pe,ce){se.getKeepProps().indexOf(ce)===-1&&delete se[ce]}),this.eventOptions=xe}drawCrosshair(q,se){const pe=this.crosshair;var xe=b(pe&&pe.snap,!0);const Pe=this.chart;let ce,ye=this.cross;if(F(this,"drawCrosshair",{e:q,point:se}),q||(q=this.cross&&this.cross.e),pe&&(G(se)||!xe)!==!1){if(xe?G(se)&&(ce=b(this.coll!=="colorAxis"?se.crosshairPos:null,this.isXAxis?se.plotX:this.len-se.plotY)):ce=q&&(this.horiz?q.chartX-this.pos:this.len-q.chartY+this.pos),G(ce)){var _e={value:se&&(this.isXAxis?se.x:b(se.stackY,se.y)),translatedValue:ce};Pe.polar&&te(_e,{isCrosshair:!0,chartX:q&&q.chartX,chartY:q&&q.chartY,point:se}),_e=this.getPlotLinePath(_e)||null}if(!G(_e)){this.hideCrosshair();return}xe=this.categories&&!this.isRadial,ye||(this.cross=ye=Pe.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(xe?"category ":"thin ")+(pe.className||"")).attr({zIndex:b(pe.zIndex,2)}).add(),Pe.styledMode||(ye.attr({stroke:pe.color||(xe?m.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":b(pe.width,1)}).css({"pointer-events":"none"}),pe.dashStyle&&ye.attr({dashstyle:pe.dashStyle}))),ye.show().attr({d:_e}),xe&&!pe.width&&ye.attr({"stroke-width":this.transA}),this.cross.e=q}else this.hideCrosshair();F(this,"afterDrawCrosshair",{e:q,point:se})}hideCrosshair(){this.cross&&this.cross.hide(),F(this,"afterHideCrosshair")}hasVerticalPanning(){const q=this.chart.options.chart.panning;return!!(q&&q.enabled&&/y/.test(q.type))}update(q,se){const pe=this.chart;q=L(this.userOptions,q),this.destroy(!0),this.init(pe,q),pe.isDirtyBox=!0,b(se,!0)&&pe.redraw()}remove(q){const se=this.chart,pe=this.coll,xe=this.series;let Pe=xe.length;for(;Pe--;)xe[Pe]&&xe[Pe].remove(!1);C(se.axes,this),C(se[pe],this),se[pe].forEach(function(ce,ye){ce.options.index=ce.userOptions.index=ye}),this.destroy(),se.isDirtyBox=!0,b(q,!0)&&se.redraw()}setTitle(q,se){this.update({title:q},se)}setCategories(q,se){this.update({categories:q},se)}}return ue.defaultOptions=d.defaultXAxisOptions,ue.keepProps="extKey hcEvents names series userMax userMin".split(" "),ue}),s(l,"Core/Axis/DateTimeAxis.js",[l["Core/Utilities.js"]],function(c){const{addEvent:d,getMagnitude:m,normalizeTickInterval:n,timeUnits:w}=c;var $;return function(ee){function z(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function Y(O){O.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new I(this))}const Q=[];ee.compose=function(O){return c.pushUnique(Q,O)&&(O.keepProps.push("dateTime"),O.prototype.getTimeTicks=z,d(O,"init",Y)),O};class I{constructor(H){this.axis=H}normalizeTimeTickInterval(H,A){const E=A||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];A=E[E.length-1];let P=w[A[0]],G=A[1],V;for(V=0;V<E.length&&(A=E[V],P=w[A[0]],G=A[1],!(E[V+1]&&H<=(P*G[G.length-1]+w[E[V+1][0]])/2));V++);return P===w.year&&H<5*P&&(G=[1,2,5]),H=n(H/P,G,A[0]==="year"?Math.max(m(H/P),1):1),{unitRange:P,count:H,unitName:A[0]}}getXDateFormat(H,A){const{axis:E}=this,P=E.chart.time;return E.closestPointRange?P.getDateFormat(E.closestPointRange,H,E.options.startOfWeek,A)||P.resolveDTLFormat(A.year).main:P.resolveDTLFormat(A.day).main}}ee.Additions=I}($||($={})),$}),s(l,"Core/Axis/LogarithmicAxis.js",[l["Core/Utilities.js"]],function(c){const{addEvent:d,normalizeTickInterval:m,pick:n}=c;var w;return function($){function ee(I){let O=this.logarithmic;I.userOptions.type!=="logarithmic"?this.logarithmic=void 0:O||(this.logarithmic=new Q(this))}function z(){const I=this.logarithmic;I&&(this.lin2val=function(O){return I.lin2log(O)},this.val2lin=function(O){return I.log2lin(O)})}const Y=[];$.compose=function(I){return c.pushUnique(Y,I)&&(I.keepProps.push("logarithmic"),d(I,"init",ee),d(I,"afterInit",z)),I};class Q{constructor(O){this.axis=O}getLogTickPositions(O,H,A,E){const P=this.axis;var G=P.len,V=P.options;let C=[];if(E||(this.minorAutoInterval=void 0),.5<=O)O=Math.round(O),C=P.getLinearTickPositions(O,H,A);else if(.08<=O){V=Math.floor(H);let ne,te,F,N,X;for(G=.3<O?[1,2,4]:.15<O?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];V<A+1&&!X;V++)for(te=G.length,ne=0;ne<te&&!X;ne++)F=this.log2lin(this.lin2log(V)*G[ne]),F>H&&(!E||N<=A)&&typeof N<"u"&&C.push(N),N>A&&(X=!0),N=F}else H=this.lin2log(H),A=this.lin2log(A),O=E?P.getMinorTickInterval():V.tickInterval,O=n(O==="auto"?null:O,this.minorAutoInterval,V.tickPixelInterval/(E?5:1)*(A-H)/((E?G/P.tickPositions.length:G)||1)),O=m(O),C=P.getLinearTickPositions(O,H,A).map(this.log2lin),E||(this.minorAutoInterval=O/5);return E||(P.tickInterval=O),C}lin2log(O){return Math.pow(10,O)}log2lin(O){return Math.log(O)/Math.LN10}}$.Additions=Q}(w||(w={})),w}),s(l,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[l["Core/Utilities.js"]],function(c){const{erase:d,extend:m,isNumber:n}=c;var w;return function($){function ee(P){return this.addPlotBandOrLine(P,"plotBands")}function z(P,G){const V=this.userOptions;let C=new E(this,P);if(this.visible&&(C=C.render()),C){if(this._addedPlotLB||(this._addedPlotLB=!0,(V.plotLines||[]).concat(V.plotBands||[]).forEach(ne=>{this.addPlotBandOrLine(ne)})),G){const ne=V[G]||[];ne.push(P),V[G]=ne}this.plotLinesAndBands.push(C)}return C}function Y(P){return this.addPlotBandOrLine(P,"plotLines")}function Q(P,G,V=this.options){const C=this.getPlotLinePath({value:G,force:!0,acrossPanes:V.acrossPanes}),ne=[],te=this.horiz;G=!n(this.min)||!n(this.max)||P<this.min&&G<this.min||P>this.max&&G>this.max,P=this.getPlotLinePath({value:P,force:!0,acrossPanes:V.acrossPanes}),V=1;let F;if(P&&C)for(G&&(F=P.toString()===C.toString(),V=0),G=0;G<P.length;G+=2){const N=P[G],X=P[G+1],M=C[G],L=C[G+1];N[0]!=="M"&&N[0]!=="L"||X[0]!=="M"&&X[0]!=="L"||M[0]!=="M"&&M[0]!=="L"||L[0]!=="M"&&L[0]!=="L"||(te&&M[1]===N[1]?(M[1]+=V,L[1]+=V):te||M[2]!==N[2]||(M[2]+=V,L[2]+=V),ne.push(["M",N[1],N[2]],["L",X[1],X[2]],["L",L[1],L[2]],["L",M[1],M[2]],["Z"])),ne.isFlat=F}return ne}function I(P){this.removePlotBandOrLine(P)}function O(P){const G=this.plotLinesAndBands,V=this.options,C=this.userOptions;if(G){let ne=G.length;for(;ne--;)G[ne].id===P&&G[ne].destroy();[V.plotLines||[],C.plotLines||[],V.plotBands||[],C.plotBands||[]].forEach(function(te){for(ne=te.length;ne--;)(te[ne]||{}).id===P&&d(te,te[ne])})}}function H(P){this.removePlotBandOrLine(P)}const A=[];let E;$.compose=function(P,G){return E||(E=P),c.pushUnique(A,G)&&m(G.prototype,{addPlotBand:ee,addPlotLine:Y,addPlotBandOrLine:z,getPlotBandPath:Q,removePlotBand:I,removePlotLine:H,removePlotBandOrLine:O}),G}}(w||(w={})),w}),s(l,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[l["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],l["Core/Utilities.js"]],function(c,d){const{arrayMax:m,arrayMin:n,defined:w,destroyObjectProperties:$,erase:ee,fireEvent:z,merge:Y,objectEach:Q,pick:I}=d;class O{static compose(A){return c.compose(O,A)}constructor(A,E){this.axis=A,E&&(this.options=E,this.id=E.id)}render(){z(this,"render");const A=this,E=A.axis,P=E.horiz;var G=E.logarithmic;const V=A.options,C=V.color,ne=I(V.zIndex,0),te=V.events,F={},N=E.chart.renderer;let X=V.label,M=A.label,L=V.to,f=V.from,y=V.value,b=A.svgElem;var S=[];const j=w(f)&&w(L);S=w(y);const J=!b,W={class:"highcharts-plot-"+(j?"band ":"line ")+(V.className||"")};let re=j?"bands":"lines";if(G&&(f=G.log2lin(f),L=G.log2lin(L),y=G.log2lin(y)),E.chart.styledMode||(S?(W.stroke=C||"#999999",W["stroke-width"]=I(V.width,1),V.dashStyle&&(W.dashstyle=V.dashStyle)):j&&(W.fill=C||"#e6e9ff",V.borderWidth&&(W.stroke=V.borderColor,W["stroke-width"]=V.borderWidth))),F.zIndex=ne,re+="-"+ne,(G=E.plotLinesAndBandsGroups[re])||(E.plotLinesAndBandsGroups[re]=G=N.g("plot-"+re).attr(F).add()),J&&(A.svgElem=b=N.path().attr(W).add(G)),S)S=E.getPlotLinePath({value:y,lineWidth:b.strokeWidth(),acrossPanes:V.acrossPanes});else if(j)S=E.getPlotBandPath(f,L,V);else return;return!A.eventsAdded&&te&&(Q(te,function(ue,ve){b.on(ve,function(q){te[ve].apply(A,[q])})}),A.eventsAdded=!0),(J||!b.d)&&S&&S.length?b.attr({d:S}):b&&(S?(b.show(),b.animate({d:S})):b.d&&(b.hide(),M&&(A.label=M=M.destroy()))),X&&(w(X.text)||w(X.formatter))&&S&&S.length&&0<E.width&&0<E.height&&!S.isFlat?(X=Y({align:P&&j&&"center",x:P?!j&&4:10,verticalAlign:!P&&j&&"middle",y:P?j?16:10:j?6:-4,rotation:P&&!j&&90},X),this.renderLabel(X,S,j,ne)):M&&M.hide(),A}renderLabel(A,E,P,G){const V=this.axis;var C=V.chart.renderer;let ne=this.label;ne||(this.label=ne=C.text(this.getLabelText(A),0,0,A.useHTML).attr({align:A.textAlign||A.align,rotation:A.rotation,class:"highcharts-plot-"+(P?"band":"line")+"-label "+(A.className||""),zIndex:G}).add(),V.chart.styledMode||ne.css(Y({fontSize:"0.8em",textOverflow:"ellipsis"},A.style))),G=E.xBounds||[E[0][1],E[1][1],P?E[2][1]:E[0][1]],E=E.yBounds||[E[0][2],E[1][2],P?E[2][2]:E[0][2]],P=n(G),C=n(E),ne.align(A,!1,{x:P,y:C,width:m(G)-P,height:m(E)-C}),ne.alignValue&&ne.alignValue!=="left"||(A=A.clip?V.width:V.chart.chartWidth,ne.css({width:(ne.rotation===90?V.height-(ne.alignAttr.y-V.top):A-(ne.alignAttr.x-V.left))+"px"})),ne.show(!0)}getLabelText(A){return w(A.formatter)?A.formatter.call(this):A.text}destroy(){ee(this.axis.plotLinesAndBands,this),delete this.axis,$(this)}}return O}),s(l,"Core/Tooltip.js",[l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Utilities.js"]],function(c,d,m,n,w){const{format:$}=c,{doc:ee,isSafari:z}=d,{distribute:Y}=m,{addEvent:Q,clamp:I,css:O,discardElement:H,extend:A,fireEvent:E,isArray:P,isNumber:G,isString:V,merge:C,pick:ne,splat:te,syncTimeout:F}=w;class N{constructor(M,L){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=M,this.init(M,L)}bodyFormatter(M){return M.map(function(L){const f=L.series.tooltipOptions;return(f[(L.point.formatPrefix||"point")+"Formatter"]||L.point.tooltipFormatter).call(L.point,f[(L.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(M){this.chart.series.forEach(function(L){const f=L&&L.tt;f&&(!f.isActive||M?L.tt=f.destroy():f.isActive=!1)})}defaultFormatter(M){const L=this.points||te(this);let f;return f=[M.tooltipFooterHeaderFormatter(L[0])],f=f.concat(M.bodyFormatter(L)),f.push(M.tooltipFooterHeaderFormatter(L[0],!0)),f}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),H(this.container)),w.clearTimeout(this.hideTimer),w.clearTimeout(this.tooltipTimeout)}getAnchor(M,L){var f=this.chart;const y=f.pointer,b=f.inverted,S=f.plotTop;if(f=f.plotLeft,M=te(M),M[0].series&&M[0].series.yAxis&&!M[0].series.yAxis.options.reversedStacks&&(M=M.slice().reverse()),this.followPointer&&L)typeof L.chartX>"u"&&(L=y.normalize(L)),M=[L.chartX-f,L.chartY-S];else if(M[0].tooltipPos)M=M[0].tooltipPos;else{let j=0,J=0;M.forEach(function(W){(W=W.pos(!0))&&(j+=W[0],J+=W[1])}),j/=M.length,J/=M.length,this.shared&&1<M.length&&L&&(b?j=L.chartX:J=L.chartY),M=[j-f,J-S]}return M.map(Math.round)}getClassName(M,L,f){const y=M.series,b=y.options;return[this.options.className,"highcharts-label",f&&"highcharts-tooltip-header",L?"highcharts-tooltip-box":"highcharts-tooltip",!f&&"highcharts-color-"+ne(M.colorIndex,y.colorIndex),b&&b.className].filter(V).join(" ")}getLabel(){const M=this,L=this.chart.styledMode,f=this.options,y=this.split&&this.allowShared,b=f.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let S,j=this.chart.renderer;if(this.label){var J=!this.label.hasClass("highcharts-label");(!y&&J||y&&!J)&&this.destroy()}if(!this.label){if(this.outside){J=this.chart.options.chart.style;const W=n.getRendererType();this.container=S=d.doc.createElement("div"),S.className="highcharts-tooltip-container",O(S,{position:"absolute",top:"1px",pointerEvents:b,zIndex:Math.max(this.options.style.zIndex||0,(J&&J.zIndex||0)+3)}),d.doc.body.appendChild(S),this.renderer=j=new W(S,0,0,J,void 0,void 0,j.styledMode)}if(y?this.label=j.g("tooltip"):(this.label=j.label("",0,0,f.shape,void 0,void 0,f.useHTML,void 0,"tooltip").attr({padding:f.padding,r:f.borderRadius}),L||this.label.attr({fill:f.backgroundColor,"stroke-width":f.borderWidth||0}).css(f.style).css({pointerEvents:b})),M.outside){const W=this.label,{xSetter:re,ySetter:ue}=W;W.xSetter=function(ve){re.call(W,M.distance),S.style.left=ve+"px"},W.ySetter=function(ve){ue.call(W,M.distance),S.style.top=ve+"px"}}this.label.attr({zIndex:8}).shadow(f.shadow).add()}return this.label}getPlayingField(){const{body:M,documentElement:L}=ee,{chart:f,distance:y,outside:b}=this;return{width:b?Math.max(M.scrollWidth,L.scrollWidth,M.offsetWidth,L.offsetWidth,L.clientWidth)-2*y:f.chartWidth,height:b?Math.max(M.scrollHeight,L.scrollHeight,M.offsetHeight,L.offsetHeight,L.clientHeight):f.chartHeight}}getPosition(M,L,f){const y=this.chart,b=this.distance,S={},j=y.inverted&&f.h||0,J=this.outside;var W=this.getPlayingField();const re=W.width,ue=W.height,ve=y.pointer.getChartPosition();W=le=>{const Z=le==="x";return[le,Z?re:ue,Z?M:L].concat(J?[Z?M*ve.scaleX:L*ve.scaleY,Z?ve.left-b+(f.plotX+y.plotLeft)*ve.scaleX:ve.top-b+(f.plotY+y.plotTop)*ve.scaleY,0,Z?re:ue]:[Z?M:L,Z?f.plotX+y.plotLeft:f.plotY+y.plotTop,Z?y.plotLeft:y.plotTop,Z?y.plotLeft+y.plotWidth:y.plotTop+y.plotHeight])};let q=W("y"),se=W("x"),pe;W=!!f.negative,!y.polar&&y.hoverSeries&&y.hoverSeries.yAxis&&y.hoverSeries.yAxis.reversed&&(W=!W);const xe=!this.followPointer&&ne(f.ttBelow,!y.inverted===W),Pe=function(le,Z,me,Me,Ee,ze,Qe){const Ke=J?le==="y"?b*ve.scaleY:b*ve.scaleX:b,ct=(me-Me)/2,Ie=Me<Ee-b,Be=Ee+b+Me<Z,Ue=Ee-Ke-me+ct;if(Ee=Ee+Ke-ct,xe&&Be)S[le]=Ee;else if(!xe&&Ie)S[le]=Ue;else if(Ie)S[le]=Math.min(Qe-Me,0>Ue-j?Ue:Ue-j);else if(Be)S[le]=Math.max(ze,Ee+j+me>Z?Ee:Ee+j);else return!1},ce=function(le,Z,me,Me,Ee){let ze;return Ee<b||Ee>Z-b?ze=!1:S[le]=Ee<me/2?1:Ee>Z-Me/2?Z-Me-2:Ee-me/2,ze},ye=function(le){const Z=q;q=se,se=Z,pe=le},_e=function(){Pe.apply(0,q)!==!1?ce.apply(0,se)!==!1||pe||(ye(!0),_e()):pe?S.x=S.y=0:(ye(!0),_e())};return(y.inverted||1<this.len)&&ye(),_e(),S}hide(M){const L=this;w.clearTimeout(this.hideTimer),M=ne(M,this.options.hideDelay),this.isHidden||(this.hideTimer=F(function(){L.getLabel().fadeOut(M&&void 0),L.isHidden=!0},M))}init(M,L){this.chart=M,this.options=L,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=L.split&&!M.inverted&&!M.polar,this.shared=L.shared||this.split,this.outside=ne(L.outside,!(!M.scrollablePixelsX&&!M.scrollablePixelsY))}shouldStickOnContact(M){return!(this.followPointer||!this.options.stickOnContact||M&&!this.chart.pointer.inClass(M.target,"highcharts-tooltip"))}move(M,L,f,y){const b=this,S=b.now,j=b.options.animation!==!1&&!b.isHidden&&(1<Math.abs(M-S.x)||1<Math.abs(L-S.y)),J=b.followPointer||1<b.len;A(S,{x:j?(2*S.x+M)/3:M,y:j?(S.y+L)/2:L,anchorX:J?void 0:j?(2*S.anchorX+f)/3:f,anchorY:J?void 0:j?(S.anchorY+y)/2:y}),b.getLabel().attr(S),b.drawTracker(),j&&(w.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){b&&b.move(M,L,f,y)},32))}refresh(M,L){const f=this.chart,y=this.options,b=f.pointer,S=te(M),j=S[0],J=[];var W=y.formatter||this.defaultFormatter,re=this.shared;const ue=f.styledMode;let ve={};if(y.enabled&&j.series){w.clearTimeout(this.hideTimer),this.allowShared=!(!P(M)&&M.series&&M.series.noSharedTooltip),this.followPointer=!this.split&&j.series.tooltipOptions.followPointer,M=this.getAnchor(M,L);var q=M[0],se=M[1];if(re&&this.allowShared?(b.applyInactiveState(S),S.forEach(function(pe){pe.setState("hover"),J.push(pe.getLabelConfig())}),ve={x:j.category,y:j.y},ve.points=J):ve=j.getLabelConfig(),this.len=J.length,W=W.call(ve,this),re=j.series,this.distance=ne(re.tooltipOptions.distance,16),W===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(W,S);else{let pe=q,xe=se;if(L&&b.isDirectTouch&&(pe=L.chartX-f.plotLeft,xe=L.chartY-f.plotTop),f.polar||re.options.clip===!1||S.some(Pe=>b.isDirectTouch||Pe.series.shouldShowTooltip(pe,xe)))L=this.getLabel(),y.style.width&&!ue||L.css({width:(this.outside?this.getPlayingField():f.spacingBox).width+"px"}),L.attr({text:W&&W.join?W.join(""):W}),L.addClass(this.getClassName(j),!0),ue||L.attr({stroke:y.borderColor||j.color||re.color||"#666666"}),this.updatePosition({plotX:q,plotY:se,negative:j.negative,ttBelow:j.ttBelow,h:M[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}E(this,"refresh")}}renderSplit(M,L){function f(st,wt,Ut,Vt,yi=!0){return Ut?(wt=me?0:Ke,st=I(st-Vt/2,_e.left,_e.right-Vt-(y.outside?Me:0))):(wt-=ze,st=yi?st-Vt-Pe:st+Pe,st=I(st,yi?st:_e.left,_e.right)),{x:st,y:wt}}const y=this,{chart:b,chart:{chartWidth:S,chartHeight:j,plotHeight:J,plotLeft:W,plotTop:re,pointer:ue,scrollablePixelsY:ve=0,scrollablePixelsX:q,scrollingContainer:{scrollLeft:se,scrollTop:pe}={scrollLeft:0,scrollTop:0},styledMode:xe},distance:Pe,options:ce,options:{positioner:ye}}=y,_e=y.outside&&typeof q!="number"?ee.documentElement.getBoundingClientRect():{left:se,right:se+S,top:pe,bottom:pe+j},le=y.getLabel(),Z=this.renderer||b.renderer,me=!(!b.xAxis[0]||!b.xAxis[0].opposite),{left:Me,top:Ee}=ue.getChartPosition();let ze=re+pe,Qe=0,Ke=J-ve;V(M)&&(M=[!1,M]),M=M.slice(0,L.length+1).reduce(function(st,wt,Ut){if(wt!==!1&&wt!==""){Ut=L[Ut-1]||{isHeader:!0,plotX:L[0].plotX,plotY:J,series:{}};const Fi=Ut.isHeader;var Vt=Fi?y:Ut.series,yi;{var si=Ut;wt=wt.toString();var Ai=Vt.tt;const{isHeader:yn,series:Tn}=si;Ai||(Ai={padding:ce.padding,r:ce.borderRadius},xe||(Ai.fill=ce.backgroundColor,Ai["stroke-width"]=(yi=ce.borderWidth)!==null&&yi!==void 0?yi:1),Ai=Z.label("",0,0,ce[yn?"headerShape":"shape"],void 0,void 0,ce.useHTML).addClass(y.getClassName(si,!0,yn)).attr(Ai).add(le)),Ai.isActive=!0,Ai.attr({text:wt}),xe||Ai.css(ce.style).attr({stroke:ce.borderColor||si.color||Tn.color||"#333333"}),yi=Ai}yi=Vt.tt=yi,si=yi.getBBox(),Vt=si.width+yi.strokeWidth(),Fi&&(Qe=si.height,Ke+=Qe,me&&(ze-=Qe));{const{isHeader:yn,plotX:Tn=0,plotY:Yn=0,series:Tr}=Ut;if(yn){wt=W+Tn;var $i=re+J/2}else{const{xAxis:ps,yAxis:Ds}=Tr;wt=ps.pos+I(Tn,-Pe,ps.len+Pe),Tr.shouldShowTooltip(0,Ds.pos-re+Yn,{ignoreX:!0})&&($i=Ds.pos+Yn)}wt=I(wt,_e.left-Pe,_e.right+Pe),$i={anchorX:wt,anchorY:$i}}const{anchorX:Zi,anchorY:Ri}=$i;typeof Ri=="number"?($i=si.height+1,si=ye?ye.call(y,Vt,$i,Ut):f(Zi,Ri,Fi,Vt),st.push({align:ye?0:void 0,anchorX:Zi,anchorY:Ri,boxWidth:Vt,point:Ut,rank:ne(si.rank,Fi?1:0),size:$i,target:si.y,tt:yi,x:si.x})):yi.isActive=!1}return st},[]),!ye&&M.some(st=>{var{outside:wt}=y;return wt=(wt?Me:0)+st.anchorX,wt<_e.left&&wt+st.boxWidth<_e.right?!0:wt<Me-_e.left+st.boxWidth&&_e.right-wt>wt})&&(M=M.map(st=>{const{x:wt,y:Ut}=f(st.anchorX,st.anchorY,st.point.isHeader,st.boxWidth,!1);return A(st,{target:Ut,x:wt})})),y.cleanSplit(),Y(M,Ke);var ct=Me,Ie=Me;M.forEach(function(st){const{x:wt,boxWidth:Ut,isHeader:Vt}=st;Vt||(y.outside&&Me+wt<ct&&(ct=Me+wt),!Vt&&y.outside&&ct+Ut>Ie&&(Ie=Me+wt))}),M.forEach(function(st){const{x:wt,anchorX:Ut,anchorY:Vt,pos:yi,point:{isHeader:si}}=st,Ai={visibility:typeof yi>"u"?"hidden":"inherit",x:wt,y:(yi||0)+ze,anchorX:Ut,anchorY:Vt};if(y.outside&&wt<Ut){const $i=Me-ct;0<$i&&(si||(Ai.x=wt+$i,Ai.anchorX=Ut+$i),si&&(Ai.x=(Ie-ct)/2,Ai.anchorX=Ut+$i))}st.tt.attr(Ai)});const{container:Be,outside:Ue,renderer:We}=y;if(Ue&&Be&&We){const{width:st,height:wt,x:Ut,y:Vt}=le.getBBox();We.setSize(st+Ut,wt+Vt,!1),Be.style.left=ct+"px",Be.style.top=Ee+"px"}z&&le.attr({opacity:le.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var M=this.chart,L=this.label,f=this.shared?M.hoverPoints:M.hoverPoint;if(L&&f){var y={x:0,y:0,width:0,height:0};f=this.getAnchor(f);var b=L.getBBox();f[0]+=M.plotLeft-L.translateX,f[1]+=M.plotTop-L.translateY,y.x=Math.min(0,f[0]),y.y=Math.min(0,f[1]),y.width=0>f[0]?Math.max(Math.abs(f[0]),b.width-f[0]):Math.max(Math.abs(f[0]),b.width),y.height=0>f[1]?Math.max(Math.abs(f[1]),b.height-Math.abs(f[1])):Math.max(Math.abs(f[1]),b.height),this.tracker?this.tracker.attr(y):(this.tracker=L.renderer.rect(y).addClass("highcharts-tracker").add(L),M.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(M){return M.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(M,L){const f=M.series,y=f.tooltipOptions;var b=f.xAxis;const S=b&&b.dateTime;b={isFooter:L,labelConfig:M};let j=y.xDateFormat,J=y[L?"footerFormat":"headerFormat"];return E(this,"headerFormatter",b,function(W){S&&!j&&G(M.key)&&(j=S.getXDateFormat(M.key,y.dateTimeLabelFormats)),S&&j&&(M.point&&M.point.tooltipDateKeys||["key"]).forEach(function(re){J=J.replace("{point."+re+"}","{point."+re+":"+j+"}")}),f.chart.styledMode&&(J=this.styledModeFormat(J)),W.text=$(J,{point:M,series:f},this.chart)}),b.text}update(M){this.destroy(),C(!0,this.chart.options.tooltip.userOptions,M),this.init(this.chart,C(!0,this.options,M))}updatePosition(M){const{chart:L,distance:f,options:y}=this;var b=L.pointer;const S=this.getLabel(),{left:j,top:J,scaleX:W,scaleY:re}=b.getChartPosition();b=(y.positioner||this.getPosition).call(this,S.width,S.height,M);let ue=(M.plotX||0)+L.plotLeft;M=(M.plotY||0)+L.plotTop;let ve;this.outside&&(y.positioner&&(b.x+=j-f,b.y+=J-f),ve=(y.borderWidth||0)+2*f,this.renderer.setSize(S.width+ve,S.height+ve,!1),(W!==1||re!==1)&&(O(this.container,{transform:`scale(${W}, ${re})`}),ue*=W,M*=re),ue+=j-b.x,M+=J-b.y),this.move(Math.round(b.x),Math.round(b.y||0),ue,M)}}return function(X){const M=[];X.compose=function(L){w.pushUnique(M,L)&&Q(L,"afterInit",function(){const f=this.chart;f.options.tooltip&&(f.tooltip=new X(f,f.options.tooltip))})}}(N||(N={})),N}),s(l,"Core/Series/Point.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Animation/AnimationUtilities.js"],l["Core/Defaults.js"],l["Core/FormatUtilities.js"],l["Core/Utilities.js"]],function(c,d,m,n,w){const{animObject:$}=d,{defaultOptions:ee}=m,{format:z}=n,{addEvent:Y,defined:Q,erase:I,extend:O,fireEvent:H,getNestedProperty:A,isArray:E,isFunction:P,isNumber:G,isObject:V,merge:C,objectEach:ne,pick:te,syncTimeout:F,removeEvent:N,uniqueKey:X}=w;class M{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const f=this,y={x:f.startXPos,opacity:0},b=f.getGraphicalProps();b.singular.forEach(function(S){f[S]=f[S].animate(S==="dataLabel"?{x:f[S].startXPos,y:f[S].startYPos,opacity:0}:y)}),b.plural.forEach(function(S){f[S].forEach(function(j){j.element&&j.animate(O({x:f.startXPos},j.startYPos?{x:j.startXPos,y:j.startYPos}:{}))})})}applyOptions(f,y){const b=this.series,S=b.options.pointValKey||b.pointValKey;return f=M.prototype.optionsToObject.call(this,f),O(this,f),this.options=this.options?O(this.options,f):f,f.group&&delete this.group,f.dataLabels&&delete this.dataLabels,S&&(this.y=M.prototype.getNestedProperty.call(this,S)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof y>"u"&&b.xAxis&&b.xAxis.hasNames&&(this.x=b.xAxis.nameToX(this)),typeof this.x>"u"&&b?this.x=typeof y>"u"?b.autoIncrement():y:G(f.x)&&b.options.relativeXValue&&(this.x=b.autoIncrement(f.x)),this}destroy(){if(!this.destroyed){const y=this;var f=y.series;const b=f.chart;f=f.options.dataSorting;const S=b.hoverPoints,j=$(y.series.chart.renderer.globalAnimation),J=()=>{(y.graphic||y.graphics||y.dataLabel||y.dataLabels)&&(N(y),y.destroyElements());for(const W in y)delete y[W]};y.legendItem&&b.legend.destroyItem(y),S&&(y.setState(),I(S,y),S.length||(b.hoverPoints=null)),y===b.hoverPoint&&y.onMouseOut(),f&&f.enabled?(this.animateBeforeDestroy(),F(J,j.duration)):J(),b.pointCount--}this.destroyed=!0}destroyElements(f){const y=this;f=y.getGraphicalProps(f),f.singular.forEach(function(b){y[b]=y[b].destroy()}),f.plural.forEach(function(b){y[b].forEach(function(S){S&&S.element&&S.destroy()}),delete y[b]})}firePointEvent(f,y,b){const S=this,j=this.series.options;(j.point.events[f]||S.options&&S.options.events&&S.options.events[f])&&S.importEvents(),f==="click"&&j.allowPointSelect&&(b=function(J){S.select&&S.select(null,J.ctrlKey||J.metaKey||J.shiftKey)}),H(S,f,y,b)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(f){const y=this,b=[],S={singular:[],plural:[]};let j,J;for(f=f||{graphic:1,dataLabel:1},f.graphic&&b.push("graphic"),f.dataLabel&&b.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),J=b.length;J--;)j=b[J],y[j]&&S.singular.push(j);return["graphic","dataLabel","connector"].forEach(function(W){const re=W+"s";f[W]&&y[re]&&S.plural.push(re)}),S}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(f){if(f)return f.indexOf("custom.")===0?A(f,this.options):this[f]}getZone(){var f=this.series;const y=f.zones;f=f.zoneAxis||"y";let b,S=0;for(b=y[S];this[f]>=b.value;)b=y[++S];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=b&&b.color&&!this.options.color?b.color:this.nonZonedColor,b}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(f,y,b){return this.series=f,this.applyOptions(y,b),this.id=Q(this.id)?this.id:X(),this.resolveColor(),f.chart.pointCount++,H(this,"afterInit"),this}isValid(){return this.x!==null&&G(this.y)}optionsToObject(f){var y=this.series;const b=y.options.keys,S=b||y.pointArrayMap||["y"],j=S.length;let J={},W=0,re=0;if(G(f)||f===null)J[S[0]]=f;else if(E(f))for(!b&&f.length>j&&(y=typeof f[0],y==="string"?J.name=f[0]:y==="number"&&(J.x=f[0]),W++);re<j;)b&&typeof f[W]>"u"||(0<S[re].indexOf(".")?M.prototype.setNestedProperty(J,f[W],S[re]):J[S[re]]=f[W]),W++,re++;else typeof f=="object"&&(J=f,f.dataLabels&&(y._hasPointLabels=!0),f.marker&&(y._hasPointMarkers=!0));return J}pos(f,y=this.plotY){if(!this.destroyed){const{plotX:b,series:S}=this,{chart:j,xAxis:J,yAxis:W}=S;let re=0,ue=0;if(G(b)&&G(y))return f&&(re=J?J.pos:j.plotLeft,ue=W?W.pos:j.plotTop),j.inverted&&J&&W?[W.len-y+ue,J.len-b+re]:[b+re,y+ue]}}resolveColor(){const f=this.series;var y=f.chart.styledMode;let b;var S=f.chart.options.chart.colorCount;delete this.nonZonedColor,f.options.colorByPoint?(y||(S=f.options.colors||f.chart.options.colors,b=S[f.colorCounter],S=S.length),y=f.colorCounter,f.colorCounter++,f.colorCounter===S&&(f.colorCounter=0)):(y||(b=f.color),y=f.colorIndex),this.colorIndex=te(this.options.colorIndex,y),this.color=te(this.options.color,b)}setNestedProperty(f,y,b){return b.split(".").reduce(function(S,j,J,W){return S[j]=W.length-1===J?y:V(S[j],!0)?S[j]:{},S[j]},f),f}shouldDraw(){return!this.isNull}tooltipFormatter(f){const y=this.series,b=y.tooltipOptions,S=te(b.valueDecimals,""),j=b.valuePrefix||"",J=b.valueSuffix||"";return y.chart.styledMode&&(f=y.chart.tooltip.styledModeFormat(f)),(y.pointArrayMap||["y"]).forEach(function(W){W="{point."+W,(j||J)&&(f=f.replace(RegExp(W+"}","g"),j+W+"}"+J)),f=f.replace(RegExp(W+"}","g"),W+":,."+S+"f}")}),z(f,{point:this,series:this.series},y.chart)}update(f,y,b,S){function j(){J.applyOptions(f);var se=re&&J.hasMockGraphic;se=J.y===null?!se:se,re&&se&&(J.graphic=re.destroy(),delete J.hasMockGraphic),V(f,!0)&&(re&&re.element&&f&&f.marker&&typeof f.marker.symbol<"u"&&(J.graphic=re.destroy()),f&&f.dataLabels&&J.dataLabel&&(J.dataLabel=J.dataLabel.destroy()),J.connector&&(J.connector=J.connector.destroy())),q=J.index,W.updateParallelArrays(J,q),ve.data[q]=V(ve.data[q],!0)||V(f,!0)?J.options:te(f,ve.data[q]),W.isDirty=W.isDirtyData=!0,!W.fixedBox&&W.hasCartesianSeries&&(ue.isDirtyBox=!0),ve.legendType==="point"&&(ue.isDirtyLegend=!0),y&&ue.redraw(b)}const J=this,W=J.series,re=J.graphic,ue=W.chart,ve=W.options;let q;y=te(y,!0),S===!1?j():J.firePointEvent("update",{options:f},j)}remove(f,y){this.series.removePoint(this.series.data.indexOf(this),f,y)}select(f,y){const b=this,S=b.series,j=S.chart;this.selectedStaging=f=te(f,!b.selected),b.firePointEvent(f?"select":"unselect",{accumulate:y},function(){b.selected=b.options.selected=f,S.options.data[S.data.indexOf(b)]=b.options,b.setState(f&&"select"),y||j.getSelectedPoints().forEach(function(J){const W=J.series;J.selected&&J!==b&&(J.selected=J.options.selected=!1,W.options.data[W.data.indexOf(J)]=J.options,J.setState(j.hoverPoints&&W.options.inactiveOtherPoints?"inactive":""),J.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(f){const y=this.series.chart,b=y.pointer;f=f?b.normalize(f):b.getChartCoordinatesFromPoint(this,y.inverted),b.runPointActions(f,this)}onMouseOut(){const f=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(f.hoverPoints||[]).forEach(function(y){y.setState()}),f.hoverPoints=f.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const f=this,y=C(f.series.options.point,f.options).events;f.events=y,ne(y,function(b,S){P(b)&&Y(f,S,b)}),this.hasImportedEvents=!0}}setState(f,y){const b=this.series;var S=this.state,j=b.options.states[f||"normal"]||{},J=ee.plotOptions[b.type].marker&&b.options.marker;const W=J&&J.enabled===!1,re=J&&J.states&&J.states[f||"normal"]||{},ue=re.enabled===!1,ve=this.marker||{},q=b.chart,se=J&&b.markerAttribs;let pe=b.halo;var xe;let Pe;var ce=b.stateMarkerGraphic;if(f=f||"",!(f===this.state&&!y||this.selected&&f!=="select"||j.enabled===!1||f&&(ue||W&&re.enabled===!1)||f&&ve.states&&ve.states[f]&&ve.states[f].enabled===!1)){if(this.state=f,se&&(xe=b.markerAttribs(this,f)),this.graphic&&!this.hasMockGraphic){if(S&&this.graphic.removeClass("highcharts-point-"+S),f&&this.graphic.addClass("highcharts-point-"+f),!q.styledMode){S=b.pointAttribs(this,f),Pe=te(q.options.chart.animation,j.animation);const ye=S.opacity;b.options.inactiveOtherPoints&&G(ye)&&((this.dataLabels||[]).forEach(function(_e){_e&&!_e.hasClass("highcharts-data-label-hidden")&&_e.animate({opacity:ye},Pe)}),this.connector&&this.connector.animate({opacity:ye},Pe)),this.graphic.animate(S,Pe)}xe&&this.graphic.animate(xe,te(q.options.chart.animation,re.animation,J.animation)),ce&&ce.hide()}else f&&re&&(J=ve.symbol||b.symbol,ce&&ce.currentSymbol!==J&&(ce=ce.destroy()),xe&&(ce?ce[y?"animate":"attr"]({x:xe.x,y:xe.y}):J&&(b.stateMarkerGraphic=ce=q.renderer.symbol(J,xe.x,xe.y,xe.width,xe.height).add(b.markerGroup),ce.currentSymbol=J)),!q.styledMode&&ce&&this.state!=="inactive"&&ce.attr(b.pointAttribs(this,f))),ce&&(ce[f&&this.isInside?"show":"hide"](),ce.element.point=this,ce.addClass(this.getClassName(),!0));j=j.halo,xe=(ce=this.graphic||ce)&&ce.visibility||"inherit",j&&j.size&&ce&&xe!=="hidden"&&!this.isCluster?(pe||(b.halo=pe=q.renderer.path().add(ce.parentGroup)),pe.show()[y?"animate":"attr"]({d:this.haloPath(j.size)}),pe.attr({class:"highcharts-halo highcharts-color-"+te(this.colorIndex,b.colorIndex)+(this.className?" "+this.className:""),visibility:xe,zIndex:-1}),pe.point=this,q.styledMode||pe.attr(O({fill:this.color||b.color,"fill-opacity":j.opacity},c.filterUserAttributes(j.attributes||{})))):pe&&pe.point&&pe.point.haloPath&&pe.animate({d:pe.point.haloPath(0)},null,pe.hide),H(this,"afterSetState",{state:f})}}haloPath(f){const y=this.pos();return y?this.series.chart.renderer.symbols.circle(Math.floor(y[0])-f,y[1]-f,2*f,2*f):[]}}return M}),s(l,"Core/Pointer.js",[l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d,m){const{parse:n}=c,{charts:w,noop:$}=d,{addEvent:ee,attr:z,css:Y,defined:Q,extend:I,find:O,fireEvent:H,isNumber:A,isObject:E,objectEach:P,offset:G,pick:V,splat:C}=m;class ne{constructor(F,N){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=F,this.hasDragged=!1,this.options=N,this.init(F,N)}applyInactiveState(F){let N=[],X;(F||[]).forEach(function(M){X=M.series,N.push(X),X.linkedParent&&N.push(X.linkedParent),X.linkedSeries&&(N=N.concat(X.linkedSeries)),X.navigatorSeries&&N.push(X.navigatorSeries)}),this.chart.series.forEach(function(M){N.indexOf(M)===-1?M.setState("inactive",!0):M.options.inactiveOtherPoints&&M.setAllPointsToState("inactive")})}destroy(){const F=this;this.eventsToUnbind.forEach(N=>N()),this.eventsToUnbind=[],d.chartCount||(ne.unbindDocumentMouseUp&&(ne.unbindDocumentMouseUp=ne.unbindDocumentMouseUp()),ne.unbindDocumentTouchEnd&&(ne.unbindDocumentTouchEnd=ne.unbindDocumentTouchEnd())),clearInterval(F.tooltipTimeout),P(F,function(N,X){F[X]=void 0})}getSelectionMarkerAttrs(F,N){const X={args:{chartX:F,chartY:N},attrs:{},shapeType:"rect"};return H(this,"getSelectionMarkerAttrs",X,M=>{const{chart:L,mouseDownX:f=0,mouseDownY:y=0,zoomHor:b,zoomVert:S}=this;M=M.attrs;let j;M.x=L.plotLeft,M.y=L.plotTop,M.width=b?1:L.plotWidth,M.height=S?1:L.plotHeight,b&&(j=F-f,M.width=Math.abs(j),M.x=(0<j?0:j)+f),S&&(j=N-y,M.height=Math.abs(j),M.y=(0<j?0:j)+y)}),X}drag(F){const N=this.chart,X=N.options.chart;var M=N.plotLeft;const L=N.plotTop,f=N.plotWidth,y=N.plotHeight,b=this.mouseDownX||0,S=this.mouseDownY||0,j=E(X.panning)?X.panning&&X.panning.enabled:X.panning,J=X.panKey&&F[X.panKey+"Key"];let W=F.chartX,re=F.chartY,ue=this.selectionMarker;if((!ue||!ue.touch)&&(W<M?W=M:W>M+f&&(W=M+f),re<L?re=L:re>L+y&&(re=L+y),this.hasDragged=Math.sqrt(Math.pow(b-W,2)+Math.pow(S-re,2)),10<this.hasDragged)){M=N.isInsidePlot(b-M,S-L,{visiblePlotOnly:!0});const{shapeType:ve,attrs:q}=this.getSelectionMarkerAttrs(W,re);!N.hasCartesianSeries&&!N.mapView||!this.zoomX&&!this.zoomY||!M||J||ue||(this.selectionMarker=ue=N.renderer[ve](),ue.attr({class:"highcharts-selection-marker",zIndex:7}).add(),N.styledMode||ue.attr({fill:X.selectionMarkerFill||n("#334eff").setOpacity(.25).get()})),ue&&ue.attr(q),M&&!ue&&j&&N.pan(F,X.panning)}}dragStart(F){const N=this.chart;N.mouseIsDown=F.type,N.cancelClick=!1,N.mouseDownX=this.mouseDownX=F.chartX,N.mouseDownY=this.mouseDownY=F.chartY}getSelectionBox(F){const N={args:{marker:F},result:{}};return H(this,"getSelectionBox",N,X=>{X.result={x:F.attr?+F.attr("x"):F.x,y:F.attr?+F.attr("y"):F.y,width:F.attr?F.attr("width"):F.width,height:F.attr?F.attr("height"):F.height}}),N.result}drop(F){const N=this,X=this.chart,M=this.hasPinched;if(this.selectionMarker){const{x:L,y:f,width:y,height:b}=this.getSelectionBox(this.selectionMarker),S={originalEvent:F,xAxis:[],yAxis:[],x:L,y:f,width:y,height:b};let j=!!X.mapView;(this.hasDragged||M)&&(X.axes.forEach(function(J){if(J.zoomEnabled&&Q(J.min)&&(M||N[{xAxis:"zoomX",yAxis:"zoomY"}[J.coll]])&&A(L)&&A(f)&&A(y)&&A(b)){var W=J.horiz;const re=F.type==="touchend"?J.minPixelPadding:0,ue=J.toValue((W?L:f)+re);W=J.toValue((W?L+y:f+b)-re),S[J.coll].push({axis:J,min:Math.min(ue,W),max:Math.max(ue,W)}),j=!0}}),j&&H(X,"selection",S,function(J){X.zoom(I(J,M?{animation:!1}:null))})),A(X.index)&&(this.selectionMarker=this.selectionMarker.destroy()),M&&this.scaleGroups()}X&&A(X.index)&&(Y(X.container,{cursor:X._cursor}),X.cancelClick=10<this.hasDragged,X.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(F,N,X){let M;return F.forEach(function(L){var f=!(L.noSharedTooltip&&N)&&0>L.options.findNearestPointBy.indexOf("y");if(L=L.searchPoint(X,f),(f=E(L,!0)&&L.series)&&!(f=!E(M,!0))){{f=M.distX-L.distX;const y=M.dist-L.dist,b=(L.series.group&&L.series.group.zIndex)-(M.series.group&&M.series.group.zIndex);f=f!==0&&N?f:y!==0?y:b!==0?b:M.series.index>L.series.index?-1:1}f=0<f}f&&(M=L)}),M}getChartCoordinatesFromPoint(F,N){var X=F.series;const M=X.xAxis;X=X.yAxis;const L=F.shapeArgs;if(M&&X){let f=V(F.clientX,F.plotX),y=F.plotY||0;return F.isNode&&L&&A(L.x)&&A(L.y)&&(f=L.x,y=L.y),N?{chartX:X.len+X.pos-y,chartY:M.len+M.pos-f}:{chartX:f+M.pos,chartY:y+X.pos}}if(L&&L.x&&L.y)return{chartX:L.x,chartY:L.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:F}=this.chart;const N=G(F);this.chartPosition={left:N.left,top:N.top,scaleX:1,scaleY:1};const X=F.offsetWidth;return F=F.offsetHeight,2<X&&2<F&&(this.chartPosition.scaleX=N.width/X,this.chartPosition.scaleY=N.height/F),this.chartPosition}getCoordinates(F){const N={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(X){N[X.isXAxis?"xAxis":"yAxis"].push({axis:X,value:X.toValue(F[X.horiz?"chartX":"chartY"])})}),N}getHoverData(F,N,X,M,L,f){const y=[];M=!(!M||!F);const b=function(W){return W.visible&&!(!L&&W.directTouch)&&V(W.options.enableMouseTracking,!0)};let S,j={chartX:f?f.chartX:void 0,chartY:f?f.chartY:void 0,shared:L};H(this,"beforeGetHoverData",j),S=N&&!N.stickyTracking?[N]:X.filter(W=>W.stickyTracking&&(j.filter||b)(W));const J=M||!f?F:this.findNearestKDPoint(S,L,f);return N=J&&J.series,J&&(L&&!N.noSharedTooltip?(S=X.filter(function(W){return j.filter?j.filter(W):b(W)&&!W.noSharedTooltip}),S.forEach(function(W){let re=O(W.points,function(ue){return ue.x===J.x&&!ue.isNull});E(re)&&(W.boosted&&W.boost&&(re=W.boost.getPoint(re)),y.push(re))})):y.push(J)),j={hoverPoint:J},H(this,"afterGetHoverData",j),{hoverPoint:j.hoverPoint,hoverSeries:N,hoverPoints:y}}getPointFromEvent(F){F=F.target;let N;for(;F&&!N;)N=F.point,F=F.parentNode;return N}onTrackerMouseOut(F){F=F.relatedTarget;const N=this.chart.hoverSeries;this.isDirectTouch=!1,!N||!F||N.stickyTracking||this.inClass(F,"highcharts-tooltip")||this.inClass(F,"highcharts-series-"+N.index)&&this.inClass(F,"highcharts-tracker")||N.onMouseOut()}inClass(F,N){let X;for(;F;){if(X=z(F,"class")){if(X.indexOf(N)!==-1)return!0;if(X.indexOf("highcharts-container")!==-1)return!1}F=F.parentElement}}init(F,N){this.options=N,this.chart=F,this.runChartClick=!(!N.chart.events||!N.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),H(this,"afterInit")}normalize(F,N){var X=F.touches,M=X?X.length?X.item(0):V(X.changedTouches,F.changedTouches)[0]:F;return N||(N=this.getChartPosition()),X=M.pageX-N.left,M=M.pageY-N.top,X/=N.scaleX,M/=N.scaleY,I(F,{chartX:Math.round(X),chartY:Math.round(M)})}onContainerClick(F){const N=this.chart,X=N.hoverPoint;F=this.normalize(F);const M=N.plotLeft,L=N.plotTop;N.cancelClick||(X&&this.inClass(F.target,"highcharts-tracker")?(H(X.series,"click",I(F,{point:X})),N.hoverPoint&&X.firePointEvent("click",F)):(I(F,this.getCoordinates(F)),N.isInsidePlot(F.chartX-M,F.chartY-L,{visiblePlotOnly:!0})&&H(N,"click",F)))}onContainerMouseDown(F){const N=((F.buttons||F.button)&1)===1;F=this.normalize(F),d.isFirefox&&F.button!==0&&this.onContainerMouseMove(F),(typeof F.button>"u"||N)&&(this.zoomOption(F),N&&F.preventDefault&&F.preventDefault(),this.dragStart(F))}onContainerMouseLeave(F){const N=w[V(ne.hoverChartIndex,-1)];F=this.normalize(F),N&&F.relatedTarget&&!this.inClass(F.relatedTarget,"highcharts-tooltip")&&(N.pointer.reset(),N.pointer.chartPosition=void 0)}onContainerMouseEnter(F){delete this.chartPosition}onContainerMouseMove(F){const N=this.chart,X=N.tooltip;F=this.normalize(F),this.setHoverChartIndex(),(N.mouseIsDown==="mousedown"||this.touchSelect(F))&&this.drag(F),N.openMenu||!this.inClass(F.target,"highcharts-tracker")&&!N.isInsidePlot(F.chartX-N.plotLeft,F.chartY-N.plotTop,{visiblePlotOnly:!0})||X&&X.shouldStickOnContact(F)||(this.inClass(F.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(F))}onDocumentTouchEnd(F){const N=w[V(ne.hoverChartIndex,-1)];N&&N.pointer.drop(F)}onContainerTouchMove(F){this.touchSelect(F)?this.onContainerMouseMove(F):this.touch(F)}onContainerTouchStart(F){this.touchSelect(F)?this.onContainerMouseDown(F):(this.zoomOption(F),this.touch(F,!0))}onDocumentMouseMove(F){const N=this.chart,X=N.tooltip,M=this.chartPosition;F=this.normalize(F,M),!M||N.isInsidePlot(F.chartX-N.plotLeft,F.chartY-N.plotTop,{visiblePlotOnly:!0})||X&&X.shouldStickOnContact(F)||this.inClass(F.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(F){const N=w[V(ne.hoverChartIndex,-1)];N&&N.pointer.drop(F)}pinch(F){const N=this,X=N.chart,M=N.pinchDown,L=F.touches||[],f=L.length,y=N.lastValidTouch,b=N.hasZoom,S={},j=f===1&&(N.inClass(F.target,"highcharts-tracker")&&X.runTrackerClick||N.runChartClick),J={};var W=N.chart.tooltip;W=f===1&&V(W&&W.options.followTouchMove,!0);let re=N.selectionMarker;1<f?N.initiated=!0:W&&(N.initiated=!1),b&&N.initiated&&!j&&F.cancelable!==!1&&F.preventDefault(),[].map.call(L,function(ue){return N.normalize(ue)}),F.type==="touchstart"?([].forEach.call(L,function(ue,ve){M[ve]={chartX:ue.chartX,chartY:ue.chartY}}),y.x=[M[0].chartX,M[1]&&M[1].chartX],y.y=[M[0].chartY,M[1]&&M[1].chartY],X.axes.forEach(function(ue){if(ue.zoomEnabled){const ve=X.bounds[ue.horiz?"h":"v"],q=ue.minPixelPadding,se=ue.toPixels(Math.min(V(ue.options.min,ue.dataMin),ue.dataMin)),pe=ue.toPixels(Math.max(V(ue.options.max,ue.dataMax),ue.dataMax)),xe=Math.max(se,pe);ve.min=Math.min(ue.pos,Math.min(se,pe)-q),ve.max=Math.max(ue.pos+ue.len,xe+q)}}),N.res=!0):W?this.runPointActions(N.normalize(F)):M.length&&(H(X,"touchpan",{originalEvent:F},()=>{re||(N.selectionMarker=re=I({destroy:$,touch:!0},X.plotBox)),N.pinchTranslate(M,L,S,re,J,y),N.hasPinched=b,N.scaleGroups(S,J)}),N.res&&(N.res=!1,this.reset(!1,0)))}pinchTranslate(F,N,X,M,L,f){this.zoomHor&&this.pinchTranslateDirection(!0,F,N,X,M,L,f),this.zoomVert&&this.pinchTranslateDirection(!1,F,N,X,M,L,f)}pinchTranslateDirection(F,N,X,M,L,f,y,b){const S=this.chart,j=F?"x":"y",J=F?"X":"Y",W="chart"+J,re=F?"width":"height",ue=S["plot"+(F?"Left":"Top")],ve=S.inverted,q=S.bounds[F?"h":"v"],se=N.length===1,pe=N[0][W],xe=!se&&N[1][W];N=function(){typeof le=="number"&&20<Math.abs(pe-xe)&&(ye=b||Math.abs(_e-le)/Math.abs(pe-xe)),ce=(ue-_e)/ye+pe,Pe=S["plot"+(F?"Width":"Height")]/ye};let Pe,ce,ye=b||1,_e=X[0][W],le=!se&&X[1][W],Z;N(),X=ce,X<q.min?(X=q.min,Z=!0):X+Pe>q.max&&(X=q.max-Pe,Z=!0),Z?(_e-=.8*(_e-y[j][0]),typeof le=="number"&&(le-=.8*(le-y[j][1])),N()):y[j]=[_e,le],ve||(f[j]=ce-ue,f[re]=Pe),f=ve?1/ye:ye,L[re]=Pe,L[j]=X,M[ve?F?"scaleY":"scaleX":"scale"+J]=ye,M["translate"+J]=f*ue+(_e-f*pe)}reset(F,N){const X=this.chart,M=X.hoverSeries,L=X.hoverPoint,f=X.hoverPoints,y=X.tooltip,b=y&&y.shared?f:L;F&&b&&C(b).forEach(function(S){S.series.isCartesian&&typeof S.plotX>"u"&&(F=!1)}),F?y&&b&&C(b).length&&(y.refresh(b),y.shared&&f?f.forEach(function(S){S.setState(S.state,!0),S.series.isCartesian&&(S.series.xAxis.crosshair&&S.series.xAxis.drawCrosshair(null,S),S.series.yAxis.crosshair&&S.series.yAxis.drawCrosshair(null,S))}):L&&(L.setState(L.state,!0),X.axes.forEach(function(S){S.crosshair&&L.series[S.coll]===S&&S.drawCrosshair(null,L)}))):(L&&L.onMouseOut(),f&&f.forEach(function(S){S.setState()}),M&&M.onMouseOut(),y&&y.hide(N),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),X.axes.forEach(function(S){S.hideCrosshair()}),this.hoverX=X.hoverPoints=X.hoverPoint=null)}runPointActions(F,N,X){const M=this.chart,L=M.tooltip&&M.tooltip.options.enabled?M.tooltip:void 0,f=L?L.shared:!1;let y=N||M.hoverPoint,b=y&&y.series||M.hoverSeries;N=this.getHoverData(y,b,M.series,(!F||F.type!=="touchmove")&&(!!N||b&&b.directTouch&&this.isDirectTouch),f,F),y=N.hoverPoint,b=N.hoverSeries;const S=N.hoverPoints;N=b&&b.tooltipOptions.followPointer&&!b.tooltipOptions.split;const j=f&&b&&!b.noSharedTooltip;if(y&&(X||y!==M.hoverPoint||L&&L.isHidden)){if((M.hoverPoints||[]).forEach(function(J){S.indexOf(J)===-1&&J.setState()}),M.hoverSeries!==b&&b.onMouseOver(),this.applyInactiveState(S),(S||[]).forEach(function(J){J.setState("hover")}),M.hoverPoint&&M.hoverPoint.firePointEvent("mouseOut"),!y.series)return;M.hoverPoints=S,M.hoverPoint=y,y.firePointEvent("mouseOver",void 0,()=>{L&&y&&L.refresh(j?S:y,F)})}else N&&L&&!L.isHidden&&(X=L.getAnchor([{}],F),M.isInsidePlot(X[0],X[1],{visiblePlotOnly:!0})&&L.updatePosition({plotX:X[0],plotY:X[1]}));this.unDocMouseMove||(this.unDocMouseMove=ee(M.container.ownerDocument,"mousemove",function(J){const W=w[ne.hoverChartIndex];W&&W.pointer.onDocumentMouseMove(J)}),this.eventsToUnbind.push(this.unDocMouseMove)),M.axes.forEach(function(J){const W=V((J.crosshair||{}).snap,!0);let re;W&&((re=M.hoverPoint)&&re.series[J.coll]===J||(re=O(S,ue=>ue.series&&ue.series[J.coll]===J))),re||!W?J.drawCrosshair(F,re):J.hideCrosshair()})}scaleGroups(F,N){const X=this.chart;X.series.forEach(function(M){const L=F||M.getPlotBox();M.group&&(M.xAxis&&M.xAxis.zoomEnabled||X.mapView)&&(M.group.attr(L),M.markerGroup&&(M.markerGroup.attr(L),M.markerGroup.clip(N?X.clipRect:null)),M.dataLabelsGroup&&M.dataLabelsGroup.attr(L))}),X.clipRect.attr(N||X.clipBox)}setDOMEvents(){const F=this.chart.container,N=F.ownerDocument;F.onmousedown=this.onContainerMouseDown.bind(this),F.onmousemove=this.onContainerMouseMove.bind(this),F.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ee(F,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(ee(F,"mouseleave",this.onContainerMouseLeave.bind(this))),ne.unbindDocumentMouseUp||(ne.unbindDocumentMouseUp=ee(N,"mouseup",this.onDocumentMouseUp.bind(this)));let X=this.chart.renderTo.parentElement;for(;X&&X.tagName!=="BODY";)this.eventsToUnbind.push(ee(X,"scroll",()=>{delete this.chartPosition})),X=X.parentElement;d.hasTouch&&(this.eventsToUnbind.push(ee(F,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(ee(F,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ne.unbindDocumentTouchEnd||(ne.unbindDocumentTouchEnd=ee(N,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const F=this.chart,N=d.charts[V(ne.hoverChartIndex,-1)];N&&N!==F&&N.pointer.onContainerMouseLeave({relatedTarget:F.container}),N&&N.mouseIsDown||(ne.hoverChartIndex=F.index)}touch(F,N){const X=this.chart;let M;this.setHoverChartIndex(),F.touches.length===1?(F=this.normalize(F),X.isInsidePlot(F.chartX-X.plotLeft,F.chartY-X.plotTop,{visiblePlotOnly:!0})&&!X.openMenu?(N&&this.runPointActions(F),F.type==="touchmove"&&(N=this.pinchDown,M=N[0]?4<=Math.sqrt(Math.pow(N[0].chartX-F.chartX,2)+Math.pow(N[0].chartY-F.chartY,2)):!1),V(M,!0)&&this.pinch(F)):N&&this.reset()):F.touches.length===2&&this.pinch(F)}touchSelect(F){return!(!this.chart.options.chart.zooming.singleTouch||!F.touches||F.touches.length!==1)}zoomOption(F){var N=this.chart,X=N.options.chart;N=N.inverted;let M=X.zooming.type||"";/touch/.test(F.type)&&(M=V(X.zooming.pinchType,M)),this.zoomX=F=/x/.test(M),this.zoomY=X=/y/.test(M),this.zoomHor=F&&!N||X&&N,this.zoomVert=X&&!N||F&&N,this.hasZoom=F||X}}return function(te){const F=[],N=[];te.compose=function(X){m.pushUnique(N,X)&&ee(X,"beforeRender",function(){this.pointer=new te(this,this.options)})},te.dissolve=function(){for(let X=0,M=F.length;X<M;++X)F[X]();F.length=0}}(ne||(ne={})),ne}),s(l,"Core/Legend/Legend.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Series/Point.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Utilities.js"]],function(c,d,m,n,w,$){const{animObject:ee,setAnimation:z}=c,{format:Y}=d,{marginNames:Q}=m,{distribute:I}=w,{addEvent:O,createElement:H,css:A,defined:E,discardElement:P,find:G,fireEvent:V,isNumber:C,merge:ne,pick:te,relativeLength:F,stableSort:N,syncTimeout:X}=$;class M{constructor(f,y){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=f,this.init(f,y)}init(f,y){this.chart=f,this.setOptions(y),y.enabled&&(this.render(),O(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),O(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(f){const y=te(f.padding,8);this.options=f,this.chart.styledMode||(this.itemStyle=f.itemStyle,this.itemHiddenStyle=ne(this.itemStyle,f.itemHiddenStyle)),this.itemMarginTop=f.itemMarginTop,this.itemMarginBottom=f.itemMarginBottom,this.padding=y,this.initialItemY=y-5,this.symbolWidth=te(f.symbolWidth,16),this.pages=[],this.proximate=f.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(f,y){const b=this.chart;this.setOptions(ne(!0,this.options,f)),this.destroy(),b.isDirtyLegend=b.isDirtyBox=!0,te(y,!0)&&b.redraw(),V(this,"afterUpdate")}colorizeItem(f,y){const{group:b,label:S,line:j,symbol:J}=f.legendItem||{};if(b&&b[y?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var W=this.options;const re=this.itemHiddenStyle.color;W=y?W.itemStyle.color:re;const ue=y&&f.color||re,ve=f.options&&f.options.marker;let q={fill:ue};S&&S.css({fill:W}),j&&j.attr({stroke:ue}),J&&(ve&&J.isMarker&&(q=f.pointAttribs(),y||(q.stroke=q.fill=re)),J.attr(q))}V(this,"afterColorizeItem",{item:f,visible:y})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(f){const{group:y,x:b=0,y:S=0}=f.legendItem||{};var j=this.options,J=j.symbolPadding;const W=!j.rtl;j=f.checkbox,y&&y.element&&(J={translateX:W?b:this.legendWidth-b-2*J-4,translateY:S},y[E(y.translateY)?"animate":"attr"](J,void 0,()=>{V(this,"afterPositionItem",{item:f})})),j&&(j.x=b,j.y=S)}destroyItem(f){const y=f.checkbox,b=f.legendItem||{};for(const S of["group","label","line","symbol"])b[S]&&(b[S]=b[S].destroy());y&&P(y),f.legendItem=void 0}destroy(){for(const f of this.getAllItems())this.destroyItem(f);for(const f of"clipRect up down pager nav box title group".split(" "))this[f]&&(this[f]=this[f].destroy());this.display=null}positionCheckboxes(){const f=this.group&&this.group.alignAttr,y=this.clipHeight||this.legendHeight,b=this.titleHeight;let S;f&&(S=f.translateY,this.allItems.forEach(function(j){const J=j.checkbox;let W;J&&(W=S+b+J.y+(this.scrollOffset||0)+3,A(J,{left:f.translateX+j.checkboxOffset+J.x-20+"px",top:W+"px",display:this.proximate||W>S-6&&W<S+y-6?"":"none"}))},this))}renderTitle(){var f=this.options;const y=this.padding,b=f.title;let S=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,y-3,y-4,void 0,void 0,void 0,f.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(b.style),this.title.add(this.group)),b.width||this.title.css({width:this.maxLegendWidth+"px"}),f=this.title.getBBox(),S=f.height,this.offsetWidth=f.width,this.contentGroup.attr({translateY:S})),this.titleHeight=S}setText(f){const y=this.options;f.legendItem.label.attr({text:y.labelFormat?Y(y.labelFormat,f,this.chart):y.labelFormatter.call(f)})}renderItem(f){const y=f.legendItem=f.legendItem||{};var b=this.chart,S=b.renderer;const j=this.options,J=this.symbolWidth,W=j.symbolPadding||0,re=this.itemStyle,ue=this.itemHiddenStyle,ve=j.layout==="horizontal"?te(j.itemDistance,20):0,q=!j.rtl,se=!f.series,pe=!se&&f.series.drawLegendSymbol?f.series:f;var xe=pe.options;const Pe=this.createCheckboxForItem&&xe&&xe.showCheckbox,ce=j.useHTML,ye=f.options.className;let _e=y.label;xe=J+W+ve+(Pe?20:0),_e||(y.group=S.g("legend-item").addClass("highcharts-"+pe.type+"-series highcharts-color-"+f.colorIndex+(ye?" "+ye:"")+(se?" highcharts-series-"+f.index:"")).attr({zIndex:1}).add(this.scrollGroup),y.label=_e=S.text("",q?J+W:-W,this.baseline||0,ce),b.styledMode||_e.css(ne(f.visible?re:ue)),_e.attr({align:q?"left":"right",zIndex:2}).add(y.group),this.baseline||(this.fontMetrics=S.fontMetrics(_e),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_e.attr("y",this.baseline),this.symbolHeight=te(j.symbolHeight,this.fontMetrics.f),j.squareSymbol&&(this.symbolWidth=te(j.symbolWidth,Math.max(this.symbolHeight,16)),xe=this.symbolWidth+W+ve+(Pe?20:0),q&&_e.attr("x",this.symbolWidth+W))),pe.drawLegendSymbol(this,f),this.setItemEvents&&this.setItemEvents(f,_e,ce)),Pe&&!f.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(f),this.colorizeItem(f,f.visible),!b.styledMode&&re.width||_e.css({width:(j.itemWidth||this.widthOption||b.spacingBox.width)-xe+"px"}),this.setText(f),b=_e.getBBox(),S=this.fontMetrics&&this.fontMetrics.h||0,f.itemWidth=f.checkboxOffset=j.itemWidth||y.labelWidth||b.width+xe,this.maxItemWidth=Math.max(this.maxItemWidth,f.itemWidth),this.totalItemWidth+=f.itemWidth,this.itemHeight=f.itemHeight=Math.round(y.labelHeight||(b.height>1.5*S?b.height:S))}layoutItem(f){var y=this.options;const b=this.padding,S=y.layout==="horizontal",j=f.itemHeight,J=this.itemMarginBottom,W=this.itemMarginTop,re=S?te(y.itemDistance,20):0,ue=this.maxLegendWidth;y=y.alignColumns&&this.totalItemWidth>ue?this.maxItemWidth:f.itemWidth;const ve=f.legendItem||{};S&&this.itemX-b+y>ue&&(this.itemX=b,this.lastLineHeight&&(this.itemY+=W+this.lastLineHeight+J),this.lastLineHeight=0),this.lastItemY=W+this.itemY+J,this.lastLineHeight=Math.max(j,this.lastLineHeight),ve.x=this.itemX,ve.y=this.itemY,S?this.itemX+=y:(this.itemY+=W+j+J,this.lastLineHeight=j),this.offsetWidth=this.widthOption||Math.max((S?this.itemX-b-(f.checkbox?0:re):y)+b,this.offsetWidth)}getAllItems(){let f=[];return this.chart.series.forEach(function(y){const b=y&&y.options;y&&te(b.showInLegend,E(b.linkedTo)?!1:void 0,!0)&&(f=f.concat((y.legendItem||{}).labels||(b.legendType==="point"?y.data:y)))}),V(this,"afterGetAllItems",{allItems:f}),f}getAlignment(){const f=this.options;return this.proximate?f.align.charAt(0)+"tv":f.floating?"":f.align.charAt(0)+f.verticalAlign.charAt(0)+f.layout.charAt(0)}adjustMargins(f,y){const b=this.chart,S=this.options,j=this.getAlignment();j&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(J,W){J.test(j)&&!E(f[W])&&(b[Q[W]]=Math.max(b[Q[W]],b.legend[(W+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][W]*S[W%2?"x":"y"]+te(S.margin,12)+y[W]+(b.titleOffset[W]||0)))})}proximatePositions(){const f=this.chart,y=[],b=this.options.align==="left";this.allItems.forEach(function(j){var J,W=b;let re;j.yAxis&&(j.xAxis.options.reversed&&(W=!W),j.points&&(J=G(W?j.points:j.points.slice(0).reverse(),function(ue){return C(ue.plotY)})),W=this.itemMarginTop+j.legendItem.label.getBBox().height+this.itemMarginBottom,re=j.yAxis.top-f.plotTop,j.visible?(J=J?J.plotY:j.yAxis.height,J+=re-.3*W):J=re+j.yAxis.height,y.push({target:J,size:W,item:j}))},this);let S;for(const j of I(y,f.plotHeight))S=j.item.legendItem||{},C(j.pos)&&(S.y=f.plotTop-f.spacing[0]+j.pos)}render(){const f=this.chart,y=f.renderer,b=this.options,S=this.padding;var j=this.getAllItems();let J,W=this.group,re=this.box;this.itemX=S,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=F(b.width,f.spacingBox.width-S);var ue=f.spacingBox.width-2*S-b.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(ue/=2),this.maxLegendWidth=this.widthOption||ue,W||(this.group=W=y.g("legend").addClass(b.className||"").attr({zIndex:7}).add(),this.contentGroup=y.g().attr({zIndex:1}).add(W),this.scrollGroup=y.g().add(this.contentGroup)),this.renderTitle(),N(j,(ve,q)=>(ve.options&&ve.options.legendIndex||0)-(q.options&&q.options.legendIndex||0)),b.reversed&&j.reverse(),this.allItems=j,this.display=ue=!!j.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,j.forEach(this.renderItem,this),j.forEach(this.layoutItem,this),j=(this.widthOption||this.offsetWidth)+S,J=this.lastItemY+this.lastLineHeight+this.titleHeight,J=this.handleOverflow(J),J+=S,re||(this.box=re=y.rect().addClass("highcharts-legend-box").attr({r:b.borderRadius}).add(W)),f.styledMode||re.attr({stroke:b.borderColor,"stroke-width":b.borderWidth||0,fill:b.backgroundColor||"none"}).shadow(b.shadow),0<j&&0<J&&re[re.placed?"animate":"attr"](re.crisp.call({},{x:0,y:0,width:j,height:J},re.strokeWidth())),W[ue?"show":"hide"](),f.styledMode&&W.getStyle("display")==="none"&&(j=J=0),this.legendWidth=j,this.legendHeight=J,ue&&this.align(),this.proximate||this.positionItems(),V(this,"afterRender")}align(f=this.chart.spacingBox){const y=this.chart,b=this.options;let S=f.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<y.titleOffset[0]?S+=y.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<y.titleOffset[2]&&(S-=y.titleOffset[2]),S!==f.y&&(f=ne(f,{y:S})),y.hasRendered||(this.group.placed=!1),this.group.align(ne(b,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":b.verticalAlign}),!0,f)}handleOverflow(f){const y=this,b=this.chart,S=b.renderer,j=this.options;var J=j.y;const W=j.verticalAlign==="top",re=this.padding,ue=j.maxHeight,ve=j.navigation,q=te(ve.animation,!0),se=ve.arrowSize||12,pe=this.pages,xe=this.allItems,Pe=function(Me){typeof Me=="number"?me.attr({height:Me}):me&&(y.clipRect=me.destroy(),y.contentGroup.clip()),y.contentGroup.div&&(y.contentGroup.div.style.clip=Me?"rect("+re+"px,9999px,"+(re+Me)+"px,0)":"auto")},ce=function(Me){return y[Me]=S.circle(0,0,1.3*se).translate(se/2,se/2).add(Z),b.styledMode||y[Me].attr("fill","rgba(0,0,0,0.0001)"),y[Me]};let ye,_e,le;J=b.spacingBox.height+(W?-J:J)-re;let Z=this.nav,me=this.clipRect;return j.layout!=="horizontal"||j.verticalAlign==="middle"||j.floating||(J/=2),ue&&(J=Math.min(J,ue)),pe.length=0,f&&0<J&&f>J&&ve.enabled!==!1?(this.clipHeight=ye=Math.max(J-20-this.titleHeight-re,0),this.currentPage=te(this.currentPage,1),this.fullHeight=f,xe.forEach((Me,Ee)=>{le=Me.legendItem||{},Me=le.y||0;const ze=Math.round(le.label.getBBox().height);let Qe=pe.length;(!Qe||Me-pe[Qe-1]>ye&&(_e||Me)!==pe[Qe-1])&&(pe.push(_e||Me),Qe++),le.pageIx=Qe-1,_e&&((xe[Ee-1].legendItem||{}).pageIx=Qe-1),Ee===xe.length-1&&Me+ze-pe[Qe-1]>ye&&Me>pe[Qe-1]&&(pe.push(Me),le.pageIx=Qe),Me!==_e&&(_e=Me)}),me||(me=y.clipRect=S.clipRect(0,re-2,9999,0),y.contentGroup.clip(me)),Pe(ye),Z||(this.nav=Z=S.g().attr({zIndex:1}).add(this.group),this.up=S.symbol("triangle",0,0,se,se).add(Z),ce("upTracker").on("click",function(){y.scroll(-1,q)}),this.pager=S.text("",15,10).addClass("highcharts-legend-navigation"),!b.styledMode&&ve.style&&this.pager.css(ve.style),this.pager.add(Z),this.down=S.symbol("triangle-down",0,0,se,se).add(Z),ce("downTracker").on("click",function(){y.scroll(1,q)})),y.scroll(0),f=J):Z&&(Pe(),this.nav=Z.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),f}scroll(f,y){const b=this.chart,S=this.pages,j=S.length,J=this.clipHeight,W=this.options.navigation,re=this.pager,ue=this.padding;let ve=this.currentPage+f;ve>j&&(ve=j),0<ve&&(typeof y<"u"&&z(y,b),this.nav.attr({translateX:ue,translateY:J+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(q){q.attr({class:ve===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),re.attr({text:ve+"/"+j}),[this.down,this.downTracker].forEach(function(q){q.attr({x:18+this.pager.getBBox().width,class:ve===j?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),b.styledMode||(this.up.attr({fill:ve===1?W.inactiveColor:W.activeColor}),this.upTracker.css({cursor:ve===1?"default":"pointer"}),this.down.attr({fill:ve===j?W.inactiveColor:W.activeColor}),this.downTracker.css({cursor:ve===j?"default":"pointer"})),this.scrollOffset=-S[ve-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=ve,this.positionCheckboxes(),f=ee(te(y,b.renderer.globalAnimation,!0)),X(()=>{V(this,"afterScroll",{currentPage:ve})},f.duration))}setItemEvents(f,y,b){const S=this,j=f.legendItem||{},J=S.chart.renderer.boxWrapper,W=f instanceof n,re="highcharts-legend-"+(W?"point":"series")+"-active",ue=S.chart.styledMode;b=b?[y,j.symbol]:[j.group];const ve=q=>{S.allItems.forEach(se=>{f!==se&&[se].concat(se.linkedSeries||[]).forEach(pe=>{pe.setState(q,!W)})})};for(const q of b)q&&q.on("mouseover",function(){f.visible&&ve("inactive"),f.setState("hover"),f.visible&&J.addClass(re),ue||y.css(S.options.itemHoverStyle)}).on("mouseout",function(){S.chart.styledMode||y.css(ne(f.visible?S.itemStyle:S.itemHiddenStyle)),ve(""),J.removeClass(re),f.setState()}).on("click",function(se){const pe=function(){f.setVisible&&f.setVisible(),ve(f.visible?"inactive":"")};J.removeClass(re),se={browserEvent:se},f.firePointEvent?f.firePointEvent("legendItemClick",se,pe):V(f,"legendItemClick",se,pe)})}createCheckboxForItem(f){f.checkbox=H("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:f.selected,defaultChecked:f.selected},this.options.itemCheckboxStyle,this.chart.container),O(f.checkbox,"click",function(y){V(f.series||f,"checkboxClick",{checked:y.target.checked,item:f},function(){f.select()})})}}return function(L){const f=[];L.compose=function(y){$.pushUnique(f,y)&&O(y,"beforeMargins",function(){this.legend=new L(this,this.options.legend)})}}(M||(M={})),M}),s(l,"Core/Series/SeriesRegistry.js",[l["Core/Globals.js"],l["Core/Defaults.js"],l["Core/Series/Point.js"],l["Core/Utilities.js"]],function(c,d,m,n){const{defaultOptions:w}=d,{extendClass:$,merge:ee}=n;var z;return function(Y){function Q(I,O){const H=w.plotOptions||{},A=O.defaultOptions,E=O.prototype;E.type=I,E.pointClass||(E.pointClass=m),A&&(H[I]=A),Y.seriesTypes[I]=O}Y.seriesTypes=c.seriesTypes,Y.registerSeriesType=Q,Y.seriesType=function(I,O,H,A,E){const P=w.plotOptions||{};return O=O||"",P[I]=ee(P[O],H),Q(I,$(Y.seriesTypes[O]||function(){},A)),Y.seriesTypes[I].prototype.type=I,E&&(Y.seriesTypes[I].prototype.pointClass=$(m,E)),Y.seriesTypes[I]}}(z||(z={})),z}),s(l,"Core/Chart/Chart.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Defaults.js"],l["Core/FormatUtilities.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Time.js"],l["Core/Utilities.js"],l["Core/Renderer/HTML/AST.js"]],function(c,d,m,n,w,$,ee,z,Y,Q,I,O){const{animate:H,animObject:A,setAnimation:E}=c,{defaultOptions:P,defaultTime:G}=m,{numberFormat:V}=n,{registerEventOptions:C}=w,{charts:ne,doc:te,marginNames:F,svg:N,win:X}=$,{seriesTypes:M}=z,{addEvent:L,attr:f,cleanRecursively:y,createElement:b,css:S,defined:j,discardElement:J,erase:W,error:re,extend:ue,find:ve,fireEvent:q,getStyle:se,isArray:pe,isNumber:xe,isObject:Pe,isString:ce,merge:ye,objectEach:_e,pick:le,pInt:Z,relativeLength:me,removeEvent:Me,splat:Ee,syncTimeout:ze,uniqueKey:Qe}=I;class Ke{static chart(Ie,Be,Ue){return new Ke(Ie,Be,Ue)}constructor(Ie,Be,Ue){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Ie,Be,Ue)}getArgs(Ie,Be,Ue){ce(Ie)||Ie.nodeName?(this.renderTo=Ie,this.init(Be,Ue)):this.init(Ie,Be)}init(Ie,Be){const Ue=Ie.plotOptions||{};q(this,"init",{args:arguments},function(){const We=ye(P,Ie),st=We.chart;_e(We.plotOptions,function(Ut,Vt){Pe(Ut)&&(Ut.tooltip=Ue[Vt]&&ye(Ue[Vt].tooltip)||void 0)}),We.tooltip.userOptions=Ie.chart&&Ie.chart.forExport&&Ie.tooltip.userOptions||Ie.tooltip,this.userOptions=Ie,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Be,this.isResizing=0;const wt=st.zooming=st.zooming||{};Ie.chart&&!Ie.chart.zooming&&(wt.resetButton=st.resetZoomButton),wt.key=le(wt.key,st.zoomKey),wt.pinchType=le(wt.pinchType,st.pinchType),wt.singleTouch=le(wt.singleTouch,st.zoomBySingleTouch),wt.type=le(wt.type,st.zoomType),this.options=We,this.axes=[],this.series=[],this.time=Ie.time&&Object.keys(Ie.time).length?new Q(Ie.time):$.time,this.numberFormatter=st.numberFormatter||V,this.styledMode=st.styledMode,this.hasCartesianSeries=st.showAxes,this.index=ne.length,ne.push(this),$.chartCount++,C(this,st),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,q(this,"afterInit"),this.firstRender()})}initSeries(Ie){var Be=this.options.chart;Be=Ie.type||Be.type;const Ue=M[Be];return Ue||re(17,!0,this,{missingModuleFor:Be}),Be=new Ue,typeof Be.init=="function"&&Be.init(this,Ie),Be}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(Ie){Ie.points||Ie.data||!Ie.enabledDataSorting||Ie.setData(Ie.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(Ie,Be){return Ie.linkedSeries.length||Be.linkedSeries.length?Be.linkedSeries.length-Ie.linkedSeries.length:0})}orderSeries(Ie){const Be=this.series;for(let Ue=Ie||0,We=Be.length;Ue<We;++Ue)Be[Ue]&&(Be[Ue].index=Ue,Be[Ue].name=Be[Ue].getName())}isInsidePlot(Ie,Be,Ue={}){const{inverted:We,plotBox:st,plotLeft:wt,plotTop:Ut,scrollablePlotBox:Vt}=this;var yi=0;let si=0;Ue.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:yi,scrollTop:si}=this.scrollingContainer);const Ai=Ue.series,$i=Ue.visiblePlotOnly&&Vt||st;var Fi=Ue.inverted?Be:Ie;if(Be=Ue.inverted?Ie:Be,Ie={x:Fi,y:Be,isInsidePlot:!0,options:Ue},!Ue.ignoreX){const Zi=Ai&&(We&&!this.polar?Ai.yAxis:Ai.xAxis)||{pos:wt,len:1/0};Fi=Ue.paneCoordinates?Zi.pos+Fi:wt+Fi,Fi>=Math.max(yi+wt,Zi.pos)&&Fi<=Math.min(yi+wt+$i.width,Zi.pos+Zi.len)||(Ie.isInsidePlot=!1)}return!Ue.ignoreY&&Ie.isInsidePlot&&(yi=!We&&Ue.axis&&!Ue.axis.isXAxis&&Ue.axis||Ai&&(We?Ai.xAxis:Ai.yAxis)||{pos:Ut,len:1/0},Ue=Ue.paneCoordinates?yi.pos+Be:Ut+Be,Ue>=Math.max(si+Ut,yi.pos)&&Ue<=Math.min(si+Ut+$i.height,yi.pos+yi.len)||(Ie.isInsidePlot=!1)),q(this,"afterIsInsidePlot",Ie),Ie.isInsidePlot}redraw(Ie){q(this,"beforeRedraw");const Be=this.hasCartesianSeries?this.axes:this.colorAxis||[],Ue=this.series,We=this.pointer,st=this.legend,wt=this.userOptions.legend,Ut=this.renderer,Vt=Ut.isHidden(),yi=[];let si,Ai,$i=this.isDirtyBox,Fi=this.isDirtyLegend,Zi;for(Ut.rootFontSize=Ut.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),E(this.hasRendered?Ie:!1,this),Vt&&this.temporaryDisplay(),this.layOutTitles(),Ie=Ue.length;Ie--;)if(Zi=Ue[Ie],(Zi.options.stacking||Zi.options.centerInCategory)&&(Ai=!0,Zi.isDirty)){si=!0;break}if(si)for(Ie=Ue.length;Ie--;)Zi=Ue[Ie],Zi.options.stacking&&(Zi.isDirty=!0);Ue.forEach(function(Ri){Ri.isDirty&&(Ri.options.legendType==="point"?(typeof Ri.updateTotals=="function"&&Ri.updateTotals(),Fi=!0):wt&&(wt.labelFormatter||wt.labelFormat)&&(Fi=!0)),Ri.isDirtyData&&q(Ri,"updatedData")}),Fi&&st&&st.options.enabled&&(st.render(),this.isDirtyLegend=!1),Ai&&this.getStacks(),Be.forEach(function(Ri){Ri.updateNames(),Ri.setScale()}),this.getMargins(),Be.forEach(function(Ri){Ri.isDirty&&($i=!0)}),Be.forEach(function(Ri){const yn=Ri.min+","+Ri.max;Ri.extKey!==yn&&(Ri.extKey=yn,yi.push(function(){q(Ri,"afterSetExtremes",ue(Ri.eventArgs,Ri.getExtremes())),delete Ri.eventArgs})),($i||Ai)&&Ri.redraw()}),$i&&this.drawChartBox(),q(this,"predraw"),Ue.forEach(function(Ri){($i||Ri.isDirty)&&Ri.visible&&Ri.redraw(),Ri.isDirtyData=!1}),We&&We.reset(!0),Ut.draw(),q(this,"redraw"),q(this,"render"),Vt&&this.temporaryDisplay(!0),yi.forEach(function(Ri){Ri.call()})}get(Ie){function Be(st){return st.id===Ie||st.options&&st.options.id===Ie}const Ue=this.series;let We=ve(this.axes,Be)||ve(this.series,Be);for(let st=0;!We&&st<Ue.length;st++)We=ve(Ue[st].points||[],Be);return We}getAxes(){const Ie=this;var Be=this.options;const Ue=Be.xAxis=Ee(Be.xAxis||{});Be=Be.yAxis=Ee(Be.yAxis||{}),q(this,"getAxes"),Ue.forEach(function(We,st){We.index=st,We.isX=!0}),Be.forEach(function(We,st){We.index=st}),Ue.concat(Be).forEach(function(We){new d(Ie,We)}),q(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((Ie,Be)=>(Be.getPointsCollection().forEach(Ue=>{le(Ue.selectedStaging,Ue.selected)&&Ie.push(Ue)}),Ie),[])}getSelectedSeries(){return this.series.filter(function(Ie){return Ie.selected})}setTitle(Ie,Be,Ue){this.applyDescription("title",Ie),this.applyDescription("subtitle",Be),this.applyDescription("caption",void 0),this.layOutTitles(Ue)}applyDescription(Ie,Be){const Ue=this;var We=Ie==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};We=this.options[Ie]=ye(!this.styledMode&&{style:We},this.options[Ie],Be);let st=this[Ie];st&&Be&&(this[Ie]=st=st.destroy()),We&&!st&&(st=this.renderer.text(We.text,0,0,We.useHTML).attr({align:We.align,class:"highcharts-"+Ie,zIndex:We.zIndex||4}).add(),st.update=function(wt){Ue[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Ie]](wt)},this.styledMode||st.css(We.style),this[Ie]=st)}layOutTitles(Ie){const Be=[0,0,0],Ue=this.renderer,We=this.spacingBox;["title","subtitle","caption"].forEach(function(wt){const Ut=this[wt],Vt=this.options[wt],yi=Vt.verticalAlign||"top";if(wt=wt==="title"?yi==="top"?-3:0:yi==="top"?Be[0]+2:0,Ut){Ut.css({width:(Vt.width||We.width+(Vt.widthAdjust||0))+"px"});const si=Ue.fontMetrics(Ut).b,Ai=Math.round(Ut.getBBox(Vt.useHTML).height);Ut.align(ue({y:yi==="bottom"?si:wt+si,height:Ai},Vt),!1,"spacingBox"),Vt.floating||(yi==="top"?Be[0]=Math.ceil(Be[0]+Ai):yi==="bottom"&&(Be[2]=Math.ceil(Be[2]+Ai)))}},this),Be[0]&&(this.options.title.verticalAlign||"top")==="top"&&(Be[0]+=this.options.title.margin),Be[2]&&this.options.caption.verticalAlign==="bottom"&&(Be[2]+=this.options.caption.margin);const st=!this.titleOffset||this.titleOffset.join(",")!==Be.join(",");this.titleOffset=Be,q(this,"afterLayOutTitles"),!this.isDirtyBox&&st&&(this.isDirtyBox=this.isDirtyLegend=st,this.hasRendered&&le(Ie,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:se(this.renderTo,"width",!0)||0,height:se(this.renderTo,"height",!0)||0}}getChartSize(){var Ie=this.options.chart;const Be=Ie.width;Ie=Ie.height;const Ue=this.getContainerBox();this.chartWidth=Math.max(0,Be||Ue.width||600),this.chartHeight=Math.max(0,me(Ie,this.chartWidth)||(1<Ue.height?Ue.height:400)),this.containerBox=Ue}temporaryDisplay(Ie){let Be=this.renderTo;if(Ie)for(;Be&&Be.style;)Be.hcOrigStyle&&(S(Be,Be.hcOrigStyle),delete Be.hcOrigStyle),Be.hcOrigDetached&&(te.body.removeChild(Be),Be.hcOrigDetached=!1),Be=Be.parentNode;else for(;Be&&Be.style&&(te.body.contains(Be)||Be.parentNode||(Be.hcOrigDetached=!0,te.body.appendChild(Be)),(se(Be,"display",!1)==="none"||Be.hcOricDetached)&&(Be.hcOrigStyle={display:Be.style.display,height:Be.style.height,overflow:Be.style.overflow},Ie={display:"block",overflow:"hidden"},Be!==this.renderTo&&(Ie.height=0),S(Be,Ie),Be.offsetWidth||Be.style.setProperty("display","block","important")),Be=Be.parentNode,Be!==te.body););}setClassName(Ie){this.container.className="highcharts-container "+(Ie||"")}getContainer(){const Ie=this.options,Be=Ie.chart;var Ue=Qe();let We,st=this.renderTo;st||(this.renderTo=st=Be.renderTo),ce(st)&&(this.renderTo=st=te.getElementById(st)),st||re(13,!0,this);var wt=Z(f(st,"data-highcharts-chart"));xe(wt)&&ne[wt]&&ne[wt].hasRendered&&ne[wt].destroy(),f(st,"data-highcharts-chart",this.index),st.innerHTML=O.emptyHTML,Be.skipClone||st.offsetWidth||this.temporaryDisplay(),this.getChartSize(),wt=this.chartWidth;const Ut=this.chartHeight;if(S(st,{overflow:"hidden"}),this.styledMode||(We=ue({position:"relative",overflow:"hidden",width:wt+"px",height:Ut+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Be.style||{})),this.container=Ue=b("div",{id:Ue},We,st),this._cursor=Ue.style.cursor,this.renderer=new(Be.renderer||!N?ee.getRendererType(Be.renderer):Y)(Ue,wt,Ut,void 0,Be.forExport,Ie.exporting&&Ie.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),E(void 0,this),this.setClassName(Be.className),this.styledMode)for(const Vt in Ie.defs)this.renderer.definition(Ie.defs[Vt]);else this.renderer.setStyle(Be.style);this.renderer.chartIndex=this.index,q(this,"afterGetContainer")}getMargins(Ie){const{spacing:Be,margin:Ue,titleOffset:We}=this;this.resetMargins(),We[0]&&!j(Ue[0])&&(this.plotTop=Math.max(this.plotTop,We[0]+Be[0])),We[2]&&!j(Ue[2])&&(this.marginBottom=Math.max(this.marginBottom,We[2]+Be[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Ue,Be),q(this,"getMargins"),Ie||this.getAxisMargins()}getAxisMargins(){const Ie=this,Be=Ie.axisOffset=[0,0,0,0],Ue=Ie.colorAxis,We=Ie.margin,st=function(wt){wt.forEach(function(Ut){Ut.visible&&Ut.getOffset()})};Ie.hasCartesianSeries?st(Ie.axes):Ue&&Ue.length&&st(Ue),F.forEach(function(wt,Ut){j(We[Ut])||(Ie[wt]+=Be[Ut])}),Ie.setChartSize()}reflow(Ie){const Be=this;var Ue=Be.options.chart;Ue=j(Ue.width)&&j(Ue.height);const We=Be.containerBox,st=Be.getContainerBox();delete Be.pointer.chartPosition,!Ue&&!Be.isPrinting&&We&&st.width&&((st.width!==We.width||st.height!==We.height)&&(I.clearTimeout(Be.reflowTimeout),Be.reflowTimeout=ze(function(){Be.container&&Be.setSize(void 0,void 0,!1)},Ie?100:0)),Be.containerBox=st)}setReflow(){const Ie=this;var Be=Ue=>{var We;!((We=Ie.options)===null||We===void 0)&&We.chart.reflow&&Ie.hasLoaded&&Ie.reflow(Ue)};typeof ResizeObserver=="function"?new ResizeObserver(Be).observe(Ie.renderTo):(Be=L(X,"resize",Be),L(this,"destroy",Be))}setSize(Ie,Be,Ue){const We=this,st=We.renderer;We.isResizing+=1,E(Ue,We),Ue=st.globalAnimation,We.oldChartHeight=We.chartHeight,We.oldChartWidth=We.chartWidth,typeof Ie<"u"&&(We.options.chart.width=Ie),typeof Be<"u"&&(We.options.chart.height=Be),We.getChartSize(),We.styledMode||(Ue?H:S)(We.container,{width:We.chartWidth+"px",height:We.chartHeight+"px"},Ue),We.setChartSize(!0),st.setSize(We.chartWidth,We.chartHeight,Ue),We.axes.forEach(function(wt){wt.isDirty=!0,wt.setScale()}),We.isDirtyLegend=!0,We.isDirtyBox=!0,We.layOutTitles(),We.getMargins(),We.redraw(Ue),We.oldChartHeight=null,q(We,"resize"),ze(function(){We&&q(We,"endResize",null,function(){--We.isResizing})},A(Ue).duration)}setChartSize(Ie){var Be=this.inverted;const Ue=this.renderer;var We=this.chartWidth,st=this.chartHeight;const wt=this.options.chart,Ut=this.spacing,Vt=this.clipOffset;let yi,si,Ai,$i;this.plotLeft=yi=Math.round(this.plotLeft),this.plotTop=si=Math.round(this.plotTop),this.plotWidth=Ai=Math.max(0,Math.round(We-yi-this.marginRight)),this.plotHeight=$i=Math.max(0,Math.round(st-si-this.marginBottom)),this.plotSizeX=Be?$i:Ai,this.plotSizeY=Be?Ai:$i,this.plotBorderWidth=wt.plotBorderWidth||0,this.spacingBox=Ue.spacingBox={x:Ut[3],y:Ut[0],width:We-Ut[3]-Ut[1],height:st-Ut[0]-Ut[2]},this.plotBox=Ue.plotBox={x:yi,y:si,width:Ai,height:$i},Be=2*Math.floor(this.plotBorderWidth/2),We=Math.ceil(Math.max(Be,Vt[3])/2),st=Math.ceil(Math.max(Be,Vt[0])/2),this.clipBox={x:We,y:st,width:Math.floor(this.plotSizeX-Math.max(Be,Vt[1])/2-We),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Be,Vt[2])/2-st))},Ie||(this.axes.forEach(function(Fi){Fi.setAxisSize(),Fi.setAxisTranslation()}),Ue.alignElements()),q(this,"afterSetChartSize",{skipAxes:Ie})}resetMargins(){q(this,"resetMargins");const Ie=this,Be=Ie.options.chart;["margin","spacing"].forEach(function(Ue){const We=Be[Ue],st=Pe(We)?We:[We,We,We,We];["Top","Right","Bottom","Left"].forEach(function(wt,Ut){Ie[Ue][Ut]=le(Be[Ue+wt],st[Ut])})}),F.forEach(function(Ue,We){Ie[Ue]=le(Ie.margin[We],Ie.spacing[We])}),Ie.axisOffset=[0,0,0,0],Ie.clipOffset=[0,0,0,0]}drawChartBox(){const Ie=this.options.chart,Be=this.renderer,Ue=this.chartWidth,We=this.chartHeight,st=this.styledMode,wt=this.plotBGImage;var Ut=Ie.backgroundColor;const Vt=Ie.plotBackgroundColor,yi=Ie.plotBackgroundImage,si=this.plotLeft,Ai=this.plotTop,$i=this.plotWidth,Fi=this.plotHeight,Zi=this.plotBox,Ri=this.clipRect,yn=this.clipBox;let Tn=this.chartBackground,Yn=this.plotBackground,Tr=this.plotBorder,ps,Ds,Is="animate";Tn||(this.chartBackground=Tn=Be.rect().addClass("highcharts-background").add(),Is="attr"),st?ps=Ds=Tn.strokeWidth():(ps=Ie.borderWidth||0,Ds=ps+(Ie.shadow?8:0),Ut={fill:Ut||"none"},(ps||Tn["stroke-width"])&&(Ut.stroke=Ie.borderColor,Ut["stroke-width"]=ps),Tn.attr(Ut).shadow(Ie.shadow)),Tn[Is]({x:Ds/2,y:Ds/2,width:Ue-Ds-ps%2,height:We-Ds-ps%2,r:Ie.borderRadius}),Is="animate",Yn||(Is="attr",this.plotBackground=Yn=Be.rect().addClass("highcharts-plot-background").add()),Yn[Is](Zi),st||(Yn.attr({fill:Vt||"none"}).shadow(Ie.plotShadow),yi&&(wt?(yi!==wt.attr("href")&&wt.attr("href",yi),wt.animate(Zi)):this.plotBGImage=Be.image(yi,si,Ai,$i,Fi).add())),Ri?Ri.animate({width:yn.width,height:yn.height}):this.clipRect=Be.clipRect(yn),Is="animate",Tr||(Is="attr",this.plotBorder=Tr=Be.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),st||Tr.attr({stroke:Ie.plotBorderColor,"stroke-width":Ie.plotBorderWidth||0,fill:"none"}),Tr[Is](Tr.crisp({x:si,y:Ai,width:$i,height:Fi},-Tr.strokeWidth())),this.isDirtyBox=!1,q(this,"afterDrawChartBox")}propFromSeries(){const Ie=this,Be=Ie.options.chart,Ue=Ie.options.series;let We,st,wt;["inverted","angular","polar"].forEach(function(Ut){for(st=M[Be.type],wt=Be[Ut]||st&&st.prototype[Ut],We=Ue&&Ue.length;!wt&&We--;)(st=M[Ue[We].type])&&st.prototype[Ut]&&(wt=!0);Ie[Ut]=wt})}linkSeries(Ie){const Be=this,Ue=Be.series;Ue.forEach(function(We){We.linkedSeries.length=0}),Ue.forEach(function(We){let st=We.options.linkedTo;ce(st)&&(st=st===":previous"?Be.series[We.index-1]:Be.get(st))&&st.linkedParent!==We&&(st.linkedSeries.push(We),We.linkedParent=st,st.enabledDataSorting&&We.setDataSortingOptions(),We.visible=le(We.options.visible,st.options.visible,We.visible))}),q(this,"afterLinkSeries",{isUpdating:Ie})}renderSeries(){this.series.forEach(function(Ie){Ie.translate(),Ie.render()})}render(){const Ie=this.axes,Be=this.colorAxis,Ue=this.renderer,We=function(si){si.forEach(function(Ai){Ai.visible&&Ai.render()})};let st=0;this.setTitle(),q(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const wt=this.plotWidth;Ie.some(function(si){if(si.horiz&&si.visible&&si.options.labels.enabled&&si.series.length)return st=21,!0});const Ut=this.plotHeight=Math.max(this.plotHeight-st,0);Ie.forEach(function(si){si.setScale()}),this.getAxisMargins();const Vt=1.1<wt/this.plotWidth,yi=1.05<Ut/this.plotHeight;(Vt||yi)&&(Ie.forEach(function(si){(si.horiz&&Vt||!si.horiz&&yi)&&si.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?We(Ie):Be&&Be.length&&We(Be),this.seriesGroup||(this.seriesGroup=Ue.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(Ie){const Be=this,Ue=ye(!0,this.options.credits,Ie);Ue.enabled&&!this.credits&&(this.credits=this.renderer.text(Ue.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Ue.href&&(X.location.href=Ue.href)}).attr({align:Ue.position.align,zIndex:8}),Be.styledMode||this.credits.css(Ue.style),this.credits.add().align(Ue.position),this.credits.update=function(We){Be.credits=Be.credits.destroy(),Be.addCredits(We)})}destroy(){const Ie=this,Be=Ie.axes,Ue=Ie.series,We=Ie.container,st=We&&We.parentNode;let wt;for(q(Ie,"destroy"),Ie.renderer.forExport?W(ne,Ie):ne[Ie.index]=void 0,$.chartCount--,Ie.renderTo.removeAttribute("data-highcharts-chart"),Me(Ie),wt=Be.length;wt--;)Be[wt]=Be[wt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),wt=Ue.length;wt--;)Ue[wt]=Ue[wt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Ut){const Vt=Ie[Ut];Vt&&Vt.destroy&&(Ie[Ut]=Vt.destroy())}),We&&(We.innerHTML=O.emptyHTML,Me(We),st&&J(We)),_e(Ie,function(Ut,Vt){delete Ie[Vt]})}firstRender(){const Ie=this,Be=Ie.options;Ie.getContainer(),Ie.resetMargins(),Ie.setChartSize(),Ie.propFromSeries(),Ie.getAxes(),(pe(Be.series)?Be.series:[]).forEach(function(Ue){Ie.initSeries(Ue)}),Ie.linkSeries(),Ie.setSeriesData(),q(Ie,"beforeRender"),Ie.render(),Ie.pointer.getChartPosition(),!Ie.renderer.imgCount&&!Ie.hasLoaded&&Ie.onload(),Ie.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(Ie){Ie&&typeof this.index<"u"&&Ie.apply(this,[this])},this),q(this,"load"),q(this,"render"),j(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:Ie,title:Be}=this;Ie&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Be&&Be.element.textContent||"").replace(/</g,"&lt;")}),Ie.accessibility&&Ie.accessibility.enabled===!1||re('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(Ie,Be,Ue){const We=this;let st;return Ie&&(Be=le(Be,!0),q(We,"addSeries",{options:Ie},function(){st=We.initSeries(Ie),We.isDirtyLegend=!0,We.linkSeries(),st.enabledDataSorting&&st.setData(Ie.data,!1),q(We,"afterAddSeries",{series:st}),Be&&We.redraw(Ue)})),st}addAxis(Ie,Be,Ue,We){return this.createAxis(Be?"xAxis":"yAxis",{axis:Ie,redraw:Ue,animation:We})}addColorAxis(Ie,Be,Ue){return this.createAxis("colorAxis",{axis:Ie,redraw:Be,animation:Ue})}createAxis(Ie,Be){return Ie=new d(this,ye(Be.axis,{index:this[Ie].length,isX:Ie==="xAxis"})),le(Be.redraw,!0)&&this.redraw(Be.animation),Ie}showLoading(Ie){const Be=this,Ue=Be.options,We=Ue.loading,st=function(){wt&&S(wt,{left:Be.plotLeft+"px",top:Be.plotTop+"px",width:Be.plotWidth+"px",height:Be.plotHeight+"px"})};let wt=Be.loadingDiv,Ut=Be.loadingSpan;wt||(Be.loadingDiv=wt=b("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Be.container)),Ut||(Be.loadingSpan=Ut=b("span",{className:"highcharts-loading-inner"},null,wt),L(Be,"redraw",st)),wt.className="highcharts-loading",O.setElementHTML(Ut,le(Ie,Ue.lang.loading,"")),Be.styledMode||(S(wt,ue(We.style,{zIndex:10})),S(Ut,We.labelStyle),Be.loadingShown||(S(wt,{opacity:0,display:""}),H(wt,{opacity:We.style.opacity||.5},{duration:We.showDuration||0}))),Be.loadingShown=!0,st()}hideLoading(){const Ie=this.options,Be=this.loadingDiv;Be&&(Be.className="highcharts-loading highcharts-loading-hidden",this.styledMode||H(Be,{opacity:0},{duration:Ie.loading.hideDuration||100,complete:function(){S(Be,{display:"none"})}})),this.loadingShown=!1}update(Ie,Be,Ue,We){const st=this,wt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Ut=Ie.isResponsiveOptions,Vt=[];let yi,si;q(st,"update",{options:Ie}),Ut||st.setResponsive(!1,!0),Ie=y(Ie,st.options),st.userOptions=ye(st.userOptions,Ie);var Ai=Ie.chart;if(Ai){if(ye(!0,st.options.chart,Ai),"className"in Ai&&st.setClassName(Ai.className),"inverted"in Ai||"polar"in Ai||"type"in Ai){st.propFromSeries();var $i=!0}"alignTicks"in Ai&&($i=!0),"events"in Ai&&C(this,Ai),_e(Ai,function(Fi,Zi){st.propsRequireUpdateSeries.indexOf("chart."+Zi)!==-1&&(yi=!0),st.propsRequireDirtyBox.indexOf(Zi)!==-1&&(st.isDirtyBox=!0),st.propsRequireReflow.indexOf(Zi)!==-1&&(Ut?st.isDirtyBox=!0:si=!0)}),!st.styledMode&&Ai.style&&st.renderer.setStyle(st.options.chart.style||{})}!st.styledMode&&Ie.colors&&(this.options.colors=Ie.colors),Ie.time&&(this.time===G&&(this.time=new Q(Ie.time)),ye(!0,st.options.time,Ie.time)),_e(Ie,function(Fi,Zi){st[Zi]&&typeof st[Zi].update=="function"?st[Zi].update(Fi,!1):typeof st[wt[Zi]]=="function"?st[wt[Zi]](Fi):Zi!=="colors"&&st.collectionsWithUpdate.indexOf(Zi)===-1&&ye(!0,st.options[Zi],Ie[Zi]),Zi!=="chart"&&st.propsRequireUpdateSeries.indexOf(Zi)!==-1&&(yi=!0)}),this.collectionsWithUpdate.forEach(function(Fi){let Zi;Ie[Fi]&&(Zi=[],st[Fi].forEach(function(Ri,yn){Ri.options.isInternal||Zi.push(le(Ri.options.index,yn))}),Ee(Ie[Fi]).forEach(function(Ri,yn){const Tn=j(Ri.id);let Yn;Tn&&(Yn=st.get(Ri.id)),!Yn&&st[Fi]&&(Yn=st[Fi][Zi?Zi[yn]:yn])&&Tn&&j(Yn.options.id)&&(Yn=void 0),Yn&&Yn.coll===Fi&&(Yn.update(Ri,!1),Ue&&(Yn.touched=!0)),!Yn&&Ue&&st.collectionsWithInit[Fi]&&(st.collectionsWithInit[Fi][0].apply(st,[Ri].concat(st.collectionsWithInit[Fi][1]||[]).concat([!1])).touched=!0)}),Ue&&st[Fi].forEach(function(Ri){Ri.touched||Ri.options.isInternal?delete Ri.touched:Vt.push(Ri)}))}),Vt.forEach(function(Fi){Fi.chart&&Fi.remove&&Fi.remove(!1)}),$i&&st.axes.forEach(function(Fi){Fi.update({},!1)}),yi&&st.getSeriesOrderByLinks().forEach(function(Fi){Fi.chart&&Fi.update({},!1)},this),$i=Ai&&Ai.width,Ai=Ai&&(ce(Ai.height)?me(Ai.height,$i||st.chartWidth):Ai.height),si||xe($i)&&$i!==st.chartWidth||xe(Ai)&&Ai!==st.chartHeight?st.setSize($i,Ai,We):le(Be,!0)&&st.redraw(We),q(st,"afterUpdate",{options:Ie,redraw:Be,animation:We})}setSubtitle(Ie,Be){this.applyDescription("subtitle",Ie),this.layOutTitles(Be)}setCaption(Ie,Be){this.applyDescription("caption",Ie),this.layOutTitles(Be)}showResetZoom(){function Ie(){Be.zoomOut()}const Be=this,Ue=P.lang,We=Be.options.chart.zooming.resetButton,st=We.theme,wt=We.relativeTo==="chart"||We.relativeTo==="spacingBox"?null:"scrollablePlotBox";q(this,"beforeShowResetZoom",null,function(){Be.resetZoomButton=Be.renderer.button(Ue.resetZoom,null,null,Ie,st).attr({align:We.position.align,title:Ue.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(We.position,!1,wt)}),q(this,"afterShowResetZoom")}zoomOut(){q(this,"selection",{resetSelection:!0},this.zoom)}zoom(Ie){const Be=this,Ue=Be.pointer;let We=!1,st;!Ie||Ie.resetSelection?(Be.axes.forEach(function(Ut){st=Ut.zoom()}),Ue.initiated=!1):Ie.xAxis.concat(Ie.yAxis).forEach(function(Ut){const Vt=Ut.axis;(Ue[Vt.isXAxis?"zoomX":"zoomY"]&&j(Ue.mouseDownX)&&j(Ue.mouseDownY)&&Be.isInsidePlot(Ue.mouseDownX-Be.plotLeft,Ue.mouseDownY-Be.plotTop,{axis:Vt})||!j(Be.inverted?Ue.mouseDownX:Ue.mouseDownY))&&(st=Vt.zoom(Ut.min,Ut.max),Vt.displayBtn&&(We=!0))});const wt=Be.resetZoomButton;We&&!wt?Be.showResetZoom():!We&&Pe(wt)&&(Be.resetZoomButton=wt.destroy()),st&&Be.redraw(le(Be.options.chart.animation,Ie&&Ie.animation,100>Be.pointCount))}pan(Ie,Be){const Ue=this,We=Ue.hoverPoints;Be=typeof Be=="object"?Be:{enabled:Be,type:"x"};const st=Ue.options.chart;st&&st.panning&&(st.panning=Be);const wt=Be.type;let Ut;q(this,"pan",{originalEvent:Ie},function(){We&&We.forEach(function(si){si.setState()});let Vt=Ue.xAxis;wt==="xy"?Vt=Vt.concat(Ue.yAxis):wt==="y"&&(Vt=Ue.yAxis);const yi={};Vt.forEach(function(si){if(si.options.panningEnabled&&!si.options.isInternal){var Ai=si.horiz,$i=Ie[Ai?"chartX":"chartY"];Ai=Ai?"mouseDownX":"mouseDownY";var Fi=Ue[Ai],Zi=si.minPointOffset||0,Ri=si.reversed&&!Ue.inverted||!si.reversed&&Ue.inverted?-1:1,yn=si.getExtremes(),Tn=si.toValue(Fi-$i,!0)+Zi*Ri,Yn=si.toValue(Fi+si.len-$i,!0)-(Zi*Ri||si.isXAxis&&si.pointRangePadding||0),Tr=Yn<Tn;Ri=si.hasVerticalPanning(),Fi=Tr?Yn:Tn,Tn=Tr?Tn:Yn;var ps=si.panningState;!Ri||si.isXAxis||ps&&!ps.isDirty||si.series.forEach(function(Ds){var Is=Ds.getProcessedData(!0);Is=Ds.getExtremes(Is.yData,!0),ps||(ps={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),xe(Is.dataMin)&&xe(Is.dataMax)&&(ps.startMin=Math.min(le(Ds.options.threshold,1/0),Is.dataMin,ps.startMin),ps.startMax=Math.max(le(Ds.options.threshold,-1/0),Is.dataMax,ps.startMax))}),Ri=Math.min(le(ps&&ps.startMin,yn.dataMin),Zi?yn.min:si.toValue(si.toPixels(yn.min)-si.minPixelPadding)),Yn=Math.max(le(ps&&ps.startMax,yn.dataMax),Zi?yn.max:si.toValue(si.toPixels(yn.max)+si.minPixelPadding)),si.panningState=ps,si.isOrdinal||(Zi=Ri-Fi,0<Zi&&(Tn+=Zi,Fi=Ri),Zi=Tn-Yn,0<Zi&&(Tn=Yn,Fi-=Zi),si.series.length&&Fi!==yn.min&&Tn!==yn.max&&Fi>=Ri&&Tn<=Yn&&(si.setExtremes(Fi,Tn,!1,!1,{trigger:"pan"}),!Ue.resetZoomButton&&Fi!==Ri&&Tn!==Yn&&wt.match("y")&&(Ue.showResetZoom(),si.displayBtn=!1),Ut=!0),yi[Ai]=$i)}}),_e(yi,(si,Ai)=>{Ue[Ai]=si}),Ut&&Ue.redraw(!1),S(Ue.container,{cursor:"move"})})}}return ue(Ke.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Ke.prototype.addAxis,[!0]],yAxis:[Ke.prototype.addAxis,[!1]],series:[Ke.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Ke}),s(l,"Core/Legend/LegendSymbol.js",[l["Core/Utilities.js"]],function(c){const{extend:d,merge:m,pick:n}=c;var w;return function($){$.lineMarker=function(ee,z){z=this.legendItem=this.legendItem||{};var Y=this.options;const Q=ee.symbolWidth,I=ee.symbolHeight,O=I/2,H=this.chart.renderer,A=z.group;ee=ee.baseline-Math.round(.3*ee.fontMetrics.b);let E={},P=Y.marker,G=0;this.chart.styledMode||(E={"stroke-width":Math.min(Y.lineWidth||0,24)},Y.dashStyle?E.dashstyle=Y.dashStyle:Y.linecap!=="square"&&(E["stroke-linecap"]="round")),z.line=H.path().addClass("highcharts-graph").attr(E).add(A),E["stroke-linecap"]&&(G=Math.min(z.line.strokeWidth(),Q)/2),Q&&z.line.attr({d:[["M",G,ee],["L",Q-G,ee]]}),P&&P.enabled!==!1&&Q&&(Y=Math.min(n(P.radius,O),O),this.symbol.indexOf("url")===0&&(P=m(P,{width:I,height:I}),Y=0),z.symbol=z=H.symbol(this.symbol,Q/2-Y,ee-Y,2*Y,2*Y,d({context:"legend"},P)).addClass("highcharts-point").add(A),z.isMarker=!0)},$.rectangle=function(ee,z){z=z.legendItem||{};const Y=ee.symbolHeight,Q=ee.options.squareSymbol;z.symbol=this.chart.renderer.rect(Q?(ee.symbolWidth-Y)/2:0,ee.baseline-Y+1,Q?Y:ee.symbolWidth,Y,n(ee.options.symbolRadius,Y/2)).addClass("highcharts-point").attr({zIndex:3}).add(z.group)}}(w||(w={})),w}),s(l,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:c}=this.series.chart;return typeof this.y!="number"?"":c(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),s(l,"Core/Series/Series.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Defaults.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Legend/LegendSymbol.js"],l["Core/Series/Point.js"],l["Core/Series/SeriesDefaults.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(c,d,m,n,w,$,ee,z,Y,Q){const{animObject:I,setAnimation:O}=c,{defaultOptions:H}=d,{registerEventOptions:A}=m,{hasTouch:E,svg:P,win:G}=n,{seriesTypes:V}=z,{arrayMax:C,arrayMin:ne,clamp:te,cleanRecursively:F,correctFloat:N,defined:X,erase:M,error:L,extend:f,find:y,fireEvent:b,getNestedProperty:S,isArray:j,isNumber:J,isString:W,merge:re,objectEach:ue,pick:ve,removeEvent:q,splat:se,syncTimeout:pe}=Q;class xe{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(ce,ye){b(this,"init",{options:ye});const _e=this,le=ce.series;this.eventsToUnbind=[],_e.chart=ce,_e.options=_e.setOptions(ye),ye=_e.options,_e.linkedSeries=[],_e.bindAxes(),f(_e,{name:ye.name,state:"",visible:ye.visible!==!1,selected:ye.selected===!0}),A(this,ye);const Z=ye.events;(Z&&Z.click||ye.point&&ye.point.events&&ye.point.events.click||ye.allowPointSelect)&&(ce.runTrackerClick=!0),_e.getColor(),_e.getSymbol(),_e.parallelArrays.forEach(function(Me){_e[Me+"Data"]||(_e[Me+"Data"]=[])}),_e.isCartesian&&(ce.hasCartesianSeries=!0);let me;le.length&&(me=le[le.length-1]),_e._i=ve(me&&me._i,-1)+1,_e.opacity=_e.options.opacity,ce.orderSeries(this.insert(le)),ye.dataSorting&&ye.dataSorting.enabled?_e.setDataSortingOptions():_e.points||_e.data||_e.setData(ye.data,!1),b(this,"afterInit")}is(ce){return V[ce]&&this instanceof V[ce]}insert(ce){const ye=this.options.index;let _e;if(J(ye)){for(_e=ce.length;_e--;)if(ye>=ve(ce[_e].options.index,ce[_e]._i)){ce.splice(_e+1,0,this);break}_e===-1&&ce.unshift(this),_e+=1}else ce.push(this);return ve(_e,ce.length-1)}bindAxes(){const ce=this,ye=ce.options,_e=ce.chart;let le;b(this,"bindAxes",null,function(){(ce.axisTypes||[]).forEach(function(Z){let me=0;_e[Z].forEach(function(Me){le=Me.options,(ye[Z]===me&&!le.isInternal||typeof ye[Z]<"u"&&ye[Z]===le.id||typeof ye[Z]>"u"&&le.index===0)&&(ce.insert(Me.series),ce[Z]=Me,Me.isDirty=!0),le.isInternal||me++}),ce[Z]||ce.optionalAxis===Z||L(18,!0,_e)})}),b(this,"afterBindAxes")}updateParallelArrays(ce,ye,_e){const le=ce.series,Z=J(ye)?function(me){const Me=me==="y"&&le.toYData?le.toYData(ce):ce[me];le[me+"Data"][ye]=Me}:function(me){Array.prototype[ye].apply(le[me+"Data"],_e)};le.parallelArrays.forEach(Z)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(ce){var ye=this.options;const _e=ye.pointIntervalUnit,le=ye.relativeXValue,Z=this.chart.time;let me=this.xIncrement,Me;return me=ve(me,ye.pointStart,0),this.pointInterval=Me=ve(this.pointInterval,ye.pointInterval,1),le&&J(ce)&&(Me*=ce),_e&&(ye=new Z.Date(me),_e==="day"?Z.set("Date",ye,Z.get("Date",ye)+Me):_e==="month"?Z.set("Month",ye,Z.get("Month",ye)+Me):_e==="year"&&Z.set("FullYear",ye,Z.get("FullYear",ye)+Me),Me=ye.getTime()-me),le&&J(ce)?me+Me:(this.xIncrement=me+Me,me)}setDataSortingOptions(){const ce=this.options;f(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),X(ce.pointRange)||(ce.pointRange=1)}setOptions(ce){var ye=this.chart,_e=ye.options,le=_e.plotOptions,Z=ye.userOptions||{};ce=re(ce),ye=ye.styledMode;const me={plotOptions:le,userOptions:ce};b(this,"setOptions",me);const Me=me.plotOptions[this.type],Ee=Z.plotOptions||{};return this.userOptions=me.userOptions,Z=re(Me,le.series,Z.plotOptions&&Z.plotOptions[this.type],ce),this.tooltipOptions=re(H.tooltip,H.plotOptions.series&&H.plotOptions.series.tooltip,H.plotOptions[this.type].tooltip,_e.tooltip.userOptions,le.series&&le.series.tooltip,le[this.type].tooltip,ce.tooltip),this.stickyTracking=ve(ce.stickyTracking,Ee[this.type]&&Ee[this.type].stickyTracking,Ee.series&&Ee.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:Z.stickyTracking),Me.marker===null&&delete Z.marker,this.zoneAxis=Z.zoneAxis,le=this.zones=(Z.zones||[]).slice(),!Z.negativeColor&&!Z.negativeFillColor||Z.zones||(_e={value:Z[this.zoneAxis+"Threshold"]||Z.threshold||0,className:"highcharts-negative"},ye||(_e.color=Z.negativeColor,_e.fillColor=Z.negativeFillColor),le.push(_e)),le.length&&X(le[le.length-1].value)&&le.push(ye?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:Z}),Z}getName(){return ve(this.options.name,"Series "+(this.index+1))}getCyclic(ce,ye,_e){const le=this.chart,Z=this.userOptions,me=ce+"Index",Me=ce+"Counter",Ee=_e?_e.length:ve(le.options.chart[ce+"Count"],le[ce+"Count"]);if(!ye){var ze=ve(Z[me],Z["_"+me]);X(ze)||(le.series.length||(le[Me]=0),Z["_"+me]=ze=le[Me]%Ee,le[Me]+=1),_e&&(ye=_e[ze])}typeof ze<"u"&&(this[me]=ze),this[ce]=ye}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||H.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(ce,ye){const _e=ce.id,le=ce.x,Z=this.points;var me=this.options.dataSorting,Me;let Ee,ze;if(_e)me=this.chart.get(_e),me instanceof $&&(Me=me);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Me=Qe=>!Qe.touched&&Qe.index===ce.index,me&&me.matchByName?Me=Qe=>!Qe.touched&&Qe.name===ce.name:this.options.relativeXValue&&(Me=Qe=>!Qe.touched&&Qe.options.x===ce.x),Me=y(Z,Me),!Me))return;return Me&&(ze=Me&&Me.index,typeof ze<"u"&&(Ee=!0)),typeof ze>"u"&&J(le)&&(ze=this.xData.indexOf(le,ye)),ze!==-1&&typeof ze<"u"&&this.cropped&&(ze=ze>=this.cropStart?ze-this.cropStart:ze),!Ee&&J(ze)&&Z[ze]&&Z[ze].touched&&(ze=void 0),ze}updateData(ce,ye){const _e=this.options,le=_e.dataSorting,Z=this.points,me=[],Me=this.requireSorting,Ee=ce.length===Z.length;let ze,Qe,Ke,ct=!0;if(this.xIncrement=null,ce.forEach(function(Ie,Be){var Ue=X(Ie)&&this.pointClass.prototype.optionsToObject.call({series:this},Ie)||{};const We=Ue.x;Ue.id||J(We)?(Ue=this.findPointIndex(Ue,Ke),Ue===-1||typeof Ue>"u"?me.push(Ie):Z[Ue]&&Ie!==_e.data[Ue]?(Z[Ue].update(Ie,!1,null,!1),Z[Ue].touched=!0,Me&&(Ke=Ue+1)):Z[Ue]&&(Z[Ue].touched=!0),(!Ee||Be!==Ue||le&&le.enabled||this.hasDerivedData)&&(ze=!0)):me.push(Ie)},this),ze)for(ce=Z.length;ce--;)(Qe=Z[ce])&&!Qe.touched&&Qe.remove&&Qe.remove(!1,ye);else!Ee||le&&le.enabled?ct=!1:(ce.forEach(function(Ie,Be){Ie===Z[Be].y||Z[Be].destroyed||Z[Be].update(Ie,!1,null,!1)}),me.length=0);return Z.forEach(function(Ie){Ie&&(Ie.touched=!1)}),ct?(me.forEach(function(Ie){this.addPoint(Ie,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=C(this.xData),this.autoIncrement()),!0):!1}setData(ce,ye=!0,_e,le){var Z;const me=this,Me=me.points,Ee=Me&&Me.length||0,ze=me.options,Qe=me.chart,Ke=ze.dataSorting,ct=me.xAxis,Ie=ze.turboThreshold,Be=this.xData,Ue=this.yData;var We=me.pointArrayMap;We=We&&We.length;const st=ze.keys;let wt,Ut=0,Vt=1,yi=null;if(!Qe.options.chart.allowMutatingData){ze.data&&delete me.options.data,me.userOptions.data&&delete me.userOptions.data;var si=re(!0,ce)}if(ce=si||ce||[],si=ce.length,Ke&&Ke.enabled&&(ce=this.sortData(ce)),Qe.options.chart.allowMutatingData&&le!==!1&&si&&Ee&&!me.cropped&&!me.hasGroupedData&&me.visible&&!me.boosted&&(wt=this.updateData(ce,_e)),!wt){if(me.xIncrement=null,me.colorCounter=0,this.parallelArrays.forEach(function(Ai){me[Ai+"Data"].length=0}),Ie&&si>Ie)if(yi=me.getFirstValidPoint(ce),J(yi))for(_e=0;_e<si;_e++)Be[_e]=this.autoIncrement(),Ue[_e]=ce[_e];else if(j(yi))if(We)if(yi.length===We)for(_e=0;_e<si;_e++)Be[_e]=this.autoIncrement(),Ue[_e]=ce[_e];else for(_e=0;_e<si;_e++)le=ce[_e],Be[_e]=le[0],Ue[_e]=le.slice(1,We+1);else if(st&&(Ut=st.indexOf("x"),Vt=st.indexOf("y"),Ut=0<=Ut?Ut:0,Vt=0<=Vt?Vt:1),yi.length===1&&(Vt=0),Ut===Vt)for(_e=0;_e<si;_e++)Be[_e]=this.autoIncrement(),Ue[_e]=ce[_e][Vt];else for(_e=0;_e<si;_e++)le=ce[_e],Be[_e]=le[Ut],Ue[_e]=le[Vt];else L(12,!1,Qe);else for(_e=0;_e<si;_e++)le={series:me},me.pointClass.prototype.applyOptions.apply(le,[ce[_e]]),me.updateParallelArrays(le,_e);for(Ue&&W(Ue[0])&&L(14,!0,Qe),me.data=[],me.options.data=me.userOptions.data=ce,_e=Ee;_e--;)(Z=Me[_e])===null||Z===void 0||Z.destroy();ct&&(ct.minRange=ct.userMinRange),me.isDirty=Qe.isDirtyBox=!0,me.isDirtyData=!!Me,_e=!1}ze.legendType==="point"&&(this.processData(),this.generatePoints()),ye&&Qe.redraw(_e)}sortData(ce){const ye=this,_e=ye.options.dataSorting.sortKey||"y",le=function(Z,me){return X(me)&&Z.pointClass.prototype.optionsToObject.call({series:Z},me)||{}};return ce.forEach(function(Z,me){ce[me]=le(ye,Z),ce[me].index=me},this),ce.concat().sort((Z,me)=>(Z=S(_e,Z),me=S(_e,me),me<Z?-1:me>Z?1:0)).forEach(function(Z,me){Z.x=me},this),ye.linkedSeries&&ye.linkedSeries.forEach(function(Z){const me=Z.options,Me=me.data;me.dataSorting&&me.dataSorting.enabled||!Me||(Me.forEach(function(Ee,ze){Me[ze]=le(Z,Ee),ce[ze]&&(Me[ze].x=ce[ze].x,Me[ze].index=ze)}),Z.setData(Me,!1))}),ce}getProcessedData(ce){var ye=this.xAxis,_e=this.options,le=_e.cropThreshold;const Z=ce||this.getExtremesFromAll||_e.getExtremesFromAll,me=this.isCartesian;ce=ye&&ye.val2lin,_e=!(!ye||!ye.logarithmic);let Me=0,Ee,ze,Qe,Ke=this.xData,ct=this.yData,Ie=this.requireSorting;var Be=!1;const Ue=Ke.length;if(ye&&(Be=ye.getExtremes(),ze=Be.min,Qe=Be.max,Be=!(!ye.categories||ye.names.length)),me&&this.sorted&&!Z&&(!le||Ue>le||this.forceCrop)){if(Ke[Ue-1]<ze||Ke[0]>Qe)Ke=[],ct=[];else if(this.yData&&(Ke[0]<ze||Ke[Ue-1]>Qe)){var We=this.cropData(this.xData,this.yData,ze,Qe);Ke=We.xData,ct=We.yData,Me=We.start,We=!0}}for(le=Ke.length||1;--le;)ye=_e?ce(Ke[le])-ce(Ke[le-1]):Ke[le]-Ke[le-1],0<ye&&(typeof Ee>"u"||ye<Ee)?Ee=ye:0>ye&&Ie&&!Be&&(L(15,!1,this.chart),Ie=!1);return{xData:Ke,yData:ct,cropped:We,cropStart:Me,closestPointRange:Ee}}processData(ce){const ye=this.xAxis;if(this.isCartesian&&!this.isDirty&&!ye.isDirty&&!this.yAxis.isDirty&&!ce)return!1;ce=this.getProcessedData(),this.cropped=ce.cropped,this.cropStart=ce.cropStart,this.processedXData=ce.xData,this.processedYData=ce.yData,this.closestPointRange=this.basePointRange=ce.closestPointRange,b(this,"afterProcessData")}cropData(ce,ye,_e,le,Z){const me=ce.length;let Me,Ee=0,ze=me;for(Z=ve(Z,this.cropShoulder),Me=0;Me<me;Me++)if(ce[Me]>=_e){Ee=Math.max(0,Me-Z);break}for(_e=Me;_e<me;_e++)if(ce[_e]>le){ze=_e+Z;break}return{xData:ce.slice(Ee,ze),yData:ye.slice(Ee,ze),start:Ee,end:ze}}generatePoints(){var ce=this.options;const ye=this.processedData||ce.data,_e=this.processedXData,le=this.processedYData,Z=this.pointClass,me=_e.length,Me=this.cropStart||0,Ee=this.hasGroupedData,ze=ce.keys,Qe=[];ce=ce.dataGrouping&&ce.dataGrouping.groupAll?Me:0;let Ke,ct,Ie,Be=this.data;if(!Be&&!Ee){var Ue=[];Ue.length=ye.length,Be=this.data=Ue}for(ze&&Ee&&(this.options.keys=!1),Ie=0;Ie<me;Ie++)Ue=Me+Ie,Ee?(ct=new Z().init(this,[_e[Ie]].concat(se(le[Ie]))),ct.dataGroup=this.groupMap[ce+Ie],ct.dataGroup.options&&(ct.options=ct.dataGroup.options,f(ct,ct.dataGroup.options),delete ct.dataLabels)):(ct=Be[Ue])||typeof ye[Ue]>"u"||(Be[Ue]=ct=new Z().init(this,ye[Ue],_e[Ie])),ct&&(ct.index=Ee?ce+Ie:Ue,Qe[Ie]=ct);if(this.options.keys=ze,Be&&(me!==(Ke=Be.length)||Ee))for(Ie=0;Ie<Ke;Ie++)Ie!==Me||Ee||(Ie+=me),Be[Ie]&&(Be[Ie].destroyElements(),Be[Ie].plotX=void 0);this.data=Be,this.points=Qe,b(this,"afterGeneratePoints")}getXExtremes(ce){return{min:ne(ce),max:C(ce)}}getExtremes(ce,ye){const _e=this.xAxis;var le=this.yAxis;const Z=this.processedXData||this.xData,me=[],Me=this.requireSorting?this.cropShoulder:0;le=le?le.positiveValuesOnly:!1;let Ee,ze=0,Qe=0,Ke=0;ce=ce||this.stackedYData||this.processedYData||[];const ct=ce.length;if(_e){var Ie=_e.getExtremes();ze=Ie.min,Qe=Ie.max}for(Ee=0;Ee<ct;Ee++){var Be=Z[Ee];Ie=ce[Ee];var Ue=(J(Ie)||j(Ie))&&(Ie.length||0<Ie||!le);if(Be=ye||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!_e||(Z[Ee+Me]||Be)>=ze&&(Z[Ee-Me]||Be)<=Qe,Ue&&Be)if(Ue=Ie.length)for(;Ue--;)J(Ie[Ue])&&(me[Ke++]=Ie[Ue]);else me[Ke++]=Ie}return ce={activeYData:me,dataMin:ne(me),dataMax:C(me)},b(this,"afterGetExtremes",{dataExtremes:ce}),ce}applyExtremes(){const ce=this.getExtremes();return this.dataMin=ce.dataMin,this.dataMax=ce.dataMax,ce}getFirstValidPoint(ce){const ye=ce.length;let _e=0,le=null;for(;le===null&&_e<ye;)le=ce[_e],_e++;return le}translate(){var ce;this.processedXData||this.processData(),this.generatePoints();const ye=this.options,_e=ye.stacking,le=this.xAxis,Z=le.categories,me=this.enabledDataSorting,Me=this.yAxis,Ee=this.points,ze=Ee.length,Qe=this.pointPlacementToXValue(),Ke=!!Qe,ct=ye.threshold,Ie=ye.startFromThreshold?ct:0,Be=this.zoneAxis||"y";let Ue,We,st,wt,Ut=Number.MAX_VALUE;for(Ue=0;Ue<ze;Ue++){const Vt=Ee[Ue],yi=Vt.x;let si,Ai,$i=Vt.y,Fi=Vt.low;const Zi=_e&&((ce=Me.stacking)===null||ce===void 0?void 0:ce.stacks[(this.negStacks&&$i<(Ie?0:ct)?"-":"")+this.stackKey]);We=le.translate(yi,!1,!1,!1,!0,Qe),Vt.plotX=J(We)?N(te(We,-1e5,1e5)):void 0,_e&&this.visible&&Zi&&Zi[yi]&&(wt=this.getStackIndicator(wt,yi,this.index),!Vt.isNull&&wt.key&&(si=Zi[yi],Ai=si.points[wt.key]),si&&j(Ai)&&(Fi=Ai[0],$i=Ai[1],Fi===Ie&&wt.key===Zi[yi].base&&(Fi=ve(J(ct)?ct:Me.min)),Me.positiveValuesOnly&&X(Fi)&&0>=Fi&&(Fi=void 0),Vt.total=Vt.stackTotal=ve(si.total),Vt.percentage=X(Vt.y)&&si.total?Vt.y/si.total*100:void 0,Vt.stackY=$i,this.irregularWidths||si.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Vt.yBottom=X(Fi)?te(Me.translate(Fi,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&($i=this.dataModify.modifyValue($i,Ue));let Ri;J($i)&&Vt.plotX!==void 0&&(Ri=Me.translate($i,!1,!0,!1,!0),Ri=J(Ri)?te(Ri,-1e5,1e5):void 0),Vt.plotY=Ri,Vt.isInside=this.isPointInside(Vt),Vt.clientX=Ke?N(le.translate(yi,!1,!1,!1,!0,Qe)):We,Vt.negative=Vt[Be]<(ye[Be+"Threshold"]||ct||0),Vt.category=ve(Z&&Z[Vt.x],Vt.x),Vt.isNull||Vt.visible===!1||(typeof st<"u"&&(Ut=Math.min(Ut,Math.abs(We-st))),st=We),Vt.zone=this.zones.length?Vt.getZone():void 0,!Vt.graphic&&this.group&&me&&(Vt.isNew=!0)}this.closestPointRangePx=Ut,b(this,"afterTranslate")}getValidPoints(ce,ye,_e){const le=this.chart;return(ce||this.points||[]).filter(function(Z){const{plotX:me,plotY:Me}=Z;return!_e&&(Z.isNull||!J(Me))||ye&&!le.isInsidePlot(me,Me,{inverted:le.inverted})?!1:Z.visible!==!1})}getClipBox(){const{chart:ce,xAxis:ye,yAxis:_e}=this,le=re(ce.clipBox);return ye&&ye.len!==ce.plotSizeX&&(le.width=ye.len),_e&&_e.len!==ce.plotSizeY&&(le.height=_e.len),le}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:ce,group:ye,markerGroup:_e}=this,le=ce.sharedClips,Z=ce.renderer,me=this.getClipBox(),Me=this.getSharedClipKey();let Ee=le[Me];Ee?Ee.animate(me):le[Me]=Ee=Z.clipRect(me),ye&&ye.clip(this.options.clip===!1?void 0:Ee),_e&&_e.clip()}animate(ce){const{chart:ye,group:_e,markerGroup:le}=this,Z=ye.inverted;var me=I(this.options.animation),Me=[this.getSharedClipKey(),me.duration,me.easing,me.defer].join();let Ee=ye.sharedClips[Me],ze=ye.sharedClips[Me+"m"];if(ce&&_e)me=this.getClipBox(),Ee?Ee.attr("height",me.height):(me.width=0,Z&&(me.x=ye.plotHeight),Ee=ye.renderer.clipRect(me),ye.sharedClips[Me]=Ee,ze=ye.renderer.clipRect({x:-99,y:-99,width:Z?ye.plotWidth+199:99,height:Z?99:ye.plotHeight+199}),ye.sharedClips[Me+"m"]=ze),_e.clip(Ee),le&&le.clip(ze);else if(Ee&&!Ee.hasClass("highcharts-animating")){Me=this.getClipBox();const Qe=me.step;le&&le.element.childNodes.length&&(me.step=function(Ke,ct){Qe&&Qe.apply(ct,arguments),ct.prop==="width"&&ze&&ze.element&&ze.attr(Z?"height":"width",Ke+99)}),Ee.addClass("highcharts-animating").animate(Me,me)}}afterAnimate(){this.setClip(),ue(this.chart.sharedClips,(ce,ye,_e)=>{ce&&!this.chart.container.querySelector(`[clip-path="url(#${ce.id})"]`)&&(ce.destroy(),delete _e[ye])}),this.finishedAnimating=!0,b(this,"afterAnimate")}drawPoints(ce=this.points){const ye=this.chart,_e=ye.styledMode,{colorAxis:le,options:Z}=this,me=Z.marker,Me=this[this.specialGroup||"markerGroup"],Ee=this.xAxis,ze=ve(me.enabled,!Ee||Ee.isRadial?!0:null,this.closestPointRangePx>=me.enabledThreshold*me.radius);let Qe,Ke,ct,Ie,Be,Ue;if(me.enabled!==!1||this._hasPointMarkers)for(Qe=0;Qe<ce.length;Qe++){Ke=ce[Qe],Ie=(ct=Ke.graphic)?"animate":"attr";var We=Ke.marker||{};if(Be=!!Ke.marker,(ze&&typeof We.enabled>"u"||We.enabled)&&!Ke.isNull&&Ke.visible!==!1){const st=ve(We.symbol,this.symbol,"rect");Ue=this.markerAttribs(Ke,Ke.selected&&"select"),this.enabledDataSorting&&(Ke.startXPos=Ee.reversed?-(Ue.width||0):Ee.width);const wt=Ke.isInside!==!1;!ct&&wt&&(0<(Ue.width||0)||Ke.hasImage)&&(Ke.graphic=ct=ye.renderer.symbol(st,Ue.x,Ue.y,Ue.width,Ue.height,Be?We:me).add(Me),this.enabledDataSorting&&ye.hasRendered&&(ct.attr({x:Ke.startXPos}),Ie="animate")),ct&&Ie==="animate"&&ct[wt?"show":"hide"](wt).animate(Ue),ct&&(We=this.pointAttribs(Ke,_e||!Ke.selected?void 0:"select"),_e?le&&ct.css({fill:We.fill}):ct[Ie](We)),ct&&ct.addClass(Ke.getClassName(),!0)}else ct&&(Ke.graphic=ct.destroy())}}markerAttribs(ce,ye){const _e=this.options;var le=_e.marker;const Z=ce.marker||{},me=Z.symbol||le.symbol,Me={};let Ee=ve(Z.radius,le&&le.radius);return ye&&(le=le.states[ye],ye=Z.states&&Z.states[ye],Ee=ve(ye&&ye.radius,le&&le.radius,Ee&&Ee+(le&&le.radiusPlus||0))),ce.hasImage=me&&me.indexOf("url")===0,ce.hasImage&&(Ee=0),ce=ce.pos(),J(Ee)&&ce&&(Me.x=ce[0]-Ee,Me.y=ce[1]-Ee,_e.crisp&&(Me.x=Math.floor(Me.x))),Ee&&(Me.width=Me.height=2*Ee),Me}pointAttribs(ce,ye){var _e=this.options.marker,le=ce&&ce.options;const Z=le&&le.marker||{};var me=le&&le.color,Me=ce&&ce.color;const Ee=ce&&ce.zone&&ce.zone.color;let ze=this.color;return ce=ve(Z.lineWidth,_e.lineWidth),le=1,ze=me||Ee||Me||ze,me=Z.fillColor||_e.fillColor||ze,Me=Z.lineColor||_e.lineColor||ze,ye=ye||"normal",_e=_e.states[ye]||{},ye=Z.states&&Z.states[ye]||{},ce=ve(ye.lineWidth,_e.lineWidth,ce+ve(ye.lineWidthPlus,_e.lineWidthPlus,0)),me=ye.fillColor||_e.fillColor||me,Me=ye.lineColor||_e.lineColor||Me,le=ve(ye.opacity,_e.opacity,le),{stroke:Me,"stroke-width":ce,fill:me,opacity:le}}destroy(ce){const ye=this,_e=ye.chart,le=/AppleWebKit\/533/.test(G.navigator.userAgent),Z=ye.data||[];let me,Me,Ee,ze;for(b(ye,"destroy",{keepEventsForUpdate:ce}),this.removeEvents(ce),(ye.axisTypes||[]).forEach(function(Qe){(ze=ye[Qe])&&ze.series&&(M(ze.series,ye),ze.isDirty=ze.forceRedraw=!0)}),ye.legendItem&&ye.chart.legend.destroyItem(ye),Me=Z.length;Me--;)(Ee=Z[Me])&&Ee.destroy&&Ee.destroy();ye.clips&&ye.clips.forEach(Qe=>Qe.destroy()),Q.clearTimeout(ye.animationTimeout),ue(ye,function(Qe,Ke){Qe instanceof Y&&!Qe.survive&&(me=le&&Ke==="group"?"hide":"destroy",Qe[me]())}),_e.hoverSeries===ye&&(_e.hoverSeries=void 0),M(_e.series,ye),_e.orderSeries(),ue(ye,function(Qe,Ke){ce&&Ke==="hcEvents"||delete ye[Ke]})}applyZones(){const ce=this,ye=this.chart,_e=ye.renderer,le=this.zones,Z=this.clips||[],me=this.graph,Me=this.area,Ee=Math.max(ye.plotWidth,ye.plotHeight),ze=this[(this.zoneAxis||"y")+"Axis"],Qe=ye.inverted;let Ke,ct,Ie,Be,Ue,We,st,wt,Ut,Vt,yi,si=!1;le.length&&(me||Me)&&ze&&typeof ze.min<"u"?(Ue=ze.reversed,We=ze.horiz,me&&!this.showLine&&me.hide(),Me&&Me.hide(),Be=ze.getExtremes(),le.forEach(function(Ai,$i){Ke=Ue?We?ye.plotWidth:0:We?0:ze.toPixels(Be.min)||0,Ke=te(ve(ct,Ke),0,Ee),ct=te(Math.round(ze.toPixels(ve(Ai.value,Be.max),!0)||0),0,Ee),si&&(Ke=ct=ze.toPixels(Be.max)),st=Math.abs(Ke-ct),wt=Math.min(Ke,ct),Ut=Math.max(Ke,ct),ze.isXAxis?(Ie={x:Qe?Ut:wt,y:0,width:st,height:Ee},We||(Ie.x=ye.plotHeight-Ie.x)):(Ie={x:0,y:Qe?Ut:wt,width:Ee,height:st},We&&(Ie.y=ye.plotWidth-Ie.y)),Z[$i]?Z[$i].animate(Ie):Z[$i]=_e.clipRect(Ie),Vt=ce["zone-area-"+$i],yi=ce["zone-graph-"+$i],me&&yi&&yi.clip(Z[$i]),Me&&Vt&&Vt.clip(Z[$i]),si=Ai.value>Be.max,ce.resetZones&&ct===0&&(ct=void 0)}),this.clips=Z):ce.visible&&(me&&me.show(),Me&&Me.show())}plotGroup(ce,ye,_e,le,Z){let me=this[ce];const Me=!me;return _e={visibility:_e,zIndex:le||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(_e.opacity=this.opacity),Me&&(this[ce]=me=this.chart.renderer.g().add(Z)),me.addClass("highcharts-"+ye+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(X(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(me.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),me.attr(_e)[Me?"attr":"animate"](this.getPlotBox(ye)),me}getPlotBox(ce){let ye=this.xAxis,_e=this.yAxis;const le=this.chart;return ce=le.inverted&&!le.polar&&ye&&this.invertible!==!1&&ce==="series",le.inverted&&(ye=_e,_e=this.xAxis),{translateX:ye?ye.left:le.plotLeft,translateY:_e?_e.top:le.plotTop,rotation:ce?90:0,rotationOriginX:ce?(ye.len-_e.len)/2:0,rotationOriginY:ce?(ye.len+_e.len)/2:0,scaleX:ce?-1:1,scaleY:1}}removeEvents(ce){ce||q(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ye){ye()}),this.eventsToUnbind.length=0)}render(){const ce=this;var ye=ce.chart;const _e=ce.options,le=I(_e.animation),Z=ce.visible?"inherit":"hidden",me=_e.zIndex,Me=ce.hasRendered;ye=ye.seriesGroup;let Ee=ce.finishedAnimating?0:le.duration;b(this,"render"),ce.plotGroup("group","series",Z,me,ye),ce.markerGroup=ce.plotGroup("markerGroup","markers",Z,me,ye),_e.clip!==!1&&ce.setClip(),ce.animate&&Ee&&ce.animate(!0),ce.drawGraph&&(ce.drawGraph(),ce.applyZones()),ce.visible&&ce.drawPoints(),ce.drawDataLabels&&ce.drawDataLabels(),ce.redrawPoints&&ce.redrawPoints(),ce.drawTracker&&ce.options.enableMouseTracking!==!1&&ce.drawTracker(),ce.animate&&Ee&&ce.animate(),Me||(Ee&&le.defer&&(Ee+=le.defer),ce.animationTimeout=pe(function(){ce.afterAnimate()},Ee||0)),ce.isDirty=!1,ce.hasRendered=!0,b(ce,"afterRender")}redraw(){const ce=this.isDirty||this.isDirtyData;this.translate(),this.render(),ce&&delete this.kdTree}searchPoint(ce,ye){const _e=this.xAxis,le=this.yAxis,Z=this.chart.inverted;return this.searchKDTree({clientX:Z?_e.len-ce.chartY+_e.pos:ce.chartX-_e.pos,plotY:Z?le.len-ce.chartX+le.pos:ce.chartY-le.pos},ye,ce)}buildKDTree(ce){function ye(Z,me,Me){var Ee=Z&&Z.length;let ze;if(Ee)return ze=_e.kdAxisArray[me%Me],Z.sort(function(Qe,Ke){return Qe[ze]-Ke[ze]}),Ee=Math.floor(Ee/2),{point:Z[Ee],left:ye(Z.slice(0,Ee),me+1,Me),right:ye(Z.slice(Ee+1),me+1,Me)}}this.buildingKdTree=!0;const _e=this,le=-1<_e.options.findNearestPointBy.indexOf("y")?2:1;delete _e.kdTree,pe(function(){_e.kdTree=ye(_e.getValidPoints(null,!_e.directTouch),le,le),_e.buildingKdTree=!1},_e.options.kdNow||ce&&ce.type==="touchstart"?0:1)}searchKDTree(ce,ye,_e){function le(ze,Qe,Ke,ct){const Ie=Qe.point;var Be=Z.kdAxisArray[Ke%ct];let Ue=Ie;var We=X(ze[me])&&X(Ie[me])?Math.pow(ze[me]-Ie[me],2):null,st=X(ze[Me])&&X(Ie[Me])?Math.pow(ze[Me]-Ie[Me],2):null;return st=(We||0)+(st||0),Ie.dist=X(st)?Math.sqrt(st):Number.MAX_VALUE,Ie.distX=X(We)?Math.sqrt(We):Number.MAX_VALUE,Be=ze[Be]-Ie[Be],st=0>Be?"left":"right",We=0>Be?"right":"left",Qe[st]&&(st=le(ze,Qe[st],Ke+1,ct),Ue=st[Ee]<Ue[Ee]?st:Ie),Qe[We]&&Math.sqrt(Be*Be)<Ue[Ee]&&(ze=le(ze,Qe[We],Ke+1,ct),Ue=ze[Ee]<Ue[Ee]?ze:Ue),Ue}const Z=this,me=this.kdAxisArray[0],Me=this.kdAxisArray[1],Ee=ye?"distX":"dist";if(ye=-1<Z.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(_e),this.kdTree)return le(ce,this.kdTree,ye,ye)}pointPlacementToXValue(){const{options:{pointPlacement:ce,pointRange:ye},xAxis:_e}=this;let le=ce;return le==="between"&&(le=_e.reversed?-.5:.5),J(le)?le*(ye||_e.pointRange):0}isPointInside(ce){const{chart:ye,xAxis:_e,yAxis:le}=this;return typeof ce.plotY<"u"&&typeof ce.plotX<"u"&&0<=ce.plotY&&ce.plotY<=(le?le.len:ye.plotHeight)&&0<=ce.plotX&&ce.plotX<=(_e?_e.len:ye.plotWidth)}drawTracker(){const ce=this,ye=ce.options,_e=ye.trackByArea,le=[].concat(_e?ce.areaPath:ce.graphPath),Z=ce.chart,me=Z.pointer,Me=Z.renderer,Ee=Z.options.tooltip.snap,ze=ce.tracker,Qe=function(ct){Z.hoverSeries!==ce&&ce.onMouseOver()},Ke="rgba(192,192,192,"+(P?1e-4:.002)+")";ze?ze.attr({d:le}):ce.graph&&(ce.tracker=Me.path(le).attr({visibility:ce.visible?"inherit":"hidden",zIndex:2}).addClass(_e?"highcharts-tracker-area":"highcharts-tracker-line").add(ce.group),Z.styledMode||ce.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Ke,fill:_e?Ke:"none","stroke-width":ce.graph.strokeWidth()+(_e?0:2*Ee)}),[ce.tracker,ce.markerGroup,ce.dataLabelsGroup].forEach(function(ct){ct&&(ct.addClass("highcharts-tracker").on("mouseover",Qe).on("mouseout",function(Ie){me.onTrackerMouseOut(Ie)}),ye.cursor&&!Z.styledMode&&ct.css({cursor:ye.cursor}),E)&&ct.on("touchstart",Qe)})),b(this,"afterDrawTracker")}addPoint(ce,ye,_e,le,Z){const me=this.options,Me=this.data,Ee=this.chart;var ze=this.xAxis;ze=ze&&ze.hasNames&&ze.names;const Qe=me.data,Ke=this.xData;let ct,Ie;ye=ve(ye,!0);const Be={series:this};this.pointClass.prototype.applyOptions.apply(Be,[ce]);const Ue=Be.x;if(Ie=Ke.length,this.requireSorting&&Ue<Ke[Ie-1])for(ct=!0;Ie&&Ke[Ie-1]>Ue;)Ie--;this.updateParallelArrays(Be,"splice",[Ie,0,0]),this.updateParallelArrays(Be,Ie),ze&&Be.name&&(ze[Ue]=Be.name),Qe.splice(Ie,0,ce),(ct||this.processedData)&&(this.data.splice(Ie,0,null),this.processData()),me.legendType==="point"&&this.generatePoints(),_e&&(Me[0]&&Me[0].remove?Me[0].remove(!1):(Me.shift(),this.updateParallelArrays(Be,"shift"),Qe.shift())),Z!==!1&&b(this,"addPoint",{point:Be}),this.isDirtyData=this.isDirty=!0,ye&&Ee.redraw(le)}removePoint(ce,ye,_e){const le=this,Z=le.data,me=Z[ce],Me=le.points,Ee=le.chart,ze=function(){Me&&Me.length===Z.length&&Me.splice(ce,1),Z.splice(ce,1),le.options.data.splice(ce,1),le.updateParallelArrays(me||{series:le},"splice",[ce,1]),me&&me.destroy(),le.isDirty=!0,le.isDirtyData=!0,ye&&Ee.redraw()};O(_e,Ee),ye=ve(ye,!0),me?me.firePointEvent("remove",null,ze):ze()}remove(ce,ye,_e,le){function Z(){me.destroy(le),Me.isDirtyLegend=Me.isDirtyBox=!0,Me.linkSeries(le),ve(ce,!0)&&Me.redraw(ye)}const me=this,Me=me.chart;_e!==!1?b(me,"remove",null,Z):Z()}update(ce,ye){ce=F(ce,this.userOptions),b(this,"update",{options:ce});const _e=this,le=_e.chart;var Z=_e.userOptions;const me=_e.initialType||_e.type;var Me=le.options.plotOptions;const Ee=V[me].prototype;var ze=_e.finishedAnimating&&{animation:!1};const Qe={};let Ke,ct=["eventOptions","navigatorSeries","baseSeries"],Ie=ce.type||Z.type||le.options.chart.type;const Be=!(this.hasDerivedData||Ie&&Ie!==this.type||typeof ce.pointStart<"u"||typeof ce.pointInterval<"u"||typeof ce.relativeXValue<"u"||ce.joinBy||ce.mapData||_e.hasOptionChanged("dataGrouping")||_e.hasOptionChanged("pointStart")||_e.hasOptionChanged("pointInterval")||_e.hasOptionChanged("pointIntervalUnit")||_e.hasOptionChanged("keys"));if(Ie=Ie||me,Be&&(ct.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),ce.visible!==!1&&ct.push("area","graph"),_e.parallelArrays.forEach(function(Ue){ct.push(Ue+"Data")}),ce.data&&(ce.dataSorting&&f(_e.options.dataSorting,ce.dataSorting),this.setData(ce.data,!1))),ce=re(Z,ze,{index:typeof Z.index>"u"?_e.index:Z.index,pointStart:ve(Me&&Me.series&&Me.series.pointStart,Z.pointStart,_e.xData[0])},!Be&&{data:_e.options.data},ce),Be&&ce.data&&(ce.data=_e.options.data),ct=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(ct),ct.forEach(function(Ue){ct[Ue]=_e[Ue],delete _e[Ue]}),Me=!1,V[Ie]){if(Me=Ie!==_e.type,_e.remove(!1,!1,!1,!0),Me)if(Object.setPrototypeOf)Object.setPrototypeOf(_e,V[Ie].prototype);else{ze=Object.hasOwnProperty.call(_e,"hcEvents")&&_e.hcEvents;for(Ke in Ee)_e[Ke]=void 0;f(_e,V[Ie].prototype),ze?_e.hcEvents=ze:delete _e.hcEvents}}else L(17,!0,le,{missingModuleFor:Ie});if(ct.forEach(function(Ue){_e[Ue]=ct[Ue]}),_e.init(le,ce),Be&&this.points){if(ce=_e.options,ce.visible===!1)Qe.graphic=1,Qe.dataLabel=1;else if(!_e._hasPointLabels){const{marker:Ue,dataLabels:We}=ce;Z=Z.marker||{},!Ue||Ue.enabled!==!1&&Z.symbol===Ue.symbol&&Z.height===Ue.height&&Z.width===Ue.width||(Qe.graphic=1),We&&We.enabled===!1&&(Qe.dataLabel=1)}for(const Ue of this.points)Ue&&Ue.series&&(Ue.resolveColor(),Object.keys(Qe).length&&Ue.destroyElements(Qe),ce.showInLegend===!1&&Ue.legendItem&&le.legend.destroyItem(Ue))}_e.initialType=me,le.linkSeries(),Me&&_e.linkedSeries.length&&(_e.isDirtyData=!0),b(this,"afterUpdate"),ve(ye,!0)&&le.redraw(Be?void 0:!1)}setName(ce){this.name=this.options.name=this.userOptions.name=ce,this.chart.isDirtyLegend=!0}hasOptionChanged(ce){const ye=this.options[ce],_e=this.chart.options.plotOptions,le=this.userOptions[ce];return le?ye!==le:ye!==ve(_e&&_e[this.type]&&_e[this.type][ce],_e&&_e.series&&_e.series[ce],ye)}onMouseOver(){const ce=this.chart,ye=ce.hoverSeries;ce.pointer.setHoverChartIndex(),ye&&ye!==this&&ye.onMouseOut(),this.options.events.mouseOver&&b(this,"mouseOver"),this.setState("hover"),ce.hoverSeries=this}onMouseOut(){const ce=this.options,ye=this.chart,_e=ye.tooltip,le=ye.hoverPoint;ye.hoverSeries=null,le&&le.onMouseOut(),this&&ce.events.mouseOut&&b(this,"mouseOut"),!_e||this.stickyTracking||_e.shared&&!this.noSharedTooltip||_e.hide(),ye.series.forEach(function(Z){Z.setState("",!0)})}setState(ce,ye){const _e=this;var le=_e.options;const Z=_e.graph,me=le.inactiveOtherPoints,Me=le.states,Ee=ve(Me[ce||"normal"]&&Me[ce||"normal"].animation,_e.chart.options.chart.animation);let ze=le.lineWidth,Qe=0,Ke=le.opacity;if(ce=ce||"",_e.state!==ce&&([_e.group,_e.markerGroup,_e.dataLabelsGroup].forEach(function(ct){ct&&(_e.state&&ct.removeClass("highcharts-series-"+_e.state),ce&&ct.addClass("highcharts-series-"+ce))}),_e.state=ce,!_e.chart.styledMode)){if(Me[ce]&&Me[ce].enabled===!1)return;if(ce&&(ze=Me[ce].lineWidth||ze+(Me[ce].lineWidthPlus||0),Ke=ve(Me[ce].opacity,Ke)),Z&&!Z.dashstyle&&J(ze))for(le={"stroke-width":ze},Z.animate(le,Ee);_e["zone-graph-"+Qe];)_e["zone-graph-"+Qe].animate(le,Ee),Qe+=1;me||[_e.group,_e.markerGroup,_e.dataLabelsGroup,_e.labelBySeries].forEach(function(ct){ct&&ct.animate({opacity:Ke},Ee)})}ye&&me&&_e.points&&_e.setAllPointsToState(ce||void 0)}setAllPointsToState(ce){this.points.forEach(function(ye){ye.setState&&ye.setState(ce)})}setVisible(ce,ye){const _e=this,le=_e.chart,Z=le.options.chart.ignoreHiddenSeries,me=_e.visible,Me=(_e.visible=ce=_e.options.visible=_e.userOptions.visible=typeof ce>"u"?!me:ce)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Ee){_e[Ee]&&_e[Ee][Me]()}),(le.hoverSeries===_e||(le.hoverPoint&&le.hoverPoint.series)===_e)&&_e.onMouseOut(),_e.legendItem&&le.legend.colorizeItem(_e,ce),_e.isDirty=!0,_e.options.stacking&&le.series.forEach(function(Ee){Ee.options.stacking&&Ee.visible&&(Ee.isDirty=!0)}),_e.linkedSeries.forEach(function(Ee){Ee.setVisible(ce,!1)}),Z&&(le.isDirtyBox=!0),b(_e,Me),ye!==!1&&le.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(ce){this.selected=ce=this.options.selected=typeof ce>"u"?!this.selected:ce,this.checkbox&&(this.checkbox.checked=ce),b(this,ce?"select":"unselect")}shouldShowTooltip(ce,ye,_e={}){return _e.series=this,_e.visiblePlotOnly=!0,this.chart.isInsidePlot(ce,ye,_e)}drawLegendSymbol(ce,ye){var _e;(_e=w[this.options.legendSymbol||"rectangle"])===null||_e===void 0||_e.call(this,ce,ye)}}return xe.defaultOptions=ee,xe.types=z.seriesTypes,xe.registerType=z.registerSeriesType,f(xe.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:$,requireSorting:!0,sorted:!0}),z.series=xe,xe}),s(l,"Extensions/ScrollablePlotArea.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Chart/Chart.js"],l["Core/Series/Series.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Utilities.js"]],function(c,d,m,n,w,$){const{stop:ee}=c,{addEvent:z,createElement:Y,defined:Q,merge:I,pick:O}=$;z(m,"afterSetChartSize",function(H){var A=this.options.chart.scrollablePlotArea,E=A&&A.minWidth;A=A&&A.minHeight;let P;this.renderer.forExport||(E?(this.scrollablePixelsX=E=Math.max(0,E-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=I(this.plotBox),this.plotBox.width=this.plotWidth+=E,this.inverted?this.clipBox.height+=E:this.clipBox.width+=E,P={1:{name:"right",value:E}}):A&&(this.scrollablePixelsY=E=Math.max(0,A-this.chartHeight),Q(E)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=I(this.plotBox),this.plotBox.height=this.plotHeight+=E,this.inverted?this.clipBox.width+=E:this.clipBox.height+=E,P={2:{name:"bottom",value:E}})),P&&!H.skipAxes&&this.axes.forEach(function(G){P[G.side]?G.getPlotLinePath=function(){let V=P[G.side].name,C=this[V],ne;return this[V]=C-P[G.side].value,ne=d.prototype.getPlotLinePath.apply(this,arguments),this[V]=C,ne}:(G.setAxisSize(),G.setAxisTranslation())}))}),z(m,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),m.prototype.setUpScrolling=function(){const H={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(H.overflowX="auto"),this.scrollablePixelsY&&(H.overflowY="auto"),this.scrollingParent=Y("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=Y("div",{className:"highcharts-scrolling"},H,this.scrollingParent);let A;z(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(A=this.hoverPoint),this.pointer.runPointActions(void 0,A,!0))}),this.innerContainer=Y("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},m.prototype.moveFixedElements=function(){let H=this.container,A=this.fixedRenderer,E=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),P;this.scrollablePixelsX&&!this.inverted?P=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?P=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(P=".highcharts-yaxis"),P&&E.push(`${P}:not(.highcharts-radial-axis)`,`${P}-labels:not(.highcharts-radial-axis-labels)`),E.forEach(function(G){[].forEach.call(H.querySelectorAll(G),function(V){(V.namespaceURI===A.SVG_NS?A.box:A.box.parentNode).appendChild(V),V.style.pointerEvents="auto"})})},m.prototype.applyFixed=function(){var H=!this.fixedDiv,A=this.options.chart,E=A.scrollablePlotArea,P=w.getRendererType();H?(this.fixedDiv=Y("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(A.style&&A.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=A=new P(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=A.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":O(E.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),z(this,"afterShowResetZoom",this.moveFixedElements),z(this,"afterApplyDrilldown",this.moveFixedElements),z(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||H)&&(this.scrollableDirty=!1,this.moveFixedElements()),A=this.chartWidth+(this.scrollablePixelsX||0),P=this.chartHeight+(this.scrollablePixelsY||0),ee(this.container),this.container.style.width=A+"px",this.container.style.height=P+"px",this.renderer.boxWrapper.attr({width:A,height:P,viewBox:[0,0,A,P].join(" ")}),this.chartBackground.attr({width:A,height:P}),this.scrollingContainer.style.height=this.chartHeight+"px",H&&(E.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*E.scrollPositionX),E.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*E.scrollPositionY)),P=this.axisOffset,H=this.plotTop-P[0]-1,E=this.plotLeft-P[3]-1,A=this.plotTop+this.plotHeight+P[2]+1,P=this.plotLeft+this.plotWidth+P[1]+1;let G=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),V=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);H=this.scrollablePixelsX?[["M",0,H],["L",this.plotLeft-1,H],["L",this.plotLeft-1,A],["L",0,A],["Z"],["M",G,H],["L",this.chartWidth,H],["L",this.chartWidth,A],["L",G,A],["Z"]]:this.scrollablePixelsY?[["M",E,0],["L",E,this.plotTop-1],["L",P,this.plotTop-1],["L",P,0],["Z"],["M",E,V],["L",E,this.chartHeight],["L",P,this.chartHeight],["L",P,V],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:H})},z(d,"afterInit",function(){this.chart.scrollableDirty=!0}),z(n,"show",function(){this.chart.scrollableDirty=!0})}),s(l,"Core/Axis/Stacking/StackItem.js",[l["Core/FormatUtilities.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{format:n}=c,{series:w}=d,{destroyObjectProperties:$,fireEvent:ee,isNumber:z,pick:Y}=m;class Q{constructor(O,H,A,E,P){const G=O.chart.inverted,V=O.reversed;this.axis=O,O=this.isNegative=!!A!=!!V,this.options=H=H||{},this.x=E,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=P,this.rightCliff=this.leftCliff=0,this.alignOptions={align:H.align||(G?O?"left":"right":"center"),verticalAlign:H.verticalAlign||(G?"middle":O?"bottom":"top"),y:H.y,x:H.x},this.textAlign=H.textAlign||(G?O?"right":"left":"center")}destroy(){$(this,this.axis)}render(O){const H=this.axis.chart,A=this.options;var E=A.format;E=E?n(E,this,H):A.formatter.call(this),this.label?this.label.attr({text:E,visibility:"hidden"}):(this.label=H.renderer.label(E,null,void 0,A.shape,void 0,void 0,A.useHTML,!1,"stack-labels"),E={r:A.borderRadius||0,text:E,padding:Y(A.padding,5),visibility:"hidden"},H.styledMode||(E.fill=A.backgroundColor,E.stroke=A.borderColor,E["stroke-width"]=A.borderWidth,this.label.css(A.style||{})),this.label.attr(E),this.label.added||this.label.add(O)),this.label.labelrank=H.plotSizeY,ee(this,"afterRender")}setOffset(O,H,A,E,P,G){const{alignOptions:V,axis:C,label:ne,options:te,textAlign:F}=this,N=C.chart;A=this.getStackBox({xOffset:O,width:H,boxBottom:A,boxTop:E,defaultX:P,xAxis:G});var{verticalAlign:X}=V;if(ne&&A){E=ne.getBBox(),P=ne.padding,G=Y(te.overflow,"justify")==="justify",V.x=te.x||0,V.y=te.y||0;const{x:M,y:L}=this.adjustStackPosition({labelBox:E,verticalAlign:X,textAlign:F});A.x-=M,A.y-=L,ne.align(V,!1,A),(X=N.isInsidePlot(ne.alignAttr.x+V.x+M,ne.alignAttr.y+V.y+L))||(G=!1),G&&w.prototype.justifyDataLabel.call(C,ne,V,ne.alignAttr,E,A),ne.attr({x:ne.alignAttr.x,y:ne.alignAttr.y,rotation:te.rotation,rotationOriginX:E.width/2,rotationOriginY:E.height/2}),Y(!G&&te.crop,!0)&&(X=z(ne.x)&&z(ne.y)&&N.isInsidePlot(ne.x-P+ne.width,ne.y)&&N.isInsidePlot(ne.x+P,ne.y)),ne[X?"show":"hide"]()}ee(this,"afterSetOffset",{xOffset:O,width:H})}adjustStackPosition({labelBox:O,verticalAlign:H,textAlign:A}){const E={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:O.width/2+O.width/2*E[A],y:O.height/2*E[H]}}getStackBox(O){var H=this.axis;const A=H.chart,{boxTop:E,defaultX:P,xOffset:G,width:V,boxBottom:C}=O;var ne=H.stacking.usePercentage?100:Y(E,this.total,0);ne=H.toPixels(ne),O=O.xAxis||A.xAxis[0];const te=Y(P,O.translate(this.x))+G;H=H.toPixels(C||z(H.min)&&H.logarithmic&&H.logarithmic.lin2log(H.min)||0),H=Math.abs(ne-H);const F=this.isNegative;return A.inverted?{x:(F?ne:ne-H)-A.plotLeft,y:O.height-te-V,width:H,height:V}:{x:te+O.transB-A.plotLeft,y:(F?ne-H:ne)-A.plotTop,width:V,height:H}}}return Q}),s(l,"Core/Axis/Stacking/StackingAxis.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Axis/Stacking/StackItem.js"],l["Core/Utilities.js"]],function(c,d,m,n,w){function $(){const f=this,y=f.inverted;f.yAxis.forEach(b=>{b.stacking&&b.stacking.stacks&&b.hasVisibleSeries&&(b.stacking.oldStacks=b.stacking.stacks)}),f.series.forEach(b=>{const S=b.xAxis&&b.xAxis.options||{};!b.options.stacking||b.visible!==!0&&f.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=[b.type,X(b.options.stack,""),y?S.top:S.left,y?S.height:S.width].join())})}function ee(){const f=this.stacking;if(f){var y=f.stacks;N(y,function(b,S){C(b),y[S]=null}),f&&f.stackTotalGroup&&f.stackTotalGroup.destroy()}}function z(){this.coll!=="yAxis"||this.stacking||(this.stacking=new M(this))}function Y(f,y,b,S){return!V(f)||f.x!==y||S&&f.stackKey!==S?f={x:y,index:0,key:S,stackKey:S}:f.index++,f.key=[b,y,f.index].join(),f}function Q(){const f=this,y=f.stackKey,b=f.yAxis.stacking.stacks,S=f.processedXData,j=f[f.options.stacking+"Stacker"];let J;j&&[y,"-"+y].forEach(W=>{let re=S.length,ue;for(;re--;){var ve=S[re];J=f.getStackIndicator(J,ve,f.index,W),(ue=(ve=b[W]&&b[W][ve])&&ve.points[J.key])&&j.call(f,ue,ve,re)}})}function I(f,y,b){y=y.total?100/y.total:0,f[0]=G(f[0]*y),f[1]=G(f[1]*y),this.stackedYData[b]=f[1]}function O(){const f=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?E.setStackedPoints.call(this,"group"):f&&N(f.stacks,(y,b)=>{b.slice(-5)==="group"&&(N(y,S=>S.destroy()),delete f.stacks[b])})}function H(f){var y=this.chart;const b=f||this.options.stacking;if(b&&(this.visible===!0||y.options.chart.ignoreHiddenSeries===!1)){var S=this.processedXData,j=this.processedYData,J=[],W=j.length,re=this.options,ue=re.threshold,ve=X(re.startFromThreshold&&ue,0);re=re.stack,f=f?`${this.type},${b}`:this.stackKey;var q="-"+f,se=this.negStacks;y=b==="group"?y.yAxis[0]:this.yAxis;var pe=y.stacking.stacks,xe=y.stacking.oldStacks,Pe,ce;for(y.stacking.stacksTouched+=1,ce=0;ce<W;ce++){var ye=S[ce],_e=j[ce],le=this.getStackIndicator(le,ye,this.index),Z=le.key,me=(Pe=se&&_e<(ve?0:ue))?q:f;pe[me]||(pe[me]={}),pe[me][ye]||(xe[me]&&xe[me][ye]?(pe[me][ye]=xe[me][ye],pe[me][ye].total=null):pe[me][ye]=new n(y,y.options.stackLabels,!!Pe,ye,re)),me=pe[me][ye],_e!==null?(me.points[Z]=me.points[this.index]=[X(me.cumulative,ve)],V(me.cumulative)||(me.base=Z),me.touched=y.stacking.stacksTouched,0<le.index&&this.singleStacks===!1&&(me.points[Z][0]=me.points[this.index+","+ye+",0"][0])):me.points[Z]=me.points[this.index]=null,b==="percent"?(Pe=Pe?f:q,se&&pe[Pe]&&pe[Pe][ye]?(Pe=pe[Pe][ye],me.total=Pe.total=Math.max(Pe.total,me.total)+Math.abs(_e)||0):me.total=G(me.total+(Math.abs(_e)||0))):b==="group"?(te(_e)&&(_e=_e[0]),_e!==null&&(me.total=(me.total||0)+1)):me.total=G(me.total+(_e||0)),me.cumulative=b==="group"?(me.total||1)-1:G(X(me.cumulative,ve)+(_e||0)),_e!==null&&(me.points[Z].push(me.cumulative),J[ce]=me.cumulative,me.hasValidPoints=!0)}b==="percent"&&(y.stacking.usePercentage=!0),b!=="group"&&(this.stackedYData=J),y.stacking.oldStacks={}}}const{getDeferredAnimation:A}=c,{series:{prototype:E}}=m,{addEvent:P,correctFloat:G,defined:V,destroyObjectProperties:C,fireEvent:ne,isArray:te,isNumber:F,objectEach:N,pick:X}=w;class M{constructor(y){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=y}buildStacks(){const y=this.axis,b=y.series,S=y.options.reversedStacks,j=b.length;let J,W;for(this.usePercentage=!1,W=j;W--;)J=b[S?W:j-W-1],J.setStackedPoints(),J.setGroupedPoints();for(W=0;W<j;W++)b[W].modifyStacks();ne(y,"afterBuildStacks")}cleanStacks(){let y;this.oldStacks&&(y=this.stacks=this.oldStacks),N(y,function(b){N(b,function(S){S.cumulative=S.total})})}resetStacks(){N(this.stacks,y=>{N(y,(b,S)=>{F(b.touched)&&b.touched<this.stacksTouched?(b.destroy(),delete y[S]):(b.total=null,b.cumulative=null)})})}renderStackTotals(){var y=this.axis;const b=y.chart,S=b.renderer,j=this.stacks;y=A(b,y.options.stackLabels&&y.options.stackLabels.animation||!1);const J=this.stackTotalGroup=this.stackTotalGroup||S.g("stack-labels").attr({zIndex:6,opacity:0}).add();J.translate(b.plotLeft,b.plotTop),N(j,function(W){N(W,function(re){re.render(J)})}),J.animate({opacity:1},y)}}var L;return function(f){const y=[];f.compose=function(b,S,j){w.pushUnique(y,b)&&(P(b,"init",z),P(b,"destroy",ee)),w.pushUnique(y,S)&&(S.prototype.getStacks=$),w.pushUnique(y,j)&&(b=j.prototype,b.getStackIndicator=Y,b.modifyStacks=Q,b.percentStacker=I,b.setGroupedPoints=O,b.setStackedPoints=H)}}(L||(L={})),L}),s(l,"Series/Line/LineSeries.js",[l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{defined:n,merge:w}=m;class $ extends c{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const z=this,Y=this.options,Q=(this.gappedPath||this.getGraphPath).call(this),I=this.chart.styledMode;let O=[["graph","highcharts-graph"]];I||O[0].push(Y.lineColor||this.color||"#cccccc",Y.dashStyle),O=z.getZonesGraphs(O),O.forEach(function(H,A){var E=H[0];let P=z[E];const G=P?"animate":"attr";P?(P.endX=z.preventGraphAnimation?null:Q.xMap,P.animate({d:Q})):Q.length&&(z[E]=P=z.chart.renderer.path(Q).addClass(H[1]).attr({zIndex:1}).add(z.group)),P&&!I&&(E={stroke:H[2],"stroke-width":Y.lineWidth||0,fill:z.fillGraph&&z.color||"none"},H[3]?E.dashstyle=H[3]:Y.linecap!=="square"&&(E["stroke-linecap"]=E["stroke-linejoin"]="round"),P[G](E).shadow(2>A&&Y.shadow)),P&&(P.startX=Q.xMap,P.isArea=Q.isArea)})}getGraphPath(z,Y,Q){const I=this,O=I.options,H=[],A=[];let E,P=O.step;z=z||I.points;const G=z.reversed;return G&&z.reverse(),(P={right:1,center:2}[P]||P&&3)&&G&&(P=4-P),z=this.getValidPoints(z,!1,!(O.connectNulls&&!Y&&!Q)),z.forEach(function(V,C){const ne=V.plotX,te=V.plotY,F=z[C-1],N=V.isNull||typeof te!="number";(V.leftCliff||F&&F.rightCliff)&&!Q&&(E=!0),N&&!n(Y)&&0<C?E=!O.connectNulls:N&&!Y?E=!0:(C===0||E?C=[["M",V.plotX,V.plotY]]:I.getPointSpline?C=[I.getPointSpline(z,V,C)]:P?(C=P===1?[["L",F.plotX,te]]:P===2?[["L",(F.plotX+ne)/2,F.plotY],["L",(F.plotX+ne)/2,te]]:[["L",ne,F.plotY]],C.push(["L",ne,te])):C=[["L",ne,te]],A.push(V.x),P&&(A.push(V.x),P===2&&A.push(V.x)),H.push.apply(H,C),E=!1)}),H.xMap=A,I.graphPath=H}getZonesGraphs(z){return this.zones.forEach(function(Y,Q){Q=["zone-graph-"+Q,"highcharts-graph highcharts-zone-graph-"+Q+" "+(Y.className||"")],this.chart.styledMode||Q.push(Y.color||this.color,Y.dashStyle||this.options.dashStyle),z.push(Q)},this),z}}return $.defaultOptions=w(c.defaultOptions,{legendSymbol:"lineMarker"}),d.registerSeriesType("line",$),$}),s(l,"Series/Area/AreaSeries.js",[l["Core/Color/Color.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{parse:n}=c,{seriesTypes:{line:w}}=d,{extend:$,merge:ee,objectEach:z,pick:Y}=m;class Q extends w{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const O=this,H=this.areaPath,A=this.options,E=[["area","highcharts-area",this.color,A.fillColor]];this.zones.forEach(function(P,G){E.push(["zone-area-"+G,"highcharts-area highcharts-zone-area-"+G+" "+P.className,P.color||O.color,P.fillColor||A.fillColor])}),E.forEach(function(P){const G=P[0],V={};let C=O[G];const ne=C?"animate":"attr";C?(C.endX=O.preventGraphAnimation?null:H.xMap,C.animate({d:H})):(V.zIndex=0,C=O[G]=O.chart.renderer.path(H).addClass(P[1]).add(O.group),C.isArea=!0),O.chart.styledMode||(V.fill=Y(P[3],n(P[2]).setOpacity(Y(A.fillOpacity,.75)).get())),C[ne](V),C.startX=H.xMap,C.shiftUnit=A.step?2:1})}getGraphPath(O){var H=w.prototype.getGraphPath,A=this.options;const E=A.stacking,P=this.yAxis,G=[],V=[],C=this.index,ne=P.stacking.stacks[this.stackKey],te=A.threshold,F=Math.round(P.getThreshold(A.threshold));A=Y(A.connectNulls,E==="percent");var N=function(f,y,b){var S=O[f];f=E&&ne[S.x].points[C];const j=S[b+"Null"]||0;b=S[b+"Cliff"]||0;let J,W;S=!0,b||j?(J=(j?f[0]:f[1])+b,W=f[0]+b,S=!!j):!E&&O[y]&&O[y].isNull&&(J=W=te),typeof J<"u"&&(V.push({plotX:X,plotY:J===null?F:P.getThreshold(J),isNull:S,isCliff:!0}),G.push({plotX:X,plotY:W===null?F:P.getThreshold(W),doCurve:!1}))};let X;O=O||this.points,E&&(O=this.getStackPoints(O));for(let f=0,y=O.length;f<y;++f){E||(O[f].leftCliff=O[f].rightCliff=O[f].leftNull=O[f].rightNull=void 0);var M=O[f].isNull;X=Y(O[f].rectPlotX,O[f].plotX);var L=E?Y(O[f].yBottom,F):F;(!M||A)&&(A||N(f,f-1,"left"),M&&!E&&A||(V.push(O[f]),G.push({x:f,plotX:X,plotY:L})),A||N(f,f+1,"right"))}return N=H.call(this,V,!0,!0),G.reversed=!0,M=H.call(this,G,!0,!0),(L=M[0])&&L[0]==="M"&&(M[0]=["L",L[1],L[2]]),M=N.concat(M),M.length&&M.push(["Z"]),H=H.call(this,V,!1,A),M.xMap=N.xMap,this.areaPath=M,H}getStackPoints(O){const H=this,A=[],E=[],P=this.xAxis,G=this.yAxis,V=G.stacking.stacks[this.stackKey],C={},ne=G.series,te=ne.length,F=G.options.reversedStacks?1:-1,N=ne.indexOf(H);if(O=O||this.points,this.options.stacking){for(let M=0;M<O.length;M++)O[M].leftNull=O[M].rightNull=void 0,C[O[M].x]=O[M];z(V,function(M,L){M.total!==null&&E.push(L)}),E.sort(function(M,L){return M-L});const X=ne.map(M=>M.visible);E.forEach(function(M,L){let f=0,y,b;if(C[M]&&!C[M].isNull)A.push(C[M]),[-1,1].forEach(function(S){const j=S===1?"rightNull":"leftNull",J=V[E[L+S]];let W=0;if(J){let re=N;for(;0<=re&&re<te;){const ue=ne[re].index;y=J.points[ue],y||(ue===H.index?C[M][j]=!0:X[re]&&(b=V[M].points[ue])&&(W-=b[1]-b[0])),re+=F}}C[M][S===1?"rightCliff":"leftCliff"]=W});else{let S=N;for(;0<=S&&S<te;){if(y=V[M].points[ne[S].index]){f=y[1];break}S+=F}f=Y(f,0),f=G.translate(f,0,1,0,1),A.push({isNull:!0,plotX:P.translate(M,0,0,0,1),x:M,plotY:f,yBottom:f})}})}return A}}return Q.defaultOptions=ee(w.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),$(Q.prototype,{singleStacks:!1}),d.registerSeriesType("area",Q),Q}),s(l,"Series/Spline/SplineSeries.js",[l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d){const{line:m}=c.seriesTypes,{merge:n,pick:w}=d;class $ extends m{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(z,Y,Q){const I=Y.plotX||0,O=Y.plotY||0,H=z[Q-1];Q=z[Q+1];let A,E,P;if(H&&!H.isNull&&H.doCurve!==!1&&!Y.isCliff&&Q&&!Q.isNull&&Q.doCurve!==!1&&!Y.isCliff){z=H.plotY||0;var G=Q.plotX||0;Q=Q.plotY||0;let V=0;A=(1.5*I+(H.plotX||0))/2.5,E=(1.5*O+z)/2.5,G=(1.5*I+G)/2.5,P=(1.5*O+Q)/2.5,G!==A&&(V=(P-E)*(G-I)/(G-A)+O-P),E+=V,P+=V,E>z&&E>O?(E=Math.max(z,O),P=2*O-E):E<z&&E<O&&(E=Math.min(z,O),P=2*O-E),P>Q&&P>O?(P=Math.max(Q,O),E=2*O-P):P<Q&&P<O&&(P=Math.min(Q,O),E=2*O-P),Y.rightContX=G,Y.rightContY=P}return Y=["C",w(H.rightContX,H.plotX,0),w(H.rightContY,H.plotY,0),w(A,I,0),w(E,O,0),I,O],H.rightContX=H.rightContY=void 0,Y}}return $.defaultOptions=n(m.defaultOptions),c.registerSeriesType("spline",$),$}),s(l,"Series/AreaSpline/AreaSplineSeries.js",[l["Series/Spline/SplineSeries.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{area:n,area:{prototype:w}}=d.seriesTypes,{extend:$,merge:ee}=m;class z extends c{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return z.defaultOptions=ee(c.defaultOptions,n.defaultOptions),$(z.prototype,{getGraphPath:w.getGraphPath,getStackPoints:w.getStackPoints,drawGraph:w.drawGraph}),d.registerSeriesType("areaspline",z),z}),s(l,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),s(l,"Series/Column/ColumnSeries.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Color/Color.js"],l["Series/Column/ColumnSeriesDefaults.js"],l["Core/Globals.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m,n,w,$,ee){const{animObject:z}=c,{parse:Y}=d,{hasTouch:Q,noop:I}=n,{clamp:O,defined:H,extend:A,fireEvent:E,isArray:P,isNumber:G,merge:V,pick:C,objectEach:ne}=ee;class te extends w{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(N){const X=this,M=this.yAxis,L=M.pos,f=X.options,y=this.chart.inverted,b={},S=y?"translateX":"translateY";let j;N?(b.scaleY=.001,N=O(M.toPixels(f.threshold),L,L+M.len),y?b.translateX=N-M.len:b.translateY=N,X.clipBox&&X.setClip(),X.group.attr(b)):(j=Number(X.group.attr(S)),X.group.animate({scaleY:1},A(z(X.options.animation),{step:function(J,W){X.group&&(b[S]=j+W.pos*(L-j),X.group.attr(b))}})))}init(N,X){super.init.apply(this,arguments);const M=this;N=M.chart,N.hasRendered&&N.series.forEach(function(L){L.type===M.type&&(L.isDirty=!0)})}getColumnMetrics(){const N=this;var X=N.options;const M=N.xAxis,L=N.yAxis;var f=M.options.reversedStacks;f=M.reversed&&!f||!M.reversed&&f;const y={};let b,S=0;X.grouping===!1?S=1:N.chart.series.forEach(function(re){const ue=re.yAxis,ve=re.options;let q;re.type!==N.type||!re.visible&&N.chart.options.chart.ignoreHiddenSeries||L.len!==ue.len||L.pos!==ue.pos||(ve.stacking&&ve.stacking!=="group"?(b=re.stackKey,typeof y[b]>"u"&&(y[b]=S++),q=y[b]):ve.grouping!==!1&&(q=S++),re.columnIndex=q)});const j=Math.min(Math.abs(M.transA)*(M.ordinal&&M.ordinal.slope||X.pointRange||M.closestPointRange||M.tickInterval||1),M.len),J=j*X.groupPadding,W=(j-2*J)/(S||1);return X=Math.min(X.maxPointWidth||M.len,C(X.pointWidth,W*(1-2*X.pointPadding))),N.columnMetrics={width:X,offset:(W-X)/2+(J+((N.columnIndex||0)+(f?1:0))*W-j/2)*(f?-1:1),paddedWidth:W,columnCount:S},N.columnMetrics}crispCol(N,X,M,L){var f=this.borderWidth,y=-(f%2?.5:0);return f=f%2?.5:1,this.options.crisp&&(M=Math.round(N+M)+y,N=Math.round(N)+y,M-=N),L=Math.round(X+L)+f,y=.5>=Math.abs(X)&&.5<L,X=Math.round(X)+f,L-=X,y&&L&&(--X,L+=1),{x:N,y:X,width:M,height:L}}adjustForMissingColumns(N,X,M,L){const f=this.options.stacking;if(!M.isNull&&1<L.columnCount){const y=this.yAxis.options.reversedStacks;let b=0,S=y?0:-L.columnCount;ne(this.yAxis.stacking&&this.yAxis.stacking.stacks,j=>{if(typeof M.x=="number"){const J=j[M.x.toString()];J&&(j=J.points[this.index],f?(j&&(b=S),J.hasValidPoints&&(y?S++:S--)):P(j)&&(j=Object.keys(J.points).filter(W=>!W.match(",")&&J.points[W]&&1<J.points[W].length).map(parseFloat).sort((W,re)=>re-W),b=j.indexOf(this.index),S=j.length))}}),N=(M.plotX||0)+((S-1)*L.paddedWidth+X)/2-X-b*L.paddedWidth}return N}translate(){const N=this,X=N.chart,M=N.options;var L=N.dense=2>N.closestPointRange*N.xAxis.transA;L=N.borderWidth=C(M.borderWidth,L?0:1);const f=N.xAxis,y=N.yAxis,b=M.threshold,S=C(M.minPointLength,5),j=N.getColumnMetrics(),J=j.width,W=N.pointXOffset=j.offset,re=N.dataMin,ue=N.dataMax;let ve=N.barW=Math.max(J,1+2*L),q=N.translatedThreshold=y.getThreshold(b);X.inverted&&(q-=.5),M.pointPadding&&(ve=Math.ceil(ve)),w.prototype.translate.apply(N),N.points.forEach(function(se){const pe=C(se.yBottom,q);var xe=999+Math.abs(pe),Pe=se.plotX||0;xe=O(se.plotY,-xe,y.len+xe);let ce=Math.min(xe,pe),ye=Math.max(xe,pe)-ce,_e=J,le=Pe+W,Z=ve;S&&Math.abs(ye)<S&&(ye=S,Pe=!y.reversed&&!se.negative||y.reversed&&se.negative,G(b)&&G(ue)&&se.y===b&&ue<=b&&(y.min||0)<b&&(re!==ue||(y.max||0)<=b)&&(Pe=!Pe),ce=Math.abs(ce-q)>S?pe-S:q-(Pe?S:0)),H(se.options.pointWidth)&&(_e=Z=Math.ceil(se.options.pointWidth),le-=Math.round((_e-J)/2)),M.centerInCategory&&(le=N.adjustForMissingColumns(le,_e,se,j)),se.barX=le,se.pointWidth=_e,se.tooltipPos=X.inverted?[O(y.len+y.pos-X.plotLeft-xe,y.pos-X.plotLeft,y.len+y.pos-X.plotLeft),f.len+f.pos-X.plotTop-le-Z/2,ye]:[f.left-X.plotLeft+le+Z/2,O(xe+y.pos-X.plotTop,y.pos-X.plotTop,y.len+y.pos-X.plotTop),ye],se.shapeType=N.pointClass.prototype.shapeType||"roundedRect",se.shapeArgs=N.crispCol(le,se.isNull?q:ce,Z,se.isNull?0:ye)}),E(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(N,X){const M=this.options;var L=this.pointAttrToOptions||{},f=L.stroke||"borderColor";const y=L["stroke-width"]||"borderWidth";let b,S=N&&N.color||this.color,j=N&&N[f]||M[f]||S;L=N&&N.options.dashStyle||M.dashStyle;let J=N&&N[y]||M[y]||this[y]||0,W=C(N&&N.opacity,M.opacity,1);return N&&this.zones.length&&(b=N.getZone(),S=N.options.color||b&&(b.color||N.nonZonedColor)||this.color,b&&(j=b.borderColor||j,L=b.dashStyle||L,J=b.borderWidth||J)),X&&N&&(N=V(M.states[X],N.options.states&&N.options.states[X]||{}),X=N.brightness,S=N.color||typeof X<"u"&&Y(S).brighten(N.brightness).get()||S,j=N[f]||j,J=N[y]||J,L=N.dashStyle||L,W=C(N.opacity,W)),f={fill:S,stroke:j,"stroke-width":J,opacity:W},L&&(f.dashstyle=L),f}drawPoints(N=this.points){const X=this,M=this.chart,L=X.options,f=M.renderer,y=L.animationLimit||250;let b;N.forEach(function(S){let j=S.graphic,J=!!j,W=j&&M.pointCount<y?"animate":"attr";G(S.plotY)&&S.y!==null?(b=S.shapeArgs,j&&S.hasNewShapeType()&&(j=j.destroy()),X.enabledDataSorting&&(S.startXPos=X.xAxis.reversed?-(b&&b.width||0):X.xAxis.width),j||(S.graphic=j=f[S.shapeType](b).add(S.group||X.group))&&X.enabledDataSorting&&M.hasRendered&&M.pointCount<y&&(j.attr({x:S.startXPos}),J=!0,W="animate"),j&&J&&j[W](V(b)),M.styledMode||j[W](X.pointAttribs(S,S.selected&&"select")).shadow(S.allowShadow!==!1&&L.shadow),j&&(j.addClass(S.getClassName(),!0),j.attr({visibility:S.visible?"inherit":"hidden"}))):j&&(S.graphic=j.destroy())})}drawTracker(N=this.points){const X=this,M=X.chart,L=M.pointer,f=function(b){const S=L.getPointFromEvent(b);typeof S<"u"&&(L.isDirectTouch=!0,S.onMouseOver(b))};let y;N.forEach(function(b){y=P(b.dataLabels)?b.dataLabels:b.dataLabel?[b.dataLabel]:[],b.graphic&&(b.graphic.element.point=b),y.forEach(function(S){S.div?S.div.point=b:S.element.point=b})}),X._hasTracking||(X.trackerGroups.forEach(function(b){X[b]&&(X[b].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(S){L.onTrackerMouseOut(S)}),Q&&X[b].on("touchstart",f),!M.styledMode&&X.options.cursor&&X[b].css({cursor:X.options.cursor}))}),X._hasTracking=!0),E(this,"afterDrawTracker")}remove(){const N=this,X=N.chart;X.hasRendered&&X.series.forEach(function(M){M.type===N.type&&(M.isDirty=!0)}),w.prototype.remove.apply(N,arguments)}}return te.defaultOptions=V(w.defaultOptions,m),A(te.prototype,{cropShoulder:0,directTouch:!0,getSymbol:I,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),$.registerSeriesType("column",te),te}),s(l,"Core/Series/DataLabel.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/FormatUtilities.js"],l["Core/Utilities.js"]],function(c,d,m){const{getDeferredAnimation:n}=c,{format:w}=d,{defined:$,extend:ee,fireEvent:z,isArray:Y,isString:Q,merge:I,objectEach:O,pick:H,splat:A}=m;var E;return function(P){function G(L,f,y,b,S){const j=this.chart;var J=this.isCartesian&&j.inverted;const W=this.enabledDataSorting;var re=L.plotX,ue=L.plotY;const ve=y.rotation;var q=y.align;ue=$(re)&&$(ue)&&j.isInsidePlot(re,Math.round(ue),{inverted:J,paneCoordinates:!0,series:this});let se=H(y.overflow,W?"none":"justify")==="justify";if(J=this.visible&&L.visible!==!1&&$(re)&&(L.series.forceDL||W&&!se||ue||H(y.inside,!!this.options.stacking)&&b&&j.isInsidePlot(re,J?b.x+1:b.y+b.height-1,{inverted:J,paneCoordinates:!0,series:this})),re=L.pos(),J&&re){ve&&f.attr({align:q}),q=f.getBBox(!0);var pe=[0,0],xe=j.renderer.fontMetrics(f).b;if(b=ee({x:re[0],y:Math.round(re[1]),width:0,height:0},b),ee(y,{width:q.width,height:q.height}),ve?(se=!1,pe=j.renderer.rotCorr(xe,ve),xe={x:b.x+(y.x||0)+b.width/2+pe.x,y:b.y+(y.y||0)+{top:0,middle:.5,bottom:1}[y.verticalAlign]*b.height},pe=[q.x-Number(f.attr("x")),q.y-Number(f.attr("y"))],W&&this.xAxis&&!se&&this.setDataLabelStartPos(L,f,S,ue,xe),f[S?"attr":"animate"](xe)):(W&&this.xAxis&&!se&&this.setDataLabelStartPos(L,f,S,ue,b),f.align(y,void 0,b),xe=f.alignAttr),se&&0<=b.height)this.justifyDataLabel(f,y,xe,q,b,S);else if(H(y.crop,!0)){let{x:Pe,y:ce}=xe;Pe+=pe[0],ce+=pe[1],J=j.isInsidePlot(Pe,ce,{paneCoordinates:!0,series:this})&&j.isInsidePlot(Pe+q.width,ce+q.height,{paneCoordinates:!0,series:this})}y.shape&&!ve&&f[S?"attr":"animate"]({anchorX:re[0],anchorY:re[1]})}S&&W&&(f.placed=!1),J||W&&!se?f.show():(f.hide(),f.placed=!1)}function V(L,f){var y=f.filter;return y?(f=y.operator,L=L[y.property],y=y.value,f===">"&&L>y||f==="<"&&L<y||f===">="&&L>=y||f==="<="&&L<=y||f==="=="&&L==y||f==="==="&&L===y):!0}function C(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function ne(L){const f=this.hasRendered||0,y=this.initDataLabelsGroup().attr({opacity:+f});return!f&&y&&(this.visible&&y.show(),this.options.animation?y.animate({opacity:1},L):y.attr({opacity:1})),y}function te(L=this.points){const f=this,y=f.chart,b=f.options,S=y.renderer,{backgroundColor:j,plotBackgroundColor:J}=y.options.chart,W=S.getContrast(Q(J)&&J||Q(j)&&j||"#000000");let re=b.dataLabels,ue,ve;var q=A(re)[0];const se=q.animation;q=q.defer?n(y,se,f):{defer:0,duration:0},re=N(N(y.options.plotOptions&&y.options.plotOptions.series&&y.options.plotOptions.series.dataLabels,y.options.plotOptions&&y.options.plotOptions[f.type]&&y.options.plotOptions[f.type].dataLabels),re),z(this,"drawDataLabels"),(Y(re)||re.enabled||f._hasPointLabels)&&(ve=this.initDataLabels(q),L.forEach(pe=>{ue=A(N(re,pe.dlOptions||pe.options&&pe.options.dataLabels)),ue.forEach((xe,Pe)=>{const ce=xe.enabled&&(!pe.isNull||pe.dataLabelOnNull)&&V(pe,xe),ye=pe.connectors?pe.connectors[Pe]:pe.connector;let _e,le,Z=pe.dataLabels?pe.dataLabels[Pe]:pe.dataLabel,me=!Z;const Me=H(xe.distance,pe.labelDistance);if(ce){var Ee=pe.getLabelConfig(),ze=H(xe[pe.formatPrefix+"Format"],xe.format);if(Ee=$(ze)?w(ze,Ee,y):(xe[pe.formatPrefix+"Formatter"]||xe.formatter).call(Ee,xe),ze=xe.style,_e=xe.rotation,y.styledMode||(ze.color=H(xe.color,ze.color,f.color,"#000000"),ze.color==="contrast"?(pe.contrastColor=S.getContrast(pe.color||f.color),ze.color=!$(Me)&&xe.inside||0>Me||b.stacking?pe.contrastColor:W):delete pe.contrastColor,b.cursor&&(ze.cursor=b.cursor)),le={r:xe.borderRadius||0,rotation:_e,padding:xe.padding,zIndex:1},!y.styledMode){const{backgroundColor:Qe,borderColor:Ke}=xe;le.fill=Qe==="auto"?pe.color:Qe,le.stroke=Ke==="auto"?pe.color:Ke,le["stroke-width"]=xe.borderWidth}O(le,function(Qe,Ke){typeof Qe>"u"&&delete le[Ke]})}!Z||ce&&$(Ee)&&!!Z.div==!!xe.useHTML&&(Z.rotation&&xe.rotation||Z.rotation===xe.rotation)||(me=!0,pe.dataLabel=Z=pe.dataLabel&&pe.dataLabel.destroy(),pe.dataLabels&&(pe.dataLabels.length===1?delete pe.dataLabels:delete pe.dataLabels[Pe]),Pe||delete pe.dataLabel,ye&&(pe.connector=pe.connector.destroy(),pe.connectors&&(pe.connectors.length===1?delete pe.connectors:delete pe.connectors[Pe]))),ce&&$(Ee)?(Z?le.text=Ee:(pe.dataLabels=pe.dataLabels||[],Z=pe.dataLabels[Pe]=_e?S.text(Ee,0,0,xe.useHTML).addClass("highcharts-data-label"):S.label(Ee,0,0,xe.shape,null,null,xe.useHTML,null,"data-label"),Pe||(pe.dataLabel=Z),Z.addClass(" highcharts-data-label-color-"+pe.colorIndex+" "+(xe.className||"")+(xe.useHTML?" highcharts-tracker":""))),Z.options=xe,Z.attr(le),y.styledMode||Z.css(ze).shadow(xe.shadow),(Pe=xe[pe.formatPrefix+"TextPath"]||xe.textPath)&&!xe.useHTML&&(Z.setTextPath(pe.getDataLabelPath&&pe.getDataLabelPath(Z)||pe.graphic,Pe),pe.dataLabelPath&&!Pe.enabled&&(pe.dataLabelPath=pe.dataLabelPath.destroy())),Z.added||Z.add(ve),f.alignDataLabel(pe,Z,xe,null,me)):Z&&Z.hide()})})),z(this,"afterDrawDataLabels")}function F(L,f,y,b,S,j){const J=this.chart,W=f.align,re=f.verticalAlign,ue=L.box?0:L.padding||0;let{x:ve=0,y:q=0}=f,se,pe;return se=(y.x||0)+ue,0>se&&(W==="right"&&0<=ve?(f.align="left",f.inside=!0):ve-=se,pe=!0),se=(y.x||0)+b.width-ue,se>J.plotWidth&&(W==="left"&&0>=ve?(f.align="right",f.inside=!0):ve+=J.plotWidth-se,pe=!0),se=y.y+ue,0>se&&(re==="bottom"&&0<=q?(f.verticalAlign="top",f.inside=!0):q-=se,pe=!0),se=(y.y||0)+b.height-ue,se>J.plotHeight&&(re==="top"&&0>=q?(f.verticalAlign="bottom",f.inside=!0):q+=J.plotHeight-se,pe=!0),pe&&(f.x=ve,f.y=q,L.placed=!j,L.align(f,void 0,S)),pe}function N(L,f){let y=[],b;if(Y(L)&&!Y(f))y=L.map(function(S){return I(S,f)});else if(Y(f)&&!Y(L))y=f.map(function(S){return I(L,S)});else if(Y(L)||Y(f))for(b=Math.max(L.length,f.length);b--;)y[b]=I(L[b],f[b]);else y=I(L,f);return y}function X(L,f,y,b,S){const j=this.chart,J=j.inverted,W=this.xAxis,re=W.reversed,ue=J?f.height/2:f.width/2;L=(L=L.pointWidth)?L/2:0,f.startXPos=J?S.x:re?-ue-L:W.width-ue+L,f.startYPos=J?re?this.yAxis.height-ue+L:-ue-L:S.y,b?f.visibility==="hidden"&&(f.show(),f.attr({opacity:0}).animate({opacity:1})):f.attr({opacity:1}).animate({opacity:0},void 0,f.hide),j.hasRendered&&(y&&f.attr({x:f.startXPos,y:f.startYPos}),f.placed=!0)}const M=[];P.compose=function(L){m.pushUnique(M,L)&&(L=L.prototype,L.initDataLabelsGroup=C,L.initDataLabels=ne,L.alignDataLabel=G,L.drawDataLabels=te,L.justifyDataLabel=F,L.setDataLabelStartPos=X)}}(E||(E={})),E}),s(l,"Series/Column/ColumnDataLabel.js",[l["Core/Series/DataLabel.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{series:n}=d,{merge:w,pick:$}=m;var ee;return function(z){function Y(I,O,H,A,E){let P=this.chart.inverted;var G=I.series;let V=(G.xAxis?G.xAxis.len:this.chart.plotSizeX)||0;G=(G.yAxis?G.yAxis.len:this.chart.plotSizeY)||0;var C=I.dlBox||I.shapeArgs;let ne=$(I.below,I.plotY>$(this.translatedThreshold,G)),te=$(H.inside,!!this.options.stacking);C&&(A=w(C),0>A.y&&(A.height+=A.y,A.y=0),C=A.y+A.height-G,0<C&&C<A.height&&(A.height-=C),P&&(A={x:G-A.y-A.height,y:V-A.x-A.width,width:A.height,height:A.width}),te||(P?(A.x+=ne?0:A.width,A.width=0):(A.y+=ne?A.height:0,A.height=0))),H.align=$(H.align,!P||te?"center":ne?"right":"left"),H.verticalAlign=$(H.verticalAlign,P||te?"middle":ne?"top":"bottom"),n.prototype.alignDataLabel.call(this,I,O,H,A,E),H.inside&&I.contrastColor&&O.css({color:I.contrastColor})}const Q=[];z.compose=function(I){c.compose(n),m.pushUnique(Q,I)&&(I.prototype.alignDataLabel=Y)}}(ee||(ee={})),ee}),s(l,"Series/Bar/BarSeries.js",[l["Series/Column/ColumnSeries.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{extend:n,merge:w}=m;class $ extends c{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return $.defaultOptions=w(c.defaultOptions,{}),n($.prototype,{inverted:!0}),d.registerSeriesType("bar",$),$}),s(l,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),s(l,"Series/Scatter/ScatterSeries.js",[l["Series/Scatter/ScatterSeriesDefaults.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{column:n,line:w}=d.seriesTypes,{addEvent:$,extend:ee,merge:z}=m;class Y extends w{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const I=this,O=this.options.jitter,H=this.points.length;O&&this.points.forEach(function(A,E){["x","y"].forEach(function(P,G){let V="plot"+P.toUpperCase(),C,ne;if(O[P]&&!A.isNull){var te=I[P+"Axis"];ne=O[P]*te.transA,te&&!te.isLog&&(C=Math.max(0,A[V]-ne),te=Math.min(te.len,A[V]+ne),G=1e4*Math.sin(E+G*H),G-=Math.floor(G),A[V]=C+(te-C)*G,P==="x"&&(A.clientX=A.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return Y.defaultOptions=z(w.defaultOptions,c),ee(Y.prototype,{drawTracker:n.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),$(Y,"afterTranslate",function(){this.applyJitter()}),d.registerSeriesType("scatter",Y),Y}),s(l,"Series/CenteredUtilities.js",[l["Core/Globals.js"],l["Core/Series/Series.js"],l["Core/Utilities.js"]],function(c,d,m){const{deg2rad:n}=c,{fireEvent:w,isNumber:$,pick:ee,relativeLength:z}=m;var Y;return function(Q){Q.getCenter=function(){var I=this.options,O=this.chart;const H=2*(I.slicedOffset||0),A=O.plotWidth-2*H,E=O.plotHeight-2*H;var P=I.center;const G=Math.min(A,E),V=I.thickness;var C=I.size;let ne=I.innerSize||0;for(typeof C=="string"&&(C=parseFloat(C)),typeof ne=="string"&&(ne=parseFloat(ne)),I=[ee(P[0],"50%"),ee(P[1],"50%"),ee(C&&0>C?void 0:I.size,"100%"),ee(ne&&0>ne?void 0:I.innerSize||0,"0%")],!O.angular||this instanceof d||(I[3]=0),P=0;4>P;++P)C=I[P],O=2>P||P===2&&/%$/.test(C),I[P]=z(C,[A,E,G,I[2]][P])+(O?H:0);return I[3]>I[2]&&(I[3]=I[2]),$(V)&&2*V<I[2]&&0<V&&(I[3]=I[2]-2*V),w(this,"afterGetCenter",{positions:I}),I},Q.getStartAndEndRadians=function(I,O){return I=$(I)?I:0,O=$(O)&&O>I&&360>O-I?O:I+360,{start:n*(I+-90),end:n*(O+-90)}}}(Y||(Y={})),Y}),s(l,"Series/Pie/PiePoint.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Series/Point.js"],l["Core/Utilities.js"]],function(c,d,m){const{setAnimation:n}=c,{addEvent:w,defined:$,extend:ee,isNumber:z,pick:Y,relativeLength:Q}=m;class I extends d{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const H=this.labelPosition,A=this.series.options.dataLabels,E=this.connectorShapes;let P=A.connectorShape;return E[P]&&(P=E[P]),P.call(this,{x:H.computed.x,y:H.computed.y,alignment:H.alignment},H.connectorPosition,A)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(H){const A=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(A.x,A.y,A.r+H,A.r+H,{innerR:A.r-1,start:A.start,end:A.end,borderRadius:A.borderRadius})}init(){super.init.apply(this,arguments),this.name=Y(this.name,"Slice");const H=A=>{this.slice(A.type==="select")};return w(this,"select",H),w(this,"unselect",H),this}isValid(){return z(this.y)&&0<=this.y}setVisible(H,A){const E=this.series,P=E.chart,G=E.options.ignoreHiddenPoint;A=Y(A,G),H!==this.visible&&(this.visible=this.options.visible=H=typeof H>"u"?!this.visible:H,E.options.data[E.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(V=>{this[V]&&this[V][H?"show":"hide"](H)}),this.legendItem&&P.legend.colorizeItem(this,H),H||this.state!=="hover"||this.setState(""),G&&(E.isDirty=!0),A&&P.redraw())}slice(H,A,E){const P=this.series;n(E,P.chart),Y(A,!0),this.sliced=this.options.sliced=$(H)?H:!this.sliced,P.options.data[P.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return ee(I.prototype,{connectorShapes:{fixedOffset:function(O,H,A){const E=H.breakAt;return H=H.touchingSliceAt,[["M",O.x,O.y],A.softConnector?["C",O.x+(O.alignment==="left"?-5:5),O.y,2*E.x-H.x,2*E.y-H.y,E.x,E.y]:["L",E.x,E.y],["L",H.x,H.y]]},straight:function(O,H){return H=H.touchingSliceAt,[["M",O.x,O.y],["L",H.x,H.y]]},crookedLine:function(O,H,A){const{breakAt:E,touchingSliceAt:P}=H;({series:H}=this);const[G,V,C]=H.center,ne=C/2,te=H.chart.plotWidth,F=H.chart.plotLeft;H=O.alignment==="left";const{x:N,y:X}=O;return A.crookDistance?(O=Q(A.crookDistance,1),O=H?G+ne+(te+F-G-ne)*(1-O):F+(G-ne)*O):O=G+(V-X)*Math.tan((this.angle||0)-Math.PI/2),A=[["M",N,X]],(H?O<=N&&O>=E.x:O>=N&&O<=E.x)&&A.push(["L",O,X]),A.push(["L",E.x,E.y],["L",P.x,P.y]),A}}}),I}),s(l,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),s(l,"Series/Pie/PieSeries.js",[l["Series/CenteredUtilities.js"],l["Series/Column/ColumnSeries.js"],l["Core/Globals.js"],l["Series/Pie/PiePoint.js"],l["Series/Pie/PieSeriesDefaults.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/Symbols.js"],l["Core/Utilities.js"]],function(c,d,m,n,w,$,ee,z,Y){const{getStartAndEndRadians:Q}=c;({noop:m}=m);const{clamp:I,extend:O,fireEvent:H,merge:A,pick:E,relativeLength:P}=Y;class G extends ${constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(C){const ne=this,te=ne.points,F=ne.startAngleRad;C||te.forEach(function(N){const X=N.graphic,M=N.shapeArgs;X&&M&&(X.attr({r:E(N.startR,ne.center&&ne.center[3]/2),start:F,end:F}),X.animate({r:M.r,start:M.start,end:M.end},ne.options.animation))})}drawEmpty(){const C=this.startAngleRad,ne=this.endAngleRad,te=this.options;let F,N;this.total===0&&this.center?(F=this.center[0],N=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(F,N,this.center[1]/2,0,C,ne).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:z.arc(F,N,this.center[2]/2,0,{start:C,end:ne,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":te.borderWidth,fill:te.fillColor||"none",stroke:te.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const C=this.chart.renderer;this.points.forEach(function(ne){ne.graphic&&ne.hasNewShapeType()&&(ne.graphic=ne.graphic.destroy()),ne.graphic||(ne.graphic=C[ne.shapeType](ne.shapeArgs).add(ne.series.group),ne.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(C,ne,te){const F=this.center,N=this.radii?this.radii[te.index]||0:F[2]/2;return C=Math.asin(I((C-F[1])/(N+te.labelDistance),-1,1)),F[0]+(ne?-1:1)*Math.cos(C)*(N+te.labelDistance)+(0<te.labelDistance?(ne?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const C=this,ne=C.chart;let te,F,N,X;this.drawEmpty(),C.group&&!ne.styledMode&&C.group.shadow(C.options.shadow),C.points.forEach(function(M){const L={};F=M.graphic,!M.isNull&&F?(X=M.shapeArgs,te=M.getTranslate(),ne.styledMode||(N=C.pointAttribs(M,M.selected&&"select")),M.delayedRendering?(F.setRadialReference(C.center).attr(X).attr(te),ne.styledMode||F.attr(N).attr({"stroke-linejoin":"round"}),M.delayedRendering=!1):(F.setRadialReference(C.center),ne.styledMode||A(!0,L,N),A(!0,L,X,te),F.animate(L)),F.attr({visibility:M.visible?"inherit":"hidden"}),F.addClass(M.getClassName(),!0)):F&&(M.graphic=F.destroy())})}sortByAngle(C,ne){C.sort(function(te,F){return typeof te.angle<"u"&&(F.angle-te.angle)*ne})}translate(C){H(this,"translate"),this.generatePoints();var ne=this.options;const te=ne.slicedOffset,F=te+(ne.borderWidth||0);var N=Q(ne.startAngle,ne.endAngle);const X=this.startAngleRad=N.start;N=(this.endAngleRad=N.end)-X;const M=this.points,L=ne.dataLabels.distance;ne=ne.ignoreHiddenPoint;const f=M.length;let y,b,S,j=0;for(C||(this.center=C=this.getCenter()),b=0;b<f;b++){S=M[b];var J=X+j*N;!S.isValid()||ne&&!S.visible||(j+=S.percentage/100);var W=X+j*N,re={x:C[0],y:C[1],r:C[2]/2,innerR:C[3]/2,start:Math.round(1e3*J)/1e3,end:Math.round(1e3*W)/1e3};S.shapeType="arc",S.shapeArgs=re,S.labelDistance=E(S.options.dataLabels&&S.options.dataLabels.distance,L),S.labelDistance=P(S.labelDistance,re.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,S.labelDistance),W=(W+J)/2,W>1.5*Math.PI?W-=2*Math.PI:W<-Math.PI/2&&(W+=2*Math.PI),S.slicedTranslation={translateX:Math.round(Math.cos(W)*te),translateY:Math.round(Math.sin(W)*te)},re=Math.cos(W)*C[2]/2,y=Math.sin(W)*C[2]/2,S.tooltipPos=[C[0]+.7*re,C[1]+.7*y],S.half=W<-Math.PI/2||W>Math.PI/2?1:0,S.angle=W,J=Math.min(F,S.labelDistance/5),S.labelPosition={natural:{x:C[0]+re+Math.cos(W)*S.labelDistance,y:C[1]+y+Math.sin(W)*S.labelDistance},computed:{},alignment:0>S.labelDistance?"center":S.half?"right":"left",connectorPosition:{breakAt:{x:C[0]+re+Math.cos(W)*J,y:C[1]+y+Math.sin(W)*J},touchingSliceAt:{x:C[0]+re,y:C[1]+y}}}}H(this,"afterTranslate")}updateTotals(){const C=this.points,ne=C.length,te=this.options.ignoreHiddenPoint;let F,N,X=0;for(F=0;F<ne;F++)N=C[F],!N.isValid()||te&&!N.visible||(X+=N.y);for(this.total=X,F=0;F<ne;F++)N=C[F],N.percentage=0<X&&(N.visible||!te)?N.y/X*100:0,N.total=X}}return G.defaultOptions=A($.defaultOptions,w),O(G.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:d.prototype.drawTracker,getCenter:c.getCenter,getSymbol:m,isCartesian:!1,noSharedTooltip:!0,pointAttribs:d.prototype.pointAttribs,pointClass:n,requireSorting:!1,searchPoint:m,trackerGroups:["group","dataLabelsGroup"]}),ee.registerSeriesType("pie",G),G}),s(l,"Series/Pie/PieDataLabel.js",[l["Core/Series/DataLabel.js"],l["Core/Globals.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m,n,w){const{noop:$}=d,{distribute:ee}=m,{series:z}=n,{arrayMax:Y,clamp:Q,defined:I,merge:O,pick:H,relativeLength:A}=w;var E;return function(P){function G(){const F=this,N=F.data,X=F.chart,M=F.options.dataLabels||{},L=M.connectorPadding,f=X.plotWidth,y=X.plotHeight,b=X.plotLeft,S=Math.round(X.chartWidth/3),j=F.center,J=j[2]/2,W=j[1],re=[[],[]],ue=[0,0,0,0],ve=F.dataLabelPositioners;let q,se,pe,xe,Pe,ce,ye,_e,le,Z,me,Me;F.visible&&(M.enabled||F._hasPointLabels)&&(N.forEach(function(Ee){Ee.dataLabel&&Ee.visible&&Ee.dataLabel.shortened&&(Ee.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Ee.dataLabel.shortened=!1)}),z.prototype.drawDataLabels.apply(F),N.forEach(function(Ee){Ee.dataLabel&&(Ee.visible?(re[Ee.half].push(Ee),Ee.dataLabel._pos=null,!I(M.style.width)&&!I(Ee.options.dataLabels&&Ee.options.dataLabels.style&&Ee.options.dataLabels.style.width)&&Ee.dataLabel.getBBox().width>S&&(Ee.dataLabel.css({width:Math.round(.7*S)+"px"}),Ee.dataLabel.shortened=!0)):(Ee.dataLabel=Ee.dataLabel.destroy(),Ee.dataLabels&&Ee.dataLabels.length===1&&delete Ee.dataLabels))}),re.forEach((Ee,ze)=>{const Qe=Ee.length,Ke=[];let ct,Ie=0;if(Qe){if(F.sortByAngle(Ee,ze-.5),0<F.maxLabelDistance){var Be=Math.max(0,W-J-F.maxLabelDistance);ct=Math.min(W+J+F.maxLabelDistance,X.plotHeight),Ee.forEach(function(Ue){0<Ue.labelDistance&&Ue.dataLabel&&(Ue.top=Math.max(0,W-J-Ue.labelDistance),Ue.bottom=Math.min(W+J+Ue.labelDistance,X.plotHeight),Ie=Ue.dataLabel.getBBox().height||21,Ue.distributeBox={target:Ue.labelPosition.natural.y-Ue.top+Ie/2,size:Ie,rank:Ue.y},Ke.push(Ue.distributeBox))}),Be=ct+Ie-Be,ee(Ke,Be,Be/5)}for(me=0;me<Qe;me++){if(q=Ee[me],ce=q.labelPosition,xe=q.dataLabel,Z=q.visible===!1?"hidden":"inherit",le=Be=ce.natural.y,Ke&&I(q.distributeBox)&&(typeof q.distributeBox.pos>"u"?Z="hidden":(ye=q.distributeBox.size,le=ve.radialDistributionY(q))),delete q.positionIndex,M.justify)_e=ve.justify(q,J,j);else switch(M.alignTo){case"connectors":_e=ve.alignToConnectors(Ee,ze,f,b);break;case"plotEdges":_e=ve.alignToPlotEdges(xe,ze,f,b);break;default:_e=ve.radialDistributionX(F,q,le,Be)}xe._attr={visibility:Z,align:ce.alignment},Me=q.options.dataLabels||{},xe._pos={x:_e+H(Me.x,M.x)+({left:L,right:-L}[ce.alignment]||0),y:le+H(Me.y,M.y)-xe.getBBox().height/2},ce&&(ce.computed.x=_e,ce.computed.y=le),H(M.crop,!0)&&(Pe=xe.getBBox().width,Be=null,_e-Pe<L&&ze===1?(Be=Math.round(Pe-_e+L),ue[3]=Math.max(Be,ue[3])):_e+Pe>f-L&&ze===0&&(Be=Math.round(_e+Pe-f+L),ue[1]=Math.max(Be,ue[1])),0>le-ye/2?ue[0]=Math.max(Math.round(-le+ye/2),ue[0]):le+ye/2>y&&(ue[2]=Math.max(Math.round(le+ye/2-y),ue[2])),xe.sideOverflow=Be)}}}),Y(ue)===0||this.verifyDataLabelOverflow(ue))&&(this.placeDataLabels(),this.points.forEach(function(Ee){if(Me=O(M,Ee.options.dataLabels),se=H(Me.connectorWidth,1)){let ze;pe=Ee.connector,(xe=Ee.dataLabel)&&xe._pos&&Ee.visible&&0<Ee.labelDistance?(Z=xe._attr.visibility,(ze=!pe)&&(Ee.connector=pe=X.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ee.colorIndex+(Ee.className?" "+Ee.className:"")).add(F.dataLabelsGroup),X.styledMode||pe.attr({"stroke-width":se,stroke:Me.connectorColor||Ee.color||"#666666"})),pe[ze?"attr":"animate"]({d:Ee.getConnectorPath()}),pe.attr("visibility",Z)):pe&&(Ee.connector=pe.destroy())}}))}function V(){this.points.forEach(function(F){let N=F.dataLabel,X;N&&F.visible&&((X=N._pos)?(N.sideOverflow&&(N._attr.width=Math.max(N.getBBox().width-N.sideOverflow,0),N.css({width:N._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),N.shortened=!0),N.attr(N._attr),N[N.moved?"animate":"attr"](X),N.moved=!0):N&&N.attr({y:-9999})),delete F.distributeBox},this)}function C(F){let N=this.center,X=this.options,M=X.center,L=X.minSize||80,f,y=X.size!==null;return y||(M[0]!==null?f=Math.max(N[2]-Math.max(F[1],F[3]),L):(f=Math.max(N[2]-F[1]-F[3],L),N[0]+=(F[3]-F[1])/2),M[1]!==null?f=Q(f,L,N[2]-Math.max(F[0],F[2])):(f=Q(f,L,N[2]-F[0]-F[2]),N[1]+=(F[0]-F[2])/2),f<N[2]?(N[2]=f,N[3]=Math.min(X.thickness?Math.max(0,f-2*X.thickness):Math.max(0,A(X.innerSize||0,f)),f),this.translate(N),this.drawDataLabels&&this.drawDataLabels()):y=!0),y}const ne=[],te={radialDistributionY:function(F){return F.top+F.distributeBox.pos},radialDistributionX:function(F,N,X,M){return F.getX(X<N.top+2||X>N.bottom-2?M:X,N.half,N)},justify:function(F,N,X){return X[0]+(F.half?-1:1)*(N+F.labelDistance)},alignToPlotEdges:function(F,N,X,M){return F=F.getBBox().width,N?F+M:X-F-M},alignToConnectors:function(F,N,X,M){let L=0,f;return F.forEach(function(y){f=y.dataLabel.getBBox().width,f>L&&(L=f)}),N?L+M:X-L-M}};P.compose=function(F){c.compose(z),w.pushUnique(ne,F)&&(F=F.prototype,F.dataLabelPositioners=te,F.alignDataLabel=$,F.drawDataLabels=G,F.placeDataLabels=V,F.verifyDataLabelOverflow=C)}}(E||(E={})),E}),s(l,"Extensions/OverlappingDataLabels.js",[l["Core/Chart/Chart.js"],l["Core/Utilities.js"]],function(c,d){function m(Q,I){let O,H=!1;return Q&&(O=Q.newOpacity,Q.oldOpacity!==O&&(Q.alignAttr&&Q.placed?(Q[O?"removeClass":"addClass"]("highcharts-data-label-hidden"),H=!0,Q.alignAttr.opacity=O,Q[Q.isOld?"animate":"attr"](Q.alignAttr,null,function(){I.styledMode||Q.css({pointerEvents:O?"auto":"none"})}),w(I,"afterHideOverlappingLabel")):Q.attr({opacity:O})),Q.isOld=!0),H}const{addEvent:n,fireEvent:w,isArray:$,isNumber:ee,objectEach:z,pick:Y}=d;n(c,"render",function(){let Q=this,I=[];(this.labelCollectors||[]).forEach(function(O){I=I.concat(O())}),(this.yAxis||[]).forEach(function(O){O.stacking&&O.options.stackLabels&&!O.options.stackLabels.allowOverlap&&z(O.stacking.stacks,function(H){z(H,function(A){A.label&&I.push(A.label)})})}),(this.series||[]).forEach(function(O){var H=O.options.dataLabels;O.visible&&(H.enabled!==!1||O._hasPointLabels)&&(H=A=>A.forEach(E=>{E.visible&&($(E.dataLabels)?E.dataLabels:E.dataLabel?[E.dataLabel]:[]).forEach(function(P){const G=P.options;P.labelrank=Y(G.labelrank,E.labelrank,E.shapeArgs&&E.shapeArgs.height),G.allowOverlap?(P.oldOpacity=P.opacity,P.newOpacity=1,m(P,Q)):I.push(P)})}),H(O.nodes||[]),H(O.points))}),this.hideOverlappingLabels(I)}),c.prototype.hideOverlappingLabels=function(Q){let I=this,O=Q.length,H=I.renderer;var A;let E,P,G,V,C=!1;var ne=function(te){let F,N;var X;let M=te.box?0:te.padding||0,L=X=0,f,y;if(te&&(!te.alignAttr||te.placed))return F=te.alignAttr||{x:te.attr("x"),y:te.attr("y")},N=te.parentGroup,te.width||(X=te.getBBox(),te.width=X.width,te.height=X.height,X=H.fontMetrics(te.element).h),f=te.width-2*M,(y={left:"0",center:"0.5",right:"1"}[te.alignValue])?L=+y*f:ee(te.x)&&Math.round(te.x)!==te.translateX&&(L=te.x-te.translateX),{x:F.x+(N.translateX||0)+M-(L||0),y:F.y+(N.translateY||0)+M-X,width:te.width-2*M,height:te.height-2*M}};for(E=0;E<O;E++)(A=Q[E])&&(A.oldOpacity=A.opacity,A.newOpacity=1,A.absoluteBox=ne(A));for(Q.sort(function(te,F){return(F.labelrank||0)-(te.labelrank||0)}),E=0;E<O;E++)for(G=(ne=Q[E])&&ne.absoluteBox,A=E+1;A<O;++A)V=(P=Q[A])&&P.absoluteBox,!G||!V||ne===P||ne.newOpacity===0||P.newOpacity===0||ne.visibility==="hidden"||P.visibility==="hidden"||V.x>=G.x+G.width||V.x+V.width<=G.x||V.y>=G.y+G.height||V.y+V.height<=G.y||((ne.labelrank<P.labelrank?ne:P).newOpacity=0);Q.forEach(function(te){m(te,I)&&(C=!0)}),C&&w(I,"afterHideAllOverlappingLabels")}}),s(l,"Extensions/BorderRadius.js",[l["Core/Defaults.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Utilities.js"]],function(c,d,m,n,w,$){const{defaultOptions:ee}=c;({seriesTypes:c}=m);const{addEvent:z,extend:Y,isObject:Q,merge:I,relativeLength:O}=$,H={radius:0,scope:"stack",where:void 0},A=(E,P)=>(Q(E)||(E={radius:E||0}),I(H,P,E));if(n.symbolCustomAttribs.indexOf("borderRadius")===-1){n.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const E=w.prototype.symbols.arc;w.prototype.symbols.arc=function(G,V,C,ne,te={}){G=E(G,V,C,ne,te);const{innerR:F=0,r:N=C,start:X=0,end:M=0}=te;if(te.open||!te.borderRadius)return G;for(C=M-X,V=Math.sin(C/2),te=Math.max(Math.min(O(te.borderRadius||0,N-F),(N-F)/2,N*V/(1+V)),0),C=Math.min(te,C/Math.PI*2*F),V=G.length-1;V--;){let J,W,re;ne=G;var L=V,f=1<V?C:te,y=ne[L],b=ne[L+1];if(b[0]==="Z"&&(b=ne[0]),y[0]!=="M"&&y[0]!=="L"||b[0]!=="A"?y[0]!=="A"||b[0]!=="M"&&b[0]!=="L"||(re=b,W=y):(re=y,W=b,J=!0),re&&W&&W.params){y=W[1];var S=W[5];b=W.params;const{start:ue,end:ve,cx:q,cy:se}=b;var j=S?y-f:y+f;const pe=j?Math.asin(f/j):0;S=S?pe:-pe,j*=Math.cos(pe),J?(b.start=ue+S,re[1]=q+j*Math.cos(ue),re[2]=se+j*Math.sin(ue),ne.splice(L+1,0,["A",f,f,0,0,1,q+y*Math.cos(b.start),se+y*Math.sin(b.start)])):(b.end=ve-S,W[6]=q+y*Math.cos(b.end),W[7]=se+y*Math.sin(b.end),ne.splice(L+1,0,["A",f,f,0,0,1,q+j*Math.cos(ve),se+j*Math.sin(ve)])),W[4]=Math.abs(b.end-b.start)<Math.PI?0:1}}return G};const P=w.prototype.symbols.roundedRect;w.prototype.symbols.roundedRect=function(G,V,C,ne,te={}){const F=P(G,V,C,ne,te),{r:N=0,brBoxHeight:X=ne,brBoxY:M=V}=te;var L=V-M,f=M+X-(V+ne);te=-.1<L-N?0:N;const y=-.1<f-N?0:N;var b=Math.max(te&&L,0);const S=Math.max(y&&f,0);f=[G+te,V],L=[G+C-te,V];const j=[G+C,V+te],J=[G+C,V+ne-y],W=[G+C-y,V+ne],re=[G+y,V+ne],ue=[G,V+ne-y],ve=[G,V+te];if(b){const q=Math.sqrt(Math.pow(te,2)-Math.pow(te-b,2));f[0]-=q,L[0]+=q,j[1]=ve[1]=V+te-b}return ne<te-b&&(b=Math.sqrt(Math.pow(te,2)-Math.pow(te-b-ne,2)),j[0]=J[0]=G+C-te+b,W[0]=Math.min(j[0],W[0]),re[0]=Math.max(J[0],re[0]),ue[0]=ve[0]=G+te-b,j[1]=ve[1]=V+ne),S&&(b=Math.sqrt(Math.pow(y,2)-Math.pow(y-S,2)),W[0]+=b,re[0]-=b,J[1]=ue[1]=V+ne-y+S),ne<y-S&&(ne=Math.sqrt(Math.pow(y,2)-Math.pow(y-S-ne,2)),j[0]=J[0]=G+C-y+ne,L[0]=Math.min(j[0],L[0]),f[0]=Math.max(J[0],f[0]),ue[0]=ve[0]=G+y-ne,J[1]=ue[1]=V),F.length=0,F.push(["M",...f],["L",...L],["A",te,te,0,0,1,...j],["L",...J],["A",y,y,0,0,1,...W],["L",...re],["A",y,y,0,0,1,...ue],["L",...ve],["A",te,te,0,0,1,...f],["Z"]),F},z(c.pie,"afterTranslate",function(){const G=A(this.options.borderRadius);for(const V of this.points){const C=V.shapeArgs;C&&(C.borderRadius=O(G.radius,(C.r||0)-(C.innerR||0)))}}),z(d,"afterColumnTranslate",function(){var G,V;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:F,yAxis:N}=this,X=F.stacking==="percent";var C=(V=(G=ee.plotOptions)===null||G===void 0?void 0:G[this.type])===null||V===void 0?void 0:V.borderRadius;G=A(F.borderRadius,Q(C)?C:{}),V=N.options.reversed;for(const M of this.points)if({shapeArgs:C}=M,M.shapeType==="roundedRect"&&C){const{width:L=0,height:f=0,y=0}=C;var ne=y,te=f;G.scope==="stack"&&M.stackTotal&&(ne=N.translate(X?100:M.stackTotal,!1,!0,!1,!0),te=N.translate(F.threshold||0,!1,!0,!1,!0),te=this.crispCol(0,Math.min(ne,te),0,Math.abs(ne-te)),ne=te.y,te=te.height);const b=(M.negative?-1:1)*(V?-1:1)===-1;let S=G.where;!S&&this.is("waterfall")&&Math.abs((M.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(S="all"),S||(S="end");const j=Math.min(O(G.radius,L),L/2,S==="all"?f/2:1/0)||0;S==="end"&&(b&&(ne-=j),te+=j),Y(C,{brBoxHeight:te,brBoxY:ne,r:j})}}},{order:9})}return d={optionsToObject:A},d}),s(l,"Core/Responsive.js",[l["Core/Utilities.js"]],function(c){const{extend:d,find:m,isArray:n,isObject:w,merge:$,objectEach:ee,pick:z,splat:Y,uniqueKey:Q}=c;var I;return function(O){function H(G){function V(te,F,N,X){let M;ee(te,function(L,f){if(!X&&-1<C.collectionsWithUpdate.indexOf(f)&&F[f])for(L=Y(L),N[f]=[],M=0;M<Math.max(L.length,F[f].length);M++)F[f][M]&&(L[M]===void 0?N[f][M]=F[f][M]:(N[f][M]={},V(L[M],F[f][M],N[f][M],X+1)));else w(L)?(N[f]=n(L)?[]:{},V(L,F[f]||{},N[f],X+1)):N[f]=typeof F[f]>"u"?null:F[f]})}const C=this,ne={};return V(G,this.options,ne,0),ne}function A(G,V){const C=G.condition;(C.callback||function(){return this.chartWidth<=z(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=z(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=z(C.minWidth,0)&&this.chartHeight>=z(C.minHeight,0)}).call(this)&&V.push(G._id)}function E(G,V){const C=this.options.responsive;var ne=this.currentResponsive;let te=[];!V&&C&&C.rules&&C.rules.forEach(F=>{typeof F._id>"u"&&(F._id=Q()),this.matchResponsiveRule(F,te)},this),V=$(...te.map(F=>m((C||{}).rules||[],N=>N._id===F)).map(F=>F&&F.chartOptions)),V.isResponsiveOptions=!0,te=te.toString()||void 0,te!==(ne&&ne.ruleIds)&&(ne&&this.update(ne.undoOptions,G,!0),te?(ne=this.currentOptions(V),ne.isResponsiveOptions=!0,this.currentResponsive={ruleIds:te,mergedOptions:V,undoOptions:ne},this.update(V,G,!0)):this.currentResponsive=void 0)}const P=[];O.compose=function(G){return c.pushUnique(P,G)&&d(G.prototype,{currentOptions:H,matchResponsiveRule:A,setResponsive:E}),G}}(I||(I={})),I}),s(l,"masters/highcharts.src.js",[l["Core/Globals.js"],l["Core/Utilities.js"],l["Core/Defaults.js"],l["Core/Animation/Fx.js"],l["Core/Animation/AnimationUtilities.js"],l["Core/Renderer/HTML/AST.js"],l["Core/FormatUtilities.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Renderer/HTML/HTMLElement.js"],l["Core/Renderer/HTML/HTMLRenderer.js"],l["Core/Axis/Axis.js"],l["Core/Axis/DateTimeAxis.js"],l["Core/Axis/LogarithmicAxis.js"],l["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],l["Core/Axis/Tick.js"],l["Core/Tooltip.js"],l["Core/Series/Point.js"],l["Core/Pointer.js"],l["Core/Legend/Legend.js"],l["Core/Chart/Chart.js"],l["Core/Axis/Stacking/StackingAxis.js"],l["Core/Axis/Stacking/StackItem.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Series/Column/ColumnSeries.js"],l["Series/Column/ColumnDataLabel.js"],l["Series/Pie/PieSeries.js"],l["Series/Pie/PieDataLabel.js"],l["Core/Series/DataLabel.js"],l["Core/Responsive.js"],l["Core/Color/Color.js"],l["Core/Time.js"]],function(c,d,m,n,w,$,ee,z,Y,Q,I,O,H,A,E,P,G,V,C,ne,te,F,N,X,M,L,f,y,b,S,j,J,W,re){return c.animate=w.animate,c.animObject=w.animObject,c.getDeferredAnimation=w.getDeferredAnimation,c.setAnimation=w.setAnimation,c.stop=w.stop,c.timers=n.timers,c.AST=$,c.Axis=H,c.Chart=F,c.chart=F.chart,c.Fx=n,c.Legend=te,c.PlotLineOrBand=P,c.Point=C,c.Pointer=ne,c.Series=M,c.StackItem=X,c.SVGElement=Y,c.SVGRenderer=Q,c.Tick=G,c.Time=re,c.Tooltip=V,c.Color=W,c.color=W.parse,O.compose(Q),I.compose(Y),ne.compose(F),te.compose(F),c.defaultOptions=m.defaultOptions,c.getOptions=m.getOptions,c.time=m.defaultTime,c.setOptions=m.setOptions,c.dateFormat=ee.dateFormat,c.format=ee.format,c.numberFormat=ee.numberFormat,c.addEvent=d.addEvent,c.arrayMax=d.arrayMax,c.arrayMin=d.arrayMin,c.attr=d.attr,c.clearTimeout=d.clearTimeout,c.correctFloat=d.correctFloat,c.createElement=d.createElement,c.css=d.css,c.defined=d.defined,c.destroyObjectProperties=d.destroyObjectProperties,c.discardElement=d.discardElement,c.distribute=z.distribute,c.erase=d.erase,c.error=d.error,c.extend=d.extend,c.extendClass=d.extendClass,c.find=d.find,c.fireEvent=d.fireEvent,c.getMagnitude=d.getMagnitude,c.getStyle=d.getStyle,c.inArray=d.inArray,c.isArray=d.isArray,c.isClass=d.isClass,c.isDOMElement=d.isDOMElement,c.isFunction=d.isFunction,c.isNumber=d.isNumber,c.isObject=d.isObject,c.isString=d.isString,c.keys=d.keys,c.merge=d.merge,c.normalizeTickInterval=d.normalizeTickInterval,c.objectEach=d.objectEach,c.offset=d.offset,c.pad=d.pad,c.pick=d.pick,c.pInt=d.pInt,c.relativeLength=d.relativeLength,c.removeEvent=d.removeEvent,c.seriesType=L.seriesType,c.splat=d.splat,c.stableSort=d.stableSort,c.syncTimeout=d.syncTimeout,c.timeUnits=d.timeUnits,c.uniqueKey=d.uniqueKey,c.useSerialIds=d.useSerialIds,c.wrap=d.wrap,y.compose(f),j.compose(M),A.compose(H),E.compose(H),S.compose(b),P.compose(H),J.compose(F),N.compose(H,F,M),V.compose(ne),c}),l["masters/highcharts.src.js"]._modules=l,l["masters/highcharts.src.js"]})}(mG)),Lv}const gG=N5(FI);(function(e,t){(function(s,l){e.exports=l($A(),gG)})(window,function(s,l){return m={},c.m=d=[function(n,w){n.exports=s},function(n,w){n.exports=l},function(n,ee,$){$.r(ee),$.d(ee,"Chart",function(){return G}),$.d(ee,"default",function(){return V});var ee=$(0),z=$.n(ee);function Y(C,ne){return function te(F,N,X){function M(L,f){!z.a.isObject(L,!X)||z.a.isClass(L)||z.a.isDOMElement(L)?F[f]=N[f]:F[f]=te(F[f]||z.a.isArray(L)?[]:{},L,X)}return z.a.isArray(N)?N.forEach(M):z.a.objectEach(N,M),F}({},C,ne)}var Q=$(1);function I(C){return function(ne){if(Array.isArray(ne))return O(ne)}(C)||function(ne){if(typeof Symbol<"u"&&ne[Symbol.iterator]!=null||ne["@@iterator"]!=null)return Array.from(ne)}(C)||function(ne,te){if(ne){if(typeof ne=="string")return O(ne,te);var F=Object.prototype.toString.call(ne).slice(8,-1);return(F=F==="Object"&&ne.constructor?ne.constructor.name:F)==="Map"||F==="Set"?Array.from(ne):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?O(ne,te):void 0}}(C)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O(C,ne){(ne==null||ne>C.length)&&(ne=C.length);for(var te=0,F=new Array(ne);te<ne;te++)F[te]=C[te];return F}function H(C,ne){var te,F=Object.keys(C);return Object.getOwnPropertySymbols&&(te=Object.getOwnPropertySymbols(C),ne&&(te=te.filter(function(N){return Object.getOwnPropertyDescriptor(C,N).enumerable})),F.push.apply(F,te)),F}function A(C){for(var ne=1;ne<arguments.length;ne++){var te=arguments[ne]!=null?arguments[ne]:{};ne%2?H(Object(te),!0).forEach(function(F){var N,X;N=C,F=te[X=F],X in N?Object.defineProperty(N,X,{value:F,enumerable:!0,configurable:!0,writable:!0}):N[X]=F}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(te)):H(Object(te)).forEach(function(F){Object.defineProperty(C,F,Object.getOwnPropertyDescriptor(te,F))})}return C}function E(){this.chart&&this.chart.destroy()}var P=function(C,ne){return ne=ne.split(".")[0]<3?{render:function(te){return te("div",{ref:"chart"})},beforeDestroy:E}:{render:function(){return Object(Q.h)("div",{ref:"chart"})},beforeUnmount:E},A({template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(te){var F;(F=this.chart).update.apply(F,[Y(te,this.deepCopyOnUpdate)].concat(I(this.updateArgs)))},deep:!0}},mounted:function(){var te=this.highcharts||C;this.options&&te[this.constructorType]?this.chart=te[this.constructorType](this.$refs.chart,Y(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}},ne)},G=P(z.a,Q.version||$.n(Q).a.version);function V(C){var ne=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};C.component(ne.tagName||"highcharts",P(ne.highcharts||z.a,C.version))}}],c.c=m,c.d=function(n,w,$){c.o(n,w)||Object.defineProperty(n,w,{enumerable:!0,get:$})},c.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,w){if(1&w&&(n=c(n)),8&w||4&w&&typeof n=="object"&&n&&n.__esModule)return n;var $=Object.create(null);if(c.r($),Object.defineProperty($,"default",{enumerable:!0,value:n}),2&w&&typeof n!="string")for(var ee in n)c.d($,ee,function(z){return n[z]}.bind(null,ee));return $},c.n=function(n){var w=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(w,"a",w),w},c.o=function(n,w){return Object.prototype.hasOwnProperty.call(n,w)},c.p="",c(c.s=2);function c(n){if(m[n])return m[n].exports;var w=m[n]={i:n,l:!1,exports:{}};return d[n].call(w.exports,w,w.exports,c),w.l=!0,w.exports}var d,m})})(fG);var _G=$A();const Nc=s4(_G);var qw={},yG={get exports(){return qw},set exports(e){qw=e}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(l,c,d,m){l.hasOwnProperty(c)||(l[c]=m.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:l[c]}})))}t=t?t._modules:{},s(t,"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){function w(A,E,P,G,V){let C=!0;const ne=P[0],te=P[1],F=Math.sqrt(Math.pow(A-ne,2)+Math.pow(E-te,2));return z(G)&&z(V)&&(A=Math.atan2(ee(E-te,8),ee(A-ne,8)),V!==G&&(C=G>V?A>=G&&A<=Math.PI||A<=V&&A>=-Math.PI:A>=G&&A<=ee(V,8))),F<=Math.ceil(P[2]/2)&&C}const{addEvent:$,correctFloat:ee,defined:z,extend:Y,merge:Q,pick:I,splat:O}=n;l.prototype.collectionsWithUpdate.push("pane");class H{constructor(E,P){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(E,P)}init(E,P){this.chart=P,this.background=[],P.pane.push(this),this.setOptions(E)}setOptions(E){this.options=Q(this.defaultOptions,this.chart.angular?{background:{}}:void 0,E)}render(){var E=this.options;let P=this.options.background;var G=this.chart.renderer;if(this.group||(this.group=G.g("pane-group").attr({zIndex:E.zIndex||0}).add()),this.updateCenter(),P)for(P=O(P),E=Math.max(P.length,this.background.length||0),G=0;G<E;G++)P[G]&&this.axis?this.renderBackground(Q(this.defaultBackgroundOptions,P[G]),G):this.background[G]&&(this.background[G]=this.background[G].destroy(),this.background.splice(G,1))}renderBackground(E,P){let G="animate",V={class:"highcharts-pane "+(E.className||"")};this.chart.styledMode||Y(V,{fill:E.backgroundColor,stroke:E.borderColor,"stroke-width":E.borderWidth}),this.background[P]||(this.background[P]=this.chart.renderer.path().add(this.group),G="attr"),this.background[P][G]({d:this.axis.getPlotBandPath(E.from,E.to,E)}).attr(V)}updateCenter(E){this.center=(E||this.axis||{}).center=c.getCenter.call(this)}update(E,P){Q(!0,this.options,E),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(G){G.pane===this&&(G.pane=null,G.update({},P))},this)}}return l.prototype.getHoverPane=function(A){const E=this;let P;return A&&E.pane.forEach(G=>{w(A.chartX-E.plotLeft,A.chartY-E.plotTop,G.center)&&(P=G)}),P},$(l,"afterIsInsidePlot",function(A){this.polar&&(A.options.inverted&&([A.x,A.y]=[A.y,A.x]),A.isInsidePlot=this.pane.some(E=>w(A.x,A.y,E.center,E.axis&&E.axis.normalizedStartAngleRad,E.axis&&E.axis.normalizedEndAngleRad)))}),$(m,"beforeGetHoverData",function(A){const E=this.chart;E.polar?(E.hoverPane=E.getHoverPane(A),A.filter=function(P){return P.visible&&!(!A.shared&&P.directTouch)&&I(P.options.enableMouseTracking,!0)&&(!E.hoverPane||P.xAxis.pane===E.hoverPane)}):E.hoverPane=void 0}),$(m,"afterGetHoverData",function(A){const E=this.chart;A.hoverPoint&&A.hoverPoint.plotX&&A.hoverPoint.plotY&&E.hoverPane&&!w(A.hoverPoint.plotX,A.hoverPoint.plotY,E.hoverPane.center)&&(A.hoverPoint=void 0)}),d.Pane=H,d.Pane}),s(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c){const{area:{prototype:{pointClass:d,pointClass:{prototype:m}}}}=l.seriesTypes,{defined:n,isNumber:w}=c;class $ extends d{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const z=this.state,Y=this.series,Q=Y.chart.polar;n(this.plotHigh)||(this.plotHigh=Y.yAxis.toPixels(this.high,!0)),n(this.plotLow)||(this.plotLow=this.plotY=Y.yAxis.toPixels(this.low,!0)),Y.stateMarkerGraphic&&(Y.lowerStateMarkerGraphic=Y.stateMarkerGraphic,Y.stateMarkerGraphic=Y.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,Q&&w(this.plotHighX)&&(this.plotX=this.plotHighX),m.setState.apply(this,arguments),this.state=z,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],Q&&w(this.plotLowX)&&(this.plotX=this.plotLowX),Y.stateMarkerGraphic&&(Y.upperStateMarkerGraphic=Y.stateMarkerGraphic,Y.stateMarkerGraphic=Y.lowerStateMarkerGraphic,Y.lowerStateMarkerGraphic=void 0),m.setState.apply(this,arguments)}haloPath(){const z=this.series.chart.polar;let Y=[];return this.plotY=this.plotLow,z&&w(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(Y=m.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,z&&w(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(Y=Y.concat(m.haloPath.apply(this,arguments))),Y}isValid(){return w(this.low)&&w(this.high)}}return $}),s(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){({noop:c}=c);const{area:n,area:{prototype:w},column:{prototype:$}}=d.seriesTypes,{addEvent:ee,defined:z,extend:Y,isArray:Q,isNumber:I,pick:O,merge:H}=m;class A extends n{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(P){return[P.low,P.high]}highToXY(P){const G=this.chart,V=this.xAxis.postTranslate(P.rectPlotX||0,this.yAxis.len-(P.plotHigh||0));P.plotHighX=V.x-G.plotLeft,P.plotHigh=V.y-G.plotTop,P.plotLowX=P.plotX}getGraphPath(P){var G=[],V=[];const C=w.getGraphPath;var ne=this.options;const te=this.chart.polar,F=te&&ne.connectEnds!==!1,N=ne.connectNulls;let X,M,L,f=ne.step;for(P=P||this.points,X=P.length;X--;){M=P[X];const y=te?{plotX:M.rectPlotX,plotY:M.yBottom,doCurve:!1}:{plotX:M.plotX,plotY:M.plotY,doCurve:!1};M.isNull||F||N||P[X+1]&&!P[X+1].isNull||V.push(y),L={polarPlotY:M.polarPlotY,rectPlotX:M.rectPlotX,yBottom:M.yBottom,plotX:O(M.plotHighX,M.plotX),plotY:M.plotHigh,isNull:M.isNull},V.push(L),G.push(L),M.isNull||F||N||P[X-1]&&!P[X-1].isNull||V.push(y)}return P=C.call(this,P),f&&(f===!0&&(f="left"),ne.step={left:"right",center:"center",right:"left"}[f]),G=C.call(this,G),V=C.call(this,V),ne.step=f,ne=[].concat(P,G),!this.chart.polar&&V[0]&&V[0][0]==="M"&&(V[0]=["L",V[0][1],V[0][2]]),this.graphPath=ne,this.areaPath=P.concat(V),ne.isArea=!0,ne.xMap=P.xMap,this.areaPath.xMap=P.xMap,ne}drawDataLabels(){const P=this.points,G=P.length,V=[],C=this.options.dataLabels,ne=this.chart.inverted;let te,F,N,X,M;if(C){if(Q(C)?(X=C[0]||{enabled:!1},M=C[1]||{enabled:!1}):(X=Y({},C),X.x=C.xHigh,X.y=C.yHigh,M=Y({},C),M.x=C.xLow,M.y=C.yLow),X.enabled||this._hasPointLabels){for(te=G;te--;)if(F=P[te]){const{plotHigh:L=0,plotLow:f=0}=F;N=X.inside?L<f:L>f,F.y=F.high,F._plotY=F.plotY,F.plotY=L,V[te]=F.dataLabel,F.dataLabel=F.dataLabelUpper,F.below=N,ne?X.align||(X.align=N?"right":"left"):X.verticalAlign||(X.verticalAlign=N?"top":"bottom")}for(this.options.dataLabels=X,w.drawDataLabels&&w.drawDataLabels.apply(this,arguments),te=G;te--;)(F=P[te])&&(F.dataLabelUpper=F.dataLabel,F.dataLabel=V[te],delete F.dataLabels,F.y=F.low,F.plotY=F._plotY)}if(M.enabled||this._hasPointLabels){for(te=G;te--;)if(F=P[te]){const{plotHigh:L=0,plotLow:f=0}=F;N=M.inside?L<f:L>f,F.below=!N,ne?M.align||(M.align=N?"left":"right"):M.verticalAlign||(M.verticalAlign=N?"bottom":"top")}this.options.dataLabels=M,w.drawDataLabels&&w.drawDataLabels.apply(this,arguments)}if(X.enabled)for(te=G;te--;)(F=P[te])&&(F.dataLabels=[F.dataLabelUpper,F.dataLabel].filter(function(L){return!!L}));this.options.dataLabels=C}}alignDataLabel(){$.alignDataLabel.apply(this,arguments)}drawPoints(){const P=this.points.length;let G,V;for(w.drawPoints.apply(this,arguments),G=0;G<P;)V=this.points[G],V.graphics=V.graphics||[],V.origProps={plotY:V.plotY,plotX:V.plotX,isInside:V.isInside,negative:V.negative,zone:V.zone,y:V.y},(V.graphic||V.graphics[0])&&(V.graphics[0]=V.graphic),V.graphic=V.graphics[1],V.plotY=V.plotHigh,z(V.plotHighX)&&(V.plotX=V.plotHighX),V.y=O(V.high,V.origProps.y),V.negative=V.y<(this.options.threshold||0),this.zones.length&&(V.zone=V.getZone()),this.chart.polar||(V.isInside=V.isTopInside=typeof V.plotY<"u"&&0<=V.plotY&&V.plotY<=this.yAxis.len&&0<=V.plotX&&V.plotX<=this.xAxis.len),G++;for(w.drawPoints.apply(this,arguments),G=0;G<P;)V=this.points[G],V.graphics=V.graphics||[],(V.graphic||V.graphics[1])&&(V.graphics[1]=V.graphic),V.graphic=V.graphics[0],V.origProps&&(Y(V,V.origProps),delete V.origProps),G++}}return A.defaultOptions=H(n.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),ee(A,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(E=>{const P=E.high,G=E.plotY;E.isNull?E.plotY=void 0:(E.plotLow=G,E.plotHigh=I(P)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(P):P,!1,!0,void 0,!0):void 0,this.dataModify&&(E.yBottom=E.plotHigh))})},{order:0}),ee(A,"afterTranslate",function(){this.points.forEach(E=>{if(this.chart.polar)this.highToXY(E),E.plotLow=E.plotY,E.tooltipPos=[((E.plotHighX||0)+(E.plotLowX||0))/2,((E.plotHigh||0)+(E.plotLow||0))/2];else{const P=E.pos(!1,E.plotLow),G=E.pos(!1,E.plotHigh);P&&G&&(P[0]=(P[0]+G[0])/2,P[1]=(P[1]+G[1])/2),E.tooltipPos=P}})},{order:3}),Y(A.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:l,pointValKey:"low",setStackedPoints:c}),d.registerSeriesType("arearange",A),A}),s(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d){const{spline:{prototype:m}}=c.seriesTypes,{merge:n,extend:w}=d;class $ extends l{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return $.defaultOptions=n(l.defaultOptions),w($.prototype,{getPointSpline:m.getPointSpline}),c.registerSeriesType("areasplinerange",$),$}),s(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){({noop:c}=c);const{extend:n,merge:w,pick:$}=m;class ee extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const Y=this.yAxis,Q=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(I){Q.forEach(function(O){I[O]!==null&&(I[O+"Plot"]=Y.translate(I[O],0,1,0,1))}),I.plotHigh=I.highPlot})}drawPoints(){let Y=this,Q=Y.options,I=Y.chart,O=I.renderer,H,A,E,P,G,V,C=0,ne,te,F,N,X=Y.doQuartiles!==!1,M,L=Y.options.whiskerLength;Y.points.forEach(function(f){var y=f.graphic;let b=y?"animate":"attr",S=f.shapeArgs,j={},J={},W={},re={},ue=f.color||Y.color;typeof f.plotY<"u"&&(ne=Math.round(S.width),te=Math.floor(S.x),F=te+ne,N=Math.round(ne/2),H=Math.floor(X?f.q1Plot:f.lowPlot),A=Math.floor(X?f.q3Plot:f.lowPlot),E=Math.floor(f.highPlot),P=Math.floor(f.lowPlot),y||(f.graphic=y=O.g("point").add(Y.group),f.stem=O.path().addClass("highcharts-boxplot-stem").add(y),L&&(f.whiskers=O.path().addClass("highcharts-boxplot-whisker").add(y)),X&&(f.box=O.path(void 0).addClass("highcharts-boxplot-box").add(y)),f.medianShape=O.path(void 0).addClass("highcharts-boxplot-median").add(y)),I.styledMode||(J.stroke=f.stemColor||Q.stemColor||ue,J["stroke-width"]=$(f.stemWidth,Q.stemWidth,Q.lineWidth),J.dashstyle=f.stemDashStyle||Q.stemDashStyle||Q.dashStyle,f.stem.attr(J),L&&(W.stroke=f.whiskerColor||Q.whiskerColor||ue,W["stroke-width"]=$(f.whiskerWidth,Q.whiskerWidth,Q.lineWidth),W.dashstyle=f.whiskerDashStyle||Q.whiskerDashStyle||Q.dashStyle,f.whiskers.attr(W)),X&&(j.fill=f.fillColor||Q.fillColor||ue,j.stroke=Q.lineColor||ue,j["stroke-width"]=Q.lineWidth||0,j.dashstyle=f.boxDashStyle||Q.boxDashStyle||Q.dashStyle,f.box.attr(j)),re.stroke=f.medianColor||Q.medianColor||ue,re["stroke-width"]=$(f.medianWidth,Q.medianWidth,Q.lineWidth),re.dashstyle=f.medianDashStyle||Q.medianDashStyle||Q.dashStyle,f.medianShape.attr(re)),V=f.stem.strokeWidth()%2/2,C=te+N+V,y=[["M",C,A],["L",C,E],["M",C,H],["L",C,P]],f.stem[b]({d:y}),X&&(V=f.box.strokeWidth()%2/2,H=Math.floor(H)+V,A=Math.floor(A)+V,te+=V,F+=V,y=[["M",te,A],["L",te,H],["L",F,H],["L",F,A],["L",te,A],["Z"]],f.box[b]({d:y})),L&&(V=f.whiskers.strokeWidth()%2/2,E+=V,P+=V,M=/%$/.test(L)?N*parseFloat(L)/100:L/2,y=[["M",C-M,E],["L",C+M,E],["M",C-M,P],["L",C+M,P]],f.whiskers[b]({d:y})),G=Math.round(f.medianPlot),V=f.medianShape.strokeWidth()%2/2,G+=V,y=[["M",te,G],["L",F,G]],f.medianShape[b]({d:y}))})}toYData(Y){return[Y.low,Y.q1,Y.median,Y.q3,Y.high]}}return ee.defaultOptions=w(l.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),n(ee.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:c,setStackedPoints:c}),d.registerSeriesType("boxplot",ee),ee}),s(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),s(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,c,d,m){const{parse:n}=l,{noop:w}=d,{arrayMax:$,arrayMin:ee,isNumber:z,merge:Y,pick:Q,stableSort:I}=m;class O{constructor(A,E){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=w,this.init(A,E)}init(A,E){this.options=A,this.visible=!0,this.chart=E.chart,this.legend=E}addToLegend(A){A.splice(this.options.legendIndex,0,this)}drawLegendSymbol(A){const E=Q(A.options.itemDistance,20),P=this.legendItem||{},G=this.options;var V=G.ranges,C=G.connectorDistance;if(V&&V.length&&z(V[0].value)){I(V,function(te,F){return F.value-te.value}),this.ranges=V,this.setOptions(),this.render(),A=this.getMaxLabelSize();var ne=this.ranges[0].radius;V=2*ne,C=C-ne+A.width,C=0<C?C:0,this.maxLabel=A,this.movementX=G.labels.align==="left"?C:0,P.labelWidth=V+C+E,P.labelHeight=V+A.height/2}else A.options.bubbleLegend.autoRanges=!0}setOptions(){const A=this.ranges,E=this.options,P=this.chart.series[E.seriesIndex],G=this.legend.baseline,V={zIndex:E.zIndex,"stroke-width":E.borderWidth},C={zIndex:E.zIndex,"stroke-width":E.connectorWidth},ne={align:this.legend.options.rtl||E.labels.align==="left"?"right":"left",zIndex:E.zIndex},te=P.options.marker.fillOpacity,F=this.chart.styledMode;A.forEach(function(N,X){F||(V.stroke=Q(N.borderColor,E.borderColor,P.color),V.fill=Q(N.color,E.color,te!==1?n(P.color).setOpacity(te).get("rgba"):P.color),C.stroke=Q(N.connectorColor,E.connectorColor,P.color)),A[X].radius=this.getRangeRadius(N.value),A[X]=Y(A[X],{center:A[0].radius-A[X].radius+G}),F||Y(!0,A[X],{bubbleAttribs:Y(V),connectorAttribs:Y(C),labelAttribs:ne})},this)}getRangeRadius(A){const E=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,E.ranges[E.ranges.length-1].value,E.ranges[0].value,E.minSize,E.maxSize,A)}render(){const A=this.legendItem||{},E=this.chart.renderer,P=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),A.symbol=E.g("bubble-legend"),A.label=E.g("bubble-legend-item"),A.symbol.translateX=0,A.symbol.translateY=0,A.symbol.add(A.label),A.label.add(A.group);for(const G of this.ranges)G.value>=P&&this.renderRange(G);this.hideOverlappingLabels()}renderRange(A){var E=this.options;const P=E.labels;var G=this.chart;const V=G.series[E.seriesIndex],C=G.renderer,ne=this.symbols;G=ne.labels;const te=A.center,F=Math.abs(A.radius);var N=E.connectorDistance||0;const X=P.align,M=E.connectorWidth,L=this.ranges[0].radius||0,f=te-F-E.borderWidth/2+M/2,y=C.styledMode;N=this.legend.options.rtl||X==="left"?-N:N,X==="center"&&(N=0,E.connectorDistance=0,A.labelAttribs.align="center"),ne.bubbleItems.push(C.circle(L,te+((f%1?1:.5)-(M%2?0:.5)),F).attr(y?{}:A.bubbleAttribs).addClass((y?"highcharts-color-"+V.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(E.className||"")).add(this.legendItem.symbol)),ne.connectors.push(C.path(C.crispLine([["M",L,f],["L",L+N,f]],E.connectorWidth)).attr(y?{}:A.connectorAttribs).addClass((y?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(E.connectorClassName||"")).add(this.legendItem.symbol)),A=C.text(this.formatLabel(A)).attr(y?{}:A.labelAttribs).css(y?{}:P.style).addClass("highcharts-bubble-legend-labels "+(E.labels.className||"")).add(this.legendItem.symbol),E={x:L+N+E.labels.x,y:f+E.labels.y+.4*A.getBBox().height},A.attr(E),G.push(A),A.placed=!0,A.alignAttr=E}getMaxLabelSize(){let A,E;return this.symbols.labels.forEach(function(P){E=P.getBBox(!0),A=A?E.width>A.width?E:A:E}),A||{}}formatLabel(A){var E=this.options;const P=E.labels.formatter;E=E.labels.format;const{numberFormatter:G}=this.chart;return E?c.format(E,A):P?P.call(A):G(A.value,1)}hideOverlappingLabels(){const A=this.chart,E=this.symbols;!this.options.labels.allowOverlap&&E&&(A.hideOverlappingLabels(E.labels),E.labels.forEach(function(P,G){P.newOpacity?P.newOpacity!==P.oldOpacity&&E.connectors[G].show():E.connectors[G].hide()}))}getRanges(){const A=this.legend.bubbleLegend,E=A.options.ranges;let P,G,V=Number.MAX_VALUE,C=-Number.MAX_VALUE;return A.chart.series.forEach(function(ne){ne.isBubble&&!ne.ignoreSeries&&(G=ne.zData.filter(z),G.length&&(V=Q(ne.options.zMin,Math.min(V,Math.max(ee(G),ne.options.displayNegative===!1?ne.options.zThreshold:-Number.MAX_VALUE))),C=Q(ne.options.zMax,Math.max(C,$(G)))))}),P=V===C?[{value:C}]:[{value:V},{value:(V+C)/2},{value:C,autoRanges:!0}],E.length&&E[0].radius&&P.reverse(),P.forEach(function(ne,te){E&&E[te]&&(P[te]=Y(E[te],ne))}),P}predictBubbleSizes(){var A=this.chart,E=A.legend.options,P=E.floating;const G=(E=E.layout==="horizontal")?A.legend.lastLineHeight:0,V=A.plotSizeX,C=A.plotSizeY;var ne=A.series[this.options.seriesIndex],te=ne.getPxExtremes();A=Math.ceil(te.minPxSize),te=Math.ceil(te.maxPxSize);const F=Math.min(C,V);return ne=ne.options.maxSize,P||!/%$/.test(ne)?P=te:(ne=parseFloat(ne),P=(F+G)*ne/100/(ne/100+1),(E&&C-P>=V||!E&&V-P>=C)&&(P=te)),[A,Math.ceil(P)]}updateRanges(A,E){const P=this.legend.options.bubbleLegend;P.minSize=A,P.maxSize=E,P.ranges=this.getRanges()}correctSizes(){const A=this.legend,E=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(E.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,E.maxPxSize),A.render())}}return O}),s(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(l,c,d,m){function n(E,P,G){const V=this.legend;var C=0<=w(this);let ne,te;V&&V.options.enabled&&V.bubbleLegend&&V.options.bubbleLegend.autoRanges&&C?(ne=V.bubbleLegend.options,C=V.bubbleLegend.predictBubbleSizes(),V.bubbleLegend.updateRanges(C[0],C[1]),ne.placed||(V.group.placed=!1,V.allItems.forEach(F=>{te=F.legendItem||{},te.group&&(te.group.translateY=null)})),V.render(),this.getMargins(),this.axes.forEach(function(F){F.visible&&F.render(),ne.placed||(F.setScale(),F.updateNames(),O(F.ticks,function(N){N.isNew=!0,N.isNewLabel=!0}))}),ne.placed=!0,this.getMargins(),E.call(this,P,G),V.bubbleLegend.correctSizes(),Y(V,$(V))):(E.call(this,P,G),V&&V.options.enabled&&V.bubbleLegend&&(V.render(),Y(V,$(V))))}function w(E){E=E.series;let P=0;for(;P<E.length;){if(E[P]&&E[P].isBubble&&E[P].visible&&E[P].zData.length)return P;P++}return-1}function $(E){E=E.allItems;const P=[],G=E.length;let V,C,ne=0;for(C=0;C<G;C++){var te=E[C].legendItem||{};if(V=(E[C+1]||{}).legendItem||{},te.labelHeight&&(E[C].itemHeight=te.labelHeight),E[C]===E[G-1]||te.y!==V.y){for(P.push({height:0}),te=P[P.length-1],ne;ne<=C;ne++)E[ne].itemHeight>te.height&&(te.height=E[ne].itemHeight);te.step=C}}return P}function ee(E){const P=this.bubbleLegend,G=this.options,V=G.bubbleLegend,C=w(this.chart);P&&P.ranges&&P.ranges.length&&(V.ranges.length&&(V.autoRanges=!!V.ranges[0].autoRanges),this.destroyItem(P)),0<=C&&G.enabled&&V.enabled&&(V.seriesIndex=C,this.bubbleLegend=new c(V,this),this.bubbleLegend.addToLegend(E.allItems))}function z(E){if(E.defaultPrevented)return!1;var P=this.chart;E=this.visible;const G=this.chart.legend;G&&G.bubbleLegend&&(this.visible=!E,this.ignoreSeries=E,P=0<=w(P),G.bubbleLegend.visible!==P&&(G.update({bubbleLegend:{enabled:P}}),G.bubbleLegend.visible=P),this.visible=E)}function Y(E,P){const G=E.options.rtl;let V,C,ne,te,F=0;E.allItems.forEach((N,X)=>{te=N.legendItem||{},te.group&&(V=te.group.translateX||0,C=te.y||0,((ne=N.movementX)||G&&N.ranges)&&(ne=G?V-N.options.maxSize/2:V+ne,te.group.attr({translateX:ne})),X>P[F].step&&F++,te.group.attr({translateY:Math.round(C+P[F].height/2)}),te.y=C+P[F].height/2)})}const{setOptions:Q}=d,{addEvent:I,objectEach:O,wrap:H}=m,A=[];return{compose:function(E,P,G){m.pushUnique(A,E)&&(Q({legend:{bubbleLegend:l}}),H(E.prototype,"drawChartBox",n)),m.pushUnique(A,P)&&I(P,"afterGetAllItems",ee),m.pushUnique(A,G)&&I(G,"legendItemClick",z)}}}),s(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d){({seriesTypes:{scatter:{prototype:{pointClass:c}}}}=c),{extend:d}=d;class m extends c{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(w){return l.prototype.haloPath.call(this,w===0?0:(this.marker&&this.marker.radius||0)+w)}}return d(m.prototype,{ttBelow:!1}),m}),s(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w){function $(){const te=this.len,F=this.chart,N=this.isXAxis,X=N?"xData":"yData",M=this.min,L=this.max-M;let f=0,y=te,b=te/L,S;this.series.forEach(j=>{if(j.bubblePadding&&(j.visible||!F.options.chart.ignoreHiddenSeries)){S=this.allowZoomOutside=!0;const J=j[X];if(N&&((j.onPoint||j).getRadii(0,0,j),j.onPoint&&(j.radii=j.onPoint.radii)),0<L){let W=J.length;for(;W--;)if(P(J[W])&&this.dataMin<=J[W]&&J[W]<=this.max){const re=j.radii&&j.radii[W]||0;f=Math.min((J[W]-M)*b-re,f),y=Math.max((J[W]-M)*b+re,y)}}}}),S&&0<L&&!this.logarithmic&&(y-=te,b*=(te+Math.max(0,f)-Math.min(y,te))/te,[["min","userMin",f],["max","userMax",y]].forEach(j=>{typeof V(this.options[j[0]],this[j[1]])>"u"&&(this[j[0]]+=j[2]/b)}))}const{parse:ee}=d;({noop:d}=m);const{series:z,seriesTypes:{column:{prototype:Y},scatter:Q}}=n,{addEvent:I,arrayMax:O,arrayMin:H,clamp:A,extend:E,isNumber:P,merge:G,pick:V}=w,C=[];class ne extends Q{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(F,N,X,M){l.compose(N,X,M),w.pushUnique(C,F)&&(F.prototype.beforePadding=$)}animate(F){!F&&this.points.length<this.options.animationLimit&&this.points.forEach(function(N){const{graphic:X}=N;X&&X.width&&(this.hasRendered||X.attr({x:N.plotX,y:N.plotY,width:1,height:1}),X.animate(this.markerAttribs(N),this.options.animation))},this)}getRadii(){const F=this.zData,N=this.yData,X=[];let M,L,f,y=this.chart.bubbleZExtremes;const{minPxSize:b,maxPxSize:S}=this.getPxExtremes();if(!y){let j=Number.MAX_VALUE,J=-Number.MAX_VALUE,W;this.chart.series.forEach(re=>{re.bubblePadding&&(re.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(re=(re.onPoint||re).getZExtremes())&&(j=Math.min(V(j,re.zMin),re.zMin),J=Math.max(V(J,re.zMax),re.zMax),W=!0)}),W?(y={zMin:j,zMax:J},this.chart.bubbleZExtremes=y):y={zMin:0,zMax:0}}for(L=0,M=F.length;L<M;L++)f=F[L],X.push(this.getRadius(y.zMin,y.zMax,b,S,f,N&&N[L]));this.radii=X}getRadius(F,N,X,M,L,f){const y=this.options,b=y.sizeBy!=="width",S=y.zThreshold;let j=N-F,J=.5;if(f===null||L===null)return null;if(P(L)){if(y.sizeByAbsoluteValue&&(L=Math.abs(L-S),j=Math.max(N-S,Math.abs(F-S)),F=0),L<F)return X/2-1;0<j&&(J=(L-F)/j)}return b&&0<=J&&(J=Math.sqrt(J)),Math.ceil(X+J*(M-X))/2}hasData(){return!!this.processedXData.length}pointAttribs(F,N){const X=this.options.marker.fillOpacity;return F=z.prototype.pointAttribs.call(this,F,N),X!==1&&(F.fill=ee(F.fill).setOpacity(X).get("rgba")),F}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:F,radii:N}=this,{minPxSize:X}=this.getPxExtremes();let M=F.length;for(;M--;){const L=F[M],f=N?N[M]:0;P(f)&&f>=X/2?(L.marker=E(L.marker,{radius:f,width:2*f,height:2*f}),L.dlBox={x:L.plotX-f,y:L.plotY-f,width:2*f,height:2*f}):(L.shapeArgs=L.plotY=L.dlBox=void 0,L.isInside=!1)}}getPxExtremes(){const F=Math.min(this.chart.plotWidth,this.chart.plotHeight);var N=M=>{let L;return typeof M=="string"&&(L=/%$/.test(M),M=parseInt(M,10)),L?F*M/100:M};const X=N(V(this.options.minSize,8));return N=Math.max(N(V(this.options.maxSize,"20%")),X),{minPxSize:X,maxPxSize:N}}getZExtremes(){var F=this.options;const N=(this.zData||[]).filter(P);if(N.length){const X=V(F.zMin,A(H(N),F.displayNegative===!1?F.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(F=V(F.zMax,O(N)),P(X)&&P(F))return{zMin:X,zMax:F}}}}return ne.defaultOptions=G(Q.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:te}=this.series.chart,{z:F}=this.point;return P(F)?te(F,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),E(ne.prototype,{alignDataLabel:Y.alignDataLabel,applyZones:d,bubblePadding:!0,buildKDTree:d,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:c,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),I(ne,"updatedData",te=>{delete te.target.chart.bubbleZExtremes}),I(ne,"remove",te=>{delete te.target.chart.bubbleZExtremes}),n.registerSeriesType("bubble",ne),ne}),s(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c){const{seriesTypes:{column:{prototype:{pointClass:{prototype:d}}},arearange:{prototype:{pointClass:m}}}}=l,{extend:n,isNumber:w}=c;class $ extends m{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return w(this.low)}}return n($.prototype,{setState:d.setState}),$}),s(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){({noop:c}=c);const{seriesTypes:{arearange:n,column:w,column:{prototype:$}}}=d,{addEvent:ee,clamp:z,extend:Y,isNumber:Q,merge:I,pick:O}=m;class H extends n{setOptions(){return I(!0,arguments[0],{stacking:void 0}),n.prototype.setOptions.apply(this,arguments)}translate(){return $.translate.apply(this)}pointAttribs(){return $.pointAttribs.apply(this,arguments)}translate3dPoints(){return $.translate3dPoints.apply(this,arguments)}translate3dShapes(){return $.translate3dShapes.apply(this,arguments)}}return H.defaultOptions=I(w.defaultOptions,n.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),ee(H,"afterColumnTranslate",function(){const A=this.yAxis,E=this.xAxis,P=E.startAngleRad,G=this.chart,V=this.xAxis.isRadial,C=Math.max(G.chartWidth,G.chartHeight)+999;let ne,te,F,N;this.points.forEach(X=>{const M=X.shapeArgs||{},L=this.options.minPointLength,f=X.plotY,y=A.translate(X.high,0,1,0,1);if(Q(y)&&Q(f))if(X.plotHigh=z(y,-C,C),X.plotLow=z(f,-C,C),N=X.plotHigh,ne=O(X.rectPlotY,X.plotY)-X.plotHigh,Math.abs(ne)<L?(te=L-ne,ne+=te,N-=te/2):0>ne&&(ne*=-1,N-=ne),V&&this.polar)F=X.barX+P,X.shapeType="arc",X.shapeArgs=this.polar.arc(N+ne,N,F,F+X.pointWidth);else{M.height=ne,M.y=N;const{x:b=0,width:S=0}=M;X.shapeArgs=I(X.shapeArgs,this.crispCol(b,N,S,ne)),X.tooltipPos=G.inverted?[A.len+A.pos-G.plotLeft-N-ne/2,E.len+E.pos-G.plotTop-b-S/2,ne]:[E.left-G.plotLeft+b+S/2,A.pos-G.plotTop+N+ne/2,ne]}})},{order:5}),Y(H.prototype,{directTouch:!0,pointClass:l,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:$.adjustForMissingColumns,animate:$.animate,crispCol:$.crispCol,drawGraph:c,drawPoints:$.drawPoints,getSymbol:c,drawTracker:$.drawTracker,getColumnMetrics:$.getColumnMetrics}),d.registerSeriesType("columnrange",H),H}),s(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d){const{prototype:m}=l,{clamp:n,merge:w,pick:$}=d;class ee extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let Y=this,Q=Y.chart,I=Y.options;var O=Y.dense=2>Y.closestPointRange*Y.xAxis.transA;O=Y.borderWidth=$(I.borderWidth,O?0:1);let H=Y.yAxis,A=I.threshold,E=Y.translatedThreshold=H.getThreshold(A),P=$(I.minPointLength,5),G=Y.getColumnMetrics(),V=G.width,C=Y.barW=Math.max(V,1+2*O),ne=Y.pointXOffset=G.offset;Q.inverted&&(E-=.5),I.pointPadding&&(C=Math.ceil(C)),m.translate.apply(Y),Y.points.forEach(function(te){var F=$(te.yBottom,E),N=999+Math.abs(F),X=n(te.plotY,-N,H.len+N);N=te.plotX+ne;let M=C/2,L=Math.min(X,F);F=Math.max(X,F)-L;var f;let y,b;te.barX=N,te.pointWidth=V,te.tooltipPos=Q.inverted?[H.len+H.pos-Q.plotLeft-X,Y.xAxis.len-N-M,F]:[N+M,X+H.pos-Q.plotTop,F],X=A+(te.total||te.y),I.stacking==="percent"&&(X=A+(0>te.y)?-100:100),X=H.toPixels(X,!0);var S=(f=Q.plotHeight-X-(Q.plotHeight-E))?M*(L-X)/f:0,j=f?M*(L+F-X)/f:0;f=N-S+M,S=N+S+M;var J=N+j+M;j=N-j+M,y=L-P,b=L+F,0>te.y&&(y=L,b=L+F+P),Q.inverted&&(J=H.width-L,f=X-(H.width-E),S=M*(X-J)/f,j=M*(X-(J-F))/f,f=N+M+S,S=f-2*S,J=N-j+M,j=N+j+M,y=L,b=L+F-P,0>te.y&&(b=L+F+P)),te.shapeType="path",te.shapeArgs={x:f,y,width:S-f,height:F,d:[["M",f,y],["L",S,y],["L",J,b],["L",j,b],["Z"]]}})}}return ee.defaultOptions=w(l.defaultOptions,{}),c.registerSeriesType("columnpyramid",ee),ee}),s(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),s(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){const{arearange:w}=m.seriesTypes,{addEvent:$,merge:ee,extend:z}=n;class Y extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||c.prototype.getColumnMetrics.call(this)}drawDataLabels(){const I=this.pointValKey;w&&(w.prototype.drawDataLabels.call(this),this.data.forEach(function(O){O.y=O[I]}))}toYData(I){return[I.low,I.high]}}return Y.defaultOptions=ee(l.defaultOptions,d),$(Y,"afterTranslate",function(){this.points.forEach(Q=>{Q.plotLow=Q.plotY})},{order:0}),z(Y.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),m.registerSeriesType("errorbar",Y),Y}),s(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(l){({series:{prototype:{pointClass:l}}}=l);class c extends l{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(m){this.state=m}}return c}),s(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){({noop:c}=c);const{series:n,seriesTypes:{column:w}}=d,{clamp:$,isNumber:ee,extend:z,merge:Y,pick:Q,pInt:I,defined:O}=m;class H extends n{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const E=this.yAxis,P=this.options,G=E.center;this.generatePoints(),this.points.forEach(V=>{const C=Y(P.dial,V.dial),ne=I(C.radius)*G[2]/200,te=I(C.baseLength)*ne/100,F=I(C.rearLength)*ne/100,N=C.baseWidth,X=C.topWidth;let M=P.overshoot,L=E.startAngleRad+E.translate(V.y,void 0,void 0,void 0,!0);(ee(M)||P.wrap===!1)&&(M=ee(M)?M/180*Math.PI:0,L=$(L,E.startAngleRad-M,E.endAngleRad+M)),L=180*L/Math.PI,V.shapeType="path",V.shapeArgs={d:C.path||[["M",-F,-N/2],["L",te,-N/2],["L",ne,-X/2],["L",ne,X/2],["L",te,N/2],["L",-F,N/2],["Z"]],translateX:G[0],translateY:G[1],rotation:L},V.plotX=G[0],V.plotY=G[1],O(V.y)&&E.max-E.min&&(V.percentage=(V.y-E.min)/(E.max-E.min)*100)})}drawPoints(){const E=this,P=E.chart,G=E.yAxis.center,V=E.pivot,C=E.options,ne=C.pivot,te=P.renderer;E.points.forEach(F=>{const N=F.graphic,X=F.shapeArgs,M=X.d,L=Y(C.dial,F.dial);N?(N.animate(X),X.d=M):F.graphic=te[F.shapeType](X).addClass("highcharts-dial").add(E.group),P.styledMode||F.graphic[N?"animate":"attr"]({stroke:L.borderColor,"stroke-width":L.borderWidth,fill:L.backgroundColor})}),V?V.animate({translateX:G[0],translateY:G[1]}):ne&&(E.pivot=te.circle(0,0,ne.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(G[0],G[1]).add(E.group),P.styledMode||E.pivot.attr({fill:ne.backgroundColor,stroke:ne.borderColor,"stroke-width":ne.borderWidth}))}animate(E){const P=this;E||P.points.forEach(G=>{const V=G.graphic;V&&(V.attr({rotation:180*P.yAxis.startAngleRad/Math.PI}),V.animate({rotation:G.shapeArgs.rotation},P.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),n.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(E,P){n.prototype.setData.call(this,E,!1),this.processData(),this.generatePoints(),Q(P,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return H.defaultOptions=Y(n.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),z(H.prototype,{angular:!0,directTouch:!0,drawGraph:c,drawTracker:w.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:l,trackerGroups:["group","dataLabelsGroup"]}),d.registerSeriesType("gauge",H),H}),s(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(l){function c(){const n=this;let w,$,ee;n.container&&(w=d(n.container,"mousedown",z=>{const Y=n.hoverPoint;Y&&Y.series&&Y.series.hasDraggableNodes&&Y.series.options.draggable&&(Y.series.onMouseDown(Y,z),$=d(n.container,"mousemove",Q=>Y&&Y.series&&Y.series.onMouseMove(Y,Q)),ee=d(n.container.ownerDocument,"mouseup",Q=>($(),ee(),Y&&Y.series&&Y.series.onMouseUp(Y,Q))))})),d(n,"destroy",function(){w()})}const{addEvent:d}=l,m=[];return{compose:function(n){l.pushUnique(m,n)&&d(n,"load",c)},onMouseDown:function(n,w){w=this.chart.pointer.normalize(w),n.fixedPosition={chartX:w.chartX,chartY:w.chartY,plotX:n.plotX,plotY:n.plotY},n.inDragMode=!0},onMouseMove:function(n,w){if(n.fixedPosition&&n.inDragMode){const z=this.chart;w=z.pointer.normalize(w);var $=n.fixedPosition.chartX-w.chartX,ee=n.fixedPosition.chartY-w.chartY;w=z.graphLayoutsLookup,(5<Math.abs($)||5<Math.abs(ee))&&($=n.fixedPosition.plotX-$,ee=n.fixedPosition.plotY-ee,z.isInsidePlot($,ee)&&(n.plotX=$,n.plotY=ee,n.hasDragged=!0,this.redrawHalo(n),w.forEach(Y=>{Y.restartSimulation()})))}},onMouseUp:function(n,w){n.fixedPosition&&(n.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),n.inDragMode=n.hasDragged=!1,this.options.fixedDraggable||delete n.fixedPosition)},redrawHalo:function(n){n&&this.halo&&this.halo.attr({d:n.haloPath(this.options.states.hover.halo.size)})}}}),s(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(l,c){function d(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(Y=>{Y.updateSimulation()}),this.redraw())}function m(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(Y=>{Y.updateSimulation(!1)}),this.redraw())}function n(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(Y=>{Y.stop()})}function w(){let Y,Q=!1;const I=O=>{O.maxIterations--&&isFinite(O.temperature)&&!O.isStable()&&!O.enableSimulation&&(O.beforeStep&&O.beforeStep(),O.step(),Y=!1,Q=!0)};if(this.graphLayoutsLookup){for($(!1,this),this.graphLayoutsLookup.forEach(O=>O.start());!Y;)Y=!0,this.graphLayoutsLookup.forEach(I);Q&&this.series.forEach(O=>{O&&O.layout&&O.render()})}}const{setAnimation:$}=l,{addEvent:ee}=c,z=[];return{compose:function(Y){c.pushUnique(z,Y)&&(ee(Y,"afterPrint",d),ee(Y,"beforePrint",m),ee(Y,"predraw",n),ee(Y,"render",w))},integrations:{},layouts:{}}}),s(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(l,c,d){({seriesTypes:{bubble:{prototype:{pointClass:d}}}}=d);class m extends d{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),c.prototype.destroy.apply(this,arguments)}firePointEvent(){const w=this.series.options;if(this.isParentNode&&w.parentNode){const $=w.allowPointSelect;w.allowPointSelect=w.parentNode.allowPointSelect,c.prototype.firePointEvent.apply(this,arguments),w.allowPointSelect=$}else c.prototype.firePointEvent.apply(this,arguments)}select(){const w=this.series.chart;this.isParentNode?(w.getSelectedPoints=w.getSelectedParentNodes,c.prototype.select.apply(this,arguments),w.getSelectedPoints=l.prototype.getSelectedPoints):c.prototype.select.apply(this,arguments)}}return m}),s(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(l){const{isNumber:c}=l;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:d}=this.series.chart,{value:m}=this.point;return c(m)?d(m,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),s(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(l,c,d){const m=l.getMass(),n=-d.x*c*this.diffTemperature;c=-d.y*c*this.diffTemperature,l.fromNode.fixedPosition||(l.fromNode.plotX-=n*m.fromNode/l.fromNode.degree,l.fromNode.plotY-=c*m.fromNode/l.fromNode.degree),l.toNode.fixedPosition||(l.toNode.plotX+=n*m.toNode/l.toNode.degree,l.toNode.plotY+=c*m.toNode/l.toNode.degree)},attractiveForceFunction:function(l,c){return(c-l)/l},barycenter:function(){let l=this.options.gravitationalConstant,c=this.barycenter.xFactor,d=this.barycenter.yFactor;c=(c-(this.box.left+this.box.width)/2)*l,d=(d-(this.box.top+this.box.height)/2)*l,this.nodes.forEach(function(m){m.fixedPosition||(m.plotX-=c/m.mass/m.degree,m.plotY-=d/m.mass/m.degree)})},getK:function(l){return Math.pow(l.box.width*l.box.height/l.nodes.length,.5)},integrate:function(l,c){var d=-l.options.friction;let m=l.options.maxSpeed,n=(c.plotX+c.dispX-c.prevX)*d;d*=c.plotY+c.dispY-c.prevY;var w=Math.abs;let $=w(n)/(n||1);w=w(d)/(d||1),n=$*Math.min(m,Math.abs(n)),d=w*Math.min(m,Math.abs(d)),c.prevX=c.plotX+c.dispX,c.prevY=c.plotY+c.dispY,c.plotX+=n,c.plotY+=d,c.temperature=l.vectorLength({x:n,y:d})},repulsive:function(l,c,d){c=c*this.diffTemperature/l.mass/l.degree,l.fixedPosition||(l.plotX+=d.x*c,l.plotY+=d.y*c)},repulsiveForceFunction:function(l,c){return(c-l)/l*(c>l?1:0)}}}),s(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(l,c){return{noop:l}=l,{barycenter:function(){const d=this.options.gravitationalConstant,m=this.box,n=this.nodes;let w,$;for(const ee of n)this.options.splitSeries&&!ee.isParentNode?(w=ee.series.parentNode.plotX,$=ee.series.parentNode.plotY):(w=m.width/2,$=m.height/2),ee.fixedPosition||(ee.plotX-=(ee.plotX-w)*d/(ee.mass*Math.sqrt(n.length)),ee.plotY-=(ee.plotY-$)*d/(ee.mass*Math.sqrt(n.length)))},getK:l,integrate:c.integrate,repulsive:function(d,m,n,w){const $=m*this.diffTemperature/d.mass/d.degree;m=n.x*$,n=n.y*$,d.fixedPosition||(d.plotX+=m,d.plotY+=n),w.fixedPosition||(w.plotX-=m,w.plotY-=n)},repulsiveForceFunction:function(d,m,n,w){return Math.min(d,(n.marker.radius+w.marker.radius)/2)}}}),s(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(l,c,d,m){const n=l.getMass(),w=d.x/m*c;c*=d.y/m,l.fromNode.fixedPosition||(l.fromNode.dispX-=w*n.fromNode/l.fromNode.degree,l.fromNode.dispY-=c*n.fromNode/l.fromNode.degree),l.toNode.fixedPosition||(l.toNode.dispX+=w*n.toNode/l.toNode.degree,l.toNode.dispY+=c*n.toNode/l.toNode.degree)},attractiveForceFunction:function(l,c){return l*l/c},barycenter:function(){const l=this.options.gravitationalConstant,c=this.barycenter.xFactor,d=this.barycenter.yFactor;this.nodes.forEach(function(m){if(!m.fixedPosition){var n=m.getDegree();n*=1+n/2,m.dispX+=(c-m.plotX)*l*n/m.degree,m.dispY+=(d-m.plotY)*l*n/m.degree}})},getK:function(l){return Math.pow(l.box.width*l.box.height/l.nodes.length,.3)},integrate:function(l,c){let d;c.dispX+=c.dispX*l.options.friction,c.dispY+=c.dispY*l.options.friction,d=c.temperature=l.vectorLength({x:c.dispX,y:c.dispY}),d!==0&&(c.plotX+=c.dispX/d*Math.min(Math.abs(c.dispX),l.temperature),c.plotY+=c.dispY/d*Math.min(Math.abs(c.dispY),l.temperature))},repulsive:function(l,c,d,m){l.dispX+=d.x/m*c/l.degree,l.dispY+=d.y/m*c/l.degree},repulsiveForceFunction:function(l,c){return c*c/l}}}),s(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class l{constructor(d){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=d,this.boxSize=Math.min(d.width,d.height)}divideBox(){const d=this.box.width/2,m=this.box.height/2;this.nodes[0]=new l({left:this.box.left,top:this.box.top,width:d,height:m}),this.nodes[1]=new l({left:this.box.left+d,top:this.box.top,width:d,height:m}),this.nodes[2]=new l({left:this.box.left+d,top:this.box.top+m,width:d,height:m}),this.nodes[3]=new l({left:this.box.left,top:this.box.top+m,width:d,height:m})}getBoxPosition(d){const m=d.plotY<this.box.top+this.box.height/2;return d.plotX<this.box.left+this.box.width/2?m?0:3:m?1:2}insert(d,m){this.isInternal?this.nodes[this.getBoxPosition(d)].insert(d,m-1):(this.isEmpty=!1,this.body?m?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,m-1),this.body=!0),this.nodes[this.getBoxPosition(d)].insert(d,m-1)):(m=new l({top:d.plotX||NaN,left:d.plotY||NaN,width:.1,height:.1}),m.body=d,m.isInternal=!1,this.nodes.push(m)):(this.isInternal=!1,this.body=d))}updateMassAndCenter(){let d=0,m=0,n=0;if(this.isInternal){for(const w of this.nodes)w.isEmpty||(d+=w.mass,m+=w.plotX*w.mass,n+=w.plotY*w.mass);m/=d,n/=d}else this.body&&(d=this.body.mass,m=this.body.plotX,n=this.body.plotY);this.mass=d,this.plotX=m,this.plotY=n}}return l}),s(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(l){class c{constructor(m,n,w,$){this.box={left:m,top:n,width:w,height:$},this.maxDepth=25,this.root=new l(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(m){m.updateMassAndCenter()})}insertNodes(m){for(const n of m)this.root.insert(n,this.maxDepth)}visitNodeRecursive(m,n,w){let $;if(m||(m=this.root),m===this.root&&n&&($=n(m)),$!==!1){for(const ee of m.nodes){if(ee.isInternal){if(n&&($=n(ee)),$===!1)continue;this.visitNodeRecursive(ee,n,w)}else ee.body&&n&&n(ee.body);w&&w(ee)}m===this.root&&w&&w(m)}}}return c}),s(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(l,c,d,m,n,w){const{win:$}=c,{clamp:ee,defined:z,isFunction:Y,fireEvent:Q,pick:I}=n;class O{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(A){d.compose(A),d.integrations.euler=l,d.integrations.verlet=w,d.layouts["reingold-fruchterman"]=O}init(A){this.options=A,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=d.integrations[A.integration],this.enableSimulation=A.enableSimulation,this.attractiveForce=I(A.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=I(A.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=A.approximation}updateSimulation(A){this.enableSimulation=I(A,this.options.enableSimulation)}start(){const A=this.series,E=this.options;this.currentStep=0,this.forces=A[0]&&A[0].forces||[],this.chart=A[0]&&A[0].chart,this.initialRendering&&(this.initPositions(),A.forEach(function(P){P.finishedAnimating=!0,P.render()})),this.setK(),this.resetSimulation(E),this.enableSimulation&&this.step()}step(){const A=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const E of this.forces||[])this[E+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const E of A)E.chart&&E.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&$.cancelAnimationFrame(this.simulation),this.simulation=$.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(E=>{Q(E,"afterSimulation")}))}}stop(){this.simulation&&$.cancelAnimationFrame(this.simulation)}setArea(A,E,P,G){this.box={left:A,top:E,width:P,height:G}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(A,E){for(const P of A)E.indexOf(P)===-1&&E.push(P)}removeElementFromCollection(A,E){A=E.indexOf(A),A!==-1&&E.splice(A,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(A){this.maxIterations=I(A,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(A){this.initialRendering=A}createQuadTree(){this.quadTree=new m(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const A=this.options.initialPositions;if(Y(A)){A.call(this);for(const E of this.nodes)z(E.prevX)||(E.prevX=E.plotX),z(E.prevY)||(E.prevY=E.plotY),E.dispX=0,E.dispY=0}else A==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const A=this.box;var E=this.nodes;const P=2*Math.PI/(E.length+1),G=E.filter(function(F){return F.linksTo.length===0}),V={},C=this.options.initialPositionRadius,ne=F=>{for(const N of F.linksFrom||[])V[N.toNode.id]||(V[N.toNode.id]=!0,te.push(N.toNode),ne(N.toNode))};let te=[];for(const F of G)te.push(F),ne(F);if(te.length)for(const F of E)te.indexOf(F)===-1&&te.push(F);else te=E;for(let F=0,N=te.length;F<N;++F)E=te[F],E.plotX=E.prevX=I(E.plotX,A.width/2+C*Math.cos(F*P)),E.plotY=E.prevY=I(E.plotY,A.height/2+C*Math.sin(F*P)),E.dispX=0,E.dispY=0}setRandomPositions(){const A=this.box,E=this.nodes,P=E.length+1,G=C=>(C=C*C/Math.PI,C-=Math.floor(C));let V;for(let C=0,ne=E.length;C<ne;++C)V=E[C],V.plotX=V.prevX=I(V.plotX,A.width*G(C)),V.plotY=V.prevY=I(V.plotY,A.height*G(P+C)),V.dispX=0,V.dispY=0}force(A,...E){this.integration[A].apply(this,E)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let A=0,E=0,P=0;for(const G of this.nodes)E+=G.plotX*G.mass,P+=G.plotY*G.mass,A+=G.mass;return this.barycenter={x:E,y:P,xFactor:E/A,yFactor:P/A}}barnesHutApproximation(A,E){const P=this.getDistXY(A,E),G=this.vectorLength(P);let V,C;return A!==E&&G!==0&&(E.isInternal?E.boxSize/G<this.options.theta&&G!==0?(C=this.repulsiveForce(G,this.k),this.force("repulsive",A,C*E.mass,P,G),V=!1):V=!0:(C=this.repulsiveForce(G,this.k),this.force("repulsive",A,C*E.mass,P,G))),V}repulsiveForces(){if(this.approximation==="barnes-hut")for(const A of this.nodes)this.quadTree.visitNodeRecursive(null,E=>this.barnesHutApproximation(A,E));else{let A,E,P;for(const G of this.nodes)for(const V of this.nodes)G===V||G.fixedPosition||(P=this.getDistXY(G,V),E=this.vectorLength(P),E!==0&&(A=this.repulsiveForce(E,this.k),this.force("repulsive",G,A*V.mass,P,E)))}}attractiveForces(){let A,E,P;for(const G of this.links)G.fromNode&&G.toNode&&(A=this.getDistXY(G.fromNode,G.toNode),E=this.vectorLength(A),E!==0&&(P=this.attractiveForce(E,this.k),this.force("attractive",G,P,A,E)))}applyLimits(){const A=this.nodes;for(const E of A){if(E.fixedPosition)break;this.integration.integrate(this,E),this.applyLimitBox(E,this.box),E.dispX=0,E.dispY=0}}applyLimitBox(A,E){const P=A.radius;A.plotX=ee(A.plotX,E.left+P,E.width-P),A.plotY=ee(A.plotY,E.top+P,E.height-P)}coolDown(A,E,P){return A-E*P}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let A=0;for(const E of this.nodes)A+=E.temperature;return A}vectorLength(A){return Math.sqrt(A.x*A.x+A.y*A.y)}getDistR(A,E){return A=this.getDistXY(A,E),this.vectorLength(A)}getDistXY(A,E){const P=A.plotX-E.plotX;return A=A.plotY-E.plotY,{x:P,y:A,absX:Math.abs(P),absY:Math.abs(A)}}}return O}),s(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(l,c,d,m){function n(){const Q=[];return this.series.forEach(I=>{I.parentNode&&I.parentNode.selected&&Q.push(I.parentNode)}),Q}function w(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:$,pick:ee}=m,z=[];class Y extends d{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(I){d.compose(I),l.integrations.packedbubble=c,l.layouts.packedbubble=Y,m.pushUnique(z,I)&&($(I,"beforeRedraw",w),I.prototype.getSelectedParentNodes=n)}beforeStep(){this.options.marker&&this.series.forEach(I=>{I&&I.calculateParentRadius()})}isStable(){const I=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>I||0>=this.temperature}setCircularPositions(){const I=this.box;var O=this.nodes;const H=2*Math.PI/(O.length+1),A=this.options.initialPositionRadius;let E,P=0;for(const G of O)this.options.splitSeries&&!G.isParentNode?(O=G.series.parentNode.plotX,E=G.series.parentNode.plotY):(O=I.width/2,E=I.height/2),G.plotX=G.prevX=ee(G.plotX,O+A*Math.cos(G.index||P*H)),G.plotY=G.prevY=ee(G.plotY,E+A*Math.sin(G.index||P*H)),G.dispX=0,G.dispY=0,P++}repulsiveForces(){const I=this,O=I.options.bubblePadding;let H,A,E;I.nodes.forEach(P=>{P.degree=P.mass,P.neighbours=0,I.nodes.forEach(G=>{H=0,P===G||P.fixedPosition||!I.options.seriesInteraction&&P.series!==G.series||(E=I.getDistXY(P,G),A=I.vectorLength(E)-(P.marker.radius+G.marker.radius+O),0>A&&(P.degree+=.01,P.neighbours++,H=I.repulsiveForce(-A/Math.sqrt(P.neighbours),I.k,P,G)),I.force("repulsive",P,H*G.mass,E,G,A))})})}applyLimitBox(I,O){let H,A;this.options.splitSeries&&!I.isParentNode&&this.options.parentNodeLimit&&(H=this.getDistXY(I,I.series.parentNode),A=I.series.parentNodeRadius-I.marker.radius-this.vectorLength(H),0>A&&A>-2*I.marker.radius&&(I.plotX-=.01*H.x,I.plotY-=.01*H.y)),super.applyLimitBox(I,O)}}return l.layouts.packedbubble=Y}),s(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(l,c){const{syncTimeout:d}=l,{animObject:m}=c;return{initDataLabels:function(){const n=this.options.dataLabels;if(!this.dataLabelsGroup){const w=this.initDataLabelsGroup();return!this.chart.styledMode&&(n!=null&&n.style)&&w.css(n.style),w.attr({opacity:0}),this.visible&&w.show(),w}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var n;const w=this.options.dataLabels;w!=null&&w.defer&&(!((n=this.options.layoutAlgorithm)===null||n===void 0)&&n.enableSimulation)?d(()=>{this.deferDataLabels=!1},w?m(w.animation).defer:0):this.deferDataLabels=!1}}}),s(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(l,c,d,m,n,w,$,ee,z,Y,Q){const{parse:I}=l;({noop:l}=m);const{series:{prototype:O},seriesTypes:{bubble:H}}=ee,{initDataLabels:A,initDataLabelsDefer:E}=z,{addEvent:P,clamp:G,defined:V,extend:C,fireEvent:ne,isArray:te,isNumber:F,merge:N,pick:X}=Y;class M extends H{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(f,y,b,S){H.compose(f,y,b,S),c.compose(y),$.compose(y)}accumulateAllPoints(){const f=this.chart,y=[];let b;for(const S of f.series)if(S.is("packedbubble")&&S.visible||!f.options.chart.ignoreHiddenSeries){b=S.yData||[];for(let j=0;j<b.length;j++)y.push([null,null,b[j],S.index,j,{id:j,marker:{radius:0}}])}return y}addLayout(){const f=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},y=f.type||"packedbubble",b=this.chart.options.chart;let S=this.chart.graphLayoutsStorage,j=this.chart.graphLayoutsLookup,J;S||(this.chart.graphLayoutsStorage=S={},this.chart.graphLayoutsLookup=j=[]),J=S[y],J||(f.enableSimulation=V(b.forExport)?!b.forExport:f.enableSimulation,S[y]=J=new d.layouts[y],J.init(f),j.splice(J.index,0,J)),this.layout=J,this.points.forEach(W=>{W.mass=2,W.degree=1,W.collisionNmb=1}),J.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),J.addElementsToCollection([this],J.series),J.addElementsToCollection(this.points,J.nodes)}addSeriesLayout(){var f=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const y=f.type||"packedbubble",b=this.chart.graphLayoutsStorage,S=this.chart.graphLayoutsLookup;f=N(f,f.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let j=b[y+"-series"];j||(b[y+"-series"]=j=new d.layouts[y],j.init(f),S.splice(j.index,0,j)),this.parentNodeLayout=j,this.createParentNodes()}calculateParentRadius(){const f=this.seriesBox();this.parentNodeRadius=G(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,f?Math.max(Math.sqrt(Math.pow(f.width,2)+Math.pow(f.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let f=this.options.zMin,y=this.options.zMax,b=1/0,S=-1/0;return f&&y?[f,y]:(this.chart.series.forEach(j=>{j.yData.forEach(J=>{V(J)&&(J>S&&(S=J),J<b&&(b=J))})}),f=X(f,b),y=X(y,S),[f,y])}checkOverlap(f,y){const b=f[0]-y[0],S=f[1]-y[1];return-.001>Math.sqrt(b*b+S*S)-Math.abs(f[2]+y[2])}createParentNodes(){const f=this.pointClass,y=this.chart,b=this.parentNodeLayout,S=this.layout.options;let j,J=this.parentNode,W={radius:this.parentNodeRadius,lineColor:this.color,fillColor:I(this.color).brighten(.4).get()};S.parentNodeOptions&&(W=N(S.parentNodeOptions.marker||{},W)),this.parentNodeMass=0,this.points.forEach(re=>{this.parentNodeMass+=Math.PI*Math.pow(re.marker.radius,2)}),this.calculateParentRadius(),b.nodes.forEach(re=>{re.seriesIndex===this.index&&(j=!0)}),b.setArea(0,0,y.plotWidth,y.plotHeight),j||(J||(J=new f().init(this,{mass:this.parentNodeRadius/2,marker:W,dataLabels:{inside:!1},states:{normal:{marker:W},hover:{marker:W}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(J.plotX=this.parentNode.plotX,J.plotY=this.parentNode.plotY),this.parentNode=J,b.addElementsToCollection([this],b.series),b.addElementsToCollection([J],b.nodes))}deferLayout(){const f=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),f.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(f=>{f.removeElementFromCollection(this,f.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),O.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(O.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",O.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var f=this.chart,y=this.layout.options.parentNodeOptions.marker;y={fill:y.fillColor||I(this.color).brighten(.4).get(),opacity:y.fillOpacity,stroke:y.lineColor||this.color,"stroke-width":X(y.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,f.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var b=N({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},y);this.parentNode.graphic||(this.graph=this.parentNode.graphic=f.renderer.symbol(y.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(b)}}drawTracker(){const f=this.parentNode;let y;super.drawTracker(),f&&(y=te(f.dataLabels)?f.dataLabels:f.dataLabel?[f.dataLabel]:[],f.graphic&&(f.graphic.element.point=f),y.forEach(b=>{b.div?b.div.point=f:b.element.point=f}))}getPointRadius(){const f=this.chart,y=this.options,b=y.useSimulation,S=Math.min(f.plotWidth,f.plotHeight),j={},J=[],W=f.allDataPoints||[],re=W.length;let ue,ve,q,se;["minSize","maxSize"].forEach(xe=>{const Pe=parseInt(y[xe],10),ce=/%$/.test(y[xe]);j[xe]=ce?S*Pe/100:Pe*Math.sqrt(re)}),f.minRadius=ue=j.minSize/Math.sqrt(re),f.maxRadius=ve=j.maxSize/Math.sqrt(re);const pe=b?this.calculateZExtremes():[ue,ve];W.forEach((xe,Pe)=>{q=b?G(xe[2],pe[0],pe[1]):xe[2],se=this.getRadius(pe[0],pe[1],ue,ve,q),se===0&&(se=null),W[Pe][2]=se,J.push(se)}),this.radii=J}init(){return O.init.apply(this,arguments),E.call(this),this.eventsToUnbind.push(P(this,"updatedData",function(){this.chart.series.forEach(f=>{f.type===this.type&&(f.isDirty=!0)},this)})),this}onMouseUp(f){const y=f;if(y.fixedPosition&&!y.removed){const b=this.layout,S=this.parentNodeLayout;let j,J;S&&b.options.dragBetweenSeries&&S.nodes.forEach(W=>{y&&y.marker&&W!==y.series.parentNode&&(j=b.getDistXY(y,W),J=b.vectorLength(j)-W.marker.radius-y.marker.radius,0>J&&(W.series.addPoint(N(y.options,{plotX:y.plotX,plotY:y.plotY}),!1),b.removeElementFromCollection(y,b.nodes),y.remove()))}),c.onMouseUp.apply(this,arguments)}}placeBubbles(f){const y=this.checkOverlap,b=this.positionBubble,S=[];let j=1,J=0,W=0;var re=[];let ue;if(f=f.sort((ve,q)=>q[2]-ve[2]),f.length){if(S.push([[0,0,f[0][2],f[0][3],f[0][4]]]),1<f.length)for(S.push([[0,0-f[1][2]-f[0][2],f[1][2],f[1][3],f[1][4]]]),ue=2;ue<f.length;ue++)f[ue][2]=f[ue][2]||1,re=b(S[j][J],S[j-1][W],f[ue]),y(re,S[j][0])?(S.push([]),W=0,S[j+1].push(b(S[j][J],S[j][0],f[ue])),j++,J=0):1<j&&S[j-1][W+1]&&y(re,S[j-1][W+1])?(W++,S[j].push(b(S[j][J],S[j-1][W],f[ue])),J++):(J++,S[j].push(re));this.chart.stages=S,this.chart.rawPositions=[].concat.apply([],S),this.resizeRadius(),re=this.chart.rawPositions}return re}pointAttribs(f,y){var b=this.options;let S=b.marker;return f&&f.isParentNode&&b.layoutAlgorithm&&b.layoutAlgorithm.parentNodeOptions&&(S=b.layoutAlgorithm.parentNodeOptions.marker),b=S.fillOpacity,f=O.pointAttribs.call(this,f,y),b!==1&&(f["fill-opacity"]=b),f}positionBubble(f,y,b){var S=Math.sqrt,j=Math.asin,J=Math.acos;const W=Math.pow,re=Math.abs;return S=S(W(f[0]-y[0],2)+W(f[1]-y[1],2)),J=J((W(S,2)+W(b[2]+y[2],2)-W(b[2]+f[2],2))/(2*(b[2]+y[2])*S)),j=j(re(f[0]-y[0])/S),f=(0>f[1]-y[1]?0:Math.PI)+J+j*(0>(f[0]-y[0])*(f[1]-y[1])?1:-1),[y[0]+(y[2]+b[2])*Math.sin(f),y[1]-(y[2]+b[2])*Math.cos(f),b[2],b[3],b[4]]}render(){const f=[];O.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(y=>{te(y.dataLabels)&&y.dataLabels.forEach(b=>{f.push(b)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(f))}resizeRadius(){const f=this.chart,y=f.rawPositions;var b=Math.min,S=Math.max;const j=f.plotLeft,J=f.plotTop,W=f.plotHeight,re=f.plotWidth;let ue,ve,q,se,pe;ue=q=Number.POSITIVE_INFINITY,ve=se=Number.NEGATIVE_INFINITY;for(const xe of y)pe=xe[2],ue=b(ue,xe[0]-pe),ve=S(ve,xe[0]+pe),q=b(q,xe[1]-pe),se=S(se,xe[1]+pe);if(S=[ve-ue,se-q],b=b.apply([],[(re-j)/S[0],(W-J)/S[1]]),1e-10<Math.abs(b-1)){for(const xe of y)xe[2]*=b;this.placeBubbles(y)}else f.diffY=W/2+J-q-(se-q)/2,f.diffX=re/2+j-ue-(ve-ue)/2}seriesBox(){const f=this.chart,y=Math.max,b=Math.min,S=[f.plotLeft,f.plotLeft+f.plotWidth,f.plotTop,f.plotTop+f.plotHeight];let j;return this.data.forEach(J=>{V(J.plotX)&&V(J.plotY)&&J.marker.radius&&(j=J.marker.radius,S[0]=b(S[0],J.plotX-j),S[1]=y(S[1],J.plotX+j),S[2]=b(S[2],J.plotY-j),S[3]=y(S[3],J.plotY+j))}),F(S.width/S.height)?S:null}setVisible(){const f=this;O.setVisible.apply(f,arguments),f.parentNodeLayout&&f.graph?f.visible?(f.graph.show(),f.parentNode.dataLabel&&f.parentNode.dataLabel.show()):(f.graph.hide(),f.parentNodeLayout.removeElementFromCollection(f.parentNode,f.parentNodeLayout.nodes),f.parentNode.dataLabel&&f.parentNode.dataLabel.hide()):f.layout&&(f.visible?f.layout.addElementsToCollection(f.points,f.layout.nodes):f.points.forEach(y=>{f.layout.removeElementFromCollection(y,f.layout.nodes)}))}translate(){const f=this.chart,y=this.data,b=this.index,S=this.options.useSimulation;let j;if(this.processedXData=this.xData,this.generatePoints(),V(f.allDataPoints)||(f.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),S)var J=f.allDataPoints;else J=this.placeBubbles(f.allDataPoints),this.options.draggable=!1;for(const W of J)W[3]===b&&(J=y[W[4]],j=X(W[2],void 0),S||(J.plotX=W[0]-f.plotLeft+f.diffX,J.plotY=W[1]-f.plotTop+f.diffY),F(j)&&(J.marker=C(J.marker,{radius:j,width:2*j,height:2*j}),J.radius=j));S&&this.deferLayout(),ne(this,"afterTranslate")}}return M.defaultOptions=N(H.defaultOptions,w),C(M.prototype,{pointClass:n,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:A,alignDataLabel:O.alignDataLabel,indexateNodes:l,onMouseDown:c.onMouseDown,onMouseMove:c.onMouseMove,redrawHalo:c.redrawHalo,searchPoint:l}),ee.registerSeriesType("packedbubble",M),M}),s(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d){({noop:l}=l);const{series:m,seriesTypes:{area:n,line:w,scatter:$}}=c,{extend:ee,merge:z}=d;class Y extends ${constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let I=w.prototype.getGraphPath.call(this),O=I.length+1;for(;O--;)(O===I.length||I[O][0]==="M")&&0<O&&I.splice(O,0,["Z"]);return this.areaPath=I}drawGraph(){this.options.fillColor=this.color,n.prototype.drawGraph.call(this)}}return Y.defaultOptions=z($.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),ee(Y.prototype,{type:"polygon",drawTracker:m.prototype.drawTracker,setStackedPoints:l}),c.registerSeriesType("polygon",Y),Y}),s(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(l,c){const{addEvent:d,objectEach:m}=c;var n;return function(w){function $(){const I=this.waterfall.stacks;I&&(I.changed=!1,delete I.alreadyChanged)}function ee(){const I=this.options.stackLabels;I&&I.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function z(){let I=this.axes,O=this.series,H=O.length;for(;H--;)O[H].options.stacking&&(I.forEach(function(A){A.isXAxis||(A.waterfall.stacks.changed=!0)}),H=0)}function Y(){this.waterfall||(this.waterfall=new Q(this))}class Q{constructor(O){this.axis=O,this.stacks={changed:!1}}renderStackTotals(){const O=this.axis,H=O.waterfall.stacks,A=O.stacking&&O.stacking.stackTotalGroup,E=new l(O,O.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=E,A&&m(H,function(P){m(P,function(G,V){E.total=G.stackTotal,E.x=+V,G.label&&(E.label=G.label),l.prototype.render.call(E,A),G.label=E.label,delete E.label})}),E.total=null}}w.Composition=Q,w.compose=function(I,O){d(I,"init",Y),d(I,"afterBuildStacks",$),d(I,"afterRender",ee),d(O,"beforeRedraw",z)}}(n||(n={})),n}),s(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(l,c,d){const{isNumber:m}=d;class n extends l.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let $=c.prototype.getClassName.call(this);return this.isSum?$+=" highcharts-sum":this.isIntermediateSum&&($+=" highcharts-intermediate-sum"),$}isValid(){return m(this.y)||this.isSum||!!this.isIntermediateSum}}return n}),s(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],function(l,c,d,m,n,w){const{seriesTypes:{column:$,line:ee}}=d,{addEvent:z,arrayMax:Y,arrayMin:Q,correctFloat:I,extend:O,isNumber:H,merge:A,objectEach:E,pick:P}=m;class G extends ${constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){$.prototype.generatePoints.apply(this);for(let C=0,ne=this.points.length;C<ne;C++){const te=this.points[C],F=this.processedYData[C];H(F)&&(te.isIntermediateSum||te.isSum)&&(te.y=I(F))}}processData(C){let ne=this.options,te=this.yData,F=ne.data,N,X=te.length,M=ne.threshold||0,L,f,y,b,S,j;for(j=f=L=y=b=0;j<X;j++)S=te[j],N=F&&F[j]?F[j]:{},S==="sum"||N.isSum?te[j]=I(f):S==="intermediateSum"||N.isIntermediateSum?(te[j]=I(L),L=0):(f+=S,L+=S),y=Math.min(f,y),b=Math.max(f,b);super.processData.call(this,C),ne.stacking||(this.dataMin=y+M,this.dataMax=b)}toYData(C){return C.isSum?"sum":C.isIntermediateSum?"intermediateSum":C.y}updateParallelArrays(C,ne){super.updateParallelArrays.call(this,C,ne),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(C,ne){const te=this.options.upColor;return te&&!C.options.color&&H(C.y)&&(C.color=0<C.y?te:void 0),C=$.prototype.pointAttribs.call(this,C,ne),delete C.dashstyle,C}getGraphPath(){return[["M",0,0]]}getCrispPath(){let C=this.data.filter(j=>H(j.y)),ne=this.yAxis,te=C.length,F=Math.round(this.graph.strokeWidth())%2/2,N=Math.round(this.borderWidth)%2/2,X=this.xAxis.reversed,M=this.yAxis.reversed,L=this.options.stacking,f=[];for(let j=1;j<te;j++){if(!this.options.connectNulls&&!H(this.data[C[j].index-1].y))continue;var y=C[j].box,b=C[j-1];const J=b.y||0,W=C[j-1].box;if(!y||!W)continue;var S=ne.waterfall.stacks[this.stackKey];const re=0<J?-W.height:0;S&&W&&y&&(S=S[j-1],b=L?Math.round(ne.translate(S.connectorThreshold,!1,!0,!1,!0)+(M?re:0))-F:W.y+b.minPointLengthOffset+N-F,f.push(["M",(W.x||0)+(X?0:W.width||0),b],["L",(y.x||0)+(X&&y.width||0),b])),W&&f.length&&(!L&&0>J&&!M||0<J&&M)&&((y=f[f.length-2])&&typeof y[2]=="number"&&(y[2]+=W.height||0),(y=f[f.length-1])&&typeof y[2]=="number"&&(y[2]+=W.height||0))}return f}drawGraph(){ee.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function C(pe,xe,Pe,ce){if(y){if(J)for(Pe;Pe<J;Pe++)y.stackState[Pe]+=ce;else y.stackState[0]=pe,J=y.stackState.length;y.stackState.push(y.stackState[J-1]+xe)}}let ne=this.options,te=this.yAxis.waterfall.stacks,F=ne.threshold||0,N=F,X=N,M=this.stackKey,L=this.xData,f=L.length,y,b,S,j,J,W,re,ue;var ve;let q;if(this.yAxis.stacking.usePercentage=!1,b=S=j=N,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(q=te.changed,(ve=te.alreadyChanged)&&0>ve.indexOf(M)&&(q=!0),te[M]||(te[M]={}),ve=te[M])for(let pe=0;pe<f;pe++){var se=L[pe];(!ve[se]||q)&&(ve[se]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:q&&ve[se]?ve[se].label:void 0}),y=ve[se],ue=this.yData[pe],0<=ue?y.posTotal+=ue:y.negTotal+=ue,re=ne.data[pe],se=y.absolutePos=y.posTotal,W=y.absoluteNeg=y.negTotal,y.stackTotal=se+W,J=y.stackState.length,re&&re.isIntermediateSum?(C(j,S,0,j),j=S,S=F,N^=X,X^=N,N^=X):re&&re.isSum?(C(F,b,J,0),N=F):(C(N,ue,0,b),re&&(b+=ue,S+=ue)),y.stateIndex++,y.threshold=N,N+=y.stackTotal}te.changed=!1,te.alreadyChanged||(te.alreadyChanged=[]),te.alreadyChanged.push(M)}}getExtremes(){let C=this.options.stacking,ne,te;if(C){var F=this.yAxis;return F=F.waterfall.stacks,ne=this.stackedYNeg=[],te=this.stackedYPos=[],C==="overlap"?E(F[this.stackKey],function(N){ne.push(Q(N.stackState)),te.push(Y(N.stackState))}):E(F[this.stackKey],function(N){ne.push(N.negTotal+N.threshold),te.push(N.posTotal+N.threshold)}),{dataMin:Q(ne),dataMax:Y(te)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return G.defaultOptions=A($.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),z(G,"afterColumnTranslate",function(){const{options:V,points:C,yAxis:ne}=this,te=P(V.minPointLength,5),F=te/2,N=V.threshold||0,X=V.stacking,M=ne.waterfall.stacks[this.stackKey];let L=N,f=N;for(let J=0;J<C.length;J++){const W=C[J];var y=this.processedYData[J];const re=O({x:0,y:0,width:0,height:0},W.shapeArgs||{});W.box=re;var b=[0,y],S=W.y||0;if(X){if(M){if(b=M[J],X==="overlap"){var j=b.stackState[b.stateIndex--];j=0<=S?j:j-S,Object.hasOwnProperty.call(b,"absolutePos")&&delete b.absolutePos,Object.hasOwnProperty.call(b,"absoluteNeg")&&delete b.absoluteNeg}else 0<=S?(j=b.threshold+b.posTotal,b.posTotal-=S):(j=b.threshold+b.negTotal,b.negTotal-=S,j-=S),!b.posTotal&&H(b.absolutePos)&&Object.hasOwnProperty.call(b,"absolutePos")&&(b.posTotal=b.absolutePos,delete b.absolutePos),!b.negTotal&&H(b.absoluteNeg)&&Object.hasOwnProperty.call(b,"absoluteNeg")&&(b.negTotal=b.absoluteNeg,delete b.absoluteNeg);W.isSum||(b.connectorThreshold=b.threshold+b.stackTotal),ne.reversed?y=0<=S?j-S:j+S:(y=j,j-=S),W.below=y<=N,re.y=ne.translate(y,!1,!0,!1,!0),re.height=Math.abs(re.y-ne.translate(j,!1,!0,!1,!0)),(j=ne.waterfall.dummyStackItem)&&(j.x=J,j.label=M[J].label,j.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[J],this.stackedYPos[J],void 0,this.xAxis))}}else j=Math.max(f,f+S)+b[0],re.y=ne.translate(j,!1,!0,!1,!0),W.isSum?(re.y=ne.translate(b[1],!1,!0,!1,!0),re.height=Math.min(ne.translate(b[0],!1,!0,!1,!0),ne.len)-re.y,W.below=b[1]<=N):W.isIntermediateSum?(0<=S?(y=b[1]+L,j=L):(y=L,j=b[1]+L),ne.reversed&&(y^=j,j^=y,y^=j),re.y=ne.translate(y,!1,!0,!1,!0),re.height=Math.abs(re.y-Math.min(ne.translate(j,!1,!0,!1,!0),ne.len)),L+=b[1],W.below=y<=N):(re.height=0<y?ne.translate(f,!1,!0,!1,!0)-re.y:ne.translate(f,!1,!0,!1,!0)-ne.translate(f-y,!1,!0,!1,!0),f+=y,W.below=f<N),0>re.height&&(re.y+=re.height,re.height*=-1);W.plotY=re.y=Math.round(re.y||0)-this.borderWidth%2/2,re.height=Math.max(Math.round(re.height||0),.001),W.yBottom=re.y+re.height,re.height<=te&&!W.isNull?(re.height=te,re.y-=F,W.plotY=re.y,W.minPointLengthOffset=0>S?-F:F):(W.isNull&&(re.width=0),W.minPointLengthOffset=0),S=W.plotY+(W.negative?re.height:0),W.below&&(W.plotY+=re.height),W.tooltipPos&&(this.chart.inverted?W.tooltipPos[0]=ne.len-S:W.tooltipPos[1]=S),W.isInside=this.isPointInside(W),A(!0,W.shapeArgs,re)}},{order:2}),O(G.prototype,{getZonesGraphs:ee.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:w}),d.registerSeriesType("waterfall",G),n.compose(l,c),G}),s(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,c,d,m){const{defaultOptions:n}=c,{noop:w}=d,{addEvent:$,correctFloat:ee,defined:z,extend:Y,fireEvent:Q,merge:I,pick:O,relativeLength:H,wrap:A}=m;var E;return function(P){function G(){this.autoConnect=this.isCircular&&typeof O(this.userMax,this.options.max)>"u"&&ee(this.endAngleRad-this.startAngleRad)===ee(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function V(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(le=>this.ticks[le]&&this.ticks[le].label).filter(le=>!!le)}}function C(){return w}function ne(le,Z,me){const Me=this.pane.center;let Ee=le.value,ze;if(this.isCircular){if(z(Ee))le.point&&(Qe=le.point.shapeArgs||{},Qe.start&&(Ee=this.chart.inverted?this.translate(le.point.rectPlotY,!0):le.point.x));else{var Qe=le.chartX||0;ze=le.chartY||0,Ee=this.translate(Math.atan2(ze-me,Qe-Z)-this.startAngleRad,!0)}le=this.getPosition(Ee),Qe=le.x,ze=le.y}else z(Ee)||(Qe=le.chartX,ze=le.chartY),z(Qe)&&z(ze)&&(me=Me[1]+this.chart.plotTop,Ee=this.translate(Math.min(Math.sqrt(Math.pow(Qe-Z,2)+Math.pow(ze-me,2)),Me[2]/2)-Me[3]/2,!0));return[Ee,Qe||0,ze||0]}function te(le,Z,me){le=this.pane.center;const Me=this.chart,Ee=this.left||0,ze=this.top||0;let Qe=O(Z,le[2]/2-this.offset);return typeof me>"u"&&(me=this.horiz?0:this.center&&-this.center[3]/2),me&&(Qe+=me),this.isCircular||typeof Z<"u"?(Z=this.chart.renderer.symbols.arc(Ee+le[0],ze+le[1],Qe,Qe,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),Z.xBounds=[Ee+le[0]],Z.yBounds=[ze+le[1]-Qe]):(Z=this.postTranslate(this.angleRad,Qe),Z=[["M",this.center[0]+Me.plotLeft,this.center[1]+Me.plotTop],["L",Z.x,Z.y]]),Z}function F(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function N(le,Z,me){const Me=this.chart;var Ee=Vt=>{if(typeof Vt=="string"){let yi=parseInt(Vt,10);return Ue.test(Vt)&&(yi=yi*Ke/100),yi}return Vt};const ze=this.center;var Qe=this.startAngleRad;const Ke=ze[2]/2;var ct=Math.min(this.offset,0),Ie=this.left||0;const Be=this.top||0,Ue=/%$/;var We=this.isCircular;let st,wt=O(Ee(me.outerRadius),Ke),Ut=Ee(me.innerRadius);return Ee=O(Ee(me.thickness),10),this.options.gridLineInterpolation==="polygon"?ct=this.getPlotLinePath({value:le}).concat(this.getPlotLinePath({value:Z,reverse:!0})):(le=Math.max(le,this.min),Z=Math.min(Z,this.max),le=this.translate(le),Z=this.translate(Z),We||(wt=le||0,Ut=Z||0),me.shape!=="circle"&&We?(me=Qe+(le||0),Qe+=Z||0):(me=-Math.PI/2,Qe=1.5*Math.PI,st=!0),wt-=ct,ct=Me.renderer.symbols.arc(Ie+ze[0],Be+ze[1],wt,wt,{start:Math.min(me,Qe),end:Math.max(me,Qe),innerR:O(Ut,wt-(Ee-ct)),open:st}),We&&(We=(Qe+me)/2,Ie=Ie+ze[0]+ze[2]/2*Math.cos(We),ct.xBounds=We>-Math.PI/2&&We<Math.PI/2?[Ie,Me.plotWidth]:[0,Ie],ct.yBounds=[Be+ze[1]+ze[2]/2*Math.sin(We)],ct.yBounds[0]+=We>-Math.PI&&0>We||We>Math.PI?-10:10)),ct}function X(le){var Z=this.pane.center,me=this.chart;const Me=me.inverted;var Ee=le.reverse,ze=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const Qe=ze.innerRadius||"0%",Ke=ze.outerRadius||"100%";var ct=Z[0]+me.plotLeft,Ie=Z[1]+me.plotTop;const Be=this.height,Ue=le.isCrosshair;ze=Z[3]/2;var We=le.value;let st;var wt=this.getPosition(We);let Ut=wt.x;if(wt=wt.y,Ue&&(wt=this.getCrosshairPosition(le,ct,Ie),We=wt[0],Ut=wt[1],wt=wt[2]),this.isCircular)We=Math.sqrt(Math.pow(Ut-ct,2)+Math.pow(wt-Ie,2)),Ee=typeof Qe=="string"?H(Qe,1):Qe/We,me=typeof Ke=="string"?H(Ke,1):Ke/We,Z&&ze&&(ze/=We,Ee<ze&&(Ee=ze),me<ze&&(me=ze)),Z=[["M",ct+Ee*(Ut-ct),Ie-Ee*(Ie-wt)],["L",Ut-(1-me)*(Ut-ct),wt+(1-me)*(Ie-wt)]];else if((We=this.translate(We))&&(0>We||We>Be)&&(We=0),this.options.gridLineInterpolation==="circle")Z=this.getLinePath(0,We,ze);else if(Z=[],me[Me?"yAxis":"xAxis"].forEach(Vt=>{Vt.pane===this.pane&&(st=Vt)}),st)for(ct=st.tickPositions,st.autoConnect&&(ct=ct.concat([ct[0]])),Ee&&(ct=ct.slice().reverse()),We&&(We+=ze),Ie=0;Ie<ct.length;Ie++)ze=st.getPosition(ct[Ie],We),Z.push(Ie?["L",ze.x,ze.y]:["M",ze.x,ze.y]);return Z}function M(le,Z){return le=this.translate(le),this.postTranslate(this.isCircular?le:this.angleRad,O(this.isCircular?Z:0>le?0:le,this.center[2]/2)-this.offset)}function L(){const le=this.center,Z=this.chart,me=this.options.title;return{x:Z.plotLeft+le[0]+(me.x||0),y:Z.plotTop+le[1]-{high:.5,middle:.25,low:0}[me.align]*le[2]+(me.y||0)}}function f(le){le.beforeSetTickPositions=G,le.createLabelCollector=V,le.getCrosshairPosition=ne,le.getLinePath=te,le.getOffset=F,le.getPlotBandPath=N,le.getPlotLinePath=X,le.getPosition=M,le.getTitlePosition=L,le.postTranslate=ue,le.setAxisSize=q,le.setAxisTranslation=se,le.setOptions=pe}function y(){var le=this.chart,Z=this.options,me=this.pane,Me=me&&me.options;le.angular&&this.isXAxis||!me||!le.angular&&!le.polar||(le=2*Math.PI,me=(O(Me.startAngle,0)-90)*Math.PI/180,Me=(O(Me.endAngle,O(Me.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(Z.angle||0)*Math.PI/180,this.startAngleRad=me,this.endAngleRad=Me,this.offset=Z.offset||0,Z=(me%le+le)%le,Me=(Me%le+le)%le,Z>Math.PI&&(Z-=le),Me>Math.PI&&(Me-=le),this.normalizedStartAngleRad=Z,this.normalizedEndAngleRad=Me)}function b(le){this.isRadial&&(le.align=void 0,le.preventDefault())}function S(){if(this.chart&&this.chart.labelCollectors){const le=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=le&&this.chart.labelCollectors.splice(le,1)}}function j(le){const Z=this.chart,me=Z.inverted,Me=Z.angular,Ee=Z.polar,ze=this.isXAxis,Qe=this.coll,Ke=Me&&ze;le=le.userOptions.pane||0,le=this.pane=Z.pane&&Z.pane[le];let ct;Qe==="colorAxis"?this.isRadial=!1:(Me?(Ke?(this.isHidden=!0,this.createLabelCollector=C,this.getOffset=w,this.render=this.redraw=ve,this.setTitle=this.setCategories=this.setScale=w):f(this),(ct=!ze)&&(this.defaultPolarOptions=ye)):Ee&&(f(this),this.defaultPolarOptions=(ct=this.horiz)?ce:I(Qe==="xAxis"?l.defaultXAxisOptions:l.defaultYAxisOptions,_e),me&&Qe==="yAxis"&&(this.defaultPolarOptions.stackLabels=l.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Me||Ee?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&Z.labelCollectors.push(this.labelCollector)):this.isRadial=!1,le&&ct&&(le.axis=this),this.isCircular=ct)}function J(){this.isRadial&&this.beforeSetTickPositions()}function W(le){const Z=this.label;if(Z){var me=this.axis,Me=Z.getBBox(),Ee=me.options.labels,ze=(me.translate(this.pos)+me.startAngleRad+Math.PI/2)/Math.PI*180%360,Qe=Math.round(ze),Ke=z(Ee.y)?0:.3*-Me.height,ct=Ee.y,Ie=20,Be=Ee.align,Ue="end",We=0>Qe?Qe+360:Qe,st=We,wt=0,Ut=0;if(me.isRadial){var Vt=me.getPosition(this.pos,me.center[2]/2+H(O(Ee.distance,-25),me.center[2]/2,-me.center[2]/2));Ee.rotation==="auto"?Z.attr({rotation:ze}):z(ct)||(ct=me.chart.renderer.fontMetrics(Z).b-Me.height/2),z(Be)||(me.isCircular?(Me.width>me.len*me.tickInterval/(me.max-me.min)&&(Ie=0),Be=ze>Ie&&ze<180-Ie?"left":ze>180+Ie&&ze<360-Ie?"right":"center"):Be="center",Z.attr({align:Be})),Be==="auto"&&me.tickPositions.length===2&&me.isCircular&&(90<We&&180>We?We=180-We:270<We&&360>=We&&(We=540-We),180<st&&360>=st&&(st=360-st),(me.pane.options.startAngle===Qe||me.pane.options.startAngle===Qe+360||me.pane.options.startAngle===Qe-360)&&(Ue="start"),Be=-90<=Qe&&90>=Qe||-360<=Qe&&-270>=Qe||270<=Qe&&360>=Qe?Ue==="start"?"right":"left":Ue==="start"?"left":"right",70<st&&110>st&&(Be="center"),15>We||180<=We&&195>We?wt=.3*Me.height:15<=We&&35>=We?wt=Ue==="start"?0:.75*Me.height:195<=We&&215>=We?wt=Ue==="start"?.75*Me.height:0:35<We&&90>=We?wt=Ue==="start"?.25*-Me.height:Me.height:215<We&&270>=We&&(wt=Ue==="start"?Me.height:.25*-Me.height),15>st?Ut=Ue==="start"?.15*-Me.height:.15*Me.height:165<st&&180>=st&&(Ut=Ue==="start"?.15*Me.height:.15*-Me.height),Z.attr({align:Be}),Z.translate(Ut,wt+Ke)),le.pos.x=Vt.x+(Ee.x||0),le.pos.y=Vt.y+(ct||0)}}}function re(le){this.axis.getPosition&&Y(le.pos,this.axis.getPosition(this.pos))}function ue(le,Z){const me=this.chart,Me=this.center;return le=this.startAngleRad+le,{x:me.plotLeft+Me[0]+Math.cos(le)*Z,y:me.plotTop+Me[1]+Math.sin(le)*Z}}function ve(){this.isDirty=!1}function q(){let le,Z;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),le=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(Z=this.postTranslate(this.angleRad,le[3]/2),le[0]=Z.x-this.chart.plotLeft,le[1]=Z.y-this.chart.plotTop),this.len=this.width=this.height=(le[2]-le[3])*O(this.sector,1)/2)}function se(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function pe(le){le=this.options=I(this.constructor.defaultOptions,this.defaultPolarOptions,n[this.coll],le),le.plotBands||(le.plotBands=[]),Q(this,"afterSetOptions")}function xe(le,Z,me,Me,Ee,ze,Qe){const Ke=this.axis;return Ke.isRadial?(le=Ke.getPosition(this.pos,Ke.center[2]/2+Me),Z=["M",Z,me,"L",le.x,le.y]):Z=le.call(this,Z,me,Me,Ee,ze,Qe),Z}const Pe=[],ce={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},ye={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},_e={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};P.compose=function(le,Z){return m.pushUnique(Pe,le)&&($(le,"afterInit",y),$(le,"autoLabelAlign",b),$(le,"destroy",S),$(le,"init",j),$(le,"initialAxisTranslation",J)),m.pushUnique(Pe,Z)&&($(Z,"afterGetLabelPosition",W),$(Z,"afterGetPosition",re),A(Z.prototype,"getMarkPath",xe)),le}}(E||(E={})),E}),s(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w){function $(q,se,pe,xe){var Pe=xe?1:0,ce=0<=se&&se<=q.length-1?se:0>se?q.length-1+se:0;se=0>ce-1?q.length-(1+Pe):ce-1;var ye=q[se];Pe=q[ce+1>q.length-1?Pe:ce+1];var _e=ye.plotY,le=Pe.plotX,Z=Pe.plotY;Pe=q[ce].plotX,ce=q[ce].plotY,ye=(1.5*Pe+ye.plotX)/2.5,_e=(1.5*ce+_e)/2.5,le=(1.5*Pe+le)/2.5;var me=(1.5*ce+Z)/2.5;Z=Math.sqrt(Math.pow(ye-Pe,2)+Math.pow(_e-ce,2));const Me=Math.sqrt(Math.pow(le-Pe,2)+Math.pow(me-ce,2));return ye=Math.atan2(_e-ce,ye-Pe),me=Math.PI/2+(ye+Math.atan2(me-ce,le-Pe))/2,Math.abs(ye-me)>Math.PI/2&&(me-=Math.PI),ye=Pe+Math.cos(me)*Z,_e=ce+Math.sin(me)*Z,le=Pe+Math.cos(Math.PI+me)*Me,me=ce+Math.sin(Math.PI+me)*Me,Pe={rightContX:le,rightContY:me,leftContX:ye,leftContY:_e,plotX:Pe,plotY:ce},pe&&(Pe.prevPointCont=$(q,se,!1,xe)),Pe}function ee(){(this.pane||[]).forEach(q=>{q.render()})}function z(q){const se=q.args[0].xAxis,pe=q.args[0].yAxis;q=q.args[0].chart,se&&pe&&(pe.gridLineInterpolation==="polygon"?(se.startOnTick=!0,se.endOnTick=!0):se.gridLineInterpolation==="polygon"&&q.inverted&&(pe.startOnTick=!0,pe.endOnTick=!0))}function Y(){this.pane||(this.pane=[]),this.options.pane=J(this.options.pane),this.options.pane.forEach(q=>{new m(q,this)},this)}function Q(q){var se=q.args.marker,pe=this.chart.xAxis[0],xe=this.chart.yAxis[0],Pe=this.chart.inverted;const ce=Pe?xe:pe;if(pe=Pe?pe:xe,this.chart.polar){q.preventDefault(),xe=(se.attr?se.attr("start"):se.start)-ce.startAngleRad,Pe=se.attr?se.attr("r"):se.r;let ye=(se.attr?se.attr("end"):se.end)-ce.startAngleRad;se=se.attr?se.attr("innerR"):se.innerR,q.result.x=xe+ce.pos,q.result.width=ye-xe,q.result.y=pe.len+pe.pos-se,q.result.height=se-Pe}}function I(q){var se=this.chart;if(se.polar&&se.hoverPane&&se.hoverPane.axis){q.preventDefault();var pe=se.hoverPane.center,xe=this.mouseDownX||0;const ze=this.mouseDownY||0;var Pe=q.args.chartY;const Qe=q.args.chartX;var ce=2*Math.PI,ye=se.hoverPane.axis.startAngleRad,_e=se.hoverPane.axis.endAngleRad,le=se.inverted?se.xAxis[0]:se.yAxis[0];const Ke={};var Z="arc";if(Ke.x=pe[0]+se.plotLeft,Ke.y=pe[1]+se.plotTop,this.zoomHor){var me=0<ye?_e-ye:Math.abs(ye)+Math.abs(_e),Me=Math.atan2(ze-se.plotTop-pe[1],xe-se.plotLeft-pe[0])-ye,Ee=Math.atan2(Pe-se.plotTop-pe[1],Qe-se.plotLeft-pe[0])-ye;if(Ke.r=pe[2]/2,Ke.innerR=pe[3]/2,0>=Me&&(Me+=ce),0>=Ee&&(Ee+=ce),Ee<Me&&(Ee=[Me,Me=Ee][0]),me<ce&&ye+Ee>_e+(ce-me)/2&&(Ee=Me,Me=0>=ye?ye:0),ce=Ke.start=Math.max(Me+ye,ye),me=Ke.end=Math.min(Ee+ye,_e),le.options.gridLineInterpolation==="polygon"){if(Z=se.hoverPane.axis,Ee=ce-Z.startAngleRad+Z.pos,Me=me-ce,ce=le.getPlotLinePath({value:le.max}),me=Z.toValue(Ee),Ee=Z.toValue(Ee+Me),me<Z.getExtremes().min){const{min:ct,max:Ie}=Z.getExtremes();me=Ie-(ct-me)}if(Ee<Z.getExtremes().min){const{min:ct,max:Ie}=Z.getExtremes();Ee=Ie-(ct-Ee)}Ee<me&&(Ee=[me,me=Ee][0]),ce=E(ce,me,Ee,Z),ce.push(["L",pe[0]+se.plotLeft,se.plotTop+pe[1]]),Ke.d=ce,Z="path"}}this.zoomVert&&(Ee=se.inverted?se.xAxis[0]:se.yAxis[0],xe=Math.sqrt(Math.pow(xe-se.plotLeft-pe[0],2)+Math.pow(ze-se.plotTop-pe[1],2)),Pe=Math.sqrt(Math.pow(Qe-se.plotLeft-pe[0],2)+Math.pow(Pe-se.plotTop-pe[1],2)),Pe<xe&&(xe=[Pe,Pe=xe][0]),Pe>pe[2]/2&&(Pe=pe[2]/2),xe<pe[3]/2&&(xe=pe[3]/2),this.zoomHor||(Ke.start=ye,Ke.end=_e),Ke.r=Pe,Ke.innerR=xe,Ee.options.gridLineInterpolation==="polygon"&&(pe=Ee.toValue(Ee.len+Ee.pos-xe),ye=Ee.toValue(Ee.len+Ee.pos-Pe),pe=Ee.getPlotLinePath({value:ye}).concat(Ee.getPlotLinePath({value:pe,reverse:!0})),Ke.d=pe,Z="path")),this.zoomHor&&this.zoomVert&&le.options.gridLineInterpolation==="polygon"&&(pe=se.hoverPane.axis,le=Ke.start||0,ye=le-pe.startAngleRad+pe.pos,_e=(Ke.end||0)-le,le=pe.toValue(ye),pe=pe.toValue(ye+_e),Ke.d instanceof Array&&(ye=Ke.d.slice(0,Ke.d.length/2),_e=Ke.d.slice(Ke.d.length/2,Ke.d.length),_e=[..._e].reverse(),se=se.hoverPane.axis,ye=E(ye,le,pe,se),(_e=E(_e,le,pe,se))&&(_e[0][0]="L"),_e=[..._e].reverse(),Ke.d=ye.concat(_e),Z="path")),q.attrs=Ke,q.shapeType=Z}}function O(){const q=this.chart;q.polar&&(this.polar=new ve(this),q.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function H(){if(this.chart.polar&&this.xAxis){const{xAxis:q,yAxis:se}=this,pe=this.chart;(this.kdByAngle=pe.tooltip&&pe.tooltip.shared)?this.searchPoint=A:this.options.findNearestPointBy="xy";const xe=this.points;let Pe=xe.length;for(;Pe--;)this.is("column")||this.is("columnrange")||this.polar.toXY(xe[Pe]),pe.hasParallelCoordinates||this.yAxis.reversed||(S(xe[Pe].y,Number.MIN_VALUE)<se.min||xe[Pe].x<q.min||xe[Pe].x>q.max?(xe[Pe].isNull=!0,xe[Pe].plotY=NaN):xe[Pe].isNull=xe[Pe].isValid&&!xe[Pe].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(M(this,"afterRender",function(){if(pe.polar){var ce=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:ce[0],y:ce[1],r:ce[2]/2,innerR:ce[3]/2});else{{var ye=pe.renderer,_e=ce[0],le=ce[1],Z=ce[2]/2,me=ce[3]/2;ce=W();const Me=ye.createElement("clipPath").attr({id:ce}).add(ye.defs);ye=me?ye.arc(_e,le,Z,me,0,2*Math.PI).add(Me):ye.circle(_e,le,Z).add(Me),ye.id=ce,ye.clipPath=Me}this.clipCircle=ye}this.group.clip(this.clipCircle),this.setClip=c.noop}})))}}function A(q){const se=this.chart;var pe=this.xAxis;return pe=pe.pane&&pe.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(q.chartX-(pe&&pe[0]||0)-se.plotLeft,q.chartY-(pe&&pe[1]||0)-se.plotTop)})}function E(q,se,pe,xe){const Pe=xe.tickInterval;xe=xe.tickPositions;let ce=f(xe,_e=>_e>=pe),ye=f([...xe].reverse(),_e=>_e<=se);return L(ce)||(ce=xe[xe.length-1]),L(ye)||(ye=xe[0],ce+=Pe,q[0][0]="L",q.unshift(q[q.length-3])),q=q.slice(xe.indexOf(ye),xe.indexOf(ce)+1),q[0][0]="M",q}function P(q,se){return f(this.pane||[],function(pe){return pe.options.id===se})||q.call(this,se)}function G(q,se,pe,xe,Pe,ce){const ye=this.chart;var _e=S(xe.inside,!!this.options.stacking);ye.polar?(q=se.rectPlotX/Math.PI*180,ye.inverted?(this.forceDL=ye.isInsidePlot(se.plotX,se.plotY),_e&&se.shapeArgs?(_e=se.shapeArgs,_e=this.yAxis.postTranslate(((_e.start||0)+(_e.end||0))/2-this.xAxis.startAngleRad,se.barX+se.pointWidth/2),Pe=b(Pe,{x:_e.x-ye.plotLeft,y:_e.y-ye.plotTop})):se.tooltipPos&&(Pe=b(Pe,{x:se.tooltipPos[0],y:se.tooltipPos[1]})),xe.align=S(xe.align,"center"),xe.verticalAlign=S(xe.verticalAlign,"middle")):(xe.align===null&&(xe.align=20<q&&160>q?"left":200<q&&340>q?"right":"center"),xe.verticalAlign===null&&(xe.verticalAlign=45>q||315<q?"bottom":135<q&&225>q?"top":"middle")),d.prototype.alignDataLabel.call(this,se,pe,xe,Pe,ce),this.isRadialBar&&se.shapeArgs&&se.shapeArgs.start===se.shapeArgs.end?pe.hide():pe.show()):q.call(this,se,pe,xe,Pe,ce)}function V(){const q=this.options,se=q.stacking,pe=this.chart;var xe=this.xAxis;const Pe=this.yAxis,ce=Pe.reversed,ye=Pe.center,_e=xe.startAngleRad,le=xe.endAngleRad-_e;let Z=0,me,Me,Ee,ze=0;var Qe=0;if(xe.isRadial){xe=this.points,me=xe.length,Me=Pe.translate(Pe.min),Ee=Pe.translate(Pe.max);var Ke=q.threshold||0;for(pe.inverted&&y(Ke)&&(Z=Pe.translate(Ke),L(Z)&&(0>Z?Z=0:Z>le&&(Z=le),this.translatedThreshold=Z+_e));me--;){Ke=xe[me];var ct=Ke.barX,Ie=Ke.x,Be=Ke.y;if(Ke.shapeType="arc",pe.inverted){Ke.plotY=Pe.translate(Be),se&&Pe.stacking?(Be=Pe.stacking.stacks[(0>Be?"-":"")+this.stackKey],this.visible&&Be&&Be[Ie]&&!Ke.isNull&&(Qe=Be[Ie].points[this.getStackIndicator(void 0,Ie,this.index).key],ze=Pe.translate(Qe[0]),Qe=Pe.translate(Qe[1]),L(ze)&&(ze=w.clamp(ze,0,le)))):(ze=Z,Qe=Ke.plotY),ze>Qe&&(Qe=[ze,ze=Qe][0]),ce?Qe>Me?Qe=Me:ze<Ee?ze=Ee:(ze>Me||Qe<Ee)&&(ze=Qe=le):ze<Me?ze=Me:Qe>Ee?Qe=Ee:(Qe<Me||ze>Ee)&&(ze=Qe=0),Pe.min>Pe.max&&(ze=Qe=ce?le:0),ze+=_e,Qe+=_e,ye&&(Ke.barX=ct+=ye[3]/2),Ie=Math.max(ct,0),Be=Math.max(ct+Ke.pointWidth,0);var Ue=q.borderRadius;Ue=j((typeof Ue=="object"?Ue.radius:Ue)||0,Be-Ie),Ke.shapeArgs={x:ye[0],y:ye[1],r:Be,innerR:Ie,start:ze,end:Qe,borderRadius:Ue},Ke.opacity=ze===Qe?0:void 0,Ke.plotY=(L(this.translatedThreshold)&&(ze<this.translatedThreshold?ze:Qe))-_e}else ze=ct+_e,Ke.shapeArgs=this.polar.arc(Ke.yBottom,Ke.plotY,ze,ze+Ke.pointWidth),Ke.shapeArgs.borderRadius=0;this.polar.toXY(Ke),pe.inverted?(ct=Pe.postTranslate(Ke.rectPlotY,ct+Ke.pointWidth/2),Ke.tooltipPos=[ct.x-pe.plotLeft,ct.y-pe.plotTop]):Ke.tooltipPos=[Ke.plotX,Ke.plotY],ye&&(Ke.ttBelow=Ke.plotY>ye[1])}}}function C(q,se){const pe=this;let xe;if(this.chart.polar){se=se||this.points;for(let ce=0;ce<se.length;ce++)if(!se[ce].isNull){var Pe=ce;break}this.options.connectEnds!==!1&&typeof Pe<"u"&&(this.connectEnds=!0,se.splice(se.length,0,se[Pe]),xe=!0),se.forEach(ce=>{typeof ce.polarPlotY>"u"&&pe.polar.toXY(ce)})}return Pe=q.apply(this,[].slice.call(arguments,1)),xe&&se.pop(),Pe}function ne(q,se){const pe=this.chart;let xe={xAxis:[],yAxis:[]};return pe.polar?pe.axes.forEach(Pe=>{if(Pe.coll!=="colorAxis"){var ce=Pe.isXAxis,ye=Pe.center,_e=se.chartX-ye[0]-pe.plotLeft;ye=se.chartY-ye[1]-pe.plotTop,xe[ce?"xAxis":"yAxis"].push({axis:Pe,value:Pe.translate(ce?Math.PI-Math.atan2(_e,ye):Math.sqrt(Math.pow(_e,2)+Math.pow(ye,2)),!0)})}}):xe=q.call(this,se),xe}function te(q,se){this.chart.polar||q.call(this,se)}function F(q,se){const pe=this,xe=this.chart,Pe=this.group,ce=this.markerGroup,ye=this.xAxis&&this.xAxis.center,_e=xe.plotLeft,le=xe.plotTop;let Z=this.options.animation,me,Me,Ee,ze,Qe;xe.polar?pe.isRadialBar?se||(pe.startAngleRad=S(pe.translatedThreshold,pe.xAxis.startAngleRad),c.seriesTypes.pie.prototype.animate.call(pe,se)):(Z=X(Z),pe.is("column")?se||(me=ye[3]/2,pe.points.forEach(Ke=>{Me=Ke.graphic,ze=(Ee=Ke.shapeArgs)&&Ee.r,Qe=Ee&&Ee.innerR,Me&&Ee&&(Me.attr({r:me,innerR:me}),Me.animate({r:ze,innerR:Qe},pe.options.animation))})):se?(q={translateX:ye[0]+_e,translateY:ye[1]+le,scaleX:.001,scaleY:.001},Pe.attr(q),ce&&ce.attr(q)):(q={translateX:_e,translateY:le,scaleX:1,scaleY:1},Pe.animate(q,Z),ce&&ce.animate(q,Z))):q.call(this,se)}function N(q,se,pe,xe){return this.chart.polar?xe?(q=$(se,xe,!0,this.connectEnds),se=q.prevPointCont&&q.prevPointCont.rightContX,pe=q.prevPointCont&&q.prevPointCont.rightContY,q=["C",y(se)?se:q.plotX,y(pe)?pe:q.plotY,y(q.leftContX)?q.leftContX:q.plotX,y(q.leftContY)?q.leftContY:q.plotY,q.plotX,q.plotY]):q=["M",pe.plotX,pe.plotY]:q=q.call(this,se,pe,xe),q}const{animObject:X}=l,{addEvent:M,defined:L,find:f,isNumber:y,merge:b,pick:S,relativeLength:j,splat:J,uniqueKey:W,wrap:re}=w,ue=[];class ve{static compose(se,pe,xe,Pe,ce,ye,_e,le,Z){n.compose(se,ce),w.pushUnique(ue,pe)&&(M(pe,"afterDrawChartBox",ee),M(pe,"getAxes",Y),M(pe,"init",z),re(pe.prototype,"get",P)),w.pushUnique(ue,xe)&&(se=xe.prototype,re(se,"getCoordinates",ne),re(se,"pinch",te),M(xe,"getSelectionMarkerAttrs",I),M(xe,"getSelectionBox",Q)),w.pushUnique(ue,Pe)&&(M(Pe,"afterInit",O),M(Pe,"afterTranslate",H,{order:2}),M(Pe,"afterColumnTranslate",V,{order:4}),re(Pe.prototype,"animate",F)),_e&&w.pushUnique(ue,_e)&&(xe=_e.prototype,re(xe,"alignDataLabel",G),re(xe,"animate",F)),le&&w.pushUnique(ue,le)&&re(le.prototype,"getGraphPath",C),Z&&w.pushUnique(ue,Z)&&(le=Z.prototype,re(le,"getPointSpline",N),ye&&w.pushUnique(ue,ye)&&(ye.prototype.getPointSpline=le.getPointSpline))}constructor(se){this.series=se}arc(se,pe,xe,Pe){const ce=this.series,ye=ce.xAxis.center,_e=ce.yAxis.len,le=ye[3]/2;return pe=_e-pe+le,se=_e-S(se,_e)+le,ce.yAxis.reversed&&(0>pe&&(pe=le),0>se&&(se=le)),{x:ye[0],y:ye[1],r:pe,innerR:se,start:xe,end:Pe}}toXY(se){var pe=this.series;const xe=pe.chart,Pe=pe.xAxis;var ce=pe.yAxis;const ye=se.plotX,_e=xe.inverted,le=se.y;let Z=se.plotY,me=_e?ye:ce.len-Z;_e&&pe&&!pe.isRadialBar&&(se.plotY=Z=y(le)?ce.translate(le):0),se.rectPlotX=ye,se.rectPlotY=Z,ce.center&&(me+=ce.center[3]/2),y(Z)&&(ce=_e?ce.postTranslate(Z,me):Pe.postTranslate(ye,me),se.plotX=se.polarPlotX=ce.x-xe.plotLeft,se.plotY=se.polarPlotY=ce.y-xe.plotTop),pe.kdByAngle?(pe=(ye/Math.PI*180+Pe.pane.options.startAngle)%360,0>pe&&(pe+=360),se.clientX=pe):se.clientX=se.plotX}}return ve}),s(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],function(l,c,d,m,n){d.compose(l.Axis,l.Chart,l.Legend,l.Series),m.compose(l.Axis,l.Chart,l.Legend,l.Series),n.compose(l.Axis,l.Chart,l.Pointer,l.Series,l.Tick,c.seriesTypes.areasplinerange,c.seriesTypes.column,c.seriesTypes.line,c.seriesTypes.spline)})})})(yG);const HA=qw;HA(Nc);const vG={components:{highcharts:gp.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var t=e.series[0].points[0],s,l=Math.round((Math.random()-.5)*20);s=t.y+l,(s<0||s>200)&&(s=t.y-l),t.update(s)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10,enabled:!1},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},ad=e=>(jf("data-v-7c7fa323"),e=e(),Uf(),e),xG={class:"row"},bG={class:"col position-relative"},wG=ad(()=>at("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HFO (KL)",-1)),TG=ad(()=>at("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"15.08 KL",-1)),SG={class:"col position-relative"},EG=ad(()=>at("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total LS HFO (KL)",-1)),CG=ad(()=>at("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.94",-1)),MG={class:"col position-relative"},AG=ad(()=>at("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total MDO (KL)",-1)),kG=ad(()=>at("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"1.22",-1)),PG={class:"col position-relative"},DG=ad(()=>at("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HSD (KL)",-1)),IG=ad(()=>at("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.01",-1)),LG={class:"col position-relative"},OG=ad(()=>at("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total (KL)",-1)),RG=ad(()=>at("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"21.25",-1));function BG(e,t,s,l,c,d){const m=ts("highcharts");return Mi(),Pi("div",xG,[at("div",bG,[Yi(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),wG,TG]),at("div",SG,[Yi(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),EG,CG]),at("div",MG,[Yi(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),AG,kG]),at("div",PG,[Yi(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),DG,IG]),at("div",LG,[Yi(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),OG,RG])])}const zG=zs(vG,[["render",BG],["__scopeId","data-v-7c7fa323"]]);var Zw={},FG={get exports(){return Zw},set exports(e){Zw=e}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(l,c,d,m){l.hasOwnProperty(c)||(l[c]=m.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:l[c]}})))}t=t?t._modules:{},s(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(l,c){const{addEvent:d,find:m,fireEvent:n,isArray:w,isNumber:$,pick:ee}=c;var z;return function(Y){function Q(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function I(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function O(){const ne=this.brokenAxis;if(ne&&ne.hasBreaks){const te=this.tickPositions,F=this.tickPositions.info,N=[];for(let X=0;X<te.length;X++)ne.isInAnyBreak(te[X])||N.push(te[X]);this.tickPositions=N,this.tickPositions.info=F}}function H(){this.brokenAxis||(this.brokenAxis=new C(this))}function A(){const{isDirty:ne,options:{connectNulls:te},points:F,xAxis:N,yAxis:X}=this;if(ne){let M=F.length;for(;M--;){const L=F[M],f=!(L.y===null&&te===!1)&&(N&&N.brokenAxis&&N.brokenAxis.isInAnyBreak(L.x,!0)||X&&X.brokenAxis&&X.brokenAxis.isInAnyBreak(L.y,!0));L.visible=f?!1:L.options.visible!==!1}}}function E(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,ee(this.pointArrayMap,["y"]))}function P(ne,te){const F=this,N=F.points;let X,M,L,f;if(ne&&ne.brokenAxis&&ne.brokenAxis.hasBreaks){const y=ne.brokenAxis;te.forEach(function(b){X=y&&y.breakArray||[],M=ne.isXAxis?ne.min:ee(F.options.threshold,ne.min),N.forEach(function(S){f=ee(S["stack"+b.toUpperCase()],S[b]),X.forEach(function(j){$(M)&&$(f)&&(L=!1,M<j.from&&f>j.to||M>j.from&&f<j.from?L="pointBreak":(M<j.from&&f>j.from&&f<j.to||M>j.from&&f>j.to&&f<j.from)&&(L="pointInBreak"),L&&n(ne,L,{point:S,brk:j}))})})})}}function G(){var ne=this.currentDataGrouping,te=ne&&ne.gapSize;ne=this.points.slice();const F=this.yAxis;let N=this.options.gapSize,X=ne.length-1;var M;if(N&&0<X)for(this.options.gapUnit!=="value"&&(N*=this.basePointRange),te&&te>N&&te>=this.basePointRange&&(N=te);X--;)M&&M.visible!==!1||(M=ne[X+1]),te=ne[X],M.visible!==!1&&te.visible!==!1&&(M.x-te.x>N&&(M=(te.x+M.x)/2,ne.splice(X+1,0,{isNull:!0,x:M}),F.stacking&&this.options.stacking&&(M=F.stacking.stacks[this.stackKey][M]=new l(F,F.options.stackLabels,!1,M,this.stack),M.total=0)),M=te);return this.getGraphPath(ne)}const V=[];Y.compose=function(ne,te){if(c.pushUnique(V,ne)&&(ne.keepProps.push("brokenAxis"),d(ne,"init",H),d(ne,"afterInit",Q),d(ne,"afterSetTickPositions",O),d(ne,"afterSetOptions",I)),c.pushUnique(V,te)){const F=te.prototype;F.drawBreaks=P,F.gappedPath=G,d(te,"afterGeneratePoints",A),d(te,"afterRender",E)}return ne};class C{static isInBreak(te,F){const N=te.repeat||1/0,X=te.from,M=te.to-te.from;return F=F>=X?(F-X)%N:N-(X-F)%N,te.inclusive?F<=M:F<M&&F!==0}static lin2Val(te){var F=this.brokenAxis;if(F=F&&F.breakArray,!F||!$(te))return te;let N,X;for(X=0;X<F.length&&(N=F[X],!(N.from>=te));X++)(N.to<te||C.isInBreak(N,te))&&(te+=N.len);return te}static val2Lin(te){var F=this.brokenAxis;if(F=F&&F.breakArray,!F||!$(te))return te;let N=te,X,M;for(M=0;M<F.length;M++)if(X=F[M],X.to<=te)N-=X.len;else{if(X.from>=te)break;if(C.isInBreak(X,te)){N-=te-X.from;break}}return N}constructor(te){this.hasBreaks=!1,this.axis=te}findBreakAt(te,F){return m(F,function(N){return N.from<te&&te<N.to})}isInAnyBreak(te,F){const N=this.axis,X=N.options.breaks||[];let M=X.length,L,f,y;if(M&&$(te)){for(;M--;)C.isInBreak(X[M],te)&&(L=!0,f||(f=ee(X[M].showPoints,!N.isXAxis)));y=L&&F?L&&!f:L}return y}setBreaks(te,F){const N=this,X=N.axis,M=w(te)&&!!te.length;X.isDirty=N.hasBreaks!==M,N.hasBreaks=M,X.options.breaks=X.userOptions.breaks=te,X.forceRedraw=!0,X.series.forEach(function(L){L.isDirty=!0}),M||X.val2lin!==C.val2Lin||(delete X.val2lin,delete X.lin2val),M&&(X.userOptions.ordinal=!1,X.lin2val=C.lin2Val,X.val2lin=C.val2Lin,X.setExtremes=function(L,f,y,b,S){if(N.hasBreaks){const j=this.options.breaks||[];let J;for(;J=N.findBreakAt(L,j);)L=J.to;for(;J=N.findBreakAt(f,j);)f=J.from;f<L&&(f=L)}X.constructor.prototype.setExtremes.call(this,L,f,y,b,S)},X.setAxisTranslation=function(){if(X.constructor.prototype.setAxisTranslation.call(this),N.unitLength=void 0,N.hasBreaks){const L=X.options.breaks||[],f=[],y=[],b=ee(X.pointRangePadding,0);let S=0,j,J,W=X.userMin||X.min,re=X.userMax||X.max,ue,ve;L.forEach(function(q){J=q.repeat||1/0,$(W)&&$(re)&&(C.isInBreak(q,W)&&(W+=q.to%J-W%J),C.isInBreak(q,re)&&(re-=re%J-q.from%J))}),L.forEach(function(q){if(ue=q.from,J=q.repeat||1/0,$(W)&&$(re)){for(;ue-J>W;)ue-=J;for(;ue<W;)ue+=J;for(ve=ue;ve<re;ve+=J)f.push({value:ve,move:"in"}),f.push({value:ve+q.to-q.from,move:"out",size:q.breakSize})}}),f.sort(function(q,se){return q.value===se.value?(q.move==="in"?0:1)-(se.move==="in"?0:1):q.value-se.value}),j=0,ue=W,f.forEach(function(q){j+=q.move==="in"?1:-1,j===1&&q.move==="in"&&(ue=q.value),j===0&&$(ue)&&(y.push({from:ue,to:q.value,len:q.value-ue-(q.size||0)}),S+=q.value-ue-(q.size||0))}),N.breakArray=y,$(W)&&$(re)&&$(X.min)&&(N.unitLength=re-W-S+b,n(X,"afterBreaks"),X.staticScale?X.transA=X.staticScale:N.unitLength&&(X.transA*=(re-X.min+b)/N.unitLength),b&&(X.minPixelPadding=X.transA*(X.minPointOffset||0)),X.min=W,X.max=re)}}),ee(F,!0)&&X.chart.redraw()}}Y.Additions=C}(z||(z={})),z}),s(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(l,c){c.compose(l.Axis,l.Series)}),s(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),s(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(l,c){function d(Y){const Q=Y.length;return Y=m(Y),z(Y)&&Q&&(Y=$(Y/Q)),Y}function m(Y){let Q=Y.length,I;if(!Q&&Y.hasNulls)I=null;else if(Q)for(I=0;Q--;)I+=Y[Q];return I}const{arrayMax:n,arrayMin:w,correctFloat:$,extend:ee,isNumber:z}=c;return c={average:d,averages:function(){const Y=[];return[].forEach.call(arguments,function(Q){Y.push(d(Q))}),typeof Y[0]>"u"?void 0:Y},close:function(Y){return Y.length?Y[Y.length-1]:Y.hasNulls?null:void 0},high:function(Y){return Y.length?n(Y):Y.hasNulls?null:void 0},hlc:function(Y,Q,I){if(Y=l.high(Y),Q=l.low(Q),I=l.close(I),z(Y)||z(Q)||z(I))return[Y,Q,I]},low:function(Y){return Y.length?w(Y):Y.hasNulls?null:void 0},ohlc:function(Y,Q,I,O){if(Y=l.open(Y),Q=l.high(Q),I=l.low(I),O=l.close(O),z(Y)||z(Q)||z(I)||z(O))return[Y,Q,I,O]},open:function(Y){return Y.length?Y[0]:Y.hasNulls?null:void 0},range:function(Y,Q){if(Y=l.low(Y),Q=l.high(Q),z(Y)||z(Q))return[Y,Q];if(Y===null&&Q===null)return null},sum:m},ee(l,c),c}),s(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),s(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(l,c){function d(O){const H=this,A=H.series;A.forEach(function(E){E.groupPixelWidth=void 0}),A.forEach(function(E){E.groupPixelWidth=H.getGroupPixelWidth&&H.getGroupPixelWidth(),E.groupPixelWidth&&(E.hasProcessed=!0),E.applyGrouping(!!O.hasExtremesChanged)})}function m(){const O=this.series;let H=O.length,A=0,E=!1,P,G;for(;H--;)(G=O[H].options.dataGrouping)&&(A=Math.max(A,Y(G.groupPixelWidth,l.common.groupPixelWidth)),P=(O[H].processedXData||O[H].data).length,(O[H].groupPixelWidth||P>this.chart.plotSizeX/A||P&&G.forced)&&(E=!0));return E?A:0}function n(){this.series.forEach(function(O){O.hasProcessed=!1})}function w(O,H){let A;if(H=Y(H,!0),O||(O={forced:!1,units:null}),this instanceof I)for(A=this.series.length;A--;)this.series[A].update({dataGrouping:O},!1);else this.chart.options.series.forEach(function(E){E.dataGrouping=typeof O=="boolean"?O:z(O,E.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),H&&this.chart.redraw()}const{addEvent:$,extend:ee,merge:z,pick:Y}=c,Q=[];let I;return{compose:function(O){I=O,c.pushUnique(Q,O)&&($(O,"afterSetScale",n),$(O,"postProcessData",d),ee(O.prototype,{applyGrouping:d,getGroupPixelWidth:m,setDataGrouping:w}))}}}),s(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w){function $(F){var N=this.chart,X=this.options.dataGrouping,M=this.allowDG!==!1&&X&&C(X.enabled,N.options.isStock),L=this.visible||!N.options.chart.ignoreHiddenSeries;const f=this.currentDataGrouping;var y=!1;if(M&&!this.requireSorting&&(this.requireSorting=y=!0),F=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!F)||!M,y&&(this.requireSorting=!1),!F){this.destroyGroupedData(),F=X.groupAll?this.xData:this.processedXData,M=X.groupAll?this.yData:this.processedYData;var b=N.plotSizeX;y=this.xAxis;var S=y.options.ordinal,j=this.groupPixelWidth,J;let pe;if(j&&F&&F.length&&b){this.isDirty=pe=!0,this.points=null;var W=y.getExtremes(),re=W.min;W=W.max,S=S&&y.ordinal&&y.ordinal.getGroupIntervalFactor(re,W,this)||1,b=y.getTimeTicks(d.Additions.prototype.normalizeTimeTickInterval(j*(W-re)/b*S,X.units||c.units),Math.min(re,F[0]),Math.max(W,F[F.length-1]),y.options.startOfWeek,F,this.closestPointRange),j=O.groupData.apply(this,[F,M,b,X.approximation]),F=j.groupedXData,M=j.groupedYData,S=0,X&&X.smoothed&&F.length&&(X.firstAnchor="firstPoint",X.anchor="middle",X.lastAnchor="lastPoint",E(32,!1,N,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),N=F;var ue=W,ve=this.options.dataGrouping;if(W=this.currentDataGrouping&&this.currentDataGrouping.gapSize,ve&&this.xData&&W&&this.groupMap){re=N.length-1;var q=ve.anchor;const xe=C(ve.firstAnchor,q);if(ve=C(ve.lastAnchor,q),q&&q!=="start"){var se=W*{middle:.5,end:1}[q];for(q=N.length-1;q--&&0<q;)N[q]+=se}xe&&xe!=="start"&&this.xData[0]>=N[0]&&(q=this.groupMap[0].start,se=this.groupMap[0].length,G(q)&&G(se)&&(J=q+(se-1)),N[0]={middle:N[0]+.5*W,end:N[0]+W,firstPoint:this.xData[0],lastPoint:J&&this.xData[J]}[xe]),ve&&ve!=="start"&&W&&N[re]>=ue-W&&(J=this.groupMap[this.groupMap.length-1].start,N[re]={middle:N[re]+.5*W,end:N[re]+W,firstPoint:J&&this.xData[J],lastPoint:this.xData[this.xData.length-1]}[ve])}for(J=1;J<b.length;J++)b.info.segmentStarts&&b.info.segmentStarts.indexOf(J)!==-1||(S=Math.max(b[J]-b[J-1],S));W=b.info,W.gapSize=S,this.closestPointRange=b.info.totalRange,this.groupMap=j.groupMap,L&&(L=y,J=F,A(J[0])&&G(L.min)&&G(L.dataMin)&&J[0]<L.min&&((!A(L.options.min)&&L.min<=L.dataMin||L.min===L.dataMin)&&(L.min=Math.min(J[0],L.min)),L.dataMin=Math.min(J[0],L.dataMin)),A(J[J.length-1])&&G(L.max)&&G(L.dataMax)&&J[J.length-1]>L.max&&((!A(L.options.max)&&G(L.dataMax)&&L.max>=L.dataMax||L.max===L.dataMax)&&(L.max=Math.max(J[J.length-1],L.max)),L.dataMax=Math.max(J[J.length-1],L.dataMax))),X.groupAll&&(this.allGroupedData=M,X=this.cropData(F,M,y.min,y.max,1),F=X.xData,M=X.yData,this.cropStart=X.start),this.processedXData=F,this.processedYData=M}else this.groupMap=null;this.hasGroupedData=pe,this.currentDataGrouping=W,this.preventGraphAnimation=(f&&f.totalRange)!==(W&&W.totalRange)}}function ee(){this.groupedData&&(this.groupedData.forEach(function(F,N){F&&(this.groupedData[N]=F.destroy?F.destroy():null)},this),this.groupedData.length=0)}function z(){ne.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function Y(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function Q(F,N,X,M){const L=this,f=L.data,y=L.options&&L.options.data,b=[],S=[],j=[],J=F.length,W=!!N,re=[],ue=L.pointArrayMap,ve=ue&&ue.length,q=["x"].concat(ue||["y"]),se=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let pe=0,xe=0;if(M=typeof M=="function"?M:M&&l[M]?l[M]:l[L.getDGApproximation&&L.getDGApproximation()||"average"],ve)for(var Pe=ue.length;Pe--;)re.push([]);else re.push([]);Pe=ve||1;for(let _e=0;_e<=J;_e++)if(!(F[_e]<X[0])){for(;typeof X[pe+1]<"u"&&F[_e]>=X[pe+1]||_e===J;){var ce=X[pe];L.dataGroupInfo={start:se?xe:L.cropStart+xe,length:re[0].length};var ye=M.apply(L,re);for(L.pointClass&&!A(L.dataGroupInfo.options)&&(L.dataGroupInfo.options=V(L.pointClass.prototype.optionsToObject.call({series:L},L.options.data[L.cropStart+xe])),q.forEach(function(le){delete L.dataGroupInfo.options[le]})),typeof ye<"u"&&(b.push(ce),S.push(ye),j.push(L.dataGroupInfo)),xe=_e,ce=0;ce<Pe;ce++)re[ce].length=0,re[ce].hasNulls=!1;if(pe+=1,_e===J)break}if(_e===J)break;if(ue){ce=L.options.dataGrouping&&L.options.dataGrouping.groupAll?_e:L.cropStart+_e,ce=f&&f[ce]||L.pointClass.prototype.applyOptions.apply({series:L},[y[ce]]);for(let le=0;le<ve;le++)ye=ce[ue[le]],G(ye)?re[le].push(ye):ye===null&&(re[le].hasNulls=!0)}else ce=W?N[_e]:null,G(ce)?re[0].push(ce):ce===null&&(re[0].hasNulls=!0)}return{groupedXData:b,groupedYData:S,groupMap:j}}function I(F){F=F.options;const N=this.type,X=this.chart.options.plotOptions,M=this.useCommonDataGrouping&&c.common,L=c.seriesSpecific;let f=m.defaultOptions.plotOptions[N].dataGrouping;if(X&&(L[N]||M)){const y=this.chart.rangeSelector;f||(f=V(c.common,L[N])),F.dataGrouping=V(M,f,X.series&&X.series.dataGrouping,X[N].dataGrouping,this.userOptions.dataGrouping,!F.isInternal&&y&&G(y.selected)&&y.buttonOptions[y.selected].dataGrouping)}}const{series:{prototype:O}}=n,{addEvent:H,defined:A,error:E,extend:P,isNumber:G,merge:V,pick:C}=w,ne=O.generatePoints,te=[];return{compose:function(F){const N=F.prototype.pointClass;w.pushUnique(te,N)&&H(N,"update",function(){if(this.dataGroup)return E(24,!1,this.series.chart),!1}),w.pushUnique(te,F)&&(H(F,"afterSetOptions",I),H(F,"destroy",ee),P(F.prototype,{applyGrouping:$,destroyGroupedData:ee,generatePoints:z,getDGApproximation:Y,groupData:Q}))},groupData:Q}}),s(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){function w(I){const O=this.chart,H=O.time,A=I.labelConfig,E=A.series;var P=E.tooltipOptions,G=E.options.dataGrouping;const V=E.xAxis;var C=P.xDateFormat;let ne,te,F=P[I.isFooter?"footerFormat":"headerFormat"];V&&V.options.type==="datetime"&&G&&Y(A.key)&&(te=E.currentDataGrouping,G=G.dateTimeLabelFormats||c.common.dateTimeLabelFormats,te?(P=G[te.unitName],te.count===1?C=P[0]:(C=P[1],ne=P[2])):!C&&G&&V.dateTime&&(C=V.dateTime.getXDateFormat(A.x,P.dateTimeLabelFormats)),C=H.dateFormat(C,A.key),ne&&(C+=H.dateFormat(ne,A.key+te.totalRange-1)),E.chart.styledMode&&(F=this.styledModeFormat(F)),I.text=$(F,{point:z(A.point,{key:C}),series:E},O),I.preventDefault())}const{format:$}=m,{addEvent:ee,extend:z,isNumber:Y}=n,Q=[];return m={compose:function(I,O,H){l.compose(I),d.compose(O),H&&n.pushUnique(Q,H)&&ee(H,"headerFormatter",w)},groupData:d.groupData},m}),s(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(l,c,d,m){l.dataGrouping={approximationDefaults:c,approximations:d},m.compose(l.Axis,l.Series,l.Tooltip)}),s(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(l,c,d,m){const{prototype:{tooltipFormatter:n}}=c,{addEvent:w,arrayMax:$,arrayMin:ee,correctFloat:z,defined:Y,isArray:Q,isNumber:I,isString:O,pick:H}=m;var A;return function(E){function P(f,y,b){this.isXAxis||(this.series.forEach(function(S){f==="compare"&&typeof y!="boolean"?S.setCompare(y,!1):f!=="cumulative"||O(y)||S.setCumulative(y,!1)}),H(b,!0)&&this.chart.redraw())}function G(f){const y=this,{numberFormatter:b}=y.series.chart,S=function(j){f=f.replace("{point."+j+"}",(0<y[j]&&j==="change"?"+":"")+b(y[j],H(y.series.tooltipOptions.changeDecimals,2)))};return Y(y.change)&&S("change"),Y(y.cumulativeSum)&&S("cumulativeSum"),n.apply(this,[f])}function V(){const f=this.options.compare;let y;(f==="percent"||f==="value"||this.options.cumulative)&&(y=new L(this),f==="percent"||f==="value"?y.initCompare(f):y.initCumulative()),this.dataModify=y}function C(f){f=f.dataExtremes;const y=f.activeYData;if(this.dataModify&&f){let b;this.options.compare?b=[this.dataModify.modifyValue(f.dataMin),this.dataModify.modifyValue(f.dataMax)]:this.options.cumulative&&Q(y)&&2<=y.length&&(b=L.getCumulativeExtremes(y)),b&&(f.dataMin=ee(b),f.dataMax=$(b))}}function ne(f,y){this.options.compare=this.userOptions.compare=f,this.update({},H(y,!0)),!this.dataModify||f!=="value"&&f!=="percent"?this.points.forEach(b=>{delete b.change}):this.dataModify.initCompare(f)}function te(){if(this.xAxis&&this.processedYData&&this.dataModify){const f=this.processedXData,y=this.processedYData,b=y.length,S=this.options.compareStart===!0?0:1;let j=-1,J;for(this.pointArrayMap&&(j=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),J=0;J<b-S;J++){const W=y[J]&&-1<j?y[J][j]:y[J];if(I(W)&&W!==0&&f[J+S]>=(this.xAxis.min||0)){this.dataModify.compareValue=W;break}}}}function F(f,y){this.setModifier("compare",f,y)}function N(f,y){f=H(f,!1),this.options.cumulative=this.userOptions.cumulative=f,this.update({},H(y,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(b=>{delete b.cumulativeSum})}function X(f,y){this.setModifier("cumulative",f,y)}const M=[];E.compose=function(f,y,b){if(m.pushUnique(M,f)){const S=f.prototype;S.setCompare=ne,S.setCumulative=N,w(f,"afterInit",V),w(f,"afterGetExtremes",C),w(f,"afterProcessData",te)}return m.pushUnique(M,y)&&(y=y.prototype,y.setCompare=F,y.setModifier=P,y.setCumulative=X),m.pushUnique(M,b)&&(b.prototype.tooltipFormatter=G),f};class L{constructor(y){this.series=y}modifyValue(){return 0}static getCumulativeExtremes(y){let b=1/0,S=-1/0;return y.reduce((j,J)=>(J=j+J,b=Math.min(b,J,j),S=Math.max(S,J,j),J)),[b,S]}initCompare(y){this.modifyValue=function(b,S){b===null&&(b=0);const j=this.compareValue;return typeof b<"u"&&typeof j<"u"?(b=y==="value"?b-j:b/j*100-(this.series.options.compareBase===100?0:100),typeof S<"u"&&(S=this.series.points[S])&&(S.change=b),b):0}}initCumulative(){this.modifyValue=function(y,b){if(y===null&&(y=0),y!==void 0&&b!==void 0){const S=0<b?this.series.points[b-1]:null;return S&&S.cumulativeSum&&(y=z(S.cumulativeSum+y)),(b=this.series.points[b])&&(b.cumulativeSum=y),y}return 0}}}E.Additions=L}(A||(A={})),A}),s(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,c){function d(){this.navigatorAxis||(this.navigatorAxis=new I(this))}function m(O){var H=this.chart.options,A=H.navigator;const E=this.navigatorAxis,P=H.chart.zooming.pinchType,G=H.rangeSelector;H=H.chart.zooming.type,this.isXAxis&&(A&&A.enabled||G&&G.enabled)&&(H==="y"?O.zoomed=!1:(!n&&H==="xy"||n&&P==="xy")&&this.options.range&&(A=E.previousZoom,ee(O.newMin)?E.previousZoom=[this.min,this.max]:A&&(O.newMin=A[0],O.newMax=A[1],E.previousZoom=void 0))),typeof O.zoomed<"u"&&O.preventDefault()}const{isTouchDevice:n}=l,{addEvent:w,correctFloat:$,defined:ee,isNumber:z,pick:Y}=c,Q=[];class I{static compose(H){c.pushUnique(Q,H)&&(H.keepProps.push("navigatorAxis"),w(H,"init",d),w(H,"zoom",m))}constructor(H){this.axis=H}destroy(){this.axis=void 0}toFixedRange(H,A,E,P){var G=this.axis,V=G.chart;H=Y(E,G.translate(H,!0,!G.horiz)),A=Y(P,G.translate(A,!0,!G.horiz)),V=V&&V.fixedRange,G=(G.pointRange||0)/2;const C=V&&(A-H)/V;return ee(E)||(H=$(H+G)),ee(P)||(A=$(A-G)),.7<C&&1.3>C&&(P?H=A-V:A=H+V),z(H)&&z(A)||(H=A=void 0),{min:H,max:A}}}return I}),s(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(l,c){return{parse:l}=l,{seriesTypes:c}=c,c={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:l("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof c.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},c}),s(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(l,c,d,m,n={}){return l=n.width?n.width/2:d,c=Math.round(l/3)+.5,m=n.height||m,[["M",-l-1,.5],["L",l,.5],["L",l,m+.5],["L",-l-1,m+.5],["L",-l-1,.5],["M",-c,4],["L",-c,m-3],["M",c-1,4],["L",c-1,m-3]]}}}),s(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w,$){function ee(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function z(){var M;const L=this.legend,f=this.navigator;let y,b,S;if(f){y=L&&L.options,b=f.xAxis,S=f.yAxis;const{scrollbarHeight:j,scrollButtonSize:J}=f;this.inverted?(f.left=f.opposite?this.chartWidth-j-f.height:this.spacing[3]+j,f.top=this.plotTop+J):(f.left=F(b.left,this.plotLeft+J),f.top=f.navigatorOptions.top||this.chartHeight-f.height-j-(((M=this.scrollbar)===null||M===void 0?void 0:M.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(y&&y.verticalAlign==="bottom"&&y.layout!=="proximate"&&y.enabled&&!y.floating?L.legendHeight+F(y.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),b&&S&&(this.inverted?b.options.left=S.options.left=f.left:b.options.top=S.options.top=f.top,b.setAxisSize(),S.setAxisSize())}}function Y(M){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new X(this),F(M.redraw,!0)&&this.redraw(M.animation))}function Q(){const M=this.options;(M.navigator.enabled||M.scrollbar.enabled)&&(this.scroller=this.navigator=new X(this))}function I(){const M=this.options,L=M.navigator,f=M.rangeSelector;if((L&&L.enabled||f&&f.enabled)&&(!G&&M.chart.zooming.type==="x"||G&&M.chart.zooming.pinchType==="x"))return!1}function O(M){const L=M.navigator;L&&M.xAxis[0]&&(M=M.xAxis[0].getExtremes(),L.render(M.min,M.max))}function H(M){const L=M.options.navigator||{},f=M.options.scrollbar||{};this.navigator||this.scroller||!L.enabled&&!f.enabled||(te(!0,this.options.navigator,L),te(!0,this.options.scrollbar,f),delete M.options.navigator,delete M.options.scrollbar)}function A(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:E,setOptions:P}=l,{isTouchDevice:G}=c,{getRendererType:V}=w,{addEvent:C,extend:ne,merge:te,pick:F}=$,N=[];let X;return{compose:function(M,L,f,y){d.compose(M),X=f,$.pushUnique(N,L)&&(L.prototype.callbacks.push(O),C(L,"afterAddSeries",ee),C(L,"afterSetChartSize",z),C(L,"afterUpdate",Y),C(L,"beforeRender",Q),C(L,"beforeShowResetZoom",I),C(L,"update",H)),$.pushUnique(N,y)&&C(y,"afterUpdate",A),$.pushUnique(N,V)&&ne(V().prototype.symbols,n),$.pushUnique(N,P)&&ne(E,{navigator:m})}}}),s(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(l){const{addEvent:c,defined:d,pick:m}=l,n=[];class w{static compose(ee,z){if(!l.pushUnique(n,ee))return ee;const Y=Q=>{const I=m(Q.options&&Q.options.min,Q.min),O=m(Q.options&&Q.options.max,Q.max);return{axisMin:I,axisMax:O,scrollMin:d(Q.dataMin)?Math.min(I,Q.min,Q.dataMin,m(Q.threshold,1/0)):I,scrollMax:d(Q.dataMax)?Math.max(O,Q.max,Q.dataMax,m(Q.threshold,-1/0)):O}};return c(ee,"afterInit",function(){const Q=this;Q.options&&Q.options.scrollbar&&Q.options.scrollbar.enabled&&(Q.options.scrollbar.vertical=!Q.horiz,Q.options.startOnTick=Q.options.endOnTick=!1,Q.scrollbar=new z(Q.chart.renderer,Q.options.scrollbar,Q.chart),c(Q.scrollbar,"changed",function(I){let{axisMin:O,axisMax:H,scrollMin:A,scrollMax:E}=Y(Q);var P=E-A;let G;d(O)&&d(H)&&(Q.horiz&&!Q.reversed||!Q.horiz&&Q.reversed?(G=A+P*this.to,P=A+P*this.from):(G=A+P*(1-this.from),P=A+P*(1-this.to)),this.shouldUpdateExtremes(I.DOMType)?Q.setExtremes(P,G,!0,I.DOMType==="mousemove"||I.DOMType==="touchmove"?!1:void 0,I):this.setRange(this.from,this.to))}))}),c(ee,"afterRender",function(){let{scrollMin:Q,scrollMax:I}=Y(this),O=this.scrollbar;var H=this.axisTitleMargin+(this.titleOffset||0),A=this.chart.scrollbarsOffsets;let E=this.options.margin||0;O&&(this.horiz?(this.opposite||(A[1]+=H),O.position(this.left,this.top+this.height+2+A[1]-(this.opposite?E:0),this.width,this.height),this.opposite||(A[1]+=E),H=1):(this.opposite&&(A[0]+=H),O.position(O.options.opposite?this.left+this.width+2+A[0]-(this.opposite?0:E):this.opposite?0:E,this.top,this.width,this.height),this.opposite&&(A[0]+=E),H=0),A[H]+=O.size+(O.options.margin||0),isNaN(Q)||isNaN(I)||!d(this.min)||!d(this.max)||this.min===this.max?O.setRange(0,1):(A=(this.min-Q)/(I-Q),H=(this.max-Q)/(I-Q),this.horiz&&!this.reversed||!this.horiz&&this.reversed?O.setRange(A,H):O.setRange(1-H,1-A)))}),c(ee,"afterGetOffset",function(){const Q=this.scrollbar;var I=Q&&!Q.options.opposite;I=this.horiz?2:I?3:1,Q&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[I]+=Q.size+(Q.options.margin||0))}),ee}}return w}),s(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(l){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),s(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){const{defaultOptions:w}=l,{addEvent:$,correctFloat:ee,defined:z,destroyObjectProperties:Y,fireEvent:Q,merge:I,pick:O,removeEvent:H}=n;class A{static compose(P){d.compose(P,A)}static swapXY(P,G){return G&&P.forEach(V=>{const C=V.length;let ne;for(let te=0;te<C;te+=2)ne=V[te+1],typeof ne=="number"&&(V[te+1]=V[te+2],V[te+2]=ne)}),P}constructor(P,G,V){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(P,G,V)}addEvents(){var P=this.options.inverted?[1,0]:[0,1];const G=this.scrollbarButtons,V=this.scrollbarGroup.element,C=this.track.element,ne=this.mouseDownHandler.bind(this),te=this.mouseMoveHandler.bind(this),F=this.mouseUpHandler.bind(this);P=[[G[P[0]].element,"click",this.buttonToMinClick.bind(this)],[G[P[1]].element,"click",this.buttonToMaxClick.bind(this)],[C,"click",this.trackClick.bind(this)],[V,"mousedown",ne],[V.ownerDocument,"mousemove",te],[V.ownerDocument,"mouseup",F]],c.hasTouch&&P.push([V,"touchstart",ne],[V.ownerDocument,"touchmove",te],[V.ownerDocument,"touchend",F]),P.forEach(function(N){$.apply(null,N)}),this._events=P}buttonToMaxClick(P){const G=(this.to-this.from)*O(this.options.step,.2);this.updatePosition(this.from+G,this.to+G),Q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}buttonToMinClick(P){const G=ee(this.to-this.from)*O(this.options.step,.2);this.updatePosition(ee(this.from-G),ee(this.to-G)),Q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}cursorToScrollbarPosition(P){var G=this.options;return G=G.minWidth>this.calculatedWidth?G.minWidth:0,{chartX:(P.chartX-this.x-this.xOffset)/(this.barWidth-G),chartY:(P.chartY-this.y-this.yOffset)/(this.barWidth-G)}}destroy(){const P=this,G=P.chart.scroller;P.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(V){P[V]&&P[V].destroy&&(P[V]=P[V].destroy())}),G&&P===G.scrollbar&&(G.scrollbar=null,Y(G.scrollbarButtons))}drawScrollbarButton(P){const G=this.renderer,V=this.scrollbarButtons,C=this.options,ne=this.size;var te=G.g().add(this.group);V.push(te),C.buttonsEnabled&&(te=G.rect().addClass("highcharts-scrollbar-button").add(te),this.chart.styledMode||te.attr({stroke:C.buttonBorderColor,"stroke-width":C.buttonBorderWidth,fill:C.buttonBackgroundColor}),te.attr(te.crisp({x:-.5,y:-.5,width:ne+1,height:ne+1,r:C.buttonBorderRadius},te.strokeWidth())),P=G.path(A.swapXY([["M",ne/2+(P?-1:1),ne/2-3],["L",ne/2+(P?-1:1),ne/2+3],["L",ne/2+(P?2:-2),ne/2]],C.vertical)).addClass("highcharts-scrollbar-arrow").add(V[P]),this.chart.styledMode||P.attr({fill:C.buttonArrowColor}))}init(P,G,V){this.scrollbarButtons=[],this.renderer=P,this.userOptions=G,this.options=I(m,w.scrollbar,G),this.options.margin=O(this.options.margin,10),this.chart=V,this.size=O(this.options.size,this.options.height),G.enabled&&(this.render(),this.addEvents())}mouseDownHandler(P){P=this.chart.pointer.normalize(P),P=this.cursorToScrollbarPosition(P),this.chartX=P.chartX,this.chartY=P.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(P){var G=this.chart.pointer.normalize(P),V=this.options.vertical?"chartY":"chartX";const C=this.initPositions||[];!this.grabbedCenter||P.touches&&P.touches[0][V]===0||(G=this.cursorToScrollbarPosition(G)[V],V=this[V],V=G-V,this.hasDragged=!0,this.updatePosition(C[0]+V,C[1]+V),this.hasDragged&&Q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}))}mouseUpHandler(P){this.hasDragged&&Q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(P,G,V,C){const{buttonsEnabled:ne,margin:te=0,vertical:F}=this.options,N=this.rendered?"animate":"attr";let X=C,M=0;this.group.show(),this.x=P,this.y=G+this.trackBorderWidth,this.width=V,this.height=C,this.xOffset=X,this.yOffset=M,F?(this.width=this.yOffset=V=this.size,this.xOffset=X=0,this.yOffset=M=ne?this.size:0,this.barWidth=C-(ne?2*V:0),this.x=P+=te):(this.height=C=this.size,this.xOffset=X=ne?this.size:0,this.barWidth=V-(ne?2*C:0),this.y+=te),this.group[N]({translateX:P,translateY:this.y}),this.track[N]({width:V,height:C}),this.scrollbarButtons[1][N]({translateX:F?0:V-X,translateY:F?C-M:0})}removeEvents(){this._events.forEach(function(P){H.apply(null,P)}),this._events.length=0}render(){const P=this.renderer,G=this.options,V=this.size,C=this.chart.styledMode,ne=P.g("scrollbar").attr({zIndex:G.zIndex}).hide().add();this.group=ne,this.track=P.rect().addClass("highcharts-scrollbar-track").attr({r:G.trackBorderRadius||0,height:V,width:V}).add(ne),C||this.track.attr({fill:G.trackBackgroundColor,stroke:G.trackBorderColor,"stroke-width":G.trackBorderWidth});const te=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-te%2/2,y:-te%2/2}),this.scrollbarGroup=P.g().add(ne),this.scrollbar=P.rect().addClass("highcharts-scrollbar-thumb").attr({height:V-te,width:V-te,r:G.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=P.path(A.swapXY([["M",-3,V/4],["L",-3,2*V/3],["M",0,V/4],["L",0,2*V/3],["M",3,V/4],["L",3,2*V/3]],G.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),C||(this.scrollbar.attr({fill:G.barBackgroundColor,stroke:G.barBorderColor,"stroke-width":G.barBorderWidth}),this.scrollbarRifles.attr({stroke:G.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(P,G){const V=this.options,C=V.vertical;var ne=V.minWidth,te=this.barWidth;const F=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(z(te)){var N=te*Math.min(G,1);P=Math.max(P,0);var X=Math.ceil(te*P);this.calculatedWidth=N=ee(N-X),N<ne&&(X=(te-ne+N)*P,N=ne),ne=Math.floor(X+this.xOffset+this.yOffset),te=N/2-.5,this.from=P,this.to=G,C?(this.scrollbarGroup[F]({translateY:ne}),this.scrollbar[F]({height:N}),this.scrollbarRifles[F]({translateY:te}),this.scrollbarTop=ne,this.scrollbarLeft=0):(this.scrollbarGroup[F]({translateX:ne}),this.scrollbar[F]({width:N}),this.scrollbarRifles[F]({translateX:te}),this.scrollbarLeft=ne,this.scrollbarTop=0),12>=N?this.scrollbarRifles.hide():this.scrollbarRifles.show(),V.showFull===!1&&(0>=P&&1<=G?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(P){return O(this.options.liveRedraw,c.svg&&!c.isTouchDevice&&!this.chart.boosted)||P==="mouseup"||P==="touchend"||!z(P)}trackClick(P){const G=this.chart.pointer.normalize(P),V=this.to-this.from,C=this.y+this.scrollbarTop,ne=this.x+this.scrollbarLeft;this.options.vertical&&G.chartY>C||!this.options.vertical&&G.chartX>ne?this.updatePosition(this.from+V,this.to+V):this.updatePosition(this.from-V,this.to-V),Q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}update(P){this.destroy(),this.init(this.chart.renderer,I(!0,this.options,P),this.chart)}updatePosition(P,G){1<G&&(P=ee(1-ee(G-P)),G=1),0>P&&(G=ee(G-P),P=0),this.from=P,this.to=G}}return A.defaultOptions=m,w.scrollbar=I(!0,A.defaultOptions,w.scrollbar),A}),s(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w,$){function ee(L,...f){if(f=[].filter.call(f,ne),f.length)return Math[L].apply(0,f)}const{defaultOptions:z}=c,{hasTouch:Y,isTouchDevice:Q}=d,{addEvent:I,clamp:O,correctFloat:H,defined:A,destroyObjectProperties:E,erase:P,extend:G,find:V,isArray:C,isNumber:ne,merge:te,pick:F,removeEvent:N,splat:X}=$;class M{static compose(f,y,b){n.compose(f,y,M,b)}constructor(f){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(f)}drawHandle(f,y,b,S){const j=this.navigatorOptions.handles.height;this.handles[y][S](b?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(f,10)+.5-j)}:{translateX:Math.round(this.left+parseInt(f,10)),translateY:Math.round(this.top+this.height/2-j/2-1)})}drawOutline(f,y,b,S){const j=this.navigatorOptions.maskInside;var J=this.outline.strokeWidth();const W=J/2;var re=J%2/2;const ue=this.scrollButtonSize,ve=this.size,q=this.top;J=this.height;const se=q-W,pe=q+J;let xe=this.left;b?(b=q+y+re,y=q+f+re,re=[["M",xe+J,q-ue-re],["L",xe+J,b],["L",xe,b],["M",xe,y],["L",xe+J,y],["L",xe+J,q+ve+ue]],j&&re.push(["M",xe+J,b-W],["L",xe+J,y+W])):(xe-=ue,f+=xe+ue-re,y+=xe+ue-re,re=[["M",xe,se],["L",f,se],["L",f,pe],["M",y,pe],["L",y,se],["L",xe+ve+2*ue,q+W]],j&&re.push(["M",f-W,se],["L",y+W,se])),this.outline[S]({d:re})}drawMasks(f,y,b,S){const j=this.left,J=this.top,W=this.height;let re,ue,ve,q;b?(ve=[j,j,j],q=[J,J+f,J+y],ue=[W,W,W],re=[f,y-f,this.size-y]):(ve=[j,j+f,j+y],q=[J,J,J],ue=[f,y-f,this.size-y],re=[W,W,W]),this.shades.forEach((se,pe)=>{se[S]({x:ve[pe],y:q[pe],width:ue[pe],height:re[pe]})})}renderElements(){const f=this,y=f.navigatorOptions,b=y.maskInside,S=f.chart,j=S.renderer,J={cursor:S.inverted?"ns-resize":"ew-resize"},W=f.navigatorGroup=j.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!b,b,!b].forEach((re,ue)=>{const ve=j.rect().addClass("highcharts-navigator-mask"+(ue===1?"-inside":"-outside")).add(W);S.styledMode||(ve.attr({fill:re?y.maskFill:"rgba(0,0,0,0)"}),ue===1&&ve.css(J)),f.shades[ue]=ve}),f.outline=j.path().addClass("highcharts-navigator-outline").add(W),S.styledMode||f.outline.attr({"stroke-width":y.outlineWidth,stroke:y.outlineColor}),y.handles&&y.handles.enabled){const re=y.handles,{height:ue,width:ve}=re;[0,1].forEach(q=>{f.handles[q]=j.symbol(re.symbols[q],-ve/2-1,0,ve,ue,re),S.inverted&&f.handles[q].attr({rotation:90,rotationOriginX:Math.floor(-ve/2),rotationOriginY:(ue+ve)/2}),f.handles[q].attr({zIndex:7-q}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][q]).add(W),S.styledMode||f.handles[q].attr({fill:re.backgroundColor,stroke:re.borderColor,"stroke-width":re.lineWidth}).css(J)})}}update(f){(this.series||[]).forEach(y=>{y.baseSeries&&delete y.baseSeries.navigatorSeries}),this.destroy(),te(!0,this.chart.options.navigator,f),this.init(this.chart)}render(f,y,b,S){var j=this.chart;const J=this.xAxis,W=J.pointRange||0;var re=J.navigatorAxis.fake?j.xAxis[0]:J;const ue=this.navigatorEnabled;var ve=this.rendered,q=j.inverted;const se=j.xAxis[0].minRange,pe=j.xAxis[0].options.maxRange,xe=this.scrollButtonSize;let Pe=this.scrollbarHeight,ce;if(!this.hasDragged||A(b)){if(f=H(f-W/2),y=H(y+W/2),!ne(f)||!ne(y))if(ve)b=0,S=F(J.width,re.width);else return;this.left=F(J.left,j.plotLeft+xe+(q?j.plotWidth:0));var ye=this.size=ce=F(J.len,(q?j.plotHeight:j.plotWidth)-2*xe);j=q?Pe:ce+2*xe,b=F(b,J.toPixels(f,!0)),S=F(S,J.toPixels(y,!0)),ne(b)&&Math.abs(b)!==1/0||(b=0,S=j),f=J.toValue(b,!0),y=J.toValue(S,!0);var _e=Math.abs(H(y-f));_e<se?this.grabbedLeft?b=J.toPixels(y-se-W,!0):this.grabbedRight&&(S=J.toPixels(f+se+W,!0)):A(pe)&&H(_e-W)>pe&&(this.grabbedLeft?b=J.toPixels(y-pe-W,!0):this.grabbedRight&&(S=J.toPixels(f+pe+W,!0))),this.zoomedMax=O(Math.max(b,S),0,ye),this.zoomedMin=O(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(b,S),0,ye),this.range=this.zoomedMax-this.zoomedMin,ye=Math.round(this.zoomedMax),b=Math.round(this.zoomedMin),ue&&(this.navigatorGroup.attr({visibility:"inherit"}),ve=ve&&!this.hasDragged?"animate":"attr",this.drawMasks(b,ye,q,ve),this.drawOutline(b,ye,q,ve),this.navigatorOptions.handles.enabled&&(this.drawHandle(b,0,q,ve),this.drawHandle(ye,1,q,ve))),this.scrollbar&&(q?(q=this.top-xe,re=this.left-Pe+(ue||!re.opposite?0:(re.titleOffset||0)+re.axisTitleMargin),Pe=ce+2*xe):(q=this.top+(ue?this.height:-Pe),re=this.left-xe),this.scrollbar.position(re,q,j,Pe),this.scrollbar.setRange(this.zoomedMin/(ce||1),this.zoomedMax/(ce||1))),this.rendered=!0}}addMouseEvents(){const f=this,y=f.chart,b=y.container;let S=[],j,J;f.mouseMoveHandler=j=function(W){f.onMouseMove(W)},f.mouseUpHandler=J=function(W){f.onMouseUp(W)},S=f.getPartsEvents("mousedown"),S.push(I(y.renderTo,"mousemove",j),I(b.ownerDocument,"mouseup",J)),Y&&(S.push(I(y.renderTo,"touchmove",j),I(b.ownerDocument,"touchend",J)),S.concat(f.getPartsEvents("touchstart"))),f.eventsToUnbind=S,f.series&&f.series[0]&&S.push(I(f.series[0].xAxis,"foundExtremes",function(){y.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(f){const y=this,b=[];return["shades","handles"].forEach(function(S){y[S].forEach(function(j,J){b.push(I(j.element,f,function(W){y[S+"Mousedown"](W,J)}))})}),b}shadesMousedown(f,y){f=this.chart.pointer.normalize(f);const b=this.chart,S=this.xAxis,j=this.zoomedMin,J=this.size,W=this.range;let re=this.left,ue=f.chartX,ve,q;b.inverted&&(ue=f.chartY,re=this.top),y===1?(this.grabbedCenter=ue,this.fixedWidth=W,this.dragOffset=ue-j):(f=ue-re-W/2,y===0?f=Math.max(0,f):y===2&&f+W>=J&&(f=J-W,this.reversedExtremes?(f-=W,q=this.getUnionExtremes().dataMin):ve=this.getUnionExtremes().dataMax),f!==j&&(this.fixedWidth=W,y=S.navigatorAxis.toFixedRange(f,f+W,q,ve),A(y.min)&&b.xAxis[0].setExtremes(Math.min(y.min,y.max),Math.max(y.min,y.max),!0,null,{trigger:"navigator"})))}handlesMousedown(f,y){this.chart.pointer.normalize(f),f=this.chart;const b=f.xAxis[0],S=this.reversedExtremes;y===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=S?b.min:b.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=S?b.max:b.min),f.fixedRange=null}onMouseMove(f){const y=this;var b=y.chart;const S=y.navigatorSize,j=y.range,J=y.dragOffset,W=b.inverted;let re=y.left;f.touches&&f.touches[0].pageX===0||(f=b.pointer.normalize(f),b=f.chartX,W&&(re=y.top,b=f.chartY),y.grabbedLeft?(y.hasDragged=!0,y.render(0,0,b-re,y.otherHandlePos)):y.grabbedRight?(y.hasDragged=!0,y.render(0,0,y.otherHandlePos,b-re)):y.grabbedCenter&&(y.hasDragged=!0,b<J?b=J:b>S+J-j&&(b=S+J-j),y.render(0,0,b-J,b-J+j)),y.hasDragged&&y.scrollbar&&F(y.scrollbar.options.liveRedraw,!Q&&!this.chart.boosted)&&(f.DOMType=f.type,setTimeout(function(){y.onMouseUp(f)},0)))}onMouseUp(f){var y=this.chart,b=this.xAxis,S=this.scrollbar;const j=f.DOMEvent||f,J=y.inverted,W=this.rendered&&!this.hasDragged?"animate":"attr";let re,ue;(!this.hasDragged||S&&S.hasDragged)&&f.trigger!=="scrollbar"||(S=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?re=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(ue=this.fixedExtreme),this.zoomedMax===this.size&&(ue=this.reversedExtremes?S.dataMin:S.dataMax),this.zoomedMin===0&&(re=this.reversedExtremes?S.dataMax:S.dataMin),b=b.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,re,ue),A(b.min)&&y.xAxis[0].setExtremes(Math.min(b.min,b.max),Math.max(b.min,b.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:j})),f.DOMType!=="mousemove"&&f.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ne(this.zoomedMin)&&ne(this.zoomedMax)&&(y=Math.round(this.zoomedMin),f=Math.round(this.zoomedMax),this.shades&&this.drawMasks(y,f,J,W),this.outline&&this.drawOutline(y,f,J,W),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(y,0,J,W),this.drawHandle(f,1,J,W)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(f){f()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const f=this.baseSeries||[];this.navigatorEnabled&&f[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&f.forEach(function(y){N(y,"updatedData",this.updatedDataHandler)},this),f[0].xAxis&&N(f[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(f){var y=f.options,b=y.navigator||{},S=b.enabled,j=y.scrollbar||{},J=j.enabled;y=S&&b.height||0;var W=J&&j.height||0;const re=j.buttonsEnabled&&W||0;this.handles=[],this.shades=[],this.chart=f,this.setBaseSeries(),this.height=y,this.scrollbarHeight=W,this.scrollButtonSize=re,this.scrollbarEnabled=J,this.navigatorEnabled=S,this.navigatorOptions=b,this.scrollbarOptions=j,this.opposite=F(b.opposite,!(S||!f.inverted));const ue=this;S=ue.baseSeries,j=f.xAxis.length,J=f.yAxis.length,W=S&&S[0]&&S[0].xAxis||f.xAxis[0]||{options:{}},f.isDirtyBox=!0,ue.navigatorEnabled?(ue.xAxis=new l(f,te({breaks:W.options.breaks,ordinal:W.options.ordinal},b.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:j,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},f.inverted?{offsets:[re,0,-re,0],width:y}:{offsets:[0,-re,0,re],height:y})),ue.yAxis=new l(f,te(b.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:J,isInternal:!0,reversed:F(b.yAxis&&b.yAxis.reversed,f.yAxis[0]&&f.yAxis[0].reversed,!1),zoomEnabled:!1},f.inverted?{width:y}:{height:y})),S||b.series.data?ue.updateNavigatorSeries(!1):f.series.length===0&&(ue.unbindRedraw=I(f,"beforeRedraw",function(){0<f.series.length&&!ue.series&&(ue.setBaseSeries(),ue.unbindRedraw())})),ue.reversedExtremes=f.inverted&&!ue.xAxis.reversed||!f.inverted&&ue.xAxis.reversed,ue.renderElements(),ue.addMouseEvents()):(ue.xAxis={chart:f,navigatorAxis:{fake:!0},translate:function(ve,q){var se=f.xAxis[0];const pe=se.getExtremes(),xe=se.len-2*re,Pe=ee("min",se.options.min,pe.dataMin);return se=ee("max",se.options.max,pe.dataMax)-Pe,q?ve*se/xe+Pe:xe*(ve-Pe)/se},toPixels:function(ve){return this.translate(ve)},toValue:function(ve){return this.translate(ve,!0)}},ue.xAxis.navigatorAxis.axis=ue.xAxis,ue.xAxis.navigatorAxis.toFixedRange=m.prototype.toFixedRange.bind(ue.xAxis.navigatorAxis)),f.options.scrollbar.enabled&&(b=te(f.options.scrollbar,{vertical:f.inverted}),!ne(b.margin)&&ue.navigatorEnabled&&(b.margin=f.inverted?-3:3),f.scrollbar=ue.scrollbar=new w(f.renderer,b,f),I(ue.scrollbar,"changed",function(ve){var q=ue.size;const se=q*this.to;q*=this.from,ue.hasDragged=ue.scrollbar.hasDragged,ue.render(0,0,q,se),this.shouldUpdateExtremes(ve.DOMType)&&setTimeout(function(){ue.onMouseUp(ve)})})),ue.addBaseSeriesEvents(),ue.addChartEvents()}getUnionExtremes(f){const y=this.chart.xAxis[0],b=this.xAxis,S=b.options,j=y.options;let J;return f&&y.dataMin===null||(J={dataMin:F(S&&S.min,ee("min",j.min,y.dataMin,b.dataMin,b.min)),dataMax:F(S&&S.max,ee("max",j.max,y.dataMax,b.dataMax,b.max))}),J}setBaseSeries(f,y){const b=this.chart,S=this.baseSeries=[];f=f||b.options&&b.options.navigator.baseSeries||(b.series.length?V(b.series,j=>!j.options.isInternal).index:0),(b.series||[]).forEach((j,J)=>{j.options.isInternal||!j.options.showInNavigator&&(J!==f&&j.options.id!==f||j.options.showInNavigator===!1)||S.push(j)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,y)}updateNavigatorSeries(f,y){const b=this,S=b.chart,j=b.baseSeries,J={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},W=b.series=(b.series||[]).filter(se=>{const pe=se.baseSeries;return 0>j.indexOf(pe)?(pe&&(N(pe,"updatedData",b.updatedDataHandler),delete pe.navigatorSeries),se.chart&&se.destroy(),!1):!0});let re,ue,ve=b.navigatorOptions.series,q;j&&j.length&&j.forEach(se=>{const pe=se.navigatorSeries;var xe=G({color:se.color,visible:se.visible},C(ve)?z.navigator.series:ve);pe&&b.navigatorOptions.adaptToUpdatedData===!1||(J.name="Navigator "+j.length,re=se.options||{},q=re.navigatorOptions||{},xe.dataLabels=X(xe.dataLabels),ue=te(re,J,xe,q),ue.pointRange=F(xe.pointRange,q.pointRange,z.plotOptions[ue.type||"line"].pointRange),xe=q.data||xe.data,b.hasNavigatorData=b.hasNavigatorData||!!xe,ue.data=xe||re.data&&re.data.slice(0),pe&&pe.options?pe.update(ue,y):(se.navigatorSeries=S.initSeries(ue),se.navigatorSeries.baseSeries=se,W.push(se.navigatorSeries)))}),(ve.data&&(!j||!j.length)||C(ve))&&(b.hasNavigatorData=!1,ve=X(ve),ve.forEach((se,pe)=>{J.name="Navigator "+(W.length+1),ue=te(z.navigator.series,{color:S.series[pe]&&!S.series[pe].options.isInternal&&S.series[pe].color||S.options.colors[pe]||S.options.colors[0]},J,se),ue.data=se.data,ue.data&&(b.hasNavigatorData=!0,W.push(S.initSeries(ue)))})),f&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const f=this,y=f.baseSeries||[];y[0]&&y[0].xAxis&&y[0].eventsToUnbind.push(I(y[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),y.forEach(b=>{b.eventsToUnbind.push(I(b,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),b.eventsToUnbind.push(I(b,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&b.xAxis&&b.eventsToUnbind.push(I(b,"updatedData",this.updatedDataHandler)),b.eventsToUnbind.push(I(b,"remove",function(){this.navigatorSeries&&(P(f.series,this.navigatorSeries),A(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(f){return this.baseSeries.reduce(function(y,b){return Math.min(y,b.xData&&b.xData.length?b.xData[0]:y)},f)}modifyNavigatorAxisExtremes(){const f=this.xAxis;if(typeof f.getExtremes<"u"){const y=this.getUnionExtremes(!0);!y||y.dataMin===f.min&&y.dataMax===f.max||(f.min=y.dataMin,f.max=y.dataMax)}}modifyBaseAxisExtremes(){const f=this.chart.navigator;var y=this.getExtremes();const b=y.dataMin,S=y.dataMax;y=y.max-y.min;const j=f.stickToMin,J=f.stickToMax,W=F(this.options.overscroll,0),re=f.series&&f.series[0],ue=!!this.setExtremes;let ve,q;this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton"||(j&&(q=b,ve=q+y),J&&(ve=S+W,j||(q=Math.max(b,ve-y,f.getBaseSeriesMin(re&&re.xData?re.xData[0]:-Number.MAX_VALUE)))),ue&&(j||J)&&ne(q)&&(this.min=this.userMin=q,this.max=this.userMax=ve)),f.stickToMin=f.stickToMax=null}updatedDataHandler(){const f=this.chart.navigator,y=this.navigatorSeries;f.stickToMax=F(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,f.reversedExtremes?Math.round(f.zoomedMin)===0:Math.round(f.zoomedMax)>=Math.round(f.size)),f.stickToMin=f.shouldStickToMin(this,f),y&&!f.hasNavigatorData&&(y.options.pointStart=this.xData[0],y.setData(this.options.data,!1,null,!1))}shouldStickToMin(f,y){y=y.getBaseSeriesMin(f.xData[0]);var b=f.xAxis;f=b.max;const S=b.min;return b=b.options.range,ne(f)&&ne(S)?b&&0<f-y?f-y<b:S<=y:!1}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(I(this.chart,"redraw",function(){const f=this.navigator,y=f&&(f.baseSeries&&f.baseSeries[0]&&f.baseSeries[0].xAxis||this.xAxis[0]);y&&f.render(y.min,y.max)}),I(this.chart,"getMargins",function(){let f=this.navigator,y=f.opposite?"plotTop":"marginBottom";this.inverted&&(y=f.opposite?"marginRight":"plotLeft"),this[y]=(this[y]||0)+(f.navigatorEnabled||!this.inverted?f.height+f.scrollbarHeight:0)+f.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(P(this.chart.xAxis,this.xAxis),P(this.chart.axes,this.xAxis)),this.yAxis&&(P(this.chart.yAxis,this.yAxis),P(this.chart.axes,this.yAxis)),(this.series||[]).forEach(f=>{f.destroy&&f.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(f=>{this[f]&&this[f].destroy&&this[f].destroy(),this[f]=null}),[this.handles].forEach(f=>{E(f)})}}return M}),s(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),s(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(l,c,d){function m(){const N=this.range,X=N.type,M=this.max,L=this.chart.time,f=function(j,J){const W=X==="year"?"FullYear":"Month",re=new L.Date(j),ue=L.get(W,re);return L.set(W,re,ue+J),ue===L.get(W,re)&&L.set("Date",re,0),re.getTime()-j};let y,b;G(N)?(y=M-N,b=N):N&&(y=M+f(M,-(N.count||1)),this.chart&&(this.chart.fixedRange=M-y));const S=C(this.dataMin,Number.MIN_VALUE);return G(y)||(y=S),y<=S&&(y=S,typeof b>"u"&&(b=f(y,N.count)),this.newMax=Math.min(y+b,C(this.dataMax,Number.MAX_VALUE))),G(M)?!G(N)&&N&&N._offsetMin&&(y+=N._offsetMin):y=void 0,y}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new F(this))}function w(){var N=this.axes;const X=this.rangeSelector;X&&(G(X.deferredYTDClick)&&(X.clickButton(X.deferredYTDClick),delete X.deferredYTDClick),N.forEach(M=>{M.updateNames(),M.setScale()}),this.getAxisMargins(),X.render(),N=X.options.verticalAlign,X.options.floating||(N==="bottom"?this.extraBottomMargin=!0:N!=="middle"&&(this.extraTopMargin=!0)))}function $(N){let X,M,L,f;const y=N.rangeSelector,b=()=>{y&&(X=N.xAxis[0].getExtremes(),M=N.legend,f=y&&y.options.verticalAlign,G(X.min)&&y.render(X.min,X.max),M.display&&f==="top"&&f===M.options.verticalAlign&&(L=V(N.spacingBox),L.y=M.options.layout==="vertical"?N.plotTop:L.y+y.getHeight(),M.group.placed=!1,M.align(L)))};y&&(P(ne,S=>S[0]===N)||ne.push([N,[H(N.xAxis[0],"afterSetExtremes",function(S){y&&y.render(S.min,S.max)}),H(N,"redraw",b)]]),b())}function ee(){for(let N=0,X=ne.length;N<X;++N){const M=ne[N];if(M[0]===this){M[1].forEach(L=>L()),ne.splice(N,1);break}}}function z(){var N=this.rangeSelector;N&&(N=N.getHeight(),this.extraTopMargin&&(this.plotTop+=N),this.extraBottomMargin&&(this.marginBottom+=N))}function Y(){var N=this.rangeSelector;N&&!N.options.floating&&(N.render(),N=N.options.verticalAlign,N==="bottom"?this.extraBottomMargin=!0:N!=="middle"&&(this.extraTopMargin=!0))}function Q(N){var X=N.options.rangeSelector;N=this.extraBottomMargin;const M=this.extraTopMargin;let L=this.rangeSelector;X&&X.enabled&&!A(L)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=L=new F(this)),this.extraTopMargin=this.extraBottomMargin=!1,L&&($(this),X=X&&X.verticalAlign||L.options&&L.options.verticalAlign,L.options.floating||(X==="bottom"?this.extraBottomMargin=!0:X!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==N||this.extraTopMargin!==M)&&(this.isDirtyBox=!0)}const{defaultOptions:I,setOptions:O}=l,{addEvent:H,defined:A,extend:E,find:P,isNumber:G,merge:V,pick:C}=d,ne=[],te=[];let F;return{compose:function(N,X,M){F=M,d.pushUnique(te,N)&&(N.prototype.minFromRange=m),d.pushUnique(te,X)&&(H(X,"afterGetContainer",n),H(X,"beforeRender",w),H(X,"destroy",ee),H(X,"getMargins",z),H(X,"render",Y),H(X,"update",Q),X.prototype.callbacks.push($)),d.pushUnique(te,O)&&(E(I,{rangeSelector:c.rangeSelector}),E(I.lang,c.lang))}}}),s(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w){function $(X){if(X.indexOf("%L")!==-1)return"text";const M="aAdewbBmoyY".split("").some(f=>X.indexOf("%"+f)!==-1),L="HkIlMS".split("").some(f=>X.indexOf("%"+f)!==-1);return M&&L?"datetime-local":M?"date":L?"time":"text"}const{defaultOptions:ee}=c,{addEvent:z,createElement:Y,css:Q,defined:I,destroyObjectProperties:O,discardElement:H,extend:A,fireEvent:E,isNumber:P,merge:G,objectEach:V,pad:C,pick:ne,pInt:te,splat:F}=w;class N{static compose(M,L){m.compose(M,L,N)}constructor(M){this.buttons=void 0,this.buttonOptions=N.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=M,this.init(M)}clickButton(M,L){const f=this.chart,y=this.buttonOptions[M],b=f.xAxis[0];var S=f.scroller&&f.scroller.getUnionExtremes()||b||{},j=y.type;const J=y.dataGrouping;let W=S.dataMin,re=S.dataMax,ue,ve=b&&Math.round(Math.min(b.max,ne(re,b.max))),q;S=y._range;let se,pe,xe,Pe=!0;if(W!==null&&re!==null){if(f.fixedRange=S,this.setSelected(M),J&&(this.forcedDataGrouping=!0,l.prototype.setDataGrouping.call(b||{chart:this.chart},J,!1),this.frozenStates=y.preserveDataGrouping),j==="month"||j==="year")b?(j={range:y,max:ve,chart:f,dataMin:W,dataMax:re},ue=b.minFromRange.call(j),P(j.newMax)&&(ve=j.newMax),Pe=!1):S=y;else if(S)ue=Math.max(ve-S,W),ve=Math.min(ue+S,re),Pe=!1;else if(j==="ytd")if(b)(typeof re>"u"||typeof W>"u")&&(W=Number.MAX_VALUE,re=Number.MIN_VALUE,f.series.forEach(ce=>{(ce=ce.xData)&&(W=Math.min(ce[0],W),re=Math.max(ce[ce.length-1],re))}),L=!1),j=this.getYTDExtremes(re,W,f.time.useUTC),ue=se=j.min,ve=j.max;else{this.deferredYTDClick=M;return}else j==="all"&&b&&(f.navigator&&f.navigator.baseSeries[0]&&(f.navigator.baseSeries[0].xAxis.options.range=void 0),ue=W,ve=re);Pe&&y._offsetMin&&I(ue)&&(ue+=y._offsetMin),y._offsetMax&&I(ve)&&(ve+=y._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=M+1),b?b.setExtremes(ue,ve,ne(L,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:y}):(q=F(f.options.xAxis)[0],xe=q.range,q.range=S,pe=q.min,q.min=se,z(f,"load",function(){q.range=xe,q.min=pe})),E(this,"afterBtnClick")}}setSelected(M){this.selected=this.options.selected=M}init(M){const L=this,f=M.options.rangeSelector,y=f.buttons||L.defaultButtons.slice(),b=f.selected,S=function(){const j=L.minInput,J=L.maxInput;j&&j.blur&&E(j,"blur"),J&&J.blur&&E(J,"blur")};L.chart=M,L.options=f,L.buttons=[],L.buttonOptions=y,this.eventsToUnbind=[],this.eventsToUnbind.push(z(M.container,"mousedown",S)),this.eventsToUnbind.push(z(M,"resize",S)),y.forEach(L.computeButtonRange),typeof b<"u"&&y[b]&&this.clickButton(b,!1),this.eventsToUnbind.push(z(M,"load",function(){M.xAxis&&M.xAxis[0]&&z(M.xAxis[0],"setExtremes",function(j){this.max-this.min!==M.fixedRange&&j.trigger!=="rangeSelectorButton"&&j.trigger!=="updatedData"&&L.forcedDataGrouping&&!L.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const M=this;var L=this.chart;const f=this.dropdown,y=L.xAxis[0],b=Math.round(y.max-y.min),S=!y.hasVisibleSeries,j=L.scroller&&L.scroller.getUnionExtremes()||y,J=j.dataMin,W=j.dataMax;L=M.getYTDExtremes(W,J,L.time.useUTC);const re=L.min,ue=L.max,ve=M.selected,q=M.options.allButtonsEnabled,se=M.buttons;let pe=P(ve);M.buttonOptions.forEach((xe,Pe)=>{var ce=xe._range,ye=xe.type,_e=xe.count||1;const le=se[Pe],Z=xe._offsetMax-xe._offsetMin,me=Pe===ve,Me=ce>W-J,Ee=ce<y.minRange;xe=0;let ze=!1,Qe=!1;ce=ce===b,(ye==="month"||ye==="year")&&b+36e5>=864e5*{month:28,year:365}[ye]*_e-Z&&b-36e5<=864e5*{month:31,year:366}[ye]*_e+Z?ce=!0:ye==="ytd"?(ce=ue-re+Z===b,ze=!me):ye==="all"&&(ce=y.max-y.min>=W-J,Qe=!me&&pe&&ce),ye=!q&&(Me||Ee||Qe||S),_e=me&&ce||ce&&!pe&&!ze||me&&M.frozenStates,ye?xe=3:_e&&(pe=!0,xe=2),le.state!==xe&&(le.setState(xe),f&&(f.options[Pe+1].disabled=ye,xe===2&&(f.selectedIndex=Pe+1)),xe===0&&ve===Pe&&M.setSelected())})}computeButtonRange(M){const L=M.type,f=M.count||1,y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};y[L]?M._range=y[L]*f:(L==="month"||L==="year")&&(M._range=864e5*{month:30,year:365}[L]*f),M._offsetMin=ne(M.offsetMin,0),M._offsetMax=ne(M.offsetMax,0),M._range+=M._offsetMax-M._offsetMin}getInputValue(M){M=M==="min"?this.minInput:this.maxInput;const L=this.chart.options.rangeSelector,f=this.chart.time;return M?(M.type==="text"&&L.inputDateParser||this.defaultInputDateParser)(M.value,f.useUTC,f):0}setInputValue(M,L){const f=this.options,y=this.chart.time,b=M==="min"?this.minInput:this.maxInput;if(M=M==="min"?this.minDateBox:this.maxDateBox,b){var S=b.getAttribute("data-hc-time");S=I(S)?Number(S):void 0,I(L)&&(I(S)&&b.setAttribute("data-hc-time-previous",S),b.setAttribute("data-hc-time",L),S=L),b.value=y.dateFormat(this.inputTypeFormats[b.type]||f.inputEditDateFormat,S),M&&M.attr({text:y.dateFormat(f.inputDateFormat,S)})}}setInputExtremes(M,L,f){if(M=M==="min"?this.minInput:this.maxInput){const y=this.inputTypeFormats[M.type],b=this.chart.time;y&&(L=b.dateFormat(y,L),M.min!==L&&(M.min=L),f=b.dateFormat(y,f),M.max!==f&&(M.max=f))}}showInput(M){const L=M==="min"?this.minDateBox:this.maxDateBox;if((M=M==="min"?this.minInput:this.maxInput)&&L&&this.inputGroup){const f=M.type==="text",{translateX:y,translateY:b}=this.inputGroup,{inputBoxWidth:S}=this.options;Q(M,{width:f?L.width+(S?-2:20)+"px":"auto",height:L.height-2+"px",border:"2px solid silver"}),f&&S?Q(M,{left:y+L.x+"px",top:b+"px"}):Q(M,{left:Math.min(Math.round(L.x+y-(M.offsetWidth-L.width)/2),this.chart.chartWidth-M.offsetWidth)+"px",top:b-(M.offsetHeight-L.height)/2+"px"})}}hideInput(M){(M=M==="min"?this.minInput:this.maxInput)&&Q(M,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(M,L,f){var y=M.split("/").join("-").split(" ").join("T");if(y.indexOf("T")===-1&&(y+="T00:00"),L)y+="Z";else{var b;(b=d.isSafari)&&(b=y,b=!(6<b.length&&(b.lastIndexOf("-")===b.length-6||b.lastIndexOf("+")===b.length-6))),b&&(b=new Date(y).getTimezoneOffset()/60,y+=0>=b?`+${C(-b)}:00`:`-${C(b)}:00`)}return y=Date.parse(y),P(y)||(M=M.split("-"),y=Date.UTC(te(M[0]),te(M[1])-1,te(M[2]))),f&&L&&P(y)&&(y+=f.getTimezoneOffset(y)),y}drawInput(M){function L(){const{maxInput:se,minInput:pe}=S,xe=f.xAxis[0];var Pe=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:xe;const ce=Pe.dataMin;Pe=Pe.dataMax;let ye=S.getInputValue(M);ye!==Number(ve.getAttribute("data-hc-time-previous"))&&P(ye)&&(ve.setAttribute("data-hc-time-previous",ye),re&&se&&P(ce)?ye>Number(se.getAttribute("data-hc-time"))?ye=void 0:ye<ce&&(ye=ce):pe&&P(Pe)&&(ye<Number(pe.getAttribute("data-hc-time"))?ye=void 0:ye>Pe&&(ye=Pe)),typeof ye<"u"&&xe.setExtremes(re?ye:xe.min,re?xe.max:ye,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:f,div:y,inputGroup:b}=this,S=this,j=f.renderer.style||{};var J=f.renderer;const W=f.options.rangeSelector,re=M==="min";var ue=ee.lang[re?"rangeSelectorFrom":"rangeSelectorTo"]||"";ue=J.label(ue,0).addClass("highcharts-range-label").attr({padding:ue?2:0,height:ue?W.inputBoxHeight:0}).add(b),J=J.label("",0).addClass("highcharts-range-input").attr({padding:2,width:W.inputBoxWidth,height:W.inputBoxHeight,"text-align":"center"}).on("click",function(){S.showInput(M),S[M+"Input"].focus()}),f.styledMode||J.attr({stroke:W.inputBoxBorderColor,"stroke-width":1}),J.add(b);const ve=Y("input",{name:M,className:"highcharts-range-selector"},void 0,y);ve.setAttribute("type",$(W.inputDateFormat||"%e %b %Y")),f.styledMode||(ue.css(G(j,W.labelStyle)),J.css(G({color:"#333333"},j,W.inputStyle)),Q(ve,A({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:j.fontSize,fontFamily:j.fontFamily,top:"-9999em"},W.inputStyle))),ve.onfocus=()=>{S.showInput(M)},ve.onblur=()=>{ve===d.doc.activeElement&&L(),S.hideInput(M),S.setInputValue(M),ve.blur()};let q=!1;return ve.onchange=()=>{q||(L(),S.hideInput(M),ve.blur())},ve.onkeypress=se=>{se.keyCode===13&&L()},ve.onkeydown=se=>{q=!0,se.keyCode!==38&&se.keyCode!==40||L()},ve.onkeyup=()=>{q=!1},{dateBox:J,input:ve,label:ue}}getPosition(){var M=this.chart;const L=M.options.rangeSelector;return M=L.verticalAlign==="top"?M.plotTop-M.axisOffset[0]:0,{buttonTop:M+L.buttonPosition.y,inputTop:M+L.inputPosition.y-10}}getYTDExtremes(M,L,f){const y=this.chart.time;var b=new y.Date(M);const S=y.get("FullYear",b);return f=f?y.Date.UTC(S,0,1):+new y.Date(S,0,1),L=Math.max(L,f),b=b.getTime(),{max:Math.min(M||b,b),min:L}}render(M,L){var f=this.chart,y=f.renderer;const b=f.container;var S=f.options;const j=S.rangeSelector,J=ne(S.chart.style&&S.chart.style.zIndex,0)+1;if(S=j.inputEnabled,j.enabled!==!1){if(this.rendered||(this.group=y.g("range-selector-group").attr({zIndex:7}).add(),this.div=Y("div",void 0,{position:"relative",height:0,zIndex:J}),this.buttonOptions.length&&this.renderButtons(),b.parentNode&&b.parentNode.insertBefore(this.div,b),S&&(this.inputGroup=y.g("input-group").add(this.group),y=this.drawInput("min"),this.minDateBox=y.dateBox,this.minLabel=y.label,this.minInput=y.input,y=this.drawInput("max"),this.maxDateBox=y.dateBox,this.maxLabel=y.label,this.maxInput=y.input)),S&&(this.setInputValue("min",M),this.setInputValue("max",L),M=f.scroller&&f.scroller.getUnionExtremes()||f.xAxis[0]||{},I(M.dataMin)&&I(M.dataMax)&&(f=f.xAxis[0].minRange||0,this.setInputExtremes("min",M.dataMin,Math.min(M.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(M.dataMin,this.getInputValue("min"))+f,M.dataMax)),this.inputGroup)){let W=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(re=>{if(re){const{width:ue}=re.getBBox();ue&&(re.attr({x:W}),W+=ue+j.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:M,chart:L,options:f}=this,y=ee.lang,b=L.renderer,S=G(f.buttonTheme),j=S&&S.states,J=S.width||28;delete S.width,delete S.states,this.buttonGroup=b.g("range-selector-buttons").add(this.group);const W=this.dropdown=Y("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);z(W,"touchstart",()=>{W.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([re,ue])=>{z(W,re,()=>{const ve=M[this.currentButtonIndex()];ve&&E(ve.element,ue||re)})}),this.zoomText=b.label(y&&y.rangeSelectorZoom||"",0).attr({padding:f.buttonTheme.padding,height:f.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(f.labelStyle),S["stroke-width"]=ne(S["stroke-width"],0)),Y("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,W),this.buttonOptions.forEach((re,ue)=>{Y("option",{textContent:re.title||re.text},void 0,W),M[ue]=b.button(re.text,0,0,ve=>{const q=re.events&&re.events.click;let se;q&&(se=q.call(re,ve)),se!==!1&&this.clickButton(ue),this.isActive=!0},S,j&&j.hover,j&&j.select,j&&j.disabled).attr({"text-align":"center",width:J}).add(this.buttonGroup),re.title&&M[ue].attr("title",re.title)})}alignElements(){const{buttonGroup:M,buttons:L,chart:f,group:y,inputGroup:b,options:S,zoomText:j}=this;var J=f.options;const W=J.exporting&&J.exporting.enabled!==!1&&J.navigation&&J.navigation.buttonOptions,{buttonPosition:re,inputPosition:ue,verticalAlign:ve}=S;J=(xe,Pe)=>W&&this.titleCollision(f)&&ve==="top"&&Pe.align==="right"&&Pe.y-xe.getBBox().height-12<(W.y||0)+(W.height||0)+f.spacing[0]?-40:0;var q=f.plotLeft;if(y&&re&&ue){var se=re.x-f.spacing[3];if(M){if(this.positionButtons(),!this.initialButtonGroupWidth){let ye=0;j&&(ye+=j.getBBox().width+5),L.forEach((_e,le)=>{ye+=_e.width,le!==L.length-1&&(ye+=S.buttonSpacing)}),this.initialButtonGroupWidth=ye}q-=f.spacing[3],this.updateButtonStates();var pe=J(M,re);this.alignButtonGroup(pe),y.placed=M.placed=f.hasLoaded}pe=0,b&&(pe=J(b,ue),ue.align==="left"?se=q:ue.align==="right"&&(se=-Math.max(f.axisOffset[1],-pe)),b.align({y:ue.y,width:b.getBBox().width,align:ue.align,x:ue.x+se-2},!0,f.spacingBox),b.placed=f.hasLoaded),this.handleCollision(pe),y.align({verticalAlign:ve},!0,f.spacingBox),J=y.alignAttr.translateY,q=y.getBBox().height+20,se=0,ve==="bottom"&&(se=(se=f.legend&&f.legend.options)&&se.verticalAlign==="bottom"&&se.enabled&&!se.floating?f.legend.legendHeight+ne(se.margin,10):0,q=q+se-20,se=J-q-(S.floating?0:S.y)-(f.titleOffset?f.titleOffset[2]:0)-10),ve==="top"?(S.floating&&(se=0),f.titleOffset&&f.titleOffset[0]&&(se=f.titleOffset[0]),se+=f.margin[0]-f.spacing[0]||0):ve==="middle"&&(ue.y===re.y?se=J:(ue.y||re.y)&&(se=0>ue.y||0>re.y?se-Math.min(ue.y,re.y):J-q)),y.translate(S.x,S.y+Math.floor(se));const{minInput:xe,maxInput:Pe,dropdown:ce}=this;S.inputEnabled&&xe&&Pe&&(xe.style.marginTop=y.translateY+"px",Pe.style.marginTop=y.translateY+"px"),ce&&(ce.style.marginTop=y.translateY+"px")}}alignButtonGroup(M,L){const{chart:f,options:y,buttonGroup:b}=this,{buttonPosition:S}=y,j=f.plotLeft-f.spacing[3];let J=S.x-f.spacing[3];S.align==="right"?J+=M-j:S.align==="center"&&(J-=j/2),b&&b.align({y:S.y,width:ne(L,this.initialButtonGroupWidth),align:S.align,x:J},!0,f.spacingBox)}positionButtons(){const{buttons:M,chart:L,options:f,zoomText:y}=this,b=L.hasLoaded?"animate":"attr",{buttonPosition:S}=f,j=L.plotLeft;let J=j;y&&y.visibility!=="hidden"&&(y[b]({x:ne(j+S.x,j)}),J+=S.x+y.getBBox().width+5);for(let W=0,re=this.buttonOptions.length;W<re;++W)M[W].visibility!=="hidden"?(M[W][b]({x:J}),J+=M[W].width+f.buttonSpacing):M[W][b]({x:j})}handleCollision(M){const{chart:L,buttonGroup:f,inputGroup:y}=this,{buttonPosition:b,dropdown:S,inputPosition:j}=this.options,J=()=>{let ue=0;return this.buttons.forEach(ve=>{ve=ve.getBBox(),ve.width>ue&&(ue=ve.width)}),ue},W=ue=>{if(y&&f){const ve=y.alignAttr.translateX+y.alignOptions.x-M+y.getBBox().x+2,q=y.alignOptions.width,se=f.alignAttr.translateX+f.getBBox().x;return se+ue>ve&&ve+q>se&&b.y<j.y+y.getBBox().height}return!1},re=()=>{y&&f&&y.attr({translateX:y.alignAttr.translateX+(L.axisOffset[1]>=-M?0:-M),translateY:y.alignAttr.translateY+f.getBBox().height+10})};if(f){if(S==="always"){this.collapseButtons(M),W(J())&&re();return}S==="never"&&this.expandButtons()}y&&f?j.align===b.align||W(this.initialButtonGroupWidth+20)?S==="responsive"?(this.collapseButtons(M),W(J())&&re()):re():S==="responsive"&&this.expandButtons():f&&S==="responsive"&&(this.initialButtonGroupWidth>L.plotWidth?this.collapseButtons(M):this.expandButtons())}collapseButtons(M){const{buttons:L,buttonOptions:f,chart:y,dropdown:b,options:S,zoomText:j}=this,J=y.userOptions.rangeSelector&&y.userOptions.rangeSelector.buttonTheme||{},W=ve=>({text:ve?`${ve} ▾`:"▾",width:"auto",paddingLeft:ne(S.buttonTheme.paddingLeft,J.padding,8),paddingRight:ne(S.buttonTheme.paddingRight,J.padding,8)});j&&j.hide();let re=!1;f.forEach((ve,q)=>{q=L[q],q.state!==2?q.hide():(q.show(),q.attr(W(ve.text)),re=!0)}),re||(b&&(b.selectedIndex=0),L[0].show(),L[0].attr(W(this.zoomText&&this.zoomText.textStr)));const{align:ue}=S.buttonPosition;this.positionButtons(),ue!=="right"&&ue!=="center"||this.alignButtonGroup(M,L[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:M,buttonOptions:L,options:f,zoomText:y}=this;this.hideDropdown(),y&&y.show(),L.forEach((b,S)=>{S=M[S],S.show(),S.attr({text:b.text,width:f.buttonTheme.width||28,paddingLeft:ne(f.buttonTheme.paddingLeft,"unset"),paddingRight:ne(f.buttonTheme.paddingRight,"unset")}),2>S.state&&S.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:M}=this;return M&&0<M.selectedIndex?M.selectedIndex-1:0}showDropdown(){const{buttonGroup:M,buttons:L,chart:f,dropdown:y}=this;if(M&&y){const{translateX:b,translateY:S}=M,j=L[this.currentButtonIndex()].getBBox();Q(y,{left:f.plotLeft+b+"px",top:S+.5+"px",width:j.width+"px",height:j.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:M}=this;M&&(Q(M,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var M=this.options,L=this.group;const f=M.y,y=M.buttonPosition.y,b=M.inputPosition.y;return M.height?M.height:(this.alignElements(),M=L?L.getBBox(!0).height+13+f:0,L=Math.min(b,y),(0>b&&0>y||0<b&&0<y)&&(M+=Math.abs(L)),M)}titleCollision(M){return!(M.options.title.text||M.options.subtitle.text)}update(M){const L=this.chart;G(!0,L.options.rangeSelector,M),this.destroy(),this.init(L),this.render()}destroy(){const M=this,L=M.minInput,f=M.maxInput;M.eventsToUnbind&&(M.eventsToUnbind.forEach(y=>y()),M.eventsToUnbind=void 0),O(M.buttons),L&&(L.onfocus=L.onblur=L.onchange=null),f&&(f.onfocus=f.onblur=f.onchange=null),V(M,function(y,b){y&&b!=="chart"&&(y instanceof n?y.destroy():y instanceof window.HTMLElement&&H(y)),y!==N.prototype[b]&&(M[b]=null)},this)}}return A(N.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),N}),s(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(l,c,d,m){const{addEvent:n,correctFloat:w,css:$,defined:ee,error:z,pick:Y,timeUnits:Q}=m,I=[];var O;return function(H){function A(L,f,y,b,S=[],j=0,J){const W={},re=this.options.tickPixelInterval;var ue=this.chart.time,ve=[],q;let se,pe;var xe=0;let Pe=[],ce=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!S||3>S.length||typeof f>"u")return ue.getTimeTicks.apply(ue,arguments);const ye=S.length;for(q=0;q<ye;q++){if(pe=q&&S[q-1]>y,S[q]<f&&(xe=q),q===ye-1||S[q+1]-S[q]>5*j||pe){if(S[q]>ce){for(se=ue.getTimeTicks(L,S[xe],S[q],b);se.length&&se[0]<=ce;)se.shift();se.length&&(ce=se[se.length-1]),ve.push(Pe.length),Pe=Pe.concat(se)}xe=q+1}if(pe)break}if(se){if(S=se.info,J&&S.unitRange<=Q.hour){for(q=Pe.length-1,xe=1;xe<q;xe++)if(ue.dateFormat("%d",Pe[xe])!==ue.dateFormat("%d",Pe[xe-1])){W[Pe[xe]]="day";var _e=!0}_e&&(W[Pe[0]]="day"),S.higherRanks=W}S.segmentStarts=ve,Pe.info=S}else z(12,!1,this.chart);if(J&&ee(re)){xe=Pe.length,ue=[],_e=[];let le;for(q=xe;q--;)ve=this.translate(Pe[q]),le&&(_e[q]=le-ve),ue[q]=le=ve;for(_e.sort(),_e=_e[Math.floor(_e.length/2)],_e<.6*re&&(_e=null),q=Pe[xe-1]>y?xe-1:xe,le=void 0;q--;)ve=ue[q],xe=Math.abs(le-ve),le&&xe<.8*re&&(_e===null||xe<.8*_e)?(W[Pe[q]]&&!W[Pe[q+1]]?(xe=q+1,le=ve):xe=q,Pe.splice(xe,1)):le=ve}return Pe}function E(L){const f=this.ordinal.positions;if(!f)return L;let y=f.length-1,b;return 0>L?L=f[0]:L>y?L=f[y]:(y=Math.floor(L),b=L-y),typeof b<"u"&&typeof f[y]<"u"?f[y]+(b?b*(f[y+1]-f[y]):0):L}function P(L){var f=this.ordinal,y=f.positions;if(!y)return L;var b=(L-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<b&&b<this.left+this.len||(f.extendedOrdinalPositions||(f.extendedOrdinalPositions=f.getExtendedPositions()),y=f.extendedOrdinalPositions),y&&y.length){if(L=f.getIndexOfPoint(b,y),f=w(L%1),0<=L&&L<y.length-1)return y[Math.floor(L)]+f*(y[Math.ceil(L)]-y[Math.floor(L)]);f=y.length,b=y[0],y=y[f-1];const S=(y-b)/(f-1);return 0>L?b+S*L:y+S*(L-f)}return L}function G(L,f){const y=H.Additions.findIndexOf(L,f,!0);return L[y]===f?y:y+(f-L[y])/(L[y+1]-L[y])}function V(){this.ordinal||(this.ordinal=new H.Additions(this))}function C(){this.isXAxis&&ee(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&ee(this.userMin)&&(this.min+=this.options.overscroll))}function ne(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function te(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function F(L){const f=this.xAxis[0],y=f.options.overscroll,b=L.originalEvent.chartX,S=this.options.chart.panning;let j=!1;if(S&&S.type!=="y"&&f.options.ordinal&&f.series.length){var J=this.mouseDownX;const ve=f.getExtremes(),q=ve.dataMax,se=ve.min,pe=ve.max;var W=this.hoverPoints,re=f.closestPointRange||f.ordinal&&f.ordinal.overscrollPointsRange;J=(J-b)/(f.translationSlope*(f.ordinal.slope||re)),re=f.ordinal.getExtendedPositions();var ue={ordinal:{positions:re,extendedOrdinalPositions:re}};re=f.index2val;const xe=f.val2lin;let Pe;ue.ordinal.positions?1<Math.abs(J)&&(W&&W.forEach(function(ce){ce.setState()}),0>J?(W=ue,Pe=f.ordinal.positions?f:ue):(W=f.ordinal.positions?f:ue,Pe=ue),ue=Pe.ordinal.positions,q>ue[ue.length-1]&&ue.push(q),this.fixedRange=pe-se,J=f.navigatorAxis.toFixedRange(void 0,void 0,re.apply(W,[xe.apply(W,[se,!0])+J]),re.apply(Pe,[xe.apply(Pe,[pe,!0])+J])),J.min>=Math.min(ve.dataMin,se)&&J.max<=Math.max(q,pe)+y&&f.setExtremes(J.min,J.max,!0,!1,{trigger:"pan"}),this.mouseDownX=b,$(this.container,{cursor:"move"})):j=!0}else j=!0;j||S&&/y/.test(S.type)?y&&(f.max=f.dataMax+y):L.preventDefault()}function N(){const L=this.xAxis;L&&L.options.ordinal&&(delete L.ordinal.index,delete L.ordinal.extendedOrdinalPositions)}function X(L,f){const y=this.ordinal;var b=y.positions;let S=y.slope,j=y.extendedOrdinalPositions;if(!b)return L;var J=b.length;if(b[0]<=L&&b[J-1]>=L)L=G(b,L);else{if(j||(j=y.getExtendedPositions&&y.getExtendedPositions(),y.extendedOrdinalPositions=j),!j||!j.length)return L;J=j.length,S||(S=(j[J-1]-j[0])/J),b=G(j,b[0]),L=L>=j[0]&&L<=j[J-1]?G(j,L)-b:L<j[0]?-b-(j[0]-L)/S:(L-j[J-1])/S+J-b}return f?L:S*(L||0)+y.offset}H.compose=function(L,f,y){if(m.pushUnique(I,L)){const b=L.prototype;b.getTimeTicks=A,b.index2val=E,b.lin2val=P,b.val2lin=X,b.ordinal2lin=b.val2lin,n(L,"afterInit",V),n(L,"foundExtremes",C),n(L,"afterSetScale",ne),n(L,"initialAxisTranslation",te)}return m.pushUnique(I,y)&&n(y,"pan",F),m.pushUnique(I,f)&&n(f,"updatedData",N),L};class M{constructor(f){this.index={},this.axis=f}beforeSetTickPositions(){const f=this.axis,y=f.ordinal;var b=f.getExtremes();const S=b.min;var j=b.max;const J=f.isXAxis&&!!f.options.breaks;b=f.options.ordinal;const W=f.chart.options.chart.ignoreHiddenSeries;let re,ue;var ve;let q=[],se=Number.MAX_VALUE,pe=!1,xe=!1,Pe=!1;if(b||J){let ye=0;if(f.series.forEach(function(_e,le){if(ue=[],0<le&&_e.options.id!=="highcharts-navigator-series"&&1<_e.processedXData.length&&(xe=ye!==_e.processedXData[1]-_e.processedXData[0]),ye=_e.processedXData[1]-_e.processedXData[0],_e.boosted&&(Pe=_e.boosted),!(W&&_e.visible===!1||_e.takeOrdinalPosition===!1&&!J)&&(q=q.concat(_e.processedXData),re=q.length,q.sort(function(Z,me){return Z-me}),se=Math.min(se,Y(_e.closestPointRange,se)),re)){for(le=0;le<re-1;)q[le]!==q[le+1]&&ue.push(q[le+1]),le++;ue[0]!==q[0]&&ue.unshift(q[0]),q=ue}}),xe&&Pe&&(q.pop(),q.shift()),re=q.length,2<re){var ce=q[1]-q[0];for(ve=re-1;ve--&&!pe;)q[ve+1]-q[ve]!==ce&&(pe=!0);!f.options.keepOrdinalPadding&&(q[0]-S>ce||j-q[q.length-1]>ce)&&(pe=!0)}else f.options.overscroll&&(re===2?se=q[1]-q[0]:re===1?(se=f.options.overscroll,q=[q[0],q[0]+se]):se=y.overscrollPointsRange);pe||f.forceOrdinal?(f.options.overscroll&&(y.overscrollPointsRange=se,q=q.concat(y.getOverscrollPositions())),y.positions=q,ce=f.ordinal2lin(Math.max(S,q[0]),!0),ve=Math.max(f.ordinal2lin(Math.min(j,q[q.length-1]),!0),1),y.slope=j=(j-S)/(ve-ce),y.offset=S-ce*j):(y.overscrollPointsRange=Y(f.closestPointRange,y.overscrollPointsRange),y.positions=f.ordinal.slope=y.offset=void 0)}f.isOrdinal=b&&pe,y.groupIntervalFactor=null}static findIndexOf(f,y,b){let S=0,j=f.length-1,J;for(;S<j;)J=Math.ceil((S+j)/2),f[J]<=y?S=J:j=J-1;return f[S]===y||b?S:-1}getExtendedPositions(){const f=this,y=f.axis,b=y.constructor.prototype,S=y.chart,j=y.series[0].currentDataGrouping,J=j?j.count+j.unitName:"raw",W=y.options.overscroll,re=y.getExtremes();let ue,ve,q=f.index;return q||(q=f.index={}),q[J]||(ue={series:[],chart:S,forceOrdinal:!1,getExtremes:function(){return{min:re.dataMin,max:re.dataMax+W}},getGroupPixelWidth:b.getGroupPixelWidth,getTimeTicks:b.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:b.ordinal2lin,getIndexOfPoint:b.getIndexOfPoint,val2lin:b.val2lin},ue.ordinal.axis=ue,y.series.forEach(function(se){ve={xAxis:ue,xData:se.xData.slice(),chart:S,destroyGroupedData:c.noop,getProcessedData:d.prototype.getProcessedData,applyGrouping:d.prototype.applyGrouping},ve.xData=ve.xData.concat(f.getOverscrollPositions()),ve.options={dataGrouping:j?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[j.unitName,[j.count]]]}:{enabled:!1}},ue.series.push(ve),se.processData.apply(ve)}),ve.closestPointRange!==ve.basePointRange&&ve.currentDataGrouping&&(ue.forceOrdinal=!0),y.ordinal.beforeSetTickPositions.apply({axis:ue}),q[J]=ue.ordinal.positions),q[J]}getGroupIntervalFactor(f,y,b){b=b.processedXData;const S=b.length;var j=[],J=this.groupIntervalFactor;if(!J){for(J=0;J<S-1;J++)j[J]=b[J+1]-b[J];j.sort(function(W,re){return W-re}),j=j[Math.floor(S/2)],f=Math.max(f,b[0]),y=Math.min(y,b[S-1]),this.groupIntervalFactor=J=S*j/(y-f)}return J}getIndexOfPoint(f,y){const b=this.axis,S=this.positions?this.positions[0]:0;let j=b.series[0].points&&b.series[0].points[0]&&b.series[0].points[0].plotX||b.minPixelPadding;return 1<b.series.length&&b.series.forEach(function(J){J.points&&ee(J.points[0])&&ee(J.points[0].plotX)&&J.points[0].plotX<j&&J.points[0].plotX>=Y(b.min,-1/0)&&(j=J.points[0].plotX)}),f=(f-j)/(b.translationSlope*(this.slope||b.closestPointRange||this.overscrollPointsRange)),M.findIndexOf(y,S)+f}getOverscrollPositions(){const f=this.axis,y=f.options.overscroll,b=this.overscrollPointsRange,S=[];let j=f.dataMax;if(ee(b))for(;j<=f.dataMax+y;)j+=b,S.push(j);return S}postProcessTickInterval(f){const y=this.axis,b=this.slope;return b?y.options.breaks?y.closestPointRange||f:f/(b/y.closestPointRange):f}}H.Additions=M}(O||(O={})),O}),s(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(l){({column:{prototype:{pointClass:l}}}=l.seriesTypes);class c extends l{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}return c}),s(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),s(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){const{column:n}=d.seriesTypes,{extend:w,merge:$}=m;class ee extends n{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(Y,Q,I){const O=Y[0];Y=Y[1],typeof O[2]=="number"&&(O[2]=Math.max(I+Q,O[2])),typeof Y[2]=="number"&&(Y[2]=Math.min(I-Q,Y[2]))}getPointPath(Y,Q){Q=Q.strokeWidth();const I=Y.series,O=Q%2/2,H=Math.round(Y.plotX)-O,A=Math.round(Y.shapeArgs.width/2),E=[["M",H,Math.round(Y.yBottom)],["L",H,Math.round(Y.plotHigh)]];return Y.close!==null&&(Y=Math.round(Y.plotClose)+O,E.push(["M",H,Y],["L",H+A,Y]),I.extendStem(E,Q/2,Y)),E}drawSinglePoint(Y){var Q=Y.series;const I=Q.chart;let O=Y.graphic;typeof Y.plotY<"u"&&(O||(Y.graphic=O=I.renderer.path().add(Q.group)),I.styledMode||O.attr(Q.pointAttribs(Y,Y.selected&&"select")),Q=Q.getPointPath(Y,O),O[O?"animate":"attr"]({d:Q}).addClass(Y.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(Y,Q){return Y=super.pointAttribs.call(this,Y,Q),delete Y.fill,Y}toYData(Y){return[Y.high,Y.low,Y.close]}translate(){const Y=this,Q=Y.yAxis,I=this.pointArrayMap&&this.pointArrayMap.slice()||[],O=I.map(H=>`plot${H.charAt(0).toUpperCase()+H.slice(1)}`);O.push("yBottom"),I.push("low"),super.translate.apply(Y),Y.points.forEach(function(H){I.forEach(function(A,E){A=H[A],A!==null&&(Y.dataModify&&(A=Y.dataModify.modifyValue(A)),H[O[E]]=Q.toPixels(A,!0))}),H.tooltipPos[1]=H.plotHigh+Q.pos-Y.chart.plotTop})}}return ee.defaultOptions=$(n.defaultOptions,c),w(ee.prototype,{pointClass:l,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),d.registerSeriesType("hlc",ee),ee}),s(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(l){({seriesTypes:{hlc:l}}=l);class c extends l.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const m=super.getZone();return this.resolveUpColor(),m}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return c}),s(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),s(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){function n(O){O=O.options;const H=O.dataGrouping;H&&O.useOhlcData&&O.id!=="highcharts-navigator-series"&&(H.approximation="ohlc")}function w(O){O=O.options,O.useOhlcData&&O.id!=="highcharts-navigator-series"&&z(this,{pointValKey:I.prototype.pointValKey,pointArrayMap:I.prototype.pointArrayMap,toYData:I.prototype.toYData})}const{seriesTypes:{hlc:$}}=d,{addEvent:ee,extend:z,merge:Y}=m,Q=[];class I extends ${constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(H,...A){m.pushUnique(Q,H)&&(ee(H,"afterSetOptions",n),ee(H,"init",w))}getPointPath(H,A){const E=super.getPointPath(H,A);A=A.strokeWidth();const P=A%2/2,G=Math.round(H.plotX)-P,V=Math.round(H.shapeArgs.width/2);return H.open!==null&&(H=Math.round(H.plotOpen)+P,E.push(["M",G,H],["L",G-V,H]),super.extendStem(E,A/2,H)),E}pointAttribs(H,A){A=super.pointAttribs.call(this,H,A);const E=this.options;return delete A.fill,!H.options.color&&E.upColor&&H.open<H.close&&(A.stroke=E.upColor),A}toYData(H){return[H.open,H.high,H.low,H.close]}}return I.defaultOptions=Y($.defaultOptions,c),z(I.prototype,{pointClass:l,pointArrayMap:["open","high","low","close"]}),d.registerSeriesType("ohlc",I),I}),s(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(l,c){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),s(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){({defaultOptions:c}=c);const{column:n,ohlc:w}=d.seriesTypes;({merge:m}=m);class $ extends w{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(z,Y){const Q=n.prototype.pointAttribs.call(this,z,Y),I=this.options,O=z.open<z.close,H=I.lineColor||this.color,A=z.color||this.color;return Q["stroke-width"]=I.lineWidth,Q.fill=z.options.color||O&&I.upColor||A,Q.stroke=z.options.lineColor||O&&I.upLineColor||H,Y&&(z=I.states[Y],Q.fill=z.color||Q.fill,Q.stroke=z.lineColor||Q.stroke,Q["stroke-width"]=z.lineWidth||Q["stroke-width"]),Q}drawPoints(){var z=this.points;const Y=this.chart,Q=this.yAxis.reversed;for(const A of z){z=A.graphic;var I=void 0,O=void 0;let E,P;var H=void 0;let G,V;const C=!z;typeof A.plotY<"u"&&(z||(A.graphic=z=Y.renderer.path().add(this.group)),this.chart.styledMode||z.attr(this.pointAttribs(A,A.selected&&"select")).shadow(this.options.shadow),H=z.strokeWidth()%2/2,G=Math.round(A.plotX)-H,I=A.plotOpen,O=A.plotClose,E=Math.min(I,O),I=Math.max(I,O),V=Math.round(A.shapeArgs.width/2),O=Q?I!==A.yBottom:Math.round(E)!==Math.round(A.plotHigh),P=Q?Math.round(E)!==Math.round(A.plotHigh):I!==A.yBottom,E=Math.round(E)+H,I=Math.round(I)+H,H=[],H.push(["M",G-V,I],["L",G-V,E],["L",G+V,E],["L",G+V,I],["Z"],["M",G,E],["L",G,O?Math.round(Q?A.yBottom:A.plotHigh):E],["M",G,I],["L",G,P?Math.round(Q?A.plotHigh:A.yBottom):I]),z[C?"attr":"animate"]({d:H}).addClass(A.getClassName(),!0))}}}return $.defaultOptions=m(w.defaultOptions,c.plotOptions,{tooltip:w.defaultOptions.tooltip},l),d.registerSeriesType("candlestick",$),$}),s(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c){({column:{prototype:{pointClass:l}}}=l.seriesTypes);const{isNumber:d}=c;class m extends l{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return d(this.y)||typeof this.y>"u"}hasNewShapeType(){const w=this.options.shape||this.series.options.shape;return this.graphic&&w&&w!==this.graphic.symbolKey}}return m}),s(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),s(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(l){var c;return function(d){function m($,ee,z,Y,Q){const I=Q&&Q.anchorX||$;Q=Q&&Q.anchorY||ee;const O=this.circle(I-1,Q-1,2,2);return O.push(["M",I,Q],["L",$,ee+Y],["L",$,ee],["L",$+z,ee],["L",$+z,ee+Y],["L",$,ee+Y],["Z"]),O}function n($,ee){$[ee+"pin"]=function(z,Y,Q,I,O){const H=O&&O.anchorX;O=O&&O.anchorY;let A;if(ee==="circle"&&I>Q&&(z-=Math.round((I-Q)/2),Q=I),A=$[ee](z,Y,Q,I),H&&O){let E=H;ee==="circle"?E=z+Q/2:(z=A[0],Q=A[1],z[0]==="M"&&Q[0]==="L"&&(E=(z[1]+Q[1])/2)),A.push(["M",E,Y>O?Y:Y+I],["L",H,O]),A=A.concat($.circle(H-1,O-1,2,2))}return A}}const w=[];d.compose=function($){w.indexOf($)===-1&&(w.push($),$=$.prototype.symbols,$.flag=m,n($,"circle"),n($,"square")),$=l.getRendererType(),w.indexOf($)&&w.push($)}}(c||(c={})),c}),s(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(l,c,d){const{prototype:m}=l,{prototype:n}=c,{defined:w,stableSort:$}=d;var ee;return function(z){function Y(O){return n.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,O)}function Q(){m.translate.apply(this);const O=this;var H=O.options,A=O.chart;const E=O.points;var P=H.onSeries;const G=(P=P&&A.get(P))&&P.options.step,V=P&&P.points,C=A.inverted,ne=O.xAxis,te=O.yAxis;A=E.length-1;let F;H=H.onKey||"y";let N=V&&V.length,X=0,M,L,f,y;if(P&&P.visible&&N){X=(P.pointXOffset||0)+(P.barW||0)/2;var b=P.currentDataGrouping;for(L=V[N-1].x+(b?b.totalRange:0),$(E,(S,j)=>S.x-j.x),H="plot"+H[0].toUpperCase()+H.substr(1);N--&&E[A]&&(M=V[N],b=E[A],b.y=M.y,!(M.x<=b.x&&typeof M[H]<"u"&&(b.x<=L&&(b.plotY=M[H],M.x<b.x&&!G&&(f=V[N+1])&&typeof f[H]<"u"&&(y=(b.x-M.x)/(f.x-M.x),b.plotY+=y*(f[H]-M[H]),b.y+=y*(f.y-M.y))),A--,N++,0>A))););}E.forEach((S,j)=>{let J;S.plotX+=X,(typeof S.plotY>"u"||C)&&(0<=S.plotX&&S.plotX<=ne.len?C?(S.plotY=ne.translate(S.x,0,1,0,1),S.plotX=w(S.y)?te.translate(S.y,0,0,0,1):0):S.plotY=(ne.opposite?0:O.yAxis.len)+ne.offset:S.shapeArgs={}),(F=E[j-1])&&F.plotX===S.plotX&&(typeof F.stackIndex>"u"&&(F.stackIndex=0),J=F.stackIndex+1),S.stackIndex=J}),this.onSeries=P}const I=[];z.compose=function(O){if(d.pushUnique(I,O)){const H=O.prototype;H.getPlotBox=Y,H.translate=Q}return O},z.getPlotBox=Y,z.translate=Q}(ee||(ee={})),ee}),s(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w,$,ee,z){({noop:m}=m);const{distribute:Y}=w,{series:Q,seriesTypes:{column:I}}=$,{addEvent:O,defined:H,extend:A,merge:E,objectEach:P,wrap:G}=z;class V extends I{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(ne){ne&&this.setClip()}drawPoints(){var ne=this.points,te=this.chart;const F=te.renderer,N=te.inverted,X=this.options,M=X.y,L=this.yAxis,f={},y=[];let b,S,j,J,W,re,ue;for(j=ne.length;j--;){J=ne[j],re=(N?J.plotY:J.plotX)>this.xAxis.len,b=J.plotX;var ve=J.stackIndex,q=J.options.shape||X.shape;S=J.plotY,typeof S<"u"&&(S=J.plotY+M-(typeof ve<"u"&&ve*X.stackDistance)),J.anchorX=ve?void 0:J.plotX,W=ve?void 0:J.plotY,ue=q!=="flag",ve=J.graphic,typeof S<"u"&&0<=b&&!re?(ve&&J.hasNewShapeType()&&(ve=ve.destroy()),ve||(ve=J.graphic=F.label("",null,null,q,null,null,X.useHTML).addClass("highcharts-point").add(this.markerGroup),J.graphic.div&&(J.graphic.div.point=J),ve.isNew=!0),ve.attr({align:ue?"center":"left",width:X.width,height:X.height,"text-align":X.textAlign}),te.styledMode||ve.attr(this.pointAttribs(J)).css(E(X.style,J.style)).shadow(X.shadow),0<b&&(b-=ve.strokeWidth()%2),q={y:S,anchorY:W},X.allowOverlapX&&(q.x=b,q.anchorX=J.anchorX),ve.attr({text:J.options.title||X.title||"A"})[ve.isNew?"attr":"animate"](q),X.allowOverlapX||(f[J.plotX]?f[J.plotX].size=Math.max(f[J.plotX].size,ve.width):f[J.plotX]={align:ue?.5:0,size:ve.width,target:b,anchorX:b}),J.tooltipPos=[b,S+L.pos-te.plotTop]):ve&&(J.graphic=ve.destroy())}if(!X.allowOverlapX){let se=100;P(f,function(pe){pe.plotX=pe.anchorX,y.push(pe),se=Math.max(pe.size,se)}),Y(y,N?L.len:this.xAxis.len,se);for(const pe of ne)te=pe.plotX,(te=(ne=pe.graphic)&&f[te])&&ne&&(H(te.pos)?ne[ne.isNew?"attr":"animate"]({x:te.pos+(te.align||0)*te.size,anchorX:pe.anchorX}).show().isNew=!1:ne.hide().isNew=!0)}X.useHTML&&this.markerGroup&&G(this.markerGroup,"on",function(se){return ee.prototype.on.apply(se.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const ne=this.points;super.drawTracker();for(const te of ne){const F=te.graphic;F&&(te.unbindMouseOver&&te.unbindMouseOver(),te.unbindMouseOver=O(F.element,"mouseover",function(){0<te.stackIndex&&!te.raised&&(te._y=F.y,F.attr({y:te._y-8}),te.raised=!0);for(const N of ne)N!==te&&N.raised&&N.graphic&&(N.graphic.attr({y:N._y}),N.raised=!1)}))}}pointAttribs(ne,te){const F=this.options,N=ne&&ne.color||this.color;let X=F.lineColor,M=ne&&ne.lineWidth;return ne=ne&&ne.fillColor||F.fillColor,te&&(ne=F.states[te].fillColor,X=F.states[te].lineColor,M=F.states[te].lineWidth),{fill:ne||N,stroke:X||N,"stroke-width":M||F.lineWidth||0}}setClip(){Q.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return V.compose=d.compose,V.defaultOptions=E(I.defaultOptions,c),n.compose(V),A(V.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:l,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:m,init:Q.prototype.init}),$.registerSeriesType("flags",V),V}),s(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w,$,ee,z,Y){function Q(M,L){return M==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:M==="yAxis"?{labels:{y:-2},opposite:F(L.opposite,!0),showLastLabel:!(!L.categories&&L.type!=="category"),title:{text:null}}:{}}function I(M,L){return M==="xAxis"?(M={type:"datetime",categories:void 0},F(L.navigator&&L.navigator.enabled,n.enabled,!0)&&(M.startOnTick=!1,M.endOnTick=!1),M):{}}const{format:O}=d,{getOptions:H}=m,{addEvent:A,clamp:E,defined:P,extend:G,find:V,isNumber:C,isString:ne,merge:te,pick:F,splat:N}=Y;class X extends c{init(L,f){const y=H(),b=L.xAxis,S=L.yAxis;var j=F(L.navigator&&L.navigator.enabled,n.enabled,!0);L.xAxis=L.yAxis=void 0,j=te({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:j},scrollbar:{enabled:F($.enabled,!0)},rangeSelector:{enabled:F(w.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:F(y.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},L,{isStock:!0}),L.xAxis=b,L.yAxis=S,j.xAxis=N(L.xAxis||{}).map(function(J,W){return te(Q("xAxis",J),y.xAxis,y.xAxis&&y.xAxis[W],J,I("xAxis",L))}),j.yAxis=N(L.yAxis||{}).map(function(J,W){return te(Q("yAxis",J),y.yAxis,y.yAxis&&y.yAxis[W],J)}),super.init(j,f)}createAxis(L,f){return f.axis=te(Q(L,f.axis),f.axis,I(L,this.userOptions)),super.createAxis(L,f)}}return function(M){M.stockChart=function(L,f,y){return new M(L,f,y)}}(X||(X={})),A(ee,"setOptions",function(M){let L;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?L={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(L={marker:{enabled:!1,radius:2}}),L&&(M.plotOptions[this.type]=te(M.plotOptions[this.type],L)))}),A(l,"autoLabelAlign",function(M){const{chart:L,options:f}=this,y=L._labelPanes=L._labelPanes||{},b=f.labels;if(L.options.isStock&&this.coll==="yAxis"){const S=f.top+","+f.height;!y[S]&&b.enabled&&(b.distance===15&&this.side===1&&(b.distance=0),typeof b.align>"u"&&(b.align="right"),y[S]=this,M.align="right",M.preventDefault())}}),A(l,"destroy",function(){const M=this.chart,L=this.options&&this.options.top+","+this.options.height;L&&M._labelPanes&&M._labelPanes[L]===this&&delete M._labelPanes[L]}),A(l,"getPlotLinePath",function(M){function L(le){const Z=le==="xAxis"?"yAxis":"xAxis";return le=f.options[Z],C(le)?[b[Z][le]]:ne(le)?[b.get(le)]:y.map(function(me){return me[Z]})}let f=this,y=this.isLinked&&!this.series?this.linkedParent.series:this.series,b=f.chart,S=b.renderer,j=f.left,J=f.top,W,re,ue,ve,q=[],se=[],pe,xe,Pe=M.translatedValue,ce=M.value,ye=M.force,_e;(b.options.isStock&&M.acrossPanes!==!1&&f.coll==="xAxis"||f.coll==="yAxis")&&(M.preventDefault(),se=L(f.coll),pe=f.isXAxis?b.yAxis:b.xAxis,pe.forEach(function(le){if(!P(le.options.id)||le.options.id.indexOf("navigator")===-1){var Z=le.isXAxis?"yAxis":"xAxis";Z=P(le.options[Z])?b[Z][le.options[Z]]:b[Z][0],f===Z&&se.push(le)}}),xe=se.length?[]:[f.isXAxis?b.yAxis[0]:b.xAxis[0]],se.forEach(function(le){xe.indexOf(le)!==-1||V(xe,function(Z){return Z.pos===le.pos&&Z.len===le.len})||xe.push(le)}),_e=F(Pe,f.translate(ce,void 0,void 0,M.old)),C(_e)&&(f.horiz?xe.forEach(function(le){let Z;re=le.pos,ve=re+le.len,W=ue=Math.round(_e+f.transB),ye!=="pass"&&(W<j||W>j+f.width)&&(ye?W=ue=E(W,j,j+f.width):Z=!0),Z||q.push(["M",W,re],["L",ue,ve])}):xe.forEach(function(le){let Z;W=le.pos,ue=W+le.len,re=ve=Math.round(J+f.height-_e),ye!=="pass"&&(re<J||re>J+f.height)&&(ye?re=ve=E(re,J,J+f.height):Z=!0),Z||q.push(["M",W,re],["L",ue,ve])})),M.path=0<q.length?S.crispPolyLine(q,M.lineWidth||1):null)}),z.prototype.crispPolyLine=function(M,L){for(let f=0;f<M.length;f+=2){const y=M[f],b=M[f+1];y[1]===b[1]&&(y[1]=b[1]=Math.round(y[1])-L%2/2),y[2]===b[2]&&(y[2]=b[2]=Math.round(y[2])+L%2/2)}return M},A(l,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),A(l,"afterDrawCrosshair",function(M){var L,f;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&C(this.min)&&C(this.max)){var y=this.chart,b=this.logarithmic,S=this.crosshair.label,j=this.horiz,J=this.opposite,W=this.left,re=this.top,ue=this.width,ve=this.crossLabel,q=S.format,se="",pe=this.options.tickPosition==="inside",xe=this.crosshair.snap!==!1,Pe=0,ce=M.e||this.cross&&this.cross.e;M=M.point;var ye=this.min,_e=this.max;b&&(ye=b.lin2log(ye),_e=b.lin2log(_e)),b=j?"center":J?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",ve||(ve=this.crossLabel=y.renderer.label("",0,void 0,S.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(M&&M.series?M.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:S.align||b,padding:F(S.padding,8),r:F(S.borderRadius,3),zIndex:2}).add(this.labelGroup),y.styledMode||ve.attr({fill:S.backgroundColor||M&&M.series&&M.series.color||"#666666",stroke:S.borderColor||"","stroke-width":S.borderWidth||0}).css(G({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},S.style||{}))),j?(ue=xe?(M.plotX||0)+W:ce.chartX,re+=J?0:this.height):(ue=W+this.offset+(J?ue:0),re=xe?(M.plotY||0)+re:ce.chartY),q||S.formatter||(this.dateTime&&(se="%b %d, %Y"),q="{value"+(se?":"+se:"")+"}"),se=xe?this.isXAxis?M.x:M.y:this.toValue(j?ce.chartX:ce.chartY),xe=M&&M.series?M.series.isPointInside(M):C(se)&&se>ye&&se<_e,ce="",q?ce=O(q,{value:se},y):S.formatter&&C(se)&&(ce=S.formatter.call(this,se)),ve.attr({text:ce,x:ue,y:re,visibility:xe?"inherit":"hidden"}),S=ve.getBBox(),!C(ve.x)||j||J||(ue=ve.x-S.width/2),C(ve.y)&&(j?(pe&&!J||!pe&&J)&&(re=ve.y-S.height):re=ve.y-S.height/2),j?(L=W-S.x,f=W+this.width-S.x):(L=this.labelAlign==="left"?W:0,f=this.labelAlign==="right"?W+this.width:y.chartWidth),ve.translateX<L&&(Pe=L-ve.translateX),ve.translateX+S.width>=f&&(Pe=-(ve.translateX+S.width-f)),ve.attr({x:ue+Pe,y:re,anchorX:j?ue:this.opposite?0:y.chartWidth,anchorY:j?this.opposite?y.chartHeight:0:re+S.height/2})}}),ee.prototype.forceCropping=function(){const M=this.chart,L=this.options.dataGrouping;return this.allowDG!==!1&&L&&F(L.enabled,M.options.isStock)},A(c,"update",function(M){M=M.options,"scrollbar"in M&&this.navigator&&(te(!0,this.options.scrollbar,M.scrollbar),this.navigator.update({}),delete M.scrollbar)}),X}),s(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Axis/OrdinalAxis.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"],t["Core/Chart/StockChart.js"]],function(l,c,d,m,n,w,$,ee,z){l.Navigator=d,l.RangeSelector=m,l.Scrollbar=n,l.StockChart=l.stockChart=z.stockChart,c.compose(l.Series,l.Axis,l.Point),ee.compose(l.Renderer),d.compose(l.Axis,l.Chart,l.Series),$.compose(l.Series),w.compose(l.Axis,l.Series,l.Chart),m.compose(l.Axis,l.Chart),n.compose(l.Axis)})})})(FG);const NG=Zw;NG(Nc);const jG={name:"graph",components:{Chart:gp.Chart},data(){return{chartOptions:{chart:{zoomType:"xy"},title:{text:"",align:""},subtitle:{text:"",align:""},xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}°C",style:{color:Nc.getOptions().colors[2]}},title:{text:"Temperature",style:{color:Nc.getOptions().colors[2]}},opposite:!0},{gridLineWidth:0,title:{text:"Rainfall",style:{color:Nc.getOptions().colors[0]}},labels:{format:"{value} mm",style:{color:Nc.getOptions().colors[0]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:Nc.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:Nc.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:Nc.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{name:"Rainfall",type:"column",yAxis:1,data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Sea-Level Pressure",type:"spline",yAxis:2,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},dashStyle:"shortdot",tooltip:{valueSuffix:" mb"}},{name:"Temperature",type:"spline",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}}}}};function UG(e,t,s,l,c,d){const m=ts("Chart");return Mi(),Hc(m,{options:c.chartOptions,constructorType:"stockChart"},null,8,["options"])}const GG=zs(jG,[["render",UG]]);var Kw={},VG={get exports(){return Kw},set exports(e){Kw=e}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(l,c,d,m){l.hasOwnProperty(c)||(l[c]=m.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:l[c]}})))}t=t?t._modules:{},s(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,c){function d(z){if(typeof w.MouseEvent=="function")return new w.MouseEvent(z.type,z);if(n.createEvent){const Y=n.createEvent("MouseEvent");if(Y.initMouseEvent)return Y.initMouseEvent(z.type,z.bubbles,z.cancelable,z.view||w,z.detail,z.screenX,z.screenY,z.clientX,z.clientY,z.ctrlKey,z.altKey,z.shiftKey,z.metaKey,z.button,z.relatedTarget),Y}return m(z.type)}function m(z,Y,Q){return Y=Y||{x:0,y:0},typeof w.MouseEvent=="function"?new w.MouseEvent(z,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:Q||ee,view:w,detail:z==="click"?1:0,screenX:Y.x,screenY:Y.y,clientX:Y.x,clientY:Y.y}):n.createEvent&&(Q=n.createEvent("MouseEvent"),Q.initMouseEvent)?(Q.initMouseEvent(z,!0,!0,w,z==="click"?1:0,Y.x,Y.y,Y.x,Y.y,!1,!1,!1,!1,0,null),Q):{type:z}}const{doc:n,win:w}=l,{css:$}=c,ee=w.EventTarget&&new w.EventTarget||"none";return{addClass:function(z,Y){z.classList?z.classList.add(Y):0>z.className.indexOf(Y)&&(z.className+=" "+Y)},cloneMouseEvent:d,cloneTouchEvent:function(z){var Y=Q=>{const I=[];for(let O=0;O<Q.length;++O){const H=Q.item(O);H&&I.push(H)}return I};return typeof w.TouchEvent=="function"?(Y=new w.TouchEvent(z.type,{touches:Y(z.touches),targetTouches:Y(z.targetTouches),changedTouches:Y(z.changedTouches),ctrlKey:z.ctrlKey,shiftKey:z.shiftKey,altKey:z.altKey,metaKey:z.metaKey,bubbles:z.bubbles,cancelable:z.cancelable,composed:z.composed,detail:z.detail,view:z.view}),z.defaultPrevented&&Y.preventDefault(),Y):(Y=d(z),Y.touches=z.touches,Y.changedTouches=z.changedTouches,Y.targetTouches=z.targetTouches,Y)},escapeStringForHTML:function(z){return z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(z){return n.getElementById(z)},getFakeMouseEvent:m,getHeadingTagNameForElement:function(z){const Y=I=>(I=parseInt(I.slice(1),10),"h"+Math.min(6,I+1)),Q=I=>{var O;e:{for(O=I;O=O.previousSibling;){const H=O.tagName||"";if(/H[1-6]/.test(H)){O=H;break e}}O=""}return O?Y(O):(I=I.parentElement,I?(O=I.tagName,/H[1-6]/.test(O)?Y(O):Q(I)):"p")};return Q(z)},removeChildNodes:function(z){for(;z.lastChild;)z.removeChild(z.lastChild)},removeClass:function(z,Y){z.classList?z.classList.remove(Y):z.className=z.className.replace(new RegExp(Y,"g"),"")},removeElement:function(z){z&&z.parentNode&&z.parentNode.removeChild(z)},reverseChildNodes:function(z){let Y=z.childNodes.length;for(;Y--;)z.appendChild(z.childNodes[Y])},simulatedEventTarget:ee,stripHTMLTagsFromString:function(z){return typeof z=="string"?z.replace(/<\/?[^>]+(>|$)/g,""):z},visuallyHideElement:function(z){$(z,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),s(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(l,c){const{format:d}=l,{getNestedProperty:m,pick:n}=c;var w;return function($){function ee(I,O){var H=I.indexOf("#each("),A=I.indexOf("#plural("),E=I.indexOf("[");const P=I.indexOf("]");if(-1<H){E=I.slice(H).indexOf(")")+H;var G=I.substring(0,H);if(A=I.substring(E+1),E=I.substring(H+6,E).split(","),H=Number(E[1]),I="",O=m(E[0],O))for(H=isNaN(H)?O.length:H,H=0>H?O.length+H:Math.min(H,O.length),E=0;E<H;++E)I+=G+O[E]+A;return I.length?I:""}if(-1<A){switch(G=I.slice(A).indexOf(")")+A,I=I.substring(A+8,G).split(","),Number(m(I[0],O))){case 0:I=n(I[4],I[1]);break;case 1:I=n(I[2],I[1]);break;case 2:I=n(I[3],I[1]);break;default:I=I[1]}return I?(O=I,O=O.trim&&O.trim()||O.replace(/^\s+|\s+$/g,"")):O="",O}return-1<E?(A=I.substring(0,E),I=Number(I.substring(E+1,P)),O=m(A,O),!isNaN(I)&&O&&(0>I?(G=O[O.length+I],typeof G>"u"&&(G=O[0])):(G=O[I],typeof G>"u"&&(G=O[O.length-1]))),typeof G<"u"?G:""):"{"+I+"}"}function z(I,O,H){const A=(C,ne)=>{C=C.slice(ne||0);const te=C.indexOf("{"),F=C.indexOf("}");if(-1<te&&F>te)return{statement:C.substring(te+1,F),begin:ne+te+1,end:ne+F}},E=[];let P,G,V=0;do P=A(I,V),G=I.substring(V,P&&P.begin-1),G.length&&E.push({value:G,type:"constant"}),P&&E.push({value:P.statement,type:"statement"}),V=P?P.end+1:V+1;while(P);return E.forEach(C=>{C.type==="statement"&&(C.value=ee(C.value,O))}),d(E.reduce((C,ne)=>C+ne.value,""),O,H)}function Y(I,O){I=I.split(".");let H=this.options.lang,A=0;for(;A<I.length;++A)H=H&&H[I[A]];return typeof H=="string"?z(H,O,this):""}const Q=[];$.compose=function(I){return c.pushUnique(Q,I)&&(I.prototype.langFormat=Y),I},$.i18nFormat=z}(w||(w={})),w}),s(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,c,d){function m(A,E){const P=E.type,G=A.hcEvents;Y.createEvent&&(A.dispatchEvent||A.fireEvent)?A.dispatchEvent?A.dispatchEvent(E):A.fireEvent(P,E):G&&G[P]?H(A,P,E):A.element&&m(A.element,E)}function n(A){const E=A.chart,P={};let G="Seconds";P.Seconds=((A.dataMax||A.max||0)-(A.dataMin||A.min||0))/1e3,P.Minutes=P.Seconds/60,P.Hours=P.Minutes/60,P.Days=P.Hours/24,["Minutes","Hours","Days"].forEach(function(C){2<P[C]&&(G=C)});const V=P[G].toFixed(G!=="Seconds"&&G!=="Minutes"?1:0);return E.langFormat("accessibility.axis.timeRange"+G,{chart:E,axis:A,range:V.replace(".0","")})}function w(A){const E=A.chart;var P=E.options;const G=P&&P.accessibility&&P.accessibility.screenReaderSection.axisRangeDateFormat||"",V={min:A.dataMin||A.min||0,max:A.dataMax||A.max||0};return P=function(C){return A.dateTime?E.time.dateFormat(G,V[C]):V[C].toString()},E.langFormat("accessibility.axis.rangeFromTo",{chart:E,axis:A,rangeFrom:P("min"),rangeTo:P("max")})}function $(A){if(A.points&&A.points.length)return(A=O(A.points,E=>!!E.graphic))&&A.graphic&&A.graphic.element}function ee(A){const E=$(A);return E&&E.parentNode||A.graph&&A.graph.element||A.group&&A.group.element}function z(A,E){E.setAttribute("aria-hidden",!1),E!==A.renderTo&&E.parentNode&&E.parentNode!==Y.body&&(Array.prototype.forEach.call(E.parentNode.childNodes,function(P){P.hasAttribute("aria-hidden")||P.setAttribute("aria-hidden",!0)}),z(A,E.parentNode))}const{doc:Y}=l,{stripHTMLTagsFromString:Q}=c,{defined:I,find:O,fireEvent:H}=d;return{fireEventOnWrappedOrUnwrappedElement:m,getChartTitle:function(A){return Q(A.options.title.text||A.langFormat("accessibility.defaultChartTitle",{chart:A}))},getAxisDescription:function(A){return A&&(A.userOptions&&A.userOptions.accessibility&&A.userOptions.accessibility.description||A.axisTitle&&A.axisTitle.textStr||A.options.id||A.categories&&"categories"||A.dateTime&&"Time"||"values")},getAxisRangeDescription:function(A){var E=A.options||{};return E.accessibility&&typeof E.accessibility.rangeDescription<"u"?E.accessibility.rangeDescription:A.categories?(E=A.chart,A=A.dataMax&&A.dataMin?E.langFormat("accessibility.axis.rangeCategories",{chart:E,axis:A,numCategories:A.dataMax-A.dataMin+1}):"",A):!A.dateTime||A.min!==0&&A.dataMin!==0?w(A):n(A)},getPointFromXY:function(A,E,P){let G=A.length,V;for(;G--;)if(V=O(A[G].points||[],function(C){return C.x===E&&C.y===P}))return V},getSeriesFirstPointElement:$,getSeriesFromName:function(A,E){return E?(A.series||[]).filter(function(P){return P.name===E}):A.series},getSeriesA11yElement:ee,unhideChartElementFromAT:z,hideSeriesFromAT:function(A){(A=ee(A))&&A.setAttribute("aria-hidden",!0)},scrollToPoint:function(A){var E=A.series.xAxis,P=A.series.yAxis;const G=E&&E.scrollbar?E:P;if((E=G&&G.scrollbar)&&I(E.to)&&I(E.from)){if(P=E.to-E.from,I(G.dataMin)&&I(G.dataMax)){var V=G.toPixels(G.dataMin),C=G.toPixels(G.dataMax);A=(G.toPixels(A[G.coll==="xAxis"?"x":"y"]||0)-V)/(C-V)}else A=0;E.updatePosition(A-P/2,A+P/2),H(E,"changed",{from:E.from,to:E.to,trigger:"scrollbar",DOMEvent:null})}}}}),s(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c){const{doc:d}=l,{removeElement:m}=c;class n{constructor(){this.elements=[]}createElement(){const $=d.createElement.apply(d,arguments);return this.elements.push($),$}destroyCreatedElements(){this.elements.forEach(function($){m($)}),this.elements=[]}}return n}),s(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,c){const{addEvent:d}=c;class m{constructor(){this.eventRemovers=[]}addEvent(){const w=d.apply(l,arguments);return this.eventRemovers.push(w),w}removeAddedEvents(){this.eventRemovers.forEach(w=>w()),this.eventRemovers=[]}}return m}),s(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){const{fireEventOnWrappedOrUnwrappedElement:w}=l,{getFakeMouseEvent:$}=m;({extend:l}=n);class ee{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(Y,Q){this.chart=Y,this.eventProvider=new d,this.domElementProvider=new c,this.proxyProvider=Q,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(Y,Q,I,O){return this.eventProvider.addEvent(Y,Q,I,O)}createElement(Y,Q){return this.domElementProvider.createElement(Y,Q)}fakeClickEvent(Y){const Q=$("click");w(Y,Q)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return l(ee.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),ee}),s(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(l){const{find:c}=l;class d{constructor(n,w){this.chart=n,this.keyCodeMap=w.keyCodeMap||[],this.validate=w.validate,this.init=w.init,this.terminate=w.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(n){const w=n.which||n.keyCode;let $=this.response.noHandler;const ee=c(this.keyCodeMap,function(z){return-1<z[0].indexOf(w)});return ee?$=ee[1].call(this,w,n):w===9&&($=this.response[n.shiftKey?"prev":"next"]),$}}return d}),s(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c,d,m,n){const{unhideChartElementFromAT:w,getChartTitle:$}=d,{doc:ee}=m,{stripHTMLTagsFromString:z}=n;class Y extends l{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const I=this.chart,O="highcharts-title-"+I.index,H=z(I.langFormat("accessibility.svgContainerTitle",{chartTitle:$(I)}));if(H.length){const A=this.svgTitleElement=this.svgTitleElement||ee.createElementNS("http://www.w3.org/2000/svg","title");A.textContent=H,A.id=O,I.renderTo.insertBefore(A,I.renderTo.firstChild)}}setSVGContainerLabel(){const I=this.chart,O=I.langFormat("accessibility.svgContainerLabel",{chartTitle:$(I)});I.renderer.box&&O.length&&I.renderer.box.setAttribute("aria-label",O)}setGraphicContainerAttrs(){const I=this.chart,O=I.langFormat("accessibility.graphicContainerLabel",{chartTitle:$(I)});O.length&&I.container.setAttribute("aria-label",O)}setRenderToAttrs(){const I=this.chart,O=I.options.accessibility.landmarkVerbosity!=="disabled",H=I.langFormat("accessibility.chartContainerLabel",{title:$(I),chart:I});H&&(I.renderTo.setAttribute("role",O?"region":"group"),I.renderTo.setAttribute("aria-label",H))}makeCreditsAccessible(){const I=this.chart,O=I.credits;O&&(O.textStr&&O.element.setAttribute("aria-label",I.langFormat("accessibility.credits",{creditsStr:z(O.textStr)})),w(I,O.element))}getKeyboardNavigation(){const I=this.chart;return new c(I,{keyCodeMap:[],validate:function(){return!0},init:function(){const O=I.accessibility;O&&O.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return Y}),s(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(l,c){const{addEvent:d,pick:m}=c;var n;return function(w){function $(){const E=this.focusElement,P=this.options.accessibility.keyboardNavigation.focusBorder;E&&(E.removeFocusBorder(),P.enabled&&E.addFocusBorder(P.margin,{stroke:P.style.color,strokeWidth:P.style.lineWidth,r:P.style.borderRadius}))}function ee(E,P){const G=this.options.accessibility.keyboardNavigation.focusBorder;(P=P||E.element)&&P.focus&&(P.hcEvents&&P.hcEvents.focusin||d(P,"focusin",function(){}),P.focus(),G.hideBrowserFocusOutline&&(P.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=E,this.renderFocusBorder()}function z(E){if(!E.focusBorderDestroyHook){var P=E.destroy;E.destroy=function(){return E.focusBorder&&E.focusBorder.destroy&&E.focusBorder.destroy(),P.apply(E,arguments)},E.focusBorderDestroyHook=P}}function Y(E,P){this.focusBorder&&this.removeFocusBorder();const G=this.getBBox(),V=m(E,3),C=this.parentGroup;var ne=this.scaleX||C&&C.scaleX,te=this.scaleY||C&&C.scaleY;ne=(ne?!te:te)?Math.abs(ne||te||1):(Math.abs(ne||1)+Math.abs(te||1))/2,G.x+=this.translateX?this.translateX:0,G.y+=this.translateY?this.translateY:0,te=G.x-V;let F=G.y-V,N=G.width+2*V,X=G.height+2*V;var M=this instanceof l;if(this.element.nodeName==="text"||M){const y=!!this.rotation;if(M)var L={x:y?1:0,y:0};else{var f=L=0;this.attr("text-anchor")==="middle"?L=f=.5:this.rotation?L=.25:f=.75,L={x:L,y:f}}f=+this.attr("x");const b=+this.attr("y");isNaN(f)||(te=f-G.width*L.x-V),isNaN(b)||(F=b-G.height*L.y-V),M&&y&&(M=N,N=X,X=M,isNaN(f)||(te=f-G.height*L.x-V),isNaN(b)||(F=b-G.width*L.y-V))}this.focusBorder=this.renderer.rect(te,F,N,X,parseInt((P&&P.r||0).toString(),10)/ne).addClass("highcharts-focus-border").attr({zIndex:99}).add(C),this.renderer.styledMode||this.focusBorder.attr({stroke:P&&P.stroke,"stroke-width":(P&&P.strokeWidth||0)/ne}),Q(this,E,P),z(this)}function Q(E,...P){E.focusBorderUpdateHooks||(E.focusBorderUpdateHooks={},A.forEach(G=>{G+="Setter";const V=E[G]||E._defaultSetter;E.focusBorderUpdateHooks[G]=V,E[G]=function(){const C=V.apply(E,arguments);return E.addFocusBorder.apply(E,P),C}}))}function I(){O(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function O(E){E.focusBorderUpdateHooks&&(Object.keys(E.focusBorderUpdateHooks).forEach(P=>{const G=E.focusBorderUpdateHooks[P];G===E._defaultSetter?delete E[P]:E[P]=G}),delete E.focusBorderUpdateHooks)}const H=[],A="x y transform width height r d stroke-width".split(" ");w.compose=function(E,P){c.pushUnique(H,E)&&(E=E.prototype,E.renderFocusBorder=$,E.setFocusToElement=ee),c.pushUnique(H,P)&&(P=P.prototype,P.addFocusBorder=Y,P.removeFocusBorder=I)}}(n||(n={})),n}),s(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){const{doc:w}=d,{addClass:$,visuallyHideElement:ee}=m,{attr:z}=n;class Y{constructor(I,O){this.chart=I,this.domElementProvider=new c,this.announceRegion=this.addAnnounceRegion(O)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(I){l.setElementHTML(this.announceRegion,I),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=l.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(I){const O=this.chart.announcerContainer||this.createAnnouncerContainer(),H=this.domElementProvider.createElement("div");return z(H,{"aria-hidden":!1,"aria-live":I}),this.chart.styledMode?$(H,"highcharts-visually-hidden"):ee(H),O.appendChild(H),H}createAnnouncerContainer(){const I=this.chart,O=w.createElement("div");return z(O,{"aria-hidden":!1,class:"highcharts-announcer-container"}),O.style.position="relative",I.renderTo.insertBefore(O,I.renderTo.firstChild),I.announcerContainer=O}}return Y}),s(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(l){function c(ee){return(ee.annotations||[]).reduce((z,Y)=>(Y.options&&Y.options.visible!==!1&&(z=z.concat(Y.labels)),z),[])}function d(ee){return ee.options&&ee.options.accessibility&&ee.options.accessibility.description||ee.graphic&&ee.graphic.text&&ee.graphic.text.textStr||""}function m(ee){var z=ee.options&&ee.options.accessibility&&ee.options.accessibility.description;if(z)return z;z=ee.chart;const Y=d(ee),Q=ee.points.filter(H=>!!H.graphic).map(H=>{const A=H.accessibility&&H.accessibility.valueDescription||H.graphic&&H.graphic.element&&H.graphic.element.getAttribute("aria-label")||"";return H=H&&H.series.name||"",(H?H+", ":"")+"data point "+A}).filter(H=>!!H),I=Q.length,O="accessibility.screenReaderSection.annotations.description"+(1<I?"MultiplePoints":I?"SinglePoint":"NoPoints");return ee={annotationText:Y,annotation:ee,numPoints:I,annotationPoint:Q[0],additionalAnnotationPoints:Q.slice(1)},z.langFormat(O,ee)}function n(ee){return c(ee).map(z=>(z=w($(m(z))))?`<li>${z}</li>`:"")}const{escapeStringForHTML:w,stripHTMLTagsFromString:$}=l;return{getAnnotationsInfoHTML:function(ee){const z=ee.annotations;return z&&z.length?`<ul style="list-style-type: none">${n(ee).join(" ")}</ul>`:""},getAnnotationLabelDescription:m,getAnnotationListItems:n,getPointAnnotationTexts:function(ee){const z=c(ee.series.chart).filter(Y=>-1<Y.points.indexOf(ee));return z.length?z.map(Y=>`${d(Y)}`):[]}}}),s(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w,$,ee,z,Y){function Q(L,f){var y=f[0],b=L.series&&L.series[0]||{};if(b={numSeries:L.series.length,numPoints:b.points&&b.points.length,chart:L,mapTitle:L.mapView&&L.mapView.geoMap&&L.mapView.geoMap.title},!y)return L.langFormat("accessibility.chartTypes.emptyChart",b);if(y==="map")return b.mapTitle?L.langFormat("accessibility.chartTypes.mapTypeDescription",b):L.langFormat("accessibility.chartTypes.unknownMap",b);if(1<L.types.length)return L.langFormat("accessibility.chartTypes.combinationChart",b);{f=f[0],y=L.langFormat("accessibility.seriesTypeDescriptions."+f,b);const S=L.series&&2>L.series.length?"Single":"Multiple";L=(L.langFormat("accessibility.chartTypes."+f+S,b)||L.langFormat("accessibility.chartTypes.default"+S,b))+(y?" "+y:"")}return L}const{getAnnotationsInfoHTML:I}=m,{getAxisDescription:O,getAxisRangeDescription:H,getChartTitle:A,unhideChartElementFromAT:E}=w,{format:P}=$,{doc:G}=ee,{addClass:V,getElement:C,getHeadingTagNameForElement:ne,stripHTMLTagsFromString:te,visuallyHideElement:F}=z,{attr:N,pick:X}=Y;class M extends c{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const f=this.chart,y=this;this.initRegionsDefinitions(),this.addEvent(f,"aftergetTableAST",function(b){y.onDataTableCreated(b)}),this.addEvent(f,"afterViewData",function(b){b.wasHidden&&(y.dataTableDiv=b.element,setTimeout(function(){y.focusDataTable()},300))}),this.announcer=new d(f,"assertive")}initRegionsDefinitions(){const f=this;this.screenReaderSections={before:{element:null,buildContent:function(y){const b=y.options.accessibility.screenReaderSection.beforeChartFormatter;return b?b(y):f.defaultBeforeChartFormatter(y)},insertIntoDOM:function(y,b){b.renderTo.insertBefore(y,b.renderTo.firstChild)},afterInserted:function(){typeof f.sonifyButtonId<"u"&&f.initSonifyButton(f.sonifyButtonId),typeof f.dataTableButtonId<"u"&&f.initDataTableButton(f.dataTableButtonId)}},after:{element:null,buildContent:function(y){const b=y.options.accessibility.screenReaderSection.afterChartFormatter;return b?b(y):f.defaultAfterChartFormatter()},insertIntoDOM:function(y,b){b.renderTo.insertBefore(y,b.container.nextSibling)},afterInserted:function(){f.chart.accessibility&&f.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const f=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(y){f.updateScreenReaderSection(y)})}getLinkedDescriptionElement(){var f=this.chart.options.accessibility.linkedDescription;if(f){if(typeof f!="string")return f;if(f=P(f,this.chart),f=G.querySelectorAll(f),f.length===1)return f[0]}}setLinkedDescriptionAttrs(){const f=this.linkedDescriptionElement;f&&(f.setAttribute("aria-hidden","true"),V(f,"highcharts-linked-description"))}updateScreenReaderSection(f){const y=this.chart,b=this.screenReaderSections[f],S=b.buildContent(y),j=b.element=b.element||this.createElement("div"),J=j.firstChild||this.createElement("div");S?(this.setScreenReaderSectionAttribs(j,f),n.setElementHTML(J,S),j.appendChild(J),b.insertIntoDOM(j,y),y.styledMode?V(J,"highcharts-visually-hidden"):F(J),E(y,J),b.afterInserted&&b.afterInserted()):(j.parentNode&&j.parentNode.removeChild(j),b.element=null)}setScreenReaderSectionAttribs(f,y){const b=this.chart,S=b.langFormat("accessibility.screenReaderSection."+y+"RegionLabel",{chart:b,chartTitle:A(b)});N(f,{id:`highcharts-screen-reader-region-${y}-${b.index}`,"aria-label":S||void 0}),f.style.position="relative",S&&f.setAttribute("role",b.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var f=this.chart;const y=f.options.accessibility.screenReaderSection.beforeChartFormat;if(!y)return"";var b=this.getAxesDescription();const S=f.sonify&&f.options.sonification&&f.options.sonification.enabled,j="highcharts-a11y-sonify-data-btn-"+f.index,J="hc-linkto-highcharts-data-table-"+f.index,W=I(f),re=f.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:f});return b={headingTagName:ne(f.renderTo),chartTitle:A(f),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:b.xAxis,yAxisDescription:b.yAxis,playAsSoundButton:S?this.getSonifyButtonText(j):"",viewTableButton:f.getCSV?this.getDataTableButtonText(J):"",annotationsTitle:W?re:"",annotationsList:W},f=l.i18nFormat(y,b,f),this.dataTableButtonId=J,this.sonifyButtonId=j,f.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){const f=this.chart,y=f.options.accessibility.screenReaderSection.afterChartFormat;if(!y)return"";const b={endOfChartMarker:this.getEndOfChartMarkerText()};return l.i18nFormat(y,b,f).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){const f=this.linkedDescriptionElement;return te(f&&f.innerHTML||"")}getLongdescText(){const f=this.chart.options;var y=f.caption;y=y&&y.text;const b=this.getLinkedDescription();return f.accessibility.description||b||y||""}getTypeDescriptionText(){const f=this.chart;return f.types?f.options.accessibility.typeDescription||Q(f,f.types):""}getDataTableButtonText(f){var y=this.chart;return y=y.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:y,chartTitle:A(y)}),'<button id="'+f+'">'+y+"</button>"}getSonifyButtonText(f){var y=this.chart;return y.options.sonification&&y.options.sonification.enabled===!1?"":(y=y.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:y,chartTitle:A(y)}),'<button id="'+f+'">'+y+"</button>")}getSubtitleText(){const f=this.chart.options.subtitle;return te(f&&f.text||"")}getEndOfChartMarkerText(){const f=this.chart,y=f.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:f});return'<div id="highcharts-end-of-chart-marker-'+f.index+'">'+y+"</div>"}onDataTableCreated(f){const y=this.chart;if(y.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const b=f.tree.attributes||{};b.tabindex=-1,b.summary=y.langFormat("accessibility.table.tableSummary",{chart:y}),f.tree.attributes=b}}focusDataTable(){var f=this.dataTableDiv;(f=f&&f.getElementsByTagName("table")[0])&&f.focus&&f.focus()}initSonifyButton(f){const y=this.sonifyButton=C(f),b=this.chart,S=j=>{y&&(y.setAttribute("aria-hidden","true"),y.setAttribute("aria-label","")),j.preventDefault(),j.stopPropagation(),j=b.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:b}),this.announcer.announce(j),setTimeout(()=>{y&&(y.removeAttribute("aria-hidden"),y.removeAttribute("aria-label")),b.sonify&&b.sonify()},1e3)};y&&b&&(y.setAttribute("tabindex",-1),y.onclick=function(j){(b.options.accessibility&&b.options.accessibility.screenReaderSection.onPlayAsSoundClick||S).call(this,j,b)})}initDataTableButton(f){const y=this.viewDataTableButton=C(f),b=this.chart;f=f.replace("hc-linkto-",""),y&&(N(y,{tabindex:-1,"aria-expanded":!!C(f)}),y.onclick=b.options.accessibility.screenReaderSection.onViewDataTableClick||function(){b.viewData()})}getAxesDescription(){const f=this.chart;var y=function(J,W){return J=f[J],1<J.length||J[0]&&X(J[0].options.accessibility&&J[0].options.accessibility.enabled,W)},b=!!f.types&&0>f.types.indexOf("map")&&0>f.types.indexOf("treemap")&&0>f.types.indexOf("tilemap");const S=!!f.hasCartesianSeries,j=y("xAxis",!f.angular&&S&&b);return y=y("yAxis",S&&b),b={},j&&(b.xAxis=this.getAxisDescriptionText("xAxis")),y&&(b.yAxis=this.getAxisDescriptionText("yAxis")),b}getAxisDescriptionText(f){const y=this.chart,b=y[f];return y.langFormat("accessibility.axis."+f+"Description"+(1<b.length?"Plural":"Singular"),{chart:y,names:b.map(function(S){return O(S)}),ranges:b.map(function(S){return H(S)}),numAxes:b.length})}destroy(){this.announcer&&this.announcer.destroy()}}return M}),s(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c,d,m,n,w){const{attr:$}=c,{getChartTitle:ee,unhideChartElementFromAT:z}=n,{getFakeMouseEvent:Y}=w;class Q extends d{init(){const O=this.chart,H=this;this.addEvent(O,"exportMenuShown",function(){H.onMenuShown()}),this.addEvent(O,"exportMenuHidden",function(){H.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const O=this.chart.exportContextMenu;O&&O.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const O=this.chart,H=O.exportContextMenu;H&&(this.addAccessibleContextMenuAttribs(),z(O,H)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(O){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",O)}onChartRender(){const O=this.chart,H=O.focusElement,A=O.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&H&&H===O.exportingGroup&&(H.focusBorder?O.setFocusToElement(H,this.exportButtonProxy.buttonElement):A&&A.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const O=this.chart,H=this.proxyProvider,A=O.exportSVGElements&&O.exportSVGElements[0];{var E=O.options.exporting;const P=O.exportSVGElements&&O.exportSVGElements[0];E=!!(E&&E.enabled!==!1&&E.accessibility&&E.accessibility.enabled&&P&&P.element)}E&&A&&(this.exportButtonProxy=H.addProxyElement("chartMenu",{click:A},{"aria-label":O.langFormat("accessibility.exporting.menuButtonLabel",{chart:O,chartTitle:ee(O)}),"aria-expanded":!1,title:O.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const O=this.chart;var H=O.exportDivElements;H&&H.length&&(H.forEach(A=>{A&&(A.tagName!=="LI"||A.children&&A.children.length?A.setAttribute("aria-hidden","true"):A.setAttribute("tabindex",-1))}),(H=H[0]&&H[0].parentNode)&&$(H,{"aria-hidden":void 0,"aria-label":O.langFormat("accessibility.exporting.chartMenuLabel",{chart:O}),role:"list"}))}getKeyboardNavigation(){const O=this.keyCodes,H=this.chart,A=this;return new m(H,{keyCodeMap:[[[O.left,O.up],function(){return A.onKbdPrevious(this)}],[[O.right,O.down],function(){return A.onKbdNext(this)}],[[O.enter,O.space],function(){return A.onKbdClick(this)}]],validate:function(){return!!H.exporting&&H.options.exporting.enabled!==!1&&H.options.exporting.accessibility.enabled!==!1},init:function(){const E=A.exportButtonProxy,P=A.chart.exportingGroup;E&&P&&H.setFocusToElement(P,E.buttonElement)},terminate:function(){H.hideExportMenu()}})}onKbdPrevious(O){const H=this.chart,A=H.options.accessibility;O=O.response;let E=H.highlightedExportItemIx||0;for(;E--;)if(H.highlightExportItem(E))return O.success;return A.keyboardNavigation.wrapAround?(H.highlightLastExportItem(),O.success):O.prev}onKbdNext(O){const H=this.chart,A=H.options.accessibility;O=O.response;for(let E=(H.highlightedExportItemIx||0)+1;E<H.exportDivElements.length;++E)if(H.highlightExportItem(E))return O.success;return A.keyboardNavigation.wrapAround?(H.highlightExportItem(0),O.success):O.next}onKbdClick(O){const H=this.chart,A=H.exportDivElements[H.highlightedExportItemIx],E=(H.exportSVGElements&&H.exportSVGElements[0]).element;return H.openMenu?this.fakeClickEvent(A):(this.fakeClickEvent(E),H.highlightExportItem(0)),O.response.success}}return function(I){function O(){var G=this.exportSVGElements&&this.exportSVGElements[0];G&&(G=G.element,G.onclick)&&G.onclick(Y("click"))}function H(){const G=this.exportDivElements;G&&this.exportContextMenu&&this.openMenu&&(G.forEach(V=>{V&&V.className==="highcharts-menu-item"&&V.onmouseout&&V.onmouseout(Y("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function A(G){const V=this.exportDivElements&&this.exportDivElements[G],C=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(V&&V.tagName==="LI"&&(!V.children||!V.children.length)){const ne=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return V.focus&&ne&&V.focus(),C&&C.onmouseout&&C.onmouseout(Y("mouseout")),V.onmouseover&&V.onmouseover(Y("mouseover")),this.highlightedExportItemIx=G,!0}return!1}function E(){if(this.exportDivElements){let G=this.exportDivElements.length;for(;G--;)if(this.highlightExportItem(G))return!0}return!1}const P=[];I.compose=function(G){c.pushUnique(P,G)&&(G=l.prototype,G.hideExportMenu=H,G.highlightExportItem=A,G.highlightLastExportItem=E,G.showExportMenu=O)}}(Q||(Q={})),Q}),s(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c,d,m,n){const{doc:w,win:$}=l,{addEvent:ee,fireEvent:z}=d,{getElement:Y,simulatedEventTarget:Q}=n;class I{constructor(H,A){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(H,A)}init(H,A){const E=this.eventProvider=new m;this.chart=H,this.components=A,this.modules=[],this.currentModuleIx=0,this.update(),E.addEvent(this.tabindexContainer,"keydown",P=>this.onKeydown(P)),E.addEvent(this.tabindexContainer,"focus",P=>this.onFocus(P)),["mouseup","touchend"].forEach(P=>E.addEvent(w,P,G=>this.onMouseUp(G))),["mousedown","touchstart"].forEach(P=>E.addEvent(H.renderTo,P,()=>{this.isClickingChart=!0}))}update(H){var A=this.chart.options.accessibility;A=A&&A.keyboardNavigation;const E=this.components;this.updateContainerTabindex(),A&&A.enabled&&H&&H.length?(this.modules=H.reduce(function(P,G){return G=E[G].getKeyboardNavigation(),P.concat(G)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const H=Y(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),H?(this.makeElementAnExitAnchor(H),this.exitAnchor=H):this.createExitAnchor()}move(H){var A=this.modules&&this.modules[this.currentModuleIx];if(A&&A.terminate&&A.terminate(H),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=H,A=this.modules&&this.modules[this.currentModuleIx]){if(A.validate&&!A.validate())return this.move(H);if(A.init)return A.init(H),!0}return this.currentModuleIx=0,this.exiting=!0,0<H?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(H){var A=this.chart;H=H.relatedTarget&&A.container.contains(H.relatedTarget),!(A=(A=A.options.accessibility)&&A.keyboardNavigation)||!A.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||H||(H=this.getFirstValidModuleIx(),H!==null&&(this.currentModuleIx=H,this.modules[H].init(1))),this.exiting=!1}onMouseUp(H){if(delete this.isClickingChart,!this.keyboardReset&&H.relatedTarget!==Q){const A=this.chart;H.target&&A.container.contains(H.target)||((H=this.modules&&this.modules[this.currentModuleIx||0])&&H.terminate&&H.terminate(),this.currentModuleIx=0),A.focusElement&&(A.focusElement.removeFocusBorder(),delete A.focusElement),this.keyboardReset=!0}}onKeydown(H){H=H||$.event;const A=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let E;if(this.exiting=this.keyboardReset=!1,A){const P=A.run(H);P===A.response.success?E=!0:P===A.response.prev?E=this.move(-1):P===A.response.next&&(E=this.move(1)),E&&(H.preventDefault(),H.stopPropagation())}}updateContainerTabindex(){var H=this.chart.options.accessibility;H=H&&H.keyboardNavigation,H=!(H&&H.enabled===!1);const A=this.chart;var E=A.container;A.renderTo.hasAttribute("tabindex")&&(E.removeAttribute("tabindex"),E=A.renderTo),this.tabindexContainer=E;const P=E.getAttribute("tabindex");H&&!P?E.setAttribute("tabindex","0"):H||A.container.removeAttribute("tabindex")}createExitAnchor(){const H=this.chart,A=this.exitAnchor=w.createElement("div");H.renderTo.appendChild(A),this.makeElementAnExitAnchor(A)}makeElementAnExitAnchor(H){const A=this.tabindexContainer.getAttribute("tabindex")||0;H.setAttribute("class","highcharts-exit-anchor"),H.setAttribute("tabindex",A),H.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(H)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(H){const A=this.chart,E=this;this.eventProvider.addEvent(H,"focus",function(P){P=P||$.event;const G=!(P.relatedTarget&&A.container.contains(P.relatedTarget)||E.exiting);A.focusElement&&delete A.focusElement,G?(E.tabbingInBackwards=!0,E.tabindexContainer.focus(),delete E.tabbingInBackwards,P.preventDefault(),E.modules&&E.modules.length&&(E.currentModuleIx=E.modules.length-1,(P=E.modules[E.currentModuleIx])&&P.validate&&!P.validate()?E.move(-1):P&&P.init(-1))):E.exiting=!1})}getFirstValidModuleIx(){const H=this.modules.length;for(let A=0;A<H;++A){const E=this.modules[A];if(!E.validate||E.validate())return A}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(O){function H(){const P=this;z(this,"dismissPopupContent",{},function(){P.tooltip&&P.tooltip.hide(0),P.hideExportMenu()})}function A(P){(P.which||P.keyCode)===27&&l.charts&&l.charts.forEach(G=>{G&&G.dismissPopupContent&&G.dismissPopupContent()})}const E=[];O.compose=function(P){return c.compose(P),d.pushUnique(E,P)&&(P.prototype.dismissPopupContent=H),d.pushUnique(E,w)&&ee(w,"keydown",A),P}}(I||(I={})),I}),s(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c,d,m,n,w,$,ee){function z(F){const N=F.legend&&F.legend.allItems,X=F.options.legend.accessibility||{};return F=F.colorAxis&&F.colorAxis.some(M=>!M.dataClasses||!M.dataClasses.length),!(!N||!N.length||F||X.enabled===!1)}function Y(F,N){const X=N.legendItem||{};N.setState(F?"hover":"",!0);for(const M of["group","label","symbol"])(N=(N=X[M])&&N.element||N)&&H(N,F?"mouseover":"mouseout")}const{animObject:Q}=l,{doc:I}=c,{addEvent:O,fireEvent:H,isNumber:A,pick:E,syncTimeout:P}=m,{getChartTitle:G}=$,{stripHTMLTagsFromString:V,addClass:C,removeClass:ne}=ee;class te extends n{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const N=this;this.recreateProxies(),this.addEvent(d,"afterScroll",function(){this.chart===N.chart&&(N.proxyProvider.updateGroupProxyElementPositions("legend"),N.updateLegendItemProxyVisibility(),-1<N.highlightedLegendItemIx&&this.chart.highlightLegendItem(N.highlightedLegendItemIx))}),this.addEvent(d,"afterPositionItem",function(X){this.chart===N.chart&&this.chart.renderer&&N.updateProxyPositionForItem(X.item)}),this.addEvent(d,"afterRender",function(){this.chart===N.chart&&this.chart.renderer&&N.recreateProxies()&&P(()=>N.proxyProvider.updateGroupProxyElementPositions("legend"),Q(E(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const N=this.chart,X=N.legend,M=X.currentPage||1,L=X.clipHeight||0;let f;(X.allItems||[]).forEach(y=>{if(y.a11yProxyElement){var b=X.pages&&X.pages.length;const j=y.a11yProxyElement.element;var S=!1;f=y.legendItem||{},b&&(y=f.pageIx||0,b=f.y||0,S=f.label?Math.round(f.label.getBBox().height):0,S=b+S-X.pages[y]>L||y!==M-1),S?N.styledMode?C(j,"highcharts-a11y-invisible"):j.style.visibility="hidden":(ne(j,"highcharts-a11y-invisible"),j.style.visibility="")}})}onChartRender(){z(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(N){const X=this.chart;var M=X.legend;N=(M.currentPage||1)+N;var L=M.pages||[];if(0<N&&N<=L.length){L=0;for(const f of M.allItems)((f.legendItem||{}).pageIx||0)+1===N&&(M=X.highlightLegendItem(L))&&(this.highlightedLegendItemIx=L),++L}}updateProxyPositionForItem(N){N.a11yProxyElement&&N.a11yProxyElement.refreshPosition()}recreateProxies(){var N=I.activeElement;const X=this.proxyGroup;return N=N&&X&&X.contains(N),this.removeProxies(),z(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),N&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0):!1}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var N=this.chart;const X=V((N.legend&&N.legend.options.title&&N.legend.options.title.text||"").replace(/<br ?\/?>/g," "));N=N.langFormat("accessibility.legend.legendLabel"+(X?"":"NoTitle"),{chart:N,legendTitle:X,chartTitle:G(N)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":N})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null})}proxyLegendItems(){const N=this;let X;((this.chart.legend||{}).allItems||[]).forEach(M=>{X=M.legendItem||{},X.label&&X.label.element&&N.proxyLegendItem(M)})}proxyLegendItem(N){const X=N.legendItem||{};if(X.label&&X.group){var M=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:V(N.name),item:N});N.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:X.label,visual:(X.group.div?X.label:X.group).element},{tabindex:-1,"aria-pressed":N.visible,"aria-label":M})}}getKeyboardNavigation(){const N=this.keyCodes,X=this,M=this.chart;return new w(M,{keyCodeMap:[[[N.left,N.right,N.up,N.down],function(L){return X.onKbdArrowKey(this,L)}],[[N.enter,N.space],function(){return X.onKbdClick(this)}],[[N.pageDown,N.pageUp],function(L){return X.highlightAdjacentLegendPage(L===N.pageDown?1:-1),this.response.success}]],validate:function(){return X.shouldHaveLegendNavigation()},init:function(){M.highlightLegendItem(0),X.highlightedLegendItemIx=0},terminate:function(){X.highlightedLegendItemIx=-1,M.legend.allItems.forEach(L=>Y(!1,L))}})}onKbdArrowKey(N,X){const M=this.keyCodes,L=N.response,f=this.chart,y=f.options.accessibility,b=f.legend.allItems.length;return X=X===M.left||X===M.up?-1:1,f.highlightLegendItem(this.highlightedLegendItemIx+X)?(this.highlightedLegendItemIx+=X,L.success):(1<b&&y.keyboardNavigation.wrapAround&&N.init(X),L.success)}onKbdClick(N){const X=this.chart.legend.allItems[this.highlightedLegendItemIx];return X&&X.a11yProxyElement&&X.a11yProxyElement.click(),N.response.success}shouldHaveLegendNavigation(){if(!z(this.chart))return!1;const N=this.chart,X=(N.options.legend||{}).accessibility||{};return!!(N.legend.display&&X.keyboardNavigation&&X.keyboardNavigation.enabled)}}return function(F){function N(L){var f=this.legend.allItems,y=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const b=f[L];var S=b.legendItem||{};return b?(A(y)&&f[y]&&Y(!1,f[y]),f=this.legend,L=(f.allItems[L].legendItem||{}).pageIx,y=f.currentPage,typeof L<"u"&&L+1!==y&&f.scroll(1+L-y),S=S.label,L=b.a11yProxyElement&&b.a11yProxyElement.buttonElement,S&&S.element&&L&&this.setFocusToElement(S,L),Y(!0,b),!0):!1}function X(L){const f=L.item;this.chart.options.accessibility.enabled&&f&&f.a11yProxyElement&&f.a11yProxyElement.buttonElement.setAttribute("aria-pressed",L.visible?"true":"false")}const M=[];F.compose=function(L,f){m.pushUnique(M,L)&&(L.prototype.highlightLegendItem=N),m.pushUnique(M,f)&&O(f,"afterColorizeItem",X)}}(te||(te={})),te}),s(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){function w(b){const S=b.index;return b.series&&b.series.data&&y(S)&&M(b.series.data,function(j){return!!(j&&typeof j.index<"u"&&j.index>S&&j.graphic&&j.graphic.element)})||null}function $(b){const S=b.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(S!==!1&&b.points&&b.points.length>=S)}function ee(b){const S=b.options.accessibility||{};return!$(b)&&!S.exposeAsGroupOnly}function z(b){const S=b.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!b.points||!(b.points.length<S.pointNavigationEnabledThreshold||S.pointNavigationEnabledThreshold===!1))}function Y(b,S){var j=b.series,J=j.chart;b=J.options.accessibility.point||{};const W=j.options.accessibility&&j.options.accessibility.point||{};return j=j.tooltipOptions||{},J=J.options.lang,L(S)?F(S,W.valueDecimals||b.valueDecimals||j.valueDecimals||-1,J.decimalPoint,J.accessibility.thousandsSep||J.thousandsSep):S}function Q(b){const S=(b.options.accessibility||{}).description;return S&&b.chart.langFormat("accessibility.series.description",{description:S,series:b})||""}function I(b,S){return b.chart.langFormat("accessibility.series."+S+"Description",{name:G(b[S]),series:b})}function O(b,S,j){const J=S||"",W=j||"";return b.series.pointArrayMap.reduce(function(re,ue){{const ve=Y(b,f(b[ue],b.options[ue]));ue=ve!==void 0?ue+": "+J+ve+W:ve}return ue?re+(re.length?", ":"")+ue:re},"")}function H(b){var S=b.series,j=1<S.chart.series.length||S.options.name,J=b.series,W=J.chart,re=J.options.accessibility;if(re=re&&re.point&&re.point.valueDescriptionFormat||W.options.accessibility.point.valueDescriptionFormat,J=f(J.xAxis&&J.xAxis.options.accessibility&&J.xAxis.options.accessibility.enabled,!W.angular&&J.type!=="flowmap"),J){var ue=b.series,ve=ue.chart,q=ue.options.accessibility&&ue.options.accessibility.point||{},se=ve.options.accessibility.point||{};(ue=ue.xAxis&&ue.xAxis.dateTime)?(ue=ue.getXDateFormat(b.x||0,ve.options.tooltip.dateTimeLabelFormats),q=q.dateFormatter&&q.dateFormatter(b)||se.dateFormatter&&se.dateFormatter(b)||q.dateFormat||se.dateFormat||ue,ve=ve.time.dateFormat(q,b.x||0,void 0)):ve=void 0,q=(b.series.xAxis||{}).categories&&y(b.category)&&(""+b.category).replace("<br/>"," "),se=y(b.id)&&0>(""+b.id).indexOf("highcharts-"),ue="x, "+b.x,ve=b.name||ve||q||(se?b.id:ue)}else ve="";q=ve,ve=y(b.index)?b.index+1:"";{se=b.series;var pe=se.chart.options.accessibility.point||{},xe=se.chart.options.accessibility&&se.chart.options.accessibility.point||{};const Pe=se.tooltipOptions||{};ue=xe.valuePrefix||pe.valuePrefix||Pe.valuePrefix||"",pe=xe.valueSuffix||pe.valueSuffix||Pe.valueSuffix||"",xe=Y(b,b[typeof b.value<"u"?"value":"y"]),se=b.isNull?se.chart.langFormat("accessibility.series.nullPointValue",{point:b}):se.pointArrayMap?O(b,ue,pe):ue+xe+pe}return W=te(re,{point:b,index:ve,xDescription:q,value:se,separator:J?", ":""},W),re=(re=b.options&&b.options.accessibility&&b.options.accessibility.description)?" "+re:"",S=j?" "+S.name+".":"",j=b.series.chart,J=P(b),ve={point:b,annotations:J},j=J.length?j.langFormat("accessibility.series.pointAnnotationsDescription",ve):"",b.accessibility=b.accessibility||{},b.accessibility.valueDescription=W,W+re+S+(j?" "+j:"")}function A(b){const S=ee(b),j=z(b),J=b.chart.options.accessibility.point.describeNull;(S||j)&&b.points.forEach(W=>{var re;if(!(re=W.graphic&&W.graphic.element)){var ue=W.series;if(re=ue&&ue.chart,ue=ue&&ue.is("sunburst"),re=re&&re.options.accessibility.point.describeNull,re=W.isNull&&!ue&&re){ue=W.series;var ve=w(W);ue=(re=ve&&ve.graphic)?re.parentGroup:ue.graph||ue.group,ve=ve?{x:f(W.plotX,ve.plotX,0),y:f(W.plotY,ve.plotY,0)}:{x:f(W.plotX,0),y:f(W.plotY,0)},ve=W.series.chart.renderer.rect(ve.x,ve.y,1,1),ve.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),ue&&ue.element?(W.graphic=ve,W.hasMockGraphic=!0,ve.add(ue),ue.element.insertBefore(ve.element,re?re.element:null),re=ve.element):re=void 0}}ue=W.options&&W.options.accessibility&&W.options.accessibility.enabled===!1,re&&(W.isNull&&!J?re.setAttribute("aria-hidden",!0):(re.setAttribute("tabindex","-1"),b.chart.styledMode||(re.style.outline="none"),S&&!ue?(ve=W.series,ue=ve.chart.options.accessibility.point||{},ve=ve.options.accessibility&&ve.options.accessibility.point||{},W=X(ve.descriptionFormatter&&ve.descriptionFormatter(W)||ue.descriptionFormatter&&ue.descriptionFormatter(W)||H(W)),re.setAttribute("role","img"),re.setAttribute("aria-label",W)):re.setAttribute("aria-hidden",!0)))})}function E(b){const S=b.chart;var j=S.types||[];const J=Q(b);var W=function(se){return S[se]&&1<S[se].length&&b[se]};const re=b.index+1;var ue=I(b,"xAxis");const ve=I(b,"yAxis");var q={seriesNumber:re,series:b,chart:S};return j=1<j.length?"Combination":"",q=S.langFormat("accessibility.series.summary."+b.type+j,q)||S.langFormat("accessibility.series.summary.default"+j,q),W=(W("yAxis")?" "+ve+".":"")+(W("xAxis")?" "+ue+".":""),ue=f(b.options.accessibility&&b.options.accessibility.descriptionFormat,S.options.accessibility.series.descriptionFormat,""),te(ue,{seriesDescription:q,authorDescription:J?" "+J:"",axisDescription:W,series:b,chart:S,seriesNumber:re},void 0)}const{getPointAnnotationTexts:P}=l,{getAxisDescription:G,getSeriesFirstPointElement:V,getSeriesA11yElement:C,unhideChartElementFromAT:ne}=c,{format:te,numberFormat:F}=d,{reverseChildNodes:N,stripHTMLTagsFromString:X}=m,{find:M,isNumber:L,pick:f,defined:y}=n;return{defaultPointDescriptionFormatter:H,defaultSeriesDescriptionFormatter:E,describeSeries:function(b){var S=b.chart,j=V(b);const J=C(b);var W=S.is3d&&S.is3d();if(J){J.lastChild!==j||W||N(J),A(b),ne(S,J);{W=b.chart,S=W.options.chart,j=1<W.series.length,W=W.options.accessibility.series.describeSingleSeries;const re=(b.options.accessibility||{}).exposeAsGroupOnly;S=!(S.options3d&&S.options3d.enabled&&j)&&(j||W||re||$(b))}S?(S=b.chart.options.accessibility,j=S.landmarkVerbosity,(b.options.accessibility||{}).exposeAsGroupOnly?J.setAttribute("role","img"):j==="all"?J.setAttribute("role","region"):J.setAttribute("role","group"),J.setAttribute("tabindex","-1"),b.chart.styledMode||(J.style.outline="none"),J.setAttribute("aria-label",X(S.series.descriptionFormatter&&S.series.descriptionFormatter(b)||E(b)))):J.removeAttribute("aria-label")}}}}),s(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(l,c,d,m,n,w){function $(A){const E=A.series.data.filter(P=>A.x===P.x&&A.y===P.y);return E.length===1?E[0]:A}function ee(A,E){const P=(A||[]).concat(E||[]).reduce((G,V)=>(G[V.name+V.index]=V,G),{});return Object.keys(P).map(G=>P[G])}const{addEvent:z,defined:Y}=c,{getChartTitle:Q}=m,{defaultPointDescriptionFormatter:I,defaultSeriesDescriptionFormatter:O}=w;class H{constructor(E){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=E}init(){const E=this.chart,P=E.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new n,this.announcer=new d(E,P),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const E=this,P=this.chart,G=this.eventProvider;G.addEvent(P,"afterApplyDrilldown",function(){E.lastAnnouncementTime=0}),G.addEvent(P,"afterAddSeries",function(V){E.onSeriesAdded(V.series)}),G.addEvent(P,"redraw",function(){E.announceDirtyData()})}onSeriesAdded(E){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[E.name+E.index]=E,this.dirty.newSeries=Y(this.dirty.newSeries)?void 0:E)}announceDirtyData(){const E=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let P=this.dirty.newPoint;P&&(P=$(P)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(G=>E.dirty.allSeries[G]),this.dirty.newSeries,P),this.dirty={allSeries:{}}}}queueAnnouncement(E,P,G){var V=this.chart.options.accessibility.announceNewData;if(V.enabled){const C=+new Date;V=Math.max(0,V.minAnnounceInterval-(C-this.lastAnnouncementTime)),E=ee(this.queuedAnnouncement&&this.queuedAnnouncement.series,E),(P=this.buildAnnouncementMessage(E,P,G))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:C,message:P,series:E},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},V))}}buildAnnouncementMessage(E,P,G){const V=this.chart;var C=V.options.accessibility.announceNewData;return C.announcementFormatter&&(E=C.announcementFormatter(E,P,G),E!==!1)?E.length?E:null:(E=l.charts&&1<l.charts.length?"Multiple":"Single",E=P?"newSeriesAnnounce"+E:G?"newPointAnnounce"+E:"newDataAnnounce",C=Q(V),V.langFormat("accessibility.announceNewData."+E,{chartTitle:C,seriesDesc:P?O(P):null,pointDesc:G?I(G):null,point:G,series:P}))}}return function(A){function E(G){const V=this.chart,C=this.newDataAnnouncer;C&&C.chart===V&&V.options.accessibility.announceNewData.enabled&&(C.dirty.newPoint=Y(C.dirty.newPoint)?void 0:G.point)}function P(){const G=this.chart,V=this.newDataAnnouncer;V&&V.chart===G&&G.options.accessibility.announceNewData.enabled&&(V.dirty.hasDirty=!0,V.dirty.allSeries[this.name+this.index]=this)}A.composedMembers=[],A.compose=function(G){c.pushUnique(A.composedMembers,G)&&(z(G,"addPoint",E),z(G,"updatedData",P))}}(H||(H={})),H}),s(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c,d,m,n){const{doc:w}=l,{attr:$,css:ee,merge:z}=c,{fireEventOnWrappedOrUnwrappedElement:Y}=m,{cloneMouseEvent:Q,cloneTouchEvent:I,getFakeMouseEvent:O,removeElement:H}=n;class A{constructor(P,G,V,C){this.chart=P,this.target=G,this.groupType=V,V=V==="ul",this.eventProvider=new d;const ne=V?w.createElement("li"):null,te=this.buttonElement=w.createElement("button");P.styledMode||this.hideButtonVisually(te),ne?(V&&!P.styledMode&&(ne.style.listStyle="none"),ne.appendChild(te),this.element=ne):this.element=te,this.updateTarget(G,C)}click(){var P=this.getTargetPosition();P.x+=P.width/2,P.y+=P.height/2,P=O("click",P),Y(this.target.click,P)}updateTarget(P,G){this.target=P,this.updateCSSClassName();const V=G||{};Object.keys(V).forEach(C=>{V[C]===null&&delete V[C]}),$(this.buttonElement,z({"aria-label":this.getTargetAttr(P.click,"aria-label")},V)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,P.click),this.refreshPosition()}refreshPosition(){const P=this.getTargetPosition();ee(this.buttonElement,{width:(P.width||1)+"px",height:(P.height||1)+"px",left:(Math.round(P.x)||0)+"px",top:(Math.round(P.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),H(this.element)}updateCSSClassName(){var P=this.chart.legend;P=P.group&&P.group.div,P=-1<(P&&P.className||"").indexOf("highcharts-no-tooltip");const G=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=P||G?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(P,G){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(V=>{const C=V.indexOf("touch")===0;this.eventProvider.addEvent(P,V,ne=>{const te=C?I(ne):Q(ne);G&&Y(G,te),ne.stopPropagation(),C||ne.preventDefault()},{passive:!1})})}hideButtonVisually(P){ee(P,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var P=this.target.click;if(P=P.element?P.element:P,P=this.target.visual||P,this.chart.renderTo&&P&&P.getBoundingClientRect){P=P.getBoundingClientRect();const G=this.chart.pointer.getChartPosition();return{x:(P.left-G.left)/G.scaleX,y:(P.top-G.top)/G.scaleY,width:P.right/G.scaleX-P.left/G.scaleX,height:P.bottom/G.scaleY-P.top/G.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(P,G){return P.element?P.element.getAttribute(G):P.getAttribute(G)}}return A}),s(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(l,c,d,m,n,w){const{doc:$}=l,{attr:ee,css:z}=c,{unhideChartElementFromAT:Y}=d,{removeElement:Q,removeChildNodes:I}=n;class O{constructor(A){this.chart=A,this.domElementProvider=new m,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(A,E,P){const G=this.groups[A];if(!G)throw Error("ProxyProvider.addProxyElement: Invalid group key "+A);return A=new w(this.chart,E,G.type,P),G.proxyContainerElement.appendChild(A.element),G.proxyElements.push(A),A}addGroup(A,E,P){var G=this.groups[A];if(G)return G.groupElement;G=this.domElementProvider.createElement(E);let V;return P&&P.role&&E!=="div"?(V=this.domElementProvider.createElement("div"),V.appendChild(G)):V=G,V.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+A.replace(/\W/g,"-"),this.groups[A]={proxyContainerElement:G,groupElement:V,type:E,proxyElements:[]},ee(V,P||{}),E==="ul"&&G.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(V),this.updateGroupOrder(this.groupOrder),V}updateGroupAttrs(A,E){const P=this.groups[A];if(!P)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+A);ee(P.groupElement,E)}updateGroupOrder(A){if(this.groupOrder=A.slice(),!this.isDOMOrderGroupOrder()){var E=A.indexOf("series"),P=-1<E?A.slice(0,E):A,G=-1<E?A.slice(E+1):[];A=$.activeElement,["before","after"].forEach(V=>{const C=this[V==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];V=V==="before"?P:G,I(C),V.forEach(ne=>{(ne=this.groups[ne])&&C.appendChild(ne.groupElement)})}),(this.beforeChartProxyPosContainer.contains(A)||this.afterChartProxyPosContainer.contains(A))&&A&&A.focus&&A.focus()}}clearGroup(A){const E=this.groups[A];if(!E)throw Error("ProxyProvider.clearGroup: Invalid group key "+A);I(E.proxyContainerElement)}removeGroup(A){const E=this.groups[A];E&&(Q(E.groupElement),delete this.groups[A])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(A){(A=this.groups[A])&&A.proxyElements.forEach(E=>E.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(A){const E=this.domElementProvider.createElement("div");return E.setAttribute("aria-hidden","false"),E.className="highcharts-a11y-proxy-container"+(A?"-"+A:""),z(E,{top:"0",left:"0"}),this.chart.styledMode||(E.style.whiteSpace="nowrap",E.style.position="absolute"),E}getCurrentGroupOrderInDOM(){const A=G=>{const V=Object.keys(this.groups);let C=V.length;for(;C--;){const ne=V[C],te=this.groups[ne];if(te&&G===te.groupElement)return ne}};var E=G=>{const V=[];G=G.children;for(let C=0;C<G.length;++C){const ne=A(G[C]);ne&&V.push(ne)}return V};const P=E(this.beforeChartProxyPosContainer);return E=E(this.afterChartProxyPosContainer),P.push("series"),P.concat(E)}isDOMOrderGroupOrder(){const A=this.getCurrentGroupOrderInDOM(),E=this.groupOrder.filter(G=>G==="series"||!!this.groups[G]);let P=A.length;if(P!==E.length)return!1;for(;P--;)if(A[P]!==E[P])return!1;return!0}updatePosContainerPositions(){const A=this.chart;if(!A.renderer.forExport){var E=A.renderer.box;A.container.insertBefore(this.afterChartProxyPosContainer,E.nextSibling),A.container.insertBefore(this.beforeChartProxyPosContainer,E),Y(this.chart,this.afterChartProxyPosContainer),Y(this.chart,this.beforeChartProxyPosContainer)}}}return O}),s(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),s(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(l,c,d){function m(){const N=this.range,X=N.type,M=this.max,L=this.chart.time,f=function(j,J){const W=X==="year"?"FullYear":"Month",re=new L.Date(j),ue=L.get(W,re);return L.set(W,re,ue+J),ue===L.get(W,re)&&L.set("Date",re,0),re.getTime()-j};let y,b;G(N)?(y=M-N,b=N):N&&(y=M+f(M,-(N.count||1)),this.chart&&(this.chart.fixedRange=M-y));const S=C(this.dataMin,Number.MIN_VALUE);return G(y)||(y=S),y<=S&&(y=S,typeof b>"u"&&(b=f(y,N.count)),this.newMax=Math.min(y+b,C(this.dataMax,Number.MAX_VALUE))),G(M)?!G(N)&&N&&N._offsetMin&&(y+=N._offsetMin):y=void 0,y}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new F(this))}function w(){var N=this.axes;const X=this.rangeSelector;X&&(G(X.deferredYTDClick)&&(X.clickButton(X.deferredYTDClick),delete X.deferredYTDClick),N.forEach(M=>{M.updateNames(),M.setScale()}),this.getAxisMargins(),X.render(),N=X.options.verticalAlign,X.options.floating||(N==="bottom"?this.extraBottomMargin=!0:N!=="middle"&&(this.extraTopMargin=!0)))}function $(N){let X,M,L,f;const y=N.rangeSelector,b=()=>{y&&(X=N.xAxis[0].getExtremes(),M=N.legend,f=y&&y.options.verticalAlign,G(X.min)&&y.render(X.min,X.max),M.display&&f==="top"&&f===M.options.verticalAlign&&(L=V(N.spacingBox),L.y=M.options.layout==="vertical"?N.plotTop:L.y+y.getHeight(),M.group.placed=!1,M.align(L)))};y&&(P(ne,S=>S[0]===N)||ne.push([N,[H(N.xAxis[0],"afterSetExtremes",function(S){y&&y.render(S.min,S.max)}),H(N,"redraw",b)]]),b())}function ee(){for(let N=0,X=ne.length;N<X;++N){const M=ne[N];if(M[0]===this){M[1].forEach(L=>L()),ne.splice(N,1);break}}}function z(){var N=this.rangeSelector;N&&(N=N.getHeight(),this.extraTopMargin&&(this.plotTop+=N),this.extraBottomMargin&&(this.marginBottom+=N))}function Y(){var N=this.rangeSelector;N&&!N.options.floating&&(N.render(),N=N.options.verticalAlign,N==="bottom"?this.extraBottomMargin=!0:N!=="middle"&&(this.extraTopMargin=!0))}function Q(N){var X=N.options.rangeSelector;N=this.extraBottomMargin;const M=this.extraTopMargin;let L=this.rangeSelector;X&&X.enabled&&!A(L)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=L=new F(this)),this.extraTopMargin=this.extraBottomMargin=!1,L&&($(this),X=X&&X.verticalAlign||L.options&&L.options.verticalAlign,L.options.floating||(X==="bottom"?this.extraBottomMargin=!0:X!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==N||this.extraTopMargin!==M)&&(this.isDirtyBox=!0)}const{defaultOptions:I,setOptions:O}=l,{addEvent:H,defined:A,extend:E,find:P,isNumber:G,merge:V,pick:C}=d,ne=[],te=[];let F;return{compose:function(N,X,M){F=M,d.pushUnique(te,N)&&(N.prototype.minFromRange=m),d.pushUnique(te,X)&&(H(X,"afterGetContainer",n),H(X,"beforeRender",w),H(X,"destroy",ee),H(X,"getMargins",z),H(X,"render",Y),H(X,"update",Q),X.prototype.callbacks.push($)),d.pushUnique(te,O)&&(E(I,{rangeSelector:c.rangeSelector}),E(I.lang,c.lang))}}}),s(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w){function $(X){if(X.indexOf("%L")!==-1)return"text";const M="aAdewbBmoyY".split("").some(f=>X.indexOf("%"+f)!==-1),L="HkIlMS".split("").some(f=>X.indexOf("%"+f)!==-1);return M&&L?"datetime-local":M?"date":L?"time":"text"}const{defaultOptions:ee}=c,{addEvent:z,createElement:Y,css:Q,defined:I,destroyObjectProperties:O,discardElement:H,extend:A,fireEvent:E,isNumber:P,merge:G,objectEach:V,pad:C,pick:ne,pInt:te,splat:F}=w;class N{static compose(M,L){m.compose(M,L,N)}constructor(M){this.buttons=void 0,this.buttonOptions=N.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=M,this.init(M)}clickButton(M,L){const f=this.chart,y=this.buttonOptions[M],b=f.xAxis[0];var S=f.scroller&&f.scroller.getUnionExtremes()||b||{},j=y.type;const J=y.dataGrouping;let W=S.dataMin,re=S.dataMax,ue,ve=b&&Math.round(Math.min(b.max,ne(re,b.max))),q;S=y._range;let se,pe,xe,Pe=!0;if(W!==null&&re!==null){if(f.fixedRange=S,this.setSelected(M),J&&(this.forcedDataGrouping=!0,l.prototype.setDataGrouping.call(b||{chart:this.chart},J,!1),this.frozenStates=y.preserveDataGrouping),j==="month"||j==="year")b?(j={range:y,max:ve,chart:f,dataMin:W,dataMax:re},ue=b.minFromRange.call(j),P(j.newMax)&&(ve=j.newMax),Pe=!1):S=y;else if(S)ue=Math.max(ve-S,W),ve=Math.min(ue+S,re),Pe=!1;else if(j==="ytd")if(b)(typeof re>"u"||typeof W>"u")&&(W=Number.MAX_VALUE,re=Number.MIN_VALUE,f.series.forEach(ce=>{(ce=ce.xData)&&(W=Math.min(ce[0],W),re=Math.max(ce[ce.length-1],re))}),L=!1),j=this.getYTDExtremes(re,W,f.time.useUTC),ue=se=j.min,ve=j.max;else{this.deferredYTDClick=M;return}else j==="all"&&b&&(f.navigator&&f.navigator.baseSeries[0]&&(f.navigator.baseSeries[0].xAxis.options.range=void 0),ue=W,ve=re);Pe&&y._offsetMin&&I(ue)&&(ue+=y._offsetMin),y._offsetMax&&I(ve)&&(ve+=y._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=M+1),b?b.setExtremes(ue,ve,ne(L,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:y}):(q=F(f.options.xAxis)[0],xe=q.range,q.range=S,pe=q.min,q.min=se,z(f,"load",function(){q.range=xe,q.min=pe})),E(this,"afterBtnClick")}}setSelected(M){this.selected=this.options.selected=M}init(M){const L=this,f=M.options.rangeSelector,y=f.buttons||L.defaultButtons.slice(),b=f.selected,S=function(){const j=L.minInput,J=L.maxInput;j&&j.blur&&E(j,"blur"),J&&J.blur&&E(J,"blur")};L.chart=M,L.options=f,L.buttons=[],L.buttonOptions=y,this.eventsToUnbind=[],this.eventsToUnbind.push(z(M.container,"mousedown",S)),this.eventsToUnbind.push(z(M,"resize",S)),y.forEach(L.computeButtonRange),typeof b<"u"&&y[b]&&this.clickButton(b,!1),this.eventsToUnbind.push(z(M,"load",function(){M.xAxis&&M.xAxis[0]&&z(M.xAxis[0],"setExtremes",function(j){this.max-this.min!==M.fixedRange&&j.trigger!=="rangeSelectorButton"&&j.trigger!=="updatedData"&&L.forcedDataGrouping&&!L.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const M=this;var L=this.chart;const f=this.dropdown,y=L.xAxis[0],b=Math.round(y.max-y.min),S=!y.hasVisibleSeries,j=L.scroller&&L.scroller.getUnionExtremes()||y,J=j.dataMin,W=j.dataMax;L=M.getYTDExtremes(W,J,L.time.useUTC);const re=L.min,ue=L.max,ve=M.selected,q=M.options.allButtonsEnabled,se=M.buttons;let pe=P(ve);M.buttonOptions.forEach((xe,Pe)=>{var ce=xe._range,ye=xe.type,_e=xe.count||1;const le=se[Pe],Z=xe._offsetMax-xe._offsetMin,me=Pe===ve,Me=ce>W-J,Ee=ce<y.minRange;xe=0;let ze=!1,Qe=!1;ce=ce===b,(ye==="month"||ye==="year")&&b+36e5>=864e5*{month:28,year:365}[ye]*_e-Z&&b-36e5<=864e5*{month:31,year:366}[ye]*_e+Z?ce=!0:ye==="ytd"?(ce=ue-re+Z===b,ze=!me):ye==="all"&&(ce=y.max-y.min>=W-J,Qe=!me&&pe&&ce),ye=!q&&(Me||Ee||Qe||S),_e=me&&ce||ce&&!pe&&!ze||me&&M.frozenStates,ye?xe=3:_e&&(pe=!0,xe=2),le.state!==xe&&(le.setState(xe),f&&(f.options[Pe+1].disabled=ye,xe===2&&(f.selectedIndex=Pe+1)),xe===0&&ve===Pe&&M.setSelected())})}computeButtonRange(M){const L=M.type,f=M.count||1,y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};y[L]?M._range=y[L]*f:(L==="month"||L==="year")&&(M._range=864e5*{month:30,year:365}[L]*f),M._offsetMin=ne(M.offsetMin,0),M._offsetMax=ne(M.offsetMax,0),M._range+=M._offsetMax-M._offsetMin}getInputValue(M){M=M==="min"?this.minInput:this.maxInput;const L=this.chart.options.rangeSelector,f=this.chart.time;return M?(M.type==="text"&&L.inputDateParser||this.defaultInputDateParser)(M.value,f.useUTC,f):0}setInputValue(M,L){const f=this.options,y=this.chart.time,b=M==="min"?this.minInput:this.maxInput;if(M=M==="min"?this.minDateBox:this.maxDateBox,b){var S=b.getAttribute("data-hc-time");S=I(S)?Number(S):void 0,I(L)&&(I(S)&&b.setAttribute("data-hc-time-previous",S),b.setAttribute("data-hc-time",L),S=L),b.value=y.dateFormat(this.inputTypeFormats[b.type]||f.inputEditDateFormat,S),M&&M.attr({text:y.dateFormat(f.inputDateFormat,S)})}}setInputExtremes(M,L,f){if(M=M==="min"?this.minInput:this.maxInput){const y=this.inputTypeFormats[M.type],b=this.chart.time;y&&(L=b.dateFormat(y,L),M.min!==L&&(M.min=L),f=b.dateFormat(y,f),M.max!==f&&(M.max=f))}}showInput(M){const L=M==="min"?this.minDateBox:this.maxDateBox;if((M=M==="min"?this.minInput:this.maxInput)&&L&&this.inputGroup){const f=M.type==="text",{translateX:y,translateY:b}=this.inputGroup,{inputBoxWidth:S}=this.options;Q(M,{width:f?L.width+(S?-2:20)+"px":"auto",height:L.height-2+"px",border:"2px solid silver"}),f&&S?Q(M,{left:y+L.x+"px",top:b+"px"}):Q(M,{left:Math.min(Math.round(L.x+y-(M.offsetWidth-L.width)/2),this.chart.chartWidth-M.offsetWidth)+"px",top:b-(M.offsetHeight-L.height)/2+"px"})}}hideInput(M){(M=M==="min"?this.minInput:this.maxInput)&&Q(M,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(M,L,f){var y=M.split("/").join("-").split(" ").join("T");if(y.indexOf("T")===-1&&(y+="T00:00"),L)y+="Z";else{var b;(b=d.isSafari)&&(b=y,b=!(6<b.length&&(b.lastIndexOf("-")===b.length-6||b.lastIndexOf("+")===b.length-6))),b&&(b=new Date(y).getTimezoneOffset()/60,y+=0>=b?`+${C(-b)}:00`:`-${C(b)}:00`)}return y=Date.parse(y),P(y)||(M=M.split("-"),y=Date.UTC(te(M[0]),te(M[1])-1,te(M[2]))),f&&L&&P(y)&&(y+=f.getTimezoneOffset(y)),y}drawInput(M){function L(){const{maxInput:se,minInput:pe}=S,xe=f.xAxis[0];var Pe=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:xe;const ce=Pe.dataMin;Pe=Pe.dataMax;let ye=S.getInputValue(M);ye!==Number(ve.getAttribute("data-hc-time-previous"))&&P(ye)&&(ve.setAttribute("data-hc-time-previous",ye),re&&se&&P(ce)?ye>Number(se.getAttribute("data-hc-time"))?ye=void 0:ye<ce&&(ye=ce):pe&&P(Pe)&&(ye<Number(pe.getAttribute("data-hc-time"))?ye=void 0:ye>Pe&&(ye=Pe)),typeof ye<"u"&&xe.setExtremes(re?ye:xe.min,re?xe.max:ye,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:f,div:y,inputGroup:b}=this,S=this,j=f.renderer.style||{};var J=f.renderer;const W=f.options.rangeSelector,re=M==="min";var ue=ee.lang[re?"rangeSelectorFrom":"rangeSelectorTo"]||"";ue=J.label(ue,0).addClass("highcharts-range-label").attr({padding:ue?2:0,height:ue?W.inputBoxHeight:0}).add(b),J=J.label("",0).addClass("highcharts-range-input").attr({padding:2,width:W.inputBoxWidth,height:W.inputBoxHeight,"text-align":"center"}).on("click",function(){S.showInput(M),S[M+"Input"].focus()}),f.styledMode||J.attr({stroke:W.inputBoxBorderColor,"stroke-width":1}),J.add(b);const ve=Y("input",{name:M,className:"highcharts-range-selector"},void 0,y);ve.setAttribute("type",$(W.inputDateFormat||"%e %b %Y")),f.styledMode||(ue.css(G(j,W.labelStyle)),J.css(G({color:"#333333"},j,W.inputStyle)),Q(ve,A({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:j.fontSize,fontFamily:j.fontFamily,top:"-9999em"},W.inputStyle))),ve.onfocus=()=>{S.showInput(M)},ve.onblur=()=>{ve===d.doc.activeElement&&L(),S.hideInput(M),S.setInputValue(M),ve.blur()};let q=!1;return ve.onchange=()=>{q||(L(),S.hideInput(M),ve.blur())},ve.onkeypress=se=>{se.keyCode===13&&L()},ve.onkeydown=se=>{q=!0,se.keyCode!==38&&se.keyCode!==40||L()},ve.onkeyup=()=>{q=!1},{dateBox:J,input:ve,label:ue}}getPosition(){var M=this.chart;const L=M.options.rangeSelector;return M=L.verticalAlign==="top"?M.plotTop-M.axisOffset[0]:0,{buttonTop:M+L.buttonPosition.y,inputTop:M+L.inputPosition.y-10}}getYTDExtremes(M,L,f){const y=this.chart.time;var b=new y.Date(M);const S=y.get("FullYear",b);return f=f?y.Date.UTC(S,0,1):+new y.Date(S,0,1),L=Math.max(L,f),b=b.getTime(),{max:Math.min(M||b,b),min:L}}render(M,L){var f=this.chart,y=f.renderer;const b=f.container;var S=f.options;const j=S.rangeSelector,J=ne(S.chart.style&&S.chart.style.zIndex,0)+1;if(S=j.inputEnabled,j.enabled!==!1){if(this.rendered||(this.group=y.g("range-selector-group").attr({zIndex:7}).add(),this.div=Y("div",void 0,{position:"relative",height:0,zIndex:J}),this.buttonOptions.length&&this.renderButtons(),b.parentNode&&b.parentNode.insertBefore(this.div,b),S&&(this.inputGroup=y.g("input-group").add(this.group),y=this.drawInput("min"),this.minDateBox=y.dateBox,this.minLabel=y.label,this.minInput=y.input,y=this.drawInput("max"),this.maxDateBox=y.dateBox,this.maxLabel=y.label,this.maxInput=y.input)),S&&(this.setInputValue("min",M),this.setInputValue("max",L),M=f.scroller&&f.scroller.getUnionExtremes()||f.xAxis[0]||{},I(M.dataMin)&&I(M.dataMax)&&(f=f.xAxis[0].minRange||0,this.setInputExtremes("min",M.dataMin,Math.min(M.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(M.dataMin,this.getInputValue("min"))+f,M.dataMax)),this.inputGroup)){let W=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(re=>{if(re){const{width:ue}=re.getBBox();ue&&(re.attr({x:W}),W+=ue+j.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:M,chart:L,options:f}=this,y=ee.lang,b=L.renderer,S=G(f.buttonTheme),j=S&&S.states,J=S.width||28;delete S.width,delete S.states,this.buttonGroup=b.g("range-selector-buttons").add(this.group);const W=this.dropdown=Y("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);z(W,"touchstart",()=>{W.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([re,ue])=>{z(W,re,()=>{const ve=M[this.currentButtonIndex()];ve&&E(ve.element,ue||re)})}),this.zoomText=b.label(y&&y.rangeSelectorZoom||"",0).attr({padding:f.buttonTheme.padding,height:f.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(f.labelStyle),S["stroke-width"]=ne(S["stroke-width"],0)),Y("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,W),this.buttonOptions.forEach((re,ue)=>{Y("option",{textContent:re.title||re.text},void 0,W),M[ue]=b.button(re.text,0,0,ve=>{const q=re.events&&re.events.click;let se;q&&(se=q.call(re,ve)),se!==!1&&this.clickButton(ue),this.isActive=!0},S,j&&j.hover,j&&j.select,j&&j.disabled).attr({"text-align":"center",width:J}).add(this.buttonGroup),re.title&&M[ue].attr("title",re.title)})}alignElements(){const{buttonGroup:M,buttons:L,chart:f,group:y,inputGroup:b,options:S,zoomText:j}=this;var J=f.options;const W=J.exporting&&J.exporting.enabled!==!1&&J.navigation&&J.navigation.buttonOptions,{buttonPosition:re,inputPosition:ue,verticalAlign:ve}=S;J=(xe,Pe)=>W&&this.titleCollision(f)&&ve==="top"&&Pe.align==="right"&&Pe.y-xe.getBBox().height-12<(W.y||0)+(W.height||0)+f.spacing[0]?-40:0;var q=f.plotLeft;if(y&&re&&ue){var se=re.x-f.spacing[3];if(M){if(this.positionButtons(),!this.initialButtonGroupWidth){let ye=0;j&&(ye+=j.getBBox().width+5),L.forEach((_e,le)=>{ye+=_e.width,le!==L.length-1&&(ye+=S.buttonSpacing)}),this.initialButtonGroupWidth=ye}q-=f.spacing[3],this.updateButtonStates();var pe=J(M,re);this.alignButtonGroup(pe),y.placed=M.placed=f.hasLoaded}pe=0,b&&(pe=J(b,ue),ue.align==="left"?se=q:ue.align==="right"&&(se=-Math.max(f.axisOffset[1],-pe)),b.align({y:ue.y,width:b.getBBox().width,align:ue.align,x:ue.x+se-2},!0,f.spacingBox),b.placed=f.hasLoaded),this.handleCollision(pe),y.align({verticalAlign:ve},!0,f.spacingBox),J=y.alignAttr.translateY,q=y.getBBox().height+20,se=0,ve==="bottom"&&(se=(se=f.legend&&f.legend.options)&&se.verticalAlign==="bottom"&&se.enabled&&!se.floating?f.legend.legendHeight+ne(se.margin,10):0,q=q+se-20,se=J-q-(S.floating?0:S.y)-(f.titleOffset?f.titleOffset[2]:0)-10),ve==="top"?(S.floating&&(se=0),f.titleOffset&&f.titleOffset[0]&&(se=f.titleOffset[0]),se+=f.margin[0]-f.spacing[0]||0):ve==="middle"&&(ue.y===re.y?se=J:(ue.y||re.y)&&(se=0>ue.y||0>re.y?se-Math.min(ue.y,re.y):J-q)),y.translate(S.x,S.y+Math.floor(se));const{minInput:xe,maxInput:Pe,dropdown:ce}=this;S.inputEnabled&&xe&&Pe&&(xe.style.marginTop=y.translateY+"px",Pe.style.marginTop=y.translateY+"px"),ce&&(ce.style.marginTop=y.translateY+"px")}}alignButtonGroup(M,L){const{chart:f,options:y,buttonGroup:b}=this,{buttonPosition:S}=y,j=f.plotLeft-f.spacing[3];let J=S.x-f.spacing[3];S.align==="right"?J+=M-j:S.align==="center"&&(J-=j/2),b&&b.align({y:S.y,width:ne(L,this.initialButtonGroupWidth),align:S.align,x:J},!0,f.spacingBox)}positionButtons(){const{buttons:M,chart:L,options:f,zoomText:y}=this,b=L.hasLoaded?"animate":"attr",{buttonPosition:S}=f,j=L.plotLeft;let J=j;y&&y.visibility!=="hidden"&&(y[b]({x:ne(j+S.x,j)}),J+=S.x+y.getBBox().width+5);for(let W=0,re=this.buttonOptions.length;W<re;++W)M[W].visibility!=="hidden"?(M[W][b]({x:J}),J+=M[W].width+f.buttonSpacing):M[W][b]({x:j})}handleCollision(M){const{chart:L,buttonGroup:f,inputGroup:y}=this,{buttonPosition:b,dropdown:S,inputPosition:j}=this.options,J=()=>{let ue=0;return this.buttons.forEach(ve=>{ve=ve.getBBox(),ve.width>ue&&(ue=ve.width)}),ue},W=ue=>{if(y&&f){const ve=y.alignAttr.translateX+y.alignOptions.x-M+y.getBBox().x+2,q=y.alignOptions.width,se=f.alignAttr.translateX+f.getBBox().x;return se+ue>ve&&ve+q>se&&b.y<j.y+y.getBBox().height}return!1},re=()=>{y&&f&&y.attr({translateX:y.alignAttr.translateX+(L.axisOffset[1]>=-M?0:-M),translateY:y.alignAttr.translateY+f.getBBox().height+10})};if(f){if(S==="always"){this.collapseButtons(M),W(J())&&re();return}S==="never"&&this.expandButtons()}y&&f?j.align===b.align||W(this.initialButtonGroupWidth+20)?S==="responsive"?(this.collapseButtons(M),W(J())&&re()):re():S==="responsive"&&this.expandButtons():f&&S==="responsive"&&(this.initialButtonGroupWidth>L.plotWidth?this.collapseButtons(M):this.expandButtons())}collapseButtons(M){const{buttons:L,buttonOptions:f,chart:y,dropdown:b,options:S,zoomText:j}=this,J=y.userOptions.rangeSelector&&y.userOptions.rangeSelector.buttonTheme||{},W=ve=>({text:ve?`${ve} ▾`:"▾",width:"auto",paddingLeft:ne(S.buttonTheme.paddingLeft,J.padding,8),paddingRight:ne(S.buttonTheme.paddingRight,J.padding,8)});j&&j.hide();let re=!1;f.forEach((ve,q)=>{q=L[q],q.state!==2?q.hide():(q.show(),q.attr(W(ve.text)),re=!0)}),re||(b&&(b.selectedIndex=0),L[0].show(),L[0].attr(W(this.zoomText&&this.zoomText.textStr)));const{align:ue}=S.buttonPosition;this.positionButtons(),ue!=="right"&&ue!=="center"||this.alignButtonGroup(M,L[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:M,buttonOptions:L,options:f,zoomText:y}=this;this.hideDropdown(),y&&y.show(),L.forEach((b,S)=>{S=M[S],S.show(),S.attr({text:b.text,width:f.buttonTheme.width||28,paddingLeft:ne(f.buttonTheme.paddingLeft,"unset"),paddingRight:ne(f.buttonTheme.paddingRight,"unset")}),2>S.state&&S.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:M}=this;return M&&0<M.selectedIndex?M.selectedIndex-1:0}showDropdown(){const{buttonGroup:M,buttons:L,chart:f,dropdown:y}=this;if(M&&y){const{translateX:b,translateY:S}=M,j=L[this.currentButtonIndex()].getBBox();Q(y,{left:f.plotLeft+b+"px",top:S+.5+"px",width:j.width+"px",height:j.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:M}=this;M&&(Q(M,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var M=this.options,L=this.group;const f=M.y,y=M.buttonPosition.y,b=M.inputPosition.y;return M.height?M.height:(this.alignElements(),M=L?L.getBBox(!0).height+13+f:0,L=Math.min(b,y),(0>b&&0>y||0<b&&0<y)&&(M+=Math.abs(L)),M)}titleCollision(M){return!(M.options.title.text||M.options.subtitle.text)}update(M){const L=this.chart;G(!0,L.options.rangeSelector,M),this.destroy(),this.init(L),this.render()}destroy(){const M=this,L=M.minInput,f=M.maxInput;M.eventsToUnbind&&(M.eventsToUnbind.forEach(y=>y()),M.eventsToUnbind=void 0),O(M.buttons),L&&(L.onfocus=L.onblur=L.onchange=null),f&&(f.onfocus=f.onblur=f.onchange=null),V(M,function(y,b){y&&b!=="chart"&&(y instanceof n?y.destroy():y instanceof window.HTMLElement&&H(y)),y!==N.prototype[b]&&(M[b]=null)},this)}}return A(N.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),N}),s(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,w){const{unhideChartElementFromAT:$,getAxisRangeDescription:ee}=d,{addEvent:z,attr:Y}=w;class Q extends c{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new m(this.chart,"polite")}onChartUpdate(){const O=this.chart,H=this,A=O.rangeSelector;A&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),A.buttons&&A.buttons.length&&A.buttons.forEach(E=>{H.setRangeButtonAttrs(E)}),A.maxInput&&A.minInput&&["minInput","maxInput"].forEach(function(E,P){(E=A[E])&&($(O,E),H.setRangeInputAttrs(E,"accessibility.rangeSelector."+(P?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const O=this.chart,H=O.rangeSelector,A=H&&H.dropdown,E=H&&H.buttons||[];H&&H.hasVisibleDropdown&&A?($(O,A),E.forEach(P=>P.element.setAttribute("aria-hidden",!0))):(A&&A.setAttribute("aria-hidden",!0),E.forEach(P=>$(O,P.element)))}setDropdownAttrs(){var O=this.chart;const H=O.rangeSelector&&O.rangeSelector.dropdown;H&&(O=O.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:O.options.lang.rangeSelectorZoom}),H.setAttribute("aria-label",O),H.setAttribute("tabindex",-1))}setRangeButtonAttrs(O){Y(O.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(O,H){const A=this.chart;Y(O,{tabindex:-1,"aria-label":A.langFormat(H,{chart:A})})}onButtonNavKbdArrowKey(O,H){const A=O.response,E=this.keyCodes,P=this.chart,G=P.options.accessibility.keyboardNavigation.wrapAround;return H=H===E.left||H===E.up?-1:1,P.highlightRangeSelectorButton(P.highlightedRangeSelectorItemIx+H)?A.success:G?(O.init(H),A.success):A[0<H?"next":"prev"]}onButtonNavKbdClick(O){O=O.response;const H=this.chart;return H.oldRangeSelectorItemState!==3&&this.fakeClickEvent(H.rangeSelector.buttons[H.highlightedRangeSelectorItemIx].element),O.success}onAfterBtnClick(){var O=this.chart;const H=ee(O.xAxis[0]);(O=O.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:O,axisRangeDescription:H}))&&this.announcer.announce(O)}onInputKbdMove(O){const H=this.chart;var A=H.rangeSelector;const E=H.highlightedInputRangeIx=(H.highlightedInputRangeIx||0)+O;if(1<E||0>E){if(H.accessibility)return H.accessibility.keyboardNavigation.exiting=!0,H.accessibility.keyboardNavigation.tabindexContainer.focus(),H.accessibility.keyboardNavigation.move(O)}else A&&(O=A[E?"maxDateBox":"minDateBox"],A=A[E?"maxInput":"minInput"],O&&A&&H.setFocusToElement(O,A));return!0}onInputNavInit(O){const H=this;var A=this.chart;const E=0<O?0:1;var P=A.rangeSelector;const G=P&&P[E?"maxDateBox":"minDateBox"];if(O=P&&P.minInput,P=P&&P.maxInput,A.highlightedInputRangeIx=E,G&&O&&P){A.setFocusToElement(G,E?P:O),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),A=ne=>{(ne.which||ne.keyCode)===this.keyCodes.tab&&H.onInputKbdMove(ne.shiftKey?-1:1)&&(ne.preventDefault(),ne.stopPropagation())};const V=z(O,"keydown",A),C=z(P,"keydown",A);this.removeInputKeydownHandler=()=>{V(),C()}}}onInputNavTerminate(){const O=this.chart.rangeSelector||{};O.maxInput&&O.hideInput("max"),O.minInput&&O.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const O=this.chart,H=O.rangeSelector,A=H&&H.dropdown;H&&A&&(O.setFocusToElement(H.buttonGroup,A),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=z(A,"keydown",E=>{const P=O.accessibility;(E.which||E.keyCode)===this.keyCodes.tab&&(E.preventDefault(),E.stopPropagation(),P&&(P.keyboardNavigation.tabindexContainer.focus(),P.keyboardNavigation.move(E.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const O=this.chart,H=this.keyCodes,A=this;return new n(O,{keyCodeMap:[[[H.left,H.right,H.up,H.down],function(E){return A.onButtonNavKbdArrowKey(this,E)}],[[H.enter,H.space],function(){return A.onButtonNavKbdClick(this)}]],validate:function(){return!!(O.rangeSelector&&O.rangeSelector.buttons&&O.rangeSelector.buttons.length)},init:function(E){var P=O.rangeSelector;P&&P.hasVisibleDropdown?A.initDropdownNav():P&&(P=P.buttons.length-1,O.highlightRangeSelectorButton(0<E?0:P))},terminate:function(){A.removeDropdownKeydownHandler&&(A.removeDropdownKeydownHandler(),delete A.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const O=this.chart,H=this;return new n(O,{keyCodeMap:[],validate:function(){return!!(O.rangeSelector&&O.rangeSelector.inputGroup&&O.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&O.options.rangeSelector.inputEnabled!==!1&&O.rangeSelector.minInput&&O.rangeSelector.maxInput)},init:function(A){H.onInputNavInit(A)},terminate:function(){H.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(I){function O(E){const P=this.rangeSelector&&this.rangeSelector.buttons||[],G=this.highlightedRangeSelectorItemIx,V=this.rangeSelector&&this.rangeSelector.selected;return typeof G<"u"&&P[G]&&G!==V&&P[G].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=E,P[E]?(this.setFocusToElement(P[E].box,P[E].element),E!==V&&(this.oldRangeSelectorItemState=P[E].state,P[E].setState(1)),!0):!1}function H(){const E=this.chart.accessibility;if(E&&E.components.rangeSelector)return E.components.rangeSelector.onAfterBtnClick()}const A=[];I.compose=function(E,P){w.pushUnique(A,E)&&(E.prototype.highlightRangeSelectorButton=O),w.pushUnique(A,P)&&z(l,"afterBtnClick",H)}}(Q||(Q={})),Q}),s(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(l){const{addEvent:c,merge:d}=l;var m;return function(n){function w(I){d(!0,I,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function $(I){return I.marker.states&&I.marker.states.normal&&I.marker.states.normal.opacity}function ee(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(I=>{I.graphic&&(I.graphic[I.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),I.graphic[I.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function z(I){this.resetA11yMarkerOptions=d(I.options.marker||{},this.userOptions.marker||{})}function Y(){var I=this.options,O=(this.options.accessibility&&this.options.accessibility.enabled)!==!1;if((O=this.chart.options.accessibility.enabled&&O)&&(O=this.chart.options.accessibility,O=this.points.length<O.series.pointDescriptionEnabledThreshold||O.series.pointDescriptionEnabledThreshold===!1),O){if(I.marker&&I.marker.enabled===!1&&(this.a11yMarkersForced=!0,w(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(I=this.points.length;I--;){O=this.points[I];const A=O.options;var H=O.hasForcedA11yMarker;delete O.hasForcedA11yMarker,A.marker&&(H=H&&$(A)===0,A.marker.enabled&&!H?(d(!0,A.marker,{states:{normal:{opacity:$(A)||1}}}),O.hasForcedA11yMarker=!1):A.marker.enabled===!1&&(w(A),O.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(I=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:I.enabled,states:{normal:{opacity:I.states&&I.states.normal&&I.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const Q=[];n.compose=function(I){l.pushUnique(Q,I)&&(c(I,"afterSetOptions",z),c(I,"render",Y),c(I,"afterRender",ee))}}(m||(m={})),m}),s(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(l,c,d,m,n,w,$,ee){function z(F){const N=F.index,X=F.series.points;let M=X.length;if(X[N]!==F){for(;M--;)if(X[M]===F)return M}else return N}function Y(F){const N=F.chart.options.accessibility.keyboardNavigation.seriesNavigation,X=F.options.accessibility||{},M=X.keyboardNavigation;return M&&M.enabled===!1||X.enabled===!1||F.options.enableMouseTracking===!1||!F.visible||N.pointNavigationEnabledThreshold&&N.pointNavigationEnabledThreshold<=F.points.length}function Q(F){const N=F.series.chart.options.accessibility,X=F.options.accessibility&&F.options.accessibility.enabled===!1;return F.isNull&&N.keyboardNavigation.seriesNavigation.skipNullPoints||F.visible===!1||F.isInside===!1||X||Y(F.series)}function I(F){F=F.series||[];const N=F.length;for(let M=0;M<N;++M)if(!Y(F[M])){e:{var X=F[M].points||[];const L=X.length;for(let f=0;f<L;++f)if(!Q(X[f])){X=X[f];break e}X=null}if(X)return X}return null}function O(F){let N=F.series.length,X=!1;for(;N--&&(F.highlightedPoint=F.series[N].points[F.series[N].points.length-1],!(X=F.series[N].highlightNextValidPoint())););return X}function H(F){return delete F.highlightedPoint,(F=I(F))?F.highlight():!1}const{seriesTypes:A}=d,{doc:E}=m,{defined:P,fireEvent:G}=n,{getPointFromXY:V,getSeriesFromName:C,scrollToPoint:ne}=ee;class te{constructor(N,X){this.keyCodes=X,this.chart=N}init(){const N=this,X=this.chart,M=this.eventProvider=new $;M.addEvent(c,"destroy",function(){return N.onSeriesDestroy(this)}),M.addEvent(X,"afterApplyDrilldown",function(){{const L=I(this);L&&L.highlight(!1)}}),M.addEvent(X,"drilldown",function(L){L=L.point;const f=L.series;N.lastDrilledDownPoint={x:L.x,y:L.y,seriesName:f?f.name:""}}),M.addEvent(X,"drillupall",function(){setTimeout(function(){N.onDrillupAll()},10)}),M.addEvent(l,"afterSetState",function(){const L=this.graphic&&this.graphic.element,f=E.activeElement;var y=f&&f.getAttribute("class");y=y&&-1<y.indexOf("highcharts-a11y-proxy-button"),X.highlightedPoint===this&&f!==L&&!y&&L&&L.focus&&L.focus()})}onDrillupAll(){const N=this.lastDrilledDownPoint,X=this.chart,M=N&&C(X,N.seriesName);let L;N&&M&&P(N.x)&&P(N.y)&&(L=V(M,N.x,N.y)),L=L||I(X),X.container&&X.container.focus(),L&&L.highlight&&L.highlight(!1)}getKeyboardNavigationHandler(){const N=this,X=this.keyCodes,M=this.chart,L=M.inverted;return new w(M,{keyCodeMap:[[L?[X.up,X.down]:[X.left,X.right],function(f){return N.onKbdSideways(this,f)}],[L?[X.left,X.right]:[X.up,X.down],function(f){return N.onKbdVertical(this,f)}],[[X.enter,X.space],function(f,y){return(f=M.highlightedPoint)&&(y.point=f,G(f.series,"click",y),f.firePointEvent("click")),this.response.success}],[[X.home],function(){return H(M),this.response.success}],[[X.end],function(){return O(M),this.response.success}],[[X.pageDown,X.pageUp],function(f){return M.highlightAdjacentSeries(f===X.pageDown),this.response.success}]],init:function(){return N.onHandlerInit(this)},validate:function(){return!!I(M)},terminate:function(){return N.onHandlerTerminate()}})}onKbdSideways(N,X){const M=this.keyCodes;return this.attemptHighlightAdjacentPoint(N,X===M.right||X===M.down)}onHandlerInit(N){const X=this.chart;return X.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&X.highlightedPoint?X.highlightedPoint.highlight():H(X),N.response.success}onKbdVertical(N,X){const M=this.chart;var L=this.keyCodes;return X=X===L.down||X===L.right,L=M.options.accessibility.keyboardNavigation.seriesNavigation,L.mode&&L.mode==="serialize"?this.attemptHighlightAdjacentPoint(N,X):(M[M.highlightedPoint&&M.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](X),N.response.success)}onHandlerTerminate(){const N=this.chart,X=N.options.accessibility.keyboardNavigation;N.tooltip&&N.tooltip.hide(0);const M=N.highlightedPoint&&N.highlightedPoint.series;M&&M.onMouseOut&&M.onMouseOut(),N.highlightedPoint&&N.highlightedPoint.onMouseOut&&N.highlightedPoint.onMouseOut(),X.seriesNavigation.rememberPointFocus||delete N.highlightedPoint}attemptHighlightAdjacentPoint(N,X){const M=this.chart,L=M.options.accessibility.keyboardNavigation.wrapAround;return M.highlightAdjacentPoint(X)||L&&(X?H(M):O(M))?N.response.success:N.response[X?"next":"prev"]}onSeriesDestroy(N){const X=this.chart;X.highlightedPoint&&X.highlightedPoint.series===N&&(delete X.highlightedPoint,X.focusElement&&X.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(F){function N(S){var j=this.series;const J=this.highlightedPoint;var W=J&&z(J)||0;const re=J&&J.series.points||[];var ue=this.series&&this.series[this.series.length-1];if(ue=ue&&ue.points&&ue.points[ue.points.length-1],!j[0]||!j[0].points)return!1;if(J){if(j=j[J.series.index+(S?1:-1)],W=re[W+(S?1:-1)],!W&&j&&(W=j.points[S?0:j.points.length-1]),!W)return!1}else W=S?j[0].points[0]:ue;return Q(W)?(j=W.series,Y(j)?this.highlightedPoint=S?j.points[j.points.length-1]:j.points[0]:this.highlightedPoint=W,this.highlightAdjacentPoint(S)):W.highlight()}function X(S){const j=this.highlightedPoint;let J=1/0,W;return!P(j.plotX)||!P(j.plotY)?!1:(this.series.forEach(re=>{Y(re)||re.points.forEach(ue=>{if(P(ue.plotY)&&P(ue.plotX)&&ue!==j){var ve=ue.plotY-j.plotY,q=Math.abs(ue.plotX-j.plotX);q=Math.abs(ve)*Math.abs(ve)+q*q*4,re.yAxis&&re.yAxis.reversed&&(ve*=-1),!(0>=ve&&S||0<=ve&&!S||5>q||Q(ue))&&q<J&&(J=q,W=ue)}})}),W?W.highlight():!1)}function M(S){const j=this.highlightedPoint;var J=this.series&&this.series[this.series.length-1],W=J&&J.points&&J.points[J.points.length-1];return this.highlightedPoint?(J=this.series[j.series.index+(S?-1:1)],!J||(W=L(j,J,4),!W)?!1:Y(J)?(W.highlight(),S=this.highlightAdjacentSeries(S),S||(j.highlight(),!1)):(W.highlight(),W.series.highlightNextValidPoint())):(J=S?this.series&&this.series[0]:J,(W=S?J&&J.points&&J.points[0]:W)?W.highlight():!1)}function L(S,j,J,W){let re=1/0,ue,ve=j.points.length;const q=pe=>!(P(pe.plotX)&&P(pe.plotY));if(!q(S)){for(;ve--;){var se=j.points[ve];q(se)||(se=(S.plotX-se.plotX)*(S.plotX-se.plotX)*(J||1)+(S.plotY-se.plotY)*(S.plotY-se.plotY)*(W||1),se<re&&(re=se,ue=ve))}return P(ue)?j.points[ue]:void 0}}function f(S=!0){const j=this.series.chart;return!this.isNull&&S?this.onMouseOver():j.tooltip&&j.tooltip.hide(0),ne(this),this.graphic&&(j.setFocusToElement(this.graphic),!S&&j.focusElement&&j.focusElement.removeFocusBorder()),j.highlightedPoint=this,this}function y(){var S=this.chart.highlightedPoint,j=(S&&S.series)===this?z(S):0;S=this.points;const J=S.length;if(S&&J){for(let W=j;W<J;++W)if(!Q(S[W]))return S[W].highlight();for(;0<=j;--j)if(!Q(S[j]))return S[j].highlight()}return!1}const b=[];F.compose=function(S,j,J){n.pushUnique(b,S)&&(S=S.prototype,S.highlightAdjacentPoint=N,S.highlightAdjacentPointVertical=X,S.highlightAdjacentSeries=M),n.pushUnique(b,j)&&(j.prototype.highlight=f),n.pushUnique(b,J)&&(j=J.prototype,j.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(W=>{A[W]&&(A[W].prototype.keyboardMoveVertical=!1)}),j.highlightNextValidPoint=y)}}(te||(te={})),te}),s(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(l,c,d,m,n,w){const{hideSeriesFromAT:$}=c,{describeSeries:ee}=n;class z extends l{static compose(Q,I,O){m.compose(O),d.compose(O),w.compose(Q,I,O)}init(){this.newDataAnnouncer=new m(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new w(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const Q=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===Q.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(Q){Q.labelBySeries&&Q.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(Q){(Q.options.accessibility&&Q.options.accessibility.enabled)!==!1&&Q.visible?ee(Q):$(Q)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return z}),s(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){const{unhideChartElementFromAT:w}=c,{getFakeMouseEvent:$}=d,{attr:ee,pick:z}=n;class Y extends l{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const I=this,O=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(H=>{I.addEvent(O,H,function(){I.updateProxyOverlays()})})}onChartUpdate(){const I=this.chart,O=this;I.mapNavigation&&I.mapNavigation.navButtons.forEach((H,A)=>{w(I,H.element),O.setMapNavButtonAttrs(H.element,"accessibility.zoom.mapZoom"+(A?"Out":"In"))})}setMapNavButtonAttrs(I,O){const H=this.chart;O=H.langFormat(O,{chart:H}),ee(I,{tabindex:-1,role:"button","aria-label":O})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const I=this.chart;this.proxyProvider.clearGroup("zoom"),I.resetZoomButton&&this.createZoomProxyButton(I.resetZoomButton,"resetZoomProxyButton",I.langFormat("accessibility.zoom.resetZoomButton",{chart:I})),I.drillUpButton&&I.breadcrumbs&&I.breadcrumbs.list&&this.createZoomProxyButton(I.drillUpButton,"drillUpProxyButton",I.langFormat("accessibility.drillUpButton",{chart:I,buttonText:I.breadcrumbs.getButtonText(I.breadcrumbs.list[I.breadcrumbs.list.length-1])}))}createZoomProxyButton(I,O,H){this[O]=this.proxyProvider.addProxyElement("zoom",{click:I},{"aria-label":H,tabindex:-1})}getMapZoomNavigation(){const I=this.keyCodes,O=this.chart,H=this;return new m(O,{keyCodeMap:[[[I.up,I.down,I.left,I.right],function(A){return H.onMapKbdArrow(this,A)}],[[I.tab],function(A,E){return H.onMapKbdTab(this,E)}],[[I.space,I.enter],function(){return H.onMapKbdClick(this)}]],validate:function(){return!!(O.mapView&&O.mapNavigation&&O.mapNavigation.navButtons.length)},init:function(A){return H.onMapNavInit(A)}})}onMapKbdArrow(I,O){var H=this.chart,A=this.keyCodes;const E=H.container;var P=O===A.up||O===A.down;return O=(P?H.plotHeight:H.plotWidth)/10*(O===A.left||O===A.up?1:-1),A=10*Math.random(),H={x:E.offsetLeft+H.plotLeft+H.plotWidth/2+A,y:E.offsetTop+H.plotTop+H.plotHeight/2+A},P=P?{x:H.x,y:H.y+O}:{x:H.x+O,y:H.y},[$("mousedown",H),$("mousemove",P),$("mouseup",P)].forEach(G=>E.dispatchEvent(G)),I.response.success}onMapKbdTab(I,O){const H=this.chart;I=I.response;const A=(O=O.shiftKey)&&!this.focusedMapNavButtonIx||!O&&this.focusedMapNavButtonIx;return H.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),A?(H.mapView&&H.mapView.zoomBy(),I[O?"prev":"next"]):(this.focusedMapNavButtonIx+=O?-1:1,O=H.mapNavigation.navButtons[this.focusedMapNavButtonIx],H.setFocusToElement(O.box,O.element),O.setState(2),I.success)}onMapKbdClick(I){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),I.response.success}onMapNavInit(I){const O=this.chart;var H=O.mapNavigation.navButtons[0];const A=O.mapNavigation.navButtons[1];H=0<I?H:A,O.setFocusToElement(H.box,H.element),H.setState(2),this.focusedMapNavButtonIx=0<I?0:1}simpleButtonNavigation(I,O,H){const A=this.keyCodes,E=this,P=this.chart;return new m(P,{keyCodeMap:[[[A.tab,A.up,A.down,A.left,A.right],function(G,V){return this.response[G===A.tab&&V.shiftKey||G===A.left||G===A.up?"prev":"next"]}],[[A.space,A.enter],function(){const G=H(this,P);return z(G,this.response.success)}]],validate:function(){return P[I]&&P[I].box&&E[O].buttonElement},init:function(){P.setFocusToElement(P[I].box,E[O].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(I,O){O.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(I,O){return O.drillUp(),I.response.prev}),this.getMapZoomNavigation()]}}return Y}),s(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(l){const{doc:c,isMS:d,win:m}=l;return{isHighContrastModeActive:function(){var n=/(Edg)/.test(m.navigator.userAgent);if(m.matchMedia&&n)return m.matchMedia("(-ms-high-contrast: active)").matches;if(d&&m.getComputedStyle){n=c.createElement("div"),n.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",c.body.appendChild(n);const w=(n.currentStyle||m.getComputedStyle(n)).backgroundImage;return c.body.removeChild(n),w==="none"}return m.matchMedia&&m.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(n){n.highContrastModeActive=!0;const w=n.options.accessibility.highContrastTheme;n.update(w,!1),n.series.forEach(function($){const ee=w.plotOptions[$.type]||{};$.update({color:ee.color||"windowText",colors:[ee.color||"windowText"],borderColor:ee.borderColor||"window"}),$.points.forEach(function(z){z.options&&z.options.color&&z.update({color:ee.color||"windowText",borderColor:ee.borderColor||"window"},!1)})}),n.redraw()}}}),s(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),s(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),s(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),s(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(l){function c(z,Y,Q){let I,O=0;for(;O<Y.length-1;++O)I=Y[O],z=z[I]=ee(z[I],{});z[Y[Y.length-1]]=Q}function d(z,Y,Q,I){function O(E,P){return P.reduce(function(G,V){return G[V]},E)}const H=O(z.options,Y),A=O(z.options,Q);Object.keys(I).forEach(function(E){const P=H[E];typeof P<"u"&&(c(A,I[E],P),$(32,!1,z,{[Y.join(".")+"."+E]:Q.join(".")+"."+I[E].join(".")}))})}function m(z){const Y=z.options.chart,Q=z.options.accessibility||{};["description","typeDescription"].forEach(function(I){Y[I]&&(Q[I]=Y[I],$(32,!1,z,{[`chart.${I}`]:`use accessibility.${I}`}))})}function n(z){z.axes.forEach(function(Y){(Y=Y.options)&&Y.description&&(Y.accessibility=Y.accessibility||{},Y.accessibility.description=Y.description,$(32,!1,z,{"axis.description":"use axis.accessibility.description"}))})}function w(z){const Y={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};z.series.forEach(function(Q){Object.keys(Y).forEach(function(I){let O=Q.options[I];I==="accessibility.pointDescriptionFormatter"&&(O=Q.options.accessibility&&Q.options.accessibility.pointDescriptionFormatter),typeof O<"u"&&(c(Q.options,Y[I],I==="skipKeyboardNavigation"?!O:O),$(32,!1,z,{[`series.${I}`]:"series."+Y[I].join(".")}))})})}const{error:$,pick:ee}=l;return function(z){m(z),n(z),z.series&&w(z),d(z,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),d(z,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),d(z,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),s(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(l,c,d,m,n,w,$,ee,z,Y,Q,I,O,H,A,E,P,G,V,C,ne){({defaultOptions:l}=l);const{doc:te}=c,{addEvent:F,extend:N,fireEvent:X,merge:M}=d,{removeElement:L}=m;class f{constructor(b){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(b)}init(b){this.chart=b,te.addEventListener?(ne(b),this.proxyProvider=new O(this.chart),this.initComponents(),this.keyboardNavigation=new z(b,this.components)):(this.zombie=!0,this.components={},b.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const b=this.chart,S=this.proxyProvider,j=b.options.accessibility;this.components={container:new w,infoRegions:new ee,legend:new Y,chartMenu:new Q,rangeSelector:new H,series:new A,zoom:new E},j.customComponents&&N(this.components,j.customComponents);const J=this.components;this.getComponentOrder().forEach(function(W){J[W].initBase(b,S),J[W].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const b=Object.keys(this.components).filter(S=>S!=="series");return["series"].concat(b)}update(){const b=this.components,S=this.chart;var j=S.options.accessibility;X(S,"beforeA11yUpdate"),S.types=this.getChartTypes(),j=j.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(j),this.getComponentOrder().forEach(function(J){b[J].onChartUpdate(),X(S,"afterA11yComponentUpdate",{name:J,component:b[J]})}),this.keyboardNavigation.update(j),!S.highContrastModeActive&&P.isHighContrastModeActive()&&P.setHighContrastTheme(S),X(S,"afterA11yUpdate",{accessibility:this})}destroy(){const b=this.chart||{},S=this.components;Object.keys(S).forEach(function(j){S[j].destroy(),S[j].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),b.announcerContainer&&L(b.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),b.renderTo&&b.renderTo.setAttribute("aria-hidden",!0),b.focusElement&&b.focusElement.removeFocusBorder()}getChartTypes(){const b={};return this.chart.series.forEach(function(S){b[S.type]=1}),Object.keys(b)}}return function(y){function b(){this.accessibility&&this.accessibility.destroy()}function S(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const ue=this.accessibility;ue&&!ue.zombie&&(ue.proxyProvider.updateProxyElementPositions(),ue.getComponentOrder().forEach(function(ve){ue.components[ve].onChartRender()}))}function j(ue){(ue=ue.options.accessibility)&&(ue.customComponents&&(this.options.accessibility.customComponents=ue.customComponents,delete ue.customComponents),M(!0,this.options.accessibility,ue),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function J(){let ue=this.accessibility;const ve=this.options.accessibility;ve&&ve.enabled?ue&&!ue.zombie?ue.update():(this.accessibility=ue=new y(this),!ue.zombie&&ue.update()):ue?(ue.destroy&&ue.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function W(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const re=[];y.i18nFormat=n.i18nFormat,y.compose=function(ue,ve,q,se,pe,xe){z.compose(ue),I.compose(se),Y.compose(ue,ve),Q.compose(ue),A.compose(ue,q,se),n.compose(ue),$.compose(ue,pe),xe&&H.compose(ue,xe),d.pushUnique(re,ue)&&(ue.prototype.updateA11yEnabled=J,F(ue,"destroy",b),F(ue,"render",S),F(ue,"update",j),["addSeries","init"].forEach(Pe=>{F(ue,Pe,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(Pe=>{F(ue,Pe,function(){const ce=this.accessibility;ce&&!ce.zombie&&ce.update()})})),d.pushUnique(re,q)&&F(q,"update",W),d.pushUnique(re,se)&&["update","updatedData","remove"].forEach(Pe=>{F(se,Pe,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(f||(f={})),M(!0,l,V,{accessibility:{highContrastTheme:G},lang:C}),f}),s(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(l,c,d,m,n,w,$){l.i18nFormat=c.i18nFormat,l.A11yChartUtilities=m,l.A11yHTMLUtilities=n,l.AccessibilityComponent=d,l.KeyboardNavigationHandler=w,l.SeriesAccessibilityDescriber=$,c.compose(l.Chart,l.Legend,l.Point,l.Series,l.SVGElement,l.RangeSelector)})})})(VG);const WA=Kw;WA(Nc);const $G={name:"spline",components:{Chart:gp.Chart},data(){return{chartOptions:{chart:{type:"spline",scrollablePlotArea:{minWidth:600,scrollPositionX:1}},title:{text:"Wind speed during two days",align:"left"},subtitle:{text:"13th & 14th of June, 2022 at two locations in Vik i Sogn, Norway",align:"left"},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{title:{text:"Wind speed (m/s)"},minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:.3,to:1.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Light air",style:{color:"#606060"}}},{from:1.5,to:3.3,color:"rgba(0, 0, 0, 0)",label:{text:"Light breeze",style:{color:"#606060"}}},{from:3.3,to:5.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Gentle breeze",style:{color:"#606060"}}},{from:5.5,to:8,color:"rgba(0, 0, 0, 0)",label:{text:"Moderate breeze",style:{color:"#606060"}}},{from:8,to:11,color:"rgba(68, 170, 213, 0.1)",label:{text:"Fresh breeze",style:{color:"#606060"}}},{from:11,to:14,color:"rgba(0, 0, 0, 0)",label:{text:"Strong breeze",style:{color:"#606060"}}},{from:14,to:15,color:"rgba(68, 170, 213, 0.1)",label:{text:"High wind",style:{color:"#606060"}}}]},tooltip:{valueSuffix:" m/s"},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1},pointInterval:36e5,pointStart:Date.UTC(2022,5,13,0,0,0)}},series:[{name:"Hestavollane",data:[4.5,5.1,4.4,3.7,4.2,3.7,4.3,4,5,4.9,4.8,4.6,3.9,3.8,2.7,3.1,2.6,3.3,3.8,4.1,1,1.9,3.2,3.8,4.2]},{name:"Vik",data:[.1,.1,.1,.2,.4,.4,.3,.4,.1,0,.2,.3,0,0,0,0,0,.1,.1,.1,0,.1,0,0,0]}],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function HG(e,t,s,l,c,d){const m=ts("Chart");return Mi(),Hc(m,{options:c.chartOptions,constructorType:"stockChart"},null,8,["options"])}const WG=zs($G,[["render",HG]]);HA(Nc);const XG={components:{highcharts:gp.Chart},props:{min:{type:Number,default:0},max:{type:Number,default:32},value:{type:Number,default:0},title:String},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:this.min,max:this.max,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:this.title,y:150},plotBands:[{from:0,to:this.max/8,color:"#576D7E",thickness:40},{from:this.max/8,to:this.max/8*2,color:"#34485C",thickness:40},{from:this.max/8*2,to:this.max/8*3,color:"#60C5B8",thickness:40},{from:this.max/8*3,to:this.max/8*4,color:"#25B39E",thickness:40},{from:this.max/8*4,to:this.max/8*5,color:"#FCD062",thickness:40},{from:this.max/8*5,to:this.max/8*6,color:"#F8B84E",thickness:40},{from:this.max/8*6,to:this.max/8*7,color:"#F17F53",thickness:40},{from:this.max/8*7,to:this.max/8*8,color:"#F05542",thickness:40}]}],series:[{name:this.title,data:[this.value],tooltip:{valueSuffix:" "}}]}}},methods:{},watch:{value:function(e,t){this.options.series[0].data=[e]}}};function YG(e,t,s,l,c,d){const m=ts("highcharts");return Mi(),Pi("div",null,[Yi(m,{options:c.options},null,8,["options"])])}const qG=zs(XG,[["render",YG]]),ZG={props:{value:Number,title:String},components:{highcharts:gp.Chart},watch:{value:function(e,t){this.options.series[0].data=[e]}},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:0,endAngle:360,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{title:{text:this.title},min:1,max:360,lineColor:"#333",offset:-20,tickInterval:30,labels:{step:1,distance:5,rotation:"auto"}}],series:[{name:this.title,yAxis:0,data:[this.value],dial:{radius:"88%",baseWidth:10,baseLength:"0%",rearLength:0,borderWidth:1,borderColor:"#9A0000",backgroundColor:"#CC0000"},tooltip:{valueSuffix:"°"}}]}}}};function KG(e,t,s,l,c,d){const m=ts("highcharts");return Mi(),Pi("div",null,[Yi(m,{options:c.options},null,8,["options"])])}const XA=zs(ZG,[["render",KG]]),JG={props:{url:String,fleet:Object},components:{SpeedoMeter:qG,Compass:XA},methods:{scaleBeafort(e){let t="";return e<=1?t="Calm":e>1&&e<3.9?t="Light Air":e>4&&e<6.9?t="Light Breeze":e>7&&e<10.9?t="Gentle breeze":e>11&&e<16.9?t="Moderate breeze":e>17&&e<21.9?t="Fresh breeze":e>22&&e<27.9?t="Strong breeze":e>28&&e<33.9?t="High wind":e>34&&e<40.9?t="Gale":e>41&&e<47.9?t="Strong/severe gale":e>48&&e<55.9?t="Storm":e>56&&e<63.9?t="Violent storm":t="Hurricane force",t}}},QG={class:"row"},eV={class:"col-3"},tV={class:"col-3"},iV={class:"col-3"},nV={class:"col-3"};function sV(e,t,s,l,c,d){const m=ts("speedo-meter"),n=ts("compass");return Mi(),Pi("div",QG,[at("div",eV,[Yi(m,{value:s.fleet.navigation.sog,max:32,title:"Speed (knot)"},null,8,["value"])]),at("div",tV,[Yi(n,{value:s.fleet.navigation.cog,title:"Course (°)"},null,8,["value"])]),at("div",iV,[Yi(m,{value:s.fleet.navigation.wind_speed,max:80,title:d.scaleBeafort(s.fleet.navigation.wind_speed)},null,8,["value","title"])]),at("div",nV,[Yi(n,{value:s.fleet.navigation.wind_direction,title:"Wind Direction"},null,8,["value"])])])}const rV=zs(JG,[["render",sV]]),Oo=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(l,c,d,m){if(arguments.length===1&&aV(l)==="string"&&!/\d/.test(l)&&(c=l,l=void 0),l=l||new Date,l instanceof Date||(l=new Date(l)),isNaN(l))throw TypeError("Invalid date");c=String(Oo.masks[c]||c||Oo.masks.default);var n=c.slice(0,4);(n==="UTC:"||n==="GMT:")&&(c=c.slice(4),d=!0,n==="GMT:"&&(m=!0));var w=d?"getUTC":"get",$=l[w+"Date"](),ee=l[w+"Day"](),z=l[w+"Month"](),Y=l[w+"FullYear"](),Q=l[w+"Hours"](),I=l[w+"Minutes"](),O=l[w+"Seconds"](),H=l[w+"Milliseconds"](),A=d?0:l.getTimezoneOffset(),E=YA(l),P=oV(l),G={d:$,dd:jd($),ddd:Oo.i18n.dayNames[ee],dddd:Oo.i18n.dayNames[ee+7],m:z+1,mm:jd(z+1),mmm:Oo.i18n.monthNames[z],mmmm:Oo.i18n.monthNames[z+12],yy:String(Y).slice(2),yyyy:Y,h:Q%12||12,hh:jd(Q%12||12),H:Q,HH:jd(Q),M:I,MM:jd(I),s:O,ss:jd(O),l:jd(H,3),L:jd(Math.round(H/10)),t:Q<12?Oo.i18n.timeNames[0]:Oo.i18n.timeNames[1],tt:Q<12?Oo.i18n.timeNames[2]:Oo.i18n.timeNames[3],T:Q<12?Oo.i18n.timeNames[4]:Oo.i18n.timeNames[5],TT:Q<12?Oo.i18n.timeNames[6]:Oo.i18n.timeNames[7],Z:m?"GMT":d?"UTC":(String(l).match(t)||[""]).pop().replace(s,""),o:(A>0?"-":"+")+jd(Math.floor(Math.abs(A)/60)*100+Math.abs(A)%60,4),S:["th","st","nd","rd"][$%10>3?0:($%100-$%10!=10)*$%10],W:E,N:P};return c.replace(e,function(V){return V in G?G[V]:V.slice(1,V.length-1)})}}();Oo.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};Oo.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function jd(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function YA(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var s=new Date(t.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);var l=t.getTimezoneOffset()-s.getTimezoneOffset();t.setHours(t.getHours()-l);var c=(t-s)/(864e5*7);return 1+Math.floor(c)}function oV(e){var t=e.getDay();return t===0&&(t=7),t}function aV(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}const qA={isSame:(e,t,s)=>{let l=new Date(e),c=new Date(t);return s==="date"&&(l.setHours(0,0,0,0),c.setHours(0,0,0,0)),l.getTime()===c.getTime()},daysInMonth:(e,t)=>new Date(e,t,0).getDate(),weekNumber:e=>YA(e),format:(e,t)=>Oo(e,t),nextMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t},prevMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()-1),t},validateDateRange:(e,t,s)=>{let l=new Date(s),c=new Date(t);return s&&e.getTime()>l.getTime()?l:t&&e.getTime()<c.getTime()?c:e},localeData:e=>({...{direction:"ltr",format:"mm/dd/yyyy",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Oo.i18n.dayNames.slice(0,7).map(s=>s.substring(0,2)),monthNames:Oo.i18n.monthNames.slice(0,12),firstDay:0},...e}),yearMonth:e=>{let t=e.getMonth()+1;return e.getFullYear()+(t<10?"0":"")+t},isValidDate:e=>e instanceof Date&&!isNaN(e)},NT={props:{dateUtil:{type:[Object,String],default:"native"}},created(){this.$dateUtil=qA}},lV={mixins:[NT],name:"calendar",props:{monthDate:Date,localeData:Object,start:Date,end:Date,minDate:Date,maxDate:Date,showDropdowns:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},dateFormat:{type:Function,default:null}},data(){let e=this.monthDate||this.start||new Date;return{currentMonthDate:e,year_text:e.getFullYear()}},methods:{prevMonthClick(){this.changeMonthDate(this.$dateUtil.prevMonth(this.currentMonthDate))},nextMonthClick(){this.changeMonthDate(this.$dateUtil.nextMonth(this.currentMonthDate))},changeMonthDate(e,t=!0){let s=this.$dateUtil.yearMonth(this.currentMonthDate);this.currentMonthDate=this.$dateUtil.validateDateRange(e,this.minDate,this.maxDate),t&&s!==this.$dateUtil.yearMonth(this.currentMonthDate)&&this.$emit("change-month",{month:this.currentMonthDate.getMonth()+1,year:this.currentMonthDate.getFullYear()}),this.checkYear()},dayClass(e){let t=new Date(e);t.setHours(0,0,0,0);let s=new Date(this.start);s.setHours(0,0,0,0);let l=new Date(this.end);l.setHours(0,0,0,0);let c={off:e.getMonth()+1!==this.month,weekend:e.getDay()===6||e.getDay()===0,today:t.setHours(0,0,0,0)==new Date().setHours(0,0,0,0),active:t.setHours(0,0,0,0)==new Date(this.start).setHours(0,0,0,0)||t.setHours(0,0,0,0)==new Date(this.end).setHours(0,0,0,0),"in-range":t>=s&&t<=l,"start-date":t.getTime()===s.getTime(),"end-date":t.getTime()===l.getTime(),disabled:this.minDate&&t.getTime()<this.minDate.getTime()||this.maxDate&&t.getTime()>this.maxDate.getTime()};return this.dateFormat?this.dateFormat(c,e):c},checkYear(){this.$refs.yearSelect!==document.activeElement&&this.$nextTick(()=>{this.year_text=this.monthDate.getFullYear()})}},computed:{monthName(){return this.locale.monthNames[this.currentMonthDate.getMonth()]},year:{get(){return this.year_text},set(e){this.year_text=e;let t=this.$dateUtil.validateDateRange(new Date(e,this.month,1),this.minDate,this.maxDate);this.$dateUtil.isValidDate(t)&&this.$emit("change-month",{month:t.getMonth(),year:t.getFullYear()})}},month:{get(){return this.currentMonthDate.getMonth()+1},set(e){let t=this.$dateUtil.validateDateRange(new Date(this.year,e-1,1),this.minDate,this.maxDate);this.$emit("change-month",{month:t.getMonth()+1,year:t.getFullYear()})}},calendar(){let e=this.month,t=this.currentMonthDate.getFullYear(),s=new Date(t,e-1,1),l=this.$dateUtil.prevMonth(s).getMonth()+1,c=this.$dateUtil.prevMonth(s).getFullYear(),d=new Date(c,e-1,0).getDate(),m=s.getDay(),n=[];for(let ee=0;ee<6;ee++)n[ee]=[];let w=d-m+this.locale.firstDay+1;w>d&&(w-=7),m===this.locale.firstDay&&(w=d-6);let $=new Date(c,l-1,w,12,0,0);for(let ee=0,z=0,Y=0;ee<6*7;ee++,z++,$.setDate($.getDate()+1))ee>0&&z%7===0&&(z=0,Y++),n[Y][z]=new Date($.getTime());return n},months(){let e=this.locale.monthNames.map((t,s)=>({label:t,value:s}));if(this.maxDate&&this.minDate){let t=this.maxDate.getFullYear()-this.minDate.getFullYear();if(t<2){let s=[];if(t<1)for(let l=this.minDate.getMonth();l<=this.maxDate.getMonth();l++)s.push(l);else{for(let l=0;l<=this.maxDate.getMonth();l++)s.push(l);for(let l=this.minDate.getMonth();l<12;l++)s.push(l)}if(s.length>0)return e.filter(l=>s.find(c=>l.value===c)>-1)}}return e},locale(){return this.$dateUtil.localeData(this.localeData)}},watch:{monthDate(e){this.currentMonthDate.getTime()!==e.getTime()&&this.changeMonthDate(e,!1)}}},ZA=e=>(jf("data-v-66e2a2e7"),e=e(),Uf(),e),cV={class:"table-condensed"},hV=ZA(()=>at("span",null,null,-1)),dV=[hV],uV=["colspan"],pV={class:"row mx-1"},fV=["value"],mV=["colspan"],gV=ZA(()=>at("span",null,null,-1)),_V=[gV],yV={key:0,class:"week"},vV={key:0,class:"week"},xV=["onClick","onMouseover"];function bV(e,t,s,l,c,d){return Mi(),Pi("table",cV,[at("thead",null,[at("tr",null,[at("th",{class:"prev available",onClick:t[0]||(t[0]=(...m)=>d.prevMonthClick&&d.prevMonthClick(...m)),tabindex:"0"},dV),s.showDropdowns?(Mi(),Pi("th",{key:0,colspan:s.showWeekNumbers?6:5,class:"month"},[at("div",pV,[La(at("select",{"onUpdate:modelValue":t[1]||(t[1]=m=>d.month=m),class:"monthselect col"},[(Mi(!0),Pi(Ts,null,Fo(d.months,m=>(Mi(),Pi("option",{key:m.value,value:m.value+1},hn(m.label),9,fV))),128))],512),[[Hd,d.month]]),La(at("input",{ref:"yearSelect",type:"number","onUpdate:modelValue":t[2]||(t[2]=m=>d.year=m),onBlur:t[3]||(t[3]=(...m)=>d.checkYear&&d.checkYear(...m)),class:"yearselect col"},null,544),[[eu,d.year]])])],8,uV)):(Mi(),Pi("th",{key:1,colspan:s.showWeekNumbers?6:5,class:"month"},hn(d.monthName)+" "+hn(d.year),9,mV)),at("th",{class:"next available",onClick:t[4]||(t[4]=(...m)=>d.nextMonthClick&&d.nextMonthClick(...m)),tabindex:"0"},_V)])]),at("tbody",null,[at("tr",null,[s.showWeekNumbers?(Mi(),Pi("th",yV,hn(d.locale.weekLabel),1)):Wn("",!0),(Mi(!0),Pi(Ts,null,Fo(d.locale.daysOfWeek,m=>(Mi(),Pi("th",{key:m},hn(m),1))),128))]),(Mi(!0),Pi(Ts,null,Fo(d.calendar,(m,n)=>(Mi(),Pi("tr",{key:n},[s.showWeekNumbers&&(n%7||n===0)?(Mi(),Pi("td",vV,hn(e.$dateUtil.weekNumber(m[0])),1)):Wn("",!0),(Mi(!0),Pi(Ts,null,Fo(m,(w,$)=>(Mi(),Pi("td",{class:Dr(d.dayClass(w)),onClick:ee=>e.$emit("dateClick",w),onMouseover:ee=>e.$emit("hoverDate",w),key:$},[fh(e.$slots,"date-slot",{date:w},()=>[Ro(hn(w.getDate()),1)],!0)],42,xV))),128))]))),128))])])}const wV=zs(lV,[["render",bV],["__scopeId","data-v-66e2a2e7"]]),TV={props:{miniuteIncrement:{type:Number,default:5},hour24:{type:Boolean,default:!0},secondPicker:{type:Boolean,default:!1},currentTime:{default(){return new Date}},readonly:{type:Boolean,default:!1}},data(){let e=this.currentTime?this.currentTime:new Date,t=e.getHours();return{hour:this.hour24?t:t%12||12,minute:e.getMinutes()-e.getMinutes()%this.miniuteIncrement,second:e.getSeconds(),ampm:t<12?"AM":"PM"}},computed:{hours(){let e=[],t=this.hour24?24:12;for(let s=0;s<t;s++)e.push(this.hour24?s:s+1);return e},minutes(){let e=[],t=60;for(let s=0;s<t;s=s+this.miniuteIncrement)e.push(s);return e}},watch:{hour(){this.onChange()},minute(){this.onChange()},second(){this.onChange()},ampm(){this.onChange()}},methods:{formatNumber:e=>e<10?"0"+e.toString():e.toString(),getHour(){return this.hour24?this.hour:this.hour===12?this.ampm==="AM"?0:12:this.hour+(this.ampm==="PM"?12:0)},onChange(){this.$emit("update",{hours:this.getHour(),minutes:this.minute,seconds:this.second})}}},SV={class:"calendar-time"},EV=["disabled"],CV=["value"],MV=["disabled"],AV=["value"],kV=["disabled"],PV=["value"],DV=["disabled"],IV=at("option",{value:"AM"},"AM",-1),LV=at("option",{value:"PM"},"PM",-1),OV=[IV,LV];function RV(e,t,s,l,c,d){return Mi(),Pi("div",SV,[La(at("select",{"onUpdate:modelValue":t[0]||(t[0]=m=>c.hour=m),class:"hourselect form-control mr-1",disabled:s.readonly},[(Mi(!0),Pi(Ts,null,Fo(d.hours,m=>(Mi(),Pi("option",{key:m,value:m},hn(d.formatNumber(m)),9,CV))),128))],8,EV),[[Hd,c.hour]]),Ro(" :"),La(at("select",{"onUpdate:modelValue":t[1]||(t[1]=m=>c.minute=m),class:"minuteselect form-control ml-1",disabled:s.readonly},[(Mi(!0),Pi(Ts,null,Fo(d.minutes,m=>(Mi(),Pi("option",{key:m,value:m},hn(d.formatNumber(m)),9,AV))),128))],8,MV),[[Hd,c.minute]]),s.secondPicker?(Mi(),Pi(Ts,{key:0},[Ro(" :"),La(at("select",{"onUpdate:modelValue":t[2]||(t[2]=m=>c.second=m),class:"secondselect form-control ml-1",disabled:s.readonly},[(Mi(),Pi(Ts,null,Fo(60,m=>at("option",{key:m-1,value:m-1},hn(d.formatNumber(m-1)),9,PV)),64))],8,kV),[[Hd,c.second]])],64)):Wn("",!0),s.hour24?Wn("",!0):La((Mi(),Pi("select",{key:1,"onUpdate:modelValue":t[3]||(t[3]=m=>c.ampm=m),class:"ampmselect",disabled:s.readonly},OV,8,DV)),[[Hd,c.ampm]])])}const BV=zs(TV,[["render",RV]]),zV={mixins:[NT],props:{ranges:Object,selected:Object,localeData:Object,alwaysShowCalendars:Boolean},data(){return{customRangeActive:!1}},methods:{clickRange(e){this.customRangeActive=!1,this.$emit("clickRange",e)},clickCustomRange(){this.customRangeActive=!0,this.$emit("showCustomRange")},range_class(e){return{active:e.selected===!0}}},computed:{listedRanges(){return this.ranges?Object.keys(this.ranges).map(e=>({label:e,value:this.ranges[e],selected:this.$dateUtil.isSame(this.selected.startDate,this.ranges[e][0])&&this.$dateUtil.isSame(this.selected.endDate,this.ranges[e][1])})):!1},selectedRange(){return this.listedRanges.find(e=>e.selected===!0)},showCustomRangeLabel(){return!this.alwaysShowCalendars}}},FV={class:"ranges"},NV={key:0},jV=["onClick","data-range-key"];function UV(e,t,s,l,c,d){return Mi(),Pi("div",FV,[s.ranges?(Mi(),Pi("ul",NV,[(Mi(!0),Pi(Ts,null,Fo(d.listedRanges,m=>(Mi(),Pi("li",{onClick:n=>d.clickRange(m.value),"data-range-key":m.label,key:m.label,class:Dr(d.range_class(m)),tabindex:"0"},hn(m.label),11,jV))),128)),d.showCustomRangeLabel?(Mi(),Pi("li",{key:0,class:Dr({active:c.customRangeActive||!d.selectedRange}),onClick:t[0]||(t[0]=(...m)=>d.clickCustomRange&&d.clickCustomRange(...m)),tabindex:"0"},hn(s.localeData.customRangeLabel),3)):Wn("",!0)])):Wn("",!0)])}const GV=zs(zV,[["render",UV]]),VV={mounted(e,{instance:t}){if(t.appendToBody){const{height:s,top:l,left:c,width:d,right:m}=t.$refs.toggle.getBoundingClientRect();e.unbindPosition=t.calculatePosition(e,t,{width:d,top:window.scrollY+l+s,left:window.scrollX+c,right:m}),document.body.appendChild(e)}else t.$el.appendChild(e)},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},$V={inheritAttrs:!1,components:{Calendar:wV,CalendarTime:BV,CalendarRanges:GV},mixins:[NT],directives:{appendToBody:VV},emits:["update:modelValue","toggle","hoverDate","startSelection","select","change-month","finishSelection"],props:{modelValue:{type:Object},minDate:{type:[String,Date],default(){return null}},maxDate:{type:[String,Date],default(){return null}},showWeekNumbers:{type:Boolean,default:!1},linkedCalendars:{type:Boolean,default:!0},singleDatePicker:{type:[Boolean,String],default:!1},showDropdowns:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},timePickerIncrement:{type:Number,default:5},timePicker24Hour:{type:Boolean,default:!0},timePickerSeconds:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},localeData:{type:Object,default(){return{}}},dateRange:{type:[Object],default:null,required:!0},ranges:{type:[Object,Boolean],default(){let e=new Date;e.setHours(0,0,0,0);let t=new Date;t.setHours(11,59,59,999);let s=new Date;s.setDate(e.getDate()-1),s.setHours(0,0,0,0);let l=new Date;l.setDate(e.getDate()-1),l.setHours(11,59,59,999);let c=new Date(e.getFullYear(),e.getMonth(),1),d=new Date(e.getFullYear(),e.getMonth()+1,0,11,59,59,999);return{Today:[e,t],Yesterday:[s,l],"This month":[c,d],"This year":[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31,11,59,59,999)],"Last month":[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0,11,59,59,999)]}}},opens:{type:String,default:"center"},dateFormat:Function,alwaysShowCalendars:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},controlContainerClass:{type:[Object,String],default:"form-control reportrange-text"},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:s,top:l,left:c,right:d}){t.opens==="center"?e.style.left=c+s/2+"px":t.opens==="left"?e.style.right=window.innerWidth-d+"px":t.opens==="right"&&(e.style.left=c+"px"),e.style.top=l+"px"}},closeOnEsc:{type:Boolean,default:!0},readonly:{type:Boolean}},data(){const e=qA;let t={locale:e.localeData({...this.localeData})},s=this.dateRange.startDate||null,l=this.dateRange.endDate||null;if(t.monthDate=s?new Date(s):new Date,t.nextMonthDate=e.nextMonth(t.monthDate),t.start=s?new Date(s):null,this.singleDatePicker&&this.singleDatePicker!=="range"?t.end=t.start:t.end=l?new Date(l):null,t.in_selection=!1,t.open=!1,t.showCustomRangeCalendars=!1,t.locale.firstDay!==0){let c=t.locale.firstDay,d=[...t.locale.daysOfWeek];for(;c>0;)d.push(d.shift()),c--;t.locale.daysOfWeek=d}return t},methods:{dateFormatFn(e,t){let s=new Date(t);s.setHours(0,0,0,0);let l=new Date(this.start);l.setHours(0,0,0,0);let c=new Date(this.end);return c.setHours(0,0,0,0),e["in-range"]=s>=l&&s<=c,this.dateFormat?this.dateFormat(e,t):e},changeLeftMonth(e){let t=new Date(e.year,e.month-1,1);this.monthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.monthDate)>=this.$dateUtil.yearMonth(this.nextMonthDate))&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(t),this.minDate,this.maxDate),(!this.singleDatePicker||this.singleDatePicker==="range")&&this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(this.monthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,0)},changeRightMonth(e){let t=new Date(e.year,e.month-1,1);this.nextMonthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.nextMonthDate)<=this.$dateUtil.yearMonth(this.monthDate))&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(t),this.minDate,this.maxDate),this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(this.nextMonthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,1)},normalizeDatetime(e,t){let s=new Date(e);return this.timePicker&&t&&(s.setHours(t.getHours()),s.setMinutes(t.getMinutes()),s.setSeconds(t.getSeconds()),s.setMilliseconds(t.getMilliseconds())),s},dateClick(e){if(this.readonly)return!1;this.in_selection?(this.in_selection=!1,this.end=this.normalizeDatetime(e,this.end),this.end<this.start&&(this.in_selection=!0,this.start=this.normalizeDatetime(e,this.start),this.$emit("startSelection",this.start)),this.in_selection||(this.$emit("finishSelection",this.end),this.onSelect(),this.autoApply&&this.clickedApply())):(this.start=this.normalizeDatetime(e,this.start),this.end=this.normalizeDatetime(e,this.end),!this.singleDatePicker||this.singleDatePicker==="range"?(this.in_selection=!0,this.$emit("startSelection",this.start)):(this.onSelect(),this.autoApply&&this.clickedApply()))},hoverDate(e){if(this.readonly)return!1;let t=this.normalizeDatetime(e,this.end);this.in_selection&&t>=this.start&&(this.end=t),this.$emit("hoverDate",e)},onClickPicker(){this.disabled||this.togglePicker(null,!0)},togglePicker(e,t){typeof e=="boolean"?this.open=e:this.open=!this.open,t===!0&&this.$emit("toggle",this.open,this.togglePicker)},clickedApply(){this.togglePicker(!1,!0),this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},clickCancel(){if(this.open){let e=this.dateRange.startDate,t=this.dateRange.endDate;this.start=e?new Date(e):null,this.end=t?new Date(t):null,this.in_selection=!1,this.togglePicker(!1,!0)}},onSelect(){this.$emit("select",{startDate:this.start,endDate:this.end})},clickAway(e){e&&e.target&&!this.$el.contains(e.target)&&this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&this.clickCancel()},clickRange(e){this.in_selection=!1,this.$dateUtil.isValidDate(e[0])&&this.$dateUtil.isValidDate(e[1])?(this.start=this.$dateUtil.validateDateRange(new Date(e[0]),this.minDate,this.maxDate),this.end=this.$dateUtil.validateDateRange(new Date(e[1]),this.minDate,this.maxDate),this.changeLeftMonth({month:this.start.getMonth()+1,year:this.start.getFullYear()}),this.linkedCalendars===!1&&this.changeRightMonth({month:this.end.getMonth()+1,year:this.end.getFullYear()})):(this.start=null,this.end=null),this.onSelect(),this.autoApply&&this.clickedApply()},onUpdateStartTime(e){let t=new Date(this.start);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.start=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},onUpdateEndTime(e){let t=new Date(this.end);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.end=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.end})},handleEscape(e){this.open&&e.keyCode===27&&this.closeOnEsc&&this.clickCancel()}},computed:{showRanges(){return this.ranges!==!1&&!this.readonly},showCalendars(){return this.alwaysShowCalendars||this.showCustomRangeCalendars},startText(){return this.start===null?"":this.$dateUtil.format(this.start,this.locale.format)},endText(){return this.end===null?"":this.$dateUtil.format(this.end,this.locale.format)},rangeText(){let e=this.startText;return(!this.singleDatePicker||this.singleDatePicker==="range")&&(e+=this.locale.separator+this.endText),e},min(){return this.minDate?new Date(this.minDate):null},max(){return this.maxDate?new Date(this.maxDate):null},pickerStyles(){return{"show-calendar":this.open||this.opens==="inline","show-ranges":this.showRanges,"show-weeknumbers":this.showWeekNumbers,single:this.singleDatePicker,["opens"+this.opens]:!0,linked:this.linkedCalendars,"hide-calendars":!this.showCalendars}},isClear(){return!this.dateRange.startDate||!this.dateRange.endDate},isDirty(){let e=new Date(this.dateRange.startDate),t=new Date(this.dateRange.endDate);return!this.isClear&&(this.start.getTime()!==e.getTime()||this.end.getTime()!==t.getTime())}},watch:{minDate(){let e=this.$dateUtil.validateDateRange(this.monthDate,this.minDate||new Date,this.maxDate);this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},maxDate(){let e=this.$dateUtil.validateDateRange(this.nextMonthDate,this.minDate,this.maxDate||new Date);this.changeRightMonth({year:e.getFullYear(),month:e.getMonth()+1})},"dateRange.startDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.start=e&&!this.isClear&&this.$dateUtil.isValidDate(new Date(e))?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},"dateRange.endDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.end=e&&!this.isClear?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},open:{handler(e){typeof document=="object"&&this.$nextTick(()=>{e?document.body.addEventListener("click",this.clickAway):document.body.removeEventListener("click",this.clickAway),e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape),!this.alwaysShowCalendars&&this.ranges&&(this.showCustomRangeCalendars=!Object.keys(this.ranges).find(t=>this.$dateUtil.isSame(this.start,this.ranges[t][0],"date")&&this.$dateUtil.isSame(this.end,this.ranges[t][1],"date")))})},immediate:!0}}},KA=e=>(jf("data-v-577c3804"),e=e(),Uf(),e),HV=KA(()=>at("i",{class:"glyphicon glyphicon-calendar fa fa-calendar"},null,-1)),WV=KA(()=>at("b",{class:"caret"},null,-1)),XV={class:"calendars"},YV={key:1,class:"calendars-container"},qV={class:"calendar-table"},ZV={key:0,class:"drp-calendar col right"},KV={class:"calendar-table"},JV={key:0,class:"drp-buttons"},QV={key:0,class:"drp-selected"},e$=["disabled"];function t$(e,t,s,l,c,d){const m=ts("calendar-ranges"),n=ts("calendar"),w=ts("calendar-time"),$=rx("append-to-body");return Mi(),Pi("div",{class:Dr(["vue-daterange-picker",{inline:s.opens==="inline"}])},[at("div",{class:Dr(s.controlContainerClass),onClick:t[0]||(t[0]=(...ee)=>d.onClickPicker&&d.onClickPicker(...ee)),ref:"toggle"},[fh(e.$slots,"input",{startDate:e.start,endDate:e.end,ranges:s.ranges,rangeText:d.rangeText},()=>[HV,Ro("  "),at("span",null,hn(d.rangeText),1),WV],!0)],2),Yi(W1,{name:"slide-fade",mode:"out-in"},{default:Ur(()=>[e.open||s.opens==="inline"?La((Mi(),Pi("div",{key:0,class:Dr(["daterangepicker ltr",d.pickerStyles]),ref:"dropdown"},[fh(e.$slots,"header",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:s.autoApply},void 0,!0),at("div",XV,[d.showRanges?fh(e.$slots,"ranges",{key:0,startDate:e.start,endDate:e.end,ranges:s.ranges,clickRange:d.clickRange},()=>[Yi(m,{onClickRange:d.clickRange,onShowCustomRange:t[1]||(t[1]=ee=>e.showCustomRangeCalendars=!0),"always-show-calendars":s.alwaysShowCalendars,"locale-data":e.locale,ranges:s.ranges,selected:{startDate:e.start,endDate:e.end}},null,8,["onClickRange","always-show-calendars","locale-data","ranges","selected"])],!0):Wn("",!0),d.showCalendars?(Mi(),Pi("div",YV,[at("div",{class:Dr(["drp-calendar col left",{single:s.singleDatePicker}])},[Wn("",!0),at("div",qV,[Yi(n,{monthDate:e.monthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":s.showDropdowns,onChangeMonth:d.changeLeftMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:s.showWeekNumbers},{default:Ur(()=>[fh(e.$slots,"date",sv(A1(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),s.timePicker&&e.start?(Mi(),Hc(w,{key:1,onUpdate:d.onUpdateStartTime,"miniute-increment":s.timePickerIncrement,hour24:s.timePicker24Hour,"second-picker":s.timePickerSeconds,"current-time":e.start,readonly:s.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):Wn("",!0)],2),s.singleDatePicker?Wn("",!0):(Mi(),Pi("div",ZV,[Wn("",!0),at("div",KV,[Yi(n,{monthDate:e.nextMonthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":s.showDropdowns,onChangeMonth:d.changeRightMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:s.showWeekNumbers},{default:Ur(()=>[fh(e.$slots,"date",sv(A1(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),s.timePicker&&e.end?(Mi(),Hc(w,{key:1,onUpdate:d.onUpdateEndTime,"miniute-increment":s.timePickerIncrement,hour24:s.timePicker24Hour,"second-picker":s.timePickerSeconds,"current-time":e.end,readonly:s.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):Wn("",!0)]))])):Wn("",!0)]),fh(e.$slots,"footer",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:s.autoApply},()=>[s.autoApply?Wn("",!0):(Mi(),Pi("div",JV,[d.showCalendars?(Mi(),Pi("span",QV,hn(d.rangeText),1)):Wn("",!0),s.readonly?Wn("",!0):(Mi(),Pi("button",{key:1,class:"cancelBtn btn btn-sm btn-secondary",type:"button",onClick:t[2]||(t[2]=(...ee)=>d.clickCancel&&d.clickCancel(...ee))},hn(e.locale.cancelLabel),1)),s.readonly?Wn("",!0):(Mi(),Pi("button",{key:2,class:"applyBtn btn btn-sm btn-success",disabled:e.in_selection,type:"button",onClick:t[3]||(t[3]=(...ee)=>d.clickedApply&&d.clickedApply(...ee))},hn(e.locale.applyLabel),9,e$))]))],!0)],2)),[[$]]):Wn("",!0)]),_:3})],2)}const i$=zs($V,[["render",t$],["__scopeId","data-v-577c3804"]]),n$={name:"DateRange",components:{DateRangePicker:i$},data(){return{dateRange:{startDate:new Date,endDate:new Date},locale:{direction:"ltr",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:tn.weekdaysMin(),monthNames:tn.monthsShort(),firstDay:1}}},methods:{updatePicker(e){this.$emit("selected",e)}}};function s$(e,t,s,l,c,d){const m=ts("date-range-picker");return Mi(),Hc(m,{ref:"picker",modelValue:c.dateRange,"onUpdate:modelValue":t[0]||(t[0]=n=>c.dateRange=n),dateRange:c.dateRange,"locale-data":c.locale,timePicker:"",timePicker24Hour:"",onUpdate:d.updatePicker,onSelect:d.updatePicker},{input:Ur(n=>[Ro(hn(e.$filters.dateformat(n.startDate))+" - "+hn(e.$filters.dateformat(n.endDate)),1)]),_:1},8,["modelValue","dateRange","locale-data","onUpdate","onSelect"])}const r$=zs(n$,[["render",s$]]);var Jw={},o$={get exports(){return Jw},set exports(e){Jw=e}};(function(e,t){(function(s,l){e.exports=l()})(wo,function(){var s="__v-click-outside",l=typeof window<"u",c=typeof navigator<"u",d=l&&("ontouchstart"in window||c&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],m=function(ee){var z=ee.event,Y=ee.handler;(0,ee.middleware)(z)&&Y(z)},n=function(ee,z){var Y=function(E){var P=typeof E=="function";if(!P&&typeof E!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:P?E:E.handler,middleware:E.middleware||function(G){return G},events:E.events||d,isActive:E.isActive!==!1,detectIframe:E.detectIframe!==!1,capture:Boolean(E.capture)}}(z.value),Q=Y.handler,I=Y.middleware,O=Y.detectIframe,H=Y.capture;if(Y.isActive){if(ee[s]=Y.events.map(function(E){return{event:E,srcTarget:document.documentElement,handler:function(P){return function(G){var V=G.el,C=G.event,ne=G.handler,te=G.middleware,F=C.path||C.composedPath&&C.composedPath();(F?F.indexOf(V)<0:!V.contains(C.target))&&m({event:C,handler:ne,middleware:te})}({el:ee,event:P,handler:Q,middleware:I})},capture:H}}),O){var A={event:"blur",srcTarget:window,handler:function(E){return function(P){var G=P.el,V=P.event,C=P.handler,ne=P.middleware;setTimeout(function(){var te=document.activeElement;te&&te.tagName==="IFRAME"&&!G.contains(te)&&m({event:V,handler:C,middleware:ne})},0)}({el:ee,event:E,handler:Q,middleware:I})},capture:H};ee[s]=[].concat(ee[s],[A])}ee[s].forEach(function(E){var P=E.event,G=E.srcTarget,V=E.handler;return setTimeout(function(){ee[s]&&G.addEventListener(P,V,H)},0)})}},w=function(ee){(ee[s]||[]).forEach(function(z){return z.srcTarget.removeEventListener(z.event,z.handler,z.capture)}),delete ee[s]},$=l?{beforeMount:n,updated:function(ee,z){var Y=z.value,Q=z.oldValue;JSON.stringify(Y)!==JSON.stringify(Q)&&(w(ee),n(ee,{value:Y}))},unmounted:w}:{};return{install:function(ee){ee.directive("click-outside",$)},directive:$}})})(o$);const a$=Jw,l$={props:{options:Array,type:{type:String,default:"select"},default:{type:Array,default:()=>[]}},data(){return{show:!1,selected:this.default}},methods:{showDropdown(){this.show=!this.show},hide(){this.show=!1},groupBy(e,t){return e.reduce((s,l,c)=>{var d;return(s[d=t(l,c,e)]||(s[d]=[])).push(l),s},{})}},computed:{groups(){return this.options[0].hasOwnProperty("group")?this.groupBy(this.options,e=>e.group):this.options}},watch:{selected(e){this.$emit("checked",e)}},directives:{clickOutside:a$.directive}},c$={class:"dd"},h$={id:"list1",class:"dropdown-check-list",tabindex:"100"},d$=bh('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-adjustments-horizontal" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 6l8 0"></path><path d="M16 6l4 0"></path><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 12l2 0"></path><path d="M10 12l10 0"></path><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 18l11 0"></path><path d="M19 18l1 0"></path></svg>',1),u$=[d$],p$={key:2,class:"items"},f$={key:0},m$=["id","value"],g$=["for"],_$={key:1},y$=["id","value"],v$=["for"];function x$(e,t,s,l,c,d){const m=rx("click-outside");return La((Mi(),Pi("div",c$,[at("div",h$,[s.type=="select"?(Mi(),Pi("span",{key:0,class:"anchor form-control",onClick:t[0]||(t[0]=(...n)=>d.showDropdown&&d.showDropdown(...n))}," Select Parameter ")):Wn("",!0),s.type=="icon"?(Mi(),Pi("span",{key:1,class:"icon",onClick:t[1]||(t[1]=(...n)=>d.showDropdown&&d.showDropdown(...n))},u$)):Wn("",!0),c.show?(Mi(),Pi("ul",p$,[(Mi(!0),Pi(Ts,null,Fo(d.groups,(n,w)=>(Mi(),Pi("li",{key:w},[Array.isArray(n)?(Mi(),Pi("div",f$,[at("span",null,hn(w),1),(Mi(!0),Pi(Ts,null,Fo(n,($,ee)=>(Mi(),Pi("div",{key:ee},[La(at("input",{type:"checkbox",id:ee,value:$,"onUpdate:modelValue":t[2]||(t[2]=z=>c.selected=z)},null,8,m$),[[mm,c.selected]]),at("label",{for:ee},hn($.text),9,g$)]))),128))])):Wn("",!0),Array.isArray(n)?Wn("",!0):(Mi(),Pi("div",_$,[La(at("input",{type:"checkbox",id:w,value:n,"onUpdate:modelValue":t[3]||(t[3]=$=>c.selected=$)},null,8,y$),[[mm,c.selected]]),at("label",{for:w},hn(n.text),9,v$)]))]))),128))])):Wn("",!0)])])),[[m,d.hide]])}const b$=zs(l$,[["render",x$]]),w$=["#2f7ed8","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#0d233a"];WA(Nc);const T$={name:"spline",props:{params:Object,fleet:Object,default:Array},components:{Chart:gp.Chart},methods:{async show(){this.$refs.chart.chart.showLoading();let e=[],t=[],s=[];this.items.forEach((c,d)=>{let m=w$[d];t[d]={title:{text:c.text,style:{color:m,fontSize:"12px"}},lineColor:m,labels:{style:{color:m},align:"left",x:14},lineWidth:1,opposite:!0},c.range&&(t[d].min=c.range[0],t[d].max=c.range[1]),e[d]={id:c.data,row:c.data,yAxis:d,type:c.type?c.type:"spline",name:c.text,color:m,lineWidth:1,data:[]},s[d]=c.data}),this.options.series=e,this.options.yAxis=t,this.params.select=s,(await axios.get(`/api/fleet/${this.fleet.id}/nav/trend`,{params:this.params}).then(c=>c.data)).forEach(c=>{let d=c.unix_time;this.options.series.forEach((m,n)=>{let w=c[m.row];this.options.series[n].data.push([d,w])})}),this.$refs.chart.chart.hideLoading()},selected(e){this.items=e,this.show()}},data(){return{items:this.default,options:{chart:{type:"spline"},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function S$(e,t,s,l,c,d){const m=ts("Chart");return Mi(),Hc(m,{ref:"chart",options:c.options,constructorType:"stockChart"},null,8,["options"])}const E$=zs(T$,[["render",S$]]),C$={props:{url:String},components:{FleetSpeedometer:rV,DateRange:r$,TrendNav:E$,DropdownSelect:b$},data(){return{fleet:null,trendParams:{interval:60,date:null},columns:[{data:"sog",text:"Speed (knot)"},{data:"wind_speed",text:"Wind Speed (knot)"},{data:"depth",text:"Deep (m)"}]}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(e=>e.data)},showChart(){this.trendParams.date||alert("please selected date first"),this.$refs.trendNav.show()},selected(e){this.$refs.trendNav.selected(e)}}},M$={key:0},A$={class:"container"},k$={class:"row"},P$={class:"col-12"},D$=at("div",{class:"table-title"},[at("h6",null,"Navigation information")],-1),I$={class:"table table-sm"},L$=at("th",{scope:"row"},"•",-1),O$=at("td",null,"Updated at",-1),R$={class:"text-end"},B$=at("th",{scope:"row"},"•",-1),z$=at("td",null,"Coordinate",-1),F$={class:"text-end"},N$=at("th",{scope:"row"},"•",-1),j$=at("td",null,"Heading",-1),U$={class:"text-end"},G$=at("th",{scope:"row"},"•",-1),V$=at("td",null,"Course / COG",-1),$$={class:"text-end"},H$=at("th",{scope:"row"},"•",-1),W$=at("td",null,"Speed / SOG",-1),X$={class:"text-end"},Y$=at("th",{scope:"row"},"•",-1),q$=at("td",null,"Depth",-1),Z$={class:"text-end"},K$=at("th",{scope:"row"},"•",-1),J$=at("td",null,"Wind Speed",-1),Q$={class:"text-end"},eH=at("th",{scope:"row"},"•",-1),tH=at("td",null,"Wind Direction",-1),iH={class:"text-end"},nH=at("th",{scope:"row"},"•",-1),sH=at("td",null,"Travel Distance",-1),rH={class:"text-end"},oH=at("th",{scope:"row"},"•",-1),aH=at("td",null,"Total Travel Distance",-1),lH={class:"text-end"},cH={class:"col-12"},hH=at("div",{class:"table-title mb-4 mt-2"},[at("h6",null,"Trend View")],-1),dH={class:"row justify-content-end"},uH={class:"col-6"},pH={class:"col-6"},fH={class:"d-flex align-items-center justify-content-end gap-1"},mH=at("option",{value:"30"},"30m",-1),gH=at("option",{value:"60"},"1 H",-1),_H=at("option",{value:"1440"},"1 D",-1),yH=[mH,gH,_H];function vH(e,t,s,l,c,d){const m=ts("fleet-speedometer"),n=ts("dropdown-select"),w=ts("date-range"),$=ts("trend-nav");return c.fleet?(Mi(),Pi("div",M$,[Yi(m,{fleet:c.fleet},null,8,["fleet"]),at("div",A$,[at("div",k$,[at("div",P$,[D$,at("table",I$,[at("tbody",null,[at("tr",null,[L$,O$,at("td",R$,hn(c.fleet.last_connection),1)]),at("tr",null,[B$,z$,at("td",F$,hn(c.fleet.navigation.lat.toFixed(5))+" "+hn(c.fleet.navigation.lat_dir)+", "+hn(c.fleet.navigation.lng.toFixed(5))+" "+hn(c.fleet.navigation.lng_dir),1)]),at("tr",null,[N$,j$,at("td",U$,hn(c.fleet.navigation.heading)+" °",1)]),at("tr",null,[G$,V$,at("td",$$,hn(c.fleet.navigation.cog)+" °",1)]),at("tr",null,[H$,W$,at("td",X$,hn(c.fleet.navigation.sog)+" knot",1)]),at("tr",null,[Y$,q$,at("td",Z$,hn(c.fleet.navigation.depth)+" meter",1)]),at("tr",null,[K$,J$,at("td",Q$,hn(c.fleet.navigation.wind_speed)+" knot",1)]),at("tr",null,[eH,tH,at("td",iH,hn(c.fleet.navigation.wind_direction)+" °",1)]),at("tr",null,[nH,sH,at("td",rH,hn(c.fleet.navigation.distance)+" NM",1)]),at("tr",null,[oH,aH,at("td",lH,hn(c.fleet.navigation.total_distance)+" NM",1)])])])]),at("div",cH,[hH,at("div",dH,[at("div",uH,[Yi(n,{options:c.columns,onChecked:d.selected,default:c.columns},null,8,["options","onChecked","default"])]),at("div",pH,[at("div",fH,[Yi(w,{onSelected:t[0]||(t[0]=ee=>c.trendParams.date=ee)}),La(at("select",{class:"form-control w-5 bordered","onUpdate:modelValue":t[1]||(t[1]=ee=>c.trendParams.interval=ee)},yH,512),[[Hd,c.trendParams.interval]]),at("button",{onClick:t[2]||(t[2]=(...ee)=>d.showChart&&d.showChart(...ee)),class:"btn btn-primary"},"SHOW")])])]),Yi($,{fleet:c.fleet,params:c.trendParams,ref:"trendNav",default:c.columns},null,8,["fleet","params","default"])])])])])):Wn("",!0)}const xH=zs(C$,[["render",vH]]),bH={props:{min:Number,max:Number,value:Number,normal:Number,danger:Number},data(){return{}},computed:{percentage(){return this.value/this.max*100},color(){let e="bg-success",t=this.value/this.max*100;return t>this.normal&&t<this.danger?e="bg-warning":t>this.danger&&(e="bg-danger"),e}}},wH={class:"progress"};function TH(e,t,s,l,c,d){return Mi(),Pi("div",wH,[at("div",{class:Dr(["progress-bar",d.color]),style:nu({width:`${d.percentage}%`}),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,6)])}const SH=zs(bH,[["render",TH]]),EH={components:{"progress-bar":SH},props:{fleet:Object,display:Boolean},data(){return{}},methods:{toggleText(){this.display=!this.display}}},CH={class:"voyage-section"},MH={key:0,class:"card voyage-card"},AH={class:"card-header justify-content-between"},kH=["src"],PH=at("h5",{class:"fw-normal m-0"},"Fleet Information",-1),DH={class:"card-body"},IH=at("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[at("li",{class:"nav-item",role:"presentation"},[at("button",{class:"nav-link justify-content-left active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),LH={class:"tab-content",id:"pills-tabContent"},OH={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},RH={class:"m12"},BH=at("div",{class:"st21"},"Name",-1),zH={class:"st22"},FH=["href"],NH=at("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),jH={class:"m12"},UH=at("div",{class:"st21"},"IMO Number",-1),GH={class:"st22"},VH={class:"m12"},$H=at("div",{class:"st21"},"Last Update",-1),HH={class:"st22"},WH={class:"m12"},XH=at("div",{class:"st21"},"Last Coordinates",-1),YH={class:"st22"},qH=["href"],ZH=at("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),KH={key:0,class:"m12"},JH=at("div",{class:"st21"},"At Port",-1),QH={class:"st22"},eW=bh('<div class="m12"><div class="st21">Origin</div><div class="st22"></div></div><div class="m12"><div class="st21">Destination</div><div class="st22"></div></div><div class="m12"><div class="st21">ETA</div><div class="st22"></div></div><br>',4),tW=at("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[at("li",{class:"nav-item",role:"presentation"},[at("button",{class:"nav-link justify-content-left active",id:"pills-main-engine-tab","data-bs-toggle":"pill","data-bs-target":"#pills-main-engine",type:"button",role:"tab","aria-controls":"pills-main-engine","aria-selected":"true"},"Main Engine")]),at("li",{class:"nav-item",role:"presentation"},[at("button",{class:"nav-link justify-content-center",id:"pills-pump-tab","data-bs-toggle":"pill","data-bs-target":"#pills-pump",type:"button",role:"tab","aria-controls":"pills-pump","aria-selected":"false"},"Pump Status")])],-1),iW={class:"tab-content",id:"pills-tabContent"},nW={class:"tab-pane fade show active",id:"pills-main-engine",role:"tabpanel","aria-labelledby":"pills-main-engine-tab"},sW=at("div",{class:"tt01"},"Main Engine Latest Status",-1),rW={class:"st21"},oW={key:0},aW=["innerHTML"],lW={key:1},cW={class:"st22"},hW={class:"tab-pane",id:"pills-pump",role:"tabpanel","aria-labelledby":"pills-pump-tab"},dW=at("div",{class:"tt01"},"Cargo/Ballast/Stripping/Vacuum Pump",-1),uW={class:"st21"},pW={key:0},fW=["innerHTML"],mW={key:1},gW={class:"st22"};function _W(e,t,s,l,c,d){const m=ts("progress-bar");return Mi(),Pi("div",CH,[s.display?(Mi(),Pi("div",MH,[at("div",AH,[at("button",{onClick:t[0]||(t[0]=n=>e.$emit("close",!0)),class:"btn btn-link bg-transparent p-0"},[at("img",{src:"/img/icons/close-fill.png",alt:""},null,8,kH)]),PH]),at("div",DH,[IH,at("div",LH,[at("div",OH,[at("div",RH,[BH,at("div",zH,[at("a",{href:`/fleet/${s.fleet.id}`,class:"d-flex align-items-center"},[Ro(hn(s.fleet.name)+" ",1),NH],8,FH)])]),at("div",jH,[UH,at("div",GH,hn(s.fleet.imo_number),1)]),at("div",VH,[$H,at("div",HH,hn(e.$filters.dateformat(s.fleet.last_connection))+" WIB",1)]),at("div",WH,[XH,at("div",YH,[at("a",{href:`/fleet/${s.fleet.id}/track`,class:"d-flex align-items-center"},[Ro(hn(s.fleet.navigation.lat.toFixed(4))+" "+hn(s.fleet.navigation.lat_dir)+", "+hn(s.fleet.navigation.lng.toFixed(4))+" "+hn(s.fleet.navigation.lng_dir)+" ",1),ZH],8,qH)])]),s.fleet.fleet_status=="at_port"?(Mi(),Pi("div",KH,[JH,at("div",QH,hn(s.fleet.last_port),1)])):Wn("",!0),eW,tW,at("div",iW,[at("div",nW,[sW,(Mi(!0),Pi(Ts,null,Fo(s.fleet.engine_info,(n,w)=>(Mi(),Pi("div",{class:"m13",key:w},[at("div",rW,[Ro(hn(n.title)+" ",1),n.value>0?(Mi(),Pi("span",oW,[Ro(hn(n.value)+" ",1),at("span",{innerHTML:n.unit},null,8,aW)])):Wn("",!0),Ro(),n.value==0?(Mi(),Pi("span",lW,"OFF")):Wn("",!0)]),at("div",cW,[Yi(m,{min:n.min,warning:n.warning,danger:n.danger,max:n.max,value:n.value},null,8,["min","warning","danger","max","value"])])]))),128))]),at("div",hW,[dW,(Mi(!0),Pi(Ts,null,Fo(s.fleet.cargo_pump_info,(n,w)=>(Mi(),Pi("div",{class:"m13",key:w},[at("div",uW,[Ro(hn(n.title)+" ",1),n.value>0?(Mi(),Pi("span",pW,[Ro(hn(n.value)+" ",1),at("span",{innerHTML:n.unit},null,8,fW)])):Wn("",!0),Ro(),n.value==0?(Mi(),Pi("span",mW,"OFF")):Wn("",!0)]),at("div",gW,[Yi(m,{min:n.min,normal:n.normal,danger:n.danger,max:n.max,value:n.value},null,8,["min","normal","danger","max","value"])])]))),128))])])])])])])):Wn("",!0)])}const yW=zs(EH,[["render",_W]]),vW={name:"ChartSvg",props:{path:String,svgData:Object,height:Number},data(){return{scadavis:null,tags:[]}},async mounted(){await this.init(),Object.keys(this.svgData).forEach(e=>{this.setValue(e,this.svgData[e])})},created(){window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},watch:{svgData:function(e,t){let s=this;Object.keys(e).forEach(l=>{s.setValue(l,e[l])})}},methods:{async init(){this.scadavis=await scadavisInit({container:"scada-svg",svgurl:this.path}),this.scadavis.enableTools(!1,!0),this.scadavis.hideWatermark(),this.tags=this.scadavis.getTagsList().split(","),this.tags.forEach(e=>{this.scadavis.setValue(e,0)}),this.resize()},resize(){this.scadavis.zoomToOriginal();let e=this.$refs.cnsvg;this.scadavis.zoomTo(1*(e.clientWidth<e.clientHeight?e.clientWidth/600:e.clientHeight/600))},setValue(e,t){this.scadavis&&this.scadavis.setValue(e,t)}}};function xW(e,t,s,l,c,d){return Mi(),Pi("div",null,[at("div",{id:"scada-svg",class:"scada",ref:"cnsvg",style:nu({height:this.height+"px"})},null,4)])}const Dx=zs(vW,[["render",xW]]),bW={props:{url:String},components:{ChartSvg:Dx},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;e&&(this.data=e)}}},wW={key:0},TW={class:"container"},SW={class:"row"},EW={class:"col-12"};function CW(e,t,s,l,c,d){const m=ts("chart-svg");return c.fleet?(Mi(),Pi("div",wW,[at("div",TW,[at("div",SW,[at("div",EW,[Yi(m,{path:"/svg/cargo_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):Wn("",!0)}const MW=zs(bW,[["render",CW]]),AW={props:{url:String},components:{ChartSvg:Dx},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;e&&(this.data=e,this.data.fleet_name=this.fleet.name)}}},kW={key:0},PW={class:"container"},DW={class:"row"},IW={class:"col-12"};function LW(e,t,s,l,c,d){const m=ts("chart-svg");return c.fleet?(Mi(),Pi("div",kW,[at("div",PW,[at("div",DW,[at("div",IW,[Yi(m,{path:"/svg/bunker_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):Wn("",!0)}const OW=zs(AW,[["render",LW]]),RW={props:{url:String},components:{ChartSvg:Dx},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;e&&(this.data=e,this.data.fleet_name=this.fleet.name)}}},BW={key:0},zW={class:"container"},FW={class:"row"},NW={class:"col-12"};function jW(e,t,s,l,c,d){const m=ts("chart-svg");return c.fleet?(Mi(),Pi("div",BW,[at("div",zW,[at("div",FW,[at("div",NW,[Yi(m,{path:"/svg/water_ballast_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):Wn("",!0)}const UW=zs(RW,[["render",jW]]),GW={props:{url:String},components:{ChartSvg:Dx},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.engine;e&&(this.data=e)}}};function VW(e,t,s,l,c,d){const m=ts("chart-svg");return Mi(),Pi("div",null,[Yi(m,{path:"/svg/engine-2.svg",svgData:c.data,height:550},null,8,["svgData"])])}const $W=zs(GW,[["render",VW]]),sa=W3({});sa.component("map-dashboard",vN);sa.component("map-history",ON);sa.component("map-default",NN);sa.component("map-voyage",cj);sa.component("map-bridge",vj);sa.component("slider-submenu",pG);sa.component("charts-fuel",zG);sa.component("charts-graph",GG);sa.component("charts-spline",WG);sa.component("fleet-information",xH);sa.component("fleet-side-info",yW);sa.component("fleet-cargo",MW);sa.component("fleet-bunker",OW);sa.component("fleet-ballast",UW);sa.component("compass",XA);sa.component("engine-type-s",$W);sa.config.globalProperties.$filters={dateformat(e,t="DD/MM/YYYY HH:mm"){return tn(e,"YYYY-MM-DD HH:mm:ss").format(t)},str_limit(e,t=7){return e.toString().substring(0,t)},textFormat(e){return e.toLowerCase().capitalize()}};sa.mount("#app")});export default HW();
